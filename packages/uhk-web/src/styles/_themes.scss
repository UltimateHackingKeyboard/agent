@import '~bootstrap/scss/functions';
@import '~bootstrap/scss/variables';

$dark-theme: false !default;

@if $dark-theme {
    // Dark theme

    $theme-colors: map-merge(
        $theme-colors, 
        (
            "primary": #3ec9e8,
            "secondary": #999,
        )
    );

    $color-bg: #111;
    $color-bg-light: #222;
    $color-text: #bbb;
    $color-text-highlight: #ddd;
    $color-popover-bg-light: lighten($color-bg-light, 5%);
    $color-popover-border: lighten($color-bg-light, 10%);

    $icon-hover: theme-color("primary");
    $icon-hover-delete: theme-color("danger");
    $tooltip-arrow-color: #ccc;
    $tooltip-border-color: #ccc;

    // Bootstrap variables
    $body-bg: $color-bg;
    $body-color: $color-text;
    $link-color: theme-color("primary");
    $link-hover-color: darken($link-color, 15%);
    $list-group-bg: $color-bg-light;
    $list-group-border-color: #666;
    $input-bg: #222;
    $input-color: $color-text;
    $input-focus-bg: #111;
    $input-btn-focus-color: rgba(theme-color("primary"), .25);
    $nav-tabs-link-hover-border-color: $color-popover-border;
    $nav-tabs-link-active-bg: $color-popover-bg-light;
    $nav-tabs-link-active-color: $color-text;
    $nav-tabs-link-active-border-color: $color-popover-border;
    $alert-bg-level: 9;
    $alert-border-level: 4;
    $alert-color-level: 1;
    $dropdown-color: $color-text;
    $dropdown-bg: $input-bg;
    $dropdown-link-color: $color-text;
    $dropdown-link-hover-color: #333;
    $dropdown-link-hover-bg: #{theme-color("primary")};

    :root,
    .theme-dark {
        --color-sidemenu-bg: #{$color-bg-light};
        --color-sidemenu-border: #333;
        --color-sidemenu-text: #{$color-text};
        --color-sidemenu-active-bg: #444;
        --color-sidemenu-active-text: #{$color-text-highlight};

        --color-keyboard-bg: #555;
        --color-keyboard-text: #999;
        --color-keyboard-key-bg: #f7f7f7;
        --color-keyboard-key-hover: #494949;
        --color-keyboard-key-active: #{theme-color("primary")};

        --color-input-bg: #{$input-bg};
        --color-input-text: #{$input-color};

        --color-tooltip-bg: #{$color-bg-light};
        --color-tooltip-text: #{$color-text};
        --color-tooltip-border: #333;
        --color-tooltip-arrow: #333;

        --color-icon-hover: #{theme-color("primary")};
        --color-icon-hover-delete: #{$icon-hover-delete};
        --color-icon-capture-keystroke: #{theme-color("danger")};

        --color-slider-base-bg: #555;
        --color-slider-handle-bg: #888;

        --color-popover-bg: #{$color-bg-light};
        --color-popover-bg-light: #{$color-popover-bg-light};
        --color-popover-border: #{$color-popover-border};
        --color-popover-tab-hover: #{darken($color-popover-bg-light, 8%)};
        
        --color-progress-bar-bg: #{darken(theme-color("primary"), 40%)};
        --color-progress-bar-progress: #{darken(theme-color("primary"), 20%)};
        --color-progress-bar-text: #{$color-text};
        
        --color-macro-bg: #{$color-bg-light};
        --color-macro-border: #ebebeb;

        --color-select-active-bg: #{darken(theme-color('primary'), 40%)};
        --color-select-active-text: #{$white};
    }
} @else {
    // Light aka default theme
    // Use default theme controls

    $color-bg: color("white");
    $color-bg-light: #f7f7f7;
    $color-text: color("black");
    $color-text-highlight: #333;

    $icon-hover: theme-color("primary");
    $icon-hover-delete: theme-color("danger");
    $tooltip-arrow-color: #ccc;
    $tooltip-border-color: #ccc;

    // Bootstrap variables
    $body-bg: $color-bg;
    $body-color: $color-text;
    $link-color: theme-color("primary");
    $link-hover-color: darken($link-color, 15%);

    :root,
    .theme-light {
        --color-sidemenu-bg: #f5f5f5;
        --color-sidemenu-border: #ccc;
        --color-sidemenu-text: #333;
        --color-sidemenu-active-bg: rgba(0, 0, 0, 0.18);
        --color-sidemenu-active-text: #{$color-text-highlight};
        --color-sidemenu-star: #666;

        --color-keyboard-bg:#{$color-bg-light};
        --color-keyboard-text: #333;
        --color-keyboard-key-bg: #{$color-bg-light};
        --color-keyboard-key-hover: #{theme-color("secondary")};
        --color-keyboard-key-active: #{theme-color("primary")};

        --color-tooltip-bg: #{$tooltip-bg};
        --color-tooltip-text: #{$tooltip-color};
        --color-tooltip-border: #ccc;
        --color-tooltip-arrow: #{$tooltip-arrow-color};

        --color-icon-hover: #{$icon-hover};
        --color-icon-hover-delete: #{$icon-hover-delete};
        --color-icon-capture-keystroke: #{theme-color("danger")};

        --color-slider-base-bg: #{color("white")};
        --color-slider-handle-bg: #{color("white")};

        --color-popover-bg: #{$color-bg-light};
        --color-popover-bg-light: #{color("white")};
        --color-popover-border: #ebebeb;
        --color-popover-tab-hover: #{darken($color-bg-light, 5%)};

        --color-progress-bar-bg: #{#d3e4f2};
        --color-progress-bar-progress: #{lighten(theme-color("primary"), 20%)};
        --color-progress-bar-text: #{$color-text};

        --color-macro-bg: #{$color-bg-light};
        --color-macro-border: #ebebeb;
    }
}