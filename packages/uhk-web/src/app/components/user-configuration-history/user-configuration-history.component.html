<div class="panel panel-default">
    <div class="panel-heading">
        <h4 class="panel-title">
            Configuration history
        </h4>
    </div>

    <div class="panel-body">
        <div *ngIf="state.loading">
            Loading...
        </div>

        <div *ngIf="!state.loading && !state.files.length">
            No configurations were saved yet.
        </div>

        <ul class="list-unstyled mb-0"
            *ngIf="!state.loading && state.files.length">
            <li *ngFor="let fileInfo of state.files; trackBy:trackByFn"
                class="history-list-item">
                <span class="btn btn-link btn-padding-0 current">
                    {{ fileInfo.file | userConfigHistory }}
                </span>

                <span class="btn btn-link btn-padding-0"
                      *ngIf="fileInfo.showRestore"
                      mwlConfirmationPopover
                      popoverTitle="Are you sure want to load this configuration?"
                      placement="bottom"
                      confirmText="Yes"
                      cancelText="No"
                      (confirm)="getUserConfigFromHistory.emit(fileInfo.file)"
                      [class.disabled]="state.disabled">
                            Restore
                </span>

                <span class="btn btn-link btn-padding-0 current"
                      *ngIf="!fileInfo.showRestore">
                            Current
                </span>
            </li>
        </ul>
    </div>
</div>
