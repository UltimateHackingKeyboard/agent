<div class="list-group-item action--item" [class.is-editing]="editing">
    <fa-icon *ngIf="movable"
             [icon]="faGripLinesVertical"
             class="action--movable"
             aria-hidden="true"></fa-icon>
    <div class="action--item--wrap" [class.pointer]="editable" (click)="editAction()">
        <icon [name]="iconName" class="align-items-top"></icon>
        <div *ngIf="!isCommand" class="action--title">{{ title }}</div>
        <div *ngIf="isCommand" class="action--title">
            <span class="pr-1">Command:</span>
            <div style="height: 100%; width: 100%">
            <macro-command-editor [ngModel]="macroAction.command"
                                  [ngModelOptions]="{updateOn: 'blur'}"
                                  [fullHeight]="true"
                                  (ngModelChange)="saveMacroCommand($event)"
            ></macro-command-editor>
            </div>
        </div>
        <icon *ngIf="!isCommand && editable && macroAction && !editing" name="pencil" class="align-items-top"></icon>
    </div>
    <icon *ngIf="deletable" name="trash" (click)="deleteAction()" class="align-items-top"></icon>
</div>
<div class="list-group-item macro-action-editor__container"
     [@toggler]="((editable && editing) || newItem) ? 'active' : 'inactive'"
     [style.overflow]="overflow">
    <macro-action-editor
        *ngIf="editable || newItem"
        [macroAction]="macroAction"
        (cancel)="cancelEdit()"
        (save)="saveEditedAction($event)">
    </macro-action-editor>
</div>
