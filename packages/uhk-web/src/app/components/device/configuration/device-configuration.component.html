<h1>
    <fa-icon [icon]="faSlidersH"></fa-icon>
    <span>Device configuration</span>
</h1>

<p>
    The device configuration contains all the keymaps, macros, and settings that are stored on the device.
</p>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-6 pl-0">
            <uhk-progress-bar [state]="configSizesState$ | async"></uhk-progress-bar>
        </div>
    </div>
</div>

<ul class="list-unstyled btn-list device-config-actions">
    <li>
        <button class="btn btn-primary"
                (click)="exportUserConfiguration($event)">Export device configuration
        </button>
    </li>
    <li>
        <file-upload (fileChanged)="changeFile($event)"
                     [disabled]="savingUserConfig"
                     label="Import device configuration">
        </file-upload>
    </li>
    <li>
        <button class="btn btn-danger"
                mwlConfirmationPopover
                popoverTitle="Are you sure?"
                placement="bottom"
                confirmText="Yes"
                cancelText="No"
                [disabled]="savingUserConfig"
                (confirm)="resetUserConfiguration()">Reset device configuration
        </button>
    </li>
</ul>

<div class="separator"></div>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-6 pl-0">
            <user-configuration-history [state]="userConfigHistoryState$ | async"
                                        (getUserConfigFromHistory)="getUserConfigFromHistory($event)"></user-configuration-history>
        </div>
    </div>
</div>
