<svg xmlns="http://www.w3.org/2000/svg"
     class="svgKeyboard"
     [attr.viewBox]="viewBox"
     height="100%"
     width="100%">
    <svg:g svg-module
           *ngFor="let module of modules; trackBy:trackByModuleFn"
           [class]="modulesState[module.id]?.cssClasses"
           [attr.moduleId]="module.id"
           [backlightingMode]="backlightingMode"
           [coverages]="module.coverages"
           [circles]="module.circles"
           [keyboardKeys]="module.keyboardKeys"
           [capturingEnabled]="capturingEnabled"
           [attr.transform]="module.attributes.transform"
           [keyActions]="getKeyActions(module.id)"
           [moduleNavCircle]="module.moduleNavCircle"
           [moduleNavPath]="module.moduleNavPath"
           [selectedKey]="selectedKey"
           [@fadeKeyboard]="{value:'', params: { animationTime: modulesState[module.id].animationTime } }"
           [selected]="selectedKey?.moduleId === module.id"
           [uhkThemeColors]="uhkThemeColors"
           [lastEdited]="lastEditedKey?.moduleId === module.id"
           [lastEditedKeyId]="lastEditedKey?.key"
           (keyClick)="onKeyClick(module.id, $event)"
           (keyHover)="onKeyHover($event.index, $event.event, $event.over, module.id)"
           (capture)="onCapture(module.id, $event)"
           (navigateToModuleSettings)="onNavigateToModuleSettings(module.id)"
    />

    <svg:path [@fadeSeparator]="{value:'', params: { animationTime: fadeSeparatorAnimationTime } }"
              *ngIf="halvesInfo.areHalvesMerged"
              [attr.d]="separator.d"
              [attr.style]="separatorStyle" />
</svg>
<editable-text *ngIf="showDescription"
               [ngModel]="description"
               (ngModelChange)="descriptionChanged.emit($event)"
               [@moveDescription]="descriptionAnimation"
               placeholder="No description provided for this keymap."></editable-text>
