/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.48.0(0037b13fb5d186fdf1e7df51a9416a2de2b8c670)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ie=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/browser/dom","vs/base/common/event","vs/platform/instantiation/common/instantiation","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/base/common/strings","vs/base/common/errors","vs/base/common/arrays","vs/platform/contextkey/common/contextkey","vs/base/common/async","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/editor/common/editorContextKeys","vs/base/common/types","vs/base/common/uri","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/platform/configuration/common/configuration","vs/base/common/codicons","vs/platform/commands/common/commands","vs/platform/actions/common/actions","vs/editor/common/languages","vs/base/common/observable","vs/base/common/themables","vs/platform/theme/common/colorRegistry","vs/editor/common/languages/languageConfigurationRegistry","vs/base/common/color","vs/platform/keybinding/common/keybinding","vs/editor/browser/services/codeEditorService","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/platform/registry/common/platform","vs/base/browser/fastDomNode","vs/base/common/actions","vs/editor/common/languages/language","vs/editor/common/model","vs/base/browser/ui/hover/hoverDelegateFactory","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/base/common/map","vs/base/browser/keyboardEvent","vs/base/common/network","vs/base/common/resources","vs/platform/notification/common/notification","vs/base/browser/window","vs/editor/common/services/model","vs/base/common/iterator","vs/base/common/objects","vs/editor/browser/view/viewPart","vs/base/common/htmlContent","vs/platform/contextview/browser/contextView","vs/platform/opener/common/opener","vs/editor/common/core/lineRange","vs/platform/log/common/log","vs/base/browser/browser","vs/base/common/stopwatch","vs/editor/common/core/offsetRange","vs/platform/telemetry/common/telemetry","vs/base/common/arraysFind","vs/base/browser/touch","vs/platform/accessibility/common/accessibility","vs/base/common/keyCodes","vs/base/common/linkedList","vs/editor/browser/config/domFontInfo","vs/editor/common/core/editOperation","vs/base/browser/mouseEvent","vs/editor/common/services/resolverService","vs/platform/quickinput/common/quickInput","vs/base/common/filters","vs/editor/common/cursorCommon","vs/base/browser/ui/widget","vs/base/browser/ui/scrollbar/scrollableElement","vs/base/browser/ui/hover/updatableHoverWidget","vs/base/browser/ui/actionbar/actionbar","vs/editor/browser/widget/diffEditor/utils","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/platform/theme/common/iconRegistry","vs/editor/common/core/editorColorRegistry","vs/base/common/assert","vs/base/common/hierarchicalKind","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/editor/common/viewModel","vs/platform/progress/common/progress","vs/platform/theme/common/colorUtils","vs/platform/theme/common/theme","vs/base/common/lazy","vs/editor/contrib/hover/browser/hoverTypes","vs/base/common/path","vs/platform/storage/common/storage","vs/base/browser/trustedTypes","vs/editor/common/diff/rangeMapping","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/tokens/lineTokens","vs/editor/common/standaloneStrings","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/platform/theme/browser/defaultStyles","vs/base/common/severity","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/list/listWidget","vs/editor/common/core/stringBuilder","vs/editor/common/services/editorWorker","vs/platform/clipboard/common/clipboardService","vs/platform/layout/browser/layoutService","vs/editor/browser/widget/markdownRenderer/browser/markdownRenderer","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/common/colors/baseColors","vs/platform/actions/browser/menuEntryActionViewItem","vs/base/common/decorators","vs/base/common/functional","vs/base/common/mime","vs/base/common/hash","vs/editor/common/core/textLength","vs/editor/common/core/textEdit","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/theme/common/colors/editorColors","vs/base/common/keybindings","vs/base/common/numbers","vs/base/common/observableInternal/base","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/editorFeatures","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/observableInternal/logging","vs/base/common/scrollable","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/viewEventHandler","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/sash/sash","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/tree/abstractTree","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/contrib/message/browser/messageController","vs/editor/browser/editorDom","vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/derived","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/codiconsUtil","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/markdownRenderer","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/platform/contextkey/common/contextkeys","vs/platform/hover/browser/hover","vs/editor/browser/controller/textAreaInput","vs/editor/common/commands/shiftCommand","vs/editor/browser/coreCommands","vs/platform/list/browser/listService","vs/platform/actions/browser/toolbar","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/diffEditor/registrations.contribution","vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/diff/defaultLinesDiffComputer/utils","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/pixelRatio","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/list/listView","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/environment/common/environment","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/theme/common/colors/miscColors","vs/platform/theme/common/colors/listColors","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/contrib/inlineEdit/browser/inlineEditController","vs/editor/browser/widget/diffEditor/diffEditorWidget","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/collections","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/utils","vs/base/common/ime","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm","vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations","vs/editor/common/diff/defaultLinesDiffComputer/linesSliceCharSequence","vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/common/indentUtils","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/browser/widget/multiDiffEditor/utils","vs/base/common/process","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/browser/config/elementSizeObserver","vs/editor/common/core/textChange","vs/editor/common/languageSelector","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/contextview/browser/contextViewService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/widget/diffEditor/diffEditorViewModel","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/platform/theme/common/colors/inputColors","vs/platform/theme/common/colors/minimapColors","vs/editor/browser/controller/mouseTarget","vs/editor/browser/widget/diffEditor/features/overviewRulerFeature","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/platform/quickinput/browser/quickInputTree","vs/platform/quickinput/browser/quickInput","vs/editor/browser/widget/multiDiffEditor/diffEditorItemTemplate","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/naturalLanguage/korean","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/promise","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/base/common/tfIdf","vs/base/common/codiconsLibrary","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hoverWidget","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/services/hoverService/hover","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/codeEditor/editor","vs/css!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/css!vs/editor/browser/widget/diffEditor/style","vs/css!vs/editor/browser/widget/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/browser/widget/multiDiffEditor/style","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEdit","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameWidget","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditor/delegatingEditorImpl","vs/editor/browser/widget/multiDiffEditor/objectPool","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/core/positionToOffset","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/defaultLinesDiffComputer/lineSequence","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/defaultLinesDiffComputer/computeMovedLines","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/textModelText","vs/editor/common/services/findSectionHeaders","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/glyphLanesModel","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/inlineEdit/browser/commandIds","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/hover/hoverWidget","vs/nls!vs/base/browser/ui/hover/updatableHoverWidget","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/fonts","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/hotReload","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/menu/menu","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/widget/codeEditor/codeEditorContributions","vs/editor/browser/widget/diffEditor/components/diffEditorSash","vs/editor/browser/widget/diffEditor/utils/editorGutter","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/services/hoverService/hoverWidget","vs/nls!vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor/commands","vs/nls!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/nls!vs/editor/browser/widget/diffEditor/registrations.contribution","vs/nls!vs/editor/browser/widget/multiDiffEditor/colors","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/renderLines","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameWidget","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputController","vs/nls!vs/platform/quickinput/browser/quickInputTree","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colors/baseColors","vs/nls!vs/platform/theme/common/colors/chartsColors","vs/nls!vs/platform/theme/common/colors/editorColors","vs/nls!vs/platform/theme/common/colors/inputColors","vs/nls!vs/platform/theme/common/colors/listColors","vs/nls!vs/platform/theme/common/colors/menuColors","vs/nls!vs/platform/theme/common/colors/minimapColors","vs/nls!vs/platform/theme/common/colors/miscColors","vs/nls!vs/platform/theme/common/colors/quickpickColors","vs/nls!vs/platform/theme/common/colors/searchColors","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineEdit/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/editor/browser/widget/diffEditor/diffEditorOptions","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/editor/contrib/diffEditorBreadcrumbs/browser/contribution","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/hoverService/hoverWidget","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/browser/marginHover","vs/editor/contrib/indentation/common/indentation","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/platform/configuration/common/configurations","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/widget/diffEditor/diffProviderFactoryService","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/platform/theme/common/colors/menuColors","vs/platform/theme/common/colors/chartsColors","vs/platform/theme/common/colors/quickpickColors","vs/platform/theme/common/colors/searchColors","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/multiDiffEditor/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/services/hoverService/hoverService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameWidget","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/editor/browser/widget/diffEditor/features/gutterFeature","vs/editor/contrib/inlineEdit/browser/commands","vs/editor/contrib/inlineEdit/browser/hoverParticipant","vs/editor/contrib/inlineEdit/browser/inlineEdit.contribution","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputController","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditor/components/diffEditorDecorations","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/diffEditorViewZones","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditor/commands","vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidget","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/sectionHeaders/browser/sectionHeaders","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],ne=function(J){for(var e=[],f=0,k=J.length;f<k;f++)e[f]=ie[J[f]];return e};define(ie[987],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=f;function f(p,w,v,_){if(_=_||{},(_["vs/css"]||{}).disabled){v({});return}const s=w.toUrl(p+".css");k(p,s,()=>{v({})},i=>{typeof v.error=="function"&&v.error("Could not find "+s+".")})}function k(p,w,v,_){if(E(p,w)){v();return}L(p,w,v,_)}function E(p,w){const v=window.document.getElementsByTagName("link");for(let _=0,a=v.length;_<a;_++){const s=v[_].getAttribute("data-name"),i=v[_].getAttribute("href");if(s===p||i===w)return!0}return!1}function L(p,w,v,_){const a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("data-name",p),y(p,a,v,_),a.setAttribute("href",w),(window.document.head||window.document.getElementsByTagName("head")[0]).appendChild(a)}function y(p,w,v,_){const a=()=>{w.removeEventListener("load",s),w.removeEventListener("error",i)},s=t=>{a(),v()},i=t=>{a(),_(t)};w.addEventListener("load",s),w.addEventListener("error",i)}}),define(ie[3],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.localize=_,e.localize2=a,e.getConfiguredDefaultLocale=s,e.setPseudoTranslation=i,e.create=t,e.load=n;let f=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function E(h,m){let u;return m.length===0?u=h:u=h.replace(/\{(\d+)\}/g,(d,r)=>{const l=r[0],o=m[l];let g=d;return typeof o=="string"?g=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(g=String(o)),g}),f&&(u="\uFF3B"+u.replace(/[aouei]/g,"$&$&")+"\uFF3D"),u}function L(h,m){let u=h[m];return u||(u=h["*"],u)?u:null}function y(h){return h.charAt(h.length-1)==="/"?h:h+"/"}async function p(h,m,u){const d=y(h)+y(m)+"vscode/"+y(u),r=await fetch(d);if(r.ok)return await r.json();throw new Error(`${r.status} - ${r.statusText}`)}function w(h){return function(m,u){const d=Array.prototype.slice.call(arguments,2);return E(h[m],d)}}function v(h){return(m,u,...d)=>({value:E(h[m],d),original:E(u,d)})}function _(h,m,...u){return E(m,u)}function a(h,m,...u){const d=E(m,u);return{value:d,original:d}}function s(h){}function i(h){f=h}function t(h,m){var u;return{localize:w(m[h]),localize2:v(m[h]),getConfiguredDefaultLocale:(u=m.getConfiguredDefaultLocale)!==null&&u!==void 0?u:d=>{}}}function n(h,m,u,d){var r;const l=(r=d["vs/nls"])!==null&&r!==void 0?r:{};if(!h||h.length===0)return u({localize:_,localize2:a,getConfiguredDefaultLocale:()=>{var C;return(C=l.availableLanguages)===null||C===void 0?void 0:C["*"]}});const o=l.availableLanguages?L(l.availableLanguages,h):null,g=o===null||o===k;let c=".nls";g||(c=c+"."+o);const b=C=>{Array.isArray(C)?(C.localize=w(C),C.localize2=v(C)):(C.localize=w(C[h]),C.localize2=v(C[h])),C.getConfiguredDefaultLocale=()=>{var S;return(S=l.availableLanguages)===null||S===void 0?void 0:S["*"]},u(C)};typeof l.loadBundle=="function"?l.loadBundle(h,o,(C,S)=>{C?m([h+".nls"],b):b(S)}):l.translationServiceUrl&&!g?(async()=>{var C;try{const S=await p(l.translationServiceUrl,o,h);return b(S)}catch(S){if(!o.includes("-"))return console.error(S),m([h+".nls"],b);try{const D=o.split("-")[0],I=await p(l.translationServiceUrl,D,h);return(C=l.availableLanguages)!==null&&C!==void 0||(l.availableLanguages={}),l.availableLanguages["*"]=D,b(I)}catch(D){return console.error(D),m([h+".nls"],b)}}})():m([h+c],b,C=>{if(c===".nls"){console.error("Failed trying to load default language strings",C);return}console.error(`Failed to load message bundle for language ${o}. Falling back to the default language:`,C),m([h+".nls"],b)})}});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Ht,setPrototypeOf:Vt,isFrozen:Qt,getPrototypeOf:Xt,getOwnPropertyDescriptor:Jt}=Object;let{freeze:ft,seal:wt,create:ei}=Object,{apply:At,construct:Rt}=typeof Reflect<"u"&&Reflect;At||(At=function(e,f,k){return e.apply(f,k)}),ft||(ft=function(e){return e}),wt||(wt=function(e){return e}),Rt||(Rt=function(e,f){return new e(...f)});const ti=bt(Array.prototype.forEach),zt=bt(Array.prototype.pop),It=bt(Array.prototype.push),Tt=bt(String.prototype.toLowerCase),Pt=bt(String.prototype.toString),ii=bt(String.prototype.match),yt=bt(String.prototype.replace),ni=bt(String.prototype.indexOf),si=bt(String.prototype.trim),vt=bt(RegExp.prototype.test),kt=oi(TypeError);function bt(J){return function(e){for(var f=arguments.length,k=new Array(f>1?f-1:0),E=1;E<f;E++)k[E-1]=arguments[E];return At(J,e,k)}}function oi(J){return function(){for(var e=arguments.length,f=new Array(e),k=0;k<e;k++)f[k]=arguments[k];return Rt(J,f)}}function Xe(J,e,f){var k;f=(k=f)!==null&&k!==void 0?k:Tt,Vt&&Vt(J,null);let E=e.length;for(;E--;){let L=e[E];if(typeof L=="string"){const y=f(L);y!==L&&(Qt(e)||(e[E]=y),L=y)}J[L]=!0}return J}function Dt(J){const e=ei(null);for(const[f,k]of Ht(J))e[f]=k;return e}function Mt(J,e){for(;J!==null;){const k=Jt(J,e);if(k){if(k.get)return bt(k.get);if(typeof k.value=="function")return bt(k.value)}J=Xt(J)}function f(k){return console.warn("fallback value for",k),null}return f}const Kt=ft(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ot=ft(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ft=ft(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ri=ft(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xt=ft(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ai=ft(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qt=ft(["#text"]),Ut=ft(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Bt=ft(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jt=ft(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nt=ft(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),li=wt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),di=wt(/<%[\w\W]*|[\w\W]*%>/gm),ci=wt(/\${[\w\W]*}/gm),ui=wt(/^data-[\-\w.\u00B7-\uFFFF]/),hi=wt(/^aria-[\-\w]+$/),Gt=wt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gi=wt(/^(?:\w+script|data):/i),fi=wt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$t=wt(/^html$/i);var Zt=Object.freeze({__proto__:null,MUSTACHE_EXPR:li,ERB_EXPR:di,TMPLIT_EXPR:ci,DATA_ATTR:ui,ARIA_ATTR:hi,IS_ALLOWED_URI:Gt,IS_SCRIPT_OR_DATA:gi,ATTR_WHITESPACE:fi,DOCTYPE_NAME:$t});const mi=()=>typeof window>"u"?null:window,pi=function(e,f){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let k=null;const E="data-tt-policy-suffix";f&&f.hasAttribute(E)&&(k=f.getAttribute(E));const L="dompurify"+(k?"#"+k:"");try{return e.createPolicy(L,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+L+" could not be created."),null}};function Yt(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mi();const e=Te=>Yt(Te);if(e.version="3.0.5",e.removed=[],!J||!J.document||J.document.nodeType!==9)return e.isSupported=!1,e;const f=J.document,k=f.currentScript;let{document:E}=J;const{DocumentFragment:L,HTMLTemplateElement:y,Node:p,Element:w,NodeFilter:v,NamedNodeMap:_=J.NamedNodeMap||J.MozNamedAttrMap,HTMLFormElement:a,DOMParser:s,trustedTypes:i}=J,t=w.prototype,n=Mt(t,"cloneNode"),h=Mt(t,"nextSibling"),m=Mt(t,"childNodes"),u=Mt(t,"parentNode");if(typeof y=="function"){const Te=E.createElement("template");Te.content&&Te.content.ownerDocument&&(E=Te.content.ownerDocument)}let d,r="";const{implementation:l,createNodeIterator:o,createDocumentFragment:g,getElementsByTagName:c}=E,{importNode:b}=f;let C={};e.isSupported=typeof Ht=="function"&&typeof u=="function"&&l&&l.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:S,ERB_EXPR:D,TMPLIT_EXPR:I,DATA_ATTR:T,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:A,ATTR_WHITESPACE:P}=Zt;let{IS_ALLOWED_URI:M}=Zt,R=null;const F=Xe({},[...Kt,...Ot,...Ft,...xt,...qt]);let O=null;const B=Xe({},[...Ut,...Bt,...jt,...Nt]);let H=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,q=null,z=!0,U=!0,Z=!1,re=!0,x=!1,Q=!1,X=!1,Y=!1,ae=!1,ce=!1,he=!1,pe=!0,fe=!1;const se="user-content-";let te=!0,$=!1,W={},j=null;const K=Xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let G=null;const ee=Xe({},["audio","video","img","source","image","track"]);let oe=null;const de=Xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),le="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let Ce=ve,Se=!1,be=null;const ke=Xe({},[le,ge,ve],Pt);let Ee;const Ae=["application/xhtml+xml","text/html"],Pe="text/html";let He,Be=null;const De=E.createElement("form"),Ne=function(Le){return Le instanceof RegExp||Le instanceof Function},me=function(Le){if(!(Be&&Be===Le)){if((!Le||typeof Le!="object")&&(Le={}),Le=Dt(Le),Ee=Ae.indexOf(Le.PARSER_MEDIA_TYPE)===-1?Ee=Pe:Ee=Le.PARSER_MEDIA_TYPE,He=Ee==="application/xhtml+xml"?Pt:Tt,R="ALLOWED_TAGS"in Le?Xe({},Le.ALLOWED_TAGS,He):F,O="ALLOWED_ATTR"in Le?Xe({},Le.ALLOWED_ATTR,He):B,be="ALLOWED_NAMESPACES"in Le?Xe({},Le.ALLOWED_NAMESPACES,Pt):ke,oe="ADD_URI_SAFE_ATTR"in Le?Xe(Dt(de),Le.ADD_URI_SAFE_ATTR,He):de,G="ADD_DATA_URI_TAGS"in Le?Xe(Dt(ee),Le.ADD_DATA_URI_TAGS,He):ee,j="FORBID_CONTENTS"in Le?Xe({},Le.FORBID_CONTENTS,He):K,V="FORBID_TAGS"in Le?Xe({},Le.FORBID_TAGS,He):{},q="FORBID_ATTR"in Le?Xe({},Le.FORBID_ATTR,He):{},W="USE_PROFILES"in Le?Le.USE_PROFILES:!1,z=Le.ALLOW_ARIA_ATTR!==!1,U=Le.ALLOW_DATA_ATTR!==!1,Z=Le.ALLOW_UNKNOWN_PROTOCOLS||!1,re=Le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,x=Le.SAFE_FOR_TEMPLATES||!1,Q=Le.WHOLE_DOCUMENT||!1,ae=Le.RETURN_DOM||!1,ce=Le.RETURN_DOM_FRAGMENT||!1,he=Le.RETURN_TRUSTED_TYPE||!1,Y=Le.FORCE_BODY||!1,pe=Le.SANITIZE_DOM!==!1,fe=Le.SANITIZE_NAMED_PROPS||!1,te=Le.KEEP_CONTENT!==!1,$=Le.IN_PLACE||!1,M=Le.ALLOWED_URI_REGEXP||Gt,Ce=Le.NAMESPACE||ve,H=Le.CUSTOM_ELEMENT_HANDLING||{},Le.CUSTOM_ELEMENT_HANDLING&&Ne(Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&Ne(Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&typeof Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),x&&(U=!1),ce&&(ae=!0),W&&(R=Xe({},[...qt]),O=[],W.html===!0&&(Xe(R,Kt),Xe(O,Ut)),W.svg===!0&&(Xe(R,Ot),Xe(O,Bt),Xe(O,Nt)),W.svgFilters===!0&&(Xe(R,Ft),Xe(O,Bt),Xe(O,Nt)),W.mathMl===!0&&(Xe(R,xt),Xe(O,jt),Xe(O,Nt))),Le.ADD_TAGS&&(R===F&&(R=Dt(R)),Xe(R,Le.ADD_TAGS,He)),Le.ADD_ATTR&&(O===B&&(O=Dt(O)),Xe(O,Le.ADD_ATTR,He)),Le.ADD_URI_SAFE_ATTR&&Xe(oe,Le.ADD_URI_SAFE_ATTR,He),Le.FORBID_CONTENTS&&(j===K&&(j=Dt(j)),Xe(j,Le.FORBID_CONTENTS,He)),te&&(R["#text"]=!0),Q&&Xe(R,["html","head","body"]),R.table&&(Xe(R,["tbody"]),delete V.tbody),Le.TRUSTED_TYPES_POLICY){if(typeof Le.TRUSTED_TYPES_POLICY.createHTML!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');d=Le.TRUSTED_TYPES_POLICY,r=d.createHTML("")}else d===void 0&&(d=pi(i,k)),d!==null&&typeof r=="string"&&(r=d.createHTML(""));ft&&ft(Le),Be=Le}},_e=Xe({},["mi","mo","mn","ms","mtext"]),Re=Xe({},["foreignobject","desc","title","annotation-xml"]),We=Xe({},["title","style","font","a","script"]),qe=Xe({},Ot);Xe(qe,Ft),Xe(qe,ri);const je=Xe({},xt);Xe(je,ai);const Ze=function(Le){let Fe=u(Le);(!Fe||!Fe.tagName)&&(Fe={namespaceURI:Ce,tagName:"template"});const Oe=Tt(Le.tagName),ze=Tt(Fe.tagName);return be[Le.namespaceURI]?Le.namespaceURI===ge?Fe.namespaceURI===ve?Oe==="svg":Fe.namespaceURI===le?Oe==="svg"&&(ze==="annotation-xml"||_e[ze]):!!qe[Oe]:Le.namespaceURI===le?Fe.namespaceURI===ve?Oe==="math":Fe.namespaceURI===ge?Oe==="math"&&Re[ze]:!!je[Oe]:Le.namespaceURI===ve?Fe.namespaceURI===ge&&!Re[ze]||Fe.namespaceURI===le&&!_e[ze]?!1:!je[Oe]&&(We[Oe]||!qe[Oe]):!!(Ee==="application/xhtml+xml"&&be[Le.namespaceURI]):!1},Je=function(Le){It(e.removed,{element:Le});try{Le.parentNode.removeChild(Le)}catch{Le.remove()}},st=function(Le,Fe){try{It(e.removed,{attribute:Fe.getAttributeNode(Le),from:Fe})}catch{It(e.removed,{attribute:null,from:Fe})}if(Fe.removeAttribute(Le),Le==="is"&&!O[Le])if(ae||ce)try{Je(Fe)}catch{}else try{Fe.setAttribute(Le,"")}catch{}},rt=function(Le){let Fe,Oe;if(Y)Le="<remove></remove>"+Le;else{const $e=ii(Le,/^[\r\n\t ]+/);Oe=$e&&$e[0]}Ee==="application/xhtml+xml"&&Ce===ve&&(Le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Le+"</body></html>");const ze=d?d.createHTML(Le):Le;if(Ce===ve)try{Fe=new s().parseFromString(ze,Ee)}catch{}if(!Fe||!Fe.documentElement){Fe=l.createDocument(Ce,"template",null);try{Fe.documentElement.innerHTML=Se?r:ze}catch{}}const Ue=Fe.body||Fe.documentElement;return Le&&Oe&&Ue.insertBefore(E.createTextNode(Oe),Ue.childNodes[0]||null),Ce===ve?c.call(Fe,Q?"html":"body")[0]:Q?Fe.documentElement:Ue},pt=function(Le){return o.call(Le.ownerDocument||Le,Le,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},et=function(Le){return Le instanceof a&&(typeof Le.nodeName!="string"||typeof Le.textContent!="string"||typeof Le.removeChild!="function"||!(Le.attributes instanceof _)||typeof Le.removeAttribute!="function"||typeof Le.setAttribute!="function"||typeof Le.namespaceURI!="string"||typeof Le.insertBefore!="function"||typeof Le.hasChildNodes!="function")},ut=function(Le){return typeof p=="object"?Le instanceof p:Le&&typeof Le=="object"&&typeof Le.nodeType=="number"&&typeof Le.nodeName=="string"},ot=function(Le,Fe,Oe){C[Le]&&ti(C[Le],ze=>{ze.call(e,Fe,Oe,Be)})},_t=function(Le){let Fe;if(ot("beforeSanitizeElements",Le,null),et(Le))return Je(Le),!0;const Oe=He(Le.nodeName);if(ot("uponSanitizeElement",Le,{tagName:Oe,allowedTags:R}),Le.hasChildNodes()&&!ut(Le.firstElementChild)&&(!ut(Le.content)||!ut(Le.content.firstElementChild))&&vt(/<[/\w]/g,Le.innerHTML)&&vt(/<[/\w]/g,Le.textContent))return Je(Le),!0;if(!R[Oe]||V[Oe]){if(!V[Oe]&&ye(Oe)&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,Oe)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Oe)))return!1;if(te&&!j[Oe]){const ze=u(Le)||Le.parentNode,Ue=m(Le)||Le.childNodes;if(Ue&&ze){const $e=Ue.length;for(let Qe=$e-1;Qe>=0;--Qe)ze.insertBefore(n(Ue[Qe],!0),h(Le))}}return Je(Le),!0}return Le instanceof w&&!Ze(Le)||(Oe==="noscript"||Oe==="noembed"||Oe==="noframes")&&vt(/<\/no(script|embed|frames)/i,Le.innerHTML)?(Je(Le),!0):(x&&Le.nodeType===3&&(Fe=Le.textContent,Fe=yt(Fe,S," "),Fe=yt(Fe,D," "),Fe=yt(Fe,I," "),Le.textContent!==Fe&&(It(e.removed,{element:Le.cloneNode()}),Le.textContent=Fe)),ot("afterSanitizeElements",Le,null),!1)},St=function(Le,Fe,Oe){if(pe&&(Fe==="id"||Fe==="name")&&(Oe in E||Oe in De))return!1;if(!(U&&!q[Fe]&&vt(T,Fe))){if(!(z&&vt(N,Fe))){if(!O[Fe]||q[Fe]){if(!(ye(Le)&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,Le)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Le))&&(H.attributeNameCheck instanceof RegExp&&vt(H.attributeNameCheck,Fe)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(Fe))||Fe==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,Oe)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Oe))))return!1}else if(!oe[Fe]){if(!vt(M,yt(Oe,P,""))){if(!((Fe==="src"||Fe==="xlink:href"||Fe==="href")&&Le!=="script"&&ni(Oe,"data:")===0&&G[Le])){if(!(Z&&!vt(A,yt(Oe,P,"")))){if(Oe)return!1}}}}}}return!0},ye=function(Le){return Le.indexOf("-")>0},we=function(Le){let Fe,Oe,ze,Ue;ot("beforeSanitizeAttributes",Le,null);const{attributes:$e}=Le;if(!$e)return;const Qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O};for(Ue=$e.length;Ue--;){Fe=$e[Ue];const{name:Ye,namespaceURI:xe}=Fe;if(Oe=Ye==="value"?Fe.value:si(Fe.value),ze=He(Ye),Qe.attrName=ze,Qe.attrValue=Oe,Qe.keepAttr=!0,Qe.forceKeepAttr=void 0,ot("uponSanitizeAttribute",Le,Qe),Oe=Qe.attrValue,Qe.forceKeepAttr||(st(Ye,Le),!Qe.keepAttr))continue;if(!re&&vt(/\/>/i,Oe)){st(Ye,Le);continue}x&&(Oe=yt(Oe,S," "),Oe=yt(Oe,D," "),Oe=yt(Oe,I," "));const Ve=He(Le.nodeName);if(St(Ve,ze,Oe)){if(fe&&(ze==="id"||ze==="name")&&(st(Ye,Le),Oe=se+Oe),d&&typeof i=="object"&&typeof i.getAttributeType=="function"&&!xe)switch(i.getAttributeType(Ve,ze)){case"TrustedHTML":{Oe=d.createHTML(Oe);break}case"TrustedScriptURL":{Oe=d.createScriptURL(Oe);break}}try{xe?Le.setAttributeNS(xe,Ye,Oe):Le.setAttribute(Ye,Oe),zt(e.removed)}catch{}}}ot("afterSanitizeAttributes",Le,null)},Me=function Te(Le){let Fe;const Oe=pt(Le);for(ot("beforeSanitizeShadowDOM",Le,null);Fe=Oe.nextNode();)ot("uponSanitizeShadowNode",Fe,null),!_t(Fe)&&(Fe.content instanceof L&&Te(Fe.content),we(Fe));ot("afterSanitizeShadowDOM",Le,null)};return e.sanitize=function(Te){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe,Oe,ze,Ue;if(Se=!Te,Se&&(Te="<!-->"),typeof Te!="string"&&!ut(Te))if(typeof Te.toString=="function"){if(Te=Te.toString(),typeof Te!="string")throw kt("dirty is not a string, aborting")}else throw kt("toString is not a function");if(!e.isSupported)return Te;if(X||me(Le),e.removed=[],typeof Te=="string"&&($=!1),$){if(Te.nodeName){const Ye=He(Te.nodeName);if(!R[Ye]||V[Ye])throw kt("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof p)Fe=rt("<!---->"),Oe=Fe.ownerDocument.importNode(Te,!0),Oe.nodeType===1&&Oe.nodeName==="BODY"||Oe.nodeName==="HTML"?Fe=Oe:Fe.appendChild(Oe);else{if(!ae&&!x&&!Q&&Te.indexOf("<")===-1)return d&&he?d.createHTML(Te):Te;if(Fe=rt(Te),!Fe)return ae?null:he?r:""}Fe&&Y&&Je(Fe.firstChild);const $e=pt($?Te:Fe);for(;ze=$e.nextNode();)_t(ze)||(ze.content instanceof L&&Me(ze.content),we(ze));if($)return Te;if(ae){if(ce)for(Ue=g.call(Fe.ownerDocument);Fe.firstChild;)Ue.appendChild(Fe.firstChild);else Ue=Fe;return(O.shadowroot||O.shadowrootmode)&&(Ue=b.call(f,Ue,!0)),Ue}let Qe=Q?Fe.outerHTML:Fe.innerHTML;return Q&&R["!doctype"]&&Fe.ownerDocument&&Fe.ownerDocument.doctype&&Fe.ownerDocument.doctype.name&&vt($t,Fe.ownerDocument.doctype.name)&&(Qe="<!DOCTYPE "+Fe.ownerDocument.doctype.name+`>
`+Qe),x&&(Qe=yt(Qe,S," "),Qe=yt(Qe,D," "),Qe=yt(Qe,I," ")),d&&he?d.createHTML(Qe):Qe},e.setConfig=function(Te){me(Te),X=!0},e.clearConfig=function(){Be=null,X=!1},e.isValidAttribute=function(Te,Le,Fe){Be||me({});const Oe=He(Te),ze=He(Le);return St(Oe,ze,Fe)},e.addHook=function(Te,Le){typeof Le=="function"&&(C[Te]=C[Te]||[],It(C[Te],Le))},e.removeHook=function(Te){if(C[Te])return zt(C[Te])},e.removeHooks=function(Te){C[Te]&&(C[Te]=[])},e.removeAllHooks=function(){C={}},e}var vi=Yt();define("vs/base/browser/dompurify/dompurify",function(){return vi}),define(ie[40],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastDomNode=void 0,e.createFastDomNode=E;class f{constructor(y){this.domNode=y,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(y){const p=k(y);this._maxWidth!==p&&(this._maxWidth=p,this.domNode.style.maxWidth=this._maxWidth)}setWidth(y){const p=k(y);this._width!==p&&(this._width=p,this.domNode.style.width=this._width)}setHeight(y){const p=k(y);this._height!==p&&(this._height=p,this.domNode.style.height=this._height)}setTop(y){const p=k(y);this._top!==p&&(this._top=p,this.domNode.style.top=this._top)}setLeft(y){const p=k(y);this._left!==p&&(this._left=p,this.domNode.style.left=this._left)}setBottom(y){const p=k(y);this._bottom!==p&&(this._bottom=p,this.domNode.style.bottom=this._bottom)}setRight(y){const p=k(y);this._right!==p&&(this._right=p,this.domNode.style.right=this._right)}setPaddingLeft(y){const p=k(y);this._paddingLeft!==p&&(this._paddingLeft=p,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(y){const p=k(y);this._fontSize!==p&&(this._fontSize=p,this.domNode.style.fontSize=this._fontSize)}setFontStyle(y){this._fontStyle!==y&&(this._fontStyle=y,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(y){this._fontVariationSettings!==y&&(this._fontVariationSettings=y,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(y){this._textDecoration!==y&&(this._textDecoration=y,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(y){const p=k(y);this._lineHeight!==p&&(this._lineHeight=p,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(y){const p=k(y);this._letterSpacing!==p&&(this._letterSpacing=p,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}toggleClassName(y,p){this.domNode.classList.toggle(y,p),this._className=this.domNode.className}setDisplay(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}setPosition(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}setColor(y){this._color!==y&&(this._color=y,this.domNode.style.color=this._color)}setBackgroundColor(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}setContain(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}setAttribute(y,p){this.domNode.setAttribute(y,p)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}e.FastDomNode=f;function k(L){return typeof L=="number"?`${L}px`:L}function E(L){return new f(L)}}),define(ie[414],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;const f=new WeakMap;function k(L){if(!L.parent||L.parent===L)return null;try{const y=L.location,p=L.parent.location;if(y.origin!=="null"&&p.origin!=="null"&&y.origin!==p.origin)return null}catch{return null}return L.parent}class E{static getSameOriginWindowChain(y){let p=f.get(y);if(!p){p=[],f.set(y,p);let w=y,v;do v=k(w),v?p.push({window:new WeakRef(w),iframeElement:w.frameElement||null}):p.push({window:new WeakRef(w),iframeElement:null}),w=v;while(w)}return p.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(y,p){var w,v;if(!p||y===p)return{top:0,left:0};let _=0,a=0;const s=this.getSameOriginWindowChain(y);for(const i of s){const t=i.window.deref();if(_+=(w=t?.scrollY)!==null&&w!==void 0?w:0,a+=(v=t?.scrollX)!==null&&v!==void 0?v:0,t===p||!i.iframeElement)break;const n=i.iframeElement.getBoundingClientRect();_+=n.top,a+=n.left}return{top:_,left:a}}}e.IframeUtils=E}),define(ie[283],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var f;(function(k){const E={total:0,min:Number.MAX_VALUE,max:0},L={...E},y={...E},p={...E};let w=0;const v={keydown:0,input:0,render:0};function _(){r(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),v.keydown=1,queueMicrotask(a)}k.onKeyDown=_;function a(){v.keydown===1&&(performance.mark("keydown/end"),v.keydown=2)}function s(){performance.mark("input/start"),v.input=1,d()}k.onBeforeInput=s;function i(){v.input===0&&s(),queueMicrotask(t)}k.onInput=i;function t(){v.input===1&&(performance.mark("input/end"),v.input=2)}function n(){r()}k.onKeyUp=n;function h(){r()}k.onSelectionChange=h;function m(){v.keydown===2&&v.input===2&&v.render===0&&(performance.mark("render/start"),v.render=1,queueMicrotask(u),d())}k.onRenderStart=m;function u(){v.render===1&&(performance.mark("render/end"),v.render=2)}function d(){setTimeout(r)}function r(){v.keydown===2&&v.input===2&&v.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),l("keydown",E),l("input",L),l("render",y),l("inputlatency",p),w++,o())}function l(C,S){const D=performance.getEntriesByName(C)[0].duration;S.total+=D,S.min=Math.min(S.min,D),S.max=Math.max(S.max,D)}function o(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),v.keydown=0,v.input=0,v.render=0}function g(){if(w===0)return;const C={keydown:c(E),input:c(L),render:c(y),total:c(p),sampleCount:w};return b(E),b(L),b(y),b(p),w=0,C}k.getAndClearMeasurements=g;function c(C){return{average:C.total/w,max:C.max,min:C.min}}function b(C){C.total=0,C.min=Number.MAX_VALUE,C.max=0}})(f||(e.inputLatency=f={}))}),define(ie[415],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class f extends Error{constructor(E,L){super(`ListError [${E}] ${L}`)}}e.ListError=f}),define(ie[416],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class f{constructor(E){this.spliceables=E}splice(E,L,y){this.spliceables.forEach(p=>p.splice(E,L,y))}}e.CombinedSpliceable=f}),define(ie[213],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const f=20;class k{constructor(L,y,p,w,v,_){this._scrollbarSize=Math.round(y),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(L),this._visibleSize=w,this._scrollSize=v,this._scrollPosition=_,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(L){const y=Math.round(L);return this._visibleSize!==y?(this._visibleSize=y,this._refreshComputedValues(),!0):!1}setScrollSize(L){const y=Math.round(L);return this._scrollSize!==y?(this._scrollSize=y,this._refreshComputedValues(),!0):!1}setScrollPosition(L){const y=Math.round(L);return this._scrollPosition!==y?(this._scrollPosition=y,this._refreshComputedValues(),!0):!1}setScrollbarSize(L){this._scrollbarSize=Math.round(L)}setOppositeScrollbarSize(L){this._oppositeScrollbarSize=Math.round(L)}static _computeValues(L,y,p,w,v){const _=Math.max(0,p-L),a=Math.max(0,_-2*y),s=w>0&&w>p;if(!s)return{computedAvailableSize:Math.round(_),computedIsNeeded:s,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const i=Math.round(Math.max(f,Math.floor(p*a/w))),t=(a-i)/(w-p),n=v*t;return{computedAvailableSize:Math.round(_),computedIsNeeded:s,computedSliderSize:Math.round(i),computedSliderRatio:t,computedSliderPosition:Math.round(n)}}_refreshComputedValues(){const L=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=L.computedAvailableSize,this._computedIsNeeded=L.computedIsNeeded,this._computedSliderSize=L.computedSliderSize,this._computedSliderRatio=L.computedSliderRatio,this._computedSliderPosition=L.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(L){if(!this._computedIsNeeded)return 0;const y=L-this._arrowSize-this._computedSliderSize/2;return Math.round(y/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(L){if(!this._computedIsNeeded)return 0;const y=L-this._arrowSize;let p=this._scrollPosition;return y<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(L){if(!this._computedIsNeeded)return 0;const y=this._computedSliderPosition+L;return Math.round(y/this._computedSliderRatio)}}e.ScrollbarState=k}),define(ie[153],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var f;(function(y){y[y.Expanded=0]="Expanded",y[y.Collapsed=1]="Collapsed",y[y.PreserveOrExpanded=2]="PreserveOrExpanded",y[y.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(f||(e.ObjectTreeElementCollapseState=f={}));var k;(function(y){y[y.Unknown=0]="Unknown",y[y.Twistie=1]="Twistie",y[y.Element=2]="Element",y[y.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class E extends Error{constructor(p,w){super(`TreeError [${p}] ${w}`)}}e.TreeError=E;class L{constructor(p){this.fn=p,this._map=new WeakMap}map(p){let w=this._map.get(p);return w||(w=this.fn(p),this._map.set(p,w)),w}}e.WeakMapper=L}),define(ie[52],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mainWindow=void 0,e.ensureCodeWindow=f;function f(k,E){const L=k;typeof L.vscodeWindowId!="number"&&Object.defineProperty(L,"vscodeWindowId",{get:()=>E})}e.mainWindow=window}),define(ie[62],ne([1,0,52]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=void 0,e.addMatchMediaChangeListener=E,e.getZoomFactor=L,e.isStandalone=w;class k{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(_){var a;return(a=this.mapWindowIdToZoomFactor.get(this.getWindowId(_)))!==null&&a!==void 0?a:1}getWindowId(_){return _.vscodeWindowId}}k.INSTANCE=new k;function E(v,_,a){typeof _=="string"&&(_=v.matchMedia(_)),_.addEventListener("change",a)}function L(v){return k.INSTANCE.getZoomFactor(v)}const y=navigator.userAgent;e.isFirefox=y.indexOf("Firefox")>=0,e.isWebKit=y.indexOf("AppleWebKit")>=0,e.isChrome=y.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&y.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=y.indexOf("Electron/")>=0,e.isAndroid=y.indexOf("Android")>=0;let p=!1;if(typeof f.mainWindow.matchMedia=="function"){const v=f.mainWindow.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),_=f.mainWindow.matchMedia("(display-mode: fullscreen)");p=v.matches,E(f.mainWindow,v,({matches:a})=>{p&&_.matches||(p=a)})}function w(){return p}}),define(ie[13],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Permutation=e.CallbackIterable=e.ArrayQueue=e.booleanComparator=e.numberComparator=e.CompareResult=void 0,e.tail=f,e.tail2=k,e.equals=E,e.removeFastWithoutKeepingOrder=L,e.binarySearch=y,e.binarySearch2=p,e.quickSelect=w,e.groupBy=v,e.groupAdjacentBy=_,e.forEachAdjacent=a,e.forEachWithNeighbors=s,e.coalesce=i,e.coalesceInPlace=t,e.isFalsyOrEmpty=n,e.isNonEmptyArray=h,e.distinct=m,e.firstOrDefault=u,e.range=d,e.arrayInsert=r,e.pushToStart=l,e.pushToEnd=o,e.pushMany=g,e.asArray=c,e.insertInto=b,e.splice=C,e.compareBy=I,e.tieBreakComparators=T,e.reverseOrder=P;function f(O,B=0){return O[O.length-(1+B)]}function k(O){if(O.length===0)throw new Error("Invalid tail call");return[O.slice(0,O.length-1),O[O.length-1]]}function E(O,B,H=(V,q)=>V===q){if(O===B)return!0;if(!O||!B||O.length!==B.length)return!1;for(let V=0,q=O.length;V<q;V++)if(!H(O[V],B[V]))return!1;return!0}function L(O,B){const H=O.length-1;B<H&&(O[B]=O[H]),O.pop()}function y(O,B,H){return p(O.length,V=>H(O[V],B))}function p(O,B){let H=0,V=O-1;for(;H<=V;){const q=(H+V)/2|0,z=B(q);if(z<0)H=q+1;else if(z>0)V=q-1;else return q}return-(H+1)}function w(O,B,H){if(O=O|0,O>=B.length)throw new TypeError("invalid index");const V=B[Math.floor(B.length*Math.random())],q=[],z=[],U=[];for(const Z of B){const re=H(Z,V);re<0?q.push(Z):re>0?z.push(Z):U.push(Z)}return O<q.length?w(O,q,H):O<q.length+U.length?U[0]:w(O-(q.length+U.length),z,H)}function v(O,B){const H=[];let V;for(const q of O.slice(0).sort(B))!V||B(V[0],q)!==0?(V=[q],H.push(V)):V.push(q);return H}function*_(O,B){let H,V;for(const q of O)V!==void 0&&B(V,q)?H.push(q):(H&&(yield H),H=[q]),V=q;H&&(yield H)}function a(O,B){for(let H=0;H<=O.length;H++)B(H===0?void 0:O[H-1],H===O.length?void 0:O[H])}function s(O,B){for(let H=0;H<O.length;H++)B(H===0?void 0:O[H-1],O[H],H+1===O.length?void 0:O[H+1])}function i(O){return O.filter(B=>!!B)}function t(O){let B=0;for(let H=0;H<O.length;H++)O[H]&&(O[B]=O[H],B+=1);O.length=B}function n(O){return!Array.isArray(O)||O.length===0}function h(O){return Array.isArray(O)&&O.length>0}function m(O,B=H=>H){const H=new Set;return O.filter(V=>{const q=B(V);return H.has(q)?!1:(H.add(q),!0)})}function u(O,B){return O.length>0?O[0]:B}function d(O,B){let H=typeof B=="number"?O:0;typeof B=="number"?H=O:(H=0,B=O);const V=[];if(H<=B)for(let q=H;q<B;q++)V.push(q);else for(let q=H;q>B;q--)V.push(q);return V}function r(O,B,H){const V=O.slice(0,B),q=O.slice(B);return V.concat(H,q)}function l(O,B){const H=O.indexOf(B);H>-1&&(O.splice(H,1),O.unshift(B))}function o(O,B){const H=O.indexOf(B);H>-1&&(O.splice(H,1),O.push(B))}function g(O,B){for(const H of B)O.push(H)}function c(O){return Array.isArray(O)?O:[O]}function b(O,B,H){const V=S(O,B),q=O.length,z=H.length;O.length=q+z;for(let U=q-1;U>=V;U--)O[U+z]=O[U];for(let U=0;U<z;U++)O[U+V]=H[U]}function C(O,B,H,V){const q=S(O,B);let z=O.splice(q,H);return z===void 0&&(z=[]),b(O,q,V),z}function S(O,B){return B<0?Math.max(B+O.length,0):Math.min(B,O.length)}var D;(function(O){function B(z){return z<0}O.isLessThan=B;function H(z){return z<=0}O.isLessThanOrEqual=H;function V(z){return z>0}O.isGreaterThan=V;function q(z){return z===0}O.isNeitherLessOrGreaterThan=q,O.greaterThan=1,O.lessThan=-1,O.neitherLessOrGreaterThan=0})(D||(e.CompareResult=D={}));function I(O,B){return(H,V)=>B(O(H),O(V))}function T(...O){return(B,H)=>{for(const V of O){const q=V(B,H);if(!D.isNeitherLessOrGreaterThan(q))return q}return D.neitherLessOrGreaterThan}}const N=(O,B)=>O-B;e.numberComparator=N;const A=(O,B)=>(0,e.numberComparator)(O?1:0,B?1:0);e.booleanComparator=A;function P(O){return(B,H)=>-O(B,H)}class M{constructor(B){this.items=B,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(B){let H=this.firstIdx;for(;H<this.items.length&&B(this.items[H]);)H++;const V=H===this.firstIdx?null:this.items.slice(this.firstIdx,H);return this.firstIdx=H,V}takeFromEndWhile(B){let H=this.lastIdx;for(;H>=0&&B(this.items[H]);)H--;const V=H===this.lastIdx?null:this.items.slice(H+1,this.lastIdx+1);return this.lastIdx=H,V}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const B=this.items[this.firstIdx];return this.firstIdx++,B}takeCount(B){const H=this.items.slice(this.firstIdx,this.firstIdx+B);return this.firstIdx+=B,H}}e.ArrayQueue=M;class R{constructor(B){this.iterate=B}toArray(){const B=[];return this.iterate(H=>(B.push(H),!0)),B}filter(B){return new R(H=>this.iterate(V=>B(V)?H(V):!0))}map(B){return new R(H=>this.iterate(V=>H(B(V))))}findLast(B){let H;return this.iterate(V=>(B(V)&&(H=V),!0)),H}findLastMaxBy(B){let H,V=!0;return this.iterate(q=>((V||D.isGreaterThan(B(q,H)))&&(V=!1,H=q),!0)),H}}e.CallbackIterable=R,R.empty=new R(O=>{});class F{constructor(B){this._indexMap=B}static createSortPermutation(B,H){const V=Array.from(B.keys()).sort((q,z)=>H(B[q],B[z]));return new F(V)}apply(B){return B.map((H,V)=>B[this._indexMap[V]])}inverse(){const B=this._indexMap.slice();for(let H=0;H<this._indexMap.length;H++)B[this._indexMap[H]]=H;return new F(B)}}e.Permutation=F}),define(ie[66],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonotonousArray=void 0,e.findLast=f,e.findLastIdx=k,e.findLastMonotonous=E,e.findLastIdxMonotonous=L,e.findFirstMonotonous=y,e.findFirstIdxMonotonousOrArrLen=p,e.findFirstMaxBy=v,e.findLastMaxBy=_,e.findFirstMinBy=a,e.findMaxIdxBy=s,e.mapFindFirst=i;function f(t,n,h){const m=k(t,n);if(m!==-1)return t[m]}function k(t,n,h=t.length-1){for(let m=h;m>=0;m--){const u=t[m];if(n(u))return m}return-1}function E(t,n){const h=L(t,n);return h===-1?void 0:t[h]}function L(t,n,h=0,m=t.length){let u=h,d=m;for(;u<d;){const r=Math.floor((u+d)/2);n(t[r])?u=r+1:d=r}return u-1}function y(t,n){const h=p(t,n);return h===t.length?void 0:t[h]}function p(t,n,h=0,m=t.length){let u=h,d=m;for(;u<d;){const r=Math.floor((u+d)/2);n(t[r])?d=r:u=r+1}return u}class w{constructor(n){this._array=n,this._findLastMonotonousLastIdx=0}findLastMonotonous(n){if(w.assertInvariants){if(this._prevFindLastPredicate){for(const m of this._array)if(this._prevFindLastPredicate(m)&&!n(m))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=n}const h=L(this._array,n,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=h+1,h===-1?void 0:this._array[h]}}e.MonotonousArray=w,w.assertInvariants=!1;function v(t,n){if(t.length===0)return;let h=t[0];for(let m=1;m<t.length;m++){const u=t[m];n(u,h)>0&&(h=u)}return h}function _(t,n){if(t.length===0)return;let h=t[0];for(let m=1;m<t.length;m++){const u=t[m];n(u,h)>=0&&(h=u)}return h}function a(t,n){return v(t,(h,m)=>-n(h,m))}function s(t,n){if(t.length===0)return-1;let h=0;for(let m=1;m<t.length;m++){const u=t[m];n(u,t[h])>0&&(h=m)}return h}function i(t,n){for(const h of t){const m=n(h);if(m!==void 0)return m}}}),define(ie[284],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class f{constructor(L,y=JSON.stringify){this.fn=L,this._computeKey=y,this.lastCache=void 0,this.lastArgKey=void 0}get(L){const y=this._computeKey(L);return this.lastArgKey!==y&&(this.lastArgKey=y,this.lastCache=this.fn(L)),this.lastCache}}e.LRUCachedFunction=f;class k{get cachedValues(){return this._map}constructor(L){this.fn=L,this._map=new Map}get(L){if(this._map.has(L))return this._map.get(L);const y=this.fn(L);return this._map.set(L,y),y}}e.CachedFunction=k}),define(ie[285],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffSets=f,e.intersection=k;function f(E,L){const y=[],p=[];for(const w of E)L.has(w)||y.push(w);for(const w of L)E.has(w)||p.push(w);return{removed:y,added:p}}function k(E,L){const y=new Set;for(const p of L)E.has(p)&&y.add(p);return y}}),define(ie[34],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function f(p,w){const v=Math.pow(10,w);return Math.round(p*v)/v}class k{constructor(w,v,_,a=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,w))|0,this.g=Math.min(255,Math.max(0,v))|0,this.b=Math.min(255,Math.max(0,_))|0,this.a=f(Math.max(Math.min(1,a),0),3)}static equals(w,v){return w.r===v.r&&w.g===v.g&&w.b===v.b&&w.a===v.a}}e.RGBA=k;class E{constructor(w,v,_,a){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=f(Math.max(Math.min(1,v),0),3),this.l=f(Math.max(Math.min(1,_),0),3),this.a=f(Math.max(Math.min(1,a),0),3)}static equals(w,v){return w.h===v.h&&w.s===v.s&&w.l===v.l&&w.a===v.a}static fromRGBA(w){const v=w.r/255,_=w.g/255,a=w.b/255,s=w.a,i=Math.max(v,_,a),t=Math.min(v,_,a);let n=0,h=0;const m=(t+i)/2,u=i-t;if(u>0){switch(h=Math.min(m<=.5?u/(2*m):u/(2-2*m),1),i){case v:n=(_-a)/u+(_<a?6:0);break;case _:n=(a-v)/u+2;break;case a:n=(v-_)/u+4;break}n*=60,n=Math.round(n)}return new E(n,h,m,s)}static _hue2rgb(w,v,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?w+(v-w)*6*_:_<1/2?v:_<2/3?w+(v-w)*(2/3-_)*6:w}static toRGBA(w){const v=w.h/360,{s:_,l:a,a:s}=w;let i,t,n;if(_===0)i=t=n=a;else{const h=a<.5?a*(1+_):a+_-a*_,m=2*a-h;i=E._hue2rgb(m,h,v+1/3),t=E._hue2rgb(m,h,v),n=E._hue2rgb(m,h,v-1/3)}return new k(Math.round(i*255),Math.round(t*255),Math.round(n*255),s)}}e.HSLA=E;class L{constructor(w,v,_,a){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=f(Math.max(Math.min(1,v),0),3),this.v=f(Math.max(Math.min(1,_),0),3),this.a=f(Math.max(Math.min(1,a),0),3)}static equals(w,v){return w.h===v.h&&w.s===v.s&&w.v===v.v&&w.a===v.a}static fromRGBA(w){const v=w.r/255,_=w.g/255,a=w.b/255,s=Math.max(v,_,a),i=Math.min(v,_,a),t=s-i,n=s===0?0:t/s;let h;return t===0?h=0:s===v?h=((_-a)/t%6+6)%6:s===_?h=(a-v)/t+2:h=(v-_)/t+4,new L(Math.round(h*60),n,s,w.a)}static toRGBA(w){const{h:v,s:_,v:a,a:s}=w,i=a*_,t=i*(1-Math.abs(v/60%2-1)),n=a-i;let[h,m,u]=[0,0,0];return v<60?(h=i,m=t):v<120?(h=t,m=i):v<180?(m=i,u=t):v<240?(m=t,u=i):v<300?(h=t,u=i):v<=360&&(h=i,u=t),h=Math.round((h+n)*255),m=Math.round((m+n)*255),u=Math.round((u+n)*255),new k(h,m,u,s)}}e.HSVA=L;class y{static fromHex(w){return y.Format.CSS.parseHex(w)||y.red}static equals(w,v){return!w&&!v?!0:!w||!v?!1:w.equals(v)}get hsla(){return this._hsla?this._hsla:E.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:L.fromRGBA(this.rgba)}constructor(w){if(w)if(w instanceof k)this.rgba=w;else if(w instanceof E)this._hsla=w,this.rgba=E.toRGBA(w);else if(w instanceof L)this._hsva=w,this.rgba=L.toRGBA(w);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(w){return!!w&&k.equals(this.rgba,w.rgba)&&E.equals(this.hsla,w.hsla)&&L.equals(this.hsva,w.hsva)}getRelativeLuminance(){const w=y._relativeLuminanceForComponent(this.rgba.r),v=y._relativeLuminanceForComponent(this.rgba.g),_=y._relativeLuminanceForComponent(this.rgba.b),a=.2126*w+.7152*v+.0722*_;return f(a,4)}static _relativeLuminanceForComponent(w){const v=w/255;return v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(w){const v=this.getRelativeLuminance(),_=w.getRelativeLuminance();return v>_}isDarkerThan(w){const v=this.getRelativeLuminance(),_=w.getRelativeLuminance();return v<_}lighten(w){return new y(new E(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*w,this.hsla.a))}darken(w){return new y(new E(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*w,this.hsla.a))}transparent(w){const{r:v,g:_,b:a,a:s}=this.rgba;return new y(new k(v,_,a,s*w))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(w){if(this.isOpaque()||w.rgba.a!==1)return this;const{r:v,g:_,b:a,a:s}=this.rgba;return new y(new k(w.rgba.r-s*(w.rgba.r-v),w.rgba.g-s*(w.rgba.g-_),w.rgba.b-s*(w.rgba.b-a),1))}toString(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}static getLighterColor(w,v,_){if(w.isLighterThan(v))return w;_=_||.5;const a=w.getRelativeLuminance(),s=v.getRelativeLuminance();return _=_*(s-a)/s,w.lighten(_)}static getDarkerColor(w,v,_){if(w.isDarkerThan(v))return w;_=_||.5;const a=w.getRelativeLuminance(),s=v.getRelativeLuminance();return _=_*(a-s)/a,w.darken(_)}}e.Color=y,y.white=new y(new k(255,255,255,1)),y.black=new y(new k(0,0,0,1)),y.red=new y(new k(255,0,0,1)),y.blue=new y(new k(0,0,255,1)),y.green=new y(new k(0,255,0,1)),y.cyan=new y(new k(0,255,255,1)),y.lightgrey=new y(new k(211,211,211,1)),y.transparent=new y(new k(0,0,0,0)),function(p){let w;(function(v){let _;(function(a){function s(o){return o.rgba.a===1?`rgb(${o.rgba.r}, ${o.rgba.g}, ${o.rgba.b})`:p.Format.CSS.formatRGBA(o)}a.formatRGB=s;function i(o){return`rgba(${o.rgba.r}, ${o.rgba.g}, ${o.rgba.b}, ${+o.rgba.a.toFixed(2)})`}a.formatRGBA=i;function t(o){return o.hsla.a===1?`hsl(${o.hsla.h}, ${(o.hsla.s*100).toFixed(2)}%, ${(o.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(o)}a.formatHSL=t;function n(o){return`hsla(${o.hsla.h}, ${(o.hsla.s*100).toFixed(2)}%, ${(o.hsla.l*100).toFixed(2)}%, ${o.hsla.a.toFixed(2)})`}a.formatHSLA=n;function h(o){const g=o.toString(16);return g.length!==2?"0"+g:g}function m(o){return`#${h(o.rgba.r)}${h(o.rgba.g)}${h(o.rgba.b)}`}a.formatHex=m;function u(o,g=!1){return g&&o.rgba.a===1?p.Format.CSS.formatHex(o):`#${h(o.rgba.r)}${h(o.rgba.g)}${h(o.rgba.b)}${h(Math.round(o.rgba.a*255))}`}a.formatHexA=u;function d(o){return o.isOpaque()?p.Format.CSS.formatHex(o):p.Format.CSS.formatRGBA(o)}a.format=d;function r(o){const g=o.length;if(g===0||o.charCodeAt(0)!==35)return null;if(g===7){const c=16*l(o.charCodeAt(1))+l(o.charCodeAt(2)),b=16*l(o.charCodeAt(3))+l(o.charCodeAt(4)),C=16*l(o.charCodeAt(5))+l(o.charCodeAt(6));return new p(new k(c,b,C,1))}if(g===9){const c=16*l(o.charCodeAt(1))+l(o.charCodeAt(2)),b=16*l(o.charCodeAt(3))+l(o.charCodeAt(4)),C=16*l(o.charCodeAt(5))+l(o.charCodeAt(6)),S=16*l(o.charCodeAt(7))+l(o.charCodeAt(8));return new p(new k(c,b,C,S/255))}if(g===4){const c=l(o.charCodeAt(1)),b=l(o.charCodeAt(2)),C=l(o.charCodeAt(3));return new p(new k(16*c+c,16*b+b,16*C+C))}if(g===5){const c=l(o.charCodeAt(1)),b=l(o.charCodeAt(2)),C=l(o.charCodeAt(3)),S=l(o.charCodeAt(4));return new p(new k(16*c+c,16*b+b,16*C+C,(16*S+S)/255))}return null}a.parseHex=r;function l(o){switch(o){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(_=v.CSS||(v.CSS={}))})(w=p.Format||(p.Format={}))}(y||(e.Color=y={}))}),define(ie[118],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=f;function f(k,E,L){let y=null,p=null;if(typeof L.value=="function"?(y="value",p=L.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof L.get=="function"&&(y="get",p=L.get),!p)throw new Error("not supported");const w=`$memoize$${E}`;L[y]=function(...v){return this.hasOwnProperty(w)||Object.defineProperty(this,w,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,v)}),this[w]}}}),define(ie[417],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class f{constructor(E,L,y,p){this.originalStart=E,this.originalLength=L,this.modifiedStart=y,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=f}),define(ie[12],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.CancellationError=e.errorHandler=e.ErrorHandler=void 0,e.onUnexpectedError=k,e.onUnexpectedExternalError=E,e.transformErrorForSerialization=L,e.isCancellationError=p,e.canceled=v,e.illegalArgument=_,e.illegalState=a;class f{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(h){setTimeout(()=>{throw h.stack?i.isErrorNoTelemetry(h)?new i(h.message+`

`+h.stack):new Error(h.message+`

`+h.stack):h},0)}}emit(h){this.listeners.forEach(m=>{m(h)})}onUnexpectedError(h){this.unexpectedErrorHandler(h),this.emit(h)}onUnexpectedExternalError(h){this.unexpectedErrorHandler(h)}}e.ErrorHandler=f,e.errorHandler=new f;function k(n){p(n)||e.errorHandler.onUnexpectedError(n)}function E(n){p(n)||e.errorHandler.onUnexpectedExternalError(n)}function L(n){if(n instanceof Error){const{name:h,message:m}=n,u=n.stacktrace||n.stack;return{$isError:!0,name:h,message:m,stack:u,noTelemetry:i.isErrorNoTelemetry(n)}}return n}const y="Canceled";function p(n){return n instanceof w?!0:n instanceof Error&&n.name===y&&n.message===y}class w extends Error{constructor(){super(y),this.name=this.message}}e.CancellationError=w;function v(){const n=new Error(y);return n.name=n.message,n}function _(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function a(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class s extends Error{constructor(h){super("NotSupported"),h&&(this.message=h)}}e.NotSupportedError=s;class i extends Error{constructor(h){super(h),this.name="CodeExpectedError"}static fromError(h){if(h instanceof i)return h;const m=new i;return m.message=h.message,m.stack=h.stack,m}static isErrorNoTelemetry(h){return h.name==="CodeExpectedError"}}e.ErrorNoTelemetry=i;class t extends Error{constructor(h){super(h||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}e.BugIndicatingError=t}),define(ie[99],ne([1,0,52,12]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=E;function E(L,y){var p;const w=globalThis.MonacoEnvironment;if(w?.createTrustedTypesPolicy)try{return w.createTrustedTypesPolicy(L,y)}catch(v){(0,k.onUnexpectedError)(v);return}try{return(p=f.mainWindow.trustedTypes)===null||p===void 0?void 0:p.createPolicy(L,y)}catch(v){(0,k.onUnexpectedError)(v);return}}}),define(ie[87],ne([1,0,12]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=k,e.assertNever=E,e.softAssert=L,e.assertFn=y,e.checkAdjacentItems=p;function k(w,v){if(!w)throw new Error(v?`Assertion failed (${v})`:"Assertion Failed")}function E(w,v="Unreachable"){throw new Error(v)}function L(w){w||(0,f.onUnexpectedError)(new f.BugIndicatingError("Soft Assertion Failed"))}function y(w){if(!w()){debugger;w(),(0,f.onUnexpectedError)(new f.BugIndicatingError("Assertion Failed"))}}function p(w,v){let _=0;for(;_<w.length-1;){const a=w[_],s=w[_+1];if(!v(a,s))return!1;_++}return!0}}),define(ie[119],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSingleCallFunction=f;function f(k,E){const L=this;let y=!1,p;return function(){if(y)return p;if(y=!0,E)try{p=k.apply(L,arguments)}finally{E()}else p=k.apply(L,arguments);return p}}}),define(ie[88],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HierarchicalKind=void 0;class f{constructor(E){this.value=E}equals(E){return this.value===E.value}contains(E){return this.equals(E)||this.value===""||E.value.startsWith(this.value+f.sep)}intersects(E){return this.contains(E)||E.contains(this)}append(...E){return new f((this.value?[this.value,...E]:E).join(f.sep))}}e.HierarchicalKind=f,f.sep=".",f.None=new f("@@none@@"),f.Empty=new f("")}),define(ie[178],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class f{constructor(E){this._prefix=E,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=f,e.defaultGenerator=new f("id#")}),define(ie[54],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var f;(function(k){function E(o){return o&&typeof o=="object"&&typeof o[Symbol.iterator]=="function"}k.is=E;const L=Object.freeze([]);function y(){return L}k.empty=y;function*p(o){yield o}k.single=p;function w(o){return E(o)?o:p(o)}k.wrap=w;function v(o){return o||L}k.from=v;function*_(o){for(let g=o.length-1;g>=0;g--)yield o[g]}k.reverse=_;function a(o){return!o||o[Symbol.iterator]().next().done===!0}k.isEmpty=a;function s(o){return o[Symbol.iterator]().next().value}k.first=s;function i(o,g){for(const c of o)if(g(c))return!0;return!1}k.some=i;function t(o,g){for(const c of o)if(g(c))return c}k.find=t;function*n(o,g){for(const c of o)g(c)&&(yield c)}k.filter=n;function*h(o,g){let c=0;for(const b of o)yield g(b,c++)}k.map=h;function*m(...o){for(const g of o)yield*g}k.concat=m;function u(o,g,c){let b=c;for(const C of o)b=g(b,C);return b}k.reduce=u;function*d(o,g,c=o.length){for(g<0&&(g+=o.length),c<0?c+=o.length:c>o.length&&(c=o.length);g<c;g++)yield o[g]}k.slice=d;function r(o,g=Number.POSITIVE_INFINITY){const c=[];if(g===0)return[c,o];const b=o[Symbol.iterator]();for(let C=0;C<g;C++){const S=b.next();if(S.done)return[c,k.empty()];c.push(S.value)}return[c,{[Symbol.iterator](){return b}}]}k.consume=r;async function l(o){const g=[];for await(const c of o)g.push(c);return Promise.resolve(g)}k.asyncToArray=l})(f||(e.Iterable=f={}))}),define(ie[69],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0,e.KeyChord=_;class f{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(s,i){this._keyCodeToStr[s]=i,this._strToKeyCode[i.toLowerCase()]=s}keyCodeToStr(s){return this._keyCodeToStr[s]}strToKeyCode(s){return this._strToKeyCode[s.toLowerCase()]||0}}const k=new f,E=new f,L=new f;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const y=[],p=Object.create(null),w=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let a=0;a<=193;a++)e.IMMUTABLE_CODE_TO_KEY_CODE[a]=-1;for(let a=0;a<=132;a++)e.IMMUTABLE_KEY_CODE_TO_CODE[a]=-1;(function(){const a="",s=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",a,a],[1,1,"Hyper",0,a,0,a,a,a],[1,2,"Super",0,a,0,a,a,a],[1,3,"Fn",0,a,0,a,a,a],[1,4,"FnLock",0,a,0,a,a,a],[1,5,"Suspend",0,a,0,a,a,a],[1,6,"Resume",0,a,0,a,a,a],[1,7,"Turbo",0,a,0,a,a,a],[1,8,"Sleep",0,a,0,"VK_SLEEP",a,a],[1,9,"WakeUp",0,a,0,a,a,a],[0,10,"KeyA",31,"A",65,"VK_A",a,a],[0,11,"KeyB",32,"B",66,"VK_B",a,a],[0,12,"KeyC",33,"C",67,"VK_C",a,a],[0,13,"KeyD",34,"D",68,"VK_D",a,a],[0,14,"KeyE",35,"E",69,"VK_E",a,a],[0,15,"KeyF",36,"F",70,"VK_F",a,a],[0,16,"KeyG",37,"G",71,"VK_G",a,a],[0,17,"KeyH",38,"H",72,"VK_H",a,a],[0,18,"KeyI",39,"I",73,"VK_I",a,a],[0,19,"KeyJ",40,"J",74,"VK_J",a,a],[0,20,"KeyK",41,"K",75,"VK_K",a,a],[0,21,"KeyL",42,"L",76,"VK_L",a,a],[0,22,"KeyM",43,"M",77,"VK_M",a,a],[0,23,"KeyN",44,"N",78,"VK_N",a,a],[0,24,"KeyO",45,"O",79,"VK_O",a,a],[0,25,"KeyP",46,"P",80,"VK_P",a,a],[0,26,"KeyQ",47,"Q",81,"VK_Q",a,a],[0,27,"KeyR",48,"R",82,"VK_R",a,a],[0,28,"KeyS",49,"S",83,"VK_S",a,a],[0,29,"KeyT",50,"T",84,"VK_T",a,a],[0,30,"KeyU",51,"U",85,"VK_U",a,a],[0,31,"KeyV",52,"V",86,"VK_V",a,a],[0,32,"KeyW",53,"W",87,"VK_W",a,a],[0,33,"KeyX",54,"X",88,"VK_X",a,a],[0,34,"KeyY",55,"Y",89,"VK_Y",a,a],[0,35,"KeyZ",56,"Z",90,"VK_Z",a,a],[0,36,"Digit1",22,"1",49,"VK_1",a,a],[0,37,"Digit2",23,"2",50,"VK_2",a,a],[0,38,"Digit3",24,"3",51,"VK_3",a,a],[0,39,"Digit4",25,"4",52,"VK_4",a,a],[0,40,"Digit5",26,"5",53,"VK_5",a,a],[0,41,"Digit6",27,"6",54,"VK_6",a,a],[0,42,"Digit7",28,"7",55,"VK_7",a,a],[0,43,"Digit8",29,"8",56,"VK_8",a,a],[0,44,"Digit9",30,"9",57,"VK_9",a,a],[0,45,"Digit0",21,"0",48,"VK_0",a,a],[1,46,"Enter",3,"Enter",13,"VK_RETURN",a,a],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",a,a],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",a,a],[1,49,"Tab",2,"Tab",9,"VK_TAB",a,a],[1,50,"Space",10,"Space",32,"VK_SPACE",a,a],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,a,0,a,a,a],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",a,a],[1,64,"F1",59,"F1",112,"VK_F1",a,a],[1,65,"F2",60,"F2",113,"VK_F2",a,a],[1,66,"F3",61,"F3",114,"VK_F3",a,a],[1,67,"F4",62,"F4",115,"VK_F4",a,a],[1,68,"F5",63,"F5",116,"VK_F5",a,a],[1,69,"F6",64,"F6",117,"VK_F6",a,a],[1,70,"F7",65,"F7",118,"VK_F7",a,a],[1,71,"F8",66,"F8",119,"VK_F8",a,a],[1,72,"F9",67,"F9",120,"VK_F9",a,a],[1,73,"F10",68,"F10",121,"VK_F10",a,a],[1,74,"F11",69,"F11",122,"VK_F11",a,a],[1,75,"F12",70,"F12",123,"VK_F12",a,a],[1,76,"PrintScreen",0,a,0,a,a,a],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",a,a],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",a,a],[1,79,"Insert",19,"Insert",45,"VK_INSERT",a,a],[1,80,"Home",14,"Home",36,"VK_HOME",a,a],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",a,a],[1,82,"Delete",20,"Delete",46,"VK_DELETE",a,a],[1,83,"End",13,"End",35,"VK_END",a,a],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",a,a],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",a],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",a],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",a],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",a],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",a,a],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",a,a],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",a,a],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",a,a],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",a,a],[1,94,"NumpadEnter",3,a,0,a,a,a],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",a,a],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",a,a],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",a,a],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",a,a],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",a,a],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",a,a],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",a,a],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",a,a],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",a,a],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",a,a],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",a,a],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",a,a],[1,107,"ContextMenu",58,"ContextMenu",93,a,a,a],[1,108,"Power",0,a,0,a,a,a],[1,109,"NumpadEqual",0,a,0,a,a,a],[1,110,"F13",71,"F13",124,"VK_F13",a,a],[1,111,"F14",72,"F14",125,"VK_F14",a,a],[1,112,"F15",73,"F15",126,"VK_F15",a,a],[1,113,"F16",74,"F16",127,"VK_F16",a,a],[1,114,"F17",75,"F17",128,"VK_F17",a,a],[1,115,"F18",76,"F18",129,"VK_F18",a,a],[1,116,"F19",77,"F19",130,"VK_F19",a,a],[1,117,"F20",78,"F20",131,"VK_F20",a,a],[1,118,"F21",79,"F21",132,"VK_F21",a,a],[1,119,"F22",80,"F22",133,"VK_F22",a,a],[1,120,"F23",81,"F23",134,"VK_F23",a,a],[1,121,"F24",82,"F24",135,"VK_F24",a,a],[1,122,"Open",0,a,0,a,a,a],[1,123,"Help",0,a,0,a,a,a],[1,124,"Select",0,a,0,a,a,a],[1,125,"Again",0,a,0,a,a,a],[1,126,"Undo",0,a,0,a,a,a],[1,127,"Cut",0,a,0,a,a,a],[1,128,"Copy",0,a,0,a,a,a],[1,129,"Paste",0,a,0,a,a,a],[1,130,"Find",0,a,0,a,a,a],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",a,a],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",a,a],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",a,a],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",a,a],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",a,a],[1,136,"KanaMode",0,a,0,a,a,a],[0,137,"IntlYen",0,a,0,a,a,a],[1,138,"Convert",0,a,0,a,a,a],[1,139,"NonConvert",0,a,0,a,a,a],[1,140,"Lang1",0,a,0,a,a,a],[1,141,"Lang2",0,a,0,a,a,a],[1,142,"Lang3",0,a,0,a,a,a],[1,143,"Lang4",0,a,0,a,a,a],[1,144,"Lang5",0,a,0,a,a,a],[1,145,"Abort",0,a,0,a,a,a],[1,146,"Props",0,a,0,a,a,a],[1,147,"NumpadParenLeft",0,a,0,a,a,a],[1,148,"NumpadParenRight",0,a,0,a,a,a],[1,149,"NumpadBackspace",0,a,0,a,a,a],[1,150,"NumpadMemoryStore",0,a,0,a,a,a],[1,151,"NumpadMemoryRecall",0,a,0,a,a,a],[1,152,"NumpadMemoryClear",0,a,0,a,a,a],[1,153,"NumpadMemoryAdd",0,a,0,a,a,a],[1,154,"NumpadMemorySubtract",0,a,0,a,a,a],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",a,a],[1,156,"NumpadClearEntry",0,a,0,a,a,a],[1,0,a,5,"Ctrl",17,"VK_CONTROL",a,a],[1,0,a,4,"Shift",16,"VK_SHIFT",a,a],[1,0,a,6,"Alt",18,"VK_MENU",a,a],[1,0,a,57,"Meta",91,"VK_COMMAND",a,a],[1,157,"ControlLeft",5,a,0,"VK_LCONTROL",a,a],[1,158,"ShiftLeft",4,a,0,"VK_LSHIFT",a,a],[1,159,"AltLeft",6,a,0,"VK_LMENU",a,a],[1,160,"MetaLeft",57,a,0,"VK_LWIN",a,a],[1,161,"ControlRight",5,a,0,"VK_RCONTROL",a,a],[1,162,"ShiftRight",4,a,0,"VK_RSHIFT",a,a],[1,163,"AltRight",6,a,0,"VK_RMENU",a,a],[1,164,"MetaRight",57,a,0,"VK_RWIN",a,a],[1,165,"BrightnessUp",0,a,0,a,a,a],[1,166,"BrightnessDown",0,a,0,a,a,a],[1,167,"MediaPlay",0,a,0,a,a,a],[1,168,"MediaRecord",0,a,0,a,a,a],[1,169,"MediaFastForward",0,a,0,a,a,a],[1,170,"MediaRewind",0,a,0,a,a,a],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",a,a],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",a,a],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",a,a],[1,174,"Eject",0,a,0,a,a,a],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",a,a],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",a,a],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",a,a],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",a,a],[1,179,"LaunchApp1",0,a,0,"VK_MEDIA_LAUNCH_APP1",a,a],[1,180,"SelectTask",0,a,0,a,a,a],[1,181,"LaunchScreenSaver",0,a,0,a,a,a],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",a,a],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",a,a],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",a,a],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",a,a],[1,186,"BrowserStop",0,a,0,"VK_BROWSER_STOP",a,a],[1,187,"BrowserRefresh",0,a,0,"VK_BROWSER_REFRESH",a,a],[1,188,"BrowserFavorites",0,a,0,"VK_BROWSER_FAVORITES",a,a],[1,189,"ZoomToggle",0,a,0,a,a,a],[1,190,"MailReply",0,a,0,a,a,a],[1,191,"MailForward",0,a,0,a,a,a],[1,192,"MailSend",0,a,0,a,a,a],[1,0,a,114,"KeyInComposition",229,a,a,a],[1,0,a,116,"ABNT_C2",194,"VK_ABNT_C2",a,a],[1,0,a,96,"OEM_8",223,"VK_OEM_8",a,a],[1,0,a,0,a,0,"VK_KANA",a,a],[1,0,a,0,a,0,"VK_HANGUL",a,a],[1,0,a,0,a,0,"VK_JUNJA",a,a],[1,0,a,0,a,0,"VK_FINAL",a,a],[1,0,a,0,a,0,"VK_HANJA",a,a],[1,0,a,0,a,0,"VK_KANJI",a,a],[1,0,a,0,a,0,"VK_CONVERT",a,a],[1,0,a,0,a,0,"VK_NONCONVERT",a,a],[1,0,a,0,a,0,"VK_ACCEPT",a,a],[1,0,a,0,a,0,"VK_MODECHANGE",a,a],[1,0,a,0,a,0,"VK_SELECT",a,a],[1,0,a,0,a,0,"VK_PRINT",a,a],[1,0,a,0,a,0,"VK_EXECUTE",a,a],[1,0,a,0,a,0,"VK_SNAPSHOT",a,a],[1,0,a,0,a,0,"VK_HELP",a,a],[1,0,a,0,a,0,"VK_APPS",a,a],[1,0,a,0,a,0,"VK_PROCESSKEY",a,a],[1,0,a,0,a,0,"VK_PACKET",a,a],[1,0,a,0,a,0,"VK_DBE_SBCSCHAR",a,a],[1,0,a,0,a,0,"VK_DBE_DBCSCHAR",a,a],[1,0,a,0,a,0,"VK_ATTN",a,a],[1,0,a,0,a,0,"VK_CRSEL",a,a],[1,0,a,0,a,0,"VK_EXSEL",a,a],[1,0,a,0,a,0,"VK_EREOF",a,a],[1,0,a,0,a,0,"VK_PLAY",a,a],[1,0,a,0,a,0,"VK_ZOOM",a,a],[1,0,a,0,a,0,"VK_NONAME",a,a],[1,0,a,0,a,0,"VK_PA1",a,a],[1,0,a,0,a,0,"VK_OEM_CLEAR",a,a]],i=[],t=[];for(const n of s){const[h,m,u,d,r,l,o,g,c]=n;if(t[m]||(t[m]=!0,y[m]=u,p[u]=m,w[u.toLowerCase()]=m,h&&(e.IMMUTABLE_CODE_TO_KEY_CODE[m]=d,d!==0&&d!==3&&d!==5&&d!==4&&d!==6&&d!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[d]=m))),!i[d]){if(i[d]=!0,!r)throw new Error(`String representation missing for key code ${d} around scan code ${u}`);k.define(d,r),E.define(d,g||r),L.define(d,c||g||r)}l&&(e.EVENT_KEY_CODE_MAP[l]=d),o&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[o]=d)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var v;(function(a){function s(u){return k.keyCodeToStr(u)}a.toString=s;function i(u){return k.strToKeyCode(u)}a.fromString=i;function t(u){return E.keyCodeToStr(u)}a.toUserSettingsUS=t;function n(u){return L.keyCodeToStr(u)}a.toUserSettingsGeneral=n;function h(u){return E.strToKeyCode(u)||L.strToKeyCode(u)}a.fromUserSettings=h;function m(u){if(u>=98&&u<=113)return null;switch(u){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(u)}a.toElectronAccelerator=m})(v||(e.KeyCodeUtils=v={}));function _(a,s){const i=(s&65535)<<16>>>0;return(a|i)>>>0}}),define(ie[133],ne([1,0,12]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=void 0,e.decodeKeybinding=k,e.createSimpleKeybinding=E;function k(_,a){if(typeof _=="number"){if(_===0)return null;const s=(_&65535)>>>0,i=(_&4294901760)>>>16;return i!==0?new p([E(s,a),E(i,a)]):new p([E(s,a)])}else{const s=[];for(let i=0;i<_.length;i++)s.push(E(_[i],a));return new p(s)}}function E(_,a){const s=!!(_&2048),i=!!(_&256),t=a===2?i:s,n=!!(_&1024),h=!!(_&512),m=a===2?s:i,u=_&255;return new L(t,n,h,m,u)}class L{constructor(a,s,i,t,n){this.ctrlKey=a,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.keyCode=n}equals(a){return a instanceof L&&this.ctrlKey===a.ctrlKey&&this.shiftKey===a.shiftKey&&this.altKey===a.altKey&&this.metaKey===a.metaKey&&this.keyCode===a.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=L;class y{constructor(a,s,i,t,n){this.ctrlKey=a,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.scanCode=n}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=y;class p{constructor(a){if(a.length===0)throw(0,f.illegalArgument)("chords");this.chords=a}}e.Keybinding=p;class w{constructor(a,s,i,t,n,h){this.ctrlKey=a,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.keyLabel=n,this.keyAriaLabel=h}}e.ResolvedChord=w;class v{}e.ResolvedKeybinding=v}),define(ie[95],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class f{constructor(E){this.executor=E,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(E){this._error=E}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=f}),define(ie[44],ne([1,0,95]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHoverDelegateFactory=p,e.getDefaultHoverDelegate=w,e.createInstantHoverDelegate=v;let E=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const L=new f.Lazy(()=>E("mouse",!1)),y=new f.Lazy(()=>E("element",!1));function p(_){E=_}function w(_){return _==="element"?y.value:L.value}function v(){return E("element",!0)}}),define(ie[154],ne([1,0,95]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSBuffer=void 0,e.readUInt16LE=p,e.writeUInt16LE=w,e.readUInt32BE=v,e.writeUInt32BE=_,e.readUInt8=a,e.writeUInt8=s;const k=typeof Buffer<"u",E=new f.Lazy(()=>new Uint8Array(256));let L;class y{static wrap(t){return k&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new y(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(L||(L=new TextDecoder),L.decode(this.buffer))}}e.VSBuffer=y;function p(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}function w(i,t,n){i[n+0]=t&255,t=t>>>8,i[n+1]=t&255}function v(i,t){return i[t]*2**24+i[t+1]*2**16+i[t+2]*2**8+i[t+3]}function _(i,t,n){i[n+3]=t,t=t>>>8,i[n+2]=t,t=t>>>8,i[n+1]=t,t=t>>>8,i[n]=t}function a(i,t){return i[t]}function s(i,t,n){i[n]=t}}),define(ie[418],ne([1,0,95]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareFileNames=y,e.compareAnything=p,e.compareByPrefix=w;const k=new f.Lazy(()=>{const v=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:v,collatorIsNumeric:v.resolvedOptions().numeric}}),E=new f.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),L=new f.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function y(v,_,a=!1){const s=v||"",i=_||"",t=k.value.collator.compare(s,i);return k.value.collatorIsNumeric&&t===0&&s!==i?s<i?-1:1:t}function p(v,_,a){const s=v.toLowerCase(),i=_.toLowerCase(),t=w(v,_,a);if(t)return t;const n=s.endsWith(a),h=i.endsWith(a);if(n!==h)return n?-1:1;const m=y(s,i);return m!==0?m:s.localeCompare(i)}function w(v,_,a){const s=v.toLowerCase(),i=_.toLowerCase(),t=s.startsWith(a),n=i.startsWith(a);if(t!==n)return t?-1:1;if(t&&n){if(s.length<i.length)return-1;if(s.length>i.length)return 1}return 0}}),define(ie[2],ne([1,0,119,54]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=void 0,e.setDisposableTracker=y,e.trackDisposable=p,e.markAsDisposed=w,e.markAsSingleton=a,e.isDisposable=s,e.dispose=i,e.combinedDisposable=t,e.toDisposable=n;const E=!1;let L=null;function y(o){L=o}if(E){const o="__is_disposable_tracked__";y(new class{trackDisposable(g){const c=new Error("Potentially leaked disposable").stack;setTimeout(()=>{g[o]||console.log(c)},3e3)}setParent(g,c){if(g&&g!==m.None)try{g[o]=!0}catch{}}markAsDisposed(g){if(g&&g!==m.None)try{g[o]=!0}catch{}}markAsSingleton(g){}})}function p(o){return L?.trackDisposable(o),o}function w(o){L?.markAsDisposed(o)}function v(o,g){L?.setParent(o,g)}function _(o,g){if(L)for(const c of o)L.setParent(c,g)}function a(o){return L?.markAsSingleton(o),o}function s(o){return typeof o.dispose=="function"&&o.dispose.length===0}function i(o){if(k.Iterable.is(o)){const g=[];for(const c of o)if(c)try{c.dispose()}catch(b){g.push(b)}if(g.length===1)throw g[0];if(g.length>1)throw new AggregateError(g,"Encountered errors while disposing of store");return Array.isArray(o)?[]:o}else if(o)return o.dispose(),o}function t(...o){const g=n(()=>i(o));return _(o,g),g}function n(o){const g=p({dispose:(0,f.createSingleCallFunction)(()=>{w(g),o()})});return g}class h{constructor(){this._toDispose=new Set,this._isDisposed=!1,p(this)}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{i(this._toDispose)}finally{this._toDispose.clear()}}add(g){if(!g)return g;if(g===this)throw new Error("Cannot register a disposable on itself!");return v(g,this),this._isDisposed?h.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(g),g}deleteAndLeak(g){g&&this._toDispose.has(g)&&(this._toDispose.delete(g),v(g,null))}}e.DisposableStore=h,h.DISABLE_DISPOSED_WARNING=!1;class m{constructor(){this._store=new h,p(this),v(this._store,this)}dispose(){w(this),this._store.dispose()}_register(g){if(g===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(g)}}e.Disposable=m,m.None=Object.freeze({dispose(){}});class u{constructor(){this._isDisposed=!1,p(this)}get value(){return this._isDisposed?void 0:this._value}set value(g){var c;this._isDisposed||g===this._value||((c=this._value)===null||c===void 0||c.dispose(),g&&v(g,this),this._value=g)}clear(){this.value=void 0}dispose(){var g;this._isDisposed=!0,w(this),(g=this._value)===null||g===void 0||g.dispose(),this._value=void 0}}e.MutableDisposable=u;class d{constructor(g){this._disposable=g,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=d;class r{constructor(g){this.object=g}dispose(){}}e.ImmortalReference=r;class l{constructor(){this._store=new Map,this._isDisposed=!1,p(this)}dispose(){w(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{i(this._store.values())}finally{this._store.clear()}}get(g){return this._store.get(g)}set(g,c,b=!1){var C;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),b||(C=this._store.get(g))===null||C===void 0||C.dispose(),this._store.set(g,c)}deleteAndDispose(g){var c;(c=this._store.get(g))===null||c===void 0||c.dispose(),this._store.delete(g)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=l}),define(ie[70],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class f{constructor(L){this.element=L,this.next=f.Undefined,this.prev=f.Undefined}}f.Undefined=new f(void 0);class k{constructor(){this._first=f.Undefined,this._last=f.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f.Undefined}clear(){let L=this._first;for(;L!==f.Undefined;){const y=L.next;L.prev=f.Undefined,L.next=f.Undefined,L=y}this._first=f.Undefined,this._last=f.Undefined,this._size=0}unshift(L){return this._insert(L,!1)}push(L){return this._insert(L,!0)}_insert(L,y){const p=new f(L);if(this._first===f.Undefined)this._first=p,this._last=p;else if(y){const v=this._last;this._last=p,p.prev=v,v.next=p}else{const v=this._first;this._first=p,p.next=v,v.prev=p}this._size+=1;let w=!1;return()=>{w||(w=!0,this._remove(p))}}shift(){if(this._first!==f.Undefined){const L=this._first.element;return this._remove(this._first),L}}pop(){if(this._last!==f.Undefined){const L=this._last.element;return this._remove(this._last),L}}_remove(L){if(L.prev!==f.Undefined&&L.next!==f.Undefined){const y=L.prev;y.next=L.next,L.next.prev=y}else L.prev===f.Undefined&&L.next===f.Undefined?(this._first=f.Undefined,this._last=f.Undefined):L.next===f.Undefined?(this._last=this._last.prev,this._last.next=f.Undefined):L.prev===f.Undefined&&(this._first=this._first.next,this._first.prev=f.Undefined);this._size-=1}*[Symbol.iterator](){let L=this._first;for(;L!==f.Undefined;)yield L.element,L=L.next}}e.LinkedList=k});var Ie=this&&this.__decorate||function(J,e,f,k){var E=arguments.length,L=E<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,f):k,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(J,e,f,k);else for(var p=J.length-1;p>=0;p--)(y=J[p])&&(L=(E<3?y(L):E>3?y(e,f,L):y(e,f))||L);return E>3&&L&&Object.defineProperty(e,f,L),L};define(ie[419],ne([1,0,118]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedText=void 0,e.parseLinkedText=L;class k{constructor(p){this.nodes=p}toString(){return this.nodes.map(p=>typeof p=="string"?p:p.label).join("")}}e.LinkedText=k,Ie([f.memoize],k.prototype,"toString",null);const E=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function L(y){const p=[];let w=0,v;for(;v=E.exec(y);){v.index-w>0&&p.push(y.substring(w,v.index));const[,_,a,,s]=v;s?p.push({label:_,href:a,title:s}):p.push({label:_,href:a}),w=v.index+v[0].length}return w<y.length&&p.push(y.substring(w)),new k(p)}}),define(ie[47],ne([1,0]),function(J,e){"use strict";var f,k;Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.BidirectionalMap=e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class E{constructor(s,i){this.uri=s,this.value=i}}function L(a){return Array.isArray(a)}class y{constructor(s,i){if(this[f]="ResourceMap",s instanceof y)this.map=new Map(s.map),this.toKey=i??y.defaultToKey;else if(L(s)){this.map=new Map,this.toKey=i??y.defaultToKey;for(const[t,n]of s)this.set(t,n)}else this.map=new Map,this.toKey=s??y.defaultToKey}set(s,i){return this.map.set(this.toKey(s),new E(s,i)),this}get(s){var i;return(i=this.map.get(this.toKey(s)))===null||i===void 0?void 0:i.value}has(s){return this.map.has(this.toKey(s))}get size(){return this.map.size}clear(){this.map.clear()}delete(s){return this.map.delete(this.toKey(s))}forEach(s,i){typeof i<"u"&&(s=s.bind(i));for(const[t,n]of this.map)s(n.value,n.uri,this)}*values(){for(const s of this.map.values())yield s.value}*keys(){for(const s of this.map.values())yield s.uri}*entries(){for(const s of this.map.values())yield[s.uri,s.value]}*[(f=Symbol.toStringTag,Symbol.iterator)](){for(const[,s]of this.map)yield[s.uri,s.value]}}e.ResourceMap=y,y.defaultToKey=a=>a.toString();class p{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}has(s){return this._map.has(s)}get(s,i=0){const t=this._map.get(s);if(t)return i!==0&&this.touch(t,i),t.value}set(s,i,t=0){let n=this._map.get(s);if(n)n.value=i,t!==0&&this.touch(n,t);else{switch(n={key:s,value:i,next:void 0,previous:void 0},t){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(s,n),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const i=this._map.get(s);if(i)return this._map.delete(s),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,i){const t=this._state;let n=this._head;for(;n;){if(i?s.bind(i)(n.value,n.key,this):s(n.value,n.key,this),this._state!==t)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const s=this,i=this._state;let t=this._head;const n={[Symbol.iterator](){return n},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const h={value:t.key,done:!1};return t=t.next,h}else return{value:void 0,done:!0}}};return n}values(){const s=this,i=this._state;let t=this._head;const n={[Symbol.iterator](){return n},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const h={value:t.value,done:!1};return t=t.next,h}else return{value:void 0,done:!0}}};return n}entries(){const s=this,i=this._state;let t=this._head;const n={[Symbol.iterator](){return n},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const h={value:[t.key,t.value],done:!1};return t=t.next,h}else return{value:void 0,done:!0}}};return n}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let i=this._head,t=this.size;for(;i&&t>s;)this._map.delete(i.key),i=i.next,t--;this._head=i,this._size=t,i&&(i.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const i=s.next,t=s.previous;if(!i||!t)throw new Error("Invalid list");i.previous=t,t.next=i}s.next=void 0,s.previous=void 0,this._state++}touch(s,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==1&&i!==2)){if(i===1){if(s===this._head)return;const t=s.next,n=s.previous;s===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(i===2){if(s===this._tail)return;const t=s.next,n=s.previous;s===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((i,t)=>{s.push([t,i])}),s}fromJSON(s){this.clear();for(const[i,t]of s)this.set(i,t)}}e.LinkedMap=p;class w extends p{constructor(s,i=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get(s,i=2){return super.get(s,i)}peek(s){return super.get(s,0)}set(s,i){return super.set(s,i,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=w;class v{constructor(s){if(this._m1=new Map,this._m2=new Map,s)for(const[i,t]of s)this.set(i,t)}clear(){this._m1.clear(),this._m2.clear()}set(s,i){this._m1.set(s,i),this._m2.set(i,s)}get(s){return this._m1.get(s)}getKey(s){return this._m2.get(s)}delete(s){const i=this._m1.get(s);return i===void 0?!1:(this._m1.delete(s),this._m2.delete(i),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}e.BidirectionalMap=v;class _{constructor(){this.map=new Map}add(s,i){let t=this.map.get(s);t||(t=new Set,this.map.set(s,t)),t.add(i)}delete(s,i){const t=this.map.get(s);t&&(t.delete(i),t.size===0&&this.map.delete(s))}forEach(s,i){const t=this.map.get(s);t&&t.forEach(i)}get(s){const i=this.map.get(s);return i||new Set}}e.SetMap=_}),function(J,e){typeof define=="function"&&define.amd?define(ie[420],ne([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(J=typeof globalThis<"u"?globalThis:J||self,e(J.marked={}))}(this,function(J){"use strict";function e(se,te){for(var $=0;$<te.length;$++){var W=te[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(se,W.key,W)}}function f(se,te,$){return te&&e(se.prototype,te),$&&e(se,$),Object.defineProperty(se,"prototype",{writable:!1}),se}function k(se,te){if(se){if(typeof se=="string")return E(se,te);var $=Object.prototype.toString.call(se).slice(8,-1);if($==="Object"&&se.constructor&&($=se.constructor.name),$==="Map"||$==="Set")return Array.from(se);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return E(se,te)}}function E(se,te){(te==null||te>se.length)&&(te=se.length);for(var $=0,W=new Array(te);$<te;$++)W[$]=se[$];return W}function L(se,te){var $=typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if($)return($=$.call(se)).next.bind($);if(Array.isArray(se)||($=k(se))||te&&se&&typeof se.length=="number"){$&&(se=$);var W=0;return function(){return W>=se.length?{done:!0}:{done:!1,value:se[W++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}J.defaults=y();function p(se){J.defaults=se}var w=/[&<>"']/,v=/[&<>"']/g,_=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(te){return s[te]};function t(se,te){if(te){if(w.test(se))return se.replace(v,i)}else if(_.test(se))return se.replace(a,i);return se}var n=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function h(se){return se.replace(n,function(te,$){return $=$.toLowerCase(),$==="colon"?":":$.charAt(0)==="#"?$.charAt(1)==="x"?String.fromCharCode(parseInt($.substring(2),16)):String.fromCharCode(+$.substring(1)):""})}var m=/(^|[^\[])\^/g;function u(se,te){se=typeof se=="string"?se:se.source,te=te||"";var $={replace:function(j,K){return K=K.source||K,K=K.replace(m,"$1"),se=se.replace(j,K),$},getRegex:function(){return new RegExp(se,te)}};return $}var d=/[^\w:]/g,r=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function l(se,te,$){if(se){var W;try{W=decodeURIComponent(h($)).replace(d,"").toLowerCase()}catch{return null}if(W.indexOf("javascript:")===0||W.indexOf("vbscript:")===0||W.indexOf("data:")===0)return null}te&&!r.test($)&&($=C(te,$));try{$=encodeURI($).replace(/%25/g,"%")}catch{return null}return $}var o={},g=/^[^:]+:\/*[^/]*$/,c=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function C(se,te){o[" "+se]||(g.test(se)?o[" "+se]=se+"/":o[" "+se]=T(se,"/",!0)),se=o[" "+se];var $=se.indexOf(":")===-1;return te.substring(0,2)==="//"?$?te:se.replace(c,"$1")+te:te.charAt(0)==="/"?$?te:se.replace(b,"$1")+te:se+te}var S={exec:function(){}};function D(se){for(var te=1,$,W;te<arguments.length;te++){$=arguments[te];for(W in $)Object.prototype.hasOwnProperty.call($,W)&&(se[W]=$[W])}return se}function I(se,te){var $=se.replace(/\|/g,function(K,G,ee){for(var oe=!1,de=G;--de>=0&&ee[de]==="\\";)oe=!oe;return oe?"|":" |"}),W=$.split(/ \|/),j=0;if(W[0].trim()||W.shift(),W.length>0&&!W[W.length-1].trim()&&W.pop(),W.length>te)W.splice(te);else for(;W.length<te;)W.push("");for(;j<W.length;j++)W[j]=W[j].trim().replace(/\\\|/g,"|");return W}function T(se,te,$){var W=se.length;if(W===0)return"";for(var j=0;j<W;){var K=se.charAt(W-j-1);if(K===te&&!$)j++;else if(K!==te&&$)j++;else break}return se.slice(0,W-j)}function N(se,te){if(se.indexOf(te[1])===-1)return-1;for(var $=se.length,W=0,j=0;j<$;j++)if(se[j]==="\\")j++;else if(se[j]===te[0])W++;else if(se[j]===te[1]&&(W--,W<0))return j;return-1}function A(se){se&&se.sanitize&&!se.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(se,te){if(te<1)return"";for(var $="";te>1;)te&1&&($+=se),te>>=1,se+=se;return $+se}function M(se,te,$,W){var j=te.href,K=te.title?t(te.title):null,G=se[1].replace(/\\([\[\]])/g,"$1");if(se[0].charAt(0)!=="!"){W.state.inLink=!0;var ee={type:"link",raw:$,href:j,title:K,text:G,tokens:W.inlineTokens(G)};return W.state.inLink=!1,ee}return{type:"image",raw:$,href:j,title:K,text:t(G)}}function R(se,te){var $=se.match(/^(\s+)(?:```)/);if($===null)return te;var W=$[1];return te.split(`
`).map(function(j){var K=j.match(/^\s+/);if(K===null)return j;var G=K[0];return G.length>=W.length?j.slice(W.length):j}).join(`
`)}var F=function(){function se($){this.options=$||J.defaults}var te=se.prototype;return te.space=function(W){var j=this.rules.block.newline.exec(W);if(j&&j[0].length>0)return{type:"space",raw:j[0]}},te.code=function(W){var j=this.rules.block.code.exec(W);if(j){var K=j[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:j[0],codeBlockStyle:"indented",text:this.options.pedantic?K:T(K,`
`)}}},te.fences=function(W){var j=this.rules.block.fences.exec(W);if(j){var K=j[0],G=R(K,j[3]||"");return{type:"code",raw:K,lang:j[2]?j[2].trim():j[2],text:G}}},te.heading=function(W){var j=this.rules.block.heading.exec(W);if(j){var K=j[2].trim();if(/#$/.test(K)){var G=T(K,"#");(this.options.pedantic||!G||/ $/.test(G))&&(K=G.trim())}return{type:"heading",raw:j[0],depth:j[1].length,text:K,tokens:this.lexer.inline(K)}}},te.hr=function(W){var j=this.rules.block.hr.exec(W);if(j)return{type:"hr",raw:j[0]}},te.blockquote=function(W){var j=this.rules.block.blockquote.exec(W);if(j){var K=j[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:j[0],tokens:this.lexer.blockTokens(K,[]),text:K}}},te.list=function(W){var j=this.rules.block.list.exec(W);if(j){var K,G,ee,oe,de,le,ge,ve,Ce,Se,be,ke,Ee=j[1].trim(),Ae=Ee.length>1,Pe={type:"list",raw:"",ordered:Ae,start:Ae?+Ee.slice(0,-1):"",loose:!1,items:[]};Ee=Ae?"\\d{1,9}\\"+Ee.slice(-1):"\\"+Ee,this.options.pedantic&&(Ee=Ae?Ee:"[*+-]");for(var He=new RegExp("^( {0,3}"+Ee+")((?:[	 ][^\\n]*)?(?:\\n|$))");W&&(ke=!1,!(!(j=He.exec(W))||this.rules.block.hr.test(W)));){if(K=j[0],W=W.substring(K.length),ve=j[2].split(`
`,1)[0],Ce=W.split(`
`,1)[0],this.options.pedantic?(oe=2,be=ve.trimLeft()):(oe=j[2].search(/[^ ]/),oe=oe>4?1:oe,be=ve.slice(oe),oe+=j[1].length),le=!1,!ve&&/^ *$/.test(Ce)&&(K+=Ce+`
`,W=W.substring(Ce.length+1),ke=!0),!ke)for(var Be=new RegExp("^ {0,"+Math.min(3,oe-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),De=new RegExp("^ {0,"+Math.min(3,oe-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Ne=new RegExp("^ {0,"+Math.min(3,oe-1)+"}(?:```|~~~)"),me=new RegExp("^ {0,"+Math.min(3,oe-1)+"}#");W&&(Se=W.split(`
`,1)[0],ve=Se,this.options.pedantic&&(ve=ve.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ne.test(ve)||me.test(ve)||Be.test(ve)||De.test(W)));){if(ve.search(/[^ ]/)>=oe||!ve.trim())be+=`
`+ve.slice(oe);else if(!le)be+=`
`+ve;else break;!le&&!ve.trim()&&(le=!0),K+=Se+`
`,W=W.substring(Se.length+1)}Pe.loose||(ge?Pe.loose=!0:/\n *\n *$/.test(K)&&(ge=!0)),this.options.gfm&&(G=/^\[[ xX]\] /.exec(be),G&&(ee=G[0]!=="[ ] ",be=be.replace(/^\[[ xX]\] +/,""))),Pe.items.push({type:"list_item",raw:K,task:!!G,checked:ee,loose:!1,text:be}),Pe.raw+=K}Pe.items[Pe.items.length-1].raw=K.trimRight(),Pe.items[Pe.items.length-1].text=be.trimRight(),Pe.raw=Pe.raw.trimRight();var _e=Pe.items.length;for(de=0;de<_e;de++){this.lexer.state.top=!1,Pe.items[de].tokens=this.lexer.blockTokens(Pe.items[de].text,[]);var Re=Pe.items[de].tokens.filter(function(qe){return qe.type==="space"}),We=Re.every(function(qe){for(var je=qe.raw.split(""),Ze=0,Je=L(je),st;!(st=Je()).done;){var rt=st.value;if(rt===`
`&&(Ze+=1),Ze>1)return!0}return!1});!Pe.loose&&Re.length&&We&&(Pe.loose=!0,Pe.items[de].loose=!0)}return Pe}},te.html=function(W){var j=this.rules.block.html.exec(W);if(j){var K={type:"html",raw:j[0],pre:!this.options.sanitizer&&(j[1]==="pre"||j[1]==="script"||j[1]==="style"),text:j[0]};if(this.options.sanitize){var G=this.options.sanitizer?this.options.sanitizer(j[0]):t(j[0]);K.type="paragraph",K.text=G,K.tokens=this.lexer.inline(G)}return K}},te.def=function(W){var j=this.rules.block.def.exec(W);if(j){j[3]&&(j[3]=j[3].substring(1,j[3].length-1));var K=j[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:K,raw:j[0],href:j[2],title:j[3]}}},te.table=function(W){var j=this.rules.block.table.exec(W);if(j){var K={type:"table",header:I(j[1]).map(function(ge){return{text:ge}}),align:j[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:j[3]&&j[3].trim()?j[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(K.header.length===K.align.length){K.raw=j[0];var G=K.align.length,ee,oe,de,le;for(ee=0;ee<G;ee++)/^ *-+: *$/.test(K.align[ee])?K.align[ee]="right":/^ *:-+: *$/.test(K.align[ee])?K.align[ee]="center":/^ *:-+ *$/.test(K.align[ee])?K.align[ee]="left":K.align[ee]=null;for(G=K.rows.length,ee=0;ee<G;ee++)K.rows[ee]=I(K.rows[ee],K.header.length).map(function(ge){return{text:ge}});for(G=K.header.length,oe=0;oe<G;oe++)K.header[oe].tokens=this.lexer.inline(K.header[oe].text);for(G=K.rows.length,oe=0;oe<G;oe++)for(le=K.rows[oe],de=0;de<le.length;de++)le[de].tokens=this.lexer.inline(le[de].text);return K}}},te.lheading=function(W){var j=this.rules.block.lheading.exec(W);if(j)return{type:"heading",raw:j[0],depth:j[2].charAt(0)==="="?1:2,text:j[1],tokens:this.lexer.inline(j[1])}},te.paragraph=function(W){var j=this.rules.block.paragraph.exec(W);if(j){var K=j[1].charAt(j[1].length-1)===`
`?j[1].slice(0,-1):j[1];return{type:"paragraph",raw:j[0],text:K,tokens:this.lexer.inline(K)}}},te.text=function(W){var j=this.rules.block.text.exec(W);if(j)return{type:"text",raw:j[0],text:j[0],tokens:this.lexer.inline(j[0])}},te.escape=function(W){var j=this.rules.inline.escape.exec(W);if(j)return{type:"escape",raw:j[0],text:t(j[1])}},te.tag=function(W){var j=this.rules.inline.tag.exec(W);if(j)return!this.lexer.state.inLink&&/^<a /i.test(j[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(j[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(j[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(j[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:j[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(j[0]):t(j[0]):j[0]}},te.link=function(W){var j=this.rules.inline.link.exec(W);if(j){var K=j[2].trim();if(!this.options.pedantic&&/^</.test(K)){if(!/>$/.test(K))return;var G=T(K.slice(0,-1),"\\");if((K.length-G.length)%2===0)return}else{var ee=N(j[2],"()");if(ee>-1){var oe=j[0].indexOf("!")===0?5:4,de=oe+j[1].length+ee;j[2]=j[2].substring(0,ee),j[0]=j[0].substring(0,de).trim(),j[3]=""}}var le=j[2],ge="";if(this.options.pedantic){var ve=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(le);ve&&(le=ve[1],ge=ve[3])}else ge=j[3]?j[3].slice(1,-1):"";return le=le.trim(),/^</.test(le)&&(this.options.pedantic&&!/>$/.test(K)?le=le.slice(1):le=le.slice(1,-1)),M(j,{href:le&&le.replace(this.rules.inline._escapes,"$1"),title:ge&&ge.replace(this.rules.inline._escapes,"$1")},j[0],this.lexer)}},te.reflink=function(W,j){var K;if((K=this.rules.inline.reflink.exec(W))||(K=this.rules.inline.nolink.exec(W))){var G=(K[2]||K[1]).replace(/\s+/g," ");if(G=j[G.toLowerCase()],!G||!G.href){var ee=K[0].charAt(0);return{type:"text",raw:ee,text:ee}}return M(K,G,K[0],this.lexer)}},te.emStrong=function(W,j,K){K===void 0&&(K="");var G=this.rules.inline.emStrong.lDelim.exec(W);if(G&&!(G[3]&&K.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ee=G[1]||G[2]||"";if(!ee||ee&&(K===""||this.rules.inline.punctuation.exec(K))){var oe=G[0].length-1,de,le,ge=oe,ve=0,Ce=G[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ce.lastIndex=0,j=j.slice(-1*W.length+oe);(G=Ce.exec(j))!=null;)if(de=G[1]||G[2]||G[3]||G[4]||G[5]||G[6],!!de){if(le=de.length,G[3]||G[4]){ge+=le;continue}else if((G[5]||G[6])&&oe%3&&!((oe+le)%3)){ve+=le;continue}if(ge-=le,!(ge>0)){if(le=Math.min(le,le+ge+ve),Math.min(oe,le)%2){var Se=W.slice(1,oe+G.index+le);return{type:"em",raw:W.slice(0,oe+G.index+le+1),text:Se,tokens:this.lexer.inlineTokens(Se)}}var be=W.slice(2,oe+G.index+le-1);return{type:"strong",raw:W.slice(0,oe+G.index+le+1),text:be,tokens:this.lexer.inlineTokens(be)}}}}}},te.codespan=function(W){var j=this.rules.inline.code.exec(W);if(j){var K=j[2].replace(/\n/g," "),G=/[^ ]/.test(K),ee=/^ /.test(K)&&/ $/.test(K);return G&&ee&&(K=K.substring(1,K.length-1)),K=t(K,!0),{type:"codespan",raw:j[0],text:K}}},te.br=function(W){var j=this.rules.inline.br.exec(W);if(j)return{type:"br",raw:j[0]}},te.del=function(W){var j=this.rules.inline.del.exec(W);if(j)return{type:"del",raw:j[0],text:j[2],tokens:this.lexer.inlineTokens(j[2])}},te.autolink=function(W,j){var K=this.rules.inline.autolink.exec(W);if(K){var G,ee;return K[2]==="@"?(G=t(this.options.mangle?j(K[1]):K[1]),ee="mailto:"+G):(G=t(K[1]),ee=G),{type:"link",raw:K[0],text:G,href:ee,tokens:[{type:"text",raw:G,text:G}]}}},te.url=function(W,j){var K;if(K=this.rules.inline.url.exec(W)){var G,ee;if(K[2]==="@")G=t(this.options.mangle?j(K[0]):K[0]),ee="mailto:"+G;else{var oe;do oe=K[0],K[0]=this.rules.inline._backpedal.exec(K[0])[0];while(oe!==K[0]);G=t(K[0]),K[1]==="www."?ee="http://"+G:ee=G}return{type:"link",raw:K[0],text:G,href:ee,tokens:[{type:"text",raw:G,text:G}]}}},te.inlineText=function(W,j){var K=this.rules.inline.text.exec(W);if(K){var G;return this.lexer.state.inRawBlock?G=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(K[0]):t(K[0]):K[0]:G=t(this.options.smartypants?j(K[0]):K[0]),{type:"text",raw:K[0],text:G}}},se}(),O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};O._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,O.def=u(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.listItemStart=u(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=u(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=u(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=u(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=u(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=D({},O),O.gfm=D({},O.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.table=u(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.paragraph=u(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",O.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=D({},O.normal,{html:u(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:u(O.normal._paragraph).replace("hr",O.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var B={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};B._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",B.punctuation=u(B.punctuation).replace(/punctuation/g,B._punctuation).getRegex(),B.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,B.escapedEmSt=/\\\*|\\_/g,B._comment=u(O._comment).replace("(?:-->|$)","-->").getRegex(),B.emStrong.lDelim=u(B.emStrong.lDelim).replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimAst=u(B.emStrong.rDelimAst,"g").replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimUnd=u(B.emStrong.rDelimUnd,"g").replace(/punct/g,B._punctuation).getRegex(),B._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,B._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,B._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,B.autolink=u(B.autolink).replace("scheme",B._scheme).replace("email",B._email).getRegex(),B._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,B.tag=u(B.tag).replace("comment",B._comment).replace("attribute",B._attribute).getRegex(),B._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,B._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,B._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,B.link=u(B.link).replace("label",B._label).replace("href",B._href).replace("title",B._title).getRegex(),B.reflink=u(B.reflink).replace("label",B._label).replace("ref",O._label).getRegex(),B.nolink=u(B.nolink).replace("ref",O._label).getRegex(),B.reflinkSearch=u(B.reflinkSearch,"g").replace("reflink",B.reflink).replace("nolink",B.nolink).getRegex(),B.normal=D({},B),B.pedantic=D({},B.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",B._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",B._label).getRegex()}),B.gfm=D({},B.normal,{escape:u(B.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),B.gfm.url=u(B.gfm.url,"i").replace("email",B.gfm._extended_email).getRegex(),B.breaks=D({},B.gfm,{br:u(B.br).replace("{2,}","*").getRegex(),text:u(B.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function H(se){return se.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function V(se){var te="",$,W,j=se.length;for($=0;$<j;$++)W=se.charCodeAt($),Math.random()>.5&&(W="x"+W.toString(16)),te+="&#"+W+";";return te}var q=function(){function se($){this.tokens=[],this.tokens.links=Object.create(null),this.options=$||J.defaults,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var W={block:O.normal,inline:B.normal};this.options.pedantic?(W.block=O.pedantic,W.inline=B.pedantic):this.options.gfm&&(W.block=O.gfm,this.options.breaks?W.inline=B.breaks:W.inline=B.gfm),this.tokenizer.rules=W}se.lex=function(W,j){var K=new se(j);return K.lex(W)},se.lexInline=function(W,j){var K=new se(j);return K.inlineTokens(W)};var te=se.prototype;return te.lex=function(W){W=W.replace(/\r\n|\r/g,`
`),this.blockTokens(W,this.tokens);for(var j;j=this.inlineQueue.shift();)this.inlineTokens(j.src,j.tokens);return this.tokens},te.blockTokens=function(W,j){var K=this;j===void 0&&(j=[]),this.options.pedantic?W=W.replace(/\t/g,"    ").replace(/^ +$/gm,""):W=W.replace(/^( *)(\t+)/gm,function(ge,ve,Ce){return ve+"    ".repeat(Ce.length)});for(var G,ee,oe,de;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ge){return(G=ge.call({lexer:K},W,j))?(W=W.substring(G.raw.length),j.push(G),!0):!1}))){if(G=this.tokenizer.space(W)){W=W.substring(G.raw.length),G.raw.length===1&&j.length>0?j[j.length-1].raw+=`
`:j.push(G);continue}if(G=this.tokenizer.code(W)){W=W.substring(G.raw.length),ee=j[j.length-1],ee&&(ee.type==="paragraph"||ee.type==="text")?(ee.raw+=`
`+G.raw,ee.text+=`
`+G.text,this.inlineQueue[this.inlineQueue.length-1].src=ee.text):j.push(G);continue}if(G=this.tokenizer.fences(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.heading(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.hr(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.blockquote(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.list(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.html(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.def(W)){W=W.substring(G.raw.length),ee=j[j.length-1],ee&&(ee.type==="paragraph"||ee.type==="text")?(ee.raw+=`
`+G.raw,ee.text+=`
`+G.raw,this.inlineQueue[this.inlineQueue.length-1].src=ee.text):this.tokens.links[G.tag]||(this.tokens.links[G.tag]={href:G.href,title:G.title});continue}if(G=this.tokenizer.table(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.lheading(W)){W=W.substring(G.raw.length),j.push(G);continue}if(oe=W,this.options.extensions&&this.options.extensions.startBlock&&function(){var ge=1/0,ve=W.slice(1),Ce=void 0;K.options.extensions.startBlock.forEach(function(Se){Ce=Se.call({lexer:this},ve),typeof Ce=="number"&&Ce>=0&&(ge=Math.min(ge,Ce))}),ge<1/0&&ge>=0&&(oe=W.substring(0,ge+1))}(),this.state.top&&(G=this.tokenizer.paragraph(oe))){ee=j[j.length-1],de&&ee.type==="paragraph"?(ee.raw+=`
`+G.raw,ee.text+=`
`+G.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ee.text):j.push(G),de=oe.length!==W.length,W=W.substring(G.raw.length);continue}if(G=this.tokenizer.text(W)){W=W.substring(G.raw.length),ee=j[j.length-1],ee&&ee.type==="text"?(ee.raw+=`
`+G.raw,ee.text+=`
`+G.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ee.text):j.push(G);continue}if(W){var le="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(le);break}else throw new Error(le)}}return this.state.top=!0,j},te.inline=function(W,j){return j===void 0&&(j=[]),this.inlineQueue.push({src:W,tokens:j}),j},te.inlineTokens=function(W,j){var K=this;j===void 0&&(j=[]);var G,ee,oe,de=W,le,ge,ve;if(this.tokens.links){var Ce=Object.keys(this.tokens.links);if(Ce.length>0)for(;(le=this.tokenizer.rules.inline.reflinkSearch.exec(de))!=null;)Ce.includes(le[0].slice(le[0].lastIndexOf("[")+1,-1))&&(de=de.slice(0,le.index)+"["+P("a",le[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(le=this.tokenizer.rules.inline.blockSkip.exec(de))!=null;)de=de.slice(0,le.index)+"["+P("a",le[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(le=this.tokenizer.rules.inline.escapedEmSt.exec(de))!=null;)de=de.slice(0,le.index)+"++"+de.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;W;)if(ge||(ve=""),ge=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(be){return(G=be.call({lexer:K},W,j))?(W=W.substring(G.raw.length),j.push(G),!0):!1}))){if(G=this.tokenizer.escape(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.tag(W)){W=W.substring(G.raw.length),ee=j[j.length-1],ee&&G.type==="text"&&ee.type==="text"?(ee.raw+=G.raw,ee.text+=G.text):j.push(G);continue}if(G=this.tokenizer.link(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring(G.raw.length),ee=j[j.length-1],ee&&G.type==="text"&&ee.type==="text"?(ee.raw+=G.raw,ee.text+=G.text):j.push(G);continue}if(G=this.tokenizer.emStrong(W,de,ve)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.codespan(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.br(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.del(W)){W=W.substring(G.raw.length),j.push(G);continue}if(G=this.tokenizer.autolink(W,V)){W=W.substring(G.raw.length),j.push(G);continue}if(!this.state.inLink&&(G=this.tokenizer.url(W,V))){W=W.substring(G.raw.length),j.push(G);continue}if(oe=W,this.options.extensions&&this.options.extensions.startInline&&function(){var be=1/0,ke=W.slice(1),Ee=void 0;K.options.extensions.startInline.forEach(function(Ae){Ee=Ae.call({lexer:this},ke),typeof Ee=="number"&&Ee>=0&&(be=Math.min(be,Ee))}),be<1/0&&be>=0&&(oe=W.substring(0,be+1))}(),G=this.tokenizer.inlineText(oe,H)){W=W.substring(G.raw.length),G.raw.slice(-1)!=="_"&&(ve=G.raw.slice(-1)),ge=!0,ee=j[j.length-1],ee&&ee.type==="text"?(ee.raw+=G.raw,ee.text+=G.text):j.push(G);continue}if(W){var Se="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Se);break}else throw new Error(Se)}}return j},f(se,null,[{key:"rules",get:function(){return{block:O,inline:B}}}]),se}(),z=function(){function se($){this.options=$||J.defaults}var te=se.prototype;return te.code=function(W,j,K){var G=(j||"").match(/\S*/)[0];if(this.options.highlight){var ee=this.options.highlight(W,G);ee!=null&&ee!==W&&(K=!0,W=ee)}return W=W.replace(/\n$/,"")+`
`,G?'<pre><code class="'+this.options.langPrefix+t(G,!0)+'">'+(K?W:t(W,!0))+`</code></pre>
`:"<pre><code>"+(K?W:t(W,!0))+`</code></pre>
`},te.blockquote=function(W){return`<blockquote>
`+W+`</blockquote>
`},te.html=function(W){return W},te.heading=function(W,j,K,G){if(this.options.headerIds){var ee=this.options.headerPrefix+G.slug(K);return"<h"+j+' id="'+ee+'">'+W+"</h"+j+`>
`}return"<h"+j+">"+W+"</h"+j+`>
`},te.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},te.list=function(W,j,K){var G=j?"ol":"ul",ee=j&&K!==1?' start="'+K+'"':"";return"<"+G+ee+`>
`+W+"</"+G+`>
`},te.listitem=function(W){return"<li>"+W+`</li>
`},te.checkbox=function(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},te.paragraph=function(W){return"<p>"+W+`</p>
`},te.table=function(W,j){return j&&(j="<tbody>"+j+"</tbody>"),`<table>
<thead>
`+W+`</thead>
`+j+`</table>
`},te.tablerow=function(W){return`<tr>
`+W+`</tr>
`},te.tablecell=function(W,j){var K=j.header?"th":"td",G=j.align?"<"+K+' align="'+j.align+'">':"<"+K+">";return G+W+("</"+K+`>
`)},te.strong=function(W){return"<strong>"+W+"</strong>"},te.em=function(W){return"<em>"+W+"</em>"},te.codespan=function(W){return"<code>"+W+"</code>"},te.br=function(){return this.options.xhtml?"<br/>":"<br>"},te.del=function(W){return"<del>"+W+"</del>"},te.link=function(W,j,K){if(W=l(this.options.sanitize,this.options.baseUrl,W),W===null)return K;var G='<a href="'+t(W)+'"';return j&&(G+=' title="'+j+'"'),G+=">"+K+"</a>",G},te.image=function(W,j,K){if(W=l(this.options.sanitize,this.options.baseUrl,W),W===null)return K;var G='<img src="'+W+'" alt="'+K+'"';return j&&(G+=' title="'+j+'"'),G+=this.options.xhtml?"/>":">",G},te.text=function(W){return W},se}(),U=function(){function se(){}var te=se.prototype;return te.strong=function(W){return W},te.em=function(W){return W},te.codespan=function(W){return W},te.del=function(W){return W},te.html=function(W){return W},te.text=function(W){return W},te.link=function(W,j,K){return""+K},te.image=function(W,j,K){return""+K},te.br=function(){return""},se}(),Z=function(){function se(){this.seen={}}var te=se.prototype;return te.serialize=function(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},te.getNextSafeSlug=function(W,j){var K=W,G=0;if(this.seen.hasOwnProperty(K)){G=this.seen[W];do G++,K=W+"-"+G;while(this.seen.hasOwnProperty(K))}return j||(this.seen[W]=G,this.seen[K]=0),K},te.slug=function(W,j){j===void 0&&(j={});var K=this.serialize(W);return this.getNextSafeSlug(K,j.dryrun)},se}(),re=function(){function se($){this.options=$||J.defaults,this.options.renderer=this.options.renderer||new z,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new U,this.slugger=new Z}se.parse=function(W,j){var K=new se(j);return K.parse(W)},se.parseInline=function(W,j){var K=new se(j);return K.parseInline(W)};var te=se.prototype;return te.parse=function(W,j){j===void 0&&(j=!0);var K="",G,ee,oe,de,le,ge,ve,Ce,Se,be,ke,Ee,Ae,Pe,He,Be,De,Ne,me,_e=W.length;for(G=0;G<_e;G++){if(be=W[G],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[be.type]&&(me=this.options.extensions.renderers[be.type].call({parser:this},be),me!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(be.type))){K+=me||"";continue}switch(be.type){case"space":continue;case"hr":{K+=this.renderer.hr();continue}case"heading":{K+=this.renderer.heading(this.parseInline(be.tokens),be.depth,h(this.parseInline(be.tokens,this.textRenderer)),this.slugger);continue}case"code":{K+=this.renderer.code(be.text,be.lang,be.escaped);continue}case"table":{for(Ce="",ve="",de=be.header.length,ee=0;ee<de;ee++)ve+=this.renderer.tablecell(this.parseInline(be.header[ee].tokens),{header:!0,align:be.align[ee]});for(Ce+=this.renderer.tablerow(ve),Se="",de=be.rows.length,ee=0;ee<de;ee++){for(ge=be.rows[ee],ve="",le=ge.length,oe=0;oe<le;oe++)ve+=this.renderer.tablecell(this.parseInline(ge[oe].tokens),{header:!1,align:be.align[oe]});Se+=this.renderer.tablerow(ve)}K+=this.renderer.table(Ce,Se);continue}case"blockquote":{Se=this.parse(be.tokens),K+=this.renderer.blockquote(Se);continue}case"list":{for(ke=be.ordered,Ee=be.start,Ae=be.loose,de=be.items.length,Se="",ee=0;ee<de;ee++)He=be.items[ee],Be=He.checked,De=He.task,Pe="",He.task&&(Ne=this.renderer.checkbox(Be),Ae?He.tokens.length>0&&He.tokens[0].type==="paragraph"?(He.tokens[0].text=Ne+" "+He.tokens[0].text,He.tokens[0].tokens&&He.tokens[0].tokens.length>0&&He.tokens[0].tokens[0].type==="text"&&(He.tokens[0].tokens[0].text=Ne+" "+He.tokens[0].tokens[0].text)):He.tokens.unshift({type:"text",text:Ne}):Pe+=Ne),Pe+=this.parse(He.tokens,Ae),Se+=this.renderer.listitem(Pe,De,Be);K+=this.renderer.list(Se,ke,Ee);continue}case"html":{K+=this.renderer.html(be.text);continue}case"paragraph":{K+=this.renderer.paragraph(this.parseInline(be.tokens));continue}case"text":{for(Se=be.tokens?this.parseInline(be.tokens):be.text;G+1<_e&&W[G+1].type==="text";)be=W[++G],Se+=`
`+(be.tokens?this.parseInline(be.tokens):be.text);K+=j?this.renderer.paragraph(Se):Se;continue}default:{var Re='Token with "'+be.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return K},te.parseInline=function(W,j){j=j||this.renderer;var K="",G,ee,oe,de=W.length;for(G=0;G<de;G++){if(ee=W[G],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ee.type]&&(oe=this.options.extensions.renderers[ee.type].call({parser:this},ee),oe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ee.type))){K+=oe||"";continue}switch(ee.type){case"escape":{K+=j.text(ee.text);break}case"html":{K+=j.html(ee.text);break}case"link":{K+=j.link(ee.href,ee.title,this.parseInline(ee.tokens,j));break}case"image":{K+=j.image(ee.href,ee.title,ee.text);break}case"strong":{K+=j.strong(this.parseInline(ee.tokens,j));break}case"em":{K+=j.em(this.parseInline(ee.tokens,j));break}case"codespan":{K+=j.codespan(ee.text);break}case"br":{K+=j.br();break}case"del":{K+=j.del(this.parseInline(ee.tokens,j));break}case"text":{K+=j.text(ee.text);break}default:{var le='Token with "'+ee.type+'" type was not found.';if(this.options.silent){console.error(le);return}else throw new Error(le)}}}return K},se}();function x(se,te,$){if(typeof se>"u"||se===null)throw new Error("marked(): input parameter is undefined or null");if(typeof se!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(se)+", string expected");if(typeof te=="function"&&($=te,te=null),te=D({},x.defaults,te||{}),A(te),$){var W=te.highlight,j;try{j=q.lex(se,te)}catch(de){return $(de)}var K=function(le){var ge;if(!le)try{te.walkTokens&&x.walkTokens(j,te.walkTokens),ge=re.parse(j,te)}catch(ve){le=ve}return te.highlight=W,le?$(le):$(null,ge)};if(!W||W.length<3||(delete te.highlight,!j.length))return K();var G=0;x.walkTokens(j,function(de){de.type==="code"&&(G++,setTimeout(function(){W(de.text,de.lang,function(le,ge){if(le)return K(le);ge!=null&&ge!==de.text&&(de.text=ge,de.escaped=!0),G--,G===0&&K()})},0))}),G===0&&K();return}function ee(de){if(de.message+=`
Please report this to https://github.com/markedjs/marked.`,te.silent)return"<p>An error occurred:</p><pre>"+t(de.message+"",!0)+"</pre>";throw de}try{var oe=q.lex(se,te);if(te.walkTokens){if(te.async)return Promise.all(x.walkTokens(oe,te.walkTokens)).then(function(){return re.parse(oe,te)}).catch(ee);x.walkTokens(oe,te.walkTokens)}return re.parse(oe,te)}catch(de){ee(de)}}x.options=x.setOptions=function(se){return D(x.defaults,se),p(x.defaults),x},x.getDefaults=y,x.defaults=J.defaults,x.use=function(){for(var se=arguments.length,te=new Array(se),$=0;$<se;$++)te[$]=arguments[$];var W=D.apply(void 0,[{}].concat(te)),j=x.defaults.extensions||{renderers:{},childTokens:{}},K;te.forEach(function(G){if(G.extensions&&(K=!0,G.extensions.forEach(function(oe){if(!oe.name)throw new Error("extension name required");if(oe.renderer){var de=j.renderers?j.renderers[oe.name]:null;de?j.renderers[oe.name]=function(){for(var le=arguments.length,ge=new Array(le),ve=0;ve<le;ve++)ge[ve]=arguments[ve];var Ce=oe.renderer.apply(this,ge);return Ce===!1&&(Ce=de.apply(this,ge)),Ce}:j.renderers[oe.name]=oe.renderer}if(oe.tokenizer){if(!oe.level||oe.level!=="block"&&oe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");j[oe.level]?j[oe.level].unshift(oe.tokenizer):j[oe.level]=[oe.tokenizer],oe.start&&(oe.level==="block"?j.startBlock?j.startBlock.push(oe.start):j.startBlock=[oe.start]:oe.level==="inline"&&(j.startInline?j.startInline.push(oe.start):j.startInline=[oe.start]))}oe.childTokens&&(j.childTokens[oe.name]=oe.childTokens)})),G.renderer&&function(){var oe=x.defaults.renderer||new z,de=function(ve){var Ce=oe[ve];oe[ve]=function(){for(var Se=arguments.length,be=new Array(Se),ke=0;ke<Se;ke++)be[ke]=arguments[ke];var Ee=G.renderer[ve].apply(oe,be);return Ee===!1&&(Ee=Ce.apply(oe,be)),Ee}};for(var le in G.renderer)de(le);W.renderer=oe}(),G.tokenizer&&function(){var oe=x.defaults.tokenizer||new F,de=function(ve){var Ce=oe[ve];oe[ve]=function(){for(var Se=arguments.length,be=new Array(Se),ke=0;ke<Se;ke++)be[ke]=arguments[ke];var Ee=G.tokenizer[ve].apply(oe,be);return Ee===!1&&(Ee=Ce.apply(oe,be)),Ee}};for(var le in G.tokenizer)de(le);W.tokenizer=oe}(),G.walkTokens){var ee=x.defaults.walkTokens;W.walkTokens=function(oe){var de=[];return de.push(G.walkTokens.call(this,oe)),ee&&(de=de.concat(ee.call(this,oe))),de}}K&&(W.extensions=j),x.setOptions(W)})},x.walkTokens=function(se,te){for(var $=[],W=function(){var ee=K.value;switch($=$.concat(te.call(x,ee)),ee.type){case"table":{for(var oe=L(ee.header),de;!(de=oe()).done;){var le=de.value;$=$.concat(x.walkTokens(le.tokens,te))}for(var ge=L(ee.rows),ve;!(ve=ge()).done;)for(var Ce=ve.value,Se=L(Ce),be;!(be=Se()).done;){var ke=be.value;$=$.concat(x.walkTokens(ke.tokens,te))}break}case"list":{$=$.concat(x.walkTokens(ee.items,te));break}default:x.defaults.extensions&&x.defaults.extensions.childTokens&&x.defaults.extensions.childTokens[ee.type]?x.defaults.extensions.childTokens[ee.type].forEach(function(Ee){$=$.concat(x.walkTokens(ee[Ee],te))}):ee.tokens&&($=$.concat(x.walkTokens(ee.tokens,te)))}},j=L(se),K;!(K=j()).done;)W();return $},x.parseInline=function(se,te){if(typeof se>"u"||se===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof se!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(se)+", string expected");te=D({},x.defaults,te||{}),A(te);try{var $=q.lexInline(se,te);return te.walkTokens&&x.walkTokens($,te.walkTokens),re.parseInline($,te)}catch(W){if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,te.silent)return"<p>An error occurred:</p><pre>"+t(W.message+"",!0)+"</pre>";throw W}},x.Parser=re,x.parser=re.parse,x.Renderer=z,x.TextRenderer=U,x.Lexer=q,x.lexer=q.lex,x.Tokenizer=F,x.Slugger=Z,x.parse=x;var Q=x.options,X=x.setOptions,Y=x.use,ae=x.walkTokens,ce=x.parseInline,he=x,pe=re.parse,fe=q.lex;J.Lexer=q,J.Parser=re,J.Renderer=z,J.Slugger=Z,J.TextRenderer=U,J.Tokenizer=F,J.getDefaults=y,J.lexer=fe,J.marked=x,J.options=Q,J.parse=he,J.parseInline=ce,J.parser=pe,J.setOptions=X,J.use=Y,J.walkTokens=ae,Object.defineProperty(J,"__esModule",{value:!0})}),define(ie[120],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(ie[214],ne([1,0,120]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:f.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(ie[421],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKoreanAltChars=f;function f(s){const i=L(s);if(i&&i.length>0)return new Uint32Array(i)}let k=0;const E=new Uint32Array(10);function L(s){if(k=0,y(s,w,4352),k>0||(y(s,v,4449),k>0)||(y(s,_,4520),k>0)||(y(s,a,12593),k))return E.subarray(0,k);if(s>=44032&&s<=55203){const i=s-44032,t=i%588,n=Math.floor(i/588),h=Math.floor(t/28),m=t%28-1;if(n<w.length?y(n,w,0):4352+n-12593<a.length&&y(4352+n,a,12593),h<v.length?y(h,v,0):4449+h-12593<a.length&&y(4449+h-12593,a,12593),m>=0&&(m<_.length?y(m,_,0):4520+m-12593<a.length&&y(4520+m-12593,a,12593)),k>0)return E.subarray(0,k)}}function y(s,i,t){s>=t&&s<t+i.length&&p(i[s-t])}function p(s){s!==0&&(E[k++]=s&255,s>>8&&(E[k++]=s>>8&255),s>>16&&(E[k++]=s>>16&255))}const w=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),v=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),_=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),a=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])}),define(ie[422],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class f{constructor(E,L=0,y=E.length,p=L-1){this.items=E,this.start=L,this.end=y,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=f}),define(ie[423],ne([1,0,422]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(L=[],y=10){this._initialize(L),this._limit=y,this._onChange()}getHistory(){return this._elements}add(L){this._history.delete(L),this._history.add(L),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(L){return this._history.has(L)}_onChange(){this._reduceToLimit();const L=this._elements;this._navigator=new f.ArrayNavigator(L,0,L.length,L.length)}_reduceToLimit(){const L=this._elements;L.length>this._limit&&this._initialize(L.slice(L.length-this._limit))}_currentPosition(){const L=this._navigator.current();return L?this._elements.indexOf(L):-1}_initialize(L){this._history=new Set;for(const y of L)this._history.add(y)}get _elements(){const L=[];return this._history.forEach(y=>L.push(y)),L}}e.HistoryNavigator=k}),define(ie[134],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=void 0,e.clamp=f;function f(L,y,p){return Math.min(Math.max(L,y),p)}class k{constructor(){this._n=1,this._val=0}update(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class E{constructor(y){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(y),this._values.fill(0,0,y)}update(y){const p=this._values[this._index];return this._values[this._index]=y,this._index=(this._index+1)%this._values.length,this._sum-=p,this._sum+=y,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=E}),define(ie[179],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DebugNameData=void 0,e.getDebugName=L,e.getFunctionName=s;class f{constructor(t,n,h){this.owner=t,this.debugNameSource=n,this.referenceFn=h}getDebugName(t){return L(t,this)}}e.DebugNameData=f;const k=new Map,E=new WeakMap;function L(i,t){var n;const h=E.get(i);if(h)return h;const m=y(i,t);if(m){let u=(n=k.get(m))!==null&&n!==void 0?n:0;u++,k.set(m,u);const d=u===1?m:`${m}#${u}`;return E.set(i,d),d}}function y(i,t){const n=E.get(i);if(n)return n;const h=t.owner?_(t.owner)+".":"";let m;const u=t.debugNameSource;if(u!==void 0)if(typeof u=="function"){if(m=u(),m!==void 0)return h+m}else return h+u;const d=t.referenceFn;if(d!==void 0&&(m=s(d),m!==void 0))return h+m;if(t.owner!==void 0){const r=p(t.owner,i);if(r!==void 0)return h+r}}function p(i,t){for(const n in i)if(i[n]===t)return n}const w=new Map,v=new WeakMap;function _(i){var t;const n=v.get(i);if(n)return n;const h=a(i);let m=(t=w.get(h))!==null&&t!==void 0?t:0;m++,w.set(h,m);const u=m===1?h:`${h}#${m}`;return v.set(i,u),u}function a(i){const t=i.constructor;return t?t.name:"Object"}function s(i){const t=i.toString(),h=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),m=h?h[1]:void 0;return m?.trim()}}),define(ie[155],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=void 0,e.setLogger=k,e.getLogger=E;let f;function k(n){f=n}function E(){return f}class L{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(h){return y([p(i("|  ",this.indentation)),h])}formatInfo(h){return h.hadValue?h.didChange?[p(" "),v(_(h.oldValue,70),{color:"red",strikeThrough:!0}),p(" "),v(_(h.newValue,60),{color:"green"})]:[p(" (unchanged)")]:[p(" "),v(_(h.newValue,60),{color:"green"}),p(" (initial)")]}handleObservableChanged(h,m){console.log(...this.textToConsoleArgs([w("observable value changed"),v(h.debugName,{color:"BlueViolet"}),...this.formatInfo(m)]))}formatChanges(h){if(h.size!==0)return v(" (changed deps: "+[...h].map(m=>m.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(h){const m=h.handleChange;this.changedObservablesSets.set(h,new Set),h.handleChange=(u,d)=>(this.changedObservablesSets.get(h).add(u),m.apply(h,[u,d]))}handleDerivedRecomputed(h,m){const u=this.changedObservablesSets.get(h);console.log(...this.textToConsoleArgs([w("derived recomputed"),v(h.debugName,{color:"BlueViolet"}),...this.formatInfo(m),this.formatChanges(u),{data:[{fn:h._computeFn}]}])),u.clear()}handleFromEventObservableTriggered(h,m){console.log(...this.textToConsoleArgs([w("observable from event triggered"),v(h.debugName,{color:"BlueViolet"}),...this.formatInfo(m),{data:[{fn:h._getValue}]}]))}handleAutorunCreated(h){const m=h.handleChange;this.changedObservablesSets.set(h,new Set),h.handleChange=(u,d)=>(this.changedObservablesSets.get(h).add(u),m.apply(h,[u,d]))}handleAutorunTriggered(h){const m=this.changedObservablesSets.get(h);console.log(...this.textToConsoleArgs([w("autorun"),v(h.debugName,{color:"BlueViolet"}),this.formatChanges(m),{data:[{fn:h._runFn}]}])),m.clear(),this.indentation++}handleAutorunFinished(h){this.indentation--}handleBeginTransaction(h){let m=h.getDebugName();m===void 0&&(m=""),console.log(...this.textToConsoleArgs([w("transaction"),v(m,{color:"BlueViolet"}),{data:[{fn:h._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=L;function y(n){const h=new Array,m=[];let u="";function d(l){if("length"in l)for(const o of l)o&&d(o);else"text"in l?(u+=`%c${l.text}`,h.push(l.style),l.data&&m.push(...l.data)):"data"in l&&m.push(...l.data)}d(n);const r=[u,...h];return r.push(...m),r}function p(n){return v(n,{color:"black"})}function w(n){return v(t(`${n}: `,10),{color:"black",bold:!0})}function v(n,h={color:"black"}){function m(d){return Object.entries(d).reduce((r,[l,o])=>`${r}${l}:${o};`,"")}const u={color:h.color};return h.strikeThrough&&(u["text-decoration"]="line-through"),h.bold&&(u["font-weight"]="bold"),{text:n,style:m(u)}}function _(n,h){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=h?`"${n}"`:`"${n.substr(0,h-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?a(n,h):s(n,h);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function a(n,h){let m="[ ",u=!0;for(const d of n){if(u||(m+=", "),m.length-5>h){m+="...";break}u=!1,m+=`${_(d,h-m.length)}`}return m+=" ]",m}function s(n,h){let m="{ ",u=!0;for(const[d,r]of Object.entries(n)){if(u||(m+=", "),m.length-5>h){m+="...";break}u=!1,m+=`${d}: ${_(r,h-m.length)}`}return m+=" }",m}function i(n,h){let m="";for(let u=1;u<=h;u++)m+=n;return m}function t(n,h){for(;n.length<h;)n+=" ";return n}}),define(ie[286],ne([1,0,87,2,179,155]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=void 0,e.autorun=y,e.autorunOpts=p,e.autorunHandleChanges=w,e.autorunWithStore=v;function y(a){return new _(new E.DebugNameData(void 0,void 0,a),a,void 0,void 0)}function p(a,s){var i;return new _(new E.DebugNameData(a.owner,a.debugName,(i=a.debugReferenceFn)!==null&&i!==void 0?i:s),s,void 0,void 0)}function w(a,s){var i;return new _(new E.DebugNameData(a.owner,a.debugName,(i=a.debugReferenceFn)!==null&&i!==void 0?i:s),s,a.createEmptyChangeSummary,a.handleChange)}function v(a){const s=new k.DisposableStore,i=p({owner:void 0,debugName:void 0,debugReferenceFn:a},t=>{s.clear(),a(t,s)});return(0,k.toDisposable)(()=>{i.dispose(),s.dispose()})}class _{get debugName(){var s;return(s=this._debugNameData.getDebugName(this))!==null&&s!==void 0?s:"(anonymous)"}constructor(s,i,t,n){var h,m;this._debugNameData=s,this._runFn=i,this.createChangeSummary=t,this._handleChange=n,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(h=this.createChangeSummary)===null||h===void 0?void 0:h.call(this),(m=(0,L.getLogger)())===null||m===void 0||m.handleAutorunCreated(this),this._runIfNeeded(),(0,k.trackDisposable)(this)}dispose(){this.disposed=!0;for(const s of this.dependencies)s.removeObserver(this);this.dependencies.clear(),(0,k.markAsDisposed)(this)}_runIfNeeded(){var s,i,t;if(this.state===3)return;const n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n,this.state=3;const h=this.disposed;try{if(!h){(s=(0,L.getLogger)())===null||s===void 0||s.handleAutorunTriggered(this);const m=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this._runFn(this,m)}}finally{h||(t=(0,L.getLogger)())===null||t===void 0||t.handleAutorunFinished(this);for(const m of this.dependenciesToBeRemoved)m.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const s of this.dependencies)if(s.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,f.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(s){this.state===3&&this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)&&(this.state=1)}handleChange(s,i){this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)&&(!this._handleChange||this._handleChange({changedObservable:s,change:i,didChange:n=>n===s},this.changeSummary))&&(this.state=2)}readObservable(s){if(this.disposed)return s.get();s.addObserver(this);const i=s.get();return this.dependencies.add(s),this.dependenciesToBeRemoved.delete(s),i}}e.AutorunObserver=_,function(a){a.Observer=_}(y||(e.autorun=y={}))}),define(ie[135],ne([1,0,179,155]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.ObservableValue=e.TransactionImpl=e.BaseObservable=e.ConvenientObservable=void 0,e._setRecomputeInitiallyAndOnChange=L,e._setKeepObserved=p,e._setDerivedOpts=v,e.transaction=s,e.globalTransaction=t,e.asyncTransaction=n,e.subtransaction=h,e.observableValue=u,e.disposableObservableValue=r;let E;function L(o){E=o}let y;function p(o){y=o}let w;function v(o){w=o}class _{get TChange(){return null}reportChanges(){this.get()}read(g){return g?g.readObservable(this):this.get()}map(g,c){const b=c===void 0?void 0:g,C=c===void 0?g:c;return w({owner:b,debugName:()=>{const S=(0,f.getFunctionName)(C);if(S!==void 0)return S;const I=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(C.toString());if(I)return`${this.debugName}.${I[2]}`;if(!b)return`${this.debugName} (mapped)`}},S=>C(this.read(S),S))}recomputeInitiallyAndOnChange(g,c){return g.add(E(this,c)),this}}e.ConvenientObservable=_;class a extends _{constructor(){super(...arguments),this.observers=new Set}addObserver(g){const c=this.observers.size;this.observers.add(g),c===0&&this.onFirstObserverAdded()}removeObserver(g){this.observers.delete(g)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=a;function s(o,g){const c=new m(o,g);try{o(c)}finally{c.finish()}}let i;function t(o){if(i)o(i);else{const g=new m(o,void 0);i=g;try{o(g)}finally{g.finish(),i=void 0}}}async function n(o,g){const c=new m(o,g);try{await o(c)}finally{c.finish()}}function h(o,g,c){o?g(o):s(g,c)}class m{constructor(g,c){var b;this._fn=g,this._getDebugName=c,this.updatingObservers=[],(b=(0,k.getLogger)())===null||b===void 0||b.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,f.getFunctionName)(this._fn)}updateObserver(g,c){this.updatingObservers.push({observer:g,observable:c}),g.beginUpdate(c)}finish(){var g;const c=this.updatingObservers;for(let b=0;b<c.length;b++){const{observer:C,observable:S}=c[b];C.endUpdate(S)}this.updatingObservers=null,(g=(0,k.getLogger)())===null||g===void 0||g.handleEndTransaction()}}e.TransactionImpl=m;function u(o,g){return typeof o=="string"?new d(void 0,o,g):new d(o,void 0,g)}class d extends a{get debugName(){var g;return(g=new f.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&g!==void 0?g:"ObservableValue"}constructor(g,c,b){super(),this._owner=g,this._debugName=c,this._value=b}get(){return this._value}set(g,c,b){var C;if(this._value===g)return;let S;c||(c=S=new m(()=>{},()=>`Setting ${this.debugName}`));try{const D=this._value;this._setValue(g),(C=(0,k.getLogger)())===null||C===void 0||C.handleObservableChanged(this,{oldValue:D,newValue:g,change:b,didChange:!0,hadValue:!0});for(const I of this.observers)c.updateObserver(I,this),I.handleChange(this,b)}finally{S&&S.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(g){this._value=g}}e.ObservableValue=d;function r(o,g){return typeof o=="string"?new l(void 0,o,g):new l(o,void 0,g)}class l extends d{_setValue(g){this._value!==g&&(this._value&&this._value.dispose(),this._value=g)}dispose(){var g;(g=this._value)===null||g===void 0||g.dispose()}}e.DisposableObservableValue=l}),define(ie[180],ne([1,0,87,2,135,179,155]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=e.defaultEqualityComparer=void 0,e.derived=w,e.derivedOpts=v,e.derivedHandleChanges=_,e.derivedWithStore=a,e.derivedDisposable=s;const p=(t,n)=>t===n;e.defaultEqualityComparer=p;function w(t,n){return n!==void 0?new i(new L.DebugNameData(t,void 0,n),n,void 0,void 0,void 0,e.defaultEqualityComparer):new i(new L.DebugNameData(void 0,void 0,t),t,void 0,void 0,void 0,e.defaultEqualityComparer)}function v(t,n){var h;return new i(new L.DebugNameData(t.owner,t.debugName,t.debugReferenceFn),n,void 0,void 0,t.onLastObserverRemoved,(h=t.equalityComparer)!==null&&h!==void 0?h:e.defaultEqualityComparer)}(0,E._setDerivedOpts)(v);function _(t,n){var h;return new i(new L.DebugNameData(t.owner,t.debugName,void 0),n,t.createEmptyChangeSummary,t.handleChange,void 0,(h=t.equalityComparer)!==null&&h!==void 0?h:e.defaultEqualityComparer)}function a(t,n){let h,m;n===void 0?(h=t,m=void 0):(m=t,h=n);const u=new k.DisposableStore;return new i(new L.DebugNameData(m,void 0,h),d=>(u.clear(),h(d,u)),void 0,void 0,()=>u.dispose(),e.defaultEqualityComparer)}function s(t,n){let h,m;n===void 0?(h=t,m=void 0):(m=t,h=n);const u=new k.DisposableStore;return new i(new L.DebugNameData(m,void 0,h),d=>{u.clear();const r=h(d);return r&&u.add(r),r},void 0,void 0,()=>u.dispose(),e.defaultEqualityComparer)}class i extends E.BaseObservable{get debugName(){var n;return(n=this._debugNameData.getDebugName(this))!==null&&n!==void 0?n:"(anonymous)"}constructor(n,h,m,u,d=void 0,r){var l,o;super(),this._debugNameData=n,this._computeFn=h,this.createChangeSummary=m,this._handleChange=u,this._handleLastObserverRemoved=d,this._equalityComparator=r,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(l=this.createChangeSummary)===null||l===void 0?void 0:l.call(this),(o=(0,y.getLogger)())===null||o===void 0||o.handleDerivedCreated(this)}onLastObserverRemoved(){var n;this.state=0,this.value=void 0;for(const h of this.dependencies)h.removeObserver(this);this.dependencies.clear(),(n=this._handleLastObserverRemoved)===null||n===void 0||n.call(this)}get(){var n;if(this.observers.size===0){const h=this._computeFn(this,(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this));return this.onLastObserverRemoved(),h}else{do{if(this.state===1){for(const h of this.dependencies)if(h.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var n,h;if(this.state===3)return;const m=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=m;const u=this.state!==0,d=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this);try{this.value=this._computeFn(this,r)}finally{for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}const l=u&&!this._equalityComparator(d,this.value);if((h=(0,y.getLogger)())===null||h===void 0||h.handleDerivedRecomputed(this,{oldValue:d,newValue:this.value,change:void 0,didChange:l,hadValue:u}),l)for(const o of this.observers)o.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(n){this.updateCount++;const h=this.updateCount===1;if(this.state===3&&(this.state=1,!h))for(const m of this.observers)m.handlePossibleChange(this);if(h)for(const m of this.observers)m.beginUpdate(this)}endUpdate(n){if(this.updateCount--,this.updateCount===0){const h=[...this.observers];for(const m of h)m.endUpdate(this)}(0,f.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(n){if(this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){this.state=1;for(const h of this.observers)h.handlePossibleChange(this)}}handleChange(n,h){if(this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){const m=this._handleChange?this._handleChange({changedObservable:n,change:h,didChange:d=>d===n},this.changeSummary):!0,u=this.state===3;if(m&&(this.state===1||u)&&(this.state=2,u))for(const d of this.observers)d.handlePossibleChange(this)}}readObservable(n){n.addObserver(this);const h=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),h}addObserver(n){const h=!this.observers.has(n)&&this.updateCount>0;super.addObserver(n),h&&n.beginUpdate(this)}removeObserver(n){const h=this.observers.has(n)&&this.updateCount>0;super.removeObserver(n),h&&n.endUpdate(this)}}e.Derived=i}),define(ie[424],ne([1,0,286]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=k;function k(E,L,y){return new Promise((p,w)=>{let v=!0,_=!1;const a=E.map(i=>({isFinished:L(i),error:y?y(i):!1,state:i})),s=(0,f.autorun)(i=>{const{isFinished:t,error:n,state:h}=a.read(i);(t||n)&&(v?_=!0:s.dispose(),n?w(n===!0?h:n):p(h))});v=!1,_&&s.dispose()})}}),define(ie[287],ne([1,0,2,135,179,180,155]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeepAliveObserver=e.FromEventObservable=void 0,e.constObservable=p,e.observableFromEvent=v,e.observableSignalFromEvent=a,e.observableSignal=i,e.keepObserved=n,e.recomputeInitiallyAndOnChange=h,e.derivedObservableWithCache=u,e.mapObservableArrayCached=d;function p(l){return new w(l)}class w extends k.ConvenientObservable{constructor(o){super(),this.value=o}get debugName(){return this.toString()}get(){return this.value}addObserver(o){}removeObserver(o){}toString(){return`Const: ${this.value}`}}function v(l,o){return new _(l,o)}class _ extends k.BaseObservable{constructor(o,g){super(),this.event=o,this._getValue=g,this.hasValue=!1,this.handleEvent=c=>{var b;const C=this._getValue(c),S=this.value,D=!this.hasValue||S!==C;let I=!1;D&&(this.value=C,this.hasValue&&(I=!0,(0,k.subtransaction)(_.globalTransaction,T=>{var N;(N=(0,y.getLogger)())===null||N===void 0||N.handleFromEventObservableTriggered(this,{oldValue:S,newValue:C,change:void 0,didChange:D,hadValue:this.hasValue});for(const A of this.observers)T.updateObserver(A,this),A.handleChange(this,void 0)},()=>{const T=this.getDebugName();return"Event fired"+(T?`: ${T}`:"")})),this.hasValue=!0),I||(b=(0,y.getLogger)())===null||b===void 0||b.handleFromEventObservableTriggered(this,{oldValue:S,newValue:C,change:void 0,didChange:D,hadValue:this.hasValue})}}getDebugName(){return(0,E.getFunctionName)(this._getValue)}get debugName(){const o=this.getDebugName();return"From Event"+(o?`: ${o}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=_,function(l){l.Observer=_;function o(g,c){let b=!1;_.globalTransaction===void 0&&(_.globalTransaction=g,b=!0);try{c()}finally{b&&(_.globalTransaction=void 0)}}l.batchEventsGlobally=o}(v||(e.observableFromEvent=v={}));function a(l,o){return new s(l,o)}class s extends k.BaseObservable{constructor(o,g){super(),this.debugName=o,this.event=g,this.handleEvent=()=>{(0,k.transaction)(c=>{for(const b of this.observers)c.updateObserver(b,this),b.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function i(l){return typeof l=="string"?new t(l):new t(void 0,l)}class t extends k.BaseObservable{get debugName(){var o;return(o=new E.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&o!==void 0?o:"Observable Signal"}constructor(o,g){super(),this._debugName=o,this._owner=g}trigger(o,g){if(!o){(0,k.transaction)(c=>{this.trigger(c,g)},()=>`Trigger signal ${this.debugName}`);return}for(const c of this.observers)o.updateObserver(c,this),c.handleChange(this,g)}get(){}}function n(l){const o=new m(!1,void 0);return l.addObserver(o),(0,f.toDisposable)(()=>{l.removeObserver(o)})}(0,k._setKeepObserved)(n);function h(l,o){const g=new m(!0,o);return l.addObserver(g),o?o(l.get()):l.reportChanges(),(0,f.toDisposable)(()=>{l.removeObserver(g)})}(0,k._setRecomputeInitiallyAndOnChange)(h);class m{constructor(o,g){this._forceRecompute=o,this._handleValue=g,this._counter=0}beginUpdate(o){this._counter++}endUpdate(o){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(o.get()):o.reportChanges())}handlePossibleChange(o){}handleChange(o,g){}}e.KeepAliveObserver=m;function u(l){let o;return(0,L.derived)(c=>(o=l(c,o),o))}function d(l,o,g,c){let b=new r(g,c);return(0,L.derivedOpts)({debugReferenceFn:g,owner:l,onLastObserverRemoved:()=>{b.dispose(),b=new r(g)}},S=>(b.setItems(o.read(S)),b.getItems()))}class r{constructor(o,g){this._map=o,this._keySelector=g,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(o=>o.store.dispose()),this._cache.clear()}setItems(o){const g=[],c=new Set(this._cache.keys());for(const b of o){const C=this._keySelector?this._keySelector(b):b;let S=this._cache.get(C);if(S)c.delete(C);else{const D=new f.DisposableStore;S={out:this._map(b,D),store:D},this._cache.set(C,S)}g.push(S.out)}for(const b of c)this._cache.get(b).store.dispose(),this._cache.delete(b);this._items=g}getItems(){return this._items}}}),define(ie[30],ne([1,0,135,180,286,287,424,155]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithCache=e.constObservable=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return f.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return f.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return f.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return f.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return E.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return E.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return E.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return E.autorunOpts}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return L.constObservable}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return L.derivedObservableWithCache}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return L.keepObserved}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return L.recomputeInitiallyAndOnChange}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return L.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return L.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return L.observableSignalFromEvent}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return y.waitForState}}),!1&&(0,p.setLogger)(new p.ConsoleObservableLogger)}),define(ie[181],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var f;(function(k){function E(w,v){if(w.start>=v.end||v.start>=w.end)return{start:0,end:0};const _=Math.max(w.start,v.start),a=Math.min(w.end,v.end);return a-_<=0?{start:0,end:0}:{start:_,end:a}}k.intersect=E;function L(w){return w.end-w.start<=0}k.isEmpty=L;function y(w,v){return!L(E(w,v))}k.intersects=y;function p(w,v){const _=[],a={start:w.start,end:Math.min(v.start,w.end)},s={start:Math.max(v.end,w.start),end:w.end};return L(a)||_.push(a),L(s)||_.push(s),_}k.relativeComplement=p})(f||(e.Range=f={}))}),define(ie[425],ne([1,0,181]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=void 0,e.groupIntersect=k,e.shift=E,e.consolidate=L;function k(w,v){const _=[];for(const a of v){if(w.start>=a.range.end)continue;if(w.end<a.range.start)break;const s=f.Range.intersect(w,a.range);f.Range.isEmpty(s)||_.push({range:s,size:a.size})}return _}function E({start:w,end:v},_){return{start:w+_,end:v+_}}function L(w){const v=[];let _=null;for(const a of w){const s=a.range.start,i=a.range.end,t=a.size;if(_&&t===_.size){_.range.end=i;continue}_={range:{start:s,end:i},size:t},v.push(_)}return v}function y(...w){return L(w.reduce((v,_)=>v.concat(_),[]))}class p{get paddingTop(){return this._paddingTop}set paddingTop(v){this._size=this._size+v-this._paddingTop,this._paddingTop=v}constructor(v){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=v??0,this._size=this._paddingTop}splice(v,_,a=[]){const s=a.length-_,i=k({start:0,end:v},this.groups),t=k({start:v+_,end:Number.POSITIVE_INFINITY},this.groups).map(h=>({range:E(h.range,s),size:h.size})),n=a.map((h,m)=>({range:{start:v+m,end:v+m+1},size:h.size}));this.groups=y(i,n,t),this._size=this._paddingTop+this.groups.reduce((h,m)=>h+m.size*(m.range.end-m.range.start),0)}get count(){const v=this.groups.length;return v?this.groups[v-1].range.end:0}get size(){return this._size}indexAt(v){if(v<0)return-1;if(v<this._paddingTop)return 0;let _=0,a=this._paddingTop;for(const s of this.groups){const i=s.range.end-s.range.start,t=a+i*s.size;if(v<t)return _+Math.floor((v-a)/s.size);_+=i,a=t}return _}indexAfter(v){return Math.min(this.indexAt(v)+1,this.count)}positionAt(v){if(v<0)return-1;let _=0,a=0;for(const s of this.groups){const i=s.range.end-s.range.start,t=a+i;if(v<t)return this._paddingTop+_+(v-a)*s.size;_+=i*s.size,a=t}return-1}}e.RangeMap=p}),define(ie[63],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const f=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(L){return new k(L)}constructor(L){this._now=f&&L===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(ie[7],ne([1,0,12,119,2,70,63]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const p=!1,w=!1,v=!1;var _;(function(D){D.None=()=>E.Disposable.None;function I(te){if(v){const{onDidAddListener:$}=te,W=t.create();let j=0;te.onDidAddListener=()=>{++j===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),W.print()),$?.()}}}function T(te,$){return V(te,()=>{},0,void 0,!0,void 0,$)}D.defer=T;function N(te){return($,W=null,j)=>{let K=!1,G;return G=te(ee=>{if(!K)return G?G.dispose():K=!0,$.call(W,ee)},null,j),K&&G.dispose(),G}}D.once=N;function A(te,$,W){return B((j,K=null,G)=>te(ee=>j.call(K,$(ee)),null,G),W)}D.map=A;function P(te,$,W){return B((j,K=null,G)=>te(ee=>{$(ee),j.call(K,ee)},null,G),W)}D.forEach=P;function M(te,$,W){return B((j,K=null,G)=>te(ee=>$(ee)&&j.call(K,ee),null,G),W)}D.filter=M;function R(te){return te}D.signal=R;function F(...te){return($,W=null,j)=>{const K=(0,E.combinedDisposable)(...te.map(G=>G(ee=>$.call(W,ee))));return H(K,j)}}D.any=F;function O(te,$,W,j){let K=W;return A(te,G=>(K=$(K,G),K),j)}D.reduce=O;function B(te,$){let W;const j={onWillAddFirstListener(){W=te(K.fire,K)},onDidRemoveLastListener(){W?.dispose()}};$||I(j);const K=new d(j);return $?.add(K),K.event}function H(te,$){return $ instanceof Array?$.push(te):$&&$.add(te),te}function V(te,$,W=100,j=!1,K=!1,G,ee){let oe,de,le,ge=0,ve;const Ce={leakWarningThreshold:G,onWillAddFirstListener(){oe=te(be=>{ge++,de=$(de,be),j&&!le&&(Se.fire(de),de=void 0),ve=()=>{const ke=de;de=void 0,le=void 0,(!j||ge>1)&&Se.fire(ke),ge=0},typeof W=="number"?(clearTimeout(le),le=setTimeout(ve,W)):le===void 0&&(le=0,queueMicrotask(ve))})},onWillRemoveListener(){K&&ge>0&&ve?.()},onDidRemoveLastListener(){ve=void 0,oe.dispose()}};ee||I(Ce);const Se=new d(Ce);return ee?.add(Se),Se.event}D.debounce=V;function q(te,$=0,W){return D.debounce(te,(j,K)=>j?(j.push(K),j):[K],$,void 0,!0,void 0,W)}D.accumulate=q;function z(te,$=(j,K)=>j===K,W){let j=!0,K;return M(te,G=>{const ee=j||!$(G,K);return j=!1,K=G,ee},W)}D.latch=z;function U(te,$,W){return[D.filter(te,$,W),D.filter(te,j=>!$(j),W)]}D.split=U;function Z(te,$=!1,W=[],j){let K=W.slice(),G=te(de=>{K?K.push(de):oe.fire(de)});j&&j.add(G);const ee=()=>{K?.forEach(de=>oe.fire(de)),K=null},oe=new d({onWillAddFirstListener(){G||(G=te(de=>oe.fire(de)),j&&j.add(G))},onDidAddFirstListener(){K&&($?setTimeout(ee):ee())},onDidRemoveLastListener(){G&&G.dispose(),G=null}});return j&&j.add(oe),oe.event}D.buffer=Z;function re(te,$){return(j,K,G)=>{const ee=$(new Q);return te(function(oe){const de=ee.evaluate(oe);de!==x&&j.call(K,de)},void 0,G)}}D.chain=re;const x=Symbol("HaltChainable");class Q{constructor(){this.steps=[]}map($){return this.steps.push($),this}forEach($){return this.steps.push(W=>($(W),W)),this}filter($){return this.steps.push(W=>$(W)?W:x),this}reduce($,W){let j=W;return this.steps.push(K=>(j=$(j,K),j)),this}latch($=(W,j)=>W===j){let W=!0,j;return this.steps.push(K=>{const G=W||!$(K,j);return W=!1,j=K,G?K:x}),this}evaluate($){for(const W of this.steps)if($=W($),$===x)break;return $}}function X(te,$,W=j=>j){const j=(...oe)=>ee.fire(W(...oe)),K=()=>te.on($,j),G=()=>te.removeListener($,j),ee=new d({onWillAddFirstListener:K,onDidRemoveLastListener:G});return ee.event}D.fromNodeEventEmitter=X;function Y(te,$,W=j=>j){const j=(...oe)=>ee.fire(W(...oe)),K=()=>te.addEventListener($,j),G=()=>te.removeEventListener($,j),ee=new d({onWillAddFirstListener:K,onDidRemoveLastListener:G});return ee.event}D.fromDOMEventEmitter=Y;function ae(te){return new Promise($=>N(te)($))}D.toPromise=ae;function ce(te){const $=new d;return te.then(W=>{$.fire(W)},()=>{$.fire(void 0)}).finally(()=>{$.dispose()}),$.event}D.fromPromise=ce;function he(te,$,W){return $(W),te(j=>$(j))}D.runAndSubscribe=he;class pe{constructor($,W){this._observable=$,this._counter=0,this._hasChanged=!1;const j={onWillAddFirstListener:()=>{$.addObserver(this)},onDidRemoveLastListener:()=>{$.removeObserver(this)}};W||I(j),this.emitter=new d(j),W&&W.add(this.emitter)}beginUpdate($){this._counter++}handlePossibleChange($){}handleChange($,W){this._hasChanged=!0}endUpdate($){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function fe(te,$){return new pe(te,$).emitter.event}D.fromObservable=fe;function se(te){return($,W,j)=>{let K=0,G=!1;const ee={beginUpdate(){K++},endUpdate(){K--,K===0&&(te.reportChanges(),G&&(G=!1,$.call(W)))},handlePossibleChange(){},handleChange(){G=!0}};te.addObserver(ee),te.reportChanges();const oe={dispose(){te.removeObserver(ee)}};return j instanceof E.DisposableStore?j.add(oe):Array.isArray(j)&&j.push(oe),oe}}D.fromObservableLight=se})(_||(e.Event=_={}));class a{constructor(I){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${I}_${a._idPool++}`,a.all.add(this)}start(I){this._stopWatch=new y.StopWatch,this.listenerCount=I}stop(){if(this._stopWatch){const I=this._stopWatch.elapsed();this.durations.push(I),this.elapsedOverall+=I,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=a,a.all=new Set,a._idPool=0;let s=-1;class i{constructor(I,T=Math.random().toString(18).slice(2,5)){this.threshold=I,this.name=T,this._warnCountdown=0}dispose(){var I;(I=this._stacks)===null||I===void 0||I.clear()}check(I,T){const N=this.threshold;if(N<=0||T<N)return;this._stacks||(this._stacks=new Map);const A=this._stacks.get(I.value)||0;if(this._stacks.set(I.value,A+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=N*.5;let P,M=0;for(const[R,F]of this._stacks)(!P||M<F)&&(P=R,M=F);console.warn(`[${this.name}] potential listener LEAK detected, having ${T} listeners already. MOST frequent listener (${M}):`),console.warn(P)}return()=>{const P=this._stacks.get(I.value)||0;this._stacks.set(I.value,P-1)}}}class t{static create(){var I;return new t((I=new Error().stack)!==null&&I!==void 0?I:"")}constructor(I){this.value=I}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class n{constructor(I){this.value=I}}const h=2,m=(D,I)=>{if(D instanceof n)I(D);else for(let T=0;T<D.length;T++){const N=D[T];N&&I(N)}},u=p?new FinalizationRegistry(D=>{typeof D=="string"&&(console.warn("[LEAKING LISTENER] GC'ed a listener that was NOT yet disposed. This is where is was created:"),console.warn(D))}):void 0;class d{constructor(I){var T,N,A,P,M;this._size=0,this._options=I,this._leakageMon=s>0||!((T=this._options)===null||T===void 0)&&T.leakWarningThreshold?new i((A=(N=this._options)===null||N===void 0?void 0:N.leakWarningThreshold)!==null&&A!==void 0?A:s):void 0,this._perfMon=!((P=this._options)===null||P===void 0)&&P._profName?new a(this._options._profName):void 0,this._deliveryQueue=(M=this._options)===null||M===void 0?void 0:M.deliveryQueue}dispose(){var I,T,N,A;if(!this._disposed){if(this._disposed=!0,((I=this._deliveryQueue)===null||I===void 0?void 0:I.current)===this&&this._deliveryQueue.reset(),this._listeners){if(w){const P=this._listeners;queueMicrotask(()=>{m(P,M=>{var R;return(R=M.stack)===null||R===void 0?void 0:R.print()})})}this._listeners=void 0,this._size=0}(N=(T=this._options)===null||T===void 0?void 0:T.onDidRemoveLastListener)===null||N===void 0||N.call(T),(A=this._leakageMon)===null||A===void 0||A.dispose()}}get event(){var I;return(I=this._event)!==null&&I!==void 0||(this._event=(T,N,A)=>{var P,M,R,F,O;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),E.Disposable.None;if(this._disposed)return E.Disposable.None;N&&(T=T.bind(N));const B=new n(T);let H,V;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(B.stack=t.create(),H=this._leakageMon.check(B.stack,this._size+1)),w&&(B.stack=V??t.create()),this._listeners?this._listeners instanceof n?((O=this._deliveryQueue)!==null&&O!==void 0||(this._deliveryQueue=new l),this._listeners=[this._listeners,B]):this._listeners.push(B):((M=(P=this._options)===null||P===void 0?void 0:P.onWillAddFirstListener)===null||M===void 0||M.call(P,this),this._listeners=B,(F=(R=this._options)===null||R===void 0?void 0:R.onDidAddFirstListener)===null||F===void 0||F.call(R,this)),this._size++;const q=(0,E.toDisposable)(()=>{u?.unregister(q),H?.(),this._removeListener(B)});if(A instanceof E.DisposableStore?A.add(q):Array.isArray(A)&&A.push(q),u){const z=new Error().stack.split(`
`).slice(2).join(`
`).trim();u.register(q,z,q)}return q}),this._event}_removeListener(I){var T,N,A,P;if((N=(T=this._options)===null||T===void 0?void 0:T.onWillRemoveListener)===null||N===void 0||N.call(T,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(P=(A=this._options)===null||A===void 0?void 0:A.onDidRemoveLastListener)===null||P===void 0||P.call(A,this),this._size=0;return}const M=this._listeners,R=M.indexOf(I);if(R===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,M[R]=void 0;const F=this._deliveryQueue.current===this;if(this._size*h<=M.length){let O=0;for(let B=0;B<M.length;B++)M[B]?M[O++]=M[B]:F&&(this._deliveryQueue.end--,O<this._deliveryQueue.i&&this._deliveryQueue.i--);M.length=O}}_deliver(I,T){var N;if(!I)return;const A=((N=this._options)===null||N===void 0?void 0:N.onListenerError)||f.onUnexpectedError;if(!A){I.value(T);return}try{I.value(T)}catch(P){A(P)}}_deliverQueue(I){const T=I.current._listeners;for(;I.i<I.end;)this._deliver(T[I.i++],I.value);I.reset()}fire(I){var T,N,A,P;if(!((T=this._deliveryQueue)===null||T===void 0)&&T.current&&(this._deliverQueue(this._deliveryQueue),(N=this._perfMon)===null||N===void 0||N.stop()),(A=this._perfMon)===null||A===void 0||A.start(this._size),this._listeners)if(this._listeners instanceof n)this._deliver(this._listeners,I);else{const M=this._deliveryQueue;M.enqueue(this,I,this._listeners.length),this._deliverQueue(M)}(P=this._perfMon)===null||P===void 0||P.stop()}hasListeners(){return this._size>0}}e.Emitter=d;const r=()=>new l;e.createEventDeliveryQueue=r;class l{constructor(){this.i=-1,this.end=0}enqueue(I,T,N){this.i=0,this.end=N,this.current=I,this.value=T}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class o extends d{constructor(I){super(I),this._isPaused=0,this._eventQueue=new L.LinkedList,this._mergeFn=I?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const I=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(I))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(I){this._size&&(this._isPaused!==0?this._eventQueue.push(I):super.fire(I))}}e.PauseableEmitter=o;class g extends o{constructor(I){var T;super(I),this._delay=(T=I.delay)!==null&&T!==void 0?T:100}fire(I){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(I)}}e.DebounceEmitter=g;class c extends d{constructor(I){super(I),this._queuedEvents=[],this._mergeFn=I?.merge}fire(I){this.hasListeners()&&(this._queuedEvents.push(I),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(T=>super.fire(T)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=c;class b{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new d({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(I){const T={event:I,listener:null};this.events.push(T),this.hasListeners&&this.hook(T);const N=()=>{this.hasListeners&&this.unhook(T);const A=this.events.indexOf(T);this.events.splice(A,1)};return(0,E.toDisposable)((0,k.createSingleCallFunction)(N))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(I=>this.hook(I))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(I=>this.unhook(I))}hook(I){I.listener=I.event(T=>this.emitter.fire(T))}unhook(I){var T;(T=I.listener)===null||T===void 0||T.dispose(),I.listener=null}dispose(){var I;this.emitter.dispose();for(const T of this.events)(I=T.listener)===null||I===void 0||I.dispose();this.events=[]}}e.EventMultiplexer=b;class C{constructor(){this.buffers=[]}wrapEvent(I){return(T,N,A)=>I(P=>{const M=this.buffers[this.buffers.length-1];M?M.push(()=>T.call(N,P)):T.call(N,P)},void 0,A)}bufferEvents(I){const T=[];this.buffers.push(T);const N=I();return this.buffers.pop(),T.forEach(A=>A()),N}}e.EventBufferer=C;class S{constructor(){this.listening=!1,this.inputEvent=_.None,this.inputEventListener=E.Disposable.None,this.emitter=new d({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(I){this.inputEvent=I,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=I(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=S}),define(ie[89],ne([1,0,7]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(L,y,p){const w=v=>this.emitter.fire(v);this.emitter=new f.Emitter({onWillAddFirstListener:()=>L.addEventListener(y,w,p),onDidRemoveLastListener:()=>L.removeEventListener(y,w,p)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(ie[19],ne([1,0,7]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(p,w){const v=setTimeout(p.bind(w),0);return{dispose(){clearTimeout(v)}}});var E;(function(p){function w(v){return v===p.None||v===p.Cancelled||v instanceof L?!0:!v||typeof v!="object"?!1:typeof v.isCancellationRequested=="boolean"&&typeof v.onCancellationRequested=="function"}p.isCancellationToken=w,p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:f.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(E||(e.CancellationToken=E={}));class L{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new f.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class y{constructor(w){this._token=void 0,this._parentListener=void 0,this._parentListener=w&&w.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new L),this._token}cancel(){this._token?this._token instanceof L&&this._token.cancel():this._token=E.Cancelled}dispose(w=!1){var v;w&&this.cancel(),(v=this._parentListener)===null||v===void 0||v.dispose(),this._token?this._token instanceof L&&this._token.dispose():this._token=E.None}}e.CancellationTokenSource=y}),define(ie[288],ne([1,0,7]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(ie[156],ne([1,0,7,2]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class E{constructor(i,t,n,h,m,u,d){this._forceIntegerValues=i,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,n=n|0,h=h|0,m=m|0,u=u|0,d=d|0),this.rawScrollLeft=h,this.rawScrollTop=d,t<0&&(t=0),h+t>n&&(h=n-t),h<0&&(h=0),m<0&&(m=0),d+m>u&&(d=u-m),d<0&&(d=0),this.width=t,this.scrollWidth=n,this.scrollLeft=h,this.height=m,this.scrollHeight=u,this.scrollTop=d}equals(i){return this.rawScrollLeft===i.rawScrollLeft&&this.rawScrollTop===i.rawScrollTop&&this.width===i.width&&this.scrollWidth===i.scrollWidth&&this.scrollLeft===i.scrollLeft&&this.height===i.height&&this.scrollHeight===i.scrollHeight&&this.scrollTop===i.scrollTop}withScrollDimensions(i,t){return new E(this._forceIntegerValues,typeof i.width<"u"?i.width:this.width,typeof i.scrollWidth<"u"?i.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof i.height<"u"?i.height:this.height,typeof i.scrollHeight<"u"?i.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(i){return new E(this._forceIntegerValues,this.width,this.scrollWidth,typeof i.scrollLeft<"u"?i.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof i.scrollTop<"u"?i.scrollTop:this.rawScrollTop)}createScrollEvent(i,t){const n=this.width!==i.width,h=this.scrollWidth!==i.scrollWidth,m=this.scrollLeft!==i.scrollLeft,u=this.height!==i.height,d=this.scrollHeight!==i.scrollHeight,r=this.scrollTop!==i.scrollTop;return{inSmoothScrolling:t,oldWidth:i.width,oldScrollWidth:i.scrollWidth,oldScrollLeft:i.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:i.height,oldScrollHeight:i.scrollHeight,oldScrollTop:i.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:h,scrollLeftChanged:m,heightChanged:u,scrollHeightChanged:d,scrollTopChanged:r}}}e.ScrollState=E;class L extends k.Disposable{constructor(i){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new f.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=i.smoothScrollDuration,this._scheduleAtNextAnimationFrame=i.scheduleAtNextAnimationFrame,this._state=new E(i.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(i){this._smoothScrollDuration=i}validateScrollPosition(i){return this._state.withScrollPosition(i)}getScrollDimensions(){return this._state}setScrollDimensions(i,t){var n;const h=this._state.withScrollDimensions(i,t);this._setState(h,!!this._smoothScrolling),(n=this._smoothScrolling)===null||n===void 0||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(i){const t=this._state.withScrollPosition(i);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(i,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(i);if(this._smoothScrolling){i={scrollLeft:typeof i.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:i.scrollLeft,scrollTop:typeof i.scrollTop>"u"?this._smoothScrolling.to.scrollTop:i.scrollTop};const n=this._state.withScrollPosition(i);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let h;t?h=new v(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):h=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=h}else{const n=this._state.withScrollPosition(i);this._smoothScrolling=v.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const i=this._smoothScrolling.tick(),t=this._state.withScrollPosition(i);if(this._setState(t,!0),!!this._smoothScrolling){if(i.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(i,t){const n=this._state;n.equals(i)||(this._state=i,this._onScroll.fire(this._state.createScrollEvent(n,t)))}}e.Scrollable=L;class y{constructor(i,t,n){this.scrollLeft=i,this.scrollTop=t,this.isDone=n}}e.SmoothScrollingUpdate=y;function p(s,i){const t=i-s;return function(n){return s+t*a(n)}}function w(s,i,t){return function(n){return n<t?s(n/t):i((n-t)/(1-t))}}class v{constructor(i,t,n,h){this.from=i,this.to=t,this.duration=h,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(i,t,n){if(Math.abs(i-t)>2.5*n){let m,u;return i<t?(m=i+.75*n,u=t-.75*n):(m=i-.75*n,u=t+.75*n),w(p(i,m),p(u,t),.33)}return p(i,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(i){this.to=i.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(i){const t=(i-this.startTime)/this.duration;if(t<1){const n=this.scrollLeft(t),h=this.scrollTop(t);return new y(n,h,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(i,t,n){return v.start(i,t,n)}static start(i,t,n){n=n+10;const h=Date.now()-10;return new v(i,t,h,n)}}e.SmoothScrollingOperation=v;function _(s){return Math.pow(s,3)}function a(s){return 1-_(1-s)}}),define(ie[11],ne([1,0,284,95]),function(J,e,f,k){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.UTF8_BOM_CHARACTER=e.UNUSUAL_LINE_TERMINATORS=e.GraphemeIterator=e.CodePointIterator=void 0,e.isFalsyOrWhitespace=L,e.format=p,e.htmlAttributeEncodeValue=w,e.escape=v,e.escapeRegExpCharacters=_,e.trim=a,e.ltrim=s,e.rtrim=i,e.convertSimple2RegExpPattern=t,e.stripWildcards=n,e.createRegExp=h,e.regExpLeadsToEndlessLoop=m,e.splitLines=u,e.splitLinesIncludeSeparators=d,e.firstNonWhitespaceIndex=r,e.getLeadingWhitespace=l,e.lastNonWhitespaceIndex=o,e.compare=g,e.compareSubstring=c,e.compareIgnoreCase=b,e.compareSubstringIgnoreCase=C,e.isAsciiDigit=S,e.isLowerAsciiLetter=D,e.isUpperAsciiLetter=I,e.equalsIgnoreCase=T,e.startsWithIgnoreCase=N,e.commonPrefixLength=A,e.commonSuffixLength=P,e.isHighSurrogate=M,e.isLowSurrogate=R,e.computeCodePoint=F,e.getNextCodePoint=O,e.nextCharLength=q,e.prevCharLength=z,e.getCharContainingOffset=U,e.containsRTL=x,e.isBasicASCII=X,e.containsUnusualLineTerminators=Y,e.isFullWidthCharacter=ae,e.isEmojiImprecise=ce,e.startsWithUTF8BOM=he,e.containsUppercaseCharacter=pe,e.singleLetterHash=fe,e.getLeftDeleteOffset=W;function L(oe){return!oe||typeof oe!="string"?!0:oe.trim().length===0}const y=/{(\d+)}/g;function p(oe,...de){return de.length===0?oe:oe.replace(y,function(le,ge){const ve=parseInt(ge,10);return isNaN(ve)||ve<0||ve>=de.length?le:de[ve]})}function w(oe){return oe.replace(/[<>"'&]/g,de=>{switch(de){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return de})}function v(oe){return oe.replace(/[<>&]/g,function(de){switch(de){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return de}})}function _(oe){return oe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function a(oe,de=" "){const le=s(oe,de);return i(le,de)}function s(oe,de){if(!oe||!de)return oe;const le=de.length;if(le===0||oe.length===0)return oe;let ge=0;for(;oe.indexOf(de,ge)===ge;)ge=ge+le;return oe.substring(ge)}function i(oe,de){if(!oe||!de)return oe;const le=de.length,ge=oe.length;if(le===0||ge===0)return oe;let ve=ge,Ce=-1;for(;Ce=oe.lastIndexOf(de,ve-1),!(Ce===-1||Ce+le!==ve);){if(Ce===0)return"";ve=Ce}return oe.substring(0,ve)}function t(oe){return oe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function n(oe){return oe.replace(/\*/g,"")}function h(oe,de,le={}){if(!oe)throw new Error("Cannot create regex from empty string");de||(oe=_(oe)),le.wholeWord&&(/\B/.test(oe.charAt(0))||(oe="\\b"+oe),/\B/.test(oe.charAt(oe.length-1))||(oe=oe+"\\b"));let ge="";return le.global&&(ge+="g"),le.matchCase||(ge+="i"),le.multiline&&(ge+="m"),le.unicode&&(ge+="u"),new RegExp(oe,ge)}function m(oe){return oe.source==="^"||oe.source==="^$"||oe.source==="$"||oe.source==="^\\s*$"?!1:!!(oe.exec("")&&oe.lastIndex===0)}function u(oe){return oe.split(/\r\n|\r|\n/)}function d(oe){var de;const le=[],ge=oe.split(/(\r\n|\r|\n)/);for(let ve=0;ve<Math.ceil(ge.length/2);ve++)le.push(ge[2*ve]+((de=ge[2*ve+1])!==null&&de!==void 0?de:""));return le}function r(oe){for(let de=0,le=oe.length;de<le;de++){const ge=oe.charCodeAt(de);if(ge!==32&&ge!==9)return de}return-1}function l(oe,de=0,le=oe.length){for(let ge=de;ge<le;ge++){const ve=oe.charCodeAt(ge);if(ve!==32&&ve!==9)return oe.substring(de,ge)}return oe.substring(de,le)}function o(oe,de=oe.length-1){for(let le=de;le>=0;le--){const ge=oe.charCodeAt(le);if(ge!==32&&ge!==9)return le}return-1}function g(oe,de){return oe<de?-1:oe>de?1:0}function c(oe,de,le=0,ge=oe.length,ve=0,Ce=de.length){for(;le<ge&&ve<Ce;le++,ve++){const ke=oe.charCodeAt(le),Ee=de.charCodeAt(ve);if(ke<Ee)return-1;if(ke>Ee)return 1}const Se=ge-le,be=Ce-ve;return Se<be?-1:Se>be?1:0}function b(oe,de){return C(oe,de,0,oe.length,0,de.length)}function C(oe,de,le=0,ge=oe.length,ve=0,Ce=de.length){for(;le<ge&&ve<Ce;le++,ve++){let ke=oe.charCodeAt(le),Ee=de.charCodeAt(ve);if(ke===Ee)continue;if(ke>=128||Ee>=128)return c(oe.toLowerCase(),de.toLowerCase(),le,ge,ve,Ce);D(ke)&&(ke-=32),D(Ee)&&(Ee-=32);const Ae=ke-Ee;if(Ae!==0)return Ae}const Se=ge-le,be=Ce-ve;return Se<be?-1:Se>be?1:0}function S(oe){return oe>=48&&oe<=57}function D(oe){return oe>=97&&oe<=122}function I(oe){return oe>=65&&oe<=90}function T(oe,de){return oe.length===de.length&&C(oe,de)===0}function N(oe,de){const le=de.length;return de.length>oe.length?!1:C(oe,de,0,le)===0}function A(oe,de){const le=Math.min(oe.length,de.length);let ge;for(ge=0;ge<le;ge++)if(oe.charCodeAt(ge)!==de.charCodeAt(ge))return ge;return le}function P(oe,de){const le=Math.min(oe.length,de.length);let ge;const ve=oe.length-1,Ce=de.length-1;for(ge=0;ge<le;ge++)if(oe.charCodeAt(ve-ge)!==de.charCodeAt(Ce-ge))return ge;return le}function M(oe){return 55296<=oe&&oe<=56319}function R(oe){return 56320<=oe&&oe<=57343}function F(oe,de){return(oe-55296<<10)+(de-56320)+65536}function O(oe,de,le){const ge=oe.charCodeAt(le);if(M(ge)&&le+1<de){const ve=oe.charCodeAt(le+1);if(R(ve))return F(ge,ve)}return ge}function B(oe,de){const le=oe.charCodeAt(de-1);if(R(le)&&de>1){const ge=oe.charCodeAt(de-2);if(M(ge))return F(ge,le)}return le}class H{get offset(){return this._offset}constructor(de,le=0){this._str=de,this._len=de.length,this._offset=le}setOffset(de){this._offset=de}prevCodePoint(){const de=B(this._str,this._offset);return this._offset-=de>=65536?2:1,de}nextCodePoint(){const de=O(this._str,this._len,this._offset);return this._offset+=de>=65536?2:1,de}eol(){return this._offset>=this._len}}e.CodePointIterator=H;class V{get offset(){return this._iterator.offset}constructor(de,le=0){this._iterator=new H(de,le)}nextGraphemeLength(){const de=te.getInstance(),le=this._iterator,ge=le.offset;let ve=de.getGraphemeBreakType(le.nextCodePoint());for(;!le.eol();){const Ce=le.offset,Se=de.getGraphemeBreakType(le.nextCodePoint());if(se(ve,Se)){le.setOffset(Ce);break}ve=Se}return le.offset-ge}prevGraphemeLength(){const de=te.getInstance(),le=this._iterator,ge=le.offset;let ve=de.getGraphemeBreakType(le.prevCodePoint());for(;le.offset>0;){const Ce=le.offset,Se=de.getGraphemeBreakType(le.prevCodePoint());if(se(Se,ve)){le.setOffset(Ce);break}ve=Se}return ge-le.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=V;function q(oe,de){return new V(oe,de).nextGraphemeLength()}function z(oe,de){return new V(oe,de).prevGraphemeLength()}function U(oe,de){de>0&&R(oe.charCodeAt(de))&&de--;const le=de+q(oe,de);return[le-z(oe,le),le]}let Z;function re(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function x(oe){return Z||(Z=re()),Z.test(oe)}const Q=/^[\t\n\r\x20-\x7E]*$/;function X(oe){return Q.test(oe)}e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Y(oe){return e.UNUSUAL_LINE_TERMINATORS.test(oe)}function ae(oe){return oe>=11904&&oe<=55215||oe>=63744&&oe<=64255||oe>=65281&&oe<=65374}function ce(oe){return oe>=127462&&oe<=127487||oe===8986||oe===8987||oe===9200||oe===9203||oe>=9728&&oe<=10175||oe===11088||oe===11093||oe>=127744&&oe<=128591||oe>=128640&&oe<=128764||oe>=128992&&oe<=129008||oe>=129280&&oe<=129535||oe>=129648&&oe<=129782}e.UTF8_BOM_CHARACTER="\uFEFF";function he(oe){return!!(oe&&oe.length>0&&oe.charCodeAt(0)===65279)}function pe(oe,de=!1){return oe?(de&&(oe=oe.replace(/\\./g,"")),oe.toLowerCase()!==oe):!1}function fe(oe){return oe=oe%(2*26),oe<26?String.fromCharCode(97+oe):String.fromCharCode(65+oe-26)}function se(oe,de){return oe===0?de!==5&&de!==7:oe===2&&de===3?!1:oe===4||oe===2||oe===3||de===4||de===2||de===3?!0:!(oe===8&&(de===8||de===9||de===11||de===12)||(oe===11||oe===9)&&(de===9||de===10)||(oe===12||oe===10)&&de===10||de===5||de===13||de===7||oe===1||oe===13&&de===14||oe===6&&de===6)}class te{static getInstance(){return te._INSTANCE||(te._INSTANCE=new te),te._INSTANCE}constructor(){this._data=$()}getGraphemeBreakType(de){if(de<32)return de===10?3:de===13?2:4;if(de<127)return 0;const le=this._data,ge=le.length/3;let ve=1;for(;ve<=ge;)if(de<le[3*ve])ve=2*ve;else if(de>le[3*ve+1])ve=2*ve+1;else return le[3*ve+2];return 0}}te._INSTANCE=null;function $(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function W(oe,de){if(oe===0)return 0;const le=j(oe,de);if(le!==void 0)return le;const ge=new H(de,oe);return ge.prevCodePoint(),ge.offset}function j(oe,de){const le=new H(de,oe);let ge=le.prevCodePoint();for(;K(ge)||ge===65039||ge===8419;){if(le.offset===0)return;ge=le.prevCodePoint()}if(!ce(ge))return;let ve=le.offset;return ve>0&&le.prevCodePoint()===8205&&(ve=le.offset),ve}function K(oe){return 127995<=oe&&oe<=127999}e.noBreakWhitespace="\xA0";class G{static getInstance(de){return E.cache.get(Array.from(de))}static getLocales(){return E._locales.value}constructor(de){this.confusableDictionary=de}isAmbiguous(de){return this.confusableDictionary.has(de)}getPrimaryConfusable(de){return this.confusableDictionary.get(de)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=G,E=G,G.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),G.cache=new f.LRUCachedFunction(oe=>{function de(Ee){const Ae=new Map;for(let Pe=0;Pe<Ee.length;Pe+=2)Ae.set(Ee[Pe],Ee[Pe+1]);return Ae}function le(Ee,Ae){const Pe=new Map(Ee);for(const[He,Be]of Ae)Pe.set(He,Be);return Pe}function ge(Ee,Ae){if(!Ee)return Ae;const Pe=new Map;for(const[He,Be]of Ee)Ae.has(He)&&Pe.set(He,Be);return Pe}const ve=E.ambiguousCharacterData.value;let Ce=oe.filter(Ee=>!Ee.startsWith("_")&&Ee in ve);Ce.length===0&&(Ce=["_default"]);let Se;for(const Ee of Ce){const Ae=de(ve[Ee]);Se=ge(Se,Ae)}const be=de(ve._common),ke=le(be,Se);return new E(ke)}),G._locales=new k.Lazy(()=>Object.keys(E.ambiguousCharacterData.value).filter(oe=>!oe.startsWith("_")));class ee{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ee.getRawData())),this._data}static isInvisibleCharacter(de){return ee.getData().has(de)}static get codePoints(){return ee.getData()}}e.InvisibleCharacters=ee,ee._data=void 0}),define(ie[76],ne([1,0,47,421,11]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FuzzyScoreOptions=e.FuzzyScore=e.matchesPrefix=e.matchesStrictPrefix=void 0,e.or=L,e.matchesContiguousSubString=p,e.matchesSubString=w,e.isUpper=a,e.matchesCamelCase=S,e.matchesWords=D,e.matchesFuzzy=M,e.matchesFuzzy2=R,e.anyScore=F,e.createMatches=O,e.isPatternInWord=he,e.fuzzyScore=se,e.fuzzyScoreGracefulAggressive=W;function L(...G){return function(ee,oe){for(let de=0,le=G.length;de<le;de++){const ge=G[de](ee,oe);if(ge)return ge}return null}}e.matchesStrictPrefix=y.bind(void 0,!1),e.matchesPrefix=y.bind(void 0,!0);function y(G,ee,oe){if(!oe||oe.length<ee.length)return null;let de;return G?de=E.startsWithIgnoreCase(oe,ee):de=oe.indexOf(ee)===0,de?ee.length>0?[{start:0,end:ee.length}]:[]:null}function p(G,ee){const oe=ee.toLowerCase().indexOf(G.toLowerCase());return oe===-1?null:[{start:oe,end:oe+G.length}]}function w(G,ee){return v(G.toLowerCase(),ee.toLowerCase(),0,0)}function v(G,ee,oe,de){if(oe===G.length)return[];if(de===ee.length)return null;if(G[oe]===ee[de]){let le=null;return(le=v(G,ee,oe+1,de+1))?r({start:de,end:de+1},le):null}return v(G,ee,oe,de+1)}function _(G){return 97<=G&&G<=122}function a(G){return 65<=G&&G<=90}function s(G){return 48<=G&&G<=57}function i(G){return G===32||G===9||G===10||G===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(G=>t.add(G.charCodeAt(0)));function n(G){return i(G)||t.has(G)}function h(G,ee){return G===ee||n(G)&&n(ee)}const m=new Map;function u(G){if(m.has(G))return m.get(G);let ee;const oe=(0,k.getKoreanAltChars)(G);return oe&&(ee=oe),m.set(G,ee),ee}function d(G){return _(G)||a(G)||s(G)}function r(G,ee){return ee.length===0?ee=[G]:G.end===ee[0].start?ee[0].start=G.start:ee.unshift(G),ee}function l(G,ee){for(let oe=ee;oe<G.length;oe++){const de=G.charCodeAt(oe);if(a(de)||s(de)||oe>0&&!d(G.charCodeAt(oe-1)))return oe}return G.length}function o(G,ee,oe,de){if(oe===G.length)return[];if(de===ee.length)return null;if(G[oe]!==ee[de].toLowerCase())return null;{let le=null,ge=de+1;for(le=o(G,ee,oe+1,de+1);!le&&(ge=l(ee,ge))<ee.length;)le=o(G,ee,oe+1,ge),ge++;return le===null?null:r({start:de,end:de+1},le)}}function g(G){let ee=0,oe=0,de=0,le=0,ge=0;for(let ke=0;ke<G.length;ke++)ge=G.charCodeAt(ke),a(ge)&&ee++,_(ge)&&oe++,d(ge)&&de++,s(ge)&&le++;const ve=ee/G.length,Ce=oe/G.length,Se=de/G.length,be=le/G.length;return{upperPercent:ve,lowerPercent:Ce,alphaPercent:Se,numericPercent:be}}function c(G){const{upperPercent:ee,lowerPercent:oe}=G;return oe===0&&ee>.6}function b(G){const{upperPercent:ee,lowerPercent:oe,alphaPercent:de,numericPercent:le}=G;return oe>.2&&ee<.8&&de>.6&&le<.2}function C(G){let ee=0,oe=0,de=0,le=0;for(let ge=0;ge<G.length;ge++)de=G.charCodeAt(ge),a(de)&&ee++,_(de)&&oe++,i(de)&&le++;return(ee===0||oe===0)&&le===0?G.length<=30:ee<=5}function S(G,ee){if(!ee||(ee=ee.trim(),ee.length===0)||!C(G))return null;ee.length>60&&(ee=ee.substring(0,60));const oe=g(ee);if(!b(oe)){if(!c(oe))return null;ee=ee.toLowerCase()}let de=null,le=0;for(G=G.toLowerCase();le<ee.length&&(de=o(G,ee,0,le))===null;)le=l(ee,le+1);return de}function D(G,ee,oe=!1){if(!ee||ee.length===0)return null;let de=null,le=0;for(G=G.toLowerCase(),ee=ee.toLowerCase();le<ee.length&&(de=I(G,ee,0,le,oe),de===null);)le=T(ee,le+1);return de}function I(G,ee,oe,de,le){let ge=0;if(oe===G.length)return[];if(de===ee.length)return null;if(!h(G.charCodeAt(oe),ee.charCodeAt(de))){const Se=u(G.charCodeAt(oe));if(!Se)return null;for(let be=0;be<Se.length;be++)if(!h(Se[be],ee.charCodeAt(de+be)))return null;ge+=Se.length-1}let ve=null,Ce=de+ge+1;if(ve=I(G,ee,oe+1,Ce,le),!le)for(;!ve&&(Ce=T(ee,Ce))<ee.length;)ve=I(G,ee,oe+1,Ce,le),Ce++;if(!ve)return null;if(G.charCodeAt(oe)!==ee.charCodeAt(de)){const Se=u(G.charCodeAt(oe));if(!Se)return ve;for(let be=0;be<Se.length;be++)if(Se[be]!==ee.charCodeAt(de+be))return ve}return r({start:de,end:de+ge+1},ve)}function T(G,ee){for(let oe=ee;oe<G.length;oe++)if(n(G.charCodeAt(oe))||oe>0&&n(G.charCodeAt(oe-1)))return oe;return G.length}const N=L(e.matchesPrefix,S,p),A=L(e.matchesPrefix,S,w),P=new f.LRUCache(1e4);function M(G,ee,oe=!1){if(typeof G!="string"||typeof ee!="string")return null;let de=P.get(G);de||(de=new RegExp(E.convertSimple2RegExpPattern(G),"i"),P.set(G,de));const le=de.exec(ee);return le?[{start:le.index,end:le.index+le[0].length}]:oe?A(G,ee):N(G,ee)}function R(G,ee){const oe=se(G,G.toLowerCase(),0,ee,ee.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return oe?O(oe):null}function F(G,ee,oe,de,le,ge){const ve=Math.min(13,G.length);for(;oe<ve;oe++){const Ce=se(G,ee,oe,de,le,ge,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Ce)return Ce}return[0,ge]}function O(G){if(typeof G>"u")return[];const ee=[],oe=G[1];for(let de=G.length-1;de>1;de--){const le=G[de]+oe,ge=ee[ee.length-1];ge&&ge.end===le?ge.end=le+1:ee.push({start:le,end:le+1})}return ee}const B=128;function H(){const G=[],ee=[];for(let oe=0;oe<=B;oe++)ee[oe]=0;for(let oe=0;oe<=B;oe++)G.push(ee.slice(0));return G}function V(G){const ee=[];for(let oe=0;oe<=G;oe++)ee[oe]=0;return ee}const q=V(2*B),z=V(2*B),U=H(),Z=H(),re=H(),x=!1;function Q(G,ee,oe,de,le){function ge(Ce,Se,be=" "){for(;Ce.length<Se;)Ce=be+Ce;return Ce}let ve=` |   |${de.split("").map(Ce=>ge(Ce,3)).join("|")}
`;for(let Ce=0;Ce<=oe;Ce++)Ce===0?ve+=" |":ve+=`${ee[Ce-1]}|`,ve+=G[Ce].slice(0,le+1).map(Se=>ge(Se.toString(),3)).join("|")+`
`;return ve}function X(G,ee,oe,de){G=G.substr(ee),oe=oe.substr(de),console.log(Q(Z,G,G.length,oe,oe.length)),console.log(Q(re,G,G.length,oe,oe.length)),console.log(Q(U,G,G.length,oe,oe.length))}function Y(G,ee){if(ee<0||ee>=G.length)return!1;const oe=G.codePointAt(ee);switch(oe){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!E.isEmojiImprecise(oe)}}function ae(G,ee){if(ee<0||ee>=G.length)return!1;switch(G.charCodeAt(ee)){case 32:case 9:return!0;default:return!1}}function ce(G,ee,oe){return ee[G]!==oe[G]}function he(G,ee,oe,de,le,ge,ve=!1){for(;ee<oe&&le<ge;)G[ee]===de[le]&&(ve&&(q[ee]=le),ee+=1),le+=1;return ee===oe}var pe;(function(G){G.Default=[-100,0];function ee(oe){return!oe||oe.length===2&&oe[0]===-100&&oe[1]===0}G.isDefault=ee})(pe||(e.FuzzyScore=pe={}));class fe{constructor(ee,oe){this.firstMatchCanBeWeak=ee,this.boostFullMatch=oe}}e.FuzzyScoreOptions=fe,fe.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function se(G,ee,oe,de,le,ge,ve=fe.default){const Ce=G.length>B?B:G.length,Se=de.length>B?B:de.length;if(oe>=Ce||ge>=Se||Ce-oe>Se-ge||!he(ee,oe,Ce,le,ge,Se,!0))return;te(Ce,Se,oe,ge,ee,le);let be=1,ke=1,Ee=oe,Ae=ge;const Pe=[!1];for(be=1,Ee=oe;Ee<Ce;be++,Ee++){const me=q[Ee],_e=z[Ee],Re=Ee+1<Ce?z[Ee+1]:Se;for(ke=me-ge+1,Ae=me;Ae<Re;ke++,Ae++){let We=Number.MIN_SAFE_INTEGER,qe=!1;Ae<=_e&&(We=$(G,ee,Ee,oe,de,le,Ae,Se,ge,U[be-1][ke-1]===0,Pe));let je=0;We!==Number.MAX_SAFE_INTEGER&&(qe=!0,je=We+Z[be-1][ke-1]);const Ze=Ae>me,Je=Ze?Z[be][ke-1]+(U[be][ke-1]>0?-5:0):0,st=Ae>me+1&&U[be][ke-1]>0,rt=st?Z[be][ke-2]+(U[be][ke-2]>0?-5:0):0;if(st&&(!Ze||rt>=Je)&&(!qe||rt>=je))Z[be][ke]=rt,re[be][ke]=3,U[be][ke]=0;else if(Ze&&(!qe||Je>=je))Z[be][ke]=Je,re[be][ke]=2,U[be][ke]=0;else if(qe)Z[be][ke]=je,re[be][ke]=1,U[be][ke]=U[be-1][ke-1]+1;else throw new Error("not possible")}}if(x&&X(G,oe,de,ge),!Pe[0]&&!ve.firstMatchCanBeWeak)return;be--,ke--;const He=[Z[be][ke],ge];let Be=0,De=0;for(;be>=1;){let me=ke;do{const _e=re[be][me];if(_e===3)me=me-2;else if(_e===2)me=me-1;else break}while(me>=1);Be>1&&ee[oe+be-1]===le[ge+ke-1]&&!ce(me+ge-1,de,le)&&Be+1>U[be][me]&&(me=ke),me===ke?Be++:Be=1,De||(De=me),be--,ke=me-1,He.push(ke)}Se===Ce&&ve.boostFullMatch&&(He[0]+=2);const Ne=De-Ce;return He[0]-=Ne,He}function te(G,ee,oe,de,le,ge){let ve=G-1,Ce=ee-1;for(;ve>=oe&&Ce>=de;)le[ve]===ge[Ce]&&(z[ve]=Ce,ve--),Ce--}function $(G,ee,oe,de,le,ge,ve,Ce,Se,be,ke){if(ee[oe]!==ge[ve])return Number.MIN_SAFE_INTEGER;let Ee=1,Ae=!1;return ve===oe-de?Ee=G[oe]===le[ve]?7:5:ce(ve,le,ge)&&(ve===0||!ce(ve-1,le,ge))?(Ee=G[oe]===le[ve]?7:5,Ae=!0):Y(ge,ve)&&(ve===0||!Y(ge,ve-1))?Ee=5:(Y(ge,ve-1)||ae(ge,ve-1))&&(Ee=5,Ae=!0),Ee>1&&oe===de&&(ke[0]=!0),Ae||(Ae=ce(ve,le,ge)||Y(ge,ve-1)||ae(ge,ve-1)),oe===de?ve>Se&&(Ee-=Ae?3:5):be?Ee+=Ae?2:0:Ee+=Ae?0:1,ve+1===Ce&&(Ee-=Ae?3:5),Ee}function W(G,ee,oe,de,le,ge,ve){return j(G,ee,oe,de,le,ge,!0,ve)}function j(G,ee,oe,de,le,ge,ve,Ce){let Se=se(G,ee,oe,de,le,ge,Ce);if(Se&&!ve)return Se;if(G.length>=3){const be=Math.min(7,G.length-1);for(let ke=oe+1;ke<be;ke++){const Ee=K(G,ke);if(Ee){const Ae=se(Ee,Ee.toLowerCase(),oe,de,le,ge,Ce);Ae&&(Ae[0]-=3,(!Se||Ae[0]>Se[0])&&(Se=Ae))}}}return Se}function K(G,ee){if(ee+1>=G.length)return;const oe=G[ee],de=G[ee+1];if(oe!==de)return G.slice(0,ee)+de+oe+G.slice(ee+2)}}),define(ie[121],ne([1,0,11]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=void 0,e.hash=k,e.doHash=E,e.numberHash=L,e.stringHash=p,e.toHexString=i;function k(n){return E(n,0)}function E(n,h){switch(typeof n){case"object":return n===null?L(349,h):Array.isArray(n)?w(n,h):v(n,h);case"string":return p(n,h);case"boolean":return y(n,h);case"number":return L(n,h);case"undefined":return L(937,h);default:return L(617,h)}}function L(n,h){return(h<<5)-h+n|0}function y(n,h){return L(n?433:863,h)}function p(n,h){h=L(149417,h);for(let m=0,u=n.length;m<u;m++)h=L(n.charCodeAt(m),h);return h}function w(n,h){return h=L(104579,h),n.reduce((m,u)=>E(u,m),h)}function v(n,h){return h=L(181387,h),Object.keys(n).sort().reduce((m,u)=>(m=p(u,m),E(n[u],m)),h)}function _(n,h,m=32){const u=m-h,d=~((1<<u)-1);return(n<<h|(d&n)>>>u)>>>0}function a(n,h=0,m=n.byteLength,u=0){for(let d=0;d<m;d++)n[h+d]=u}function s(n,h,m="0"){for(;n.length<h;)n=m+n;return n}function i(n,h=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(m=>m.toString(16).padStart(2,"0")).join(""):s((n>>>0).toString(16),h/4)}class t{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(h){const m=h.length;if(m===0)return;const u=this._buff;let d=this._buffLen,r=this._leftoverHighSurrogate,l,o;for(r!==0?(l=r,o=-1,r=0):(l=h.charCodeAt(0),o=0);;){let g=l;if(f.isHighSurrogate(l))if(o+1<m){const c=h.charCodeAt(o+1);f.isLowSurrogate(c)?(o++,g=f.computeCodePoint(l,c)):g=65533}else{r=l;break}else f.isLowSurrogate(l)&&(g=65533);if(d=this._push(u,d,g),o++,o<m)l=h.charCodeAt(o);else break}this._buffLen=d,this._leftoverHighSurrogate=r}_push(h,m,u){return u<128?h[m++]=u:u<2048?(h[m++]=192|(u&1984)>>>6,h[m++]=128|(u&63)>>>0):u<65536?(h[m++]=224|(u&61440)>>>12,h[m++]=128|(u&4032)>>>6,h[m++]=128|(u&63)>>>0):(h[m++]=240|(u&1835008)>>>18,h[m++]=128|(u&258048)>>>12,h[m++]=128|(u&4032)>>>6,h[m++]=128|(u&63)>>>0),m>=64&&(this._step(),m-=64,this._totalLen+=64,h[0]=h[64],h[1]=h[65],h[2]=h[66]),m}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),i(this._h0)+i(this._h1)+i(this._h2)+i(this._h3)+i(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,a(this._buff,this._buffLen),this._buffLen>56&&(this._step(),a(this._buff));const h=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(h/4294967296),!1),this._buffDV.setUint32(60,h%4294967296,!1),this._step()}_step(){const h=t._bigBlock32,m=this._buffDV;for(let C=0;C<64;C+=4)h.setUint32(C,m.getUint32(C,!1),!1);for(let C=64;C<320;C+=4)h.setUint32(C,_(h.getUint32(C-12,!1)^h.getUint32(C-32,!1)^h.getUint32(C-56,!1)^h.getUint32(C-64,!1),1),!1);let u=this._h0,d=this._h1,r=this._h2,l=this._h3,o=this._h4,g,c,b;for(let C=0;C<80;C++)C<20?(g=d&r|~d&l,c=1518500249):C<40?(g=d^r^l,c=1859775393):C<60?(g=d&r|d&l|r&l,c=2400959708):(g=d^r^l,c=3395469782),b=_(u,5)+g+o+c+h.getUint32(C*4,!1)&4294967295,o=l,l=r,r=_(d,30),d=u,u=b;this._h0=this._h0+u&4294967295,this._h1=this._h1+d&4294967295,this._h2=this._h2+r&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+o&4294967295}}e.StringSHA1=t,t._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ie[182],ne([1,0,417,121]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.StringDiffSequence=void 0,e.stringDiff=L;class E{constructor(a){this.source=a}getElements(){const a=this.source,s=new Int32Array(a.length);for(let i=0,t=a.length;i<t;i++)s[i]=a.charCodeAt(i);return s}}e.StringDiffSequence=E;function L(_,a,s){return new v(new E(_),new E(a)).ComputeDiff(s).changes}class y{static Assert(a,s){if(!a)throw new Error(s)}}class p{static Copy(a,s,i,t,n){for(let h=0;h<n;h++)i[t+h]=a[s+h]}static Copy2(a,s,i,t,n){for(let h=0;h<n;h++)i[t+h]=a[s+h]}}class w{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new f.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(a,s){this.m_originalStart=Math.min(this.m_originalStart,a),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_originalCount++}AddModifiedElement(a,s){this.m_originalStart=Math.min(this.m_originalStart,a),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class v{constructor(a,s,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=a,this._modifiedSequence=s;const[t,n,h]=v._getElements(a),[m,u,d]=v._getElements(s);this._hasStrings=h&&d,this._originalStringElements=t,this._originalElementsOrHash=n,this._modifiedStringElements=m,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(a){return a.length>0&&typeof a[0]=="string"}static _getElements(a){const s=a.getElements();if(v._isStringArray(s)){const i=new Int32Array(s.length);for(let t=0,n=s.length;t<n;t++)i[t]=(0,k.stringHash)(s[t],0);return[s,i,!0]}return s instanceof Int32Array?[[],s,!1]:[[],new Int32Array(s),!1]}ElementsAreEqual(a,s){return this._originalElementsOrHash[a]!==this._modifiedElementsOrHash[s]?!1:this._hasStrings?this._originalStringElements[a]===this._modifiedStringElements[s]:!0}ElementsAreStrictEqual(a,s){if(!this.ElementsAreEqual(a,s))return!1;const i=v._getStrictElement(this._originalSequence,a),t=v._getStrictElement(this._modifiedSequence,s);return i===t}static _getStrictElement(a,s){return typeof a.getStrictElement=="function"?a.getStrictElement(s):null}OriginalElementsAreEqual(a,s){return this._originalElementsOrHash[a]!==this._originalElementsOrHash[s]?!1:this._hasStrings?this._originalStringElements[a]===this._originalStringElements[s]:!0}ModifiedElementsAreEqual(a,s){return this._modifiedElementsOrHash[a]!==this._modifiedElementsOrHash[s]?!1:this._hasStrings?this._modifiedStringElements[a]===this._modifiedStringElements[s]:!0}ComputeDiff(a){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,a)}_ComputeDiff(a,s,i,t,n){const h=[!1];let m=this.ComputeDiffRecursive(a,s,i,t,h);return n&&(m=this.PrettifyChanges(m)),{quitEarly:h[0],changes:m}}ComputeDiffRecursive(a,s,i,t,n){for(n[0]=!1;a<=s&&i<=t&&this.ElementsAreEqual(a,i);)a++,i++;for(;s>=a&&t>=i&&this.ElementsAreEqual(s,t);)s--,t--;if(a>s||i>t){let l;return i<=t?(y.Assert(a===s+1,"originalStart should only be one more than originalEnd"),l=[new f.DiffChange(a,0,i,t-i+1)]):a<=s?(y.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),l=[new f.DiffChange(a,s-a+1,i,0)]):(y.Assert(a===s+1,"originalStart should only be one more than originalEnd"),y.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),l=[]),l}const h=[0],m=[0],u=this.ComputeRecursionPoint(a,s,i,t,h,m,n),d=h[0],r=m[0];if(u!==null)return u;if(!n[0]){const l=this.ComputeDiffRecursive(a,d,i,r,n);let o=[];return n[0]?o=[new f.DiffChange(d+1,s-(d+1)+1,r+1,t-(r+1)+1)]:o=this.ComputeDiffRecursive(d+1,s,r+1,t,n),this.ConcatenateChanges(l,o)}return[new f.DiffChange(a,s-a+1,i,t-i+1)]}WALKTRACE(a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D){let I=null,T=null,N=new w,A=s,P=i,M=g[0]-C[0]-t,R=-1073741824,F=this.m_forwardHistory.length-1;do{const O=M+a;O===A||O<P&&d[O-1]<d[O+1]?(l=d[O+1],c=l-M-t,l<R&&N.MarkNextChange(),R=l,N.AddModifiedElement(l+1,c),M=O+1-a):(l=d[O-1]+1,c=l-M-t,l<R&&N.MarkNextChange(),R=l-1,N.AddOriginalElement(l,c+1),M=O-1-a),F>=0&&(d=this.m_forwardHistory[F],a=d[0],A=1,P=d.length-1)}while(--F>=-1);if(I=N.getReverseChanges(),D[0]){let O=g[0]+1,B=C[0]+1;if(I!==null&&I.length>0){const H=I[I.length-1];O=Math.max(O,H.getOriginalEnd()),B=Math.max(B,H.getModifiedEnd())}T=[new f.DiffChange(O,o-O+1,B,b-B+1)]}else{N=new w,A=h,P=m,M=g[0]-C[0]-u,R=1073741824,F=S?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const O=M+n;O===A||O<P&&r[O-1]>=r[O+1]?(l=r[O+1]-1,c=l-M-u,l>R&&N.MarkNextChange(),R=l+1,N.AddOriginalElement(l+1,c+1),M=O+1-n):(l=r[O-1],c=l-M-u,l>R&&N.MarkNextChange(),R=l,N.AddModifiedElement(l+1,c+1),M=O-1-n),F>=0&&(r=this.m_reverseHistory[F],n=r[0],A=1,P=r.length-1)}while(--F>=-1);T=N.getChanges()}return this.ConcatenateChanges(I,T)}ComputeRecursionPoint(a,s,i,t,n,h,m){let u=0,d=0,r=0,l=0,o=0,g=0;a--,i--,n[0]=0,h[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const c=s-a+(t-i),b=c+1,C=new Int32Array(b),S=new Int32Array(b),D=t-i,I=s-a,T=a-i,N=s-t,P=(I-D)%2===0;C[D]=a,S[I]=s,m[0]=!1;for(let M=1;M<=c/2+1;M++){let R=0,F=0;r=this.ClipDiagonalBound(D-M,M,D,b),l=this.ClipDiagonalBound(D+M,M,D,b);for(let B=r;B<=l;B+=2){B===r||B<l&&C[B-1]<C[B+1]?u=C[B+1]:u=C[B-1]+1,d=u-(B-D)-T;const H=u;for(;u<s&&d<t&&this.ElementsAreEqual(u+1,d+1);)u++,d++;if(C[B]=u,u+d>R+F&&(R=u,F=d),!P&&Math.abs(B-I)<=M-1&&u>=S[B])return n[0]=u,h[0]=d,H<=S[B]&&1447>0&&M<=1448?this.WALKTRACE(D,r,l,T,I,o,g,N,C,S,u,s,n,d,t,h,P,m):null}const O=(R-a+(F-i)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(R,O))return m[0]=!0,n[0]=R,h[0]=F,O>0&&1447>0&&M<=1448?this.WALKTRACE(D,r,l,T,I,o,g,N,C,S,u,s,n,d,t,h,P,m):(a++,i++,[new f.DiffChange(a,s-a+1,i,t-i+1)]);o=this.ClipDiagonalBound(I-M,M,I,b),g=this.ClipDiagonalBound(I+M,M,I,b);for(let B=o;B<=g;B+=2){B===o||B<g&&S[B-1]>=S[B+1]?u=S[B+1]-1:u=S[B-1],d=u-(B-I)-N;const H=u;for(;u>a&&d>i&&this.ElementsAreEqual(u,d);)u--,d--;if(S[B]=u,P&&Math.abs(B-D)<=M&&u<=C[B])return n[0]=u,h[0]=d,H>=C[B]&&1447>0&&M<=1448?this.WALKTRACE(D,r,l,T,I,o,g,N,C,S,u,s,n,d,t,h,P,m):null}if(M<=1447){let B=new Int32Array(l-r+2);B[0]=D-r+1,p.Copy2(C,r,B,1,l-r+1),this.m_forwardHistory.push(B),B=new Int32Array(g-o+2),B[0]=I-o+1,p.Copy2(S,o,B,1,g-o+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(D,r,l,T,I,o,g,N,C,S,u,s,n,d,t,h,P,m)}PrettifyChanges(a){for(let s=0;s<a.length;s++){const i=a[s],t=s<a.length-1?a[s+1].originalStart:this._originalElementsOrHash.length,n=s<a.length-1?a[s+1].modifiedStart:this._modifiedElementsOrHash.length,h=i.originalLength>0,m=i.modifiedLength>0;for(;i.originalStart+i.originalLength<t&&i.modifiedStart+i.modifiedLength<n&&(!h||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!m||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const d=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!d)break;i.originalStart++,i.modifiedStart++}const u=[null];if(s<a.length-1&&this.ChangesOverlap(a[s],a[s+1],u)){a[s]=u[0],a.splice(s+1,1),s--;continue}}for(let s=a.length-1;s>=0;s--){const i=a[s];let t=0,n=0;if(s>0){const l=a[s-1];t=l.originalStart+l.originalLength,n=l.modifiedStart+l.modifiedLength}const h=i.originalLength>0,m=i.modifiedLength>0;let u=0,d=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let l=1;;l++){const o=i.originalStart-l,g=i.modifiedStart-l;if(o<t||g<n||h&&!this.OriginalElementsAreEqual(o,o+i.originalLength)||m&&!this.ModifiedElementsAreEqual(g,g+i.modifiedLength))break;const b=(o===t&&g===n?5:0)+this._boundaryScore(o,i.originalLength,g,i.modifiedLength);b>d&&(d=b,u=l)}i.originalStart-=u,i.modifiedStart-=u;const r=[null];if(s>0&&this.ChangesOverlap(a[s-1],a[s],r)){a[s-1]=r[0],a.splice(s,1),s++;continue}}if(this._hasStrings)for(let s=1,i=a.length;s<i;s++){const t=a[s-1],n=a[s],h=n.originalStart-t.originalStart-t.originalLength,m=t.originalStart,u=n.originalStart+n.originalLength,d=u-m,r=t.modifiedStart,l=n.modifiedStart+n.modifiedLength,o=l-r;if(h<5&&d<20&&o<20){const g=this._findBetterContiguousSequence(m,d,r,o,h);if(g){const[c,b]=g;(c!==t.originalStart+t.originalLength||b!==t.modifiedStart+t.modifiedLength)&&(t.originalLength=c-t.originalStart,t.modifiedLength=b-t.modifiedStart,n.originalStart=c+h,n.modifiedStart=b+h,n.originalLength=u-n.originalStart,n.modifiedLength=l-n.modifiedStart)}}}return a}_findBetterContiguousSequence(a,s,i,t,n){if(s<n||t<n)return null;const h=a+s-n+1,m=i+t-n+1;let u=0,d=0,r=0;for(let l=a;l<h;l++)for(let o=i;o<m;o++){const g=this._contiguousSequenceScore(l,o,n);g>0&&g>u&&(u=g,d=l,r=o)}return u>0?[d,r]:null}_contiguousSequenceScore(a,s,i){let t=0;for(let n=0;n<i;n++){if(!this.ElementsAreEqual(a+n,s+n))return 0;t+=this._originalStringElements[a+n].length}return t}_OriginalIsBoundary(a){return a<=0||a>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[a])}_OriginalRegionIsBoundary(a,s){if(this._OriginalIsBoundary(a)||this._OriginalIsBoundary(a-1))return!0;if(s>0){const i=a+s;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(a){return a<=0||a>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[a])}_ModifiedRegionIsBoundary(a,s){if(this._ModifiedIsBoundary(a)||this._ModifiedIsBoundary(a-1))return!0;if(s>0){const i=a+s;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(a,s,i,t){const n=this._OriginalRegionIsBoundary(a,s)?1:0,h=this._ModifiedRegionIsBoundary(i,t)?1:0;return n+h}ConcatenateChanges(a,s){const i=[];if(a.length===0||s.length===0)return s.length>0?s:a;if(this.ChangesOverlap(a[a.length-1],s[0],i)){const t=new Array(a.length+s.length-1);return p.Copy(a,0,t,0,a.length-1),t[a.length-1]=i[0],p.Copy(s,1,t,a.length,s.length-1),t}else{const t=new Array(a.length+s.length);return p.Copy(a,0,t,0,a.length),p.Copy(s,0,t,a.length,s.length),t}}ChangesOverlap(a,s,i){if(y.Assert(a.originalStart<=s.originalStart,"Left change is not less than or equal to right change"),y.Assert(a.modifiedStart<=s.modifiedStart,"Left change is not less than or equal to right change"),a.originalStart+a.originalLength>=s.originalStart||a.modifiedStart+a.modifiedLength>=s.modifiedStart){const t=a.originalStart;let n=a.originalLength;const h=a.modifiedStart;let m=a.modifiedLength;return a.originalStart+a.originalLength>=s.originalStart&&(n=s.originalStart+s.originalLength-a.originalStart),a.modifiedStart+a.modifiedLength>=s.modifiedStart&&(m=s.modifiedStart+s.modifiedLength-a.modifiedStart),i[0]=new f.DiffChange(t,n,h,m),!0}else return i[0]=null,!1}ClipDiagonalBound(a,s,i,t){if(a>=0&&a<t)return a;const n=i,h=t-i-1,m=s%2===0;if(a<0){const u=n%2===0;return m===u?0:1}else{const u=h%2===0;return m===u?t-1:t-2}}}e.LcsDiff=v}),define(ie[426],ne([1,0,11]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=k;function k(y,p){if(y&&y[0]!==""){const w=E(y,p,"-"),v=E(y,p,"_");return w&&!v?L(y,p,"-"):!w&&v?L(y,p,"_"):y[0].toUpperCase()===y[0]?p.toUpperCase():y[0].toLowerCase()===y[0]?p.toLowerCase():f.containsUppercaseCharacter(y[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):y[0][0].toUpperCase()!==y[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}function E(y,p,w){return y[0].indexOf(w)!==-1&&p.indexOf(w)!==-1&&y[0].split(w).length===p.split(w).length}function L(y,p,w){const v=p.split(w),_=y[0].split(w);let a="";return v.forEach((s,i)=>{a+=k([_[i]],s)+w}),a.slice(0,-1)}}),define(ie[107],ne([1,0,11]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(E){E[E.Ignore=0]="Ignore",E[E.Info=1]="Info",E[E.Warning=2]="Warning",E[E.Error=3]="Error"})(k||(k={})),function(E){const L="error",y="warning",p="warn",w="info",v="ignore";function _(s){return s?f.equalsIgnoreCase(L,s)?E.Error:f.equalsIgnoreCase(y,s)||f.equalsIgnoreCase(p,s)?E.Warning:f.equalsIgnoreCase(w,s)?E.Info:E.Ignore:E.Ignore}E.fromValue=_;function a(s){switch(s){case E.Error:return L;case E.Warning:return y;case E.Info:return w;default:return v}}E.toString=a}(k||(k={})),e.default=k}),define(ie[289],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(ie[215],ne([1,0,11]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(_){return this._value=_,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(_){const a=_.charCodeAt(0),s=this._value.charCodeAt(this._pos);return a-s}value(){return this._value[this._pos]}}e.StringIterator=k;class E{constructor(_=!0){this._caseSensitive=_}reset(_){return this._value=_,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let _=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(_)this._from++;else break;else _=!1;return this}cmp(_){return this._caseSensitive?(0,f.compareSubstring)(_,this._value,0,_.length,this._from,this._to):(0,f.compareSubstringIgnoreCase)(_,this._value,0,_.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=E;class L{constructor(_=!0,a=!0){this._splitOnBackslash=_,this._caseSensitive=a}reset(_){this._from=0,this._to=0,this._value=_,this._valueLen=_.length;for(let a=_.length-1;a>=0;a--,this._valueLen--){const s=this._value.charCodeAt(a);if(!(s===47||this._splitOnBackslash&&s===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let _=!0;for(;this._to<this._valueLen;this._to++){const a=this._value.charCodeAt(this._to);if(a===47||this._splitOnBackslash&&a===92)if(_)this._from++;else break;else _=!1}return this}cmp(_){return this._caseSensitive?(0,f.compareSubstring)(_,this._value,0,_.length,this._from,this._to):(0,f.compareSubstringIgnoreCase)(_,this._value,0,_.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=L;class y{constructor(_,a){this._ignorePathCasing=_,this._ignoreQueryAndFragment=a,this._states=[],this._stateIdx=0}reset(_){return this._value=_,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new L(!1,!this._ignorePathCasing(_)),this._pathIterator.reset(_.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(_)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(_){if(this._states[this._stateIdx]===1)return(0,f.compareIgnoreCase)(_,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,f.compareIgnoreCase)(_,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(_);if(this._states[this._stateIdx]===4)return(0,f.compare)(_,this._value.query);if(this._states[this._stateIdx]===5)return(0,f.compare)(_,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=y;class p{constructor(){this.height=1}rotateLeft(){const _=this.right;return this.right=_.left,_.left=this,this.updateHeight(),_.updateHeight(),_}rotateRight(){const _=this.left;return this.left=_.right,_.right=this,this.updateHeight(),_.updateHeight(),_}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var _,a;return(a=(_=this.left)===null||_===void 0?void 0:_.height)!==null&&a!==void 0?a:0}get heightRight(){var _,a;return(a=(_=this.right)===null||_===void 0?void 0:_.height)!==null&&a!==void 0?a:0}}class w{static forUris(_=()=>!1,a=()=>!1){return new w(new y(_,a))}static forStrings(){return new w(new k)}static forConfigKeys(){return new w(new E)}constructor(_){this._iter=_}clear(){this._root=void 0}set(_,a){const s=this._iter.reset(_);let i;this._root||(this._root=new p,this._root.segment=s.value());const t=[];for(i=this._root;;){const h=s.cmp(i.segment);if(h>0)i.left||(i.left=new p,i.left.segment=s.value()),t.push([-1,i]),i=i.left;else if(h<0)i.right||(i.right=new p,i.right.segment=s.value()),t.push([1,i]),i=i.right;else if(s.hasNext())s.next(),i.mid||(i.mid=new p,i.mid.segment=s.value()),t.push([0,i]),i=i.mid;else break}const n=i.value;i.value=a,i.key=_;for(let h=t.length-1;h>=0;h--){const m=t[h][1];m.updateHeight();const u=m.balanceFactor();if(u<-1||u>1){const d=t[h][0],r=t[h+1][0];if(d===1&&r===1)t[h][1]=m.rotateLeft();else if(d===-1&&r===-1)t[h][1]=m.rotateRight();else if(d===1&&r===-1)m.right=t[h+1][1]=t[h+1][1].rotateRight(),t[h][1]=m.rotateLeft();else if(d===-1&&r===1)m.left=t[h+1][1]=t[h+1][1].rotateLeft(),t[h][1]=m.rotateRight();else throw new Error;if(h>0)switch(t[h-1][0]){case-1:t[h-1][1].left=t[h][1];break;case 1:t[h-1][1].right=t[h][1];break;case 0:t[h-1][1].mid=t[h][1];break}else this._root=t[0][1]}}return n}get(_){var a;return(a=this._getNode(_))===null||a===void 0?void 0:a.value}_getNode(_){const a=this._iter.reset(_);let s=this._root;for(;s;){const i=a.cmp(s.segment);if(i>0)s=s.left;else if(i<0)s=s.right;else if(a.hasNext())a.next(),s=s.mid;else break}return s}has(_){const a=this._getNode(_);return!(a?.value===void 0&&a?.mid===void 0)}delete(_){return this._delete(_,!1)}deleteSuperstr(_){return this._delete(_,!0)}_delete(_,a){var s;const i=this._iter.reset(_),t=[];let n=this._root;for(;n;){const h=i.cmp(n.segment);if(h>0)t.push([-1,n]),n=n.left;else if(h<0)t.push([1,n]),n=n.right;else if(i.hasNext())i.next(),t.push([0,n]),n=n.mid;else break}if(n){if(a?(n.left=void 0,n.mid=void 0,n.right=void 0,n.height=1):(n.key=void 0,n.value=void 0),!n.mid&&!n.value)if(n.left&&n.right){const h=this._min(n.right);if(h.key){const{key:m,value:u,segment:d}=h;this._delete(h.key,!1),n.key=m,n.value=u,n.segment=d}}else{const h=(s=n.left)!==null&&s!==void 0?s:n.right;if(t.length>0){const[m,u]=t[t.length-1];switch(m){case-1:u.left=h;break;case 0:u.mid=h;break;case 1:u.right=h;break}}else this._root=h}for(let h=t.length-1;h>=0;h--){const m=t[h][1];m.updateHeight();const u=m.balanceFactor();if(u>1?(m.right.balanceFactor()>=0||(m.right=m.right.rotateRight()),t[h][1]=m.rotateLeft()):u<-1&&(m.left.balanceFactor()<=0||(m.left=m.left.rotateLeft()),t[h][1]=m.rotateRight()),h>0)switch(t[h-1][0]){case-1:t[h-1][1].left=t[h][1];break;case 1:t[h-1][1].right=t[h][1];break;case 0:t[h-1][1].mid=t[h][1];break}else this._root=t[0][1]}}}_min(_){for(;_.left;)_=_.left;return _}findSubstr(_){const a=this._iter.reset(_);let s=this._root,i;for(;s;){const t=a.cmp(s.segment);if(t>0)s=s.left;else if(t<0)s=s.right;else if(a.hasNext())a.next(),i=s.value||i,s=s.mid;else break}return s&&s.value||i}findSuperstr(_){return this._findSuperstrOrElement(_,!1)}_findSuperstrOrElement(_,a){const s=this._iter.reset(_);let i=this._root;for(;i;){const t=s.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(s.hasNext())s.next(),i=i.mid;else return i.mid?this._entries(i.mid):a?i.value:void 0}}forEach(_){for(const[a,s]of this)_(s,a)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(_){const a=[];return this._dfsEntries(_,a),a[Symbol.iterator]()}_dfsEntries(_,a){_&&(_.left&&this._dfsEntries(_.left,a),_.value&&a.push([_.key,_.value]),_.mid&&this._dfsEntries(_.mid,a),_.right&&this._dfsEntries(_.right,a))}}e.TernarySearchTree=w}),define(ie[427],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TfIdfCalculator=void 0,e.normalizeTfIdfScores=E;function f(L){var y;const p=new Map;for(const w of L)p.set(w,((y=p.get(w))!==null&&y!==void 0?y:0)+1);return p}class k{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(y,p){const w=this.computeEmbedding(y),v=new Map,_=[];for(const[a,s]of this.documents){if(p.isCancellationRequested)return[];for(const i of s.chunks){const t=this.computeSimilarityScore(i,w,v);t>0&&_.push({key:a,score:t})}}return _}static termFrequencies(y){return f(k.splitTerms(y))}static*splitTerms(y){const p=w=>w.toLowerCase();for(const[w]of y.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield p(w);const v=w.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(v.length>1)for(const _ of v)_.length>2&&/\p{Letter}{3,}/gu.test(_)&&(yield p(_))}}updateDocuments(y){var p;for(const{key:w}of y)this.deleteDocument(w);for(const w of y){const v=[];for(const _ of w.textChunks){const a=k.termFrequencies(_);for(const s of a.keys())this.chunkOccurrences.set(s,((p=this.chunkOccurrences.get(s))!==null&&p!==void 0?p:0)+1);v.push({text:_,tf:a})}this.chunkCount+=v.length,this.documents.set(w.key,{chunks:v})}return this}deleteDocument(y){const p=this.documents.get(y);if(p){this.documents.delete(y),this.chunkCount-=p.chunks.length;for(const w of p.chunks)for(const v of w.tf.keys()){const _=this.chunkOccurrences.get(v);if(typeof _=="number"){const a=_-1;a<=0?this.chunkOccurrences.delete(v):this.chunkOccurrences.set(v,a)}}}}computeSimilarityScore(y,p,w){let v=0;for(const[_,a]of Object.entries(p)){const s=y.tf.get(_);if(!s)continue;let i=w.get(_);typeof i!="number"&&(i=this.computeIdf(_),w.set(_,i));const t=s*i;v+=t*a}return v}computeEmbedding(y){const p=k.termFrequencies(y);return this.computeTfidf(p)}computeIdf(y){var p;const w=(p=this.chunkOccurrences.get(y))!==null&&p!==void 0?p:0;return w>0?Math.log((this.chunkCount+1)/w):0}computeTfidf(y){const p=Object.create(null);for(const[w,v]of y){const _=this.computeIdf(w);_>0&&(p[w]=v*_)}return p}}e.TfIdfCalculator=k;function E(L){var y,p;const w=L.slice(0);w.sort((_,a)=>a.score-_.score);const v=(p=(y=w[0])===null||y===void 0?void 0:y.score)!==null&&p!==void 0?p:0;if(v>0)for(const _ of w)_.score/=v;return w}}),define(ie[21],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=f,e.isObject=k,e.isTypedArray=E,e.isNumber=L,e.isIterable=y,e.isBoolean=p,e.isUndefined=w,e.isDefined=v,e.isUndefinedOrNull=_,e.assertType=a,e.assertIsDefined=s,e.isFunction=i,e.validateConstraints=t,e.validateConstraint=n;function f(h){return typeof h=="string"}function k(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&!(h instanceof RegExp)&&!(h instanceof Date)}function E(h){const m=Object.getPrototypeOf(Uint8Array);return typeof h=="object"&&h instanceof m}function L(h){return typeof h=="number"&&!isNaN(h)}function y(h){return!!h&&typeof h[Symbol.iterator]=="function"}function p(h){return h===!0||h===!1}function w(h){return typeof h>"u"}function v(h){return!_(h)}function _(h){return w(h)||h===null}function a(h,m){if(!h)throw new Error(m?`Unexpected type, expected '${m}'`:"Unexpected type")}function s(h){if(_(h))throw new Error("Assertion Failed: argument is undefined or null");return h}function i(h){return typeof h=="function"}function t(h,m){const u=Math.min(h.length,m.length);for(let d=0;d<u;d++)n(h[d],m[d])}function n(h,m){if(f(m)){if(typeof h!==m)throw new Error(`argument does not match constraint: typeof ${m}`)}else if(i(m)){try{if(h instanceof m)return}catch{}if(!_(h)&&h.constructor===m||m.length===1&&m.call(void 0,h)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}}),define(ie[183],ne([1,0,21]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=E,e.getCodiconFontCharacters=L;const k=Object.create(null);function E(y,p){if((0,f.isString)(p)){const w=k[p];if(w===void 0)throw new Error(`${y} references an unknown codicon: ${p}`);p=w}return k[y]=p,{id:y}}function L(){return k}}),define(ie[428],ne([1,0,183]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.codiconsLibrary=void 0,e.codiconsLibrary={add:(0,f.register)("add",6e4),plus:(0,f.register)("plus",6e4),gistNew:(0,f.register)("gist-new",6e4),repoCreate:(0,f.register)("repo-create",6e4),lightbulb:(0,f.register)("lightbulb",60001),lightBulb:(0,f.register)("light-bulb",60001),repo:(0,f.register)("repo",60002),repoDelete:(0,f.register)("repo-delete",60002),gistFork:(0,f.register)("gist-fork",60003),repoForked:(0,f.register)("repo-forked",60003),gitPullRequest:(0,f.register)("git-pull-request",60004),gitPullRequestAbandoned:(0,f.register)("git-pull-request-abandoned",60004),recordKeys:(0,f.register)("record-keys",60005),keyboard:(0,f.register)("keyboard",60005),tag:(0,f.register)("tag",60006),gitPullRequestLabel:(0,f.register)("git-pull-request-label",60006),tagAdd:(0,f.register)("tag-add",60006),tagRemove:(0,f.register)("tag-remove",60006),person:(0,f.register)("person",60007),personFollow:(0,f.register)("person-follow",60007),personOutline:(0,f.register)("person-outline",60007),personFilled:(0,f.register)("person-filled",60007),gitBranch:(0,f.register)("git-branch",60008),gitBranchCreate:(0,f.register)("git-branch-create",60008),gitBranchDelete:(0,f.register)("git-branch-delete",60008),sourceControl:(0,f.register)("source-control",60008),mirror:(0,f.register)("mirror",60009),mirrorPublic:(0,f.register)("mirror-public",60009),star:(0,f.register)("star",60010),starAdd:(0,f.register)("star-add",60010),starDelete:(0,f.register)("star-delete",60010),starEmpty:(0,f.register)("star-empty",60010),comment:(0,f.register)("comment",60011),commentAdd:(0,f.register)("comment-add",60011),alert:(0,f.register)("alert",60012),warning:(0,f.register)("warning",60012),search:(0,f.register)("search",60013),searchSave:(0,f.register)("search-save",60013),logOut:(0,f.register)("log-out",60014),signOut:(0,f.register)("sign-out",60014),logIn:(0,f.register)("log-in",60015),signIn:(0,f.register)("sign-in",60015),eye:(0,f.register)("eye",60016),eyeUnwatch:(0,f.register)("eye-unwatch",60016),eyeWatch:(0,f.register)("eye-watch",60016),circleFilled:(0,f.register)("circle-filled",60017),primitiveDot:(0,f.register)("primitive-dot",60017),closeDirty:(0,f.register)("close-dirty",60017),debugBreakpoint:(0,f.register)("debug-breakpoint",60017),debugBreakpointDisabled:(0,f.register)("debug-breakpoint-disabled",60017),debugHint:(0,f.register)("debug-hint",60017),terminalDecorationSuccess:(0,f.register)("terminal-decoration-success",60017),primitiveSquare:(0,f.register)("primitive-square",60018),edit:(0,f.register)("edit",60019),pencil:(0,f.register)("pencil",60019),info:(0,f.register)("info",60020),issueOpened:(0,f.register)("issue-opened",60020),gistPrivate:(0,f.register)("gist-private",60021),gitForkPrivate:(0,f.register)("git-fork-private",60021),lock:(0,f.register)("lock",60021),mirrorPrivate:(0,f.register)("mirror-private",60021),close:(0,f.register)("close",60022),removeClose:(0,f.register)("remove-close",60022),x:(0,f.register)("x",60022),repoSync:(0,f.register)("repo-sync",60023),sync:(0,f.register)("sync",60023),clone:(0,f.register)("clone",60024),desktopDownload:(0,f.register)("desktop-download",60024),beaker:(0,f.register)("beaker",60025),microscope:(0,f.register)("microscope",60025),vm:(0,f.register)("vm",60026),deviceDesktop:(0,f.register)("device-desktop",60026),file:(0,f.register)("file",60027),fileText:(0,f.register)("file-text",60027),more:(0,f.register)("more",60028),ellipsis:(0,f.register)("ellipsis",60028),kebabHorizontal:(0,f.register)("kebab-horizontal",60028),mailReply:(0,f.register)("mail-reply",60029),reply:(0,f.register)("reply",60029),organization:(0,f.register)("organization",60030),organizationFilled:(0,f.register)("organization-filled",60030),organizationOutline:(0,f.register)("organization-outline",60030),newFile:(0,f.register)("new-file",60031),fileAdd:(0,f.register)("file-add",60031),newFolder:(0,f.register)("new-folder",60032),fileDirectoryCreate:(0,f.register)("file-directory-create",60032),trash:(0,f.register)("trash",60033),trashcan:(0,f.register)("trashcan",60033),history:(0,f.register)("history",60034),clock:(0,f.register)("clock",60034),folder:(0,f.register)("folder",60035),fileDirectory:(0,f.register)("file-directory",60035),symbolFolder:(0,f.register)("symbol-folder",60035),logoGithub:(0,f.register)("logo-github",60036),markGithub:(0,f.register)("mark-github",60036),github:(0,f.register)("github",60036),terminal:(0,f.register)("terminal",60037),console:(0,f.register)("console",60037),repl:(0,f.register)("repl",60037),zap:(0,f.register)("zap",60038),symbolEvent:(0,f.register)("symbol-event",60038),error:(0,f.register)("error",60039),stop:(0,f.register)("stop",60039),variable:(0,f.register)("variable",60040),symbolVariable:(0,f.register)("symbol-variable",60040),array:(0,f.register)("array",60042),symbolArray:(0,f.register)("symbol-array",60042),symbolModule:(0,f.register)("symbol-module",60043),symbolPackage:(0,f.register)("symbol-package",60043),symbolNamespace:(0,f.register)("symbol-namespace",60043),symbolObject:(0,f.register)("symbol-object",60043),symbolMethod:(0,f.register)("symbol-method",60044),symbolFunction:(0,f.register)("symbol-function",60044),symbolConstructor:(0,f.register)("symbol-constructor",60044),symbolBoolean:(0,f.register)("symbol-boolean",60047),symbolNull:(0,f.register)("symbol-null",60047),symbolNumeric:(0,f.register)("symbol-numeric",60048),symbolNumber:(0,f.register)("symbol-number",60048),symbolStructure:(0,f.register)("symbol-structure",60049),symbolStruct:(0,f.register)("symbol-struct",60049),symbolParameter:(0,f.register)("symbol-parameter",60050),symbolTypeParameter:(0,f.register)("symbol-type-parameter",60050),symbolKey:(0,f.register)("symbol-key",60051),symbolText:(0,f.register)("symbol-text",60051),symbolReference:(0,f.register)("symbol-reference",60052),goToFile:(0,f.register)("go-to-file",60052),symbolEnum:(0,f.register)("symbol-enum",60053),symbolValue:(0,f.register)("symbol-value",60053),symbolRuler:(0,f.register)("symbol-ruler",60054),symbolUnit:(0,f.register)("symbol-unit",60054),activateBreakpoints:(0,f.register)("activate-breakpoints",60055),archive:(0,f.register)("archive",60056),arrowBoth:(0,f.register)("arrow-both",60057),arrowDown:(0,f.register)("arrow-down",60058),arrowLeft:(0,f.register)("arrow-left",60059),arrowRight:(0,f.register)("arrow-right",60060),arrowSmallDown:(0,f.register)("arrow-small-down",60061),arrowSmallLeft:(0,f.register)("arrow-small-left",60062),arrowSmallRight:(0,f.register)("arrow-small-right",60063),arrowSmallUp:(0,f.register)("arrow-small-up",60064),arrowUp:(0,f.register)("arrow-up",60065),bell:(0,f.register)("bell",60066),bold:(0,f.register)("bold",60067),book:(0,f.register)("book",60068),bookmark:(0,f.register)("bookmark",60069),debugBreakpointConditionalUnverified:(0,f.register)("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:(0,f.register)("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:(0,f.register)("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:(0,f.register)("debug-breakpoint-data-unverified",60072),debugBreakpointData:(0,f.register)("debug-breakpoint-data",60073),debugBreakpointDataDisabled:(0,f.register)("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:(0,f.register)("debug-breakpoint-log-unverified",60074),debugBreakpointLog:(0,f.register)("debug-breakpoint-log",60075),debugBreakpointLogDisabled:(0,f.register)("debug-breakpoint-log-disabled",60075),briefcase:(0,f.register)("briefcase",60076),broadcast:(0,f.register)("broadcast",60077),browser:(0,f.register)("browser",60078),bug:(0,f.register)("bug",60079),calendar:(0,f.register)("calendar",60080),caseSensitive:(0,f.register)("case-sensitive",60081),check:(0,f.register)("check",60082),checklist:(0,f.register)("checklist",60083),chevronDown:(0,f.register)("chevron-down",60084),chevronLeft:(0,f.register)("chevron-left",60085),chevronRight:(0,f.register)("chevron-right",60086),chevronUp:(0,f.register)("chevron-up",60087),chromeClose:(0,f.register)("chrome-close",60088),chromeMaximize:(0,f.register)("chrome-maximize",60089),chromeMinimize:(0,f.register)("chrome-minimize",60090),chromeRestore:(0,f.register)("chrome-restore",60091),circleOutline:(0,f.register)("circle-outline",60092),circle:(0,f.register)("circle",60092),debugBreakpointUnverified:(0,f.register)("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:(0,f.register)("terminal-decoration-incomplete",60092),circleSlash:(0,f.register)("circle-slash",60093),circuitBoard:(0,f.register)("circuit-board",60094),clearAll:(0,f.register)("clear-all",60095),clippy:(0,f.register)("clippy",60096),closeAll:(0,f.register)("close-all",60097),cloudDownload:(0,f.register)("cloud-download",60098),cloudUpload:(0,f.register)("cloud-upload",60099),code:(0,f.register)("code",60100),collapseAll:(0,f.register)("collapse-all",60101),colorMode:(0,f.register)("color-mode",60102),commentDiscussion:(0,f.register)("comment-discussion",60103),creditCard:(0,f.register)("credit-card",60105),dash:(0,f.register)("dash",60108),dashboard:(0,f.register)("dashboard",60109),database:(0,f.register)("database",60110),debugContinue:(0,f.register)("debug-continue",60111),debugDisconnect:(0,f.register)("debug-disconnect",60112),debugPause:(0,f.register)("debug-pause",60113),debugRestart:(0,f.register)("debug-restart",60114),debugStart:(0,f.register)("debug-start",60115),debugStepInto:(0,f.register)("debug-step-into",60116),debugStepOut:(0,f.register)("debug-step-out",60117),debugStepOver:(0,f.register)("debug-step-over",60118),debugStop:(0,f.register)("debug-stop",60119),debug:(0,f.register)("debug",60120),deviceCameraVideo:(0,f.register)("device-camera-video",60121),deviceCamera:(0,f.register)("device-camera",60122),deviceMobile:(0,f.register)("device-mobile",60123),diffAdded:(0,f.register)("diff-added",60124),diffIgnored:(0,f.register)("diff-ignored",60125),diffModified:(0,f.register)("diff-modified",60126),diffRemoved:(0,f.register)("diff-removed",60127),diffRenamed:(0,f.register)("diff-renamed",60128),diff:(0,f.register)("diff",60129),diffSidebyside:(0,f.register)("diff-sidebyside",60129),discard:(0,f.register)("discard",60130),editorLayout:(0,f.register)("editor-layout",60131),emptyWindow:(0,f.register)("empty-window",60132),exclude:(0,f.register)("exclude",60133),extensions:(0,f.register)("extensions",60134),eyeClosed:(0,f.register)("eye-closed",60135),fileBinary:(0,f.register)("file-binary",60136),fileCode:(0,f.register)("file-code",60137),fileMedia:(0,f.register)("file-media",60138),filePdf:(0,f.register)("file-pdf",60139),fileSubmodule:(0,f.register)("file-submodule",60140),fileSymlinkDirectory:(0,f.register)("file-symlink-directory",60141),fileSymlinkFile:(0,f.register)("file-symlink-file",60142),fileZip:(0,f.register)("file-zip",60143),files:(0,f.register)("files",60144),filter:(0,f.register)("filter",60145),flame:(0,f.register)("flame",60146),foldDown:(0,f.register)("fold-down",60147),foldUp:(0,f.register)("fold-up",60148),fold:(0,f.register)("fold",60149),folderActive:(0,f.register)("folder-active",60150),folderOpened:(0,f.register)("folder-opened",60151),gear:(0,f.register)("gear",60152),gift:(0,f.register)("gift",60153),gistSecret:(0,f.register)("gist-secret",60154),gist:(0,f.register)("gist",60155),gitCommit:(0,f.register)("git-commit",60156),gitCompare:(0,f.register)("git-compare",60157),compareChanges:(0,f.register)("compare-changes",60157),gitMerge:(0,f.register)("git-merge",60158),githubAction:(0,f.register)("github-action",60159),githubAlt:(0,f.register)("github-alt",60160),globe:(0,f.register)("globe",60161),grabber:(0,f.register)("grabber",60162),graph:(0,f.register)("graph",60163),gripper:(0,f.register)("gripper",60164),heart:(0,f.register)("heart",60165),home:(0,f.register)("home",60166),horizontalRule:(0,f.register)("horizontal-rule",60167),hubot:(0,f.register)("hubot",60168),inbox:(0,f.register)("inbox",60169),issueReopened:(0,f.register)("issue-reopened",60171),issues:(0,f.register)("issues",60172),italic:(0,f.register)("italic",60173),jersey:(0,f.register)("jersey",60174),json:(0,f.register)("json",60175),kebabVertical:(0,f.register)("kebab-vertical",60176),key:(0,f.register)("key",60177),law:(0,f.register)("law",60178),lightbulbAutofix:(0,f.register)("lightbulb-autofix",60179),linkExternal:(0,f.register)("link-external",60180),link:(0,f.register)("link",60181),listOrdered:(0,f.register)("list-ordered",60182),listUnordered:(0,f.register)("list-unordered",60183),liveShare:(0,f.register)("live-share",60184),loading:(0,f.register)("loading",60185),location:(0,f.register)("location",60186),mailRead:(0,f.register)("mail-read",60187),mail:(0,f.register)("mail",60188),markdown:(0,f.register)("markdown",60189),megaphone:(0,f.register)("megaphone",60190),mention:(0,f.register)("mention",60191),milestone:(0,f.register)("milestone",60192),gitPullRequestMilestone:(0,f.register)("git-pull-request-milestone",60192),mortarBoard:(0,f.register)("mortar-board",60193),move:(0,f.register)("move",60194),multipleWindows:(0,f.register)("multiple-windows",60195),mute:(0,f.register)("mute",60196),noNewline:(0,f.register)("no-newline",60197),note:(0,f.register)("note",60198),octoface:(0,f.register)("octoface",60199),openPreview:(0,f.register)("open-preview",60200),package:(0,f.register)("package",60201),paintcan:(0,f.register)("paintcan",60202),pin:(0,f.register)("pin",60203),play:(0,f.register)("play",60204),run:(0,f.register)("run",60204),plug:(0,f.register)("plug",60205),preserveCase:(0,f.register)("preserve-case",60206),preview:(0,f.register)("preview",60207),project:(0,f.register)("project",60208),pulse:(0,f.register)("pulse",60209),question:(0,f.register)("question",60210),quote:(0,f.register)("quote",60211),radioTower:(0,f.register)("radio-tower",60212),reactions:(0,f.register)("reactions",60213),references:(0,f.register)("references",60214),refresh:(0,f.register)("refresh",60215),regex:(0,f.register)("regex",60216),remoteExplorer:(0,f.register)("remote-explorer",60217),remote:(0,f.register)("remote",60218),remove:(0,f.register)("remove",60219),replaceAll:(0,f.register)("replace-all",60220),replace:(0,f.register)("replace",60221),repoClone:(0,f.register)("repo-clone",60222),repoForcePush:(0,f.register)("repo-force-push",60223),repoPull:(0,f.register)("repo-pull",60224),repoPush:(0,f.register)("repo-push",60225),report:(0,f.register)("report",60226),requestChanges:(0,f.register)("request-changes",60227),rocket:(0,f.register)("rocket",60228),rootFolderOpened:(0,f.register)("root-folder-opened",60229),rootFolder:(0,f.register)("root-folder",60230),rss:(0,f.register)("rss",60231),ruby:(0,f.register)("ruby",60232),saveAll:(0,f.register)("save-all",60233),saveAs:(0,f.register)("save-as",60234),save:(0,f.register)("save",60235),screenFull:(0,f.register)("screen-full",60236),screenNormal:(0,f.register)("screen-normal",60237),searchStop:(0,f.register)("search-stop",60238),server:(0,f.register)("server",60240),settingsGear:(0,f.register)("settings-gear",60241),settings:(0,f.register)("settings",60242),shield:(0,f.register)("shield",60243),smiley:(0,f.register)("smiley",60244),sortPrecedence:(0,f.register)("sort-precedence",60245),splitHorizontal:(0,f.register)("split-horizontal",60246),splitVertical:(0,f.register)("split-vertical",60247),squirrel:(0,f.register)("squirrel",60248),starFull:(0,f.register)("star-full",60249),starHalf:(0,f.register)("star-half",60250),symbolClass:(0,f.register)("symbol-class",60251),symbolColor:(0,f.register)("symbol-color",60252),symbolConstant:(0,f.register)("symbol-constant",60253),symbolEnumMember:(0,f.register)("symbol-enum-member",60254),symbolField:(0,f.register)("symbol-field",60255),symbolFile:(0,f.register)("symbol-file",60256),symbolInterface:(0,f.register)("symbol-interface",60257),symbolKeyword:(0,f.register)("symbol-keyword",60258),symbolMisc:(0,f.register)("symbol-misc",60259),symbolOperator:(0,f.register)("symbol-operator",60260),symbolProperty:(0,f.register)("symbol-property",60261),wrench:(0,f.register)("wrench",60261),wrenchSubaction:(0,f.register)("wrench-subaction",60261),symbolSnippet:(0,f.register)("symbol-snippet",60262),tasklist:(0,f.register)("tasklist",60263),telescope:(0,f.register)("telescope",60264),textSize:(0,f.register)("text-size",60265),threeBars:(0,f.register)("three-bars",60266),thumbsdown:(0,f.register)("thumbsdown",60267),thumbsup:(0,f.register)("thumbsup",60268),tools:(0,f.register)("tools",60269),triangleDown:(0,f.register)("triangle-down",60270),triangleLeft:(0,f.register)("triangle-left",60271),triangleRight:(0,f.register)("triangle-right",60272),triangleUp:(0,f.register)("triangle-up",60273),twitter:(0,f.register)("twitter",60274),unfold:(0,f.register)("unfold",60275),unlock:(0,f.register)("unlock",60276),unmute:(0,f.register)("unmute",60277),unverified:(0,f.register)("unverified",60278),verified:(0,f.register)("verified",60279),versions:(0,f.register)("versions",60280),vmActive:(0,f.register)("vm-active",60281),vmOutline:(0,f.register)("vm-outline",60282),vmRunning:(0,f.register)("vm-running",60283),watch:(0,f.register)("watch",60284),whitespace:(0,f.register)("whitespace",60285),wholeWord:(0,f.register)("whole-word",60286),window:(0,f.register)("window",60287),wordWrap:(0,f.register)("word-wrap",60288),zoomIn:(0,f.register)("zoom-in",60289),zoomOut:(0,f.register)("zoom-out",60290),listFilter:(0,f.register)("list-filter",60291),listFlat:(0,f.register)("list-flat",60292),listSelection:(0,f.register)("list-selection",60293),selection:(0,f.register)("selection",60293),listTree:(0,f.register)("list-tree",60294),debugBreakpointFunctionUnverified:(0,f.register)("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:(0,f.register)("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:(0,f.register)("debug-breakpoint-function-disabled",60296),debugStackframeActive:(0,f.register)("debug-stackframe-active",60297),circleSmallFilled:(0,f.register)("circle-small-filled",60298),debugStackframeDot:(0,f.register)("debug-stackframe-dot",60298),terminalDecorationMark:(0,f.register)("terminal-decoration-mark",60298),debugStackframe:(0,f.register)("debug-stackframe",60299),debugStackframeFocused:(0,f.register)("debug-stackframe-focused",60299),debugBreakpointUnsupported:(0,f.register)("debug-breakpoint-unsupported",60300),symbolString:(0,f.register)("symbol-string",60301),debugReverseContinue:(0,f.register)("debug-reverse-continue",60302),debugStepBack:(0,f.register)("debug-step-back",60303),debugRestartFrame:(0,f.register)("debug-restart-frame",60304),debugAlt:(0,f.register)("debug-alt",60305),callIncoming:(0,f.register)("call-incoming",60306),callOutgoing:(0,f.register)("call-outgoing",60307),menu:(0,f.register)("menu",60308),expandAll:(0,f.register)("expand-all",60309),feedback:(0,f.register)("feedback",60310),gitPullRequestReviewer:(0,f.register)("git-pull-request-reviewer",60310),groupByRefType:(0,f.register)("group-by-ref-type",60311),ungroupByRefType:(0,f.register)("ungroup-by-ref-type",60312),account:(0,f.register)("account",60313),gitPullRequestAssignee:(0,f.register)("git-pull-request-assignee",60313),bellDot:(0,f.register)("bell-dot",60314),debugConsole:(0,f.register)("debug-console",60315),library:(0,f.register)("library",60316),output:(0,f.register)("output",60317),runAll:(0,f.register)("run-all",60318),syncIgnored:(0,f.register)("sync-ignored",60319),pinned:(0,f.register)("pinned",60320),githubInverted:(0,f.register)("github-inverted",60321),serverProcess:(0,f.register)("server-process",60322),serverEnvironment:(0,f.register)("server-environment",60323),pass:(0,f.register)("pass",60324),issueClosed:(0,f.register)("issue-closed",60324),stopCircle:(0,f.register)("stop-circle",60325),playCircle:(0,f.register)("play-circle",60326),record:(0,f.register)("record",60327),debugAltSmall:(0,f.register)("debug-alt-small",60328),vmConnect:(0,f.register)("vm-connect",60329),cloud:(0,f.register)("cloud",60330),merge:(0,f.register)("merge",60331),export:(0,f.register)("export",60332),graphLeft:(0,f.register)("graph-left",60333),magnet:(0,f.register)("magnet",60334),notebook:(0,f.register)("notebook",60335),redo:(0,f.register)("redo",60336),checkAll:(0,f.register)("check-all",60337),pinnedDirty:(0,f.register)("pinned-dirty",60338),passFilled:(0,f.register)("pass-filled",60339),circleLargeFilled:(0,f.register)("circle-large-filled",60340),circleLarge:(0,f.register)("circle-large",60341),circleLargeOutline:(0,f.register)("circle-large-outline",60341),combine:(0,f.register)("combine",60342),gather:(0,f.register)("gather",60342),table:(0,f.register)("table",60343),variableGroup:(0,f.register)("variable-group",60344),typeHierarchy:(0,f.register)("type-hierarchy",60345),typeHierarchySub:(0,f.register)("type-hierarchy-sub",60346),typeHierarchySuper:(0,f.register)("type-hierarchy-super",60347),gitPullRequestCreate:(0,f.register)("git-pull-request-create",60348),runAbove:(0,f.register)("run-above",60349),runBelow:(0,f.register)("run-below",60350),notebookTemplate:(0,f.register)("notebook-template",60351),debugRerun:(0,f.register)("debug-rerun",60352),workspaceTrusted:(0,f.register)("workspace-trusted",60353),workspaceUntrusted:(0,f.register)("workspace-untrusted",60354),workspaceUnknown:(0,f.register)("workspace-unknown",60355),terminalCmd:(0,f.register)("terminal-cmd",60356),terminalDebian:(0,f.register)("terminal-debian",60357),terminalLinux:(0,f.register)("terminal-linux",60358),terminalPowershell:(0,f.register)("terminal-powershell",60359),terminalTmux:(0,f.register)("terminal-tmux",60360),terminalUbuntu:(0,f.register)("terminal-ubuntu",60361),terminalBash:(0,f.register)("terminal-bash",60362),arrowSwap:(0,f.register)("arrow-swap",60363),copy:(0,f.register)("copy",60364),personAdd:(0,f.register)("person-add",60365),filterFilled:(0,f.register)("filter-filled",60366),wand:(0,f.register)("wand",60367),debugLineByLine:(0,f.register)("debug-line-by-line",60368),inspect:(0,f.register)("inspect",60369),layers:(0,f.register)("layers",60370),layersDot:(0,f.register)("layers-dot",60371),layersActive:(0,f.register)("layers-active",60372),compass:(0,f.register)("compass",60373),compassDot:(0,f.register)("compass-dot",60374),compassActive:(0,f.register)("compass-active",60375),azure:(0,f.register)("azure",60376),issueDraft:(0,f.register)("issue-draft",60377),gitPullRequestClosed:(0,f.register)("git-pull-request-closed",60378),gitPullRequestDraft:(0,f.register)("git-pull-request-draft",60379),debugAll:(0,f.register)("debug-all",60380),debugCoverage:(0,f.register)("debug-coverage",60381),runErrors:(0,f.register)("run-errors",60382),folderLibrary:(0,f.register)("folder-library",60383),debugContinueSmall:(0,f.register)("debug-continue-small",60384),beakerStop:(0,f.register)("beaker-stop",60385),graphLine:(0,f.register)("graph-line",60386),graphScatter:(0,f.register)("graph-scatter",60387),pieChart:(0,f.register)("pie-chart",60388),bracket:(0,f.register)("bracket",60175),bracketDot:(0,f.register)("bracket-dot",60389),bracketError:(0,f.register)("bracket-error",60390),lockSmall:(0,f.register)("lock-small",60391),azureDevops:(0,f.register)("azure-devops",60392),verifiedFilled:(0,f.register)("verified-filled",60393),newline:(0,f.register)("newline",60394),layout:(0,f.register)("layout",60395),layoutActivitybarLeft:(0,f.register)("layout-activitybar-left",60396),layoutActivitybarRight:(0,f.register)("layout-activitybar-right",60397),layoutPanelLeft:(0,f.register)("layout-panel-left",60398),layoutPanelCenter:(0,f.register)("layout-panel-center",60399),layoutPanelJustify:(0,f.register)("layout-panel-justify",60400),layoutPanelRight:(0,f.register)("layout-panel-right",60401),layoutPanel:(0,f.register)("layout-panel",60402),layoutSidebarLeft:(0,f.register)("layout-sidebar-left",60403),layoutSidebarRight:(0,f.register)("layout-sidebar-right",60404),layoutStatusbar:(0,f.register)("layout-statusbar",60405),layoutMenubar:(0,f.register)("layout-menubar",60406),layoutCentered:(0,f.register)("layout-centered",60407),target:(0,f.register)("target",60408),indent:(0,f.register)("indent",60409),recordSmall:(0,f.register)("record-small",60410),errorSmall:(0,f.register)("error-small",60411),terminalDecorationError:(0,f.register)("terminal-decoration-error",60411),arrowCircleDown:(0,f.register)("arrow-circle-down",60412),arrowCircleLeft:(0,f.register)("arrow-circle-left",60413),arrowCircleRight:(0,f.register)("arrow-circle-right",60414),arrowCircleUp:(0,f.register)("arrow-circle-up",60415),layoutSidebarRightOff:(0,f.register)("layout-sidebar-right-off",60416),layoutPanelOff:(0,f.register)("layout-panel-off",60417),layoutSidebarLeftOff:(0,f.register)("layout-sidebar-left-off",60418),blank:(0,f.register)("blank",60419),heartFilled:(0,f.register)("heart-filled",60420),map:(0,f.register)("map",60421),mapHorizontal:(0,f.register)("map-horizontal",60421),foldHorizontal:(0,f.register)("fold-horizontal",60421),mapFilled:(0,f.register)("map-filled",60422),mapHorizontalFilled:(0,f.register)("map-horizontal-filled",60422),foldHorizontalFilled:(0,f.register)("fold-horizontal-filled",60422),circleSmall:(0,f.register)("circle-small",60423),bellSlash:(0,f.register)("bell-slash",60424),bellSlashDot:(0,f.register)("bell-slash-dot",60425),commentUnresolved:(0,f.register)("comment-unresolved",60426),gitPullRequestGoToChanges:(0,f.register)("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:(0,f.register)("git-pull-request-new-changes",60428),searchFuzzy:(0,f.register)("search-fuzzy",60429),commentDraft:(0,f.register)("comment-draft",60430),send:(0,f.register)("send",60431),sparkle:(0,f.register)("sparkle",60432),insert:(0,f.register)("insert",60433),mic:(0,f.register)("mic",60434),thumbsdownFilled:(0,f.register)("thumbsdown-filled",60435),thumbsupFilled:(0,f.register)("thumbsup-filled",60436),coffee:(0,f.register)("coffee",60437),snake:(0,f.register)("snake",60438),game:(0,f.register)("game",60439),vr:(0,f.register)("vr",60440),chip:(0,f.register)("chip",60441),piano:(0,f.register)("piano",60442),music:(0,f.register)("music",60443),micFilled:(0,f.register)("mic-filled",60444),repoFetch:(0,f.register)("repo-fetch",60445),copilot:(0,f.register)("copilot",60446),lightbulbSparkle:(0,f.register)("lightbulb-sparkle",60447),robot:(0,f.register)("robot",60448),sparkleFilled:(0,f.register)("sparkle-filled",60449),diffSingle:(0,f.register)("diff-single",60450),diffMultiple:(0,f.register)("diff-multiple",60451),surroundWith:(0,f.register)("surround-with",60452),share:(0,f.register)("share",60453),gitStash:(0,f.register)("git-stash",60454),gitStashApply:(0,f.register)("git-stash-apply",60455),gitStashPop:(0,f.register)("git-stash-pop",60456),vscode:(0,f.register)("vscode",60457),vscodeInsiders:(0,f.register)("vscode-insiders",60458),codeOss:(0,f.register)("code-oss",60459),runCoverage:(0,f.register)("run-coverage",60460),runAllCoverage:(0,f.register)("run-all-coverage",60461),coverage:(0,f.register)("coverage",60462),githubProject:(0,f.register)("github-project",60463),mapVertical:(0,f.register)("map-vertical",60464),foldVertical:(0,f.register)("fold-vertical",60464),mapVerticalFilled:(0,f.register)("map-vertical-filled",60465),foldVerticalFilled:(0,f.register)("fold-vertical-filled",60465)}}),define(ie[26],ne([1,0,183,428]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.codiconsDerived=void 0,e.codiconsDerived={dialogError:(0,f.register)("dialog-error","error"),dialogWarning:(0,f.register)("dialog-warning","warning"),dialogInfo:(0,f.register)("dialog-info","info"),dialogClose:(0,f.register)("dialog-close","close"),treeItemExpanded:(0,f.register)("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:(0,f.register)("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:(0,f.register)("tree-filter-on-type-off","list-selection"),treeFilterClear:(0,f.register)("tree-filter-clear","close"),treeItemLoading:(0,f.register)("tree-item-loading","loading"),menuSelection:(0,f.register)("menu-selection","check"),menuSubmenu:(0,f.register)("menu-submenu","chevron-right"),menuBarMore:(0,f.register)("menubar-more","more"),scrollbarButtonLeft:(0,f.register)("scrollbar-button-left","triangle-left"),scrollbarButtonRight:(0,f.register)("scrollbar-button-right","triangle-right"),scrollbarButtonUp:(0,f.register)("scrollbar-button-up","triangle-up"),scrollbarButtonDown:(0,f.register)("scrollbar-button-down","triangle-down"),toolBarMore:(0,f.register)("toolbar-more","more"),quickInputBack:(0,f.register)("quick-input-back","arrow-left"),dropDownButton:(0,f.register)("drop-down-button",60084),symbolCustomColor:(0,f.register)("symbol-customcolor",60252),exportIcon:(0,f.register)("export",60332),workspaceUnspecified:(0,f.register)("workspace-unspecified",60355),newLine:(0,f.register)("newline",60394),thumbsDownFilled:(0,f.register)("thumbsdown-filled",60435),thumbsUpFilled:(0,f.register)("thumbsup-filled",60436),gitFetch:(0,f.register)("git-fetch",60445),lightbulbSparkleAutofix:(0,f.register)("lightbulb-sparkle-autofix",60447),debugBreakpointPending:(0,f.register)("debug-breakpoint-pending",60377)},e.Codicon={...k.codiconsLibrary,...e.codiconsDerived}}),define(ie[55],ne([1,0,21]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=k,e.deepFreeze=E,e.cloneAndChange=y,e.mixin=w,e.equals=v,e.getAllPropertyNames=_,e.getAllMethodNames=a,e.createProxyObject=s;function k(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const t=Array.isArray(i)?[]:{};return Object.entries(i).forEach(([n,h])=>{t[n]=h&&typeof h=="object"?k(h):h}),t}function E(i){if(!i||typeof i!="object")return i;const t=[i];for(;t.length>0;){const n=t.shift();Object.freeze(n);for(const h in n)if(L.call(n,h)){const m=n[h];typeof m=="object"&&!Object.isFrozen(m)&&!(0,f.isTypedArray)(m)&&t.push(m)}}return i}const L=Object.prototype.hasOwnProperty;function y(i,t){return p(i,t,new Set)}function p(i,t,n){if((0,f.isUndefinedOrNull)(i))return i;const h=t(i);if(typeof h<"u")return h;if(Array.isArray(i)){const m=[];for(const u of i)m.push(p(u,t,n));return m}if((0,f.isObject)(i)){if(n.has(i))throw new Error("Cannot clone recursive data-structure");n.add(i);const m={};for(const u in i)L.call(i,u)&&(m[u]=p(i[u],t,n));return n.delete(i),m}return i}function w(i,t,n=!0){return(0,f.isObject)(i)?((0,f.isObject)(t)&&Object.keys(t).forEach(h=>{h in i?n&&((0,f.isObject)(i[h])&&(0,f.isObject)(t[h])?w(i[h],t[h],n):i[h]=t[h]):i[h]=t[h]}),i):t}function v(i,t){if(i===t)return!0;if(i==null||t===null||t===void 0||typeof i!=typeof t||typeof i!="object"||Array.isArray(i)!==Array.isArray(t))return!1;let n,h;if(Array.isArray(i)){if(i.length!==t.length)return!1;for(n=0;n<i.length;n++)if(!v(i[n],t[n]))return!1}else{const m=[];for(h in i)m.push(h);m.sort();const u=[];for(h in t)u.push(h);if(u.sort(),!v(m,u))return!1;for(n=0;n<m.length;n++)if(!v(i[m[n]],t[m[n]]))return!1}return!0}function _(i){let t=[];for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}function a(i){const t=[];for(const n of _(i))typeof i[n]=="function"&&t.push(n);return t}function s(i,t){const n=m=>function(){const u=Array.prototype.slice.call(arguments,0);return t(m,u)},h={};for(const m of i)h[m]=n(m);return h}}),define(ie[31],ne([1,0,26]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(L){function y(p){return p&&typeof p=="object"&&typeof p.id=="string"}L.isThemeColor=y})(k||(e.ThemeColor=k={}));var E;(function(L){L.iconNameSegment="[A-Za-z0-9]+",L.iconNameExpression="[A-Za-z0-9-]+",L.iconModifierExpression="~[A-Za-z]+",L.iconNameCharacter="[A-Za-z0-9~-]";const y=new RegExp(`^(${L.iconNameExpression})(${L.iconModifierExpression})?$`);function p(m){const u=y.exec(m.id);if(!u)return p(f.Codicon.error);const[,d,r]=u,l=["codicon","codicon-"+d];return r&&l.push("codicon-modifier-"+r.substring(1)),l}L.asClassNameArray=p;function w(m){return p(m).join(" ")}L.asClassName=w;function v(m){return"."+p(m).join(".")}L.asCSSSelector=v;function _(m){return m&&typeof m=="object"&&typeof m.id=="string"&&(typeof m.color>"u"||k.isThemeColor(m.color))}L.isThemeIcon=_;const a=new RegExp(`^\\$\\((${L.iconNameExpression}(?:${L.iconModifierExpression})?)\\)$`);function s(m){const u=a.exec(m);if(!u)return;const[,d]=u;return{id:d}}L.fromString=s;function i(m){return{id:m}}L.fromId=i;function t(m,u){let d=m.id;const r=d.lastIndexOf("~");return r!==-1&&(d=d.substring(0,r)),u&&(d=`${d}~${u}`),{id:d}}L.modify=t;function n(m){const u=m.id.lastIndexOf("~");if(u!==-1)return m.id.substring(u+1)}L.getModifier=n;function h(m,u){var d,r;return m.id===u.id&&((d=m.color)===null||d===void 0?void 0:d.id)===((r=u.color)===null||r===void 0?void 0:r.id)}L.isEqual=h})(E||(e.ThemeIcon=E={}))}),define(ie[136],ne([1,0,76,11,31]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escapeIcons=w,e.markdownEscapeEscapedIcons=_,e.stripIcons=s,e.getCodiconAriaLabel=i,e.parseLabelWithIcons=n,e.matchesFuzzyIconAware=h;const L="$(",y=new RegExp(`\\$\\(${E.ThemeIcon.iconNameExpression}(?:${E.ThemeIcon.iconModifierExpression})?\\)`,"g"),p=new RegExp(`(\\\\)?${y.source}`,"g");function w(m){return m.replace(p,(u,d)=>d?u:`\\${u}`)}const v=new RegExp(`\\\\${y.source}`,"g");function _(m){return m.replace(v,u=>`\\${u}`)}const a=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function s(m){return m.indexOf(L)===-1?m:m.replace(a,(u,d,r,l)=>r?u:d||l||"")}function i(m){return m?m.replace(/\$\((.*?)\)/g,(u,d)=>` ${d} `).trim():""}const t=new RegExp(`\\$\\(${E.ThemeIcon.iconNameCharacter}+\\)`,"g");function n(m){t.lastIndex=0;let u="";const d=[];let r=0;for(;;){const l=t.lastIndex,o=t.exec(m),g=m.substring(l,o?.index);if(g.length>0){u+=g;for(let c=0;c<g.length;c++)d.push(r)}if(!o)break;r+=o[0].length}return{text:u,iconOffsets:d}}function h(m,u,d=!1){const{text:r,iconOffsets:l}=u;if(!l||l.length===0)return(0,f.matchesFuzzy)(m,r,d);const o=(0,k.ltrim)(r," "),g=r.length-o.length,c=(0,f.matchesFuzzy)(m,o,d);if(c)for(const b of c){const C=l[b.start+g]+g;b.start+=C,b.end+=C}return c}}),define(ie[184],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint8=f,e.toUint32=k;function f(E){return E<0?0:E>255?255:E|0}function k(E){return E<0?0:E>4294967295?4294967295:E|0}}),define(ie[185],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let f;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f=crypto.getRandomValues.bind(crypto):f=function(L){for(let y=0;y<L.length;y++)L[y]=Math.floor(Math.random()*256);return L};const k=new Uint8Array(16),E=[];for(let L=0;L<256;L++)E.push(L.toString(16).padStart(2,"0"));return function(){f(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let y=0,p="";return p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+="-",p+=E[k[y++]],p+=E[k[y++]],p+="-",p+=E[k[y++]],p+=E[k[y++]],p+="-",p+=E[k[y++]],p+=E[k[y++]],p+="-",p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p}}()}),define(ie[186],ne([1,0,13,54,185]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.VSDataTransfer=void 0,e.createStringDataTransferItem=L,e.createFileDataTransferItem=y,e.matchesMimeType=v;function L(a){return{asString:async()=>a,asFile:()=>{},value:typeof a=="string"?a:void 0}}function y(a,s,i){const t={id:(0,E.generateUuid)(),name:a,uri:s,data:i};return{asString:async()=>"",asFile:()=>t,value:void 0}}class p{constructor(){this._entries=new Map}get size(){let s=0;for(const i of this._entries)s++;return s}has(s){return this._entries.has(this.toKey(s))}matches(s){const i=[...this._entries.keys()];return k.Iterable.some(this,([t,n])=>n.asFile())&&i.push("files"),_(w(s),i)}get(s){var i;return(i=this._entries.get(this.toKey(s)))===null||i===void 0?void 0:i[0]}append(s,i){const t=this._entries.get(s);t?t.push(i):this._entries.set(this.toKey(s),[i])}replace(s,i){this._entries.set(this.toKey(s),[i])}delete(s){this._entries.delete(this.toKey(s))}*[Symbol.iterator](){for(const[s,i]of this._entries)for(const t of i)yield[s,t]}toKey(s){return w(s)}}e.VSDataTransfer=p;function w(a){return a.toLowerCase()}function v(a,s){return _(w(a),s.map(w))}function _(a,s){if(a==="*/*")return s.length>0;if(s.includes(a))return!0;const i=a.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[t,n,h]=i;return h==="*"?s.some(m=>m.startsWith(n+"/")):!1}e.UriList=Object.freeze({create:a=>(0,f.distinct)(a.map(s=>s.toString())).join(`\r
`),split:a=>a.split(`\r
`),parse:a=>e.UriList.split(a).filter(s=>!s.startsWith("#"))})}),define(ie[290],ne([10]),{}),define(ie[429],ne([10]),{}),define(ie[430],ne([10]),{}),define(ie[431],ne([10]),{}),define(ie[432],ne([10]),{}),define(ie[187],ne([1,0,431,432]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ie[433],ne([10]),{}),define(ie[434],ne([10]),{}),define(ie[291],ne([10]),{}),define(ie[292],ne([10]),{}),define(ie[435],ne([10]),{}),define(ie[436],ne([10]),{}),define(ie[437],ne([10]),{}),define(ie[438],ne([10]),{}),define(ie[293],ne([10]),{}),define(ie[439],ne([10]),{}),define(ie[216],ne([1,0,439]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ie[440],ne([10]),{}),define(ie[441],ne([10]),{}),define(ie[442],ne([10]),{}),define(ie[443],ne([10]),{}),define(ie[444],ne([10]),{}),define(ie[445],ne([10]),{}),define(ie[446],ne([10]),{}),define(ie[447],ne([10]),{}),define(ie[448],ne([10]),{}),define(ie[449],ne([10]),{}),define(ie[450],ne([10]),{}),define(ie[451],ne([10]),{}),define(ie[452],ne([10]),{}),define(ie[453],ne([10]),{}),define(ie[454],ne([10]),{}),define(ie[455],ne([10]),{}),define(ie[456],ne([10]),{}),define(ie[457],ne([10]),{}),define(ie[458],ne([10]),{}),define(ie[459],ne([10]),{}),define(ie[460],ne([10]),{}),define(ie[461],ne([10]),{}),define(ie[462],ne([10]),{}),define(ie[463],ne([10]),{}),define(ie[464],ne([10]),{}),define(ie[465],ne([10]),{}),define(ie[466],ne([10]),{}),define(ie[467],ne([10]),{}),define(ie[468],ne([10]),{}),define(ie[469],ne([10]),{}),define(ie[470],ne([10]),{}),define(ie[471],ne([10]),{}),define(ie[472],ne([10]),{}),define(ie[473],ne([10]),{}),define(ie[474],ne([10]),{}),define(ie[475],ne([10]),{}),define(ie[476],ne([10]),{}),define(ie[477],ne([10]),{}),define(ie[217],ne([10]),{}),define(ie[478],ne([10]),{}),define(ie[479],ne([10]),{}),define(ie[480],ne([10]),{}),define(ie[481],ne([10]),{}),define(ie[482],ne([10]),{}),define(ie[483],ne([10]),{}),define(ie[484],ne([10]),{}),define(ie[485],ne([10]),{}),define(ie[486],ne([10]),{}),define(ie[487],ne([10]),{}),define(ie[488],ne([10]),{}),define(ie[489],ne([10]),{}),define(ie[490],ne([10]),{}),define(ie[491],ne([10]),{}),define(ie[492],ne([10]),{}),define(ie[493],ne([10]),{}),define(ie[494],ne([10]),{}),define(ie[495],ne([10]),{}),define(ie[496],ne([10]),{}),define(ie[497],ne([10]),{}),define(ie[498],ne([10]),{}),define(ie[499],ne([10]),{}),define(ie[500],ne([10]),{}),define(ie[501],ne([10]),{}),define(ie[502],ne([10]),{}),define(ie[503],ne([10]),{}),define(ie[504],ne([10]),{}),define(ie[505],ne([10]),{}),define(ie[506],ne([10]),{}),define(ie[507],ne([10]),{}),define(ie[508],ne([10]),{}),define(ie[509],ne([10]),{}),define(ie[510],ne([10]),{}),define(ie[294],ne([10]),{}),define(ie[511],ne([10]),{}),define(ie[512],ne([10]),{}),define(ie[218],ne([10]),{}),define(ie[513],ne([10]),{}),define(ie[71],ne([1,0,40]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=k;function k(E,L){E instanceof f.FastDomNode?(E.setFontFamily(L.getMassagedFontFamily()),E.setFontWeight(L.fontWeight),E.setFontSize(L.fontSize),E.setFontFeatureSettings(L.fontFeatureSettings),E.setFontVariationSettings(L.fontVariationSettings),E.setLineHeight(L.lineHeight),E.setLetterSpacing(L.letterSpacing)):(E.style.fontFamily=L.getMassagedFontFamily(),E.style.fontWeight=L.fontWeight,E.style.fontSize=L.fontSize+"px",E.style.fontFeatureSettings=L.fontFeatureSettings,E.style.fontVariationSettings=L.fontVariationSettings,E.style.lineHeight=L.lineHeight+"px",E.style.letterSpacing=L.letterSpacing+"px")}}),define(ie[514],ne([1,0,71]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharWidthRequest=void 0,e.readCharWidths=L;class k{constructor(p,w){this.chr=p,this.type=w,this.width=0}fulfill(p){this.width=p}}e.CharWidthRequest=k;class E{constructor(p,w){this._bareFontInfo=p,this._requests=w,this._container=null,this._testElements=null}read(p){this._createDomElements(),p.document.body.appendChild(this._container),this._readFromDomElements(),p.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const p=document.createElement("div");p.style.position="absolute",p.style.top="-50000px",p.style.width="50000px";const w=document.createElement("div");(0,f.applyFontInfo)(w,this._bareFontInfo),p.appendChild(w);const v=document.createElement("div");(0,f.applyFontInfo)(v,this._bareFontInfo),v.style.fontWeight="bold",p.appendChild(v);const _=document.createElement("div");(0,f.applyFontInfo)(_,this._bareFontInfo),_.style.fontStyle="italic",p.appendChild(_);const a=[];for(const s of this._requests){let i;s.type===0&&(i=w),s.type===2&&(i=v),s.type===1&&(i=_),i.appendChild(document.createElement("br"));const t=document.createElement("span");E._render(t,s),i.appendChild(t),a.push(t)}this._container=p,this._testElements=a}static _render(p,w){if(w.chr===" "){let v="\xA0";for(let _=0;_<8;_++)v+=v;p.innerText=v}else{let v=w.chr;for(let _=0;_<8;_++)v+=v;p.textContent=v}}_readFromDomElements(){for(let p=0,w=this._requests.length;p<w;p++){const v=this._requests[p],_=this._testElements[p];v.fulfill(_.offsetWidth/256)}}}function L(y,p,w){new E(p,w).read(y)}}),define(ie[515],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSettingMigration=void 0,e.migrateOptions=L;class f{constructor(w,v){this.key=w,this.migrate=v}apply(w){const v=f._read(w,this.key),_=s=>f._read(w,s),a=(s,i)=>f._write(w,s,i);this.migrate(v,_,a)}static _read(w,v){if(typeof w>"u")return;const _=v.indexOf(".");if(_>=0){const a=v.substring(0,_);return this._read(w[a],v.substring(_+1))}return w[v]}static _write(w,v,_){const a=v.indexOf(".");if(a>=0){const s=v.substring(0,a);w[s]=w[s]||{},this._write(w[s],v.substring(a+1),_);return}w[v]=_}}e.EditorSettingMigration=f,f.items=[];function k(p,w){f.items.push(new f(p,w))}function E(p,w){k(p,(v,_,a)=>{if(typeof v<"u"){for(const[s,i]of w)if(v===s){a(p,i);return}}})}function L(p){f.items.forEach(w=>w.apply(p))}E("wordWrap",[[!0,"on"],[!1,"off"]]),E("lineNumbers",[[!0,"on"],[!1,"off"]]),E("cursorBlinking",[["visible","solid"]]),E("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),E("renderLineHighlight",[[!0,"line"],[!1,"none"]]),E("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),E("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),E("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),E("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),E("autoIndent",[[!1,"advanced"],[!0,"full"]]),E("matchBrackets",[[!0,"always"],[!1,"never"]]),E("renderFinalNewline",[[!0,"on"],[!1,"off"]]),E("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),E("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),E("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),k("autoClosingBrackets",(p,w,v)=>{p===!1&&(v("autoClosingBrackets","never"),typeof w("autoClosingQuotes")>"u"&&v("autoClosingQuotes","never"),typeof w("autoSurround")>"u"&&v("autoSurround","never"))}),k("renderIndentGuides",(p,w,v)=>{typeof p<"u"&&(v("renderIndentGuides",void 0),typeof w("guides.indentation")>"u"&&v("guides.indentation",!!p))}),k("highlightActiveIndentGuide",(p,w,v)=>{typeof p<"u"&&(v("highlightActiveIndentGuide",void 0),typeof w("guides.highlightActiveIndentation")>"u"&&v("guides.highlightActiveIndentation",!!p))});const y={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(p,w,v)=>{if(p&&typeof p=="object"){for(const _ of Object.entries(y))p[_[0]]===!1&&typeof w(`suggest.${_[1]}`)>"u"&&v(`suggest.${_[1]}`,!1);v("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(p,w,v)=>{if(typeof p=="boolean"){const _=p?"on":"off";v("quickSuggestions",{comments:_,strings:_,other:_})}}),k("experimental.stickyScroll.enabled",(p,w,v)=>{typeof p=="boolean"&&(v("experimental.stickyScroll.enabled",void 0),typeof w("stickyScroll.enabled")>"u"&&v("stickyScroll.enabled",p))}),k("experimental.stickyScroll.maxLineCount",(p,w,v)=>{typeof p=="number"&&(v("experimental.stickyScroll.maxLineCount",void 0),typeof w("stickyScroll.maxLineCount")>"u"&&v("stickyScroll.maxLineCount",p))}),k("codeActionsOnSave",(p,w,v)=>{if(p&&typeof p=="object"){let _=!1;const a={};for(const s of Object.entries(p))typeof s[1]=="boolean"?(_=!0,a[s[0]]=s[1]?"explicit":"never"):a[s[0]]=s[1];_&&v("codeActionsOnSave",a)}}),k("codeActionWidget.includeNearbyQuickfixes",(p,w,v)=>{typeof p=="boolean"&&(v("codeActionWidget.includeNearbyQuickfixes",void 0),typeof w("codeActionWidget.includeNearbyQuickFixes")>"u"&&v("codeActionWidget.includeNearbyQuickFixes",p))}),k("lightbulb.enabled",(p,w,v)=>{typeof p=="boolean"&&v("lightbulb.enabled",p?void 0:"off")})}),define(ie[219],ne([1,0,7]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new f.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus)}}e.TabFocus=new k}),define(ie[137],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class f{static capture(E){if(E.getScrollTop()===0||E.hasPendingScrollAnimation())return new f(E.getScrollTop(),E.getContentHeight(),null,0,null);let L=null,y=0;const p=E.getVisibleRanges();if(p.length>0){L=p[0].getStartPosition();const w=E.getTopForPosition(L.lineNumber,L.column);y=E.getScrollTop()-w}return new f(E.getScrollTop(),E.getContentHeight(),L,y,E.getPosition())}constructor(E,L,y,p,w){this._initialScrollTop=E,this._initialContentHeight=L,this._visiblePosition=y,this._visiblePositionScrollDelta=p,this._cursorPosition=w}restore(E){if(!(this._initialContentHeight===E.getContentHeight()&&this._initialScrollTop===E.getScrollTop())&&this._visiblePosition){const L=E.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);E.setScrollTop(L+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(E){if(this._initialContentHeight===E.getContentHeight()&&this._initialScrollTop===E.getScrollTop())return;const L=E.getPosition();if(!this._cursorPosition||!L)return;const y=E.getTopForLineNumber(L.lineNumber)-E.getTopForLineNumber(this._cursorPosition.lineNumber);E.setScrollTop(E.getScrollTop()+y)}}e.StableEditorScrollState=f}),define(ie[157],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class f{constructor(_,a){this._restrictedRenderingContextBrand=void 0,this._viewLayout=_,this.viewportData=a,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const s=this._viewLayout.getCurrentViewport();this.scrollTop=s.top,this.scrollLeft=s.left,this.viewportWidth=s.width,this.viewportHeight=s.height}getScrolledTopFromAbsoluteTop(_){return _-this.scrollTop}getVerticalOffsetForLineNumber(_,a){return this._viewLayout.getVerticalOffsetForLineNumber(_,a)}getVerticalOffsetAfterLineNumber(_,a){return this._viewLayout.getVerticalOffsetAfterLineNumber(_,a)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=f;class k extends f{constructor(_,a,s){super(_,a),this._renderingContextBrand=void 0,this._viewLines=s}linesVisibleRangesForRange(_,a){return this._viewLines.linesVisibleRangesForRange(_,a)}visibleRangeForPosition(_){return this._viewLines.visibleRangeForPosition(_)}}e.RenderingContext=k;class E{constructor(_,a,s,i){this.outsideRenderedLine=_,this.lineNumber=a,this.ranges=s,this.continuesOnNextLine=i}}e.LineVisibleRanges=E;class L{static from(_){const a=new Array(_.length);for(let s=0,i=_.length;s<i;s++){const t=_[s];a[s]=new L(t.left,t.width)}return a}constructor(_,a){this._horizontalRangeBrand=void 0,this.left=Math.round(_),this.width=Math.round(a)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=L;class y{constructor(_,a){this._floatHorizontalRangeBrand=void 0,this.left=_,this.width=a}toString(){return`[${this.left},${this.width}]`}static compare(_,a){return _.left-a.left}}e.FloatHorizontalRange=y;class p{constructor(_,a){this.outsideRenderedLine=_,this.originalLeft=a,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=p;class w{constructor(_,a){this.outsideRenderedLine=_,this.ranges=a}}e.VisibleRanges=w}),define(ie[516],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class f{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const E=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=E.left,this._clientRectScale=E.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(E,L){this._domNode=E,this.endNode=L,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=f}),define(ie[517],ne([1,0,157]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(L,y){L.selectNodeContents(y)}static _readClientRects(L,y,p,w,v){const _=this._createRange();try{return _.setStart(L,y),_.setEnd(p,w),_.getClientRects()}catch{return null}finally{this._detachRange(_,v)}}static _mergeAdjacentRanges(L){if(L.length===1)return L;L.sort(f.FloatHorizontalRange.compare);const y=[];let p=0,w=L[0];for(let v=1,_=L.length;v<_;v++){const a=L[v];w.left+w.width+.9>=a.left?w.width=Math.max(w.width,a.left+a.width-w.left):(y[p++]=w,w=a)}return y[p++]=w,y}static _createHorizontalRangesFromClientRects(L,y,p){if(!L||L.length===0)return null;const w=[];for(let v=0,_=L.length;v<_;v++){const a=L[v];w[v]=new f.FloatHorizontalRange(Math.max(0,(a.left-y)/p),a.width/p)}return this._mergeAdjacentRanges(w)}static readHorizontalRanges(L,y,p,w,v,_){const s=L.children.length-1;if(0>s)return null;if(y=Math.min(s,Math.max(0,y)),w=Math.min(s,Math.max(0,w)),y===w&&p===v&&p===0&&!L.children[y].firstChild){const h=L.children[y].getClientRects();return _.markDidDomLayout(),this._createHorizontalRangesFromClientRects(h,_.clientRectDeltaLeft,_.clientRectScale)}y!==w&&w>0&&v===0&&(w--,v=1073741824);let i=L.children[y].firstChild,t=L.children[w].firstChild;if((!i||!t)&&(!i&&p===0&&y>0&&(i=L.children[y-1].firstChild,p=1073741824),!t&&v===0&&w>0&&(t=L.children[w-1].firstChild,v=1073741824)),!i||!t)return null;p=Math.min(i.textContent.length,Math.max(0,p)),v=Math.min(t.textContent.length,Math.max(0,v));const n=this._readClientRects(i,p,t,v,_.endNode);return _.markDidDomLayout(),this._createHorizontalRangesFromClientRects(n,_.clientRectDeltaLeft,_.clientRectScale)}}e.RangeUtil=k}),define(ie[295],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let E=32;E<=126;E++)k.push(E);return k.push(65533),k})();const f=(k,E)=>(k-=32,k<0||k>96?E<=2?(k+96)%96:95:k);e.getCharIndex=f}),define(ie[518],ne([1,0,295,184]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class E{constructor(y,p){this.scale=p,this._minimapCharRendererBrand=void 0,this.charDataNormal=E.soften(y,12/15),this.charDataLight=E.soften(y,50/60)}static soften(y,p){const w=new Uint8ClampedArray(y.length);for(let v=0,_=y.length;v<_;v++)w[v]=(0,k.toUint8)(y[v]*p);return w}renderChar(y,p,w,v,_,a,s,i,t,n,h){const m=1*this.scale,u=2*this.scale,d=h?1:u;if(p+m>y.width||w+d>y.height){console.warn("bad render request outside image data");return}const r=n?this.charDataLight:this.charDataNormal,l=(0,f.getCharIndex)(v,t),o=y.width*4,g=s.r,c=s.g,b=s.b,C=_.r-g,S=_.g-c,D=_.b-b,I=Math.max(a,i),T=y.data;let N=l*m*u,A=w*o+p*4;for(let P=0;P<d;P++){let M=A;for(let R=0;R<m;R++){const F=r[N++]/255*(a/255);T[M++]=g+C*F,T[M++]=c+S*F,T[M++]=b+D*F,T[M++]=I}A+=o}}blockRenderChar(y,p,w,v,_,a,s,i){const t=1*this.scale,n=2*this.scale,h=i?1:n;if(p+t>y.width||w+h>y.height){console.warn("bad render request outside image data");return}const m=y.width*4,u=.5*(_/255),d=a.r,r=a.g,l=a.b,o=v.r-d,g=v.g-r,c=v.b-l,b=d+o*u,C=r+g*u,S=l+c*u,D=Math.max(_,s),I=y.data;let T=w*m+p*4;for(let N=0;N<h;N++){let A=T;for(let P=0;P<t;P++)I[A++]=b,I[A++]=C,I[A++]=S,I[A++]=D;T+=m}}}e.MinimapCharRenderer=E}),define(ie[519],ne([1,0,119]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},E=L=>{const y=new Uint8ClampedArray(L.length/2);for(let p=0;p<L.length;p+=2)y[p>>1]=k[L[p]]<<4|k[L[p+1]]&15;return y};e.prebakedMiniMaps={1:(0,f.createSingleCallFunction)(()=>E("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,f.createSingleCallFunction)(()=>E("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ie[520],ne([1,0,518,295,519,184]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class y{static create(w,v){if(this.lastCreated&&w===this.lastCreated.scale&&v===this.lastFontFamily)return this.lastCreated;let _;return E.prebakedMiniMaps[w]?_=new f.MinimapCharRenderer(E.prebakedMiniMaps[w](),w):_=y.createFromSampleData(y.createSampleData(v).data,w),this.lastFontFamily=v,this.lastCreated=_,_}static createSampleData(w){const v=document.createElement("canvas"),_=v.getContext("2d");v.style.height="16px",v.height=16,v.width=96*10,v.style.width=96*10+"px",_.fillStyle="#ffffff",_.font=`bold 16px ${w}`,_.textBaseline="middle";let a=0;for(const s of k.allCharCodes)_.fillText(String.fromCharCode(s),a,16/2),a+=10;return _.getImageData(0,0,96*10,16)}static createFromSampleData(w,v){if(w.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const a=y._downsample(w,v);return new f.MinimapCharRenderer(a,v)}static _downsampleChar(w,v,_,a,s){const i=1*s,t=2*s;let n=a,h=0;for(let m=0;m<t;m++){const u=m/t*16,d=(m+1)/t*16;for(let r=0;r<i;r++){const l=r/i*10,o=(r+1)/i*10;let g=0,c=0;for(let C=u;C<d;C++){const S=v+Math.floor(C)*3840,D=1-(C-Math.floor(C));for(let I=l;I<o;I++){const T=1-(I-Math.floor(I)),N=S+Math.floor(I)*4,A=T*D;c+=A,g+=w[N]*w[N+3]/255*A}}const b=g/c;h=Math.max(h,b),_[n++]=(0,L.toUint8)(b)}}return h}static _downsample(w,v){const _=2*v*1*v,a=_*96,s=new Uint8ClampedArray(a);let i=0,t=0,n=0;for(let h=0;h<96;h++)n=Math.max(n,this._downsampleChar(w,t,s,i,v)),i+=_,t+=10*4;if(n>0){const h=255/n;for(let m=0;m<a;m++)s[m]*=h}return s}}e.MinimapCharRendererFactory=y}),define(ie[521],ne([1,0,7,2]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class E extends k.Disposable{constructor(){super(...arguments),this._id=++E.idCounter,this._onDidDispose=this._register(new f.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(y){return this._targetEditor.getVisibleColumnFromPosition(y)}getPosition(){return this._targetEditor.getPosition()}setPosition(y,p="api"){this._targetEditor.setPosition(y,p)}revealLine(y,p=0){this._targetEditor.revealLine(y,p)}revealLineInCenter(y,p=0){this._targetEditor.revealLineInCenter(y,p)}revealLineInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealLineInCenterIfOutsideViewport(y,p)}revealLineNearTop(y,p=0){this._targetEditor.revealLineNearTop(y,p)}revealPosition(y,p=0){this._targetEditor.revealPosition(y,p)}revealPositionInCenter(y,p=0){this._targetEditor.revealPositionInCenter(y,p)}revealPositionInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(y,p)}revealPositionNearTop(y,p=0){this._targetEditor.revealPositionNearTop(y,p)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(y,p="api"){this._targetEditor.setSelection(y,p)}setSelections(y,p="api"){this._targetEditor.setSelections(y,p)}revealLines(y,p,w=0){this._targetEditor.revealLines(y,p,w)}revealLinesInCenter(y,p,w=0){this._targetEditor.revealLinesInCenter(y,p,w)}revealLinesInCenterIfOutsideViewport(y,p,w=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(y,p,w)}revealLinesNearTop(y,p,w=0){this._targetEditor.revealLinesNearTop(y,p,w)}revealRange(y,p=0,w=!1,v=!0){this._targetEditor.revealRange(y,p,w,v)}revealRangeInCenter(y,p=0){this._targetEditor.revealRangeInCenter(y,p)}revealRangeInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(y,p)}revealRangeNearTop(y,p=0){this._targetEditor.revealRangeNearTop(y,p)}revealRangeNearTopIfOutsideViewport(y,p=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(y,p)}revealRangeAtTop(y,p=0){this._targetEditor.revealRangeAtTop(y,p)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(y,p,w){this._targetEditor.trigger(y,p,w)}createDecorationsCollection(y){return this._targetEditor.createDecorationsCollection(y)}changeDecorations(y){return this._targetEditor.changeDecorations(y)}}e.DelegatingEditor=E,E.idCounter=0}),define(ie[522],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectPool=void 0;class f{constructor(E){this._create=E,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(E){var L;let y;if(this._unused.size===0)y=this._create(E),this._itemData.set(y,E);else{const p=[...this._unused.values()];y=(L=p.find(w=>this._itemData.get(w).getId()===E.getId()))!==null&&L!==void 0?L:p[0],this._unused.delete(y),this._itemData.set(y,E),y.setData(E)}return this._used.add(y),{object:y,dispose:()=>{this._used.delete(y),this._unused.size>5?y.dispose():this._unused.add(y)}}}dispose(){for(const E of this._used)E.dispose();for(const E of this._unused)E.dispose();this._used.clear(),this._unused.clear()}}e.ObjectPool=f}),define(ie[296],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(ie[158],ne([1,0,7]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new f.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ie[138],ne([1,0,184]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(y){const p=(0,f.toUint8)(y);this._defaultValue=p,this._asciiMap=k._createAsciiMap(p),this._map=new Map}static _createAsciiMap(y){const p=new Uint8Array(256);return p.fill(y),p}set(y,p){const w=(0,f.toUint8)(p);y>=0&&y<256?this._asciiMap[y]=w:this._map.set(y,w)}get(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class E{constructor(){this._actual=new k(0)}add(y){this._actual.set(y,1)}has(y){return this._actual.get(y)===1}clear(){return this._actual.clear()}}e.CharacterSet=E}),define(ie[90],ne([1,0,11]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(L,y,p){return L===9?k.nextRenderTabStop(y,p):f.isFullWidthCharacter(L)||f.isEmojiImprecise(L)?y+2:y+1}static visibleColumnFromColumn(L,y,p){const w=Math.min(y-1,L.length),v=L.substring(0,w),_=new f.GraphemeIterator(v);let a=0;for(;!_.eol();){const s=f.getNextCodePoint(v,w,_.offset);_.nextGraphemeLength(),a=this._nextVisibleColumn(s,a,p)}return a}static columnFromVisibleColumn(L,y,p){if(y<=0)return 1;const w=L.length,v=new f.GraphemeIterator(L);let _=0,a=1;for(;!v.eol();){const s=f.getNextCodePoint(L,w,v.offset);v.nextGraphemeLength();const i=this._nextVisibleColumn(s,_,p),t=v.offset+1;if(i>=y){const n=y-_;return i-y<n?t:a}_=i,a=t}return w+1}static nextRenderTabStop(L,y){return L+y-L%y}static nextIndentTabStop(L,y){return L+y-L%y}static prevRenderTabStop(L,y){return Math.max(0,L-1-(L-1)%y)}static prevIndentTabStop(L,y){return Math.max(0,L-1-(L-1)%y)}}e.CursorColumns=k}),define(ie[139],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=f;function f(k){let E=0,L=0,y=0,p=0;for(let w=0,v=k.length;w<v;w++){const _=k.charCodeAt(w);_===13?(E===0&&(L=w),E++,w+1<v&&k.charCodeAt(w+1)===10?(p|=2,w++):p|=3,y=w+1):_===10&&(p|=1,E===0&&(L=w),E++,y=w+1)}return E===0&&(L=k.length),[E,L,k.length-y,p]}}),define(ie[220],ne([1,0,11,90]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=L;function E(y,p,w){let v=0;for(let a=0;a<y.length;a++)y.charAt(a)==="	"?v=k.CursorColumns.nextIndentTabStop(v,p):v++;let _="";if(!w){const a=Math.floor(v/p);v=v%p;for(let s=0;s<a;s++)_+="	"}for(let a=0;a<v;a++)_+=" ";return _}function L(y,p,w){let v=f.firstNonWhitespaceIndex(y);return v===-1&&(v=y.length),E(y.substring(0,v),p,w)+y.substring(v)}}),define(ie[64],ne([1,0,12]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class k{static addRange(y,p){let w=0;for(;w<p.length&&p[w].endExclusive<y.start;)w++;let v=w;for(;v<p.length&&p[v].start<=y.endExclusive;)v++;if(w===v)p.splice(w,0,y);else{const _=Math.min(y.start,p[w].start),a=Math.max(y.endExclusive,p[v-1].endExclusive);p.splice(w,v-w,new k(_,a))}}static tryCreate(y,p){if(!(y>p))return new k(y,p)}static ofLength(y){return new k(0,y)}static ofStartAndLength(y,p){return new k(y,y+p)}constructor(y,p){if(this.start=y,this.endExclusive=p,y>p)throw new f.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(y){return new k(this.start+y,this.endExclusive+y)}deltaStart(y){return new k(this.start+y,this.endExclusive)}deltaEnd(y){return new k(this.start,this.endExclusive+y)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(y){return this.start<=y&&y<this.endExclusive}join(y){return new k(Math.min(this.start,y.start),Math.max(this.endExclusive,y.endExclusive))}intersect(y){const p=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);if(p<=w)return new k(p,w)}intersects(y){const p=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);return p<w}isBefore(y){return this.endExclusive<=y.start}isAfter(y){return this.start>=y.endExclusive}slice(y){return y.slice(this.start,this.endExclusive)}substring(y){return y.substring(this.start,this.endExclusive)}clip(y){if(this.isEmpty)throw new f.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,y))}clipCyclic(y){if(this.isEmpty)throw new f.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return y<this.start?this.endExclusive-(this.start-y)%this.length:y>=this.endExclusive?this.start+(y-this.start)%this.length:y}forEach(y){for(let p=this.start;p<this.endExclusive;p++)y(p)}}e.OffsetRange=k;class E{constructor(){this._sortedRanges=[]}addRange(y){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<y.start;)p++;let w=p;for(;w<this._sortedRanges.length&&this._sortedRanges[w].start<=y.endExclusive;)w++;if(p===w)this._sortedRanges.splice(p,0,y);else{const v=Math.min(y.start,this._sortedRanges[p].start),_=Math.max(y.endExclusive,this._sortedRanges[w-1].endExclusive);this._sortedRanges.splice(p,w-p,new k(v,_))}}toString(){return this._sortedRanges.map(y=>y.toString()).join(", ")}intersectsStrict(y){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<=y.start;)p++;return p<this._sortedRanges.length&&this._sortedRanges[p].start<y.endExclusive}intersectWithRange(y){const p=new E;for(const w of this._sortedRanges){const v=w.intersect(y);v&&p.addRange(v)}return p}intersectWithRangeLength(y){return this.intersectWithRange(y).length}get length(){return this._sortedRanges.reduce((y,p)=>y+p.length,0)}}e.OffsetRangeSet=E}),define(ie[9],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class f{constructor(E,L){this.lineNumber=E,this.column=L}with(E=this.lineNumber,L=this.column){return E===this.lineNumber&&L===this.column?this:new f(E,L)}delta(E=0,L=0){return this.with(this.lineNumber+E,this.column+L)}equals(E){return f.equals(this,E)}static equals(E,L){return!E&&!L?!0:!!E&&!!L&&E.lineNumber===L.lineNumber&&E.column===L.column}isBefore(E){return f.isBefore(this,E)}static isBefore(E,L){return E.lineNumber<L.lineNumber?!0:L.lineNumber<E.lineNumber?!1:E.column<L.column}isBeforeOrEqual(E){return f.isBeforeOrEqual(this,E)}static isBeforeOrEqual(E,L){return E.lineNumber<L.lineNumber?!0:L.lineNumber<E.lineNumber?!1:E.column<=L.column}static compare(E,L){const y=E.lineNumber|0,p=L.lineNumber|0;if(y===p){const w=E.column|0,v=L.column|0;return w-v}return y-p}clone(){return new f(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(E){return new f(E.lineNumber,E.column)}static isIPosition(E){return E&&typeof E.lineNumber=="number"&&typeof E.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}e.Position=f}),define(ie[297],ne([1,0,9]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(L){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=L}emitKeyDown(L){var y;(y=this.onKeyDown)===null||y===void 0||y.call(this,L)}emitKeyUp(L){var y;(y=this.onKeyUp)===null||y===void 0||y.call(this,L)}emitContextMenu(L){var y;(y=this.onContextMenu)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseMove(L){var y;(y=this.onMouseMove)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseLeave(L){var y;(y=this.onMouseLeave)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseDown(L){var y;(y=this.onMouseDown)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseUp(L){var y;(y=this.onMouseUp)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseDrag(L){var y;(y=this.onMouseDrag)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseDrop(L){var y;(y=this.onMouseDrop)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseDropCanceled(){var L;(L=this.onMouseDropCanceled)===null||L===void 0||L.call(this)}emitMouseWheel(L){var y;(y=this.onMouseWheel)===null||y===void 0||y.call(this,L)}_convertViewToModelMouseEvent(L){return L.target?{event:L.event,target:this._convertViewToModelMouseTarget(L.target)}:L}_convertViewToModelMouseTarget(L){return k.convertViewToModelMouseTarget(L,this._coordinatesConverter)}static convertViewToModelMouseTarget(L,y){const p={...L};return p.position&&(p.position=y.convertViewPositionToModelPosition(p.position)),p.range&&(p.range=y.convertViewRangeToModelRange(p.range)),(p.type===5||p.type===8)&&(p.detail=this.convertViewToModelViewZoneData(p.detail,y)),p}static convertViewToModelViewZoneData(L,y){return{viewZoneId:L.viewZoneId,positionBefore:L.positionBefore?y.convertViewPositionToModelPosition(L.positionBefore):L.positionBefore,positionAfter:L.positionAfter?y.convertViewPositionToModelPosition(L.positionAfter):L.positionAfter,position:y.convertViewPositionToModelPosition(L.position),afterLineNumber:y.convertViewPositionToModelPosition(new f.Position(L.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(ie[5],ne([1,0,9]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(L,y,p,w){L>p||L===p&&y>w?(this.startLineNumber=p,this.startColumn=w,this.endLineNumber=L,this.endColumn=y):(this.startLineNumber=L,this.startColumn=y,this.endLineNumber=p,this.endColumn=w)}isEmpty(){return k.isEmpty(this)}static isEmpty(L){return L.startLineNumber===L.endLineNumber&&L.startColumn===L.endColumn}containsPosition(L){return k.containsPosition(this,L)}static containsPosition(L,y){return!(y.lineNumber<L.startLineNumber||y.lineNumber>L.endLineNumber||y.lineNumber===L.startLineNumber&&y.column<L.startColumn||y.lineNumber===L.endLineNumber&&y.column>L.endColumn)}static strictContainsPosition(L,y){return!(y.lineNumber<L.startLineNumber||y.lineNumber>L.endLineNumber||y.lineNumber===L.startLineNumber&&y.column<=L.startColumn||y.lineNumber===L.endLineNumber&&y.column>=L.endColumn)}containsRange(L){return k.containsRange(this,L)}static containsRange(L,y){return!(y.startLineNumber<L.startLineNumber||y.endLineNumber<L.startLineNumber||y.startLineNumber>L.endLineNumber||y.endLineNumber>L.endLineNumber||y.startLineNumber===L.startLineNumber&&y.startColumn<L.startColumn||y.endLineNumber===L.endLineNumber&&y.endColumn>L.endColumn)}strictContainsRange(L){return k.strictContainsRange(this,L)}static strictContainsRange(L,y){return!(y.startLineNumber<L.startLineNumber||y.endLineNumber<L.startLineNumber||y.startLineNumber>L.endLineNumber||y.endLineNumber>L.endLineNumber||y.startLineNumber===L.startLineNumber&&y.startColumn<=L.startColumn||y.endLineNumber===L.endLineNumber&&y.endColumn>=L.endColumn)}plusRange(L){return k.plusRange(this,L)}static plusRange(L,y){let p,w,v,_;return y.startLineNumber<L.startLineNumber?(p=y.startLineNumber,w=y.startColumn):y.startLineNumber===L.startLineNumber?(p=y.startLineNumber,w=Math.min(y.startColumn,L.startColumn)):(p=L.startLineNumber,w=L.startColumn),y.endLineNumber>L.endLineNumber?(v=y.endLineNumber,_=y.endColumn):y.endLineNumber===L.endLineNumber?(v=y.endLineNumber,_=Math.max(y.endColumn,L.endColumn)):(v=L.endLineNumber,_=L.endColumn),new k(p,w,v,_)}intersectRanges(L){return k.intersectRanges(this,L)}static intersectRanges(L,y){let p=L.startLineNumber,w=L.startColumn,v=L.endLineNumber,_=L.endColumn;const a=y.startLineNumber,s=y.startColumn,i=y.endLineNumber,t=y.endColumn;return p<a?(p=a,w=s):p===a&&(w=Math.max(w,s)),v>i?(v=i,_=t):v===i&&(_=Math.min(_,t)),p>v||p===v&&w>_?null:new k(p,w,v,_)}equalsRange(L){return k.equalsRange(this,L)}static equalsRange(L,y){return!L&&!y?!0:!!L&&!!y&&L.startLineNumber===y.startLineNumber&&L.startColumn===y.startColumn&&L.endLineNumber===y.endLineNumber&&L.endColumn===y.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(L){return new f.Position(L.endLineNumber,L.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(L){return new f.Position(L.startLineNumber,L.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(L,y){return new k(this.startLineNumber,this.startColumn,L,y)}setStartPosition(L,y){return new k(L,y,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(L){return new k(L.startLineNumber,L.startColumn,L.startLineNumber,L.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(L){return new k(L.endLineNumber,L.endColumn,L.endLineNumber,L.endColumn)}delta(L){return new k(this.startLineNumber+L,this.startColumn,this.endLineNumber+L,this.endColumn)}static fromPositions(L,y=L){return new k(L.lineNumber,L.column,y.lineNumber,y.column)}static lift(L){return L?new k(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):null}static isIRange(L){return L&&typeof L.startLineNumber=="number"&&typeof L.startColumn=="number"&&typeof L.endLineNumber=="number"&&typeof L.endColumn=="number"}static areIntersectingOrTouching(L,y){return!(L.endLineNumber<y.startLineNumber||L.endLineNumber===y.startLineNumber&&L.endColumn<y.startColumn||y.endLineNumber<L.startLineNumber||y.endLineNumber===L.startLineNumber&&y.endColumn<L.startColumn)}static areIntersecting(L,y){return!(L.endLineNumber<y.startLineNumber||L.endLineNumber===y.startLineNumber&&L.endColumn<=y.startColumn||y.endLineNumber<L.startLineNumber||y.endLineNumber===L.startLineNumber&&y.endColumn<=L.startColumn)}static compareRangesUsingStarts(L,y){if(L&&y){const v=L.startLineNumber|0,_=y.startLineNumber|0;if(v===_){const a=L.startColumn|0,s=y.startColumn|0;if(a===s){const i=L.endLineNumber|0,t=y.endLineNumber|0;if(i===t){const n=L.endColumn|0,h=y.endColumn|0;return n-h}return i-t}return a-s}return v-_}return(L?1:0)-(y?1:0)}static compareRangesUsingEnds(L,y){return L.endLineNumber===y.endLineNumber?L.endColumn===y.endColumn?L.startLineNumber===y.startLineNumber?L.startColumn-y.startColumn:L.startLineNumber-y.startLineNumber:L.endColumn-y.endColumn:L.endLineNumber-y.endLineNumber}static spansMultipleLines(L){return L.endLineNumber>L.startLineNumber}toJSON(){return this}}e.Range=k}),define(ie[298],ne([1,0,11,5]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class E{constructor(p,w,v,_,a){this.value=p,this.selectionStart=w,this.selectionEnd=v,this.selection=_,this.newlineCountBeforeSelection=a}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(p,w){const v=p.getValue(),_=p.getSelectionStart(),a=p.getSelectionEnd();let s;if(w){const i=v.substring(0,_),t=w.value.substring(0,w.selectionStart);i===t&&(s=w.newlineCountBeforeSelection)}return new E(v,_,a,null,s)}collapseSelection(){return this.selectionStart===this.value.length?this:new E(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(p,w,v){e._debugComposition&&console.log(`writeToTextArea ${p}: ${this.toString()}`),w.setValue(p,this.value),v&&w.setSelectionRange(p,this.selectionStart,this.selectionEnd)}deduceEditorPosition(p){var w,v,_,a,s,i,t,n;if(p<=this.selectionStart){const u=this.value.substring(p,this.selectionStart);return this._finishDeduceEditorPosition((v=(w=this.selection)===null||w===void 0?void 0:w.getStartPosition())!==null&&v!==void 0?v:null,u,-1)}if(p>=this.selectionEnd){const u=this.value.substring(this.selectionEnd,p);return this._finishDeduceEditorPosition((a=(_=this.selection)===null||_===void 0?void 0:_.getEndPosition())!==null&&a!==void 0?a:null,u,1)}const h=this.value.substring(this.selectionStart,p);if(h.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition((i=(s=this.selection)===null||s===void 0?void 0:s.getStartPosition())!==null&&i!==void 0?i:null,h,1);const m=this.value.substring(p,this.selectionEnd);return this._finishDeduceEditorPosition((n=(t=this.selection)===null||t===void 0?void 0:t.getEndPosition())!==null&&n!==void 0?n:null,m,-1)}_finishDeduceEditorPosition(p,w,v){let _=0,a=-1;for(;(a=w.indexOf(`
`,a+1))!==-1;)_++;return[p,v*w.length,_]}static deduceInput(p,w,v){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${p.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`));const _=Math.min(f.commonPrefixLength(p.value,w.value),p.selectionStart,w.selectionStart),a=Math.min(f.commonSuffixLength(p.value,w.value),p.value.length-p.selectionEnd,w.value.length-w.selectionEnd),s=p.value.substring(_,p.value.length-a),i=w.value.substring(_,w.value.length-a),t=p.selectionStart-_,n=p.selectionEnd-_,h=w.selectionStart-_,m=w.selectionEnd-_;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${t}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${h}, selectionEnd: ${m}`)),h===m){const d=p.selectionStart-_;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${d} chars`),{text:i,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}const u=n-t;return{text:i,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(p,w){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${p.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`)),p.value===w.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:w.selectionEnd-p.selectionEnd};const v=Math.min(f.commonPrefixLength(p.value,w.value),p.selectionEnd),_=Math.min(f.commonSuffixLength(p.value,w.value),p.value.length-p.selectionEnd),a=p.value.substring(v,p.value.length-_),s=w.value.substring(v,w.value.length-_),i=p.selectionStart-v,t=p.selectionEnd-v,n=w.selectionStart-v,h=w.selectionEnd-v;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${i}, selectionEnd: ${t}`),console.log(`AFTER DIFFING CURRENT STATE: <${s}>, selectionStart: ${n}, selectionEnd: ${h}`)),{text:s,replacePrevCharCnt:t,replaceNextCharCnt:a.length-t,positionDelta:h-s.length}}}e.TextAreaState=E,E.EMPTY=new E("",0,0,null,void 0);class L{static _getPageOfLine(p,w){return Math.floor((p-1)/w)}static _getRangeForPage(p,w){const v=p*w,_=v+1,a=v+w;return new k.Range(_,1,a+1,1)}static fromEditorSelection(p,w,v,_){const s=L._getPageOfLine(w.startLineNumber,v),i=L._getRangeForPage(s,v),t=L._getPageOfLine(w.endLineNumber,v),n=L._getRangeForPage(t,v);let h=i.intersectRanges(new k.Range(1,1,w.startLineNumber,w.startColumn));if(_&&p.getValueLengthInRange(h,1)>500){const g=p.modifyPosition(h.getEndPosition(),-500);h=k.Range.fromPositions(g,h.getEndPosition())}const m=p.getValueInRange(h,1),u=p.getLineCount(),d=p.getLineMaxColumn(u);let r=n.intersectRanges(new k.Range(w.endLineNumber,w.endColumn,u,d));if(_&&p.getValueLengthInRange(r,1)>500){const g=p.modifyPosition(r.getStartPosition(),500);r=k.Range.fromPositions(r.getStartPosition(),g)}const l=p.getValueInRange(r,1);let o;if(s===t||s+1===t)o=p.getValueInRange(w,1);else{const g=i.intersectRanges(w),c=n.intersectRanges(w);o=p.getValueInRange(g,1)+"\u2026"+p.getValueInRange(c,1)}return _&&o.length>2*500&&(o=o.substring(0,500)+"\u2026"+o.substring(o.length-500,o.length)),new E(m+o+l,m.length,m.length+o.length,w,h.endLineNumber-h.startLineNumber)}}e.PagedScreenReaderStrategy=L}),define(ie[72],ne([1,0,5]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(L,y){return{range:new f.Range(L.lineNumber,L.column,L.lineNumber,L.column),text:y,forceMoveMarkers:!0}}static delete(L){return{range:L,text:null}}static replace(L,y){return{range:L,text:y}}static replaceMove(L,y){return{range:L,text:y,forceMoveMarkers:!0}}}e.EditOperation=k}),define(ie[523],ne([1,0,11,72,5]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrimTrailingWhitespaceCommand=void 0,e.trimTrailingWhitespace=y;class L{constructor(w,v,_){this._selection=w,this._cursors=v,this._selectionId=null,this._trimInRegexesAndStrings=_}getEditOperations(w,v){const _=y(w,this._cursors,this._trimInRegexesAndStrings);for(let a=0,s=_.length;a<s;a++){const i=_[a];v.addEditOperation(i.range,i.text)}this._selectionId=v.trackSelection(this._selection)}computeCursorState(w,v){return v.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=L;function y(p,w,v){w.sort((t,n)=>t.lineNumber===n.lineNumber?t.column-n.column:t.lineNumber-n.lineNumber);for(let t=w.length-2;t>=0;t--)w[t].lineNumber===w[t+1].lineNumber&&w.splice(t,1);const _=[];let a=0,s=0;const i=w.length;for(let t=1,n=p.getLineCount();t<=n;t++){const h=p.getLineContent(t),m=h.length+1;let u=0;if(s<i&&w[s].lineNumber===t&&(u=w[s].column,s++,u===m)||h.length===0)continue;const d=f.lastNonWhitespaceIndex(h);let r=0;if(d===-1)r=1;else if(d!==h.length-1)r=d+2;else continue;if(!v){if(!p.tokenization.hasAccurateTokensForLine(t))continue;const l=p.tokenization.getLineTokens(t),o=l.getStandardTokenType(l.findTokenIndexAtOffset(r));if(o===2||o===3)continue}r=Math.max(u,r),_[a++]=k.EditOperation.delete(new E.Range(t,r,t,m))}return _}}),define(ie[60],ne([1,0,12,64,5,66]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeSet=e.LineRange=void 0;class y{static fromRangeInclusive(v){return new y(v.startLineNumber,v.endLineNumber+1)}static joinMany(v){if(v.length===0)return[];let _=new p(v[0].slice());for(let a=1;a<v.length;a++)_=_.getUnion(new p(v[a].slice()));return _.ranges}static join(v){if(v.length===0)throw new f.BugIndicatingError("lineRanges cannot be empty");let _=v[0].startLineNumber,a=v[0].endLineNumberExclusive;for(let s=1;s<v.length;s++)_=Math.min(_,v[s].startLineNumber),a=Math.max(a,v[s].endLineNumberExclusive);return new y(_,a)}static ofLength(v,_){return new y(v,v+_)}static deserialize(v){return new y(v[0],v[1])}constructor(v,_){if(v>_)throw new f.BugIndicatingError(`startLineNumber ${v} cannot be after endLineNumberExclusive ${_}`);this.startLineNumber=v,this.endLineNumberExclusive=_}contains(v){return this.startLineNumber<=v&&v<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(v){return new y(this.startLineNumber+v,this.endLineNumberExclusive+v)}deltaLength(v){return new y(this.startLineNumber,this.endLineNumberExclusive+v)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(v){return new y(Math.min(this.startLineNumber,v.startLineNumber),Math.max(this.endLineNumberExclusive,v.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(v){const _=Math.max(this.startLineNumber,v.startLineNumber),a=Math.min(this.endLineNumberExclusive,v.endLineNumberExclusive);if(_<=a)return new y(_,a)}intersectsStrict(v){return this.startLineNumber<v.endLineNumberExclusive&&v.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(v){return this.startLineNumber<=v.endLineNumberExclusive&&v.startLineNumber<=this.endLineNumberExclusive}equals(v){return this.startLineNumber===v.startLineNumber&&this.endLineNumberExclusive===v.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new E.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new E.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(v){const _=[];for(let a=this.startLineNumber;a<this.endLineNumberExclusive;a++)_.push(v(a));return _}forEach(v){for(let _=this.startLineNumber;_<this.endLineNumberExclusive;_++)v(_)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(v){return this.startLineNumber<=v&&v<this.endLineNumberExclusive}toOffsetRange(){return new k.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=y;class p{constructor(v=[]){this._normalizedRanges=v}get ranges(){return this._normalizedRanges}addRange(v){if(v.length===0)return;const _=(0,L.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,s=>s.endLineNumberExclusive>=v.startLineNumber),a=(0,L.findLastIdxMonotonous)(this._normalizedRanges,s=>s.startLineNumber<=v.endLineNumberExclusive)+1;if(_===a)this._normalizedRanges.splice(_,0,v);else if(_===a-1){const s=this._normalizedRanges[_];this._normalizedRanges[_]=s.join(v)}else{const s=this._normalizedRanges[_].join(this._normalizedRanges[a-1]).join(v);this._normalizedRanges.splice(_,a-_,s)}}contains(v){const _=(0,L.findLastMonotonous)(this._normalizedRanges,a=>a.startLineNumber<=v);return!!_&&_.endLineNumberExclusive>v}intersects(v){const _=(0,L.findLastMonotonous)(this._normalizedRanges,a=>a.startLineNumber<v.endLineNumberExclusive);return!!_&&_.endLineNumberExclusive>v.startLineNumber}getUnion(v){if(this._normalizedRanges.length===0)return v;if(v._normalizedRanges.length===0)return this;const _=[];let a=0,s=0,i=null;for(;a<this._normalizedRanges.length||s<v._normalizedRanges.length;){let t=null;if(a<this._normalizedRanges.length&&s<v._normalizedRanges.length){const n=this._normalizedRanges[a],h=v._normalizedRanges[s];n.startLineNumber<h.startLineNumber?(t=n,a++):(t=h,s++)}else a<this._normalizedRanges.length?(t=this._normalizedRanges[a],a++):(t=v._normalizedRanges[s],s++);i===null?i=t:i.endLineNumberExclusive>=t.startLineNumber?i=new y(i.startLineNumber,Math.max(i.endLineNumberExclusive,t.endLineNumberExclusive)):(_.push(i),i=t)}return i!==null&&_.push(i),new p(_)}subtractFrom(v){const _=(0,L.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=v.startLineNumber),a=(0,L.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=v.endLineNumberExclusive)+1;if(_===a)return new p([v]);const s=[];let i=v.startLineNumber;for(let t=_;t<a;t++){const n=this._normalizedRanges[t];n.startLineNumber>i&&s.push(new y(i,n.startLineNumber)),i=n.endLineNumberExclusive}return i<v.endLineNumberExclusive&&s.push(new y(i,v.endLineNumberExclusive)),new p(s)}toString(){return this._normalizedRanges.map(v=>v.toString()).join(", ")}getIntersection(v){const _=[];let a=0,s=0;for(;a<this._normalizedRanges.length&&s<v._normalizedRanges.length;){const i=this._normalizedRanges[a],t=v._normalizedRanges[s],n=i.intersect(t);n&&!n.isEmpty&&_.push(n),i.endLineNumberExclusive<t.endLineNumberExclusive?a++:s++}return new p(_)}getWithDelta(v){return new p(this._normalizedRanges.map(_=>_.delta(v)))}}e.LineRangeSet=p}),define(ie[299],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class f{constructor(E,L,y,p){this._rgba8Brand=void 0,this.r=f._clamp(E),this.g=f._clamp(L),this.b=f._clamp(y),this.a=f._clamp(p)}equals(E){return this.r===E.r&&this.g===E.g&&this.b===E.b&&this.a===E.a}static _clamp(E){return E<0?0:E>255?255:E|0}}e.RGBA8=f,f.Empty=new f(0,0,0,0)}),define(ie[24],ne([1,0,9,5]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class E extends k.Range{constructor(y,p,w,v){super(y,p,w,v),this.selectionStartLineNumber=y,this.selectionStartColumn=p,this.positionLineNumber=w,this.positionColumn=v}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return E.selectionsEqual(this,y)}static selectionsEqual(y,p){return y.selectionStartLineNumber===p.selectionStartLineNumber&&y.selectionStartColumn===p.selectionStartColumn&&y.positionLineNumber===p.positionLineNumber&&y.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,p){return this.getDirection()===0?new E(this.startLineNumber,this.startColumn,y,p):new E(y,p,this.startLineNumber,this.startColumn)}getPosition(){return new f.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new f.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(y,p){return this.getDirection()===0?new E(y,p,this.endLineNumber,this.endColumn):new E(this.endLineNumber,this.endColumn,y,p)}static fromPositions(y,p=y){return new E(y.lineNumber,y.column,p.lineNumber,p.column)}static fromRange(y,p){return p===0?new E(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):new E(y.endLineNumber,y.endColumn,y.startLineNumber,y.startColumn)}static liftSelection(y){return new E(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,p){if(y&&!p||!y&&p)return!1;if(!y&&!p)return!0;if(y.length!==p.length)return!1;for(let w=0,v=y.length;w<v;w++)if(!this.selectionsEqual(y[w],p[w]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,p,w,v,_){return _===0?new E(y,p,w,v):new E(w,v,y,p)}}e.Selection=E}),define(ie[140],ne([1,0,24]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(v,_,a=!1){this._range=v,this._text=_,this.insertsAutoWhitespace=a}getEditOperations(v,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,_){const s=_.getInverseEditOperations()[0].range;return f.Selection.fromPositions(s.getEndPosition())}}e.ReplaceCommand=k;class E{constructor(v,_){this._range=v,this._text=_}getEditOperations(v,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,_){const s=_.getInverseEditOperations()[0].range;return f.Selection.fromRange(s,0)}}e.ReplaceCommandThatSelectsText=E;class L{constructor(v,_,a=!1){this._range=v,this._text=_,this.insertsAutoWhitespace=a}getEditOperations(v,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,_){const s=_.getInverseEditOperations()[0].range;return f.Selection.fromPositions(s.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=L;class y{constructor(v,_,a,s,i=!1){this._range=v,this._text=_,this._columnDeltaOffset=s,this._lineNumberDeltaOffset=a,this.insertsAutoWhitespace=i}getEditOperations(v,_){_.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,_){const s=_.getInverseEditOperations()[0].range;return f.Selection.fromPositions(s.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=y;class p{constructor(v,_,a,s=!1){this._range=v,this._text=_,this._initialSelection=a,this._forceMoveMarkers=s,this._selectionId=null}getEditOperations(v,_){_.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=_.trackSelection(this._initialSelection)}computeCursorState(v,_){return _.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(ie[524],ne([1,0,5,24]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class E{constructor(p,w,v){this._range=p,this._charBeforeSelection=w,this._charAfterSelection=v}getEditOperations(p,w){w.addTrackedEditOperation(new f.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),w.addTrackedEditOperation(new f.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(p,w){const v=w.getInverseEditOperations(),_=v[0].range,a=v[1].range;return new k.Selection(_.endLineNumber,_.endColumn,a.endLineNumber,a.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=E;class L{constructor(p,w,v){this._position=p,this._text=w,this._charAfter=v}getEditOperations(p,w){w.addTrackedEditOperation(new f.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(p,w){const _=w.getInverseEditOperations()[0].range;return new k.Selection(_.endLineNumber,_.startColumn,_.endLineNumber,_.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=L}),define(ie[122],ne([1,0,9,5]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextLength=void 0;class E{static ofText(y){let p=0,w=0;for(const v of y)v===`
`?(p++,w=0):w++;return new E(p,w)}constructor(y,p){this.lineCount=y,this.columnCount=p}createRange(y){return this.lineCount===0?new k.Range(y.lineNumber,y.column,y.lineNumber,y.column+this.columnCount):new k.Range(y.lineNumber,y.column,y.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(y){return this.lineCount===0?new f.Position(y.lineNumber,y.column+this.columnCount):new f.Position(y.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}e.TextLength=E,E.zero=new E(0,0)}),define(ie[525],ne([1,0,64,122]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PositionOffsetTransformer=void 0;class E{constructor(y){this.text=y,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let p=0;p<y.length;p++)y.charAt(p)===`
`&&this.lineStartOffsetByLineIdx.push(p+1)}getOffset(y){return this.lineStartOffsetByLineIdx[y.lineNumber-1]+y.column-1}getOffsetRange(y){return new f.OffsetRange(this.getOffset(y.getStartPosition()),this.getOffset(y.getEndPosition()))}get textLength(){const y=this.lineStartOffsetByLineIdx.length-1;return new k.TextLength(y,this.text.length-this.lineStartOffsetByLineIdx[y])}}e.PositionOffsetTransformer=E}),define(ie[123],ne([1,0,87,12,9,525,5,122]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringText=e.AbstractText=e.SingleTextEdit=e.TextEdit=void 0;class w{constructor(t){this.edits=t,(0,f.assertFn)(()=>(0,f.checkAdjacentItems)(t,(n,h)=>n.range.getEndPosition().isBeforeOrEqual(h.range.getStartPosition())))}apply(t){let n="",h=new E.Position(1,1);for(const u of this.edits){const d=u.range,r=d.getStartPosition(),l=d.getEndPosition(),o=_(h,r);o.isEmpty()||(n+=t.getValueOfRange(o)),n+=u.text,h=l}const m=_(h,t.endPositionExclusive);return m.isEmpty()||(n+=t.getValueOfRange(m)),n}applyToString(t){const n=new s(t);return this.apply(n)}getNewRanges(){const t=[];let n=0,h=0,m=0;for(const u of this.edits){const d=p.TextLength.ofText(u.text),r=E.Position.lift({lineNumber:u.range.startLineNumber+h,column:u.range.startColumn+(u.range.startLineNumber===n?m:0)}),l=d.createRange(r);t.push(l),h=l.endLineNumber-u.range.endLineNumber,m=l.endColumn-u.range.endColumn,n=u.range.endLineNumber}return t}}e.TextEdit=w;class v{constructor(t,n){this.range=t,this.text=n}}e.SingleTextEdit=v;function _(i,t){if(!i.isBeforeOrEqual(t))throw new k.BugIndicatingError("start must be before end");return new y.Range(i.lineNumber,i.column,t.lineNumber,t.column)}class a{get endPositionExclusive(){return this.length.addToPosition(new E.Position(1,1))}}e.AbstractText=a;class s extends a{constructor(t){super(),this.value=t,this._t=new L.PositionOffsetTransformer(this.value)}getValueOfRange(t){return this._t.getOffsetRange(t).substring(this.value)}get length(){return this._t.textLength}}e.StringText=s}),define(ie[188],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ie[159],ne([1,0,47,138]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordCharacterClassifier=void 0,e.getMapForWordSeparators=y;class E extends k.CharacterClassifier{constructor(w,v){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=v,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let _=0,a=w.length;_<a;_++)this.set(w.charCodeAt(_),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(w,v){let _=null;for(const a of this._getIntlSegmenterWordsOnLine(w)){if(a.index>v)break;_=a}return _}findNextIntlWordAtOrAfterOffset(w,v){for(const _ of this._getIntlSegmenterWordsOnLine(w))if(!(_.index<v))return _;return null}_getIntlSegmenterWordsOnLine(w){return this._segmenter?this._cachedLine===w?this._cachedSegments:(this._cachedLine=w,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(w)),this._cachedSegments):[]}_filterWordSegments(w){const v=[];for(const _ of w)this._isWordLike(_)&&v.push(_);return v}_isWordLike(w){return!!w.isWordLike}}e.WordCharacterClassifier=E;const L=new f.LRUCache(10);function y(p,w){const v=`${p}/${w.join(",")}`;let _=L.get(v);return _||(_=new E(p,w),L.set(v,_)),_}}),define(ie[160],ne([1,0,54,70]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.ensureValidWordDefinition=L,e.getWordAtText=p,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function E(v=""){let _="(-?\\d*\\.\\d\\w*)|([^";for(const a of e.USUAL_WORD_SEPARATORS)v.indexOf(a)>=0||(_+="\\"+a);return _+="\\s]+)",new RegExp(_,"g")}e.DEFAULT_WORD_REGEXP=E();function L(v){let _=e.DEFAULT_WORD_REGEXP;if(v&&v instanceof RegExp)if(v.global)_=v;else{let a="g";v.ignoreCase&&(a+="i"),v.multiline&&(a+="m"),v.unicode&&(a+="u"),_=new RegExp(v.source,a)}return _.lastIndex=0,_}const y=new k.LinkedList;y.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function p(v,_,a,s,i){if(_=L(_),i||(i=f.Iterable.first(y)),a.length>i.maxLen){let u=v-i.maxLen/2;return u<0?u=0:s+=u,a=a.substring(u,v+i.maxLen/2),p(v,_,a,s,i)}const t=Date.now(),n=v-1-s;let h=-1,m=null;for(let u=1;!(Date.now()-t>=i.timeBudget);u++){const d=n-i.windowSize*u;_.lastIndex=Math.max(0,d);const r=w(_,a,n,h);if(!r&&m||(m=r,d<=0))break;h=d}if(m){const u={word:m[0],startColumn:s+1+m.index,endColumn:s+1+m.index+m[0].length};return _.lastIndex=0,u}return null}function w(v,_,a,s){let i;for(;i=v.exec(_);){const t=i.index||0;if(t<=a&&v.lastIndex>=a)return i;if(s>0&&t>s)return null}return null}}),define(ie[300],ne([1,0,90]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(L,y,p){const w=L.length;let v=0,_=-1,a=-1;for(let s=0;s<w;s++){if(s===y)return[_,a,v];switch(v%p===0&&(_=s,a=v),L.charCodeAt(s)){case 32:v+=1;break;case 9:v=f.CursorColumns.nextRenderTabStop(v,p);break;default:return[-1,-1,-1]}}return y===w?[_,a,v]:[-1,-1,-1]}static atomicPosition(L,y,p,w){const v=L.length,[_,a,s]=k.whitespaceVisibleColumn(L,y,p);if(s===-1)return-1;let i;switch(w){case 0:i=!0;break;case 1:i=!1;break;case 2:if(s%p===0)return y;i=s%p<=p/2;break}if(i){if(_===-1)return-1;let h=a;for(let m=_;m<v;++m){if(h===a+p)return _;switch(L.charCodeAt(m)){case 32:h+=1;break;case 9:h=f.CursorColumns.nextRenderTabStop(h,p);break;default:return-1}}return h===a+p?_:-1}const t=f.CursorColumns.nextRenderTabStop(s,p);let n=s;for(let h=y;h<v;h++){if(n===t)return h;switch(L.charCodeAt(h)){case 32:n+=1;break;case 9:n=f.CursorColumns.nextRenderTabStop(n,p);break;default:return-1}}return n===t?v:-1}}e.AtomicTabMoveOperations=k}),define(ie[526],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class f{constructor(E,L,y,p){this._cursorContextBrand=void 0,this.model=E,this.viewModel=L,this.coordinatesConverter=y,this.cursorConfig=p}}e.CursorContext=f}),define(ie[161],ne([1,0,13,12,64]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.OffsetPair=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class L{static trivial(a,s){return new L([new y(E.OffsetRange.ofLength(a.length),E.OffsetRange.ofLength(s.length))],!1)}static trivialTimedOut(a,s){return new L([new y(E.OffsetRange.ofLength(a.length),E.OffsetRange.ofLength(s.length))],!0)}constructor(a,s){this.diffs=a,this.hitTimeout=s}}e.DiffAlgorithmResult=L;class y{static invert(a,s){const i=[];return(0,f.forEachAdjacent)(a,(t,n)=>{i.push(y.fromOffsetPairs(t?t.getEndExclusives():p.zero,n?n.getStarts():new p(s,(t?t.seq2Range.endExclusive-t.seq1Range.endExclusive:0)+s)))}),i}static fromOffsetPairs(a,s){return new y(new E.OffsetRange(a.offset1,s.offset1),new E.OffsetRange(a.offset2,s.offset2))}constructor(a,s){this.seq1Range=a,this.seq2Range=s}swap(){return new y(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(a){return new y(this.seq1Range.join(a.seq1Range),this.seq2Range.join(a.seq2Range))}delta(a){return a===0?this:new y(this.seq1Range.delta(a),this.seq2Range.delta(a))}deltaStart(a){return a===0?this:new y(this.seq1Range.deltaStart(a),this.seq2Range.deltaStart(a))}deltaEnd(a){return a===0?this:new y(this.seq1Range.deltaEnd(a),this.seq2Range.deltaEnd(a))}intersect(a){const s=this.seq1Range.intersect(a.seq1Range),i=this.seq2Range.intersect(a.seq2Range);if(!(!s||!i))return new y(s,i)}getStarts(){return new p(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new p(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}e.SequenceDiff=y;class p{constructor(a,s){this.offset1=a,this.offset2=s}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(a){return a===0?this:new p(this.offset1+a,this.offset2+a)}equals(a){return this.offset1===a.offset1&&this.offset2===a.offset2}}e.OffsetPair=p,p.zero=new p(0,0),p.max=new p(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class w{isValid(){return!0}}e.InfiniteTimeout=w,w.instance=new w;class v{constructor(a){if(this.timeout=a,this.startTime=Date.now(),this.valid=!0,a<=0)throw new k.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=v}),define(ie[301],ne([1,0,64,161]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class E{compute(v,_,a=k.InfiniteTimeout.instance){if(v.length===0||_.length===0)return k.DiffAlgorithmResult.trivial(v,_);const s=v,i=_;function t(g,c){for(;g<s.length&&c<i.length&&s.getElement(g)===i.getElement(c);)g++,c++;return g}let n=0;const h=new y;h.set(0,t(0,0));const m=new p;m.set(0,h.get(0)===0?null:new L(null,0,0,h.get(0)));let u=0;e:for(;;){if(n++,!a.isValid())return k.DiffAlgorithmResult.trivialTimedOut(s,i);const g=-Math.min(n,i.length+n%2),c=Math.min(n,s.length+n%2);for(u=g;u<=c;u+=2){let b=0;const C=u===c?-1:h.get(u+1),S=u===g?-1:h.get(u-1)+1;b++;const D=Math.min(Math.max(C,S),s.length),I=D-u;if(b++,D>s.length||I>i.length)continue;const T=t(D,I);h.set(u,T);const N=D===C?m.get(u+1):m.get(u-1);if(m.set(u,T!==D?new L(N,D,I,T-D):N),h.get(u)===s.length&&h.get(u)-u===i.length)break e}}let d=m.get(u);const r=[];let l=s.length,o=i.length;for(;;){const g=d?d.x+d.length:0,c=d?d.y+d.length:0;if((g!==l||c!==o)&&r.push(new k.SequenceDiff(new f.OffsetRange(g,l),new f.OffsetRange(c,o))),!d)break;l=d.x,o=d.y,d=d.prev}return r.reverse(),new k.DiffAlgorithmResult(r,!1)}}e.MyersDiffAlgorithm=E;class L{constructor(v,_,a,s){this.prev=v,this.x=_,this.y=a,this.length=s}}class y{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(v){return v<0?(v=-v-1,this.negativeArr[v]):this.positiveArr[v]}set(v,_){if(v<0){if(v=-v-1,v>=this.negativeArr.length){const a=this.negativeArr;this.negativeArr=new Int32Array(a.length*2),this.negativeArr.set(a)}this.negativeArr[v]=_}else{if(v>=this.positiveArr.length){const a=this.positiveArr;this.positiveArr=new Int32Array(a.length*2),this.positiveArr.set(a)}this.positiveArr[v]=_}}}class p{constructor(){this.positiveArr=[],this.negativeArr=[]}get(v){return v<0?(v=-v-1,this.negativeArr[v]):this.positiveArr[v]}set(v,_){v<0?(v=-v-1,this.negativeArr[v]=_):this.positiveArr[v]=_}}}),define(ie[302],ne([1,0,13,64,161]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optimizeSequenceDiffs=L,e.removeShortMatches=v,e.extendDiffsToEntireWordIfAppropriate=_,e.removeVeryShortMatchingLinesBetweenDiffs=s,e.removeVeryShortMatchingTextBetweenLongDiffs=i;function L(t,n,h){let m=h;return m=y(t,n,m),m=y(t,n,m),m=p(t,n,m),m}function y(t,n,h){if(h.length===0)return h;const m=[];m.push(h[0]);for(let d=1;d<h.length;d++){const r=m[m.length-1];let l=h[d];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){const o=l.seq1Range.start-r.seq1Range.endExclusive;let g;for(g=1;g<=o&&!(t.getElement(l.seq1Range.start-g)!==t.getElement(l.seq1Range.endExclusive-g)||n.getElement(l.seq2Range.start-g)!==n.getElement(l.seq2Range.endExclusive-g));g++);if(g--,g===o){m[m.length-1]=new E.SequenceDiff(new k.OffsetRange(r.seq1Range.start,l.seq1Range.endExclusive-o),new k.OffsetRange(r.seq2Range.start,l.seq2Range.endExclusive-o));continue}l=l.delta(-g)}m.push(l)}const u=[];for(let d=0;d<m.length-1;d++){const r=m[d+1];let l=m[d];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){const o=r.seq1Range.start-l.seq1Range.endExclusive;let g;for(g=0;g<o&&!(!t.isStronglyEqual(l.seq1Range.start+g,l.seq1Range.endExclusive+g)||!n.isStronglyEqual(l.seq2Range.start+g,l.seq2Range.endExclusive+g));g++);if(g===o){m[d+1]=new E.SequenceDiff(new k.OffsetRange(l.seq1Range.start+o,r.seq1Range.endExclusive),new k.OffsetRange(l.seq2Range.start+o,r.seq2Range.endExclusive));continue}g>0&&(l=l.delta(g))}u.push(l)}return m.length>0&&u.push(m[m.length-1]),u}function p(t,n,h){if(!t.getBoundaryScore||!n.getBoundaryScore)return h;for(let m=0;m<h.length;m++){const u=m>0?h[m-1]:void 0,d=h[m],r=m+1<h.length?h[m+1]:void 0,l=new k.OffsetRange(u?u.seq1Range.endExclusive+1:0,r?r.seq1Range.start-1:t.length),o=new k.OffsetRange(u?u.seq2Range.endExclusive+1:0,r?r.seq2Range.start-1:n.length);d.seq1Range.isEmpty?h[m]=w(d,t,n,l,o):d.seq2Range.isEmpty&&(h[m]=w(d.swap(),n,t,o,l).swap())}return h}function w(t,n,h,m,u){let r=1;for(;t.seq1Range.start-r>=m.start&&t.seq2Range.start-r>=u.start&&h.isStronglyEqual(t.seq2Range.start-r,t.seq2Range.endExclusive-r)&&r<100;)r++;r--;let l=0;for(;t.seq1Range.start+l<m.endExclusive&&t.seq2Range.endExclusive+l<u.endExclusive&&h.isStronglyEqual(t.seq2Range.start+l,t.seq2Range.endExclusive+l)&&l<100;)l++;if(r===0&&l===0)return t;let o=0,g=-1;for(let c=-r;c<=l;c++){const b=t.seq2Range.start+c,C=t.seq2Range.endExclusive+c,S=t.seq1Range.start+c,D=n.getBoundaryScore(S)+h.getBoundaryScore(b)+h.getBoundaryScore(C);D>g&&(g=D,o=c)}return t.delta(o)}function v(t,n,h){const m=[];for(const u of h){const d=m[m.length-1];if(!d){m.push(u);continue}u.seq1Range.start-d.seq1Range.endExclusive<=2||u.seq2Range.start-d.seq2Range.endExclusive<=2?m[m.length-1]=new E.SequenceDiff(d.seq1Range.join(u.seq1Range),d.seq2Range.join(u.seq2Range)):m.push(u)}return m}function _(t,n,h){const m=E.SequenceDiff.invert(h,t.length),u=[];let d=new E.OffsetPair(0,0);function r(o,g){if(o.offset1<d.offset1||o.offset2<d.offset2)return;const c=t.findWordContaining(o.offset1),b=n.findWordContaining(o.offset2);if(!c||!b)return;let C=new E.SequenceDiff(c,b);const S=C.intersect(g);let D=S.seq1Range.length,I=S.seq2Range.length;for(;m.length>0;){const T=m[0];if(!(T.seq1Range.intersects(C.seq1Range)||T.seq2Range.intersects(C.seq2Range)))break;const A=t.findWordContaining(T.seq1Range.start),P=n.findWordContaining(T.seq2Range.start),M=new E.SequenceDiff(A,P),R=M.intersect(T);if(D+=R.seq1Range.length,I+=R.seq2Range.length,C=C.join(M),C.seq1Range.endExclusive>=T.seq1Range.endExclusive)m.shift();else break}D+I<(C.seq1Range.length+C.seq2Range.length)*2/3&&u.push(C),d=C.getEndExclusives()}for(;m.length>0;){const o=m.shift();o.seq1Range.isEmpty||(r(o.getStarts(),o),r(o.getEndExclusives().delta(-1),o))}return a(h,u)}function a(t,n){const h=[];for(;t.length>0||n.length>0;){const m=t[0],u=n[0];let d;m&&(!u||m.seq1Range.start<u.seq1Range.start)?d=t.shift():d=n.shift(),h.length>0&&h[h.length-1].seq1Range.endExclusive>=d.seq1Range.start?h[h.length-1]=h[h.length-1].join(d):h.push(d)}return h}function s(t,n,h){let m=h;if(m.length===0)return m;let u=0,d;do{d=!1;const r=[m[0]];for(let l=1;l<m.length;l++){let c=function(C,S){const D=new k.OffsetRange(g.seq1Range.endExclusive,o.seq1Range.start);return t.getText(D).replace(/\s/g,"").length<=4&&(C.seq1Range.length+C.seq2Range.length>5||S.seq1Range.length+S.seq2Range.length>5)};const o=m[l],g=r[r.length-1];c(g,o)?(d=!0,r[r.length-1]=r[r.length-1].join(o)):r.push(o)}m=r}while(u++<10&&d);return m}function i(t,n,h){let m=h;if(m.length===0)return m;let u=0,d;do{d=!1;const l=[m[0]];for(let o=1;o<m.length;o++){let b=function(S,D){const I=new k.OffsetRange(c.seq1Range.endExclusive,g.seq1Range.start);if(t.countLinesIn(I)>5||I.length>500)return!1;const N=t.getText(I).trim();if(N.length>20||N.split(/\r\n|\r|\n/).length>1)return!1;const A=t.countLinesIn(S.seq1Range),P=S.seq1Range.length,M=n.countLinesIn(S.seq2Range),R=S.seq2Range.length,F=t.countLinesIn(D.seq1Range),O=D.seq1Range.length,B=n.countLinesIn(D.seq2Range),H=D.seq2Range.length,V=2*40+50;function q(z){return Math.min(z,V)}return Math.pow(Math.pow(q(A*40+P),1.5)+Math.pow(q(M*40+R),1.5),1.5)+Math.pow(Math.pow(q(F*40+O),1.5)+Math.pow(q(B*40+H),1.5),1.5)>(V**1.5)**1.5*1.3};const g=m[o],c=l[l.length-1];b(c,g)?(d=!0,l[l.length-1]=l[l.length-1].join(g)):l.push(g)}m=l}while(u++<10&&d);const r=[];return(0,f.forEachWithNeighbors)(m,(l,o,g)=>{let c=o;function b(N){return N.length>0&&N.trim().length<=3&&o.seq1Range.length+o.seq2Range.length>100}const C=t.extendToFullLines(o.seq1Range),S=t.getText(new k.OffsetRange(C.start,o.seq1Range.start));b(S)&&(c=c.deltaStart(-S.length));const D=t.getText(new k.OffsetRange(o.seq1Range.endExclusive,C.endExclusive));b(D)&&(c=c.deltaEnd(D.length));const I=E.SequenceDiff.fromOffsetPairs(l?l.getEndExclusives():E.OffsetPair.zero,g?g.getStarts():E.OffsetPair.max),T=c.intersect(I);r.length>0&&T.getStarts().equals(r[r.length-1].getEndExclusives())?r[r.length-1]=r[r.length-1].join(T):r.push(T)}),r}}),define(ie[527],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=void 0;class f{constructor(L,y){this.trimmedHash=L,this.lines=y}getElement(L){return this.trimmedHash[L]}get length(){return this.trimmedHash.length}getBoundaryScore(L){const y=L===0?0:k(this.lines[L-1]),p=L===this.lines.length?0:k(this.lines[L]);return 1e3-(y+p)}getText(L){return this.lines.slice(L.start,L.endExclusive).join(`
`)}isStronglyEqual(L,y){return this.lines[L]===this.lines[y]}}e.LineSequence=f;function k(E){let L=0;for(;L<E.length&&(E.charCodeAt(L)===32||E.charCodeAt(L)===9);)L++;return L}}),define(ie[221],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeFragment=e.Array2D=void 0,e.isSpace=k;class f{constructor(y,p){this.width=y,this.height=p,this.array=[],this.array=new Array(y*p)}get(y,p){return this.array[y+p*this.width]}set(y,p,w){this.array[y+p*this.width]=w}}e.Array2D=f;function k(L){return L===32||L===9}class E{static getKey(y){let p=this.chrKeys.get(y);return p===void 0&&(p=this.chrKeys.size,this.chrKeys.set(y,p)),p}constructor(y,p,w){this.range=y,this.lines=p,this.source=w,this.histogram=[];let v=0;for(let _=y.startLineNumber-1;_<y.endLineNumberExclusive-1;_++){const a=p[_];for(let i=0;i<a.length;i++){v++;const t=a[i],n=E.getKey(t);this.histogram[n]=(this.histogram[n]||0)+1}v++;const s=E.getKey(`
`);this.histogram[s]=(this.histogram[s]||0)+1}this.totalCount=v}computeSimilarity(y){var p,w;let v=0;const _=Math.max(this.histogram.length,y.histogram.length);for(let a=0;a<_;a++)v+=Math.abs(((p=this.histogram[a])!==null&&p!==void 0?p:0)-((w=y.histogram[a])!==null&&w!==void 0?w:0));return 1-v/(this.totalCount+y.totalCount)}}e.LineRangeFragment=E,E.chrKeys=new Map}),define(ie[528],ne([1,0,64,161,221]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class L{compute(p,w,v=k.InfiniteTimeout.instance,_){if(p.length===0||w.length===0)return k.DiffAlgorithmResult.trivial(p,w);const a=new E.Array2D(p.length,w.length),s=new E.Array2D(p.length,w.length),i=new E.Array2D(p.length,w.length);for(let r=0;r<p.length;r++)for(let l=0;l<w.length;l++){if(!v.isValid())return k.DiffAlgorithmResult.trivialTimedOut(p,w);const o=r===0?0:a.get(r-1,l),g=l===0?0:a.get(r,l-1);let c;p.getElement(r)===w.getElement(l)?(r===0||l===0?c=0:c=a.get(r-1,l-1),r>0&&l>0&&s.get(r-1,l-1)===3&&(c+=i.get(r-1,l-1)),c+=_?_(r,l):1):c=-1;const b=Math.max(o,g,c);if(b===c){const C=r>0&&l>0?i.get(r-1,l-1):0;i.set(r,l,C+1),s.set(r,l,3)}else b===o?(i.set(r,l,0),s.set(r,l,1)):b===g&&(i.set(r,l,0),s.set(r,l,2));a.set(r,l,b)}const t=[];let n=p.length,h=w.length;function m(r,l){(r+1!==n||l+1!==h)&&t.push(new k.SequenceDiff(new f.OffsetRange(r+1,n),new f.OffsetRange(l+1,h))),n=r,h=l}let u=p.length-1,d=w.length-1;for(;u>=0&&d>=0;)s.get(u,d)===3?(m(u,d),u--,d--):s.get(u,d)===1?u--:d--;return m(-1,-1),t.reverse(),new k.DiffAlgorithmResult(t,!1)}}e.DynamicProgrammingDiffing=L}),define(ie[303],ne([1,0,66,64,9,5,221]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=void 0;class p{constructor(i,t,n){this.lines=i,this.considerWhitespaceChanges=n,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let h=!1;t.start>0&&t.endExclusive>=i.length&&(t=new k.OffsetRange(t.start-1,t.endExclusive),h=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let m=this.lineRange.start;m<this.lineRange.endExclusive;m++){let u=i[m],d=0;if(h)d=u.length,u="",h=!1;else if(!n){const r=u.trimStart();d=u.length-r.length,u=r.trimEnd()}this.additionalOffsetByLine.push(d);for(let r=0;r<u.length;r++)this.elements.push(u.charCodeAt(r));m<i.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[m-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new k.OffsetRange(0,this.length))}getText(i){return this.elements.slice(i.start,i.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(i){return this.elements[i]}get length(){return this.elements.length}getBoundaryScore(i){const t=a(i>0?this.elements[i-1]:-1),n=a(i<this.elements.length?this.elements[i]:-1);if(t===7&&n===8)return 0;if(t===8)return 150;let h=0;return t!==n&&(h+=10,t===0&&n===1&&(h+=1)),h+=_(t),h+=_(n),h}translateOffset(i){if(this.lineRange.isEmpty)return new E.Position(this.lineRange.start+1,1);const t=(0,f.findLastIdxMonotonous)(this.firstCharOffsetByLine,n=>n<=i);return new E.Position(this.lineRange.start+t+1,i-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(i){return L.Range.fromPositions(this.translateOffset(i.start),this.translateOffset(i.endExclusive))}findWordContaining(i){if(i<0||i>=this.elements.length||!w(this.elements[i]))return;let t=i;for(;t>0&&w(this.elements[t-1]);)t--;let n=i;for(;n<this.elements.length&&w(this.elements[n]);)n++;return new k.OffsetRange(t,n)}countLinesIn(i){return this.translateOffset(i.endExclusive).lineNumber-this.translateOffset(i.start).lineNumber}isStronglyEqual(i,t){return this.elements[i]===this.elements[t]}extendToFullLines(i){var t,n;const h=(t=(0,f.findLastMonotonous)(this.firstCharOffsetByLine,u=>u<=i.start))!==null&&t!==void 0?t:0,m=(n=(0,f.findFirstMonotonous)(this.firstCharOffsetByLine,u=>i.endExclusive<=u))!==null&&n!==void 0?n:this.elements.length;return new k.OffsetRange(h,m)}}e.LinesSliceCharSequence=p;function w(s){return s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57}const v={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function _(s){return v[s]}function a(s){return s===10?8:s===13?7:(0,y.isSpace)(s)?6:s>=97&&s<=122?0:s>=65&&s<=90?1:s>=48&&s<=57?2:s===-1?3:s===44||s===59?5:4}}),define(ie[222],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.LinesDiff=void 0;class f{constructor(L,y,p){this.changes=L,this.moves=y,this.hitTimeout=p}}e.LinesDiff=f;class k{constructor(L,y){this.lineRangeMapping=L,this.changes=y}}e.MovedText=k}),define(ie[100],ne([1,0,60]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMapping=e.DetailedLineRangeMapping=e.LineRangeMapping=void 0;class k{static inverse(p,w,v){const _=[];let a=1,s=1;for(const t of p){const n=new k(new f.LineRange(a,t.original.startLineNumber),new f.LineRange(s,t.modified.startLineNumber));n.modified.isEmpty||_.push(n),a=t.original.endLineNumberExclusive,s=t.modified.endLineNumberExclusive}const i=new k(new f.LineRange(a,w+1),new f.LineRange(s,v+1));return i.modified.isEmpty||_.push(i),_}static clip(p,w,v){const _=[];for(const a of p){const s=a.original.intersect(w),i=a.modified.intersect(v);s&&!s.isEmpty&&i&&!i.isEmpty&&_.push(new k(s,i))}return _}constructor(p,w){this.original=p,this.modified=w}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new k(this.modified,this.original)}join(p){return new k(this.original.join(p.original),this.modified.join(p.modified))}}e.LineRangeMapping=k;class E extends k{static fromRangeMappings(p){const w=f.LineRange.join(p.map(_=>f.LineRange.fromRangeInclusive(_.originalRange))),v=f.LineRange.join(p.map(_=>f.LineRange.fromRangeInclusive(_.modifiedRange)));return new E(w,v,p)}constructor(p,w,v){super(p,w),this.innerChanges=v}flip(){var p;return new E(this.modified,this.original,(p=this.innerChanges)===null||p===void 0?void 0:p.map(w=>w.flip()))}withInnerChangesFromLineRanges(){return new E(this.original,this.modified,[new L(this.original.toExclusiveRange(),this.modified.toExclusiveRange())])}}e.DetailedLineRangeMapping=E;class L{constructor(p,w){this.originalRange=p,this.modifiedRange=w}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new L(this.modifiedRange,this.originalRange)}}e.RangeMapping=L}),define(ie[529],ne([1,0,161,100,13,66,47,60,64,303,221,301]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMovedLines=s;function s(d,r,l,o,g,c){let{moves:b,excludedChanges:C}=t(d,r,l,c);if(!c.isValid())return[];const S=d.filter(I=>!C.has(I)),D=n(S,o,g,r,l,c);return(0,E.pushMany)(b,D),b=m(b),b=b.filter(I=>{const T=I.original.toOffsetRange().slice(r).map(A=>A.trim());return T.join(`
`).length>=15&&i(T,A=>A.length>=2)>=2}),b=u(d,b),b}function i(d,r){let l=0;for(const o of d)r(o)&&l++;return l}function t(d,r,l,o){const g=[],c=d.filter(S=>S.modified.isEmpty&&S.original.length>=3).map(S=>new _.LineRangeFragment(S.original,r,S)),b=new Set(d.filter(S=>S.original.isEmpty&&S.modified.length>=3).map(S=>new _.LineRangeFragment(S.modified,l,S))),C=new Set;for(const S of c){let D=-1,I;for(const T of b){const N=S.computeSimilarity(T);N>D&&(D=N,I=T)}if(D>.9&&I&&(b.delete(I),g.push(new k.LineRangeMapping(S.range,I.range)),C.add(S.source),C.add(I.source)),!o.isValid())return{moves:g,excludedChanges:C}}return{moves:g,excludedChanges:C}}function n(d,r,l,o,g,c){const b=[],C=new y.SetMap;for(const N of d)for(let A=N.original.startLineNumber;A<N.original.endLineNumberExclusive-2;A++){const P=`${r[A-1]}:${r[A+1-1]}:${r[A+2-1]}`;C.add(P,{range:new p.LineRange(A,A+3)})}const S=[];d.sort((0,E.compareBy)(N=>N.modified.startLineNumber,E.numberComparator));for(const N of d){let A=[];for(let P=N.modified.startLineNumber;P<N.modified.endLineNumberExclusive-2;P++){const M=`${l[P-1]}:${l[P+1-1]}:${l[P+2-1]}`,R=new p.LineRange(P,P+3),F=[];C.forEach(M,({range:O})=>{for(const H of A)if(H.originalLineRange.endLineNumberExclusive+1===O.endLineNumberExclusive&&H.modifiedLineRange.endLineNumberExclusive+1===R.endLineNumberExclusive){H.originalLineRange=new p.LineRange(H.originalLineRange.startLineNumber,O.endLineNumberExclusive),H.modifiedLineRange=new p.LineRange(H.modifiedLineRange.startLineNumber,R.endLineNumberExclusive),F.push(H);return}const B={modifiedLineRange:R,originalLineRange:O};S.push(B),F.push(B)}),A=F}if(!c.isValid())return[]}S.sort((0,E.reverseOrder)((0,E.compareBy)(N=>N.modifiedLineRange.length,E.numberComparator)));const D=new p.LineRangeSet,I=new p.LineRangeSet;for(const N of S){const A=N.modifiedLineRange.startLineNumber-N.originalLineRange.startLineNumber,P=D.subtractFrom(N.modifiedLineRange),M=I.subtractFrom(N.originalLineRange).getWithDelta(A),R=P.getIntersection(M);for(const F of R.ranges){if(F.length<3)continue;const O=F,B=F.delta(-A);b.push(new k.LineRangeMapping(B,O)),D.addRange(O),I.addRange(B)}}b.sort((0,E.compareBy)(N=>N.original.startLineNumber,E.numberComparator));const T=new L.MonotonousArray(d);for(let N=0;N<b.length;N++){const A=b[N],P=T.findLastMonotonous(q=>q.original.startLineNumber<=A.original.startLineNumber),M=(0,L.findLastMonotonous)(d,q=>q.modified.startLineNumber<=A.modified.startLineNumber),R=Math.max(A.original.startLineNumber-P.original.startLineNumber,A.modified.startLineNumber-M.modified.startLineNumber),F=T.findLastMonotonous(q=>q.original.startLineNumber<A.original.endLineNumberExclusive),O=(0,L.findLastMonotonous)(d,q=>q.modified.startLineNumber<A.modified.endLineNumberExclusive),B=Math.max(F.original.endLineNumberExclusive-A.original.endLineNumberExclusive,O.modified.endLineNumberExclusive-A.modified.endLineNumberExclusive);let H;for(H=0;H<R;H++){const q=A.original.startLineNumber-H-1,z=A.modified.startLineNumber-H-1;if(q>o.length||z>g.length||D.contains(z)||I.contains(q)||!h(o[q-1],g[z-1],c))break}H>0&&(I.addRange(new p.LineRange(A.original.startLineNumber-H,A.original.startLineNumber)),D.addRange(new p.LineRange(A.modified.startLineNumber-H,A.modified.startLineNumber)));let V;for(V=0;V<B;V++){const q=A.original.endLineNumberExclusive+V,z=A.modified.endLineNumberExclusive+V;if(q>o.length||z>g.length||D.contains(z)||I.contains(q)||!h(o[q-1],g[z-1],c))break}V>0&&(I.addRange(new p.LineRange(A.original.endLineNumberExclusive,A.original.endLineNumberExclusive+V)),D.addRange(new p.LineRange(A.modified.endLineNumberExclusive,A.modified.endLineNumberExclusive+V))),(H>0||V>0)&&(b[N]=new k.LineRangeMapping(new p.LineRange(A.original.startLineNumber-H,A.original.endLineNumberExclusive+V),new p.LineRange(A.modified.startLineNumber-H,A.modified.endLineNumberExclusive+V)))}return b}function h(d,r,l){if(d.trim()===r.trim())return!0;if(d.length>300&&r.length>300)return!1;const g=new a.MyersDiffAlgorithm().compute(new v.LinesSliceCharSequence([d],new w.OffsetRange(0,1),!1),new v.LinesSliceCharSequence([r],new w.OffsetRange(0,1),!1),l);let c=0;const b=f.SequenceDiff.invert(g.diffs,d.length);for(const I of b)I.seq1Range.forEach(T=>{(0,_.isSpace)(d.charCodeAt(T))||c++});function C(I){let T=0;for(let N=0;N<d.length;N++)(0,_.isSpace)(I.charCodeAt(N))||T++;return T}const S=C(d.length>r.length?d:r);return c/S>.6&&S>10}function m(d){if(d.length===0)return d;d.sort((0,E.compareBy)(l=>l.original.startLineNumber,E.numberComparator));const r=[d[0]];for(let l=1;l<d.length;l++){const o=r[r.length-1],g=d[l],c=g.original.startLineNumber-o.original.endLineNumberExclusive,b=g.modified.startLineNumber-o.modified.endLineNumberExclusive;if(c>=0&&b>=0&&c+b<=2){r[r.length-1]=o.join(g);continue}r.push(g)}return r}function u(d,r){const l=new L.MonotonousArray(d);return r=r.filter(o=>{const g=l.findLastMonotonous(C=>C.original.startLineNumber<o.original.endLineNumberExclusive)||new k.LineRangeMapping(new p.LineRange(1,1),new p.LineRange(1,1)),c=(0,L.findLastMonotonous)(d,C=>C.modified.startLineNumber<o.modified.endLineNumberExclusive);return g!==c}),r}}),define(ie[304],ne([1,0,13,87,60,64,5,161,528,301,529,302,527,303,222,100]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLinesDiffComputer=void 0,e.lineRangeMappingFromRangeMappings=m,e.getLineRangeMapping=u;class h{constructor(){this.dynamicProgrammingDiffing=new w.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new v.MyersDiffAlgorithm}computeDiff(r,l,o){if(r.length<=1&&(0,f.equals)(r,l,(V,q)=>V===q))return new t.LinesDiff([],[],!1);if(r.length===1&&r[0].length===0||l.length===1&&l[0].length===0)return new t.LinesDiff([new n.DetailedLineRangeMapping(new E.LineRange(1,r.length+1),new E.LineRange(1,l.length+1),[new n.RangeMapping(new y.Range(1,1,r.length,r[0].length+1),new y.Range(1,1,l.length,l[0].length+1))])],[],!1);const g=o.maxComputationTimeMs===0?p.InfiniteTimeout.instance:new p.DateTimeout(o.maxComputationTimeMs),c=!o.ignoreTrimWhitespace,b=new Map;function C(V){let q=b.get(V);return q===void 0&&(q=b.size,b.set(V,q)),q}const S=r.map(V=>C(V.trim())),D=l.map(V=>C(V.trim())),I=new s.LineSequence(S,r),T=new s.LineSequence(D,l),N=I.length+T.length<1700?this.dynamicProgrammingDiffing.compute(I,T,g,(V,q)=>r[V]===l[q]?l[q].length===0?.1:1+Math.log(1+l[q].length):.99):this.myersDiffingAlgorithm.compute(I,T);let A=N.diffs,P=N.hitTimeout;A=(0,a.optimizeSequenceDiffs)(I,T,A),A=(0,a.removeVeryShortMatchingLinesBetweenDiffs)(I,T,A);const M=[],R=V=>{if(c)for(let q=0;q<V;q++){const z=F+q,U=O+q;if(r[z]!==l[U]){const Z=this.refineDiff(r,l,new p.SequenceDiff(new L.OffsetRange(z,z+1),new L.OffsetRange(U,U+1)),g,c);for(const re of Z.mappings)M.push(re);Z.hitTimeout&&(P=!0)}}};let F=0,O=0;for(const V of A){(0,k.assertFn)(()=>V.seq1Range.start-F===V.seq2Range.start-O);const q=V.seq1Range.start-F;R(q),F=V.seq1Range.endExclusive,O=V.seq2Range.endExclusive;const z=this.refineDiff(r,l,V,g,c);z.hitTimeout&&(P=!0);for(const U of z.mappings)M.push(U)}R(r.length-F);const B=m(M,r,l);let H=[];return o.computeMoves&&(H=this.computeMoves(B,r,l,S,D,g,c)),(0,k.assertFn)(()=>{function V(z,U){if(z.lineNumber<1||z.lineNumber>U.length)return!1;const Z=U[z.lineNumber-1];return!(z.column<1||z.column>Z.length+1)}function q(z,U){return!(z.startLineNumber<1||z.startLineNumber>U.length+1||z.endLineNumberExclusive<1||z.endLineNumberExclusive>U.length+1)}for(const z of B){if(!z.innerChanges)return!1;for(const U of z.innerChanges)if(!(V(U.modifiedRange.getStartPosition(),l)&&V(U.modifiedRange.getEndPosition(),l)&&V(U.originalRange.getStartPosition(),r)&&V(U.originalRange.getEndPosition(),r)))return!1;if(!q(z.modified,l)||!q(z.original,r))return!1}return!0}),new t.LinesDiff(B,H,P)}computeMoves(r,l,o,g,c,b,C){return(0,_.computeMovedLines)(r,l,o,g,c,b).map(I=>{const T=this.refineDiff(l,o,new p.SequenceDiff(I.original.toOffsetRange(),I.modified.toOffsetRange()),b,C),N=m(T.mappings,l,o,!0);return new t.MovedText(I,N)})}refineDiff(r,l,o,g,c){const b=new i.LinesSliceCharSequence(r,o.seq1Range,c),C=new i.LinesSliceCharSequence(l,o.seq2Range,c),S=b.length+C.length<500?this.dynamicProgrammingDiffing.compute(b,C,g):this.myersDiffingAlgorithm.compute(b,C,g);let D=S.diffs;return D=(0,a.optimizeSequenceDiffs)(b,C,D),D=(0,a.extendDiffsToEntireWordIfAppropriate)(b,C,D),D=(0,a.removeShortMatches)(b,C,D),D=(0,a.removeVeryShortMatchingTextBetweenLongDiffs)(b,C,D),{mappings:D.map(T=>new n.RangeMapping(b.translateRange(T.seq1Range),C.translateRange(T.seq2Range))),hitTimeout:S.hitTimeout}}}e.DefaultLinesDiffComputer=h;function m(d,r,l,o=!1){const g=[];for(const c of(0,f.groupAdjacentBy)(d.map(b=>u(b,r,l)),(b,C)=>b.original.overlapOrTouch(C.original)||b.modified.overlapOrTouch(C.modified))){const b=c[0],C=c[c.length-1];g.push(new n.DetailedLineRangeMapping(b.original.join(C.original),b.modified.join(C.modified),c.map(S=>S.innerChanges[0])))}return(0,k.assertFn)(()=>!o&&g.length>0&&(g[0].modified.startLineNumber!==g[0].original.startLineNumber||l.length-g[g.length-1].modified.endLineNumberExclusive!==r.length-g[g.length-1].original.endLineNumberExclusive)?!1:(0,k.checkAdjacentItems)(g,(c,b)=>b.original.startLineNumber-c.original.endLineNumberExclusive===b.modified.startLineNumber-c.modified.endLineNumberExclusive&&c.original.endLineNumberExclusive<b.original.startLineNumber&&c.modified.endLineNumberExclusive<b.modified.startLineNumber)),g}function u(d,r,l){let o=0,g=0;d.modifiedRange.endColumn===1&&d.originalRange.endColumn===1&&d.originalRange.startLineNumber+o<=d.originalRange.endLineNumber&&d.modifiedRange.startLineNumber+o<=d.modifiedRange.endLineNumber&&(g=-1),d.modifiedRange.startColumn-1>=l[d.modifiedRange.startLineNumber-1].length&&d.originalRange.startColumn-1>=r[d.originalRange.startLineNumber-1].length&&d.originalRange.startLineNumber<=d.originalRange.endLineNumber+g&&d.modifiedRange.startLineNumber<=d.modifiedRange.endLineNumber+g&&(o=1);const c=new E.LineRange(d.originalRange.startLineNumber+o,d.originalRange.endLineNumber+1+g),b=new E.LineRange(d.modifiedRange.startLineNumber+o,d.modifiedRange.endLineNumber+1+g);return new n.DetailedLineRangeMapping(c,b,[d])}}),define(ie[530],ne([1,0,182,222,100,11,5,87,60]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const v=3;class _{computeDiff(o,g,c){var b;const S=new m(o,g,{maxComputationTime:c.maxComputationTimeMs,shouldIgnoreTrimWhitespace:c.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),D=[];let I=null;for(const T of S.changes){let N;T.originalEndLineNumber===0?N=new w.LineRange(T.originalStartLineNumber+1,T.originalStartLineNumber+1):N=new w.LineRange(T.originalStartLineNumber,T.originalEndLineNumber+1);let A;T.modifiedEndLineNumber===0?A=new w.LineRange(T.modifiedStartLineNumber+1,T.modifiedStartLineNumber+1):A=new w.LineRange(T.modifiedStartLineNumber,T.modifiedEndLineNumber+1);let P=new E.DetailedLineRangeMapping(N,A,(b=T.charChanges)===null||b===void 0?void 0:b.map(M=>new E.RangeMapping(new y.Range(M.originalStartLineNumber,M.originalStartColumn,M.originalEndLineNumber,M.originalEndColumn),new y.Range(M.modifiedStartLineNumber,M.modifiedStartColumn,M.modifiedEndLineNumber,M.modifiedEndColumn))));I&&(I.modified.endLineNumberExclusive===P.modified.startLineNumber||I.original.endLineNumberExclusive===P.original.startLineNumber)&&(P=new E.DetailedLineRangeMapping(I.original.join(P.original),I.modified.join(P.modified),I.innerChanges&&P.innerChanges?I.innerChanges.concat(P.innerChanges):void 0),D.pop()),D.push(P),I=P}return(0,p.assertFn)(()=>(0,p.checkAdjacentItems)(D,(T,N)=>N.original.startLineNumber-T.original.endLineNumberExclusive===N.modified.startLineNumber-T.modified.endLineNumberExclusive&&T.original.endLineNumberExclusive<N.original.startLineNumber&&T.modified.endLineNumberExclusive<N.modified.startLineNumber)),new k.LinesDiff(D,[],S.quitEarly)}}e.LegacyLinesDiffComputer=_;function a(l,o,g,c){return new f.LcsDiff(l,o,g).ComputeDiff(c)}class s{constructor(o){const g=[],c=[];for(let b=0,C=o.length;b<C;b++)g[b]=u(o[b],1),c[b]=d(o[b],1);this.lines=o,this._startColumns=g,this._endColumns=c}getElements(){const o=[];for(let g=0,c=this.lines.length;g<c;g++)o[g]=this.lines[g].substring(this._startColumns[g]-1,this._endColumns[g]-1);return o}getStrictElement(o){return this.lines[o]}getStartLineNumber(o){return o+1}getEndLineNumber(o){return o+1}createCharSequence(o,g,c){const b=[],C=[],S=[];let D=0;for(let I=g;I<=c;I++){const T=this.lines[I],N=o?this._startColumns[I]:1,A=o?this._endColumns[I]:T.length+1;for(let P=N;P<A;P++)b[D]=T.charCodeAt(P-1),C[D]=I+1,S[D]=P,D++;!o&&I<c&&(b[D]=10,C[D]=I+1,S[D]=T.length+1,D++)}return new i(b,C,S)}}class i{constructor(o,g,c){this._charCodes=o,this._lineNumbers=g,this._columns=c}toString(){return"["+this._charCodes.map((o,g)=>(o===10?"\\n":String.fromCharCode(o))+`-(${this._lineNumbers[g]},${this._columns[g]})`).join(", ")+"]"}_assertIndex(o,g){if(o<0||o>=g.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(o){return o>0&&o===this._lineNumbers.length?this.getEndLineNumber(o-1):(this._assertIndex(o,this._lineNumbers),this._lineNumbers[o])}getEndLineNumber(o){return o===-1?this.getStartLineNumber(o+1):(this._assertIndex(o,this._lineNumbers),this._charCodes[o]===10?this._lineNumbers[o]+1:this._lineNumbers[o])}getStartColumn(o){return o>0&&o===this._columns.length?this.getEndColumn(o-1):(this._assertIndex(o,this._columns),this._columns[o])}getEndColumn(o){return o===-1?this.getStartColumn(o+1):(this._assertIndex(o,this._columns),this._charCodes[o]===10?1:this._columns[o]+1)}}class t{constructor(o,g,c,b,C,S,D,I){this.originalStartLineNumber=o,this.originalStartColumn=g,this.originalEndLineNumber=c,this.originalEndColumn=b,this.modifiedStartLineNumber=C,this.modifiedStartColumn=S,this.modifiedEndLineNumber=D,this.modifiedEndColumn=I}static createFromDiffChange(o,g,c){const b=g.getStartLineNumber(o.originalStart),C=g.getStartColumn(o.originalStart),S=g.getEndLineNumber(o.originalStart+o.originalLength-1),D=g.getEndColumn(o.originalStart+o.originalLength-1),I=c.getStartLineNumber(o.modifiedStart),T=c.getStartColumn(o.modifiedStart),N=c.getEndLineNumber(o.modifiedStart+o.modifiedLength-1),A=c.getEndColumn(o.modifiedStart+o.modifiedLength-1);return new t(b,C,S,D,I,T,N,A)}}function n(l){if(l.length<=1)return l;const o=[l[0]];let g=o[0];for(let c=1,b=l.length;c<b;c++){const C=l[c],S=C.originalStart-(g.originalStart+g.originalLength),D=C.modifiedStart-(g.modifiedStart+g.modifiedLength);Math.min(S,D)<v?(g.originalLength=C.originalStart+C.originalLength-g.originalStart,g.modifiedLength=C.modifiedStart+C.modifiedLength-g.modifiedStart):(o.push(C),g=C)}return o}class h{constructor(o,g,c,b,C){this.originalStartLineNumber=o,this.originalEndLineNumber=g,this.modifiedStartLineNumber=c,this.modifiedEndLineNumber=b,this.charChanges=C}static createFromDiffResult(o,g,c,b,C,S,D){let I,T,N,A,P;if(g.originalLength===0?(I=c.getStartLineNumber(g.originalStart)-1,T=0):(I=c.getStartLineNumber(g.originalStart),T=c.getEndLineNumber(g.originalStart+g.originalLength-1)),g.modifiedLength===0?(N=b.getStartLineNumber(g.modifiedStart)-1,A=0):(N=b.getStartLineNumber(g.modifiedStart),A=b.getEndLineNumber(g.modifiedStart+g.modifiedLength-1)),S&&g.originalLength>0&&g.originalLength<20&&g.modifiedLength>0&&g.modifiedLength<20&&C()){const M=c.createCharSequence(o,g.originalStart,g.originalStart+g.originalLength-1),R=b.createCharSequence(o,g.modifiedStart,g.modifiedStart+g.modifiedLength-1);if(M.getElements().length>0&&R.getElements().length>0){let F=a(M,R,C,!0).changes;D&&(F=n(F)),P=[];for(let O=0,B=F.length;O<B;O++)P.push(t.createFromDiffChange(F[O],M,R))}}return new h(I,T,N,A,P)}}class m{constructor(o,g,c){this.shouldComputeCharChanges=c.shouldComputeCharChanges,this.shouldPostProcessCharChanges=c.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=c.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=c.shouldMakePrettyDiff,this.originalLines=o,this.modifiedLines=g,this.original=new s(o),this.modified=new s(g),this.continueLineDiff=r(c.maxComputationTime),this.continueCharDiff=r(c.maxComputationTime===0?0:Math.min(c.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const o=a(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),g=o.changes,c=o.quitEarly;if(this.shouldIgnoreTrimWhitespace){const D=[];for(let I=0,T=g.length;I<T;I++)D.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g[I],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:c,changes:D}}const b=[];let C=0,S=0;for(let D=-1,I=g.length;D<I;D++){const T=D+1<I?g[D+1]:null,N=T?T.originalStart:this.originalLines.length,A=T?T.modifiedStart:this.modifiedLines.length;for(;C<N&&S<A;){const P=this.originalLines[C],M=this.modifiedLines[S];if(P!==M){{let R=u(P,1),F=u(M,1);for(;R>1&&F>1;){const O=P.charCodeAt(R-2),B=M.charCodeAt(F-2);if(O!==B)break;R--,F--}(R>1||F>1)&&this._pushTrimWhitespaceCharChange(b,C+1,1,R,S+1,1,F)}{let R=d(P,1),F=d(M,1);const O=P.length+1,B=M.length+1;for(;R<O&&F<B;){const H=P.charCodeAt(R-1),V=P.charCodeAt(F-1);if(H!==V)break;R++,F++}(R<O||F<B)&&this._pushTrimWhitespaceCharChange(b,C+1,R,O,S+1,F,B)}}C++,S++}T&&(b.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,T,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),C+=T.originalLength,S+=T.modifiedLength)}return{quitEarly:c,changes:b}}_pushTrimWhitespaceCharChange(o,g,c,b,C,S,D){if(this._mergeTrimWhitespaceCharChange(o,g,c,b,C,S,D))return;let I;this.shouldComputeCharChanges&&(I=[new t(g,c,g,b,C,S,C,D)]),o.push(new h(g,g,C,C,I))}_mergeTrimWhitespaceCharChange(o,g,c,b,C,S,D){const I=o.length;if(I===0)return!1;const T=o[I-1];return T.originalEndLineNumber===0||T.modifiedEndLineNumber===0?!1:T.originalEndLineNumber===g&&T.modifiedEndLineNumber===C?(this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(g,c,g,b,C,S,C,D)),!0):T.originalEndLineNumber+1===g&&T.modifiedEndLineNumber+1===C?(T.originalEndLineNumber=g,T.modifiedEndLineNumber=C,this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(g,c,g,b,C,S,C,D)),!0):!1}}e.DiffComputer=m;function u(l,o){const g=L.firstNonWhitespaceIndex(l);return g===-1?o:g+1}function d(l,o){const g=L.lastNonWhitespaceIndex(l);return g===-1?o:g+2}function r(l){if(l===0)return()=>!0;const o=Date.now();return()=>Date.now()-o<l}}),define(ie[531],ne([1,0,530,304]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new f.LegacyLinesDiffComputer,getDefault:()=>new k.DefaultLinesDiffComputer}}),define(ie[305],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class f{constructor(E,L,y,p,w,v,_){this.id=E,this.label=L,this.alias=y,this.metadata=p,this._precondition=w,this._run=v,this._contextKeyService=_}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(E){return this.isSupported()?this._run(E):Promise.resolve(void 0)}}e.InternalEditorAction=f}),define(ie[189],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ie[162],ne([1,0,189]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCodeEditor=k,e.isDiffEditor=E,e.isCompositeEditor=L,e.getCodeEditor=y;function k(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===f.EditorType.ICodeEditor:!1}function E(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===f.EditorType.IDiffEditor:!1}function L(p){return!!p&&typeof p=="object"&&typeof p.onDidChangeActiveEditor=="function"}function y(p){return k(p)?p:E(p)?p.getModifiedEditor():L(p)&&k(p.activeCodeEditor)?p.activeCodeEditor:null}}),define(ie[141],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerEditorFeature=k,e.getEditorFeatures=E;const f=[];function k(L){f.push(L)}function E(){return f.slice(0)}}),define(ie[532],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class f{get type(){return this._theme.type}get value(){return this._theme}constructor(E){this._theme=E}update(E){this._theme=E}getColor(E){return this._theme.getColor(E)}}e.EditorTheme=f}),define(ie[142],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class f{static getLanguageId(E){return(E&255)>>>0}static getTokenType(E){return(E&768)>>>8}static containsBalancedBrackets(E){return(E&1024)!==0}static getFontStyle(E){return(E&30720)>>>11}static getForeground(E){return(E&16744448)>>>15}static getBackground(E){return(E&4278190080)>>>24}static getClassNameFromMetadata(E){let y="mtk"+this.getForeground(E);const p=this.getFontStyle(E);return p&1&&(y+=" mtki"),p&2&&(y+=" mtkb"),p&4&&(y+=" mtku"),p&8&&(y+=" mtks"),y}static getInlineStyleFromMetadata(E,L){const y=this.getForeground(E),p=this.getFontStyle(E);let w=`color: ${L[y]};`;p&1&&(w+="font-style: italic;"),p&2&&(w+="font-weight: bold;");let v="";return p&4&&(v+=" underline"),p&8&&(v+=" line-through"),v&&(w+=`text-decoration:${v};`),w}static getPresentationFromMetadata(E){const L=this.getForeground(E),y=this.getFontStyle(E);return{foreground:L,italic:!!(y&1),bold:!!(y&2),underline:!!(y&4),strikethrough:!!(y&8)}}}e.TokenMetadata=f}),define(ie[533],ne([1,0,34]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=a;function k(s){const i=[];for(const t of s){const n=Number(t);(n||n===0&&t.replace(/\s/g,"")!=="")&&i.push(n)}return i}function E(s,i,t,n){return{red:s/255,blue:t/255,green:i/255,alpha:n}}function L(s,i){const t=i.index,n=i[0].length;if(!t)return;const h=s.positionAt(t);return{startLineNumber:h.lineNumber,startColumn:h.column,endLineNumber:h.lineNumber,endColumn:h.column+n}}function y(s,i){if(!s)return;const t=f.Color.Format.CSS.parseHex(i);if(t)return{range:s,color:E(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function p(s,i,t){if(!s||i.length!==1)return;const h=i[0].values(),m=k(h);return{range:s,color:E(m[0],m[1],m[2],t?m[3]:1)}}function w(s,i,t){if(!s||i.length!==1)return;const h=i[0].values(),m=k(h),u=new f.Color(new f.HSLA(m[0],m[1]/100,m[2]/100,t?m[3]:1));return{range:s,color:E(u.rgba.r,u.rgba.g,u.rgba.b,u.rgba.a)}}function v(s,i){return typeof s=="string"?[...s.matchAll(i)]:s.findMatches(i)}function _(s){const i=[],n=v(s,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(n.length>0)for(const h of n){const m=h.filter(l=>l!==void 0),u=m[1],d=m[2];if(!d)continue;let r;if(u==="rgb"){const l=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;r=p(L(s,h),v(d,l),!1)}else if(u==="rgba"){const l=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;r=p(L(s,h),v(d,l),!0)}else if(u==="hsl"){const l=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;r=w(L(s,h),v(d,l),!1)}else if(u==="hsla"){const l=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;r=w(L(s,h),v(d,l),!0)}else u==="#"&&(r=y(L(s,h),u+d));r&&i.push(r)}return i}function a(s){return!s||typeof s.getValue!="function"||typeof s.positionAt!="function"?[]:_(s)}}),define(ie[124],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var f;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(f||(e.IndentAction=f={}));class k{constructor(p){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=p.open,this.close=p.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(p.notIn))for(let w=0,v=p.notIn.length;w<v;w++)switch(p.notIn[w]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(p){switch(p){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(p,w){if(p.getTokenCount()===0)return!0;const v=p.findTokenIndexAtOffset(w-2),_=p.getStandardTokenType(v);return this.isOK(_)}_findNeutralCharacterInRange(p,w){for(let v=p;v<=w;v++){const _=String.fromCharCode(v);if(!this.open.includes(_)&&!this.close.includes(_))return _}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class E{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const w of p)L(this.autoClosingPairsOpenByStart,w.open.charAt(0),w),L(this.autoClosingPairsOpenByEnd,w.open.charAt(w.open.length-1),w),L(this.autoClosingPairsCloseByStart,w.close.charAt(0),w),L(this.autoClosingPairsCloseByEnd,w.close.charAt(w.close.length-1),w),w.close.length===1&&w.open.length===1&&L(this.autoClosingPairsCloseSingleChar,w.close,w)}}e.AutoClosingPairs=E;function L(y,p,w){y.has(p)?y.get(p).push(w):y.set(p,[w])}}),define(ie[534],ne([1,0,138]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkComputer=e.StateMachine=void 0,e.computeLinks=_;class k{constructor(s,i,t){const n=new Uint8Array(s*i);for(let h=0,m=s*i;h<m;h++)n[h]=t;this._data=n,this.rows=s,this.cols=i}get(s,i){return this._data[s*this.cols+i]}set(s,i,t){this._data[s*this.cols+i]=t}}class E{constructor(s){let i=0,t=0;for(let h=0,m=s.length;h<m;h++){const[u,d,r]=s[h];d>i&&(i=d),u>t&&(t=u),r>t&&(t=r)}i++,t++;const n=new k(t,i,0);for(let h=0,m=s.length;h<m;h++){const[u,d,r]=s[h];n.set(u,d,r)}this._states=n,this._maxCharCode=i}nextState(s,i){return i<0||i>=this._maxCharCode?0:this._states.get(s,i)}}e.StateMachine=E;let L=null;function y(){return L===null&&(L=new E([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),L}let p=null;function w(){if(p===null){p=new f.CharacterClassifier(0);const a=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<a.length;i++)p.set(a.charCodeAt(i),1);const s=".,;:";for(let i=0;i<s.length;i++)p.set(s.charCodeAt(i),2)}return p}class v{static _createLink(s,i,t,n,h){let m=h-1;do{const u=i.charCodeAt(m);if(s.get(u)!==2)break;m--}while(m>n);if(n>0){const u=i.charCodeAt(n-1),d=i.charCodeAt(m);(u===40&&d===41||u===91&&d===93||u===123&&d===125)&&m--}return{range:{startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:m+2},url:i.substring(n,m+1)}}static computeLinks(s,i=y()){const t=w(),n=[];for(let h=1,m=s.getLineCount();h<=m;h++){const u=s.getLineContent(h),d=u.length;let r=0,l=0,o=0,g=1,c=!1,b=!1,C=!1,S=!1;for(;r<d;){let D=!1;const I=u.charCodeAt(r);if(g===13){let T;switch(I){case 40:c=!0,T=0;break;case 41:T=c?0:1;break;case 91:C=!0,b=!0,T=0;break;case 93:C=!1,T=b?0:1;break;case 123:S=!0,T=0;break;case 125:T=S?0:1;break;case 39:case 34:case 96:o===I?T=1:o===39||o===34||o===96?T=0:T=1;break;case 42:T=o===42?1:0;break;case 124:T=o===124?1:0;break;case 32:T=C?0:1;break;default:T=t.get(I)}T===1&&(n.push(v._createLink(t,u,h,l,r)),D=!0)}else if(g===12){let T;I===91?(b=!0,T=0):T=t.get(I),T===1?D=!0:g=13}else g=i.nextState(g,I),g===0&&(D=!0);D&&(g=1,c=!1,b=!1,S=!1,l=r+1,o=I),r++}g===13&&n.push(v._createLink(t,u,h,l,d))}return n}}e.LinkComputer=v;function _(a){return!a||typeof a.getLineCount!="function"||typeof a.getLineContent!="function"?[]:v.computeLinks(a)}}),define(ie[143],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedLineTokens=void 0,e.createScopedLineTokens=f,e.ignoreBracketsInToken=E;function f(L,y){const p=L.getCount(),w=L.findTokenIndexAtOffset(y),v=L.getLanguageId(w);let _=w;for(;_+1<p&&L.getLanguageId(_+1)===v;)_++;let a=w;for(;a>0&&L.getLanguageId(a-1)===v;)a--;return new k(L,v,a,_+1,L.getStartOffset(a),L.getEndOffset(_))}class k{constructor(y,p,w,v,_,a){this._scopedLineTokensBrand=void 0,this._actual=y,this.languageId=p,this._firstTokenIndex=w,this._lastTokenIndex=v,this.firstCharOffset=_,this._lastCharOffset=a}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(y){return this._actual.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}}e.ScopedLineTokens=k;function E(L){return(L&3)!==0}}),define(ie[77],ne([1,0,9,5,24,143,90,220]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0,e.isQuote=m;const w=()=>!0,v=()=>!1,_=u=>u===" "||u==="	";class a{static shouldRecreate(d){return d.hasChanged(145)||d.hasChanged(131)||d.hasChanged(37)||d.hasChanged(77)||d.hasChanged(79)||d.hasChanged(80)||d.hasChanged(6)||d.hasChanged(7)||d.hasChanged(11)||d.hasChanged(9)||d.hasChanged(10)||d.hasChanged(14)||d.hasChanged(128)||d.hasChanged(50)||d.hasChanged(91)||d.hasChanged(130)}constructor(d,r,l,o){var g;this.languageConfigurationService=o,this._cursorMoveConfigurationBrand=void 0,this._languageId=d;const c=l.options,b=c.get(145),C=c.get(50);this.readOnly=c.get(91),this.tabSize=r.tabSize,this.indentSize=r.indentSize,this.insertSpaces=r.insertSpaces,this.stickyTabStops=c.get(116),this.lineHeight=C.lineHeight,this.typicalHalfwidthCharacterWidth=C.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(b.height/this.lineHeight)-2),this.useTabStops=c.get(128),this.wordSeparators=c.get(131),this.emptySelectionClipboard=c.get(37),this.copyWithSyntaxHighlighting=c.get(25),this.multiCursorMergeOverlapping=c.get(77),this.multiCursorPaste=c.get(79),this.multiCursorLimit=c.get(80),this.autoClosingBrackets=c.get(6),this.autoClosingComments=c.get(7),this.autoClosingQuotes=c.get(11),this.autoClosingDelete=c.get(9),this.autoClosingOvertype=c.get(10),this.autoSurround=c.get(14),this.autoIndent=c.get(12),this.wordSegmenterLocales=c.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(d,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(d,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(d,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(d).getAutoClosingPairs();const S=this.languageConfigurationService.getLanguageConfiguration(d).getSurroundingPairs();if(S)for(const I of S)this.surroundingPairs[I.open]=I.close;const D=this.languageConfigurationService.getLanguageConfiguration(d).comments;this.blockCommentStartToken=(g=D?.blockCommentStartToken)!==null&&g!==void 0?g:null}get electricChars(){var d;if(!this._electricChars){this._electricChars={};const r=(d=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||d===void 0?void 0:d.getElectricCharacters();if(r)for(const l of r)this._electricChars[l]=!0}return this._electricChars}onElectricCharacter(d,r,l){const o=(0,L.createScopedLineTokens)(r,l-1),g=this.languageConfigurationService.getLanguageConfiguration(o.languageId).electricCharacter;return g?g.onElectricCharacter(d,o,l-o.firstCharOffset):null}normalizeIndentation(d){return(0,p.normalizeIndentation)(d,this.indentSize,this.insertSpaces)}_getShouldAutoClose(d,r,l){switch(r){case"beforeWhitespace":return _;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(d,l);case"always":return w;case"never":return v}}_getLanguageDefinedShouldAutoClose(d,r){const l=this.languageConfigurationService.getLanguageConfiguration(d).getAutoCloseBeforeSet(r);return o=>l.indexOf(o)!==-1}visibleColumnFromColumn(d,r){return y.CursorColumns.visibleColumnFromColumn(d.getLineContent(r.lineNumber),r.column,this.tabSize)}columnFromVisibleColumn(d,r,l){const o=y.CursorColumns.columnFromVisibleColumn(d.getLineContent(r),l,this.tabSize),g=d.getLineMinColumn(r);if(o<g)return g;const c=d.getLineMaxColumn(r);return o>c?c:o}}e.CursorConfiguration=a;class s{static fromModelState(d){return new i(d)}static fromViewState(d){return new t(d)}static fromModelSelection(d){const r=E.Selection.liftSelection(d),l=new n(k.Range.fromPositions(r.getSelectionStart()),0,0,r.getPosition(),0);return s.fromModelState(l)}static fromModelSelections(d){const r=[];for(let l=0,o=d.length;l<o;l++)r[l]=this.fromModelSelection(d[l]);return r}constructor(d,r){this._cursorStateBrand=void 0,this.modelState=d,this.viewState=r}equals(d){return this.viewState.equals(d.viewState)&&this.modelState.equals(d.modelState)}}e.CursorState=s;class i{constructor(d){this.modelState=d,this.viewState=null}}e.PartialModelCursorState=i;class t{constructor(d){this.modelState=null,this.viewState=d}}e.PartialViewCursorState=t;class n{constructor(d,r,l,o,g){this.selectionStart=d,this.selectionStartKind=r,this.selectionStartLeftoverVisibleColumns=l,this.position=o,this.leftoverVisibleColumns=g,this._singleCursorStateBrand=void 0,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(d){return this.selectionStartLeftoverVisibleColumns===d.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===d.leftoverVisibleColumns&&this.selectionStartKind===d.selectionStartKind&&this.position.equals(d.position)&&this.selectionStart.equalsRange(d.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(d,r,l,o){return d?new n(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new f.Position(r,l),o):new n(new k.Range(r,l,r,l),0,o,new f.Position(r,l),o)}static _computeSelection(d,r){return d.isEmpty()||!r.isBeforeOrEqual(d.getStartPosition())?E.Selection.fromPositions(d.getStartPosition(),r):E.Selection.fromPositions(d.getEndPosition(),r)}}e.SingleCursorState=n;class h{constructor(d,r,l){this._editOperationResultBrand=void 0,this.type=d,this.commands=r,this.shouldPushStackElementBefore=l.shouldPushStackElementBefore,this.shouldPushStackElementAfter=l.shouldPushStackElementAfter}}e.EditOperationResult=h;function m(u){return u==="'"||u==='"'||u==="`"}}),define(ie[535],ne([1,0,77,9,5]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class L{static columnSelect(p,w,v,_,a,s){const i=Math.abs(a-v)+1,t=v>a,n=_>s,h=_<s,m=[];for(let u=0;u<i;u++){const d=v+(t?-u:u),r=p.columnFromVisibleColumn(w,d,_),l=p.columnFromVisibleColumn(w,d,s),o=p.visibleColumnFromColumn(w,new k.Position(d,r)),g=p.visibleColumnFromColumn(w,new k.Position(d,l));h&&(o>s||g<_)||n&&(g>_||o<s)||m.push(new f.SingleCursorState(new E.Range(d,r,d,r),0,0,new k.Position(d,l),0))}if(m.length===0)for(let u=0;u<i;u++){const d=v+(t?-u:u),r=w.getLineMaxColumn(d);m.push(new f.SingleCursorState(new E.Range(d,r,d,r),0,0,new k.Position(d,r),0))}return{viewStates:m,reversed:t,fromLineNumber:v,fromVisualColumn:_,toLineNumber:a,toVisualColumn:s}}static columnSelectLeft(p,w,v){let _=v.toViewVisualColumn;return _>0&&_--,L.columnSelect(p,w,v.fromViewLineNumber,v.fromViewVisualColumn,v.toViewLineNumber,_)}static columnSelectRight(p,w,v){let _=0;const a=Math.min(v.fromViewLineNumber,v.toViewLineNumber),s=Math.max(v.fromViewLineNumber,v.toViewLineNumber);for(let t=a;t<=s;t++){const n=w.getLineMaxColumn(t),h=p.visibleColumnFromColumn(w,new k.Position(t,n));_=Math.max(_,h)}let i=v.toViewVisualColumn;return i<_&&i++,this.columnSelect(p,w,v.fromViewLineNumber,v.fromViewVisualColumn,v.toViewLineNumber,i)}static columnSelectUp(p,w,v,_){const a=_?p.pageSize:1,s=Math.max(1,v.toViewLineNumber-a);return this.columnSelect(p,w,v.fromViewLineNumber,v.fromViewVisualColumn,s,v.toViewVisualColumn)}static columnSelectDown(p,w,v,_){const a=_?p.pageSize:1,s=Math.min(w.getLineCount(),v.toViewLineNumber+a);return this.columnSelect(p,w,v.fromViewLineNumber,v.fromViewVisualColumn,s,v.toViewVisualColumn)}}e.ColumnSelection=L}),define(ie[223],ne([1,0,11,90,9,5,300,77]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class w{constructor(a,s,i){this._cursorPositionBrand=void 0,this.lineNumber=a,this.column=s,this.leftoverVisibleColumns=i}}e.CursorPosition=w;class v{static leftPosition(a,s){if(s.column>a.getLineMinColumn(s.lineNumber))return s.delta(void 0,-f.prevCharLength(a.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const i=s.lineNumber-1;return new E.Position(i,a.getLineMaxColumn(i))}else return s}static leftPositionAtomicSoftTabs(a,s,i){if(s.column<=a.getLineIndentColumn(s.lineNumber)){const t=a.getLineMinColumn(s.lineNumber),n=a.getLineContent(s.lineNumber),h=y.AtomicTabMoveOperations.atomicPosition(n,s.column-1,i,0);if(h!==-1&&h+1>=t)return new E.Position(s.lineNumber,h+1)}return this.leftPosition(a,s)}static left(a,s,i){const t=a.stickyTabStops?v.leftPositionAtomicSoftTabs(s,i,a.tabSize):v.leftPosition(s,i);return new w(t.lineNumber,t.column,0)}static moveLeft(a,s,i,t,n){let h,m;if(i.hasSelection()&&!t)h=i.selection.startLineNumber,m=i.selection.startColumn;else{const u=i.position.delta(void 0,-(n-1)),d=s.normalizePosition(v.clipPositionColumn(u,s),0),r=v.left(a,s,d);h=r.lineNumber,m=r.column}return i.move(t,h,m,0)}static clipPositionColumn(a,s){return new E.Position(a.lineNumber,v.clipRange(a.column,s.getLineMinColumn(a.lineNumber),s.getLineMaxColumn(a.lineNumber)))}static clipRange(a,s,i){return a<s?s:a>i?i:a}static rightPosition(a,s,i){return i<a.getLineMaxColumn(s)?i=i+f.nextCharLength(a.getLineContent(s),i-1):s<a.getLineCount()&&(s=s+1,i=a.getLineMinColumn(s)),new E.Position(s,i)}static rightPositionAtomicSoftTabs(a,s,i,t,n){if(i<a.getLineIndentColumn(s)){const h=a.getLineContent(s),m=y.AtomicTabMoveOperations.atomicPosition(h,i-1,t,1);if(m!==-1)return new E.Position(s,m+1)}return this.rightPosition(a,s,i)}static right(a,s,i){const t=a.stickyTabStops?v.rightPositionAtomicSoftTabs(s,i.lineNumber,i.column,a.tabSize,a.indentSize):v.rightPosition(s,i.lineNumber,i.column);return new w(t.lineNumber,t.column,0)}static moveRight(a,s,i,t,n){let h,m;if(i.hasSelection()&&!t)h=i.selection.endLineNumber,m=i.selection.endColumn;else{const u=i.position.delta(void 0,n-1),d=s.normalizePosition(v.clipPositionColumn(u,s),1),r=v.right(a,s,d);h=r.lineNumber,m=r.column}return i.move(t,h,m,0)}static vertical(a,s,i,t,n,h,m,u){const d=k.CursorColumns.visibleColumnFromColumn(s.getLineContent(i),t,a.tabSize)+n,r=s.getLineCount(),l=i===1&&t===1,o=i===r&&t===s.getLineMaxColumn(i),g=h<i?l:o;if(i=h,i<1?(i=1,m?t=s.getLineMinColumn(i):t=Math.min(s.getLineMaxColumn(i),t)):i>r?(i=r,m?t=s.getLineMaxColumn(i):t=Math.min(s.getLineMaxColumn(i),t)):t=a.columnFromVisibleColumn(s,i,d),g?n=0:n=d-k.CursorColumns.visibleColumnFromColumn(s.getLineContent(i),t,a.tabSize),u!==void 0){const c=new E.Position(i,t),b=s.normalizePosition(c,u);n=n+(t-b.column),i=b.lineNumber,t=b.column}return new w(i,t,n)}static down(a,s,i,t,n,h,m){return this.vertical(a,s,i,t,n,i+h,m,4)}static moveDown(a,s,i,t,n){let h,m;i.hasSelection()&&!t?(h=i.selection.endLineNumber,m=i.selection.endColumn):(h=i.position.lineNumber,m=i.position.column);let u=0,d;do if(d=v.down(a,s,h+u,m,i.leftoverVisibleColumns,n,!0),s.normalizePosition(new E.Position(d.lineNumber,d.column),2).lineNumber>h)break;while(u++<10&&h+u<s.getLineCount());return i.move(t,d.lineNumber,d.column,d.leftoverVisibleColumns)}static translateDown(a,s,i){const t=i.selection,n=v.down(a,s,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),h=v.down(a,s,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new p.SingleCursorState(new L.Range(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new E.Position(h.lineNumber,h.column),h.leftoverVisibleColumns)}static up(a,s,i,t,n,h,m){return this.vertical(a,s,i,t,n,i-h,m,3)}static moveUp(a,s,i,t,n){let h,m;i.hasSelection()&&!t?(h=i.selection.startLineNumber,m=i.selection.startColumn):(h=i.position.lineNumber,m=i.position.column);const u=v.up(a,s,h,m,i.leftoverVisibleColumns,n,!0);return i.move(t,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(a,s,i){const t=i.selection,n=v.up(a,s,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),h=v.up(a,s,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new p.SingleCursorState(new L.Range(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new E.Position(h.lineNumber,h.column),h.leftoverVisibleColumns)}static _isBlankLine(a,s){return a.getLineFirstNonWhitespaceColumn(s)===0}static moveToPrevBlankLine(a,s,i,t){let n=i.position.lineNumber;for(;n>1&&this._isBlankLine(s,n);)n--;for(;n>1&&!this._isBlankLine(s,n);)n--;return i.move(t,n,s.getLineMinColumn(n),0)}static moveToNextBlankLine(a,s,i,t){const n=s.getLineCount();let h=i.position.lineNumber;for(;h<n&&this._isBlankLine(s,h);)h++;for(;h<n&&!this._isBlankLine(s,h);)h++;return i.move(t,h,s.getLineMinColumn(h),0)}static moveToBeginningOfLine(a,s,i,t){const n=i.position.lineNumber,h=s.getLineMinColumn(n),m=s.getLineFirstNonWhitespaceColumn(n)||h;let u;return i.position.column===m?u=h:u=m,i.move(t,n,u,0)}static moveToEndOfLine(a,s,i,t,n){const h=i.position.lineNumber,m=s.getLineMaxColumn(h);return i.move(t,h,m,n?1073741824-m:0)}static moveToBeginningOfBuffer(a,s,i,t){return i.move(t,1,1,0)}static moveToEndOfBuffer(a,s,i,t){const n=s.getLineCount(),h=s.getLineMaxColumn(n);return i.move(t,n,h,0)}}e.MoveOperations=v}),define(ie[224],ne([1,0,11,140,77,90,223,5,9]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(a,s,i,t){const n=[];let h=a!==3;for(let m=0,u=t.length;m<u;m++){const d=t[m];let r=d;if(r.isEmpty()){const l=d.getPosition(),o=y.MoveOperations.right(s,i,l);r=new p.Range(o.lineNumber,o.column,l.lineNumber,l.column)}if(r.isEmpty()){n[m]=null;continue}r.startLineNumber!==r.endLineNumber&&(h=!0),n[m]=new k.ReplaceCommand(r,"")}return[h,n]}static isAutoClosingPairDelete(a,s,i,t,n,h,m){if(s==="never"&&i==="never"||a==="never")return!1;for(let u=0,d=h.length;u<d;u++){const r=h[u],l=r.getPosition();if(!r.isEmpty())return!1;const o=n.getLineContent(l.lineNumber);if(l.column<2||l.column>=o.length+1)return!1;const g=o.charAt(l.column-2),c=t.get(g);if(!c)return!1;if((0,E.isQuote)(g)){if(i==="never")return!1}else if(s==="never")return!1;const b=o.charAt(l.column-1);let C=!1;for(const S of c)S.open===g&&S.close===b&&(C=!0);if(!C)return!1;if(a==="auto"){let S=!1;for(let D=0,I=m.length;D<I;D++){const T=m[D];if(l.lineNumber===T.startLineNumber&&l.column===T.startColumn){S=!0;break}}if(!S)return!1}}return!0}static _runAutoClosingPairDelete(a,s,i){const t=[];for(let n=0,h=i.length;n<h;n++){const m=i[n].getPosition(),u=new p.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1);t[n]=new k.ReplaceCommand(u,"")}return[!0,t]}static deleteLeft(a,s,i,t,n){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,i,t,n))return this._runAutoClosingPairDelete(s,i,t);const h=[];let m=a!==2;for(let u=0,d=t.length;u<d;u++){const r=v.getDeleteRange(t[u],i,s);if(r.isEmpty()){h[u]=null;continue}r.startLineNumber!==r.endLineNumber&&(m=!0),h[u]=new k.ReplaceCommand(r,"")}return[m,h]}static getDeleteRange(a,s,i){if(!a.isEmpty())return a;const t=a.getPosition();if(i.useTabStops&&t.column>1){const n=s.getLineContent(t.lineNumber),h=f.firstNonWhitespaceIndex(n),m=h===-1?n.length+1:h+1;if(t.column<=m){const u=i.visibleColumnFromColumn(s,t),d=L.CursorColumns.prevIndentTabStop(u,i.indentSize),r=i.columnFromVisibleColumn(s,t.lineNumber,d);return new p.Range(t.lineNumber,r,t.lineNumber,t.column)}}return p.Range.fromPositions(v.getPositionAfterDeleteLeft(t,s),t)}static getPositionAfterDeleteLeft(a,s){if(a.column>1){const i=f.getLeftDeleteOffset(a.column-1,s.getLineContent(a.lineNumber));return a.with(void 0,i+1)}else if(a.lineNumber>1){const i=a.lineNumber-1;return new w.Position(i,s.getLineMaxColumn(i))}else return a}static cut(a,s,i){const t=[];let n=null;i.sort((h,m)=>w.Position.compare(h.getStartPosition(),m.getEndPosition()));for(let h=0,m=i.length;h<m;h++){const u=i[h];if(u.isEmpty())if(a.emptySelectionClipboard){const d=u.getPosition();let r,l,o,g;d.lineNumber<s.getLineCount()?(r=d.lineNumber,l=1,o=d.lineNumber+1,g=1):d.lineNumber>1&&n?.endLineNumber!==d.lineNumber?(r=d.lineNumber-1,l=s.getLineMaxColumn(d.lineNumber-1),o=d.lineNumber,g=s.getLineMaxColumn(d.lineNumber)):(r=d.lineNumber,l=1,o=d.lineNumber,g=s.getLineMaxColumn(d.lineNumber));const c=new p.Range(r,l,o,g);n=c,c.isEmpty()?t[h]=null:t[h]=new k.ReplaceCommand(c,"")}else t[h]=null;else t[h]=new k.ReplaceCommand(u,"")}return new E.EditOperationResult(0,t,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(ie[190],ne([1,0,11,77,224,159,9,5]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class w{static _createWord(s,i,t,n,h){return{start:n,end:h,wordType:i,nextCharClass:t}}static _createIntlWord(s,i){return{start:s.index,end:s.index+s.segment.length,wordType:1,nextCharClass:i}}static _findPreviousWordOnLine(s,i,t){const n=i.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(n,s,t)}static _doFindPreviousWordOnLine(s,i,t){let n=0;const h=i.findPrevIntlWordBeforeOrAtOffset(s,t.column-2);for(let m=t.column-2;m>=0;m--){const u=s.charCodeAt(m),d=i.get(u);if(h&&m===h.index)return this._createIntlWord(h,d);if(d===0){if(n===2)return this._createWord(s,n,d,m+1,this._findEndOfWord(s,i,n,m+1));n=1}else if(d===2){if(n===1)return this._createWord(s,n,d,m+1,this._findEndOfWord(s,i,n,m+1));n=2}else if(d===1&&n!==0)return this._createWord(s,n,d,m+1,this._findEndOfWord(s,i,n,m+1))}return n!==0?this._createWord(s,n,1,0,this._findEndOfWord(s,i,n,0)):null}static _findEndOfWord(s,i,t,n){const h=i.findNextIntlWordAtOrAfterOffset(s,n),m=s.length;for(let u=n;u<m;u++){const d=s.charCodeAt(u),r=i.get(d);if(h&&u===h.index+h.segment.length||r===1||t===1&&r===2||t===2&&r===0)return u}return m}static _findNextWordOnLine(s,i,t){const n=i.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(n,s,t)}static _doFindNextWordOnLine(s,i,t){let n=0;const h=s.length,m=i.findNextIntlWordAtOrAfterOffset(s,t.column-1);for(let u=t.column-1;u<h;u++){const d=s.charCodeAt(u),r=i.get(d);if(m&&u===m.index)return this._createIntlWord(m,r);if(r===0){if(n===2)return this._createWord(s,n,r,this._findStartOfWord(s,i,n,u-1),u);n=1}else if(r===2){if(n===1)return this._createWord(s,n,r,this._findStartOfWord(s,i,n,u-1),u);n=2}else if(r===1&&n!==0)return this._createWord(s,n,r,this._findStartOfWord(s,i,n,u-1),u)}return n!==0?this._createWord(s,n,1,this._findStartOfWord(s,i,n,h-1),h):null}static _findStartOfWord(s,i,t,n){const h=i.findPrevIntlWordBeforeOrAtOffset(s,n);for(let m=n;m>=0;m--){const u=s.charCodeAt(m),d=i.get(u);if(h&&m===h.index)return m;if(d===1||t===1&&d===2||t===2&&d===0)return m+1}return 0}static moveWordLeft(s,i,t,n){let h=t.lineNumber,m=t.column;m===1&&h>1&&(h=h-1,m=i.getLineMaxColumn(h));let u=w._findPreviousWordOnLine(s,i,new y.Position(h,m));if(n===0)return new y.Position(h,u?u.start+1:1);if(n===1)return u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=w._findPreviousWordOnLine(s,i,new y.Position(h,u.start+1))),new y.Position(h,u?u.start+1:1);if(n===3){for(;u&&u.wordType===2;)u=w._findPreviousWordOnLine(s,i,new y.Position(h,u.start+1));return new y.Position(h,u?u.start+1:1)}return u&&m<=u.end+1&&(u=w._findPreviousWordOnLine(s,i,new y.Position(h,u.start+1))),new y.Position(h,u?u.end+1:1)}static _moveWordPartLeft(s,i){const t=i.lineNumber,n=s.getLineMaxColumn(t);if(i.column===1)return t>1?new y.Position(t-1,s.getLineMaxColumn(t-1)):i;const h=s.getLineContent(t);for(let m=i.column-1;m>1;m--){const u=h.charCodeAt(m-2),d=h.charCodeAt(m-1);if(u===95&&d!==95)return new y.Position(t,m);if(u===45&&d!==45)return new y.Position(t,m);if((f.isLowerAsciiLetter(u)||f.isAsciiDigit(u))&&f.isUpperAsciiLetter(d))return new y.Position(t,m);if(f.isUpperAsciiLetter(u)&&f.isUpperAsciiLetter(d)&&m+1<n){const r=h.charCodeAt(m);if(f.isLowerAsciiLetter(r)||f.isAsciiDigit(r))return new y.Position(t,m)}}return new y.Position(t,1)}static moveWordRight(s,i,t,n){let h=t.lineNumber,m=t.column,u=!1;m===i.getLineMaxColumn(h)&&h<i.getLineCount()&&(u=!0,h=h+1,m=1);let d=w._findNextWordOnLine(s,i,new y.Position(h,m));if(n===2)d&&d.wordType===2&&d.end-d.start===1&&d.nextCharClass===0&&(d=w._findNextWordOnLine(s,i,new y.Position(h,d.end+1))),d?m=d.end+1:m=i.getLineMaxColumn(h);else if(n===3){for(u&&(m=0);d&&(d.wordType===2||d.start+1<=m);)d=w._findNextWordOnLine(s,i,new y.Position(h,d.end+1));d?m=d.start+1:m=i.getLineMaxColumn(h)}else d&&!u&&m>=d.start+1&&(d=w._findNextWordOnLine(s,i,new y.Position(h,d.end+1))),d?m=d.start+1:m=i.getLineMaxColumn(h);return new y.Position(h,m)}static _moveWordPartRight(s,i){const t=i.lineNumber,n=s.getLineMaxColumn(t);if(i.column===n)return t<s.getLineCount()?new y.Position(t+1,1):i;const h=s.getLineContent(t);for(let m=i.column+1;m<n;m++){const u=h.charCodeAt(m-2),d=h.charCodeAt(m-1);if(u!==95&&d===95)return new y.Position(t,m);if(u!==45&&d===45)return new y.Position(t,m);if((f.isLowerAsciiLetter(u)||f.isAsciiDigit(u))&&f.isUpperAsciiLetter(d))return new y.Position(t,m);if(f.isUpperAsciiLetter(u)&&f.isUpperAsciiLetter(d)&&m+1<n){const r=h.charCodeAt(m);if(f.isLowerAsciiLetter(r)||f.isAsciiDigit(r))return new y.Position(t,m)}}return new y.Position(t,n)}static _deleteWordLeftWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=i.column-2,h=f.lastNonWhitespaceIndex(t,n);return h+1<n?new p.Range(i.lineNumber,h+2,i.lineNumber,i.column):null}static deleteWordLeft(s,i){const t=s.wordSeparators,n=s.model,h=s.selection,m=s.whitespaceHeuristics;if(!h.isEmpty())return h;if(E.DeleteOperations.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,s.model,[s.selection],s.autoClosedCharacters)){const o=s.selection.getPosition();return new p.Range(o.lineNumber,o.column-1,o.lineNumber,o.column+1)}const u=new y.Position(h.positionLineNumber,h.positionColumn);let d=u.lineNumber,r=u.column;if(d===1&&r===1)return null;if(m){const o=this._deleteWordLeftWhitespace(n,u);if(o)return o}let l=w._findPreviousWordOnLine(t,n,u);return i===0?l?r=l.start+1:r>1?r=1:(d--,r=n.getLineMaxColumn(d)):(l&&r<=l.end+1&&(l=w._findPreviousWordOnLine(t,n,new y.Position(d,l.start+1))),l?r=l.end+1:r>1?r=1:(d--,r=n.getLineMaxColumn(d))),new p.Range(d,r,u.lineNumber,u.column)}static deleteInsideWord(s,i,t){if(!t.isEmpty())return t;const n=new y.Position(t.positionLineNumber,t.positionColumn),h=this._deleteInsideWordWhitespace(i,n);return h||this._deleteInsideWordDetermineDeleteRange(s,i,n)}static _charAtIsWhitespace(s,i){const t=s.charCodeAt(i);return t===32||t===9}static _deleteInsideWordWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=t.length;if(n===0)return null;let h=Math.max(i.column-2,0);if(!this._charAtIsWhitespace(t,h))return null;let m=Math.min(i.column-1,n-1);if(!this._charAtIsWhitespace(t,m))return null;for(;h>0&&this._charAtIsWhitespace(t,h-1);)h--;for(;m+1<n&&this._charAtIsWhitespace(t,m+1);)m++;return new p.Range(i.lineNumber,h+1,i.lineNumber,m+2)}static _deleteInsideWordDetermineDeleteRange(s,i,t){const n=i.getLineContent(t.lineNumber),h=n.length;if(h===0)return t.lineNumber>1?new p.Range(t.lineNumber-1,i.getLineMaxColumn(t.lineNumber-1),t.lineNumber,1):t.lineNumber<i.getLineCount()?new p.Range(t.lineNumber,1,t.lineNumber+1,1):new p.Range(t.lineNumber,1,t.lineNumber,1);const m=o=>o.start+1<=t.column&&t.column<=o.end+1,u=(o,g)=>(o=Math.min(o,t.column),g=Math.max(g,t.column),new p.Range(t.lineNumber,o,t.lineNumber,g)),d=o=>{let g=o.start+1,c=o.end+1,b=!1;for(;c-1<h&&this._charAtIsWhitespace(n,c-1);)b=!0,c++;if(!b)for(;g>1&&this._charAtIsWhitespace(n,g-2);)g--;return u(g,c)},r=w._findPreviousWordOnLine(s,i,t);if(r&&m(r))return d(r);const l=w._findNextWordOnLine(s,i,t);return l&&m(l)?d(l):r&&l?u(r.end+1,l.start+1):r?u(r.start+1,r.end+1):l?u(l.start+1,l.end+1):u(1,h+1)}static _deleteWordPartLeft(s,i){if(!i.isEmpty())return i;const t=i.getPosition(),n=w._moveWordPartLeft(s,t);return new p.Range(t.lineNumber,t.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(s,i){const t=s.length;for(let n=i;n<t;n++){const h=s.charAt(n);if(h!==" "&&h!=="	")return n}return t}static _deleteWordRightWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=i.column-1,h=this._findFirstNonWhitespaceChar(t,n);return n+1<h?new p.Range(i.lineNumber,i.column,i.lineNumber,h+1):null}static deleteWordRight(s,i){const t=s.wordSeparators,n=s.model,h=s.selection,m=s.whitespaceHeuristics;if(!h.isEmpty())return h;const u=new y.Position(h.positionLineNumber,h.positionColumn);let d=u.lineNumber,r=u.column;const l=n.getLineCount(),o=n.getLineMaxColumn(d);if(d===l&&r===o)return null;if(m){const c=this._deleteWordRightWhitespace(n,u);if(c)return c}let g=w._findNextWordOnLine(t,n,u);return i===2?g?r=g.end+1:r<o||d===l?r=o:(d++,g=w._findNextWordOnLine(t,n,new y.Position(d,1)),g?r=g.start+1:r=n.getLineMaxColumn(d)):(g&&r>=g.start+1&&(g=w._findNextWordOnLine(t,n,new y.Position(d,g.end+1))),g?r=g.start+1:r<o||d===l?r=o:(d++,g=w._findNextWordOnLine(t,n,new y.Position(d,1)),g?r=g.start+1:r=n.getLineMaxColumn(d))),new p.Range(d,r,u.lineNumber,u.column)}static _deleteWordPartRight(s,i){if(!i.isEmpty())return i;const t=i.getPosition(),n=w._moveWordPartRight(s,t);return new p.Range(t.lineNumber,t.column,n.lineNumber,n.column)}static _createWordAtPosition(s,i,t){const n=new p.Range(i,t.start+1,i,t.end+1);return{word:s.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(s,i,t,n){const h=(0,L.getMapForWordSeparators)(i,t),m=w._findPreviousWordOnLine(h,s,n);if(m&&m.wordType===1&&m.start<=n.column-1&&n.column-1<=m.end)return w._createWordAtPosition(s,n.lineNumber,m);const u=w._findNextWordOnLine(h,s,n);return u&&u.wordType===1&&u.start<=n.column-1&&n.column-1<=u.end?w._createWordAtPosition(s,n.lineNumber,u):null}static word(s,i,t,n,h){const m=(0,L.getMapForWordSeparators)(s.wordSeparators,s.wordSegmenterLocales),u=w._findPreviousWordOnLine(m,i,h),d=w._findNextWordOnLine(m,i,h);if(!n){let c,b;return u&&u.wordType===1&&u.start<=h.column-1&&h.column-1<=u.end?(c=u.start+1,b=u.end+1):d&&d.wordType===1&&d.start<=h.column-1&&h.column-1<=d.end?(c=d.start+1,b=d.end+1):(u?c=u.end+1:c=1,d?b=d.start+1:b=i.getLineMaxColumn(h.lineNumber)),new k.SingleCursorState(new p.Range(h.lineNumber,c,h.lineNumber,b),1,0,new y.Position(h.lineNumber,b),0)}let r,l;u&&u.wordType===1&&u.start<h.column-1&&h.column-1<u.end?(r=u.start+1,l=u.end+1):d&&d.wordType===1&&d.start<h.column-1&&h.column-1<d.end?(r=d.start+1,l=d.end+1):(r=h.column,l=h.column);const o=h.lineNumber;let g;if(t.selectionStart.containsPosition(h))g=t.selectionStart.endColumn;else if(h.isBeforeOrEqual(t.selectionStart.getStartPosition())){g=r;const c=new y.Position(o,g);t.selectionStart.containsPosition(c)&&(g=t.selectionStart.endColumn)}else{g=l;const c=new y.Position(o,g);t.selectionStart.containsPosition(c)&&(g=t.selectionStart.startColumn)}return t.move(!0,o,g,0)}}e.WordOperations=w;class v extends w{static deleteWordPartLeft(s){const i=_([w.deleteWordLeft(s,0),w.deleteWordLeft(s,2),w._deleteWordPartLeft(s.model,s.selection)]);return i.sort(p.Range.compareRangesUsingEnds),i[2]}static deleteWordPartRight(s){const i=_([w.deleteWordRight(s,0),w.deleteWordRight(s,2),w._deleteWordPartRight(s.model,s.selection)]);return i.sort(p.Range.compareRangesUsingStarts),i[0]}static moveWordPartLeft(s,i,t){const n=_([w.moveWordLeft(s,i,t,0),w.moveWordLeft(s,i,t,2),w._moveWordPartLeft(i,t)]);return n.sort(y.Position.compare),n[2]}static moveWordPartRight(s,i,t){const n=_([w.moveWordRight(s,i,t,0),w.moveWordRight(s,i,t,2),w._moveWordPartRight(i,t)]);return n.sort(y.Position.compare),n[0]}}e.WordPartOperations=v;function _(a){return a.filter(s=>!!s)}}),define(ie[225],ne([1,0,21,77,223,190,9,5]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class w{static addCursorDown(a,s,i){const t=[];let n=0;for(let h=0,m=s.length;h<m;h++){const u=s[h];t[n++]=new k.CursorState(u.modelState,u.viewState),i?t[n++]=k.CursorState.fromModelState(E.MoveOperations.translateDown(a.cursorConfig,a.model,u.modelState)):t[n++]=k.CursorState.fromViewState(E.MoveOperations.translateDown(a.cursorConfig,a,u.viewState))}return t}static addCursorUp(a,s,i){const t=[];let n=0;for(let h=0,m=s.length;h<m;h++){const u=s[h];t[n++]=new k.CursorState(u.modelState,u.viewState),i?t[n++]=k.CursorState.fromModelState(E.MoveOperations.translateUp(a.cursorConfig,a.model,u.modelState)):t[n++]=k.CursorState.fromViewState(E.MoveOperations.translateUp(a.cursorConfig,a,u.viewState))}return t}static moveToBeginningOfLine(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n];t[n]=this._moveToLineStart(a,m,i)}return t}static _moveToLineStart(a,s,i){const t=s.viewState.position.column,n=s.modelState.position.column,h=t===n,m=s.viewState.position.lineNumber,u=a.getLineFirstNonWhitespaceColumn(m);return!h&&!(t===u)?this._moveToLineStartByView(a,s,i):this._moveToLineStartByModel(a,s,i)}static _moveToLineStartByView(a,s,i){return k.CursorState.fromViewState(E.MoveOperations.moveToBeginningOfLine(a.cursorConfig,a,s.viewState,i))}static _moveToLineStartByModel(a,s,i){return k.CursorState.fromModelState(E.MoveOperations.moveToBeginningOfLine(a.cursorConfig,a.model,s.modelState,i))}static moveToEndOfLine(a,s,i,t){const n=[];for(let h=0,m=s.length;h<m;h++){const u=s[h];n[h]=this._moveToLineEnd(a,u,i,t)}return n}static _moveToLineEnd(a,s,i,t){const n=s.viewState.position,h=a.getLineMaxColumn(n.lineNumber),m=n.column===h,u=s.modelState.position,d=a.model.getLineMaxColumn(u.lineNumber),r=h-n.column===d-u.column;return m||r?this._moveToLineEndByModel(a,s,i,t):this._moveToLineEndByView(a,s,i,t)}static _moveToLineEndByView(a,s,i,t){return k.CursorState.fromViewState(E.MoveOperations.moveToEndOfLine(a.cursorConfig,a,s.viewState,i,t))}static _moveToLineEndByModel(a,s,i,t){return k.CursorState.fromModelState(E.MoveOperations.moveToEndOfLine(a.cursorConfig,a.model,s.modelState,i,t))}static expandLineSelection(a,s){const i=[];for(let t=0,n=s.length;t<n;t++){const h=s[t],m=h.modelState.selection.startLineNumber,u=a.model.getLineCount();let d=h.modelState.selection.endLineNumber,r;d===u?r=a.model.getLineMaxColumn(u):(d++,r=1),i[t]=k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(m,1,m,1),0,0,new y.Position(d,r),0))}return i}static moveToBeginningOfBuffer(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n];t[n]=k.CursorState.fromModelState(E.MoveOperations.moveToBeginningOfBuffer(a.cursorConfig,a.model,m.modelState,i))}return t}static moveToEndOfBuffer(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n];t[n]=k.CursorState.fromModelState(E.MoveOperations.moveToEndOfBuffer(a.cursorConfig,a.model,m.modelState,i))}return t}static selectAll(a,s){const i=a.model.getLineCount(),t=a.model.getLineMaxColumn(i);return k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(1,1,1,1),0,0,new y.Position(i,t),0))}static line(a,s,i,t,n){const h=a.model.validatePosition(t),m=n?a.coordinatesConverter.validateViewPosition(new y.Position(n.lineNumber,n.column),h):a.coordinatesConverter.convertModelPositionToViewPosition(h);if(!i){const d=a.model.getLineCount();let r=h.lineNumber+1,l=1;return r>d&&(r=d,l=a.model.getLineMaxColumn(r)),k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(h.lineNumber,1,r,l),2,0,new y.Position(r,l),0))}const u=s.modelState.selectionStart.getStartPosition().lineNumber;if(h.lineNumber<u)return k.CursorState.fromViewState(s.viewState.move(!0,m.lineNumber,1,0));if(h.lineNumber>u){const d=a.getLineCount();let r=m.lineNumber+1,l=1;return r>d&&(r=d,l=a.getLineMaxColumn(r)),k.CursorState.fromViewState(s.viewState.move(!0,r,l,0))}else{const d=s.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(s.modelState.move(!0,d.lineNumber,d.column,0))}}static word(a,s,i,t){const n=a.model.validatePosition(t);return k.CursorState.fromModelState(L.WordOperations.word(a.cursorConfig,a.model,s.modelState,i,n))}static cancelSelection(a,s){if(!s.modelState.hasSelection())return new k.CursorState(s.modelState,s.viewState);const i=s.viewState.position.lineNumber,t=s.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new p.Range(i,t,i,t),0,0,new y.Position(i,t),0))}static moveTo(a,s,i,t,n){if(i){if(s.modelState.selectionStartKind===1)return this.word(a,s,i,t);if(s.modelState.selectionStartKind===2)return this.line(a,s,i,t,n)}const h=a.model.validatePosition(t),m=n?a.coordinatesConverter.validateViewPosition(new y.Position(n.lineNumber,n.column),h):a.coordinatesConverter.convertModelPositionToViewPosition(h);return k.CursorState.fromViewState(s.viewState.move(i,m.lineNumber,m.column,0))}static simpleMove(a,s,i,t,n,h){switch(i){case 0:return h===4?this._moveHalfLineLeft(a,s,t):this._moveLeft(a,s,t,n);case 1:return h===4?this._moveHalfLineRight(a,s,t):this._moveRight(a,s,t,n);case 2:return h===2?this._moveUpByViewLines(a,s,t,n):this._moveUpByModelLines(a,s,t,n);case 3:return h===2?this._moveDownByViewLines(a,s,t,n):this._moveDownByModelLines(a,s,t,n);case 4:return h===2?s.map(m=>k.CursorState.fromViewState(E.MoveOperations.moveToPrevBlankLine(a.cursorConfig,a,m.viewState,t))):s.map(m=>k.CursorState.fromModelState(E.MoveOperations.moveToPrevBlankLine(a.cursorConfig,a.model,m.modelState,t)));case 5:return h===2?s.map(m=>k.CursorState.fromViewState(E.MoveOperations.moveToNextBlankLine(a.cursorConfig,a,m.viewState,t))):s.map(m=>k.CursorState.fromModelState(E.MoveOperations.moveToNextBlankLine(a.cursorConfig,a.model,m.modelState,t)));case 6:return this._moveToViewMinColumn(a,s,t);case 7:return this._moveToViewFirstNonWhitespaceColumn(a,s,t);case 8:return this._moveToViewCenterColumn(a,s,t);case 9:return this._moveToViewMaxColumn(a,s,t);case 10:return this._moveToViewLastNonWhitespaceColumn(a,s,t);default:return null}}static viewportMove(a,s,i,t,n){const h=a.getCompletelyVisibleViewRange(),m=a.coordinatesConverter.convertViewRangeToModelRange(h);switch(i){case 11:{const u=this._firstLineNumberInRange(a.model,m,n),d=a.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(a,s[0],t,u,d)]}case 13:{const u=this._lastLineNumberInRange(a.model,m,n),d=a.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(a,s[0],t,u,d)]}case 12:{const u=Math.round((m.startLineNumber+m.endLineNumber)/2),d=a.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(a,s[0],t,u,d)]}case 14:{const u=[];for(let d=0,r=s.length;d<r;d++){const l=s[d];u[d]=this.findPositionInViewportIfOutside(a,l,h,t)}return u}default:return null}}static findPositionInViewportIfOutside(a,s,i,t){const n=s.viewState.position.lineNumber;if(i.startLineNumber<=n&&n<=i.endLineNumber-1)return new k.CursorState(s.modelState,s.viewState);{let h;n>i.endLineNumber-1?h=i.endLineNumber-1:n<i.startLineNumber?h=i.startLineNumber:h=n;const m=E.MoveOperations.vertical(a.cursorConfig,a,n,s.viewState.position.column,s.viewState.leftoverVisibleColumns,h,!1);return k.CursorState.fromViewState(s.viewState.move(t,m.lineNumber,m.column,m.leftoverVisibleColumns))}}static _firstLineNumberInRange(a,s,i){let t=s.startLineNumber;return s.startColumn!==a.getLineMinColumn(t)&&t++,Math.min(s.endLineNumber,t+i-1)}static _lastLineNumberInRange(a,s,i){let t=s.startLineNumber;return s.startColumn!==a.getLineMinColumn(t)&&t++,Math.max(t,s.endLineNumber-i+1)}static _moveLeft(a,s,i,t){return s.map(n=>k.CursorState.fromViewState(E.MoveOperations.moveLeft(a.cursorConfig,a,n.viewState,i,t)))}static _moveHalfLineLeft(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n],u=m.viewState.position.lineNumber,d=Math.round(a.getLineLength(u)/2);t[n]=k.CursorState.fromViewState(E.MoveOperations.moveLeft(a.cursorConfig,a,m.viewState,i,d))}return t}static _moveRight(a,s,i,t){return s.map(n=>k.CursorState.fromViewState(E.MoveOperations.moveRight(a.cursorConfig,a,n.viewState,i,t)))}static _moveHalfLineRight(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n],u=m.viewState.position.lineNumber,d=Math.round(a.getLineLength(u)/2);t[n]=k.CursorState.fromViewState(E.MoveOperations.moveRight(a.cursorConfig,a,m.viewState,i,d))}return t}static _moveDownByViewLines(a,s,i,t){const n=[];for(let h=0,m=s.length;h<m;h++){const u=s[h];n[h]=k.CursorState.fromViewState(E.MoveOperations.moveDown(a.cursorConfig,a,u.viewState,i,t))}return n}static _moveDownByModelLines(a,s,i,t){const n=[];for(let h=0,m=s.length;h<m;h++){const u=s[h];n[h]=k.CursorState.fromModelState(E.MoveOperations.moveDown(a.cursorConfig,a.model,u.modelState,i,t))}return n}static _moveUpByViewLines(a,s,i,t){const n=[];for(let h=0,m=s.length;h<m;h++){const u=s[h];n[h]=k.CursorState.fromViewState(E.MoveOperations.moveUp(a.cursorConfig,a,u.viewState,i,t))}return n}static _moveUpByModelLines(a,s,i,t){const n=[];for(let h=0,m=s.length;h<m;h++){const u=s[h];n[h]=k.CursorState.fromModelState(E.MoveOperations.moveUp(a.cursorConfig,a.model,u.modelState,i,t))}return n}static _moveToViewPosition(a,s,i,t,n){return k.CursorState.fromViewState(s.viewState.move(i,t,n,0))}static _moveToModelPosition(a,s,i,t,n){return k.CursorState.fromModelState(s.modelState.move(i,t,n,0))}static _moveToViewMinColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n],u=m.viewState.position.lineNumber,d=a.getLineMinColumn(u);t[n]=this._moveToViewPosition(a,m,i,u,d)}return t}static _moveToViewFirstNonWhitespaceColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n],u=m.viewState.position.lineNumber,d=a.getLineFirstNonWhitespaceColumn(u);t[n]=this._moveToViewPosition(a,m,i,u,d)}return t}static _moveToViewCenterColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n],u=m.viewState.position.lineNumber,d=Math.round((a.getLineMaxColumn(u)+a.getLineMinColumn(u))/2);t[n]=this._moveToViewPosition(a,m,i,u,d)}return t}static _moveToViewMaxColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n],u=m.viewState.position.lineNumber,d=a.getLineMaxColumn(u);t[n]=this._moveToViewPosition(a,m,i,u,d)}return t}static _moveToViewLastNonWhitespaceColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const m=s[n],u=m.viewState.position.lineNumber,d=a.getLineLastNonWhitespaceColumn(u);t[n]=this._moveToViewPosition(a,m,i,u,d)}return t}}e.CursorMoveCommands=w;var v;(function(_){const a=function(i){if(!f.isObject(i))return!1;const t=i;return!(!f.isString(t.to)||!f.isUndefined(t.select)&&!f.isBoolean(t.select)||!f.isUndefined(t.by)&&!f.isString(t.by)||!f.isUndefined(t.value)&&!f.isNumber(t.value))};_.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:a,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},_.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},_.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function s(i){if(!i.to)return null;let t;switch(i.to){case _.RawDirection.Left:t=0;break;case _.RawDirection.Right:t=1;break;case _.RawDirection.Up:t=2;break;case _.RawDirection.Down:t=3;break;case _.RawDirection.PrevBlankLine:t=4;break;case _.RawDirection.NextBlankLine:t=5;break;case _.RawDirection.WrappedLineStart:t=6;break;case _.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case _.RawDirection.WrappedLineColumnCenter:t=8;break;case _.RawDirection.WrappedLineEnd:t=9;break;case _.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case _.RawDirection.ViewPortTop:t=11;break;case _.RawDirection.ViewPortBottom:t=13;break;case _.RawDirection.ViewPortCenter:t=12;break;case _.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let n=0;switch(i.by){case _.RawUnit.Line:n=1;break;case _.RawUnit.WrappedLine:n=2;break;case _.RawUnit.Character:n=3;break;case _.RawUnit.HalfLine:n=4;break}return{direction:t,unit:n,select:!!i.select,value:i.value||1}}_.parse=s})(v||(e.CursorMove=v={}))}),define(ie[536],ne([1,0,77,9,5,24]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class y{constructor(w){this._selTrackedRange=null,this._trackSelection=!0,this._setState(w,new f.SingleCursorState(new E.Range(1,1,1,1),0,0,new k.Position(1,1),0),new f.SingleCursorState(new E.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(w){this._removeTrackedRange(w)}startTrackingSelection(w){this._trackSelection=!0,this._updateTrackedRange(w)}stopTrackingSelection(w){this._trackSelection=!1,this._removeTrackedRange(w)}_updateTrackedRange(w){this._trackSelection&&(this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(w){this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new f.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(w){const v=w.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!v.isEmpty()?L.Selection.fromRange(v.collapseToEnd(),this.modelState.selection.getDirection()):L.Selection.fromRange(v,this.modelState.selection.getDirection())}ensureValidState(w){this._setState(w,this.modelState,this.viewState)}setState(w,v,_){this._setState(w,v,_)}static _validatePositionWithCache(w,v,_,a){return v.equals(_)?a:w.normalizePosition(v,2)}static _validateViewState(w,v){const _=v.position,a=v.selectionStart.getStartPosition(),s=v.selectionStart.getEndPosition(),i=w.normalizePosition(_,2),t=this._validatePositionWithCache(w,a,_,i),n=this._validatePositionWithCache(w,s,a,t);return _.equals(i)&&a.equals(t)&&s.equals(n)?v:new f.SingleCursorState(E.Range.fromPositions(t,n),v.selectionStartKind,v.selectionStartLeftoverVisibleColumns+a.column-t.column,i,v.leftoverVisibleColumns+_.column-i.column)}_setState(w,v,_){if(_&&(_=y._validateViewState(w.viewModel,_)),v){const a=w.model.validateRange(v.selectionStart),s=v.selectionStart.equalsRange(a)?v.selectionStartLeftoverVisibleColumns:0,i=w.model.validatePosition(v.position),t=v.position.equals(i)?v.leftoverVisibleColumns:0;v=new f.SingleCursorState(a,v.selectionStartKind,s,i,t)}else{if(!_)return;const a=w.model.validateRange(w.coordinatesConverter.convertViewRangeToModelRange(_.selectionStart)),s=w.model.validatePosition(w.coordinatesConverter.convertViewPositionToModelPosition(_.position));v=new f.SingleCursorState(a,_.selectionStartKind,_.selectionStartLeftoverVisibleColumns,s,_.leftoverVisibleColumns)}if(_){const a=w.coordinatesConverter.validateViewRange(_.selectionStart,v.selectionStart),s=w.coordinatesConverter.validateViewPosition(_.position,v.position);_=new f.SingleCursorState(a,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,s,v.leftoverVisibleColumns)}else{const a=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(v.selectionStart.startLineNumber,v.selectionStart.startColumn)),s=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(v.selectionStart.endLineNumber,v.selectionStart.endColumn)),i=new E.Range(a.lineNumber,a.column,s.lineNumber,s.column),t=w.coordinatesConverter.convertModelPositionToViewPosition(v.position);_=new f.SingleCursorState(i,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,t,v.leftoverVisibleColumns)}this.modelState=v,this.viewState=_,this._updateTrackedRange(w)}}e.Cursor=y}),define(ie[537],ne([1,0,13,66,77,536,9,5,24]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class v{constructor(a){this.context=a,this.cursors=[new L.Cursor(a)],this.lastAddedCursorIndex=0}dispose(){for(const a of this.cursors)a.dispose(this.context)}startTrackingSelections(){for(const a of this.cursors)a.startTrackingSelection(this.context)}stopTrackingSelections(){for(const a of this.cursors)a.stopTrackingSelection(this.context)}updateContext(a){this.context=a}ensureValidState(){for(const a of this.cursors)a.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(a=>a.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(a=>a.asCursorState())}getViewPositions(){return this.cursors.map(a=>a.viewState.position)}getTopMostViewPosition(){return(0,k.findFirstMinBy)(this.cursors,(0,f.compareBy)(a=>a.viewState.position,y.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,k.findLastMaxBy)(this.cursors,(0,f.compareBy)(a=>a.viewState.position,y.Position.compare)).viewState.position}getSelections(){return this.cursors.map(a=>a.modelState.selection)}getViewSelections(){return this.cursors.map(a=>a.viewState.selection)}setSelections(a){this.setStates(E.CursorState.fromModelSelections(a))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(a){a!==null&&(this.cursors[0].setState(this.context,a[0].modelState,a[0].viewState),this._setSecondaryStates(a.slice(1)))}_setSecondaryStates(a){const s=this.cursors.length-1,i=a.length;if(s<i){const t=i-s;for(let n=0;n<t;n++)this._addSecondaryCursor()}else if(s>i){const t=s-i;for(let n=0;n<t;n++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,a[t].modelState,a[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new L.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(a){this.lastAddedCursorIndex>=a+1&&this.lastAddedCursorIndex--,this.cursors[a+1].dispose(this.context),this.cursors.splice(a+1,1)}normalize(){if(this.cursors.length===1)return;const a=this.cursors.slice(0),s=[];for(let i=0,t=a.length;i<t;i++)s.push({index:i,selection:a[i].modelState.selection});s.sort((0,f.compareBy)(i=>i.selection,p.Range.compareRangesUsingStarts));for(let i=0;i<s.length-1;i++){const t=s[i],n=s[i+1],h=t.selection,m=n.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let u;if(m.isEmpty()||h.isEmpty()?u=m.getStartPosition().isBeforeOrEqual(h.getEndPosition()):u=m.getStartPosition().isBefore(h.getEndPosition()),u){const d=t.index<n.index?i:i+1,r=t.index<n.index?i+1:i,l=s[r].index,o=s[d].index,g=s[r].selection,c=s[d].selection;if(!g.equalsSelection(c)){const b=g.plusRange(c),C=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,S=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn;let D;l===this.lastAddedCursorIndex?(D=C,this.lastAddedCursorIndex=o):D=S;let I;D?I=new w.Selection(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):I=new w.Selection(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn),s[d].selection=I;const T=E.CursorState.fromModelSelection(I);a[o].setState(this.context,T.modelState,T.viewState)}for(const b of s)b.index>l&&b.index--;a.splice(l,1),s.splice(r,1),this._removeSecondaryCursor(l-1),i--}}}}e.CursorCollection=v}),define(ie[538],ne([1,0,124]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(L){if(L.autoClosingPairs?this._autoClosingPairs=L.autoClosingPairs.map(y=>new f.StandardAutoClosingPairConditional(y)):L.brackets?this._autoClosingPairs=L.brackets.map(y=>new f.StandardAutoClosingPairConditional({open:y[0],close:y[1]})):this._autoClosingPairs=[],L.__electricCharacterSupport&&L.__electricCharacterSupport.docComment){const y=L.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new f.StandardAutoClosingPairConditional({open:y.open,close:y.close||""}))}this._autoCloseBeforeForQuotes=typeof L.autoCloseBefore=="string"?L.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof L.autoCloseBefore=="string"?L.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=L.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(L){return L?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(ie[539],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function f(E){return E.global&&(E.lastIndex=0),!0}class k{constructor(L){this._indentationRules=L}shouldIncrease(L){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&f(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(L))}shouldDecrease(L){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&f(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(L))}shouldIndentNextLine(L){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&f(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(L))}shouldIgnore(L){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&f(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(L))}getIndentMetadata(L){let y=0;return this.shouldIncrease(L)&&(y+=1),this.shouldDecrease(L)&&(y+=2),this.shouldIndentNextLine(L)&&(y+=4),this.shouldIgnore(L)&&(y+=8),y}}e.IndentRulesSupport=k}),define(ie[540],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class f{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(E,L,y,p,w){if(E&&L){const v=this.doNavigateValueSet(L,w);if(v)return{range:E,value:v}}if(y&&p){const v=this.doNavigateValueSet(p,w);if(v)return{range:y,value:v}}return null}doNavigateValueSet(E,L){const y=this.numberReplace(E,L);return y!==null?y:this.textReplace(E,L)}numberReplace(E,L){const y=Math.pow(10,E.length-(E.lastIndexOf(".")+1));let p=Number(E);const w=parseFloat(E);return!isNaN(p)&&!isNaN(w)&&p===w?p===0&&!L?null:(p=Math.floor(p*y),p+=L?y:-y,String(p/y)):null}textReplace(E,L){return this.valueSetsReplace(this._defaultValueSet,E,L)}valueSetsReplace(E,L,y){let p=null;for(let w=0,v=E.length;p===null&&w<v;w++)p=this.valueSetReplace(E[w],L,y);return p}valueSetReplace(E,L,y){let p=E.indexOf(L);return p>=0?(p+=y?1:-1,p<0?p=E.length-1:p%=E.length,E[p]):null}}e.BasicInplaceReplace=f,f.INSTANCE=new f}),define(ie[541],ne([1,0,284]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(v,_){this.languageId=v;const a=_.brackets?E(_.brackets):[],s=new f.CachedFunction(n=>{const h=new Set;return{info:new y(this,n,h),closing:h}}),i=new f.CachedFunction(n=>{const h=new Set,m=new Set;return{info:new p(this,n,h,m),opening:h,openingColorized:m}});for(const[n,h]of a){const m=s.get(n),u=i.get(h);m.closing.add(u.info),u.opening.add(m.info)}const t=_.colorizedBracketPairs?E(_.colorizedBracketPairs):a.filter(n=>!(n[0]==="<"&&n[1]===">"));for(const[n,h]of t){const m=s.get(n),u=i.get(h);m.closing.add(u.info),u.openingColorized.add(m.info),u.opening.add(m.info)}this._openingBrackets=new Map([...s.cachedValues].map(([n,h])=>[n,h.info])),this._closingBrackets=new Map([...i.cachedValues].map(([n,h])=>[n,h.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(v){return this._openingBrackets.get(v)}getClosingBracketInfo(v){return this._closingBrackets.get(v)}getBracketInfo(v){return this.getOpeningBracketInfo(v)||this.getClosingBracketInfo(v)}}e.LanguageBracketsConfiguration=k;function E(w){return w.filter(([v,_])=>v!==""&&_!=="")}class L{constructor(v,_){this.config=v,this.bracketText=_}get languageId(){return this.config.languageId}}e.BracketKindBase=L;class y extends L{constructor(v,_,a){super(v,_),this.openedBrackets=a,this.isOpeningBracket=!0}}e.OpeningBracketKind=y;class p extends L{constructor(v,_,a,s){super(v,_),this.openingBrackets=a,this.openingColorizedBrackets=s,this.isOpeningBracket=!1}closes(v){return v.config!==this.config?!1:this.openingBrackets.has(v)}closesColorized(v){return v.config!==this.config?!1:this.openingColorizedBrackets.has(v)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=p}),define(ie[542],ne([1,0,12,11,124]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class L{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(w=>{const v=L._createOpenBracketRegExp(w[0]),_=L._createCloseBracketRegExp(w[1]);v&&_&&this._brackets.push({open:w[0],openRegExp:v,close:w[1],closeRegExp:_})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,w,v,_){if(p>=3)for(let a=0,s=this._regExpRules.length;a<s;a++){const i=this._regExpRules[a];if([{reg:i.beforeText,text:v},{reg:i.afterText,text:_},{reg:i.previousLineText,text:w}].every(n=>n.reg?(n.reg.lastIndex=0,n.reg.test(n.text)):!0))return i.action}if(p>=2&&v.length>0&&_.length>0)for(let a=0,s=this._brackets.length;a<s;a++){const i=this._brackets[a];if(i.openRegExp.test(v)&&i.closeRegExp.test(_))return{indentAction:E.IndentAction.IndentOutdent}}if(p>=2&&v.length>0){for(let a=0,s=this._brackets.length;a<s;a++)if(this._brackets[a].openRegExp.test(v))return{indentAction:E.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let w=k.escapeRegExpCharacters(p);return/\B/.test(w.charAt(0))||(w="\\b"+w),w+="\\s*$",L._safeRegExp(w)}static _createCloseBracketRegExp(p){let w=k.escapeRegExpCharacters(p);return/\B/.test(w.charAt(w.length-1))||(w=w+"\\b"),w="^\\s*"+w,L._safeRegExp(w)}static _safeRegExp(p){try{return new RegExp(p)}catch(w){return(0,f.onUnexpectedError)(w),null}}}e.OnEnterSupport=L}),define(ie[543],ne([1,0,34]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeTrieElement=e.ThemeTrieElementRule=e.TokenTheme=e.ColorMap=e.ParsedTokenThemeRule=void 0,e.parseTokenTheme=E,e.toStandardTokenType=_,e.strcmp=a,e.generateTokensCSSForColorMap=t;class k{constructor(h,m,u,d,r){this._parsedThemeRuleBrand=void 0,this.token=h,this.index=m,this.fontStyle=u,this.foreground=d,this.background=r}}e.ParsedTokenThemeRule=k;function E(n){if(!n||!Array.isArray(n))return[];const h=[];let m=0;for(let u=0,d=n.length;u<d;u++){const r=n[u];let l=-1;if(typeof r.fontStyle=="string"){l=0;const c=r.fontStyle.split(" ");for(let b=0,C=c.length;b<C;b++)switch(c[b]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let o=null;typeof r.foreground=="string"&&(o=r.foreground);let g=null;typeof r.background=="string"&&(g=r.background),h[m++]=new k(r.token||"",u,l,o,g)}return h}function L(n,h){n.sort((b,C)=>{const S=a(b.token,C.token);return S!==0?S:b.index-C.index});let m=0,u="000000",d="ffffff";for(;n.length>=1&&n[0].token==="";){const b=n.shift();b.fontStyle!==-1&&(m=b.fontStyle),b.foreground!==null&&(u=b.foreground),b.background!==null&&(d=b.background)}const r=new p;for(const b of h)r.getId(b);const l=r.getId(u),o=r.getId(d),g=new s(m,l,o),c=new i(g);for(let b=0,C=n.length;b<C;b++){const S=n[b];c.insert(S.token,S.fontStyle,r.getId(S.foreground),r.getId(S.background))}return new w(r,c)}const y=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(h){if(h===null)return 0;const m=h.match(y);if(!m)throw new Error("Illegal value for token color: "+h);h=m[1].toUpperCase();let u=this._color2id.get(h);return u||(u=++this._lastColorId,this._color2id.set(h,u),this._id2color[u]=f.Color.fromHex("#"+h),u)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class w{static createFromRawTokenTheme(h,m){return this.createFromParsedTokenTheme(E(h),m)}static createFromParsedTokenTheme(h,m){return L(h,m)}constructor(h,m){this._colorMap=h,this._root=m,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(h){return this._root.match(h)}match(h,m){let u=this._cache.get(m);if(typeof u>"u"){const d=this._match(m),r=_(m);u=(d.metadata|r<<8)>>>0,this._cache.set(m,u)}return(u|h<<0)>>>0}}e.TokenTheme=w;const v=/\b(comment|string|regex|regexp)\b/;function _(n){const h=n.match(v);if(!h)return 0;switch(h[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function a(n,h){return n<h?-1:n>h?1:0}class s{constructor(h,m,u){this._themeTrieElementRuleBrand=void 0,this._fontStyle=h,this._foreground=m,this._background=u,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new s(this._fontStyle,this._foreground,this._background)}acceptOverwrite(h,m,u){h!==-1&&(this._fontStyle=h),m!==0&&(this._foreground=m),u!==0&&(this._background=u),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=s;class i{constructor(h){this._themeTrieElementBrand=void 0,this._mainRule=h,this._children=new Map}match(h){if(h==="")return this._mainRule;const m=h.indexOf(".");let u,d;m===-1?(u=h,d=""):(u=h.substring(0,m),d=h.substring(m+1));const r=this._children.get(u);return typeof r<"u"?r.match(d):this._mainRule}insert(h,m,u,d){if(h===""){this._mainRule.acceptOverwrite(m,u,d);return}const r=h.indexOf(".");let l,o;r===-1?(l=h,o=""):(l=h.substring(0,r),o=h.substring(r+1));let g=this._children.get(l);typeof g>"u"&&(g=new i(this._mainRule.clone()),this._children.set(l,g)),g.insert(o,m,u,d)}}e.ThemeTrieElement=i;function t(n){const h=[];for(let m=1,u=n.length;m<u;m++){const d=n[m];h[m]=`.mtk${m} { color: ${d}; }`}return h.push(".mtki { font-style: italic; }"),h.push(".mtkb { font-weight: bold; }"),h.push(".mtku { text-decoration: underline; text-underline-position: under; }"),h.push(".mtks { text-decoration: line-through; }"),h.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),h.join(`
`)}}),define(ie[43],ne([1,0,55]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.GlyphMarginLane=e.OverviewRulerLane=void 0,e.isITextSnapshot=w,e.shouldSynchronizeModel=s;var k;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var E;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=3]="Right"})(E||(e.GlyphMarginLane=E={}));var L;(function(i){i[i.Both=0]="Both",i[i.Right=1]="Right",i[i.Left=2]="Left",i[i.None=3]="None"})(L||(e.InjectedTextCursorStops=L={}));class y{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),t.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,t.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!t.insertSpaces,this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=!!t.trimAutoWhitespace,this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this._indentSizeIsTabSize===t._indentSizeIsTabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,f.equals)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}e.TextModelResolvedOptions=y;class p{constructor(t,n){this._findMatchBrand=void 0,this.range=t,this.matches=n}}e.FindMatch=p;function w(i){return i&&typeof i.read=="function"}class v{constructor(t,n,h,m,u,d){this.identifier=t,this.range=n,this.text=h,this.forceMoveMarkers=m,this.isAutoWhitespaceEdit=u,this._isTracked=d}}e.ValidAnnotatedEditOperation=v;class _{constructor(t,n,h){this.regex=t,this.wordSeparators=n,this.simpleSearch=h}}e.SearchData=_;class a{constructor(t,n,h){this.reverseEdits=t,this.changes=n,this.trimAutoWhitespaceLineNumbers=h}}e.ApplyEditsResult=a;function s(i){return!i.isTooLargeForSyncing()&&!i.isForSimpleWidget}}),define(ie[101],ne([1,0,11,5,122]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthZero=void 0,e.lengthDiff=L,e.lengthIsZero=y,e.toLength=w,e.lengthToObj=v,e.lengthGetLineCount=_,e.lengthGetColumnCountIfZeroLineCount=a,e.lengthAdd=s,e.sumLengths=i,e.lengthEquals=t,e.lengthDiffNonNegative=n,e.lengthLessThan=h,e.lengthLessThanEqual=m,e.lengthGreaterThanEqual=u,e.positionToLength=d,e.lengthsToRange=r,e.lengthOfString=l;function L(o,g,c,b){return o!==c?w(c-o,b):w(0,b-g)}e.lengthZero=0;function y(o){return o===0}const p=2**26;function w(o,g){return o*p+g}function v(o){const g=o,c=Math.floor(g/p),b=g-c*p;return new E.TextLength(c,b)}function _(o){return Math.floor(o/p)}function a(o){return o}function s(o,g){let c=o+g;return g>=p&&(c=c-o%p),c}function i(o,g){return o.reduce((c,b)=>s(c,g(b)),e.lengthZero)}function t(o,g){return o===g}function n(o,g){const c=o,b=g;if(b-c<=0)return e.lengthZero;const S=Math.floor(c/p),D=Math.floor(b/p),I=b-D*p;if(S===D){const T=c-S*p;return w(0,I-T)}else return w(D-S,I)}function h(o,g){return o<g}function m(o,g){return o<=g}function u(o,g){return o>=g}function d(o){return w(o.lineNumber-1,o.column-1)}function r(o,g){const c=o,b=Math.floor(c/p),C=c-b*p,S=g,D=Math.floor(S/p),I=S-D*p;return new k.Range(b+1,C+1,D+1,I+1)}function l(o){const g=(0,f.splitLines)(o);return w(g.length-1,g[g.length-1].length)}}),define(ie[191],ne([1,0,5,101]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class E{static fromModelContentChanges(w){return w.map(_=>{const a=f.Range.lift(_.range);return new E((0,k.positionToLength)(a.getStartPosition()),(0,k.positionToLength)(a.getEndPosition()),(0,k.lengthOfString)(_.text))}).reverse()}constructor(w,v,_){this.startOffset=w,this.endOffset=v,this.newLength=_}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=E;class L{constructor(w){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=w.map(v=>y.from(v))}getOffsetBeforeChange(w){return this.adjustNextEdit(w),this.translateCurToOld(w)}getDistanceToNextChange(w){this.adjustNextEdit(w);const v=this.edits[this.nextEditIdx],_=v?this.translateOldToCur(v.offsetObj):null;return _===null?null:(0,k.lengthDiffNonNegative)(w,_)}translateOldToCur(w){return w.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount)}translateCurToOld(w){const v=(0,k.lengthToObj)(w);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(w){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],_=this.translateOldToCur(v.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(_,w)){this.nextEditIdx++;const a=(0,k.lengthToObj)(_),s=(0,k.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),i=a.lineCount-s.lineCount;this.deltaOldToNewLineCount+=i;const t=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,n=a.columnCount-s.columnCount;this.deltaOldToNewColumnCount=t+n,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=L;class y{static from(w){return new y(w.startOffset,w.endOffset,w.newLength)}constructor(w,v,_){this.endOffsetBeforeObj=(0,k.lengthToObj)(v),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(w,_)),this.offsetObj=(0,k.lengthToObj)(w)}}}),define(ie[306],ne([1,0,13,191,101]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=L;function L(w,v){if(w.length===0)return v;if(v.length===0)return w;const _=new f.ArrayQueue(p(w)),a=p(v);a.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let s=_.dequeue();function i(m){if(m===void 0){const d=_.takeWhile(r=>!0)||[];return s&&d.unshift(s),d}const u=[];for(;s&&!(0,E.lengthIsZero)(m);){const[d,r]=s.splitAt(m);u.push(d),m=(0,E.lengthDiffNonNegative)(d.lengthAfter,m),s=r??_.dequeue()}return(0,E.lengthIsZero)(m)||u.push(new y(!1,m,m)),u}const t=[];function n(m,u,d){if(t.length>0&&(0,E.lengthEquals)(t[t.length-1].endOffset,m)){const r=t[t.length-1];t[t.length-1]=new k.TextEditInfo(r.startOffset,u,(0,E.lengthAdd)(r.newLength,d))}else t.push({startOffset:m,endOffset:u,newLength:d})}let h=E.lengthZero;for(const m of a){const u=i(m.lengthBefore);if(m.modified){const d=(0,E.sumLengths)(u,l=>l.lengthBefore),r=(0,E.lengthAdd)(h,d);n(h,r,m.lengthAfter),h=r}else for(const d of u){const r=h;h=(0,E.lengthAdd)(h,d.lengthBefore),d.modified&&n(r,h,d.lengthAfter)}}return t}class y{constructor(v,_,a){this.modified=v,this.lengthBefore=_,this.lengthAfter=a}splitAt(v){const _=(0,E.lengthDiffNonNegative)(v,this.lengthAfter);return(0,E.lengthEquals)(_,E.lengthZero)?[this,void 0]:this.modified?[new y(this.modified,this.lengthBefore,v),new y(this.modified,E.lengthZero,_)]:[new y(this.modified,v,v),new y(this.modified,_,_)]}toString(){return`${this.modified?"M":"U"}:${(0,E.lengthToObj)(this.lengthBefore)} -> ${(0,E.lengthToObj)(this.lengthAfter)}`}}function p(w){const v=[];let _=E.lengthZero;for(const a of w){const s=(0,E.lengthDiffNonNegative)(_,a.startOffset);(0,E.lengthIsZero)(s)||v.push(new y(!1,s,s));const i=(0,E.lengthDiffNonNegative)(a.startOffset,a.endOffset);v.push(new y(!0,i,a.newLength)),_=a.endOffset}return v}}),define(ie[544],ne([1,0,101]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(p){this.lastOffset=f.lengthZero,this.nextNodes=[p],this.offsets=[f.lengthZero],this.idxs=[]}readLongestNodeAt(p,w){if((0,f.lengthLessThan)(p,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=p;;){const v=L(this.nextNodes);if(!v)return;const _=L(this.offsets);if((0,f.lengthLessThan)(p,_))return;if((0,f.lengthLessThan)(_,p))if((0,f.lengthAdd)(_,v.length)<=p)this.nextNodeAfterCurrent();else{const a=E(v);a!==-1?(this.nextNodes.push(v.getChild(a)),this.offsets.push(_),this.idxs.push(a)):this.nextNodeAfterCurrent()}else{if(w(v))return this.nextNodeAfterCurrent(),v;{const a=E(v);if(a===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(v.getChild(a)),this.offsets.push(_),this.idxs.push(a)}}}}nextNodeAfterCurrent(){for(;;){const p=L(this.offsets),w=L(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const v=L(this.nextNodes),_=E(v,this.idxs[this.idxs.length-1]);if(_!==-1){this.nextNodes.push(v.getChild(_)),this.offsets.push((0,f.lengthAdd)(p,w.length)),this.idxs[this.idxs.length-1]=_;break}else this.idxs.pop()}}}e.NodeReader=k;function E(y,p=-1){for(;;){if(p++,p>=y.childrenLength)return-1;if(y.getChild(p))return p}}function L(y){return y.length>0?y[y.length-1]:void 0}}),define(ie[144],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const f=[];class k{static create(y,p){if(y<=128&&p.length===0){let w=k.cache[y];return w||(w=new k(y,p),k.cache[y]=w),w}return new k(y,p)}static getEmpty(){return this.empty}constructor(y,p){this.items=y,this.additionalItems=p}add(y,p){const w=p.getKey(y);let v=w>>5;if(v===0){const a=1<<w|this.items;return a===this.items?this:k.create(a,this.additionalItems)}v--;const _=this.additionalItems.slice(0);for(;_.length<v;)_.push(0);return _[v]|=1<<(w&31),k.create(this.items,_)}merge(y){const p=this.items|y.items;if(this.additionalItems===f&&y.additionalItems===f)return p===this.items?this:p===y.items?y:k.create(p,f);const w=[];for(let v=0;v<Math.max(this.additionalItems.length,y.additionalItems.length);v++){const _=this.additionalItems[v]||0,a=y.additionalItems[v]||0;w.push(_|a)}return k.create(p,w)}intersects(y){if(this.items&y.items)return!0;for(let p=0;p<Math.min(this.additionalItems.length,y.additionalItems.length);p++)if(this.additionalItems[p]&y.additionalItems[p])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,f),e.identityKeyProvider={getKey(L){return L}};class E{constructor(){this.items=new Map}getKey(y){let p=this.items.get(y);return p===void 0&&(p=this.items.size,this.items.set(y,p)),p}}e.DenseKeyProvider=E}),define(ie[192],ne([1,0,12,90,101,144]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class y{get length(){return this._length}constructor(d){this._length=d}}class p extends y{static create(d,r,l){let o=d.length;return r&&(o=(0,E.lengthAdd)(o,r.length)),l&&(o=(0,E.lengthAdd)(o,l.length)),new p(o,d,r,l,r?r.missingOpeningBracketIds:L.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(d){switch(d){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const d=[];return d.push(this.openingBracket),this.child&&d.push(this.child),this.closingBracket&&d.push(this.closingBracket),d}constructor(d,r,l,o,g){super(d),this.openingBracket=r,this.child=l,this.closingBracket=o,this.missingOpeningBracketIds=g}canBeReused(d){return!(this.closingBracket===null||d.intersects(this.missingOpeningBracketIds))}deepClone(){return new p(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(d,r){return this.child?this.child.computeMinIndentation((0,E.lengthAdd)(d,this.openingBracket.length),r):Number.MAX_SAFE_INTEGER}}e.PairAstNode=p;class w extends y{static create23(d,r,l,o=!1){let g=d.length,c=d.missingOpeningBracketIds;if(d.listHeight!==r.listHeight)throw new Error("Invalid list heights");if(g=(0,E.lengthAdd)(g,r.length),c=c.merge(r.missingOpeningBracketIds),l){if(d.listHeight!==l.listHeight)throw new Error("Invalid list heights");g=(0,E.lengthAdd)(g,l.length),c=c.merge(l.missingOpeningBracketIds)}return o?new _(g,d.listHeight+1,d,r,l,c):new v(g,d.listHeight+1,d,r,l,c)}static getEmpty(){return new s(E.lengthZero,0,[],L.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(d,r,l){super(d),this.listHeight=r,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const d=this.childrenLength;if(d===0)return;const r=this.getChild(d-1),l=r.kind===4?r.toMutable():r;return r!==l&&this.setChild(d-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const r=this.getChild(0),l=r.kind===4?r.toMutable():r;return r!==l&&this.setChild(0,l),l}canBeReused(d){if(d.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let r=this;for(;r.kind===4;){const l=r.childrenLength;if(l===0)throw new f.BugIndicatingError;r=r.getChild(l-1)}return r.canBeReused(d)}handleChildrenChanged(){this.throwIfImmutable();const d=this.childrenLength;let r=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let o=1;o<d;o++){const g=this.getChild(o);r=(0,E.lengthAdd)(r,g.length),l=l.merge(g.missingOpeningBracketIds)}this._length=r,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(d,r){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,o=d;for(let g=0;g<this.childrenLength;g++){const c=this.getChild(g);c&&(l=Math.min(l,c.computeMinIndentation(o,r)),o=(0,E.lengthAdd)(o,c.length))}return this.cachedMinIndentation=l,l}}e.ListAstNode=w;class v extends w{get childrenLength(){return this._item3!==null?3:2}getChild(d){switch(d){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(d,r){switch(d){case 0:this._item1=r;return;case 1:this._item2=r;return;case 2:this._item3=r;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(d,r,l,o,g,c){super(d,r,c),this._item1=l,this._item2=o,this._item3=g}deepClone(){return new v(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=d,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item3;return this._item3=null,this.handleChildrenChanged(),d}prependChildOfSameHeight(d){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=d,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),d}toMutable(){return this}}class _ extends v{toMutable(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class a extends w{get childrenLength(){return this._children.length}getChild(d){return this._children[d]}setChild(d,r){this._children[d]=r}get children(){return this._children}constructor(d,r,l,o){super(d,r,o),this._children=l}deepClone(){const d=new Array(this._children.length);for(let r=0;r<this._children.length;r++)d[r]=this._children[r].deepClone();return new a(this.length,this.listHeight,d,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){this.throwIfImmutable(),this._children.push(d),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const d=this._children.pop();return this.handleChildrenChanged(),d}prependChildOfSameHeight(d){this.throwIfImmutable(),this._children.unshift(d),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const d=this._children.shift();return this.handleChildrenChanged(),d}toMutable(){return this}}class s extends a{toMutable(){return new a(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class t extends y{get listHeight(){return 0}get childrenLength(){return 0}getChild(d){return null}get children(){return i}deepClone(){return this}}class n extends t{get kind(){return 0}get missingOpeningBracketIds(){return L.SmallImmutableSet.getEmpty()}canBeReused(d){return!0}computeMinIndentation(d,r){const l=(0,E.lengthToObj)(d),o=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,g=(0,E.lengthGetLineCount)((0,E.lengthAdd)(d,this.length))+1;let c=Number.MAX_SAFE_INTEGER;for(let b=o;b<=g;b++){const C=r.getLineFirstNonWhitespaceColumn(b),S=r.getLineContent(b);if(C===0)continue;const D=k.CursorColumns.visibleColumnFromColumn(S,C,r.getOptions().tabSize);c=Math.min(c,D)}return c}}e.TextAstNode=n;class h extends t{static create(d,r,l){return new h(d,r,l)}get kind(){return 1}get missingOpeningBracketIds(){return L.SmallImmutableSet.getEmpty()}constructor(d,r,l){super(d),this.bracketInfo=r,this.bracketIds=l}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(d){return!1}computeMinIndentation(d,r){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=h;class m extends t{get kind(){return 3}constructor(d,r){super(r),this.missingOpeningBracketIds=d}canBeReused(d){return!d.intersects(this.missingOpeningBracketIds)}computeMinIndentation(d,r){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=m}),define(ie[545],ne([1,0,192]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23Trees=k,e.concat23TreesOfSameHeight=E;function k(v){if(v.length===0)return null;if(v.length===1)return v[0];let _=0;function a(){if(_>=v.length)return null;const n=_,h=v[n].listHeight;for(_++;_<v.length&&v[_].listHeight===h;)_++;return _-n>=2?E(n===0&&_===v.length?v:v.slice(n,_),!1):v[n]}let s=a(),i=a();if(!i)return s;for(let n=a();n;n=a())L(s,i)<=L(i,n)?(s=y(s,i),i=n):i=y(i,n);return y(s,i)}function E(v,_=!1){if(v.length===0)return null;if(v.length===1)return v[0];let a=v.length;for(;a>3;){const s=a>>1;for(let i=0;i<s;i++){const t=i<<1;v[i]=f.ListAstNode.create23(v[t],v[t+1],t+3===a?v[t+2]:null,_)}a=s}return f.ListAstNode.create23(v[0],v[1],a>=3?v[2]:null,_)}function L(v,_){return Math.abs(v.listHeight-_.listHeight)}function y(v,_){return v.listHeight===_.listHeight?f.ListAstNode.create23(v,_,null,!1):v.listHeight>_.listHeight?p(v,_):w(_,v)}function p(v,_){v=v.toMutable();let a=v;const s=[];let i;for(;;){if(_.listHeight===a.listHeight){i=_;break}if(a.kind!==4)throw new Error("unexpected");s.push(a),a=a.makeLastElementMutable()}for(let t=s.length-1;t>=0;t--){const n=s[t];i?n.childrenLength>=3?i=f.ListAstNode.create23(n.unappendChild(),i,null,!1):(n.appendChildOfSameHeight(i),i=void 0):n.handleChildrenChanged()}return i?f.ListAstNode.create23(v,i,null,!1):v}function w(v,_){v=v.toMutable();let a=v;const s=[];for(;_.listHeight!==a.listHeight;){if(a.kind!==4)throw new Error("unexpected");s.push(a),a=a.makeFirstElementMutable()}let i=_;for(let t=s.length-1;t>=0;t--){const n=s[t];i?n.childrenLength>=3?i=f.ListAstNode.create23(i,n.unprependChild(),null,!1):(n.prependChildOfSameHeight(i),i=void 0):n.handleChildrenChanged()}return i?f.ListAstNode.create23(i,v,null,!1):v}}),define(ie[307],ne([1,0,192,191,144,101,545,544]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=w;function w(_,a,s,i){return new v(_,a,s,i).parseDocument()}class v{constructor(a,s,i,t){if(this.tokenizer=a,this.createImmutableLists=t,this._itemsConstructed=0,this._itemsFromCache=0,i&&t)throw new Error("Not supported");this.oldNodeReader=i?new p.NodeReader(i):void 0,this.positionMapper=new k.BeforeEditPositionMapper(s)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let a=this.parseList(E.SmallImmutableSet.getEmpty(),0);return a||(a=f.ListAstNode.getEmpty()),a}parseList(a,s){const i=[];for(;;){let n=this.tryReadChildFromCache(a);if(!n){const h=this.tokenizer.peek();if(!h||h.kind===2&&h.bracketIds.intersects(a))break;n=this.parseChild(a,s+1)}n.kind===4&&n.childrenLength===0||i.push(n)}return this.oldNodeReader?(0,y.concat23Trees)(i):(0,y.concat23TreesOfSameHeight)(i,this.createImmutableLists)}tryReadChildFromCache(a){if(this.oldNodeReader){const s=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(s===null||!(0,L.lengthIsZero)(s)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>s!==null&&!(0,L.lengthLessThan)(t.length,s)?!1:t.canBeReused(a));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(a,s){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new f.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(s>300)return new f.TextAstNode(i.length);const t=a.merge(i.bracketIds),n=this.parseList(t,s+1),h=this.tokenizer.peek();return h&&h.kind===2&&(h.bracketId===i.bracketId||h.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),f.PairAstNode.create(i.astNode,n,h.astNode)):f.PairAstNode.create(i.astNode,n,null)}default:throw new Error("unexpected")}}}}),define(ie[226],ne([1,0,12,142,192,101,144]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class p{constructor(s,i,t,n,h){this.length=s,this.kind=i,this.bracketId=t,this.bracketIds=n,this.astNode=h}}e.Token=p;class w{constructor(s,i){this.textModel=s,this.bracketTokens=i,this.reader=new v(this.textModel,this.bracketTokens),this._offset=L.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,L.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(s){this.didPeek=!1,this._offset=(0,L.lengthAdd)(this._offset,s);const i=(0,L.lengthToObj)(this._offset);this.reader.setPosition(i.lineCount,i.columnCount)}read(){let s;return this.peeked?(this.didPeek=!1,s=this.peeked):s=this.reader.read(),s&&(this._offset=(0,L.lengthAdd)(this._offset,s.length)),s}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=w;class v{constructor(s,i){this.textModel=s,this.bracketTokens=i,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}setPosition(s,i){s===this.lineIdx?(this.lineCharOffset=i,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=s,this.lineCharOffset=i,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const h=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,L.lengthGetColumnCountIfZeroLineCount)(h.length),h}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const s=this.lineIdx,i=this.lineCharOffset;let t=0;for(;;){const h=this.lineTokens,m=h.getCount();let u=null;if(this.lineTokenOffset<m){const d=h.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<m&&d===h.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const r=k.TokenMetadata.getTokenType(d)===0,l=k.TokenMetadata.containsBalancedBrackets(d),o=h.getEndOffset(this.lineTokenOffset);if(l&&r&&this.lineCharOffset<o){const g=h.getLanguageId(this.lineTokenOffset),c=this.line.substring(this.lineCharOffset,o),b=this.bracketTokens.getSingleLanguageBracketTokens(g),C=b.regExpGlobal;if(C){C.lastIndex=0;const S=C.exec(c);S&&(u=b.getToken(S[0]),u&&(this.lineCharOffset+=S.index))}}if(t+=o-this.lineCharOffset,u)if(s!==this.lineIdx||i!==this.lineCharOffset){this.peekedToken=u;break}else return this.lineCharOffset+=(0,L.lengthGetColumnCountIfZeroLineCount)(u.length),u;else this.lineTokenOffset++,this.lineCharOffset=o}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,t+=33,t>1e3))break;if(t>1500)break}const n=(0,L.lengthDiff)(s,i,this.lineIdx,this.lineCharOffset);return new p(n,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(n))}}class _{constructor(s,i){this.text=s,this._offset=L.lengthZero,this.idx=0;const t=i.getRegExpStr(),n=t?new RegExp(t+`|
`,"gi"):null,h=[];let m,u=0,d=0,r=0,l=0;const o=[];for(let b=0;b<60;b++)o.push(new p((0,L.toLength)(0,b),0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,L.toLength)(0,b))));const g=[];for(let b=0;b<60;b++)g.push(new p((0,L.toLength)(1,b),0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,L.toLength)(1,b))));if(n)for(n.lastIndex=0;(m=n.exec(s))!==null;){const b=m.index,C=m[0];if(C===`
`)u++,d=b+1;else{if(r!==b){let S;if(l===u){const D=b-r;if(D<o.length)S=o[D];else{const I=(0,L.toLength)(0,D);S=new p(I,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(I))}}else{const D=u-l,I=b-d;if(D===1&&I<g.length)S=g[I];else{const T=(0,L.toLength)(D,I);S=new p(T,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(T))}}h.push(S)}h.push(i.getToken(C)),r=b+C.length,l=u}}const c=s.length;if(r!==c){const b=l===u?(0,L.toLength)(0,c-r):(0,L.toLength)(u-l,c-d);h.push(new p(b,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(b)))}this.length=(0,L.toLength)(u,c-d),this.tokens=h}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(s){throw new f.NotSupportedError}}e.FastTokenizer=_}),define(ie[308],ne([1,0,11,192,101,144,226]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class p{static createFromLanguage(a,s){function i(n){return s.getKey(`${n.languageId}:::${n.bracketText}`)}const t=new Map;for(const n of a.bracketsNew.openingBrackets){const h=(0,E.toLength)(0,n.bracketText.length),m=i(n),u=L.SmallImmutableSet.getEmpty().add(m,L.identityKeyProvider);t.set(n.bracketText,new y.Token(h,1,m,u,k.BracketAstNode.create(h,n,u)))}for(const n of a.bracketsNew.closingBrackets){const h=(0,E.toLength)(0,n.bracketText.length);let m=L.SmallImmutableSet.getEmpty();const u=n.getOpeningBrackets();for(const d of u)m=m.add(i(d),L.identityKeyProvider);t.set(n.bracketText,new y.Token(h,2,i(u[0]),m,k.BracketAstNode.create(h,n,m)))}return new p(t)}constructor(a){this.map=a,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const a=[...this.map.keys()];return a.sort(),a.reverse(),a.map(s=>w(s)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const a=this.getRegExpStr();this._regExpGlobal=a?new RegExp(a,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(a){return this.map.get(a.toLowerCase())}findClosingTokenText(a){for(const[s,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(a))return s}get isEmpty(){return this.map.size===0}}e.BracketTokens=p;function w(_){let a=(0,f.escapeRegExpCharacters)(_);return/^[\w ]+/.test(_)&&(a=`\\b${a}`),/[\w ]+$/.test(_)&&(a=`${a}\\b`),a}class v{constructor(a,s){this.denseKeyProvider=a,this.getLanguageConfiguration=s,this.languageIdToBracketTokens=new Map}didLanguageChange(a){return this.languageIdToBracketTokens.has(a)}getSingleLanguageBracketTokens(a){let s=this.languageIdToBracketTokens.get(a);return s||(s=p.createFromLanguage(this.getLanguageConfiguration(a),this.denseKeyProvider),this.languageIdToBracketTokens.set(a,s)),s}}e.LanguageAgnosticBracketTokens=v}),define(ie[546],ne([1,0,308,101,307,144,226]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=p;function p(v,_){const a=new L.DenseKeyProvider,s=new f.LanguageAgnosticBracketTokens(a,u=>_.getLanguageConfiguration(u)),i=new y.TextBufferTokenizer(new w([v]),s),t=(0,E.parseDocument)(i,[],void 0,!0);let n="";const h=v.getLineContent();function m(u,d){if(u.kind===2)if(m(u.openingBracket,d),d=(0,k.lengthAdd)(d,u.openingBracket.length),u.child&&(m(u.child,d),d=(0,k.lengthAdd)(d,u.child.length)),u.closingBracket)m(u.closingBracket,d),d=(0,k.lengthAdd)(d,u.closingBracket.length);else{const l=s.getSingleLanguageBracketTokens(u.openingBracket.languageId).findClosingTokenText(u.openingBracket.bracketIds);n+=l}else if(u.kind!==3){if(u.kind===0||u.kind===1)n+=h.substring((0,k.lengthGetColumnCountIfZeroLineCount)(d),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(d,u.length)));else if(u.kind===4)for(const r of u.children)m(r,d),d=(0,k.lengthAdd)(d,r.length)}}return m(t,k.lengthZero),n}class w{constructor(_){this.lines=_,this.tokenization={getLineTokens:a=>this.lines[a-1]}}getLineCount(){return this.lines.length}getLineLength(_){return this.lines[_-1].getLineContent().length}}}),define(ie[547],ne([1,0,13]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(y){this._default=y,this._store=[]}get(y){return y<this._store.length?this._store[y]:this._default}set(y,p){for(;y>=this._store.length;)this._store[this._store.length]=this._default;this._store[y]=p}replace(y,p,w){if(y>=this._store.length)return;if(p===0){this.insert(y,w);return}else if(w===0){this.delete(y,p);return}const v=this._store.slice(0,y),_=this._store.slice(y+p),a=E(w,this._default);this._store=v.concat(a,_)}delete(y,p){p===0||y>=this._store.length||this._store.splice(y,p)}insert(y,p){if(p===0||y>=this._store.length)return;const w=[];for(let v=0;v<p;v++)w[v]=this._default;this._store=(0,f.arrayInsert)(this._store,y,w)}}e.FixedArray=k;function E(L,y){const p=[];for(let w=0;w<L;w++)p[w]=y;return p}}),define(ie[548],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=E;class f{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(L,y,p,w,v){v.spacesDiff=0,v.looksLikeAlignment=!1;let _;for(_=0;_<y&&_<w;_++){const m=L.charCodeAt(_),u=p.charCodeAt(_);if(m!==u)break}let a=0,s=0;for(let m=_;m<y;m++)L.charCodeAt(m)===32?a++:s++;let i=0,t=0;for(let m=_;m<w;m++)p.charCodeAt(m)===32?i++:t++;if(a>0&&s>0||i>0&&t>0)return;const n=Math.abs(s-t),h=Math.abs(a-i);if(n===0){v.spacesDiff=h,h>0&&0<=i-1&&i-1<L.length&&i<p.length&&p.charCodeAt(i)!==32&&L.charCodeAt(i-1)===32&&L.charCodeAt(L.length-1)===44&&(v.looksLikeAlignment=!0);return}if(h%n===0){v.spacesDiff=h/n;return}}function E(L,y,p){const w=Math.min(L.getLineCount(),1e4);let v=0,_=0,a="",s=0;const i=[2,4,6,8,3,5,7],t=8,n=[0,0,0,0,0,0,0,0,0],h=new f;for(let d=1;d<=w;d++){const r=L.getLineLength(d),l=L.getLineContent(d),o=r<=65536;let g=!1,c=0,b=0,C=0;for(let D=0,I=r;D<I;D++){const T=o?l.charCodeAt(D):L.getLineCharCode(d,D);if(T===9)C++;else if(T===32)b++;else{g=!0,c=D;break}}if(!g||(C>0?v++:b>1&&_++,k(a,s,l,c,h),h.looksLikeAlignment&&!(p&&y===h.spacesDiff)))continue;const S=h.spacesDiff;S<=t&&n[S]++,a=l,s=c}let m=p;v!==_&&(m=v<_);let u=y;if(m){let d=m?0:.1*w;i.forEach(r=>{const l=n[r];l>d&&(d=l,u=r)}),u===4&&n[4]>0&&n[2]>0&&n[2]>=n[4]/2&&(u=2)}return{insertSpaces:m,tabSize:u}}}),define(ie[549],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalTree=e.SENTINEL=e.IntervalNode=void 0,e.getNodeColor=f,e.nodeAcceptEdit=u,e.recomputeMaxEnd=P,e.intervalCompare=R;function f(F){return(F.metadata&1)>>>0}function k(F,O){F.metadata=F.metadata&254|O<<0}function E(F){return(F.metadata&2)>>>1===1}function L(F,O){F.metadata=F.metadata&253|(O?1:0)<<1}function y(F){return(F.metadata&4)>>>2===1}function p(F,O){F.metadata=F.metadata&251|(O?1:0)<<2}function w(F){return(F.metadata&64)>>>6===1}function v(F,O){F.metadata=F.metadata&191|(O?1:0)<<6}function _(F){return(F.metadata&24)>>>3}function a(F,O){F.metadata=F.metadata&231|O<<3}function s(F){return(F.metadata&32)>>>5===1}function i(F,O){F.metadata=F.metadata&223|(O?1:0)<<5}class t{constructor(O,B,H){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=B,this.end=H,this.delta=0,this.maxEnd=H,this.id=O,this.ownerId=0,this.options=null,p(this,!1),v(this,!1),a(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=H,this.range=null,L(this,!1)}reset(O,B,H,V){this.start=B,this.end=H,this.maxEnd=H,this.cachedVersionId=O,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=H,this.range=V}setOptions(O){this.options=O;const B=this.options.className;p(this,B==="squiggly-error"||B==="squiggly-warning"||B==="squiggly-info"),v(this,this.options.glyphMarginClassName!==null),a(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(O,B,H){this.cachedVersionId!==H&&(this.range=null),this.cachedVersionId=H,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=B}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class n{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(O,B,H,V,q,z){return this.root===e.SENTINEL?[]:c(this,O,B,H,V,q,z)}search(O,B,H,V){return this.root===e.SENTINEL?[]:g(this,O,B,H,V)}collectNodesFromOwner(O){return l(this,O)}collectNodesPostOrder(){return o(this)}insert(O){b(this,O),this._normalizeDeltaIfNecessary()}delete(O){S(this,O),this._normalizeDeltaIfNecessary()}resolveNode(O,B){const H=O;let V=0;for(;O!==this.root;)O===O.parent.right&&(V+=O.parent.delta),O=O.parent;const q=H.start+V,z=H.end+V;H.setCachedOffsets(q,z,B)}acceptReplace(O,B,H,V){const q=d(this,O,O+B);for(let z=0,U=q.length;z<U;z++){const Z=q[z];S(this,Z)}this._normalizeDeltaIfNecessary(),r(this,O,O+B,H),this._normalizeDeltaIfNecessary();for(let z=0,U=q.length;z<U;z++){const Z=q[z];Z.start=Z.cachedAbsoluteStart,Z.end=Z.cachedAbsoluteEnd,u(Z,O,O+B,H,V),Z.maxEnd=Z.end,b(this,Z)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,h(this))}}e.IntervalTree=n;function h(F){let O=F.root,B=0;for(;O!==e.SENTINEL;){if(O.left!==e.SENTINEL&&!E(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!E(O.right)){B+=O.delta,O=O.right;continue}O.start=B+O.start,O.end=B+O.end,O.delta=0,P(O),L(O,!0),L(O.left,!1),L(O.right,!1),O===O.parent.right&&(B-=O.parent.delta),O=O.parent}L(F.root,!1)}function m(F,O,B,H){return F<B?!0:F>B||H===1?!1:H===2?!0:O}function u(F,O,B,H,V){const q=_(F),z=q===0||q===2,U=q===1||q===2,Z=B-O,re=H,x=Math.min(Z,re),Q=F.start;let X=!1;const Y=F.end;let ae=!1;O<=Q&&Y<=B&&s(F)&&(F.start=O,X=!0,F.end=O,ae=!0);{const he=V?1:Z>0?2:0;!X&&m(Q,z,O,he)&&(X=!0),!ae&&m(Y,U,O,he)&&(ae=!0)}if(x>0&&!V){const he=Z>re?2:0;!X&&m(Q,z,O+x,he)&&(X=!0),!ae&&m(Y,U,O+x,he)&&(ae=!0)}{const he=V?1:0;!X&&m(Q,z,B,he)&&(F.start=O+re,X=!0),!ae&&m(Y,U,B,he)&&(F.end=O+re,ae=!0)}const ce=re-Z;X||(F.start=Math.max(0,Q+ce)),ae||(F.end=Math.max(0,Y+ce)),F.start>F.end&&(F.end=F.start)}function d(F,O,B){let H=F.root,V=0,q=0,z=0,U=0;const Z=[];let re=0;for(;H!==e.SENTINEL;){if(E(H)){L(H.left,!1),L(H.right,!1),H===H.parent.right&&(V-=H.parent.delta),H=H.parent;continue}if(!E(H.left)){if(q=V+H.maxEnd,q<O){L(H,!0);continue}if(H.left!==e.SENTINEL){H=H.left;continue}}if(z=V+H.start,z>B){L(H,!0);continue}if(U=V+H.end,U>=O&&(H.setCachedOffsets(z,U,0),Z[re++]=H),L(H,!0),H.right!==e.SENTINEL&&!E(H.right)){V+=H.delta,H=H.right;continue}}return L(F.root,!1),Z}function r(F,O,B,H){let V=F.root,q=0,z=0,U=0;const Z=H-(B-O);for(;V!==e.SENTINEL;){if(E(V)){L(V.left,!1),L(V.right,!1),V===V.parent.right&&(q-=V.parent.delta),P(V),V=V.parent;continue}if(!E(V.left)){if(z=q+V.maxEnd,z<O){L(V,!0);continue}if(V.left!==e.SENTINEL){V=V.left;continue}}if(U=q+V.start,U>B){V.start+=Z,V.end+=Z,V.delta+=Z,(V.delta<-1073741824||V.delta>1073741824)&&(F.requestNormalizeDelta=!0),L(V,!0);continue}if(L(V,!0),V.right!==e.SENTINEL&&!E(V.right)){q+=V.delta,V=V.right;continue}}L(F.root,!1)}function l(F,O){let B=F.root;const H=[];let V=0;for(;B!==e.SENTINEL;){if(E(B)){L(B.left,!1),L(B.right,!1),B=B.parent;continue}if(B.left!==e.SENTINEL&&!E(B.left)){B=B.left;continue}if(B.ownerId===O&&(H[V++]=B),L(B,!0),B.right!==e.SENTINEL&&!E(B.right)){B=B.right;continue}}return L(F.root,!1),H}function o(F){let O=F.root;const B=[];let H=0;for(;O!==e.SENTINEL;){if(E(O)){L(O.left,!1),L(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!E(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!E(O.right)){O=O.right;continue}B[H++]=O,L(O,!0)}return L(F.root,!1),B}function g(F,O,B,H,V){let q=F.root,z=0,U=0,Z=0;const re=[];let x=0;for(;q!==e.SENTINEL;){if(E(q)){L(q.left,!1),L(q.right,!1),q===q.parent.right&&(z-=q.parent.delta),q=q.parent;continue}if(q.left!==e.SENTINEL&&!E(q.left)){q=q.left;continue}U=z+q.start,Z=z+q.end,q.setCachedOffsets(U,Z,H);let Q=!0;if(O&&q.ownerId&&q.ownerId!==O&&(Q=!1),B&&y(q)&&(Q=!1),V&&!w(q)&&(Q=!1),Q&&(re[x++]=q),L(q,!0),q.right!==e.SENTINEL&&!E(q.right)){z+=q.delta,q=q.right;continue}}return L(F.root,!1),re}function c(F,O,B,H,V,q,z){let U=F.root,Z=0,re=0,x=0,Q=0;const X=[];let Y=0;for(;U!==e.SENTINEL;){if(E(U)){L(U.left,!1),L(U.right,!1),U===U.parent.right&&(Z-=U.parent.delta),U=U.parent;continue}if(!E(U.left)){if(re=Z+U.maxEnd,re<O){L(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(x=Z+U.start,x>B){L(U,!0);continue}if(Q=Z+U.end,Q>=O){U.setCachedOffsets(x,Q,q);let ae=!0;H&&U.ownerId&&U.ownerId!==H&&(ae=!1),V&&y(U)&&(ae=!1),z&&!w(U)&&(ae=!1),ae&&(X[Y++]=U)}if(L(U,!0),U.right!==e.SENTINEL&&!E(U.right)){Z+=U.delta,U=U.right;continue}}return L(F.root,!1),X}function b(F,O){if(F.root===e.SENTINEL)return O.parent=e.SENTINEL,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,0),F.root=O,F.root;C(F,O),M(O.parent);let B=O;for(;B!==F.root&&f(B.parent)===1;)if(B.parent===B.parent.parent.left){const H=B.parent.parent.right;f(H)===1?(k(B.parent,0),k(H,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.right&&(B=B.parent,T(F,B)),k(B.parent,0),k(B.parent.parent,1),N(F,B.parent.parent))}else{const H=B.parent.parent.left;f(H)===1?(k(B.parent,0),k(H,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.left&&(B=B.parent,N(F,B)),k(B.parent,0),k(B.parent.parent,1),T(F,B.parent.parent))}return k(F.root,0),O}function C(F,O){let B=0,H=F.root;const V=O.start,q=O.end;for(;;)if(R(V,q,H.start+B,H.end+B)<0)if(H.left===e.SENTINEL){O.start-=B,O.end-=B,O.maxEnd-=B,H.left=O;break}else H=H.left;else if(H.right===e.SENTINEL){O.start-=B+H.delta,O.end-=B+H.delta,O.maxEnd-=B+H.delta,H.right=O;break}else B+=H.delta,H=H.right;O.parent=H,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,1)}function S(F,O){let B,H;if(O.left===e.SENTINEL?(B=O.right,H=O,B.delta+=O.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),B.start+=O.delta,B.end+=O.delta):O.right===e.SENTINEL?(B=O.left,H=O):(H=D(O.right),B=H.right,B.start+=H.delta,B.end+=H.delta,B.delta+=H.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),H.start+=O.delta,H.end+=O.delta,H.delta=O.delta,(H.delta<-1073741824||H.delta>1073741824)&&(F.requestNormalizeDelta=!0)),H===F.root){F.root=B,k(B,0),O.detach(),I(),P(B),F.root.parent=e.SENTINEL;return}const V=f(H)===1;if(H===H.parent.left?H.parent.left=B:H.parent.right=B,H===O?B.parent=H.parent:(H.parent===O?B.parent=H:B.parent=H.parent,H.left=O.left,H.right=O.right,H.parent=O.parent,k(H,f(O)),O===F.root?F.root=H:O===O.parent.left?O.parent.left=H:O.parent.right=H,H.left!==e.SENTINEL&&(H.left.parent=H),H.right!==e.SENTINEL&&(H.right.parent=H)),O.detach(),V){M(B.parent),H!==O&&(M(H),M(H.parent)),I();return}M(B),M(B.parent),H!==O&&(M(H),M(H.parent));let q;for(;B!==F.root&&f(B)===0;)B===B.parent.left?(q=B.parent.right,f(q)===1&&(k(q,0),k(B.parent,1),T(F,B.parent),q=B.parent.right),f(q.left)===0&&f(q.right)===0?(k(q,1),B=B.parent):(f(q.right)===0&&(k(q.left,0),k(q,1),N(F,q),q=B.parent.right),k(q,f(B.parent)),k(B.parent,0),k(q.right,0),T(F,B.parent),B=F.root)):(q=B.parent.left,f(q)===1&&(k(q,0),k(B.parent,1),N(F,B.parent),q=B.parent.left),f(q.left)===0&&f(q.right)===0?(k(q,1),B=B.parent):(f(q.left)===0&&(k(q.right,0),k(q,1),T(F,q),q=B.parent.left),k(q,f(B.parent)),k(B.parent,0),k(q.left,0),N(F,B.parent),B=F.root));k(B,0),I()}function D(F){for(;F.left!==e.SENTINEL;)F=F.left;return F}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function T(F,O){const B=O.right;B.delta+=O.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),B.start+=O.delta,B.end+=O.delta,O.right=B.left,B.left!==e.SENTINEL&&(B.left.parent=O),B.parent=O.parent,O.parent===e.SENTINEL?F.root=B:O===O.parent.left?O.parent.left=B:O.parent.right=B,B.left=O,O.parent=B,P(O),P(B)}function N(F,O){const B=O.left;O.delta-=B.delta,(O.delta<-1073741824||O.delta>1073741824)&&(F.requestNormalizeDelta=!0),O.start-=B.delta,O.end-=B.delta,O.left=B.right,B.right!==e.SENTINEL&&(B.right.parent=O),B.parent=O.parent,O.parent===e.SENTINEL?F.root=B:O===O.parent.right?O.parent.right=B:O.parent.left=B,B.right=O,O.parent=B,P(O),P(B)}function A(F){let O=F.end;if(F.left!==e.SENTINEL){const B=F.left.maxEnd;B>O&&(O=B)}if(F.right!==e.SENTINEL){const B=F.right.maxEnd+F.delta;B>O&&(O=B)}return O}function P(F){F.maxEnd=A(F)}function M(F){for(;F!==e.SENTINEL;){const O=A(F);if(F.maxEnd===O)return;F.maxEnd=O,F=F.parent}}function R(F,O,B,H){return F===B?O-H:F-B}}),define(ie[550],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SENTINEL=e.TreeNode=void 0,e.leftest=k,e.righttest=E,e.leftRotate=w,e.rightRotate=v,e.rbDelete=_,e.fixInsert=a,e.updateTreeMetadata=s,e.recomputeTreeMetadata=i;class f{constructor(n,h){this.piece=n,this.color=h,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let n=this;for(;n.parent!==e.SENTINEL&&n.parent.left!==n;)n=n.parent;return n.parent===e.SENTINEL?e.SENTINEL:n.parent}prev(){if(this.left!==e.SENTINEL)return E(this.left);let n=this;for(;n.parent!==e.SENTINEL&&n.parent.right!==n;)n=n.parent;return n.parent===e.SENTINEL?e.SENTINEL:n.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=f,e.SENTINEL=new f(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(t){for(;t.left!==e.SENTINEL;)t=t.left;return t}function E(t){for(;t.right!==e.SENTINEL;)t=t.right;return t}function L(t){return t===e.SENTINEL?0:t.size_left+t.piece.length+L(t.right)}function y(t){return t===e.SENTINEL?0:t.lf_left+t.piece.lineFeedCnt+y(t.right)}function p(){e.SENTINEL.parent=e.SENTINEL}function w(t,n){const h=n.right;h.size_left+=n.size_left+(n.piece?n.piece.length:0),h.lf_left+=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),n.right=h.left,h.left!==e.SENTINEL&&(h.left.parent=n),h.parent=n.parent,n.parent===e.SENTINEL?t.root=h:n.parent.left===n?n.parent.left=h:n.parent.right=h,h.left=n,n.parent=h}function v(t,n){const h=n.left;n.left=h.right,h.right!==e.SENTINEL&&(h.right.parent=n),h.parent=n.parent,n.size_left-=h.size_left+(h.piece?h.piece.length:0),n.lf_left-=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),n.parent===e.SENTINEL?t.root=h:n===n.parent.right?n.parent.right=h:n.parent.left=h,h.right=n,n.parent=h}function _(t,n){let h,m;if(n.left===e.SENTINEL?(m=n,h=m.right):n.right===e.SENTINEL?(m=n,h=m.left):(m=k(n.right),h=m.right),m===t.root){t.root=h,h.color=0,n.detach(),p(),t.root.parent=e.SENTINEL;return}const u=m.color===1;if(m===m.parent.left?m.parent.left=h:m.parent.right=h,m===n?(h.parent=m.parent,i(t,h)):(m.parent===n?h.parent=m:h.parent=m.parent,i(t,h),m.left=n.left,m.right=n.right,m.parent=n.parent,m.color=n.color,n===t.root?t.root=m:n===n.parent.left?n.parent.left=m:n.parent.right=m,m.left!==e.SENTINEL&&(m.left.parent=m),m.right!==e.SENTINEL&&(m.right.parent=m),m.size_left=n.size_left,m.lf_left=n.lf_left,i(t,m)),n.detach(),h.parent.left===h){const r=L(h),l=y(h);if(r!==h.parent.size_left||l!==h.parent.lf_left){const o=r-h.parent.size_left,g=l-h.parent.lf_left;h.parent.size_left=r,h.parent.lf_left=l,s(t,h.parent,o,g)}}if(i(t,h.parent),u){p();return}let d;for(;h!==t.root&&h.color===0;)h===h.parent.left?(d=h.parent.right,d.color===1&&(d.color=0,h.parent.color=1,w(t,h.parent),d=h.parent.right),d.left.color===0&&d.right.color===0?(d.color=1,h=h.parent):(d.right.color===0&&(d.left.color=0,d.color=1,v(t,d),d=h.parent.right),d.color=h.parent.color,h.parent.color=0,d.right.color=0,w(t,h.parent),h=t.root)):(d=h.parent.left,d.color===1&&(d.color=0,h.parent.color=1,v(t,h.parent),d=h.parent.left),d.left.color===0&&d.right.color===0?(d.color=1,h=h.parent):(d.left.color===0&&(d.right.color=0,d.color=1,w(t,d),d=h.parent.left),d.color=h.parent.color,h.parent.color=0,d.left.color=0,v(t,h.parent),h=t.root));h.color=0,p()}function a(t,n){for(i(t,n);n!==t.root&&n.parent.color===1;)if(n.parent===n.parent.parent.left){const h=n.parent.parent.right;h.color===1?(n.parent.color=0,h.color=0,n.parent.parent.color=1,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,w(t,n)),n.parent.color=0,n.parent.parent.color=1,v(t,n.parent.parent))}else{const h=n.parent.parent.left;h.color===1?(n.parent.color=0,h.color=0,n.parent.parent.color=1,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,v(t,n)),n.parent.color=0,n.parent.parent.color=1,w(t,n.parent.parent))}t.root.color=0}function s(t,n,h,m){for(;n!==t.root&&n!==e.SENTINEL;)n.parent.left===n&&(n.parent.size_left+=h,n.parent.lf_left+=m),n=n.parent}function i(t,n){let h=0,m=0;if(n!==t.root){for(;n!==t.root&&n===n.parent.right;)n=n.parent;if(n!==t.root)for(n=n.parent,h=L(n.left)-n.size_left,m=y(n.left)-n.lf_left,n.size_left+=h,n.lf_left+=m;n!==t.root&&(h!==0||m!==0);)n.parent.left===n&&(n.parent.size_left+=h,n.parent.lf_left+=m),n=n.parent}}}),define(ie[309],ne([1,0,13,184]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class E{constructor(w){this.values=w,this.prefixSum=new Uint32Array(w.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(w,v){w=(0,k.toUint32)(w);const _=this.values,a=this.prefixSum,s=v.length;return s===0?!1:(this.values=new Uint32Array(_.length+s),this.values.set(_.subarray(0,w),0),this.values.set(_.subarray(w),w+s),this.values.set(v,w),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(a.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(w,v){return w=(0,k.toUint32)(w),v=(0,k.toUint32)(v),this.values[w]===v?!1:(this.values[w]=v,w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),!0)}removeValues(w,v){w=(0,k.toUint32)(w),v=(0,k.toUint32)(v);const _=this.values,a=this.prefixSum;if(w>=_.length)return!1;const s=_.length-w;return v>=s&&(v=s),v===0?!1:(this.values=new Uint32Array(_.length-v),this.values.set(_.subarray(0,w),0),this.values.set(_.subarray(w+v),w),this.prefixSum=new Uint32Array(this.values.length),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(a.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(w){return w<0?0:(w=(0,k.toUint32)(w),this._getPrefixSum(w))}_getPrefixSum(w){if(w<=this.prefixSumValidIndex[0])return this.prefixSum[w];let v=this.prefixSumValidIndex[0]+1;v===0&&(this.prefixSum[0]=this.values[0],v++),w>=this.values.length&&(w=this.values.length-1);for(let _=v;_<=w;_++)this.prefixSum[_]=this.prefixSum[_-1]+this.values[_];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],w),this.prefixSum[w]}getIndexOf(w){w=Math.floor(w),this.getTotalSum();let v=0,_=this.values.length-1,a=0,s=0,i=0;for(;v<=_;)if(a=v+(_-v)/2|0,s=this.prefixSum[a],i=s-this.values[a],w<i)_=a-1;else if(w>=s)v=a+1;else break;return new y(a,w-i)}}e.PrefixSumComputer=E;class L{constructor(w){this._values=w,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(w){return this._ensureValid(),w===0?0:this._prefixSum[w-1]}getIndexOf(w){this._ensureValid();const v=this._indexBySum[w],_=v>0?this._prefixSum[v-1]:0;return new y(v,w-_)}removeValues(w,v){this._values.splice(w,v),this._invalidate(w)}insertValues(w,v){this._values=(0,f.arrayInsert)(this._values,w,v),this._invalidate(w)}_invalidate(w){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,w-1)}_ensureValid(){if(!this._isValid){for(let w=this._validEndIndex+1,v=this._values.length;w<v;w++){const _=this._values[w],a=w>0?this._prefixSum[w-1]:0;this._prefixSum[w]=a+_;for(let s=0;s<_;s++)this._indexBySum[a+s]=w}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(w,v){this._values[w]!==v&&(this._values[w]=v,this._invalidate(w))}}e.ConstantTimePrefixSumComputer=L;class y{constructor(w,v){this.index=w,this.remainder=v,this._prefixSumIndexOfResultBrand=void 0,this.index=w,this.remainder=v}}e.PrefixSumIndexOfResult=y}),define(ie[551],ne([1,0,11,9,309]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class L{constructor(p,w,v,_){this._uri=p,this._lines=w,this._eol=v,this._versionId=_,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const w=p.changes;for(const v of w)this._acceptDeleteRange(v.range),this._acceptInsertText(new k.Position(v.range.startLineNumber,v.range.startColumn),v.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,w=this._lines.length,v=new Uint32Array(w);for(let _=0;_<w;_++)v[_]=this._lines[_].length+p;this._lineStarts=new E.PrefixSumComputer(v)}}_setLineText(p,w){this._lines[p]=w,this._lineStarts&&this._lineStarts.setValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,w){if(w.length===0)return;const v=(0,f.splitLines)(w);if(v.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+v[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}v[v.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+v[0]);const _=new Uint32Array(v.length-1);for(let a=1;a<v.length;a++)this._lines.splice(p.lineNumber+a-1,0,v[a]),_[a-1]=v[a].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,_)}}e.MirrorTextModel=L}),define(ie[310],ne([1,0,2]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends f.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(ie[193],ne([1,0,11,159,9,5,43]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.TextModelSearch=e.SearchParams=void 0,e.isMultilineRegexSource=v,e.createFindMatch=_,e.isValidMatch=n;const p=999;class w{constructor(u,d,r,l){this.searchString=u,this.isRegex=d,this.matchCase=r,this.wordSeparators=l}parseSearchRequest(){if(this.searchString==="")return null;let u;this.isRegex?u=v(this.searchString):u=this.searchString.indexOf(`
`)>=0;let d=null;try{d=f.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:u,global:!0,unicode:!0})}catch{return null}if(!d)return null;let r=!this.isRegex&&!u;return r&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(r=this.matchCase),new y.SearchData(d,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators,[]):null,r?this.searchString:null)}}e.SearchParams=w;function v(m){if(!m||m.length===0)return!1;for(let u=0,d=m.length;u<d;u++){const r=m.charCodeAt(u);if(r===10)return!0;if(r===92){if(u++,u>=d)break;const l=m.charCodeAt(u);if(l===110||l===114||l===87)return!0}}return!1}function _(m,u,d){if(!d)return new y.FindMatch(m,null);const r=[];for(let l=0,o=u.length;l<o;l++)r[l]=u[l];return new y.FindMatch(m,r)}class a{constructor(u){const d=[];let r=0;for(let l=0,o=u.length;l<o;l++)u.charCodeAt(l)===10&&(d[r++]=l);this._lineFeedsOffsets=d}findLineFeedCountBeforeOffset(u){const d=this._lineFeedsOffsets;let r=0,l=d.length-1;if(l===-1||u<=d[0])return 0;for(;r<l;){const o=r+((l-r)/2>>0);d[o]>=u?l=o-1:d[o+1]>=u?(r=o,l=o):r=o+1}return r+1}}class s{static findMatches(u,d,r,l,o){const g=d.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(u,r,new h(g.wordSeparators,g.regex),l,o):this._doFindMatchesLineByLine(u,r,g,l,o):[]}static _getMultilineMatchRange(u,d,r,l,o,g){let c,b=0;l?(b=l.findLineFeedCountBeforeOffset(o),c=d+o+b):c=d+o;let C;if(l){const T=l.findLineFeedCountBeforeOffset(o+g.length)-b;C=c+g.length+T}else C=c+g.length;const S=u.getPositionAt(c),D=u.getPositionAt(C);return new L.Range(S.lineNumber,S.column,D.lineNumber,D.column)}static _doFindMatchesMultiline(u,d,r,l,o){const g=u.getOffsetAt(d.getStartPosition()),c=u.getValueInRange(d,1),b=u.getEOL()===`\r
`?new a(c):null,C=[];let S=0,D;for(r.reset(0);D=r.next(c);)if(C[S++]=_(this._getMultilineMatchRange(u,g,c,b,D.index,D[0]),D,l),S>=o)return C;return C}static _doFindMatchesLineByLine(u,d,r,l,o){const g=[];let c=0;if(d.startLineNumber===d.endLineNumber){const C=u.getLineContent(d.startLineNumber).substring(d.startColumn-1,d.endColumn-1);return c=this._findMatchesInLine(r,C,d.startLineNumber,d.startColumn-1,c,g,l,o),g}const b=u.getLineContent(d.startLineNumber).substring(d.startColumn-1);c=this._findMatchesInLine(r,b,d.startLineNumber,d.startColumn-1,c,g,l,o);for(let C=d.startLineNumber+1;C<d.endLineNumber&&c<o;C++)c=this._findMatchesInLine(r,u.getLineContent(C),C,0,c,g,l,o);if(c<o){const C=u.getLineContent(d.endLineNumber).substring(0,d.endColumn-1);c=this._findMatchesInLine(r,C,d.endLineNumber,0,c,g,l,o)}return g}static _findMatchesInLine(u,d,r,l,o,g,c,b){const C=u.wordSeparators;if(!c&&u.simpleSearch){const I=u.simpleSearch,T=I.length,N=d.length;let A=-T;for(;(A=d.indexOf(I,A+T))!==-1;)if((!C||n(C,d,N,A,T))&&(g[o++]=new y.FindMatch(new L.Range(r,A+1+l,r,A+1+T+l),null),o>=b))return o;return o}const S=new h(u.wordSeparators,u.regex);let D;S.reset(0);do if(D=S.next(d),D&&(g[o++]=_(new L.Range(r,D.index+1+l,r,D.index+1+D[0].length+l),D,c),o>=b))return o;while(D);return o}static findNextMatch(u,d,r,l){const o=d.parseSearchRequest();if(!o)return null;const g=new h(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(u,r,g,l):this._doFindNextMatchLineByLine(u,r,g,l)}static _doFindNextMatchMultiline(u,d,r,l){const o=new E.Position(d.lineNumber,1),g=u.getOffsetAt(o),c=u.getLineCount(),b=u.getValueInRange(new L.Range(o.lineNumber,o.column,c,u.getLineMaxColumn(c)),1),C=u.getEOL()===`\r
`?new a(b):null;r.reset(d.column-1);const S=r.next(b);return S?_(this._getMultilineMatchRange(u,g,b,C,S.index,S[0]),S,l):d.lineNumber!==1||d.column!==1?this._doFindNextMatchMultiline(u,new E.Position(1,1),r,l):null}static _doFindNextMatchLineByLine(u,d,r,l){const o=u.getLineCount(),g=d.lineNumber,c=u.getLineContent(g),b=this._findFirstMatchInLine(r,c,g,d.column,l);if(b)return b;for(let C=1;C<=o;C++){const S=(g+C-1)%o,D=u.getLineContent(S+1),I=this._findFirstMatchInLine(r,D,S+1,1,l);if(I)return I}return null}static _findFirstMatchInLine(u,d,r,l,o){u.reset(l-1);const g=u.next(d);return g?_(new L.Range(r,g.index+1,r,g.index+1+g[0].length),g,o):null}static findPreviousMatch(u,d,r,l){const o=d.parseSearchRequest();if(!o)return null;const g=new h(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(u,r,g,l):this._doFindPreviousMatchLineByLine(u,r,g,l)}static _doFindPreviousMatchMultiline(u,d,r,l){const o=this._doFindMatchesMultiline(u,new L.Range(1,1,d.lineNumber,d.column),r,l,10*p);if(o.length>0)return o[o.length-1];const g=u.getLineCount();return d.lineNumber!==g||d.column!==u.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(u,new E.Position(g,u.getLineMaxColumn(g)),r,l):null}static _doFindPreviousMatchLineByLine(u,d,r,l){const o=u.getLineCount(),g=d.lineNumber,c=u.getLineContent(g).substring(0,d.column-1),b=this._findLastMatchInLine(r,c,g,l);if(b)return b;for(let C=1;C<=o;C++){const S=(o+g-C-1)%o,D=u.getLineContent(S+1),I=this._findLastMatchInLine(r,D,S+1,l);if(I)return I}return null}static _findLastMatchInLine(u,d,r,l){let o=null,g;for(u.reset(0);g=u.next(d);)o=_(new L.Range(r,g.index+1,r,g.index+1+g[0].length),g,l);return o}}e.TextModelSearch=s;function i(m,u,d,r,l){if(r===0)return!0;const o=u.charCodeAt(r-1);if(m.get(o)!==0||o===13||o===10)return!0;if(l>0){const g=u.charCodeAt(r);if(m.get(g)!==0)return!0}return!1}function t(m,u,d,r,l){if(r+l===d)return!0;const o=u.charCodeAt(r+l);if(m.get(o)!==0||o===13||o===10)return!0;if(l>0){const g=u.charCodeAt(r+l-1);if(m.get(g)!==0)return!0}return!1}function n(m,u,d,r,l){return i(m,u,d,r,l)&&t(m,u,d,r,l)}class h{constructor(u,d){this._wordSeparators=u,this._searchRegex=d,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(u){this._searchRegex.lastIndex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(u){const d=u.length;let r;do{if(this._prevMatchStartIndex+this._prevMatchLength===d||(r=this._searchRegex.exec(u),!r))return null;const l=r.index,o=r[0].length;if(l===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){f.getNextCodePoint(u,d,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=l,this._prevMatchLength=o,!this._wordSeparators||n(this._wordSeparators,u,d,l,o))return r}while(r);return null}}e.Searcher=h}),define(ie[311],ne([1,0,9,5,43,550,193]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=void 0,e.createLineStartsFast=_,e.createLineStarts=a;const p=65535;function w(m){let u;return m[m.length-1]<65536?u=new Uint16Array(m.length):u=new Uint32Array(m.length),u.set(m,0),u}class v{constructor(u,d,r,l,o){this.lineStarts=u,this.cr=d,this.lf=r,this.crlf=l,this.isBasicASCII=o}}function _(m,u=!0){const d=[0];let r=1;for(let l=0,o=m.length;l<o;l++){const g=m.charCodeAt(l);g===13?l+1<o&&m.charCodeAt(l+1)===10?(d[r++]=l+2,l++):d[r++]=l+1:g===10&&(d[r++]=l+1)}return u?w(d):d}function a(m,u){m.length=0,m[0]=0;let d=1,r=0,l=0,o=0,g=!0;for(let b=0,C=u.length;b<C;b++){const S=u.charCodeAt(b);S===13?b+1<C&&u.charCodeAt(b+1)===10?(o++,m[d++]=b+2,b++):(r++,m[d++]=b+1):S===10?(l++,m[d++]=b+1):g&&S!==9&&(S<32||S>126)&&(g=!1)}const c=new v(w(m),r,l,o,g);return m.length=0,c}class s{constructor(u,d,r,l,o){this.bufferIndex=u,this.start=d,this.end=r,this.lineFeedCnt=l,this.length=o}}e.Piece=s;class i{constructor(u,d){this.buffer=u,this.lineStarts=d}}e.StringBuffer=i;class t{constructor(u,d){this._pieces=[],this._tree=u,this._BOM=d,this._index=0,u.root!==L.SENTINEL&&u.iterate(u.root,r=>(r!==L.SENTINEL&&this._pieces.push(r.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class n{constructor(u){this._limit=u,this._cache=[]}get(u){for(let d=this._cache.length-1;d>=0;d--){const r=this._cache[d];if(r.nodeStartOffset<=u&&r.nodeStartOffset+r.node.piece.length>=u)return r}return null}get2(u){for(let d=this._cache.length-1;d>=0;d--){const r=this._cache[d];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<u&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=u)return r}return null}set(u){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(u)}validate(u){let d=!1;const r=this._cache;for(let l=0;l<r.length;l++){const o=r[l];if(o.node.parent===null||o.nodeStartOffset>=u){r[l]=null,d=!0;continue}}if(d){const l=[];for(const o of r)o!==null&&l.push(o);this._cache=l}}}class h{constructor(u,d,r){this.create(u,d,r)}create(u,d,r){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=L.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=d,this._EOLLength=d.length,this._EOLNormalized=r;let l=null;for(let o=0,g=u.length;o<g;o++)if(u[o].buffer.length>0){u[o].lineStarts||(u[o].lineStarts=_(u[o].buffer));const c=new s(o+1,{line:0,column:0},{line:u[o].lineStarts.length-1,column:u[o].buffer.length-u[o].lineStarts[u[o].lineStarts.length-1]},u[o].lineStarts.length-1,u[o].buffer.length);this._buffers.push(u[o]),l=this.rbInsertRight(l,c)}this._searchCache=new n(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(u){const d=p,r=d-Math.floor(d/3),l=r*2;let o="",g=0;const c=[];if(this.iterate(this.root,b=>{const C=this.getNodeContent(b),S=C.length;if(g<=r||g+S<l)return o+=C,g+=S,!0;const D=o.replace(/\r\n|\r|\n/g,u);return c.push(new i(D,_(D))),o=C,g=S,!0}),g>0){const b=o.replace(/\r\n|\r|\n/g,u);c.push(new i(b,_(b)))}this.create(c,u,!0)}getEOL(){return this._EOL}setEOL(u){this._EOL=u,this._EOLLength=this._EOL.length,this.normalizeEOL(u)}createSnapshot(u){return new t(this,u)}getOffsetAt(u,d){let r=0,l=this.root;for(;l!==L.SENTINEL;)if(l.left!==L.SENTINEL&&l.lf_left+1>=u)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt+1>=u){r+=l.size_left;const o=this.getAccumulatedValue(l,u-l.lf_left-2);return r+=o+d-1}else u-=l.lf_left+l.piece.lineFeedCnt,r+=l.size_left+l.piece.length,l=l.right;return r}getPositionAt(u){u=Math.floor(u),u=Math.max(0,u);let d=this.root,r=0;const l=u;for(;d!==L.SENTINEL;)if(d.size_left!==0&&d.size_left>=u)d=d.left;else if(d.size_left+d.piece.length>=u){const o=this.getIndexOf(d,u-d.size_left);if(r+=d.lf_left+o.index,o.index===0){const g=this.getOffsetAt(r+1,1),c=l-g;return new f.Position(r+1,c+1)}return new f.Position(r+1,o.remainder+1)}else if(u-=d.size_left+d.piece.length,r+=d.lf_left+d.piece.lineFeedCnt,d.right===L.SENTINEL){const o=this.getOffsetAt(r+1,1),g=l-u-o;return new f.Position(r+1,g+1)}else d=d.right;return new f.Position(1,1)}getValueInRange(u,d){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return"";const r=this.nodeAt2(u.startLineNumber,u.startColumn),l=this.nodeAt2(u.endLineNumber,u.endColumn),o=this.getValueInRange2(r,l);return d?d!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,d):d===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,d):o}getValueInRange2(u,d){if(u.node===d.node){const c=u.node,b=this._buffers[c.piece.bufferIndex].buffer,C=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return b.substring(C+u.remainder,C+d.remainder)}let r=u.node;const l=this._buffers[r.piece.bufferIndex].buffer,o=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);let g=l.substring(o+u.remainder,o+r.piece.length);for(r=r.next();r!==L.SENTINEL;){const c=this._buffers[r.piece.bufferIndex].buffer,b=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===d.node){g+=c.substring(b,b+d.remainder);break}else g+=c.substr(b,r.piece.length);r=r.next()}return g}getLinesContent(){const u=[];let d=0,r="",l=!1;return this.iterate(this.root,o=>{if(o===L.SENTINEL)return!0;const g=o.piece;let c=g.length;if(c===0)return!0;const b=this._buffers[g.bufferIndex].buffer,C=this._buffers[g.bufferIndex].lineStarts,S=g.start.line,D=g.end.line;let I=C[S]+g.start.column;if(l&&(b.charCodeAt(I)===10&&(I++,c--),u[d++]=r,r="",l=!1,c===0))return!0;if(S===D)return!this._EOLNormalized&&b.charCodeAt(I+c-1)===13?(l=!0,r+=b.substr(I,c-1)):r+=b.substr(I,c),!0;r+=this._EOLNormalized?b.substring(I,Math.max(I,C[S+1]-this._EOLLength)):b.substring(I,C[S+1]).replace(/(\r\n|\r|\n)$/,""),u[d++]=r;for(let T=S+1;T<D;T++)r=this._EOLNormalized?b.substring(C[T],C[T+1]-this._EOLLength):b.substring(C[T],C[T+1]).replace(/(\r\n|\r|\n)$/,""),u[d++]=r;return!this._EOLNormalized&&b.charCodeAt(C[D]+g.end.column-1)===13?(l=!0,g.end.column===0?d--:r=b.substr(C[D],g.end.column-1)):r=b.substr(C[D],g.end.column),!0}),l&&(u[d++]=r,r=""),u[d++]=r,u}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(u){return this._lastVisitedLine.lineNumber===u?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=u,u===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(u):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(u,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(u).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(u){if(u.remainder===u.node.piece.length){const d=u.node.next();if(!d)return 0;const r=this._buffers[d.piece.bufferIndex],l=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return r.buffer.charCodeAt(l)}else{const d=this._buffers[u.node.piece.bufferIndex],l=this.offsetInBuffer(u.node.piece.bufferIndex,u.node.piece.start)+u.remainder;return d.buffer.charCodeAt(l)}}getLineCharCode(u,d){const r=this.nodeAt2(u,d+1);return this._getCharCode(r)}getLineLength(u){if(u===this.getLineCount()){const d=this.getOffsetAt(u,1);return this.getLength()-d}return this.getOffsetAt(u+1,1)-this.getOffsetAt(u,1)-this._EOLLength}findMatchesInNode(u,d,r,l,o,g,c,b,C,S,D){const I=this._buffers[u.piece.bufferIndex],T=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),N=this.offsetInBuffer(u.piece.bufferIndex,o),A=this.offsetInBuffer(u.piece.bufferIndex,g);let P;const M={line:0,column:0};let R,F;d._wordSeparators?(R=I.buffer.substring(N,A),F=O=>O+N,d.reset(0)):(R=I.buffer,F=O=>O,d.reset(N));do if(P=d.next(R),P){if(F(P.index)>=A)return S;this.positionInBuffer(u,F(P.index)-T,M);const O=this.getLineFeedCnt(u.piece.bufferIndex,o,M),B=M.line===o.line?M.column-o.column+l:M.column+1,H=B+P[0].length;if(D[S++]=(0,y.createFindMatch)(new k.Range(r+O,B,r+O,H),P,b),F(P.index)+P[0].length>=A||S>=C)return S}while(P);return S}findMatchesLineByLine(u,d,r,l){const o=[];let g=0;const c=new y.Searcher(d.wordSeparators,d.regex);let b=this.nodeAt2(u.startLineNumber,u.startColumn);if(b===null)return[];const C=this.nodeAt2(u.endLineNumber,u.endColumn);if(C===null)return[];let S=this.positionInBuffer(b.node,b.remainder);const D=this.positionInBuffer(C.node,C.remainder);if(b.node===C.node)return this.findMatchesInNode(b.node,c,u.startLineNumber,u.startColumn,S,D,d,r,l,g,o),o;let I=u.startLineNumber,T=b.node;for(;T!==C.node;){const A=this.getLineFeedCnt(T.piece.bufferIndex,S,T.piece.end);if(A>=1){const M=this._buffers[T.piece.bufferIndex].lineStarts,R=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),F=M[S.line+A],O=I===u.startLineNumber?u.startColumn:1;if(g=this.findMatchesInNode(T,c,I,O,S,this.positionInBuffer(T,F-R),d,r,l,g,o),g>=l)return o;I+=A}const P=I===u.startLineNumber?u.startColumn-1:0;if(I===u.endLineNumber){const M=this.getLineContent(I).substring(P,u.endColumn-1);return g=this._findMatchesInLine(d,c,M,u.endLineNumber,P,g,o,r,l),o}if(g=this._findMatchesInLine(d,c,this.getLineContent(I).substr(P),I,P,g,o,r,l),g>=l)return o;I++,b=this.nodeAt2(I,1),T=b.node,S=this.positionInBuffer(b.node,b.remainder)}if(I===u.endLineNumber){const A=I===u.startLineNumber?u.startColumn-1:0,P=this.getLineContent(I).substring(A,u.endColumn-1);return g=this._findMatchesInLine(d,c,P,u.endLineNumber,A,g,o,r,l),o}const N=I===u.startLineNumber?u.startColumn:1;return g=this.findMatchesInNode(C.node,c,I,N,S,D,d,r,l,g,o),o}_findMatchesInLine(u,d,r,l,o,g,c,b,C){const S=u.wordSeparators;if(!b&&u.simpleSearch){const I=u.simpleSearch,T=I.length,N=r.length;let A=-T;for(;(A=r.indexOf(I,A+T))!==-1;)if((!S||(0,y.isValidMatch)(S,r,N,A,T))&&(c[g++]=new E.FindMatch(new k.Range(l,A+1+o,l,A+1+T+o),null),g>=C))return g;return g}let D;d.reset(0);do if(D=d.next(r),D&&(c[g++]=(0,y.createFindMatch)(new k.Range(l,D.index+1+o,l,D.index+1+D[0].length+o),D,b),g>=C))return g;while(D);return g}insert(u,d,r=!1){if(this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==L.SENTINEL){const{node:l,remainder:o,nodeStartOffset:g}=this.nodeAt(u),c=l.piece,b=c.bufferIndex,C=this.positionInBuffer(l,o);if(l.piece.bufferIndex===0&&c.end.line===this._lastChangeBufferPos.line&&c.end.column===this._lastChangeBufferPos.column&&g+c.length===u&&d.length<p){this.appendToNode(l,d),this.computeBufferMetadata();return}if(g===u)this.insertContentToNodeLeft(d,l),this._searchCache.validate(u);else if(g+l.piece.length>u){const S=[];let D=new s(c.bufferIndex,C,c.end,this.getLineFeedCnt(c.bufferIndex,C,c.end),this.offsetInBuffer(b,c.end)-this.offsetInBuffer(b,C));if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.nodeCharCodeAt(l,o)===10){const A={line:D.start.line+1,column:0};D=new s(D.bufferIndex,A,D.end,this.getLineFeedCnt(D.bufferIndex,A,D.end),D.length-1),d+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(d))if(this.nodeCharCodeAt(l,o-1)===13){const A=this.positionInBuffer(l,o-1);this.deleteNodeTail(l,A),d="\r"+d,l.piece.length===0&&S.push(l)}else this.deleteNodeTail(l,C);else this.deleteNodeTail(l,C);const I=this.createNewPieces(d);D.length>0&&this.rbInsertRight(l,D);let T=l;for(let N=0;N<I.length;N++)T=this.rbInsertRight(T,I[N]);this.deleteNodes(S)}else this.insertContentToNodeRight(d,l)}else{const l=this.createNewPieces(d);let o=this.rbInsertLeft(null,l[0]);for(let g=1;g<l.length;g++)o=this.rbInsertRight(o,l[g])}this.computeBufferMetadata()}delete(u,d){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",d<=0||this.root===L.SENTINEL)return;const r=this.nodeAt(u),l=this.nodeAt(u+d),o=r.node,g=l.node;if(o===g){const I=this.positionInBuffer(o,r.remainder),T=this.positionInBuffer(o,l.remainder);if(r.nodeStartOffset===u){if(d===o.piece.length){const N=o.next();(0,L.rbDelete)(this,o),this.validateCRLFWithPrevNode(N),this.computeBufferMetadata();return}this.deleteNodeHead(o,T),this._searchCache.validate(u),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(r.nodeStartOffset+o.piece.length===u+d){this.deleteNodeTail(o,I),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,I,T),this.computeBufferMetadata();return}const c=[],b=this.positionInBuffer(o,r.remainder);this.deleteNodeTail(o,b),this._searchCache.validate(u),o.piece.length===0&&c.push(o);const C=this.positionInBuffer(g,l.remainder);this.deleteNodeHead(g,C),g.piece.length===0&&c.push(g);const S=o.next();for(let I=S;I!==L.SENTINEL&&I!==g;I=I.next())c.push(I);const D=o.piece.length===0?o.prev():o;this.deleteNodes(c),this.validateCRLFWithNextNode(D),this.computeBufferMetadata()}insertContentToNodeLeft(u,d){const r=[];if(this.shouldCheckCRLF()&&this.endWithCR(u)&&this.startWithLF(d)){const g=d.piece,c={line:g.start.line+1,column:0},b=new s(g.bufferIndex,c,g.end,this.getLineFeedCnt(g.bufferIndex,c,g.end),g.length-1);d.piece=b,u+=`
`,(0,L.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&r.push(d)}const l=this.createNewPieces(u);let o=this.rbInsertLeft(d,l[l.length-1]);for(let g=l.length-2;g>=0;g--)o=this.rbInsertLeft(o,l[g]);this.validateCRLFWithPrevNode(o),this.deleteNodes(r)}insertContentToNodeRight(u,d){this.adjustCarriageReturnFromNext(u,d)&&(u+=`
`);const r=this.createNewPieces(u),l=this.rbInsertRight(d,r[0]);let o=l;for(let g=1;g<r.length;g++)o=this.rbInsertRight(o,r[g]);this.validateCRLFWithPrevNode(l)}positionInBuffer(u,d,r){const l=u.piece,o=u.piece.bufferIndex,g=this._buffers[o].lineStarts,b=g[l.start.line]+l.start.column+d;let C=l.start.line,S=l.end.line,D=0,I=0,T=0;for(;C<=S&&(D=C+(S-C)/2|0,T=g[D],D!==S);)if(I=g[D+1],b<T)S=D-1;else if(b>=I)C=D+1;else break;return r?(r.line=D,r.column=b-T,null):{line:D,column:b-T}}getLineFeedCnt(u,d,r){if(r.column===0)return r.line-d.line;const l=this._buffers[u].lineStarts;if(r.line===l.length-1)return r.line-d.line;const o=l[r.line+1],g=l[r.line]+r.column;if(o>g+1)return r.line-d.line;const c=g-1;return this._buffers[u].buffer.charCodeAt(c)===13?r.line-d.line+1:r.line-d.line}offsetInBuffer(u,d){return this._buffers[u].lineStarts[d.line]+d.column}deleteNodes(u){for(let d=0;d<u.length;d++)(0,L.rbDelete)(this,u[d])}createNewPieces(u){if(u.length>p){const S=[];for(;u.length>p;){const I=u.charCodeAt(p-1);let T;I===13||I>=55296&&I<=56319?(T=u.substring(0,p-1),u=u.substring(p-1)):(T=u.substring(0,p),u=u.substring(p));const N=_(T);S.push(new s(this._buffers.length,{line:0,column:0},{line:N.length-1,column:T.length-N[N.length-1]},N.length-1,T.length)),this._buffers.push(new i(T,N))}const D=_(u);return S.push(new s(this._buffers.length,{line:0,column:0},{line:D.length-1,column:u.length-D[D.length-1]},D.length-1,u.length)),this._buffers.push(new i(u,D)),S}let d=this._buffers[0].buffer.length;const r=_(u,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===d&&d!==0&&this.startWithLF(u)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let S=0;S<r.length;S++)r[S]+=d+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+="_"+u,d+=1}else{if(d!==0)for(let S=0;S<r.length;S++)r[S]+=d;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+=u}const o=this._buffers[0].buffer.length,g=this._buffers[0].lineStarts.length-1,c=o-this._buffers[0].lineStarts[g],b={line:g,column:c},C=new s(0,l,b,this.getLineFeedCnt(0,l,b),o-d);return this._lastChangeBufferPos=b,[C]}getLineRawContent(u,d=0){let r=this.root,l="";const o=this._searchCache.get2(u);if(o){r=o.node;const g=this.getAccumulatedValue(r,u-o.nodeStartLineNumber-1),c=this._buffers[r.piece.bufferIndex].buffer,b=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(o.nodeStartLineNumber+r.piece.lineFeedCnt===u)l=c.substring(b+g,b+r.piece.length);else{const C=this.getAccumulatedValue(r,u-o.nodeStartLineNumber);return c.substring(b+g,b+C-d)}}else{let g=0;const c=u;for(;r!==L.SENTINEL;)if(r.left!==L.SENTINEL&&r.lf_left>=u-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>u-1){const b=this.getAccumulatedValue(r,u-r.lf_left-2),C=this.getAccumulatedValue(r,u-r.lf_left-1),S=this._buffers[r.piece.bufferIndex].buffer,D=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return g+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:g,nodeStartLineNumber:c-(u-1-r.lf_left)}),S.substring(D+b,D+C-d)}else if(r.lf_left+r.piece.lineFeedCnt===u-1){const b=this.getAccumulatedValue(r,u-r.lf_left-2),C=this._buffers[r.piece.bufferIndex].buffer,S=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);l=C.substring(S+b,S+r.piece.length);break}else u-=r.lf_left+r.piece.lineFeedCnt,g+=r.size_left+r.piece.length,r=r.right}for(r=r.next();r!==L.SENTINEL;){const g=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){const c=this.getAccumulatedValue(r,0),b=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return l+=g.substring(b,b+c-d),l}else{const c=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);l+=g.substr(c,r.piece.length)}r=r.next()}return l}computeBufferMetadata(){let u=this.root,d=1,r=0;for(;u!==L.SENTINEL;)d+=u.lf_left+u.piece.lineFeedCnt,r+=u.size_left+u.piece.length,u=u.right;this._lineCnt=d,this._length=r,this._searchCache.validate(this._length)}getIndexOf(u,d){const r=u.piece,l=this.positionInBuffer(u,d),o=l.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===d){const g=this.getLineFeedCnt(u.piece.bufferIndex,r.start,l);if(g!==o)return{index:g,remainder:0}}return{index:o,remainder:l.column}}getAccumulatedValue(u,d){if(d<0)return 0;const r=u.piece,l=this._buffers[r.bufferIndex].lineStarts,o=r.start.line+d+1;return o>r.end.line?l[r.end.line]+r.end.column-l[r.start.line]-r.start.column:l[o]-l[r.start.line]-r.start.column}deleteNodeTail(u,d){const r=u.piece,l=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.end),g=d,c=this.offsetInBuffer(r.bufferIndex,g),b=this.getLineFeedCnt(r.bufferIndex,r.start,g),C=b-l,S=c-o,D=r.length+S;u.piece=new s(r.bufferIndex,r.start,g,b,D),(0,L.updateTreeMetadata)(this,u,S,C)}deleteNodeHead(u,d){const r=u.piece,l=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.start),g=d,c=this.getLineFeedCnt(r.bufferIndex,g,r.end),b=this.offsetInBuffer(r.bufferIndex,g),C=c-l,S=o-b,D=r.length+S;u.piece=new s(r.bufferIndex,g,r.end,c,D),(0,L.updateTreeMetadata)(this,u,S,C)}shrinkNode(u,d,r){const l=u.piece,o=l.start,g=l.end,c=l.length,b=l.lineFeedCnt,C=d,S=this.getLineFeedCnt(l.bufferIndex,l.start,C),D=this.offsetInBuffer(l.bufferIndex,d)-this.offsetInBuffer(l.bufferIndex,o);u.piece=new s(l.bufferIndex,l.start,C,S,D),(0,L.updateTreeMetadata)(this,u,D-c,S-b);const I=new s(l.bufferIndex,r,g,this.getLineFeedCnt(l.bufferIndex,r,g),this.offsetInBuffer(l.bufferIndex,g)-this.offsetInBuffer(l.bufferIndex,r)),T=this.rbInsertRight(u,I);this.validateCRLFWithPrevNode(T)}appendToNode(u,d){this.adjustCarriageReturnFromNext(d,u)&&(d+=`
`);const r=this.shouldCheckCRLF()&&this.startWithLF(d)&&this.endWithCR(u),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=d;const o=_(d,!1);for(let T=0;T<o.length;T++)o[T]+=l;if(r){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const g=this._buffers[0].lineStarts.length-1,c=this._buffers[0].buffer.length-this._buffers[0].lineStarts[g],b={line:g,column:c},C=u.piece.length+d.length,S=u.piece.lineFeedCnt,D=this.getLineFeedCnt(0,u.piece.start,b),I=D-S;u.piece=new s(u.piece.bufferIndex,u.piece.start,b,D,C),this._lastChangeBufferPos=b,(0,L.updateTreeMetadata)(this,u,d.length,I)}nodeAt(u){let d=this.root;const r=this._searchCache.get(u);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:u-r.nodeStartOffset};let l=0;for(;d!==L.SENTINEL;)if(d.size_left>u)d=d.left;else if(d.size_left+d.piece.length>=u){l+=d.size_left;const o={node:d,remainder:u-d.size_left,nodeStartOffset:l};return this._searchCache.set(o),o}else u-=d.size_left+d.piece.length,l+=d.size_left+d.piece.length,d=d.right;return null}nodeAt2(u,d){let r=this.root,l=0;for(;r!==L.SENTINEL;)if(r.left!==L.SENTINEL&&r.lf_left>=u-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>u-1){const o=this.getAccumulatedValue(r,u-r.lf_left-2),g=this.getAccumulatedValue(r,u-r.lf_left-1);return l+=r.size_left,{node:r,remainder:Math.min(o+d-1,g),nodeStartOffset:l}}else if(r.lf_left+r.piece.lineFeedCnt===u-1){const o=this.getAccumulatedValue(r,u-r.lf_left-2);if(o+d-1<=r.piece.length)return{node:r,remainder:o+d-1,nodeStartOffset:l};d-=r.piece.length-o;break}else u-=r.lf_left+r.piece.lineFeedCnt,l+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==L.SENTINEL;){if(r.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(r,0),g=this.offsetOfNode(r);return{node:r,remainder:Math.min(d-1,o),nodeStartOffset:g}}else if(r.piece.length>=d-1){const o=this.offsetOfNode(r);return{node:r,remainder:d-1,nodeStartOffset:o}}else d-=r.piece.length;r=r.next()}return null}nodeCharCodeAt(u,d){if(u.piece.lineFeedCnt<1)return-1;const r=this._buffers[u.piece.bufferIndex],l=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start)+d;return r.buffer.charCodeAt(l)}offsetOfNode(u){if(!u)return 0;let d=u.size_left;for(;u!==this.root;)u.parent.right===u&&(d+=u.parent.size_left+u.parent.piece.length),u=u.parent;return d}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(u){if(typeof u=="string")return u.charCodeAt(0)===10;if(u===L.SENTINEL||u.piece.lineFeedCnt===0)return!1;const d=u.piece,r=this._buffers[d.bufferIndex].lineStarts,l=d.start.line,o=r[l]+d.start.column;return l===r.length-1||r[l+1]>o+1?!1:this._buffers[d.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(u){return typeof u=="string"?u.charCodeAt(u.length-1)===13:u===L.SENTINEL||u.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(u,u.piece.length-1)===13}validateCRLFWithPrevNode(u){if(this.shouldCheckCRLF()&&this.startWithLF(u)){const d=u.prev();this.endWithCR(d)&&this.fixCRLF(d,u)}}validateCRLFWithNextNode(u){if(this.shouldCheckCRLF()&&this.endWithCR(u)){const d=u.next();this.startWithLF(d)&&this.fixCRLF(u,d)}}fixCRLF(u,d){const r=[],l=this._buffers[u.piece.bufferIndex].lineStarts;let o;u.piece.end.column===0?o={line:u.piece.end.line-1,column:l[u.piece.end.line]-l[u.piece.end.line-1]-1}:o={line:u.piece.end.line,column:u.piece.end.column-1};const g=u.piece.length-1,c=u.piece.lineFeedCnt-1;u.piece=new s(u.piece.bufferIndex,u.piece.start,o,c,g),(0,L.updateTreeMetadata)(this,u,-1,-1),u.piece.length===0&&r.push(u);const b={line:d.piece.start.line+1,column:0},C=d.piece.length-1,S=this.getLineFeedCnt(d.piece.bufferIndex,b,d.piece.end);d.piece=new s(d.piece.bufferIndex,b,d.piece.end,S,C),(0,L.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&r.push(d);const D=this.createNewPieces(`\r
`);this.rbInsertRight(u,D[0]);for(let I=0;I<r.length;I++)(0,L.rbDelete)(this,r[I])}adjustCarriageReturnFromNext(u,d){if(this.shouldCheckCRLF()&&this.endWithCR(u)){const r=d.next();if(this.startWithLF(r)){if(u+=`
`,r.piece.length===1)(0,L.rbDelete)(this,r);else{const l=r.piece,o={line:l.start.line+1,column:0},g=l.length-1,c=this.getLineFeedCnt(l.bufferIndex,o,l.end);r.piece=new s(l.bufferIndex,o,l.end,c,g),(0,L.updateTreeMetadata)(this,r,-1,-1)}return!0}}return!1}iterate(u,d){if(u===L.SENTINEL)return d(L.SENTINEL);const r=this.iterate(u.left,d);return r&&d(u)&&this.iterate(u.right,d)}getNodeContent(u){if(u===L.SENTINEL)return"";const d=this._buffers[u.piece.bufferIndex],r=u.piece,l=this.offsetInBuffer(r.bufferIndex,r.start),o=this.offsetInBuffer(r.bufferIndex,r.end);return d.buffer.substring(l,o)}getPieceContent(u){const d=this._buffers[u.bufferIndex],r=this.offsetInBuffer(u.bufferIndex,u.start),l=this.offsetInBuffer(u.bufferIndex,u.end);return d.buffer.substring(r,l)}rbInsertRight(u,d){const r=new L.TreeNode(d,1);if(r.left=L.SENTINEL,r.right=L.SENTINEL,r.parent=L.SENTINEL,r.size_left=0,r.lf_left=0,this.root===L.SENTINEL)this.root=r,r.color=0;else if(u.right===L.SENTINEL)u.right=r,r.parent=u;else{const o=(0,L.leftest)(u.right);o.left=r,r.parent=o}return(0,L.fixInsert)(this,r),r}rbInsertLeft(u,d){const r=new L.TreeNode(d,1);if(r.left=L.SENTINEL,r.right=L.SENTINEL,r.parent=L.SENTINEL,r.size_left=0,r.lf_left=0,this.root===L.SENTINEL)this.root=r,r.color=0;else if(u.left===L.SENTINEL)u.left=r,r.parent=u;else{const l=(0,L.righttest)(u.left);l.right=r,r.parent=l}return(0,L.fixInsert)(this,r),r}}e.PieceTreeBase=h}),define(ie[552],ne([1,0,123,122]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelText=void 0;class E extends f.AbstractText{constructor(y){super(),this._textModel=y}getValueOfRange(y){return this._textModel.getValueInRange(y)}get length(){const y=this._textModel.getLineCount(),p=this._textModel.getLineLength(y);return new k.TextLength(y-1,p)}}e.TextModelText=E}),define(ie[227],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=f;function f(k,E){let L=0,y=0;const p=k.length;for(;y<p;){const w=k.charCodeAt(y);if(w===32)L++;else if(w===9)L=L-L%E+E;else break;y++}return y===p?-1:L}}),define(ie[312],ne([1,0,87,9,43]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class L{constructor(a,s,i,t,n){this.injectionOffsets=a,this.injectionOptions=s,this.breakOffsets=i,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=n}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(a){return a>0?this.wrappedTextIndentLength:0}getLineLength(a){const s=a>0?this.breakOffsets[a-1]:0;let t=this.breakOffsets[a]-s;return a>0&&(t+=this.wrappedTextIndentLength),t}getMaxOutputOffset(a){return this.getLineLength(a)}translateToInputOffset(a,s){a>0&&(s=Math.max(0,s-this.wrappedTextIndentLength));let t=a===0?s:this.breakOffsets[a-1]+s;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&t>this.injectionOffsets[n];n++)t<this.injectionOffsets[n]+this.injectionOptions[n].content.length?t=this.injectionOffsets[n]:t-=this.injectionOptions[n].content.length;return t}translateToOutputPosition(a,s=2){let i=a;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(a<this.injectionOffsets[t]||s!==1&&a===this.injectionOffsets[t]);t++)i+=this.injectionOptions[t].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,s)}offsetInInputWithInjectionsToOutputPosition(a,s=2){let i=0,t=this.breakOffsets.length-1,n=0,h=0;for(;i<=t;){n=i+(t-i)/2|0;const u=this.breakOffsets[n];if(h=n>0?this.breakOffsets[n-1]:0,s===0)if(a<=h)t=n-1;else if(a>u)i=n+1;else break;else if(a<h)t=n-1;else if(a>=u)i=n+1;else break}let m=a-h;return n>0&&(m+=this.wrappedTextIndentLength),new v(n,m)}normalizeOutputPosition(a,s,i){if(this.injectionOffsets!==null){const t=this.outputPositionToOffsetInInputWithInjections(a,s),n=this.normalizeOffsetInInputWithInjectionsAroundInjections(t,i);if(n!==t)return this.offsetInInputWithInjectionsToOutputPosition(n,i)}if(i===0){if(a>0&&s===this.getMinOutputOffset(a))return new v(a-1,this.getMaxOutputOffset(a-1))}else if(i===1){const t=this.getOutputLineCount()-1;if(a<t&&s===this.getMaxOutputOffset(a))return new v(a+1,this.getMinOutputOffset(a+1))}return new v(a,s)}outputPositionToOffsetInInputWithInjections(a,s){return a>0&&(s=Math.max(0,s-this.wrappedTextIndentLength)),(a>0?this.breakOffsets[a-1]:0)+s}normalizeOffsetInInputWithInjectionsAroundInjections(a,s){const i=this.getInjectedTextAtOffset(a);if(!i)return a;if(s===2){if(a===i.offsetInInputWithInjections+i.length&&y(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let t=i.offsetInInputWithInjections;if(p(this.injectionOptions[i.injectedTextIndex].cursorStops))return t;let n=i.injectedTextIndex-1;for(;n>=0&&this.injectionOffsets[n]===this.injectionOffsets[i.injectedTextIndex]&&!(y(this.injectionOptions[n].cursorStops)||(t-=this.injectionOptions[n].content.length,p(this.injectionOptions[n].cursorStops)));)n--;return t}}else if(s===1||s===4){let t=i.offsetInInputWithInjections+i.length,n=i.injectedTextIndex;for(;n+1<this.injectionOffsets.length&&this.injectionOffsets[n+1]===this.injectionOffsets[n];)t+=this.injectionOptions[n+1].content.length,n++;return t}else if(s===0||s===3){let t=i.offsetInInputWithInjections,n=i.injectedTextIndex;for(;n-1>=0&&this.injectionOffsets[n-1]===this.injectionOffsets[n];)t-=this.injectionOptions[n-1].content.length,n--;return t}(0,f.assertNever)(s)}getInjectedText(a,s){const i=this.outputPositionToOffsetInInputWithInjections(a,s),t=this.getInjectedTextAtOffset(i);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(a){const s=this.injectionOffsets,i=this.injectionOptions;if(s!==null){let t=0;for(let n=0;n<s.length;n++){const h=i[n].content.length,m=s[n]+t,u=s[n]+t+h;if(m>a)break;if(a<=u)return{injectedTextIndex:n,offsetInInputWithInjections:m,length:h};t+=h}}}}e.ModelLineProjectionData=L;function y(_){return _==null?!0:_===E.InjectedTextCursorStops.Right||_===E.InjectedTextCursorStops.Both}function p(_){return _==null?!0:_===E.InjectedTextCursorStops.Left||_===E.InjectedTextCursorStops.Both}class w{constructor(a){this.options=a}}e.InjectedText=w;class v{constructor(a,s){this.outputLineIndex=a,this.outputOffset=s}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(a){return new k.Position(a+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=v}),define(ie[553],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findSectionHeaders=E;const f=/\bMARK:\s*(.*)$/d,k=/^-+|-+$/g;function E(v,_){var a;let s=[];if(_.findRegionSectionHeaders&&(!((a=_.foldingRules)===null||a===void 0)&&a.markers)){const i=L(v,_);s=s.concat(i)}if(_.findMarkSectionHeaders){const i=y(v);s=s.concat(i)}return s}function L(v,_){const a=[],s=v.getLineCount();for(let i=1;i<=s;i++){const t=v.getLineContent(i),n=t.match(_.foldingRules.markers.start);if(n){const h={startLineNumber:i,startColumn:n[0].length+1,endLineNumber:i,endColumn:t.length+1};if(h.endColumn>h.startColumn){const m={range:h,...w(t.substring(n[0].length)),shouldBeInComments:!1};(m.text||m.hasSeparatorLine)&&a.push(m)}}}return a}function y(v){const _=[],a=v.getLineCount();for(let s=1;s<=a;s++){const i=v.getLineContent(s);p(i,s,_)}return _}function p(v,_,a){f.lastIndex=0;const s=f.exec(v);if(s){const i=s.indices[1][0]+1,t=s.indices[1][1]+1,n={startLineNumber:_,startColumn:i,endLineNumber:_,endColumn:t};if(n.endColumn>n.startColumn){const h={range:n,...w(s[1]),shouldBeInComments:!0};(h.text||h.hasSeparatorLine)&&a.push(h)}}}function w(v){v=v.trim();const _=v.startsWith("-");return v=v.replace(k,""),{text:v,hasSeparatorLine:_}}}),define(ie[313],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class f{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(L){if(L&&this._dragOperations.has(L)){const y=this._dragOperations.get(L);return this._dragOperations.delete(L),y}}}e.TreeViewsDnDService=f;class k{constructor(L){this.identifier=L}}e.DraggedTreeItemsIdentifier=k}),define(ie[314],ne([1,0,5,193,11,87,160]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class p{static computeUnicodeHighlights(s,i,t){const n=t?t.startLineNumber:1,h=t?t.endLineNumber:s.getLineCount(),m=new v(i),u=m.getCandidateCodePoints();let d;u==="allNonBasicAscii"?d=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):d=new RegExp(`${w(Array.from(u))}`,"g");const r=new k.Searcher(null,d),l=[];let o=!1,g,c=0,b=0,C=0;e:for(let S=n,D=h;S<=D;S++){const I=s.getLineContent(S),T=I.length;r.reset(0);do if(g=r.next(I),g){let N=g.index,A=g.index+g[0].length;if(N>0){const F=I.charCodeAt(N-1);E.isHighSurrogate(F)&&N--}if(A+1<T){const F=I.charCodeAt(A-1);E.isHighSurrogate(F)&&A++}const P=I.substring(N,A);let M=(0,y.getWordAtText)(N+1,y.DEFAULT_WORD_REGEXP,I,0);M&&M.endColumn<=N+1&&(M=null);const R=m.shouldHighlightNonBasicASCII(P,M?M.word:null);if(R!==0){if(R===3?c++:R===2?b++:R===1?C++:(0,L.assertNever)(R),l.length>=1e3){o=!0;break e}l.push(new f.Range(S,N+1,S,A+1))}}while(g)}return{ranges:l,hasMore:o,ambiguousCharacterCount:c,invisibleCharacterCount:b,nonBasicAsciiCharacterCount:C}}static computeUnicodeHighlightReason(s,i){const t=new v(i);switch(t.shouldHighlightNonBasicASCII(s,null)){case 0:return null;case 2:return{kind:1};case 3:{const h=s.codePointAt(0),m=t.ambiguousCharacters.getPrimaryConfusable(h),u=E.AmbiguousCharacters.getLocales().filter(d=>!E.AmbiguousCharacters.getInstance(new Set([...i.allowedLocales,d])).isAmbiguous(h));return{kind:0,confusableWith:String.fromCodePoint(m),notAmbiguousInLocales:u}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=p;function w(a,s){return`[${E.escapeRegExpCharacters(a.map(t=>String.fromCodePoint(t)).join(""))}]`}class v{constructor(s){this.options=s,this.allowedCodePoints=new Set(s.allowedCodePoints),this.ambiguousCharacters=E.AmbiguousCharacters.getInstance(new Set(s.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const s=new Set;if(this.options.invisibleCharacters)for(const i of E.InvisibleCharacters.codePoints)_(String.fromCodePoint(i))||s.add(i);if(this.options.ambiguousCharacters)for(const i of this.ambiguousCharacters.getConfusableCodePoints())s.add(i);for(const i of this.allowedCodePoints)s.delete(i);return s}shouldHighlightNonBasicASCII(s,i){const t=s.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,h=!1;if(i)for(const m of i){const u=m.codePointAt(0),d=E.isBasicASCII(m);n=n||d,!d&&!this.ambiguousCharacters.isAmbiguous(u)&&!E.InvisibleCharacters.isInvisibleCharacter(u)&&(h=!0)}return!n&&h?0:this.options.invisibleCharacters&&!_(s)&&E.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}function _(a){return a===" "||a===`
`||a==="	"}}),define(ie[228],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.ShowLightbulbIconMode=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.PartialAcceptTriggerKind=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.NewSymbolNameTag=e.MouseTargetType=e.MinimapSectionHeaderStyle=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineEditTriggerKind=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var f;(function(x){x[x.Unknown=0]="Unknown",x[x.Disabled=1]="Disabled",x[x.Enabled=2]="Enabled"})(f||(e.AccessibilitySupport=f={}));var k;(function(x){x[x.Invoke=1]="Invoke",x[x.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var E;(function(x){x[x.None=0]="None",x[x.KeepWhitespace=1]="KeepWhitespace",x[x.InsertAsSnippet=4]="InsertAsSnippet"})(E||(e.CompletionItemInsertTextRule=E={}));var L;(function(x){x[x.Method=0]="Method",x[x.Function=1]="Function",x[x.Constructor=2]="Constructor",x[x.Field=3]="Field",x[x.Variable=4]="Variable",x[x.Class=5]="Class",x[x.Struct=6]="Struct",x[x.Interface=7]="Interface",x[x.Module=8]="Module",x[x.Property=9]="Property",x[x.Event=10]="Event",x[x.Operator=11]="Operator",x[x.Unit=12]="Unit",x[x.Value=13]="Value",x[x.Constant=14]="Constant",x[x.Enum=15]="Enum",x[x.EnumMember=16]="EnumMember",x[x.Keyword=17]="Keyword",x[x.Text=18]="Text",x[x.Color=19]="Color",x[x.File=20]="File",x[x.Reference=21]="Reference",x[x.Customcolor=22]="Customcolor",x[x.Folder=23]="Folder",x[x.TypeParameter=24]="TypeParameter",x[x.User=25]="User",x[x.Issue=26]="Issue",x[x.Snippet=27]="Snippet"})(L||(e.CompletionItemKind=L={}));var y;(function(x){x[x.Deprecated=1]="Deprecated"})(y||(e.CompletionItemTag=y={}));var p;(function(x){x[x.Invoke=0]="Invoke",x[x.TriggerCharacter=1]="TriggerCharacter",x[x.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(p||(e.CompletionTriggerKind=p={}));var w;(function(x){x[x.EXACT=0]="EXACT",x[x.ABOVE=1]="ABOVE",x[x.BELOW=2]="BELOW"})(w||(e.ContentWidgetPositionPreference=w={}));var v;(function(x){x[x.NotSet=0]="NotSet",x[x.ContentFlush=1]="ContentFlush",x[x.RecoverFromMarkers=2]="RecoverFromMarkers",x[x.Explicit=3]="Explicit",x[x.Paste=4]="Paste",x[x.Undo=5]="Undo",x[x.Redo=6]="Redo"})(v||(e.CursorChangeReason=v={}));var _;(function(x){x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(_||(e.DefaultEndOfLine=_={}));var a;(function(x){x[x.Text=0]="Text",x[x.Read=1]="Read",x[x.Write=2]="Write"})(a||(e.DocumentHighlightKind=a={}));var s;(function(x){x[x.None=0]="None",x[x.Keep=1]="Keep",x[x.Brackets=2]="Brackets",x[x.Advanced=3]="Advanced",x[x.Full=4]="Full"})(s||(e.EditorAutoIndentStrategy=s={}));var i;(function(x){x[x.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",x[x.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",x[x.accessibilitySupport=2]="accessibilitySupport",x[x.accessibilityPageSize=3]="accessibilityPageSize",x[x.ariaLabel=4]="ariaLabel",x[x.ariaRequired=5]="ariaRequired",x[x.autoClosingBrackets=6]="autoClosingBrackets",x[x.autoClosingComments=7]="autoClosingComments",x[x.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",x[x.autoClosingDelete=9]="autoClosingDelete",x[x.autoClosingOvertype=10]="autoClosingOvertype",x[x.autoClosingQuotes=11]="autoClosingQuotes",x[x.autoIndent=12]="autoIndent",x[x.automaticLayout=13]="automaticLayout",x[x.autoSurround=14]="autoSurround",x[x.bracketPairColorization=15]="bracketPairColorization",x[x.guides=16]="guides",x[x.codeLens=17]="codeLens",x[x.codeLensFontFamily=18]="codeLensFontFamily",x[x.codeLensFontSize=19]="codeLensFontSize",x[x.colorDecorators=20]="colorDecorators",x[x.colorDecoratorsLimit=21]="colorDecoratorsLimit",x[x.columnSelection=22]="columnSelection",x[x.comments=23]="comments",x[x.contextmenu=24]="contextmenu",x[x.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",x[x.cursorBlinking=26]="cursorBlinking",x[x.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",x[x.cursorStyle=28]="cursorStyle",x[x.cursorSurroundingLines=29]="cursorSurroundingLines",x[x.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",x[x.cursorWidth=31]="cursorWidth",x[x.disableLayerHinting=32]="disableLayerHinting",x[x.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",x[x.domReadOnly=34]="domReadOnly",x[x.dragAndDrop=35]="dragAndDrop",x[x.dropIntoEditor=36]="dropIntoEditor",x[x.emptySelectionClipboard=37]="emptySelectionClipboard",x[x.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",x[x.extraEditorClassName=39]="extraEditorClassName",x[x.fastScrollSensitivity=40]="fastScrollSensitivity",x[x.find=41]="find",x[x.fixedOverflowWidgets=42]="fixedOverflowWidgets",x[x.folding=43]="folding",x[x.foldingStrategy=44]="foldingStrategy",x[x.foldingHighlight=45]="foldingHighlight",x[x.foldingImportsByDefault=46]="foldingImportsByDefault",x[x.foldingMaximumRegions=47]="foldingMaximumRegions",x[x.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",x[x.fontFamily=49]="fontFamily",x[x.fontInfo=50]="fontInfo",x[x.fontLigatures=51]="fontLigatures",x[x.fontSize=52]="fontSize",x[x.fontWeight=53]="fontWeight",x[x.fontVariations=54]="fontVariations",x[x.formatOnPaste=55]="formatOnPaste",x[x.formatOnType=56]="formatOnType",x[x.glyphMargin=57]="glyphMargin",x[x.gotoLocation=58]="gotoLocation",x[x.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",x[x.hover=60]="hover",x[x.inDiffEditor=61]="inDiffEditor",x[x.inlineSuggest=62]="inlineSuggest",x[x.inlineEdit=63]="inlineEdit",x[x.letterSpacing=64]="letterSpacing",x[x.lightbulb=65]="lightbulb",x[x.lineDecorationsWidth=66]="lineDecorationsWidth",x[x.lineHeight=67]="lineHeight",x[x.lineNumbers=68]="lineNumbers",x[x.lineNumbersMinChars=69]="lineNumbersMinChars",x[x.linkedEditing=70]="linkedEditing",x[x.links=71]="links",x[x.matchBrackets=72]="matchBrackets",x[x.minimap=73]="minimap",x[x.mouseStyle=74]="mouseStyle",x[x.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",x[x.mouseWheelZoom=76]="mouseWheelZoom",x[x.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",x[x.multiCursorModifier=78]="multiCursorModifier",x[x.multiCursorPaste=79]="multiCursorPaste",x[x.multiCursorLimit=80]="multiCursorLimit",x[x.occurrencesHighlight=81]="occurrencesHighlight",x[x.overviewRulerBorder=82]="overviewRulerBorder",x[x.overviewRulerLanes=83]="overviewRulerLanes",x[x.padding=84]="padding",x[x.pasteAs=85]="pasteAs",x[x.parameterHints=86]="parameterHints",x[x.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",x[x.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",x[x.quickSuggestions=89]="quickSuggestions",x[x.quickSuggestionsDelay=90]="quickSuggestionsDelay",x[x.readOnly=91]="readOnly",x[x.readOnlyMessage=92]="readOnlyMessage",x[x.renameOnType=93]="renameOnType",x[x.renderControlCharacters=94]="renderControlCharacters",x[x.renderFinalNewline=95]="renderFinalNewline",x[x.renderLineHighlight=96]="renderLineHighlight",x[x.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",x[x.renderValidationDecorations=98]="renderValidationDecorations",x[x.renderWhitespace=99]="renderWhitespace",x[x.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",x[x.roundedSelection=101]="roundedSelection",x[x.rulers=102]="rulers",x[x.scrollbar=103]="scrollbar",x[x.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",x[x.scrollBeyondLastLine=105]="scrollBeyondLastLine",x[x.scrollPredominantAxis=106]="scrollPredominantAxis",x[x.selectionClipboard=107]="selectionClipboard",x[x.selectionHighlight=108]="selectionHighlight",x[x.selectOnLineNumbers=109]="selectOnLineNumbers",x[x.showFoldingControls=110]="showFoldingControls",x[x.showUnused=111]="showUnused",x[x.snippetSuggestions=112]="snippetSuggestions",x[x.smartSelect=113]="smartSelect",x[x.smoothScrolling=114]="smoothScrolling",x[x.stickyScroll=115]="stickyScroll",x[x.stickyTabStops=116]="stickyTabStops",x[x.stopRenderingLineAfter=117]="stopRenderingLineAfter",x[x.suggest=118]="suggest",x[x.suggestFontSize=119]="suggestFontSize",x[x.suggestLineHeight=120]="suggestLineHeight",x[x.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",x[x.suggestSelection=122]="suggestSelection",x[x.tabCompletion=123]="tabCompletion",x[x.tabIndex=124]="tabIndex",x[x.unicodeHighlighting=125]="unicodeHighlighting",x[x.unusualLineTerminators=126]="unusualLineTerminators",x[x.useShadowDOM=127]="useShadowDOM",x[x.useTabStops=128]="useTabStops",x[x.wordBreak=129]="wordBreak",x[x.wordSegmenterLocales=130]="wordSegmenterLocales",x[x.wordSeparators=131]="wordSeparators",x[x.wordWrap=132]="wordWrap",x[x.wordWrapBreakAfterCharacters=133]="wordWrapBreakAfterCharacters",x[x.wordWrapBreakBeforeCharacters=134]="wordWrapBreakBeforeCharacters",x[x.wordWrapColumn=135]="wordWrapColumn",x[x.wordWrapOverride1=136]="wordWrapOverride1",x[x.wordWrapOverride2=137]="wordWrapOverride2",x[x.wrappingIndent=138]="wrappingIndent",x[x.wrappingStrategy=139]="wrappingStrategy",x[x.showDeprecated=140]="showDeprecated",x[x.inlayHints=141]="inlayHints",x[x.editorClassName=142]="editorClassName",x[x.pixelRatio=143]="pixelRatio",x[x.tabFocusMode=144]="tabFocusMode",x[x.layoutInfo=145]="layoutInfo",x[x.wrappingInfo=146]="wrappingInfo",x[x.defaultColorDecorators=147]="defaultColorDecorators",x[x.colorDecoratorsActivatedOn=148]="colorDecoratorsActivatedOn",x[x.inlineCompletionsAccessibilityVerbose=149]="inlineCompletionsAccessibilityVerbose"})(i||(e.EditorOption=i={}));var t;(function(x){x[x.TextDefined=0]="TextDefined",x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(t||(e.EndOfLinePreference=t={}));var n;(function(x){x[x.LF=0]="LF",x[x.CRLF=1]="CRLF"})(n||(e.EndOfLineSequence=n={}));var h;(function(x){x[x.Left=1]="Left",x[x.Center=2]="Center",x[x.Right=3]="Right"})(h||(e.GlyphMarginLane=h={}));var m;(function(x){x[x.None=0]="None",x[x.Indent=1]="Indent",x[x.IndentOutdent=2]="IndentOutdent",x[x.Outdent=3]="Outdent"})(m||(e.IndentAction=m={}));var u;(function(x){x[x.Both=0]="Both",x[x.Right=1]="Right",x[x.Left=2]="Left",x[x.None=3]="None"})(u||(e.InjectedTextCursorStops=u={}));var d;(function(x){x[x.Type=1]="Type",x[x.Parameter=2]="Parameter"})(d||(e.InlayHintKind=d={}));var r;(function(x){x[x.Automatic=0]="Automatic",x[x.Explicit=1]="Explicit"})(r||(e.InlineCompletionTriggerKind=r={}));var l;(function(x){x[x.Invoke=0]="Invoke",x[x.Automatic=1]="Automatic"})(l||(e.InlineEditTriggerKind=l={}));var o;(function(x){x[x.DependsOnKbLayout=-1]="DependsOnKbLayout",x[x.Unknown=0]="Unknown",x[x.Backspace=1]="Backspace",x[x.Tab=2]="Tab",x[x.Enter=3]="Enter",x[x.Shift=4]="Shift",x[x.Ctrl=5]="Ctrl",x[x.Alt=6]="Alt",x[x.PauseBreak=7]="PauseBreak",x[x.CapsLock=8]="CapsLock",x[x.Escape=9]="Escape",x[x.Space=10]="Space",x[x.PageUp=11]="PageUp",x[x.PageDown=12]="PageDown",x[x.End=13]="End",x[x.Home=14]="Home",x[x.LeftArrow=15]="LeftArrow",x[x.UpArrow=16]="UpArrow",x[x.RightArrow=17]="RightArrow",x[x.DownArrow=18]="DownArrow",x[x.Insert=19]="Insert",x[x.Delete=20]="Delete",x[x.Digit0=21]="Digit0",x[x.Digit1=22]="Digit1",x[x.Digit2=23]="Digit2",x[x.Digit3=24]="Digit3",x[x.Digit4=25]="Digit4",x[x.Digit5=26]="Digit5",x[x.Digit6=27]="Digit6",x[x.Digit7=28]="Digit7",x[x.Digit8=29]="Digit8",x[x.Digit9=30]="Digit9",x[x.KeyA=31]="KeyA",x[x.KeyB=32]="KeyB",x[x.KeyC=33]="KeyC",x[x.KeyD=34]="KeyD",x[x.KeyE=35]="KeyE",x[x.KeyF=36]="KeyF",x[x.KeyG=37]="KeyG",x[x.KeyH=38]="KeyH",x[x.KeyI=39]="KeyI",x[x.KeyJ=40]="KeyJ",x[x.KeyK=41]="KeyK",x[x.KeyL=42]="KeyL",x[x.KeyM=43]="KeyM",x[x.KeyN=44]="KeyN",x[x.KeyO=45]="KeyO",x[x.KeyP=46]="KeyP",x[x.KeyQ=47]="KeyQ",x[x.KeyR=48]="KeyR",x[x.KeyS=49]="KeyS",x[x.KeyT=50]="KeyT",x[x.KeyU=51]="KeyU",x[x.KeyV=52]="KeyV",x[x.KeyW=53]="KeyW",x[x.KeyX=54]="KeyX",x[x.KeyY=55]="KeyY",x[x.KeyZ=56]="KeyZ",x[x.Meta=57]="Meta",x[x.ContextMenu=58]="ContextMenu",x[x.F1=59]="F1",x[x.F2=60]="F2",x[x.F3=61]="F3",x[x.F4=62]="F4",x[x.F5=63]="F5",x[x.F6=64]="F6",x[x.F7=65]="F7",x[x.F8=66]="F8",x[x.F9=67]="F9",x[x.F10=68]="F10",x[x.F11=69]="F11",x[x.F12=70]="F12",x[x.F13=71]="F13",x[x.F14=72]="F14",x[x.F15=73]="F15",x[x.F16=74]="F16",x[x.F17=75]="F17",x[x.F18=76]="F18",x[x.F19=77]="F19",x[x.F20=78]="F20",x[x.F21=79]="F21",x[x.F22=80]="F22",x[x.F23=81]="F23",x[x.F24=82]="F24",x[x.NumLock=83]="NumLock",x[x.ScrollLock=84]="ScrollLock",x[x.Semicolon=85]="Semicolon",x[x.Equal=86]="Equal",x[x.Comma=87]="Comma",x[x.Minus=88]="Minus",x[x.Period=89]="Period",x[x.Slash=90]="Slash",x[x.Backquote=91]="Backquote",x[x.BracketLeft=92]="BracketLeft",x[x.Backslash=93]="Backslash",x[x.BracketRight=94]="BracketRight",x[x.Quote=95]="Quote",x[x.OEM_8=96]="OEM_8",x[x.IntlBackslash=97]="IntlBackslash",x[x.Numpad0=98]="Numpad0",x[x.Numpad1=99]="Numpad1",x[x.Numpad2=100]="Numpad2",x[x.Numpad3=101]="Numpad3",x[x.Numpad4=102]="Numpad4",x[x.Numpad5=103]="Numpad5",x[x.Numpad6=104]="Numpad6",x[x.Numpad7=105]="Numpad7",x[x.Numpad8=106]="Numpad8",x[x.Numpad9=107]="Numpad9",x[x.NumpadMultiply=108]="NumpadMultiply",x[x.NumpadAdd=109]="NumpadAdd",x[x.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",x[x.NumpadSubtract=111]="NumpadSubtract",x[x.NumpadDecimal=112]="NumpadDecimal",x[x.NumpadDivide=113]="NumpadDivide",x[x.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",x[x.ABNT_C1=115]="ABNT_C1",x[x.ABNT_C2=116]="ABNT_C2",x[x.AudioVolumeMute=117]="AudioVolumeMute",x[x.AudioVolumeUp=118]="AudioVolumeUp",x[x.AudioVolumeDown=119]="AudioVolumeDown",x[x.BrowserSearch=120]="BrowserSearch",x[x.BrowserHome=121]="BrowserHome",x[x.BrowserBack=122]="BrowserBack",x[x.BrowserForward=123]="BrowserForward",x[x.MediaTrackNext=124]="MediaTrackNext",x[x.MediaTrackPrevious=125]="MediaTrackPrevious",x[x.MediaStop=126]="MediaStop",x[x.MediaPlayPause=127]="MediaPlayPause",x[x.LaunchMediaPlayer=128]="LaunchMediaPlayer",x[x.LaunchMail=129]="LaunchMail",x[x.LaunchApp2=130]="LaunchApp2",x[x.Clear=131]="Clear",x[x.MAX_VALUE=132]="MAX_VALUE"})(o||(e.KeyCode=o={}));var g;(function(x){x[x.Hint=1]="Hint",x[x.Info=2]="Info",x[x.Warning=4]="Warning",x[x.Error=8]="Error"})(g||(e.MarkerSeverity=g={}));var c;(function(x){x[x.Unnecessary=1]="Unnecessary",x[x.Deprecated=2]="Deprecated"})(c||(e.MarkerTag=c={}));var b;(function(x){x[x.Inline=1]="Inline",x[x.Gutter=2]="Gutter"})(b||(e.MinimapPosition=b={}));var C;(function(x){x[x.Normal=1]="Normal",x[x.Underlined=2]="Underlined"})(C||(e.MinimapSectionHeaderStyle=C={}));var S;(function(x){x[x.UNKNOWN=0]="UNKNOWN",x[x.TEXTAREA=1]="TEXTAREA",x[x.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",x[x.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",x[x.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",x[x.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",x[x.CONTENT_TEXT=6]="CONTENT_TEXT",x[x.CONTENT_EMPTY=7]="CONTENT_EMPTY",x[x.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",x[x.CONTENT_WIDGET=9]="CONTENT_WIDGET",x[x.OVERVIEW_RULER=10]="OVERVIEW_RULER",x[x.SCROLLBAR=11]="SCROLLBAR",x[x.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",x[x.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(S||(e.MouseTargetType=S={}));var D;(function(x){x[x.AIGenerated=1]="AIGenerated"})(D||(e.NewSymbolNameTag=D={}));var I;(function(x){x[x.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",x[x.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",x[x.TOP_CENTER=2]="TOP_CENTER"})(I||(e.OverlayWidgetPositionPreference=I={}));var T;(function(x){x[x.Left=1]="Left",x[x.Center=2]="Center",x[x.Right=4]="Right",x[x.Full=7]="Full"})(T||(e.OverviewRulerLane=T={}));var N;(function(x){x[x.Word=0]="Word",x[x.Line=1]="Line",x[x.Suggest=2]="Suggest"})(N||(e.PartialAcceptTriggerKind=N={}));var A;(function(x){x[x.Left=0]="Left",x[x.Right=1]="Right",x[x.None=2]="None",x[x.LeftOfInjectedText=3]="LeftOfInjectedText",x[x.RightOfInjectedText=4]="RightOfInjectedText"})(A||(e.PositionAffinity=A={}));var P;(function(x){x[x.Off=0]="Off",x[x.On=1]="On",x[x.Relative=2]="Relative",x[x.Interval=3]="Interval",x[x.Custom=4]="Custom"})(P||(e.RenderLineNumbersType=P={}));var M;(function(x){x[x.None=0]="None",x[x.Text=1]="Text",x[x.Blocks=2]="Blocks"})(M||(e.RenderMinimap=M={}));var R;(function(x){x[x.Smooth=0]="Smooth",x[x.Immediate=1]="Immediate"})(R||(e.ScrollType=R={}));var F;(function(x){x[x.Auto=1]="Auto",x[x.Hidden=2]="Hidden",x[x.Visible=3]="Visible"})(F||(e.ScrollbarVisibility=F={}));var O;(function(x){x[x.LTR=0]="LTR",x[x.RTL=1]="RTL"})(O||(e.SelectionDirection=O={}));var B;(function(x){x.Off="off",x.OnCode="onCode",x.On="on"})(B||(e.ShowLightbulbIconMode=B={}));var H;(function(x){x[x.Invoke=1]="Invoke",x[x.TriggerCharacter=2]="TriggerCharacter",x[x.ContentChange=3]="ContentChange"})(H||(e.SignatureHelpTriggerKind=H={}));var V;(function(x){x[x.File=0]="File",x[x.Module=1]="Module",x[x.Namespace=2]="Namespace",x[x.Package=3]="Package",x[x.Class=4]="Class",x[x.Method=5]="Method",x[x.Property=6]="Property",x[x.Field=7]="Field",x[x.Constructor=8]="Constructor",x[x.Enum=9]="Enum",x[x.Interface=10]="Interface",x[x.Function=11]="Function",x[x.Variable=12]="Variable",x[x.Constant=13]="Constant",x[x.String=14]="String",x[x.Number=15]="Number",x[x.Boolean=16]="Boolean",x[x.Array=17]="Array",x[x.Object=18]="Object",x[x.Key=19]="Key",x[x.Null=20]="Null",x[x.EnumMember=21]="EnumMember",x[x.Struct=22]="Struct",x[x.Event=23]="Event",x[x.Operator=24]="Operator",x[x.TypeParameter=25]="TypeParameter"})(V||(e.SymbolKind=V={}));var q;(function(x){x[x.Deprecated=1]="Deprecated"})(q||(e.SymbolTag=q={}));var z;(function(x){x[x.Hidden=0]="Hidden",x[x.Blink=1]="Blink",x[x.Smooth=2]="Smooth",x[x.Phase=3]="Phase",x[x.Expand=4]="Expand",x[x.Solid=5]="Solid"})(z||(e.TextEditorCursorBlinkingStyle=z={}));var U;(function(x){x[x.Line=1]="Line",x[x.Block=2]="Block",x[x.Underline=3]="Underline",x[x.LineThin=4]="LineThin",x[x.BlockOutline=5]="BlockOutline",x[x.UnderlineThin=6]="UnderlineThin"})(U||(e.TextEditorCursorStyle=U={}));var Z;(function(x){x[x.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",x[x.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",x[x.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",x[x.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Z||(e.TrackedRangeStickiness=Z={}));var re;(function(x){x[x.None=0]="None",x[x.Same=1]="Same",x[x.Indent=2]="Indent",x[x.DeepIndent=3]="DeepIndent"})(re||(e.WrappingIndent=re={}))}),define(ie[554],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class f{constructor(y,p,w,v){this.range=y,this.nestingLevel=p,this.nestingLevelOfEqualBracketType=w,this.isInvalid=v}}e.BracketInfo=f;class k{constructor(y,p,w,v,_,a){this.range=y,this.openingBracketRange=p,this.closingBracketRange=w,this.nestingLevel=v,this.nestingLevelOfEqualBracketType=_,this.bracketPairNode=a}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class E extends k{constructor(y,p,w,v,_,a,s){super(y,p,w,v,_,a),this.minVisibleColumnIndentation=s}}e.BracketPairWithMinIndentationInfo=E}),define(ie[555],ne([1,0,7,2,554,191,308,101,307,144,226,13,306]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends k.Disposable{didLanguageChange(r){return this.brackets.didLanguageChange(r)}constructor(r,l){if(super(),this.textModel=r,this.getLanguageConfiguration=l,this.didChangeEmitter=new f.Emitter,this.denseKeyProvider=new v.DenseKeyProvider,this.brackets=new y.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],r.tokenization.hasTokens)r.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const o=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),g=new _.FastTokenizer(this.textModel.getValue(),o);this.initialAstWithoutTokens=(0,w.parseDocument)(g,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const r=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,r||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:r}){const l=r.map(o=>new L.TextEditInfo((0,p.toLength)(o.fromLineNumber-1,0),(0,p.toLength)(o.toLineNumber,0),(0,p.toLength)(o.toLineNumber-o.fromLineNumber+1,0)));this.handleEdits(l,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(r){const l=L.TextEditInfo.fromModelContentChanges(r.changes);this.handleEdits(l,!1)}handleEdits(r,l){const o=(0,s.combineTextEditInfos)(this.queuedTextEdits,r);this.queuedTextEdits=o,this.initialAstWithoutTokens&&!l&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,s.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,r))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(r,l,o){const c=l,b=new _.TextBufferTokenizer(this.textModel,this.brackets);return(0,w.parseDocument)(b,r,c,o)}getBracketsInRange(r,l){this.flushQueue();const o=(0,p.toLength)(r.startLineNumber-1,r.startColumn-1),g=(0,p.toLength)(r.endLineNumber-1,r.endColumn-1);return new a.CallbackIterable(c=>{const b=this.initialAstWithoutTokens||this.astWithTokens;h(b,p.lengthZero,b.length,o,g,c,0,0,new Map,l)})}getBracketPairsInRange(r,l){this.flushQueue();const o=(0,p.positionToLength)(r.getStartPosition()),g=(0,p.positionToLength)(r.getEndPosition());return new a.CallbackIterable(c=>{const b=this.initialAstWithoutTokens||this.astWithTokens,C=new m(c,l,this.textModel);u(b,p.lengthZero,b.length,o,g,C,0,new Map)})}getFirstBracketAfter(r){this.flushQueue();const l=this.initialAstWithoutTokens||this.astWithTokens;return n(l,p.lengthZero,l.length,(0,p.positionToLength)(r))}getFirstBracketBefore(r){this.flushQueue();const l=this.initialAstWithoutTokens||this.astWithTokens;return t(l,p.lengthZero,l.length,(0,p.positionToLength)(r))}}e.BracketPairsTree=i;function t(d,r,l,o){if(d.kind===4||d.kind===2){const g=[];for(const c of d.children)l=(0,p.lengthAdd)(r,c.length),g.push({nodeOffsetStart:r,nodeOffsetEnd:l}),r=l;for(let c=g.length-1;c>=0;c--){const{nodeOffsetStart:b,nodeOffsetEnd:C}=g[c];if((0,p.lengthLessThan)(b,o)){const S=t(d.children[c],b,C,o);if(S)return S}}return null}else{if(d.kind===3)return null;if(d.kind===1){const g=(0,p.lengthsToRange)(r,l);return{bracketInfo:d.bracketInfo,range:g}}}return null}function n(d,r,l,o){if(d.kind===4||d.kind===2){for(const g of d.children){if(l=(0,p.lengthAdd)(r,g.length),(0,p.lengthLessThan)(o,l)){const c=n(g,r,l,o);if(c)return c}r=l}return null}else{if(d.kind===3)return null;if(d.kind===1){const g=(0,p.lengthsToRange)(r,l);return{bracketInfo:d.bracketInfo,range:g}}}return null}function h(d,r,l,o,g,c,b,C,S,D,I=!1){if(b>200)return!0;e:for(;;)switch(d.kind){case 4:{const T=d.childrenLength;for(let N=0;N<T;N++){const A=d.getChild(N);if(A){if(l=(0,p.lengthAdd)(r,A.length),(0,p.lengthLessThanEqual)(r,g)&&(0,p.lengthGreaterThanEqual)(l,o)){if((0,p.lengthGreaterThanEqual)(l,g)){d=A;continue e}if(!h(A,r,l,o,g,c,b,0,S,D))return!1}r=l}}return!0}case 2:{const T=!D||!d.closingBracket||d.closingBracket.bracketInfo.closesColorized(d.openingBracket.bracketInfo);let N=0;if(S){let P=S.get(d.openingBracket.text);P===void 0&&(P=0),N=P,T&&(P++,S.set(d.openingBracket.text,P))}const A=d.childrenLength;for(let P=0;P<A;P++){const M=d.getChild(P);if(M){if(l=(0,p.lengthAdd)(r,M.length),(0,p.lengthLessThanEqual)(r,g)&&(0,p.lengthGreaterThanEqual)(l,o)){if((0,p.lengthGreaterThanEqual)(l,g)&&M.kind!==1){d=M,T?(b++,C=N+1):C=N;continue e}if((T||M.kind!==1||!d.closingBracket)&&!h(M,r,l,o,g,c,T?b+1:b,T?N+1:N,S,D,!d.closingBracket))return!1}r=l}}return S?.set(d.openingBracket.text,N),!0}case 3:{const T=(0,p.lengthsToRange)(r,l);return c(new E.BracketInfo(T,b-1,0,!0))}case 1:{const T=(0,p.lengthsToRange)(r,l);return c(new E.BracketInfo(T,b-1,C-1,I))}case 0:return!0}}class m{constructor(r,l,o){this.push=r,this.includeMinIndentation=l,this.textModel=o}}function u(d,r,l,o,g,c,b,C){var S;if(b>200)return!0;let D=!0;if(d.kind===2){let I=0;if(C){let A=C.get(d.openingBracket.text);A===void 0&&(A=0),I=A,A++,C.set(d.openingBracket.text,A)}const T=(0,p.lengthAdd)(r,d.openingBracket.length);let N=-1;if(c.includeMinIndentation&&(N=d.computeMinIndentation(r,c.textModel)),D=c.push(new E.BracketPairWithMinIndentationInfo((0,p.lengthsToRange)(r,l),(0,p.lengthsToRange)(r,T),d.closingBracket?(0,p.lengthsToRange)((0,p.lengthAdd)(T,((S=d.child)===null||S===void 0?void 0:S.length)||p.lengthZero),l):void 0,b,I,d,N)),r=T,D&&d.child){const A=d.child;if(l=(0,p.lengthAdd)(r,A.length),(0,p.lengthLessThanEqual)(r,g)&&(0,p.lengthGreaterThanEqual)(l,o)&&(D=u(A,r,l,o,g,c,b+1,C),!D))return!1}C?.set(d.openingBracket.text,I)}else{let I=r;for(const T of d.children){const N=I;if(I=(0,p.lengthAdd)(I,T.length),(0,p.lengthLessThanEqual)(N,g)&&(0,p.lengthLessThanEqual)(o,I)&&(D=u(T,N,I,o,g,c,b,C),!D))return!1}}return D}}),define(ie[125],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class f{constructor(){this.changeType=1}}e.ModelRawFlush=f;class k{static applyInjectedText(s,i){if(!i||i.length===0)return s;let t="",n=0;for(const h of i)t+=s.substring(n,h.column-1),n=h.column-1,t+=h.options.content;return t+=s.substring(n),t}static fromDecorations(s){const i=[];for(const t of s)t.options.before&&t.options.before.content.length>0&&i.push(new k(t.ownerId,t.range.startLineNumber,t.range.startColumn,t.options.before,0)),t.options.after&&t.options.after.content.length>0&&i.push(new k(t.ownerId,t.range.endLineNumber,t.range.endColumn,t.options.after,1));return i.sort((t,n)=>t.lineNumber===n.lineNumber?t.column===n.column?t.order-n.order:t.column-n.column:t.lineNumber-n.lineNumber),i}constructor(s,i,t,n,h){this.ownerId=s,this.lineNumber=i,this.column=t,this.options=n,this.order=h}}e.LineInjectedText=k;class E{constructor(s,i,t){this.changeType=2,this.lineNumber=s,this.detail=i,this.injectedText=t}}e.ModelRawLineChanged=E;class L{constructor(s,i){this.changeType=3,this.fromLineNumber=s,this.toLineNumber=i}}e.ModelRawLinesDeleted=L;class y{constructor(s,i,t,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=s,this.toLineNumber=i,this.detail=t}}e.ModelRawLinesInserted=y;class p{constructor(){this.changeType=5}}e.ModelRawEOLChanged=p;class w{constructor(s,i,t,n){this.changes=s,this.versionId=i,this.isUndoing=t,this.isRedoing=n,this.resultingSelection=null}containsEvent(s){for(let i=0,t=this.changes.length;i<t;i++)if(this.changes[i].changeType===s)return!0;return!1}static merge(s,i){const t=[].concat(s.changes).concat(i.changes),n=i.versionId,h=s.isUndoing||i.isUndoing,m=s.isRedoing||i.isRedoing;return new w(t,n,h,m)}}e.ModelRawContentChangedEvent=w;class v{constructor(s){this.changes=s}}e.ModelInjectedTextChangedEvent=v;class _{constructor(s,i){this.rawContentChangedEvent=s,this.contentChangedEvent=i}merge(s){const i=w.merge(this.rawContentChangedEvent,s.rawContentChangedEvent),t=_._mergeChangeEvents(this.contentChangedEvent,s.contentChangedEvent);return new _(i,t)}static _mergeChangeEvents(s,i){const t=[].concat(s.changes).concat(i.changes),n=i.eol,h=i.versionId,m=s.isUndoing||i.isUndoing,u=s.isRedoing||i.isRedoing,d=s.isFlush||i.isFlush,r=s.isEolChange&&i.isEolChange;return{changes:t,eol:n,isEolChange:r,versionId:h,isUndoing:m,isRedoing:u,isFlush:d}}}e.InternalModelContentChangeEvent=_}),define(ie[229],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var f;(function(L){L[L.Disabled=0]="Disabled",L[L.EnabledForActive=1]="EnabledForActive",L[L.Enabled=2]="Enabled"})(f||(e.HorizontalGuidesState=f={}));class k{constructor(y,p,w,v,_,a){if(this.visibleColumn=y,this.column=p,this.className=w,this.horizontalLine=v,this.forWrappedLinesAfterColumn=_,this.forWrappedLinesBeforeOrAtColumn=a,y!==-1==(p!==-1))throw new Error}}e.IndentGuide=k;class E{constructor(y,p){this.top=y,this.endColumn=p}}e.IndentGuideHorizontalLine=E}),define(ie[315],ne([1,0,66,11,90,5,310,227,229,12]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class _ extends y.TextModelPart{constructor(i,t){super(),this.textModel=i,this.languageConfigurationService=t}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,p.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,t,n){this.assertNotDisposed();const h=this.textModel.getLineCount();if(i<1||i>h)throw new v.BugIndicatingError("Illegal value for lineNumber");const m=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,u=!!(m&&m.offSide);let d=-2,r=-1,l=-2,o=-1;const g=R=>{if(d!==-1&&(d===-2||d>R-1)){d=-1,r=-1;for(let F=R-2;F>=0;F--){const O=this._computeIndentLevel(F);if(O>=0){d=F,r=O;break}}}if(l===-2){l=-1,o=-1;for(let F=R;F<h;F++){const O=this._computeIndentLevel(F);if(O>=0){l=F,o=O;break}}}};let c=-2,b=-1,C=-2,S=-1;const D=R=>{if(c===-2){c=-1,b=-1;for(let F=R-2;F>=0;F--){const O=this._computeIndentLevel(F);if(O>=0){c=F,b=O;break}}}if(C!==-1&&(C===-2||C<R-1)){C=-1,S=-1;for(let F=R;F<h;F++){const O=this._computeIndentLevel(F);if(O>=0){C=F,S=O;break}}}};let I=0,T=!0,N=0,A=!0,P=0,M=0;for(let R=0;T||A;R++){const F=i-R,O=i+R;R>1&&(F<1||F<t)&&(T=!1),R>1&&(O>h||O>n)&&(A=!1),R>5e4&&(T=!1,A=!1);let B=-1;if(T&&F>=1){const V=this._computeIndentLevel(F-1);V>=0?(l=F-1,o=V,B=Math.ceil(V/this.textModel.getOptions().indentSize)):(g(F),B=this._getIndentLevelForWhitespaceLine(u,r,o))}let H=-1;if(A&&O<=h){const V=this._computeIndentLevel(O-1);V>=0?(c=O-1,b=V,H=Math.ceil(V/this.textModel.getOptions().indentSize)):(D(O),H=this._getIndentLevelForWhitespaceLine(u,b,S))}if(R===0){M=B;continue}if(R===1){if(O<=h&&H>=0&&M+1===H){T=!1,I=O,N=O,P=H;continue}if(F>=1&&B>=0&&B-1===M){A=!1,I=F,N=F,P=B;continue}if(I=i,N=i,P=M,P===0)return{startLineNumber:I,endLineNumber:N,indent:P}}T&&(B>=P?I=F:T=!1),A&&(H>=P?N=O:A=!1)}return{startLineNumber:I,endLineNumber:N,indent:P}}getLinesBracketGuides(i,t,n,h){var m;const u=[];for(let c=i;c<=t;c++)u.push([]);const d=!0,r=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new L.Range(i,1,t,this.textModel.getLineMaxColumn(t))).toArray();let l;if(n&&r.length>0){const c=(i<=n.lineNumber&&n.lineNumber<=t?r:this.textModel.bracketPairs.getBracketPairsInRange(L.Range.fromPositions(n)).toArray()).filter(b=>L.Range.strictContainsPosition(b.range,n));l=(m=(0,f.findLast)(c,b=>d||b.range.startLineNumber!==b.range.endLineNumber))===null||m===void 0?void 0:m.range}const o=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,g=new a;for(const c of r){if(!c.closingBracketRange)continue;const b=l&&c.range.equalsRange(l);if(!b&&!h.includeInactive)continue;const C=g.getInlineClassName(c.nestingLevel,c.nestingLevelOfEqualBracketType,o)+(h.highlightActive&&b?" "+g.activeClassName:""),S=c.openingBracketRange.getStartPosition(),D=c.closingBracketRange.getStartPosition(),I=h.horizontalGuides===w.HorizontalGuidesState.Enabled||h.horizontalGuides===w.HorizontalGuidesState.EnabledForActive&&b;if(c.range.startLineNumber===c.range.endLineNumber){d&&I&&u[c.range.startLineNumber-i].push(new w.IndentGuide(-1,c.openingBracketRange.getEndPosition().column,C,new w.IndentGuideHorizontalLine(!1,D.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(D),N=this.getVisibleColumnFromPosition(c.openingBracketRange.getStartPosition()),A=Math.min(N,T,c.minVisibleColumnIndentation+1);let P=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(c.closingBracketRange.startLineNumber))<c.closingBracketRange.startColumn-1&&(P=!0);const F=Math.max(S.lineNumber,i),O=Math.min(D.lineNumber,t),B=P?1:0;for(let H=F;H<O+B;H++)u[H-i].push(new w.IndentGuide(A,-1,C,null,H===S.lineNumber?S.column:-1,H===D.lineNumber?D.column:-1));I&&(S.lineNumber>=i&&N>A&&u[S.lineNumber-i].push(new w.IndentGuide(A,-1,C,new w.IndentGuideHorizontalLine(!1,S.column),-1,-1)),D.lineNumber<=t&&T>A&&u[D.lineNumber-i].push(new w.IndentGuide(A,-1,C,new w.IndentGuideHorizontalLine(!P,D.column),-1,-1)))}for(const c of u)c.sort((b,C)=>b.visibleColumn-C.visibleColumn);return u}getVisibleColumnFromPosition(i){return E.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,t){this.assertNotDisposed();const n=this.textModel.getLineCount();if(i<1||i>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const h=this.textModel.getOptions(),m=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,u=!!(m&&m.offSide),d=new Array(t-i+1);let r=-2,l=-1,o=-2,g=-1;for(let c=i;c<=t;c++){const b=c-i,C=this._computeIndentLevel(c-1);if(C>=0){r=c-1,l=C,d[b]=Math.ceil(C/h.indentSize);continue}if(r===-2){r=-1,l=-1;for(let S=c-2;S>=0;S--){const D=this._computeIndentLevel(S);if(D>=0){r=S,l=D;break}}}if(o!==-1&&(o===-2||o<c-1)){o=-1,g=-1;for(let S=c;S<n;S++){const D=this._computeIndentLevel(S);if(D>=0){o=S,g=D;break}}}d[b]=this._getIndentLevelForWhitespaceLine(u,l,g)}return d}_getIndentLevelForWhitespaceLine(i,t,n){const h=this.textModel.getOptions();return t===-1||n===-1?0:t<n?1+Math.floor(t/h.indentSize):t===n||i?Math.ceil(n/h.indentSize):1+Math.floor(n/h.indentSize)}}e.GuidesTextModelPart=_;class a{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,t,n){return this.getInlineClassNameOfLevel(n?t:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=a}),define(ie[556],ne([1,0,7,2]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class E{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(p){this._onDidChange.fire({changedLanguages:p,changedColorMap:!1})}register(p,w){return this._tokenizationSupports.set(p,w),this.handleChange([p]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(p)===w&&(this._tokenizationSupports.delete(p),this.handleChange([p]))})}get(p){return this._tokenizationSupports.get(p)||null}registerFactory(p,w){var v;(v=this._factories.get(p))===null||v===void 0||v.dispose();const _=new L(this,p,w);return this._factories.set(p,_),(0,k.toDisposable)(()=>{const a=this._factories.get(p);!a||a!==_||(this._factories.delete(p),a.dispose())})}async getOrCreate(p){const w=this.get(p);if(w)return w;const v=this._factories.get(p);return!v||v.isResolved?null:(await v.resolve(),this.get(p))}isResolved(p){if(this.get(p))return!0;const v=this._factories.get(p);return!!(!v||v.isResolved)}setColorMap(p){this._colorMap=p,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=E;class L extends k.Disposable{get isResolved(){return this._isResolved}constructor(p,w,v){super(),this._registry=p,this._languageId=w,this._factory=v,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const p=await this._factory.tokenizationSupport;this._isResolved=!0,p&&!this._isDisposed&&this._register(this._registry.register(this._languageId,p))}}}),define(ie[557],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class f{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(E,L){this._startLineNumber=E,this._tokens=L}getLineTokens(E){return this._tokens[E-this._startLineNumber]}appendLineTokens(E){this._tokens.push(E)}}e.ContiguousMultilineTokens=f}),define(ie[316],ne([1,0,557]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(L,y){if(this._tokens.length>0){const p=this._tokens[this._tokens.length-1];if(p.endLineNumber+1===L){p.appendLineTokens(y);return}}this._tokens.push(new f.ContiguousMultilineTokens(L,[y]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(ie[102],ne([1,0,142]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class k{static createEmpty(y,p){const w=k.defaultTokenMetadata,v=new Uint32Array(2);return v[0]=y.length,v[1]=w,new k(v,y,p)}constructor(y,p,w){this._lineTokensBrand=void 0,this._tokens=y,this._tokensCount=this._tokens.length>>>1,this._text=p,this._languageIdCodec=w}equals(y){return y instanceof k?this.slicedEquals(y,0,this._tokensCount):!1}slicedEquals(y,p,w){if(this._text!==y._text||this._tokensCount!==y._tokensCount)return!1;const v=p<<1,_=v+(w<<1);for(let a=v;a<_;a++)if(this._tokens[a]!==y._tokens[a])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(y){return y>0?this._tokens[y-1<<1]:0}getMetadata(y){return this._tokens[(y<<1)+1]}getLanguageId(y){const p=this._tokens[(y<<1)+1],w=f.TokenMetadata.getLanguageId(p);return this._languageIdCodec.decodeLanguageId(w)}getStandardTokenType(y){const p=this._tokens[(y<<1)+1];return f.TokenMetadata.getTokenType(p)}getForeground(y){const p=this._tokens[(y<<1)+1];return f.TokenMetadata.getForeground(p)}getClassName(y){const p=this._tokens[(y<<1)+1];return f.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(y,p){const w=this._tokens[(y<<1)+1];return f.TokenMetadata.getInlineStyleFromMetadata(w,p)}getPresentation(y){const p=this._tokens[(y<<1)+1];return f.TokenMetadata.getPresentationFromMetadata(p)}getEndOffset(y){return this._tokens[y<<1]}findTokenIndexAtOffset(y){return k.findIndexInTokensArray(this._tokens,y)}inflate(){return this}sliceAndInflate(y,p,w){return new E(this,y,p,w)}static convertToEndOffset(y,p){const v=(y.length>>>1)-1;for(let _=0;_<v;_++)y[_<<1]=y[_+1<<1];y[v<<1]=p}static findIndexInTokensArray(y,p){if(y.length<=2)return 0;let w=0,v=(y.length>>>1)-1;for(;w<v;){const _=w+Math.floor((v-w)/2),a=y[_<<1];if(a===p)return _+1;a<p?w=_+1:a>p&&(v=_)}return w}withInserted(y){if(y.length===0)return this;let p=0,w=0,v="";const _=new Array;let a=0;for(;;){const s=p<this._tokensCount?this._tokens[p<<1]:-1,i=w<y.length?y[w]:null;if(s!==-1&&(i===null||s<=i.offset)){v+=this._text.substring(a,s);const t=this._tokens[(p<<1)+1];_.push(v.length,t),p++,a=s}else if(i){if(i.offset>a){v+=this._text.substring(a,i.offset);const t=this._tokens[(p<<1)+1];_.push(v.length,t),a=i.offset}v+=i.text,_.push(v.length,i.tokenMetadata),w++}else break}return new k(new Uint32Array(_),v,this._languageIdCodec)}}e.LineTokens=k,k.defaultTokenMetadata=(32768|2<<24)>>>0;class E{constructor(y,p,w,v){this._source=y,this._startOffset=p,this._endOffset=w,this._deltaOffset=v,this._firstTokenIndex=y.findTokenIndexAtOffset(p),this._tokensCount=0;for(let _=this._firstTokenIndex,a=y.getCount();_<a&&!(y.getStartOffset(_)>=w);_++)this._tokensCount++}getMetadata(y){return this._source.getMetadata(this._firstTokenIndex+y)}getLanguageId(y){return this._source.getLanguageId(this._firstTokenIndex+y)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(y){return y instanceof E?this._startOffset===y._startOffset&&this._endOffset===y._endOffset&&this._deltaOffset===y._deltaOffset&&this._source.slicedEquals(y._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(y){return this._source.getForeground(this._firstTokenIndex+y)}getEndOffset(y){const p=this._source.getEndOffset(this._firstTokenIndex+y);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(y){return this._source.getClassName(this._firstTokenIndex+y)}getInlineStyle(y,p){return this._source.getInlineStyle(this._firstTokenIndex+y,p)}getPresentation(y){return this._source.getPresentation(this._firstTokenIndex+y)}findTokenIndexAtOffset(y){return this._source.findTokenIndexAtOffset(y+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(ie[558],ne([1,0,102]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.toUint32Array=E,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(y,p){return y===null||y===e.EMPTY_LINE_TOKENS?y:k.delete(y,0,p)}static deleteEnding(y,p){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const w=E(y),v=w[w.length-2];return k.delete(y,p,v)}static delete(y,p,w){if(y===null||y===e.EMPTY_LINE_TOKENS||p===w)return y;const v=E(y),_=v.length>>>1;if(p===0&&v[v.length-2]===w)return e.EMPTY_LINE_TOKENS;const a=f.LineTokens.findIndexInTokensArray(v,p),s=a>0?v[a-1<<1]:0,i=v[a<<1];if(w<i){const u=w-p;for(let d=a;d<_;d++)v[d<<1]-=u;return y}let t,n;s!==p?(v[a<<1]=p,t=a+1<<1,n=p):(t=a<<1,n=s);const h=w-p;for(let u=a+1;u<_;u++){const d=v[u<<1]-h;d>n&&(v[t++]=d,v[t++]=v[(u<<1)+1],n=d)}if(t===v.length)return y;const m=new Uint32Array(t);return m.set(v.subarray(0,t),0),m.buffer}static append(y,p){if(p===e.EMPTY_LINE_TOKENS)return y;if(y===e.EMPTY_LINE_TOKENS)return p;if(y===null)return y;if(p===null)return null;const w=E(y),v=E(p),_=v.length>>>1,a=new Uint32Array(w.length+v.length);a.set(w,0);let s=w.length;const i=w[w.length-2];for(let t=0;t<_;t++)a[s++]=v[t<<1]+i,a[s++]=v[(t<<1)+1];return a.buffer}static insert(y,p,w){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const v=E(y),_=v.length>>>1;let a=f.LineTokens.findIndexInTokensArray(v,p);a>0&&v[a-1<<1]===p&&a--;for(let s=a;s<_;s++)v[s<<1]+=w;return y}}e.ContiguousTokensEditing=k;function E(L){return L instanceof Uint32Array?L:new Uint32Array(L)}}),define(ie[559],ne([1,0,13,9,558,102,142]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class p{constructor(_){this._lineTokens=[],this._len=0,this._languageIdCodec=_}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(_,a,s){let i=null;if(a<this._len&&(i=this._lineTokens[a]),i!==null&&i!==E.EMPTY_LINE_TOKENS)return new L.LineTokens((0,E.toUint32Array)(i),s,this._languageIdCodec);const t=new Uint32Array(2);return t[0]=s.length,t[1]=w(this._languageIdCodec.encodeLanguageId(_)),new L.LineTokens(t,s,this._languageIdCodec)}static _massageTokens(_,a,s){const i=s?(0,E.toUint32Array)(s):null;if(a===0){let t=!1;if(i&&i.length>1&&(t=y.TokenMetadata.getLanguageId(i[1])!==_),!t)return E.EMPTY_LINE_TOKENS}if(!i||i.length===0){const t=new Uint32Array(2);return t[0]=a,t[1]=w(_),t.buffer}return i[i.length-2]=a,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(_){for(;_>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(_,a){a!==0&&(_+a>this._len&&(a=this._len-_),this._lineTokens.splice(_,a),this._len-=a)}_insertLines(_,a){if(a===0)return;const s=[];for(let i=0;i<a;i++)s[i]=null;this._lineTokens=f.arrayInsert(this._lineTokens,_,s),this._len+=a}setTokens(_,a,s,i,t){const n=p._massageTokens(this._languageIdCodec.encodeLanguageId(_),s,i);this._ensureLine(a);const h=this._lineTokens[a];return this._lineTokens[a]=n,t?!p._equals(h,n):!1}static _equals(_,a){if(!_||!a)return!_&&!a;const s=(0,E.toUint32Array)(_),i=(0,E.toUint32Array)(a);if(s.length!==i.length)return!1;for(let t=0,n=s.length;t<n;t++)if(s[t]!==i[t])return!1;return!0}acceptEdit(_,a,s){this._acceptDeleteRange(_),this._acceptInsertText(new k.Position(_.startLineNumber,_.startColumn),a,s)}_acceptDeleteRange(_){const a=_.startLineNumber-1;if(a>=this._len)return;if(_.startLineNumber===_.endLineNumber){if(_.startColumn===_.endColumn)return;this._lineTokens[a]=E.ContiguousTokensEditing.delete(this._lineTokens[a],_.startColumn-1,_.endColumn-1);return}this._lineTokens[a]=E.ContiguousTokensEditing.deleteEnding(this._lineTokens[a],_.startColumn-1);const s=_.endLineNumber-1;let i=null;s<this._len&&(i=E.ContiguousTokensEditing.deleteBeginning(this._lineTokens[s],_.endColumn-1)),this._lineTokens[a]=E.ContiguousTokensEditing.append(this._lineTokens[a],i),this._deleteLines(_.startLineNumber,_.endLineNumber-_.startLineNumber)}_acceptInsertText(_,a,s){if(a===0&&s===0)return;const i=_.lineNumber-1;if(!(i>=this._len)){if(a===0){this._lineTokens[i]=E.ContiguousTokensEditing.insert(this._lineTokens[i],_.column-1,s);return}this._lineTokens[i]=E.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],_.column-1),this._lineTokens[i]=E.ContiguousTokensEditing.insert(this._lineTokens[i],_.column-1,s),this._insertLines(_.lineNumber,a)}}setMultilineTokens(_,a){if(_.length===0)return{changes:[]};const s=[];for(let i=0,t=_.length;i<t;i++){const n=_[i];let h=0,m=0,u=!1;for(let d=n.startLineNumber;d<=n.endLineNumber;d++)u?(this.setTokens(a.getLanguageId(),d-1,a.getLineLength(d),n.getLineTokens(d),!1),m=d):this.setTokens(a.getLanguageId(),d-1,a.getLineLength(d),n.getLineTokens(d),!0)&&(u=!0,h=d,m=d);u&&s.push({fromLineNumber:h,toLineNumber:m})}return{changes:s}}}e.ContiguousTokensStore=p;function w(v){return(v<<0|0|0|32768|2<<24|1024)>>>0}}),define(ie[560],ne([1,0,9,5,139]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class L{static create(v,_){return new L(v,new y(_))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(v,_){this._startLineNumber=v,this._tokens=_,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(v){return this._startLineNumber<=v&&v<=this._endLineNumber?this._tokens.getLineTokens(v-this._startLineNumber):null}getRange(){const v=this._tokens.getRange();return v&&new k.Range(this._startLineNumber+v.startLineNumber,v.startColumn,this._startLineNumber+v.endLineNumber,v.endColumn)}removeTokens(v){const _=v.startLineNumber-this._startLineNumber,a=v.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(_,v.startColumn-1,a,v.endColumn-1),this._updateEndLineNumber()}split(v){const _=v.startLineNumber-this._startLineNumber,a=v.endLineNumber-this._startLineNumber,[s,i,t]=this._tokens.split(_,v.startColumn-1,a,v.endColumn-1);return[new L(this._startLineNumber,s),new L(this._startLineNumber+t,i)]}applyEdit(v,_){const[a,s,i]=(0,E.countEOL)(_);this.acceptEdit(v,a,s,i,_.length>0?_.charCodeAt(0):0)}acceptEdit(v,_,a,s,i){this._acceptDeleteRange(v),this._acceptInsertText(new f.Position(v.startLineNumber,v.startColumn),_,a,s,i),this._updateEndLineNumber()}_acceptDeleteRange(v){if(v.startLineNumber===v.endLineNumber&&v.startColumn===v.endColumn)return;const _=v.startLineNumber-this._startLineNumber,a=v.endLineNumber-this._startLineNumber;if(a<0){const i=a-_;this._startLineNumber-=i;return}const s=this._tokens.getMaxDeltaLine();if(!(_>=s+1)){if(_<0&&a>=s+1){this._startLineNumber=0,this._tokens.clear();return}if(_<0){const i=-_;this._startLineNumber-=i,this._tokens.acceptDeleteRange(v.startColumn-1,0,0,a,v.endColumn-1)}else this._tokens.acceptDeleteRange(0,_,v.startColumn-1,a,v.endColumn-1)}}_acceptInsertText(v,_,a,s,i){if(_===0&&a===0)return;const t=v.lineNumber-this._startLineNumber;if(t<0){this._startLineNumber+=_;return}const n=this._tokens.getMaxDeltaLine();t>=n+1||this._tokens.acceptInsertText(t,v.column-1,_,a,s,i)}}e.SparseMultilineTokens=L;class y{constructor(v){this._tokens=v,this._tokenCount=v.length/4}toString(v){const _=[];for(let a=0;a<this._tokenCount;a++)_.push(`(${this._getDeltaLine(a)+v},${this._getStartCharacter(a)}-${this._getEndCharacter(a)})`);return`[${_.join(",")}]`}getMaxDeltaLine(){const v=this._getTokenCount();return v===0?-1:this._getDeltaLine(v-1)}getRange(){const v=this._getTokenCount();if(v===0)return null;const _=this._getStartCharacter(0),a=this._getDeltaLine(v-1),s=this._getEndCharacter(v-1);return new k.Range(0,_+1,a,s+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(v){return this._tokens[4*v]}_getStartCharacter(v){return this._tokens[4*v+1]}_getEndCharacter(v){return this._tokens[4*v+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(v){let _=0,a=this._getTokenCount()-1;for(;_<a;){const s=_+Math.floor((a-_)/2),i=this._getDeltaLine(s);if(i<v)_=s+1;else if(i>v)a=s-1;else{let t=s;for(;t>_&&this._getDeltaLine(t-1)===v;)t--;let n=s;for(;n<a&&this._getDeltaLine(n+1)===v;)n++;return new p(this._tokens.subarray(4*t,4*n+4))}}return this._getDeltaLine(_)===v?new p(this._tokens.subarray(4*_,4*_+4)):null}clear(){this._tokenCount=0}removeTokens(v,_,a,s){const i=this._tokens,t=this._tokenCount;let n=0,h=!1,m=0;for(let u=0;u<t;u++){const d=4*u,r=i[d],l=i[d+1],o=i[d+2],g=i[d+3];if((r>v||r===v&&o>=_)&&(r<a||r===a&&l<=s))h=!0;else{if(n===0&&(m=r),h){const c=4*n;i[c]=r-m,i[c+1]=l,i[c+2]=o,i[c+3]=g}n++}}return this._tokenCount=n,m}split(v,_,a,s){const i=this._tokens,t=this._tokenCount,n=[],h=[];let m=n,u=0,d=0;for(let r=0;r<t;r++){const l=4*r,o=i[l],g=i[l+1],c=i[l+2],b=i[l+3];if(o>v||o===v&&c>=_){if(o<a||o===a&&g<=s)continue;m!==h&&(m=h,u=0,d=o)}m[u++]=o-d,m[u++]=g,m[u++]=c,m[u++]=b}return[new y(new Uint32Array(n)),new y(new Uint32Array(h)),d]}acceptDeleteRange(v,_,a,s,i){const t=this._tokens,n=this._tokenCount,h=s-_;let m=0,u=!1;for(let d=0;d<n;d++){const r=4*d;let l=t[r],o=t[r+1],g=t[r+2];const c=t[r+3];if(l<_||l===_&&g<=a){m++;continue}else if(l===_&&o<a)l===s&&g>i?g-=i-a:g=a;else if(l===_&&o===a)if(l===s&&g>i)g-=i-a;else{u=!0;continue}else if(l<s||l===s&&o<i)if(l===s&&g>i)l=_,o=a,g=o+(g-i);else{u=!0;continue}else if(l>s){if(h===0&&!u){m=n;break}l-=h}else if(l===s&&o>=i)v&&l===0&&(o+=v,g+=v),l-=h,o-=i-a,g-=i-a;else throw new Error("Not possible!");const b=4*m;t[b]=l,t[b+1]=o,t[b+2]=g,t[b+3]=c,m++}this._tokenCount=m}acceptInsertText(v,_,a,s,i,t){const n=a===0&&s===1&&(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122),h=this._tokens,m=this._tokenCount;for(let u=0;u<m;u++){const d=4*u;let r=h[d],l=h[d+1],o=h[d+2];if(!(r<v||r===v&&o<_)){if(r===v&&o===_)if(n)o+=1;else continue;else if(r===v&&l<_&&_<o)a===0?o+=s:o=_;else{if(r===v&&l===_&&n)continue;if(r===v)if(r+=a,a===0)l+=s,o+=s;else{const g=o-l;l=i+(l-_),o=l+g}else r+=a}h[d]=r,h[d+1]=l,h[d+2]=o}}}}class p{constructor(v){this._tokens=v}getCount(){return this._tokens.length/4}getStartCharacter(v){return this._tokens[4*v+1]}getEndCharacter(v){return this._tokens[4*v+2]}getMetadata(v){return this._tokens[4*v+3]}}e.SparseLineTokens=p}),define(ie[561],ne([1,0,13,102]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class E{constructor(y){this._pieces=[],this._isComplete=!1,this._languageIdCodec=y}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(y,p){this._pieces=y||[],this._isComplete=p}setPartial(y,p){let w=y;if(p.length>0){const _=p[0].getRange(),a=p[p.length-1].getRange();if(!_||!a)return y;w=y.plusRange(_).plusRange(a)}let v=null;for(let _=0,a=this._pieces.length;_<a;_++){const s=this._pieces[_];if(s.endLineNumber<w.startLineNumber)continue;if(s.startLineNumber>w.endLineNumber){v=v||{index:_};break}if(s.removeTokens(w),s.isEmpty()){this._pieces.splice(_,1),_--,a--;continue}if(s.endLineNumber<w.startLineNumber)continue;if(s.startLineNumber>w.endLineNumber){v=v||{index:_};continue}const[i,t]=s.split(w);if(i.isEmpty()){v=v||{index:_};continue}t.isEmpty()||(this._pieces.splice(_,1,i,t),_++,a++,v=v||{index:_})}return v=v||{index:this._pieces.length},p.length>0&&(this._pieces=f.arrayInsert(this._pieces,v.index,p)),w}isComplete(){return this._isComplete}addSparseTokens(y,p){if(p.getLineContent().length===0)return p;const w=this._pieces;if(w.length===0)return p;const v=E._findFirstPieceWithLine(w,y),_=w[v].getLineTokens(y);if(!_)return p;const a=p.getCount(),s=_.getCount();let i=0;const t=[];let n=0,h=0;const m=(u,d)=>{u!==h&&(h=u,t[n++]=u,t[n++]=d)};for(let u=0;u<s;u++){const d=_.getStartCharacter(u),r=_.getEndCharacter(u),l=_.getMetadata(u),o=((l&1?2048:0)|(l&2?4096:0)|(l&4?8192:0)|(l&8?16384:0)|(l&16?16744448:0)|(l&32?4278190080:0))>>>0,g=~o>>>0;for(;i<a&&p.getEndOffset(i)<=d;)m(p.getEndOffset(i),p.getMetadata(i)),i++;for(i<a&&p.getStartOffset(i)<d&&m(d,p.getMetadata(i));i<a&&p.getEndOffset(i)<r;)m(p.getEndOffset(i),p.getMetadata(i)&g|l&o),i++;if(i<a)m(r,p.getMetadata(i)&g|l&o),p.getEndOffset(i)===r&&i++;else{const c=Math.min(Math.max(0,i-1),a-1);m(r,p.getMetadata(c)&g|l&o)}}for(;i<a;)m(p.getEndOffset(i),p.getMetadata(i)),i++;return new k.LineTokens(new Uint32Array(t),p.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(y,p){let w=0,v=y.length-1;for(;w<v;){let _=w+Math.floor((v-w)/2);if(y[_].endLineNumber<p)w=_+1;else if(y[_].startLineNumber>p)v=_-1;else{for(;_>w&&y[_-1].startLineNumber<=p&&p<=y[_-1].endLineNumber;)_--;return _}}return w}acceptEdit(y,p,w,v,_){for(const a of this._pieces)a.acceptEdit(y,p,w,v,_)}}e.SparseTokensStore=E}),define(ie[163],ne([1,0,2]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends f.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(L){return!1}onCompositionEnd(L){return!1}onConfigurationChanged(L){return!1}onCursorStateChanged(L){return!1}onDecorationsChanged(L){return!1}onFlushed(L){return!1}onFocusChanged(L){return!1}onLanguageConfigurationChanged(L){return!1}onLineMappingChanged(L){return!1}onLinesChanged(L){return!1}onLinesDeleted(L){return!1}onLinesInserted(L){return!1}onRevealRangeRequest(L){return!1}onScrollChanged(L){return!1}onThemeChanged(L){return!1}onTokensChanged(L){return!1}onTokensColorsChanged(L){return!1}onZonesChanged(L){return!1}handleEvents(L){let y=!1;for(let p=0,w=L.length;p<w;p++){const v=L[p];switch(v.type){case 0:this.onCompositionStart(v)&&(y=!0);break;case 1:this.onCompositionEnd(v)&&(y=!0);break;case 2:this.onConfigurationChanged(v)&&(y=!0);break;case 3:this.onCursorStateChanged(v)&&(y=!0);break;case 4:this.onDecorationsChanged(v)&&(y=!0);break;case 5:this.onFlushed(v)&&(y=!0);break;case 6:this.onFocusChanged(v)&&(y=!0);break;case 7:this.onLanguageConfigurationChanged(v)&&(y=!0);break;case 8:this.onLineMappingChanged(v)&&(y=!0);break;case 9:this.onLinesChanged(v)&&(y=!0);break;case 10:this.onLinesDeleted(v)&&(y=!0);break;case 11:this.onLinesInserted(v)&&(y=!0);break;case 12:this.onRevealRangeRequest(v)&&(y=!0);break;case 13:this.onScrollChanged(v)&&(y=!0);break;case 15:this.onTokensChanged(v)&&(y=!0);break;case 14:this.onThemeChanged(v)&&(y=!0);break;case 16:this.onTokensColorsChanged(v)&&(y=!0);break;case 17:this.onZonesChanged(v)&&(y=!0);break;default:console.info("View received unknown event: "),console.info(v)}}y&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(ie[126],ne([1,0,163]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends f.ViewEventHandler{}e.DynamicViewOverlay=k}),define(ie[56],ne([1,0,163]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends f.ViewEventHandler{constructor(y){super(),this._context=y,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class E{static write(y,p){y.setAttribute("data-mprt",String(p))}static read(y){const p=y.getAttribute("data-mprt");return p===null?0:parseInt(p,10)}static collect(y,p){const w=[];let v=0;for(;y&&y!==y.ownerDocument.body&&y!==p;)y.nodeType===y.ELEMENT_NODE&&(w[v++]=this.read(y)),y=y.parentElement;const _=new Uint8Array(v);for(let a=0;a<v;a++)_[a]=w[v-a-1];return _}}e.PartFingerprints=E}),define(ie[562],ne([1,0,40,56,452]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class E extends k.ViewPart{constructor(y){super(y),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let y=!1;const w=this._context.configuration.options.get(145),v=w.contentWidth-w.verticalScrollbarWidth;this.contentWidth!==v&&(this.contentWidth=v,y=!0);const _=w.contentLeft;return this.contentLeft!==_&&(this.contentLeft=_,y=!0),y}dispose(){super.dispose()}onConfigurationChanged(y){return this.update()}onScrollChanged(y){return y.scrollTopChanged||y.scrollLeftChanged}onDecorationsChanged(y){return!0}onZonesChanged(y){return!0}prepareRender(y){}render(y){var p;let w=0;const v=y.getDecorationsInViewport();for(const _ of v){if(!_.options.blockClassName)continue;let a=this.blocks[w];a||(a=this.blocks[w]=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(a));let s,i;_.options.blockIsAfterEnd?(s=y.getVerticalOffsetAfterLineNumber(_.range.endLineNumber,!1),i=y.getVerticalOffsetAfterLineNumber(_.range.endLineNumber,!0)):(s=y.getVerticalOffsetForLineNumber(_.range.startLineNumber,!0),i=_.range.isEmpty()&&!_.options.blockDoesNotCollapse?y.getVerticalOffsetForLineNumber(_.range.startLineNumber,!1):y.getVerticalOffsetAfterLineNumber(_.range.endLineNumber,!0));const[t,n,h,m]=(p=_.options.blockPadding)!==null&&p!==void 0?p:[0,0,0,0];a.setClassName("blockDecorations-block "+_.options.blockClassName),a.setLeft(this.contentLeft-m),a.setWidth(this.contentWidth+m+n),a.setTop(s-y.scrollTop-t),a.setHeight(i-s+t+h),w++}for(let _=w;_<this.blocks.length;_++)this.blocks[_].domNode.remove();this.blocks.length=w}}e.BlockDecorations=E}),define(ie[563],ne([1,0,126,157,5,454]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class L extends f.DynamicViewOverlay{constructor(p){super(),this._context=p;const w=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const w=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const w=p.getDecorationsInViewport();let v=[],_=0;for(let t=0,n=w.length;t<n;t++){const h=w[t];h.options.className&&(v[_++]=h)}v=v.sort((t,n)=>{if(t.options.zIndex<n.options.zIndex)return-1;if(t.options.zIndex>n.options.zIndex)return 1;const h=t.options.className,m=n.options.className;return h<m?-1:h>m?1:E.Range.compareRangesUsingStarts(t.range,n.range)});const a=p.visibleRange.startLineNumber,s=p.visibleRange.endLineNumber,i=[];for(let t=a;t<=s;t++){const n=t-a;i[n]=""}this._renderWholeLineDecorations(p,v,i),this._renderNormalDecorations(p,v,i),this._renderResult=i}_renderWholeLineDecorations(p,w,v){const _=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber;for(let s=0,i=w.length;s<i;s++){const t=w[s];if(!t.options.isWholeLine)continue;const n='<div class="cdr '+t.options.className+'" style="left:0;width:100%;"></div>',h=Math.max(t.range.startLineNumber,_),m=Math.min(t.range.endLineNumber,a);for(let u=h;u<=m;u++){const d=u-_;v[d]+=n}}}_renderNormalDecorations(p,w,v){var _;const a=p.visibleRange.startLineNumber;let s=null,i=!1,t=null,n=!1;for(let h=0,m=w.length;h<m;h++){const u=w[h];if(u.options.isWholeLine)continue;const d=u.options.className,r=!!u.options.showIfCollapsed;let l=u.range;if(r&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new E.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.viewModel.getLineMaxColumn(l.endLineNumber-1))),s===d&&i===r&&E.Range.areIntersectingOrTouching(t,l)){t=E.Range.plusRange(t,l);continue}s!==null&&this._renderNormalDecoration(p,t,s,n,i,a,v),s=d,i=r,t=l,n=(_=u.options.shouldFillLineOnLineBreak)!==null&&_!==void 0?_:!1}s!==null&&this._renderNormalDecoration(p,t,s,n,i,a,v)}_renderNormalDecoration(p,w,v,_,a,s,i){const t=p.linesVisibleRangesForRange(w,v==="findMatch");if(t)for(let n=0,h=t.length;n<h;n++){const m=t[n];if(m.outsideRenderedLine)continue;const u=m.lineNumber-s;if(a&&m.ranges.length===1){const d=m.ranges[0];if(d.width<this._typicalHalfwidthCharacterWidth){const r=Math.round(d.left+d.width/2),l=Math.max(0,Math.round(r-this._typicalHalfwidthCharacterWidth/2));m.ranges[0]=new k.HorizontalRange(l,this._typicalHalfwidthCharacterWidth)}}for(let d=0,r=m.ranges.length;d<r;d++){const l=_&&m.continuesOnNextLine&&r===1,o=m.ranges[d],g='<div class="cdr '+v+'" style="left:'+String(o.left)+"px;width:"+(l?"100%;":String(o.width)+"px;")+'"></div>';i[u]+=g}}}render(p,w){if(!this._renderResult)return"";const v=w-p;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}e.DecorationsOverlay=L}),define(ie[230],ne([1,0,40,13,126,56,9,5,43,455]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class v{constructor(u,d,r,l,o){this.startLineNumber=u,this.endLineNumber=d,this.className=r,this.tooltip=l,this._decorationToRenderBrand=void 0,this.zIndex=o??0}}e.DecorationToRender=v;class _{constructor(u,d,r){this.className=u,this.zIndex=d,this.tooltip=r}}e.LineDecorationToRender=_;class a{constructor(){this.decorations=[]}add(u){this.decorations.push(u)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=a;class s extends E.DynamicViewOverlay{_render(u,d,r){const l=[];for(let c=u;c<=d;c++){const b=c-u;l[b]=new a}if(r.length===0)return l;r.sort((c,b)=>c.className===b.className?c.startLineNumber===b.startLineNumber?c.endLineNumber-b.endLineNumber:c.startLineNumber-b.startLineNumber:c.className<b.className?-1:1);let o=null,g=0;for(let c=0,b=r.length;c<b;c++){const C=r[c],S=C.className,D=C.zIndex;let I=Math.max(C.startLineNumber,u)-u;const T=Math.min(C.endLineNumber,d)-u;o===S?(I=Math.max(g+1,I),g=Math.max(g,T)):(o=S,g=T);for(let N=I;N<=g;N++)l[N].add(new _(S,D,C.tooltip))}return l}}e.DedupOverlay=s;class i extends L.ViewPart{constructor(u){super(u),this._widgets={},this._context=u;const d=this._context.configuration.options,r=d.get(145);this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=d.get(67),this._glyphMargin=d.get(57),this._glyphMarginLeft=r.glyphMarginLeft,this._glyphMarginWidth=r.glyphMarginWidth,this._glyphMarginDecorationLaneCount=r.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(u){const d=this._context.configuration.options,r=d.get(145);return this._lineHeight=d.get(67),this._glyphMargin=d.get(57),this._glyphMarginLeft=r.glyphMarginLeft,this._glyphMarginWidth=r.glyphMarginWidth,this._glyphMarginDecorationLaneCount=r.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}addWidget(u){const d=(0,f.createFastDomNode)(u.getDomNode());this._widgets[u.getId()]={widget:u,preference:u.getPosition(),domNode:d,renderInfo:null},d.setPosition("absolute"),d.setDisplay("none"),d.setAttribute("widgetId",u.getId()),this.domNode.appendChild(d),this.setShouldRender()}setWidgetPosition(u,d){const r=this._widgets[u.getId()];return r.preference.lane===d.lane&&r.preference.zIndex===d.zIndex&&p.Range.equalsRange(r.preference.range,d.range)?!1:(r.preference=d,this.setShouldRender(),!0)}removeWidget(u){var d;const r=u.getId();if(this._widgets[r]){const o=this._widgets[r].domNode.domNode;delete this._widgets[r],(d=o.parentNode)===null||d===void 0||d.removeChild(o),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(u,d){var r,l,o;const g=u.visibleRange.startLineNumber,c=u.visibleRange.endLineNumber,b=u.getDecorationsInViewport();for(const C of b){const S=C.options.glyphMarginClassName;if(!S)continue;const D=Math.max(C.range.startLineNumber,g),I=Math.min(C.range.endLineNumber,c),T=(l=(r=C.options.glyphMargin)===null||r===void 0?void 0:r.position)!==null&&l!==void 0?l:w.GlyphMarginLane.Center,N=(o=C.options.zIndex)!==null&&o!==void 0?o:0;for(let A=D;A<=I;A++){const P=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(A,0)),M=this._context.viewModel.glyphLanes.getLanesAtLine(P.lineNumber).indexOf(T);d.push(new t(A,M,N,S))}}}_collectWidgetBasedGlyphRenderRequest(u,d){const r=u.visibleRange.startLineNumber,l=u.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const g=o.preference.range,{startLineNumber:c,endLineNumber:b}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(p.Range.lift(g));if(!c||!b||b<r||c>l)continue;const C=Math.max(c,r),S=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(C,0)),D=this._context.viewModel.glyphLanes.getLanesAtLine(S.lineNumber).indexOf(o.preference.lane);d.push(new n(C,D,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(u){const d=[];return this._collectDecorationBasedGlyphRenderRequest(u,d),this._collectWidgetBasedGlyphRenderRequest(u,d),d.sort((r,l)=>r.lineNumber===l.lineNumber?r.laneIndex===l.laneIndex?r.zIndex===l.zIndex?l.type===r.type?r.type===0&&l.type===0?r.className<l.className?-1:1:0:l.type-r.type:l.zIndex-r.zIndex:r.laneIndex-l.laneIndex:r.lineNumber-l.lineNumber),d}prepareRender(u){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const l of Object.values(this._widgets))l.renderInfo=null;const d=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(u)),r=[];for(;d.length>0;){const l=d.peek();if(!l)break;const o=d.takeWhile(c=>c.lineNumber===l.lineNumber&&c.laneIndex===l.laneIndex);if(!o||o.length===0)break;const g=o[0];if(g.type===0){const c=[];for(const b of o){if(b.zIndex!==g.zIndex||b.type!==g.type)break;(c.length===0||c[c.length-1]!==b.className)&&c.push(b.className)}r.push(g.accept(c.join(" ")))}else g.widget.renderInfo={lineNumber:g.lineNumber,laneIndex:g.laneIndex}}this._decorationGlyphsToRender=r}render(u){if(!this._glyphMargin){for(const r of Object.values(this._widgets))r.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const r=this._managedDomNodes.pop();r?.domNode.remove()}return}const d=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const r of Object.values(this._widgets))if(!r.renderInfo)r.domNode.setDisplay("none");else{const l=u.viewportData.relativeVerticalOffset[r.renderInfo.lineNumber-u.viewportData.startLineNumber],o=this._glyphMarginLeft+r.renderInfo.laneIndex*this._lineHeight;r.domNode.setDisplay("block"),r.domNode.setTop(l),r.domNode.setLeft(o),r.domNode.setWidth(d),r.domNode.setHeight(this._lineHeight)}for(let r=0;r<this._decorationGlyphsToRender.length;r++){const l=this._decorationGlyphsToRender[r],o=u.viewportData.relativeVerticalOffset[l.lineNumber-u.viewportData.startLineNumber],g=this._glyphMarginLeft+l.laneIndex*this._lineHeight;let c;r<this._managedDomNodes.length?c=this._managedDomNodes[r]:(c=(0,f.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(c),this.domNode.appendChild(c)),c.setClassName("cgmr codicon "+l.combinedClassName),c.setPosition("absolute"),c.setTop(o),c.setLeft(g),c.setWidth(d),c.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const r=this._managedDomNodes.pop();r?.domNode.remove()}}}e.GlyphMarginWidgets=i;class t{constructor(u,d,r,l){this.lineNumber=u,this.laneIndex=d,this.zIndex=r,this.className=l,this.type=0}accept(u){return new h(this.lineNumber,this.laneIndex,u)}}class n{constructor(u,d,r,l){this.lineNumber=u,this.laneIndex=d,this.zIndex=r,this.widget=l,this.type=1}}class h{constructor(u,d,r){this.lineNumber=u,this.laneIndex=d,this.combinedClassName=r}}}),define(ie[564],ne([1,0,230,459]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends f.DedupOverlay{constructor(L){super(),this._context=L;const p=this._context.configuration.options.get(145);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){const p=this._context.configuration.options.get(145);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){var y,p;const w=L.getDecorationsInViewport(),v=[];let _=0;for(let a=0,s=w.length;a<s;a++){const i=w[a],t=i.options.linesDecorationsClassName,n=i.options.zIndex;t&&(v[_++]=new f.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t,(y=i.options.linesDecorationsTooltip)!==null&&y!==void 0?y:null,n));const h=i.options.firstLineDecorationClassName;h&&(v[_++]=new f.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,h,(p=i.options.linesDecorationsTooltip)!==null&&p!==void 0?p:null,n))}return v}prepareRender(L){const y=L.visibleRange.startLineNumber,p=L.visibleRange.endLineNumber,w=this._render(y,p,this._getDecorations(L)),v=this._decorationsLeft.toString(),_=this._decorationsWidth.toString(),a='" style="left:'+v+"px;width:"+_+'px;"></div>',s=[];for(let i=y;i<=p;i++){const t=i-y,n=w[t].getDecorations();let h="";for(const m of n){let u='<div class="cldr '+m.className;m.tooltip!==null&&(u+='" title="'+m.tooltip),u+=a,h+=u}s[t]=h}this._renderResult=s}render(L,y){return this._renderResult?this._renderResult[y-L]:""}}e.LinesDecorationsOverlay=k}),define(ie[317],ne([1,0,40,56,460]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class E extends k.ViewPart{constructor(y){super(y);const p=this._context.configuration.options,w=p.get(145);this._canUseLayerHinting=!p.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(E.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,f.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(E.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(y){const p=this._context.configuration.options,w=p.get(145);return this._canUseLayerHinting=!p.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,!0}onScrollChanged(y){return super.onScrollChanged(y)||y.scrollTopChanged}prepareRender(y){}render(y){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=y.scrollTop-y.bigNumbersDelta;this._domNode.setTop(-p);const w=Math.min(y.scrollHeight,1e6);this._domNode.setHeight(w),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(w)}}e.Margin=E,E.CLASS_NAME="glyph-margin",E.OUTER_CLASS_NAME="margin"}),define(ie[565],ne([1,0,230,461]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends f.DedupOverlay{constructor(L){super(),this._context=L,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){return!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){const y=L.getDecorationsInViewport(),p=[];let w=0;for(let v=0,_=y.length;v<_;v++){const a=y[v],s=a.options.marginClassName,i=a.options.zIndex;s&&(p[w++]=new f.DecorationToRender(a.range.startLineNumber,a.range.endLineNumber,s,null,i))}return p}prepareRender(L){const y=L.visibleRange.startLineNumber,p=L.visibleRange.endLineNumber,w=this._render(y,p,this._getDecorations(L)),v=[];for(let _=y;_<=p;_++){const a=_-y,s=w[a].getDecorations();let i="";for(const t of s)i+='<div class="cmdr '+t.className+'" style=""></div>';v[a]=i}this._renderResult=v}render(L,y){return this._renderResult?this._renderResult[y-L]:""}}e.MarginViewLineDecorationsOverlay=k}),define(ie[566],ne([1,0,40,56,464]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class E extends k.ViewPart{constructor(y){super(y),this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const p=this._context.configuration.options;this._rulers=p.get(102),this._typicalHalfwidthCharacterWidth=p.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(y){const p=this._context.configuration.options;return this._rulers=p.get(102),this._typicalHalfwidthCharacterWidth=p.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(y){return y.scrollHeightChanged}prepareRender(y){}_ensureRulersCount(){const y=this._renderedRulers.length,p=this._rulers.length;if(y===p)return;if(y<p){const{tabSize:v}=this._context.viewModel.model.getOptions(),_=v;let a=p-y;for(;a>0;){const s=(0,f.createFastDomNode)(document.createElement("div"));s.setClassName("view-ruler"),s.setWidth(_),this.domNode.appendChild(s),this._renderedRulers.push(s),a--}return}let w=y-p;for(;w>0;){const v=this._renderedRulers.pop();this.domNode.removeChild(v),w--}}render(y){this._ensureRulersCount();for(let p=0,w=this._rulers.length;p<w;p++){const v=this._renderedRulers[p],_=this._rulers[p];v.setBoxShadow(_.color?`1px 0 0 0 ${_.color} inset`:""),v.setHeight(Math.min(y.scrollHeight,1e6)),v.setLeft(_.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=E}),define(ie[567],ne([1,0,40,56,465]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class E extends k.ViewPart{constructor(y){super(y),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const w=this._context.configuration.options.get(103);this._useShadows=w.useShadows,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const y=this._useShadows&&this._scrollTop>0;return this._shouldShow!==y?(this._shouldShow=y,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const p=this._context.configuration.options.get(145);p.minimap.renderMinimap===0||p.minimap.minimapWidth>0&&p.minimap.minimapLeft===0?this._width=p.width:this._width=p.width-p.verticalScrollbarWidth}onConfigurationChanged(y){const w=this._context.configuration.options.get(103);return this._useShadows=w.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(y){return this._scrollTop=y.scrollTop,this._updateShouldShow()}prepareRender(y){}render(y){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=E}),define(ie[568],ne([1,0,40,12,56,9]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const y=()=>{throw new Error("Invalid change accessor")};class p extends E.ViewPart{constructor(_){super(_);const a=this._context.configuration.options,s=a.get(145);this._lineHeight=a.get(67),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,f.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const _=this._context.viewLayout.getWhitespaces(),a=new Map;for(const i of _)a.set(i.id,i);let s=!1;return this._context.viewModel.changeWhitespace(i=>{const t=Object.keys(this._zones);for(let n=0,h=t.length;n<h;n++){const m=t[n],u=this._zones[m],d=this._computeWhitespaceProps(u.delegate);u.isInHiddenArea=d.isInHiddenArea;const r=a.get(m);r&&(r.afterLineNumber!==d.afterViewLineNumber||r.height!==d.heightInPx)&&(i.changeOneWhitespace(m,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(u.delegate,d.heightInPx),s=!0)}}),s}onConfigurationChanged(_){const a=this._context.configuration.options,s=a.get(145);return this._lineHeight=a.get(67),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,_.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(_){return this._recomputeWhitespacesProps()}onLinesDeleted(_){return!0}onScrollChanged(_){return _.scrollTopChanged||_.scrollWidthChanged}onZonesChanged(_){return!0}onLinesInserted(_){return!0}_getZoneOrdinal(_){var a,s;return(s=(a=_.ordinal)!==null&&a!==void 0?a:_.afterColumn)!==null&&s!==void 0?s:1e4}_computeWhitespaceProps(_){if(_.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(_),minWidthInPx:this._minWidthInPixels(_)};let a;if(typeof _.afterColumn<"u")a=this._context.viewModel.model.validatePosition({lineNumber:_.afterLineNumber,column:_.afterColumn});else{const n=this._context.viewModel.model.validatePosition({lineNumber:_.afterLineNumber,column:1}).lineNumber;a=new L.Position(n,this._context.viewModel.model.getLineMaxColumn(n))}let s;a.column===this._context.viewModel.model.getLineMaxColumn(a.lineNumber)?s=this._context.viewModel.model.validatePosition({lineNumber:a.lineNumber+1,column:1}):s=this._context.viewModel.model.validatePosition({lineNumber:a.lineNumber,column:a.column+1});const i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(a,_.afterColumnAffinity,!0),t=_.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(s);return{isInHiddenArea:!t,afterViewLineNumber:i.lineNumber,heightInPx:t?this._heightInPixels(_):0,minWidthInPx:this._minWidthInPixels(_)}}changeViewZones(_){let a=!1;return this._context.viewModel.changeWhitespace(s=>{const i={addZone:t=>(a=!0,this._addZone(s,t)),removeZone:t=>{t&&(a=this._removeZone(s,t)||a)},layoutZone:t=>{t&&(a=this._layoutZone(s,t)||a)}};w(_,i),i.addZone=y,i.removeZone=y,i.layoutZone=y}),a}_addZone(_,a){const s=this._computeWhitespaceProps(a),t={whitespaceId:_.insertWhitespace(s.afterViewLineNumber,this._getZoneOrdinal(a),s.heightInPx,s.minWidthInPx),delegate:a,isInHiddenArea:s.isInHiddenArea,isVisible:!1,domNode:(0,f.createFastDomNode)(a.domNode),marginDomNode:a.marginDomNode?(0,f.createFastDomNode)(a.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,s.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId]=t,this.setShouldRender(),t.whitespaceId}_removeZone(_,a){if(this._zones.hasOwnProperty(a)){const s=this._zones[a];return delete this._zones[a],_.removeWhitespace(s.whitespaceId),s.domNode.removeAttribute("monaco-visible-view-zone"),s.domNode.removeAttribute("monaco-view-zone"),s.domNode.domNode.parentNode.removeChild(s.domNode.domNode),s.marginDomNode&&(s.marginDomNode.removeAttribute("monaco-visible-view-zone"),s.marginDomNode.removeAttribute("monaco-view-zone"),s.marginDomNode.domNode.parentNode.removeChild(s.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(_,a){if(this._zones.hasOwnProperty(a)){const s=this._zones[a],i=this._computeWhitespaceProps(s.delegate);return s.isInHiddenArea=i.isInHiddenArea,_.changeOneWhitespace(s.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(s.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(_){return this._zones.hasOwnProperty(_)?!!this._zones[_].delegate.suppressMouseDown:!1}_heightInPixels(_){return typeof _.heightInPx=="number"?_.heightInPx:typeof _.heightInLines=="number"?this._lineHeight*_.heightInLines:this._lineHeight}_minWidthInPixels(_){return typeof _.minWidthInPx=="number"?_.minWidthInPx:0}_safeCallOnComputedHeight(_,a){if(typeof _.onComputedHeight=="function")try{_.onComputedHeight(a)}catch(s){(0,k.onUnexpectedError)(s)}}_safeCallOnDomNodeTop(_,a){if(typeof _.onDomNodeTop=="function")try{_.onDomNodeTop(a)}catch(s){(0,k.onUnexpectedError)(s)}}prepareRender(_){}render(_){const a=_.viewportData.whitespaceViewportData,s={};let i=!1;for(const n of a)this._zones[n.id].isInHiddenArea||(s[n.id]=n,i=!0);const t=Object.keys(this._zones);for(let n=0,h=t.length;n<h;n++){const m=t[n],u=this._zones[m];let d=0,r=0,l="none";s.hasOwnProperty(m)?(d=s[m].verticalOffset-_.bigNumbersDelta,r=s[m].height,l="block",u.isVisible||(u.domNode.setAttribute("monaco-visible-view-zone","true"),u.isVisible=!0),this._safeCallOnDomNodeTop(u.delegate,_.getScrolledTopFromAbsoluteTop(s[m].verticalOffset))):(u.isVisible&&(u.domNode.removeAttribute("monaco-visible-view-zone"),u.isVisible=!1),this._safeCallOnDomNodeTop(u.delegate,_.getScrolledTopFromAbsoluteTop(-1e6))),u.domNode.setTop(d),u.domNode.setHeight(r),u.domNode.setDisplay(l),u.marginDomNode&&(u.marginDomNode.setTop(d),u.marginDomNode.setHeight(r),u.marginDomNode.setDisplay(l))}i&&(this.domNode.setWidth(Math.max(_.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function w(v,_){try{return v(_)}catch(a){(0,k.onUnexpectedError)(a)}}}),define(ie[231],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class f{constructor(){this.type=0}}e.ViewCompositionStartEvent=f;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class E{constructor(l){this.type=2,this._source=l}hasChanged(l){return this._source.hasChanged(l)}}e.ViewConfigurationChangedEvent=E;class L{constructor(l,o,g){this.selections=l,this.modelSelections=o,this.reason=g,this.type=3}}e.ViewCursorStateChangedEvent=L;class y{constructor(l){this.type=4,l?(this.affectsMinimap=l.affectsMinimap,this.affectsOverviewRuler=l.affectsOverviewRuler,this.affectsGlyphMargin=l.affectsGlyphMargin,this.affectsLineNumber=l.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}e.ViewDecorationsChangedEvent=y;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class w{constructor(l){this.type=6,this.isFocused=l}}e.ViewFocusChangedEvent=w;class v{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=v;class _{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=_;class a{constructor(l,o){this.fromLineNumber=l,this.count=o,this.type=9}}e.ViewLinesChangedEvent=a;class s{constructor(l,o){this.type=10,this.fromLineNumber=l,this.toLineNumber=o}}e.ViewLinesDeletedEvent=s;class i{constructor(l,o){this.type=11,this.fromLineNumber=l,this.toLineNumber=o}}e.ViewLinesInsertedEvent=i;class t{constructor(l,o,g,c,b,C,S){this.source=l,this.minimalReveal=o,this.range=g,this.selections=c,this.verticalType=b,this.revealHorizontal=C,this.scrollType=S,this.type=12}}e.ViewRevealRangeRequestEvent=t;class n{constructor(l){this.type=13,this.scrollWidth=l.scrollWidth,this.scrollLeft=l.scrollLeft,this.scrollHeight=l.scrollHeight,this.scrollTop=l.scrollTop,this.scrollWidthChanged=l.scrollWidthChanged,this.scrollLeftChanged=l.scrollLeftChanged,this.scrollHeightChanged=l.scrollHeightChanged,this.scrollTopChanged=l.scrollTopChanged}}e.ViewScrollChangedEvent=n;class h{constructor(l){this.theme=l,this.type=14}}e.ViewThemeChangedEvent=h;class m{constructor(l){this.type=15,this.ranges=l}}e.ViewTokensChangedEvent=m;class u{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=u;class d{constructor(){this.type=17}}e.ViewZonesChangedEvent=d}),define(ie[145],ne([1,0,11]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(w,v,_,a){this.startColumn=w,this.endColumn=v,this.className=_,this.type=a,this._lineDecorationBrand=void 0}static _equals(w,v){return w.startColumn===v.startColumn&&w.endColumn===v.endColumn&&w.className===v.className&&w.type===v.type}static equalsArr(w,v){const _=w.length,a=v.length;if(_!==a)return!1;for(let s=0;s<_;s++)if(!k._equals(w[s],v[s]))return!1;return!0}static extractWrapped(w,v,_){if(w.length===0)return w;const a=v+1,s=_+1,i=_-v,t=[];let n=0;for(const h of w)h.endColumn<=a||h.startColumn>=s||(t[n++]=new k(Math.max(1,h.startColumn-a+1),Math.min(i+1,h.endColumn-a+1),h.className,h.type));return t}static filter(w,v,_,a){if(w.length===0)return[];const s=[];let i=0;for(let t=0,n=w.length;t<n;t++){const h=w[t],m=h.range;if(m.endLineNumber<v||m.startLineNumber>v||m.isEmpty()&&(h.type===0||h.type===3))continue;const u=m.startLineNumber===v?m.startColumn:_,d=m.endLineNumber===v?m.endColumn:a;s[i++]=new k(u,d,h.inlineClassName,h.type)}return s}static _typeCompare(w,v){const _=[2,0,1,3];return _[w]-_[v]}static compare(w,v){if(w.startColumn!==v.startColumn)return w.startColumn-v.startColumn;if(w.endColumn!==v.endColumn)return w.endColumn-v.endColumn;const _=k._typeCompare(w.type,v.type);return _!==0?_:w.className!==v.className?w.className<v.className?-1:1:0}}e.LineDecoration=k;class E{constructor(w,v,_,a){this.startOffset=w,this.endOffset=v,this.className=_,this.metadata=a}}e.DecorationSegment=E;class L{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(w){let v=0;for(let _=0,a=w.length;_<a;_++)v|=w[_];return v}consumeLowerThan(w,v,_){for(;this.count>0&&this.stopOffsets[0]<w;){let a=0;for(;a+1<this.count&&this.stopOffsets[a]===this.stopOffsets[a+1];)a++;_.push(new E(v,this.stopOffsets[a],this.classNames.join(" "),L._metadata(this.metadata))),v=this.stopOffsets[a]+1,this.stopOffsets.splice(0,a+1),this.classNames.splice(0,a+1),this.metadata.splice(0,a+1),this.count-=a+1}return this.count>0&&v<w&&(_.push(new E(v,w-1,this.classNames.join(" "),L._metadata(this.metadata))),v=w),v}insert(w,v,_){if(this.count===0||this.stopOffsets[this.count-1]<=w)this.stopOffsets.push(w),this.classNames.push(v),this.metadata.push(_);else for(let a=0;a<this.count;a++)if(this.stopOffsets[a]>=w){this.stopOffsets.splice(a,0,w),this.classNames.splice(a,0,v),this.metadata.splice(a,0,_);break}this.count++}}class y{static normalize(w,v){if(v.length===0)return[];const _=[],a=new L;let s=0;for(let i=0,t=v.length;i<t;i++){const n=v[i];let h=n.startColumn,m=n.endColumn;const u=n.className,d=n.type===1?2:n.type===2?4:0;if(h>1){const o=w.charCodeAt(h-2);f.isHighSurrogate(o)&&h--}if(m>1){const o=w.charCodeAt(m-2);f.isHighSurrogate(o)&&m--}const r=h-1,l=m-2;s=a.consumeLowerThan(r,s,_),a.count===0&&(s=r),a.insert(l,u,d)}return a.consumeLowerThan(1073741824,s,_),_}}e.LineDecorationsNormalizer=y}),define(ie[569],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class f{constructor(E,L,y,p){this.endIndex=E,this.type=L,this.metadata=y,this.containsRTL=p,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=f}),define(ie[570],ne([1,0,11]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!this._hasPending)return;const w=this._inserts,v=this._changes,_=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(w,v,_)}}class E{constructor(p,w,v,_,a){this.id=p,this.afterLineNumber=w,this.ordinal=v,this.height=_,this.minWidth=a,this.prefixSum=0}}e.EditorWhitespace=E;class L{constructor(p,w,v,_){this._instanceId=f.singleLetterHash(++L.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=w,this._paddingTop=v,this._paddingBottom=_}static findInsertionIndex(p,w,v){let _=0,a=p.length;for(;_<a;){const s=_+a>>>1;w===p[s].afterLineNumber?v<p[s].ordinal?a=s:_=s+1:w<p[s].afterLineNumber?a=s:_=s+1}return _}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,w){this._paddingTop=p,this._paddingBottom=w}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let w=!1;try{p({insertWhitespace:(_,a,s,i)=>{w=!0,_=_|0,a=a|0,s=s|0,i=i|0;const t=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new E(t,_,a,s,i)),t},changeOneWhitespace:(_,a,s)=>{w=!0,a=a|0,s=s|0,this._pendingChanges.change({id:_,newAfterLineNumber:a,newHeight:s})},removeWhitespace:_=>{w=!0,this._pendingChanges.remove({id:_})}})}finally{this._pendingChanges.commit(this)}return w}_commitPendingChanges(p,w,v){if((p.length>0||v.length>0)&&(this._minWidth=-1),p.length+w.length+v.length<=1){for(const t of p)this._insertWhitespace(t);for(const t of w)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of v){const n=this._findWhitespaceIndex(t.id);n!==-1&&this._removeWhitespace(n)}return}const _=new Set;for(const t of v)_.add(t.id);const a=new Map;for(const t of w)a.set(t.id,t);const s=t=>{const n=[];for(const h of t)if(!_.has(h.id)){if(a.has(h.id)){const m=a.get(h.id);h.afterLineNumber=m.newAfterLineNumber,h.height=m.newHeight}n.push(h)}return n},i=s(this._arr).concat(s(p));i.sort((t,n)=>t.afterLineNumber===n.afterLineNumber?t.ordinal-n.ordinal:t.afterLineNumber-n.afterLineNumber),this._arr=i,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const w=L.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(w,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,w-1)}_findWhitespaceIndex(p){const w=this._arr;for(let v=0,_=w.length;v<_;v++)if(w[v].id===p)return v;return-1}_changeOneWhitespace(p,w,v){const _=this._findWhitespaceIndex(p);if(_!==-1&&(this._arr[_].height!==v&&(this._arr[_].height=v,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)),this._arr[_].afterLineNumber!==w)){const a=this._arr[_];this._removeWhitespace(_),a.afterLineNumber=w,this._insertWhitespace(a)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,w){this._checkPendingChanges(),p=p|0,w=w|0,this._lineCount-=w-p+1;for(let v=0,_=this._arr.length;v<_;v++){const a=this._arr[v].afterLineNumber;p<=a&&a<=w?this._arr[v].afterLineNumber=p-1:a>w&&(this._arr[v].afterLineNumber-=w-p+1)}}onLinesInserted(p,w){this._checkPendingChanges(),p=p|0,w=w|0,this._lineCount+=w-p+1;for(let v=0,_=this._arr.length;v<_;v++){const a=this._arr[v].afterLineNumber;p<=a&&(this._arr[v].afterLineNumber+=w-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let w=Math.max(0,this._prefixSumValidIndex+1);w===0&&(this._arr[0].prefixSum=this._arr[0].height,w++);for(let v=w;v<=p;v++)this._arr[v].prefixSum=this._arr[v-1].prefixSum+this._arr[v].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,w=this.getWhitespacesTotalHeight();return p+w+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const w=this._findLastWhitespaceBeforeLineNumber(p);return w===-1?0:this.getWhitespacesAccumulatedHeight(w)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const w=this._arr;let v=0,_=w.length-1;for(;v<=_;){const s=(_-v|0)/2|0,i=v+s|0;if(w[i].afterLineNumber<p){if(i+1>=w.length||w[i+1].afterLineNumber>=p)return i;v=i+1|0}else _=i-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const v=this._findLastWhitespaceBeforeLineNumber(p)+1;return v<this._arr.length?v:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p,w=!1){this._checkPendingChanges(),p=p|0;let v;p>1?v=this._lineHeight*(p-1):v=0;const _=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p-(w?1:0));return v+_+this._paddingTop}getVerticalOffsetAfterLineNumber(p,w=!1){this._checkPendingChanges(),p=p|0;const v=this._lineHeight*p,_=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p+(w?1:0));return v+_+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let w=0,v=this._arr.length;w<v;w++)p=Math.max(p,this._arr[w].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const w=this.getLinesTotalHeight();return p>w}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const w=this.getLinesTotalHeight();return p>=w-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const w=this._lineCount|0,v=this._lineHeight;let _=1,a=w;for(;_<a;){const s=(_+a)/2|0,i=this.getVerticalOffsetForLineNumber(s)|0;if(p>=i+v)_=s+1;else{if(p>=i)return s;a=s}}return _>w?w:_}getLinesViewportData(p,w){this._checkPendingChanges(),p=p|0,w=w|0;const v=this._lineHeight,_=this.getLineNumberAtOrAfterVerticalOffset(p)|0,a=this.getVerticalOffsetForLineNumber(_)|0;let s=this._lineCount|0,i=this.getFirstWhitespaceIndexAfterLineNumber(_)|0;const t=this.getWhitespacesCount()|0;let n,h;i===-1?(i=t,h=s+1,n=0):(h=this.getAfterLineNumberForWhitespaceIndex(i)|0,n=this.getHeightForWhitespaceIndex(i)|0);let m=a,u=m;const d=5e5;let r=0;a>=d&&(r=Math.floor(a/d)*d,r=Math.floor(r/v)*v,u-=r);const l=[],o=p+(w-p)/2;let g=-1;for(let S=_;S<=s;S++){if(g===-1){const D=m,I=m+v;(D<=o&&o<I||D>o)&&(g=S)}for(m+=v,l[S-_]=u,u+=v;h===S;)u+=n,m+=n,i++,i>=t?h=s+1:(h=this.getAfterLineNumberForWhitespaceIndex(i)|0,n=this.getHeightForWhitespaceIndex(i)|0);if(m>=w){s=S;break}}g===-1&&(g=s);const c=this.getVerticalOffsetForLineNumber(s)|0;let b=_,C=s;return b<C&&a<p&&b++,b<C&&c+v>w&&C--,{bigNumbersDelta:r,startLineNumber:_,endLineNumber:s,relativeVerticalOffset:l,centeredLineNumber:g,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:C,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const w=this.getAfterLineNumberForWhitespaceIndex(p);let v;w>=1?v=this._lineHeight*w:v=0;let _;return p>0?_=this.getWhitespacesAccumulatedHeight(p-1):_=0,v+_+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let w=0,v=this.getWhitespacesCount()-1;if(v<0)return-1;const _=this.getVerticalOffsetForWhitespaceIndex(v),a=this.getHeightForWhitespaceIndex(v);if(p>=_+a)return-1;for(;w<v;){const s=Math.floor((w+v)/2),i=this.getVerticalOffsetForWhitespaceIndex(s),t=this.getHeightForWhitespaceIndex(s);if(p>=i+t)w=s+1;else{if(p>=i)return s;v=s}}return w}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const w=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(w<0||w>=this.getWhitespacesCount())return null;const v=this.getVerticalOffsetForWhitespaceIndex(w);if(v>p)return null;const _=this.getHeightForWhitespaceIndex(w),a=this.getIdForWhitespaceIndex(w),s=this.getAfterLineNumberForWhitespaceIndex(w);return{id:a,afterLineNumber:s,verticalOffset:v,height:_}}getWhitespaceViewportData(p,w){this._checkPendingChanges(),p=p|0,w=w|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),_=this.getWhitespacesCount()-1;if(v<0)return[];const a=[];for(let s=v;s<=_;s++){const i=this.getVerticalOffsetForWhitespaceIndex(s),t=this.getHeightForWhitespaceIndex(s);if(i>=w)break;a.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:i,height:t})}return a}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=L,L.INSTANCE_COUNT=0}),define(ie[571],ne([1,0,5]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(L,y,p,w){this.selections=L,this.startLineNumber=y.startLineNumber|0,this.endLineNumber=y.endLineNumber|0,this.relativeVerticalOffset=y.relativeVerticalOffset,this.bigNumbersDelta=y.bigNumbersDelta|0,this.lineHeight=y.lineHeight|0,this.whitespaceViewportData=p,this._model=w,this.visibleRange=new f.Range(y.startLineNumber,this._model.getLineMinColumn(y.startLineNumber),y.endLineNumber,this._model.getLineMaxColumn(y.endLineNumber))}getViewLineRenderingData(L){return this._model.getViewportViewLineRenderingData(this.visibleRange,L)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(ie[91],ne([1,0,13,11,5]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class L{constructor(t,n,h,m){this._viewportBrand=void 0,this.top=t|0,this.left=n|0,this.width=h|0,this.height=m|0}}e.Viewport=L;class y{constructor(t,n){this.tabSize=t,this.data=n}}e.MinimapLinesRenderingData=y;class p{constructor(t,n,h,m,u,d,r){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=n,this.minColumn=h,this.maxColumn=m,this.startVisibleColumn=u,this.tokens=d,this.inlineDecorations=r}}e.ViewLineData=p;class w{constructor(t,n,h,m,u,d,r,l,o,g){this.minColumn=t,this.maxColumn=n,this.content=h,this.continuesWithWrappedLine=m,this.isBasicASCII=w.isBasicASCII(h,d),this.containsRTL=w.containsRTL(h,this.isBasicASCII,u),this.tokens=r,this.inlineDecorations=l,this.tabSize=o,this.startVisibleColumn=g}static isBasicASCII(t,n){return n?k.isBasicASCII(t):!0}static containsRTL(t,n,h){return!n&&h?k.containsRTL(t):!1}}e.ViewLineRenderingData=w;class v{constructor(t,n,h){this.range=t,this.inlineClassName=n,this.type=h}}e.InlineDecoration=v;class _{constructor(t,n,h,m){this.startOffset=t,this.endOffset=n,this.inlineClassName=h,this.inlineClassNameAffectsLetterSpacing=m}toInlineDecoration(t){return new v(new E.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=_;class a{constructor(t,n){this._viewModelDecorationBrand=void 0,this.range=t,this.options=n}}e.ViewModelDecoration=a;class s{constructor(t,n,h){this.color=t,this.zIndex=n,this.data=h}static compareByRenderingProps(t,n){return t.zIndex===n.zIndex?t.color<n.color?-1:t.color>n.color?1:0:t.zIndex-n.zIndex}static equals(t,n){return t.color===n.color&&t.zIndex===n.zIndex&&f.equals(t.data,n.data)}static equalsArr(t,n){return f.equals(t,n,s.equals)}}e.OverviewRulerDecorationsGroup=s}),define(ie[572],ne([1,0,43]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginLanesModel=void 0;const k=f.GlyphMarginLane.Right;class E{constructor(y){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((y+1)*k/8))}reset(y){const p=Math.ceil((y+1)*k/8);this.lanes.length<p?this.lanes=new Uint8Array(p):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(y,p,w){w&&(this.persist|=1<<y-1);for(let v=p.startLineNumber;v<=p.endLineNumber;v++){const _=k*v+(y-1);this.lanes[_>>>3]|=1<<_%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(v))}}getLanesAtLine(y){const p=[];let w=k*y;for(let v=0;v<k;v++)(this.persist&1<<v||this.lanes[w>>>3]&1<<w%8)&&p.push(v+1),w++;return p.length?p:[f.GlyphMarginLane.Center]}countAtLine(y){let p=k*y,w=0;for(let v=0;v<k;v++)(this.persist&1<<v||this.lanes[p>>>3]&1<<p%8)&&w++,p++;return w}}e.GlyphMarginLanesModel=E}),define(ie[573],ne([1,0,102,9,125,91]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=y;function y(i,t){return i===null?t?w.INSTANCE:v.INSTANCE:new p(i,t)}class p{constructor(t,n){this._projectionData=t,this._isVisible=n}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,n,h){this._assertVisible();const m=h>0?this._projectionData.breakOffsets[h-1]:0,u=this._projectionData.breakOffsets[h];let d;if(this._projectionData.injectionOffsets!==null){const r=this._projectionData.injectionOffsets.map((o,g)=>new E.LineInjectedText(0,0,o+1,this._projectionData.injectionOptions[g],0));d=E.LineInjectedText.applyInjectedText(t.getLineContent(n),r).substring(m,u)}else d=t.getValueInRange({startLineNumber:n,startColumn:m+1,endLineNumber:n,endColumn:u+1});return h>0&&(d=a(this._projectionData.wrappedTextIndentLength)+d),d}getViewLineLength(t,n,h){return this._assertVisible(),this._projectionData.getLineLength(h)}getViewLineMinColumn(t,n,h){return this._assertVisible(),this._projectionData.getMinOutputOffset(h)+1}getViewLineMaxColumn(t,n,h){return this._assertVisible(),this._projectionData.getMaxOutputOffset(h)+1}getViewLineData(t,n,h){const m=new Array;return this.getViewLinesData(t,n,h,1,0,[!0],m),m[0]}getViewLinesData(t,n,h,m,u,d,r){this._assertVisible();const l=this._projectionData,o=l.injectionOffsets,g=l.injectionOptions;let c=null;if(o){c=[];let C=0,S=0;for(let D=0;D<l.getOutputLineCount();D++){const I=new Array;c[D]=I;const T=D>0?l.breakOffsets[D-1]:0,N=l.breakOffsets[D];for(;S<o.length;){const A=g[S].content.length,P=o[S]+C,M=P+A;if(P>N)break;if(T<M){const R=g[S];if(R.inlineClassName){const F=D>0?l.wrappedTextIndentLength:0,O=F+Math.max(P-T,0),B=F+Math.min(M-T,N-T);O!==B&&I.push(new L.SingleLineInlineDecoration(O,B,R.inlineClassName,R.inlineClassNameAffectsLetterSpacing))}}if(M<=N)C+=A,S++;else break}}}let b;o?b=t.tokenization.getLineTokens(n).withInserted(o.map((C,S)=>({offset:C,text:g[S].content,tokenMetadata:f.LineTokens.defaultTokenMetadata}))):b=t.tokenization.getLineTokens(n);for(let C=h;C<h+m;C++){const S=u+C-h;if(!d[S]){r[S]=null;continue}r[S]=this._getViewLineData(b,c?c[C]:null,C)}}_getViewLineData(t,n,h){this._assertVisible();const m=this._projectionData,u=h>0?m.wrappedTextIndentLength:0,d=h>0?m.breakOffsets[h-1]:0,r=m.breakOffsets[h],l=t.sliceAndInflate(d,r,u);let o=l.getLineContent();h>0&&(o=a(m.wrappedTextIndentLength)+o);const g=this._projectionData.getMinOutputOffset(h)+1,c=o.length+1,b=h+1<this.getViewLineCount(),C=h===0?0:m.breakOffsetsVisibleColumn[h-1];return new L.ViewLineData(o,b,g,c,C,l,n)}getModelColumnOfViewPosition(t,n){return this._assertVisible(),this._projectionData.translateToInputOffset(t,n-1)+1}getViewPositionOfModelPosition(t,n,h=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(n-1,h).toPosition(t)}getViewLineNumberOfModelPosition(t,n){this._assertVisible();const h=this._projectionData.translateToOutputPosition(n-1);return t+h.outputLineIndex}normalizePosition(t,n,h){const m=n.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,n.column-1,h).toPosition(m)}getInjectedTextAt(t,n){return this._projectionData.getInjectedText(t,n-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class w{constructor(){}isVisible(){return!0}setVisible(t){return t?this:v.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,n,h){return t.getLineContent(n)}getViewLineLength(t,n,h){return t.getLineLength(n)}getViewLineMinColumn(t,n,h){return t.getLineMinColumn(n)}getViewLineMaxColumn(t,n,h){return t.getLineMaxColumn(n)}getViewLineData(t,n,h){const m=t.tokenization.getLineTokens(n),u=m.getLineContent();return new L.ViewLineData(u,!1,1,u.length+1,0,m.inflate(),null)}getViewLinesData(t,n,h,m,u,d,r){if(!d[u]){r[u]=null;return}r[u]=this.getViewLineData(t,n,0)}getModelColumnOfViewPosition(t,n){return n}getViewPositionOfModelPosition(t,n){return new k.Position(t,n)}getViewLineNumberOfModelPosition(t,n){return t}normalizePosition(t,n,h){return n}getInjectedTextAt(t,n){return null}}w.INSTANCE=new w;class v{constructor(){}isVisible(){return!1}setVisible(t){return t?w.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,n,h){throw new Error("Not supported")}getViewLineLength(t,n,h){throw new Error("Not supported")}getViewLineMinColumn(t,n,h){throw new Error("Not supported")}getViewLineMaxColumn(t,n,h){throw new Error("Not supported")}getViewLineData(t,n,h){throw new Error("Not supported")}getViewLinesData(t,n,h,m,u,d,r){throw new Error("Not supported")}getModelColumnOfViewPosition(t,n){throw new Error("Not supported")}getViewPositionOfModelPosition(t,n){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,n){throw new Error("Not supported")}normalizePosition(t,n,h){throw new Error("Not supported")}getInjectedTextAt(t,n){throw new Error("Not supported")}}v.INSTANCE=new v;const _=[""];function a(i){if(i>=_.length)for(let t=1;t<=i;t++)_[t]=s(t);return _[i]}function s(i){return new Array(i+1).join(" ")}}),define(ie[574],ne([1,0,11,138,125,312]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class y{static create(m){return new y(m.get(134),m.get(133))}constructor(m,u){this.classifier=new p(m,u)}createLineBreaksComputer(m,u,d,r,l){const o=[],g=[],c=[];return{addRequest:(b,C,S)=>{o.push(b),g.push(C),c.push(S)},finalize:()=>{const b=m.typicalFullwidthCharacterWidth/m.typicalHalfwidthCharacterWidth,C=[];for(let S=0,D=o.length;S<D;S++){const I=g[S],T=c[S];T&&!T.injectionOptions&&!I?C[S]=_(this.classifier,T,o[S],u,d,b,r,l):C[S]=a(this.classifier,o[S],I,u,d,b,r,l)}return w.length=0,v.length=0,C}}}}e.MonospaceLineBreaksComputerFactory=y;class p extends k.CharacterClassifier{constructor(m,u){super(0);for(let d=0;d<m.length;d++)this.set(m.charCodeAt(d),1);for(let d=0;d<u.length;d++)this.set(u.charCodeAt(d),2)}get(m){return m>=0&&m<256?this._asciiMap[m]:m>=12352&&m<=12543||m>=13312&&m<=19903||m>=19968&&m<=40959?3:this._map.get(m)||this._defaultValue}}let w=[],v=[];function _(h,m,u,d,r,l,o,g){if(r===-1)return null;const c=u.length;if(c<=1)return null;const b=g==="keepAll",C=m.breakOffsets,S=m.breakOffsetsVisibleColumn,D=n(u,d,r,l,o),I=r-D,T=w,N=v;let A=0,P=0,M=0,R=r;const F=C.length;let O=0;if(O>=0){let B=Math.abs(S[O]-R);for(;O+1<F;){const H=Math.abs(S[O+1]-R);if(H>=B)break;B=H,O++}}for(;O<F;){let B=O<0?0:C[O],H=O<0?0:S[O];P>B&&(B=P,H=M);let V=0,q=0,z=0,U=0;if(H<=R){let re=H,x=B===0?0:u.charCodeAt(B-1),Q=B===0?0:h.get(x),X=!0;for(let Y=B;Y<c;Y++){const ae=Y,ce=u.charCodeAt(Y);let he,pe;if(f.isHighSurrogate(ce)?(Y++,he=0,pe=2):(he=h.get(ce),pe=s(ce,re,d,l)),ae>P&&t(x,Q,ce,he,b)&&(V=ae,q=re),re+=pe,re>R){ae>P?(z=ae,U=re-pe):(z=Y+1,U=re),re-q>I&&(V=0),X=!1;break}x=ce,Q=he}if(X){A>0&&(T[A]=C[C.length-1],N[A]=S[C.length-1],A++);break}}if(V===0){let re=H,x=u.charCodeAt(B),Q=h.get(x),X=!1;for(let Y=B-1;Y>=P;Y--){const ae=Y+1,ce=u.charCodeAt(Y);if(ce===9){X=!0;break}let he,pe;if(f.isLowSurrogate(ce)?(Y--,he=0,pe=2):(he=h.get(ce),pe=f.isFullWidthCharacter(ce)?l:1),re<=R){if(z===0&&(z=ae,U=re),re<=R-I)break;if(t(ce,he,x,Q,b)){V=ae,q=re;break}}re-=pe,x=ce,Q=he}if(V!==0){const Y=I-(U-q);if(Y<=d){const ae=u.charCodeAt(z);let ce;f.isHighSurrogate(ae)?ce=2:ce=s(ae,U,d,l),Y-ce<0&&(V=0)}}if(X){O--;continue}}if(V===0&&(V=z,q=U),V<=P){const re=u.charCodeAt(P);f.isHighSurrogate(re)?(V=P+2,q=M+2):(V=P+1,q=M+s(re,M,d,l))}for(P=V,T[A]=V,M=q,N[A]=q,A++,R=q+I;O<0||O<F&&S[O]<q;)O++;let Z=Math.abs(S[O]-R);for(;O+1<F;){const re=Math.abs(S[O+1]-R);if(re>=Z)break;Z=re,O++}}return A===0?null:(T.length=A,N.length=A,w=m.breakOffsets,v=m.breakOffsetsVisibleColumn,m.breakOffsets=T,m.breakOffsetsVisibleColumn=N,m.wrappedTextIndentLength=D,m)}function a(h,m,u,d,r,l,o,g){const c=E.LineInjectedText.applyInjectedText(m,u);let b,C;if(u&&u.length>0?(b=u.map(q=>q.options),C=u.map(q=>q.column-1)):(b=null,C=null),r===-1)return b?new L.ModelLineProjectionData(C,b,[c.length],[],0):null;const S=c.length;if(S<=1)return b?new L.ModelLineProjectionData(C,b,[c.length],[],0):null;const D=g==="keepAll",I=n(c,d,r,l,o),T=r-I,N=[],A=[];let P=0,M=0,R=0,F=r,O=c.charCodeAt(0),B=h.get(O),H=s(O,0,d,l),V=1;f.isHighSurrogate(O)&&(H+=1,O=c.charCodeAt(1),B=h.get(O),V++);for(let q=V;q<S;q++){const z=q,U=c.charCodeAt(q);let Z,re;f.isHighSurrogate(U)?(q++,Z=0,re=2):(Z=h.get(U),re=s(U,H,d,l)),t(O,B,U,Z,D)&&(M=z,R=H),H+=re,H>F&&((M===0||H-R>T)&&(M=z,R=H-re),N[P]=M,A[P]=R,P++,F=R+T,M=0),O=U,B=Z}return P===0&&(!u||u.length===0)?null:(N[P]=S,A[P]=H,new L.ModelLineProjectionData(C,b,N,A,I))}function s(h,m,u,d){return h===9?u-m%u:f.isFullWidthCharacter(h)||h<32?d:1}function i(h,m){return m-h%m}function t(h,m,u,d,r){return u!==32&&(m===2&&d!==2||m!==1&&d===1||!r&&m===3&&d!==2||!r&&d===3&&m!==1)}function n(h,m,u,d,r){let l=0;if(r!==0){const o=f.firstNonWhitespaceIndex(h);if(o!==-1){for(let c=0;c<o;c++){const b=h.charCodeAt(c)===9?i(l,m):1;l+=b}const g=r===3?2:r===2?1:0;for(let c=0;c<g;c++){const b=i(l,m);l+=b}l+d>u&&(l=0)}}return l}}),define(ie[318],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class f{constructor(y,p,w){this._colorZoneBrand=void 0,this.from=y|0,this.to=p|0,this.colorId=w|0}static compare(y,p){return y.colorId===p.colorId?y.from===p.from?y.to-p.to:y.from-p.from:y.colorId-p.colorId}}e.ColorZone=f;class k{constructor(y,p,w,v){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=p,this.heightInLines=w,this.color=v,this._colorZone=null}static compare(y,p){return y.color===p.color?y.startLineNumber===p.startLineNumber?y.heightInLines===p.heightInLines?y.endLineNumber-p.endLineNumber:y.heightInLines-p.heightInLines:y.startLineNumber-p.startLineNumber:y.color<p.color?-1:1}setColorZone(y){this._colorZone=y}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class E{constructor(y){this._getVerticalOffsetForLine=y,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(y){this._zones=y,this._zones.sort(k.compare)}setLineHeight(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}setPixelRatio(y){this._pixelRatio=y,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const y=this._colorZonesInvalid,p=Math.floor(this._lineHeight),w=Math.floor(this.getCanvasHeight()),v=Math.floor(this._outerHeight),_=w/v,a=Math.floor(4*this._pixelRatio/2),s=[];for(let i=0,t=this._zones.length;i<t;i++){const n=this._zones[i];if(!y){const b=n.getColorZones();if(b){s.push(b);continue}}const h=this._getVerticalOffsetForLine(n.startLineNumber),m=n.heightInLines===0?this._getVerticalOffsetForLine(n.endLineNumber)+p:h+n.heightInLines*p,u=Math.floor(_*h),d=Math.floor(_*m);let r=Math.floor((u+d)/2),l=d-r;l<a&&(l=a),r-l<0&&(r=l),r+l>w&&(r=w-l);const o=n.color;let g=this._color2Id[o];g||(g=++this._lastAssignedId,this._color2Id[o]=g,this._id2Color[g]=o);const c=new f(r-l,r+l,g);n.setColorZone(c),s.push(c)}return this._colorZonesInvalid=!1,s.sort(f.compare),s}}e.OverviewZoneManager=E}),define(ie[575],ne([1,0,40,318,163]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class L extends E.ViewEventHandler{constructor(p,w){super(),this._context=p;const v=this._context.configuration.options;this._domNode=(0,f.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(w),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(_=>this._context.viewLayout.getVerticalOffsetForLineNumber(_)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(v.get(67)),this._zoneManager.setPixelRatio(v.get(143)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const w=this._context.configuration.options;return p.hasChanged(67)&&(this._zoneManager.setLineHeight(w.get(67)),this._render()),p.hasChanged(143)&&(this._zoneManager.setPixelRatio(w.get(143)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let w=!1;w=this._zoneManager.setDOMWidth(p.width)||w,w=this._zoneManager.setDOMHeight(p.height)||w,w&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),w=this._zoneManager.getCanvasHeight(),v=this._zoneManager.resolveColorZones(),_=this._zoneManager.getId2Color(),a=this._domNode.domNode.getContext("2d");return a.clearRect(0,0,p,w),v.length>0&&this._renderOneLane(a,v,_,p),!0}_renderOneLane(p,w,v,_){let a=0,s=0,i=0;for(const t of w){const n=t.colorId,h=t.from,m=t.to;n!==a?(p.fillRect(0,s,_,i-s),a=n,p.fillStyle=v[a],s=h,i=m):i>=h?i=Math.max(i,m):(p.fillRect(0,s,_,i-s),s=h,i=m)}p.fillRect(0,s,_,i-s)}}e.OverviewRuler=L}),define(ie[576],ne([1,0,532]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(L,y,p){this.configuration=L,this.theme=new f.EditorTheme(y),this.viewModel=p,this.viewLayout=p.viewLayout}addEventHandler(L){this.viewModel.addViewEventHandler(L)}removeEventHandler(L){this.viewModel.removeViewEventHandler(L)}}e.ViewContext=k}),define(ie[232],ne([1,0,7,2]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class E extends k.Disposable{constructor(){super(),this._onEvent=this._register(new f.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(r){this._addOutgoingEvent(r),this._emitOutgoingEvents()}_addOutgoingEvent(r){for(let l=0,o=this._outgoingEvents.length;l<o;l++){const g=this._outgoingEvents[l].kind===r.kind?this._outgoingEvents[l].attemptToMerge(r):null;if(g){this._outgoingEvents[l]=g;return}}this._outgoingEvents.push(r)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const r=this._outgoingEvents.shift();r.isNoOp()||this._onEvent.fire(r)}}addViewEventHandler(r){for(let l=0,o=this._eventHandlers.length;l<o;l++)this._eventHandlers[l]===r&&console.warn("Detected duplicate listener in ViewEventDispatcher",r);this._eventHandlers.push(r)}removeViewEventHandler(r){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===r){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new L),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const r=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const o of r)this._addOutgoingEvent(o);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(r){try{this.beginEmitViewEvents().emitViewEvent(r)}finally{this.endEmitViewEvents()}}_emitMany(r){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(r):this._viewEventQueue=r,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const r=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const o of l)o.handleEvents(r)}}}e.ViewModelEventDispatcher=E;class L{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(r){this.viewEvents.push(r)}emitOutgoingEvent(r){this.outgoingEvents.push(r)}}e.ViewModelEventsCollector=L;class y{constructor(r,l,o,g){this.kind=0,this._oldContentWidth=r,this._oldContentHeight=l,this.contentWidth=o,this.contentHeight=g,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(r){return r.kind!==this.kind?null:new y(this._oldContentWidth,this._oldContentHeight,r.contentWidth,r.contentHeight)}}e.ContentSizeChangedEvent=y;class p{constructor(r,l){this.kind=1,this.oldHasFocus=r,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(r){return r.kind!==this.kind?null:new p(this.oldHasFocus,r.hasFocus)}}e.FocusChangedEvent=p;class w{constructor(r,l,o,g,c,b,C,S){this.kind=2,this._oldScrollWidth=r,this._oldScrollLeft=l,this._oldScrollHeight=o,this._oldScrollTop=g,this.scrollWidth=c,this.scrollLeft=b,this.scrollHeight=C,this.scrollTop=S,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(r){return r.kind!==this.kind?null:new w(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,r.scrollWidth,r.scrollLeft,r.scrollHeight,r.scrollTop)}}e.ScrollChangedEvent=w;class v{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(r){return r.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=v;class _{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(r){return r.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=_;class a{constructor(r,l,o,g,c,b,C){this.kind=6,this.oldSelections=r,this.selections=l,this.oldModelVersionId=o,this.modelVersionId=g,this.source=c,this.reason=b,this.reachedMaxCursorCount=C}static _selectionsAreEqual(r,l){if(!r&&!l)return!0;if(!r||!l)return!1;const o=r.length,g=l.length;if(o!==g)return!1;for(let c=0;c<o;c++)if(!r[c].equalsSelection(l[c]))return!1;return!0}isNoOp(){return a._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(r){return r.kind!==this.kind?null:new a(this.oldSelections,r.selections,this.oldModelVersionId,r.modelVersionId,r.source,r.reason,this.reachedMaxCursorCount||r.reachedMaxCursorCount)}}e.CursorStateChangedEvent=a;class s{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(r){return r.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=s;class i{constructor(r){this.event=r,this.kind=7}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelDecorationsChangedEvent=i;class t{constructor(r){this.event=r,this.kind=8}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelLanguageChangedEvent=t;class n{constructor(r){this.event=r,this.kind=9}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelLanguageConfigurationChangedEvent=n;class h{constructor(r){this.event=r,this.kind=10}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelContentChangedEvent=h;class m{constructor(r){this.event=r,this.kind=11}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelOptionsChangedEvent=m;class u{constructor(r){this.event=r,this.kind=12}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelTokensChangedEvent=u}),define(ie[577],ne([1,0,7,2,156,570,91,232]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const w=125;class v{constructor(i,t,n,h){i=i|0,t=t|0,n=n|0,h=h|0,i<0&&(i=0),t<0&&(t=0),n<0&&(n=0),h<0&&(h=0),this.width=i,this.contentWidth=t,this.scrollWidth=Math.max(i,t),this.height=n,this.contentHeight=h,this.scrollHeight=Math.max(n,h)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class _ extends k.Disposable{constructor(i,t){super(),this._onDidContentSizeChange=this._register(new f.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new v(0,0,0,0),this._scrollable=this._register(new E.Scrollable({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const t=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const n=t.contentWidth!==i.contentWidth,h=t.contentHeight!==i.contentHeight;(n||h)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(t.contentWidth,t.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class a extends k.Disposable{constructor(i,t,n){super(),this._configuration=i;const h=this._configuration.options,m=h.get(145),u=h.get(84);this._linesLayout=new L.LinesLayout(t,h.get(67),u.top,u.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new _(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new v(m.contentWidth,0,m.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?w:0)}onConfigurationChanged(i){const t=this._configuration.options;if(i.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),i.hasChanged(84)){const n=t.get(84);this._linesLayout.setPadding(n.top,n.bottom)}if(i.hasChanged(145)){const n=t.get(145),h=n.contentWidth,m=n.height,u=this._scrollable.getScrollDimensions(),d=u.contentWidth;this._scrollable.setScrollDimensions(new v(h,u.contentWidth,m,this._getContentHeight(h,m,d)))}else this._updateHeight();i.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,t){this._linesLayout.onLinesDeleted(i,t)}onLinesInserted(i,t){this._linesLayout.onLinesInserted(i,t)}_getHorizontalScrollbarHeight(i,t){const h=this._configuration.options.get(103);return h.horizontal===2||i>=t?0:h.horizontalScrollbarSize}_getContentHeight(i,t,n){const h=this._configuration.options;let m=this._linesLayout.getLinesTotalHeight();return h.get(105)?m+=Math.max(0,t-h.get(67)-h.get(84).bottom):h.get(103).ignoreHorizontalScrollbarInContentHeight||(m+=this._getHorizontalScrollbarHeight(i,n)),m}_updateHeight(){const i=this._scrollable.getScrollDimensions(),t=i.width,n=i.height,h=i.contentWidth;this._scrollable.setScrollDimensions(new v(t,i.contentWidth,n,this._getContentHeight(t,n,h)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new y.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new y.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}_computeContentWidth(){const i=this._configuration.options,t=this._maxLineWidth,n=i.get(146),h=i.get(50),m=i.get(145);if(n.isViewportWrapping){const u=i.get(73);return t>m.contentWidth+h.typicalHalfwidthCharacterWidth&&u.enabled&&u.side==="right"?t+m.verticalScrollbarWidth:t}else{const u=i.get(104)*h.typicalHalfwidthCharacterWidth,d=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+u+m.verticalScrollbarWidth,d,this._overlayWidgetsMinWidth)}}setMaxLineWidth(i){this._maxLineWidth=i,this._updateContentWidth()}setOverlayWidgetsMinWidth(i){this._overlayWidgetsMinWidth=i,this._updateContentWidth()}_updateContentWidth(){const i=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new v(i.width,this._computeContentWidth(),i.height,i.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),t=i.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),h=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n);return{scrollTop:t,scrollTopWithoutViewZones:t-h,scrollLeft:i.scrollLeft}}changeWhitespace(i){const t=this._linesLayout.changeWhitespace(i);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,t)}getVerticalOffsetAfterLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,t)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const t=this._scrollable.getScrollDimensions();return i+t.height>t.scrollHeight&&(i=t.scrollHeight-t.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+t.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,t){t===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(i,t){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+i,scrollTop:n.scrollTop+t})}}e.ViewLayout=a}),define(ie[578],ne([1,0,5,24]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class E{constructor(y,p){this._selection=y,this._isMovingLeft=p}getEditOperations(y,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const w=this._selection.startLineNumber,v=this._selection.startColumn,_=this._selection.endColumn;if(!(this._isMovingLeft&&v===1)&&!(!this._isMovingLeft&&_===y.getLineMaxColumn(w)))if(this._isMovingLeft){const a=new f.Range(w,v-1,w,v),s=y.getValueInRange(a);p.addEditOperation(a,null),p.addEditOperation(new f.Range(w,_,w,_),s)}else{const a=new f.Range(w,_,w,_+1),s=y.getValueInRange(a);p.addEditOperation(a,null),p.addEditOperation(new f.Range(w,v,w,v),s)}}computeCursorState(y,p){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=E}),define(ie[127],ne([1,0,12,88]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.CodeActionTriggerSource=e.CodeActionKind=void 0,e.mayIncludeActionsOfKind=L,e.filtersAction=y,e.CodeActionKind=new class{constructor(){this.QuickFix=new k.HierarchicalKind("quickfix"),this.Refactor=new k.HierarchicalKind("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new k.HierarchicalKind("notebook"),this.Source=new k.HierarchicalKind("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var E;(function(_){_.Refactor="refactor",_.RefactorPreview="refactor preview",_.Lightbulb="lightbulb",_.Default="other (default)",_.SourceAction="source action",_.QuickFix="quick fix action",_.FixAll="fix all",_.OrganizeImports="organize imports",_.AutoFix="auto fix",_.QuickFixHover="quick fix hover window",_.OnSave="save participants",_.ProblemsView="problems view"})(E||(e.CodeActionTriggerSource=E={}));function L(_,a){return!(_.include&&!_.include.intersects(a)||_.excludes&&_.excludes.some(s=>p(a,s,_.include))||!_.includeSourceActions&&e.CodeActionKind.Source.contains(a))}function y(_,a){const s=a.kind?new k.HierarchicalKind(a.kind):void 0;return!(_.include&&(!s||!_.include.contains(s))||_.excludes&&s&&_.excludes.some(i=>p(s,i,_.include))||!_.includeSourceActions&&s&&e.CodeActionKind.Source.contains(s)||_.onlyIncludePreferredActions&&!a.isPreferred)}function p(_,a,s){return!(!a.contains(_)||s&&a.contains(s))}class w{static fromUser(a,s){return!a||typeof a!="object"?new w(s.kind,s.apply,!1):new w(w.getKindFromUser(a,s.kind),w.getApplyFromUser(a,s.apply),w.getPreferredUser(a))}static getApplyFromUser(a,s){switch(typeof a.apply=="string"?a.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return s}}static getKindFromUser(a,s){return typeof a.kind=="string"?new k.HierarchicalKind(a.kind):s}static getPreferredUser(a){return typeof a.preferred=="boolean"?a.preferred:!1}constructor(a,s,i){this.kind=a,this.apply=s,this.preferred=i}}e.CodeActionCommandArgs=w;class v{constructor(a,s,i){this.action=a,this.provider=s,this.highlightRange=i}async resolve(a){var s;if(!((s=this.provider)===null||s===void 0)&&s.resolveCodeAction&&!this.action.edit){let i;try{i=await this.provider.resolveCodeAction(this.action,a)}catch(t){(0,f.onUnexpectedExternalError)(t)}i&&(this.action.edit=i.edit)}return this}}e.CodeActionItem=v}),define(ie[579],ne([1,0,7]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(L){this._color.equals(L)||(this._color=L,this._onDidChangeColor.fire(L))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(L){this._colorPresentations=L,this.presentationIndex>L.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(L,y,p){this.presentationIndex=p,this._onColorFlushed=new f.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new f.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new f.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=L,this._color=L,this._colorPresentations=y}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(L,y){let p=-1;for(let w=0;w<this.colorPresentations.length;w++)if(y.toLowerCase()===this.colorPresentations[w].label){p=w;break}if(p===-1){const w=y.split("(")[0].toLowerCase();for(let v=0;v<this.colorPresentations.length;v++)if(this.colorPresentations[v].label.toLowerCase().startsWith(w)){p=v;break}}p!==-1&&p!==this.presentationIndex&&(this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(ie[319],ne([1,0,72,9,5,24]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class y{constructor(w,v,_){this.languageConfigurationService=_,this._selection=w,this._insertSpace=v,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,v,_){if(_<0)return!1;const a=v.length,s=w.length;if(_+a>s)return!1;for(let i=0;i<a;i++){const t=w.charCodeAt(_+i),n=v.charCodeAt(i);if(t!==n&&!(t>=65&&t<=90&&t+32===n)&&!(n>=65&&n<=90&&n+32===t))return!1}return!0}_createOperationsForBlockComment(w,v,_,a,s,i){const t=w.startLineNumber,n=w.startColumn,h=w.endLineNumber,m=w.endColumn,u=s.getLineContent(t),d=s.getLineContent(h);let r=u.lastIndexOf(v,n-1+v.length),l=d.indexOf(_,m-1-_.length);if(r!==-1&&l!==-1)if(t===h)u.substring(r+v.length,l).indexOf(_)>=0&&(r=-1,l=-1);else{const g=u.substring(r+v.length),c=d.substring(0,l);(g.indexOf(_)>=0||c.indexOf(_)>=0)&&(r=-1,l=-1)}let o;r!==-1&&l!==-1?(a&&r+v.length<u.length&&u.charCodeAt(r+v.length)===32&&(v=v+" "),a&&l>0&&d.charCodeAt(l-1)===32&&(_=" "+_,l-=1),o=y._createRemoveBlockCommentOperations(new E.Range(t,r+v.length+1,h,l+1),v,_)):(o=y._createAddBlockCommentOperations(w,v,_,this._insertSpace),this._usedEndToken=o.length===1?_:null);for(const g of o)i.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(w,v,_){const a=[];return E.Range.isEmpty(w)?a.push(f.EditOperation.delete(new E.Range(w.startLineNumber,w.startColumn-v.length,w.endLineNumber,w.endColumn+_.length))):(a.push(f.EditOperation.delete(new E.Range(w.startLineNumber,w.startColumn-v.length,w.startLineNumber,w.startColumn))),a.push(f.EditOperation.delete(new E.Range(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+_.length)))),a}static _createAddBlockCommentOperations(w,v,_,a){const s=[];return E.Range.isEmpty(w)?s.push(f.EditOperation.replace(new E.Range(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),v+"  "+_)):(s.push(f.EditOperation.insert(new k.Position(w.startLineNumber,w.startColumn),v+(a?" ":""))),s.push(f.EditOperation.insert(new k.Position(w.endLineNumber,w.endColumn),(a?" ":"")+_))),s}getEditOperations(w,v){const _=this._selection.startLineNumber,a=this._selection.startColumn;w.tokenization.tokenizeIfCheap(_);const s=w.getLanguageIdAtPosition(_,a),i=this.languageConfigurationService.getLanguageConfiguration(s).comments;!i||!i.blockCommentStartToken||!i.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,i.blockCommentStartToken,i.blockCommentEndToken,this._insertSpace,w,v)}computeCursorState(w,v){const _=v.getInverseEditOperations();if(_.length===2){const a=_[0],s=_[1];return new L.Selection(a.range.endLineNumber,a.range.endColumn,s.range.startLineNumber,s.range.startColumn)}else{const a=_[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new L.Selection(a.endLineNumber,a.endColumn+s,a.endLineNumber,a.endColumn+s)}}}e.BlockCommentCommand=y}),define(ie[580],ne([1,0,11,72,9,5,24,319]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class w{constructor(_,a,s,i,t,n,h){this.languageConfigurationService=_,this._selection=a,this._indentSize=s,this._type=i,this._insertSpace=t,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=n,this._ignoreFirstLine=h||!1}static _gatherPreflightCommentStrings(_,a,s,i){_.tokenization.tokenizeIfCheap(a);const t=_.getLanguageIdAtPosition(a,1),n=i.getLanguageConfiguration(t).comments,h=n?n.lineCommentToken:null;if(!h)return null;const m=[];for(let u=0,d=s-a+1;u<d;u++)m[u]={ignore:!1,commentStr:h,commentStrOffset:0,commentStrLength:h.length};return m}static _analyzeLines(_,a,s,i,t,n,h,m){let u=!0,d;_===0?d=!0:_===1?d=!1:d=!0;for(let r=0,l=i.length;r<l;r++){const o=i[r],g=t+r;if(g===t&&h){o.ignore=!0;continue}const c=s.getLineContent(g),b=f.firstNonWhitespaceIndex(c);if(b===-1){o.ignore=n,o.commentStrOffset=c.length;continue}if(u=!1,o.ignore=!1,o.commentStrOffset=b,d&&!p.BlockCommentCommand._haystackHasNeedleAtOffset(c,o.commentStr,b)&&(_===0?d=!1:_===1||(o.ignore=!0)),d&&a){const C=b+o.commentStrLength;C<c.length&&c.charCodeAt(C)===32&&(o.commentStrLength+=1)}}if(_===0&&u){d=!1;for(let r=0,l=i.length;r<l;r++)i[r].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:i}}static _gatherPreflightData(_,a,s,i,t,n,h,m){const u=w._gatherPreflightCommentStrings(s,i,t,m);return u===null?{supported:!1}:w._analyzeLines(_,a,s,u,i,n,h,m)}_executeLineComments(_,a,s,i){let t;s.shouldRemoveComments?t=w._createRemoveLineCommentsOperations(s.lines,i.startLineNumber):(w._normalizeInsertionPoint(_,s.lines,i.startLineNumber,this._indentSize),t=this._createAddLineCommentsOperations(s.lines,i.startLineNumber));const n=new E.Position(i.positionLineNumber,i.positionColumn);for(let h=0,m=t.length;h<m;h++)a.addEditOperation(t[h].range,t[h].text),L.Range.isEmpty(t[h].range)&&L.Range.getStartPosition(t[h].range).equals(n)&&_.getLineContent(n.lineNumber).length+1===n.column&&(this._deltaColumn=(t[h].text||"").length);this._selectionId=a.trackSelection(i)}_attemptRemoveBlockComment(_,a,s,i){let t=a.startLineNumber,n=a.endLineNumber;const h=i.length+Math.max(_.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn);let m=_.getLineContent(t).lastIndexOf(s,h-1),u=_.getLineContent(n).indexOf(i,a.endColumn-1-s.length);return m!==-1&&u===-1&&(u=_.getLineContent(t).indexOf(i,m+s.length),n=t),m===-1&&u!==-1&&(m=_.getLineContent(n).lastIndexOf(s,u),t=n),a.isEmpty()&&(m===-1||u===-1)&&(m=_.getLineContent(t).indexOf(s),m!==-1&&(u=_.getLineContent(t).indexOf(i,m+s.length))),m!==-1&&_.getLineContent(t).charCodeAt(m+s.length)===32&&(s+=" "),u!==-1&&_.getLineContent(n).charCodeAt(u-1)===32&&(i=" "+i,u-=1),m!==-1&&u!==-1?p.BlockCommentCommand._createRemoveBlockCommentOperations(new L.Range(t,m+s.length+1,n,u+1),s,i):null}_executeBlockComment(_,a,s){_.tokenization.tokenizeIfCheap(s.startLineNumber);const i=_.getLanguageIdAtPosition(s.startLineNumber,1),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;if(!t||!t.blockCommentStartToken||!t.blockCommentEndToken)return;const n=t.blockCommentStartToken,h=t.blockCommentEndToken;let m=this._attemptRemoveBlockComment(_,s,n,h);if(!m){if(s.isEmpty()){const u=_.getLineContent(s.startLineNumber);let d=f.firstNonWhitespaceIndex(u);d===-1&&(d=u.length),m=p.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(s.startLineNumber,d+1,s.startLineNumber,u.length+1),n,h,this._insertSpace)}else m=p.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(s.startLineNumber,_.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.endLineNumber,_.getLineMaxColumn(s.endLineNumber)),n,h,this._insertSpace);m.length===1&&(this._deltaColumn=n.length+1)}this._selectionId=a.trackSelection(s);for(const u of m)a.addEditOperation(u.range,u.text)}getEditOperations(_,a){let s=this._selection;if(this._moveEndPositionDown=!1,s.startLineNumber===s.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new L.Range(s.startLineNumber,_.getLineMaxColumn(s.startLineNumber),s.startLineNumber+1,1),s.startLineNumber===_.getLineCount()?"":`
`),this._selectionId=a.trackSelection(s);return}s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,_.getLineMaxColumn(s.endLineNumber-1)));const i=w._gatherPreflightData(this._type,this._insertSpace,_,s.startLineNumber,s.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return i.supported?this._executeLineComments(_,a,i,s):this._executeBlockComment(_,a,s)}computeCursorState(_,a){let s=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(s=s.setEndPosition(s.endLineNumber+1,1)),new y.Selection(s.selectionStartLineNumber,s.selectionStartColumn+this._deltaColumn,s.positionLineNumber,s.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(_,a){const s=[];for(let i=0,t=_.length;i<t;i++){const n=_[i];n.ignore||s.push(k.EditOperation.delete(new L.Range(a+i,n.commentStrOffset+1,a+i,n.commentStrOffset+n.commentStrLength+1)))}return s}_createAddLineCommentsOperations(_,a){const s=[],i=this._insertSpace?" ":"";for(let t=0,n=_.length;t<n;t++){const h=_[t];h.ignore||s.push(k.EditOperation.insert(new E.Position(a+t,h.commentStrOffset+1),h.commentStr+i))}return s}static nextVisibleColumn(_,a,s,i){return s?_+(a-_%a):_+i}static _normalizeInsertionPoint(_,a,s,i){let t=1073741824,n,h;for(let m=0,u=a.length;m<u;m++){if(a[m].ignore)continue;const d=_.getLineContent(s+m);let r=0;for(let l=0,o=a[m].commentStrOffset;r<t&&l<o;l++)r=w.nextVisibleColumn(r,i,d.charCodeAt(l)===9,1);r<t&&(t=r)}t=Math.floor(t/i)*i;for(let m=0,u=a.length;m<u;m++){if(a[m].ignore)continue;const d=_.getLineContent(s+m);let r=0;for(n=0,h=a[m].commentStrOffset;r<t&&n<h;n++)r=w.nextVisibleColumn(r,i,d.charCodeAt(n)===9,1);r>t?a[m].commentStrOffset=n-1:a[m].commentStrOffset=n}}}e.LineCommentCommand=w}),define(ie[581],ne([1,0,5,24]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class E{constructor(y,p,w){this.selection=y,this.targetPosition=p,this.copy=w,this.targetSelection=null}getEditOperations(y,p){const w=y.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new f.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),w),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(y,p){return this.targetSelection}}e.DragAndDropCommand=E}),define(ie[582],ne([1,0,5]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(L,y,p){this._editorSelection=L,this._ranges=y,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(L,y){if(this._ranges.length>0){const p=[];for(let _=0;_<this._ranges.length;_++)p.push({range:this._ranges[_],text:this._replaceStrings[_]});p.sort((_,a)=>f.Range.compareRangesUsingStarts(_.range,a.range));const w=[];let v=p[0];for(let _=1;_<p.length;_++)v.range.endLineNumber===p[_].range.startLineNumber&&v.range.endColumn===p[_].range.startColumn?(v.range=v.range.plusRange(p[_].range),v.text=v.text+p[_].text):(w.push(v),v=p[_]);w.push(v);for(const _ of w)y.addEditOperation(_.range,_.text)}this._trackedEditorSelectionId=y.trackSelection(this._editorSelection)}computeCursorState(L,y){return y.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(ie[583],ne([1,0,426]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplacePiece=e.ReplacePattern=void 0,e.parseReplaceString=w;class k{constructor(_){this.staticValue=_,this.kind=0}}class E{constructor(_){this.pieces=_,this.kind=1}}class L{static fromStaticValue(_){return new L([y.staticValue(_)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(_){!_||_.length===0?this._state=new k(""):_.length===1&&_[0].staticValue!==null?this._state=new k(_[0].staticValue):this._state=new E(_)}buildReplaceString(_,a){if(this._state.kind===0)return a?(0,f.buildReplaceStringWithCasePreserved)(_,this._state.staticValue):this._state.staticValue;let s="";for(let i=0,t=this._state.pieces.length;i<t;i++){const n=this._state.pieces[i];if(n.staticValue!==null){s+=n.staticValue;continue}let h=L._substitute(n.matchIndex,_);if(n.caseOps!==null&&n.caseOps.length>0){const m=[],u=n.caseOps.length;let d=0;for(let r=0,l=h.length;r<l;r++){if(d>=u){m.push(h.slice(r));break}switch(n.caseOps[d]){case"U":m.push(h[r].toUpperCase());break;case"u":m.push(h[r].toUpperCase()),d++;break;case"L":m.push(h[r].toLowerCase());break;case"l":m.push(h[r].toLowerCase()),d++;break;default:m.push(h[r])}}h=m.join("")}s+=h}return s}static _substitute(_,a){if(a===null)return"";if(_===0)return a[0];let s="";for(;_>0;){if(_<a.length)return(a[_]||"")+s;s=String(_%10)+s,_=Math.floor(_/10)}return"$"+s}}e.ReplacePattern=L;class y{static staticValue(_){return new y(_,-1,null)}static caseOps(_,a){return new y(null,_,a)}constructor(_,a,s){this.staticValue=_,this.matchIndex=a,!s||s.length===0?this.caseOps=null:this.caseOps=s.slice(0)}}e.ReplacePiece=y;class p{constructor(_){this._source=_,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(_){this._emitStatic(this._source.substring(this._lastCharIndex,_)),this._lastCharIndex=_}emitStatic(_,a){this._emitStatic(_),this._lastCharIndex=a}_emitStatic(_){_.length!==0&&(this._currentStaticPiece+=_)}emitMatchIndex(_,a,s){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=y.caseOps(_,s),this._lastCharIndex=a}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}function w(v){if(!v||v.length===0)return new L(null);const _=[],a=new p(v);for(let s=0,i=v.length;s<i;s++){const t=v.charCodeAt(s);if(t===92){if(s++,s>=i)break;const n=v.charCodeAt(s);switch(n){case 92:a.emitUnchanged(s-1),a.emitStatic("\\",s+1);break;case 110:a.emitUnchanged(s-1),a.emitStatic(`
`,s+1);break;case 116:a.emitUnchanged(s-1),a.emitStatic("	",s+1);break;case 117:case 85:case 108:case 76:a.emitUnchanged(s-1),a.emitStatic("",s+1),_.push(String.fromCharCode(n));break}continue}if(t===36){if(s++,s>=i)break;const n=v.charCodeAt(s);if(n===36){a.emitUnchanged(s-1),a.emitStatic("$",s+1);continue}if(n===48||n===38){a.emitUnchanged(s-1),a.emitMatchIndex(0,s+1,_),_.length=0;continue}if(49<=n&&n<=57){let h=n-48;if(s+1<i){const m=v.charCodeAt(s+1);if(48<=m&&m<=57){s++,h=h*10+(m-48),a.emitUnchanged(s-2),a.emitMatchIndex(h,s+1,_),_.length=0;continue}}a.emitUnchanged(s-1),a.emitMatchIndex(h,s+1,_),_.length=0;continue}}}return a.finalize()}}),define(ie[194],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={0:" ",1:"u",2:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const f=4278190080;class k{constructor(p){const w=Math.ceil(p/32);this._states=new Uint32Array(w)}get(p){const w=p/32|0,v=p%32;return(this._states[w]&1<<v)!==0}set(p,w){const v=p/32|0,_=p%32,a=this._states[v];w?this._states[v]=a|1<<_:this._states[v]=a&~(1<<_)}}class E{constructor(p,w,v){if(p.length!==w.length||p.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=p,this._endIndexes=w,this._collapseStates=new k(p.length),this._userDefinedStates=new k(p.length),this._recoveredStates=new k(p.length),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const p=[],w=(v,_)=>{const a=p[p.length-1];return this.getStartLineNumber(a)<=v&&this.getEndLineNumber(a)>=_};for(let v=0,_=this._startIndexes.length;v<_;v++){const a=this._startIndexes[v],s=this._endIndexes[v];if(a>e.MAX_LINE_NUMBER||s>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;p.length>0&&!w(a,s);)p.pop();const i=p.length>0?p[p.length-1]:-1;p.push(v),this._startIndexes[v]=a+((i&255)<<24),this._endIndexes[v]=s+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(p){return this._startIndexes[p]&e.MAX_LINE_NUMBER}getEndLineNumber(p){return this._endIndexes[p]&e.MAX_LINE_NUMBER}getType(p){return this._types?this._types[p]:void 0}hasTypes(){return!!this._types}isCollapsed(p){return this._collapseStates.get(p)}setCollapsed(p,w){this._collapseStates.set(p,w)}isUserDefined(p){return this._userDefinedStates.get(p)}setUserDefined(p,w){return this._userDefinedStates.set(p,w)}isRecovered(p){return this._recoveredStates.get(p)}setRecovered(p,w){return this._recoveredStates.set(p,w)}getSource(p){return this.isUserDefined(p)?1:this.isRecovered(p)?2:0}setSource(p,w){w===1?(this.setUserDefined(p,!0),this.setRecovered(p,!1)):w===2?(this.setUserDefined(p,!1),this.setRecovered(p,!0)):(this.setUserDefined(p,!1),this.setRecovered(p,!1))}setCollapsedAllOfType(p,w){let v=!1;if(this._types)for(let _=0;_<this._types.length;_++)this._types[_]===p&&(this.setCollapsed(_,w),v=!0);return v}toRegion(p){return new L(this,p)}getParentIndex(p){this.ensureParentIndices();const w=((this._startIndexes[p]&f)>>>24)+((this._endIndexes[p]&f)>>>16);return w===e.MAX_FOLDING_REGIONS?-1:w}contains(p,w){return this.getStartLineNumber(p)<=w&&this.getEndLineNumber(p)>=w}findIndex(p){let w=0,v=this._startIndexes.length;if(v===0)return-1;for(;w<v;){const _=Math.floor((w+v)/2);p<this.getStartLineNumber(_)?v=_:w=_+1}return w-1}findRange(p){let w=this.findIndex(p);if(w>=0){if(this.getEndLineNumber(w)>=p)return w;for(w=this.getParentIndex(w);w!==-1;){if(this.contains(w,p))return w;w=this.getParentIndex(w)}}return-1}toString(){const p=[];for(let w=0;w<this.length;w++)p[w]=`[${e.foldSourceAbbr[this.getSource(w)]}${this.isCollapsed(w)?"+":"-"}] ${this.getStartLineNumber(w)}/${this.getEndLineNumber(w)}`;return p.join(", ")}toFoldRange(p){return{startLineNumber:this._startIndexes[p]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[p]&e.MAX_LINE_NUMBER,type:this._types?this._types[p]:void 0,isCollapsed:this.isCollapsed(p),source:this.getSource(p)}}static fromFoldRanges(p){const w=p.length,v=new Uint32Array(w),_=new Uint32Array(w);let a=[],s=!1;for(let t=0;t<w;t++){const n=p[t];v[t]=n.startLineNumber,_[t]=n.endLineNumber,a.push(n.type),n.type&&(s=!0)}s||(a=void 0);const i=new E(v,_,a);for(let t=0;t<w;t++)p[t].isCollapsed&&i.setCollapsed(t,!0),i.setSource(t,p[t].source);return i}static sanitizeAndMerge(p,w,v){v=v??Number.MAX_VALUE;const _=(l,o)=>Array.isArray(l)?g=>g<o?l[g]:void 0:g=>g<o?l.toFoldRange(g):void 0,a=_(p,p.length),s=_(w,w.length);let i=0,t=0,n=a(0),h=s(0);const m=[];let u,d=0;const r=[];for(;n||h;){let l;if(h&&(!n||n.startLineNumber>=h.startLineNumber))n&&n.startLineNumber===h.startLineNumber?(h.source===1?l=h:(l=n,l.isCollapsed=h.isCollapsed&&n.endLineNumber===h.endLineNumber,l.source=0),n=a(++i)):(l=h,h.isCollapsed&&h.source===0&&(l.source=2)),h=s(++t);else{let o=t,g=h;for(;;){if(!g||g.startLineNumber>n.endLineNumber){l=n;break}if(g.source===1&&g.endLineNumber>n.endLineNumber)break;g=s(++o)}n=a(++i)}if(l){for(;u&&u.endLineNumber<l.startLineNumber;)u=m.pop();l.endLineNumber>l.startLineNumber&&l.startLineNumber>d&&l.endLineNumber<=v&&(!u||u.endLineNumber>=l.endLineNumber)&&(r.push(l),d=l.startLineNumber,u&&m.push(u),u=l)}}return r}}e.FoldingRegions=E;class L{constructor(p,w){this.ranges=p,this.index=w}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(p){return p.startLineNumber<=this.startLineNumber&&p.endLineNumber>=this.endLineNumber}containsLine(p){return this.startLineNumber<=p&&p<=this.endLineNumber}}e.FoldingRegion=L}),define(ie[320],ne([1,0,7,194,121]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingModel=void 0,e.toggleCollapseState=y,e.setCollapseStateLevelsDown=p,e.setCollapseStateLevelsUp=w,e.setCollapseStateUp=v,e.setCollapseStateAtLevel=_,e.setCollapseStateForRest=a,e.setCollapseStateForMatchingLines=s,e.setCollapseStateForType=i,e.getParentFoldLine=t,e.getPreviousFoldLine=n,e.getNextFoldLine=h;class L{get regions(){return this._regions}get textModel(){return this._textModel}constructor(u,d){this._updateEventEmitter=new f.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=u,this._decorationProvider=d,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(u){if(!u.length)return;u=u.sort((r,l)=>r.regionIndex-l.regionIndex);const d={};this._decorationProvider.changeDecorations(r=>{let l=0,o=-1,g=-1;const c=b=>{for(;l<b;){const C=this._regions.getEndLineNumber(l),S=this._regions.isCollapsed(l);if(C<=o){const D=this.regions.getSource(l)!==0;r.changeDecorationOptions(this._editorDecorationIds[l],this._decorationProvider.getDecorationOption(S,C<=g,D))}S&&C>g&&(g=C),l++}};for(const b of u){const C=b.regionIndex,S=this._editorDecorationIds[C];if(S&&!d[S]){d[S]=!0,c(C);const D=!this._regions.isCollapsed(C);this._regions.setCollapsed(C,D),o=Math.max(o,this._regions.getEndLineNumber(C))}}c(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:u})}removeManualRanges(u){const d=new Array,r=l=>{for(const o of u)if(!(o.startLineNumber>l.endLineNumber||l.startLineNumber>o.endLineNumber))return!0;return!1};for(let l=0;l<this._regions.length;l++){const o=this._regions.toFoldRange(l);(o.source===0||!r(o))&&d.push(o)}this.updatePost(k.FoldingRegions.fromFoldRanges(d))}update(u,d=[]){const r=this._currentFoldedOrManualRanges(d),l=k.FoldingRegions.sanitizeAndMerge(u,r,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(l))}updatePost(u){const d=[];let r=-1;for(let l=0,o=u.length;l<o;l++){const g=u.getStartLineNumber(l),c=u.getEndLineNumber(l),b=u.isCollapsed(l),C=u.getSource(l)!==0,S={startLineNumber:g,startColumn:this._textModel.getLineMaxColumn(g),endLineNumber:c,endColumn:this._textModel.getLineMaxColumn(c)+1};d.push({range:S,options:this._decorationProvider.getDecorationOption(b,c<=r,C)}),b&&c>r&&(r=c)}this._decorationProvider.changeDecorations(l=>this._editorDecorationIds=l.deltaDecorations(this._editorDecorationIds,d)),this._regions=u,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(u=[]){const d=(l,o)=>{for(const g of u)if(l<g&&g<=o)return!0;return!1},r=[];for(let l=0,o=this._regions.length;l<o;l++){let g=this.regions.isCollapsed(l);const c=this.regions.getSource(l);if(g||c!==0){const b=this._regions.toFoldRange(l),C=this._textModel.getDecorationRange(this._editorDecorationIds[l]);C&&(g&&d(C.startLineNumber,C.endLineNumber)&&(g=!1),r.push({startLineNumber:C.startLineNumber,endLineNumber:C.endLineNumber,type:b.type,isCollapsed:g,source:c}))}}return r}getMemento(){const u=this._currentFoldedOrManualRanges(),d=[],r=this._textModel.getLineCount();for(let l=0,o=u.length;l<o;l++){const g=u[l];if(g.startLineNumber>=g.endLineNumber||g.startLineNumber<1||g.endLineNumber>r)continue;const c=this._getLinesChecksum(g.startLineNumber+1,g.endLineNumber);d.push({startLineNumber:g.startLineNumber,endLineNumber:g.endLineNumber,isCollapsed:g.isCollapsed,source:g.source,checksum:c})}return d.length>0?d:void 0}applyMemento(u){var d,r;if(!Array.isArray(u))return;const l=[],o=this._textModel.getLineCount();for(const c of u){if(c.startLineNumber>=c.endLineNumber||c.startLineNumber<1||c.endLineNumber>o)continue;const b=this._getLinesChecksum(c.startLineNumber+1,c.endLineNumber);(!c.checksum||b===c.checksum)&&l.push({startLineNumber:c.startLineNumber,endLineNumber:c.endLineNumber,type:void 0,isCollapsed:(d=c.isCollapsed)!==null&&d!==void 0?d:!0,source:(r=c.source)!==null&&r!==void 0?r:0})}const g=k.FoldingRegions.sanitizeAndMerge(this._regions,l,o);this.updatePost(k.FoldingRegions.fromFoldRanges(g))}_getLinesChecksum(u,d){return(0,E.hash)(this._textModel.getLineContent(u)+this._textModel.getLineContent(d))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(u,d){const r=[];if(this._regions){let l=this._regions.findRange(u),o=1;for(;l>=0;){const g=this._regions.toRegion(l);(!d||d(g,o))&&r.push(g),o++,l=g.parentIndex}}return r}getRegionAtLine(u){if(this._regions){const d=this._regions.findRange(u);if(d>=0)return this._regions.toRegion(d)}return null}getRegionsInside(u,d){const r=[],l=u?u.regionIndex+1:0,o=u?u.endLineNumber:Number.MAX_VALUE;if(d&&d.length===2){const g=[];for(let c=l,b=this._regions.length;c<b;c++){const C=this._regions.toRegion(c);if(this._regions.getStartLineNumber(c)<o){for(;g.length>0&&!C.containedBy(g[g.length-1]);)g.pop();g.push(C),d(C,g.length)&&r.push(C)}else break}}else for(let g=l,c=this._regions.length;g<c;g++){const b=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<o)(!d||d(b))&&r.push(b);else break}return r}}e.FoldingModel=L;function y(m,u,d){const r=[];for(const l of d){const o=m.getRegionAtLine(l);if(o){const g=!o.isCollapsed;if(r.push(o),u>1){const c=m.getRegionsInside(o,(b,C)=>b.isCollapsed!==g&&C<u);r.push(...c)}}}m.toggleCollapseState(r)}function p(m,u,d=Number.MAX_VALUE,r){const l=[];if(r&&r.length>0)for(const o of r){const g=m.getRegionAtLine(o);if(g&&(g.isCollapsed!==u&&l.push(g),d>1)){const c=m.getRegionsInside(g,(b,C)=>b.isCollapsed!==u&&C<d);l.push(...c)}}else{const o=m.getRegionsInside(null,(g,c)=>g.isCollapsed!==u&&c<d);l.push(...o)}m.toggleCollapseState(l)}function w(m,u,d,r){const l=[];for(const o of r){const g=m.getAllRegionsAtLine(o,(c,b)=>c.isCollapsed!==u&&b<=d);l.push(...g)}m.toggleCollapseState(l)}function v(m,u,d){const r=[];for(const l of d){const o=m.getAllRegionsAtLine(l,g=>g.isCollapsed!==u);o.length>0&&r.push(o[0])}m.toggleCollapseState(r)}function _(m,u,d,r){const l=(g,c)=>c===u&&g.isCollapsed!==d&&!r.some(b=>g.containsLine(b)),o=m.getRegionsInside(null,l);m.toggleCollapseState(o)}function a(m,u,d){const r=[];for(const g of d){const c=m.getAllRegionsAtLine(g,void 0);c.length>0&&r.push(c[0])}const l=g=>r.every(c=>!c.containedBy(g)&&!g.containedBy(c))&&g.isCollapsed!==u,o=m.getRegionsInside(null,l);m.toggleCollapseState(o)}function s(m,u,d){const r=m.textModel,l=m.regions,o=[];for(let g=l.length-1;g>=0;g--)if(d!==l.isCollapsed(g)){const c=l.getStartLineNumber(g);u.test(r.getLineContent(c))&&o.push(l.toRegion(g))}m.toggleCollapseState(o)}function i(m,u,d){const r=m.regions,l=[];for(let o=r.length-1;o>=0;o--)d!==r.isCollapsed(o)&&u===r.getType(o)&&l.push(r.toRegion(o));m.toggleCollapseState(l)}function t(m,u){let d=null;const r=u.getRegionAtLine(m);if(r!==null&&(d=r.startLineNumber,m===d)){const l=r.parentIndex;l!==-1?d=u.regions.getStartLineNumber(l):d=null}return d}function n(m,u){let d=u.getRegionAtLine(m);if(d!==null&&d.startLineNumber===m){if(m!==d.startLineNumber)return d.startLineNumber;{const r=d.parentIndex;let l=0;for(r!==-1&&(l=u.regions.getStartLineNumber(d.parentIndex));d!==null;)if(d.regionIndex>0){if(d=u.regions.toRegion(d.regionIndex-1),d.startLineNumber<=l)return null;if(d.parentIndex===r)return d.startLineNumber}else return null}}else if(u.regions.length>0)for(d=u.regions.toRegion(u.regions.length-1);d!==null;){if(d.startLineNumber<m)return d.startLineNumber;d.regionIndex>0?d=u.regions.toRegion(d.regionIndex-1):d=null}return null}function h(m,u){let d=u.getRegionAtLine(m);if(d!==null&&d.startLineNumber===m){const r=d.parentIndex;let l=0;if(r!==-1)l=u.regions.getEndLineNumber(d.parentIndex);else{if(u.regions.length===0)return null;l=u.regions.getEndLineNumber(u.regions.length-1)}for(;d!==null;)if(d.regionIndex<u.regions.length){if(d=u.regions.toRegion(d.regionIndex+1),d.startLineNumber>=l)return null;if(d.parentIndex===r)return d.startLineNumber}else return null}else if(u.regions.length>0)for(d=u.regions.toRegion(0);d!==null;){if(d.startLineNumber>m)return d.startLineNumber;d.regionIndex<u.regions.length?d=u.regions.toRegion(d.regionIndex+1):d=null}return null}}),define(ie[584],ne([1,0,66,7,5,139]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class y{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(_){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=_,this._foldingModelListener=_.onDidChange(a=>this.updateHiddenRanges()),this._hiddenRanges=[],_.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(_){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=_.changes.some(a=>a.range.endLineNumber!==a.range.startLineNumber||(0,L.countEOL)(a.text)[0]!==0))}updateHiddenRanges(){let _=!1;const a=[];let s=0,i=0,t=Number.MAX_VALUE,n=-1;const h=this._foldingModel.regions;for(;s<h.length;s++){if(!h.isCollapsed(s))continue;const m=h.getStartLineNumber(s)+1,u=h.getEndLineNumber(s);t<=m&&u<=n||(!_&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===m&&this._hiddenRanges[i].endLineNumber===u?(a.push(this._hiddenRanges[i]),i++):(_=!0,a.push(new E.Range(m,1,u,1))),t=m,n=u)}(this._hasLineChanges||_||i<this._hiddenRanges.length)&&this.applyHiddenRanges(a)}applyHiddenRanges(_){this._hiddenRanges=_,this._hasLineChanges=!1,this._updateEventEmitter.fire(_)}hasRanges(){return this._hiddenRanges.length>0}isHidden(_){return w(this._hiddenRanges,_)!==null}adjustSelections(_){let a=!1;const s=this._foldingModel.textModel;let i=null;const t=n=>((!i||!p(n,i))&&(i=w(this._hiddenRanges,n)),i?i.startLineNumber-1:null);for(let n=0,h=_.length;n<h;n++){let m=_[n];const u=t(m.startLineNumber);u&&(m=m.setStartPosition(u,s.getLineMaxColumn(u)),a=!0);const d=t(m.endLineNumber);d&&(m=m.setEndPosition(d,s.getLineMaxColumn(d)),a=!0),_[n]=m}return a}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=y;function p(v,_){return v>=_.startLineNumber&&v<=_.endLineNumber}function w(v,_){const a=(0,f.findFirstIdxMonotonousOrArrLen)(v,s=>_<s.startLineNumber)-1;return a>=0&&v[a].endLineNumber>=_?v[a]:null}}),define(ie[321],ne([1,0,227,194]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangesCollector=e.IndentRangeProvider=void 0,e.computeRanges=v;const E=5e3,L="indent";class y{constructor(a,s,i){this.editorModel=a,this.languageConfigurationService=s,this.foldingRangesLimit=i,this.id=L}dispose(){}compute(a){const s=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=s&&!!s.offSide,t=s&&s.markers;return Promise.resolve(v(this.editorModel,i,t,this.foldingRangesLimit))}}e.IndentRangeProvider=y;class p{constructor(a){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=a}insertFirst(a,s,i){if(a>k.MAX_LINE_NUMBER||s>k.MAX_LINE_NUMBER)return;const t=this._length;this._startIndexes[t]=a,this._endIndexes[t]=s,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(a){const s=this._foldingRangesLimit.limit;if(this._length<=s){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=this._length-1,h=0;n>=0;n--,h++)i[h]=this._startIndexes[n],t[h]=this._endIndexes[n];return new k.FoldingRegions(i,t)}else{this._foldingRangesLimit.update(this._length,s);let i=0,t=this._indentOccurrences.length;for(let u=0;u<this._indentOccurrences.length;u++){const d=this._indentOccurrences[u];if(d){if(d+i>s){t=u;break}i+=d}}const n=a.getOptions().tabSize,h=new Uint32Array(s),m=new Uint32Array(s);for(let u=this._length-1,d=0;u>=0;u--){const r=this._startIndexes[u],l=a.getLineContent(r),o=(0,f.computeIndentLevel)(l,n);(o<t||o===t&&i++<s)&&(h[d]=r,m[d]=this._endIndexes[u],d++)}return new k.FoldingRegions(h,m)}}}e.RangesCollector=p;const w={limit:E,update:()=>{}};function v(_,a,s,i=w){const t=_.getOptions().tabSize,n=new p(i);let h;s&&(h=new RegExp(`(${s.start.source})|(?:${s.end.source})`));const m=[],u=_.getLineCount()+1;m.push({indent:-1,endAbove:u,line:u});for(let d=_.getLineCount();d>0;d--){const r=_.getLineContent(d),l=(0,f.computeIndentLevel)(r,t);let o=m[m.length-1];if(l===-1){a&&(o.endAbove=d);continue}let g;if(h&&(g=r.match(h)))if(g[1]){let c=m.length-1;for(;c>0&&m[c].indent!==-2;)c--;if(c>0){m.length=c+1,o=m[c],n.insertFirst(d,o.line,l),o.line=d,o.indent=l,o.endAbove=d;continue}}else{m.push({indent:-2,endAbove:d,line:d});continue}if(o.indent>l){do m.pop(),o=m[m.length-1];while(o.indent>l);const c=o.endAbove-1;c-d>=1&&n.insertFirst(d,c,l)}o.indent===l?o.endAbove=d:m.push({indent:l,endAbove:d,line:d})}return n.toIndentRanges(_)}}),define(ie[322],ne([1,0,12,2,194]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyntaxRangeProvider=void 0,e.sanitizeRanges=_;const L={},y="syntax";class p{constructor(s,i,t,n,h){this.editorModel=s,this.providers=i,this.handleFoldingRangesChange=t,this.foldingRangesLimit=n,this.fallbackRangeProvider=h,this.id=y,this.disposables=new k.DisposableStore,h&&this.disposables.add(h);for(const m of i)typeof m.onDidChange=="function"&&this.disposables.add(m.onDidChange(t))}compute(s){return w(this.providers,this.editorModel,s).then(i=>{var t,n;return i?_(i,this.foldingRangesLimit):(n=(t=this.fallbackRangeProvider)===null||t===void 0?void 0:t.compute(s))!==null&&n!==void 0?n:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=p;function w(a,s,i){let t=null;const n=a.map((h,m)=>Promise.resolve(h.provideFoldingRanges(s,L,i)).then(u=>{if(!i.isCancellationRequested&&Array.isArray(u)){Array.isArray(t)||(t=[]);const d=s.getLineCount();for(const r of u)r.start>0&&r.end>r.start&&r.end<=d&&t.push({start:r.start,end:r.end,rank:m,kind:r.kind})}},f.onUnexpectedExternalError));return Promise.all(n).then(h=>t)}class v{constructor(s){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=s}add(s,i,t,n){if(s>E.MAX_LINE_NUMBER||i>E.MAX_LINE_NUMBER)return;const h=this._length;this._startIndexes[h]=s,this._endIndexes[h]=i,this._nestingLevels[h]=n,this._types[h]=t,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){const s=this._foldingRangesLimit.limit;if(this._length<=s){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)i[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new E.FoldingRegions(i,t,this._types)}else{this._foldingRangesLimit.update(this._length,s);let i=0,t=this._nestingLevelCounts.length;for(let u=0;u<this._nestingLevelCounts.length;u++){const d=this._nestingLevelCounts[u];if(d){if(d+i>s){t=u;break}i+=d}}const n=new Uint32Array(s),h=new Uint32Array(s),m=[];for(let u=0,d=0;u<this._length;u++){const r=this._nestingLevels[u];(r<t||r===t&&i++<s)&&(n[d]=this._startIndexes[u],h[d]=this._endIndexes[u],m[d]=this._types[u],d++)}return new E.FoldingRegions(n,h,m)}}}function _(a,s){const i=a.sort((m,u)=>{let d=m.start-u.start;return d===0&&(d=m.rank-u.rank),d}),t=new v(s);let n;const h=[];for(const m of i)if(!n)n=m,t.add(m.start,m.end,m.kind&&m.kind.value,h.length);else if(m.start>n.start)if(m.end<=n.end)h.push(n),n=m,t.add(m.start,m.end,m.kind&&m.kind.value,h.length);else{if(m.start>n.end){do n=h.pop();while(n&&m.start>n.end);n&&h.push(n),n=m}t.add(m.start,m.end,m.kind&&m.kind.value,h.length)}return t.toIndentRanges()}}),define(ie[323],ne([1,0,72,5,137]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class L{static _handleEolEdits(p,w){let v;const _=[];for(const a of w)typeof a.eol=="number"&&(v=a.eol),a.range&&typeof a.text=="string"&&_.push(a);return typeof v=="number"&&p.hasModel()&&p.getModel().pushEOL(v),_}static _isFullModelReplaceEdit(p,w){if(!p.hasModel())return!1;const v=p.getModel(),_=v.validateRange(w.range);return v.getFullModelRange().equalsRange(_)}static execute(p,w,v){v&&p.pushUndoStop();const _=E.StableEditorScrollState.capture(p),a=L._handleEolEdits(p,w);a.length===1&&L._isFullModelReplaceEdit(p,a[0])?p.executeEdits("formatEditsCommand",a.map(s=>f.EditOperation.replace(k.Range.lift(s.range),s.text))):p.executeEdits("formatEditsCommand",a.map(s=>f.EditOperation.replaceMove(k.Range.lift(s.range),s.text))),v&&p.pushUndoStop(),_.restoreRelativeVerticalPositionOfCursor(p)}}e.FormattingEdit=L}),define(ie[96],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class f{constructor(L,y,p,w){this.priority=L,this.range=y,this.initialMousePosX=p,this.initialMousePosY=w,this.type=1}equals(L){return L.type===1&&this.range.equalsRange(L.range)}canAdoptVisibleHover(L,y){return L.type===1&&y.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=f;class k{constructor(L,y,p,w,v,_){this.priority=L,this.owner=y,this.range=p,this.initialMousePosX=w,this.initialMousePosY=v,this.supportsMarkerHover=_,this.type=2}equals(L){return L.type===2&&this.owner===L.owner}canAdoptVisibleHover(L,y){return L.type===2&&this.owner===L.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(L){this._participants.push(L)}getAll(){return this._participants}}}),define(ie[585],ne([1,0,24]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(L,y,p){this._editRange=L,this._originalSelection=y,this._text=p}getEditOperations(L,y){y.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(L,y){const w=y.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new f.Selection(w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn),w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn)):new f.Selection(w.endLineNumber,w.endColumn-this._text.length,w.endLineNumber,w.endColumn)}}e.InPlaceReplaceCommand=k}),define(ie[324],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpaceCnt=f,e.generateIndent=k;function f(E,L){let y=0;for(let p=0;p<E.length;p++)E.charAt(p)==="	"?y+=L:y++;return y}function k(E,L,y){E=E<0?0:E;let p="";if(!y){const w=Math.floor(E/L);E=E%L;for(let v=0;v<w;v++)p+="	"}for(let w=0;w<E;w++)p+=" ";return p}}),define(ie[233],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(ie[195],ne([1,0,13,11,9,5,123]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0,e.ghostTextsOrReplacementsEqual=_,e.ghostTextOrReplacementEquals=a;class p{constructor(i,t){this.lineNumber=i,this.parts=t}equals(i){return this.lineNumber===i.lineNumber&&this.parts.length===i.parts.length&&this.parts.every((t,n)=>t.equals(i.parts[n]))}renderForScreenReader(i){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],n=i.substr(0,t.column-1);return new y.TextEdit([...this.parts.map(m=>new y.SingleTextEdit(L.Range.fromPositions(new E.Position(1,m.column)),m.lines.join(`
`)))]).applyToString(n).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(i=>i.lines.length===0)}get lineCount(){return 1+this.parts.reduce((i,t)=>i+t.lines.length-1,0)}}e.GhostText=p;class w{constructor(i,t,n){this.column=i,this.text=t,this.preview=n,this.lines=(0,k.splitLines)(this.text)}equals(i){return this.column===i.column&&this.lines.length===i.lines.length&&this.lines.every((t,n)=>t===i.lines[n])}}e.GhostTextPart=w;class v{constructor(i,t,n,h=0){this.lineNumber=i,this.columnRange=t,this.text=n,this.additionalReservedLineCount=h,this.parts=[new w(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=(0,k.splitLines)(this.text)}renderForScreenReader(i){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(i=>i.lines.length===0)}equals(i){return this.lineNumber===i.lineNumber&&this.columnRange.equals(i.columnRange)&&this.newLines.length===i.newLines.length&&this.newLines.every((t,n)=>t===i.newLines[n])&&this.additionalReservedLineCount===i.additionalReservedLineCount}}e.GhostTextReplacement=v;function _(s,i){return(0,f.equals)(s,i,a)}function a(s,i){return s===i?!0:!s||!i?!1:s instanceof p&&i instanceof p||s instanceof v&&i instanceof v?s.equals(i):!1}}),define(ie[234],ne([1,0,182,11,5,122,123,195]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleTextRemoveCommonPrefix=w,e.singleTextEditAugments=v,e.computeGhostText=_;function w(h,m,u){const d=u?h.range.intersectRanges(u):h.range;if(!d)return h;const r=m.getValueInRange(d,1),l=(0,k.commonPrefixLength)(r,h.text),o=L.TextLength.ofText(r.substring(0,l)).addToPosition(h.range.getStartPosition()),g=h.text.substring(l),c=E.Range.fromPositions(o,h.range.getEndPosition());return new y.SingleTextEdit(c,g)}function v(h,m){return h.text.startsWith(m.text)&&a(h.range,m.range)}function _(h,m,u,d,r=0){let l=w(h,m);if(l.range.endLineNumber!==l.range.startLineNumber)return;const o=m.getLineContent(l.range.startLineNumber),g=(0,k.getLeadingWhitespace)(o).length;if(l.range.startColumn-1<=g){const T=(0,k.getLeadingWhitespace)(l.text).length,N=o.substring(l.range.startColumn-1,g),[A,P]=[l.range.getStartPosition(),l.range.getEndPosition()],M=A.column+N.length<=P.column?A.delta(0,N.length):P,R=E.Range.fromPositions(M,P),F=l.text.startsWith(N)?l.text.substring(N.length):l.text.substring(T);l=new y.SingleTextEdit(R,F)}const b=m.getValueInRange(l.range),C=i(b,l.text);if(!C)return;const S=l.range.startLineNumber,D=new Array;if(u==="prefix"){const T=C.filter(N=>N.originalLength===0);if(T.length>1||T.length===1&&T[0].originalStart!==b.length)return}const I=l.text.length-r;for(const T of C){const N=l.range.startColumn+T.originalStart+T.originalLength;if(u==="subwordSmart"&&d&&d.lineNumber===l.range.startLineNumber&&N<d.column||T.originalLength>0)return;if(T.modifiedLength===0)continue;const A=T.modifiedStart+T.modifiedLength,P=Math.max(T.modifiedStart,Math.min(A,I)),M=l.text.substring(T.modifiedStart,P),R=l.text.substring(P,Math.max(T.modifiedStart,A));M.length>0&&D.push(new p.GhostTextPart(N,M,!1)),R.length>0&&D.push(new p.GhostTextPart(N,R,!0))}return new p.GhostText(S,D)}function a(h,m){return m.getStartPosition().equals(h.getStartPosition())&&m.getEndPosition().isBeforeOrEqual(h.getEndPosition())}let s;function i(h,m){if(s?.originalValue===h&&s?.newValue===m)return s?.changes;{let u=n(h,m,!0);if(u){const d=t(u);if(d>0){const r=n(h,m,!1);r&&t(r)<d&&(u=r)}}return s={originalValue:h,newValue:m,changes:u},u}}function t(h){let m=0;for(const u of h)m+=u.originalLength;return m}function n(h,m,u){if(h.length>5e3||m.length>5e3)return;function d(b){let C=0;for(let S=0,D=b.length;S<D;S++){const I=b.charCodeAt(S);I>C&&(C=I)}return C}const r=Math.max(d(h),d(m));function l(b){if(b<0)throw new Error("unexpected");return r+b+1}function o(b){let C=0,S=0;const D=new Int32Array(b.length);for(let I=0,T=b.length;I<T;I++)if(u&&b[I]==="("){const N=S*100+C;D[I]=l(2*N),C++}else if(u&&b[I]===")"){C=Math.max(C-1,0);const N=S*100+C;D[I]=l(2*N+1),C===0&&S++}else D[I]=b.charCodeAt(I);return D}const g=o(h),c=o(m);return new f.LcsDiff({getElements:()=>g},{getElements:()=>c}).ComputeDiff(!1).changes}}),define(ie[196],ne([1,0,12,2,30,9,5]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnRange=void 0,e.getReadonlyEmptyArray=w,e.applyObservableDecorations=_,e.addPositions=a,e.subtractPositions=s;const p=[];function w(){return p}class v{constructor(t,n){if(this.startColumn=t,this.endColumnExclusive=n,t>n)throw new f.BugIndicatingError(`startColumn ${t} cannot be after endColumnExclusive ${n}`)}toRange(t){return new y.Range(t,this.startColumn,t,this.endColumnExclusive)}equals(t){return this.startColumn===t.startColumn&&this.endColumnExclusive===t.endColumnExclusive}}e.ColumnRange=v;function _(i,t){const n=new k.DisposableStore,h=i.createDecorationsCollection();return n.add((0,E.autorunOpts)({debugName:()=>`Apply decorations from ${t.debugName}`},m=>{const u=t.read(m);h.set(u)})),n.add({dispose:()=>{h.clear()}}),n}function a(i,t){return new L.Position(i.lineNumber+t.lineNumber-1,t.lineNumber===1?i.column+t.column-1:t.column)}function s(i,t){return new L.Position(i.lineNumber-t.lineNumber+1,i.lineNumber-t.lineNumber===0?i.column-t.column+1:i.column)}}),define(ie[586],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineEditJumpBackId=e.inlineEditJumpToId=e.inlineEditRejectId=e.inlineEditAcceptId=void 0,e.inlineEditAcceptId="editor.action.inlineEdit.accept",e.inlineEditRejectId="editor.action.inlineEdit.reject",e.inlineEditJumpToId="editor.action.inlineEdit.jumpTo",e.inlineEditJumpBackId="editor.action.inlineEdit.jumpBack"}),define(ie[587],ne([1,0,5,24]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class E{constructor(y,p,w){this._selection=y,this._isCopyingDown=p,this._noop=w||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(y,p){let w=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,w.startLineNumber<w.endLineNumber&&w.endColumn===1&&(this._endLineNumberDelta=1,w=w.setEndPosition(w.endLineNumber-1,y.getLineMaxColumn(w.endLineNumber-1)));const v=[];for(let a=w.startLineNumber;a<=w.endLineNumber;a++)v.push(y.getLineContent(a));const _=v.join(`
`);_===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new f.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber+1,1),w.endLineNumber===y.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new f.Range(w.startLineNumber,1,w.startLineNumber,1),_+`
`):p.addEditOperation(new f.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber,y.getLineMaxColumn(w.endLineNumber)),`
`+_),this._selectionId=p.trackSelection(w),this._selectionDirection=this._selection.getDirection()}computeCursorState(y,p){let w=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let v=w.startLineNumber,_=w.startColumn,a=w.endLineNumber,s=w.endColumn;this._startLineNumberDelta!==0&&(v=v+this._startLineNumberDelta,_=1),this._endLineNumberDelta!==0&&(a=a+this._endLineNumberDelta,s=1),w=k.Selection.createWithDirection(v,_,a,s,this._selectionDirection)}return w}}e.CopyLinesCommand=E}),define(ie[588],ne([1,0,72,5]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class E{static getCollator(){return E._COLLATOR||(E._COLLATOR=new Intl.Collator),E._COLLATOR}constructor(w,v){this.selection=w,this.descending=v,this.selectionId=null}getEditOperations(w,v){const _=y(w,this.selection,this.descending);_&&v.addEditOperation(_.range,_.text),this.selectionId=v.trackSelection(this.selection)}computeCursorState(w,v){return v.getTrackedSelection(this.selectionId)}static canRun(w,v,_){if(w===null)return!1;const a=L(w,v,_);if(!a)return!1;for(let s=0,i=a.before.length;s<i;s++)if(a.before[s]!==a.after[s])return!0;return!1}}e.SortLinesCommand=E,E._COLLATOR=null;function L(p,w,v){const _=w.startLineNumber;let a=w.endLineNumber;if(w.endColumn===1&&a--,_>=a)return null;const s=[];for(let t=_;t<=a;t++)s.push(p.getLineContent(t));let i=s.slice(0);return i.sort(E.getCollator().compare),v===!0&&(i=i.reverse()),{startLineNumber:_,endLineNumber:a,before:s,after:i}}function y(p,w,v){const _=L(p,w,v);return _?f.EditOperation.replace(new k.Range(_.startLineNumber,1,_.endLineNumber,p.getLineMaxColumn(_.endLineNumber)),_.after.join(`
`)):null}}),define(ie[325],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.isSemanticColoringEnabled=f,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function f(k,E,L){var y;const p=(y=L.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||y===void 0?void 0:y.enabled;return typeof p=="boolean"?p:E.getColorTheme().semanticHighlighting}}),define(ie[326],ne([1,0,70,9,5]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class L{async provideSelectionRanges(p,w){const v=[];for(const _ of w){const a=[];v.push(a);const s=new Map;await new Promise(i=>L._bracketsRightYield(i,0,p,_,s)),await new Promise(i=>L._bracketsLeftYield(i,0,p,_,s,a))}return v}static _bracketsRightYield(p,w,v,_,a){const s=new Map,i=Date.now();for(;;){if(w>=L._maxRounds){p();break}if(!_){p();break}const t=v.bracketPairs.findNextBracket(_);if(!t){p();break}if(Date.now()-i>L._maxDuration){setTimeout(()=>L._bracketsRightYield(p,w+1,v,_,a));break}if(t.bracketInfo.isOpeningBracket){const h=t.bracketInfo.bracketText,m=s.has(h)?s.get(h):0;s.set(h,m+1)}else{const h=t.bracketInfo.getOpeningBrackets()[0].bracketText;let m=s.has(h)?s.get(h):0;if(m-=1,s.set(h,Math.max(0,m)),m<0){let u=a.get(h);u||(u=new f.LinkedList,a.set(h,u)),u.push(t.range)}}_=t.range.getEndPosition()}}static _bracketsLeftYield(p,w,v,_,a,s){const i=new Map,t=Date.now();for(;;){if(w>=L._maxRounds&&a.size===0){p();break}if(!_){p();break}const n=v.bracketPairs.findPrevBracket(_);if(!n){p();break}if(Date.now()-t>L._maxDuration){setTimeout(()=>L._bracketsLeftYield(p,w+1,v,_,a,s));break}if(n.bracketInfo.isOpeningBracket){const m=n.bracketInfo.bracketText;let u=i.has(m)?i.get(m):0;if(u-=1,i.set(m,Math.max(0,u)),u<0){const d=a.get(m);if(d){const r=d.shift();d.size===0&&a.delete(m);const l=E.Range.fromPositions(n.range.getEndPosition(),r.getStartPosition()),o=E.Range.fromPositions(n.range.getStartPosition(),r.getEndPosition());s.push({range:l}),s.push({range:o}),L._addBracketLeading(v,o,s)}}}else{const m=n.bracketInfo.getOpeningBrackets()[0].bracketText,u=i.has(m)?i.get(m):0;i.set(m,u+1)}_=n.range.getStartPosition()}}static _addBracketLeading(p,w,v){if(w.startLineNumber===w.endLineNumber)return;const _=w.startLineNumber,a=p.getLineFirstNonWhitespaceColumn(_);a!==0&&a!==w.startColumn&&(v.push({range:E.Range.fromPositions(new k.Position(_,a),w.getEndPosition())}),v.push({range:E.Range.fromPositions(new k.Position(_,1),w.getEndPosition())}));const s=_-1;if(s>0){const i=p.getLineFirstNonWhitespaceColumn(s);i===w.startColumn&&i!==p.getLineLastNonWhitespaceColumn(s)&&(v.push({range:E.Range.fromPositions(new k.Position(s,i),w.getEndPosition())}),v.push({range:E.Range.fromPositions(new k.Position(s,1),w.getEndPosition())}))}}}e.BracketSelectionRangeProvider=L,L._maxDuration=30,L._maxRounds=2}),define(ie[589],ne([1,0,11,5]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class E{constructor(y=!0){this.selectSubwords=y}provideSelectionRanges(y,p){const w=[];for(const v of p){const _=[];w.push(_),this.selectSubwords&&this._addInWordRanges(_,y,v),this._addWordRanges(_,y,v),this._addWhitespaceLine(_,y,v),_.push({range:y.getFullModelRange()})}return w}_addInWordRanges(y,p,w){const v=p.getWordAtPosition(w);if(!v)return;const{word:_,startColumn:a}=v,s=w.column-a;let i=s,t=s,n=0;for(;i>=0;i--){const h=_.charCodeAt(i);if(i!==s&&(h===95||h===45))break;if((0,f.isLowerAsciiLetter)(h)&&(0,f.isUpperAsciiLetter)(n))break;n=h}for(i+=1;t<_.length;t++){const h=_.charCodeAt(t);if((0,f.isUpperAsciiLetter)(h)&&(0,f.isLowerAsciiLetter)(n))break;if(h===95||h===45)break;n=h}i<t&&y.push({range:new k.Range(w.lineNumber,a+i,w.lineNumber,a+t)})}_addWordRanges(y,p,w){const v=p.getWordAtPosition(w);v&&y.push({range:new k.Range(w.lineNumber,v.startColumn,w.lineNumber,v.endColumn)})}_addWhitespaceLine(y,p,w){p.getLineLength(w.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(w.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(w.lineNumber)===0&&y.push({range:new k.Range(w.lineNumber,1,w.lineNumber,p.getLineMaxColumn(w.lineNumber))})}}e.WordSelectionRangeProvider=E}),define(ie[128],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class f{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const n=this.pos;let h=0,m=this.value.charCodeAt(n),u;if(u=f._table[m],typeof u=="number")return this.pos+=1,{type:u,pos:n,len:1};if(f.isDigitCharacter(m)){u=8;do h+=1,m=this.value.charCodeAt(n+h);while(f.isDigitCharacter(m));return this.pos+=h,{type:u,pos:n,len:h}}if(f.isVariableCharacter(m)){u=9;do m=this.value.charCodeAt(n+ ++h);while(f.isVariableCharacter(m)||f.isDigitCharacter(m));return this.pos+=h,{type:u,pos:n,len:h}}u=10;do h+=1,m=this.value.charCodeAt(n+h);while(!isNaN(m)&&typeof f._table[m]>"u"&&!f.isDigitCharacter(m)&&!f.isVariableCharacter(m));return this.pos+=h,{type:u,pos:n,len:h}}}e.Scanner=f,f._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class k{constructor(){this._children=[]}appendChild(n){return n instanceof E&&this._children[this._children.length-1]instanceof E?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,h){const{parent:m}=n,u=m.children.indexOf(n),d=m.children.slice(0);d.splice(u,1,...h),m._children=d,function r(l,o){for(const g of l)g.parent=o,r(g.children,g)}(h,m)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof s)return n;n=n.parent}}toString(){return this.children.reduce((n,h)=>n+h.toString(),"")}len(){return 0}}e.Marker=k;class E extends k{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new E(this.value)}}e.Text=E;class L extends k{}e.TransformableMarker=L;class y extends L{static compareByIndex(n,h){return n.index===h.index?0:n.isFinalTabstop?1:h.isFinalTabstop||n.index<h.index?-1:n.index>h.index?1:0}constructor(n){super(),this.index=n}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){const n=new y(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(h=>h.clone()),n}}e.Placeholder=y;class p extends k{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof E&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new p;return this.options.forEach(n.appendChild,n),n}}e.Choice=p;class w extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const h=this;let m=!1,u=n.replace(this.regexp,function(){return m=!0,h._replace(Array.prototype.slice.call(arguments,0,-2))});return!m&&this._children.some(d=>d instanceof v&&!!d.elseValue)&&(u=this._replace([])),u}_replace(n){let h="";for(const m of this._children)if(m instanceof v){let u=n[m.index]||"";u=m.resolve(u),h+=u}else h+=m.toString();return h}toString(){return""}clone(){const n=new w;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(h=>h.clone()),n}}e.Transform=w;class v extends k{constructor(n,h,m,u){super(),this.index=n,this.shorthandName=h,this.ifValue=m,this.elseValue=u}resolve(n){return this.shorthandName==="upcase"?n?n.toLocaleUpperCase():"":this.shorthandName==="downcase"?n?n.toLocaleLowerCase():"":this.shorthandName==="capitalize"?n?n[0].toLocaleUpperCase()+n.substr(1):"":this.shorthandName==="pascalcase"?n?this._toPascalCase(n):"":this.shorthandName==="camelcase"?n?this._toCamelCase(n):"":n&&typeof this.ifValue=="string"?this.ifValue:!n&&typeof this.elseValue=="string"?this.elseValue:n||""}_toPascalCase(n){const h=n.match(/[a-z0-9]+/gi);return h?h.map(m=>m.charAt(0).toUpperCase()+m.substr(1)).join(""):n}_toCamelCase(n){const h=n.match(/[a-z0-9]+/gi);return h?h.map((m,u)=>u===0?m.charAt(0).toLowerCase()+m.substr(1):m.charAt(0).toUpperCase()+m.substr(1)).join(""):n}clone(){return new v(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=v;class _ extends L{constructor(n){super(),this.name=n}resolve(n){let h=n.resolve(this);return this.transform&&(h=this.transform.resolve(h||"")),h!==void 0?(this._children=[new E(h)],!0):!1}clone(){const n=new _(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(h=>h.clone()),n}}e.Variable=_;function a(t,n){const h=[...t];for(;h.length>0;){const m=h.shift();if(!n(m))break;h.unshift(...m.children)}}class s extends k{get placeholderInfo(){if(!this._placeholders){const n=[];let h;this.walk(function(m){return m instanceof y&&(n.push(m),h=!h||h.index<m.index?m:h),!0}),this._placeholders={all:n,last:h}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let h=0,m=!1;return this.walk(u=>u===n?(m=!0,!1):(h+=u.len(),!0)),m?h:-1}fullLen(n){let h=0;return a([n],m=>(h+=m.len(),!0)),h}enclosingPlaceholders(n){const h=[];let{parent:m}=n;for(;m;)m instanceof y&&h.push(m),m=m.parent;return h}resolveVariables(n){return this.walk(h=>(h instanceof _&&h.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,h){return this._placeholders=void 0,super.replace(n,h)}clone(){const n=new s;return this._children=this.children.map(h=>h.clone()),n}walk(n){a(this.children,n)}}e.TextmateSnippet=s;class i{constructor(){this._scanner=new f,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,h,m){const u=new s;return this.parseFragment(n,u),this.ensureFinalTabstop(u,m??!1,h??!1),u}parseFragment(n,h){const m=h.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(h););const u=new Map,d=[];h.walk(o=>(o instanceof y&&(o.isFinalTabstop?u.set(0,void 0):!u.has(o.index)&&o.children.length>0?u.set(o.index,o.children):d.push(o)),!0));const r=(o,g)=>{const c=u.get(o.index);if(!c)return;const b=new y(o.index);b.transform=o.transform;for(const C of c){const S=C.clone();b.appendChild(S),S instanceof y&&u.has(S.index)&&!g.has(S.index)&&(g.add(S.index),r(S,g),g.delete(S.index))}h.replace(o,[b])},l=new Set;for(const o of d)r(o,l);return h.children.slice(m)}ensureFinalTabstop(n,h,m){(h||m&&n.placeholders.length>0)&&(n.placeholders.find(d=>d.index===0)||n.appendChild(new y(0)))}_accept(n,h){if(n===void 0||this._token.type===n){const m=h?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),m}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const h=this._token;for(;this._token.type!==n;){if(this._token.type===14)return!1;if(this._token.type===5){const u=this._scanner.next();if(u.type!==0&&u.type!==4&&u.type!==5)return!1}this._token=this._scanner.next()}const m=this._scanner.value.substring(h.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),m}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let h;return(h=this._accept(5,!0))?(h=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||h,n.appendChild(new E(h)),!0):!1}_parseTabstopOrVariableName(n){let h;const m=this._token;return this._accept(0)&&(h=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(h)?new y(Number(h)):new _(h)),!0):this._backTo(m)}_parseComplexPlaceholder(n){let h;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(h=this._accept(8,!0))))return this._backTo(m);const d=new y(Number(h));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(d),!0;if(!this._parse(d))return n.appendChild(new E("${"+h+":")),d.children.forEach(n.appendChild,n),!0}else if(d.index>0&&this._accept(7)){const r=new p;for(;;){if(this._parseChoiceElement(r)){if(this._accept(2))continue;if(this._accept(7)&&(d.appendChild(r),this._accept(4)))return n.appendChild(d),!0}return this._backTo(m),!1}}else return this._accept(6)?this._parseTransform(d)?(n.appendChild(d),!0):(this._backTo(m),!1):this._accept(4)?(n.appendChild(d),!0):this._backTo(m)}_parseChoiceElement(n){const h=this._token,m=[];for(;!(this._token.type===2||this._token.type===7);){let u;if((u=this._accept(5,!0))?u=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||u:u=this._accept(void 0,!0),!u)return this._backTo(h),!1;m.push(u)}return m.length===0?(this._backTo(h),!1):(n.appendChild(new E(m.join(""))),!0)}_parseComplexVariable(n){let h;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(h=this._accept(9,!0))))return this._backTo(m);const d=new _(h);if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(d),!0;if(!this._parse(d))return n.appendChild(new E("${"+h+":")),d.children.forEach(n.appendChild,n),!0}else return this._accept(6)?this._parseTransform(d)?(n.appendChild(d),!0):(this._backTo(m),!1):this._accept(4)?(n.appendChild(d),!0):this._backTo(m)}_parseTransform(n){const h=new w;let m="",u="";for(;!this._accept(6);){let d;if(d=this._accept(5,!0)){d=this._accept(6,!0)||d,m+=d;continue}if(this._token.type!==14){m+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let d;if(d=this._accept(5,!0)){d=this._accept(5,!0)||this._accept(6,!0)||d,h.appendChild(new E(d));continue}if(!(this._parseFormatString(h)||this._parseAnything(h)))return!1}for(;!this._accept(4);){if(this._token.type!==14){u+=this._accept(void 0,!0);continue}return!1}try{h.regexp=new RegExp(m,u)}catch{return!1}return n.transform=h,!0}_parseFormatString(n){const h=this._token;if(!this._accept(0))return!1;let m=!1;this._accept(3)&&(m=!0);const u=this._accept(8,!0);if(u)if(m){if(this._accept(4))return n.appendChild(new v(Number(u))),!0;if(!this._accept(1))return this._backTo(h),!1}else return n.appendChild(new v(Number(u))),!0;else return this._backTo(h),!1;if(this._accept(6)){const d=this._accept(9,!0);return!d||!this._accept(4)?(this._backTo(h),!1):(n.appendChild(new v(Number(u),d)),!0)}else if(this._accept(11)){const d=this._until(4);if(d)return n.appendChild(new v(Number(u),void 0,d,void 0)),!0}else if(this._accept(12)){const d=this._until(4);if(d)return n.appendChild(new v(Number(u),void 0,void 0,d)),!0}else if(this._accept(13)){const d=this._until(1);if(d){const r=this._until(4);if(r)return n.appendChild(new v(Number(u),void 0,d,r)),!0}}else{const d=this._until(4);if(d)return n.appendChild(new v(Number(u),void 0,void 0,d)),!0}return this._backTo(h),!1}_parseAnything(n){return this._token.type!==14?(n.appendChild(new E(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=i}),define(ie[327],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class f{constructor(y,p){this.startLineNumber=y,this.endLineNumber=p}}e.StickyRange=f;class k{constructor(y,p,w){this.range=y,this.children=p,this.parent=w}}e.StickyElement=k;class E{constructor(y,p,w,v){this.uri=y,this.version=p,this.element=w,this.outlineProviderId=v}}e.StickyModel=E}),define(ie[328],ne([1,0,13,76,11]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class L{constructor(w,v){this.leadingLineContent=w,this.characterCountDelta=v}}e.LineContext=L;class y{constructor(w,v,_,a,s,i,t=k.FuzzyScoreOptions.default,n=void 0){this.clipboardText=n,this._snippetCompareFn=y._compareCompletionItems,this._items=w,this._column=v,this._wordDistance=a,this._options=s,this._refilterKind=1,this._lineContext=_,this._fuzzyScoreOptions=t,i==="top"?this._snippetCompareFn=y._compareCompletionItemsSnippetsUp:i==="bottom"&&(this._snippetCompareFn=y._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(w){(this._lineContext.leadingLineContent!==w.leadingLineContent||this._lineContext.characterCountDelta!==w.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<w.characterCountDelta&&this._filteredItems?2:1,this._lineContext=w)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const w=new Set;for(const[v,_]of this.getItemsByProvider())_.length>0&&_[0].container.incomplete&&w.add(v);return w}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const w=[],{leadingLineContent:v,characterCountDelta:_}=this._lineContext;let a="",s="";const i=this._refilterKind===1?this._items:this._filteredItems,t=[],n=!this._options.filterGraceful||i.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let h=0;h<i.length;h++){const m=i[h];if(m.isInvalid)continue;const u=this._itemsByProvider.get(m.provider);u?u.push(m):this._itemsByProvider.set(m.provider,[m]);const d=m.position.column-m.editStart.column,r=d+_-(m.position.column-this._column);if(a.length!==r&&(a=r===0?"":v.slice(-r),s=a.toLowerCase()),m.word=a,r===0)m.score=k.FuzzyScore.Default;else{let l=0;for(;l<d;){const o=a.charCodeAt(l);if(o===32||o===9)l+=1;else break}if(l>=r)m.score=k.FuzzyScore.Default;else if(typeof m.completion.filterText=="string"){const o=n(a,s,l,m.completion.filterText,m.filterTextLow,0,this._fuzzyScoreOptions);if(!o)continue;(0,E.compareIgnoreCase)(m.completion.filterText,m.textLabel)===0?m.score=o:(m.score=(0,k.anyScore)(a,s,l,m.textLabel,m.labelLow,0),m.score[0]=o[0])}else{const o=n(a,s,l,m.textLabel,m.labelLow,0,this._fuzzyScoreOptions);if(!o)continue;m.score=o}}m.idx=h,m.distance=this._wordDistance.distance(m.position,m.completion),t.push(m),w.push(m.textLabel.length)}this._filteredItems=t.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:w.length?(0,f.quickSelect)(w.length-.85,w,(h,m)=>h-m):0}}static _compareCompletionItems(w,v){return w.score[0]>v.score[0]?-1:w.score[0]<v.score[0]?1:w.distance<v.distance?-1:w.distance>v.distance?1:w.idx<v.idx?-1:w.idx>v.idx?1:0}static _compareCompletionItemsSnippetsDown(w,v){if(w.completion.kind!==v.completion.kind){if(w.completion.kind===27)return 1;if(v.completion.kind===27)return-1}return y._compareCompletionItems(w,v)}static _compareCompletionItemsSnippetsUp(w,v){if(w.completion.kind!==v.completion.kind){if(w.completion.kind===27)return-1;if(v.completion.kind===27)return 1}return y._compareCompletionItems(w,v)}}e.CompletionModel=y}),define(ie[590],ne([1,0,13,2,138]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class L{constructor(p,w,v,_){this._disposables=new k.DisposableStore,this._disposables.add(v.onDidSuggest(a=>{a.completionModel.items.length===0&&this.reset()})),this._disposables.add(v.onDidCancel(a=>{this.reset()})),this._disposables.add(w.onDidShow(()=>this._onItem(w.getFocusedItem()))),this._disposables.add(w.onDidFocus(this._onItem,this)),this._disposables.add(w.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(a=>{if(this._active&&!w.isFrozen()&&v.state!==0){const s=a.charCodeAt(a.length-1);this._active.acceptCharacters.has(s)&&p.getOption(0)&&_(this._active.item)}}))}_onItem(p){if(!p||!(0,f.isNonEmptyArray)(p.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===p.item)return;const w=new E.CharacterSet;for(const v of p.item.completion.commitCharacters)v.length>0&&w.add(v.charCodeAt(0));this._active={acceptCharacters:w,item:p}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=L}),define(ie[591],ne([1,0,2]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(L,y){this._disposables=new f.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(L.onWillType(()=>{if(this._locked||!L.hasModel())return;const p=L.getSelections(),w=p.length;let v=!1;for(let a=0;a<w;a++)if(!p[a].isEmpty()){v=!0;break}if(!v){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const _=L.getModel();for(let a=0;a<w;a++){const s=p[a];if(_.getValueLengthInRange(s)>k._maxSelectionLength)return;this._lastOvertyped[a]={value:_.getValueInRange(s),multiline:s.startLineNumber!==s.endLineNumber}}})),this._disposables.add(y.onDidTrigger(p=>{this._locked=!0})),this._disposables.add(y.onDidCancel(p=>{this._locked=!1}))}getLastOvertypedInfo(L){if(L>=0&&L<this._lastOvertyped.length)return this._lastOvertyped[L]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(ie[329],ne([1,0,13,5,326]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class L{static async create(p,w){if(!w.getOption(118).localityBonus||!w.hasModel())return L.None;const v=w.getModel(),_=w.getPosition();if(!p.canComputeWordRanges(v.uri))return L.None;const[a]=await new E.BracketSelectionRangeProvider().provideSelectionRanges(v,[_]);if(a.length===0)return L.None;const s=await p.computeWordRanges(v.uri,a[0].range);if(!s)return L.None;const i=v.getWordUntilPosition(_);return delete s[i.word],new class extends L{distance(t,n){if(!_.equals(w.getPosition()))return 0;if(n.kind===17)return 2<<20;const h=typeof n.label=="string"?n.label:n.label.label,m=s[h];if((0,f.isFalsyOrEmpty)(m))return 2<<20;const u=(0,f.binarySearch)(m,k.Range.fromPositions(t),k.Range.compareRangesUsingStarts),d=u>=0?m[u]:m[Math.max(0,~u-1)];let r=a.length;for(const l of a){if(!k.Range.containsRange(l.range,d))break;r-=1}return r}}}}e.WordDistance=L,L.None=new class extends L{distance(){return 0}}}),define(ie[330],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFuzzyActionArr=f,e.isFuzzyAction=k,e.isString=E,e.isIAction=L,e.empty=y,e.fixCase=p,e.sanitize=w,e.log=v,e.createError=_,e.substituteMatches=a,e.substituteMatchesRe=s,e.findRules=i,e.stateExists=t;function f(n){return Array.isArray(n)}function k(n){return!f(n)}function E(n){return typeof n=="string"}function L(n){return!E(n)}function y(n){return!n}function p(n,h){return n.ignoreCase&&h?h.toLowerCase():h}function w(n){return n.replace(/[&<>'"_]/g,"-")}function v(n,h){console.log(`${n.languageId}: ${h}`)}function _(n,h){return new Error(`${n.languageId}: ${h}`)}function a(n,h,m,u,d){const r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let l=null;return h.replace(r,function(o,g,c,b,C,S,D,I,T){return y(c)?y(b)?!y(C)&&C<u.length?p(n,u[C]):!y(D)&&n&&typeof n[D]=="string"?n[D]:(l===null&&(l=d.split("."),l.unshift(d)),!y(S)&&S<l.length?p(n,l[S]):""):p(n,m):"$"})}function s(n,h,m){const u=/\$[sS](\d\d?)/g;let d=null;return h.replace(u,function(r,l){return d===null&&(d=m.split("."),d.unshift(m)),!y(l)&&l<d.length?p(n,d[l]):""})}function i(n,h){let m=h;for(;m&&m.length>0;){const u=n.tokenizer[m];if(u)return u;const d=m.lastIndexOf(".");d<0?m=null:m=m.substr(0,d)}return null}function t(n,h){let m=h;for(;m&&m.length>0;){if(n.stateNames[m])return!0;const d=m.lastIndexOf(".");d<0?m=null:m=m.substr(0,d)}return!1}}),define(ie[592],ne([1,0,330]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=i;function k(t,n){if(!n||!Array.isArray(n))return!1;for(const h of n)if(!t(h))return!1;return!0}function E(t,n){return typeof t=="boolean"?t:n}function L(t,n){return typeof t=="string"?t:n}function y(t){const n={};for(const h of t)n[h]=!0;return n}function p(t,n=!1){n&&(t=t.map(function(m){return m.toLowerCase()}));const h=y(t);return n?function(m){return h[m.toLowerCase()]!==void 0&&h.hasOwnProperty(m.toLowerCase())}:function(m){return h[m]!==void 0&&h.hasOwnProperty(m)}}function w(t,n,h){n=n.replace(/@@/g,"");let m=0,u;do u=!1,n=n.replace(/@(\w+)/g,function(r,l){u=!0;let o="";if(typeof t[l]=="string")o=t[l];else if(t[l]&&t[l]instanceof RegExp)o=t[l].source;else throw t[l]===void 0?f.createError(t,"language definition does not contain attribute '"+l+"', used at: "+n):f.createError(t,"attribute reference '"+l+"' must be a string, used at: "+n);return f.empty(o)?"":"(?:"+o+")"}),m++;while(u&&m<5);n=n.replace(/\x01/g,"@");const d=(t.ignoreCase?"i":"")+(t.unicode?"u":"");if(h&&n.match(/\$[sS](\d\d?)/g)){let l=null,o=null;return g=>(o&&l===g||(l=g,o=new RegExp(f.substituteMatchesRe(t,n,g),d)),o)}return new RegExp(n,d)}function v(t,n,h,m){if(m<0)return t;if(m<n.length)return n[m];if(m>=100){m=m-100;const u=h.split(".");if(u.unshift(h),m<u.length)return u[m]}return null}function _(t,n,h,m){let u=-1,d=h,r=h.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(u=parseInt(r[3]),r[2]&&(u=u+100)),d=r[4]);let l="~",o=d;!d||d.length===0?(l="!=",o=""):/^\w*$/.test(o)?l="==":(r=d.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(l=r[1],o=r[2]));let g;if((l==="~"||l==="!~")&&/^(\w|\|)*$/.test(o)){const c=p(o.split("|"),t.ignoreCase);g=function(b){return l==="~"?c(b):!c(b)}}else if(l==="@"||l==="!@"){const c=t[o];if(!c)throw f.createError(t,"the @ match target '"+o+"' is not defined, in rule: "+n);if(!k(function(C){return typeof C=="string"},c))throw f.createError(t,"the @ match target '"+o+"' must be an array of strings, in rule: "+n);const b=p(c,t.ignoreCase);g=function(C){return l==="@"?b(C):!b(C)}}else if(l==="~"||l==="!~")if(o.indexOf("$")<0){const c=w(t,"^"+o+"$",!1);g=function(b){return l==="~"?c.test(b):!c.test(b)}}else g=function(c,b,C,S){return w(t,"^"+f.substituteMatches(t,o,b,C,S)+"$",!1).test(c)};else if(o.indexOf("$")<0){const c=f.fixCase(t,o);g=function(b){return l==="=="?b===c:b!==c}}else{const c=f.fixCase(t,o);g=function(b,C,S,D,I){const T=f.substituteMatches(t,c,C,S,D);return l==="=="?b===T:b!==T}}return u===-1?{name:h,value:m,test:function(c,b,C,S){return g(c,c,b,C,S)}}:{name:h,value:m,test:function(c,b,C,S){const D=v(c,b,C,u);return g(D||"",c,b,C,S)}}}function a(t,n,h){if(h){if(typeof h=="string")return h;if(h.token||h.token===""){if(typeof h.token!="string")throw f.createError(t,"a 'token' attribute must be of type string, in rule: "+n);{const m={token:h.token};if(h.token.indexOf("$")>=0&&(m.tokenSubst=!0),typeof h.bracket=="string")if(h.bracket==="@open")m.bracket=1;else if(h.bracket==="@close")m.bracket=-1;else throw f.createError(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+n);if(h.next){if(typeof h.next!="string")throw f.createError(t,"the next state must be a string value in rule: "+n);{let u=h.next;if(!/^(@pop|@push|@popall)$/.test(u)&&(u[0]==="@"&&(u=u.substr(1)),u.indexOf("$")<0&&!f.stateExists(t,f.substituteMatches(t,u,"",[],""))))throw f.createError(t,"the next state '"+h.next+"' is not defined in rule: "+n);m.next=u}}return typeof h.goBack=="number"&&(m.goBack=h.goBack),typeof h.switchTo=="string"&&(m.switchTo=h.switchTo),typeof h.log=="string"&&(m.log=h.log),typeof h.nextEmbedded=="string"&&(m.nextEmbedded=h.nextEmbedded,t.usesEmbedded=!0),m}}else if(Array.isArray(h)){const m=[];for(let u=0,d=h.length;u<d;u++)m[u]=a(t,n,h[u]);return{group:m}}else if(h.cases){const m=[];for(const d in h.cases)if(h.cases.hasOwnProperty(d)){const r=a(t,n,h.cases[d]);d==="@default"||d==="@"||d===""?m.push({test:void 0,value:r,name:d}):d==="@eos"?m.push({test:function(l,o,g,c){return c},value:r,name:d}):m.push(_(t,n,d,r))}const u=t.defaultToken;return{test:function(d,r,l,o){for(const g of m)if(!g.test||g.test(d,r,l,o))return g.value;return u}}}else throw f.createError(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+n)}else return{token:""}}class s{constructor(n){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=n}setRegex(n,h){let m;if(typeof h=="string")m=h;else if(h instanceof RegExp)m=h.source;else throw f.createError(n,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=m.length>0&&m[0]==="^",this.name=this.name+": "+m,this.regex=w(n,"^(?:"+(this.matchOnlyAtLineStart?m.substr(1):m)+")",!0)}setAction(n,h){this.action=a(n,this.name,h)}resolveRegex(n){return this.regex instanceof RegExp?this.regex:this.regex(n)}}function i(t,n){if(!n||typeof n!="object")throw new Error("Monarch: expecting a language definition object");const h={};h.languageId=t,h.includeLF=E(n.includeLF,!1),h.noThrow=!1,h.maxStack=100,h.start=typeof n.start=="string"?n.start:null,h.ignoreCase=E(n.ignoreCase,!1),h.unicode=E(n.unicode,!1),h.tokenPostfix=L(n.tokenPostfix,"."+h.languageId),h.defaultToken=L(n.defaultToken,"source"),h.usesEmbedded=!1;const m=n;m.languageId=t,m.includeLF=h.includeLF,m.ignoreCase=h.ignoreCase,m.unicode=h.unicode,m.noThrow=h.noThrow,m.usesEmbedded=h.usesEmbedded,m.stateNames=n.tokenizer,m.defaultToken=h.defaultToken;function u(r,l,o){for(const g of o){let c=g.include;if(c){if(typeof c!="string")throw f.createError(h,"an 'include' attribute must be a string at: "+r);if(c[0]==="@"&&(c=c.substr(1)),!n.tokenizer[c])throw f.createError(h,"include target '"+c+"' is not defined at: "+r);u(r+"."+c,l,n.tokenizer[c])}else{const b=new s(r);if(Array.isArray(g)&&g.length>=1&&g.length<=3)if(b.setRegex(m,g[0]),g.length>=3)if(typeof g[1]=="string")b.setAction(m,{token:g[1],next:g[2]});else if(typeof g[1]=="object"){const C=g[1];C.next=g[2],b.setAction(m,C)}else throw f.createError(h,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+r);else b.setAction(m,g[1]);else{if(!g.regex)throw f.createError(h,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+r);g.name&&typeof g.name=="string"&&(b.name=g.name),g.matchOnlyAtStart&&(b.matchOnlyAtLineStart=E(g.matchOnlyAtLineStart,!1)),b.setRegex(m,g.regex),b.setAction(m,g.action)}l.push(b)}}}if(!n.tokenizer||typeof n.tokenizer!="object")throw f.createError(h,"a language definition must define the 'tokenizer' attribute as an object");h.tokenizer=[];for(const r in n.tokenizer)if(n.tokenizer.hasOwnProperty(r)){h.start||(h.start=r);const l=n.tokenizer[r];h.tokenizer[r]=new Array,u("tokenizer."+r,h.tokenizer[r],l)}if(h.usesEmbedded=m.usesEmbedded,n.brackets){if(!Array.isArray(n.brackets))throw f.createError(h,"the 'brackets' attribute must be defined as an array")}else n.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const d=[];for(const r of n.brackets){let l=r;if(l&&Array.isArray(l)&&l.length===3&&(l={token:l[2],open:l[0],close:l[1]}),l.open===l.close)throw f.createError(h,"open and close brackets in a 'brackets' attribute must be different: "+l.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof l.open=="string"&&typeof l.token=="string"&&typeof l.close=="string")d.push({token:l.token+h.tokenPostfix,open:f.fixCase(h,l.open),close:f.fixCase(h,l.close)});else throw f.createError(h,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return h.brackets=d,h.noThrow=!0,h}}),define(ie[593],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ie[594],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/findinput/findInput",e)}),define(ie[595],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(ie[596],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ie[597],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/hover/hoverWidget",e)}),define(ie[598],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/hover/updatableHoverWidget",e)}),define(ie[599],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ie[600],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ie[601],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(ie[602],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(ie[603],ne([3,4]),function(J,e){return J.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ie[604],ne([3,4]),function(J,e){return J.create("vs/base/common/actions",e)}),define(ie[41],ne([1,0,7,2,604]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0,e.toAction=_;class L extends k.Disposable{constructor(s,i="",t="",n=!0,h){super(),this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=s,this._label=i,this._cssClass=t,this._enabled=n,this._actionCallback=h}get id(){return this._id}get label(){return this._label}set label(s){this._setLabel(s)}_setLabel(s){this._label!==s&&(this._label=s,this._onDidChange.fire({label:s}))}get tooltip(){return this._tooltip||""}set tooltip(s){this._setTooltip(s)}_setTooltip(s){this._tooltip!==s&&(this._tooltip=s,this._onDidChange.fire({tooltip:s}))}get class(){return this._cssClass}set class(s){this._setClass(s)}_setClass(s){this._cssClass!==s&&(this._cssClass=s,this._onDidChange.fire({class:s}))}get enabled(){return this._enabled}set enabled(s){this._setEnabled(s)}_setEnabled(s){this._enabled!==s&&(this._enabled=s,this._onDidChange.fire({enabled:s}))}get checked(){return this._checked}set checked(s){this._setChecked(s)}_setChecked(s){this._checked!==s&&(this._checked=s,this._onDidChange.fire({checked:s}))}async run(s,i){this._actionCallback&&await this._actionCallback(s)}}e.Action=L;class y extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new f.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new f.Emitter),this.onDidRun=this._onDidRun.event}async run(s,i){if(!s.enabled)return;this._onWillRun.fire({action:s});let t;try{await this.runAction(s,i)}catch(n){t=n}this._onDidRun.fire({action:s,error:t})}async runAction(s,i){await s.run(i)}}e.ActionRunner=y;class p{constructor(){this.id=p.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...s){let i=[];for(const t of s)t.length&&(i.length?i=[...i,new p,...t]:i=t);return i}async run(){}}e.Separator=p,p.ID="vs.actions.separator";class w{get actions(){return this._actions}constructor(s,i,t,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=s,this.label=i,this.class=n,this._actions=t}async run(){}}e.SubmenuAction=w;class v extends L{constructor(){super(v.ID,E.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=v,v.ID="vs.actions.empty";function _(a){var s;return{id:a.id,label:a.label,class:a.class,enabled:(s=a.enabled)!==null&&s!==void 0?s:!0,checked:a.checked,run:async(...i)=>a.run(...i),tooltip:a.label}}}),define(ie[331],ne([1,0,41]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionRunnerWithContext=void 0;class k extends f.ActionRunner{constructor(L){super(),this._getContext=L}runAction(L,y){const p=this._getContext();return super.runAction(L,p)}}e.ActionRunnerWithContext=k}),define(ie[605],ne([3,4]),function(J,e){return J.create("vs/base/common/errorMessage",e)}),define(ie[606],ne([1,0,13,21,605]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=w;function L(v,_){return _&&(v.stack||v.stacktrace)?E.localize(0,null,p(v),y(v.stack)||y(v.stacktrace)):p(v)}function y(v){return Array.isArray(v)?v.join(`
`):v}function p(v){return v.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${v.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof v.code=="string"&&typeof v.errno=="number"&&typeof v.syscall=="string"?E.localize(1,null,v.message):v.message||E.localize(2,null)}function w(v=null,_=!1){if(!v)return E.localize(3,null);if(Array.isArray(v)){const a=f.coalesce(v),s=w(a[0],_);return a.length>1?E.localize(4,null,s,a.length):s}if(k.isString(v))return v;if(v.detail){const a=v.detail;if(a.error)return L(a.error,_);if(a.exception)return L(a.exception,_)}return v.stack?L(v,_):v.message?v.message:E.localize(5,null)}}),define(ie[607],ne([3,4]),function(J,e){return J.create("vs/base/common/keybindingLabels",e)}),define(ie[235],ne([1,0,607]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(y,p,w=p){this.modifierLabels=[null],this.modifierLabels[2]=y,this.modifierLabels[1]=p,this.modifierLabels[3]=w}toLabel(y,p,w){if(p.length===0)return null;const v=[];for(let _=0,a=p.length;_<a;_++){const s=p[_],i=w(s);if(i===null)return null;v[_]=E(s,i,this.modifierLabels[y])}return v.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:f.localize(0,null),shiftKey:f.localize(1,null),altKey:f.localize(2,null),metaKey:f.localize(3,null),separator:"+"},{ctrlKey:f.localize(4,null),shiftKey:f.localize(5,null),altKey:f.localize(6,null),metaKey:f.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:f.localize(8,null),shiftKey:f.localize(9,null),altKey:f.localize(10,null),metaKey:f.localize(11,null),separator:"+"},{ctrlKey:f.localize(12,null),shiftKey:f.localize(13,null),altKey:f.localize(14,null),metaKey:f.localize(15,null),separator:"+"},{ctrlKey:f.localize(16,null),shiftKey:f.localize(17,null),altKey:f.localize(18,null),metaKey:f.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function E(L,y,p){if(y===null)return"";const w=[];return L.ctrlKey&&w.push(p.ctrlKey),L.shiftKey&&w.push(p.shiftKey),L.altKey&&w.push(p.altKey),L.metaKey&&w.push(p.metaKey),y!==""&&w.push(y),w.join(p.separator)}}),define(ie[608],ne([3,4]),function(J,e){return J.create("vs/base/common/platform",e)}),define(ie[17],ne([1,0,608]),function(J,e,f){"use strict";var k,E;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.webWorkerOrigin=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.LANGUAGE_DEFAULT=void 0,e.isLittleEndian=S,e.LANGUAGE_DEFAULT="en";let L=!1,y=!1,p=!1,w=!1,v=!1,_=!1,a=!1,s=!1,i=!1,t=!1,n,h=e.LANGUAGE_DEFAULT,m=e.LANGUAGE_DEFAULT,u,d;const r=globalThis;let l;typeof r.vscode<"u"&&typeof r.vscode.process<"u"?l=r.vscode.process:typeof process<"u"&&typeof((k=process==null?void 0:process.versions)===null||k===void 0?void 0:k.node)=="string"&&(l=process);const o=typeof((E=l?.versions)===null||E===void 0?void 0:E.electron)=="string",g=o&&l?.type==="renderer";if(typeof l=="object"){L=l.platform==="win32",y=l.platform==="darwin",p=l.platform==="linux",w=p&&!!l.env.SNAP&&!!l.env.SNAP_REVISION,a=o,i=!!l.env.CI||!!l.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=e.LANGUAGE_DEFAULT,h=e.LANGUAGE_DEFAULT;const D=l.env.VSCODE_NLS_CONFIG;if(D)try{const I=JSON.parse(D),T=I.availableLanguages["*"];n=I.locale,m=I.osLocale,h=T||e.LANGUAGE_DEFAULT,u=I._translationsConfigFile}catch{}v=!0}else typeof navigator=="object"&&!g?(d=navigator.userAgent,L=d.indexOf("Windows")>=0,y=d.indexOf("Macintosh")>=0,s=(d.indexOf("Macintosh")>=0||d.indexOf("iPad")>=0||d.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,p=d.indexOf("Linux")>=0,t=d?.indexOf("Mobi")>=0,_=!0,n=f.getConfiguredDefaultLocale(f.localize(0,null))||e.LANGUAGE_DEFAULT,h=n,m=navigator.language):console.error("Unable to resolve platform.");let c=0;y?c=1:L?c=3:p&&(c=2),e.isWindows=L,e.isMacintosh=y,e.isLinux=p,e.isNative=v,e.isWeb=_,e.isWebWorker=_&&typeof r.importScripts=="function",e.webWorkerOrigin=e.isWebWorker?r.origin:void 0,e.isIOS=s,e.isMobile=t,e.userAgent=d,e.language=h,e.setTimeout0IsFaster=typeof r.postMessage=="function"&&!r.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const D=[];r.addEventListener("message",T=>{if(T.data&&T.data.vscodeScheduleAsyncWork)for(let N=0,A=D.length;N<A;N++){const P=D[N];if(P.id===T.data.vscodeScheduleAsyncWork){D.splice(N,1),P.callback();return}}});let I=0;return T=>{const N=++I;D.push({id:N,callback:T}),r.postMessage({vscodeScheduleAsyncWork:N},"*")}}return D=>setTimeout(D)})(),e.OS=y||s?2:L?1:3;let b=!0,C=!1;function S(){if(!C){C=!0;const D=new Uint8Array(2);D[0]=1,D[1]=2,b=new Uint16Array(D.buffer)[0]===513}return b}e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ie[236],ne([1,0,62,52,17]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:E.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:E.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:E.isNative||f.isStandalone()?0:navigator.keyboard||f.isSafari?1:2,touch:"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0,pointerEvents:k.mainWindow.PointerEvent&&("ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0)}}),define(ie[609],ne([1,0,17]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FONT_FAMILY=void 0,e.DEFAULT_FONT_FAMILY=f.isWindows?'"Segoe WPC", "Segoe UI", sans-serif':f.isMacintosh?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif'}),define(ie[48],ne([1,0,62,69,133,17]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function y(s){if(s.charCode){const t=String.fromCharCode(s.charCode).toUpperCase();return k.KeyCodeUtils.fromString(t)}const i=s.keyCode;if(i===3)return 7;if(f.isFirefox)switch(i){case 59:return 85;case 60:if(L.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(L.isMacintosh)return 57;break}else if(f.isWebKit){if(L.isMacintosh&&i===93)return 57;if(!L.isMacintosh&&i===92)return 57}return k.EVENT_KEY_CODE_MAP[i]||0}const p=L.isMacintosh?256:2048,w=512,v=1024,_=L.isMacintosh?2048:256;class a{constructor(i){var t;this._standardKeyboardEventBrand=!0;const n=i;this.browserEvent=n,this.target=n.target,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.metaKey=n.metaKey,this.altGraphKey=(t=n.getModifierState)===null||t===void 0?void 0:t.call(n,"AltGraph"),this.keyCode=y(n),this.code=n.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(i){return this._asKeybinding===i}_computeKeybinding(){let i=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode);let t=0;return this.ctrlKey&&(t|=p),this.altKey&&(t|=w),this.shiftKey&&(t|=v),this.metaKey&&(t|=_),t|=i,t}_computeKeyCodeChord(){let i=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode),new E.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,i)}}e.StandardKeyboardEvent=a}),define(ie[73],ne([1,0,62,414,17]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class L{constructor(w,v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=v.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const _=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(w,v.view);this.posx-=_.left,this.posy-=_.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=L;class y{constructor(w,v=0,_=0){var a;this.browserEvent=w||null,this.target=w?w.target||w.targetNode||w.srcElement:null,this.deltaY=_,this.deltaX=v;let s=!1;if(f.isChrome){const i=navigator.userAgent.match(/Chrome\/(\d+)/);s=(i?parseInt(i[1]):123)<=122}if(w){const i=w,t=w,n=((a=w.view)===null||a===void 0?void 0:a.devicePixelRatio)||1;if(typeof i.wheelDeltaY<"u")s?this.deltaY=i.wheelDeltaY/(120*n):this.deltaY=i.wheelDeltaY/120;else if(typeof t.VERTICAL_AXIS<"u"&&t.axis===t.VERTICAL_AXIS)this.deltaY=-t.detail/3;else if(w.type==="wheel"){const h=w;h.deltaMode===h.DOM_DELTA_LINE?f.isFirefox&&!E.isMacintosh?this.deltaY=-w.deltaY/3:this.deltaY=-w.deltaY:this.deltaY=-w.deltaY/40}if(typeof i.wheelDeltaX<"u")f.isSafari&&E.isWindows?this.deltaX=-(i.wheelDeltaX/120):s?this.deltaX=i.wheelDeltaX/(120*n):this.deltaX=i.wheelDeltaX/120;else if(typeof t.HORIZONTAL_AXIS<"u"&&t.axis===t.HORIZONTAL_AXIS)this.deltaX=-w.detail/3;else if(w.type==="wheel"){const h=w;h.deltaMode===h.DOM_DELTA_LINE?f.isFirefox&&!E.isMacintosh?this.deltaX=-w.deltaX/3:this.deltaX=-w.deltaX:this.deltaX=-w.deltaX/40}this.deltaY===0&&this.deltaX===0&&w.wheelDelta&&(s?this.deltaY=w.wheelDelta/(120*n):this.deltaY=w.wheelDelta/120)}}preventDefault(){var w;(w=this.browserEvent)===null||w===void 0||w.preventDefault()}stopPropagation(){var w;(w=this.browserEvent)===null||w===void 0||w.stopPropagation()}}e.StandardWheelEvent=y}),define(ie[15],ne([1,0,19,12,7,2,17,289]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.GlobalIdleValue=e.AbstractIdleValue=e._runWhenIdle=e.runWhenGlobalIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ThrottledDelayer=e.Delayer=e.Throttler=void 0,e.isThenable=w,e.createCancelablePromise=v,e.raceCancellation=_,e.timeout=h,e.disposableTimeout=m,e.first=u,e.createCancelableAsyncIterable=D;function w(I){return!!I&&typeof I.then=="function"}function v(I){const T=new f.CancellationTokenSource,N=I(T.token),A=new Promise((P,M)=>{const R=T.token.onCancellationRequested(()=>{R.dispose(),M(new k.CancellationError)});Promise.resolve(N).then(F=>{R.dispose(),T.dispose(),P(F)},F=>{R.dispose(),T.dispose(),M(F)})});return new class{cancel(){T.cancel(),T.dispose()}then(P,M){return A.then(P,M)}catch(P){return this.then(void 0,P)}finally(P){return A.finally(P)}}}function _(I,T,N){return new Promise((A,P)=>{const M=T.onCancellationRequested(()=>{M.dispose(),A(N)});I.then(A,P).finally(()=>M.dispose())})}class a{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(T){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=T,!this.queuedPromise){const N=()=>{if(this.queuedPromise=null,this.isDisposed)return;const A=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,A};this.queuedPromise=new Promise(A=>{this.activePromise.then(N,N).then(A)})}return new Promise((N,A)=>{this.queuedPromise.then(N,A)})}return this.activePromise=T(),new Promise((N,A)=>{this.activePromise.then(P=>{this.activePromise=null,N(P)},P=>{this.activePromise=null,A(P)})})}dispose(){this.isDisposed=!0}}e.Throttler=a;const s=(I,T)=>{let N=!0;const A=setTimeout(()=>{N=!1,T()},I);return{isTriggered:()=>N,dispose:()=>{clearTimeout(A),N=!1}}},i=I=>{let T=!0;return queueMicrotask(()=>{T&&(T=!1,I())}),{isTriggered:()=>T,dispose:()=>{T=!1}}};class t{constructor(T){this.defaultDelay=T,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(T,N=this.defaultDelay){this.task=T,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((P,M)=>{this.doResolve=P,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const P=this.task;return this.task=null,P()}}));const A=()=>{var P;this.deferred=null,(P=this.doResolve)===null||P===void 0||P.call(this,null)};return this.deferred=N===p.MicrotaskDelay?i(A):s(N,A),this.completionPromise}isTriggered(){var T;return!!(!((T=this.deferred)===null||T===void 0)&&T.isTriggered())}cancel(){var T;this.cancelTimeout(),this.completionPromise&&((T=this.doReject)===null||T===void 0||T.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var T;(T=this.deferred)===null||T===void 0||T.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class n{constructor(T){this.delayer=new t(T),this.throttler=new a}trigger(T,N){return this.delayer.trigger(()=>this.throttler.queue(T),N)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=n;function h(I,T){return T?new Promise((N,A)=>{const P=setTimeout(()=>{M.dispose(),N()},I),M=T.onCancellationRequested(()=>{clearTimeout(P),M.dispose(),A(new k.CancellationError)})}):v(N=>h(I,N))}function m(I,T=0,N){const A=setTimeout(()=>{I(),N&&P.dispose()},T),P=(0,L.toDisposable)(()=>{clearTimeout(A),N?.deleteAndLeak(P)});return N?.add(P),P}function u(I,T=A=>!!A,N=null){let A=0;const P=I.length,M=()=>{if(A>=P)return Promise.resolve(N);const R=I[A++];return Promise.resolve(R()).then(O=>T(O)?Promise.resolve(O):M())};return M()}class d{constructor(T,N){this._token=-1,typeof T=="function"&&typeof N=="number"&&this.setIfNotSet(T,N)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(T,N){this.cancel(),this._token=setTimeout(()=>{this._token=-1,T()},N)}setIfNotSet(T,N){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,T()},N))}}e.TimeoutTimer=d;class r{constructor(){this.disposable=void 0}cancel(){var T;(T=this.disposable)===null||T===void 0||T.dispose(),this.disposable=void 0}cancelAndSet(T,N,A=globalThis){this.cancel();const P=A.setInterval(()=>{T()},N);this.disposable=(0,L.toDisposable)(()=>{A.clearInterval(P),this.disposable=void 0})}dispose(){this.cancel()}}e.IntervalTimer=r;class l{constructor(T,N){this.timeoutToken=-1,this.runner=T,this.timeout=N,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(T=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,T)}get delay(){return this.timeout}set delay(T){this.timeout=T}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var T;(T=this.runner)===null||T===void 0||T.call(this)}}e.RunOnceScheduler=l,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e._runWhenIdle=(I,T)=>{(0,y.setTimeout0)(()=>{if(N)return;const A=Date.now()+15;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,A-Date.now())}}))});let N=!1;return{dispose(){N||(N=!0)}}}:e._runWhenIdle=(I,T,N)=>{const A=I.requestIdleCallback(T,typeof N=="number"?{timeout:N}:void 0);let P=!1;return{dispose(){P||(P=!0,I.cancelIdleCallback(A))}}},e.runWhenGlobalIdle=I=>(0,e._runWhenIdle)(globalThis,I)}();class o{constructor(T,N){this._didRun=!1,this._executor=()=>{try{this._value=N()}catch(A){this._error=A}finally{this._didRun=!0}},this._handle=(0,e._runWhenIdle)(T,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.AbstractIdleValue=o;class g extends o{constructor(T){super(globalThis,T)}}e.GlobalIdleValue=g;class c{get isRejected(){var T;return((T=this.outcome)===null||T===void 0?void 0:T.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((T,N)=>{this.completeCallback=T,this.errorCallback=N})}complete(T){return new Promise(N=>{this.completeCallback(T),this.outcome={outcome:0,value:T},N()})}error(T){return new Promise(N=>{this.errorCallback(T),this.outcome={outcome:1,value:T},N()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=c;var b;(function(I){async function T(A){let P;const M=await Promise.all(A.map(R=>R.then(F=>F,F=>{P||(P=F)})));if(typeof P<"u")throw P;return M}I.settled=T;function N(A){return new Promise(async(P,M)=>{try{await A(P,M)}catch(R){M(R)}})}I.withAsyncBody=N})(b||(e.Promises=b={}));class C{static fromArray(T){return new C(N=>{N.emitMany(T)})}static fromPromise(T){return new C(async N=>{N.emitMany(await T)})}static fromPromises(T){return new C(async N=>{await Promise.all(T.map(async A=>N.emitOne(await A)))})}static merge(T){return new C(async N=>{await Promise.all(T.map(async A=>{for await(const P of A)N.emitOne(P)}))})}constructor(T){this._state=0,this._results=[],this._error=null,this._onStateChanged=new E.Emitter,queueMicrotask(async()=>{const N={emitOne:A=>this.emitOne(A),emitMany:A=>this.emitMany(A),reject:A=>this.reject(A)};try{await Promise.resolve(T(N)),this.resolve()}catch(A){this.reject(A)}finally{N.emitOne=void 0,N.emitMany=void 0,N.reject=void 0}})}[Symbol.asyncIterator](){let T=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(T<this._results.length)return{done:!1,value:this._results[T++]};if(this._state===1)return{done:!0,value:void 0};await E.Event.toPromise(this._onStateChanged.event)}while(!0)}}}static map(T,N){return new C(async A=>{for await(const P of T)A.emitOne(N(P))})}map(T){return C.map(this,T)}static filter(T,N){return new C(async A=>{for await(const P of T)N(P)&&A.emitOne(P)})}filter(T){return C.filter(this,T)}static coalesce(T){return C.filter(T,N=>!!N)}coalesce(){return C.coalesce(this)}static async toPromise(T){const N=[];for await(const A of T)N.push(A);return N}toPromise(){return C.toPromise(this)}emitOne(T){this._state===0&&(this._results.push(T),this._onStateChanged.fire())}emitMany(T){this._state===0&&(this._results=this._results.concat(T),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(T){this._state===0&&(this._state=2,this._error=T,this._onStateChanged.fire())}}e.AsyncIterableObject=C,C.EMPTY=C.fromArray([]);class S extends C{constructor(T,N){super(N),this._source=T}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=S;function D(I){const T=new f.CancellationTokenSource,N=I(T.token);return new S(T,async A=>{const P=T.token.onCancellationRequested(()=>{P.dispose(),T.dispose(),A.reject(new k.CancellationError)});try{for await(const M of N){if(T.token.isCancellationRequested)return;A.emitOne(M)}P.dispose(),T.dispose()}catch(M){P.dispose(),T.dispose(),A.reject(M)}})}}),define(ie[610],ne([1,0,15,2]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class E extends k.Disposable{constructor(y,p,w){super(),this._visibility=y,this._visibleClassName=p,this._invisibleClassName=w,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new f.TimeoutTimer)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this._updateShouldBeVisible())}setShouldBeVisible(y){this._rawShouldBeVisible=y,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const y=this._applyVisibilitySetting();this._shouldBeVisible!==y&&(this._shouldBeVisible=y,this.ensureVisibility())}setIsNeeded(y){this._isNeeded!==y&&(this._isNeeded=y,this.ensureVisibility())}setDomNode(y){this._domNode=y,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var y;(y=this._domNode)===null||y===void 0||y.setClassName(this._visibleClassName)},0))}_hide(y){var p;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(p=this._domNode)===null||p===void 0||p.setClassName(this._invisibleClassName+(y?" fade":"")))}}e.ScrollbarVisibilityController=E}),define(ie[237],ne([1,0,153,13,15,289,182,7,54]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=void 0,e.isFilterResult=v,e.getVisibleState=_;function v(i){return typeof i=="object"&&"visibility"in i&&"data"in i}function _(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}function a(i){return typeof i.collapsible=="boolean"}class s{constructor(t,n,h,m={}){var u;this.user=t,this.list=n,this.rootRef=[],this.eventBufferer=new p.EventBufferer,this._onDidChangeCollapseState=new p.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new p.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new p.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new E.Delayer(L.MicrotaskDelay),this.collapseByDefault=typeof m.collapseByDefault>"u"?!1:m.collapseByDefault,this.allowNonCollapsibleParents=(u=m.allowNonCollapsibleParents)!==null&&u!==void 0?u:!1,this.filter=m.filter,this.autoExpandSingleChildren=typeof m.autoExpandSingleChildren>"u"?!1:m.autoExpandSingleChildren,this.root={parent:void 0,element:h,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,n,h=w.Iterable.empty(),m={}){if(t.length===0)throw new f.TreeError(this.user,"Invalid tree location");m.diffIdentityProvider?this.spliceSmart(m.diffIdentityProvider,t,n,h,m):this.spliceSimple(t,n,h,m)}spliceSmart(t,n,h,m,u,d){var r;m===void 0&&(m=w.Iterable.empty()),d===void 0&&(d=(r=u.diffDepth)!==null&&r!==void 0?r:0);const{parentNode:l}=this.getParentNodeWithListIndex(n);if(!l.lastDiffIds)return this.spliceSimple(n,h,m,u);const o=[...m],g=n[n.length-1],c=new y.LcsDiff({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,g),...o,...l.children.slice(g+h)].map(I=>t.getId(I.element).toString())}).ComputeDiff(!1);if(c.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(n,h,o,u);const b=n.slice(0,-1),C=(I,T,N)=>{if(d>0)for(let A=0;A<N;A++)I--,T--,this.spliceSmart(t,[...b,I,0],Number.MAX_SAFE_INTEGER,o[T].children,u,d-1)};let S=Math.min(l.children.length,g+h),D=o.length;for(const I of c.changes.sort((T,N)=>N.originalStart-T.originalStart))C(S,D,S-(I.originalStart+I.originalLength)),S=I.originalStart,D=I.modifiedStart-g,this.spliceSimple([...b,S],I.originalLength,w.Iterable.slice(o,D,D+I.modifiedLength),u);C(S,D,S)}spliceSimple(t,n,h=w.Iterable.empty(),{onDidCreateNode:m,onDidDeleteNode:u,diffIdentityProvider:d}){const{parentNode:r,listIndex:l,revealed:o,visible:g}=this.getParentNodeWithListIndex(t),c=[],b=w.Iterable.map(h,M=>this.createTreeNode(M,r,r.visible?1:0,o,c,m)),C=t[t.length-1];let S=0;for(let M=C;M>=0&&M<r.children.length;M--){const R=r.children[M];if(R.visible){S=R.visibleChildIndex;break}}const D=[];let I=0,T=0;for(const M of b)D.push(M),T+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=S+I++);const N=(0,k.splice)(r.children,C,n,D);d?r.lastDiffIds?(0,k.splice)(r.lastDiffIds,C,n,D.map(M=>d.getId(M.element).toString())):r.lastDiffIds=r.children.map(M=>d.getId(M.element).toString()):r.lastDiffIds=void 0;let A=0;for(const M of N)M.visible&&A++;if(A!==0)for(let M=C+D.length;M<r.children.length;M++){const R=r.children[M];R.visible&&(R.visibleChildIndex-=A)}if(r.visibleChildrenCount+=I-A,o&&g){const M=N.reduce((R,F)=>R+(F.visible?F.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(r,T-M),this.list.splice(l,M,c)}if(N.length>0&&u){const M=R=>{u(R),R.children.forEach(M)};N.forEach(M)}this._onDidSplice.fire({insertedNodes:D,deletedNodes:N});let P=r;for(;P;){if(P.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}P=P.parent}}rerender(t){if(t.length===0)throw new f.TreeError(this.user,"Invalid tree location");const{node:n,listIndex:h,revealed:m}=this.getTreeNodeWithListIndex(t);n.visible&&m&&this.list.splice(h,1,[n])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:n,visible:h,revealed:m}=this.getTreeNodeWithListIndex(t);return h&&m?n:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,n){const h=this.getTreeNode(t);typeof n>"u"&&(n=!h.collapsible);const m={collapsible:n};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,m))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,n,h){const m=this.getTreeNode(t);typeof n>"u"&&(n=!m.collapsed);const u={collapsed:n,recursive:h||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,u))}_setCollapseState(t,n){const{node:h,listIndex:m,revealed:u}=this.getTreeNodeWithListIndex(t),d=this._setListNodeCollapseState(h,m,u,n);if(h!==this.root&&this.autoExpandSingleChildren&&d&&!a(n)&&h.collapsible&&!h.collapsed&&!n.recursive){let r=-1;for(let l=0;l<h.children.length;l++)if(h.children[l].visible)if(r>-1){r=-1;break}else r=l;r>-1&&this._setCollapseState([...t,r],n)}return d}_setListNodeCollapseState(t,n,h,m){const u=this._setNodeCollapseState(t,m,!1);if(!h||!t.visible||!u)return u;const d=t.renderNodeCount,r=this.updateNodeAfterCollapseChange(t),l=d-(n===-1?0:1);return this.list.splice(n+1,l,r.slice(1)),u}_setNodeCollapseState(t,n,h){let m;if(t===this.root?m=!1:(a(n)?(m=t.collapsible!==n.collapsible,t.collapsible=n.collapsible):t.collapsible?(m=t.collapsed!==n.collapsed,t.collapsed=n.collapsed):m=!1,m&&this._onDidChangeCollapseState.fire({node:t,deep:h})),!a(n)&&n.recursive)for(const u of t.children)m=this._setNodeCollapseState(u,n,!0)||m;return m}expandTo(t){this.eventBufferer.bufferEvents(()=>{let n=this.getTreeNode(t);for(;n.parent;)n=n.parent,t=t.slice(0,t.length-1),n.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,n=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,n),this.refilterDelayer.cancel()}createTreeNode(t,n,h,m,u,d){const r={parent:n,element:t.element,children:[],depth:n.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(r,h);r.visibility=l,m&&u.push(r);const o=t.children||w.Iterable.empty(),g=m&&l!==0&&!r.collapsed;let c=0,b=1;for(const C of o){const S=this.createTreeNode(C,r,l,g,u,d);r.children.push(S),b+=S.renderNodeCount,S.visible&&(S.visibleChildIndex=c++)}return this.allowNonCollapsibleParents||(r.collapsible=r.collapsible||r.children.length>0),r.visibleChildrenCount=c,r.visible=l===2?c>0:l===1,r.visible?r.collapsed||(r.renderNodeCount=b):(r.renderNodeCount=0,m&&u.pop()),d?.(r),r}updateNodeAfterCollapseChange(t){const n=t.renderNodeCount,h=[];return this._updateNodeAfterCollapseChange(t,h),this._updateAncestorsRenderNodeCount(t.parent,h.length-n),h}_updateNodeAfterCollapseChange(t,n){if(t.visible===!1)return 0;if(n.push(t),t.renderNodeCount=1,!t.collapsed)for(const h of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(h,n);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const n=t.renderNodeCount,h=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,h),this._updateAncestorsRenderNodeCount(t.parent,h.length-n),h}_updateNodeAfterFilterChange(t,n,h,m=!0){let u;if(t!==this.root){if(u=this._filterNode(t,n),u===0)return t.visible=!1,t.renderNodeCount=0,!1;m&&h.push(t)}const d=h.length;t.renderNodeCount=t===this.root?0:1;let r=!1;if(!t.collapsed||u!==0){let l=0;for(const o of t.children)r=this._updateNodeAfterFilterChange(o,u,h,m&&!t.collapsed)||r,o.visible&&(o.visibleChildIndex=l++);t.visibleChildrenCount=l}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=u===2?r:u===1,t.visibility=u),t.visible?t.collapsed||(t.renderNodeCount+=h.length-d):(t.renderNodeCount=0,m&&h.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,n){if(n!==0)for(;t;)t.renderNodeCount+=n,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,n){const h=this.filter?this.filter.filter(t.element,n):1;return typeof h=="boolean"?(t.filterData=void 0,h?1:0):v(h)?(t.filterData=h.data,_(h.visibility)):(t.filterData=void 0,_(h))}hasTreeNode(t,n=this.root){if(!t||t.length===0)return!0;const[h,...m]=t;return h<0||h>n.children.length?!1:this.hasTreeNode(m,n.children[h])}getTreeNode(t,n=this.root){if(!t||t.length===0)return n;const[h,...m]=t;if(h<0||h>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");return this.getTreeNode(m,n.children[h])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:n,listIndex:h,revealed:m,visible:u}=this.getParentNodeWithListIndex(t),d=t[t.length-1];if(d<0||d>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");const r=n.children[d];return{node:r,listIndex:h,revealed:m,visible:u&&r.visible}}getParentNodeWithListIndex(t,n=this.root,h=0,m=!0,u=!0){const[d,...r]=t;if(d<0||d>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");for(let l=0;l<d;l++)h+=n.children[l].renderNodeCount;return m=m&&!n.collapsed,u=u&&n.visible,r.length===0?{parentNode:n,listIndex:h,revealed:m,visible:u}:this.getParentNodeWithListIndex(r,n.children[d],h+1,m,u)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const n=[];let h=t;for(;h.parent;)n.push(h.parent.children.indexOf(h)),h=h.parent;return n.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,k.tail2)(t)[0]}getFirstElementChild(t){const n=this.getTreeNode(t);if(n.children.length!==0)return n.children[0].element}}e.IndexTreeModel=s}),define(ie[238],ne([1,0,237,153,54]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class L{constructor(p,w,v={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new f.IndexTreeModel(p,w,null,v),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,v.sorter&&(this.sorter={compare(_,a){return v.sorter.compare(_.element,a.element)}}),this.identityProvider=v.identityProvider}setChildren(p,w=E.Iterable.empty(),v={}){const _=this.getElementLocation(p);this._setChildren(_,this.preserveCollapseState(w),v)}_setChildren(p,w=E.Iterable.empty(),v){const _=new Set,a=new Set,s=t=>{var n;if(t.element===null)return;const h=t;if(_.add(h.element),this.nodes.set(h.element,h),this.identityProvider){const m=this.identityProvider.getId(h.element).toString();a.add(m),this.nodesByIdentity.set(m,h)}(n=v.onDidCreateNode)===null||n===void 0||n.call(v,h)},i=t=>{var n;if(t.element===null)return;const h=t;if(_.has(h.element)||this.nodes.delete(h.element),this.identityProvider){const m=this.identityProvider.getId(h.element).toString();a.has(m)||this.nodesByIdentity.delete(m)}(n=v.onDidDeleteNode)===null||n===void 0||n.call(v,h)};this.model.splice([...p,0],Number.MAX_VALUE,w,{...v,onDidCreateNode:s,onDidDeleteNode:i})}preserveCollapseState(p=E.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),E.Iterable.map(p,w=>{let v=this.nodes.get(w.element);if(!v&&this.identityProvider){const s=this.identityProvider.getId(w.element).toString();v=this.nodesByIdentity.get(s)}if(!v){let s;return typeof w.collapsed>"u"?s=void 0:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?s=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?s=!1:s=!!w.collapsed,{...w,children:this.preserveCollapseState(w.children),collapsed:s}}const _=typeof w.collapsible=="boolean"?w.collapsible:v.collapsible;let a;return typeof w.collapsed>"u"||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?a=v.collapsed:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed?a=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded?a=!1:a=!!w.collapsed,{...w,collapsible:_,collapsed:a,children:this.preserveCollapseState(w.children)}})}rerender(p){const w=this.getElementLocation(p);this.model.rerender(w)}getFirstElementChild(p=null){const w=this.getElementLocation(p);return this.model.getFirstElementChild(w)}has(p){return this.nodes.has(p)}getListIndex(p){const w=this.getElementLocation(p);return this.model.getListIndex(w)}getListRenderCount(p){const w=this.getElementLocation(p);return this.model.getListRenderCount(w)}isCollapsible(p){const w=this.getElementLocation(p);return this.model.isCollapsible(w)}setCollapsible(p,w){const v=this.getElementLocation(p);return this.model.setCollapsible(v,w)}isCollapsed(p){const w=this.getElementLocation(p);return this.model.isCollapsed(w)}setCollapsed(p,w,v){const _=this.getElementLocation(p);return this.model.setCollapsed(_,w,v)}expandTo(p){const w=this.getElementLocation(p);this.model.expandTo(w)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return w}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);const v=this.model.getNodeLocation(w),_=this.model.getParentNodeLocation(v);return this.model.getNode(_).element}getElementLocation(p){if(p===null)return[];const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(w)}}e.ObjectTreeModel=L}),define(ie[611],ne([1,0,238,153,13,7,54]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=void 0,e.compress=w,e.decompress=_;function p(d){const r=[d.element],l=d.incompressible||!1;return{element:{elements:r,incompressible:l},children:y.Iterable.map(y.Iterable.from(d.children),p),collapsible:d.collapsible,collapsed:d.collapsed}}function w(d){const r=[d.element],l=d.incompressible||!1;let o,g;for(;[g,o]=y.Iterable.consume(y.Iterable.from(d.children),2),!(g.length!==1||g[0].incompressible);)d=g[0],r.push(d.element);return{element:{elements:r,incompressible:l},children:y.Iterable.map(y.Iterable.concat(g,o),w),collapsible:d.collapsible,collapsed:d.collapsed}}function v(d,r=0){let l;return r<d.element.elements.length-1?l=[v(d,r+1)]:l=y.Iterable.map(y.Iterable.from(d.children),o=>v(o,0)),r===0&&d.element.incompressible?{element:d.element.elements[r],children:l,incompressible:!0,collapsible:d.collapsible,collapsed:d.collapsed}:{element:d.element.elements[r],children:l,collapsible:d.collapsible,collapsed:d.collapsed}}function _(d){return v(d,0)}function a(d,r,l){return d.element===r?{...d,children:l}:{...d,children:y.Iterable.map(y.Iterable.from(d.children),o=>a(o,r,l))}}const s=d=>({getId(r){return r.elements.map(l=>d.getId(l).toString()).join("\0")}});class i{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(r,l,o={}){this.user=r,this.rootRef=null,this.nodes=new Map,this.model=new f.ObjectTreeModel(r,l,o),this.enabled=typeof o.compressionEnabled>"u"?!0:o.compressionEnabled,this.identityProvider=o.identityProvider}setChildren(r,l=y.Iterable.empty(),o){const g=o.diffIdentityProvider&&s(o.diffIdentityProvider);if(r===null){const P=y.Iterable.map(l,this.enabled?w:p);this._setChildren(null,P,{diffIdentityProvider:g,diffDepth:1/0});return}const c=this.nodes.get(r);if(!c)throw new k.TreeError(this.user,"Unknown compressed tree node");const b=this.model.getNode(c),C=this.model.getParentNodeLocation(c),S=this.model.getNode(C),D=_(b),I=a(D,r,l),T=(this.enabled?w:p)(I),N=o.diffIdentityProvider?(P,M)=>o.diffIdentityProvider.getId(P)===o.diffIdentityProvider.getId(M):void 0;if((0,E.equals)(T.element.elements,b.element.elements,N)){this._setChildren(c,T.children||y.Iterable.empty(),{diffIdentityProvider:g,diffDepth:1});return}const A=S.children.map(P=>P===b?T:P);this._setChildren(S.element,A,{diffIdentityProvider:g,diffDepth:b.depth-S.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(r){if(r===this.enabled)return;this.enabled=r;const o=this.model.getNode().children,g=y.Iterable.map(o,_),c=y.Iterable.map(g,r?w:p);this._setChildren(null,c,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(r,l,o){const g=new Set,c=C=>{for(const S of C.element.elements)g.add(S),this.nodes.set(S,C.element)},b=C=>{for(const S of C.element.elements)g.has(S)||this.nodes.delete(S)};this.model.setChildren(r,l,{...o,onDidCreateNode:c,onDidDeleteNode:b})}has(r){return this.nodes.has(r)}getListIndex(r){const l=this.getCompressedNode(r);return this.model.getListIndex(l)}getListRenderCount(r){const l=this.getCompressedNode(r);return this.model.getListRenderCount(l)}getNode(r){if(typeof r>"u")return this.model.getNode();const l=this.getCompressedNode(r);return this.model.getNode(l)}getNodeLocation(r){const l=this.model.getNodeLocation(r);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(r){const l=this.getCompressedNode(r),o=this.model.getParentNodeLocation(l);return o===null?null:o.elements[o.elements.length-1]}getFirstElementChild(r){const l=this.getCompressedNode(r);return this.model.getFirstElementChild(l)}isCollapsible(r){const l=this.getCompressedNode(r);return this.model.isCollapsible(l)}setCollapsible(r,l){const o=this.getCompressedNode(r);return this.model.setCollapsible(o,l)}isCollapsed(r){const l=this.getCompressedNode(r);return this.model.isCollapsed(l)}setCollapsed(r,l,o){const g=this.getCompressedNode(r);return this.model.setCollapsed(g,l,o)}expandTo(r){const l=this.getCompressedNode(r);this.model.expandTo(l)}rerender(r){const l=this.getCompressedNode(r);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(r){if(r===null)return null;const l=this.nodes.get(r);if(!l)throw new k.TreeError(this.user,`Tree element not found: ${r}`);return l}}e.CompressedObjectTreeModel=i;const t=d=>d[d.length-1];e.DefaultElementMapper=t;class n{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(r=>new n(this.unwrapper,r))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(r,l){this.unwrapper=r,this.node=l}}function h(d,r){return{splice(l,o,g){r.splice(l,o,g.map(c=>d.map(c)))},updateElementHeight(l,o){r.updateElementHeight(l,o)}}}function m(d,r){return{...r,identityProvider:r.identityProvider&&{getId(l){return r.identityProvider.getId(d(l))}},sorter:r.sorter&&{compare(l,o){return r.sorter.compare(l.elements[0],o.elements[0])}},filter:r.filter&&{filter(l,o){return r.filter.filter(d(l),o)}}}}class u{get onDidSplice(){return L.Event.map(this.model.onDidSplice,({insertedNodes:r,deletedNodes:l})=>({insertedNodes:r.map(o=>this.nodeMapper.map(o)),deletedNodes:l.map(o=>this.nodeMapper.map(o))}))}get onDidChangeCollapseState(){return L.Event.map(this.model.onDidChangeCollapseState,({node:r,deep:l})=>({node:this.nodeMapper.map(r),deep:l}))}get onDidChangeRenderNodeCount(){return L.Event.map(this.model.onDidChangeRenderNodeCount,r=>this.nodeMapper.map(r))}constructor(r,l,o={}){this.rootRef=null,this.elementMapper=o.elementMapper||e.DefaultElementMapper;const g=c=>this.elementMapper(c.elements);this.nodeMapper=new k.WeakMapper(c=>new n(g,c)),this.model=new i(r,h(this.nodeMapper,l),m(g,o))}setChildren(r,l=y.Iterable.empty(),o={}){this.model.setChildren(r,l,o)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(r){this.model.setCompressionEnabled(r)}has(r){return this.model.has(r)}getListIndex(r){return this.model.getListIndex(r)}getListRenderCount(r){return this.model.getListRenderCount(r)}getNode(r){return this.nodeMapper.map(this.model.getNode(r))}getNodeLocation(r){return r.element}getParentNodeLocation(r){return this.model.getParentNodeLocation(r)}getFirstElementChild(r){const l=this.model.getFirstElementChild(r);return l===null||typeof l>"u"?l:this.elementMapper(l.elements)}isCollapsible(r){return this.model.isCollapsible(r)}setCollapsible(r,l){return this.model.setCollapsible(r,l)}isCollapsed(r){return this.model.isCollapsed(r)}setCollapsed(r,l,o){return this.model.setCollapsed(r,l,o)}expandTo(r){return this.model.expandTo(r)}rerender(r){return this.model.rerender(r)}refilter(){return this.model.refilter()}getCompressedTreeNode(r=null){return this.model.getNode(r)}}e.CompressibleObjectTreeModel=u}),define(ie[332],ne([1,0,17]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;const E=globalThis.vscode;if(typeof E<"u"&&typeof E.process<"u"){const L=E.process;k={get platform(){return L.platform},get arch(){return L.arch},get env(){return L.env},cwd(){return L.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return f.isWindows?"win32":f.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(ie[612],ne([1,0,332]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHotReloadEnabled=k,e.registerHotReloadHandler=E;function k(){return f.env&&!!f.env.VSCODE_DEV}function E(p){if(k()){const w=L();return w.add(p),{dispose(){w.delete(p)}}}else return{dispose(){}}}function L(){y||(y=new Set);const p=globalThis;return p.$hotReload_applyNewExports||(p.$hotReload_applyNewExports=w=>{const v={config:{mode:void 0},...w};for(const _ of y){const a=_(v);if(a)return a}}),y}let y;k()&&E(({oldExports:p,newSrc:w,config:v})=>{if(v.mode==="patch-prototype")return _=>{var a,s;for(const i in _){const t=_[i];if(console.log(`[hot-reload] Patching prototype methods of '${i}'`,{exportedItem:t}),typeof t=="function"&&t.prototype){const n=p[i];if(n){for(const h of Object.getOwnPropertyNames(t.prototype)){const m=Object.getOwnPropertyDescriptor(t.prototype,h),u=Object.getOwnPropertyDescriptor(n.prototype,h);((a=m?.value)===null||a===void 0?void 0:a.toString())!==((s=u?.value)===null||s===void 0?void 0:s.toString())&&console.log(`[hot-reload] Patching prototype method '${i}.${h}'`),Object.defineProperty(n.prototype,h,m)}_[i]=n}}}return!0}})}),define(ie[97],ne([1,0,332]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,E=97,L=90,y=122,p=46,w=47,v=92,_=58,a=63;class s extends Error{constructor(g,c,b){let C;typeof c=="string"&&c.indexOf("not ")===0?(C="must not be",c=c.replace(/^not /,"")):C="must be";const S=g.indexOf(".")!==-1?"property":"argument";let D=`The "${g}" ${S} ${C} of type ${c}`;D+=`. Received type ${typeof b}`,super(D),this.code="ERR_INVALID_ARG_TYPE"}}function i(o,g){if(o===null||typeof o!="object")throw new s(g,"Object",o)}function t(o,g){if(typeof o!="string")throw new s(g,"string",o)}const n=f.platform==="win32";function h(o){return o===w||o===v}function m(o){return o===w}function u(o){return o>=k&&o<=L||o>=E&&o<=y}function d(o,g,c,b){let C="",S=0,D=-1,I=0,T=0;for(let N=0;N<=o.length;++N){if(N<o.length)T=o.charCodeAt(N);else{if(b(T))break;T=w}if(b(T)){if(!(D===N-1||I===1))if(I===2){if(C.length<2||S!==2||C.charCodeAt(C.length-1)!==p||C.charCodeAt(C.length-2)!==p){if(C.length>2){const A=C.lastIndexOf(c);A===-1?(C="",S=0):(C=C.slice(0,A),S=C.length-1-C.lastIndexOf(c)),D=N,I=0;continue}else if(C.length!==0){C="",S=0,D=N,I=0;continue}}g&&(C+=C.length>0?`${c}..`:"..",S=2)}else C.length>0?C+=`${c}${o.slice(D+1,N)}`:C=o.slice(D+1,N),S=N-D-1;D=N,I=0}else T===p&&I!==-1?++I:I=-1}return C}function r(o,g){i(g,"pathObject");const c=g.dir||g.root,b=g.base||`${g.name||""}${g.ext||""}`;return c?c===g.root?`${c}${b}`:`${c}${o}${b}`:b}e.win32={resolve(...o){let g="",c="",b=!1;for(let C=o.length-1;C>=-1;C--){let S;if(C>=0){if(S=o[C],t(S,"path"),S.length===0)continue}else g.length===0?S=f.cwd():(S=f.env[`=${g}`]||f.cwd(),(S===void 0||S.slice(0,2).toLowerCase()!==g.toLowerCase()&&S.charCodeAt(2)===v)&&(S=`${g}\\`));const D=S.length;let I=0,T="",N=!1;const A=S.charCodeAt(0);if(D===1)h(A)&&(I=1,N=!0);else if(h(A))if(N=!0,h(S.charCodeAt(1))){let P=2,M=P;for(;P<D&&!h(S.charCodeAt(P));)P++;if(P<D&&P!==M){const R=S.slice(M,P);for(M=P;P<D&&h(S.charCodeAt(P));)P++;if(P<D&&P!==M){for(M=P;P<D&&!h(S.charCodeAt(P));)P++;(P===D||P!==M)&&(T=`\\\\${R}\\${S.slice(M,P)}`,I=P)}}}else I=1;else u(A)&&S.charCodeAt(1)===_&&(T=S.slice(0,2),I=2,D>2&&h(S.charCodeAt(2))&&(N=!0,I=3));if(T.length>0)if(g.length>0){if(T.toLowerCase()!==g.toLowerCase())continue}else g=T;if(b){if(g.length>0)break}else if(c=`${S.slice(I)}\\${c}`,b=N,N&&g.length>0)break}return c=d(c,!b,"\\",h),b?`${g}\\${c}`:`${g}${c}`||"."},normalize(o){t(o,"path");const g=o.length;if(g===0)return".";let c=0,b,C=!1;const S=o.charCodeAt(0);if(g===1)return m(S)?"\\":o;if(h(S))if(C=!0,h(o.charCodeAt(1))){let I=2,T=I;for(;I<g&&!h(o.charCodeAt(I));)I++;if(I<g&&I!==T){const N=o.slice(T,I);for(T=I;I<g&&h(o.charCodeAt(I));)I++;if(I<g&&I!==T){for(T=I;I<g&&!h(o.charCodeAt(I));)I++;if(I===g)return`\\\\${N}\\${o.slice(T)}\\`;I!==T&&(b=`\\\\${N}\\${o.slice(T,I)}`,c=I)}}}else c=1;else u(S)&&o.charCodeAt(1)===_&&(b=o.slice(0,2),c=2,g>2&&h(o.charCodeAt(2))&&(C=!0,c=3));let D=c<g?d(o.slice(c),!C,"\\",h):"";return D.length===0&&!C&&(D="."),D.length>0&&h(o.charCodeAt(g-1))&&(D+="\\"),b===void 0?C?`\\${D}`:D:C?`${b}\\${D}`:`${b}${D}`},isAbsolute(o){t(o,"path");const g=o.length;if(g===0)return!1;const c=o.charCodeAt(0);return h(c)||g>2&&u(c)&&o.charCodeAt(1)===_&&h(o.charCodeAt(2))},join(...o){if(o.length===0)return".";let g,c;for(let S=0;S<o.length;++S){const D=o[S];t(D,"path"),D.length>0&&(g===void 0?g=c=D:g+=`\\${D}`)}if(g===void 0)return".";let b=!0,C=0;if(typeof c=="string"&&h(c.charCodeAt(0))){++C;const S=c.length;S>1&&h(c.charCodeAt(1))&&(++C,S>2&&(h(c.charCodeAt(2))?++C:b=!1))}if(b){for(;C<g.length&&h(g.charCodeAt(C));)C++;C>=2&&(g=`\\${g.slice(C)}`)}return e.win32.normalize(g)},relative(o,g){if(t(o,"from"),t(g,"to"),o===g)return"";const c=e.win32.resolve(o),b=e.win32.resolve(g);if(c===b||(o=c.toLowerCase(),g=b.toLowerCase(),o===g))return"";let C=0;for(;C<o.length&&o.charCodeAt(C)===v;)C++;let S=o.length;for(;S-1>C&&o.charCodeAt(S-1)===v;)S--;const D=S-C;let I=0;for(;I<g.length&&g.charCodeAt(I)===v;)I++;let T=g.length;for(;T-1>I&&g.charCodeAt(T-1)===v;)T--;const N=T-I,A=D<N?D:N;let P=-1,M=0;for(;M<A;M++){const F=o.charCodeAt(C+M);if(F!==g.charCodeAt(I+M))break;F===v&&(P=M)}if(M!==A){if(P===-1)return b}else{if(N>A){if(g.charCodeAt(I+M)===v)return b.slice(I+M+1);if(M===2)return b.slice(I+M)}D>A&&(o.charCodeAt(C+M)===v?P=M:M===2&&(P=3)),P===-1&&(P=0)}let R="";for(M=C+P+1;M<=S;++M)(M===S||o.charCodeAt(M)===v)&&(R+=R.length===0?"..":"\\..");return I+=P,R.length>0?`${R}${b.slice(I,T)}`:(b.charCodeAt(I)===v&&++I,b.slice(I,T))},toNamespacedPath(o){if(typeof o!="string"||o.length===0)return o;const g=e.win32.resolve(o);if(g.length<=2)return o;if(g.charCodeAt(0)===v){if(g.charCodeAt(1)===v){const c=g.charCodeAt(2);if(c!==a&&c!==p)return`\\\\?\\UNC\\${g.slice(2)}`}}else if(u(g.charCodeAt(0))&&g.charCodeAt(1)===_&&g.charCodeAt(2)===v)return`\\\\?\\${g}`;return o},dirname(o){t(o,"path");const g=o.length;if(g===0)return".";let c=-1,b=0;const C=o.charCodeAt(0);if(g===1)return h(C)?o:".";if(h(C)){if(c=b=1,h(o.charCodeAt(1))){let I=2,T=I;for(;I<g&&!h(o.charCodeAt(I));)I++;if(I<g&&I!==T){for(T=I;I<g&&h(o.charCodeAt(I));)I++;if(I<g&&I!==T){for(T=I;I<g&&!h(o.charCodeAt(I));)I++;if(I===g)return o;I!==T&&(c=b=I+1)}}}}else u(C)&&o.charCodeAt(1)===_&&(c=g>2&&h(o.charCodeAt(2))?3:2,b=c);let S=-1,D=!0;for(let I=g-1;I>=b;--I)if(h(o.charCodeAt(I))){if(!D){S=I;break}}else D=!1;if(S===-1){if(c===-1)return".";S=c}return o.slice(0,S)},basename(o,g){g!==void 0&&t(g,"ext"),t(o,"path");let c=0,b=-1,C=!0,S;if(o.length>=2&&u(o.charCodeAt(0))&&o.charCodeAt(1)===_&&(c=2),g!==void 0&&g.length>0&&g.length<=o.length){if(g===o)return"";let D=g.length-1,I=-1;for(S=o.length-1;S>=c;--S){const T=o.charCodeAt(S);if(h(T)){if(!C){c=S+1;break}}else I===-1&&(C=!1,I=S+1),D>=0&&(T===g.charCodeAt(D)?--D===-1&&(b=S):(D=-1,b=I))}return c===b?b=I:b===-1&&(b=o.length),o.slice(c,b)}for(S=o.length-1;S>=c;--S)if(h(o.charCodeAt(S))){if(!C){c=S+1;break}}else b===-1&&(C=!1,b=S+1);return b===-1?"":o.slice(c,b)},extname(o){t(o,"path");let g=0,c=-1,b=0,C=-1,S=!0,D=0;o.length>=2&&o.charCodeAt(1)===_&&u(o.charCodeAt(0))&&(g=b=2);for(let I=o.length-1;I>=g;--I){const T=o.charCodeAt(I);if(h(T)){if(!S){b=I+1;break}continue}C===-1&&(S=!1,C=I+1),T===p?c===-1?c=I:D!==1&&(D=1):c!==-1&&(D=-1)}return c===-1||C===-1||D===0||D===1&&c===C-1&&c===b+1?"":o.slice(c,C)},format:r.bind(null,"\\"),parse(o){t(o,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return g;const c=o.length;let b=0,C=o.charCodeAt(0);if(c===1)return h(C)?(g.root=g.dir=o,g):(g.base=g.name=o,g);if(h(C)){if(b=1,h(o.charCodeAt(1))){let P=2,M=P;for(;P<c&&!h(o.charCodeAt(P));)P++;if(P<c&&P!==M){for(M=P;P<c&&h(o.charCodeAt(P));)P++;if(P<c&&P!==M){for(M=P;P<c&&!h(o.charCodeAt(P));)P++;P===c?b=P:P!==M&&(b=P+1)}}}}else if(u(C)&&o.charCodeAt(1)===_){if(c<=2)return g.root=g.dir=o,g;if(b=2,h(o.charCodeAt(2))){if(c===3)return g.root=g.dir=o,g;b=3}}b>0&&(g.root=o.slice(0,b));let S=-1,D=b,I=-1,T=!0,N=o.length-1,A=0;for(;N>=b;--N){if(C=o.charCodeAt(N),h(C)){if(!T){D=N+1;break}continue}I===-1&&(T=!1,I=N+1),C===p?S===-1?S=N:A!==1&&(A=1):S!==-1&&(A=-1)}return I!==-1&&(S===-1||A===0||A===1&&S===I-1&&S===D+1?g.base=g.name=o.slice(D,I):(g.name=o.slice(D,S),g.base=o.slice(D,I),g.ext=o.slice(S,I))),D>0&&D!==b?g.dir=o.slice(0,D-1):g.dir=g.root,g},sep:"\\",delimiter:";",win32:null,posix:null};const l=(()=>{if(n){const o=/\\/g;return()=>{const g=f.cwd().replace(o,"/");return g.slice(g.indexOf("/"))}}return()=>f.cwd()})();e.posix={resolve(...o){let g="",c=!1;for(let b=o.length-1;b>=-1&&!c;b--){const C=b>=0?o[b]:l();t(C,"path"),C.length!==0&&(g=`${C}/${g}`,c=C.charCodeAt(0)===w)}return g=d(g,!c,"/",m),c?`/${g}`:g.length>0?g:"."},normalize(o){if(t(o,"path"),o.length===0)return".";const g=o.charCodeAt(0)===w,c=o.charCodeAt(o.length-1)===w;return o=d(o,!g,"/",m),o.length===0?g?"/":c?"./":".":(c&&(o+="/"),g?`/${o}`:o)},isAbsolute(o){return t(o,"path"),o.length>0&&o.charCodeAt(0)===w},join(...o){if(o.length===0)return".";let g;for(let c=0;c<o.length;++c){const b=o[c];t(b,"path"),b.length>0&&(g===void 0?g=b:g+=`/${b}`)}return g===void 0?".":e.posix.normalize(g)},relative(o,g){if(t(o,"from"),t(g,"to"),o===g||(o=e.posix.resolve(o),g=e.posix.resolve(g),o===g))return"";const c=1,b=o.length,C=b-c,S=1,D=g.length-S,I=C<D?C:D;let T=-1,N=0;for(;N<I;N++){const P=o.charCodeAt(c+N);if(P!==g.charCodeAt(S+N))break;P===w&&(T=N)}if(N===I)if(D>I){if(g.charCodeAt(S+N)===w)return g.slice(S+N+1);if(N===0)return g.slice(S+N)}else C>I&&(o.charCodeAt(c+N)===w?T=N:N===0&&(T=0));let A="";for(N=c+T+1;N<=b;++N)(N===b||o.charCodeAt(N)===w)&&(A+=A.length===0?"..":"/..");return`${A}${g.slice(S+T)}`},toNamespacedPath(o){return o},dirname(o){if(t(o,"path"),o.length===0)return".";const g=o.charCodeAt(0)===w;let c=-1,b=!0;for(let C=o.length-1;C>=1;--C)if(o.charCodeAt(C)===w){if(!b){c=C;break}}else b=!1;return c===-1?g?"/":".":g&&c===1?"//":o.slice(0,c)},basename(o,g){g!==void 0&&t(g,"ext"),t(o,"path");let c=0,b=-1,C=!0,S;if(g!==void 0&&g.length>0&&g.length<=o.length){if(g===o)return"";let D=g.length-1,I=-1;for(S=o.length-1;S>=0;--S){const T=o.charCodeAt(S);if(T===w){if(!C){c=S+1;break}}else I===-1&&(C=!1,I=S+1),D>=0&&(T===g.charCodeAt(D)?--D===-1&&(b=S):(D=-1,b=I))}return c===b?b=I:b===-1&&(b=o.length),o.slice(c,b)}for(S=o.length-1;S>=0;--S)if(o.charCodeAt(S)===w){if(!C){c=S+1;break}}else b===-1&&(C=!1,b=S+1);return b===-1?"":o.slice(c,b)},extname(o){t(o,"path");let g=-1,c=0,b=-1,C=!0,S=0;for(let D=o.length-1;D>=0;--D){const I=o.charCodeAt(D);if(I===w){if(!C){c=D+1;break}continue}b===-1&&(C=!1,b=D+1),I===p?g===-1?g=D:S!==1&&(S=1):g!==-1&&(S=-1)}return g===-1||b===-1||S===0||S===1&&g===b-1&&g===c+1?"":o.slice(g,b)},format:r.bind(null,"/"),parse(o){t(o,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return g;const c=o.charCodeAt(0)===w;let b;c?(g.root="/",b=1):b=0;let C=-1,S=0,D=-1,I=!0,T=o.length-1,N=0;for(;T>=b;--T){const A=o.charCodeAt(T);if(A===w){if(!I){S=T+1;break}continue}D===-1&&(I=!1,D=T+1),A===p?C===-1?C=T:N!==1&&(N=1):C!==-1&&(N=-1)}if(D!==-1){const A=S===0&&c?1:S;C===-1||N===0||N===1&&C===D-1&&C===S+1?g.base=g.name=o.slice(A,D):(g.name=o.slice(A,C),g.base=o.slice(A,D),g.ext=o.slice(C,D))}return S>0?g.dir=o.slice(0,S-1):c&&(g.dir="/"),g},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=n?e.win32.normalize:e.posix.normalize,e.resolve=n?e.win32.resolve:e.posix.resolve,e.relative=n?e.win32.relative:e.posix.relative,e.dirname=n?e.win32.dirname:e.posix.dirname,e.basename=n?e.win32.basename:e.posix.basename,e.extname=n?e.win32.extname:e.posix.extname,e.sep=n?e.win32.sep:e.posix.sep}),define(ie[239],ne([1,0,97,17,11]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSeparator=L,e.toSlashes=y,e.toPosixPath=p,e.getRoot=w,e.isEqualOrParent=v,e.isWindowsDriveLetter=_,e.hasDriveLetter=a;function L(s){return s===47||s===92}function y(s){return s.replace(/[\\/]/g,f.posix.sep)}function p(s){return s.indexOf("/")===-1&&(s=y(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}function w(s,i=f.posix.sep){if(!s)return"";const t=s.length,n=s.charCodeAt(0);if(L(n)){if(L(s.charCodeAt(1))&&!L(s.charCodeAt(2))){let m=3;const u=m;for(;m<t&&!L(s.charCodeAt(m));m++);if(u!==m&&!L(s.charCodeAt(m+1))){for(m+=1;m<t;m++)if(L(s.charCodeAt(m)))return s.slice(0,m+1).replace(/[\\/]/g,i)}}return i}else if(_(n)&&s.charCodeAt(1)===58)return L(s.charCodeAt(2))?s.slice(0,2)+i:s.slice(0,2);let h=s.indexOf("://");if(h!==-1){for(h+=3;h<t;h++)if(L(s.charCodeAt(h)))return s.slice(0,h+1)}return""}function v(s,i,t,n=f.sep){if(s===i)return!0;if(!s||!i||i.length>s.length)return!1;if(t){if(!(0,E.startsWithIgnoreCase)(s,i))return!1;if(i.length===s.length)return!0;let m=i.length;return i.charAt(i.length-1)===n&&m--,s.charAt(m)===n}return i.charAt(i.length-1)!==n&&(i+=n),s.indexOf(i)===0}function _(s){return s>=65&&s<=90||s>=97&&s<=122}function a(s,i=k.isWindows){return i?_(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}}),define(ie[613],ne([1,0,76,97,17,11]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scoreFuzzy2=p,e.prepareQuery=n,e.pieceToQuery=m;const y=[void 0,[]];function p(u,d,r=0,l=0){const o=d;return o.values&&o.values.length>1?w(u,o.values,r,l):v(u,d,r,l)}function w(u,d,r,l){let o=0;const g=[];for(const c of d){const[b,C]=v(u,c,r,l);if(typeof b!="number")return y;o+=b,g.push(...C)}return[o,a(g)]}function v(u,d,r,l){const o=(0,f.fuzzyScore)(d.original,d.originalLowercase,r,u,u.toLowerCase(),l,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return o?[o[0],(0,f.createMatches)(o)]:y}const _=Object.freeze({score:0});function a(u){const d=u.sort((o,g)=>o.start-g.start),r=[];let l;for(const o of d)!l||!s(l,o)?(l=o,r.push(o)):(l.start=Math.min(l.start,o.start),l.end=Math.max(l.end,o.end));return r}function s(u,d){return!(u.end<d.start||d.end<u.start)}function i(u){return u.startsWith('"')&&u.endsWith('"')}const t=" ";function n(u){typeof u!="string"&&(u="");const d=u.toLowerCase(),{pathNormalized:r,normalized:l,normalizedLowercase:o}=h(u),g=r.indexOf(k.sep)>=0,c=i(u);let b;const C=u.split(t);if(C.length>1)for(const S of C){const D=i(S),{pathNormalized:I,normalized:T,normalizedLowercase:N}=h(S);T&&(b||(b=[]),b.push({original:S,originalLowercase:S.toLowerCase(),pathNormalized:I,normalized:T,normalizedLowercase:N,expectContiguousMatch:D}))}return{original:u,originalLowercase:d,pathNormalized:r,normalized:l,normalizedLowercase:o,values:b,containsPathSeparator:g,expectContiguousMatch:c}}function h(u){let d;E.isWindows?d=u.replace(/\//g,k.sep):d=u.replace(/\\/g,k.sep);const r=(0,L.stripWildcards)(d).replace(/\s|"/g,"");return{pathNormalized:d,normalized:r,normalizedLowercase:r.toLowerCase()}}function m(u){return Array.isArray(u)?n(u.map(d=>d.original).join(t)):n(u.original)}}),define(ie[333],ne([1,0,15,239,47,97,17,11]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.splitGlobAware=s,e.match=N,e.parse=A,e.isRelativePattern=P,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const w="[/\\\\]",v="[^/\\\\]",_=/\//g;function a(O,B){switch(O){case 0:return"";case 1:return`${v}*?`;default:return`(?:${w}|${v}+${w}${B?`|${w}${v}+`:""})*?`}}function s(O,B){if(!O)return[];const H=[];let V=!1,q=!1,z="";for(const U of O){switch(U){case B:if(!V&&!q){H.push(z),z="";continue}break;case"{":V=!0;break;case"}":V=!1;break;case"[":q=!0;break;case"]":q=!1;break}z+=U}return z&&H.push(z),H}function i(O){if(!O)return"";let B="";const H=s(O,e.GLOB_SPLIT);if(H.every(V=>V===e.GLOBSTAR))B=".*";else{let V=!1;H.forEach((q,z)=>{if(q===e.GLOBSTAR){if(V)return;B+=a(2,z===H.length-1)}else{let U=!1,Z="",re=!1,x="";for(const Q of q){if(Q!=="}"&&U){Z+=Q;continue}if(re&&(Q!=="]"||!x)){let X;Q==="-"?X=Q:(Q==="^"||Q==="!")&&!x?X="^":Q===e.GLOB_SPLIT?X="":X=(0,p.escapeRegExpCharacters)(Q),x+=X;continue}switch(Q){case"{":U=!0;continue;case"[":re=!0;continue;case"}":{const Y=`(?:${s(Z,",").map(ae=>i(ae)).join("|")})`;B+=Y,U=!1,Z="";break}case"]":{B+="["+x+"]",re=!1,x="";break}case"?":B+=v;continue;case"*":B+=a(1);continue;default:B+=(0,p.escapeRegExpCharacters)(Q)}}z<H.length-1&&(H[z+1]!==e.GLOBSTAR||z+2<H.length)&&(B+=w)}V=q===e.GLOBSTAR})}return B}const t=/^\*\*\/\*\.[\w\.-]+$/,n=/^\*\*\/([\w\.-]+)\/?$/,h=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,m=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,u=/^\*\*((\/[\w\.-]+)+)\/?$/,d=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,r=new E.LRUCache(1e4),l=function(){return!1},o=function(){return null};function g(O,B){if(!O)return o;let H;typeof O!="string"?H=O.pattern:H=O,H=H.trim();const V=`${H}_${!!B.trimForExclusions}`;let q=r.get(V);if(q)return c(q,O);let z;return t.test(H)?q=C(H.substr(4),H):(z=n.exec(b(H,B)))?q=S(z[1],H):(B.trimForExclusions?m:h).test(H)?q=D(H,B):(z=u.exec(b(H,B)))?q=I(z[1].substr(1),H,!0):(z=d.exec(b(H,B)))?q=I(z[1],H,!1):q=T(H),r.set(V,q),c(q,O)}function c(O,B){if(typeof B=="string")return O;const H=function(V,q){return(0,k.isEqualOrParent)(V,B.base,!y.isLinux)?O((0,p.ltrim)(V.substr(B.base.length),L.sep),q):null};return H.allBasenames=O.allBasenames,H.allPaths=O.allPaths,H.basenames=O.basenames,H.patterns=O.patterns,H}function b(O,B){return B.trimForExclusions&&O.endsWith("/**")?O.substr(0,O.length-2):O}function C(O,B){return function(H,V){return typeof H=="string"&&H.endsWith(O)?B:null}}function S(O,B){const H=`/${O}`,V=`\\${O}`,q=function(U,Z){return typeof U!="string"?null:Z?Z===O?B:null:U===O||U.endsWith(H)||U.endsWith(V)?B:null},z=[O];return q.basenames=z,q.patterns=[B],q.allBasenames=z,q}function D(O,B){const H=F(O.slice(1,-1).split(",").map(Z=>g(Z,B)).filter(Z=>Z!==o),O),V=H.length;if(!V)return o;if(V===1)return H[0];const q=function(Z,re){for(let x=0,Q=H.length;x<Q;x++)if(H[x](Z,re))return O;return null},z=H.find(Z=>!!Z.allBasenames);z&&(q.allBasenames=z.allBasenames);const U=H.reduce((Z,re)=>re.allPaths?Z.concat(re.allPaths):Z,[]);return U.length&&(q.allPaths=U),q}function I(O,B,H){const V=L.sep===L.posix.sep,q=V?O:O.replace(_,L.sep),z=L.sep+q,U=L.posix.sep+O;let Z;return H?Z=function(re,x){return typeof re=="string"&&(re===q||re.endsWith(z)||!V&&(re===O||re.endsWith(U)))?B:null}:Z=function(re,x){return typeof re=="string"&&(re===q||!V&&re===O)?B:null},Z.allPaths=[(H?"*/":"./")+O],Z}function T(O){try{const B=new RegExp(`^${i(O)}$`);return function(H){return B.lastIndex=0,typeof H=="string"&&B.test(H)?O:null}}catch{return o}}function N(O,B,H){return!O||typeof B!="string"?!1:A(O)(B,void 0,H)}function A(O,B={}){if(!O)return l;if(typeof O=="string"||P(O)){const H=g(O,B);if(H===o)return l;const V=function(q,z){return!!H(q,z)};return H.allBasenames&&(V.allBasenames=H.allBasenames),H.allPaths&&(V.allPaths=H.allPaths),V}return M(O,B)}function P(O){const B=O;return B?typeof B.base=="string"&&typeof B.pattern=="string":!1}function M(O,B){const H=F(Object.getOwnPropertyNames(O).map(Z=>R(Z,O[Z],B)).filter(Z=>Z!==o)),V=H.length;if(!V)return o;if(!H.some(Z=>!!Z.requiresSiblings)){if(V===1)return H[0];const Z=function(Q,X){let Y;for(let ae=0,ce=H.length;ae<ce;ae++){const he=H[ae](Q,X);if(typeof he=="string")return he;(0,f.isThenable)(he)&&(Y||(Y=[]),Y.push(he))}return Y?(async()=>{for(const ae of Y){const ce=await ae;if(typeof ce=="string")return ce}return null})():null},re=H.find(Q=>!!Q.allBasenames);re&&(Z.allBasenames=re.allBasenames);const x=H.reduce((Q,X)=>X.allPaths?Q.concat(X.allPaths):Q,[]);return x.length&&(Z.allPaths=x),Z}const q=function(Z,re,x){let Q,X;for(let Y=0,ae=H.length;Y<ae;Y++){const ce=H[Y];ce.requiresSiblings&&x&&(re||(re=(0,L.basename)(Z)),Q||(Q=re.substr(0,re.length-(0,L.extname)(Z).length)));const he=ce(Z,re,Q,x);if(typeof he=="string")return he;(0,f.isThenable)(he)&&(X||(X=[]),X.push(he))}return X?(async()=>{for(const Y of X){const ae=await Y;if(typeof ae=="string")return ae}return null})():null},z=H.find(Z=>!!Z.allBasenames);z&&(q.allBasenames=z.allBasenames);const U=H.reduce((Z,re)=>re.allPaths?Z.concat(re.allPaths):Z,[]);return U.length&&(q.allPaths=U),q}function R(O,B,H){if(B===!1)return o;const V=g(O,H);if(V===o)return o;if(typeof B=="boolean")return V;if(B){const q=B.when;if(typeof q=="string"){const z=(U,Z,re,x)=>{if(!x||!V(U,Z))return null;const Q=q.replace("$(basename)",()=>re),X=x(Q);return(0,f.isThenable)(X)?X.then(Y=>Y?O:null):X?O:null};return z.requiresSiblings=!0,z}}return V}function F(O,B){const H=O.filter(Z=>!!Z.basenames);if(H.length<2)return O;const V=H.reduce((Z,re)=>{const x=re.basenames;return x?Z.concat(x):Z},[]);let q;if(B){q=[];for(let Z=0,re=V.length;Z<re;Z++)q.push(B)}else q=H.reduce((Z,re)=>{const x=re.patterns;return x?Z.concat(x):Z},[]);const z=function(Z,re){if(typeof Z!="string")return null;if(!re){let Q;for(Q=Z.length;Q>0;Q--){const X=Z.charCodeAt(Q-1);if(X===47||X===92)break}re=Z.substr(Q)}const x=V.indexOf(re);return x!==-1?q[x]:null};z.basenames=V,z.patterns=q,z.allBasenames=V;const U=O.filter(Z=>!Z.basenames);return U.push(z),U}}),define(ie[614],ne([1,0,239,17]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=E;function E(y,p=k.isWindows){return(0,f.hasDriveLetter)(y,p)?y.charAt(0).toUpperCase()+y.slice(1):y}let L=Object.create(null)}),define(ie[22],ne([1,0,97,17]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URI=void 0,e.uriToFsPath=d;const E=/^\w[\w\d+.-]*$/,L=/^\//,y=/^\/\//;function p(c,b){if(!c.scheme&&b)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${c.authority}", path: "${c.path}", query: "${c.query}", fragment: "${c.fragment}"}`);if(c.scheme&&!E.test(c.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(c.path){if(c.authority){if(!L.test(c.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(c.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function w(c,b){return!c&&!b?"file":c}function v(c,b){switch(c){case"https":case"http":case"file":b?b[0]!==a&&(b=a+b):b=a;break}return b}const _="",a="/",s=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class i{static isUri(b){return b instanceof i?!0:b?typeof b.authority=="string"&&typeof b.fragment=="string"&&typeof b.path=="string"&&typeof b.query=="string"&&typeof b.scheme=="string"&&typeof b.fsPath=="string"&&typeof b.with=="function"&&typeof b.toString=="function":!1}constructor(b,C,S,D,I,T=!1){typeof b=="object"?(this.scheme=b.scheme||_,this.authority=b.authority||_,this.path=b.path||_,this.query=b.query||_,this.fragment=b.fragment||_):(this.scheme=w(b,T),this.authority=C||_,this.path=v(this.scheme,S||_),this.query=D||_,this.fragment=I||_,p(this,T))}get fsPath(){return d(this,!1)}with(b){if(!b)return this;let{scheme:C,authority:S,path:D,query:I,fragment:T}=b;return C===void 0?C=this.scheme:C===null&&(C=_),S===void 0?S=this.authority:S===null&&(S=_),D===void 0?D=this.path:D===null&&(D=_),I===void 0?I=this.query:I===null&&(I=_),T===void 0?T=this.fragment:T===null&&(T=_),C===this.scheme&&S===this.authority&&D===this.path&&I===this.query&&T===this.fragment?this:new n(C,S,D,I,T)}static parse(b,C=!1){const S=s.exec(b);return S?new n(S[2]||_,g(S[4]||_),g(S[5]||_),g(S[7]||_),g(S[9]||_),C):new n(_,_,_,_,_)}static file(b){let C=_;if(k.isWindows&&(b=b.replace(/\\/g,a)),b[0]===a&&b[1]===a){const S=b.indexOf(a,2);S===-1?(C=b.substring(2),b=a):(C=b.substring(2,S),b=b.substring(S)||a)}return new n("file",C,b,_,_)}static from(b,C){return new n(b.scheme,b.authority,b.path,b.query,b.fragment,C)}static joinPath(b,...C){if(!b.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let S;return k.isWindows&&b.scheme==="file"?S=i.file(f.win32.join(d(b,!0),...C)).path:S=f.posix.join(b.path,...C),b.with({path:S})}toString(b=!1){return r(this,b)}toJSON(){return this}static revive(b){var C,S;if(b){if(b instanceof i)return b;{const D=new n(b);return D._formatted=(C=b.external)!==null&&C!==void 0?C:null,D._fsPath=b._sep===t&&(S=b.fsPath)!==null&&S!==void 0?S:null,D}}else return b}}e.URI=i;const t=k.isWindows?1:void 0;class n extends i{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=d(this,!1)),this._fsPath}toString(b=!1){return b?r(this,!0):(this._formatted||(this._formatted=r(this,!1)),this._formatted)}toJSON(){const b={$mid:1};return this._fsPath&&(b.fsPath=this._fsPath,b._sep=t),this._formatted&&(b.external=this._formatted),this.path&&(b.path=this.path),this.scheme&&(b.scheme=this.scheme),this.authority&&(b.authority=this.authority),this.query&&(b.query=this.query),this.fragment&&(b.fragment=this.fragment),b}}const h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(c,b,C){let S,D=-1;for(let I=0;I<c.length;I++){const T=c.charCodeAt(I);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||b&&T===47||C&&T===91||C&&T===93||C&&T===58)D!==-1&&(S+=encodeURIComponent(c.substring(D,I)),D=-1),S!==void 0&&(S+=c.charAt(I));else{S===void 0&&(S=c.substr(0,I));const N=h[T];N!==void 0?(D!==-1&&(S+=encodeURIComponent(c.substring(D,I)),D=-1),S+=N):D===-1&&(D=I)}}return D!==-1&&(S+=encodeURIComponent(c.substring(D))),S!==void 0?S:c}function u(c){let b;for(let C=0;C<c.length;C++){const S=c.charCodeAt(C);S===35||S===63?(b===void 0&&(b=c.substr(0,C)),b+=h[S]):b!==void 0&&(b+=c[C])}return b!==void 0?b:c}function d(c,b){let C;return c.authority&&c.path.length>1&&c.scheme==="file"?C=`//${c.authority}${c.path}`:c.path.charCodeAt(0)===47&&(c.path.charCodeAt(1)>=65&&c.path.charCodeAt(1)<=90||c.path.charCodeAt(1)>=97&&c.path.charCodeAt(1)<=122)&&c.path.charCodeAt(2)===58?b?C=c.path.substr(1):C=c.path[1].toLowerCase()+c.path.substr(2):C=c.path,k.isWindows&&(C=C.replace(/\//g,"\\")),C}function r(c,b){const C=b?u:m;let S="",{scheme:D,authority:I,path:T,query:N,fragment:A}=c;if(D&&(S+=D,S+=":"),(I||D==="file")&&(S+=a,S+=a),I){let P=I.indexOf("@");if(P!==-1){const M=I.substr(0,P);I=I.substr(P+1),P=M.lastIndexOf(":"),P===-1?S+=C(M,!1,!1):(S+=C(M.substr(0,P),!1,!1),S+=":",S+=C(M.substr(P+1),!1,!0)),S+="@"}I=I.toLowerCase(),P=I.lastIndexOf(":"),P===-1?S+=C(I,!1,!0):(S+=C(I.substr(0,P),!1,!0),S+=I.substr(P))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const P=T.charCodeAt(1);P>=65&&P<=90&&(T=`/${String.fromCharCode(P+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const P=T.charCodeAt(0);P>=65&&P<=90&&(T=`${String.fromCharCode(P+32)}:${T.substr(2)}`)}S+=C(T,!0,!1)}return N&&(S+="?",S+=C(N,!1,!1)),A&&(S+="#",S+=b?A:m(A,!1,!1)),S}function l(c){try{return decodeURIComponent(c)}catch{return c.length>3?c.substr(0,3)+l(c.substr(3)):c}}const o=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function g(c){return c.match(o)?c.replace(o,b=>l(b)):c}}),define(ie[240],ne([1,0,154,22]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=E,e.parse=L,e.revive=p;function E(w){return JSON.stringify(w,y)}function L(w){let v=JSON.parse(w);return v=p(v),v}function y(w,v){return v instanceof RegExp?{$mid:2,source:v.source,flags:v.flags}:v}function p(w,v=0){if(!w||v>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return k.URI.revive(w);case 2:return new RegExp(w.source,w.flags);case 17:return new Date(w.source)}if(w instanceof f.VSBuffer||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let _=0;_<w.length;++_)w[_]=p(w[_],v+1);else for(const _ in w)Object.hasOwnProperty.call(w,_)&&(w[_]=p(w[_],v+1))}return w}}),define(ie[49],ne([1,0,12,17,11,22,97]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.VSCODE_AUTHORITY=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0,e.matchesScheme=w,e.matchesSomeScheme=v;var p;(function(i){i.inMemory="inmemory",i.vscode="vscode",i.internal="private",i.walkThrough="walkThrough",i.walkThroughSnippet="walkThroughSnippet",i.http="http",i.https="https",i.file="file",i.mailto="mailto",i.untitled="untitled",i.data="data",i.command="command",i.vscodeRemote="vscode-remote",i.vscodeRemoteResource="vscode-remote-resource",i.vscodeManagedRemoteResource="vscode-managed-remote-resource",i.vscodeUserData="vscode-userdata",i.vscodeCustomEditor="vscode-custom-editor",i.vscodeNotebookCell="vscode-notebook-cell",i.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",i.vscodeNotebookCellOutput="vscode-notebook-cell-output",i.vscodeInteractiveInput="vscode-interactive-input",i.vscodeSettings="vscode-settings",i.vscodeWorkspaceTrust="vscode-workspace-trust",i.vscodeTerminal="vscode-terminal",i.vscodeChatCodeBlock="vscode-chat-code-block",i.vscodeChatSesssion="vscode-chat-editor",i.webviewPanel="webview-panel",i.vscodeWebview="vscode-webview",i.extension="extension",i.vscodeFileResource="vscode-file",i.tmp="tmp",i.vsls="vsls",i.vscodeSourceControl="vscode-scm",i.codeSetting="code-setting"})(p||(e.Schemas=p={}));function w(i,t){return L.URI.isUri(i)?(0,E.equalsIgnoreCase)(i.scheme,t):(0,E.startsWithIgnoreCase)(i,t+":")}function v(i,...t){return t.some(n=>w(i,n))}e.connectionTokenQueryName="tkn";class _{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(t){this._preferredWebSchema=t}get _remoteResourcesPath(){return y.posix.join(this._serverRootPath,p.vscodeRemoteResource)}rewrite(t){if(this._delegate)try{return this._delegate(t)}catch(r){return f.onUnexpectedError(r),t}const n=t.authority;let h=this._hosts[n];h&&h.indexOf(":")!==-1&&h.indexOf("[")===-1&&(h=`[${h}]`);const m=this._ports[n],u=this._connectionTokens[n];let d=`path=${encodeURIComponent(t.path)}`;return typeof u=="string"&&(d+=`&${e.connectionTokenQueryName}=${encodeURIComponent(u)}`),L.URI.from({scheme:k.isWeb?this._preferredWebSchema:p.vscodeRemoteResource,authority:`${h}:${m}`,path:this._remoteResourcesPath,query:d})}}e.RemoteAuthorities=new _,e.VSCODE_AUTHORITY="vscode-app";class a{uriToBrowserUri(t){return t.scheme===p.vscodeRemote?e.RemoteAuthorities.rewrite(t):t.scheme===p.file&&(k.isNative||k.webWorkerOrigin===`${p.vscodeFileResource}://${a.FALLBACK_AUTHORITY}`)?t.with({scheme:p.vscodeFileResource,authority:t.authority||a.FALLBACK_AUTHORITY,query:null,fragment:null}):t}}a.FALLBACK_AUTHORITY=e.VSCODE_AUTHORITY,e.FileAccess=new a;var s;(function(i){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);i.CoopAndCoep=Object.freeze(t.get("3"));const n="vscode-coi";function h(u){let d;typeof u=="string"?d=new URL(u).searchParams:u instanceof URL?d=u.searchParams:L.URI.isUri(u)&&(d=new URL(u.toString(!0)).searchParams);const r=d?.get(n);if(r)return t.get(r)}i.getHeadersFromQuery=h;function m(u,d,r){if(!globalThis.crossOriginIsolated)return;const l=d&&r?"3":r?"2":"1";u instanceof URLSearchParams?u.set(n,l):u[n]=l}i.addSearchParam=m})(s||(e.COI=s={}))}),define(ie[6],ne([1,0,62,236,48,73,15,12,7,334,2,49,17,121,52]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.Namespace=e.EventHelper=e.EventType=e.sharedMutationObserver=e.Dimension=e.WindowIntervalTimer=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.WindowIdleValue=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.onDidUnregisterWindow=e.onWillUnregisterWindow=e.onDidRegisterWindow=e.hasWindow=e.getWindowById=e.getWindowId=e.getWindowsCount=e.getWindows=e.getDocument=e.getWindow=e.registerWindow=void 0,e.clearNode=h,e.addDisposableListener=u,e.addDisposableGenericMouseDownListener=c,e.addDisposableGenericMouseUpListener=b,e.runWhenWindowIdle=C,e.getComputedStyle=T,e.getClientArea=N,e.getTopLeftOffset=M,e.size=R,e.getDomNodePagePosition=F,e.getDomNodeZoomLevel=O,e.getTotalWidth=B,e.getContentWidth=H,e.getContentHeight=V,e.getTotalHeight=q,e.isAncestor=z,e.findParentWithClass=U,e.hasParentWithClass=Z,e.isShadowRoot=re,e.isInShadowDOM=x,e.getShadowRoot=Q,e.getActiveElement=X,e.isActiveElement=Y,e.isAncestorOfActiveElement=ae,e.getActiveDocument=ce,e.getActiveWindow=he,e.createStyleSheet2=fe,e.createStyleSheet=te,e.createCSSRule=G,e.removeCSSRulesContainingSelector=ee,e.isMouseEvent=de,e.isKeyboardEvent=le,e.isEventLike=ge,e.saveParentsScrollTop=ve,e.restoreParentsScrollTop=Ce,e.trackFocus=be,e.after=ke,e.append=Ee,e.prepend=Ae,e.reset=Pe,e.$=Ne,e.setVisibility=me,e.show=_e,e.hide=Re,e.computeScreenAwareSize=We,e.windowOpenNoOpener=qe,e.animate=je,e.asCSSUrl=Ze,e.asCSSPropertyValue=Je,e.asCssValueWithDefault=st,e.hookDomPurifyHrefAndSrcSanitizer=rt,e.h=_t,n=function(){const ye=new Map;(0,t.ensureCodeWindow)(t.mainWindow,1);const we={window:t.mainWindow,disposables:new _.DisposableStore};ye.set(t.mainWindow.vscodeWindowId,we);const Me=new w.Emitter,Te=new w.Emitter,Le=new w.Emitter;function Fe(Oe,ze){const Ue=typeof Oe=="number"?ye.get(Oe):void 0;return Ue??(ze?we:void 0)}return{onDidRegisterWindow:Me.event,onWillUnregisterWindow:Le.event,onDidUnregisterWindow:Te.event,registerWindow(Oe){if(ye.has(Oe.vscodeWindowId))return _.Disposable.None;const ze=new _.DisposableStore,Ue={window:Oe,disposables:ze.add(new _.DisposableStore)};return ye.set(Oe.vscodeWindowId,Ue),ze.add((0,_.toDisposable)(()=>{ye.delete(Oe.vscodeWindowId),Te.fire(Oe)})),ze.add(u(Oe,e.EventType.BEFORE_UNLOAD,()=>{Le.fire(Oe)})),Me.fire(Ue),ze},getWindows(){return ye.values()},getWindowsCount(){return ye.size},getWindowId(Oe){return Oe.vscodeWindowId},hasWindow(Oe){return ye.has(Oe)},getWindowById:Fe,getWindow(Oe){var ze;const Ue=Oe;if(!((ze=Ue?.ownerDocument)===null||ze===void 0)&&ze.defaultView)return Ue.ownerDocument.defaultView.window;const $e=Oe;return $e?.view?$e.view.window:t.mainWindow},getDocument(Oe){const ze=Oe;return(0,e.getWindow)(ze).document}}}(),e.registerWindow=n.registerWindow,e.getWindow=n.getWindow,e.getDocument=n.getDocument,e.getWindows=n.getWindows,e.getWindowsCount=n.getWindowsCount,e.getWindowId=n.getWindowId,e.getWindowById=n.getWindowById,e.hasWindow=n.hasWindow,e.onDidRegisterWindow=n.onDidRegisterWindow,e.onWillUnregisterWindow=n.onWillUnregisterWindow,e.onDidUnregisterWindow=n.onDidUnregisterWindow;function h(ye){for(;ye.firstChild;)ye.firstChild.remove()}class m{constructor(we,Me,Te,Le){this._node=we,this._type=Me,this._handler=Te,this._options=Le||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function u(ye,we,Me,Te){return new m(ye,we,Me,Te)}function d(ye,we){return function(Me){return we(new L.StandardMouseEvent(ye,Me))}}function r(ye){return function(we){return ye(new E.StandardKeyboardEvent(we))}}const l=function(we,Me,Te,Le){let Fe=Te;return Me==="click"||Me==="mousedown"?Fe=d((0,e.getWindow)(we),Te):(Me==="keydown"||Me==="keypress"||Me==="keyup")&&(Fe=r(Te)),u(we,Me,Fe,Le)};e.addStandardDisposableListener=l;const o=function(we,Me,Te){const Le=d((0,e.getWindow)(we),Me);return c(we,Le,Te)};e.addStandardDisposableGenericMouseDownListener=o;const g=function(we,Me,Te){const Le=d((0,e.getWindow)(we),Me);return b(we,Le,Te)};e.addStandardDisposableGenericMouseUpListener=g;function c(ye,we,Me){return u(ye,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,we,Me)}function b(ye,we,Me){return u(ye,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,we,Me)}function C(ye,we,Me){return(0,y._runWhenIdle)(ye,we,Me)}class S extends y.AbstractIdleValue{constructor(we,Me){super(we,Me)}}e.WindowIdleValue=S;class D extends y.IntervalTimer{constructor(we){super(),this.defaultTarget=we&&(0,e.getWindow)(we)}cancelAndSet(we,Me,Te){return super.cancelAndSet(we,Me,Te??this.defaultTarget)}}e.WindowIntervalTimer=D;class I{constructor(we,Me=0){this._runner=we,this.priority=Me,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(we){(0,p.onUnexpectedError)(we)}}static sort(we,Me){return Me.priority-we.priority}}(function(){const ye=new Map,we=new Map,Me=new Map,Te=new Map,Le=Fe=>{var Oe;Me.set(Fe,!1);const ze=(Oe=ye.get(Fe))!==null&&Oe!==void 0?Oe:[];for(we.set(Fe,ze),ye.set(Fe,[]),Te.set(Fe,!0);ze.length>0;)ze.sort(I.sort),ze.shift().execute();Te.set(Fe,!1)};e.scheduleAtNextAnimationFrame=(Fe,Oe,ze=0)=>{const Ue=(0,e.getWindowId)(Fe),$e=new I(Oe,ze);let Qe=ye.get(Ue);return Qe||(Qe=[],ye.set(Ue,Qe)),Qe.push($e),Me.get(Ue)||(Me.set(Ue,!0),Fe.requestAnimationFrame(()=>Le(Ue))),$e},e.runAtThisOrScheduleAtNextAnimationFrame=(Fe,Oe,ze)=>{const Ue=(0,e.getWindowId)(Fe);if(Te.get(Ue)){const $e=new I(Oe,ze);let Qe=we.get(Ue);return Qe||(Qe=[],we.set(Ue,Qe)),Qe.push($e),$e}else return(0,e.scheduleAtNextAnimationFrame)(Fe,Oe,ze)}})();function T(ye){return(0,e.getWindow)(ye).getComputedStyle(ye,null)}function N(ye,we){const Me=(0,e.getWindow)(ye),Te=Me.document;if(ye!==Te.body)return new P(ye.clientWidth,ye.clientHeight);if(s.isIOS&&Me?.visualViewport)return new P(Me.visualViewport.width,Me.visualViewport.height);if(Me?.innerWidth&&Me.innerHeight)return new P(Me.innerWidth,Me.innerHeight);if(Te.body&&Te.body.clientWidth&&Te.body.clientHeight)return new P(Te.body.clientWidth,Te.body.clientHeight);if(Te.documentElement&&Te.documentElement.clientWidth&&Te.documentElement.clientHeight)return new P(Te.documentElement.clientWidth,Te.documentElement.clientHeight);if(we)return N(we);throw new Error("Unable to figure out browser width and height")}class A{static convertToPixels(we,Me){return parseFloat(Me)||0}static getDimension(we,Me,Te){const Le=T(we),Fe=Le?Le.getPropertyValue(Me):"0";return A.convertToPixels(we,Fe)}static getBorderLeftWidth(we){return A.getDimension(we,"border-left-width","borderLeftWidth")}static getBorderRightWidth(we){return A.getDimension(we,"border-right-width","borderRightWidth")}static getBorderTopWidth(we){return A.getDimension(we,"border-top-width","borderTopWidth")}static getBorderBottomWidth(we){return A.getDimension(we,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(we){return A.getDimension(we,"padding-left","paddingLeft")}static getPaddingRight(we){return A.getDimension(we,"padding-right","paddingRight")}static getPaddingTop(we){return A.getDimension(we,"padding-top","paddingTop")}static getPaddingBottom(we){return A.getDimension(we,"padding-bottom","paddingBottom")}static getMarginLeft(we){return A.getDimension(we,"margin-left","marginLeft")}static getMarginTop(we){return A.getDimension(we,"margin-top","marginTop")}static getMarginRight(we){return A.getDimension(we,"margin-right","marginRight")}static getMarginBottom(we){return A.getDimension(we,"margin-bottom","marginBottom")}}class P{constructor(we,Me){this.width=we,this.height=Me}with(we=this.width,Me=this.height){return we!==this.width||Me!==this.height?new P(we,Me):this}static is(we){return typeof we=="object"&&typeof we.height=="number"&&typeof we.width=="number"}static lift(we){return we instanceof P?we:new P(we.width,we.height)}static equals(we,Me){return we===Me?!0:!we||!Me?!1:we.width===Me.width&&we.height===Me.height}}e.Dimension=P,P.None=new P(0,0);function M(ye){let we=ye.offsetParent,Me=ye.offsetTop,Te=ye.offsetLeft;for(;(ye=ye.parentNode)!==null&&ye!==ye.ownerDocument.body&&ye!==ye.ownerDocument.documentElement;){Me-=ye.scrollTop;const Le=re(ye)?null:T(ye);Le&&(Te-=Le.direction!=="rtl"?ye.scrollLeft:-ye.scrollLeft),ye===we&&(Te+=A.getBorderLeftWidth(ye),Me+=A.getBorderTopWidth(ye),Me+=ye.offsetTop,Te+=ye.offsetLeft,we=ye.offsetParent)}return{left:Te,top:Me}}function R(ye,we,Me){typeof we=="number"&&(ye.style.width=`${we}px`),typeof Me=="number"&&(ye.style.height=`${Me}px`)}function F(ye){const we=ye.getBoundingClientRect(),Me=(0,e.getWindow)(ye);return{left:we.left+Me.scrollX,top:we.top+Me.scrollY,width:we.width,height:we.height}}function O(ye){let we=ye,Me=1;do{const Te=T(we).zoom;Te!=null&&Te!=="1"&&(Me*=Te),we=we.parentElement}while(we!==null&&we!==we.ownerDocument.documentElement);return Me}function B(ye){const we=A.getMarginLeft(ye)+A.getMarginRight(ye);return ye.offsetWidth+we}function H(ye){const we=A.getBorderLeftWidth(ye)+A.getBorderRightWidth(ye),Me=A.getPaddingLeft(ye)+A.getPaddingRight(ye);return ye.offsetWidth-we-Me}function V(ye){const we=A.getBorderTopWidth(ye)+A.getBorderBottomWidth(ye),Me=A.getPaddingTop(ye)+A.getPaddingBottom(ye);return ye.offsetHeight-we-Me}function q(ye){const we=A.getMarginTop(ye)+A.getMarginBottom(ye);return ye.offsetHeight+we}function z(ye,we){return!!we?.contains(ye)}function U(ye,we,Me){for(;ye&&ye.nodeType===ye.ELEMENT_NODE;){if(ye.classList.contains(we))return ye;if(Me){if(typeof Me=="string"){if(ye.classList.contains(Me))return null}else if(ye===Me)return null}ye=ye.parentNode}return null}function Z(ye,we,Me){return!!U(ye,we,Me)}function re(ye){return ye&&!!ye.host&&!!ye.mode}function x(ye){return!!Q(ye)}function Q(ye){for(var we;ye.parentNode;){if(ye===((we=ye.ownerDocument)===null||we===void 0?void 0:we.body))return null;ye=ye.parentNode}return re(ye)?ye:null}function X(){let ye=ce().activeElement;for(;ye?.shadowRoot;)ye=ye.shadowRoot.activeElement;return ye}function Y(ye){return X()===ye}function ae(ye){return z(X(),ye)}function ce(){var ye;return(0,e.getWindowsCount)()<=1?t.mainWindow.document:(ye=Array.from((0,e.getWindows)()).map(({window:Me})=>Me.document).find(Me=>Me.hasFocus()))!==null&&ye!==void 0?ye:t.mainWindow.document}function he(){var ye,we;return(we=(ye=ce().defaultView)===null||ye===void 0?void 0:ye.window)!==null&&we!==void 0?we:t.mainWindow}const pe=new Map;function fe(){return new se}class se{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(we){we!==this._currentCssStyle&&(this._currentCssStyle=we,this._styleSheet?this._styleSheet.innerText=we:this._styleSheet=te(t.mainWindow.document.head,Me=>Me.innerText=we))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function te(ye=t.mainWindow.document.head,we,Me){const Te=document.createElement("style");if(Te.type="text/css",Te.media="screen",we?.(Te),ye.appendChild(Te),Me&&Me.add((0,_.toDisposable)(()=>ye.removeChild(Te))),ye===t.mainWindow.document.head){const Le=new Set;pe.set(Te,Le);for(const{window:Fe,disposables:Oe}of(0,e.getWindows)()){if(Fe===t.mainWindow)continue;const ze=Oe.add($(Te,Le,Fe));Me?.add(ze)}}return Te}function $(ye,we,Me){var Te,Le;const Fe=new _.DisposableStore,Oe=ye.cloneNode(!0);Me.document.head.appendChild(Oe),Fe.add((0,_.toDisposable)(()=>Me.document.head.removeChild(Oe)));for(const ze of K(ye))(Te=Oe.sheet)===null||Te===void 0||Te.insertRule(ze.cssText,(Le=Oe.sheet)===null||Le===void 0?void 0:Le.cssRules.length);return Fe.add(e.sharedMutationObserver.observe(ye,Fe,{childList:!0})(()=>{Oe.textContent=ye.textContent})),we.add(Oe),Fe.add((0,_.toDisposable)(()=>we.delete(Oe))),Fe}e.sharedMutationObserver=new class{constructor(){this.mutationObservers=new Map}observe(ye,we,Me){let Te=this.mutationObservers.get(ye);Te||(Te=new Map,this.mutationObservers.set(ye,Te));const Le=(0,i.hash)(Me);let Fe=Te.get(Le);if(Fe)Fe.users+=1;else{const Oe=new w.Emitter,ze=new MutationObserver($e=>Oe.fire($e));ze.observe(ye,Me);const Ue=Fe={users:1,observer:ze,onDidMutate:Oe.event};we.add((0,_.toDisposable)(()=>{Ue.users-=1,Ue.users===0&&(Oe.dispose(),ze.disconnect(),Te?.delete(Le),Te?.size===0&&this.mutationObservers.delete(ye))})),Te.set(Le,Fe)}return Fe.onDidMutate}};let W=null;function j(){return W||(W=te()),W}function K(ye){var we,Me;return!((we=ye?.sheet)===null||we===void 0)&&we.rules?ye.sheet.rules:!((Me=ye?.sheet)===null||Me===void 0)&&Me.cssRules?ye.sheet.cssRules:[]}function G(ye,we,Me=j()){var Te,Le;if(!(!Me||!we)){(Te=Me.sheet)===null||Te===void 0||Te.insertRule(`${ye} {${we}}`,0);for(const Fe of(Le=pe.get(Me))!==null&&Le!==void 0?Le:[])G(ye,we,Fe)}}function ee(ye,we=j()){var Me,Te;if(!we)return;const Le=K(we),Fe=[];for(let Oe=0;Oe<Le.length;Oe++){const ze=Le[Oe];oe(ze)&&ze.selectorText.indexOf(ye)!==-1&&Fe.push(Oe)}for(let Oe=Fe.length-1;Oe>=0;Oe--)(Me=we.sheet)===null||Me===void 0||Me.deleteRule(Fe[Oe]);for(const Oe of(Te=pe.get(we))!==null&&Te!==void 0?Te:[])ee(ye,Oe)}function oe(ye){return typeof ye.selectorText=="string"}function de(ye){return ye instanceof MouseEvent||ye instanceof(0,e.getWindow)(ye).MouseEvent}function le(ye){return ye instanceof KeyboardEvent||ye instanceof(0,e.getWindow)(ye).KeyboardEvent}e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:f.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:f.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:f.isWebKit?"webkitAnimationIteration":"animationiteration"};function ge(ye){const we=ye;return!!(we&&typeof we.preventDefault=="function"&&typeof we.stopPropagation=="function")}e.EventHelper={stop:(ye,we)=>(ye.preventDefault(),we&&ye.stopPropagation(),ye)};function ve(ye){const we=[];for(let Me=0;ye&&ye.nodeType===ye.ELEMENT_NODE;Me++)we[Me]=ye.scrollTop,ye=ye.parentNode;return we}function Ce(ye,we){for(let Me=0;ye&&ye.nodeType===ye.ELEMENT_NODE;Me++)ye.scrollTop!==we[Me]&&(ye.scrollTop=we[Me]),ye=ye.parentNode}class Se extends _.Disposable{static hasFocusWithin(we){if(we instanceof HTMLElement){const Me=Q(we),Te=Me?Me.activeElement:we.ownerDocument.activeElement;return z(Te,we)}else{const Me=we;return z(Me.document.activeElement,Me.document)}}constructor(we){super(),this._onDidFocus=this._register(new w.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new w.Emitter),this.onDidBlur=this._onDidBlur.event;let Me=Se.hasFocusWithin(we),Te=!1;const Le=()=>{Te=!1,Me||(Me=!0,this._onDidFocus.fire())},Fe=()=>{Me&&(Te=!0,(we instanceof HTMLElement?(0,e.getWindow)(we):we).setTimeout(()=>{Te&&(Te=!1,Me=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Se.hasFocusWithin(we)!==Me&&(Me?Fe():Le())},this._register(u(we,e.EventType.FOCUS,Le,!0)),this._register(u(we,e.EventType.BLUR,Fe,!0)),we instanceof HTMLElement&&(this._register(u(we,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(u(we,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler())))}}function be(ye){return new Se(ye)}function ke(ye,we){return ye.after(we),we}function Ee(ye,...we){if(ye.append(...we),we.length===1&&typeof we[0]!="string")return we[0]}function Ae(ye,we){return ye.insertBefore(we,ye.firstChild),we}function Pe(ye,...we){ye.innerText="",Ee(ye,...we)}const He=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Be;(function(ye){ye.HTML="http://www.w3.org/1999/xhtml",ye.SVG="http://www.w3.org/2000/svg"})(Be||(e.Namespace=Be={}));function De(ye,we,Me,...Te){const Le=He.exec(we);if(!Le)throw new Error("Bad use of emmet");const Fe=Le[1]||"div";let Oe;return ye!==Be.HTML?Oe=document.createElementNS(ye,Fe):Oe=document.createElement(Fe),Le[3]&&(Oe.id=Le[3]),Le[4]&&(Oe.className=Le[4].replace(/\./g," ").trim()),Me&&Object.entries(Me).forEach(([ze,Ue])=>{typeof Ue>"u"||(/^on\w+$/.test(ze)?Oe[ze]=Ue:ze==="selected"?Ue&&Oe.setAttribute(ze,"true"):Oe.setAttribute(ze,Ue))}),Oe.append(...Te),Oe}function Ne(ye,we,...Me){return De(Be.HTML,ye,we,...Me)}Ne.SVG=function(ye,we,...Me){return De(Be.SVG,ye,we,...Me)};function me(ye,...we){ye?_e(...we):Re(...we)}function _e(...ye){for(const we of ye)we.style.display="",we.removeAttribute("aria-hidden")}function Re(...ye){for(const we of ye)we.style.display="none",we.setAttribute("aria-hidden","true")}function We(ye,we){const Me=ye.devicePixelRatio*we;return Math.max(1,Math.floor(Me))/ye.devicePixelRatio}function qe(ye){t.mainWindow.open(ye,"_blank","noopener")}function je(ye,we){const Me=()=>{we(),Te=(0,e.scheduleAtNextAnimationFrame)(ye,Me)};let Te=(0,e.scheduleAtNextAnimationFrame)(ye,Me);return(0,_.toDisposable)(()=>Te.dispose())}a.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(t.mainWindow.location.href)?"https":"http");function Ze(ye){return ye?`url('${a.FileAccess.uriToBrowserUri(ye).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Je(ye){return`'${ye.replace(/'/g,"%27")}'`}function st(ye,we){if(ye!==void 0){const Me=ye.match(/^\s*var\((.+)\)$/);if(Me){const Te=Me[1].split(",",2);return Te.length===2&&(we=st(Te[1].trim(),we)),`var(${Te[0]}, ${we})`}return ye}return we}function rt(ye,we=!1){const Me=document.createElement("a");return v.addHook("afterSanitizeAttributes",Te=>{for(const Le of["href","src"])if(Te.hasAttribute(Le)){const Fe=Te.getAttribute(Le);if(Le==="href"&&Fe.startsWith("#"))continue;if(Me.href=Fe,!ye.includes(Me.protocol.replace(/:$/,""))){if(we&&Le==="src"&&Me.href.startsWith("data:"))continue;Te.removeAttribute(Le)}}}),(0,_.toDisposable)(()=>{v.removeHook("afterSanitizeAttributes")})}e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const pt=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class et extends w.Emitter{constructor(){super(),this._subscriptions=new _.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(w.Event.runAndSubscribe(e.onDidRegisterWindow,({window:we,disposables:Me})=>this.registerListeners(we,Me),{window:t.mainWindow,disposables:this._subscriptions}))}registerListeners(we,Me){Me.add(u(we,"keydown",Te=>{if(Te.defaultPrevented)return;const Le=new E.StandardKeyboardEvent(Te);if(!(Le.keyCode===6&&Te.repeat)){if(Te.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Te.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Te.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Te.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Le.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Te.altKey,this._keyStatus.ctrlKey=Te.ctrlKey,this._keyStatus.metaKey=Te.metaKey,this._keyStatus.shiftKey=Te.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Te,this.fire(this._keyStatus))}},!0)),Me.add(u(we,"keyup",Te=>{Te.defaultPrevented||(!Te.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Te.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Te.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Te.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Te.altKey,this._keyStatus.ctrlKey=Te.ctrlKey,this._keyStatus.metaKey=Te.metaKey,this._keyStatus.shiftKey=Te.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Te,this.fire(this._keyStatus)))},!0)),Me.add(u(we.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Me.add(u(we.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Me.add(u(we.document.body,"mousemove",Te=>{Te.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),Me.add(u(we,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return et.instance||(et.instance=new et),et.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=et;class ut extends _.Disposable{constructor(we,Me){super(),this.element=we,this.callbacks=Me,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(u(this.element,e.EventType.DRAG_START,we=>{var Me,Te;(Te=(Me=this.callbacks).onDragStart)===null||Te===void 0||Te.call(Me,we)})),this.callbacks.onDrag&&this._register(u(this.element,e.EventType.DRAG,we=>{var Me,Te;(Te=(Me=this.callbacks).onDrag)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DRAG_ENTER,we=>{var Me,Te;this.counter++,this.dragStartTime=we.timeStamp,(Te=(Me=this.callbacks).onDragEnter)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DRAG_OVER,we=>{var Me,Te;we.preventDefault(),(Te=(Me=this.callbacks).onDragOver)===null||Te===void 0||Te.call(Me,we,we.timeStamp-this.dragStartTime)})),this._register(u(this.element,e.EventType.DRAG_LEAVE,we=>{var Me,Te;this.counter--,this.counter===0&&(this.dragStartTime=0,(Te=(Me=this.callbacks).onDragLeave)===null||Te===void 0||Te.call(Me,we))})),this._register(u(this.element,e.EventType.DRAG_END,we=>{var Me,Te;this.counter=0,this.dragStartTime=0,(Te=(Me=this.callbacks).onDragEnd)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DROP,we=>{var Me,Te;this.counter=0,this.dragStartTime=0,(Te=(Me=this.callbacks).onDrop)===null||Te===void 0||Te.call(Me,we)}))}}e.DragAndDropObserver=ut;const ot=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function _t(ye,...we){let Me,Te;Array.isArray(we[0])?(Me={},Te=we[0]):(Me=we[0]||{},Te=we[1]);const Le=ot.exec(ye);if(!Le||!Le.groups)throw new Error("Bad use of h");const Fe=Le.groups.tag||"div",Oe=document.createElement(Fe);Le.groups.id&&(Oe.id=Le.groups.id);const ze=[];if(Le.groups.class)for(const $e of Le.groups.class.split("."))$e!==""&&ze.push($e);if(Me.className!==void 0)for(const $e of Me.className.split("."))$e!==""&&ze.push($e);ze.length>0&&(Oe.className=ze.join(" "));const Ue={};if(Le.groups.name&&(Ue[Le.groups.name]=Oe),Te)for(const $e of Te)$e instanceof HTMLElement?Oe.appendChild($e):typeof $e=="string"?Oe.append($e):"root"in $e&&(Object.assign(Ue,$e),Oe.appendChild($e.root));for(const[$e,Qe]of Object.entries(Me))if($e!=="className")if($e==="style")for(const[Ye,xe]of Object.entries(Qe))Oe.style.setProperty(St(Ye),typeof xe=="number"?xe+"px":""+xe);else $e==="tabIndex"?Oe.tabIndex=Qe:Oe.setAttribute(St($e),Qe.toString());return Ue.root=Oe,Ue}function St(ye){return ye.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(ie[335],ne([1,0,6]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderText=k,e.renderFormattedText=E,e.createElement=L;function k(a,s={}){const i=L(s);return i.textContent=a,i}function E(a,s={}){const i=L(s);return p(i,w(a,!!s.renderCodeSegments),s.actionHandler,s.renderCodeSegments),i}function L(a){const s=a.inline?"span":"div",i=document.createElement(s);return a.className&&(i.className=a.className),i}class y{constructor(s){this.source=s,this.index=0}eos(){return this.index>=this.source.length}next(){const s=this.peek();return this.advance(),s}peek(){return this.source[this.index]}advance(){this.index++}}function p(a,s,i,t){let n;if(s.type===2)n=document.createTextNode(s.content||"");else if(s.type===3)n=document.createElement("b");else if(s.type===4)n=document.createElement("i");else if(s.type===7&&t)n=document.createElement("code");else if(s.type===5&&i){const h=document.createElement("a");i.disposables.add(f.addStandardDisposableListener(h,"click",m=>{i.callback(String(s.index),m)})),n=h}else s.type===8?n=document.createElement("br"):s.type===1&&(n=a);n&&a!==n&&a.appendChild(n),n&&Array.isArray(s.children)&&s.children.forEach(h=>{p(n,h,i,t)})}function w(a,s){const i={type:1,children:[]};let t=0,n=i;const h=[],m=new y(a);for(;!m.eos();){let u=m.next();const d=u==="\\"&&_(m.peek(),s)!==0;if(d&&(u=m.next()),!d&&v(u,s)&&u===m.peek()){m.advance(),n.type===2&&(n=h.pop());const r=_(u,s);if(n.type===r||n.type===5&&r===6)n=h.pop();else{const l={type:r,children:[]};r===5&&(l.index=t,t++),n.children.push(l),h.push(n),n=l}}else if(u===`
`)n.type===2&&(n=h.pop()),n.children.push({type:8});else if(n.type!==2){const r={type:2,content:u};n.children.push(r),h.push(n),n=r}else n.content+=u}return n.type===2&&(n=h.pop()),h.length,i}function v(a,s){return _(a,s)!==0}function _(a,s){switch(a){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return s?7:0;default:return 0}}}),define(ie[164],ne([1,0,6,2]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class E{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(y,p){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const w=this._onStopCallback;this._onStopCallback=null,y&&w&&w(p)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(y,p,w,v,_){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=v,this._onStopCallback=_;let a=y;try{y.setPointerCapture(p),this._hooks.add((0,k.toDisposable)(()=>{try{y.releasePointerCapture(p)}catch{}}))}catch{a=f.getWindow(y)}this._hooks.add(f.addDisposableListener(a,f.EventType.POINTER_MOVE,s=>{if(s.buttons!==w){this.stopMonitoring(!0);return}s.preventDefault(),this._pointerMoveCallback(s)})),this._hooks.add(f.addDisposableListener(a,f.EventType.POINTER_UP,s=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=E}),define(ie[241],ne([1,0,6,7,2]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PixelRatio=void 0;class L extends E.Disposable{constructor(v){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(v,!0),this._mediaQueryList=null,this._handleChange(v,!1)}_handleChange(v,_){var a;(a=this._mediaQueryList)===null||a===void 0||a.removeEventListener("change",this._listener),this._mediaQueryList=v.matchMedia(`(resolution: ${v.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),_&&this._onDidChange.fire()}}class y extends E.Disposable{get value(){return this._value}constructor(v){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(v);const _=this._register(new L(v));this._register(_.onDidChange(()=>{this._value=this._getPixelRatio(v),this._onDidChange.fire(this._value)}))}_getPixelRatio(v){const _=document.createElement("canvas").getContext("2d"),a=v.devicePixelRatio||1,s=_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1;return a/s}}class p{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(v){const _=(0,f.getWindowId)(v);let a=this.mapWindowIdToPixelRatioMonitor.get(_);return a||(a=(0,E.markAsSingleton)(new y(v)),this.mapWindowIdToPixelRatioMonitor.set(_,a),(0,E.markAsSingleton)(k.Event.once(f.onDidUnregisterWindow)(({vscodeWindowId:s})=>{s===_&&(a?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(_))}))),a}getInstance(v){return this._getOrCreatePixelRatioMonitor(v)}}e.PixelRatio=new p}),define(ie[67],ne([1,0,6,52,13,118,7,2,70]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var v;(function(a){a.Tap="-monaco-gesturetap",a.Change="-monaco-gesturechange",a.Start="-monaco-gesturestart",a.End="-monaco-gesturesend",a.Contextmenu="-monaco-gesturecontextmenu"})(v||(e.EventType=v={}));class _ extends p.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new w.LinkedList,this.ignoreTargets=new w.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(y.Event.runAndSubscribe(f.onDidRegisterWindow,({window:s,disposables:i})=>{i.add(f.addDisposableListener(s.document,"touchstart",t=>this.onTouchStart(t),{passive:!1})),i.add(f.addDisposableListener(s.document,"touchend",t=>this.onTouchEnd(s,t))),i.add(f.addDisposableListener(s.document,"touchmove",t=>this.onTouchMove(t),{passive:!1}))},{window:k.mainWindow,disposables:this._store}))}static addTarget(s){if(!_.isTouchDevice())return p.Disposable.None;_.INSTANCE||(_.INSTANCE=(0,p.markAsSingleton)(new _));const i=_.INSTANCE.targets.push(s);return(0,p.toDisposable)(i)}static ignoreTarget(s){if(!_.isTouchDevice())return p.Disposable.None;_.INSTANCE||(_.INSTANCE=(0,p.markAsSingleton)(new _));const i=_.INSTANCE.ignoreTargets.push(s);return(0,p.toDisposable)(i)}static isTouchDevice(){return"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(s){const i=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let t=0,n=s.targetTouches.length;t<n;t++){const h=s.targetTouches.item(t);this.activeTouches[h.identifier]={id:h.identifier,initialTarget:h.target,initialTimeStamp:i,initialPageX:h.pageX,initialPageY:h.pageY,rollingTimestamps:[i],rollingPageX:[h.pageX],rollingPageY:[h.pageY]};const m=this.newGestureEvent(v.Start,h.target);m.pageX=h.pageX,m.pageY=h.pageY,this.dispatchEvent(m)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}onTouchEnd(s,i){const t=Date.now(),n=Object.keys(this.activeTouches).length;for(let h=0,m=i.changedTouches.length;h<m;h++){const u=i.changedTouches.item(h);if(!this.activeTouches.hasOwnProperty(String(u.identifier))){console.warn("move of an UNKNOWN touch",u);continue}const d=this.activeTouches[u.identifier],r=Date.now()-d.initialTimeStamp;if(r<_.HOLD_DELAY&&Math.abs(d.initialPageX-E.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-E.tail(d.rollingPageY))<30){const l=this.newGestureEvent(v.Tap,d.initialTarget);l.pageX=E.tail(d.rollingPageX),l.pageY=E.tail(d.rollingPageY),this.dispatchEvent(l)}else if(r>=_.HOLD_DELAY&&Math.abs(d.initialPageX-E.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-E.tail(d.rollingPageY))<30){const l=this.newGestureEvent(v.Contextmenu,d.initialTarget);l.pageX=E.tail(d.rollingPageX),l.pageY=E.tail(d.rollingPageY),this.dispatchEvent(l)}else if(n===1){const l=E.tail(d.rollingPageX),o=E.tail(d.rollingPageY),g=E.tail(d.rollingTimestamps)-d.rollingTimestamps[0],c=l-d.rollingPageX[0],b=o-d.rollingPageY[0],C=[...this.targets].filter(S=>d.initialTarget instanceof Node&&S.contains(d.initialTarget));this.inertia(s,C,t,Math.abs(c)/g,c>0?1:-1,l,Math.abs(b)/g,b>0?1:-1,o)}this.dispatchEvent(this.newGestureEvent(v.End,d.initialTarget)),delete this.activeTouches[u.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(s,i){const t=document.createEvent("CustomEvent");return t.initEvent(s,!1,!0),t.initialTarget=i,t.tapCount=0,t}dispatchEvent(s){if(s.type===v.Tap){const i=new Date().getTime();let t=0;i-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?t=1:t=2,this._lastSetTapCountTime=i,s.tapCount=t}else(s.type===v.Change||s.type===v.Contextmenu)&&(this._lastSetTapCountTime=0);if(s.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(s.initialTarget))return;const i=[];for(const t of this.targets)if(t.contains(s.initialTarget)){let n=0,h=s.initialTarget;for(;h&&h!==t;)n++,h=h.parentElement;i.push([n,t])}i.sort((t,n)=>t[0]-n[0]);for(const[t,n]of i)n.dispatchEvent(s),this.dispatched=!0}}inertia(s,i,t,n,h,m,u,d,r){this.handle=f.scheduleAtNextAnimationFrame(s,()=>{const l=Date.now(),o=l-t;let g=0,c=0,b=!0;n+=_.SCROLL_FRICTION*o,u+=_.SCROLL_FRICTION*o,n>0&&(b=!1,g=h*n*o),u>0&&(b=!1,c=d*u*o);const C=this.newGestureEvent(v.Change);C.translationX=g,C.translationY=c,i.forEach(S=>S.dispatchEvent(C)),b||this.inertia(s,i,l,n,h,m+g,u,d,r+c)})}onTouchMove(s){const i=Date.now();for(let t=0,n=s.changedTouches.length;t<n;t++){const h=s.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(h.identifier))){console.warn("end of an UNKNOWN touch",h);continue}const m=this.activeTouches[h.identifier],u=this.newGestureEvent(v.Change,m.initialTarget);u.translationX=h.pageX-E.tail(m.rollingPageX),u.translationY=h.pageY-E.tail(m.rollingPageY),u.pageX=h.pageX,u.pageY=h.pageY,this.dispatchEvent(u),m.rollingPageX.length>3&&(m.rollingPageX.shift(),m.rollingPageY.shift(),m.rollingTimestamps.shift()),m.rollingPageX.push(h.pageX),m.rollingPageY.push(h.pageY),m.rollingTimestamps.push(i)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}}e.Gesture=_,_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,Ie([L.memoize],_,"isTouchDevice",null)}),define(ie[45],ne([1,0,6,429]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setARIAContainer=v,e.alert=_,e.status=a;const k=2e4;let E,L,y,p,w;function v(i){E=document.createElement("div"),E.className="monaco-aria-container";const t=()=>{const h=document.createElement("div");return h.className="monaco-alert",h.setAttribute("role","alert"),h.setAttribute("aria-atomic","true"),E.appendChild(h),h};L=t(),y=t();const n=()=>{const h=document.createElement("div");return h.className="monaco-status",h.setAttribute("aria-live","polite"),h.setAttribute("aria-atomic","true"),E.appendChild(h),h};p=n(),w=n(),i.appendChild(E)}function _(i){E&&(L.textContent!==i?(f.clearNode(y),s(L,i)):(f.clearNode(L),s(y,i)))}function a(i){E&&(p.textContent!==i?(f.clearNode(w),s(p,i)):(f.clearNode(p),s(w,i)))}function s(i,t){f.clearNode(i),t.length>k&&(t=t.substr(0,k)),i.textContent=t,i.style.visibility="hidden",i.style.visibility="visible"}}),define(ie[336],ne([1,0,236,6,2,17,181,433]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.LayoutAnchorMode=void 0,e.isAnchor=p,e.layout=v;function p(s){const i=s;return!!i&&typeof i.x=="number"&&typeof i.y=="number"}var w;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(w||(e.LayoutAnchorMode=w={}));function v(s,i,t){const n=t.mode===w.ALIGN?t.offset:t.offset+t.size,h=t.mode===w.ALIGN?t.offset+t.size:t.offset;return t.position===0?i<=s-n?n:i<=h?h-i:Math.max(s-i,0):i<=h?h-i:i<=s-n?n:0}class _ extends E.Disposable{constructor(i,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=E.Disposable.None,this.toDisposeOnSetContainer=E.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),k.hide(this.view),this.setContainer(i,t),this._register((0,E.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,t){var n;this.useFixedPosition=t!==1;const h=this.useShadowDOM;if(this.useShadowDOM=t===3,!(i===this.container&&h===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(n=this.shadowRootHostElement)===null||n===void 0||n.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i)){if(this.container=i,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const u=document.createElement("style");u.textContent=a,this.shadowRoot.appendChild(u),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const m=new E.DisposableStore;_.BUBBLE_UP_EVENTS.forEach(u=>{m.add(k.addStandardDisposableListener(this.container,u,d=>{this.onDOMEvent(d,!1)}))}),_.BUBBLE_DOWN_EVENTS.forEach(u=>{m.add(k.addStandardDisposableListener(this.container,u,d=>{this.onDOMEvent(d,!0)},!0))}),this.toDisposeOnSetContainer=m}}show(i){var t,n,h;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+((t=i.layer)!==null&&t!==void 0?t:0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=i.render(this.view)||E.Disposable.None,this.delegate=i,this.doLayout(),(h=(n=this.delegate).focus)===null||h===void 0||h.call(n)}getViewElement(){return this.view}layout(){var i,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(L.isIOS&&f.BrowserFeatures.pointerEvents)){this.hide();return}(t=(i=this.delegate)===null||i===void 0?void 0:i.layout)===null||t===void 0||t.call(i),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let t;if(i instanceof HTMLElement){const c=k.getDomNodePagePosition(i),b=k.getDomNodeZoomLevel(i);t={top:c.top*b,left:c.left*b,width:c.width*b,height:c.height*b}}else p(i)?t={top:i.y,left:i.x,width:i.width||1,height:i.height||2}:t={top:i.posy,left:i.posx,width:2,height:2};const n=k.getTotalWidth(this.view),h=k.getTotalHeight(this.view),m=this.delegate.anchorPosition||0,u=this.delegate.anchorAlignment||0,d=this.delegate.anchorAxisAlignment||0;let r,l;const o=k.getActiveWindow();if(d===0){const c={offset:t.top-o.pageYOffset,size:t.height,position:m===0?0:1},b={offset:t.left,size:t.width,position:u===0?0:1,mode:w.ALIGN};r=v(o.innerHeight,h,c)+o.pageYOffset,y.Range.intersects({start:r,end:r+h},{start:c.offset,end:c.offset+c.size})&&(b.mode=w.AVOID),l=v(o.innerWidth,n,b)}else{const c={offset:t.left,size:t.width,position:u===0?0:1},b={offset:t.top,size:t.height,position:m===0?0:1,mode:w.ALIGN};l=v(o.innerWidth,n,c),y.Range.intersects({start:l,end:l+n},{start:c.offset,end:c.offset+c.size})&&(b.mode=w.AVOID),r=v(o.innerHeight,h,b)+o.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(m===0?"bottom":"top"),this.view.classList.add(u===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const g=k.getDomNodePagePosition(this.container);this.view.style.top=`${r-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:g.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:g.left)}px`,this.view.style.width="initial"}hide(i){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(i),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,k.getWindow(i).document.activeElement):t&&!k.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=_,_.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],_.BUBBLE_DOWN_EVENTS=["click"];const a=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ie[337],ne([1,0,6,11,434]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class E{constructor(y,p,w){this.options=p,this.styles=w,this.count=0,this.element=(0,f.append)(y,(0,f.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(y){this.count=y,this.render()}setTitleFormat(y){this.titleFormat=y,this.render()}render(){var y,p;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(y=this.styles.badgeBackground)!==null&&y!==void 0?y:"",this.element.style.color=(p=this.styles.badgeForeground)!==null&&p!==void 0?p:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=E}),define(ie[615],ne([1,0,6,48,67,41,7,291]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class p extends L.ActionRunner{constructor(_,a){super(),this._onDidChangeVisibility=this._register(new y.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,f.append)(_,(0,f.$)(".monaco-dropdown")),this._label=(0,f.append)(this._element,(0,f.$)(".dropdown-label"));let s=a.labelRenderer;s||(s=t=>(t.textContent=a.label||"",null));for(const t of[f.EventType.CLICK,f.EventType.MOUSE_DOWN,E.EventType.Tap])this._register((0,f.addDisposableListener)(this.element,t,n=>f.EventHelper.stop(n,!0)));for(const t of[f.EventType.MOUSE_DOWN,E.EventType.Tap])this._register((0,f.addDisposableListener)(this._label,t,n=>{(0,f.isMouseEvent)(n)&&(n.detail>1||n.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,f.addDisposableListener)(this._label,f.EventType.KEY_UP,t=>{const n=new k.StandardKeyboardEvent(t);(n.equals(3)||n.equals(10))&&(f.EventHelper.stop(t,!0),this.visible?this.hide():this.show())}));const i=s(this._label);i&&this._register(i),this._register(E.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class w extends p{constructor(_,a){super(_,a),this._options=a,this._actions=[],this.actions=a.actions||[]}set menuOptions(_){this._menuOptions=_}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(_){this._actions=_}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(_,a)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(_,a):void 0,getKeyBinding:_=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(_):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=w}),define(ie[108],ne([1,0,6,31]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderLabelWithIcons=L,e.renderIcon=y;const E=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function L(p){const w=new Array;let v,_=0,a=0;for(;(v=E.exec(p))!==null;){a=v.index||0,_<a&&w.push(p.substring(_,a)),_=(v.index||0)+v[0].length;const[,s,i]=v;w.push(s?`$(${i})`:y({id:i}))}return _<p.length&&w.push(p.substring(_)),w}function y(p){const w=f.$("span");return w.classList.add(...k.ThemeIcon.asClassNameArray(p)),w}}),define(ie[616],ne([1,0,6]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(L){var y;try{(y=L.parentElement)===null||y===void 0||y.removeChild(L)}catch{}}class E{constructor(y){this.renderers=y,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(y){let p=this.getTemplateCache(y).pop(),w=!1;if(p)w=this.transactionNodesPendingRemoval.has(p.domNode),w&&this.transactionNodesPendingRemoval.delete(p.domNode);else{const v=(0,f.$)(".monaco-list-row"),a=this.getRenderer(y).renderTemplate(v);p={domNode:v,templateId:y,templateData:a}}return{row:p,isReusingConnectedDomNode:w}}release(y){y&&this.releaseRow(y)}transact(y){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{y()}finally{for(const p of this.transactionNodesPendingRemoval)this.doRemoveNode(p);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(y){const{domNode:p,templateId:w}=y;p&&(this.inTransaction?this.transactionNodesPendingRemoval.add(p):this.doRemoveNode(p)),this.getTemplateCache(w).push(y)}doRemoveNode(y){y.classList.remove("scrolling"),k(y)}getTemplateCache(y){let p=this.cache.get(y);return p||(p=[],this.cache.set(y,p)),p}dispose(){this.cache.forEach((y,p)=>{for(const w of y)this.getRenderer(p).disposeTemplate(w.templateData),w.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(y){const p=this.renderers.get(y);if(!p)throw new Error(`No renderer found for ${y}`);return p}}e.RowCache=E}),define(ie[617],ne([1,0,6,15,2,440]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const L="done",y="active",p="infinite",w="infinite-long-running",v="discrete";class _ extends E.Disposable{constructor(s,i){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,f.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),_.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(s,i)}create(s,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),s.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=i?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(y,p,w,v),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(s){return this.element.classList.add(L),this.element.classList.contains(p)?(this.bit.style.opacity="0",s?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",s?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(v,L,w),this.element.classList.add(y,p),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(w)}getContainer(){return this.element}}e.ProgressBar=_,_.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(ie[165],ne([1,0,6,89,67,15,118,7,2,17,441]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const _=!1;var a;(function(l){l.North="north",l.South="south",l.East="east",l.West="west"})(a||(e.OrthogonalEdge=a={}));let s=4;const i=new p.Emitter;let t=300;const n=new p.Emitter;class h{constructor(o){this.el=o,this.disposables=new w.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter((0,f.getWindow)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter((0,f.getWindow)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}Ie([y.memoize],h.prototype,"onPointerMove",null),Ie([y.memoize],h.prototype,"onPointerUp",null);class m{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,E.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,E.EventType.End)).event}constructor(o){this.el=o,this.disposables=new w.DisposableStore}dispose(){this.disposables.dispose()}}Ie([y.memoize],m.prototype,"onPointerMove",null),Ie([y.memoize],m.prototype,"onPointerUp",null);class u{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(o){this.factory=o}dispose(){}}Ie([y.memoize],u.prototype,"onPointerMove",null),Ie([y.memoize],u.prototype,"onPointerUp",null);const d="pointer-events-disabled";class r extends w.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(o){this._state!==o&&(this.el.classList.toggle("disabled",o===0),this.el.classList.toggle("minimum",o===1),this.el.classList.toggle("maximum",o===2),this._state=o,this.onDidEnablementChange.fire(o))}set orthogonalStartSash(o){if(this._orthogonalStartSash!==o){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),o){const g=c=>{this.orthogonalStartDragHandleDisposables.clear(),c!==0&&(this._orthogonalStartDragHandle=(0,f.append)(this.el,(0,f.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>r.onMouseEnter(o),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>r.onMouseLeave(o),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(o.onDidEnablementChange.event(g,this)),g(o.state)}this._orthogonalStartSash=o}}set orthogonalEndSash(o){if(this._orthogonalEndSash!==o){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),o){const g=c=>{this.orthogonalEndDragHandleDisposables.clear(),c!==0&&(this._orthogonalEndDragHandle=(0,f.append)(this.el,(0,f.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>r.onMouseEnter(o),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>r.onMouseLeave(o),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(o.onDidEnablementChange.event(g,this)),g(o.state)}this._orthogonalEndSash=o}}constructor(o,g,c){super(),this.hoverDelay=t,this.hoverDelayer=this._register(new L.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new p.Emitter),this._onDidStart=this._register(new p.Emitter),this._onDidChange=this._register(new p.Emitter),this._onDidReset=this._register(new p.Emitter),this._onDidEnd=this._register(new p.Emitter),this.orthogonalStartSashDisposables=this._register(new w.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new w.DisposableStore),this.orthogonalEndSashDisposables=this._register(new w.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new w.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,f.append)(o,(0,f.$)(".monaco-sash")),c.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${c.orthogonalEdge}`),v.isMacintosh&&this.el.classList.add("mac");const b=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(b(A=>this.onPointerStart(A,new h(o)),this));const C=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(C(this.onPointerDoublePress,this));const S=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(S(()=>r.onMouseEnter(this)));const D=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(D(()=>r.onMouseLeave(this))),this._register(E.Gesture.addTarget(this.el));const I=this._register(new k.DomEmitter(this.el,E.EventType.Start)).event;this._register(I(A=>this.onPointerStart(A,new m(this.el)),this));const T=this._register(new k.DomEmitter(this.el,E.EventType.Tap)).event;let N;this._register(T(A=>{if(N){clearTimeout(N),N=void 0,this.onPointerDoublePress(A);return}clearTimeout(N),N=setTimeout(()=>N=void 0,250)},this)),typeof c.size=="number"?(this.size=c.size,c.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=s,this._register(i.event(A=>{this.size=A,this.layout()}))),this._register(n.event(A=>this.hoverDelay=A)),this.layoutProvider=g,this.orthogonalStartSash=c.orthogonalStartSash,this.orthogonalEndSash=c.orthogonalEndSash,this.orientation=c.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",_),this.layout()}onPointerStart(o,g){f.EventHelper.stop(o);let c=!1;if(!o.__orthogonalSashEvent){const R=this.getOrthogonalSash(o);R&&(c=!0,o.__orthogonalSashEvent=!0,R.onPointerStart(o,new u(g)))}if(this.linkedSash&&!o.__linkedSashEvent&&(o.__linkedSashEvent=!0,this.linkedSash.onPointerStart(o,new u(g))),!this.state)return;const b=this.el.ownerDocument.getElementsByTagName("iframe");for(const R of b)R.classList.add(d);const C=o.pageX,S=o.pageY,D=o.altKey,I={startX:C,currentX:C,startY:S,currentY:S,altKey:D};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,f.createStyleSheet)(this.el),N=()=>{let R="";c?R="all-scroll":this.orientation===1?this.state===1?R="s-resize":this.state===2?R="n-resize":R=v.isMacintosh?"row-resize":"ns-resize":this.state===1?R="e-resize":this.state===2?R="w-resize":R=v.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${R} !important; }`},A=new w.DisposableStore;N(),c||this.onDidEnablementChange.event(N,null,A);const P=R=>{f.EventHelper.stop(R,!1);const F={startX:C,currentX:R.pageX,startY:S,currentY:R.pageY,altKey:D};this._onDidChange.fire(F)},M=R=>{f.EventHelper.stop(R,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),A.dispose();for(const F of b)F.classList.remove(d)};g.onPointerMove(P,null,A),g.onPointerUp(M,null,A),A.add(g)}onPointerDoublePress(o){const g=this.getOrthogonalSash(o);g&&g._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(o,g=!1){o.el.classList.contains("active")?(o.hoverDelayer.cancel(),o.el.classList.add("hover")):o.hoverDelayer.trigger(()=>o.el.classList.add("hover"),o.hoverDelay).then(void 0,()=>{}),!g&&o.linkedSash&&r.onMouseEnter(o.linkedSash,!0)}static onMouseLeave(o,g=!1){o.hoverDelayer.cancel(),o.el.classList.remove("hover"),!g&&o.linkedSash&&r.onMouseLeave(o.linkedSash,!0)}clearSashHoverState(){r.onMouseLeave(this)}layout(){if(this.orientation===0){const o=this.layoutProvider;this.el.style.left=o.getVerticalSashLeft(this)-this.size/2+"px",o.getVerticalSashTop&&(this.el.style.top=o.getVerticalSashTop(this)+"px"),o.getVerticalSashHeight&&(this.el.style.height=o.getVerticalSashHeight(this)+"px")}else{const o=this.layoutProvider;this.el.style.top=o.getHorizontalSashTop(this)-this.size/2+"px",o.getHorizontalSashLeft&&(this.el.style.left=o.getHorizontalSashLeft(this)+"px"),o.getHorizontalSashWidth&&(this.el.style.width=o.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(o){var g;const c=(g=o.initialTarget)!==null&&g!==void 0?g:o.target;if(!(!c||!(c instanceof HTMLElement))&&c.classList.contains("orthogonal-drag-handle"))return c.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=r}),define(ie[242],ne([1,0,6,165,7,2]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class y{constructor(){this._onDidWillResize=new E.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new E.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new L.DisposableStore,this._size=new f.Dimension(0,0),this._minSize=new f.Dimension(0,0),this._maxSize=new f.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let w,v=0,_=0;this._sashListener.add(E.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{w===void 0&&(this._onDidWillResize.fire(),w=this._size,v=0,_=0)})),this._sashListener.add(E.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{w!==void 0&&(w=void 0,v=0,_=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(a=>{w&&(_=a.currentX-a.startX,this.layout(w.height+v,w.width+_),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(a=>{w&&(_=-(a.currentX-a.startX),this.layout(w.height+v,w.width+_),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(a=>{w&&(v=-(a.currentY-a.startY),this.layout(w.height+v,w.width+_),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(a=>{w&&(v=a.currentY-a.startY,this.layout(w.height+v,w.width+_),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(E.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(a=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(E.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(a=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(w,v,_,a){this._northSash.state=w?3:0,this._eastSash.state=v?3:0,this._southSash.state=_?3:0,this._westSash.state=a?3:0}layout(w=this.size.height,v=this.size.width){const{height:_,width:a}=this._minSize,{height:s,width:i}=this._maxSize;w=Math.max(_,Math.min(s,w)),v=Math.max(a,Math.min(i,v));const t=new f.Dimension(v,w);f.Dimension.equals(t,this._size)||(this.domNode.style.height=w+"px",this.domNode.style.width=v+"px",this._size=t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(w){this._maxSize=w}get maxSize(){return this._maxSize}set minSize(w){this._minSize=w}get minSize(){return this._minSize}set preferredSize(w){this._preferredSize=w}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=y}),define(ie[618],ne([1,0,6,67,13,7,2,17]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class w extends y.Disposable{constructor(_,a,s,i){super(),this.selected=0,this.selectBoxOptions=i||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new L.Emitter),this.styles=s,this.registerListeners(),this.setOptions(_,a)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(_=>{this._register(f.addDisposableListener(this.selectElement,_,a=>{this.selectElement.focus()}))}),this._register(f.addStandardDisposableListener(this.selectElement,"click",_=>{f.EventHelper.stop(_,!0)})),this._register(f.addStandardDisposableListener(this.selectElement,"change",_=>{this.selectElement.title=_.target.value,this._onDidSelect.fire({index:_.target.selectedIndex,selected:_.target.value})})),this._register(f.addStandardDisposableListener(this.selectElement,"keydown",_=>{let a=!1;p.isMacintosh?(_.keyCode===18||_.keyCode===16||_.keyCode===10)&&(a=!0):(_.keyCode===18&&_.altKey||_.keyCode===10||_.keyCode===3)&&(a=!0),a&&_.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(_,a){(!this.options||!E.equals(this.options,_))&&(this.options=_,this.selectElement.options.length=0,this.options.forEach((s,i)=>{this.selectElement.add(this.createOption(s.text,i,s.isDisabled))})),a!==void 0&&this.select(a)}select(_){this.options.length===0?this.selected=0:_>=0&&_<this.options.length?this.selected=_:_>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(_){this.selectElement.tabIndex=_?0:-1}render(_){_.classList.add("select-container"),_.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var _,a,s;this.selectElement&&(this.selectElement.style.backgroundColor=(_=this.styles.selectBackground)!==null&&_!==void 0?_:"",this.selectElement.style.color=(a=this.styles.selectForeground)!==null&&a!==void 0?a:"",this.selectElement.style.borderColor=(s=this.styles.selectBorder)!==null&&s!==void 0?s:"")}createOption(_,a,s){const i=document.createElement("option");return i.value=_,i.text=_,i.disabled=!!s,i}}e.SelectBoxNative=w}),define(ie[78],ne([1,0,6,48,73,67,2]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends y.Disposable{onclick(v,_){this._register(f.addDisposableListener(v,f.EventType.CLICK,a=>_(new E.StandardMouseEvent(f.getWindow(v),a))))}onmousedown(v,_){this._register(f.addDisposableListener(v,f.EventType.MOUSE_DOWN,a=>_(new E.StandardMouseEvent(f.getWindow(v),a))))}onmouseover(v,_){this._register(f.addDisposableListener(v,f.EventType.MOUSE_OVER,a=>_(new E.StandardMouseEvent(f.getWindow(v),a))))}onmouseleave(v,_){this._register(f.addDisposableListener(v,f.EventType.MOUSE_LEAVE,a=>_(new E.StandardMouseEvent(f.getWindow(v),a))))}onkeydown(v,_){this._register(f.addDisposableListener(v,f.EventType.KEY_DOWN,a=>_(new k.StandardKeyboardEvent(a))))}onkeyup(v,_){this._register(f.addDisposableListener(v,f.EventType.KEY_UP,a=>_(new k.StandardKeyboardEvent(a))))}oninput(v,_){this._register(f.addDisposableListener(v,f.EventType.INPUT,_))}onblur(v,_){this._register(f.addDisposableListener(v,f.EventType.BLUR,_))}onfocus(v,_){this._register(f.addDisposableListener(v,f.EventType.FOCUS,_))}ignoreGesture(v){return L.Gesture.ignoreTarget(v)}}e.Widget=p}),define(ie[243],ne([1,0,164,78,15,31,6]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class p extends k.Widget{constructor(v){super(),this._onActivate=v.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=v.bgWidth+"px",this.bgDomNode.style.height=v.bgHeight+"px",typeof v.top<"u"&&(this.bgDomNode.style.top="0px"),typeof v.left<"u"&&(this.bgDomNode.style.left="0px"),typeof v.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof v.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=v.className,this.domNode.classList.add(...L.ThemeIcon.asClassNameArray(v.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof v.top<"u"&&(this.domNode.style.top=v.top+"px"),typeof v.left<"u"&&(this.domNode.style.left=v.left+"px"),typeof v.bottom<"u"&&(this.domNode.style.bottom=v.bottom+"px"),typeof v.right<"u"&&(this.domNode.style.right=v.right+"px"),this._pointerMoveMonitor=this._register(new f.GlobalPointerMoveMonitor),this._register(y.addStandardDisposableListener(this.bgDomNode,y.EventType.POINTER_DOWN,_=>this._arrowPointerDown(_))),this._register(y.addStandardDisposableListener(this.domNode,y.EventType.POINTER_DOWN,_=>this._arrowPointerDown(_))),this._pointerdownRepeatTimer=this._register(new y.WindowIntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new E.TimeoutTimer)}_arrowPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const _=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,y.getWindow(v))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(_,200),this._pointerMoveMonitor.startMonitoring(v.target,v.pointerId,v.buttons,a=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),v.preventDefault()}}e.ScrollbarArrow=p}),define(ie[338],ne([1,0,6,40,164,243,610,78,17]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const v=140;class _ extends p.Widget{constructor(s){super(),this._lazyRender=s.lazyRender,this._host=s.host,this._scrollable=s.scrollable,this._scrollByPage=s.scrollByPage,this._scrollbarState=s.scrollbarState,this._visibilityController=this._register(new y.ScrollbarVisibilityController(s.visibility,"visible scrollbar "+s.extraScrollbarClassName,"invisible scrollbar "+s.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new E.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(f.addDisposableListener(this.domNode.domNode,f.EventType.POINTER_DOWN,i=>this._domNodePointerDown(i)))}_createArrow(s){const i=this._register(new L.ScrollbarArrow(s));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)}_createSlider(s,i,t,n){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(s),this.slider.setLeft(i),typeof t=="number"&&this.slider.setWidth(t),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(f.addDisposableListener(this.slider.domNode,f.EventType.POINTER_DOWN,h=>{h.button===0&&(h.preventDefault(),this._sliderPointerDown(h))})),this.onclick(this.slider.domNode,h=>{h.leftButton&&h.stopPropagation()})}_onElementSize(s){return this._scrollbarState.setVisibleSize(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(s){return this._scrollbarState.setScrollSize(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(s){return this._scrollbarState.setScrollPosition(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(s){s.target===this.domNode.domNode&&this._onPointerDown(s)}delegatePointerDown(s){const i=this.domNode.domNode.getClientRects()[0].top,t=i+this._scrollbarState.getSliderPosition(),n=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),h=this._sliderPointerPosition(s);t<=h&&h<=n?s.button===0&&(s.preventDefault(),this._sliderPointerDown(s)):this._onPointerDown(s)}_onPointerDown(s){let i,t;if(s.target===this.domNode.domNode&&typeof s.offsetX=="number"&&typeof s.offsetY=="number")i=s.offsetX,t=s.offsetY;else{const h=f.getDomNodePagePosition(this.domNode.domNode);i=s.pageX-h.left,t=s.pageY-h.top}const n=this._pointerDownRelativePosition(i,t);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),s.button===0&&(s.preventDefault(),this._sliderPointerDown(s))}_sliderPointerDown(s){if(!s.target||!(s.target instanceof Element))return;const i=this._sliderPointerPosition(s),t=this._sliderOrthogonalPointerPosition(s),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(s.target,s.pointerId,s.buttons,h=>{const m=this._sliderOrthogonalPointerPosition(h),u=Math.abs(m-t);if(w.isWindows&&u>v){this._setDesiredScrollPositionNow(n.getScrollPosition());return}const r=this._sliderPointerPosition(h)-i;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(r))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(s){const i={};this.writeScrollPosition(i,s),this._scrollable.setScrollPositionNow(i)}updateScrollbarSize(s){this._updateScrollbarSize(s),this._scrollbarState.setScrollbarSize(s),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=_}),define(ie[619],ne([1,0,73,338,243,213,26]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class p extends k.AbstractScrollbar{constructor(v,_,a){const s=v.getScrollDimensions(),i=v.getCurrentScrollPosition();if(super({lazyRender:_.lazyRender,host:a,scrollbarState:new L.ScrollbarState(_.horizontalHasArrows?_.arrowSize:0,_.horizontal===2?0:_.horizontalScrollbarSize,_.vertical===2?0:_.verticalScrollbarSize,s.width,s.scrollWidth,i.scrollLeft),visibility:_.horizontal,extraScrollbarClassName:"horizontal",scrollable:v,scrollByPage:_.scrollByPage}),_.horizontalHasArrows){const t=(_.arrowSize-E.ARROW_IMG_SIZE)/2,n=(_.horizontalScrollbarSize-E.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonLeft,top:n,left:t,bottom:void 0,right:void 0,bgWidth:_.arrowSize,bgHeight:_.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonRight,top:n,left:void 0,bottom:void 0,right:t,bgWidth:_.arrowSize,bgHeight:_.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((_.horizontalScrollbarSize-_.horizontalSliderSize)/2),0,void 0,_.horizontalSliderSize)}_updateSlider(v,_){this.slider.setWidth(v),this.slider.setLeft(_)}_renderDomNode(v,_){this.domNode.setWidth(v),this.domNode.setHeight(_),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(v){return this._shouldRender=this._onElementScrollSize(v.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(v.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(v.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(v,_){return v}_sliderPointerPosition(v){return v.pageX}_sliderOrthogonalPointerPosition(v){return v.pageY}_updateScrollbarSize(v){this.slider.setHeight(v)}writeScrollPosition(v,_){v.scrollLeft=_}updateOptions(v){this.updateScrollbarSize(v.horizontal===2?0:v.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(v.vertical===2?0:v.verticalScrollbarSize),this._visibilityController.setVisibility(v.horizontal),this._scrollByPage=v.scrollByPage}}e.HorizontalScrollbar=p}),define(ie[620],ne([1,0,73,338,243,213,26]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class p extends k.AbstractScrollbar{constructor(v,_,a){const s=v.getScrollDimensions(),i=v.getCurrentScrollPosition();if(super({lazyRender:_.lazyRender,host:a,scrollbarState:new L.ScrollbarState(_.verticalHasArrows?_.arrowSize:0,_.vertical===2?0:_.verticalScrollbarSize,0,s.height,s.scrollHeight,i.scrollTop),visibility:_.vertical,extraScrollbarClassName:"vertical",scrollable:v,scrollByPage:_.scrollByPage}),_.verticalHasArrows){const t=(_.arrowSize-E.ARROW_IMG_SIZE)/2,n=(_.verticalScrollbarSize-E.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonUp,top:t,left:n,bottom:void 0,right:void 0,bgWidth:_.verticalScrollbarSize,bgHeight:_.arrowSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonDown,top:void 0,left:n,bottom:t,right:void 0,bgWidth:_.verticalScrollbarSize,bgHeight:_.arrowSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((_.verticalScrollbarSize-_.verticalSliderSize)/2),_.verticalSliderSize,void 0)}_updateSlider(v,_){this.slider.setHeight(v),this.slider.setTop(_)}_renderDomNode(v,_){this.domNode.setWidth(_),this.domNode.setHeight(v),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(v){return this._shouldRender=this._onElementScrollSize(v.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(v.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(v.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(v,_){return _}_sliderPointerPosition(v){return v.pageY}_sliderOrthogonalPointerPosition(v){return v.pageX}_updateScrollbarSize(v){this.slider.setWidth(v)}writeScrollPosition(v,_){v.scrollTop=_}updateOptions(v){this.updateScrollbarSize(v.vertical===2?0:v.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(v.vertical),this._scrollByPage=v.scrollByPage}}e.VerticalScrollbar=p}),define(ie[79],ne([1,0,62,6,40,73,619,620,78,15,7,2,17,156,442]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const t=500,n=50,h=!0;class m{constructor(b,C,S){this.timestamp=b,this.deltaX=C,this.deltaY=S,this.score=0}}class u{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let b=1,C=0,S=1,D=this._rear;do{const I=D===this._front?b:Math.pow(2,-S);if(b-=I,C+=this._memory[D].score*I,D===this._front)break;D=(this._capacity+D-1)%this._capacity,S++}while(!0);return C<=.5}acceptStandardWheelEvent(b){if(f.isChrome){const C=k.getWindow(b.browserEvent),S=(0,f.getZoomFactor)(C);this.accept(Date.now(),b.deltaX*S,b.deltaY*S)}else this.accept(Date.now(),b.deltaX,b.deltaY)}accept(b,C,S){let D=null;const I=new m(b,C,S);this._front===-1&&this._rear===-1?(this._memory[0]=I,this._front=0,this._rear=0):(D=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=I),I.score=this._computeScore(I,D)}_computeScore(b,C){if(Math.abs(b.deltaX)>0&&Math.abs(b.deltaY)>0)return 1;let S=.5;if((!this._isAlmostInt(b.deltaX)||!this._isAlmostInt(b.deltaY))&&(S+=.25),C){const D=Math.abs(b.deltaX),I=Math.abs(b.deltaY),T=Math.abs(C.deltaX),N=Math.abs(C.deltaY),A=Math.max(Math.min(D,T),1),P=Math.max(Math.min(I,N),1),M=Math.max(D,T),R=Math.max(I,N);M%A===0&&R%P===0&&(S-=.5)}return Math.min(Math.max(S,0),1)}_isAlmostInt(b){return Math.abs(Math.round(b)-b)<.01}}e.MouseWheelClassifier=u,u.INSTANCE=new u;class d extends w.Widget{get options(){return this._options}constructor(b,C,S){super(),this._onScroll=this._register(new _.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new _.Emitter),b.style.overflow="hidden",this._options=g(C),this._scrollable=S,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const D={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p.VerticalScrollbar(this._scrollable,this._options,D)),this._horizontalScrollbar=this._register(new y.HorizontalScrollbar(this._scrollable,this._options,D)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(b),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onmouseleave(this._listenOnDomNode,I=>this._onMouseLeave(I)),this._hideTimeout=this._register(new v.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,a.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(b){this._verticalScrollbar.delegatePointerDown(b)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(b){this._scrollable.setScrollDimensions(b,!1)}updateClassName(b){this._options.className=b,s.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(b){typeof b.handleMouseWheel<"u"&&(this._options.handleMouseWheel=b.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof b.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=b.mouseWheelScrollSensitivity),typeof b.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=b.fastScrollSensitivity),typeof b.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=b.scrollPredominantAxis),typeof b.horizontal<"u"&&(this._options.horizontal=b.horizontal),typeof b.vertical<"u"&&(this._options.vertical=b.vertical),typeof b.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=b.horizontalScrollbarSize),typeof b.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=b.verticalScrollbarSize),typeof b.scrollByPage<"u"&&(this._options.scrollByPage=b.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(b){this._onMouseWheel(new L.StandardWheelEvent(b))}_setListeningToMouseWheel(b){if(this._mouseWheelToDispose.length>0!==b&&(this._mouseWheelToDispose=(0,a.dispose)(this._mouseWheelToDispose),b)){const S=D=>{this._onMouseWheel(new L.StandardWheelEvent(D))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,S,{passive:!1}))}}_onMouseWheel(b){var C;if(!((C=b.browserEvent)===null||C===void 0)&&C.defaultPrevented)return;const S=u.INSTANCE;h&&S.acceptStandardWheelEvent(b);let D=!1;if(b.deltaY||b.deltaX){let T=b.deltaY*this._options.mouseWheelScrollSensitivity,N=b.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&N+T===0?N=T=0:Math.abs(T)>=Math.abs(N)?N=0:T=0),this._options.flipAxes&&([T,N]=[N,T]);const A=!s.isMacintosh&&b.browserEvent&&b.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!N&&(N=T,T=0),b.browserEvent&&b.browserEvent.altKey&&(N=N*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const P=this._scrollable.getFutureScrollPosition();let M={};if(T){const R=n*T,F=P.scrollTop-(R<0?Math.floor(R):Math.ceil(R));this._verticalScrollbar.writeScrollPosition(M,F)}if(N){const R=n*N,F=P.scrollLeft-(R<0?Math.floor(R):Math.ceil(R));this._horizontalScrollbar.writeScrollPosition(M,F)}M=this._scrollable.validateScrollPosition(M),(P.scrollLeft!==M.scrollLeft||P.scrollTop!==M.scrollTop)&&(h&&this._options.mouseWheelSmoothScroll&&S.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(M):this._scrollable.setScrollPositionNow(M),D=!0)}let I=D;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(b.preventDefault(),b.stopPropagation())}_onDidScroll(b){this._shouldRender=this._horizontalScrollbar.onDidScroll(b)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(b)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const b=this._scrollable.getCurrentScrollPosition(),C=b.scrollTop>0,S=b.scrollLeft>0,D=S?" left":"",I=C?" top":"",T=S||C?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${D}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${I}${D}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(b){this._mouseIsOver=!1,this._hide()}_onMouseOver(b){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),t)}}e.AbstractScrollableElement=d;class r extends d{constructor(b,C){C=C||{},C.mouseWheelSmoothScroll=!1;const S=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:D=>k.scheduleAtNextAnimationFrame(k.getWindow(b),D)});super(b,C,S),this._register(S)}setScrollPosition(b){this._scrollable.setScrollPositionNow(b)}}e.ScrollableElement=r;class l extends d{constructor(b,C,S){super(b,C,S)}setScrollPosition(b){b.reuseAnimation?this._scrollable.setScrollPositionSmooth(b,b.reuseAnimation):this._scrollable.setScrollPositionNow(b)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=l;class o extends d{constructor(b,C){C=C||{},C.mouseWheelSmoothScroll=!1;const S=new i.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:D=>k.scheduleAtNextAnimationFrame(k.getWindow(b),D)});super(b,C,S),this._register(S),this._element=b,this._register(this.onScroll(D=>{D.scrollTopChanged&&(this._element.scrollTop=D.scrollTop),D.scrollLeftChanged&&(this._element.scrollLeft=D.scrollLeft)})),this.scanDomNode()}setScrollPosition(b){this._scrollable.setScrollPositionNow(b)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=o;function g(c){const b={lazyRender:typeof c.lazyRender<"u"?c.lazyRender:!1,className:typeof c.className<"u"?c.className:"",useShadows:typeof c.useShadows<"u"?c.useShadows:!0,handleMouseWheel:typeof c.handleMouseWheel<"u"?c.handleMouseWheel:!0,flipAxes:typeof c.flipAxes<"u"?c.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof c.consumeMouseWheelIfScrollbarIsNeeded<"u"?c.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof c.alwaysConsumeMouseWheel<"u"?c.alwaysConsumeMouseWheel:!1,scrollYToX:typeof c.scrollYToX<"u"?c.scrollYToX:!1,mouseWheelScrollSensitivity:typeof c.mouseWheelScrollSensitivity<"u"?c.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof c.fastScrollSensitivity<"u"?c.fastScrollSensitivity:5,scrollPredominantAxis:typeof c.scrollPredominantAxis<"u"?c.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof c.mouseWheelSmoothScroll<"u"?c.mouseWheelSmoothScroll:!0,arrowSize:typeof c.arrowSize<"u"?c.arrowSize:11,listenOnDomNode:typeof c.listenOnDomNode<"u"?c.listenOnDomNode:null,horizontal:typeof c.horizontal<"u"?c.horizontal:1,horizontalScrollbarSize:typeof c.horizontalScrollbarSize<"u"?c.horizontalScrollbarSize:10,horizontalSliderSize:typeof c.horizontalSliderSize<"u"?c.horizontalSliderSize:0,horizontalHasArrows:typeof c.horizontalHasArrows<"u"?c.horizontalHasArrows:!1,vertical:typeof c.vertical<"u"?c.vertical:1,verticalScrollbarSize:typeof c.verticalScrollbarSize<"u"?c.verticalScrollbarSize:10,verticalHasArrows:typeof c.verticalHasArrows<"u"?c.verticalHasArrows:!1,verticalSliderSize:typeof c.verticalSliderSize<"u"?c.verticalSliderSize:0,scrollByPage:typeof c.scrollByPage<"u"?c.scrollByPage:!1};return b.horizontalSliderSize=typeof c.horizontalSliderSize<"u"?c.horizontalSliderSize:b.horizontalScrollbarSize,b.verticalSliderSize=typeof c.verticalSliderSize<"u"?c.verticalSliderSize:b.verticalScrollbarSize,s.isMacintosh&&(b.className+=" mac"),b}}),define(ie[244],ne([1,0,6,48,79,2,597,435]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0,e.getHoverAccessibleViewHint=_;const p=f.$;class w extends L.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new E.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=w;class v extends L.Disposable{static render(s,i,t){return new v(s,i,t)}constructor(s,i,t){super(),this.actionContainer=f.append(s,p("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=f.append(this.actionContainer,p("a.action")),this.action.setAttribute("role","button"),i.iconClass&&f.append(this.action,p(`span.icon.${i.iconClass}`));const n=f.append(this.action,p("span"));n.textContent=t?`${i.label} (${t})`:i.label,this._register(f.addDisposableListener(this.actionContainer,f.EventType.CLICK,h=>{h.stopPropagation(),h.preventDefault(),i.run(this.actionContainer)})),this._register(f.addDisposableListener(this.actionContainer,f.EventType.KEY_DOWN,h=>{const m=new k.StandardKeyboardEvent(h);(m.equals(3)||m.equals(10))&&(h.stopPropagation(),h.preventDefault(),i.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(s){s?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=v;function _(a,s){return a&&s?(0,y.localize)(0,null,s):a?(0,y.localize)(1,null):""}}),define(ie[245],ne([1,0,214,6,89,67,79,13,15,118,7,2,181,156,425,616,12,134]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const u={CurrentDragAndDropData:void 0},d={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(C){return[C]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class r{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=r;class l{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class o{constructor(){this.types=[],this.files=[]}update(S){if(S.types&&this.types.splice(0,this.types.length,...S.types),S.files){this.files.splice(0,this.files.length);for(let D=0;D<S.files.length;D++){const I=S.files.item(D);I&&(I.size||I.type)&&this.files.push(I)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=o;function g(C,S){return Array.isArray(C)&&Array.isArray(S)?(0,p.equals)(C,S):C===S}class c{constructor(S){S?.getSetSize?this.getSetSize=S.getSetSize.bind(S):this.getSetSize=(D,I,T)=>T,S?.getPosInSet?this.getPosInSet=S.getPosInSet.bind(S):this.getPosInSet=(D,I)=>I+1,S?.getRole?this.getRole=S.getRole.bind(S):this.getRole=D=>"listitem",S?.isChecked?this.isChecked=S.isChecked.bind(S):this.isChecked=D=>{}}}class b{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(S){if(S!==this._horizontalScrolling){if(S&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=S,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const D of this.items)this.measureItemWidth(D);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(S,D,I,T=d){var N,A,P,M,R,F,O,B,H,V,q,z,U;if(this.virtualDelegate=D,this.domId=`list_id_${++b.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new w.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=a.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=a.Disposable.None,this.onDragLeaveTimeout=a.Disposable.None,this.disposables=new a.DisposableStore,this._onDidChangeContentHeight=new _.Emitter,this._onDidChangeContentWidth=new _.Emitter,this.onDidChangeContentHeight=_.Event.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((N=T.paddingTop)!==null&&N!==void 0?N:0);for(const re of I)this.renderers.set(re.templateId,re);this.cache=this.disposables.add(new n.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(A=T.horizontalScrolling)!==null&&A!==void 0?A:d.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof T.paddingBottom>"u"?0:T.paddingBottom,this.accessibilityProvider=new c(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((P=T.transformOptimization)!==null&&P!==void 0?P:d.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(L.Gesture.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(M=T.smoothScrolling)!==null&&M!==void 0&&M?125:0,scheduleAtNextAnimationFrame:re=>(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),re)})),this.scrollableElement=this.disposables.add(new y.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(R=T.alwaysConsumeMouseWheel)!==null&&R!==void 0?R:d.alwaysConsumeMouseWheel,horizontal:1,vertical:(F=T.verticalScrollMode)!==null&&F!==void 0?F:d.verticalScrollMode,useShadows:(O=T.useShadows)!==null&&O!==void 0?O:d.useShadows,mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity,scrollByPage:T.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),S.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,L.EventType.Change,re=>this.onTouchChange(re))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",re=>re.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",re=>this.onDragOver(this.toDragEvent(re)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",re=>this.onDrop(this.toDragEvent(re)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",re=>this.onDragLeave(this.toDragEvent(re)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",re=>this.onDragEnd(re))),this.setRowLineHeight=(B=T.setRowLineHeight)!==null&&B!==void 0?B:d.setRowLineHeight,this.setRowHeight=(H=T.setRowHeight)!==null&&H!==void 0?H:d.setRowHeight,this.supportDynamicHeights=(V=T.supportDynamicHeights)!==null&&V!==void 0?V:d.supportDynamicHeights,this.dnd=(q=T.dnd)!==null&&q!==void 0?q:this.disposables.add(d.dnd),this.layout((z=T.initialSize)===null||z===void 0?void 0:z.height,(U=T.initialSize)===null||U===void 0?void 0:U.width)}updateOptions(S){S.paddingBottom!==void 0&&(this.paddingBottom=S.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),S.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(S.smoothScrolling?125:0),S.horizontalScrolling!==void 0&&(this.horizontalScrolling=S.horizontalScrolling);let D;if(S.scrollByPage!==void 0&&(D={...D??{},scrollByPage:S.scrollByPage}),S.mouseWheelScrollSensitivity!==void 0&&(D={...D??{},mouseWheelScrollSensitivity:S.mouseWheelScrollSensitivity}),S.fastScrollSensitivity!==void 0&&(D={...D??{},fastScrollSensitivity:S.fastScrollSensitivity}),D&&this.scrollableElement.updateOptions(D),S.paddingTop!==void 0&&S.paddingTop!==this.rangeMap.paddingTop){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T=S.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=S.paddingTop,this.render(I,Math.max(0,this.lastRenderTop+T),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(S){return new t.RangeMap(S)}splice(S,D,I=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(S,D,I)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(S,D,I=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:S,end:S+D},A=s.Range.intersect(T,N),P=new Map;for(let Q=A.end-1;Q>=A.start;Q--){const X=this.items[Q];if(X.dragStartDisposable.dispose(),X.checkedDisposable.dispose(),X.row){let Y=P.get(X.templateId);Y||(Y=[],P.set(X.templateId,Y));const ae=this.renderers.get(X.templateId);ae&&ae.disposeElement&&ae.disposeElement(X.element,Q,X.row.templateData,X.size),Y.push(X.row)}X.row=null,X.stale=!0}const M={start:S+D,end:this.items.length},R=s.Range.intersect(M,T),F=s.Range.relativeComplement(M,T),O=I.map(Q=>({id:String(this.itemId++),element:Q,templateId:this.virtualDelegate.getTemplateId(Q),size:this.virtualDelegate.getHeight(Q),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Q),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:a.Disposable.None,checkedDisposable:a.Disposable.None,stale:!1}));let B;S===0&&D>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,O),B=this.items,this.items=O):(this.rangeMap.splice(S,D,O),B=this.items.splice(S,D,...O));const H=I.length-D,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),q=(0,t.shift)(R,H),z=s.Range.intersect(V,q);for(let Q=z.start;Q<z.end;Q++)this.updateItemInDOM(this.items[Q],Q);const U=s.Range.relativeComplement(q,V);for(const Q of U)for(let X=Q.start;X<Q.end;X++)this.removeItemFromDOM(X);const Z=F.map(Q=>(0,t.shift)(Q,H)),x=[{start:S,end:S+I.length},...Z].map(Q=>s.Range.intersect(V,Q)).reverse();for(const Q of x)for(let X=Q.end-1;X>=Q.start;X--){const Y=this.items[X],ae=P.get(Y.templateId),ce=ae?.pop();this.insertItemInDOM(X,ce)}for(const Q of P.values())for(const X of Q)this.cache.release(X);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),B.map(Q=>Q.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let S=0;for(const D of this.items)typeof D.width<"u"&&(S=Math.max(S,D.width));this.scrollWidth=S,this.scrollableElement.setScrollDimensions({scrollWidth:S===0?0:S+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const S of this.items)S.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(S){return this.items[S].element}indexOf(S){return this.items.findIndex(D=>D.element===S)}domElement(S){const D=this.items[S].row;return D&&D.domNode}elementHeight(S){return this.items[S].size}elementTop(S){return this.rangeMap.positionAt(S)}indexAt(S){return this.rangeMap.indexAt(S)}indexAfter(S){return this.rangeMap.indexAfter(S)}layout(S,D){const I={height:typeof S=="number"?S:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,I.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(I),typeof D<"u"&&(this.renderWidth=D,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof D=="number"?D:(0,k.getContentWidth)(this.domNode)})}render(S,D,I,T,N,A=!1){const P=this.getRenderRange(D,I),M=s.Range.relativeComplement(P,S).reverse(),R=s.Range.relativeComplement(S,P);if(A){const F=s.Range.intersect(S,P);for(let O=F.start;O<F.end;O++)this.updateItemInDOM(this.items[O],O)}this.cache.transact(()=>{for(const F of R)for(let O=F.start;O<F.end;O++)this.removeItemFromDOM(O);for(const F of M)for(let O=F.end-1;O>=F.start;O--)this.insertItemInDOM(O)}),T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${D}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=D,this.lastRenderHeight=I}insertItemInDOM(S,D){var I,T,N;const A=this.items[S];if(!A.row)if(D)A.row=D,A.stale=!0;else{const O=this.cache.alloc(A.templateId);A.row=O.row,A.stale||(A.stale=O.isReusingConnectedDomNode)}const P=this.accessibilityProvider.getRole(A.element)||"listitem";A.row.domNode.setAttribute("role",P);const M=this.accessibilityProvider.isChecked(A.element);if(typeof M=="boolean")A.row.domNode.setAttribute("aria-checked",String(!!M));else if(M){const O=B=>A.row.domNode.setAttribute("aria-checked",String(!!B));O(M.value),A.checkedDisposable=M.onDidChange(O)}if(A.stale||!A.row.domNode.parentElement){const O=(N=(T=(I=this.items.at(S+1))===null||I===void 0?void 0:I.row)===null||T===void 0?void 0:T.domNode)!==null&&N!==void 0?N:null;this.rowsContainer.insertBefore(A.row.domNode,O),A.stale=!1}this.updateItemInDOM(A,S);const R=this.renderers.get(A.templateId);if(!R)throw new Error(`No renderer found for template id ${A.templateId}`);R?.renderElement(A.element,S,A.row.templateData,A.size);const F=this.dnd.getDragURI(A.element);A.dragStartDisposable.dispose(),A.row.domNode.draggable=!!F,F&&(A.dragStartDisposable=(0,k.addDisposableListener)(A.row.domNode,"dragstart",O=>this.onDragStart(A.element,F,O))),this.horizontalScrolling&&(this.measureItemWidth(A),this.eventuallyUpdateScrollWidth())}measureItemWidth(S){if(!S.row||!S.row.domNode)return;S.row.domNode.style.width="fit-content",S.width=(0,k.getContentWidth)(S.row.domNode);const D=(0,k.getWindow)(S.row.domNode).getComputedStyle(S.row.domNode);D.paddingLeft&&(S.width+=parseFloat(D.paddingLeft)),D.paddingRight&&(S.width+=parseFloat(D.paddingRight)),S.row.domNode.style.width=""}updateItemInDOM(S,D){S.row.domNode.style.top=`${this.elementTop(D)}px`,this.setRowHeight&&(S.row.domNode.style.height=`${S.size}px`),this.setRowLineHeight&&(S.row.domNode.style.lineHeight=`${S.size}px`),S.row.domNode.setAttribute("data-index",`${D}`),S.row.domNode.setAttribute("data-last-element",D===this.length-1?"true":"false"),S.row.domNode.setAttribute("data-parity",D%2===0?"even":"odd"),S.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(S.element,D,this.length))),S.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(S.element,D))),S.row.domNode.setAttribute("id",this.getElementDomId(D)),S.row.domNode.classList.toggle("drop-target",S.dropTarget)}removeItemFromDOM(S){const D=this.items[S];if(D.dragStartDisposable.dispose(),D.checkedDisposable.dispose(),D.row){const I=this.renderers.get(D.templateId);I&&I.disposeElement&&I.disposeElement(D.element,S,D.row.templateData,D.size),this.cache.release(D.row),D.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(S,D){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:S,reuseAnimation:D})}get scrollTop(){return this.getScrollTop()}set scrollTop(S){this.setScrollTop(S)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return _.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"click")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseDblClick(){return _.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"dblclick")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseMiddleClick(){return _.Event.filter(_.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"auxclick")).event,S=>this.toMouseEvent(S),this.disposables),S=>S.browserEvent.button===1,this.disposables)}get onMouseDown(){return _.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mousedown")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseOver(){return _.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseover")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseOut(){return _.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseout")).event,S=>this.toMouseEvent(S),this.disposables)}get onContextMenu(){return _.Event.any(_.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"contextmenu")).event,S=>this.toMouseEvent(S),this.disposables),_.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,L.EventType.Contextmenu)).event,S=>this.toGestureEvent(S),this.disposables))}get onTouchStart(){return _.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"touchstart")).event,S=>this.toTouchEvent(S),this.disposables)}get onTap(){return _.Event.map(this.disposables.add(new E.DomEmitter(this.rowsContainer,L.EventType.Tap)).event,S=>this.toGestureEvent(S),this.disposables)}toMouseEvent(S){const D=this.getItemIndexFromEventTarget(S.target||null),I=typeof D>"u"?void 0:this.items[D],T=I&&I.element;return{browserEvent:S,index:D,element:T}}toTouchEvent(S){const D=this.getItemIndexFromEventTarget(S.target||null),I=typeof D>"u"?void 0:this.items[D],T=I&&I.element;return{browserEvent:S,index:D,element:T}}toGestureEvent(S){const D=this.getItemIndexFromEventTarget(S.initialTarget||null),I=typeof D>"u"?void 0:this.items[D],T=I&&I.element;return{browserEvent:S,index:D,element:T}}toDragEvent(S){const D=this.getItemIndexFromEventTarget(S.target||null),I=typeof D>"u"?void 0:this.items[D],T=I&&I.element,N=this.getTargetSector(S,D);return{browserEvent:S,index:D,element:T,sector:N}}onScroll(S){try{const D=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(D,S.scrollTop,S.height,S.scrollLeft,S.scrollWidth),this.supportDynamicHeights&&this._rerender(S.scrollTop,S.height,S.inSmoothScrolling)}catch(D){throw console.error("Got bad scroll event:",S),D}}onTouchChange(S){S.preventDefault(),S.stopPropagation(),this.scrollTop-=S.translationY}onDragStart(S,D,I){var T,N;if(!I.dataTransfer)return;const A=this.dnd.getDragElements(S);if(I.dataTransfer.effectAllowed="copyMove",I.dataTransfer.setData(f.DataTransfers.TEXT,D),I.dataTransfer.setDragImage){let P;this.dnd.getDragLabel&&(P=this.dnd.getDragLabel(A,I)),typeof P>"u"&&(P=String(A.length));const M=(0,k.$)(".monaco-drag-image");M.textContent=P;const F=(O=>{for(;O&&!O.classList.contains("monaco-workbench");)O=O.parentElement;return O||this.domNode.ownerDocument})(this.domNode);F.appendChild(M),I.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>F.removeChild(M),0)}this.domNode.classList.add("dragging"),this.currentDragData=new r(A),u.CurrentDragAndDropData=new l(A),(N=(T=this.dnd).onDragStart)===null||N===void 0||N.call(T,this.currentDragData,I)}onDragOver(S){var D,I;if(S.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),u.CurrentDragAndDropData&&u.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(S.browserEvent),!S.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(u.CurrentDragAndDropData)this.currentDragData=u.CurrentDragAndDropData;else{if(!S.browserEvent.dataTransfer.types)return!1;this.currentDragData=new o}const T=this.dnd.onDragOver(this.currentDragData,S.element,S.index,S.sector,S.browserEvent);if(this.canDrop=typeof T=="boolean"?T:T.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;S.browserEvent.dataTransfer.dropEffect=typeof T!="boolean"&&((D=T.effect)===null||D===void 0?void 0:D.type)===0?"copy":"move";let N;typeof T!="boolean"&&T.feedback?N=T.feedback:typeof S.index>"u"?N=[-1]:N=[S.index],N=(0,p.distinct)(N).filter(P=>P>=-1&&P<this.length).sort((P,M)=>P-M),N=N[0]===-1?[-1]:N;let A=typeof T!="boolean"&&T.effect&&T.effect.position?T.effect.position:"drop-target";if(g(this.currentDragFeedback,N)&&this.currentDragFeedbackPosition===A)return!0;if(this.currentDragFeedback=N,this.currentDragFeedbackPosition=A,this.currentDragFeedbackDisposable.dispose(),N[0]===-1)this.domNode.classList.add(A),this.rowsContainer.classList.add(A),this.currentDragFeedbackDisposable=(0,a.toDisposable)(()=>{this.domNode.classList.remove(A),this.rowsContainer.classList.remove(A)});else{if(N.length>1&&A!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");A==="drop-target-after"&&N[0]<this.length-1&&(N[0]+=1,A="drop-target-before");for(const P of N){const M=this.items[P];M.dropTarget=!0,(I=M.row)===null||I===void 0||I.domNode.classList.add(A)}this.currentDragFeedbackDisposable=(0,a.toDisposable)(()=>{var P;for(const M of N){const R=this.items[M];R.dropTarget=!1,(P=R.row)===null||P===void 0||P.domNode.classList.remove(A)}})}return!0}onDragLeave(S){var D,I;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,w.disposableTimeout)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((I=(D=this.dnd).onDragLeave)===null||I===void 0||I.call(D,this.currentDragData,S.element,S.index,S.browserEvent))}onDrop(S){if(!this.canDrop)return;const D=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,u.CurrentDragAndDropData=void 0,!(!D||!S.browserEvent.dataTransfer)&&(S.browserEvent.preventDefault(),D.update(S.browserEvent.dataTransfer),this.dnd.drop(D,S.element,S.index,S.sector,S.browserEvent))}onDragEnd(S){var D,I;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,u.CurrentDragAndDropData=void 0,(I=(D=this.dnd).onDragEnd)===null||I===void 0||I.call(D,S)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=a.Disposable.None}setupDragAndDropScrollTopAnimation(S){if(!this.dragOverAnimationDisposable){const D=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)((0,k.getWindow)(this.domNode),this.animateDragAndDropScrollTop.bind(this,D))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,w.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=S.pageY}animateDragAndDropScrollTop(S){if(this.dragOverMouseY===void 0)return;const D=this.dragOverMouseY-S,I=this.renderHeight-35;D<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(D-35))):D>I&&(this.scrollTop+=Math.min(14,Math.floor(.3*(D-I))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(S,D){if(D===void 0)return;const I=S.offsetY/this.items[D].size,T=Math.floor(I/.25);return(0,m.clamp)(T,0,3)}getItemIndexFromEventTarget(S){const D=this.scrollableElement.getDomNode();let I=S;for(;I instanceof HTMLElement&&I!==this.rowsContainer&&D.contains(I);){const T=I.getAttribute("data-index");if(T){const N=Number(T);if(!isNaN(N))return N}I=I.parentElement}}getRenderRange(S,D){return{start:this.rangeMap.indexAt(S),end:this.rangeMap.indexAfter(S+D-1)}}_rerender(S,D,I){const T=this.getRenderRange(S,D);let N,A;S===this.elementTop(T.start)?(N=T.start,A=0):T.end-T.start>1&&(N=T.start+1,A=this.elementTop(N)-S);let P=0;for(;;){const M=this.getRenderRange(S,D);let R=!1;for(let F=M.start;F<M.end;F++){const O=this.probeDynamicHeight(F);O!==0&&this.rangeMap.splice(F,1,[this.items[F]]),P+=O,R=R||O!==0}if(!R){P!==0&&this.eventuallyUpdateScrollDimensions();const F=s.Range.relativeComplement(T,M);for(const B of F)for(let H=B.start;H<B.end;H++)this.items[H].row&&this.removeItemFromDOM(H);const O=s.Range.relativeComplement(M,T).reverse();for(const B of O)for(let H=B.end-1;H>=B.start;H--)this.insertItemInDOM(H);for(let B=M.start;B<M.end;B++)this.items[B].row&&this.updateItemInDOM(this.items[B],B);if(typeof N=="number"){const B=this.scrollable.getFutureScrollPosition().scrollTop-S,H=this.elementTop(N)-A+B;this.setScrollTop(H,I)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(S){var D,I,T;const N=this.items[S];if(this.virtualDelegate.getDynamicHeight){const R=this.virtualDelegate.getDynamicHeight(N.element);if(R!==null){const F=N.size;return N.size=R,N.lastDynamicHeightWidth=this.renderWidth,R-F}}if(!N.hasDynamicHeight||N.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(N.element))return 0;const A=N.size;if(N.row)return N.row.domNode.style.height="",N.size=N.row.domNode.offsetHeight,N.size===0&&!(0,k.isAncestor)(N.row.domNode,(0,k.getWindow)(N.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!"),N.lastDynamicHeightWidth=this.renderWidth,N.size-A;const{row:P}=this.cache.alloc(N.templateId);P.domNode.style.height="",this.rowsContainer.appendChild(P.domNode);const M=this.renderers.get(N.templateId);if(!M)throw new h.BugIndicatingError("Missing renderer for templateId: "+N.templateId);return M.renderElement(N.element,S,P.templateData,void 0),N.size=P.domNode.offsetHeight,(D=M.disposeElement)===null||D===void 0||D.call(M,N.element,S,P.templateData,void 0),(T=(I=this.virtualDelegate).setDynamicHeight)===null||T===void 0||T.call(I,N.element,N.size),N.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(P.domNode),this.cache.release(P),N.size-A}getElementDomId(S){return`${this.domId}_${S}`}dispose(){var S,D;for(const I of this.items)if(I.dragStartDisposable.dispose(),I.checkedDisposable.dispose(),I.row){const T=this.renderers.get(I.row.templateId);T&&((S=T.disposeElement)===null||S===void 0||S.call(T,I.element,-1,I.row.templateData,void 0),T.disposeTemplate(I.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(D=this.dragOverAnimationDisposable)===null||D===void 0||D.dispose(),this.disposables.dispose()}}e.ListView=b,b.InstanceCount=0,Ie([v.memoize],b.prototype,"onMouseClick",null),Ie([v.memoize],b.prototype,"onMouseDblClick",null),Ie([v.memoize],b.prototype,"onMouseMiddleClick",null),Ie([v.memoize],b.prototype,"onMouseDown",null),Ie([v.memoize],b.prototype,"onMouseOver",null),Ie([v.memoize],b.prototype,"onMouseOut",null),Ie([v.memoize],b.prototype,"onContextMenu",null),Ie([v.memoize],b.prototype,"onTouchStart",null),Ie([v.memoize],b.prototype,"onTap",null)}),define(ie[109],ne([1,0,6,89,48,67,45,416,13,15,34,118,7,76,2,134,17,21,415,245,73,30,293]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=void 0,e.isInputElement=C,e.isMonacoEditor=D,e.isMonacoCustomToggle=I,e.isActionItem=T,e.isStickyScrollElement=N,e.isStickyScrollContainer=A,e.isButton=P,e.isSelectionSingleChangeEvent=H,e.isSelectionRangeChangeEvent=V;class o{constructor(se){this.trait=se,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(se){return se}renderElement(se,te,$){const W=this.renderedElements.findIndex(j=>j.templateData===$);if(W>=0){const j=this.renderedElements[W];this.trait.unrender($),j.index=te}else{const j={index:te,templateData:$};this.renderedElements.push(j)}this.trait.renderIndex(te,$)}splice(se,te,$){const W=[];for(const j of this.renderedElements)j.index<se?W.push(j):j.index>=se+te&&W.push({index:j.index+$-te,templateData:j.templateData});this.renderedElements=W}renderIndexes(se){for(const{index:te,templateData:$}of this.renderedElements)se.indexOf(te)>-1&&this.trait.renderIndex(te,$)}disposeTemplate(se){const te=this.renderedElements.findIndex($=>$.templateData===se);te<0||this.renderedElements.splice(te,1)}}class g{get name(){return this._trait}get renderer(){return new o(this)}constructor(se){this._trait=se,this.indexes=[],this.sortedIndexes=[],this._onChange=new s.Emitter,this.onChange=this._onChange.event}splice(se,te,$){const W=$.length-te,j=se+te,K=[];let G=0;for(;G<this.sortedIndexes.length&&this.sortedIndexes[G]<se;)K.push(this.sortedIndexes[G++]);for(let ee=0;ee<$.length;ee++)$[ee]&&K.push(ee+se);for(;G<this.sortedIndexes.length&&this.sortedIndexes[G]>=j;)K.push(this.sortedIndexes[G++]+W);this.renderer.splice(se,te,$.length),this._set(K,K)}renderIndex(se,te){te.classList.toggle(this._trait,this.contains(se))}unrender(se){se.classList.remove(this._trait)}set(se,te){return this._set(se,[...se].sort(Y),te)}_set(se,te,$){const W=this.indexes,j=this.sortedIndexes;this.indexes=se,this.sortedIndexes=te;const K=Q(j,se);return this.renderer.renderIndexes(K),this._onChange.fire({indexes:se,browserEvent:$}),W}get(){return this.indexes}contains(se){return(0,w.binarySearch)(this.sortedIndexes,se,Y)>=0}dispose(){(0,t.dispose)(this._onChange)}}Ie([a.memoize],g.prototype,"renderer",null);class c extends g{constructor(se){super("selected"),this.setAriaSelected=se}renderIndex(se,te){super.renderIndex(se,te),this.setAriaSelected&&(this.contains(se)?te.setAttribute("aria-selected","true"):te.setAttribute("aria-selected","false"))}}class b{constructor(se,te,$){this.trait=se,this.view=te,this.identityProvider=$}splice(se,te,$){if(!this.identityProvider)return this.trait.splice(se,te,new Array($.length).fill(!1));const W=this.trait.get().map(G=>this.identityProvider.getId(this.view.element(G)).toString());if(W.length===0)return this.trait.splice(se,te,new Array($.length).fill(!1));const j=new Set(W),K=$.map(G=>j.has(this.identityProvider.getId(G).toString()));this.trait.splice(se,te,K)}}function C(fe){return fe.tagName==="INPUT"||fe.tagName==="TEXTAREA"}function S(fe,se){return fe.classList.contains(se)?!0:fe.classList.contains("monaco-list")||!fe.parentElement?!1:S(fe.parentElement,se)}function D(fe){return S(fe,"monaco-editor")}function I(fe){return S(fe,"monaco-custom-toggle")}function T(fe){return S(fe,"action-item")}function N(fe){return S(fe,"monaco-tree-sticky-row")}function A(fe){return fe.classList.contains("monaco-tree-sticky-container")}function P(fe){return fe.tagName==="A"&&fe.classList.contains("monaco-button")||fe.tagName==="DIV"&&fe.classList.contains("monaco-button-dropdown")?!0:fe.classList.contains("monaco-list")||!fe.parentElement?!1:P(fe.parentElement)}class M{get onKeyDown(){return s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,se=>se.filter(te=>!C(te.target)).map(te=>new E.StandardKeyboardEvent(te)))}constructor(se,te,$){this.list=se,this.view=te,this.disposables=new t.DisposableStore,this.multipleSelectionDisposables=new t.DisposableStore,this.multipleSelectionSupport=$.multipleSelectionSupport,this.disposables.add(this.onKeyDown(W=>{switch(W.keyCode){case 3:return this.onEnter(W);case 16:return this.onUpArrow(W);case 18:return this.onDownArrow(W);case 11:return this.onPageUpArrow(W);case 12:return this.onPageDownArrow(W);case 9:return this.onEscape(W);case 31:this.multipleSelectionSupport&&(h.isMacintosh?W.metaKey:W.ctrlKey)&&this.onCtrlA(W)}}))}updateOptions(se){se.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=se.multipleSelectionSupport)}onEnter(se){se.preventDefault(),se.stopPropagation(),this.list.setSelection(this.list.getFocus(),se.browserEvent)}onUpArrow(se){se.preventDefault(),se.stopPropagation(),this.list.focusPrevious(1,!1,se.browserEvent);const te=this.list.getFocus()[0];this.list.setAnchor(te),this.list.reveal(te),this.view.domNode.focus()}onDownArrow(se){se.preventDefault(),se.stopPropagation(),this.list.focusNext(1,!1,se.browserEvent);const te=this.list.getFocus()[0];this.list.setAnchor(te),this.list.reveal(te),this.view.domNode.focus()}onPageUpArrow(se){se.preventDefault(),se.stopPropagation(),this.list.focusPreviousPage(se.browserEvent);const te=this.list.getFocus()[0];this.list.setAnchor(te),this.list.reveal(te),this.view.domNode.focus()}onPageDownArrow(se){se.preventDefault(),se.stopPropagation(),this.list.focusNextPage(se.browserEvent);const te=this.list.getFocus()[0];this.list.setAnchor(te),this.list.reveal(te),this.view.domNode.focus()}onCtrlA(se){se.preventDefault(),se.stopPropagation(),this.list.setSelection((0,w.range)(this.list.length),se.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(se){this.list.getSelection().length&&(se.preventDefault(),se.stopPropagation(),this.list.setSelection([],se.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ie([a.memoize],M.prototype,"onKeyDown",null);var R;(function(fe){fe[fe.Automatic=0]="Automatic",fe[fe.Trigger=1]="Trigger"})(R||(e.TypeNavigationMode=R={}));var F;(function(fe){fe[fe.Idle=0]="Idle",fe[fe.Typing=1]="Typing"})(F||(F={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(fe){return fe.ctrlKey||fe.metaKey||fe.altKey?!1:fe.keyCode>=31&&fe.keyCode<=56||fe.keyCode>=21&&fe.keyCode<=30||fe.keyCode>=98&&fe.keyCode<=107||fe.keyCode>=85&&fe.keyCode<=95}};class O{constructor(se,te,$,W,j){this.list=se,this.view=te,this.keyboardNavigationLabelProvider=$,this.keyboardNavigationEventFilter=W,this.delegate=j,this.enabled=!1,this.state=F.Idle,this.mode=R.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new t.DisposableStore,this.disposables=new t.DisposableStore,this.updateOptions(se.options)}updateOptions(se){var te,$;!((te=se.typeNavigationEnabled)!==null&&te!==void 0)||te?this.enable():this.disable(),this.mode=($=se.typeNavigationMode)!==null&&$!==void 0?$:R.Automatic}enable(){if(this.enabled)return;let se=!1;const te=s.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,j=>j.filter(K=>!C(K.target)).filter(()=>this.mode===R.Automatic||this.triggered).map(K=>new E.StandardKeyboardEvent(K)).filter(K=>se||this.keyboardNavigationEventFilter(K)).filter(K=>this.delegate.mightProducePrintableCharacter(K)).forEach(K=>f.EventHelper.stop(K,!0)).map(K=>K.browserEvent.key)),$=s.Event.debounce(te,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);s.Event.reduce(s.Event.any(te,$),(j,K)=>K===null?null:(j||"")+K,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),$(this.onClear,this,this.enabledDisposables),te(()=>se=!0,void 0,this.enabledDisposables),$(()=>se=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var se;const te=this.list.getFocus();if(te.length>0&&te[0]===this.previouslyFocused){const $=(se=this.list.options.accessibilityProvider)===null||se===void 0?void 0:se.getAriaLabel(this.list.element(te[0]));typeof $=="string"?(0,y.alert)($):$&&(0,y.alert)($.get())}this.previouslyFocused=-1}onInput(se){if(!se){this.state=F.Idle,this.triggered=!1;return}const te=this.list.getFocus(),$=te.length>0?te[0]:0,W=this.state===F.Idle?1:0;this.state=F.Typing;for(let j=0;j<this.list.length;j++){const K=($+j+W)%this.list.length,G=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(K)),ee=G&&G.toString();if(this.list.options.typeNavigationEnabled){if(typeof ee<"u"){if((0,i.matchesPrefix)(se,ee)){this.previouslyFocused=$,this.list.setFocus([K]),this.list.reveal(K);return}const oe=(0,i.matchesFuzzy2)(se,ee);if(oe&&oe[0].end-oe[0].start>1&&oe.length===1){this.previouslyFocused=$,this.list.setFocus([K]),this.list.reveal(K);return}}}else if(typeof ee>"u"||(0,i.matchesPrefix)(se,ee)){this.previouslyFocused=$,this.list.setFocus([K]),this.list.reveal(K);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class B{constructor(se,te){this.list=se,this.view=te,this.disposables=new t.DisposableStore;const $=s.Event.chain(this.disposables.add(new k.DomEmitter(te.domNode,"keydown")).event,j=>j.filter(K=>!C(K.target)).map(K=>new E.StandardKeyboardEvent(K)));s.Event.chain($,j=>j.filter(K=>K.keyCode===2&&!K.ctrlKey&&!K.metaKey&&!K.shiftKey&&!K.altKey))(this.onTab,this,this.disposables)}onTab(se){if(se.target!==this.view.domNode)return;const te=this.list.getFocus();if(te.length===0)return;const $=this.view.domElement(te[0]);if(!$)return;const W=$.querySelector("[tabIndex]");if(!W||!(W instanceof HTMLElement)||W.tabIndex===-1)return;const j=(0,f.getWindow)(W).getComputedStyle(W);j.visibility==="hidden"||j.display==="none"||(se.preventDefault(),se.stopPropagation(),W.focus())}dispose(){this.disposables.dispose()}}function H(fe){return h.isMacintosh?fe.browserEvent.metaKey:fe.browserEvent.ctrlKey}function V(fe){return fe.browserEvent.shiftKey}function q(fe){return(0,f.isMouseEvent)(fe)&&fe.button===2}const z={isSelectionSingleChangeEvent:H,isSelectionRangeChangeEvent:V};class U{constructor(se){this.list=se,this.disposables=new t.DisposableStore,this._onPointer=new s.Emitter,this.onPointer=this._onPointer.event,se.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||z),this.mouseSupport=typeof se.options.mouseSupport>"u"||!!se.options.mouseSupport,this.mouseSupport&&(se.onMouseDown(this.onMouseDown,this,this.disposables),se.onContextMenu(this.onContextMenu,this,this.disposables),se.onMouseDblClick(this.onDoubleClick,this,this.disposables),se.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(L.Gesture.addTarget(se.getHTMLElement()))),s.Event.any(se.onMouseClick,se.onMouseMiddleClick,se.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(se){se.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,se.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||z))}isSelectionSingleChangeEvent(se){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(se):!1}isSelectionRangeChangeEvent(se){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(se):!1}isSelectionChangeEvent(se){return this.isSelectionSingleChangeEvent(se)||this.isSelectionRangeChangeEvent(se)}onMouseDown(se){D(se.browserEvent.target)||(0,f.getActiveElement)()!==se.browserEvent.target&&this.list.domFocus()}onContextMenu(se){if(C(se.browserEvent.target)||D(se.browserEvent.target))return;const te=typeof se.index>"u"?[]:[se.index];this.list.setFocus(te,se.browserEvent)}onViewPointer(se){if(!this.mouseSupport||C(se.browserEvent.target)||D(se.browserEvent.target)||se.browserEvent.isHandledByList)return;se.browserEvent.isHandledByList=!0;const te=se.index;if(typeof te>"u"){this.list.setFocus([],se.browserEvent),this.list.setSelection([],se.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(se))return this.changeSelection(se);this.list.setFocus([te],se.browserEvent),this.list.setAnchor(te),q(se.browserEvent)||this.list.setSelection([te],se.browserEvent),this._onPointer.fire(se)}onDoubleClick(se){if(C(se.browserEvent.target)||D(se.browserEvent.target)||this.isSelectionChangeEvent(se)||se.browserEvent.isHandledByList)return;se.browserEvent.isHandledByList=!0;const te=this.list.getFocus();this.list.setSelection(te,se.browserEvent)}changeSelection(se){const te=se.index;let $=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(se)){if(typeof $>"u"){const de=this.list.getFocus()[0];$=de??te,this.list.setAnchor($)}const W=Math.min($,te),j=Math.max($,te),K=(0,w.range)(W,j+1),G=this.list.getSelection(),ee=x(Q(G,[$]),$);if(ee.length===0)return;const oe=Q(K,X(G,ee));this.list.setSelection(oe,se.browserEvent),this.list.setFocus([te],se.browserEvent)}else if(this.isSelectionSingleChangeEvent(se)){const W=this.list.getSelection(),j=W.filter(K=>K!==te);this.list.setFocus([te]),this.list.setAnchor(te),W.length===j.length?this.list.setSelection([...j,te],se.browserEvent):this.list.setSelection(j,se.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=U;class Z{constructor(se,te){this.styleElement=se,this.selectorSuffix=te}style(se){var te,$;const W=this.selectorSuffix&&`.${this.selectorSuffix}`,j=[];se.listBackground&&j.push(`.monaco-list${W} .monaco-list-rows { background: ${se.listBackground}; }`),se.listFocusBackground&&(j.push(`.monaco-list${W}:focus .monaco-list-row.focused { background-color: ${se.listFocusBackground}; }`),j.push(`.monaco-list${W}:focus .monaco-list-row.focused:hover { background-color: ${se.listFocusBackground}; }`)),se.listFocusForeground&&j.push(`.monaco-list${W}:focus .monaco-list-row.focused { color: ${se.listFocusForeground}; }`),se.listActiveSelectionBackground&&(j.push(`.monaco-list${W}:focus .monaco-list-row.selected { background-color: ${se.listActiveSelectionBackground}; }`),j.push(`.monaco-list${W}:focus .monaco-list-row.selected:hover { background-color: ${se.listActiveSelectionBackground}; }`)),se.listActiveSelectionForeground&&j.push(`.monaco-list${W}:focus .monaco-list-row.selected { color: ${se.listActiveSelectionForeground}; }`),se.listActiveSelectionIconForeground&&j.push(`.monaco-list${W}:focus .monaco-list-row.selected .codicon { color: ${se.listActiveSelectionIconForeground}; }`),se.listFocusAndSelectionBackground&&j.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { background-color: ${se.listFocusAndSelectionBackground}; }
			`),se.listFocusAndSelectionForeground&&j.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { color: ${se.listFocusAndSelectionForeground}; }
			`),se.listInactiveFocusForeground&&(j.push(`.monaco-list${W} .monaco-list-row.focused { color:  ${se.listInactiveFocusForeground}; }`),j.push(`.monaco-list${W} .monaco-list-row.focused:hover { color:  ${se.listInactiveFocusForeground}; }`)),se.listInactiveSelectionIconForeground&&j.push(`.monaco-list${W} .monaco-list-row.focused .codicon { color:  ${se.listInactiveSelectionIconForeground}; }`),se.listInactiveFocusBackground&&(j.push(`.monaco-list${W} .monaco-list-row.focused { background-color:  ${se.listInactiveFocusBackground}; }`),j.push(`.monaco-list${W} .monaco-list-row.focused:hover { background-color:  ${se.listInactiveFocusBackground}; }`)),se.listInactiveSelectionBackground&&(j.push(`.monaco-list${W} .monaco-list-row.selected { background-color:  ${se.listInactiveSelectionBackground}; }`),j.push(`.monaco-list${W} .monaco-list-row.selected:hover { background-color:  ${se.listInactiveSelectionBackground}; }`)),se.listInactiveSelectionForeground&&j.push(`.monaco-list${W} .monaco-list-row.selected { color: ${se.listInactiveSelectionForeground}; }`),se.listHoverBackground&&j.push(`.monaco-list${W}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${se.listHoverBackground}; }`),se.listHoverForeground&&j.push(`.monaco-list${W}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${se.listHoverForeground}; }`);const K=(0,f.asCssValueWithDefault)(se.listFocusAndSelectionOutline,(0,f.asCssValueWithDefault)(se.listSelectionOutline,(te=se.listFocusOutline)!==null&&te!==void 0?te:""));K&&j.push(`.monaco-list${W}:focus .monaco-list-row.focused.selected { outline: 1px solid ${K}; outline-offset: -1px;}`),se.listFocusOutline&&j.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.focused { outline: 1px solid ${se.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${W}.last-focused .monaco-list-row.focused { outline: 1px solid ${se.listFocusOutline}; outline-offset: -1px; }
			`);const G=(0,f.asCssValueWithDefault)(se.listSelectionOutline,($=se.listInactiveFocusOutline)!==null&&$!==void 0?$:"");G&&j.push(`.monaco-list${W} .monaco-list-row.focused.selected { outline: 1px dotted ${G}; outline-offset: -1px; }`),se.listSelectionOutline&&j.push(`.monaco-list${W} .monaco-list-row.selected { outline: 1px dotted ${se.listSelectionOutline}; outline-offset: -1px; }`),se.listInactiveFocusOutline&&j.push(`.monaco-list${W} .monaco-list-row.focused { outline: 1px dotted ${se.listInactiveFocusOutline}; outline-offset: -1px; }`),se.listHoverOutline&&j.push(`.monaco-list${W} .monaco-list-row:hover { outline: 1px dashed ${se.listHoverOutline}; outline-offset: -1px; }`),se.listDropOverBackground&&j.push(`
				.monaco-list${W}.drop-target,
				.monaco-list${W} .monaco-list-rows.drop-target,
				.monaco-list${W} .monaco-list-row.drop-target { background-color: ${se.listDropOverBackground} !important; color: inherit !important; }
			`),se.listDropBetweenBackground&&(j.push(`
			.monaco-list${W} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${W} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${se.listDropBetweenBackground};
			}`),j.push(`
			.monaco-list${W} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${W} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${se.listDropBetweenBackground};
			}`)),se.tableColumnsBorder&&j.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${se.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),se.tableOddRowsBackgroundColor&&j.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${se.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=j.join(`
`)}}e.DefaultStyleController=Z,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:_.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:_.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:_.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const re={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function x(fe,se){const te=fe.indexOf(se);if(te===-1)return[];const $=[];let W=te-1;for(;W>=0&&fe[W]===se-(te-W);)$.push(fe[W--]);for($.reverse(),W=te;W<fe.length&&fe[W]===se+(W-te);)$.push(fe[W++]);return $}function Q(fe,se){const te=[];let $=0,W=0;for(;$<fe.length||W<se.length;)if($>=fe.length)te.push(se[W++]);else if(W>=se.length)te.push(fe[$++]);else if(fe[$]===se[W]){te.push(fe[$]),$++,W++;continue}else fe[$]<se[W]?te.push(fe[$++]):te.push(se[W++]);return te}function X(fe,se){const te=[];let $=0,W=0;for(;$<fe.length||W<se.length;)if($>=fe.length)te.push(se[W++]);else if(W>=se.length)te.push(fe[$++]);else if(fe[$]===se[W]){$++,W++;continue}else fe[$]<se[W]?te.push(fe[$++]):W++;return te}const Y=(fe,se)=>fe-se;class ae{constructor(se,te){this._templateId=se,this.renderers=te}get templateId(){return this._templateId}renderTemplate(se){return this.renderers.map(te=>te.renderTemplate(se))}renderElement(se,te,$,W){let j=0;for(const K of this.renderers)K.renderElement(se,te,$[j++],W)}disposeElement(se,te,$,W){var j;let K=0;for(const G of this.renderers)(j=G.disposeElement)===null||j===void 0||j.call(G,se,te,$[K],W),K+=1}disposeTemplate(se){let te=0;for(const $ of this.renderers)$.disposeTemplate(se[te++])}}class ce{constructor(se){this.accessibilityProvider=se,this.templateId="a18n"}renderTemplate(se){return{container:se,disposables:new t.DisposableStore}}renderElement(se,te,$){const W=this.accessibilityProvider.getAriaLabel(se),j=W&&typeof W!="string"?W:(0,l.constObservable)(W);$.disposables.add((0,l.autorun)(G=>{this.setAriaLabel(G.readObservable(j),$.container)}));const K=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(se);typeof K=="number"?$.container.setAttribute("aria-level",`${K}`):$.container.removeAttribute("aria-level")}setAriaLabel(se,te){se?te.setAttribute("aria-label",se):te.removeAttribute("aria-label")}disposeElement(se,te,$,W){$.disposables.clear()}disposeTemplate(se){se.disposables.dispose()}}class he{constructor(se,te){this.list=se,this.dnd=te}getDragElements(se){const te=this.list.getSelectedElements();return te.indexOf(se)>-1?te:[se]}getDragURI(se){return this.dnd.getDragURI(se)}getDragLabel(se,te){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(se,te)}onDragStart(se,te){var $,W;(W=($=this.dnd).onDragStart)===null||W===void 0||W.call($,se,te)}onDragOver(se,te,$,W,j){return this.dnd.onDragOver(se,te,$,W,j)}onDragLeave(se,te,$,W){var j,K;(K=(j=this.dnd).onDragLeave)===null||K===void 0||K.call(j,se,te,$,W)}onDragEnd(se){var te,$;($=(te=this.dnd).onDragEnd)===null||$===void 0||$.call(te,se)}drop(se,te,$,W,j){this.dnd.drop(se,te,$,W,j)}dispose(){this.dnd.dispose()}}class pe{get onDidChangeFocus(){return s.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),se=>this.toListEvent(se),this.disposables)}get onDidChangeSelection(){return s.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),se=>this.toListEvent(se),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let se=!1;const te=s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,j=>j.map(K=>new E.StandardKeyboardEvent(K)).filter(K=>se=K.keyCode===58||K.shiftKey&&K.keyCode===68).map(K=>f.EventHelper.stop(K,!0)).filter(()=>!1)),$=s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event,j=>j.forEach(()=>se=!1).map(K=>new E.StandardKeyboardEvent(K)).filter(K=>K.keyCode===58||K.shiftKey&&K.keyCode===68).map(K=>f.EventHelper.stop(K,!0)).map(({browserEvent:K})=>{const G=this.getFocus(),ee=G.length?G[0]:void 0,oe=typeof ee<"u"?this.view.element(ee):void 0,de=typeof ee<"u"?this.view.domElement(ee):this.view.domNode;return{index:ee,element:oe,anchor:de,browserEvent:K}})),W=s.Event.chain(this.view.onContextMenu,j=>j.filter(K=>!se).map(({element:K,index:G,browserEvent:ee})=>({element:K,index:G,anchor:new r.StandardMouseEvent((0,f.getWindow)(this.view.domNode),ee),browserEvent:ee})));return s.Event.any(te,$,W)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return s.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return s.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"blur",!0)).event)}constructor(se,te,$,W,j=re){var K,G,ee,oe;this.user=se,this._options=j,this.focus=new g("focused"),this.anchor=new g("anchor"),this.eventBufferer=new s.EventBufferer,this._ariaLabel="",this.disposables=new t.DisposableStore,this._onDidDispose=new s.Emitter,this.onDidDispose=this._onDidDispose.event;const de=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(K=this._options.accessibilityProvider)===null||K===void 0?void 0:K.getWidgetRole():"list";this.selection=new c(de!=="listbox");const le=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=j.accessibilityProvider,this.accessibilityProvider&&(le.push(new ce(this.accessibilityProvider)),(ee=(G=this.accessibilityProvider).onDidChangeActiveDescendant)===null||ee===void 0||ee.call(G,this.onDidChangeActiveDescendant,this,this.disposables)),W=W.map(ve=>new ae(ve.templateId,[...le,ve]));const ge={...j,dnd:j.dnd&&new he(this,j.dnd)};if(this.view=this.createListView(te,$,W,ge),this.view.domNode.setAttribute("role",de),j.styleController)this.styleController=j.styleController(this.view.domId);else{const ve=(0,f.createStyleSheet)(this.view.domNode);this.styleController=new Z(ve,this.view.domId)}if(this.spliceable=new p.CombinedSpliceable([new b(this.focus,this.view,j.identityProvider),new b(this.selection,this.view,j.identityProvider),new b(this.anchor,this.view,j.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new B(this,this.view)),(typeof j.keyboardSupport!="boolean"||j.keyboardSupport)&&(this.keyboardController=new M(this,this.view,j),this.disposables.add(this.keyboardController)),j.keyboardNavigationLabelProvider){const ve=j.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new O(this,this.view,j.keyboardNavigationLabelProvider,(oe=j.keyboardNavigationEventFilter)!==null&&oe!==void 0?oe:()=>!0,ve),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(j),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(se,te,$,W){return new d.ListView(se,te,$,W)}createMouseController(se){return new U(this)}updateOptions(se={}){var te,$;this._options={...this._options,...se},(te=this.typeNavigationController)===null||te===void 0||te.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(se),($=this.keyboardController)===null||$===void 0||$.updateOptions(se),this.view.updateOptions(se)}get options(){return this._options}splice(se,te,$=[]){if(se<0||se>this.view.length)throw new u.ListError(this.user,`Invalid start index: ${se}`);if(te<0)throw new u.ListError(this.user,`Invalid delete count: ${te}`);te===0&&$.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(se,te,$))}rerender(){this.view.rerender()}element(se){return this.view.element(se)}indexOf(se){return this.view.indexOf(se)}indexAt(se){return this.view.indexAt(se)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(se){this.view.setScrollTop(se)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(se){this._ariaLabel=se,this.view.domNode.setAttribute("aria-label",se)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(se,te){this.view.layout(se,te)}setSelection(se,te){for(const $ of se)if($<0||$>=this.length)throw new u.ListError(this.user,`Invalid index ${$}`);this.selection.set(se,te)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(se=>this.view.element(se))}setAnchor(se){if(typeof se>"u"){this.anchor.set([]);return}if(se<0||se>=this.length)throw new u.ListError(this.user,`Invalid index ${se}`);this.anchor.set([se])}getAnchor(){return(0,w.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const se=this.getAnchor();return typeof se>"u"?void 0:this.element(se)}setFocus(se,te){for(const $ of se)if($<0||$>=this.length)throw new u.ListError(this.user,`Invalid index ${$}`);this.focus.set(se,te)}focusNext(se=1,te=!1,$,W){if(this.length===0)return;const j=this.focus.get(),K=this.findNextIndex(j.length>0?j[0]+se:0,te,W);K>-1&&this.setFocus([K],$)}focusPrevious(se=1,te=!1,$,W){if(this.length===0)return;const j=this.focus.get(),K=this.findPreviousIndex(j.length>0?j[0]-se:0,te,W);K>-1&&this.setFocus([K],$)}async focusNextPage(se,te){let $=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);$=$===0?0:$-1;const W=this.getFocus()[0];if(W!==$&&(W===void 0||$>W)){const j=this.findPreviousIndex($,!1,te);j>-1&&W!==j?this.setFocus([j],se):this.setFocus([$],se)}else{const j=this.view.getScrollTop();let K=j+this.view.renderHeight;$>W&&(K-=this.view.elementHeight($)),this.view.setScrollTop(K),this.view.getScrollTop()!==j&&(this.setFocus([]),await(0,v.timeout)(0),await this.focusNextPage(se,te))}}async focusPreviousPage(se,te,$=()=>0){let W;const j=$(),K=this.view.getScrollTop()+j;K===0?W=this.view.indexAt(K):W=this.view.indexAfter(K-1);const G=this.getFocus()[0];if(G!==W&&(G===void 0||G>=W)){const ee=this.findNextIndex(W,!1,te);ee>-1&&G!==ee?this.setFocus([ee],se):this.setFocus([W],se)}else{const ee=K;this.view.setScrollTop(K-this.view.renderHeight-j),this.view.getScrollTop()+$()!==ee&&(this.setFocus([]),await(0,v.timeout)(0),await this.focusPreviousPage(se,te,$))}}focusLast(se,te){if(this.length===0)return;const $=this.findPreviousIndex(this.length-1,!1,te);$>-1&&this.setFocus([$],se)}focusFirst(se,te){this.focusNth(0,se,te)}focusNth(se,te,$){if(this.length===0)return;const W=this.findNextIndex(se,!1,$);W>-1&&this.setFocus([W],te)}findNextIndex(se,te=!1,$){for(let W=0;W<this.length;W++){if(se>=this.length&&!te)return-1;if(se=se%this.length,!$||$(this.element(se)))return se;se++}return-1}findPreviousIndex(se,te=!1,$){for(let W=0;W<this.length;W++){if(se<0&&!te)return-1;if(se=(this.length+se%this.length)%this.length,!$||$(this.element(se)))return se;se--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(se=>this.view.element(se))}reveal(se,te,$=0){if(se<0||se>=this.length)throw new u.ListError(this.user,`Invalid index ${se}`);const W=this.view.getScrollTop(),j=this.view.elementTop(se),K=this.view.elementHeight(se);if((0,m.isNumber)(te)){const G=K-this.view.renderHeight+$;this.view.setScrollTop(G*(0,n.clamp)(te,0,1)+j-$)}else{const G=j+K,ee=W+this.view.renderHeight;j<W+$&&G>=ee||(j<W+$||G>=ee&&K>=this.view.renderHeight?this.view.setScrollTop(j-$):G>=ee&&this.view.setScrollTop(G-this.view.renderHeight))}}getRelativeTop(se,te=0){if(se<0||se>=this.length)throw new u.ListError(this.user,`Invalid index ${se}`);const $=this.view.getScrollTop(),W=this.view.elementTop(se),j=this.view.elementHeight(se);if(W<$+te||W+j>$+this.view.renderHeight)return null;const K=j-this.view.renderHeight+te;return Math.abs(($+te-W)/K)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(se){return this.view.getElementDomId(se)}getElementTop(se){return this.view.elementTop(se)}style(se){this.styleController.style(se)}toListEvent({indexes:se,browserEvent:te}){return{indexes:se,elements:se.map($=>this.view.element($)),browserEvent:te}}_onFocusChange(){const se=this.focus.get();this.view.domNode.classList.toggle("element-focused",se.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var se;const te=this.focus.get();if(te.length>0){let $;!((se=this.accessibilityProvider)===null||se===void 0)&&se.getActiveDescendantId&&($=this.accessibilityProvider.getActiveDescendantId(this.view.element(te[0]))),this.view.domNode.setAttribute("aria-activedescendant",$||this.view.getElementDomId(te[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const se=this.selection.get();this.view.domNode.classList.toggle("selection-none",se.length===0),this.view.domNode.classList.toggle("selection-single",se.length===1),this.view.domNode.classList.toggle("selection-multiple",se.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=pe,Ie([a.memoize],pe.prototype,"onDidChangeFocus",null),Ie([a.memoize],pe.prototype,"onDidChangeSelection",null),Ie([a.memoize],pe.prototype,"onContextMenu",null),Ie([a.memoize],pe.prototype,"onKeyDown",null),Ie([a.memoize],pe.prototype,"onDidFocus",null),Ie([a.memoize],pe.prototype,"onDidBlur",null)}),define(ie[621],ne([1,0,13,19,7,2,109,293]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{get templateId(){return this.renderer.templateId}constructor(s,i){this.renderer=s,this.modelProvider=i}renderTemplate(s){return{data:this.renderer.renderTemplate(s),disposable:L.Disposable.None}}renderElement(s,i,t,n){var h;if((h=t.disposable)===null||h===void 0||h.dispose(),!t.data)return;const m=this.modelProvider();if(m.isResolved(s))return this.renderer.renderElement(m.get(s),s,t.data,n);const u=new k.CancellationTokenSource,d=m.resolve(s,u.token);t.disposable={dispose:()=>u.cancel()},this.renderer.renderPlaceholder(s,t.data),d.then(r=>this.renderer.renderElement(r,s,t.data,n))}disposeTemplate(s){s.disposable&&(s.disposable.dispose(),s.disposable=void 0),s.data&&(this.renderer.disposeTemplate(s.data),s.data=void 0)}}class w{constructor(s,i){this.modelProvider=s,this.accessibilityProvider=i}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(s){const i=this.modelProvider();return i.isResolved(s)?this.accessibilityProvider.getAriaLabel(i.get(s)):null}}function v(a,s){return{...s,accessibilityProvider:s.accessibilityProvider&&new w(a,s.accessibilityProvider)}}class _{constructor(s,i,t,n,h={}){const m=()=>this.model,u=n.map(d=>new p(d,m));this.list=new y.List(s,i,t,u,v(m,h))}updateOptions(s){this.list.updateOptions(s)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return E.Event.map(this.list.onMouseDblClick,({element:s,index:i,browserEvent:t})=>({element:s===void 0?void 0:this._model.get(s),index:i,browserEvent:t}))}get onPointer(){return E.Event.map(this.list.onPointer,({element:s,index:i,browserEvent:t})=>({element:s===void 0?void 0:this._model.get(s),index:i,browserEvent:t}))}get onDidChangeSelection(){return E.Event.map(this.list.onDidChangeSelection,({elements:s,indexes:i,browserEvent:t})=>({elements:s.map(n=>this._model.get(n)),indexes:i,browserEvent:t}))}get model(){return this._model}set model(s){this._model=s,this.list.splice(0,this.list.length,(0,f.range)(s.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(s=>this.model.get(s))}style(s){this.list.style(s)}dispose(){this.list.dispose()}}e.PagedList=_}),define(ie[339],ne([1,0,6,89,165,79,13,34,7,2,134,156,21,445]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:p.Color.transparent};class t{set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(l,o){var g,c;if(l!==this.visible){l?(this.size=(0,_.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof o=="number"?o:this.size,this.size=0),this.container.classList.toggle("visible",l);try{(c=(g=this.view).setVisible)===null||c===void 0||c.call(g,l)}catch(b){console.error("Splitview: Failed to set visible view"),console.error(b)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var l;return(l=this.view.proportionalLayout)!==null&&l!==void 0?l:!0}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}constructor(l,o,g,c){this.container=l,this.view=o,this.disposable=c,this._cachedVisibleSize=void 0,typeof g=="number"?(this._size=g,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=g.cachedVisibleSize)}layout(l,o){this.layoutContainer(l);try{this.view.layout(this.size,l,o)}catch(g){console.error("Splitview: Failed to layout view"),console.error(g)}}dispose(){this.disposable.dispose()}}class n extends t{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class h extends t{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var m;(function(r){r[r.Idle=0]="Idle",r[r.Busy=1]="Busy"})(m||(m={}));var u;(function(r){r.Distribute={type:"distribute"};function l(c){return{type:"split",index:c}}r.Split=l;function o(c){return{type:"auto",index:c}}r.Auto=o;function g(c){return{type:"invisible",cachedVisibleSize:c}}r.Invisible=g})(u||(e.Sizing=u={}));class d extends v.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(l){for(const o of this.sashItems)o.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}set orthogonalEndSash(l){for(const o of this.sashItems)o.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}constructor(l,o={}){var g,c,b,C,S;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=m.Idle,this._onDidSashChange=this._register(new w.Emitter),this._onDidSashReset=this._register(new w.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(g=o.orientation)!==null&&g!==void 0?g:0,this.inverseAltBehavior=(c=o.inverseAltBehavior)!==null&&c!==void 0?c:!1,this.proportionalLayout=(b=o.proportionalLayout)!==null&&b!==void 0?b:!0,this.getSashOrthogonalSize=o.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,f.append)(this.el,(0,f.$)(".sash-container")),this.viewContainer=(0,f.$)(".split-view-container"),this.scrollable=this._register(new a.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:I=>(0,f.scheduleAtNextAnimationFrame)((0,f.getWindow)(this.el),I)})),this.scrollableElement=this._register(new L.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(C=o.scrollbarVisibility)!==null&&C!==void 0?C:1:2,horizontal:this.orientation===1?(S=o.scrollbarVisibility)!==null&&S!==void 0?S:1:2},this.scrollable));const D=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(D(I=>{const T=this.scrollableElement.getScrollPosition(),N=Math.abs(this.viewContainer.scrollLeft-T.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,A=Math.abs(this.viewContainer.scrollTop-T.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(N!==void 0||A!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:N,scrollTop:A})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{I.scrollTopChanged&&(this.viewContainer.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.viewContainer.scrollLeft=I.scrollLeft)})),(0,f.append)(this.el,this.scrollableElement.getDomNode()),this.style(o.styles||i),o.descriptor&&(this.size=o.descriptor.size,o.descriptor.views.forEach((I,T)=>{const N=s.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},A=I.view;this.doAddView(A,N,T,!0)}),this._contentSize=this.viewItems.reduce((I,T)=>I+T.size,0),this.saveProportions())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,o,g=this.viewItems.length,c){this.doAddView(l,o,g,c)}layout(l,o){const g=Math.max(this.size,this._contentSize);if(this.size=l,this.layoutContext=o,this.proportions){let c=0;for(let b=0;b<this.viewItems.length;b++){const C=this.viewItems[b],S=this.proportions[b];typeof S=="number"?c+=S:l-=C.size}for(let b=0;b<this.viewItems.length;b++){const C=this.viewItems[b],S=this.proportions[b];typeof S=="number"&&c>0&&(C.size=(0,_.clamp)(Math.round(S*l/c),C.minimumSize,C.maximumSize))}}else{const c=(0,y.range)(this.viewItems.length),b=c.filter(S=>this.viewItems[S].priority===1),C=c.filter(S=>this.viewItems[S].priority===2);this.resize(this.viewItems.length-1,l-g,void 0,b,C)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(l=>l.proportionalLayout&&l.visible?l.size/this._contentSize:void 0))}onSashStart({sash:l,start:o,alt:g}){for(const S of this.viewItems)S.enabled=!1;const c=this.sashItems.findIndex(S=>S.sash===l),b=(0,v.combinedDisposable)((0,f.addDisposableListener)(this.el.ownerDocument.body,"keydown",S=>C(this.sashDragState.current,S.altKey)),(0,f.addDisposableListener)(this.el.ownerDocument.body,"keyup",()=>C(this.sashDragState.current,!1))),C=(S,D)=>{const I=this.viewItems.map(M=>M.size);let T=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(D=!D),D)if(c===this.sashItems.length-1){const R=this.viewItems[c];T=(R.minimumSize-R.size)/2,N=(R.maximumSize-R.size)/2}else{const R=this.viewItems[c+1];T=(R.size-R.maximumSize)/2,N=(R.size-R.minimumSize)/2}let A,P;if(!D){const M=(0,y.range)(c,-1),R=(0,y.range)(c+1,this.viewItems.length),F=M.reduce((Z,re)=>Z+(this.viewItems[re].minimumSize-I[re]),0),O=M.reduce((Z,re)=>Z+(this.viewItems[re].viewMaximumSize-I[re]),0),B=R.length===0?Number.POSITIVE_INFINITY:R.reduce((Z,re)=>Z+(I[re]-this.viewItems[re].minimumSize),0),H=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((Z,re)=>Z+(I[re]-this.viewItems[re].viewMaximumSize),0),V=Math.max(F,H),q=Math.min(B,O),z=this.findFirstSnapIndex(M),U=this.findFirstSnapIndex(R);if(typeof z=="number"){const Z=this.viewItems[z],re=Math.floor(Z.viewMinimumSize/2);A={index:z,limitDelta:Z.visible?V-re:V+re,size:Z.size}}if(typeof U=="number"){const Z=this.viewItems[U],re=Math.floor(Z.viewMinimumSize/2);P={index:U,limitDelta:Z.visible?q+re:q-re,size:Z.size}}}this.sashDragState={start:S,current:S,index:c,sizes:I,minDelta:T,maxDelta:N,alt:D,snapBefore:A,snapAfter:P,disposable:b}};C(o,g)}onSashChange({current:l}){const{index:o,start:g,sizes:c,alt:b,minDelta:C,maxDelta:S,snapBefore:D,snapAfter:I}=this.sashDragState;this.sashDragState.current=l;const T=l-g,N=this.resize(o,T,c,void 0,void 0,C,S,D,I);if(b){const A=o===this.sashItems.length-1,P=this.viewItems.map(H=>H.size),M=A?o:o+1,R=this.viewItems[M],F=R.size-R.maximumSize,O=R.size-R.minimumSize,B=A?o-1:o+1;this.resize(B,-N,P,void 0,void 0,F,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const o of this.viewItems)o.enabled=!0}onViewChange(l,o){const g=this.viewItems.indexOf(l);g<0||g>=this.viewItems.length||(o=typeof o=="number"?o:l.size,o=(0,_.clamp)(o,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&g>0?(this.resize(g-1,Math.floor((l.size-o)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=o,this.relayout([g],void 0)))}resizeView(l,o){if(!(l<0||l>=this.viewItems.length)){if(this.state!==m.Idle)throw new Error("Cant modify splitview");this.state=m.Busy;try{const g=(0,y.range)(this.viewItems.length).filter(S=>S!==l),c=[...g.filter(S=>this.viewItems[S].priority===1),l],b=g.filter(S=>this.viewItems[S].priority===2),C=this.viewItems[l];o=Math.round(o),o=(0,_.clamp)(o,C.minimumSize,Math.min(C.maximumSize,this.size)),C.size=o,this.relayout(c,b)}finally{this.state=m.Idle}}}distributeViewSizes(){const l=[];let o=0;for(const S of this.viewItems)S.maximumSize-S.minimumSize>0&&(l.push(S),o+=S.size);const g=Math.floor(o/l.length);for(const S of l)S.size=(0,_.clamp)(g,S.minimumSize,S.maximumSize);const c=(0,y.range)(this.viewItems.length),b=c.filter(S=>this.viewItems[S].priority===1),C=c.filter(S=>this.viewItems[S].priority===2);this.relayout(b,C)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,o,g=this.viewItems.length,c){if(this.state!==m.Idle)throw new Error("Cant modify splitview");this.state=m.Busy;try{const b=(0,f.$)(".split-view-view");g===this.viewItems.length?this.viewContainer.appendChild(b):this.viewContainer.insertBefore(b,this.viewContainer.children.item(g));const C=l.onDidChange(A=>this.onViewChange(T,A)),S=(0,v.toDisposable)(()=>this.viewContainer.removeChild(b)),D=(0,v.combinedDisposable)(C,S);let I;typeof o=="number"?I=o:(o.type==="auto"&&(this.areViewsDistributed()?o={type:"distribute"}:o={type:"split",index:o.index}),o.type==="split"?I=this.getViewSize(o.index)/2:o.type==="invisible"?I={cachedVisibleSize:o.cachedVisibleSize}:I=l.minimumSize);const T=this.orientation===0?new n(b,l,I,D):new h(b,l,I,D);if(this.viewItems.splice(g,0,T),this.viewItems.length>1){const A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},P=this.orientation===0?new E.Sash(this.sashContainer,{getHorizontalSashTop:Z=>this.getSashPosition(Z),getHorizontalSashWidth:this.getSashOrthogonalSize},{...A,orientation:1}):new E.Sash(this.sashContainer,{getVerticalSashLeft:Z=>this.getSashPosition(Z),getVerticalSashHeight:this.getSashOrthogonalSize},{...A,orientation:0}),M=this.orientation===0?Z=>({sash:P,start:Z.startY,current:Z.currentY,alt:Z.altKey}):Z=>({sash:P,start:Z.startX,current:Z.currentX,alt:Z.altKey}),F=w.Event.map(P.onDidStart,M)(this.onSashStart,this),B=w.Event.map(P.onDidChange,M)(this.onSashChange,this),V=w.Event.map(P.onDidEnd,()=>this.sashItems.findIndex(Z=>Z.sash===P))(this.onSashEnd,this),q=P.onDidReset(()=>{const Z=this.sashItems.findIndex(Y=>Y.sash===P),re=(0,y.range)(Z,-1),x=(0,y.range)(Z+1,this.viewItems.length),Q=this.findFirstSnapIndex(re),X=this.findFirstSnapIndex(x);typeof Q=="number"&&!this.viewItems[Q].visible||typeof X=="number"&&!this.viewItems[X].visible||this._onDidSashReset.fire(Z)}),z=(0,v.combinedDisposable)(F,B,V,q,P),U={sash:P,disposable:z};this.sashItems.splice(g-1,0,U)}b.appendChild(l.element);let N;typeof o!="number"&&o.type==="split"&&(N=[o.index]),c||this.relayout([g],N),!c&&typeof o!="number"&&o.type==="distribute"&&this.distributeViewSizes()}finally{this.state=m.Idle}}relayout(l,o){const g=this.viewItems.reduce((c,b)=>c+b.size,0);this.resize(this.viewItems.length-1,this.size-g,void 0,l,o),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,o,g=this.viewItems.map(T=>T.size),c,b,C=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,D,I){if(l<0||l>=this.viewItems.length)return 0;const T=(0,y.range)(l,-1),N=(0,y.range)(l+1,this.viewItems.length);if(b)for(const U of b)(0,y.pushToStart)(T,U),(0,y.pushToStart)(N,U);if(c)for(const U of c)(0,y.pushToEnd)(T,U),(0,y.pushToEnd)(N,U);const A=T.map(U=>this.viewItems[U]),P=T.map(U=>g[U]),M=N.map(U=>this.viewItems[U]),R=N.map(U=>g[U]),F=T.reduce((U,Z)=>U+(this.viewItems[Z].minimumSize-g[Z]),0),O=T.reduce((U,Z)=>U+(this.viewItems[Z].maximumSize-g[Z]),0),B=N.length===0?Number.POSITIVE_INFINITY:N.reduce((U,Z)=>U+(g[Z]-this.viewItems[Z].minimumSize),0),H=N.length===0?Number.NEGATIVE_INFINITY:N.reduce((U,Z)=>U+(g[Z]-this.viewItems[Z].maximumSize),0),V=Math.max(F,H,C),q=Math.min(B,O,S);let z=!1;if(D){const U=this.viewItems[D.index],Z=o>=D.limitDelta;z=Z!==U.visible,U.setVisible(Z,D.size)}if(!z&&I){const U=this.viewItems[I.index],Z=o<I.limitDelta;z=Z!==U.visible,U.setVisible(Z,I.size)}if(z)return this.resize(l,o,g,c,b,C,S);o=(0,_.clamp)(o,V,q);for(let U=0,Z=o;U<A.length;U++){const re=A[U],x=(0,_.clamp)(P[U]+Z,re.minimumSize,re.maximumSize),Q=x-P[U];Z-=Q,re.size=x}for(let U=0,Z=o;U<M.length;U++){const re=M[U],x=(0,_.clamp)(R[U]-Z,re.minimumSize,re.maximumSize),Q=x-R[U];Z+=Q,re.size=x}return o}distributeEmptySpace(l){const o=this.viewItems.reduce((S,D)=>S+D.size,0);let g=this.size-o;const c=(0,y.range)(this.viewItems.length-1,-1),b=c.filter(S=>this.viewItems[S].priority===1),C=c.filter(S=>this.viewItems[S].priority===2);for(const S of C)(0,y.pushToStart)(c,S);for(const S of b)(0,y.pushToEnd)(c,S);typeof l=="number"&&(0,y.pushToEnd)(c,l);for(let S=0;g!==0&&S<c.length;S++){const D=this.viewItems[c[S]],I=(0,_.clamp)(D.size+g,D.minimumSize,D.maximumSize),T=I-D.size;g-=T,D.size=I}}layoutViews(){this._contentSize=this.viewItems.reduce((o,g)=>o+g.size,0);let l=0;for(const o of this.viewItems)o.layout(l,this.layoutContext),l+=o.size;this.sashItems.forEach(o=>o.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let l=!1;const o=this.viewItems.map(D=>l=D.size-D.minimumSize>0||l);l=!1;const g=this.viewItems.map(D=>l=D.maximumSize-D.size>0||l),c=[...this.viewItems].reverse();l=!1;const b=c.map(D=>l=D.size-D.minimumSize>0||l).reverse();l=!1;const C=c.map(D=>l=D.maximumSize-D.size>0||l).reverse();let S=0;for(let D=0;D<this.sashItems.length;D++){const{sash:I}=this.sashItems[D],T=this.viewItems[D];S+=T.size;const N=!(o[D]&&C[D+1]),A=!(g[D]&&b[D+1]);if(N&&A){const P=(0,y.range)(D,-1),M=(0,y.range)(D+1,this.viewItems.length),R=this.findFirstSnapIndex(P),F=this.findFirstSnapIndex(M),O=typeof R=="number"&&!this.viewItems[R].visible,B=typeof F=="number"&&!this.viewItems[F].visible;O&&b[D]&&(S>0||this.startSnappingEnabled)?I.state=1:B&&o[D]&&(S<this._contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else N&&!A?I.state=1:!N&&A?I.state=2:I.state=3}}getSashPosition(l){let o=0;for(let g=0;g<this.sashItems.length;g++)if(o+=this.viewItems[g].size,this.sashItems[g].sash===l)return o;return 0}findFirstSnapIndex(l){for(const o of l){const g=this.viewItems[o];if(g.visible&&g.snap)return o}for(const o of l){const g=this.viewItems[o];if(g.visible&&g.maximumSize-g.minimumSize>0)return;if(!g.visible&&g.snap)return o}}areViewsDistributed(){let l,o;for(const g of this.viewItems)if(l=l===void 0?g.size:Math.min(l,g.size),o=o===void 0?g.size:Math.max(o,g.size),o-l>2)return!1;return!0}dispose(){var l;(l=this.sashDragState)===null||l===void 0||l.disposable.dispose(),(0,v.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(o=>o.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=d}),define(ie[50],ne([1,0,239,49,97,17,11,22]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=void 0,e.originalFSPath=w;function w(a){return(0,p.uriToFsPath)(a,!0)}class v{constructor(s){this._ignorePathCasing=s}compare(s,i,t=!1){return s===i?0:(0,y.compare)(this.getComparisonKey(s,t),this.getComparisonKey(i,t))}isEqual(s,i,t=!1){return s===i?!0:!s||!i?!1:this.getComparisonKey(s,t)===this.getComparisonKey(i,t)}getComparisonKey(s,i=!1){return s.with({path:this._ignorePathCasing(s)?s.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}isEqualOrParent(s,i,t=!1){if(s.scheme===i.scheme){if(s.scheme===k.Schemas.file)return f.isEqualOrParent(w(s),w(i),this._ignorePathCasing(s))&&s.query===i.query&&(t||s.fragment===i.fragment);if((0,e.isEqualAuthority)(s.authority,i.authority))return f.isEqualOrParent(s.path,i.path,this._ignorePathCasing(s),"/")&&s.query===i.query&&(t||s.fragment===i.fragment)}return!1}joinPath(s,...i){return p.URI.joinPath(s,...i)}basenameOrAuthority(s){return(0,e.basename)(s)||s.authority}basename(s){return E.posix.basename(s.path)}extname(s){return E.posix.extname(s.path)}dirname(s){if(s.path.length===0)return s;let i;return s.scheme===k.Schemas.file?i=p.URI.file(E.dirname(w(s))).path:(i=E.posix.dirname(s.path),s.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${s.toString})) resulted in a relative path`),i="/")),s.with({path:i})}normalizePath(s){if(!s.path.length)return s;let i;return s.scheme===k.Schemas.file?i=p.URI.file(E.normalize(w(s))).path:i=E.posix.normalize(s.path),s.with({path:i})}relativePath(s,i){if(s.scheme!==i.scheme||!(0,e.isEqualAuthority)(s.authority,i.authority))return;if(s.scheme===k.Schemas.file){const h=E.relative(w(s),w(i));return L.isWindows?f.toSlashes(h):h}let t=s.path||"/";const n=i.path||"/";if(this._ignorePathCasing(s)){let h=0;for(const m=Math.min(t.length,n.length);h<m&&!(t.charCodeAt(h)!==n.charCodeAt(h)&&t.charAt(h).toLowerCase()!==n.charAt(h).toLowerCase());h++);t=n.substr(0,h)+t.substr(h)}return E.posix.relative(t,n)}resolvePath(s,i){if(s.scheme===k.Schemas.file){const t=p.URI.file(E.resolve(w(s),i));return s.with({authority:t.authority,path:t.path})}return i=f.toPosixPath(i),s.with({path:E.posix.resolve(s.path,i)})}isAbsolutePath(s){return!!s.path&&s.path[0]==="/"}isEqualAuthority(s,i){return s===i||s!==void 0&&i!==void 0&&(0,y.equalsIgnoreCase)(s,i)}hasTrailingPathSeparator(s,i=E.sep){if(s.scheme===k.Schemas.file){const t=w(s);return t.length>f.getRoot(t).length&&t[t.length-1]===i}else{const t=s.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(s.fsPath)}}removeTrailingPathSeparator(s,i=E.sep){return(0,e.hasTrailingPathSeparator)(s,i)?s.with({path:s.path.substr(0,s.path.length-1)}):s}addTrailingPathSeparator(s,i=E.sep){let t=!1;if(s.scheme===k.Schemas.file){const n=w(s);t=n!==void 0&&n.length===f.getRoot(n).length&&n[n.length-1]===i}else{i="/";const n=s.path;t=n.length===1&&n.charCodeAt(n.length-1)===47}return!t&&!(0,e.hasTrailingPathSeparator)(s,i)?s.with({path:s.path+"/"}):s}}e.ExtUri=v,e.extUri=new v(()=>!1),e.extUriBiasedIgnorePathCase=new v(a=>a.scheme===k.Schemas.file?!L.isLinux:!0),e.extUriIgnorePathCase=new v(a=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var _;(function(a){a.META_DATA_LABEL="label",a.META_DATA_DESCRIPTION="description",a.META_DATA_SIZE="size",a.META_DATA_MIME="mime";function s(i){const t=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(m=>{const[u,d]=m.split(":");u&&d&&t.set(u,d)});const h=i.path.substring(0,i.path.indexOf(";"));return h&&t.set(a.META_DATA_MIME,h),t}a.parseMetaData=s})(_||(e.DataUri=_={}))}),define(ie[57],ne([1,0,12,136,50,11,22]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownString=void 0,e.isEmptyMarkdownString=w,e.isMarkdownString=v,e.markdownStringEqual=_,e.escapeMarkdownSyntaxTokens=a,e.appendEscapedMarkdownCodeBlockFence=s,e.escapeDoubleQuotes=i,e.removeMarkdownEscapes=t,e.parseHrefAndDimensions=n;class p{constructor(m="",u=!1){var d,r,l;if(this.value=m,typeof this.value!="string")throw(0,f.illegalArgument)("value");typeof u=="boolean"?(this.isTrusted=u,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(d=u.isTrusted)!==null&&d!==void 0?d:void 0,this.supportThemeIcons=(r=u.supportThemeIcons)!==null&&r!==void 0?r:!1,this.supportHtml=(l=u.supportHtml)!==null&&l!==void 0?l:!1)}appendText(m,u=0){return this.value+=a(this.supportThemeIcons?(0,k.escapeIcons)(m):m).replace(/([ \t]+)/g,(d,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,u===1?`\\
`:`

`),this}appendMarkdown(m){return this.value+=m,this}appendCodeblock(m,u){return this.value+=`
${s(u,m)}
`,this}appendLink(m,u,d){return this.value+="[",this.value+=this._escape(u,"]"),this.value+="](",this.value+=this._escape(String(m),")"),d&&(this.value+=` "${this._escape(this._escape(d,'"'),")")}"`),this.value+=")",this}_escape(m,u){const d=new RegExp((0,L.escapeRegExpCharacters)(u),"g");return m.replace(d,(r,l)=>m.charAt(l-1)!=="\\"?`\\${r}`:r)}}e.MarkdownString=p;function w(h){return v(h)?!h.value:Array.isArray(h)?h.every(w):!0}function v(h){return h instanceof p?!0:h&&typeof h=="object"?typeof h.value=="string"&&(typeof h.isTrusted=="boolean"||typeof h.isTrusted=="object"||h.isTrusted===void 0)&&(typeof h.supportThemeIcons=="boolean"||h.supportThemeIcons===void 0):!1}function _(h,m){return h===m?!0:!h||!m?!1:h.value===m.value&&h.isTrusted===m.isTrusted&&h.supportThemeIcons===m.supportThemeIcons&&h.supportHtml===m.supportHtml&&(h.baseUri===m.baseUri||!!h.baseUri&&!!m.baseUri&&(0,E.isEqual)(y.URI.from(h.baseUri),y.URI.from(m.baseUri)))}function a(h){return h.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function s(h,m){var u,d;const r=(d=(u=h.match(/^`+/gm))===null||u===void 0?void 0:u.reduce((o,g)=>o.length>g.length?o:g).length)!==null&&d!==void 0?d:0,l=r>=3?r+1:3;return[`${"`".repeat(l)}${m}`,h,`${"`".repeat(l)}`].join(`
`)}function i(h){return h.replace(/"/g,"&quot;")}function t(h){return h&&h.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function n(h){const m=[],u=h.split("|").map(r=>r.trim());h=u[0];const d=u[1];if(d){const r=/height=(\d+)/.exec(d),l=/width=(\d+)/.exec(d),o=r?r[1]:"",g=l?l[1]:"",c=isFinite(parseInt(g)),b=isFinite(parseInt(o));c&&m.push(`width="${g}"`),b&&m.push(`height="${o}"`)}return{href:h,dimensions:m}}}),define(ie[197],ne([1,0,6,334,89,335,48,73,108,12,7,57,136,178,95,2,420,240,49,55,50,11,22]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allowedMarkdownAttr=void 0,e.renderMarkdown=c,e.renderStringAsPlaintext=I,e.renderMarkdownAsPlaintext=T,e.fillInIncompleteTokens=F;const g=Object.freeze({image:(X,Y,ae)=>{let ce=[],he=[];return X&&({href:X,dimensions:ce}=(0,a.parseHrefAndDimensions)(X),he.push(`src="${(0,a.escapeDoubleQuotes)(X)}"`)),ae&&he.push(`alt="${(0,a.escapeDoubleQuotes)(ae)}"`),Y&&he.push(`title="${(0,a.escapeDoubleQuotes)(Y)}"`),ce.length&&(he=he.concat(ce)),"<img "+he.join(" ")+">"},paragraph:X=>`<p>${X}</p>`,link:(X,Y,ae)=>typeof X!="string"?"":(X===ae&&(ae=(0,a.removeMarkdownEscapes)(ae)),Y=typeof Y=="string"?(0,a.escapeDoubleQuotes)((0,a.removeMarkdownEscapes)(Y)):"",X=(0,a.removeMarkdownEscapes)(X),X=X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${X}" title="${Y||X}" draggable="false">${ae}</a>`)});function c(X,Y={},ae={}){var ce,he;const pe=new n.DisposableStore;let fe=!1;const se=(0,L.createElement)(Y),te=function(le){let ge;try{ge=(0,m.parse)(decodeURIComponent(le))}catch{}return ge?(ge=(0,d.cloneAndChange)(ge,ve=>{if(X.uris&&X.uris[ve])return o.URI.revive(X.uris[ve])}),encodeURIComponent(JSON.stringify(ge))):le},$=function(le,ge){const ve=X.uris&&X.uris[le];let Ce=o.URI.revive(ve);return ge?le.startsWith(u.Schemas.data+":")?le:(Ce||(Ce=o.URI.parse(le)),u.FileAccess.uriToBrowserUri(Ce).toString(!0)):!Ce||o.URI.parse(le).toString()===Ce.toString()?le:(Ce.query&&(Ce=Ce.with({query:te(Ce.query)})),Ce.toString())},W=new h.marked.Renderer;W.image=g.image,W.link=g.link,W.paragraph=g.paragraph;const j=[],K=[];if(Y.codeBlockRendererSync?W.code=(le,ge)=>{const ve=i.defaultGenerator.nextId(),Ce=Y.codeBlockRendererSync(b(ge),le);return K.push([ve,Ce]),`<div class="code" data-code="${ve}">${(0,l.escape)(le)}</div>`}:Y.codeBlockRenderer&&(W.code=(le,ge)=>{const ve=i.defaultGenerator.nextId(),Ce=Y.codeBlockRenderer(b(ge),le);return j.push(Ce.then(Se=>[ve,Se])),`<div class="code" data-code="${ve}">${(0,l.escape)(le)}</div>`}),Y.actionHandler){const le=function(Ce){let Se=Ce.target;if(!(Se.tagName!=="A"&&(Se=Se.parentElement,!Se||Se.tagName!=="A")))try{let be=Se.dataset.href;be&&(X.baseUri&&(be=C(o.URI.from(X.baseUri),be)),Y.actionHandler.callback(be,Ce))}catch(be){(0,v.onUnexpectedError)(be)}finally{Ce.preventDefault()}},ge=Y.actionHandler.disposables.add(new E.DomEmitter(se,"click")),ve=Y.actionHandler.disposables.add(new E.DomEmitter(se,"auxclick"));Y.actionHandler.disposables.add(_.Event.any(ge.event,ve.event)(Ce=>{const Se=new p.StandardMouseEvent(f.getWindow(se),Ce);!Se.leftButton&&!Se.middleButton||le(Se)})),Y.actionHandler.disposables.add(f.addDisposableListener(se,"keydown",Ce=>{const Se=new y.StandardKeyboardEvent(Ce);!Se.equals(10)&&!Se.equals(3)||le(Se)}))}X.supportHtml||(ae.sanitizer=le=>(X.isTrusted?le.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?le:"",ae.sanitize=!0,ae.silent=!0),ae.renderer=W;let G=(ce=X.value)!==null&&ce!==void 0?ce:"";G.length>1e5&&(G=`${G.substr(0,1e5)}\u2026`),X.supportThemeIcons&&(G=(0,s.markdownEscapeEscapedIcons)(G));let ee;if(Y.fillInIncompleteTokens){const le={...h.marked.defaults,...ae},ge=h.marked.lexer(G,le),ve=F(ge);ee=h.marked.parser(ve,le)}else ee=h.marked.parse(G,ae);X.supportThemeIcons&&(ee=(0,w.renderLabelWithIcons)(ee).map(ge=>typeof ge=="string"?ge:ge.outerHTML).join(""));const de=new DOMParser().parseFromString(S(X,ee),"text/html");if(de.body.querySelectorAll("img").forEach(le=>{const ge=le.getAttribute("src");if(ge){let ve=ge;try{X.baseUri&&(ve=C(o.URI.from(X.baseUri),ve))}catch{}le.src=$(ve,!0)}}),de.body.querySelectorAll("a").forEach(le=>{const ge=le.getAttribute("href");if(le.setAttribute("href",""),!ge||/^data:|javascript:/i.test(ge)||/^command:/i.test(ge)&&!X.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ge))le.replaceWith(...le.childNodes);else{let ve=$(ge,!1);X.baseUri&&(ve=C(o.URI.from(X.baseUri),ge)),le.dataset.href=ve}}),se.innerHTML=S(X,de.body.innerHTML),j.length>0)Promise.all(j).then(le=>{var ge,ve;if(fe)return;const Ce=new Map(le),Se=se.querySelectorAll("div[data-code]");for(const be of Se){const ke=Ce.get((ge=be.dataset.code)!==null&&ge!==void 0?ge:"");ke&&f.reset(be,ke)}(ve=Y.asyncRenderCallback)===null||ve===void 0||ve.call(Y)});else if(K.length>0){const le=new Map(K),ge=se.querySelectorAll("div[data-code]");for(const ve of ge){const Ce=le.get((he=ve.dataset.code)!==null&&he!==void 0?he:"");Ce&&f.reset(ve,Ce)}}if(Y.asyncRenderCallback)for(const le of se.getElementsByTagName("img")){const ge=pe.add(f.addDisposableListener(le,"load",()=>{ge.dispose(),Y.asyncRenderCallback()}))}return{element:se,dispose:()=>{fe=!0,pe.dispose()}}}function b(X){if(!X)return"";const Y=X.split(/[\s+|:|,|\{|\?]/,1);return Y.length?Y[0]:X}function C(X,Y){return/^\w[\w\d+.-]*:/.test(Y)?Y:X.path.endsWith("/")?(0,r.resolvePath)(X,Y).toString():(0,r.resolvePath)((0,r.dirname)(X),Y).toString()}function S(X,Y){const{config:ae,allowedSchemes:ce}=D(X);k.addHook("uponSanitizeAttribute",(pe,fe)=>{var se;if(fe.attrName==="style"||fe.attrName==="class"){if(pe.tagName==="SPAN"){if(fe.attrName==="style"){fe.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(fe.attrValue);return}else if(fe.attrName==="class"){fe.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(fe.attrValue);return}}fe.keepAttr=!1;return}else if(pe.tagName==="INPUT"&&((se=pe.attributes.getNamedItem("type"))===null||se===void 0?void 0:se.value)==="checkbox"){if(fe.attrName==="type"&&fe.attrValue==="checkbox"||fe.attrName==="disabled"||fe.attrName==="checked"){fe.keepAttr=!0;return}fe.keepAttr=!1}}),k.addHook("uponSanitizeElement",(pe,fe)=>{var se,te;fe.tagName==="input"&&(((se=pe.attributes.getNamedItem("type"))===null||se===void 0?void 0:se.value)==="checkbox"?pe.setAttribute("disabled",""):(te=pe.parentElement)===null||te===void 0||te.removeChild(pe))});const he=f.hookDomPurifyHrefAndSrcSanitizer(ce);try{return k.sanitize(Y,{...ae,RETURN_TRUSTED_TYPE:!0})}finally{k.removeHook("uponSanitizeAttribute"),he.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function D(X){const Y=[u.Schemas.http,u.Schemas.https,u.Schemas.mailto,u.Schemas.data,u.Schemas.file,u.Schemas.vscodeFileResource,u.Schemas.vscodeRemote,u.Schemas.vscodeRemoteResource];return X.isTrusted&&Y.push(u.Schemas.command),{config:{ALLOWED_TAGS:[...f.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Y}}function I(X){return typeof X=="string"?X:T(X)}function T(X){var Y;let ae=(Y=X.value)!==null&&Y!==void 0?Y:"";ae.length>1e5&&(ae=`${ae.substr(0,1e5)}\u2026`);const ce=h.marked.parse(ae,{renderer:A.value}).replace(/&(#\d+|[a-zA-Z]+);/g,he=>{var pe;return(pe=N.get(he))!==null&&pe!==void 0?pe:he});return S({isTrusted:!1},ce).toString()}const N=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),A=new t.Lazy(()=>{const X=new h.marked.Renderer;return X.code=Y=>Y,X.blockquote=Y=>Y,X.html=Y=>"",X.heading=(Y,ae,ce)=>Y+`
`,X.hr=()=>"",X.list=(Y,ae)=>Y,X.listitem=Y=>Y+`
`,X.paragraph=Y=>Y+`
`,X.table=(Y,ae)=>Y+ae+`
`,X.tablerow=Y=>Y,X.tablecell=(Y,ae)=>Y+" ",X.strong=Y=>Y,X.em=Y=>Y,X.codespan=Y=>Y,X.br=()=>`
`,X.del=Y=>Y,X.image=(Y,ae,ce)=>"",X.text=Y=>Y,X.link=(Y,ae,ce)=>ce,X});function P(X){let Y="";return X.forEach(ae=>{Y+=ae.raw}),Y}function M(X){var Y,ae;for(let ce=0;ce<X.tokens.length;ce++){const he=X.tokens[ce];if(he.type==="text"){const pe=he.raw.split(`
`),fe=pe[pe.length-1];if(fe.includes("`"))return B(X);if(fe.includes("**"))return Z(X);if(fe.match(/\*\w/))return H(X);if(fe.match(/(^|\s)__\w/))return re(X);if(fe.match(/(^|\s)_\w/))return V(X);if(fe.match(/(^|\s)\[.*\]\(\w*/)){const se=X.tokens.slice(ce+1);return((Y=se[0])===null||Y===void 0?void 0:Y.type)==="link"&&((ae=se[1])===null||ae===void 0?void 0:ae.type)==="text"&&se[1].raw.match(/^ *"[^"]*$/)?z(X):q(X)}else{if(R(fe))return q(X);if(fe.match(/(^|\s)\[\w/)&&!X.tokens.slice(ce+1).some(se=>R(se.raw)))return U(X)}}}}function R(X){return!!X.match(/^[^\[]*\]\([^\)]*$/)}function F(X){let Y,ae;for(Y=0;Y<X.length;Y++){const ce=X[Y];let he;if(ce.type==="paragraph"&&(he=ce.raw.match(/(\n|^)(````*)/))){const pe=he[2];ae=O(X.slice(Y),pe);break}if(ce.type==="paragraph"&&ce.raw.match(/(\n|^)\|/)){ae=Q(X.slice(Y));break}if(Y===X.length-1&&ce.type==="paragraph"){const pe=M(ce);if(pe){ae=[pe];break}}}if(ae){const ce=[...X.slice(0,Y),...ae];return ce.links=X.links,ce}return X}function O(X,Y){const ae=P(X);return h.marked.lexer(ae+`
${Y}`)}function B(X){return x(X,"`")}function H(X){return x(X,"*")}function V(X){return x(X,"_")}function q(X){return x(X,")")}function z(X){return x(X,'")')}function U(X){return x(X,"](about:blank)")}function Z(X){return x(X,"**")}function re(X){return x(X,"__")}function x(X,Y){const ae=P(Array.isArray(X)?X:[X]);return h.marked.lexer(ae+Y)[0]}function Q(X){const Y=P(X),ae=Y.split(`
`);let ce,he=!1;for(let pe=0;pe<ae.length;pe++){const fe=ae[pe].trim();if(typeof ce>"u"&&fe.match(/^\s*\|/)){const se=fe.match(/(\|[^\|]+)(?=\||$)/g);se&&(ce=se.length)}else if(typeof ce=="number")if(fe.match(/^\s*\|/)){if(pe!==ae.length-1)return;he=!0}else return}if(typeof ce=="number"&&ce>0){const pe=he?ae.slice(0,-1).join(`
`):Y,fe=!!pe.match(/\|\s*$/),se=pe+(fe?"":"|")+`
|${" --- |".repeat(ce)}`;return h.marked.lexer(se)}}}),define(ie[80],ne([1,0,6,15,19,57,136,2,21,598]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupNativeHover=_,e.setupCustomHover=i;function _(t,n){(0,w.isString)(n)?t.title=(0,y.stripIcons)(n):n?.markdownNotSupportedFallback?t.title=n.markdownNotSupportedFallback:t.removeAttribute("title")}class a{constructor(n,h,m){this.hoverDelegate=n,this.target=h,this.fadeInAnimation=m}async update(n,h,m){var u;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let d;if(n===void 0||(0,w.isString)(n)||n instanceof HTMLElement)d=n;else if(!(0,w.isFunction)(n.markdown))d=(u=n.markdown)!==null&&u!==void 0?u:n.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,v.localize)(0,null),h),this._cancellationTokenSource=new E.CancellationTokenSource;const r=this._cancellationTokenSource.token;if(d=await n.markdown(r),d===void 0&&(d=n.markdownNotSupportedFallback),this.isDisposed||r.isCancellationRequested)return}this.show(d,h,m)}show(n,h,m){const u=this._hoverWidget;if(this.hasContent(n)){const d={content:n,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!u},position:{hoverPosition:2},...m};this._hoverWidget=this.hoverDelegate.showHover(d,h)}u?.dispose()}hasContent(n){return n?(0,L.isMarkdownString)(n)?!!n.value:!0:!1}get isDisposed(){var n;return(n=this._hoverWidget)===null||n===void 0?void 0:n.isDisposed}dispose(){var n,h;(n=this._hoverWidget)===null||n===void 0||n.dispose(),(h=this._cancellationTokenSource)===null||h===void 0||h.dispose(!0),this._cancellationTokenSource=void 0}}function s(t,n){for(n=n??f.getWindow(t).document.body;!t.hasAttribute("custom-hover")&&t!==n;)t=t.parentElement;return t}function i(t,n,h,m){n.setAttribute("custom-hover","true"),n.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",n.title),n.title="");let u,d;const r=(A,P)=>{var M;const R=d!==void 0;A&&(d?.dispose(),d=void 0),P&&(u?.dispose(),u=void 0),R&&((M=t.onDidHideHover)===null||M===void 0||M.call(t),d=void 0)},l=(A,P,M)=>new k.TimeoutTimer(async()=>{(!d||d.isDisposed)&&(d=new a(t,M||n,A>0),await d.update(typeof h=="function"?h():h,P,m))},A);let o=!1;const g=f.addDisposableListener(n,f.EventType.MOUSE_DOWN,()=>{o=!0,r(!0,!0)},!0),c=f.addDisposableListener(n,f.EventType.MOUSE_UP,()=>{o=!1},!0),b=f.addDisposableListener(n,f.EventType.MOUSE_LEAVE,A=>{o=!1,r(!1,A.fromElement===n)},!0),C=A=>{if(u)return;const P=new p.DisposableStore,M={targetElements:[n],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const R=F=>{M.x=F.x+10,F.target instanceof HTMLElement&&s(F.target,n)!==n&&r(!0,!0)};P.add(f.addDisposableListener(n,f.EventType.MOUSE_MOVE,R,!0))}u=P,!(A.target instanceof HTMLElement&&s(A.target,n)!==n)&&P.add(l(t.delay,!1,M))},S=f.addDisposableListener(n,f.EventType.MOUSE_OVER,C,!0),D=()=>{if(o||u)return;const A={targetElements:[n],dispose:()=>{}},P=new p.DisposableStore,M=()=>r(!0,!0);P.add(f.addDisposableListener(n,f.EventType.BLUR,M,!0)),P.add(l(t.delay,!1,A)),u=P};let I;const T=n.tagName.toLowerCase();return T!=="input"&&T!=="textarea"&&(I=f.addDisposableListener(n,f.EventType.FOCUS,D,!0)),{show:A=>{r(!1,!0),l(0,A)},hide:()=>{r(!0,!0)},update:async(A,P)=>{h=A,await d?.update(h,void 0,P)},dispose:()=>{S.dispose(),b.dispose(),g.dispose(),c.dispose(),I?.dispose(),r(!0,!0)}}}}),define(ie[246],ne([1,0,6,334,48,197,67,44,80,108,34,7,57,2,31,430]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:_.Color.white.toString(),buttonForeground:_.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class n extends i.Disposable{get onDidClick(){return this._onDidClick.event}constructor(m,u){super(),this._label="",this._onDidClick=this._register(new a.Emitter),this._onDidEscape=this._register(new a.Emitter),this.options=u,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!u.secondary);const d=u.secondary?u.buttonSecondaryBackground:u.buttonBackground,r=u.secondary?u.buttonSecondaryForeground:u.buttonForeground;this._element.style.color=r||"",this._element.style.backgroundColor=d||"",u.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof u.title=="string"&&this.setTitle(u.title),typeof u.ariaLabel=="string"&&this._element.setAttribute("aria-label",u.ariaLabel),m.appendChild(this._element),this._register(y.Gesture.addTarget(this._element)),[f.EventType.CLICK,y.EventType.Tap].forEach(l=>{this._register((0,f.addDisposableListener)(this._element,l,o=>{if(!this.enabled){f.EventHelper.stop(o);return}this._onDidClick.fire(o)}))}),this._register((0,f.addDisposableListener)(this._element,f.EventType.KEY_DOWN,l=>{const o=new E.StandardKeyboardEvent(l);let g=!1;this.enabled&&(o.equals(3)||o.equals(10))?(this._onDidClick.fire(l),g=!0):o.equals(9)&&(this._onDidEscape.fire(l),this._element.blur(),g=!0),g&&f.EventHelper.stop(o,!0)})),this._register((0,f.addDisposableListener)(this._element,f.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,f.addDisposableListener)(this._element,f.EventType.MOUSE_OUT,l=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,f.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(m){const u=[];for(let d of(0,v.renderLabelWithIcons)(m))if(typeof d=="string"){if(d=d.trim(),d==="")continue;const r=document.createElement("span");r.textContent=d,u.push(r)}else u.push(d);return u}updateBackground(m){let u;this.options.secondary?u=m?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:u=m?this.options.buttonHoverBackground:this.options.buttonBackground,u&&(this._element.style.backgroundColor=u)}get element(){return this._element}set label(m){var u;if(this._label===m||(0,s.isMarkdownString)(this._label)&&(0,s.isMarkdownString)(m)&&(0,s.markdownStringEqual)(this._label,m))return;this._element.classList.add("monaco-text-button");const d=this.options.supportShortLabel?this._labelElement:this._element;if((0,s.isMarkdownString)(m)){const l=(0,L.renderMarkdown)(m,{inline:!0});l.dispose();const o=(u=l.element.querySelector("p"))===null||u===void 0?void 0:u.innerHTML;if(o){const g=(0,k.sanitize)(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});d.innerHTML=g}else(0,f.reset)(d)}else this.options.supportIcons?(0,f.reset)(d,...this.getContentElements(m)):d.textContent=m;let r="";typeof this.options.title=="string"?r=this.options.title:this.options.title&&(r=(0,L.renderStringAsPlaintext)(m)),this.setTitle(r),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",r),this._label=m}get label(){return this._label}set icon(m){this._element.classList.add(...t.ThemeIcon.asClassNameArray(m))}set enabled(m){m?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(m){var u;!this._hover&&m!==""?this._hover=this._register((0,w.setupCustomHover)((u=this.options.hoverDelegate)!==null&&u!==void 0?u:(0,p.getDefaultHoverDelegate)("mouse"),this._element,m)):this._hover&&this._hover.update(m)}}e.Button=n}),define(ie[340],ne([1,0,6,44,80,108,2,55]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class w extends y.Disposable{constructor(_,a){var s;super(),this.options=a,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(s=a?.supportIcons)!==null&&s!==void 0?s:!1,this.domNode=f.append(_,f.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(_,a=[],s="",i){_||(_=""),i&&(_=w.escapeNewLines(_,a)),!(this.didEverRender&&this.text===_&&this.title===s&&p.equals(this.highlights,a))&&(this.text=_,this.title=s,this.highlights=a,this.render())}render(){var _,a,s,i;const t=[];let n=0;for(const h of this.highlights){if(h.end===h.start)continue;if(n<h.start){const d=this.text.substring(n,h.start);this.supportIcons?t.push(...(0,L.renderLabelWithIcons)(d)):t.push(d),n=h.start}const m=this.text.substring(n,h.end),u=f.$("span.highlight",void 0,...this.supportIcons?(0,L.renderLabelWithIcons)(m):[m]);h.extraClasses&&u.classList.add(...h.extraClasses),t.push(u),n=h.end}if(n<this.text.length){const h=this.text.substring(n);this.supportIcons?t.push(...(0,L.renderLabelWithIcons)(h)):t.push(h)}if(f.reset(this.domNode,...t),!((a=(_=this.options)===null||_===void 0?void 0:_.hoverDelegate)===null||a===void 0)&&a.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const h=(i=(s=this.options)===null||s===void 0?void 0:s.hoverDelegate)!==null&&i!==void 0?i:(0,k.getDefaultHoverDelegate)("mouse");this.customHover=this._register((0,E.setupCustomHover)(h,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(_,a){let s=0,i=0;return _.replace(/\r\n|\r|\n/g,(t,n)=>{i=t===`\r
`?-1:0,n+=s;for(const h of a)h.end<=n||(h.start>=n&&(h.start+=i),h.end>=n&&(h.end+=i));return s+=i,"\u23CE"})}}e.HighlightedLabel=w}),define(ie[247],ne([1,0,6,340,80,2,55,181,44,436]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(n){this._element=n}get element(){return this._element}set textContent(n){this.disposed||n===this._textContent||(this._textContent=n,this._element.textContent=n)}set className(n){this.disposed||n===this._className||(this._className=n,this._element.className=n)}set empty(n){this.disposed||n===this._empty||(this._empty=n,this._element.style.marginLeft=n?"0":"")}dispose(){this.disposed=!0}}class _ extends L.Disposable{constructor(n,h){var m;super(),this.customHovers=new Map,this.creationOptions=h,this.domNode=this._register(new v(f.append(n,f.$(".monaco-icon-label")))),this.labelContainer=f.append(this.domNode.element,f.$(".monaco-icon-label-container")),this.nameContainer=f.append(this.labelContainer,f.$("span.monaco-icon-name-container")),h?.supportHighlights||h?.supportIcons?this.nameNode=this._register(new i(this.nameContainer,!!h.supportIcons)):this.nameNode=new a(this.nameContainer),this.hoverDelegate=(m=h?.hoverDelegate)!==null&&m!==void 0?m:(0,w.getDefaultHoverDelegate)("mouse")}get element(){return this.domNode.element}setLabel(n,h,m){var u;const d=["monaco-icon-label"],r=["monaco-icon-label-container"];let l="";if(m&&(m.extraClasses&&d.push(...m.extraClasses),m.italic&&d.push("italic"),m.strikethrough&&d.push("strikethrough"),m.disabledCommand&&r.push("disabled"),m.title&&(typeof m.title=="string"?l+=m.title:l+=n)),this.domNode.className=d.join(" "),this.domNode.element.setAttribute("aria-label",l),this.labelContainer.className=r.join(" "),this.setupHover(m?.descriptionTitle?this.labelContainer:this.element,m?.title),this.nameNode.setLabel(n,m),h||this.descriptionNode){const o=this.getOrCreateDescriptionNode();o instanceof k.HighlightedLabel?(o.set(h||"",m?m.descriptionMatches:void 0,void 0,m?.labelEscapeNewLines),this.setupHover(o.element,m?.descriptionTitle)):(o.textContent=h&&m?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(h,[]):h||"",this.setupHover(o.element,m?.descriptionTitle||""),o.empty=!h)}if(m?.suffix||this.suffixNode){const o=this.getOrCreateSuffixNode();o.textContent=(u=m?.suffix)!==null&&u!==void 0?u:""}}setupHover(n,h){const m=this.customHovers.get(n);if(m&&(m.dispose(),this.customHovers.delete(n)),!h){n.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(0,E.setupNativeHover)(n,h);else{const u=(0,E.setupCustomHover)(this.hoverDelegate,n,h);u&&this.customHovers.set(n,u)}}dispose(){super.dispose();for(const n of this.customHovers.values())n.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const n=this._register(new v(f.after(this.nameContainer,f.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new v(f.append(n.element,f.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var n;if(!this.descriptionNode){const h=this._register(new v(f.append(this.labelContainer,f.$("span.monaco-icon-description-container"))));!((n=this.creationOptions)===null||n===void 0)&&n.supportDescriptionHighlights?this.descriptionNode=this._register(new k.HighlightedLabel(f.append(h.element,f.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new v(f.append(h.element,f.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=_;class a{constructor(n){this.container=n,this.label=void 0,this.singleLabel=void 0}setLabel(n,h){if(!(this.label===n&&(0,y.equals)(this.options,h)))if(this.label=n,this.options=h,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=f.append(this.container,f.$("a.label-name",{id:h?.domId}))),this.singleLabel.textContent=n;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let m=0;m<n.length;m++){const u=n[m],d=h?.domId&&`${h?.domId}_${m}`;f.append(this.container,f.$("a.label-name",{id:d,"data-icon-label-count":n.length,"data-icon-label-index":m,role:"treeitem"},u)),m<n.length-1&&f.append(this.container,f.$("span.label-separator",void 0,h?.separator||"/"))}}}}function s(t,n,h){if(!h)return;let m=0;return t.map(u=>{const d={start:m,end:m+u.length},r=h.map(l=>p.Range.intersect(d,l)).filter(l=>!p.Range.isEmpty(l)).map(({start:l,end:o})=>({start:l-m,end:o-m}));return m=d.end+n.length,r})}class i extends L.Disposable{constructor(n,h){super(),this.container=n,this.supportIcons=h,this.label=void 0,this.singleLabel=void 0}setLabel(n,h){if(!(this.label===n&&(0,y.equals)(this.options,h)))if(this.label=n,this.options=h,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new k.HighlightedLabel(f.append(this.container,f.$("a.label-name",{id:h?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(n,h?.matches,void 0,h?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const m=h?.separator||"/",u=s(n,m,h?.matches);for(let d=0;d<n.length;d++){const r=n[d],l=u?u[d]:void 0,o=h?.domId&&`${h?.domId}_${d}`,g=f.$("a.label-name",{id:o,"data-icon-label-count":n.length,"data-icon-label-index":d,role:"treeitem"});this._register(new k.HighlightedLabel(f.append(this.container,g),{supportIcons:this.supportIcons})).set(r,l,void 0,h?.labelEscapeNewLines),d<n.length-1&&f.append(g,f.$("span.label-separator",void 0,m))}}}}}),define(ie[198],ne([1,0,6,44,80,235,2,55,600,438]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const v=f.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class _ extends y.Disposable{constructor(s,i,t){super(),this.os=i,this.keyElements=new Set,this.options=t||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=f.append(s,v(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.hover=this._register((0,E.setupCustomHover)((0,k.getDefaultHoverDelegate)("mouse"),this.domNode,"")),this.didEverRender=!1,s.appendChild(this.domNode)}get element(){return this.domNode}set(s,i){this.didEverRender&&this.keybinding===s&&_.areSame(this.matches,i)||(this.keybinding=s,this.matches=i,this.render())}render(){var s;if(this.clear(),this.keybinding){const i=this.keybinding.getChords();i[0]&&this.renderChord(this.domNode,i[0],this.matches?this.matches.firstPart:null);for(let n=1;n<i.length;n++)f.append(this.domNode,v("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,i[n],this.matches?this.matches.chordPart:null);const t=(s=this.options.disableTitle)!==null&&s!==void 0&&s?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(t),this.domNode.setAttribute("aria-label",t||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){f.clearNode(this.domNode),this.keyElements.clear()}renderChord(s,i,t){const n=L.UILabelProvider.modifierLabels[this.os];i.ctrlKey&&this.renderKey(s,n.ctrlKey,!!t?.ctrlKey,n.separator),i.shiftKey&&this.renderKey(s,n.shiftKey,!!t?.shiftKey,n.separator),i.altKey&&this.renderKey(s,n.altKey,!!t?.altKey,n.separator),i.metaKey&&this.renderKey(s,n.metaKey,!!t?.metaKey,n.separator);const h=i.keyLabel;h&&this.renderKey(s,h,!!t?.keyCode,"")}renderKey(s,i,t,n){f.append(s,this.createKeyElement(i,t?".highlight":"")),n&&f.append(s,v("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(s){f.append(s,this.createKeyElement((0,w.localize)(0,null)))}createKeyElement(s,i=""){const t=v("span.monaco-keybinding-key"+i,void 0,s);return this.keyElements.add(t),this.options.keybindingLabelBackground&&(t.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(t.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(t.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),t}static areSame(s,i){return s===i||!s&&!i?!0:!!s&&!!i&&(0,p.equals)(s.firstPart,i.firstPart)&&(0,p.equals)(s.chordPart,i.chordPart)}}e.KeybindingLabel=_}),define(ie[622],ne([1,0,6,89,48,197,44,80,109,13,7,69,2,17,601,444]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const n=f.$,h="selectOption.entry.template";class m{get templateId(){return h}renderTemplate(r){const l=Object.create(null);return l.root=r,l.text=f.append(r,n(".option-text")),l.detail=f.append(r,n(".option-detail")),l.decoratorRight=f.append(r,n(".option-decorator-right")),l}renderElement(r,l,o){const g=o,c=r.text,b=r.detail,C=r.decoratorRight,S=r.isDisabled;g.text.textContent=c,g.detail.textContent=b||"",g.decoratorRight.innerText=C||"",S?g.root.classList.add("option-disabled"):g.root.classList.remove("option-disabled")}disposeTemplate(r){}}class u extends s.Disposable{constructor(r,l,o,g,c){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=g,this.selectBoxOptions=c||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new _.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(o),this.selected=l||0,r&&this.setOptions(r,l),this.initStyleSheet()}setTitle(r){!this._hover&&r?this._hover=this._register((0,p.setupCustomHover)((0,y.getDefaultHoverDelegate)("mouse"),this.selectElement,r)):this._hover&&this._hover.update(r)}getHeight(){return 22}getTemplateId(){return h}constructSelectDropDown(r){this.contextViewProvider=r,this.selectDropDownContainer=f.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=f.append(this.selectDropDownContainer,n(".select-box-details-pane"));const l=f.append(this.selectDropDownContainer,n(".select-box-dropdown-container-width-control")),o=f.append(l,n(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",f.append(o,this.widthControlElement),this._dropDownPosition=0,this.styleElement=f.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(f.addDisposableListener(this.selectDropDownContainer,f.EventType.DRAG_START,g=>{f.EventHelper.stop(g,!0)}))}registerListeners(){this._register(f.addStandardDisposableListener(this.selectElement,"change",l=>{this.selected=l.target.selectedIndex,this._onDidSelect.fire({index:l.target.selectedIndex,selected:l.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(f.addDisposableListener(this.selectElement,f.EventType.CLICK,l=>{f.EventHelper.stop(l),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.addDisposableListener(this.selectElement,f.EventType.MOUSE_DOWN,l=>{f.EventHelper.stop(l)}));let r;this._register(f.addDisposableListener(this.selectElement,"touchstart",l=>{r=this._isVisible})),this._register(f.addDisposableListener(this.selectElement,"touchend",l=>{f.EventHelper.stop(l),r?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.addDisposableListener(this.selectElement,f.EventType.KEY_DOWN,l=>{const o=new E.StandardKeyboardEvent(l);let g=!1;i.isMacintosh?(o.keyCode===18||o.keyCode===16||o.keyCode===10||o.keyCode===3)&&(g=!0):(o.keyCode===18&&o.altKey||o.keyCode===16&&o.altKey||o.keyCode===10||o.keyCode===3)&&(g=!0),g&&(this.showSelectDropDown(),f.EventHelper.stop(l,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(r,l){v.equals(this.options,r)||(this.options=r,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((o,g)=>{this.selectElement.add(this.createOption(o.text,g,o.isDisabled)),typeof o.description=="string"&&(this._hasDetails=!0)})),l!==void 0&&(this.select(l),this._currentSelection=this.selected)}setOptionsList(){var r;(r=this.selectList)===null||r===void 0||r.splice(0,this.selectList.length,this.options)}select(r){r>=0&&r<this.options.length?this.selected=r:r>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(r){this.selectElement.tabIndex=r?0:-1}render(r){this.container=r,r.classList.add("select-container"),r.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const r=[];this.styles.listFocusBackground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(r.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),r.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),r.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=r.join(`
`)}styleSelectElement(){var r,l,o;const g=(r=this.styles.selectBackground)!==null&&r!==void 0?r:"",c=(l=this.styles.selectForeground)!==null&&l!==void 0?l:"",b=(o=this.styles.selectBorder)!==null&&o!==void 0?o:"";this.selectElement.style.backgroundColor=g,this.selectElement.style.color=c,this.selectElement.style.borderColor=b}styleList(){var r,l;const o=(r=this.styles.selectBackground)!==null&&r!==void 0?r:"",g=f.asCssValueWithDefault(this.styles.selectListBackground,o);this.selectDropDownListContainer.style.backgroundColor=g,this.selectionDetailsPane.style.backgroundColor=g;const c=(l=this.styles.focusBorder)!==null&&l!==void 0?l:"";this.selectDropDownContainer.style.outlineColor=c,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(r,l,o){const g=document.createElement("option");return g.value=r,g.text=r,g.disabled=!!o,g}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:r=>this.renderSelectDropDown(r,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:r=>this.renderSelectDropDown(r),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(r){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),r&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(r,l){return r.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(l),{dispose:()=>{try{r.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let r=0;return this.options.forEach((l,o)=>{this.updateDetail(o),this.selectionDetailsPane.offsetHeight>r&&(r=this.selectionDetailsPane.offsetHeight)}),r}layoutSelectDropDown(r){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const l=f.getWindow(this.selectElement),o=f.getDomNodePagePosition(this.selectElement),g=f.getWindow(this.selectElement).getComputedStyle(this.selectElement),c=parseFloat(g.getPropertyValue("--dropdown-padding-top"))+parseFloat(g.getPropertyValue("--dropdown-padding-bottom")),b=l.innerHeight-o.top-o.height-(this.selectBoxOptions.minBottomMargin||0),C=o.top-u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,S=this.selectElement.offsetWidth,D=this.setWidthControlElement(this.widthControlElement),I=Math.max(D,Math.round(S)).toString()+"px";this.selectDropDownContainer.style.width=I,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let T=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const N=this._hasDetails?this._cachedMaxDetailsHeight:0,A=T+c+N,P=Math.floor((b-c-N)/this.getHeight()),M=Math.floor((C-c-N)/this.getHeight());if(r)return o.top+o.height>l.innerHeight-22||o.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||P<1&&M<1?!1:(P<u.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&M>P&&this.options.length>P?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(o.top+o.height>l.innerHeight-22||o.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&P<1||this._dropDownPosition===1&&M<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&P+M<1)return this.hideSelectDropDown(!0),!1;A>b&&(T=P*this.getHeight())}else A>C&&(T=M*this.getHeight());return this.selectList.layout(T),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=T+c+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=T+c+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=I,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(r){let l=0;if(r){let o=0,g=0;this.options.forEach((c,b)=>{const C=c.detail?c.detail.length:0,S=c.decoratorRight?c.decoratorRight.length:0,D=c.text.length+C+S;D>g&&(o=b,g=D)}),r.textContent=this.options[o].text+(this.options[o].decoratorRight?this.options[o].decoratorRight+" ":""),l=f.getTotalWidth(r)}return l}createSelectList(r){if(this.selectList)return;this.selectDropDownListContainer=f.append(r,n(".select-box-dropdown-list-container")),this.listRenderer=new m,this.selectList=new w.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:g=>{let c=g.text;return g.detail&&(c+=`. ${g.detail}`),g.decoratorRight&&(c+=`. ${g.decoratorRight}`),g.description&&(c+=`. ${g.description}`),c},getWidgetAriaLabel:()=>(0,t.localize)(0,null),getRole:()=>i.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const l=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),o=_.Event.chain(l.event,g=>g.filter(()=>this.selectList.length>0).map(c=>new E.StandardKeyboardEvent(c)));this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===3))(this.onEnter,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===2))(this.onEnter,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===9))(this.onEscape,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===16))(this.onUpArrow,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===18))(this.onDownArrow,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===12))(this.onPageDown,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===11))(this.onPageUp,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===14))(this.onHome,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode===13))(this.onEnd,this)),this._register(_.Event.chain(o,g=>g.filter(c=>c.keyCode>=21&&c.keyCode<=56||c.keyCode>=85&&c.keyCode<=113))(this.onCharacter,this)),this._register(f.addDisposableListener(this.selectList.getHTMLElement(),f.EventType.POINTER_UP,g=>this.onPointerUp(g))),this._register(this.selectList.onMouseOver(g=>typeof g.index<"u"&&this.selectList.setFocus([g.index]))),this._register(this.selectList.onDidChangeFocus(g=>this.onListFocus(g))),this._register(f.addDisposableListener(this.selectDropDownContainer,f.EventType.FOCUS_OUT,g=>{!this._isVisible||f.isAncestor(g.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(r){if(!this.selectList.length)return;f.EventHelper.stop(r);const l=r.target;if(!l||l.classList.contains("slider"))return;const o=l.closest(".monaco-list-row");if(!o)return;const g=Number(o.getAttribute("data-index")),c=o.classList.contains("option-disabled");g>=0&&g<this.options.length&&!c&&(this.selected=g,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(r,l){const o=c=>{for(let b=0;b<c.childNodes.length;b++){const C=c.childNodes.item(b);(C.tagName&&C.tagName.toLowerCase())==="img"?c.removeChild(C):o(C)}},g=(0,L.renderMarkdown)({value:r,supportThemeIcons:!0},{actionHandler:l});return g.element.classList.add("select-box-description-markdown"),o(g.element),g.element}onListFocus(r){!this._isVisible||!this._hasDetails||this.updateDetail(r.indexes[0])}updateDetail(r){var l,o;this.selectionDetailsPane.innerText="";const g=this.options[r],c=(l=g?.description)!==null&&l!==void 0?l:"",b=(o=g?.descriptionIsMarkdown)!==null&&o!==void 0?o:!1;if(c){if(b){const C=g.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(c,C))}else this.selectionDetailsPane.innerText=c;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(r){f.EventHelper.stop(r),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(r){f.EventHelper.stop(r),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(r){if(this.selected<this.options.length-1){f.EventHelper.stop(r,!0);const l=this.options[this.selected+1].isDisabled;if(l&&this.options.length>this.selected+2)this.selected+=2;else{if(l)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(r){this.selected>0&&(f.EventHelper.stop(r,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(r){f.EventHelper.stop(r),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(r){f.EventHelper.stop(r),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(r){f.EventHelper.stop(r),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(r){f.EventHelper.stop(r),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(r){const l=a.KeyCodeUtils.toString(r.keyCode);let o=-1;for(let g=0;g<this.options.length-1;g++)if(o=(g+this.selected+1)%this.options.length,this.options[o].text.charAt(0).toUpperCase()===l&&!this.options[o].isDisabled){this.select(o),this.selectList.setFocus([o]),this.selectList.reveal(this.selectList.getFocus()[0]),f.EventHelper.stop(r);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=u,u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,u.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(ie[623],ne([1,0,622,618,78,17,443]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class y extends E.Widget{constructor(w,v,_,a,s){super(),L.isMacintosh&&!s?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(w,v,a,s):this.selectBoxDelegate=new f.SelectBoxList(w,v,_,a,s),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(w,v){this.selectBoxDelegate.setOptions(w,v)}select(w){this.selectBoxDelegate.select(w)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(w){this.selectBoxDelegate.setFocusable(w)}render(w){this.selectBoxDelegate.render(w)}}e.SelectBox=y}),define(ie[146],ne([1,0,62,214,6,67,44,80,623,41,2,17,21,593,290]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends _.Disposable{get action(){return this._action}constructor(u,d,r={}){super(),this.options=r,this._context=u||this,this._action=d,d instanceof v.Action&&this._register(d.onDidChange(l=>{this.element&&this.handleActionChangeEvent(l)}))}handleActionChangeEvent(u){u.enabled!==void 0&&this.updateEnabled(),u.checked!==void 0&&this.updateChecked(),u.class!==void 0&&this.updateClass(),u.label!==void 0&&(this.updateLabel(),this.updateTooltip()),u.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new v.ActionRunner)),this._actionRunner}set actionRunner(u){this._actionRunner=u}isEnabled(){return this._action.enabled}setActionContext(u){this._context=u}render(u){const d=this.element=u;this._register(L.Gesture.addTarget(u));const r=this.options&&this.options.draggable;r&&(u.draggable=!0,f.isFirefox&&this._register((0,E.addDisposableListener)(u,E.EventType.DRAG_START,l=>{var o;return(o=l.dataTransfer)===null||o===void 0?void 0:o.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,E.addDisposableListener)(d,L.EventType.Tap,l=>this.onClick(l,!0))),this._register((0,E.addDisposableListener)(d,E.EventType.MOUSE_DOWN,l=>{r||E.EventHelper.stop(l,!0),this._action.enabled&&l.button===0&&d.classList.add("active")})),a.isMacintosh&&this._register((0,E.addDisposableListener)(d,E.EventType.CONTEXT_MENU,l=>{l.button===0&&l.ctrlKey===!0&&this.onClick(l)})),this._register((0,E.addDisposableListener)(d,E.EventType.CLICK,l=>{E.EventHelper.stop(l,!0),this.options&&this.options.isMenu||this.onClick(l)})),this._register((0,E.addDisposableListener)(d,E.EventType.DBLCLICK,l=>{E.EventHelper.stop(l,!0)})),[E.EventType.MOUSE_UP,E.EventType.MOUSE_OUT].forEach(l=>{this._register((0,E.addDisposableListener)(d,l,o=>{E.EventHelper.stop(o),d.classList.remove("active")}))})}onClick(u,d=!1){var r;E.EventHelper.stop(u,!0);const l=s.isUndefinedOrNull(this._context)?!((r=this.options)===null||r===void 0)&&r.useEventAsContext?u:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,l)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(u){this.element&&(this.element.tabIndex=u?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var u,d,r;if(!this.element)return;const l=(u=this.getTooltip())!==null&&u!==void 0?u:"";if(this.updateAriaLabel(),!((d=this.options.hoverDelegate)===null||d===void 0)&&d.showNativeHover)this.element.title=l;else if(!this.customHover&&l!==""){const o=(r=this.options.hoverDelegate)!==null&&r!==void 0?r:(0,y.getDefaultHoverDelegate)("element");this.customHover=this._store.add((0,p.setupCustomHover)(o,this.element,l))}else this.customHover&&this.customHover.update(l)}updateAriaLabel(){var u;if(this.element){const d=(u=this.getTooltip())!==null&&u!==void 0?u:"";this.element.setAttribute("aria-label",d)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=t;class n extends t{constructor(u,d,r){super(u,d,r),this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(u){super.render(u),s.assertType(this.element);const d=document.createElement("a");if(d.classList.add("action-label"),d.setAttribute("role",this.getDefaultAriaRole()),this.label=d,this.element.appendChild(d),this.options.label&&this.options.keybinding){const r=document.createElement("span");r.classList.add("keybinding"),r.textContent=this.options.keybinding,this.element.appendChild(r)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===v.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(u){this.label&&(this.label.tabIndex=u?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let u=null;return this.action.tooltip?u=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(u=this.action.label,this.options.keybinding&&(u=i.localize(0,null,u,this.options.keybinding))),u??void 0}updateClass(){var u;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(u=this.label)===null||u===void 0||u.classList.remove("codicon")}updateEnabled(){var u,d;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(u=this.element)===null||u===void 0||u.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(d=this.element)===null||d===void 0||d.classList.add("disabled"))}updateAriaLabel(){var u;if(this.label){const d=(u=this.getTooltip())!==null&&u!==void 0?u:"";this.label.setAttribute("aria-label",d)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=n;class h extends t{constructor(u,d,r,l,o,g,c){super(u,d),this.selectBox=new w.SelectBox(r,l,o,g,c),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(u){this.selectBox.select(u)}registerListeners(){this._register(this.selectBox.onDidSelect(u=>this.runAction(u.selected,u.index)))}runAction(u,d){this.actionRunner.run(this._action,this.getActionContext(u,d))}getActionContext(u,d){return u}setFocusable(u){this.selectBox.setFocusable(u)}focus(){var u;(u=this.selectBox)===null||u===void 0||u.focus()}blur(){var u;(u=this.selectBox)===null||u===void 0||u.blur()}render(u){this.selectBox.render(u)}}e.SelectActionViewItem=h}),define(ie[81],ne([1,0,6,48,146,44,41,7,2,21,290]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class _ extends w.Disposable{constructor(s,i={}){var t,n,h,m,u,d,r;super(),this._actionRunnerDisposables=this._register(new w.DisposableStore),this.viewItemDisposables=this._register(new w.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new p.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(t=i.context)!==null&&t!==void 0?t:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(m=(h=this.options.triggerKeys)===null||h===void 0?void 0:h.keyDown)!==null&&m!==void 0?m:!1,keys:(d=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keys)!==null&&d!==void 0?d:[3,10]},this._hoverDelegate=(r=i.hoverDelegate)!==null&&r!==void 0?r:this._register((0,L.createInstantHoverDelegate)()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new y.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(g=>this._onDidRun.fire(g))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(g=>this._onWillRun.fire(g))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let l,o;switch(this._orientation){case 0:l=[15],o=[17];break;case 1:l=[16],o=[18],this.domNode.className+=" vertical";break}this._register(f.addDisposableListener(this.domNode,f.EventType.KEY_DOWN,g=>{const c=new k.StandardKeyboardEvent(g);let b=!0;const C=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;l&&(c.equals(l[0])||c.equals(l[1]))?b=this.focusPrevious():o&&(c.equals(o[0])||c.equals(o[1]))?b=this.focusNext():c.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():c.equals(14)?b=this.focusFirst():c.equals(13)?b=this.focusLast():c.equals(2)&&C instanceof E.BaseActionViewItem&&C.trapsArrowNavigation?b=this.focusNext():this.isTriggerKeyEvent(c)?this._triggerKeys.keyDown?this.doTrigger(c):this.triggerKeyDown=!0:b=!1,b&&(c.preventDefault(),c.stopPropagation())})),this._register(f.addDisposableListener(this.domNode,f.EventType.KEY_UP,g=>{const c=new k.StandardKeyboardEvent(g);this.isTriggerKeyEvent(c)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(c)),c.preventDefault(),c.stopPropagation()):(c.equals(2)||c.equals(1026)||c.equals(16)||c.equals(18)||c.equals(15)||c.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(f.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(f.getActiveElement()===this.domNode||!f.isAncestor(f.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(s){if(this.focusable=s,this.focusable){const i=this.viewItems.find(t=>t instanceof E.BaseActionViewItem&&t.isEnabled());i instanceof E.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof E.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(s){let i=!1;return this._triggerKeys.keys.forEach(t=>{i=i||s.equals(t)}),i}updateFocusedItem(){var s,i;for(let t=0;t<this.actionsList.children.length;t++){const n=this.actionsList.children[t];if(f.isAncestor(f.getActiveElement(),n)){this.focusedItem=t,(i=(s=this.viewItems[this.focusedItem])===null||s===void 0?void 0:s.showHover)===null||i===void 0||i.call(s);break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(i=>i.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){this._actionRunner=s,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=s)}getContainer(){return this.domNode}getAction(s){var i;if(typeof s=="number")return(i=this.viewItems[s])===null||i===void 0?void 0:i.action;if(s instanceof HTMLElement){for(;s.parentElement!==this.actionsList;){if(!s.parentElement)return;s=s.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===s)return this.viewItems[t].action}}push(s,i={}){const t=Array.isArray(s)?s:[s];let n=v.isNumber(i.index)?i.index:null;t.forEach(h=>{const m=document.createElement("li");m.className="action-item",m.setAttribute("role","presentation");let u;const d={hoverDelegate:this._hoverDelegate,...i};this.options.actionViewItemProvider&&(u=this.options.actionViewItemProvider(h,d)),u||(u=new E.ActionViewItem(this.context,h,d)),this.options.allowContextMenu||this.viewItemDisposables.set(u,f.addDisposableListener(m,f.EventType.CONTEXT_MENU,r=>{f.EventHelper.stop(r,!0)})),u.actionRunner=this._actionRunner,u.setActionContext(this.context),u.render(m),this.focusable&&u instanceof E.BaseActionViewItem&&this.viewItems.length===0&&u.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(m),this.viewItems.push(u)):(this.actionsList.insertBefore(m,this.actionsList.children[n]),this.viewItems.splice(n,0,u),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,w.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),f.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(s){let i=!1,t;if(s===void 0?i=!0:typeof s=="number"?t=s:typeof s=="boolean"&&(i=s),i&&typeof this.focusedItem>"u"){const n=this.viewItems.findIndex(h=>h.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(s){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(!s&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===y.Separator.ID));return this.updateFocus(),!0}focusPrevious(s){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!s&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===y.Separator.ID));return this.updateFocus(!0),!0}updateFocus(s,i,t=!1){var n,h;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());const m=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(m){let u=!0;v.isFunction(m.focus)||(u=!1),this.options.focusOnlyEnabledItems&&v.isFunction(m.isEnabled)&&!m.isEnabled()&&(u=!1),m.action.id===y.Separator.ID&&(u=!1),u?(t||this.previouslyFocusedItem!==this.focusedItem)&&(m.focus(s),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0),u&&((h=m.showHover)===null||h===void 0||h.call(m))}}doTrigger(s){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof E.BaseActionViewItem){const t=i._context===null||i._context===void 0?s:i._context;this.run(i._action,t)}}async run(s,i){await this._actionRunner.run(s,i)}dispose(){this._context=void 0,this.viewItems=(0,w.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=_}),define(ie[341],ne([1,0,6,146,615,7,80,44,291]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class w extends k.BaseActionViewItem{constructor(_,a,s,i=Object.create(null)){super(null,_,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new L.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=a,this.contextMenuProvider=s,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(_){this.actionItem=_;const a=t=>{var n;this.element=(0,f.append)(t,(0,f.$)("a.action-label"));let h=[];return typeof this.options.classNames=="string"?h=this.options.classNames.split(/\s+/g).filter(m=>!!m):this.options.classNames&&(h=this.options.classNames),h.find(m=>m==="icon")||h.push("codicon"),this.element.classList.add(...h),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register((0,y.setupCustomHover)((n=this.options.hoverDelegate)!==null&&n!==void 0?n:(0,p.getDefaultHoverDelegate)("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},s=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:a,menuAsChild:this.options.menuAsChild,actions:s?this.menuActionsOrProvider:void 0,actionProvider:s?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new E.DropdownMenu(_,i)),this._register(this.dropdownMenu.onDidChangeVisibility(t=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${t}`),this._onDidChangeVisibility.fire(t)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const t=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return t.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let _=null;return this.action.tooltip?_=this.action.tooltip:this.action.label&&(_=this.action.label),_??void 0}setActionContext(_){super.setActionContext(_),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=_:this.dropdownMenu.menuOptions={context:_})}show(){var _;(_=this.dropdownMenu)===null||_===void 0||_.show()}updateEnabled(){var _,a;const s=!this.action.enabled;(_=this.actionItem)===null||_===void 0||_.classList.toggle("disabled",s),(a=this.element)===null||a===void 0||a.classList.toggle("disabled",s)}}e.DropdownMenuActionViewItem=w}),define(ie[248],ne([1,0,6,89,335,81,45,44,80,79,78,7,423,55,599,437]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const n=f.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class h extends _.Widget{constructor(d,r,l){var o;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new a.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new a.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=r,this.options=l,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(o=this.options.tooltip)!==null&&o!==void 0?o:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=f.append(d,n(".monaco-inputbox.idle"));const g=this.options.flexibleHeight?"textarea":"input",c=f.append(this.element,n(".ibwrapper"));if(this.input=f.append(c,n(g+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=f.append(c,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new v.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),f.append(d,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(S=>this.input.scrollTop=S.scrollTop));const b=this._register(new k.DomEmitter(d.ownerDocument,"selectionchange")),C=a.Event.filter(b.event,()=>{const S=d.ownerDocument.getSelection();return S?.anchorNode===c});this._register(C(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new L.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(d){this.placeholder=d,this.input.setAttribute("placeholder",d)}setTooltip(d){this.tooltip=d,this.hover?this.hover.update(d):this.hover=this._register((0,w.setupCustomHover)((0,p.getDefaultHoverDelegate)("mouse"),this.input,d))}get inputElement(){return this.input}get value(){return this.input.value}set value(d){this.input.value!==d&&(this.input.value=d,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:f.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return f.isActiveElement(this.input)}select(d=null){this.input.select(),d&&(this.input.setSelectionRange(d.start,d.end),d.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){var d;const r=this.input.selectionStart;if(r===null)return null;const l=(d=this.input.selectionEnd)!==null&&d!==void 0?d:r;return{start:r,end:l}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(d){this.input.style.width=`calc(100% - ${d}px)`,this.mirror&&(this.mirror.style.paddingRight=d+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const d=this.cachedContentHeight,r=this.cachedHeight,l=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:d,height:r}),this.scrollableElement.setScrollPosition({scrollTop:l})}showMessage(d,r){if(this.state==="open"&&(0,i.equals)(this.message,d))return;this.message=d,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(d.type));const l=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${f.asCssValueWithDefault(l.border,"transparent")}`,this.message.content&&(this.hasFocus()||r)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let d=null;return this.validation&&(d=this.validation(this.value),d?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(d)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),d?.type}stylesForType(d){const r=this.options.inputBoxStyles;switch(d){case 1:return{border:r.inputValidationInfoBorder,background:r.inputValidationInfoBackground,foreground:r.inputValidationInfoForeground};case 2:return{border:r.inputValidationWarningBorder,background:r.inputValidationWarningBackground,foreground:r.inputValidationWarningForeground};default:return{border:r.inputValidationErrorBorder,background:r.inputValidationErrorBackground,foreground:r.inputValidationErrorForeground}}}classForType(d){switch(d){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let d;const r=()=>d.style.width=f.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{var g,c;if(!this.message)return null;d=f.append(o,n(".monaco-inputbox-container")),r();const b={inline:!0,className:"monaco-inputbox-message"},C=this.message.formatContent?(0,E.renderFormattedText)(this.message.content,b):(0,E.renderText)(this.message.content,b);C.classList.add(this.classForType(this.message.type));const S=this.stylesForType(this.message.type);return C.style.backgroundColor=(g=S.background)!==null&&g!==void 0?g:"",C.style.color=(c=S.foreground)!==null&&c!==void 0?c:"",C.style.border=S.border?`1px solid ${S.border}`:"",f.append(d,C),null},onHide:()=>{this.state="closed"},layout:r});let l;this.message.type===3?l=t.localize(0,null,this.message.content):this.message.type===2?l=t.localize(1,null,this.message.content):l=t.localize(2,null,this.message.content),y.alert(l),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const d=this.value,l=d.charCodeAt(d.length-1)===10?" ":"";(d+l).replace(/\u000c/g,"")?this.mirror.textContent=d+l:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var d,r,l;const o=this.options.inputBoxStyles,g=(d=o.inputBackground)!==null&&d!==void 0?d:"",c=(r=o.inputForeground)!==null&&r!==void 0?r:"",b=(l=o.inputBorder)!==null&&l!==void 0?l:"";this.element.style.backgroundColor=g,this.element.style.color=c,this.input.style.backgroundColor="inherit",this.input.style.color=c,this.element.style.border=`1px solid ${f.asCssValueWithDefault(b,"transparent")}`}layout(){if(!this.mirror)return;const d=this.cachedContentHeight;this.cachedContentHeight=f.getTotalHeight(this.mirror),d!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(d){const r=this.inputElement,l=r.selectionStart,o=r.selectionEnd,g=r.value;l!==null&&o!==null&&(this.value=g.substr(0,l)+d+g.substr(o),r.setSelectionRange(l+1,l+1),this.layout())}dispose(){var d;this._hideMessage(),this.message=null,(d=this.actionbar)===null||d===void 0||d.dispose(),super.dispose()}}e.InputBox=h;class m extends h{constructor(d,r,l){const o=t.localize(3,null,"\u21C5"),g=t.localize(4,null,"\u21C5");super(d,r,l),this._onDidFocus=this._register(new a.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new a.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new s.HistoryNavigator(l.history,100);const c=()=>{if(l.showHistoryHint&&l.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(g)&&this.history.getHistory().length){const b=this.placeholder.endsWith(")")?o:g,C=this.placeholder+b;l.showPlaceholderOnFocus&&!f.isActiveElement(this.input)?this.placeholder=C:this.setPlaceHolder(C)}};this.observer=new MutationObserver((b,C)=>{b.forEach(S=>{S.target.textContent||c()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>c()),this.onblur(this.input,()=>{const b=C=>{if(this.placeholder.endsWith(C)){const S=this.placeholder.slice(0,this.placeholder.length-C.length);return l.showPlaceholderOnFocus?this.placeholder=S:this.setPlaceHolder(S),!0}else return!1};b(g)||b(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(d){this.value&&(d||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let d=this.getNextValue();d&&(d=d===this.value?this.getNextValue():d),this.value=d??"",y.status(this.value?this.value:t.localize(5,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let d=this.getPreviousValue();d&&(d=d===this.value?this.getPreviousValue():d),d&&(this.value=d,y.status(this.value))}setPlaceHolder(d){super.setPlaceHolder(d),this.setTooltip(d)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let d=this.history.current();return d||(d=this.history.last(),this.history.next()),d}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=m}),define(ie[624],ne([1,0,62,67,6,48,73,81,146,336,79,41,15,26,183,31,136,2,17,11]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=e.VerticalDirection=e.HorizontalDirection=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.cleanMnemonic=C,e.formatRule=S,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var r;(function(I){I[I.Right=0]="Right",I[I.Left=1]="Left"})(r||(e.HorizontalDirection=r={}));var l;(function(I){I[I.Above=0]="Above",I[I.Below=1]="Below"})(l||(e.VerticalDirection=l={}));class o extends p.ActionBar{constructor(T,N,A,P){T.classList.add("monaco-menu-container"),T.setAttribute("role","presentation");const M=document.createElement("div");M.classList.add("monaco-menu"),M.setAttribute("role","presentation"),super(M,{orientation:1,actionViewItemProvider:B=>this.doGetActionViewItem(B,A,R),context:A.context,actionRunner:A.actionRunner,ariaLabel:A.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...u.isMacintosh||u.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=P,this.menuElement=M,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(T,P),this._register(k.Gesture.addTarget(M)),this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,B=>{new L.StandardKeyboardEvent(B).equals(2)&&B.preventDefault()})),A.enableMnemonics&&this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,B=>{const H=B.key.toLocaleLowerCase();if(this.mnemonics.has(H)){E.EventHelper.stop(B,!0);const V=this.mnemonics.get(H);if(V.length===1&&(V[0]instanceof c&&V[0].container&&this.focusItemByElement(V[0].container),V[0].onClick(B)),V.length>1){const q=V.shift();q&&q.container&&(this.focusItemByElement(q.container),V.push(q)),this.mnemonics.set(H,V)}}})),u.isLinux&&this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,B=>{const H=new L.StandardKeyboardEvent(B);H.equals(14)||H.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),E.EventHelper.stop(B,!0)):(H.equals(13)||H.equals(12))&&(this.focusedItem=0,this.focusPrevious(),E.EventHelper.stop(B,!0))})),this._register((0,E.addDisposableListener)(this.domNode,E.EventType.MOUSE_OUT,B=>{const H=B.relatedTarget;(0,E.isAncestor)(H,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),B.stopPropagation())})),this._register((0,E.addDisposableListener)(this.actionsList,E.EventType.MOUSE_OVER,B=>{let H=B.target;if(!(!H||!(0,E.isAncestor)(H,this.actionsList)||H===this.actionsList)){for(;H.parentElement!==this.actionsList&&H.parentElement!==null;)H=H.parentElement;if(H.classList.contains("action-item")){const V=this.focusedItem;this.setFocusedItem(H),V!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,E.addDisposableListener)(this.actionsList,k.EventType.Tap,B=>{let H=B.initialTarget;if(!(!H||!(0,E.isAncestor)(H,this.actionsList)||H===this.actionsList)){for(;H.parentElement!==this.actionsList&&H.parentElement!==null;)H=H.parentElement;if(H.classList.contains("action-item")){const V=this.focusedItem;this.setFocusedItem(H),V!==this.focusedItem&&this.updateFocus()}}}));const R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new _.DomScrollableElement(M,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const F=this.scrollableElement.getDomNode();F.style.position="",this.styleScrollElement(F,P),this._register((0,E.addDisposableListener)(M,k.EventType.Change,B=>{E.EventHelper.stop(B,!0);const H=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:H-B.translationY})})),this._register((0,E.addDisposableListener)(F,E.EventType.MOUSE_UP,B=>{B.preventDefault()}));const O=(0,E.getWindow)(T);M.style.maxHeight=`${Math.max(10,O.innerHeight-T.getBoundingClientRect().top-35)}px`,N=N.filter((B,H)=>{var V;return!((V=A.submenuIds)===null||V===void 0)&&V.has(B.id)?(console.warn(`Found submenu cycle: ${B.id}`),!1):!(B instanceof a.Separator&&(H===N.length-1||H===0||N[H-1]instanceof a.Separator))}),this.push(N,{icon:!0,label:!0,isMenu:!0}),T.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(B=>!(B instanceof b)).forEach((B,H,V)=>{B.updatePositionInSet(H+1,V.length)})}initializeOrUpdateStyleSheet(T,N){this.styleSheet||((0,E.isInShadowDOM)(T)?this.styleSheet=(0,E.createStyleSheet)(T):(o.globalStyleSheet||(o.globalStyleSheet=(0,E.createStyleSheet)()),this.styleSheet=o.globalStyleSheet)),this.styleSheet.textContent=D(N,(0,E.isInShadowDOM)(T))}styleScrollElement(T,N){var A,P;const M=(A=N.foregroundColor)!==null&&A!==void 0?A:"",R=(P=N.backgroundColor)!==null&&P!==void 0?P:"",F=N.borderColor?`1px solid ${N.borderColor}`:"",O="5px",B=N.shadowColor?`0 2px 8px ${N.shadowColor}`:"";T.style.outline=F,T.style.borderRadius=O,T.style.color=M,T.style.backgroundColor=R,T.style.boxShadow=B}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(T){const N=this.focusedItem;this.setFocusedItem(T),N!==this.focusedItem&&this.updateFocus()}setFocusedItem(T){for(let N=0;N<this.actionsList.children.length;N++){const A=this.actionsList.children[N];if(T===A){this.focusedItem=N;break}}}updateFocus(T){super.updateFocus(T,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(T,N,A){if(T instanceof a.Separator)return new b(N.context,T,{icon:!0},this.menuStyles);if(T instanceof a.SubmenuAction){const P=new c(T,T.actions,A,{...N,submenuIds:new Set([...N.submenuIds||[],T.id])},this.menuStyles);if(N.enableMnemonics){const M=P.getMnemonic();if(M&&P.isEnabled()){let R=[];this.mnemonics.has(M)&&(R=this.mnemonics.get(M)),R.push(P),this.mnemonics.set(M,R)}}return P}else{const P={enableMnemonics:N.enableMnemonics,useEventAsContext:N.useEventAsContext};if(N.getKeyBinding){const R=N.getKeyBinding(T);if(R){const F=R.getLabel();F&&(P.keybinding=F)}}const M=new g(N.context,T,P,this.menuStyles);if(N.enableMnemonics){const R=M.getMnemonic();if(R&&M.isEnabled()){let F=[];this.mnemonics.has(R)&&(F=this.mnemonics.get(R)),F.push(M),this.mnemonics.set(R,F)}}return M}}}e.Menu=o;class g extends w.BaseActionViewItem{constructor(T,N,A,P){if(A.isMenu=!0,super(N,N,A),this.menuStyle=P,this.options=A,this.options.icon=A.icon!==void 0?A.icon:!1,this.options.label=A.label!==void 0?A.label:!0,this.cssClass="",this.options.label&&A.enableMnemonics){const M=this.action.label;if(M){const R=e.MENU_MNEMONIC_REGEX.exec(M);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new s.RunOnceScheduler(()=>{this.element&&(this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_UP,M=>{if(E.EventHelper.stop(M,!0),f.isFirefox){if(new y.StandardMouseEvent((0,E.getWindow)(this.element),M).rightButton)return;this.onClick(M)}else setTimeout(()=>{this.onClick(M)},0)})),this._register((0,E.addDisposableListener)(this.element,E.EventType.CONTEXT_MENU,M=>{E.EventHelper.stop(M,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(T){super.render(T),this.element&&(this.container=T,this.item=(0,E.append)(this.element,(0,E.$)("a.action-menu-item")),this._action.id===a.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,E.append)(this.item,(0,E.$)("span.menu-item-check"+n.ThemeIcon.asCSSSelector(i.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,E.append)(this.item,(0,E.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,E.append)(this.item,(0,E.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var T;super.focus(),(T=this.item)===null||T===void 0||T.focus(),this.applyStyle()}updatePositionInSet(T,N){this.item&&(this.item.setAttribute("aria-posinset",`${T}`),this.item.setAttribute("aria-setsize",`${N}`))}updateLabel(){var T;if(this.label&&this.options.label){(0,E.clearNode)(this.label);let N=(0,h.stripIcons)(this.action.label);if(N){const A=C(N);this.options.enableMnemonics||(N=A),this.label.setAttribute("aria-label",A.replace(/&&/g,"&"));const P=e.MENU_MNEMONIC_REGEX.exec(N);if(P){N=d.escape(N),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);for(;M&&M[1];)M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);const R=F=>F.replace(/&amp;&amp;/g,"&amp;");M?this.label.append(d.ltrim(R(N.substr(0,M.index))," "),(0,E.$)("u",{"aria-hidden":"true"},M[3]),d.rtrim(R(N.substr(M.index+M[0].length))," ")):this.label.innerText=R(N).trim(),(T=this.item)===null||T===void 0||T.setAttribute("aria-keyshortcuts",(P[1]?P[1]:P[3]).toLocaleLowerCase())}else this.label.innerText=N.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const T=this.action.checked;this.item.classList.toggle("checked",!!T),T!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",T?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const T=this.element&&this.element.classList.contains("focused"),N=T&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,A=T&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,P=T&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",M=T&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=N??"",this.item.style.backgroundColor=A??"",this.item.style.outline=P,this.item.style.outlineOffset=M),this.check&&(this.check.style.color=N??"")}}class c extends g{constructor(T,N,A,P,M){super(T,T,P,M),this.submenuActions=N,this.parentData=A,this.submenuOptions=P,this.mysubmenu=null,this.submenuDisposables=this._register(new m.DisposableStore),this.mouseOver=!1,this.expandDirection=P&&P.expandDirection!==void 0?P.expandDirection:{horizontal:r.Right,vertical:l.Below},this.showScheduler=new s.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new s.RunOnceScheduler(()=>{this.element&&!(0,E.isAncestor)((0,E.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(T){super.render(T),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,E.append)(this.item,(0,E.$)("span.submenu-indicator"+n.ThemeIcon.asCSSSelector(i.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,E.addDisposableListener)(this.element,E.EventType.KEY_UP,N=>{const A=new L.StandardKeyboardEvent(N);(A.equals(17)||A.equals(3))&&(E.EventHelper.stop(N,!0),this.createSubmenu(!0))})),this._register((0,E.addDisposableListener)(this.element,E.EventType.KEY_DOWN,N=>{const A=new L.StandardKeyboardEvent(N);(0,E.getActiveElement)()===this.item&&(A.equals(17)||A.equals(3))&&E.EventHelper.stop(N,!0)})),this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_OVER,N=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_LEAVE,N=>{this.mouseOver=!1})),this._register((0,E.addDisposableListener)(this.element,E.EventType.FOCUS_OUT,N=>{this.element&&!(0,E.isAncestor)((0,E.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(T){E.EventHelper.stop(T,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(T){if(this.parentData.submenu&&(T||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(T,N,A,P){const M={top:0,left:0};return M.left=(0,v.layout)(T.width,N.width,{position:P.horizontal===r.Right?0:1,offset:A.left,size:A.width}),M.left>=A.left&&M.left<A.left+A.width&&(A.left+10+N.width<=T.width&&(M.left=A.left+10),A.top+=10,A.height=0),M.top=(0,v.layout)(T.height,N.height,{position:0,offset:A.top,size:0}),M.top+N.height===A.top&&M.top+A.height+N.height<=T.height&&(M.top+=A.height),M}createSubmenu(T=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,E.append)(this.element,(0,E.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const N=(0,E.getWindow)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),A=parseFloat(N.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new o(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new a.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const P=this.element.getBoundingClientRect(),M={top:P.top-A,left:P.left,height:P.height+2*A,width:P.width},R=this.submenuContainer.getBoundingClientRect(),F=(0,E.getWindow)(this.element),{top:O,left:B}=this.calculateSubmenuMenuLayout(new E.Dimension(F.innerWidth,F.innerHeight),E.Dimension.lift(R),M,this.expandDirection);this.submenuContainer.style.left=`${B-R.left}px`,this.submenuContainer.style.top=`${O-R.top}px`,this.submenuDisposables.add((0,E.addDisposableListener)(this.submenuContainer,E.EventType.KEY_UP,H=>{new L.StandardKeyboardEvent(H).equals(15)&&(E.EventHelper.stop(H,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,E.addDisposableListener)(this.submenuContainer,E.EventType.KEY_DOWN,H=>{new L.StandardKeyboardEvent(H).equals(15)&&E.EventHelper.stop(H,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(T),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(T){var N;this.item&&((N=this.item)===null||N===void 0||N.setAttribute("aria-expanded",T))}applyStyle(){super.applyStyle();const N=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=N??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class b extends w.ActionViewItem{constructor(T,N,A,P){super(T,N,A),this.menuStyles=P}render(T){super.render(T),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function C(I){const T=e.MENU_MNEMONIC_REGEX,N=T.exec(I);if(!N)return I;const A=!N[1];return I.replace(T,A?"$2$3":"").trim()}function S(I){const T=(0,t.getCodiconFontCharacters)()[I.id];return`.codicon-${I.id}:before { content: '\\${T.toString(16)}'; }`}function D(I,T){let N=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${S(i.Codicon.menuSelection)}
${S(i.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(T){N+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const A=I.scrollbarShadow;A&&(N+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${A} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${A} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${A} 6px 6px 6px -6px inset;
				}
			`);const P=I.scrollbarSliderBackground;P&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${P};
				}
			`);const M=I.scrollbarSliderHoverBackground;M&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${M};
				}
			`);const R=I.scrollbarSliderActiveBackground;R&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${R};
				}
			`)}return N}}),define(ie[625],ne([1,0,6,44,80,109,339,7,2,446]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class v{constructor(t,n,h){this.columns=t,this.getColumnSize=h,this.templateId=v.TemplateId,this.renderedTemplates=new Set;const m=new Map(n.map(u=>[u.templateId,u]));this.renderers=[];for(const u of t){const d=m.get(u.templateId);if(!d)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(d)}}renderTemplate(t){const n=(0,f.append)(t,(0,f.$)(".monaco-table-tr")),h=[],m=[];for(let d=0;d<this.columns.length;d++){const r=this.renderers[d],l=(0,f.append)(n,(0,f.$)(".monaco-table-td",{"data-col-index":d}));l.style.width=`${this.getColumnSize(d)}px`,h.push(l),m.push(r.renderTemplate(l))}const u={container:t,cellContainers:h,cellTemplateData:m};return this.renderedTemplates.add(u),u}renderElement(t,n,h,m){for(let u=0;u<this.columns.length;u++){const r=this.columns[u].project(t);this.renderers[u].renderElement(r,n,h.cellTemplateData[u],m)}}disposeElement(t,n,h,m){for(let u=0;u<this.columns.length;u++){const d=this.renderers[u];if(d.disposeElement){const l=this.columns[u].project(t);d.disposeElement(l,n,h.cellTemplateData[u],m)}}}disposeTemplate(t){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(t.cellTemplateData[n]);(0,f.clearNode)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,n){for(const{cellContainers:h}of this.renderedTemplates)h[t].style.width=`${n}px`}}v.TemplateId="row";function _(i){return{getHeight(t){return i.getHeight(t)},getTemplateId(){return v.TemplateId}}}class a extends w.Disposable{get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:p.Event.None}constructor(t,n){super(),this.column=t,this.index=n,this._onDidLayout=new p.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,f.$)(".monaco-table-th",{"data-col-index":n},t.label),t.tooltip&&this._register((0,E.setupCustomHover)((0,k.getDefaultHoverDelegate)("mouse"),this.element,t.tooltip))}layout(t){this._onDidLayout.fire([this.index,t])}}class s{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(t,n,h,m,u,d){this.virtualDelegate=h,this.domId=`table_id_${++s.InstanceCount}`,this.disposables=new w.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,f.append)(n,(0,f.$)(`.monaco-table.${this.domId}`));const r=m.map((g,c)=>this.disposables.add(new a(g,c))),l={size:r.reduce((g,c)=>g+c.column.weight,0),views:r.map(g=>({size:g.column.weight,view:g}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${h.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${h.headerRowHeight}px`;const o=new v(m,u,g=>this.splitview.getViewSize(g));this.list=this.disposables.add(new L.List(t,this.domNode,_(h),[o],d)),p.Event.any(...r.map(g=>g.onDidLayout))(([g,c])=>o.layoutColumn(g,c),null,this.disposables),this.splitview.onDidSashReset(g=>{const c=m.reduce((C,S)=>C+S.weight,0),b=m[g].weight/c*this.cachedWidth;this.splitview.resizeView(g,b)},null,this.disposables),this.styleElement=(0,f.createStyleSheet)(this.domNode),this.style(L.unthemedListStyles)}updateOptions(t){this.list.updateOptions(t)}splice(t,n,h=[]){this.list.splice(t,n,h)}getHTMLElement(){return this.domNode}style(t){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=s,s.InstanceCount=0}),define(ie[166],ne([1,0,78,31,7,80,44,447]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class p extends f.Widget{constructor(v){var _;super(),this._onChange=this._register(new E.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new E.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=v,this._checked=this._opts.isChecked;const a=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,a.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&a.push(...this._opts.actionClassName.split(" ")),this._checked&&a.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,L.setupCustomHover)((_=v.hoverDelegate)!==null&&_!==void 0?_:(0,y.getDefaultHoverDelegate)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...a),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,s=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),s.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,s=>{if(s.keyCode===10||s.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),s.preventDefault(),s.stopPropagation();return}this._onKeyDown.fire(s)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(v){this._checked=v,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=p}),define(ie[342],ne([1,0,44,166,26,595]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const y=L.localize(0,null),p=L.localize(1,null),w=L.localize(2,null);class v extends k.Toggle{constructor(i){var t;super({icon:E.Codicon.caseSensitive,title:y+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=v;class _ extends k.Toggle{constructor(i){var t;super({icon:E.Codicon.wholeWord,title:p+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=_;class a extends k.Toggle{constructor(i){var t;super({icon:E.Codicon.regex,title:w+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=a}),define(ie[249],ne([1,0,6,342,248,78,7,594,2,44,292]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const _=p.localize(0,null);class a extends L.Widget{constructor(i,t,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new w.MutableDisposable),this.additionalToggles=[],this._onDidOptionChange=this._register(new y.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new y.Emitter),this._onKeyUp=this._register(new y.Emitter),this._onCaseSensitiveKeyDown=this._register(new y.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new y.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||_,this.showCommonFindToggles=!!n.showCommonFindToggles;const h=n.appendCaseSensitiveLabel||"",m=n.appendWholeWordsLabel||"",u=n.appendRegexLabel||"",d=n.history||[],r=!!n.flexibleHeight,l=!!n.flexibleWidth,o=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new E.HistoryInputBox(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:d,showHistoryHint:n.showHistoryHint,flexibleHeight:r,flexibleWidth:l,flexibleMaxHeight:o,inputBoxStyles:n.inputBoxStyles}));const g=this._register((0,v.createInstantHoverDelegate)());if(this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle({appendTitle:u,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.regex.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(b=>{this._onRegexKeyDown.fire(b)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:m,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.wholeWords.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:h,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.caseSensitive.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(b=>{this._onCaseSensitiveKeyDown.fire(b)}));const c=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){const C=c.indexOf(this.domNode.ownerDocument.activeElement);if(C>=0){let S=-1;b.equals(17)?S=(C+1)%c.length:b.equals(15)&&(C===0?S=c.length-1:S=C-1),b.equals(9)?(c[C].blur(),this.inputBox.focus()):S>=0&&c[S].focus(),f.EventHelper.stop(b,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),i?.appendChild(this.domNode),this._register(f.addDisposableListener(this.inputBox.inputElement,"compositionstart",c=>{this.imeSessionInProgress=!0})),this._register(f.addDisposableListener(this.inputBox.inputElement,"compositionend",c=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,c=>this._onKeyDown.fire(c)),this.onkeyup(this.inputBox.inputElement,c=>this._onKeyUp.fire(c)),this.oninput(this.inputBox.inputElement,c=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,c=>this._onMouseDown.fire(c))}get onDidChange(){return this.inputBox.onDidChange}layout(i){this.inputBox.layout(),this.updateInputBoxPadding(i.collapsedFindWidget)}enable(){var i,t,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(i=this.regex)===null||i===void 0||i.enable(),(t=this.wholeWords)===null||t===void 0||t.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(const h of this.additionalToggles)h.enable()}disable(){var i,t,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(i=this.regex)===null||i===void 0||i.disable(),(t=this.wholeWords)===null||t===void 0||t.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(const h of this.additionalToggles)h.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new w.DisposableStore;for(const t of i??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(i=!1){var t,n,h,m,u,d;i?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((n=(t=this.caseSensitive)===null||t===void 0?void 0:t.width())!==null&&n!==void 0?n:0)+((m=(h=this.wholeWords)===null||h===void 0?void 0:h.width())!==null&&m!==void 0?m:0)+((d=(u=this.regex)===null||u===void 0?void 0:u.width())!==null&&d!==void 0?d:0)+this.additionalToggles.reduce((r,l)=>r+l.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var i,t;return(t=(i=this.caseSensitive)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setCaseSensitive(i){this.caseSensitive&&(this.caseSensitive.checked=i)}getWholeWords(){var i,t;return(t=(i=this.wholeWords)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setWholeWords(i){this.wholeWords&&(this.wholeWords.checked=i)}getRegex(){var i,t;return(t=(i=this.regex)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setRegex(i){this.regex&&(this.regex.checked=i,this.validate())}focusOnCaseSensitive(){var i;(i=this.caseSensitive)===null||i===void 0||i.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=a}),define(ie[626],ne([1,0,6,166,248,78,26,7,596,44,292]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const _=w.localize(0,null),a=w.localize(1,null);class s extends k.Toggle{constructor(n){var h;super({icon:y.Codicon.preserveCase,title:a+n.appendTitle,isChecked:n.isChecked,hoverDelegate:(h=n.hoverDelegate)!==null&&h!==void 0?h:(0,v.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}class i extends L.Widget{constructor(n,h,m,u){super(),this._showOptionButtons=m,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new p.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p.Emitter),this._onInput=this._register(new p.Emitter),this._onKeyUp=this._register(new p.Emitter),this._onPreserveCaseKeyDown=this._register(new p.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=h,this.placeholder=u.placeholder||"",this.validation=u.validation,this.label=u.label||_;const d=u.appendPreserveCaseLabel||"",r=u.history||[],l=!!u.flexibleHeight,o=!!u.flexibleWidth,g=u.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new E.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:u.showHistoryHint,flexibleHeight:l,flexibleWidth:o,flexibleMaxHeight:g,inputBoxStyles:u.inputBoxStyles})),this.preserveCase=this._register(new s({appendTitle:d,isChecked:!1,...u.toggleStyles})),this._register(this.preserveCase.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(C=>{this._onPreserveCaseKeyDown.fire(C)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const c=[this.preserveCase.domNode];this.onkeydown(this.domNode,C=>{if(C.equals(15)||C.equals(17)||C.equals(9)){const S=c.indexOf(this.domNode.ownerDocument.activeElement);if(S>=0){let D=-1;C.equals(17)?D=(S+1)%c.length:C.equals(15)&&(S===0?D=c.length-1:D=S-1),C.equals(9)?(c[S].blur(),this.inputBox.focus()):D>=0&&c[D].focus(),f.EventHelper.stop(C,!0)}}});const b=document.createElement("div");b.className="controls",b.style.display=this._showOptionButtons?"block":"none",b.appendChild(this.preserveCase.domNode),this.domNode.appendChild(b),n?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,C=>this._onKeyDown.fire(C)),this.onkeyup(this.inputBox.inputElement,C=>this._onKeyUp.fire(C)),this.oninput(this.inputBox.inputElement,C=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,C=>this._onMouseDown.fire(C))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(n){n?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(n){this.preserveCase.checked=n}focusOnPreserve(){this.preserveCase.focus()}validate(){var n;(n=this.inputBox)===null||n===void 0||n.validate()}set width(n){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=n+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(ie[627],ne([1,0,81,341,41,26,31,7,2,602,44,448]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class a extends w.Disposable{constructor(t,n,h={orientation:0}){var m;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new p.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new w.DisposableStore),h.hoverDelegate=(m=h.hoverDelegate)!==null&&m!==void 0?m:this._register((0,_.createInstantHoverDelegate)()),this.options=h,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new s(()=>{var u;return(u=this.toggleMenuActionViewItem)===null||u===void 0?void 0:u.show()},h.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",t.appendChild(this.element),this.actionBar=this._register(new f.ActionBar(this.element,{orientation:h.orientation,ariaLabel:h.ariaLabel,actionRunner:h.actionRunner,allowContextMenu:h.allowContextMenu,highlightToggledItems:h.highlightToggledItems,hoverDelegate:h.hoverDelegate,actionViewItemProvider:(u,d)=>{var r;if(u.id===s.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(u,u.menuActions,n,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:y.ThemeIcon.asClassNameArray((r=h.moreIcon)!==null&&r!==void 0?r:L.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(h.actionViewItemProvider){const l=h.actionViewItemProvider(u,d);if(l)return l}if(u instanceof E.SubmenuAction){const l=new k.DropdownMenuActionViewItem(u,u.actions,n,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:u.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return l.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(l),this.disposables.add(this._onDidChangeDropdownVisibility.add(l.onDidChangeVisibility)),l}}}))}set actionRunner(t){this.actionBar.actionRunner=t}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(t){return this.actionBar.getAction(t)}setActions(t,n){this.clear();const h=t?t.slice(0):[];this.hasSecondaryActions=!!(n&&n.length>0),this.hasSecondaryActions&&n&&(this.toggleMenuAction.menuActions=n.slice(0),h.push(this.toggleMenuAction)),h.forEach(m=>{this.actionBar.push(m,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(m)})})}getKeybindingLabel(t){var n,h,m;const u=this.lookupKeybindings?(h=(n=this.options).getKeyBinding)===null||h===void 0?void 0:h.call(n,t):void 0;return(m=u?.getLabel())!==null&&m!==void 0?m:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}e.ToolBar=a;class s extends E.Action{constructor(t,n){n=n||v.localize(0,null),super(s.ID,n,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=t}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(t){this._menuActions=t}}e.ToggleMenuAction=s,s.ID="toolbar.toggle.more"}),define(ie[167],ne([1,0,6,89,48,81,249,248,245,109,166,237,153,41,13,15,26,31,47,7,76,2,134,21,603,44,30,449]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.TreeRenderer=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class S extends w.ElementsDragAndDropData{constructor(W){super(W.elements.map(j=>j.element)),this.data=W}}function D($){return $ instanceof w.ElementsDragAndDropData?new S($):$}class I{constructor(W,j){this.modelProvider=W,this.dnd=j,this.autoExpandDisposable=l.Disposable.None,this.disposables=new l.DisposableStore}getDragURI(W){return this.dnd.getDragURI(W.element)}getDragLabel(W,j){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W.map(K=>K.element),j)}onDragStart(W,j){var K,G;(G=(K=this.dnd).onDragStart)===null||G===void 0||G.call(K,D(W),j)}onDragOver(W,j,K,G,ee,oe=!0){const de=this.dnd.onDragOver(D(W),j&&j.element,K,G,ee),le=this.autoExpandNode!==j;if(le&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=j),typeof j>"u")return de;if(le&&typeof de!="boolean"&&de.autoExpand&&(this.autoExpandDisposable=(0,n.disposableTimeout)(()=>{const be=this.modelProvider(),ke=be.getNodeLocation(j);be.isCollapsed(ke)&&be.setCollapsed(ke,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof de=="boolean"||!de.accept||typeof de.bubble>"u"||de.feedback){if(!oe){const be=typeof de=="boolean"?de:de.accept,ke=typeof de=="boolean"?void 0:de.effect;return{accept:be,effect:ke,feedback:[K]}}return de}if(de.bubble===1){const be=this.modelProvider(),ke=be.getNodeLocation(j),Ee=be.getParentNodeLocation(ke),Ae=be.getNode(Ee),Pe=Ee&&be.getListIndex(Ee);return this.onDragOver(W,Ae,Pe,G,ee,!1)}const ge=this.modelProvider(),ve=ge.getNodeLocation(j),Ce=ge.getListIndex(ve),Se=ge.getListRenderCount(ve);return{...de,feedback:(0,t.range)(Ce,Ce+Se)}}drop(W,j,K,G,ee){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(D(W),j&&j.element,K,G,ee)}onDragEnd(W){var j,K;(K=(j=this.dnd).onDragEnd)===null||K===void 0||K.call(j,W)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function T($,W){return W&&{...W,identityProvider:W.identityProvider&&{getId(j){return W.identityProvider.getId(j.element)}},dnd:W.dnd&&new I($,W.dnd),multipleSelectionController:W.multipleSelectionController&&{isSelectionSingleChangeEvent(j){return W.multipleSelectionController.isSelectionSingleChangeEvent({...j,element:j.element})},isSelectionRangeChangeEvent(j){return W.multipleSelectionController.isSelectionRangeChangeEvent({...j,element:j.element})}},accessibilityProvider:W.accessibilityProvider&&{...W.accessibilityProvider,getSetSize(j){const K=$(),G=K.getNodeLocation(j),ee=K.getParentNodeLocation(G);return K.getNode(ee).visibleChildrenCount},getPosInSet(j){return j.visibleChildIndex+1},isChecked:W.accessibilityProvider&&W.accessibilityProvider.isChecked?j=>W.accessibilityProvider.isChecked(j.element):void 0,getRole:W.accessibilityProvider&&W.accessibilityProvider.getRole?j=>W.accessibilityProvider.getRole(j.element):()=>"treeitem",getAriaLabel(j){return W.accessibilityProvider.getAriaLabel(j.element)},getWidgetAriaLabel(){return W.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:W.accessibilityProvider&&W.accessibilityProvider.getWidgetRole?()=>W.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:W.accessibilityProvider&&W.accessibilityProvider.getAriaLevel?j=>W.accessibilityProvider.getAriaLevel(j.element):j=>j.depth,getActiveDescendantId:W.accessibilityProvider.getActiveDescendantId&&(j=>W.accessibilityProvider.getActiveDescendantId(j.element))},keyboardNavigationLabelProvider:W.keyboardNavigationLabelProvider&&{...W.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(j){return W.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(j.element)}}}}class N{constructor(W){this.delegate=W}getHeight(W){return this.delegate.getHeight(W.element)}getTemplateId(W){return this.delegate.getTemplateId(W.element)}hasDynamicHeight(W){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(W.element)}setDynamicHeight(W,j){var K,G;(G=(K=this.delegate).setDynamicHeight)===null||G===void 0||G.call(K,W.element,j)}}e.ComposedTreeDelegate=N;var A;(function($){$.None="none",$.OnHover="onHover",$.Always="always"})(A||(e.RenderIndentGuides=A={}));class P{get elements(){return this._elements}constructor(W,j=[]){this._elements=j,this.disposables=new l.DisposableStore,this.onDidChange=d.Event.forEach(W,K=>this._elements=K,this.disposables)}dispose(){this.disposables.dispose()}}class M{constructor(W,j,K,G,ee,oe={}){var de;this.renderer=W,this.modelProvider=j,this.activeNodes=G,this.renderedIndentGuides=ee,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=M.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=l.Disposable.None,this.disposables=new l.DisposableStore,this.templateId=W.templateId,this.updateOptions(oe),d.Event.map(K,le=>le.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(de=W.onDidChangeTwistieState)===null||de===void 0||de.call(W,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(W={}){if(typeof W.indent<"u"){const j=(0,o.clamp)(W.indent,0,40);if(j!==this.indent){this.indent=j;for(const[K,G]of this.renderedNodes)this.renderTreeElement(K,G)}}if(typeof W.renderIndentGuides<"u"){const j=W.renderIndentGuides!==A.None;if(j!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=j;for(const[K,G]of this.renderedNodes)this._renderIndentGuides(K,G);if(this.indentGuidesDisposable.dispose(),j){const K=new l.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,K),this.indentGuidesDisposable=K,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof W.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=W.hideTwistiesOfChildlessElements)}renderTemplate(W){const j=(0,f.append)(W,(0,f.$)(".monaco-tl-row")),K=(0,f.append)(j,(0,f.$)(".monaco-tl-indent")),G=(0,f.append)(j,(0,f.$)(".monaco-tl-twistie")),ee=(0,f.append)(j,(0,f.$)(".monaco-tl-contents")),oe=this.renderer.renderTemplate(ee);return{container:W,indent:K,twistie:G,indentGuidesDisposable:l.Disposable.None,templateData:oe}}renderElement(W,j,K,G){this.renderedNodes.set(W,K),this.renderedElements.set(W.element,W),this.renderTreeElement(W,K),this.renderer.renderElement(W,j,K.templateData,G)}disposeElement(W,j,K,G){var ee,oe;K.indentGuidesDisposable.dispose(),(oe=(ee=this.renderer).disposeElement)===null||oe===void 0||oe.call(ee,W,j,K.templateData,G),typeof G=="number"&&(this.renderedNodes.delete(W),this.renderedElements.delete(W.element))}disposeTemplate(W){this.renderer.disposeTemplate(W.templateData)}onDidChangeTwistieState(W){const j=this.renderedElements.get(W);j&&this.onDidChangeNodeTwistieState(j)}onDidChangeNodeTwistieState(W){const j=this.renderedNodes.get(W);j&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(W,j))}renderTreeElement(W,j){const K=M.DefaultIndent+(W.depth-1)*this.indent;j.twistie.style.paddingLeft=`${K}px`,j.indent.style.width=`${K+this.indent-16}px`,W.collapsible?j.container.setAttribute("aria-expanded",String(!W.collapsed)):j.container.removeAttribute("aria-expanded"),j.twistie.classList.remove(...m.ThemeIcon.asClassNameArray(h.Codicon.treeItemExpanded));let G=!1;this.renderer.renderTwistie&&(G=this.renderer.renderTwistie(W.element,j.twistie)),W.collapsible&&(!this.hideTwistiesOfChildlessElements||W.visibleChildrenCount>0)?(G||j.twistie.classList.add(...m.ThemeIcon.asClassNameArray(h.Codicon.treeItemExpanded)),j.twistie.classList.add("collapsible"),j.twistie.classList.toggle("collapsed",W.collapsed)):j.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(W,j)}_renderIndentGuides(W,j){if((0,f.clearNode)(j.indent),j.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const K=new l.DisposableStore,G=this.modelProvider();for(;;){const ee=G.getNodeLocation(W),oe=G.getParentNodeLocation(ee);if(!oe)break;const de=G.getNode(oe),le=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(de)&&le.classList.add("active"),j.indent.childElementCount===0?j.indent.appendChild(le):j.indent.insertBefore(le,j.indent.firstElementChild),this.renderedIndentGuides.add(de,le),K.add((0,l.toDisposable)(()=>this.renderedIndentGuides.delete(de,le))),W=de}j.indentGuidesDisposable=K}_onDidChangeActiveNodes(W){if(!this.shouldRenderIndentGuides)return;const j=new Set,K=this.modelProvider();W.forEach(G=>{const ee=K.getNodeLocation(G);try{const oe=K.getParentNodeLocation(ee);G.collapsible&&G.children.length>0&&!G.collapsed?j.add(G):oe&&j.add(K.getNode(oe))}catch{}}),this.activeIndentNodes.forEach(G=>{j.has(G)||this.renderedIndentGuides.forEach(G,ee=>ee.classList.remove("active"))}),j.forEach(G=>{this.activeIndentNodes.has(G)||this.renderedIndentGuides.forEach(G,ee=>ee.classList.add("active"))}),this.activeIndentNodes=j}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,l.dispose)(this.disposables)}}e.TreeRenderer=M,M.DefaultIndent=8;class R{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(W,j,K){this.tree=W,this.keyboardNavigationLabelProvider=j,this._filter=K,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new l.DisposableStore,W.onWillRefilter(this.reset,this,this.disposables)}filter(W,j){let K=1;if(this._filter){const oe=this._filter.filter(W,j);if(typeof oe=="boolean"?K=oe?1:0:(0,a.isFilterResult)(oe)?K=(0,a.getVisibleState)(oe.visibility):K=oe,K===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:r.FuzzyScore.Default,visibility:K};const G=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W),ee=Array.isArray(G)?G:[G];for(const oe of ee){const de=oe&&oe.toString();if(typeof de>"u")return{data:r.FuzzyScore.Default,visibility:K};let le;if(this.tree.findMatchType===V.Contiguous){const ge=de.toLowerCase().indexOf(this._lowercasePattern);if(ge>-1){le=[Number.MAX_SAFE_INTEGER,0];for(let ve=this._lowercasePattern.length;ve>0;ve--)le.push(ge+ve-1)}}else le=(0,r.fuzzyScore)(this._pattern,this._lowercasePattern,0,de,de.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(le)return this._matchCount++,ee.length===1?{data:le,visibility:K}:{data:{label:de,score:le},visibility:K}}return this.tree.findMode===H.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(W):2:{data:r.FuzzyScore.Default,visibility:K}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,l.dispose)(this.disposables)}}class F extends _.Toggle{constructor(W){var j,K;super({icon:h.Codicon.listFilter,title:(0,c.localize)(0,null),isChecked:(j=W.isChecked)!==null&&j!==void 0?j:!1,hoverDelegate:(K=W.hoverDelegate)!==null&&K!==void 0?K:(0,b.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.ModeToggle=F;class O extends _.Toggle{constructor(W){var j,K;super({icon:h.Codicon.searchFuzzy,title:(0,c.localize)(1,null),isChecked:(j=W.isChecked)!==null&&j!==void 0?j:!1,hoverDelegate:(K=W.hoverDelegate)!==null&&K!==void 0?K:(0,b.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.FuzzyToggle=O;const B={inputBoxStyles:p.unthemedInboxStyles,toggleStyles:_.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var H;(function($){$[$.Highlight=0]="Highlight",$[$.Filter=1]="Filter"})(H||(e.TreeFindMode=H={}));var V;(function($){$[$.Fuzzy=0]="Fuzzy",$[$.Contiguous=1]="Contiguous"})(V||(e.TreeFindMatchType=V={}));class q extends l.Disposable{set mode(W){this.modeToggle.checked=W===H.Filter,this.findInput.inputBox.setPlaceHolder(W===H.Filter?(0,c.localize)(2,null):(0,c.localize)(3,null))}set matchType(W){this.matchTypeToggle.checked=W===V.Fuzzy}constructor(W,j,K,G,ee,oe){var de;super(),this.tree=j,this.elements=(0,f.h)(".monaco-tree-type-filter",[(0,f.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,f.h)(".monaco-tree-type-filter-input@findInput"),(0,f.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new d.Emitter,W.appendChild(this.elements.root),this._register((0,l.toDisposable)(()=>W.removeChild(this.elements.root)));const le=(de=oe?.styles)!==null&&de!==void 0?de:B;le.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=le.listFilterWidgetBackground),le.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${le.listFilterWidgetShadow}`);const ge=this._register((0,b.createInstantHoverDelegate)());this.modeToggle=this._register(new F({...le.toggleStyles,isChecked:G===H.Filter,hoverDelegate:ge})),this.matchTypeToggle=this._register(new O({...le.toggleStyles,isChecked:ee===V.Fuzzy,hoverDelegate:ge})),this.onDidChangeMode=d.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?H.Filter:H.Highlight,this._store),this.onDidChangeMatchType=d.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?V.Fuzzy:V.Contiguous,this._store),this.findInput=this._register(new y.FindInput(this.elements.findInput,K,{label:(0,c.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:le.inputBoxStyles,toggleStyles:le.toggleStyles,history:oe?.history})),this.actionbar=this._register(new L.ActionBar(this.elements.actionbar)),this.mode=G;const ve=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),Ce=d.Event.chain(ve.event,Ee=>Ee.map(Ae=>new E.StandardKeyboardEvent(Ae)));this._register(Ce(Ee=>{if(Ee.equals(3)){Ee.preventDefault(),Ee.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Ee.equals(18)){Ee.preventDefault(),Ee.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Ee.equals(16)){Ee.preventDefault(),Ee.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const Se=this._register(new i.Action("close",(0,c.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(Se,{icon:!0,label:!1});const be=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(be.event(Ee=>{const Ae=new l.DisposableStore,Pe=Ae.add(new k.DomEmitter((0,f.getWindow)(Ee),"mousemove")),He=Ae.add(new k.DomEmitter((0,f.getWindow)(Ee),"mouseup")),Be=this.right,De=Ee.pageX,Ne=this.top,me=Ee.pageY;this.elements.grab.classList.add("grabbing");const _e=this.elements.root.style.transition;this.elements.root.style.transition="unset";const Re=We=>{const qe=We.pageX-De;this.right=Be-qe;const je=We.pageY-me;this.top=Ne+je,this.layout()};Ae.add(Pe.event(Re)),Ae.add(He.event(We=>{Re(We),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=_e,Ae.dispose()}))}));const ke=d.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event,Ee=>Ee.map(Ae=>new E.StandardKeyboardEvent(Ae)));this._register(ke(Ee=>{let Ae,Pe;if(Ee.keyCode===15?Ae=Number.POSITIVE_INFINITY:Ee.keyCode===17?Ae=0:Ee.keyCode===10&&(Ae=this.right===0?Number.POSITIVE_INFINITY:0),Ee.keyCode===16?Pe=0:Ee.keyCode===18&&(Pe=Number.POSITIVE_INFINITY),Ae!==void 0&&(Ee.preventDefault(),Ee.stopPropagation(),this.right=Ae,this.layout()),Pe!==void 0){Ee.preventDefault(),Ee.stopPropagation(),this.top=Pe;const He=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=He},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(W=this.width){this.width=W,this.right=(0,o.clamp)(this.right,0,Math.max(0,W-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,o.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(W){this.findInput.showMessage(W)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await(0,n.timeout)(300),super.dispose()}}class z{get pattern(){return this._pattern}get mode(){return this._mode}set mode(W){W!==this._mode&&(this._mode=W,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(W))}get matchType(){return this._matchType}set matchType(W){W!==this._matchType&&(this._matchType=W,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(W))}constructor(W,j,K,G,ee,oe={}){var de,le;this.tree=W,this.view=K,this.filter=G,this.contextViewProvider=ee,this.options=oe,this._pattern="",this.width=0,this._onDidChangeMode=new d.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new d.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new d.Emitter,this._onDidChangeOpenState=new d.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new l.DisposableStore,this.disposables=new l.DisposableStore,this._mode=(de=W.options.defaultFindMode)!==null&&de!==void 0?de:H.Highlight,this._matchType=(le=W.options.defaultFindMatchType)!==null&&le!==void 0?le:V.Fuzzy,j.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(W={}){W.defaultFindMode!==void 0&&(this.mode=W.defaultFindMode),W.defaultFindMatchType!==void 0&&(this.matchType=W.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var W,j,K,G;const ee=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&ee?!((W=this.tree.options.showNotFoundMessage)!==null&&W!==void 0)||W?(j=this.widget)===null||j===void 0||j.showMessage({type:2,content:(0,c.localize)(6,null)}):(K=this.widget)===null||K===void 0||K.showMessage({type:2}):(G=this.widget)===null||G===void 0||G.clearMessage()}shouldAllowFocus(W){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!r.FuzzyScore.isDefault(W.filterData)}layout(W){var j;this.width=W,(j=this.widget)===null||j===void 0||j.layout(W)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function U($,W){return $.position===W.position&&Z($,W)}function Z($,W){return $.node.element===W.node.element&&$.startIndex===W.startIndex&&$.height===W.height&&$.endIndex===W.endIndex}class re{constructor(W=[]){this.stickyNodes=W}get count(){return this.stickyNodes.length}equal(W){return(0,t.equals)(this.stickyNodes,W.stickyNodes,U)}lastNodePartiallyVisible(){if(this.count===0)return!1;const W=this.stickyNodes[this.count-1];if(this.count===1)return W.position!==0;const j=this.stickyNodes[this.count-2];return j.position+j.height!==W.position}animationStateChanged(W){if(!(0,t.equals)(this.stickyNodes,W.stickyNodes,Z)||this.count===0)return!1;const j=this.stickyNodes[this.count-1],K=W.stickyNodes[W.count-1];return j.position!==K.position}}class x{constrainStickyScrollNodes(W,j,K){for(let G=0;G<W.length;G++){const ee=W[G];if(ee.position+ee.height>K||G>=j)return W.slice(0,G)}return W}}class Q extends l.Disposable{constructor(W,j,K,G,ee,oe={}){var de;super(),this.tree=W,this.model=j,this.view=K,this.treeDelegate=ee,this.maxWidgetViewRatio=.4;const le=this.validateStickySettings(oe);this.stickyScrollMaxItemCount=le.stickyScrollMaxItemCount,this.stickyScrollDelegate=(de=oe.stickyScrollDelegate)!==null&&de!==void 0?de:new x,this._widget=this._register(new X(K.getScrollableElement(),K,W,G,ee,oe.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(K.onDidScroll(()=>this.update())),this._register(K.onDidChangeContentHeight(()=>this.update())),this._register(W.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(W){let j;if(W===0?j=this.view.firstVisibleIndex:j=this.view.indexAt(W+this.view.scrollTop),!(j<0||j>=this.view.length))return this.view.element(j)}update(){const W=this.getNodeAtHeight(0);if(!W||this.tree.scrollTop===0){this._widget.setState(void 0);return}const j=this.findStickyState(W);this._widget.setState(j)}findStickyState(W){const j=[];let K=W,G=0,ee=this.getNextStickyNode(K,void 0,G);for(;ee&&(j.push(ee),G+=ee.height,!(j.length<=this.stickyScrollMaxItemCount&&(K=this.getNextVisibleNode(ee),!K)));)ee=this.getNextStickyNode(K,ee.node,G);const oe=this.constrainStickyNodes(j);return oe.length?new re(oe):void 0}getNextVisibleNode(W){return this.getNodeAtHeight(W.position+W.height)}getNextStickyNode(W,j,K){const G=this.getAncestorUnderPrevious(W,j);if(G&&!(G===W&&(!this.nodeIsUncollapsedParent(W)||this.nodeTopAlignsWithStickyNodesBottom(W,K))))return this.createStickyScrollNode(G,K)}nodeTopAlignsWithStickyNodesBottom(W,j){const K=this.getNodeIndex(W),G=this.view.getElementTop(K),ee=j;return this.view.scrollTop===G-ee}createStickyScrollNode(W,j){const K=this.treeDelegate.getHeight(W),{startIndex:G,endIndex:ee}=this.getNodeRange(W),oe=this.calculateStickyNodePosition(ee,j,K);return{node:W,position:oe,height:K,startIndex:G,endIndex:ee}}getAncestorUnderPrevious(W,j=void 0){let K=W,G=this.getParentNode(K);for(;G;){if(G===j)return K;K=G,G=this.getParentNode(K)}if(j===void 0)return K}calculateStickyNodePosition(W,j,K){let G=this.view.getRelativeTop(W);if(G===null&&this.view.firstVisibleIndex===W&&W+1<this.view.length){const ge=this.treeDelegate.getHeight(this.view.element(W)),ve=this.view.getRelativeTop(W+1);G=ve?ve-ge/this.view.renderHeight:null}if(G===null)return j;const ee=this.view.element(W),oe=this.treeDelegate.getHeight(ee),le=G*this.view.renderHeight+oe;return j+K>le&&j<=le?le-K:j}constrainStickyNodes(W){if(W.length===0)return[];const j=this.view.renderHeight*this.maxWidgetViewRatio,K=W[W.length-1];if(W.length<=this.stickyScrollMaxItemCount&&K.position+K.height<=j)return W;const G=this.stickyScrollDelegate.constrainStickyScrollNodes(W,this.stickyScrollMaxItemCount,j);if(!G.length)return[];const ee=G[G.length-1];if(G.length>this.stickyScrollMaxItemCount||ee.position+ee.height>j)throw new Error("stickyScrollDelegate violates constraints");return G}getParentNode(W){const j=this.model.getNodeLocation(W),K=this.model.getParentNodeLocation(j);return K?this.model.getNode(K):void 0}nodeIsUncollapsedParent(W){const j=this.model.getNodeLocation(W);return this.model.getListRenderCount(j)>1}getNodeIndex(W){const j=this.model.getNodeLocation(W);return this.model.getListIndex(j)}getNodeRange(W){const j=this.model.getNodeLocation(W),K=this.model.getListIndex(j);if(K<0)throw new Error("Node not found in tree");const G=this.model.getListRenderCount(j),ee=K+G-1;return{startIndex:K,endIndex:ee}}nodePositionTopBelowWidget(W){const j=[];let K=this.getParentNode(W);for(;K;)j.push(K),K=this.getParentNode(K);let G=0;for(let ee=0;ee<j.length&&ee<this.stickyScrollMaxItemCount;ee++)G+=this.treeDelegate.getHeight(j[ee]);return G}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(W={}){if(!W.stickyScrollMaxItemCount)return;const j=this.validateStickySettings(W);this.stickyScrollMaxItemCount!==j.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=j.stickyScrollMaxItemCount,this.update())}validateStickySettings(W){let j=7;return typeof W.stickyScrollMaxItemCount=="number"&&(j=Math.max(W.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:j}}}class X{constructor(W,j,K,G,ee,oe){this.view=j,this.tree=K,this.treeRenderers=G,this.treeDelegate=ee,this.accessibilityProvider=oe,this._previousElements=[],this._previousStateDisposables=new l.DisposableStore,this._rootDomNode=(0,f.$)(".monaco-tree-sticky-container.empty"),W.appendChild(this._rootDomNode);const de=(0,f.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(de),this.stickyScrollFocus=new Y(this._rootDomNode,j),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const W=this._previousState.stickyNodes[this._previousState.count-1];return W.position+W.height}setState(W){const j=!!this._previousState&&this._previousState.count>0,K=!!W&&W.count>0;if(!j&&!K||j&&K&&this._previousState.equal(W))return;if(j!==K&&this.setVisible(K),!K){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const G=W.stickyNodes[W.count-1];if(this._previousState&&W.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${G.position}px`;else{this._previousStateDisposables.clear();const ee=Array(W.count);for(let oe=W.count-1;oe>=0;oe--){const de=W.stickyNodes[oe],{element:le,disposable:ge}=this.createElement(de,oe,W.count);ee[oe]=le,this._rootDomNode.appendChild(le),this._previousStateDisposables.add(ge)}this.stickyScrollFocus.updateElements(ee,W),this._previousElements=ee}this._previousState=W,this._rootDomNode.style.height=`${G.position+G.height}px`}createElement(W,j,K){const G=W.startIndex,ee=document.createElement("div");ee.style.top=`${W.position}px`,this.tree.options.setRowHeight!==!1&&(ee.style.height=`${W.height}px`),this.tree.options.setRowLineHeight!==!1&&(ee.style.lineHeight=`${W.height}px`),ee.classList.add("monaco-tree-sticky-row"),ee.classList.add("monaco-list-row"),ee.setAttribute("data-index",`${G}`),ee.setAttribute("data-parity",G%2===0?"even":"odd"),ee.setAttribute("id",this.view.getElementID(G));const oe=this.setAccessibilityAttributes(ee,W.node.element,j,K),de=this.treeDelegate.getTemplateId(W.node),le=this.treeRenderers.find(Se=>Se.templateId===de);if(!le)throw new Error(`No renderer found for template id ${de}`);let ge=W.node;ge===this.tree.getNode(this.tree.getNodeLocation(W.node))&&(ge=new Proxy(W.node,{}));const ve=le.renderTemplate(ee);le.renderElement(ge,W.startIndex,ve,W.height);const Ce=(0,l.toDisposable)(()=>{oe.dispose(),le.disposeElement(ge,W.startIndex,ve,W.height),le.disposeTemplate(ve),ee.remove()});return{element:ee,disposable:Ce}}setAccessibilityAttributes(W,j,K,G){var ee;if(!this.accessibilityProvider)return l.Disposable.None;this.accessibilityProvider.getSetSize&&W.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(j,K,G))),this.accessibilityProvider.getPosInSet&&W.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(j,K))),this.accessibilityProvider.getRole&&W.setAttribute("role",(ee=this.accessibilityProvider.getRole(j))!==null&&ee!==void 0?ee:"treeitem");const oe=this.accessibilityProvider.getAriaLabel(j),de=oe&&typeof oe!="string"?oe:(0,C.constObservable)(oe),le=(0,C.autorun)(ve=>{const Ce=ve.readObservable(de);Ce?W.setAttribute("aria-label",Ce):W.removeAttribute("aria-label")});typeof oe=="string"||oe&&W.setAttribute("aria-label",oe.get());const ge=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(j);return typeof ge=="number"&&W.setAttribute("aria-level",`${ge}`),W.setAttribute("aria-selected",String(!1)),le}setVisible(W){this._rootDomNode.classList.toggle("empty",!W),W||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class Y extends l.Disposable{get domHasFocus(){return this._domHasFocus}set domHasFocus(W){W!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(W),this._domHasFocus=W)}constructor(W,j){super(),this.container=W,this.view=j,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new d.Emitter,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new d.Emitter,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(K=>this.onKeyDown(K))),this._register(this.view.onMouseDown(K=>this.onMouseDown(K))),this._register(this.view.onContextMenu(K=>this.handleContextMenu(K)))}handleContextMenu(W){const j=W.browserEvent.target;if(!(0,v.isStickyScrollContainer)(j)&&!(0,v.isStickyScrollElement)(j)){this.focusedLast()&&this.view.domFocus();return}if(!(0,f.isKeyboardEvent)(W.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const oe=this.state.stickyNodes.findIndex(de=>{var le;return de.node.element===((le=W.element)===null||le===void 0?void 0:le.element)});if(oe===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(oe);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const G=this.state.stickyNodes[this.focusedIndex].node.element,ee=this.elements[this.focusedIndex];this._onContextMenu.fire({element:G,anchor:ee,browserEvent:W.browserEvent,isStickyScroll:!0})}onKeyDown(W){if(this.domHasFocus&&this.state){if(W.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),W.preventDefault(),W.stopPropagation();else if(W.key==="ArrowDown"||W.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const j=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([j]),this.scrollNodeUnderWidget(j,this.state)}else this.setFocusedElement(this.focusedIndex+1);W.preventDefault(),W.stopPropagation()}}}onMouseDown(W){const j=W.browserEvent.target;!(0,v.isStickyScrollContainer)(j)&&!(0,v.isStickyScrollElement)(j)||(W.browserEvent.preventDefault(),W.browserEvent.stopPropagation())}updateElements(W,j){if(j&&j.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(j&&j.count!==W.length)throw new Error("Sticky scroll focus received illigel state");const K=this.focusedIndex;if(this.removeFocus(),this.elements=W,this.state=j,j){const G=(0,o.clamp)(K,0,j.count-1);this.setFocus(G)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=j?0:-1}setFocusedElement(W){const j=this.state;if(!j)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(W),!(W<j.count-1)&&j.lastNodePartiallyVisible()){const K=j.stickyNodes[W];this.scrollNodeUnderWidget(K.endIndex+1,j)}}scrollNodeUnderWidget(W,j){const K=j.stickyNodes[j.count-1],G=j.count>1?j.stickyNodes[j.count-2]:void 0,ee=this.view.getElementTop(W),oe=G?G.position+G.height+K.height:K.height;this.view.scrollTop=ee-oe}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(W){if(0>W)throw new Error("addFocus() can not remove focus");if(!this.state&&W>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&W>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const j=this.focusedIndex;j>=0&&this.toggleElementFocus(this.elements[j],!1),W>=0&&this.toggleElementFocus(this.elements[W],!0),this.focusedIndex=W}toggleElementFocus(W,j){this.toggleElementActiveFocus(W,j&&this.domHasFocus),this.toggleElementPassiveFocus(W,j)}toggleCurrentElementActiveFocus(W){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],W)}toggleElementActiveFocus(W,j){W.classList.toggle("focused",j)}toggleElementPassiveFocus(W,j){W.classList.toggle("passive-focused",j)}toggleStickyScrollFocused(W){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",W)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function ae($){let W=s.TreeMouseEventTarget.Unknown;return(0,f.hasParentWithClass)($.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?W=s.TreeMouseEventTarget.Twistie:(0,f.hasParentWithClass)($.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?W=s.TreeMouseEventTarget.Element:(0,f.hasParentWithClass)($.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(W=s.TreeMouseEventTarget.Filter),{browserEvent:$.browserEvent,element:$.element?$.element.element:null,target:W}}function ce($){const W=(0,v.isStickyScrollContainer)($.browserEvent.target);return{element:$.element?$.element.element:null,browserEvent:$.browserEvent,anchor:$.anchor,isStickyScroll:W}}function he($,W){W($),$.children.forEach(j=>he(j,W))}class pe{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(W,j){this.getFirstViewElementWithTrait=W,this.identityProvider=j,this.nodes=[],this._onDidChange=new d.Emitter,this.onDidChange=this._onDidChange.event}set(W,j){!j?.__forceEvent&&(0,t.equals)(this.nodes,W)||this._set(W,!1,j)}_set(W,j,K){if(this.nodes=[...W],this.elements=void 0,this._nodeSet=void 0,!j){const G=this;this._onDidChange.fire({get elements(){return G.get()},browserEvent:K})}}get(){return this.elements||(this.elements=this.nodes.map(W=>W.element)),[...this.elements]}getNodes(){return this.nodes}has(W){return this.nodeSet.has(W)}onDidModelSplice({insertedNodes:W,deletedNodes:j}){if(!this.identityProvider){const le=this.createNodeSet(),ge=ve=>le.delete(ve);j.forEach(ve=>he(ve,ge)),this.set([...le.values()]);return}const K=new Set,G=le=>K.add(this.identityProvider.getId(le.element).toString());j.forEach(le=>he(le,G));const ee=new Map,oe=le=>ee.set(this.identityProvider.getId(le.element).toString(),le);W.forEach(le=>he(le,oe));const de=[];for(const le of this.nodes){const ge=this.identityProvider.getId(le.element).toString();if(!K.has(ge))de.push(le);else{const Ce=ee.get(ge);Ce&&Ce.visible&&de.push(Ce)}}if(this.nodes.length>0&&de.length===0){const le=this.getFirstViewElementWithTrait();le&&de.push(le)}this._set(de,!0)}createNodeSet(){const W=new Set;for(const j of this.nodes)W.add(j);return W}}class fe extends v.MouseController{constructor(W,j,K){super(W),this.tree=j,this.stickyScrollProvider=K}onViewPointer(W){if((0,v.isButton)(W.browserEvent.target)||(0,v.isInputElement)(W.browserEvent.target)||(0,v.isMonacoEditor)(W.browserEvent.target)||W.browserEvent.isHandledByList)return;const j=W.element;if(!j)return super.onViewPointer(W);if(this.isSelectionRangeChangeEvent(W)||this.isSelectionSingleChangeEvent(W))return super.onViewPointer(W);const K=W.browserEvent.target,G=K.classList.contains("monaco-tl-twistie")||K.classList.contains("monaco-icon-label")&&K.classList.contains("folder-icon")&&W.browserEvent.offsetX<16,ee=(0,v.isStickyScrollElement)(W.browserEvent.target);let oe=!1;if(ee?oe=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?oe=this.tree.expandOnlyOnTwistieClick(j.element):oe=!!this.tree.expandOnlyOnTwistieClick,ee)this.handleStickyScrollMouseEvent(W,j);else{if(oe&&!G&&W.browserEvent.detail!==2)return super.onViewPointer(W);if(!this.tree.expandOnDoubleClick&&W.browserEvent.detail===2)return super.onViewPointer(W)}if(j.collapsible&&(!ee||G)){const de=this.tree.getNodeLocation(j),le=W.browserEvent.altKey;if(this.tree.setFocus([de]),this.tree.toggleCollapsed(de,le),oe&&G){W.browserEvent.isHandledByList=!0;return}}ee||super.onViewPointer(W)}handleStickyScrollMouseEvent(W,j){if((0,v.isMonacoCustomToggle)(W.browserEvent.target)||(0,v.isActionItem)(W.browserEvent.target))return;const K=this.stickyScrollProvider();if(!K)throw new Error("Sticky scroll controller not found");const G=this.list.indexOf(j),ee=this.list.getElementTop(G),oe=K.nodePositionTopBelowWidget(j);this.tree.scrollTop=ee-oe,this.list.domFocus(),this.list.setFocus([G]),this.list.setSelection([G])}onDoubleClick(W){W.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||W.browserEvent.isHandledByList||super.onDoubleClick(W)}onMouseDown(W){const j=W.browserEvent.target;if(!(0,v.isStickyScrollContainer)(j)&&!(0,v.isStickyScrollElement)(j)){super.onMouseDown(W);return}}onContextMenu(W){const j=W.browserEvent.target;if(!(0,v.isStickyScrollContainer)(j)&&!(0,v.isStickyScrollElement)(j)){super.onContextMenu(W);return}}}class se extends v.List{constructor(W,j,K,G,ee,oe,de,le){super(W,j,K,G,le),this.focusTrait=ee,this.selectionTrait=oe,this.anchorTrait=de}createMouseController(W){return new fe(this,W.tree,W.stickyScrollProvider)}splice(W,j,K=[]){if(super.splice(W,j,K),K.length===0)return;const G=[],ee=[];let oe;K.forEach((de,le)=>{this.focusTrait.has(de)&&G.push(W+le),this.selectionTrait.has(de)&&ee.push(W+le),this.anchorTrait.has(de)&&(oe=W+le)}),G.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...G])),ee.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...ee])),typeof oe=="number"&&super.setAnchor(oe)}setFocus(W,j,K=!1){super.setFocus(W,j),K||this.focusTrait.set(W.map(G=>this.element(G)),j)}setSelection(W,j,K=!1){super.setSelection(W,j),K||this.selectionTrait.set(W.map(G=>this.element(G)),j)}setAnchor(W,j=!1){super.setAnchor(W),j||(typeof W>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(W)]))}}class te{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return d.Event.filter(d.Event.map(this.view.onMouseDblClick,ae),W=>W.target!==s.TreeMouseEventTarget.Filter)}get onMouseOver(){return d.Event.map(this.view.onMouseOver,ae)}get onMouseOut(){return d.Event.map(this.view.onMouseOut,ae)}get onContextMenu(){var W,j;return d.Event.any(d.Event.filter(d.Event.map(this.view.onContextMenu,ce),K=>!K.isStickyScroll),(j=(W=this.stickyScrollController)===null||W===void 0?void 0:W.onContextMenu)!==null&&j!==void 0?j:d.Event.None)}get onPointer(){return d.Event.map(this.view.onPointer,ae)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return d.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var W,j;return(j=(W=this.findController)===null||W===void 0?void 0:W.mode)!==null&&j!==void 0?j:H.Highlight}set findMode(W){this.findController&&(this.findController.mode=W)}get findMatchType(){var W,j;return(j=(W=this.findController)===null||W===void 0?void 0:W.matchType)!==null&&j!==void 0?j:V.Fuzzy}set findMatchType(W){this.findController&&(this.findController.matchType=W)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(W,j,K,G,ee={}){var oe;this._user=W,this._options=ee,this.eventBufferer=new d.EventBufferer,this.onDidChangeFindOpenState=d.Event.None,this.onDidChangeStickyScrollFocused=d.Event.None,this.disposables=new l.DisposableStore,this._onWillRefilter=new d.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new d.Emitter,this.treeDelegate=new N(K);const de=new d.Relay,le=new d.Relay,ge=this.disposables.add(new P(le.event)),ve=new u.SetMap;this.renderers=G.map(Ee=>new M(Ee,()=>this.model,de.event,ge,ve,ee));for(const Ee of this.renderers)this.disposables.add(Ee);let Ce;ee.keyboardNavigationLabelProvider&&(Ce=new R(this,ee.keyboardNavigationLabelProvider,ee.filter),ee={...ee,filter:Ce},this.disposables.add(Ce)),this.focus=new pe(()=>this.view.getFocusedElements()[0],ee.identityProvider),this.selection=new pe(()=>this.view.getSelectedElements()[0],ee.identityProvider),this.anchor=new pe(()=>this.view.getAnchorElement(),ee.identityProvider),this.view=new se(W,j,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...T(()=>this.model,ee),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(W,this.view,ee),de.input=this.model.onDidChangeCollapseState;const Se=d.Event.forEach(this.model.onDidSplice,Ee=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Ee),this.selection.onDidModelSplice(Ee)})},this.disposables);Se(()=>null,null,this.disposables);const be=this.disposables.add(new d.Emitter),ke=this.disposables.add(new n.Delayer(0));if(this.disposables.add(d.Event.any(Se,this.focus.onDidChange,this.selection.onDidChange)(()=>{ke.trigger(()=>{const Ee=new Set;for(const Ae of this.focus.getNodes())Ee.add(Ae);for(const Ae of this.selection.getNodes())Ee.add(Ae);be.fire([...Ee.values()])})})),le.input=be.event,ee.keyboardSupport!==!1){const Ee=d.Event.chain(this.view.onKeyDown,Ae=>Ae.filter(Pe=>!(0,v.isInputElement)(Pe.target)).map(Pe=>new E.StandardKeyboardEvent(Pe)));d.Event.chain(Ee,Ae=>Ae.filter(Pe=>Pe.keyCode===15))(this.onLeftArrow,this,this.disposables),d.Event.chain(Ee,Ae=>Ae.filter(Pe=>Pe.keyCode===17))(this.onRightArrow,this,this.disposables),d.Event.chain(Ee,Ae=>Ae.filter(Pe=>Pe.keyCode===10))(this.onSpace,this,this.disposables)}if((!((oe=ee.findWidgetEnabled)!==null&&oe!==void 0)||oe)&&ee.keyboardNavigationLabelProvider&&ee.contextViewProvider){const Ee=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new z(this,this.model,this.view,Ce,ee.contextViewProvider,Ee),this.focusNavigationFilter=Ae=>this.findController.shouldAllowFocus(Ae),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=d.Event.None,this.onDidChangeFindMatchType=d.Event.None;ee.enableStickyScroll&&(this.stickyScrollController=new Q(this,this.model,this.view,this.renderers,this.treeDelegate,ee),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,f.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}updateOptions(W={}){var j;this._options={...this._options,...W};for(const K of this.renderers)K.updateOptions(W);this.view.updateOptions(this._options),(j=this.findController)===null||j===void 0||j.updateOptions(W),this.updateStickyScroll(W),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}get options(){return this._options}updateStickyScroll(W){var j;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Q(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=d.Event.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(j=this.stickyScrollController)===null||j===void 0||j.updateOptions(W)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(W){this.view.scrollTop=W}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(W){this.view.ariaLabel=W}domFocus(){var W;!((W=this.stickyScrollController)===null||W===void 0)&&W.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(W,j){var K;this.view.layout(W,j),(0,g.isNumber)(j)&&((K=this.findController)===null||K===void 0||K.layout(j))}style(W){var j;const K=`.${this.view.domId}`,G=[];W.treeIndentGuidesStroke&&(G.push(`.monaco-list${K}:hover .monaco-tl-indent > .indent-guide, .monaco-list${K}.always .monaco-tl-indent > .indent-guide  { border-color: ${W.treeInactiveIndentGuidesStroke}; }`),G.push(`.monaco-list${K} .monaco-tl-indent > .indent-guide.active { border-color: ${W.treeIndentGuidesStroke}; }`)),W.listBackground&&(G.push(`.monaco-list${K} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${W.listBackground}; }`),G.push(`.monaco-list${K} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${W.listBackground}; }`)),W.listFocusForeground&&(G.push(`.monaco-list${K}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${W.listFocusForeground}; }`),G.push(`.monaco-list${K}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const ee=(0,f.asCssValueWithDefault)(W.listFocusAndSelectionOutline,(0,f.asCssValueWithDefault)(W.listSelectionOutline,(j=W.listFocusOutline)!==null&&j!==void 0?j:""));ee&&(G.push(`.monaco-list${K}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${ee}; outline-offset: -1px;}`),G.push(`.monaco-list${K}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),W.listFocusOutline&&(G.push(`.monaco-list${K}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }`),G.push(`.monaco-list${K}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),G.push(`.monaco-workbench.context-menu-visible .monaco-list${K}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }`),G.push(`.monaco-workbench.context-menu-visible .monaco-list${K}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),G.push(`.monaco-workbench.context-menu-visible .monaco-list${K}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=G.join(`
`),this.view.style(W)}getParentElement(W){const j=this.model.getParentNodeLocation(W);return this.model.getNode(j).element}getFirstElementChild(W){return this.model.getFirstElementChild(W)}getNode(W){return this.model.getNode(W)}getNodeLocation(W){return this.model.getNodeLocation(W)}collapse(W,j=!1){return this.model.setCollapsed(W,!0,j)}expand(W,j=!1){return this.model.setCollapsed(W,!1,j)}toggleCollapsed(W,j=!1){return this.model.setCollapsed(W,void 0,j)}isCollapsible(W){return this.model.isCollapsible(W)}setCollapsible(W,j){return this.model.setCollapsible(W,j)}isCollapsed(W){return this.model.isCollapsed(W)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(W,j){this.eventBufferer.bufferEvents(()=>{const K=W.map(ee=>this.model.getNode(ee));this.selection.set(K,j);const G=W.map(ee=>this.model.getListIndex(ee)).filter(ee=>ee>-1);this.view.setSelection(G,j,!0)})}getSelection(){return this.selection.get()}setFocus(W,j){this.eventBufferer.bufferEvents(()=>{const K=W.map(ee=>this.model.getNode(ee));this.focus.set(K,j);const G=W.map(ee=>this.model.getListIndex(ee)).filter(ee=>ee>-1);this.view.setFocus(G,j,!0)})}focusNext(W=1,j=!1,K,G=(0,f.isKeyboardEvent)(K)&&K.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(W,j,K,G)}focusPrevious(W=1,j=!1,K,G=(0,f.isKeyboardEvent)(K)&&K.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(W,j,K,G)}focusNextPage(W,j=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(W,j)}focusPreviousPage(W,j=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(W,j,()=>{var K,G;return(G=(K=this.stickyScrollController)===null||K===void 0?void 0:K.height)!==null&&G!==void 0?G:0})}focusFirst(W,j=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(W,j)}getFocus(){return this.focus.get()}reveal(W,j){this.model.expandTo(W);const K=this.model.getListIndex(W);if(K!==-1)if(!this.stickyScrollController)this.view.reveal(K,j);else{const G=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(W));this.view.reveal(K,j,G)}}onLeftArrow(W){W.preventDefault(),W.stopPropagation();const j=this.view.getFocusedElements();if(j.length===0)return;const K=j[0],G=this.model.getNodeLocation(K);if(!this.model.setCollapsed(G,!0)){const oe=this.model.getParentNodeLocation(G);if(!oe)return;const de=this.model.getListIndex(oe);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(W){W.preventDefault(),W.stopPropagation();const j=this.view.getFocusedElements();if(j.length===0)return;const K=j[0],G=this.model.getNodeLocation(K);if(!this.model.setCollapsed(G,!1)){if(!K.children.some(le=>le.visible))return;const[oe]=this.view.getFocus(),de=oe+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(W){W.preventDefault(),W.stopPropagation();const j=this.view.getFocusedElements();if(j.length===0)return;const K=j[0],G=this.model.getNodeLocation(K),ee=W.browserEvent.altKey;this.model.setCollapsed(G,void 0,ee)}dispose(){var W;(0,l.dispose)(this.disposables),(W=this.stickyScrollController)===null||W===void 0||W.dispose(),this.view.dispose()}}e.AbstractTree=te}),define(ie[628],ne([1,0,167,238]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class E extends f.AbstractTree{constructor(y,p,w,v,_,a={}){super(y,p,w,v,a),this.user=y,this.dataSource=_,this.identityProvider=a.identityProvider}createModel(y,p,w){return new k.ObjectTreeModel(y,p,w)}}e.DataTree=E}),define(ie[343],ne([1,0,167,611,238,118,54]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends f.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,t,n,h,m={}){super(i,t,n,h,m),this.user=i}setChildren(i,t=y.Iterable.empty(),n){this.model.setChildren(i,t,n)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,t,n){return new E.ObjectTreeModel(i,t,n)}}e.ObjectTree=p;class w{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,t,n){this._compressedTreeNodeProvider=i,this.stickyScrollDelegate=t,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}renderTemplate(i){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(i)}}renderElement(i,t,n,h){let m=this.stickyScrollDelegate.getCompressedNode(i);m||(m=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element)),m.element.elements.length===1?(n.compressedTreeNode=void 0,this.renderer.renderElement(i,t,n.data,h)):(n.compressedTreeNode=m,this.renderer.renderCompressedElements(m,t,n.data,h))}disposeElement(i,t,n,h){var m,u,d,r;n.compressedTreeNode?(u=(m=this.renderer).disposeCompressedElements)===null||u===void 0||u.call(m,n.compressedTreeNode,t,n.data,h):(r=(d=this.renderer).disposeElement)===null||r===void 0||r.call(d,i,t,n.data,h)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,t):!1}}Ie([L.memoize],w.prototype,"compressedTreeNodeProvider",null);class v{constructor(i){this.modelProvider=i,this.compressedStickyNodes=new Map}getCompressedNode(i){return this.compressedStickyNodes.get(i)}constrainStickyScrollNodes(i,t,n){if(this.compressedStickyNodes.clear(),i.length===0)return[];for(let h=0;h<i.length;h++){const m=i[h],u=m.position+m.height;if(h+1<i.length&&u+i[h+1].height>n||h>=t-1&&t<i.length){const r=i.slice(0,h),l=i.slice(h),o=this.compressStickyNodes(l);return[...r,o]}}return i}compressStickyNodes(i){if(i.length===0)throw new Error("Can't compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return i[0];const t=[];for(const r of i){const l=this.modelProvider().getCompressedTreeNode(r.node.element);if(l.element){if(l.element.incompressible)break;t.push(...l.element.elements)}}if(t.length<2)return i[0];const n=i[i.length-1],h={elements:t,incompressible:!1},m={...n.node,children:[],element:h},u=new Proxy(i[0].node,{}),d={node:u,startIndex:i[0].startIndex,endIndex:n.endIndex,position:i[0].position,height:i[0].height};return this.compressedStickyNodes.set(u,m),d}}function _(s,i){return i&&{...i,keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let n;try{n=s().getCompressedTreeNode(t)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return n.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}}}class a extends p{constructor(i,t,n,h,m={}){const u=()=>this,d=new v(()=>this.model),r=h.map(l=>new w(u,d,l));super(i,t,n,r,{..._(u,m),stickyScrollDelegate:d})}setChildren(i,t=y.Iterable.empty(),n){this.model.setChildren(i,t,n)}createModel(i,t,n){return new k.CompressibleObjectTreeModel(i,t,n)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=a}),define(ie[629],ne([1,0,245,167,237,343,153,15,26,31,12,7,54,2,21]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function n(P){return{...P,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function h(P,M){return M.parent?M.parent===P?!0:h(P,M.parent):!1}function m(P,M){return P===M||h(P,M)||h(M,P)}class u{get element(){return this.node.element.element}get children(){return this.node.children.map(M=>new u(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class d{constructor(M,R,F){this.renderer=M,this.nodeMapper=R,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,R,F,O){this.renderer.renderElement(this.nodeMapper.map(M),R,F.templateData,O)}renderTwistie(M,R){return M.slow?(R.classList.add(...v.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(R.classList.remove(...v.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,R,F,O){var B,H;(H=(B=this.renderer).disposeElement)===null||H===void 0||H.call(B,this.nodeMapper.map(M),R,F.templateData,O)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear()}}function r(P){return{browserEvent:P.browserEvent,elements:P.elements.map(M=>M.element)}}function l(P){return{browserEvent:P.browserEvent,element:P.element&&P.element.element,target:P.target}}class o extends f.ElementsDragAndDropData{constructor(M){super(M.elements.map(R=>R.element)),this.data=M}}function g(P){return P instanceof f.ElementsDragAndDropData?new o(P):P}class c{constructor(M){this.dnd=M}getDragURI(M){return this.dnd.getDragURI(M.element)}getDragLabel(M,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(M.map(F=>F.element),R)}onDragStart(M,R){var F,O;(O=(F=this.dnd).onDragStart)===null||O===void 0||O.call(F,g(M),R)}onDragOver(M,R,F,O,B,H=!0){return this.dnd.onDragOver(g(M),R&&R.element,F,O,B)}drop(M,R,F,O,B){this.dnd.drop(g(M),R&&R.element,F,O,B)}onDragEnd(M){var R,F;(F=(R=this.dnd).onDragEnd)===null||F===void 0||F.call(R,M)}dispose(){this.dnd.dispose()}}function b(P){return P&&{...P,collapseByDefault:!0,identityProvider:P.identityProvider&&{getId(M){return P.identityProvider.getId(M.element)}},dnd:P.dnd&&new c(P.dnd),multipleSelectionController:P.multipleSelectionController&&{isSelectionSingleChangeEvent(M){return P.multipleSelectionController.isSelectionSingleChangeEvent({...M,element:M.element})},isSelectionRangeChangeEvent(M){return P.multipleSelectionController.isSelectionRangeChangeEvent({...M,element:M.element})}},accessibilityProvider:P.accessibilityProvider&&{...P.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:P.accessibilityProvider.getRole?M=>P.accessibilityProvider.getRole(M.element):()=>"treeitem",isChecked:P.accessibilityProvider.isChecked?M=>{var R;return!!(!((R=P.accessibilityProvider)===null||R===void 0)&&R.isChecked(M.element))}:void 0,getAriaLabel(M){return P.accessibilityProvider.getAriaLabel(M.element)},getWidgetAriaLabel(){return P.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:P.accessibilityProvider.getWidgetRole?()=>P.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:P.accessibilityProvider.getAriaLevel&&(M=>P.accessibilityProvider.getAriaLevel(M.element)),getActiveDescendantId:P.accessibilityProvider.getActiveDescendantId&&(M=>P.accessibilityProvider.getActiveDescendantId(M.element))},filter:P.filter&&{filter(M,R){return P.filter.filter(M.element,R)}},keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&{...P.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(M){return P.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(M.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof P.expandOnlyOnTwistieClick>"u"?void 0:typeof P.expandOnlyOnTwistieClick!="function"?P.expandOnlyOnTwistieClick:M=>P.expandOnlyOnTwistieClick(M.element),defaultFindVisibility:M=>M.hasChildren&&M.stale?1:typeof P.defaultFindVisibility=="number"?P.defaultFindVisibility:typeof P.defaultFindVisibility>"u"?2:P.defaultFindVisibility(M.element)}}function C(P,M){M(P),P.children.forEach(R=>C(R,M))}class S{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return a.Event.map(this.tree.onDidChangeFocus,r)}get onDidChangeSelection(){return a.Event.map(this.tree.onDidChangeSelection,r)}get onMouseDblClick(){return a.Event.map(this.tree.onMouseDblClick,l)}get onPointer(){return a.Event.map(this.tree.onPointer,l)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(M,R,F,O,B,H={}){this.user=M,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new a.Emitter,this._onDidChangeNodeSlowState=new a.Emitter,this.nodeMapper=new y.WeakMapper(V=>new u(V)),this.disposables=new i.DisposableStore,this.identityProvider=H.identityProvider,this.autoExpandSingleChildren=typeof H.autoExpandSingleChildren>"u"?!1:H.autoExpandSingleChildren,this.sorter=H.sorter,this.getDefaultCollapseState=V=>H.collapseByDefault?H.collapseByDefault(V)?y.ObjectTreeElementCollapseState.PreserveOrCollapsed:y.ObjectTreeElementCollapseState.PreserveOrExpanded:void 0,this.tree=this.createTree(M,R,F,O,H),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=n({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(M,R,F,O,B){const H=new k.ComposedTreeDelegate(F),V=O.map(z=>new d(z,this.nodeMapper,this._onDidChangeNodeSlowState.event)),q=b(B)||{};return new L.ObjectTree(M,R,H,V,q)}updateOptions(M={}){this.tree.updateOptions(M)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(M){this.tree.scrollTop=M}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(M,R){this.tree.layout(M,R)}style(M){this.tree.style(M)}getInput(){return this.root.element}async setInput(M,R){this.refreshPromises.forEach(O=>O.cancel()),this.refreshPromises.clear(),this.root.element=M;const F=R&&{viewState:R,focus:[],selection:[]};await this._updateChildren(M,!0,!1,F),F&&(this.tree.setFocus(F.focus),this.tree.setSelection(F.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)}async _updateChildren(M=this.root.element,R=!0,F=!1,O,B){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event));const H=this.getDataNode(M);if(await this.refreshAndRenderNode(H,R,O,B),F)try{this.tree.rerender(H)}catch{}}rerender(M){if(M===void 0||M===this.root.element){this.tree.rerender();return}const R=this.getDataNode(M);this.tree.rerender(R)}getNode(M=this.root.element){const R=this.getDataNode(M),F=this.tree.getNode(R===this.root?null:R);return this.nodeMapper.map(F)}collapse(M,R=!1){const F=this.getDataNode(M);return this.tree.collapse(F===this.root?null:F,R)}async expand(M,R=!1){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event));const F=this.getDataNode(M);if(this.tree.hasElement(F)&&!this.tree.isCollapsible(F)||(F.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event)),F!==this.root&&!F.refreshPromise&&!this.tree.isCollapsed(F)))return!1;const O=this.tree.expand(F===this.root?null:F,R);return F.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event)),O}setSelection(M,R){const F=M.map(O=>this.getDataNode(O));this.tree.setSelection(F,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(M,R){const F=M.map(O=>this.getDataNode(O));this.tree.setFocus(F,R)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(M,R){this.tree.reveal(this.getDataNode(M),R)}getParentElement(M){const R=this.tree.getParentElement(this.getDataNode(M));return R&&R.element}getFirstElementChild(M=this.root.element){const R=this.getDataNode(M),F=this.tree.getFirstElementChild(R===this.root?null:R);return F&&F.element}getDataNode(M){const R=this.nodes.get(M===this.root.element?null:M);if(!R)throw new y.TreeError(this.user,`Data tree node not found: ${M}`);return R}async refreshAndRenderNode(M,R,F,O){await this.refreshNode(M,R,F),!this.disposables.isDisposed&&this.render(M,F,O)}async refreshNode(M,R,F){let O;if(this.subTreeRefreshPromises.forEach((B,H)=>{!O&&m(H,M)&&(O=B.then(()=>this.refreshNode(M,R,F)))}),O)return O;if(M!==this.root&&this.tree.getNode(M).collapsed){M.hasChildren=!!this.dataSource.hasChildren(M.element),M.stale=!0,this.setChildren(M,[],R,F);return}return this.doRefreshSubTree(M,R,F)}async doRefreshSubTree(M,R,F){let O;M.refreshPromise=new Promise(B=>O=B),this.subTreeRefreshPromises.set(M,M.refreshPromise),M.refreshPromise.finally(()=>{M.refreshPromise=void 0,this.subTreeRefreshPromises.delete(M)});try{const B=await this.doRefreshNode(M,R,F);M.stale=!1,await p.Promises.settled(B.map(H=>this.doRefreshSubTree(H,R,F)))}finally{O()}}async doRefreshNode(M,R,F){M.hasChildren=!!this.dataSource.hasChildren(M.element);let O;if(!M.hasChildren)O=Promise.resolve(s.Iterable.empty());else{const B=this.doGetChildren(M);if((0,t.isIterable)(B))O=Promise.resolve(B);else{const H=(0,p.timeout)(800);H.then(()=>{M.slow=!0,this._onDidChangeNodeSlowState.fire(M)},V=>null),O=B.finally(()=>H.cancel())}}try{const B=await O;return this.setChildren(M,B,R,F)}catch(B){if(M!==this.root&&this.tree.hasElement(M)&&this.tree.collapse(M),(0,_.isCancellationError)(B))return[];throw B}finally{M.slow&&(M.slow=!1,this._onDidChangeNodeSlowState.fire(M))}}doGetChildren(M){let R=this.refreshPromises.get(M);if(R)return R;const F=this.dataSource.getChildren(M.element);return(0,t.isIterable)(F)?this.processChildren(F):(R=(0,p.createCancelablePromise)(async()=>this.processChildren(await F)),this.refreshPromises.set(M,R),R.finally(()=>{this.refreshPromises.delete(M)}))}_onDidChangeCollapseState({node:M,deep:R}){M.element!==null&&!M.collapsed&&M.element.stale&&(R?this.collapse(M.element.element):this.refreshAndRenderNode(M.element,!1).catch(_.onUnexpectedError))}setChildren(M,R,F,O){const B=[...R];if(M.children.length===0&&B.length===0)return[];const H=new Map,V=new Map;for(const U of M.children)H.set(U.element,U),this.identityProvider&&V.set(U.id,{node:U,collapsed:this.tree.hasElement(U)&&this.tree.isCollapsed(U)});const q=[],z=B.map(U=>{const Z=!!this.dataSource.hasChildren(U);if(!this.identityProvider){const X=n({element:U,parent:M,hasChildren:Z,defaultCollapseState:this.getDefaultCollapseState(U)});return Z&&X.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded&&q.push(X),X}const re=this.identityProvider.getId(U).toString(),x=V.get(re);if(x){const X=x.node;return H.delete(X.element),this.nodes.delete(X.element),this.nodes.set(U,X),X.element=U,X.hasChildren=Z,F?x.collapsed?(X.children.forEach(Y=>C(Y,ae=>this.nodes.delete(ae.element))),X.children.splice(0,X.children.length),X.stale=!0):q.push(X):Z&&!x.collapsed&&q.push(X),X}const Q=n({element:U,parent:M,id:re,hasChildren:Z,defaultCollapseState:this.getDefaultCollapseState(U)});return O&&O.viewState.focus&&O.viewState.focus.indexOf(re)>-1&&O.focus.push(Q),O&&O.viewState.selection&&O.viewState.selection.indexOf(re)>-1&&O.selection.push(Q),(O&&O.viewState.expanded&&O.viewState.expanded.indexOf(re)>-1||Z&&Q.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded)&&q.push(Q),Q});for(const U of H.values())C(U,Z=>this.nodes.delete(Z.element));for(const U of z)this.nodes.set(U.element,U);return M.children.splice(0,M.children.length,...z),M!==this.root&&this.autoExpandSingleChildren&&z.length===1&&q.length===0&&(z[0].forceExpanded=!0,q.push(z[0])),q}render(M,R,F){const O=M.children.map(H=>this.asTreeElement(H,R)),B=F&&{...F,diffIdentityProvider:F.diffIdentityProvider&&{getId(H){return F.diffIdentityProvider.getId(H.element)}}};this.tree.setChildren(M===this.root?null:M,O,B),M!==this.root&&this.tree.setCollapsible(M,M.hasChildren),this._onDidRender.fire()}asTreeElement(M,R){if(M.stale)return{element:M,collapsible:M.hasChildren,collapsed:!0};let F;return R&&R.viewState.expanded&&M.id&&R.viewState.expanded.indexOf(M.id)>-1?F=!1:M.forceExpanded?(F=!1,M.forceExpanded=!1):F=M.defaultCollapseState,{element:M,children:M.hasChildren?s.Iterable.map(M.children,O=>this.asTreeElement(O,R)):[],collapsible:M.hasChildren,collapsed:F}}processChildren(M){return this.sorter&&(M=[...M].sort(this.sorter.compare.bind(this.sorter))),M}dispose(){this.disposables.dispose(),this.tree.dispose()}}e.AsyncDataTree=S;class D{get element(){return{elements:this.node.element.elements.map(M=>M.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(M=>new D(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class I{constructor(M,R,F,O){this.renderer=M,this.nodeMapper=R,this.compressibleNodeMapperProvider=F,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.disposables=[],this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,R,F,O){this.renderer.renderElement(this.nodeMapper.map(M),R,F.templateData,O)}renderCompressedElements(M,R,F,O){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(M),R,F.templateData,O)}renderTwistie(M,R){return M.slow?(R.classList.add(...v.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(R.classList.remove(...v.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,R,F,O){var B,H;(H=(B=this.renderer).disposeElement)===null||H===void 0||H.call(B,this.nodeMapper.map(M),R,F.templateData,O)}disposeCompressedElements(M,R,F,O){var B,H;(H=(B=this.renderer).disposeCompressedElements)===null||H===void 0||H.call(B,this.compressibleNodeMapperProvider().map(M),R,F.templateData,O)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function T(P){const M=P&&b(P);return M&&{...M,keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&{...M.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(R){return P.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(F=>F.element))}}}}class N extends S{constructor(M,R,F,O,B,H,V={}){super(M,R,F,B,H,V),this.compressionDelegate=O,this.compressibleNodeMapper=new y.WeakMapper(q=>new D(q)),this.filter=V.filter}createTree(M,R,F,O,B){const H=new k.ComposedTreeDelegate(F),V=O.map(z=>new I(z,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),q=T(B)||{};return new L.CompressibleObjectTree(M,R,H,V,q)}asTreeElement(M,R){return{incompressible:this.compressionDelegate.isIncompressible(M.element),...super.asTreeElement(M,R)}}updateOptions(M={}){this.tree.updateOptions(M)}render(M,R,F){if(!this.identityProvider)return super.render(M,R);const O=x=>this.identityProvider.getId(x).toString(),B=x=>{const Q=new Set;for(const X of x){const Y=this.tree.getCompressedTreeNode(X===this.root?null:X);if(Y.element)for(const ae of Y.element.elements)Q.add(O(ae.element))}return Q},H=B(this.tree.getSelection()),V=B(this.tree.getFocus());super.render(M,R,F);const q=this.getSelection();let z=!1;const U=this.getFocus();let Z=!1;const re=x=>{const Q=x.element;if(Q)for(let X=0;X<Q.elements.length;X++){const Y=O(Q.elements[X].element),ae=Q.elements[Q.elements.length-1].element;H.has(Y)&&q.indexOf(ae)===-1&&(q.push(ae),z=!0),V.has(Y)&&U.indexOf(ae)===-1&&(U.push(ae),Z=!0)}x.children.forEach(re)};re(this.tree.getCompressedTreeNode(M===this.root?null:M)),z&&this.setSelection(q),Z&&this.setFocus(U)}processChildren(M){return this.filter&&(M=s.Iterable.filter(M,R=>{const F=this.filter.filter(R,1),O=A(F);if(O===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return O===1})),super.processChildren(M)}}e.CompressibleAsyncDataTree=N;function A(P){return typeof P=="boolean"?P?1:0:(0,E.isFilterResult)(P)?(0,E.getVisibleState)(P.visibility):(0,E.getVisibleState)(P)}}),define(ie[344],ne([1,0,12,7,2,55,17,11]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleWorkerServer=e.SimpleWorkerClient=void 0,e.logOnceWebWorkerWarning=_,e.create=o;const w="$initialize";let v=!1;function _(g){y.isWeb&&(v||(v=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(g.message))}class a{constructor(c,b,C,S){this.vsWorker=c,this.req=b,this.method=C,this.args=S,this.type=0}}class s{constructor(c,b,C,S){this.vsWorker=c,this.seq=b,this.res=C,this.err=S,this.type=1}}class i{constructor(c,b,C,S){this.vsWorker=c,this.req=b,this.eventName=C,this.arg=S,this.type=2}}class t{constructor(c,b,C){this.vsWorker=c,this.req=b,this.event=C,this.type=3}}class n{constructor(c,b){this.vsWorker=c,this.req=b,this.type=4}}class h{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(c){this._workerId=c}sendMessage(c,b){const C=String(++this._lastSentReq);return new Promise((S,D)=>{this._pendingReplies[C]={resolve:S,reject:D},this._send(new a(this._workerId,C,c,b))})}listen(c,b){let C=null;const S=new k.Emitter({onWillAddFirstListener:()=>{C=String(++this._lastSentReq),this._pendingEmitters.set(C,S),this._send(new i(this._workerId,C,c,b))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(C),this._send(new n(this._workerId,C)),C=null}});return S.event}handleMessage(c){!c||!c.vsWorker||this._workerId!==-1&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){switch(c.type){case 1:return this._handleReplyMessage(c);case 0:return this._handleRequestMessage(c);case 2:return this._handleSubscribeEventMessage(c);case 3:return this._handleEventMessage(c);case 4:return this._handleUnsubscribeEventMessage(c)}}_handleReplyMessage(c){if(!this._pendingReplies[c.seq]){console.warn("Got reply to unknown seq");return}const b=this._pendingReplies[c.seq];if(delete this._pendingReplies[c.seq],c.err){let C=c.err;c.err.$isError&&(C=new Error,C.name=c.err.name,C.message=c.err.message,C.stack=c.err.stack),b.reject(C);return}b.resolve(c.res)}_handleRequestMessage(c){const b=c.req;this._handler.handleMessage(c.method,c.args).then(S=>{this._send(new s(this._workerId,b,S,void 0))},S=>{S.detail instanceof Error&&(S.detail=(0,f.transformErrorForSerialization)(S.detail)),this._send(new s(this._workerId,b,void 0,(0,f.transformErrorForSerialization)(S)))})}_handleSubscribeEventMessage(c){const b=c.req,C=this._handler.handleEvent(c.eventName,c.arg)(S=>{this._send(new t(this._workerId,b,S))});this._pendingEvents.set(b,C)}_handleEventMessage(c){if(!this._pendingEmitters.has(c.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(c.req).fire(c.event)}_handleUnsubscribeEventMessage(c){if(!this._pendingEvents.has(c.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(c.req).dispose(),this._pendingEvents.delete(c.req)}_send(c){const b=[];if(c.type===0)for(let C=0;C<c.args.length;C++)c.args[C]instanceof ArrayBuffer&&b.push(c.args[C]);else c.type===1&&c.res instanceof ArrayBuffer&&b.push(c.res);this._handler.sendMessage(c,b)}}class m extends E.Disposable{constructor(c,b,C){super();let S=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",P=>{this._protocol.handleMessage(P)},P=>{S?.(P)})),this._protocol=new h({sendMessage:(P,M)=>{this._worker.postMessage(P,M)},handleMessage:(P,M)=>{if(typeof C[P]!="function")return Promise.reject(new Error("Missing method "+P+" on main thread host."));try{return Promise.resolve(C[P].apply(C,M))}catch(R){return Promise.reject(R)}},handleEvent:(P,M)=>{if(d(P)){const R=C[P].call(C,M);if(typeof R!="function")throw new Error(`Missing dynamic event ${P} on main thread host.`);return R}if(u(P)){const R=C[P];if(typeof R!="function")throw new Error(`Missing event ${P} on main thread host.`);return R}throw new Error(`Malformed event name ${P}`)}}),this._protocol.setWorkerId(this._worker.getId());let D=null;const I=globalThis.require;typeof I<"u"&&typeof I.getConfig=="function"?D=I.getConfig():typeof globalThis.requirejs<"u"&&(D=globalThis.requirejs.s.contexts._.config);const T=(0,L.getAllMethodNames)(C);this._onModuleLoaded=this._protocol.sendMessage(w,[this._worker.getId(),JSON.parse(JSON.stringify(D)),b,T]);const N=(P,M)=>this._request(P,M),A=(P,M)=>this._protocol.listen(P,M);this._lazyProxy=new Promise((P,M)=>{S=M,this._onModuleLoaded.then(R=>{P(r(R,N,A))},R=>{M(R),this._onError("Worker failed to load "+b,R)})})}getProxyObject(){return this._lazyProxy}_request(c,b){return new Promise((C,S)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,b).then(C,S)},S)})}_onError(c,b){console.error(c),console.info(b)}}e.SimpleWorkerClient=m;function u(g){return g[0]==="o"&&g[1]==="n"&&p.isUpperAsciiLetter(g.charCodeAt(2))}function d(g){return/^onDynamic/.test(g)&&p.isUpperAsciiLetter(g.charCodeAt(9))}function r(g,c,b){const C=I=>function(){const T=Array.prototype.slice.call(arguments,0);return c(I,T)},S=I=>function(T){return b(I,T)},D={};for(const I of g){if(d(I)){D[I]=S(I);continue}if(u(I)){D[I]=b(I,void 0);continue}D[I]=C(I)}return D}class l{constructor(c,b){this._requestHandlerFactory=b,this._requestHandler=null,this._protocol=new h({sendMessage:(C,S)=>{c(C,S)},handleMessage:(C,S)=>this._handleMessage(C,S),handleEvent:(C,S)=>this._handleEvent(C,S)})}onmessage(c){this._protocol.handleMessage(c)}_handleMessage(c,b){if(c===w)return this.initialize(b[0],b[1],b[2],b[3]);if(!this._requestHandler||typeof this._requestHandler[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._requestHandler[c].apply(this._requestHandler,b))}catch(C){return Promise.reject(C)}}_handleEvent(c,b){if(!this._requestHandler)throw new Error("Missing requestHandler");if(d(c)){const C=this._requestHandler[c].call(this._requestHandler,b);if(typeof C!="function")throw new Error(`Missing dynamic event ${c} on request handler.`);return C}if(u(c)){const C=this._requestHandler[c];if(typeof C!="function")throw new Error(`Missing event ${c} on request handler.`);return C}throw new Error(`Malformed event name ${c}`)}initialize(c,b,C,S){this._protocol.setWorkerId(c);const T=r(S,(N,A)=>this._protocol.sendMessage(N,A),(N,A)=>this._protocol.listen(N,A));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve((0,L.getAllMethodNames)(this._requestHandler))):(b&&(typeof b.baseUrl<"u"&&delete b.baseUrl,typeof b.paths<"u"&&typeof b.paths.vs<"u"&&delete b.paths.vs,typeof b.trustedTypesPolicy<"u"&&delete b.trustedTypesPolicy,b.catchError=!0,globalThis.require.config(b)),new Promise((N,A)=>{(globalThis.require||J)([C],M=>{if(this._requestHandler=M.create(T),!this._requestHandler){A(new Error("No RequestHandler!"));return}N((0,L.getAllMethodNames)(this._requestHandler))},A)}))}}e.SimpleWorkerServer=l;function o(g){return new l(g,null)}}),define(ie[630],ne([1,0,99,12,49,344,2]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=void 0,e.getWorkerBootstrapUrl=v;const p=(0,f.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:i=>i});function w(i){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",i);if(typeof t.getWorkerUrl=="function"){const n=t.getWorkerUrl("workerMain.js",i);return new Worker(p?p.createScriptURL(n):n,{name:i})}}if(typeof J=="function"){const n=J.toUrl("vs/base/worker/workerMain.js"),h=v(n,i);return new Worker(p?p.createScriptURL(h):h,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function v(i,t){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,globalThis.origin.length)!==globalThis.origin){const d="vs/base/worker/defaultWorkerFactory.js",r=J.toUrl(d).slice(0,-d.length),l=`/*${t}*/globalThis.MonacoEnvironment={baseUrl: '${r}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${t}*/`,o=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(o)}const n=i.lastIndexOf("?"),h=i.lastIndexOf("#",n),m=n>0?new URLSearchParams(i.substring(n+1,~h?h:void 0)):new URLSearchParams;return E.COI.addSearchParam(m,!0,!0),m.toString()?`${i}?${m.toString()}#${t}`:`${i}#${t}`}function _(i){return typeof i.then=="function"}class a extends y.Disposable{constructor(t,n,h,m,u){super(),this.id=n,this.label=h;const d=w(h);_(d)?this.worker=d:this.worker=Promise.resolve(d),this.postMessage(t,[]),this.worker.then(r=>{r.onmessage=function(l){m(l.data)},r.onmessageerror=u,typeof r.addEventListener=="function"&&r.addEventListener("error",u)}),this._register((0,y.toDisposable)(()=>{var r;(r=this.worker)===null||r===void 0||r.then(l=>{l.onmessage=null,l.onmessageerror=null,l.removeEventListener("error",u),l.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(t,n){var h;(h=this.worker)===null||h===void 0||h.then(m=>{try{m.postMessage(t,n)}catch(u){(0,k.onUnexpectedError)(u),(0,k.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:u}))}})}}class s{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,n,h){const m=++s.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new a(t,m,this._label||"anonymous"+m,n,u=>{(0,L.logOnceWebWorkerWarning)(u),this._webWorkerFailedBeforeError=u,h(u)})}}e.DefaultWorkerFactory=s,s.LAST_WORKER_ID=0}),define(ie[631],ne([1,0,15,7,2,240,21]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var p;(function(a){a[a.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",a[a.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(p||(e.StorageHint=p={}));var w;(function(a){a[a.None=0]="None",a[a.Initialized=1]="Initialized",a[a.Closed=2]="Closed"})(w||(e.StorageState=w={}));class v extends E.Disposable{constructor(s,i=Object.create(null)){super(),this.database=s,this.options=i,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=w.None,this.cache=new Map,this.flushDelayer=this._register(new f.ThrottledDelayer(v.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(s=>this.onDidChangeItemsExternal(s)))}onDidChangeItemsExternal(s){var i,t;this._onDidChangeStorage.pause();try{(i=s.changed)===null||i===void 0||i.forEach((n,h)=>this.acceptExternal(h,n)),(t=s.deleted)===null||t===void 0||t.forEach(n=>this.acceptExternal(n,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(s,i){if(this.state===w.Closed)return;let t=!1;(0,y.isUndefinedOrNull)(i)?t=this.cache.delete(s):this.cache.get(s)!==i&&(this.cache.set(s,i),t=!0),t&&this._onDidChangeStorage.fire({key:s,external:!0})}get(s,i){const t=this.cache.get(s);return(0,y.isUndefinedOrNull)(t)?i:t}getBoolean(s,i){const t=this.get(s);return(0,y.isUndefinedOrNull)(t)?i:t==="true"}getNumber(s,i){const t=this.get(s);return(0,y.isUndefinedOrNull)(t)?i:parseInt(t,10)}async set(s,i,t=!1){if(this.state===w.Closed)return;if((0,y.isUndefinedOrNull)(i))return this.delete(s,t);const n=(0,y.isObject)(i)||Array.isArray(i)?(0,L.stringify)(i):String(i);if(this.cache.get(s)!==n)return this.cache.set(s,n),this.pendingInserts.set(s,n),this.pendingDeletes.delete(s),this._onDidChangeStorage.fire({key:s,external:t}),this.doFlush()}async delete(s,i=!1){if(!(this.state===w.Closed||!this.cache.delete(s)))return this.pendingDeletes.has(s)||this.pendingDeletes.add(s),this.pendingInserts.delete(s),this._onDidChangeStorage.fire({key:s,external:i}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const s={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(s).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})}async doFlush(s){return this.options.hint===p.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),s)}}e.Storage=v,v.DEFAULT_FLUSH_DELAY=100;class _{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}async updateItems(s){var i,t;(i=s.insert)===null||i===void 0||i.forEach((n,h)=>this.items.set(h,n)),(t=s.delete)===null||t===void 0||t.forEach(n=>this.items.delete(n))}}e.InMemoryStorageDatabase=_}),define(ie[345],ne([1,0,2,7,6]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class L extends f.Disposable{constructor(p,w){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=p,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,w)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let p=null;const w=()=>{p?this.observe({width:p.width,height:p.height}):this.observe()};let v=!1,_=!1;const a=()=>{if(v&&!_)try{v=!1,_=!0,w()}finally{(0,E.scheduleAtNextAnimationFrame)((0,E.getWindow)(this._referenceDomElement),()=>{_=!1,a()})}};this._resizeObserver=new ResizeObserver(s=>{s&&s[0]&&s[0].contentRect?p={width:s[0].contentRect.width,height:s[0].contentRect.height}:p=null,v=!0,a()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(p){this.measureReferenceDomElement(!0,p)}measureReferenceDomElement(p,w){let v=0,_=0;w?(v=w.width,_=w.height):this._referenceDomElement&&(v=this._referenceDomElement.clientWidth,_=this._referenceDomElement.clientHeight),v=Math.max(5,v),_=Math.max(5,_),(this._width!==v||this._height!==_)&&(this._width=v,this._height=_,p&&this._onDidChange.fire())}}e.ElementSizeObserver=L}),define(ie[632],ne([1,0,6,40,56]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class L extends E.ViewPart{constructor(s,i){super(s),this._viewDomNode=i,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),E.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),E.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onConfigurationChanged(s);return!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLineMappingChanged(s){return this._updateAnchorsViewPositions(),!0}onLinesChanged(s){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(s){return this._updateAnchorsViewPositions(),!0}onLinesInserted(s){return this._updateAnchorsViewPositions(),!0}onScrollChanged(s){return!0}onZonesChanged(s){return!0}_updateAnchorsViewPositions(){const s=Object.keys(this._widgets);for(const i of s)this._widgets[i].updateAnchorViewPosition()}addWidget(s){const i=new y(this._context,this._viewDomNode,s);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(s,i,t,n,h){this._widgets[s.getId()].setPosition(i,t,n,h),this.setShouldRender()}removeWidget(s){const i=s.getId();if(this._widgets.hasOwnProperty(i)){const t=this._widgets[i];delete this._widgets[i];const n=t.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(s){return this._widgets.hasOwnProperty(s)?this._widgets[s].suppressMouseDown:!1}onBeforeRender(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onBeforeRender(s)}prepareRender(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].prepareRender(s)}render(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].render(s)}}e.ViewContentWidgets=L;class y{constructor(s,i,t){this._primaryAnchor=new p(null,null),this._secondaryAnchor=new p(null,null),this._context=s,this._viewDomNode=i,this._actual=t,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,h=n.get(145);this._fixedOverflowWidgets=n.get(42),this._contentWidth=h.contentWidth,this._contentLeft=h.contentLeft,this._lineHeight=n.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(s){const i=this._context.configuration.options;if(this._lineHeight=i.get(67),s.hasChanged(145)){const t=i.get(145);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(s,i,t){this._affinity=s,this._primaryAnchor=n(i,this._context.viewModel,this._affinity),this._secondaryAnchor=n(t,this._context.viewModel,this._affinity);function n(h,m,u){if(!h)return new p(null,null);const d=m.model.validatePosition(h);if(m.coordinatesConverter.modelPositionIsVisible(d)){const r=m.coordinatesConverter.convertModelPositionToViewPosition(d,u??void 0);return new p(h,r)}return new p(h,null)}}_getMaxWidth(){const s=this.domNode.domNode.ownerDocument,i=s.defaultView;return this.allowEditorOverflow?i?.innerWidth||s.documentElement.offsetWidth||s.body.offsetWidth:this._contentWidth}setPosition(s,i,t,n){this._setPosition(n,s,i),this._preference=t,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(s,i,t,n){const h=s.top,m=h,u=s.top+s.height,d=n.viewportHeight-u,r=h-t,l=m>=t,o=u,g=d>=t;let c=s.left;return c+i>n.scrollLeft+n.viewportWidth&&(c=n.scrollLeft+n.viewportWidth-i),c<n.scrollLeft&&(c=n.scrollLeft),{fitsAbove:l,aboveTop:r,fitsBelow:g,belowTop:o,left:c}}_layoutHorizontalSegmentInPage(s,i,t,n){var h;const d=Math.max(15,i.left-n),r=Math.min(i.left+i.width+n,s.width-15),o=this._viewDomNode.domNode.ownerDocument.defaultView;let g=i.left+t-((h=o?.scrollX)!==null&&h!==void 0?h:0);if(g+n>r){const c=g-(r-n);g-=c,t-=c}if(g<d){const c=g-d;g-=c,t-=c}return[t,g]}_layoutBoxInPage(s,i,t,n){var h,m;const u=s.top-t,d=s.top+s.height,r=f.getDomNodePagePosition(this._viewDomNode.domNode),l=this._viewDomNode.domNode.ownerDocument,o=l.defaultView,g=r.top+u-((h=o?.scrollY)!==null&&h!==void 0?h:0),c=r.top+d-((m=o?.scrollY)!==null&&m!==void 0?m:0),b=f.getClientArea(l.body),[C,S]=this._layoutHorizontalSegmentInPage(b,r,s.left-n.scrollLeft+this._contentLeft,i),D=22,I=22,T=g>=D,N=c+t<=b.height-I;return this._fixedOverflowWidgets?{fitsAbove:T,aboveTop:Math.max(g,D),fitsBelow:N,belowTop:c,left:S}:{fitsAbove:T,aboveTop:u,fitsBelow:N,belowTop:d,left:C}}_prepareRenderWidgetAtExactPositionOverflowing(s){return new w(s.top,s.left+this._contentLeft)}_getAnchorsCoordinates(s){var i,t;const n=u(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),h=((i=this._secondaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)===((t=this._primaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)?this._secondaryAnchor.viewPosition:null,m=u(h,this._affinity,this._lineHeight);return{primary:n,secondary:m};function u(d,r,l){if(!d)return null;const o=s.visibleRangeForPosition(d);if(!o)return null;const g=d.column===1&&r===3?0:o.left,c=s.getVerticalOffsetForLineNumber(d.lineNumber)-s.scrollTop;return new v(c,g,l)}}_reduceAnchorCoordinates(s,i,t){if(!i)return s;const n=this._context.configuration.options.get(50);let h=i.left;return h<s.left?h=Math.max(h,s.left-t+n.typicalFullwidthCharacterWidth):h=Math.min(h,s.left+t-n.typicalFullwidthCharacterWidth),new v(s.top,h,s.height)}_prepareRenderWidget(s){if(!this._preference||this._preference.length===0)return null;const{primary:i,secondary:t}=this._getAnchorsCoordinates(s);if(!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let m=null;if(typeof this._actual.beforeRender=="function"&&(m=_(this._actual.beforeRender,this._actual)),m)this._cachedDomNodeOffsetWidth=m.width,this._cachedDomNodeOffsetHeight=m.height;else{const d=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(d.width),this._cachedDomNodeOffsetHeight=Math.round(d.height)}}const n=this._reduceAnchorCoordinates(i,t,this._cachedDomNodeOffsetWidth);let h;this.allowEditorOverflow?h=this._layoutBoxInPage(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,s):h=this._layoutBoxInViewport(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,s);for(let m=1;m<=2;m++)for(const u of this._preference)if(u===1){if(!h)return null;if(m===2||h.fitsAbove)return{coordinate:new w(h.aboveTop,h.left),position:1}}else if(u===2){if(!h)return null;if(m===2||h.fitsBelow)return{coordinate:new w(h.belowTop,h.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new w(n.top,n.left)),position:0}:{coordinate:new w(n.top,n.left),position:0};return null}onBeforeRender(s){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<s.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>s.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(s){this._renderData=this._prepareRenderWidget(s)}render(s){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&_(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+s.scrollTop-s.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&_(this._actual.afterRender,this._actual,this._renderData.position)}}class p{constructor(s,i){this.modelPosition=s,this.viewPosition=i}}class w{constructor(s,i){this.top=s,this.left=i,this._coordinateBrand=void 0}}class v{constructor(s,i,t){this.top=s,this.left=i,this.height=t,this._anchorCoordinateBrand=void 0}}function _(a,s,...i){try{return a.call(s,...i)}catch{return null}}}),define(ie[633],ne([1,0,40,56,6,463]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class L extends k.ViewPart{constructor(p,w){super(p),this._viewDomNode=w;const _=this._context.configuration.options.get(145);this._widgets={},this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=(0,f.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=(0,f.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(p){const v=this._context.configuration.options.get(145);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(p){const w=(0,f.createFastDomNode)(p.getDomNode());this._widgets[p.getId()]={widget:p,preference:null,domNode:w},w.setPosition("absolute"),w.setAttribute("widgetId",p.getId()),p.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(w):this._domNode.appendChild(w),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(p,w){const v=this._widgets[p.getId()];return v.preference===w?(this._updateMaxMinWidth(),!1):(v.preference=w,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(p){const w=p.getId();if(this._widgets.hasOwnProperty(w)){const _=this._widgets[w].domNode.domNode;delete this._widgets[w],_.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var p,w;let v=0;const _=Object.keys(this._widgets);for(let a=0,s=_.length;a<s;a++){const i=_[a],n=(w=(p=this._widgets[i].widget).getMinContentWidthInPx)===null||w===void 0?void 0:w.call(p);typeof n<"u"&&(v=Math.max(v,n))}this._context.viewLayout.setOverlayWidgetsMinWidth(v)}_renderWidget(p){const w=p.domNode;if(p.preference===null){w.setTop("");return}if(p.preference===0)w.setTop(0),w.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(p.preference===1){const v=w.domNode.clientHeight;w.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),w.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(p.preference===2)w.setTop(0),w.domNode.style.right="50%";else{const{top:v,left:_}=p.preference;if(this._context.configuration.options.get(42)&&p.widget.allowEditorOverflow){const s=this._viewDomNodeRect;w.setTop(v+s.top),w.setLeft(_+s.left),w.setPosition("fixed")}else w.setTop(v),w.setLeft(_),w.setPosition("absolute")}}prepareRender(p){this._viewDomNodeRect=E.getDomNodePagePosition(this._viewDomNode.domNode)}render(p){this._domNode.setWidth(this._editorWidth);const w=Object.keys(this._widgets);for(let v=0,_=w.length;v<_;v++){const a=w[v];this._renderWidget(this._widgets[a])}}}e.ViewOverlayWidgets=L}),define(ie[634],ne([1,0,6,12,2]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class L extends E.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new E.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(p,w,v){this._editor=p,this._instantiationService=v;for(const _ of w){if(this._pending.has(_.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${_.id}`));continue}this._pending.set(_.id,_)}this._instantiateSome(0),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const p={};for(const[w,v]of this._instances)typeof v.saveViewState=="function"&&(p[w]=v.saveViewState());return p}restoreViewState(p){for(const[w,v]of this._instances)typeof v.restoreViewState=="function"&&v.restoreViewState(p[w])}get(p){return this._instantiateById(p),this._instances.get(p)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var p;return(0,f.runWhenWindowIdle)((0,f.getWindow)((p=this._editor)===null||p===void 0?void 0:p.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(p){if(this._finishedInstantiation[p])return;this._finishedInstantiation[p]=!0;const w=this._findPendingContributionsByInstantiation(p);for(const v of w)this._instantiateById(v.id)}_findPendingContributionsByInstantiation(p){const w=[];for(const[,v]of this._pending)v.instantiation===p&&w.push(v);return w}_instantiateById(p){const w=this._pending.get(p);if(w){if(this._pending.delete(p),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const v=this._instantiationService.createInstance(w.ctor,this._editor);this._instances.set(w.id,v),typeof v.restoreViewState=="function"&&w.instantiation!==0&&console.warn(`Editor contribution '${w.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(v){(0,k.onUnexpectedError)(v)}}}}e.CodeEditorContributions=L}),define(ie[635],ne([1,0,165,2,30]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class L extends k.Disposable{constructor(p,w,v,_){super(),this._options=p,this._domNode=w,this._dimensions=v,this._sashes=_,this._sashRatio=(0,E.observableValue)(this,void 0),this.sashLeft=(0,E.derived)(this,a=>{var s;const i=(s=this._sashRatio.read(a))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(a);return this._computeSashLeft(i,a)}),this._sash=this._register(new f.Sash(this._domNode,{getVerticalSashTop:a=>0,getVerticalSashLeft:a=>this.sashLeft.get(),getVerticalSashHeight:a=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(a=>{const s=this._dimensions.width.get(),i=this._computeSashLeft((this._startSashPosition+(a.currentX-a.startX))/s,void 0);this._sashRatio.set(i/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,E.autorun)(a=>{const s=this._sashes.read(a);s&&(this._sash.orthogonalEndSash=s.bottom)})),this._register((0,E.autorun)(a=>{const s=this._options.enableSplitViewResizing.read(a);this._sash.state=s?3:0,this.sashLeft.read(a),this._dimensions.height.read(a),this._sash.layout()}))}_computeSashLeft(p,w){const v=this._dimensions.width.read(w),_=Math.floor(this._options.splitViewDefaultRatio.read(w)*v),a=this._options.enableSplitViewResizing.read(w)?Math.floor(p*v):_,s=100;return v<=s*2?_:a<s?s:a>v-s?v-s:a}}e.DiffEditorSash=L}),define(ie[82],ne([1,0,66,19,612,2,30,345,9,5,122]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCancellationTokenSource=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.ObservableElementSizeObserver=void 0,e.joinCombine=a,e.applyObservableDecorations=s,e.appendRemoveOnDispose=i,e.prependRemoveOnDispose=t,e.animatedObservable=h,e.applyStyle=l,e.readHotReloadableExport=o,e.observeHotReloadableExports=g,e.applyViewZones=c,e.translatePosition=C,e.bindContextKey=D,e.filterWithPrevious=I;function a(T,N,A,P){if(T.length===0)return N;if(N.length===0)return T;const M=[];let R=0,F=0;for(;R<T.length&&F<N.length;){const O=T[R],B=N[F],H=A(O),V=A(B);H<V?(M.push(O),R++):H>V?(M.push(B),F++):(M.push(P(O,B)),R++,F++)}for(;R<T.length;)M.push(T[R]),R++;for(;F<N.length;)M.push(N[F]),F++;return M}function s(T,N){const A=new L.DisposableStore,P=T.createDecorationsCollection();return A.add((0,y.autorunOpts)({debugName:()=>`Apply decorations from ${N.debugName}`},M=>{const R=N.read(M);P.set(R)})),A.add({dispose:()=>{P.clear()}}),A}function i(T,N){return T.appendChild(N),(0,L.toDisposable)(()=>{T.removeChild(N)})}function t(T,N){return T.prepend(N),(0,L.toDisposable)(()=>{T.removeChild(N)})}class n extends L.Disposable{get width(){return this._width}get height(){return this._height}constructor(N,A){super(),this.elementSizeObserver=this._register(new p.ElementSizeObserver(N,A)),this._width=(0,y.observableValue)(this,this.elementSizeObserver.getWidth()),this._height=(0,y.observableValue)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(P=>(0,y.transaction)(M=>{this._width.set(this.elementSizeObserver.getWidth(),M),this._height.set(this.elementSizeObserver.getHeight(),M)})))}observe(N){this.elementSizeObserver.observe(N)}setAutomaticLayout(N){N?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=n;function h(T,N,A){let P=N.get(),M=P,R=P;const F=(0,y.observableValue)("animatedValue",P);let O=-1;const B=300;let H;A.add((0,y.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(q,z)=>(q.didChange(N)&&(z.animate=z.animate||q.change),!0)},(q,z)=>{H!==void 0&&(T.cancelAnimationFrame(H),H=void 0),M=R,P=N.read(q),O=Date.now()-(z.animate?0:B),V()}));function V(){const q=Date.now()-O;R=Math.floor(m(q,M,P-M,B)),q<B?H=T.requestAnimationFrame(V):R=P,F.set(R,void 0)}return F}function m(T,N,A,P){return T===P?N+A:A*(-Math.pow(2,-10*T/P)+1)+N}class u extends L.Disposable{constructor(N,A,P){super(),this._register(new r(N,P)),this._register(l(P,{height:A.actualHeight,top:A.actualTop}))}}e.ViewZoneOverlayWidget=u;class d{get afterLineNumber(){return this._afterLineNumber.get()}constructor(N,A){this._afterLineNumber=N,this.heightInPx=A,this.domNode=document.createElement("div"),this._actualTop=(0,y.observableValue)(this,void 0),this._actualHeight=(0,y.observableValue)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=P=>{this._actualTop.set(P,void 0)},this.onComputedHeight=P=>{this._actualHeight.set(P,void 0)}}}e.PlaceholderViewZone=d;class r{constructor(N,A){this._editor=N,this._domElement=A,this._overlayWidgetId=`managedOverlayWidget-${r._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=r,r._counter=0;function l(T,N){return(0,y.autorun)(A=>{for(let[P,M]of Object.entries(N))M&&typeof M=="object"&&"read"in M&&(M=M.read(A)),typeof M=="number"&&(M=`${M}px`),P=P.replace(/[A-Z]/g,R=>"-"+R.toLowerCase()),T.style[P]=M})}function o(T,N){return g([T],N),T}function g(T,N){(0,E.isHotReloadEnabled)()&&(0,y.observableSignalFromEvent)("reload",P=>(0,E.registerHotReloadHandler)(({oldExports:M})=>{if([...Object.values(M)].some(R=>T.includes(R)))return R=>(P(void 0),!0)})).read(N)}function c(T,N,A,P){const M=new L.DisposableStore,R=[];return M.add((0,y.autorunWithStore)((F,O)=>{const B=N.read(F),H=new Map,V=new Map;A&&A(!0),T.changeViewZones(q=>{for(const z of R)q.removeZone(z),P?.delete(z);R.length=0;for(const z of B){const U=q.addZone(z);z.setZoneId&&z.setZoneId(U),R.push(U),P?.add(U),H.set(z,U)}}),A&&A(!1),O.add((0,y.autorunHandleChanges)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(q,z){const U=V.get(q.changedObservable);return U!==void 0&&z.zoneIds.push(U),!0}},(q,z)=>{for(const U of B)U.onChange&&(V.set(U.onChange,H.get(U)),U.onChange.read(q));A&&A(!0),T.changeViewZones(U=>{for(const Z of z.zoneIds)U.layoutZone(Z)}),A&&A(!1)}))})),M.add({dispose(){A&&A(!0),T.changeViewZones(F=>{for(const O of R)F.removeZone(O)}),P?.clear(),A&&A(!1)}}),M}class b extends k.CancellationTokenSource{dispose(){super.dispose(!0)}}e.DisposableCancellationTokenSource=b;function C(T,N){const A=(0,f.findLast)(N,M=>M.original.startLineNumber<=T.lineNumber);if(!A)return v.Range.fromPositions(T);if(A.original.endLineNumberExclusive<=T.lineNumber){const M=T.lineNumber-A.original.endLineNumberExclusive+A.modified.endLineNumberExclusive;return v.Range.fromPositions(new w.Position(M,T.column))}if(!A.innerChanges)return v.Range.fromPositions(new w.Position(A.modified.startLineNumber,1));const P=(0,f.findLast)(A.innerChanges,M=>M.originalRange.getStartPosition().isBeforeOrEqual(T));if(!P){const M=T.lineNumber-A.original.startLineNumber+A.modified.startLineNumber;return v.Range.fromPositions(new w.Position(M,T.column))}if(P.originalRange.containsPosition(T))return P.modifiedRange;{const M=S(P.originalRange.getEndPosition(),T);return v.Range.fromPositions(M.addToPosition(P.modifiedRange.getEndPosition()))}}function S(T,N){return T.lineNumber===N.lineNumber?new _.TextLength(0,N.column-T.column):new _.TextLength(N.lineNumber-T.lineNumber,N.column-1)}function D(T,N,A){const P=T.bindTo(N);return(0,y.autorunOpts)({debugName:()=>`Set Context Key "${T.key}"`},M=>{P.set(A(M))})}function I(T,N){let A;return T.filter(P=>{const M=N(P,A);return A=P,M})}}),define(ie[636],ne([1,0,6,2,30,60,64]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorGutter=void 0;class p extends k.Disposable{constructor(_,a,s){super(),this._editor=_,this._domNode=a,this.itemProvider=s,this.scrollTop=(0,E.observableFromEvent)(this._editor.onDidScrollChange,n=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(n=>n===0),this.modelAttached=(0,E.observableFromEvent)(this._editor.onDidChangeModel,n=>this._editor.hasModel()),this.editorOnDidChangeViewZones=(0,E.observableSignalFromEvent)("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=(0,E.observableSignalFromEvent)("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=(0,E.observableSignal)("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const i=this._domNode.appendChild((0,f.h)("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),t=new ResizeObserver(()=>{(0,E.transaction)(n=>{this.domNodeSizeChanged.trigger(n)})});t.observe(this._domNode),this._register((0,k.toDisposable)(()=>t.disconnect())),this._register((0,E.autorun)(n=>{i.className=this.isScrollTopZero.read(n)?"":"scroll-decoration"})),this._register((0,E.autorun)(n=>this.render(n)))}dispose(){super.dispose(),(0,f.reset)(this._domNode)}render(_){if(!this.modelAttached.read(_))return;this.domNodeSizeChanged.read(_),this.editorOnDidChangeViewZones.read(_),this.editorOnDidContentSizeChange.read(_);const a=this.scrollTop.read(_),s=this._editor.getVisibleRanges(),i=new Set(this.views.keys()),t=y.OffsetRange.ofStartAndLength(0,this._domNode.clientHeight);if(!t.isEmpty)for(const n of s){const h=new L.LineRange(n.startLineNumber,n.endLineNumber+1),m=this.itemProvider.getIntersectingGutterItems(h,_);(0,E.transaction)(u=>{for(const d of m){if(!d.range.intersect(h))continue;i.delete(d.id);let r=this.views.get(d.id);if(r)r.item.set(d,u);else{const c=document.createElement("div");this._domNode.appendChild(c);const b=(0,E.observableValue)("item",d),C=this.itemProvider.createView(b,c);r=new w(b,C,c),this.views.set(d.id,r)}const l=d.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(d.range.startLineNumber,!0)-a:this._editor.getBottomForLineNumber(d.range.startLineNumber-1,!1)-a,g=(d.range.isEmpty?l:this._editor.getBottomForLineNumber(d.range.endLineNumberExclusive-1,!0)-a)-l;r.domNode.style.top=`${l}px`,r.domNode.style.height=`${g}px`,r.gutterItemView.layout(y.OffsetRange.ofStartAndLength(l,g),t)}})}for(const n of i){const h=this.views.get(n);h.gutterItemView.dispose(),this._domNode.removeChild(h.domNode),this.views.delete(n)}}}e.EditorGutter=p;class w{constructor(_,a,s){this.item=_,this.gutterItemView=a,this.domNode=s}}}),define(ie[110],ne([1,0,11,17,154]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=void 0,e.getPlatformTextDecoder=_,e.decodeUTF16LE=a;let L;function y(){return L||(L=new TextDecoder("UTF-16LE")),L}let p;function w(){return p||(p=new TextDecoder("UTF-16BE")),p}let v;function _(){return v||(v=k.isLittleEndian()?y():w()),v}function a(t,n,h){const m=new Uint16Array(t.buffer,n,h);return h>0&&(m[0]===65279||m[0]===65534)?s(t,n,h):y().decode(m)}function s(t,n,h){const m=[];let u=0;for(let d=0;d<h;d++){const r=E.readUInt16LE(t,n);n+=2,m[u++]=String.fromCharCode(r)}return m.join("")}class i{constructor(n){this._capacity=n|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const n=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return _().decode(n)}_flushBuffer(){const n=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[n]:this._completedStrings[this._completedStrings.length]=n}appendCharCode(n){const h=this._capacity-this._bufferLength;h<=1&&(h===0||f.isHighSurrogate(n))&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendASCIICharCode(n){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendString(n){const h=n.length;if(this._bufferLength+h>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=n;return}for(let m=0;m<h;m++)this._buffer[this._bufferLength++]=n.charCodeAt(m)}}e.StringBuilder=i}),define(ie[637],ne([1,0,99,11,21,71,110,312,125]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(0,f.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:h=>h});class _{static create(m){return new _(new WeakRef(m))}constructor(m){this.targetWindow=m}createLineBreaksComputer(m,u,d,r,l){const o=[],g=[];return{addRequest:(c,b,C)=>{o.push(c),g.push(b)},finalize:()=>a((0,E.assertIsDefined)(this.targetWindow.deref()),o,m,u,d,r,l,g)}}}e.DOMLineBreaksComputerFactory=_;function a(h,m,u,d,r,l,o,g){var c;function b(z){const U=g[z];if(U){const Z=w.LineInjectedText.applyInjectedText(m[z],U),re=U.map(Q=>Q.options),x=U.map(Q=>Q.column-1);return new p.ModelLineProjectionData(x,re,[Z.length],[],0)}else return null}if(r===-1){const z=[];for(let U=0,Z=m.length;U<Z;U++)z[U]=b(U);return z}const C=Math.round(r*u.typicalHalfwidthCharacterWidth),D=Math.round(d*(l===3?2:l===2?1:0)),I=Math.ceil(u.spaceWidth*D),T=document.createElement("div");(0,L.applyFontInfo)(T,u);const N=new y.StringBuilder(1e4),A=[],P=[],M=[],R=[],F=[];for(let z=0;z<m.length;z++){const U=w.LineInjectedText.applyInjectedText(m[z],g[z]);let Z=0,re=0,x=C;if(l!==0)if(Z=k.firstNonWhitespaceIndex(U),Z===-1)Z=0;else{for(let ae=0;ae<Z;ae++){const ce=U.charCodeAt(ae)===9?d-re%d:1;re+=ce}const Y=Math.ceil(u.spaceWidth*re);Y+u.typicalFullwidthCharacterWidth>C?(Z=0,re=0):x=C-Y}const Q=U.substr(Z),X=s(Q,re,d,x,N,I);A[z]=Z,P[z]=re,M[z]=Q,R[z]=X[0],F[z]=X[1]}const O=N.build(),B=(c=v?.createHTML(O))!==null&&c!==void 0?c:O;T.innerHTML=B,T.style.position="absolute",T.style.top="10000",o==="keepAll"?(T.style.wordBreak="keep-all",T.style.overflowWrap="anywhere"):(T.style.wordBreak="inherit",T.style.overflowWrap="break-word"),h.document.body.appendChild(T);const H=document.createRange(),V=Array.prototype.slice.call(T.children,0),q=[];for(let z=0;z<m.length;z++){const U=V[z],Z=i(H,U,M[z],R[z]);if(Z===null){q[z]=b(z);continue}const re=A[z],x=P[z]+D,Q=F[z],X=[];for(let he=0,pe=Z.length;he<pe;he++)X[he]=Q[Z[he]];if(re!==0)for(let he=0,pe=Z.length;he<pe;he++)Z[he]+=re;let Y,ae;const ce=g[z];ce?(Y=ce.map(he=>he.options),ae=ce.map(he=>he.column-1)):(Y=null,ae=null),q[z]=new p.ModelLineProjectionData(ae,Y,Z,X,x)}return h.document.body.removeChild(T),q}function s(h,m,u,d,r,l){if(l!==0){const D=String(l);r.appendString('<div style="text-indent: -'),r.appendString(D),r.appendString("px; padding-left: "),r.appendString(D),r.appendString("px; box-sizing: border-box; width:")}else r.appendString('<div style="width:');r.appendString(String(d)),r.appendString('px;">');const o=h.length;let g=m,c=0;const b=[],C=[];let S=0<o?h.charCodeAt(0):0;r.appendString("<span>");for(let D=0;D<o;D++){D!==0&&D%16384===0&&r.appendString("</span><span>"),b[D]=c,C[D]=g;const I=S;S=D+1<o?h.charCodeAt(D+1):0;let T=1,N=1;switch(I){case 9:T=u-g%u,N=T;for(let A=1;A<=T;A++)A<T?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 32:S===32?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 60:r.appendString("&lt;");break;case 62:r.appendString("&gt;");break;case 38:r.appendString("&amp;");break;case 0:r.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.appendCharCode(65533);break;default:k.isFullWidthCharacter(I)&&N++,I<32?r.appendCharCode(9216+I):r.appendCharCode(I)}c+=T,g+=N}return r.appendString("</span>"),b[h.length]=c,C[h.length]=g,r.appendString("</div>"),[b,C]}function i(h,m,u,d){if(u.length<=1)return null;const r=Array.prototype.slice.call(m.children,0),l=[];try{t(h,r,d,0,null,u.length-1,null,l)}catch(o){return console.log(o),null}return l.length===0?null:(l.push(u.length),l)}function t(h,m,u,d,r,l,o,g){if(d===l||(r=r||n(h,m,u[d],u[d+1]),o=o||n(h,m,u[l],u[l+1]),Math.abs(r[0].top-o[0].top)<=.1))return;if(d+1===l){g.push(l);return}const c=d+(l-d)/2|0,b=n(h,m,u[c],u[c+1]);t(h,m,u,d,r,c,b,g),t(h,m,u,c,b,l,o,g)}function n(h,m,u,d){return h.setStart(m[u/16384|0].firstChild,u%16384),h.setEnd(m[d/16384|0].firstChild,d%16384),h.getClientRects()}}),define(ie[250],ne([1,0,40,99,12,110]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class y{constructor(_){this._createLine=_,this._set(1,[])}flush(){this._set(1,[])}_set(_,a){this._lines=a,this._rendLineNumberStart=_}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(_){const a=_-this._rendLineNumberStart;if(a<0||a>=this._lines.length)throw new E.BugIndicatingError("Illegal value for lineNumber");return this._lines[a]}onLinesDeleted(_,a){if(this.getCount()===0)return null;const s=this.getStartLineNumber(),i=this.getEndLineNumber();if(a<s){const m=a-_+1;return this._rendLineNumberStart-=m,null}if(_>i)return null;let t=0,n=0;for(let m=s;m<=i;m++){const u=m-this._rendLineNumberStart;_<=m&&m<=a&&(n===0?(t=u,n=1):n++)}if(_<s){let m=0;a<s?m=a-_+1:m=s-_,this._rendLineNumberStart-=m}return this._lines.splice(t,n)}onLinesChanged(_,a){const s=_+a-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let n=!1;for(let h=_;h<=s;h++)h>=i&&h<=t&&(this._lines[h-this._rendLineNumberStart].onContentChanged(),n=!0);return n}onLinesInserted(_,a){if(this.getCount()===0)return null;const s=a-_+1,i=this.getStartLineNumber(),t=this.getEndLineNumber();if(_<=i)return this._rendLineNumberStart+=s,null;if(_>t)return null;if(s+_>t)return this._lines.splice(_-this._rendLineNumberStart,t-_+1);const n=[];for(let r=0;r<s;r++)n[r]=this._createLine();const h=_-this._rendLineNumberStart,m=this._lines.slice(0,h),u=this._lines.slice(h,this._lines.length-s),d=this._lines.slice(this._lines.length-s,this._lines.length);return this._lines=m.concat(n).concat(u),d}onTokensChanged(_){if(this.getCount()===0)return!1;const a=this.getStartLineNumber(),s=this.getEndLineNumber();let i=!1;for(let t=0,n=_.length;t<n;t++){const h=_[t];if(h.toLineNumber<a||h.fromLineNumber>s)continue;const m=Math.max(a,h.fromLineNumber),u=Math.min(s,h.toLineNumber);for(let d=m;d<=u;d++){const r=d-this._rendLineNumberStart;this._lines[r].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=y;class p{constructor(_){this._host=_,this.domNode=this._createDomNode(),this._linesCollection=new y(()=>this._host.createVisibleLine())}_createDomNode(){const _=(0,f.createFastDomNode)(document.createElement("div"));return _.setClassName("view-layer"),_.setPosition("absolute"),_.domNode.setAttribute("role","presentation"),_.domNode.setAttribute("aria-hidden","true"),_}onConfigurationChanged(_){return!!_.hasChanged(145)}onFlushed(_){return this._linesCollection.flush(),!0}onLinesChanged(_){return this._linesCollection.onLinesChanged(_.fromLineNumber,_.count)}onLinesDeleted(_){const a=this._linesCollection.onLinesDeleted(_.fromLineNumber,_.toLineNumber);if(a)for(let s=0,i=a.length;s<i;s++){const t=a[s].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(_){const a=this._linesCollection.onLinesInserted(_.fromLineNumber,_.toLineNumber);if(a)for(let s=0,i=a.length;s<i;s++){const t=a[s].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(_){return _.scrollTopChanged}onTokensChanged(_){return this._linesCollection.onTokensChanged(_.ranges)}onZonesChanged(_){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(_){return this._linesCollection.getLine(_)}renderLines(_){const a=this._linesCollection._get(),s=new w(this.domNode.domNode,this._host,_),i={rendLineNumberStart:a.rendLineNumberStart,lines:a.lines,linesLength:a.lines.length},t=s.render(i,_.startLineNumber,_.endLineNumber,_.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=p;class w{constructor(_,a,s){this.domNode=_,this.host=a,this.viewportData=s}render(_,a,s,i){const t={rendLineNumberStart:_.rendLineNumberStart,lines:_.lines.slice(0),linesLength:_.linesLength};if(t.rendLineNumberStart+t.linesLength-1<a||s<t.rendLineNumberStart){t.rendLineNumberStart=a,t.linesLength=s-a+1,t.lines=[];for(let n=a;n<=s;n++)t.lines[n-a]=this.host.createVisibleLine();return this._finishRendering(t,!0,i),t}if(this._renderUntouchedLines(t,Math.max(a-t.rendLineNumberStart,0),Math.min(s-t.rendLineNumberStart,t.linesLength-1),i,a),t.rendLineNumberStart>a){const n=a,h=Math.min(s,t.rendLineNumberStart-1);n<=h&&(this._insertLinesBefore(t,n,h,i,a),t.linesLength+=h-n+1)}else if(t.rendLineNumberStart<a){const n=Math.min(t.linesLength,a-t.rendLineNumberStart);n>0&&(this._removeLinesBefore(t,n),t.linesLength-=n)}if(t.rendLineNumberStart=a,t.rendLineNumberStart+t.linesLength-1<s){const n=t.rendLineNumberStart+t.linesLength,h=s;n<=h&&(this._insertLinesAfter(t,n,h,i,a),t.linesLength+=h-n+1)}else if(t.rendLineNumberStart+t.linesLength-1>s){const n=Math.max(0,s-t.rendLineNumberStart+1),m=t.linesLength-1-n+1;m>0&&(this._removeLinesAfter(t,m),t.linesLength-=m)}return this._finishRendering(t,!1,i),t}_renderUntouchedLines(_,a,s,i,t){const n=_.rendLineNumberStart,h=_.lines;for(let m=a;m<=s;m++){const u=n+m;h[m].layoutLine(u,i[u-t],this.viewportData.lineHeight)}}_insertLinesBefore(_,a,s,i,t){const n=[];let h=0;for(let m=a;m<=s;m++)n[h++]=this.host.createVisibleLine();_.lines=n.concat(_.lines)}_removeLinesBefore(_,a){for(let s=0;s<a;s++){const i=_.lines[s].getDomNode();i&&this.domNode.removeChild(i)}_.lines.splice(0,a)}_insertLinesAfter(_,a,s,i,t){const n=[];let h=0;for(let m=a;m<=s;m++)n[h++]=this.host.createVisibleLine();_.lines=_.lines.concat(n)}_removeLinesAfter(_,a){const s=_.linesLength-a;for(let i=0;i<a;i++){const t=_.lines[s+i].getDomNode();t&&this.domNode.removeChild(t)}_.lines.splice(s,a)}_finishRenderingNewLines(_,a,s,i){w._ttPolicy&&(s=w._ttPolicy.createHTML(s));const t=this.domNode.lastChild;a||!t?this.domNode.innerHTML=s:t.insertAdjacentHTML("afterend",s);let n=this.domNode.lastChild;for(let h=_.linesLength-1;h>=0;h--){const m=_.lines[h];i[h]&&(m.setDomNode(n),n=n.previousSibling)}}_finishRenderingInvalidLines(_,a,s){const i=document.createElement("div");w._ttPolicy&&(a=w._ttPolicy.createHTML(a)),i.innerHTML=a;for(let t=0;t<_.linesLength;t++){const n=_.lines[t];if(s[t]){const h=i.firstChild,m=n.getDomNode();m.parentNode.replaceChild(h,m),n.setDomNode(h)}}}_finishRendering(_,a,s){const i=w._sb,t=_.linesLength,n=_.lines,h=_.rendLineNumberStart,m=[];{i.reset();let u=!1;for(let d=0;d<t;d++){const r=n[d];m[d]=!1,!(r.getDomNode()||!r.renderLine(d+h,s[d],this.viewportData.lineHeight,this.viewportData,i))&&(m[d]=!0,u=!0)}u&&this._finishRenderingNewLines(_,a,i.build(),m)}{i.reset();let u=!1;const d=[];for(let r=0;r<t;r++){const l=n[r];d[r]=!1,!(m[r]||!l.renderLine(r+h,s[r],this.viewportData.lineHeight,this.viewportData,i))&&(d[r]=!0,u=!0)}u&&this._finishRenderingInvalidLines(_,i.build(),d)}}}w._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:v=>v}),w._sb=new L.StringBuilder(1e5)}),define(ie[638],ne([1,0,40,71,250,56]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class y extends L.ViewPart{constructor(a){super(a),this._visibleLines=new E.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);(0,k.applyFontInfo)(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let a=0,s=this._dynamicOverlays.length;a<s;a++)if(this._dynamicOverlays[a].shouldRender())return!0;return!1}dispose(){super.dispose();for(let a=0,s=this._dynamicOverlays.length;a<s;a++)this._dynamicOverlays[a].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._dynamicOverlays)}addDynamicOverlay(a){this._dynamicOverlays.push(a)}onConfigurationChanged(a){this._visibleLines.onConfigurationChanged(a);const i=this._context.configuration.options.get(50);return(0,k.applyFontInfo)(this.domNode,i),!0}onFlushed(a){return this._visibleLines.onFlushed(a)}onFocusChanged(a){return this._isFocused=a.isFocused,!0}onLinesChanged(a){return this._visibleLines.onLinesChanged(a)}onLinesDeleted(a){return this._visibleLines.onLinesDeleted(a)}onLinesInserted(a){return this._visibleLines.onLinesInserted(a)}onScrollChanged(a){return this._visibleLines.onScrollChanged(a)||!0}onTokensChanged(a){return this._visibleLines.onTokensChanged(a)}onZonesChanged(a){return this._visibleLines.onZonesChanged(a)}prepareRender(a){const s=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,t=s.length;i<t;i++){const n=s[i];n.prepareRender(a),n.onDidRender()}}render(a){this._viewOverlaysRender(a),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(a){this._visibleLines.renderLines(a.viewportData)}}e.ViewOverlays=y;class p{constructor(a){this._dynamicOverlays=a,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(a){this._domNode=(0,f.createFastDomNode)(a)}onContentChanged(){}onTokensChanged(){}renderLine(a,s,i,t,n){let h="";for(let m=0,u=this._dynamicOverlays.length;m<u;m++){const d=this._dynamicOverlays[m];h+=d.render(t.startLineNumber,a)}return this._renderedContent===h?!1:(this._renderedContent=h,n.appendString('<div style="top:'),n.appendString(String(s)),n.appendString("px;height:"),n.appendString(String(i)),n.appendString('px;">'),n.appendString(h),n.appendString("</div>"),!0)}layoutLine(a,s,i){this._domNode&&(this._domNode.setTop(s),this._domNode.setHeight(i))}}e.ViewOverlayLine=p;class w extends y{constructor(a){super(a);const i=this._context.configuration.options.get(145);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(a){const i=this._context.configuration.options.get(145);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(a)||!0}onScrollChanged(a){return super.onScrollChanged(a)||a.scrollWidthChanged}_viewOverlaysRender(a){super._viewOverlaysRender(a),this.domNode.setWidth(Math.max(a.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=w;class v extends y{constructor(a){super(a);const s=this._context.configuration.options,i=s.get(145);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,s.get(50))}onConfigurationChanged(a){const s=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,s.get(50));const i=s.get(145);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(a)||!0}onScrollChanged(a){return super.onScrollChanged(a)||a.scrollHeightChanged}_viewOverlaysRender(a){super._viewOverlaysRender(a);const s=Math.min(a.scrollHeight,1e6);this.domNode.setHeight(s),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=v}),define(ie[346],ne([1,0,154,110]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextChange=void 0,e.compressConsecutiveTextChanges=y;function E(w){return w.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class L{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(v,_,a,s){this.oldPosition=v,this.oldText=_,this.newPosition=a,this.newText=s}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${E(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${E(this.oldText)}")`:`(replace@${this.oldPosition} "${E(this.oldText)}" with "${E(this.newText)}")`}static _writeStringSize(v){return 4+2*v.length}static _writeString(v,_,a){const s=_.length;f.writeUInt32BE(v,s,a),a+=4;for(let i=0;i<s;i++)f.writeUInt16LE(v,_.charCodeAt(i),a),a+=2;return a}static _readString(v,_){const a=f.readUInt32BE(v,_);return _+=4,(0,k.decodeUTF16LE)(v,_,a)}writeSize(){return 8+L._writeStringSize(this.oldText)+L._writeStringSize(this.newText)}write(v,_){return f.writeUInt32BE(v,this.oldPosition,_),_+=4,f.writeUInt32BE(v,this.newPosition,_),_+=4,_=L._writeString(v,this.oldText,_),_=L._writeString(v,this.newText,_),_}static read(v,_,a){const s=f.readUInt32BE(v,_);_+=4;const i=f.readUInt32BE(v,_);_+=4;const t=L._readString(v,_);_+=L._writeStringSize(t);const n=L._readString(v,_);return _+=L._writeStringSize(n),a.push(new L(s,t,i,n)),_}}e.TextChange=L;function y(w,v){return w===null||w.length===0?v:new p(w,v).compress()}class p{constructor(v,_){this._prevEdits=v,this._currEdits=_,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let v=0,_=0,a=this._getPrev(v),s=this._getCurr(_);for(;v<this._prevLen||_<this._currLen;){if(a===null){this._acceptCurr(s),s=this._getCurr(++_);continue}if(s===null){this._acceptPrev(a),a=this._getPrev(++v);continue}if(s.oldEnd<=a.newPosition){this._acceptCurr(s),s=this._getCurr(++_);continue}if(a.newEnd<=s.oldPosition){this._acceptPrev(a),a=this._getPrev(++v);continue}if(s.oldPosition<a.newPosition){const[m,u]=p._splitCurr(s,a.newPosition-s.oldPosition);this._acceptCurr(m),s=u;continue}if(a.newPosition<s.oldPosition){const[m,u]=p._splitPrev(a,s.oldPosition-a.newPosition);this._acceptPrev(m),a=u;continue}let n,h;if(s.oldEnd===a.newEnd)n=a,h=s,a=this._getPrev(++v),s=this._getCurr(++_);else if(s.oldEnd<a.newEnd){const[m,u]=p._splitPrev(a,s.oldLength);n=m,h=s,a=u,s=this._getCurr(++_)}else{const[m,u]=p._splitCurr(s,a.newLength);n=a,h=m,a=this._getPrev(++v),s=u}this._result[this._resultLen++]=new L(n.oldPosition,n.oldText,h.newPosition,h.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=h.newLength-h.oldLength}const i=p._merge(this._result);return p._removeNoOps(i)}_acceptCurr(v){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,v),this._currDeltaOffset+=v.newLength-v.oldLength}_getCurr(v){return v<this._currLen?this._currEdits[v]:null}_acceptPrev(v){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,v),this._prevDeltaOffset+=v.newLength-v.oldLength}_getPrev(v){return v<this._prevLen?this._prevEdits[v]:null}static _rebaseCurr(v,_){return new L(_.oldPosition-v,_.oldText,_.newPosition,_.newText)}static _rebasePrev(v,_){return new L(_.oldPosition,_.oldText,_.newPosition+v,_.newText)}static _splitPrev(v,_){const a=v.newText.substr(0,_),s=v.newText.substr(_);return[new L(v.oldPosition,v.oldText,v.newPosition,a),new L(v.oldEnd,"",v.newPosition+_,s)]}static _splitCurr(v,_){const a=v.oldText.substr(0,_),s=v.oldText.substr(_);return[new L(v.oldPosition,a,v.newPosition,v.newText),new L(v.oldPosition+_,s,v.newEnd,"")]}static _merge(v){if(v.length===0)return v;const _=[];let a=0,s=v[0];for(let i=1;i<v.length;i++){const t=v[i];s.oldEnd===t.oldPosition?s=new L(s.oldPosition,s.oldText+t.oldText,s.newPosition,s.newText+t.newText):(_[a++]=s,s=t)}return _[a++]=s,_}static _removeNoOps(v){if(v.length===0)return v;const _=[];let a=0;for(let s=0;s<v.length;s++){const i=v[s];i.oldText!==i.newText&&(_[a++]=i)}return _}}}),define(ie[347],ne([1,0,333,97]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=E;function E(L,y,p,w,v,_){if(Array.isArray(L)){let a=0;for(const s of L){const i=E(s,y,p,w,v,_);if(i===10)return i;i>a&&(a=i)}return a}else{if(typeof L=="string")return w?L==="*"?5:L===p?10:0:0;if(L){const{language:a,pattern:s,scheme:i,hasAccessToAllModels:t,notebookType:n}=L;if(!w&&!t)return 0;n&&v&&(y=v);let h=0;if(i)if(i===y.scheme)h=10;else if(i==="*")h=5;else return 0;if(a)if(a===p)h=10;else if(a==="*")h=Math.max(h,5);else return 0;if(n)if(n===_)h=10;else if(n==="*"&&_!==void 0)h=Math.max(h,5);else return 0;if(s){let m;if(typeof s=="string"?m=s:m={...s,base:(0,k.normalize)(s.base)},m===y.fsPath||(0,f.match)(m,y.fsPath))h=10;else return 0}return h}else return 0}}}),define(ie[639],ne([1,0,7,2,43,347]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function y(_){return typeof _=="string"?!1:Array.isArray(_)?_.every(y):!!_.exclusive}class p{constructor(a,s,i,t){this.uri=a,this.languageId=s,this.notebookUri=i,this.notebookType=t}equals(a){var s,i;return this.notebookType===a.notebookType&&this.languageId===a.languageId&&this.uri.toString()===a.uri.toString()&&((s=this.notebookUri)===null||s===void 0?void 0:s.toString())===((i=a.notebookUri)===null||i===void 0?void 0:i.toString())}}class w{constructor(a){this._notebookInfoResolver=a,this._clock=0,this._entries=[],this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event}register(a,s){let i={selector:a,provider:s,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(i){const t=this._entries.indexOf(i);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(a){return this.all(a).length>0}all(a){if(!a)return[];this._updateScores(a);const s=[];for(const i of this._entries)i._score>0&&s.push(i.provider);return s}ordered(a){const s=[];return this._orderedForEach(a,i=>s.push(i.provider)),s}orderedGroups(a){const s=[];let i,t;return this._orderedForEach(a,n=>{i&&t===n._score?i.push(n.provider):(t=n._score,i=[n.provider],s.push(i))}),s}_orderedForEach(a,s){this._updateScores(a);for(const i of this._entries)i._score>0&&s(i)}_updateScores(a){var s,i;const t=(s=this._notebookInfoResolver)===null||s===void 0?void 0:s.call(this,a.uri),n=t?new p(a.uri,a.getLanguageId(),t.uri,t.type):new p(a.uri,a.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(n))){this._lastCandidate=n;for(const h of this._entries)if(h._score=(0,L.score)(h.selector,n.uri,n.languageId,(0,E.shouldSynchronizeModel)(a),n.notebookUri,n.notebookType),y(h.selector)&&h._score>0){for(const m of this._entries)m._score=0;h._score=1e3;break}this._entries.sort(w._compareByScoreAndTime)}}static _compareByScoreAndTime(a,s){return a._score<s._score?1:a._score>s._score?-1:v(a.selector)&&!v(s.selector)?1:!v(a.selector)&&v(s.selector)?-1:a._time<s._time?1:a._time>s._time?-1:0}}e.LanguageFeatureRegistry=w;function v(_){return typeof _=="string"?!1:Array.isArray(_)?_.some(v):!!_.isBuiltin}}),define(ie[251],ne([1,0,11,110,5]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class L{constructor(r,l,o,g,c,b){this._richEditBracketBrand=void 0,this.languageId=r,this.index=l,this.open=o,this.close=g,this.forwardRegex=c,this.reversedRegex=b,this._openSet=L._toSet(this.open),this._closeSet=L._toSet(this.close)}isOpen(r){return this._openSet.has(r)}isClose(r){return this._closeSet.has(r)}static _toSet(r){const l=new Set;for(const o of r)l.add(o);return l}}e.RichEditBracket=L;function y(d){const r=d.length;d=d.map(b=>[b[0].toLowerCase(),b[1].toLowerCase()]);const l=[];for(let b=0;b<r;b++)l[b]=b;const o=(b,C)=>{const[S,D]=b,[I,T]=C;return S===I||S===T||D===I||D===T},g=(b,C)=>{const S=Math.min(b,C),D=Math.max(b,C);for(let I=0;I<r;I++)l[I]===D&&(l[I]=S)};for(let b=0;b<r;b++){const C=d[b];for(let S=b+1;S<r;S++){const D=d[S];o(C,D)&&g(l[b],l[S])}}const c=[];for(let b=0;b<r;b++){const C=[],S=[];for(let D=0;D<r;D++)if(l[D]===b){const[I,T]=d[D];C.push(I),S.push(T)}C.length>0&&c.push({open:C,close:S})}return c}class p{constructor(r,l){this._richEditBracketsBrand=void 0;const o=y(l);this.brackets=o.map((g,c)=>new L(r,c,g.open,g.close,a(g.open,g.close,o,c),s(g.open,g.close,o,c))),this.forwardRegex=i(this.brackets),this.reversedRegex=t(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const g of this.brackets){for(const c of g.open)this.textIsBracket[c]=g,this.textIsOpenBracket[c]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,c.length);for(const c of g.close)this.textIsBracket[c]=g,this.textIsOpenBracket[c]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,c.length)}}}e.RichEditBrackets=p;function w(d,r,l,o){for(let g=0,c=r.length;g<c;g++){if(g===l)continue;const b=r[g];for(const C of b.open)C.indexOf(d)>=0&&o.push(C);for(const C of b.close)C.indexOf(d)>=0&&o.push(C)}}function v(d,r){return d.length-r.length}function _(d){if(d.length<=1)return d;const r=[],l=new Set;for(const o of d)l.has(o)||(r.push(o),l.add(o));return r}function a(d,r,l,o){let g=[];g=g.concat(d),g=g.concat(r);for(let c=0,b=g.length;c<b;c++)w(g[c],l,o,g);return g=_(g),g.sort(v),g.reverse(),h(g)}function s(d,r,l,o){let g=[];g=g.concat(d),g=g.concat(r);for(let c=0,b=g.length;c<b;c++)w(g[c],l,o,g);return g=_(g),g.sort(v),g.reverse(),h(g.map(m))}function i(d){let r=[];for(const l of d){for(const o of l.open)r.push(o);for(const o of l.close)r.push(o)}return r=_(r),h(r)}function t(d){let r=[];for(const l of d){for(const o of l.open)r.push(o);for(const o of l.close)r.push(o)}return r=_(r),h(r.map(m))}function n(d){const r=/^[\w ]+$/.test(d);return d=f.escapeRegExpCharacters(d),r?`\\b${d}\\b`:d}function h(d){const r=`(${d.map(n).join(")|(")})`;return f.createRegExp(r,!0)}const m=function(){function d(o){const g=new Uint16Array(o.length);let c=0;for(let b=o.length-1;b>=0;b--)g[c++]=o.charCodeAt(b);return k.getPlatformTextDecoder().decode(g)}let r=null,l=null;return function(g){return r!==g&&(r=g,l=d(r)),l}}();class u{static _findPrevBracketInText(r,l,o,g){const c=o.match(r);if(!c)return null;const b=o.length-(c.index||0),C=c[0].length,S=g+b;return new E.Range(l,S-C+1,l,S+1)}static findPrevBracketInRange(r,l,o,g,c){const C=m(o).substring(o.length-c,o.length-g);return this._findPrevBracketInText(r,l,C,g)}static findNextBracketInText(r,l,o,g){const c=o.match(r);if(!c)return null;const b=c.index||0,C=c[0].length;if(C===0)return null;const S=g+b;return new E.Range(l,S+1,l,S+1+C)}static findNextBracketInRange(r,l,o,g,c){const b=o.substring(g,c);return this.findNextBracketInText(r,l,b,g)}}e.BracketsUtils=u}),define(ie[640],ne([1,0,13,143,251]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class L{constructor(p){this._richEditBrackets=p}getElectricCharacters(){const p=[];if(this._richEditBrackets)for(const w of this._richEditBrackets.brackets)for(const v of w.close){const _=v.charAt(v.length-1);p.push(_)}return(0,f.distinct)(p)}onElectricCharacter(p,w,v){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const _=w.findTokenIndexAtOffset(v-1);if((0,k.ignoreBracketsInToken)(w.getStandardTokenType(_)))return null;const a=this._richEditBrackets.reversedRegex,s=w.getLineContent().substring(0,v-1)+p,i=E.BracketsUtils.findPrevBracketInRange(a,1,s,0,s.length);if(!i)return null;const t=s.substring(i.startColumn-1,i.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[t])return null;const h=w.getActualLineContentBefore(i.startColumn-1);return/^\s*$/.test(h)?{matchOpenBracket:t}:null}}e.BracketElectricCharacterSupport=L}),define(ie[641],ne([1,0,13,7,2,5,143,251,555]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class v extends E.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(n,h){super(),this.textModel=n,this.languageConfigurationService=h,this.bracketPairsTree=this._register(new E.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(m=>{var u;(!m.languageId||!((u=this.bracketPairsTree.value)===null||u===void 0)&&u.object.didLanguageChange(m.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(n){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(n){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(n){var h;(h=this.bracketPairsTree.value)===null||h===void 0||h.object.handleContentChanged(n)}handleDidChangeBackgroundTokenizationState(){var n;(n=this.bracketPairsTree.value)===null||n===void 0||n.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(n){var h;(h=this.bracketPairsTree.value)===null||h===void 0||h.object.handleDidChangeTokens(n)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const n=new E.DisposableStore;this.bracketPairsTree.value=_(n.add(new w.BracketPairsTree(this.textModel,h=>this.languageConfigurationService.getLanguageConfiguration(h))),n),n.add(this.bracketPairsTree.value.object.onDidChange(h=>this.onDidChangeEmitter.fire(h))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(n){var h;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getBracketPairsInRange(n,!1))||f.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(n){var h;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getBracketPairsInRange(n,!0))||f.CallbackIterable.empty}getBracketsInRange(n,h=!1){var m;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((m=this.bracketPairsTree.value)===null||m===void 0?void 0:m.object.getBracketsInRange(n,h))||f.CallbackIterable.empty}findMatchingBracketUp(n,h,m){const u=this.textModel.validatePosition(h),d=this.textModel.getLanguageIdAtPosition(u.lineNumber,u.column);if(this.canBuildAST){const r=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew.getClosingBracketInfo(n);if(!r)return null;const l=this.getBracketPairsInRange(L.Range.fromPositions(h,h)).findLast(o=>r.closes(o.openingBracketInfo));return l?l.openingBracketRange:null}else{const r=n.toLowerCase(),l=this.languageConfigurationService.getLanguageConfiguration(d).brackets;if(!l)return null;const o=l.textIsBracket[r];return o?i(this._findMatchingBracketUp(o,u,a(m))):null}}matchBracket(n,h){if(this.canBuildAST){const m=this.getBracketPairsInRange(L.Range.fromPositions(n,n)).filter(u=>u.closingBracketRange!==void 0&&(u.openingBracketRange.containsPosition(n)||u.closingBracketRange.containsPosition(n))).findLastMaxBy((0,f.compareBy)(u=>u.openingBracketRange.containsPosition(n)?u.openingBracketRange:u.closingBracketRange,L.Range.compareRangesUsingStarts));return m?[m.openingBracketRange,m.closingBracketRange]:null}else{const m=a(h);return this._matchBracket(this.textModel.validatePosition(n),m)}}_establishBracketSearchOffsets(n,h,m,u){const d=h.getCount(),r=h.getLanguageId(u);let l=Math.max(0,n.column-1-m.maxBracketLength);for(let g=u-1;g>=0;g--){const c=h.getEndOffset(g);if(c<=l)break;if((0,y.ignoreBracketsInToken)(h.getStandardTokenType(g))||h.getLanguageId(g)!==r){l=c;break}}let o=Math.min(h.getLineContent().length,n.column-1+m.maxBracketLength);for(let g=u+1;g<d;g++){const c=h.getStartOffset(g);if(c>=o)break;if((0,y.ignoreBracketsInToken)(h.getStandardTokenType(g))||h.getLanguageId(g)!==r){o=c;break}}return{searchStartOffset:l,searchEndOffset:o}}_matchBracket(n,h){const m=n.lineNumber,u=this.textModel.tokenization.getLineTokens(m),d=this.textModel.getLineContent(m),r=u.findTokenIndexAtOffset(n.column-1);if(r<0)return null;const l=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId(r)).brackets;if(l&&!(0,y.ignoreBracketsInToken)(u.getStandardTokenType(r))){let{searchStartOffset:o,searchEndOffset:g}=this._establishBracketSearchOffsets(n,u,l,r),c=null;for(;;){const b=p.BracketsUtils.findNextBracketInRange(l.forwardRegex,m,d,o,g);if(!b)break;if(b.startColumn<=n.column&&n.column<=b.endColumn){const C=d.substring(b.startColumn-1,b.endColumn-1).toLowerCase(),S=this._matchFoundBracket(b,l.textIsBracket[C],l.textIsOpenBracket[C],h);if(S){if(S instanceof s)return null;c=S}}o=b.endColumn-1}if(c)return c}if(r>0&&u.getStartOffset(r)===n.column-1){const o=r-1,g=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId(o)).brackets;if(g&&!(0,y.ignoreBracketsInToken)(u.getStandardTokenType(o))){const{searchStartOffset:c,searchEndOffset:b}=this._establishBracketSearchOffsets(n,u,g,o),C=p.BracketsUtils.findPrevBracketInRange(g.reversedRegex,m,d,c,b);if(C&&C.startColumn<=n.column&&n.column<=C.endColumn){const S=d.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),D=this._matchFoundBracket(C,g.textIsBracket[S],g.textIsOpenBracket[S],h);if(D)return D instanceof s?null:D}}}return null}_matchFoundBracket(n,h,m,u){if(!h)return null;const d=m?this._findMatchingBracketDown(h,n.getEndPosition(),u):this._findMatchingBracketUp(h,n.getStartPosition(),u);return d?d instanceof s?d:[n,d]:null}_findMatchingBracketUp(n,h,m){const u=n.languageId,d=n.reversedRegex;let r=-1,l=0;const o=(g,c,b,C)=>{for(;;){if(m&&++l%100===0&&!m())return s.INSTANCE;const S=p.BracketsUtils.findPrevBracketInRange(d,g,c,b,C);if(!S)break;const D=c.substring(S.startColumn-1,S.endColumn-1).toLowerCase();if(n.isOpen(D)?r++:n.isClose(D)&&r--,r===0)return S;C=S.startColumn-1}return null};for(let g=h.lineNumber;g>=1;g--){const c=this.textModel.tokenization.getLineTokens(g),b=c.getCount(),C=this.textModel.getLineContent(g);let S=b-1,D=C.length,I=C.length;g===h.lineNumber&&(S=c.findTokenIndexAtOffset(h.column-1),D=h.column-1,I=h.column-1);let T=!0;for(;S>=0;S--){const N=c.getLanguageId(S)===u&&!(0,y.ignoreBracketsInToken)(c.getStandardTokenType(S));if(N)T?D=c.getStartOffset(S):(D=c.getStartOffset(S),I=c.getEndOffset(S));else if(T&&D!==I){const A=o(g,C,D,I);if(A)return A}T=N}if(T&&D!==I){const N=o(g,C,D,I);if(N)return N}}return null}_findMatchingBracketDown(n,h,m){const u=n.languageId,d=n.forwardRegex;let r=1,l=0;const o=(c,b,C,S)=>{for(;;){if(m&&++l%100===0&&!m())return s.INSTANCE;const D=p.BracketsUtils.findNextBracketInRange(d,c,b,C,S);if(!D)break;const I=b.substring(D.startColumn-1,D.endColumn-1).toLowerCase();if(n.isOpen(I)?r++:n.isClose(I)&&r--,r===0)return D;C=D.endColumn-1}return null},g=this.textModel.getLineCount();for(let c=h.lineNumber;c<=g;c++){const b=this.textModel.tokenization.getLineTokens(c),C=b.getCount(),S=this.textModel.getLineContent(c);let D=0,I=0,T=0;c===h.lineNumber&&(D=b.findTokenIndexAtOffset(h.column-1),I=h.column-1,T=h.column-1);let N=!0;for(;D<C;D++){const A=b.getLanguageId(D)===u&&!(0,y.ignoreBracketsInToken)(b.getStandardTokenType(D));if(A)N||(I=b.getStartOffset(D)),T=b.getEndOffset(D);else if(N&&I!==T){const P=o(c,S,I,T);if(P)return P}N=A}if(N&&I!==T){const A=o(c,S,I,T);if(A)return A}}return null}findPrevBracket(n){var h;const m=this.textModel.validatePosition(n);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getFirstBracketBefore(m))||null;let u=null,d=null,r=null;for(let l=m.lineNumber;l>=1;l--){const o=this.textModel.tokenization.getLineTokens(l),g=o.getCount(),c=this.textModel.getLineContent(l);let b=g-1,C=c.length,S=c.length;if(l===m.lineNumber){b=o.findTokenIndexAtOffset(m.column-1),C=m.column-1,S=m.column-1;const I=o.getLanguageId(b);u!==I&&(u=I,d=this.languageConfigurationService.getLanguageConfiguration(u).brackets,r=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew)}let D=!0;for(;b>=0;b--){const I=o.getLanguageId(b);if(u!==I){if(d&&r&&D&&C!==S){const N=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,c,C,S);if(N)return this._toFoundBracket(r,N);D=!1}u=I,d=this.languageConfigurationService.getLanguageConfiguration(u).brackets,r=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew}const T=!!d&&!(0,y.ignoreBracketsInToken)(o.getStandardTokenType(b));if(T)D?C=o.getStartOffset(b):(C=o.getStartOffset(b),S=o.getEndOffset(b));else if(r&&d&&D&&C!==S){const N=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,c,C,S);if(N)return this._toFoundBracket(r,N)}D=T}if(r&&d&&D&&C!==S){const I=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,c,C,S);if(I)return this._toFoundBracket(r,I)}}return null}findNextBracket(n){var h;const m=this.textModel.validatePosition(n);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getFirstBracketAfter(m))||null;const u=this.textModel.getLineCount();let d=null,r=null,l=null;for(let o=m.lineNumber;o<=u;o++){const g=this.textModel.tokenization.getLineTokens(o),c=g.getCount(),b=this.textModel.getLineContent(o);let C=0,S=0,D=0;if(o===m.lineNumber){C=g.findTokenIndexAtOffset(m.column-1),S=m.column-1,D=m.column-1;const T=g.getLanguageId(C);d!==T&&(d=T,r=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew)}let I=!0;for(;C<c;C++){const T=g.getLanguageId(C);if(d!==T){if(l&&r&&I&&S!==D){const A=p.BracketsUtils.findNextBracketInRange(r.forwardRegex,o,b,S,D);if(A)return this._toFoundBracket(l,A);I=!1}d=T,r=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew}const N=!!r&&!(0,y.ignoreBracketsInToken)(g.getStandardTokenType(C));if(N)I||(S=g.getStartOffset(C)),D=g.getEndOffset(C);else if(l&&r&&I&&S!==D){const A=p.BracketsUtils.findNextBracketInRange(r.forwardRegex,o,b,S,D);if(A)return this._toFoundBracket(l,A)}I=N}if(l&&r&&I&&S!==D){const T=p.BracketsUtils.findNextBracketInRange(r.forwardRegex,o,b,S,D);if(T)return this._toFoundBracket(l,T)}}return null}findEnclosingBrackets(n,h){const m=this.textModel.validatePosition(n);if(this.canBuildAST){const S=L.Range.fromPositions(m),D=this.getBracketPairsInRange(L.Range.fromPositions(m,m)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(S));return D?[D.openingBracketRange,D.closingBracketRange]:null}const u=a(h),d=this.textModel.getLineCount(),r=new Map;let l=[];const o=(S,D)=>{if(!r.has(S)){const I=[];for(let T=0,N=D?D.brackets.length:0;T<N;T++)I[T]=0;r.set(S,I)}l=r.get(S)};let g=0;const c=(S,D,I,T,N)=>{for(;;){if(u&&++g%100===0&&!u())return s.INSTANCE;const A=p.BracketsUtils.findNextBracketInRange(S.forwardRegex,D,I,T,N);if(!A)break;const P=I.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),M=S.textIsBracket[P];if(M&&(M.isOpen(P)?l[M.index]++:M.isClose(P)&&l[M.index]--,l[M.index]===-1))return this._matchFoundBracket(A,M,!1,u);T=A.endColumn-1}return null};let b=null,C=null;for(let S=m.lineNumber;S<=d;S++){const D=this.textModel.tokenization.getLineTokens(S),I=D.getCount(),T=this.textModel.getLineContent(S);let N=0,A=0,P=0;if(S===m.lineNumber){N=D.findTokenIndexAtOffset(m.column-1),A=m.column-1,P=m.column-1;const R=D.getLanguageId(N);b!==R&&(b=R,C=this.languageConfigurationService.getLanguageConfiguration(b).brackets,o(b,C))}let M=!0;for(;N<I;N++){const R=D.getLanguageId(N);if(b!==R){if(C&&M&&A!==P){const O=c(C,S,T,A,P);if(O)return i(O);M=!1}b=R,C=this.languageConfigurationService.getLanguageConfiguration(b).brackets,o(b,C)}const F=!!C&&!(0,y.ignoreBracketsInToken)(D.getStandardTokenType(N));if(F)M||(A=D.getStartOffset(N)),P=D.getEndOffset(N);else if(C&&M&&A!==P){const O=c(C,S,T,A,P);if(O)return i(O)}M=F}if(C&&M&&A!==P){const R=c(C,S,T,A,P);if(R)return i(R)}}return null}_toFoundBracket(n,h){if(!h)return null;let m=this.textModel.getValueInRange(h);m=m.toLowerCase();const u=n.getBracketInfo(m);return u?{range:h,bracketInfo:u}:null}}e.BracketPairsTextModelPart=v;function _(t,n){return{object:t,dispose:()=>n?.dispose()}}function a(t){if(typeof t>"u")return()=>!0;{const n=Date.now();return()=>Date.now()-n<=t}}class s{constructor(){this._searchCanceledBrand=void 0}}s.INSTANCE=new s;function i(t){return t instanceof s?null:t}}),define(ie[348],ne([1,0,7,11,5,43,311,139,346,2]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class _ extends v.Disposable{constructor(s,i,t,n,h,m,u){super(),this._onDidChangeContent=this._register(new f.Emitter),this._BOM=i,this._mightContainNonBasicASCII=!m,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=h,this._pieceTree=new y.PieceTreeBase(s,t,u)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(s){return this._pieceTree.createSnapshot(s?this._BOM:"")}getOffsetAt(s,i){return this._pieceTree.getOffsetAt(s,i)}getPositionAt(s){return this._pieceTree.getPositionAt(s)}getRangeAt(s,i){const t=s+i,n=this.getPositionAt(s),h=this.getPositionAt(t);return new E.Range(n.lineNumber,n.column,h.lineNumber,h.column)}getValueInRange(s,i=0){if(s.isEmpty())return"";const t=this._getEndOfLine(i);return this._pieceTree.getValueInRange(s,t)}getValueLengthInRange(s,i=0){if(s.isEmpty())return 0;if(s.startLineNumber===s.endLineNumber)return s.endColumn-s.startColumn;const t=this.getOffsetAt(s.startLineNumber,s.startColumn),n=this.getOffsetAt(s.endLineNumber,s.endColumn);let h=0;const m=this._getEndOfLine(i),u=this.getEOL();if(m.length!==u.length){const d=m.length-u.length,r=s.endLineNumber-s.startLineNumber;h=d*r}return n-t+h}getCharacterCountInRange(s,i=0){if(this._mightContainNonBasicASCII){let t=0;const n=s.startLineNumber,h=s.endLineNumber;for(let m=n;m<=h;m++){const u=this.getLineContent(m),d=m===n?s.startColumn-1:0,r=m===h?s.endColumn-1:u.length;for(let l=d;l<r;l++)k.isHighSurrogate(u.charCodeAt(l))?(t=t+1,l=l+1):t=t+1}return t+=this._getEndOfLine(i).length*(h-n),t}return this.getValueLengthInRange(s,i)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(s){return this._pieceTree.getLineContent(s)}getLineCharCode(s,i){return this._pieceTree.getLineCharCode(s,i)}getLineLength(s){return this._pieceTree.getLineLength(s)}getLineFirstNonWhitespaceColumn(s){const i=k.firstNonWhitespaceIndex(this.getLineContent(s));return i===-1?0:i+1}getLineLastNonWhitespaceColumn(s){const i=k.lastNonWhitespaceIndex(this.getLineContent(s));return i===-1?0:i+2}_getEndOfLine(s){switch(s){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(s){this._pieceTree.setEOL(s)}applyEdits(s,i,t){let n=this._mightContainRTL,h=this._mightContainUnusualLineTerminators,m=this._mightContainNonBasicASCII,u=!0,d=[];for(let C=0;C<s.length;C++){const S=s[C];u&&S._isTracked&&(u=!1);const D=S.range;if(S.text){let P=!0;m||(P=!k.isBasicASCII(S.text),m=P),!n&&P&&(n=k.containsRTL(S.text)),!h&&P&&(h=k.containsUnusualLineTerminators(S.text))}let I="",T=0,N=0,A=0;if(S.text){let P;[T,N,A,P]=(0,p.countEOL)(S.text);const M=this.getEOL();P===0||P===(M===`\r
`?2:1)?I=S.text:I=S.text.replace(/\r\n|\r|\n/g,M)}d[C]={sortIndex:C,identifier:S.identifier||null,range:D,rangeOffset:this.getOffsetAt(D.startLineNumber,D.startColumn),rangeLength:this.getValueLengthInRange(D),text:I,eolCount:T,firstLineLength:N,lastLineLength:A,forceMoveMarkers:!!S.forceMoveMarkers,isAutoWhitespaceEdit:S.isAutoWhitespaceEdit||!1}}d.sort(_._sortOpsAscending);let r=!1;for(let C=0,S=d.length-1;C<S;C++){const D=d[C].range.getEndPosition(),I=d[C+1].range.getStartPosition();if(I.isBeforeOrEqual(D)){if(I.isBefore(D))throw new Error("Overlapping ranges are not allowed!");r=!0}}u&&(d=this._reduceOperations(d));const l=t||i?_._getInverseEditRanges(d):[],o=[];if(i)for(let C=0;C<d.length;C++){const S=d[C],D=l[C];if(S.isAutoWhitespaceEdit&&S.range.isEmpty())for(let I=D.startLineNumber;I<=D.endLineNumber;I++){let T="";I===D.startLineNumber&&(T=this.getLineContent(S.range.startLineNumber),k.firstNonWhitespaceIndex(T)!==-1)||o.push({lineNumber:I,oldContent:T})}}let g=null;if(t){let C=0;g=[];for(let S=0;S<d.length;S++){const D=d[S],I=l[S],T=this.getValueInRange(D.range),N=D.rangeOffset+C;C+=D.text.length-T.length,g[S]={sortIndex:D.sortIndex,identifier:D.identifier,range:I,text:T,textChange:new w.TextChange(D.rangeOffset,T,N,D.text)}}r||g.sort((S,D)=>S.sortIndex-D.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=h,this._mightContainNonBasicASCII=m;const c=this._doApplyEdits(d);let b=null;if(i&&o.length>0){o.sort((C,S)=>S.lineNumber-C.lineNumber),b=[];for(let C=0,S=o.length;C<S;C++){const D=o[C].lineNumber;if(C>0&&o[C-1].lineNumber===D)continue;const I=o[C].oldContent,T=this.getLineContent(D);T.length===0||T===I||k.firstNonWhitespaceIndex(T)!==-1||b.push(D)}}return this._onDidChangeContent.fire(),new L.ApplyEditsResult(g,c,b)}_reduceOperations(s){return s.length<1e3?s:[this._toSingleEditOperation(s)]}_toSingleEditOperation(s){let i=!1;const t=s[0].range,n=s[s.length-1].range,h=new E.Range(t.startLineNumber,t.startColumn,n.endLineNumber,n.endColumn);let m=t.startLineNumber,u=t.startColumn;const d=[];for(let c=0,b=s.length;c<b;c++){const C=s[c],S=C.range;i=i||C.forceMoveMarkers,d.push(this.getValueInRange(new E.Range(m,u,S.startLineNumber,S.startColumn))),C.text.length>0&&d.push(C.text),m=S.endLineNumber,u=S.endColumn}const r=d.join(""),[l,o,g]=(0,p.countEOL)(r);return{sortIndex:0,identifier:s[0].identifier,range:h,rangeOffset:this.getOffsetAt(h.startLineNumber,h.startColumn),rangeLength:this.getValueLengthInRange(h,0),text:r,eolCount:l,firstLineLength:o,lastLineLength:g,forceMoveMarkers:i,isAutoWhitespaceEdit:!1}}_doApplyEdits(s){s.sort(_._sortOpsDescending);const i=[];for(let t=0;t<s.length;t++){const n=s[t],h=n.range.startLineNumber,m=n.range.startColumn,u=n.range.endLineNumber,d=n.range.endColumn;if(h===u&&m===d&&n.text.length===0)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const r=new E.Range(h,m,u,d);i.push({range:r,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return i}findMatchesLineByLine(s,i,t,n){return this._pieceTree.findMatchesLineByLine(s,i,t,n)}static _getInverseEditRanges(s){const i=[];let t=0,n=0,h=null;for(let m=0,u=s.length;m<u;m++){const d=s[m];let r,l;h?h.range.endLineNumber===d.range.startLineNumber?(r=t,l=n+(d.range.startColumn-h.range.endColumn)):(r=t+(d.range.startLineNumber-h.range.endLineNumber),l=d.range.startColumn):(r=d.range.startLineNumber,l=d.range.startColumn);let o;if(d.text.length>0){const g=d.eolCount+1;g===1?o=new E.Range(r,l,r,l+d.firstLineLength):o=new E.Range(r,l,r+g-1,d.lastLineLength+1)}else o=new E.Range(r,l,r,l);t=o.endLineNumber,n=o.endColumn,i.push(o),h=d}return i}static _sortOpsAscending(s,i){const t=E.Range.compareRangesUsingEnds(s.range,i.range);return t===0?s.sortIndex-i.sortIndex:t}static _sortOpsDescending(s,i){const t=E.Range.compareRangesUsingEnds(s.range,i.range);return t===0?i.sortIndex-s.sortIndex:-t}}e.PieceTreeTextBuffer=_}),define(ie[642],ne([1,0,11,311,348]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class L{constructor(w,v,_,a,s,i,t,n,h){this._chunks=w,this._bom=v,this._cr=_,this._lf=a,this._crlf=s,this._containsRTL=i,this._containsUnusualLineTerminators=t,this._isBasicASCII=n,this._normalizeEOL=h}_getEOL(w){const v=this._cr+this._lf+this._crlf,_=this._cr+this._crlf;return v===0?w===1?`
`:`\r
`:_>v/2?`\r
`:`
`}create(w){const v=this._getEOL(w),_=this._chunks;if(this._normalizeEOL&&(v===`\r
`&&(this._cr>0||this._lf>0)||v===`
`&&(this._cr>0||this._crlf>0)))for(let s=0,i=_.length;s<i;s++){const t=_[s].buffer.replace(/\r\n|\r|\n/g,v),n=(0,k.createLineStartsFast)(t);_[s]=new k.StringBuffer(t,n)}const a=new E.PieceTreeTextBuffer(_,this._bom,v,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:a,disposable:a}}}class y{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(w){if(w.length===0)return;this.chunks.length===0&&f.startsWithUTF8BOM(w)&&(this.BOM=f.UTF8_BOM_CHARACTER,w=w.substr(1));const v=w.charCodeAt(w.length-1);v===13||v>=55296&&v<=56319?(this._acceptChunk1(w.substr(0,w.length-1),!1),this._hasPreviousChar=!0,this._previousChar=v):(this._acceptChunk1(w,!1),this._hasPreviousChar=!1,this._previousChar=v)}_acceptChunk1(w,v){!v&&w.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+w):this._acceptChunk2(w))}_acceptChunk2(w){const v=(0,k.createLineStarts)(this._tmpLineStarts,w);this.chunks.push(new k.StringBuffer(w,v.lineStarts)),this.cr+=v.cr,this.lf+=v.lf,this.crlf+=v.crlf,v.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=f.containsRTL(w)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=f.containsUnusualLineTerminators(w)))}finish(w=!0){return this._finish(),new L(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,w)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const w=this.chunks[this.chunks.length-1];w.buffer+=String.fromCharCode(this._previousChar);const v=(0,k.createLineStartsFast)(w.buffer);w.lineStarts=v,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=y}),define(ie[643],ne([1,0,154,17]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=y;function E(w){for(let v=0,_=w.length;v<_;v+=4){const a=w[v+0],s=w[v+1],i=w[v+2],t=w[v+3];w[v+0]=t,w[v+1]=i,w[v+2]=s,w[v+3]=a}}function L(w){const v=new Uint8Array(w.buffer,w.byteOffset,w.length*4);return k.isLittleEndian()||E(v),f.VSBuffer.wrap(v)}function y(w){const v=new Uint32Array(p(w));let _=0;if(v[_++]=w.id,w.type==="full")v[_++]=1,v[_++]=w.data.length,v.set(w.data,_),_+=w.data.length;else{v[_++]=2,v[_++]=w.deltas.length;for(const a of w.deltas)v[_++]=a.start,v[_++]=a.deleteCount,a.data?(v[_++]=a.data.length,v.set(a.data,_),_+=a.data.length):v[_++]=0}return L(v)}function p(w){let v=0;if(v+=2,w.type==="full")v+=1+w.data.length;else{v+=1,v+=3*w.deltas.length;for(const _ of w.deltas)_.data&&(v+=_.data.length)}return v}}),define(ie[199],ne([1,0,7,2,17]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function L(a,s){return!!a[s]}class y{constructor(s,i){this.target=s.target,this.isLeftClick=s.event.leftButton,this.isMiddleClick=s.event.middleButton,this.isRightClick=s.event.rightButton,this.hasTriggerModifier=L(s.event,i.triggerModifier),this.hasSideBySideModifier=L(s.event,i.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=s.event.detail<=1}}e.ClickLinkMouseEvent=y;class p{constructor(s,i){this.keyCodeIsTriggerKey=s.keyCode===i.triggerKey,this.keyCodeIsSideBySideKey=s.keyCode===i.triggerSideBySideKey,this.hasTriggerModifier=L(s,i.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class w{constructor(s,i,t,n){this.triggerKey=s,this.triggerModifier=i,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=n}equals(s){return this.triggerKey===s.triggerKey&&this.triggerModifier===s.triggerModifier&&this.triggerSideBySideKey===s.triggerSideBySideKey&&this.triggerSideBySideModifier===s.triggerSideBySideModifier}}e.ClickLinkOptions=w;function v(a){return a==="altKey"?E.isMacintosh?new w(57,"metaKey",6,"altKey"):new w(5,"ctrlKey",6,"altKey"):E.isMacintosh?new w(6,"altKey",57,"metaKey"):new w(6,"altKey",5,"ctrlKey")}class _ extends k.Disposable{constructor(s,i){var t;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new f.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new f.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new f.Emitter),this.onCancel=this._onCancel.event,this._editor=s,this._extractLineNumberFromMouseEvent=(t=i?.extractLineNumberFromMouseEvent)!==null&&t!==void 0?t:n=>n.target.position?n.target.position.lineNumber:0,this._opts=v(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(78)){const h=v(this._editor.getOption(78));if(this._opts.equals(h))return;this._opts=h,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new y(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new y(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new y(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new p(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new p(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(s){s.selection&&s.selection.startColumn!==s.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(s){this._lastMouseMoveEvent=s,this._onMouseMoveOrRelevantKeyDown.fire([s,null])}_onEditorMouseDown(s){this._hasTriggerKeyOnMouseDown=s.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(s)}_onEditorMouseUp(s){const i=this._extractLineNumberFromMouseEvent(s);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===i&&this._onExecute.fire(s)}_onEditorKeyDown(s){this._lastMouseMoveEvent&&(s.keyCodeIsTriggerKey||s.keyCodeIsSideBySideKey&&s.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,s]):s.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(s){s.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=_}),define(ie[349],ne([1,0,15,12,7,2]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class y{constructor(v,_,a){this.value=v,this.isComplete=_,this.hasLoadingMessage=a}}e.HoverResult=y;class p extends L.Disposable{constructor(v,_){super(),this._editor=v,this._computer=_,this._onResult=this._register(new E.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(v,_=!0){this._state=v,_&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,f.createCancelableAsyncIterable)(v=>this._computer.computeAsync(v)),(async()=>{try{for await(const v of this._asyncIterable)v&&(this._result.push(v),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(v){(0,k.onUnexpectedError)(v)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const v=this._state===0,_=this._state===4;this._onResult.fire(new y(this._result.slice(0),v,_))}start(v){if(v===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=p}),define(ie[644],ne([1,0,242,2,9,6]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const y=30,p=24;class w extends k.Disposable{constructor(_,a=new L.Dimension(10,10)){super(),this._editor=_,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new f.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=L.Dimension.lift(a),this._resizableNode.layout(a.height,a.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(s=>{this._resize(new L.Dimension(s.dimension.width,s.dimension.height)),s.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var _;return!((_=this._contentPosition)===null||_===void 0)&&_.position?E.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(_){const a=this._editor.getDomNode(),s=this._editor.getScrolledVisiblePosition(_);return!a||!s?void 0:L.getDomNodePagePosition(a).top+s.top-y}_availableVerticalSpaceBelow(_){const a=this._editor.getDomNode(),s=this._editor.getScrolledVisiblePosition(_);if(!a||!s)return;const i=L.getDomNodePagePosition(a),t=L.getClientArea(a.ownerDocument.body),n=i.top+s.top+s.height;return t.height-n-p}_findPositionPreference(_,a){var s,i;const t=Math.min((s=this._availableVerticalSpaceBelow(a))!==null&&s!==void 0?s:1/0,_),n=Math.min((i=this._availableVerticalSpaceAbove(a))!==null&&i!==void 0?i:1/0,_),h=Math.min(Math.max(n,t),_),m=Math.min(_,h);let u;return this._editor.getOption(60).above?u=m<=n?1:2:u=m<=t?2:1,u===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),u}_resize(_){this._resizableNode.layout(_.height,_.width)}}e.ResizableContentWidget=w}),define(ie[350],ne([1,0,12,2,9,5,49,22]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0,e.asCommandLink=a;class w{constructor(i,t){this.range=i,this.direction=t}}e.InlayHintAnchor=w;class v{constructor(i,t,n){this.hint=i,this.anchor=t,this.provider=n,this._isResolved=!1}with(i){const t=new v(this.hint,i.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(i){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,i.isCancellationRequested?void 0:this.resolve(i);this._isResolved||(this._currentResolve=this._doResolve(i).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(i){var t,n,h;try{const m=await Promise.resolve(this.provider.resolveInlayHint(this.hint,i));this.hint.tooltip=(t=m?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(n=m?.label)!==null&&n!==void 0?n:this.hint.label,this.hint.textEdits=(h=m?.textEdits)!==null&&h!==void 0?h:this.hint.textEdits,this._isResolved=!0}catch(m){(0,f.onUnexpectedExternalError)(m),this._isResolved=!1}}}e.InlayHintItem=v;class _{static async create(i,t,n,h){const m=[],u=i.ordered(t).reverse().map(d=>n.map(async r=>{try{const l=await d.provideInlayHints(t,r,h);(l?.hints.length||d.onDidChangeInlayHints)&&m.push([l??_._emptyInlayHintList,d])}catch(l){(0,f.onUnexpectedExternalError)(l)}}));if(await Promise.all(u.flat()),h.isCancellationRequested||t.isDisposed())throw new f.CancellationError;return new _(n,m,t)}constructor(i,t,n){this._disposables=new k.DisposableStore,this.ranges=i,this.provider=new Set;const h=[];for(const[m,u]of t){this._disposables.add(m),this.provider.add(u);for(const d of m.hints){const r=n.validatePosition(d.position);let l="before";const o=_._getRangeAtPosition(n,r);let g;o.getStartPosition().isBefore(r)?(g=L.Range.fromPositions(o.getStartPosition(),r),l="after"):(g=L.Range.fromPositions(r,o.getEndPosition()),l="before"),h.push(new v(d,new w(g,l),u))}}this.items=h.sort((m,u)=>E.Position.compare(m.hint.position,u.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(i,t){const n=t.lineNumber,h=i.getWordAtPosition(t);if(h)return new L.Range(n,h.startColumn,n,h.endColumn);i.tokenization.tokenizeIfCheap(n);const m=i.tokenization.getLineTokens(n),u=t.column-1,d=m.findTokenIndexAtOffset(u);let r=m.getStartOffset(d),l=m.getEndOffset(d);return l-r===1&&(r===u&&d>1?(r=m.getStartOffset(d-1),l=m.getEndOffset(d-1)):l===u&&d<m.getCount()-1&&(r=m.getStartOffset(d+1),l=m.getEndOffset(d+1))),new L.Range(n,r+1,n,l+1)}}e.InlayHintsFragments=_,_._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function a(s){return p.URI.from({scheme:y.Schemas.command,path:s.id,query:s.arguments&&encodeURIComponent(JSON.stringify(s.arguments))}).toString()}}),define(ie[645],ne([1,0,87,15,19,47,12,5,546,196,128]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=void 0,e.provideInlineCompletions=a;async function a(m,u,d,r,l=E.CancellationToken.None,o){const g=n(u,d),c=m.all(d),b=new L.SetMap;for(const M of c)M.groupId&&b.add(M.groupId,M);function C(M){if(!M.yieldsToGroupIds)return[];const R=[];for(const F of M.yieldsToGroupIds||[]){const O=b.get(F);for(const B of O)R.push(B)}return R}const S=new Map,D=new Set;function I(M,R){if(R=[...R,M],D.has(M))return R;D.add(M);try{const F=C(M);for(const O of F){const B=I(O,R);if(B)return B}}finally{D.delete(M)}}function T(M){const R=S.get(M);if(R)return R;const F=I(M,[]);F&&(0,y.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${F.map(B=>B.toString?B.toString():""+B).join(" -> ")}`));const O=new k.DeferredPromise;return S.set(M,O.p),(async()=>{if(!F){const B=C(M);for(const H of B){const V=await T(H);if(V&&V.items.length>0)return}}try{return await M.provideInlineCompletions(d,u,r,l)}catch(B){(0,y.onUnexpectedExternalError)(B);return}})().then(B=>O.complete(B),B=>O.error(B)),O.p}const N=await Promise.all(c.map(async M=>({provider:M,completions:await T(M)}))),A=new Map,P=[];for(const M of N){const R=M.completions;if(!R)continue;const F=new i(R,M.provider);P.push(F);for(const O of R.items){const B=t.from(O,F,g,d,o);A.set(B.hash(),B)}}return new s(Array.from(A.values()),new Set(A.keys()),P)}class s{constructor(u,d,r){this.completions=u,this.hashs=d,this.providerResults=r}has(u){return this.hashs.has(u.hash())}dispose(){for(const u of this.providerResults)u.removeRef()}}e.InlineCompletionProviderResult=s;class i{constructor(u,d){this.inlineCompletions=u,this.provider=d,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=i;class t{static from(u,d,r,l,o){let g,c,b=u.range?p.Range.lift(u.range):r;if(typeof u.insertText=="string"){if(g=u.insertText,o&&u.completeBracketPairs){g=h(g,b.getStartPosition(),l,o);const C=g.length-u.insertText.length;C!==0&&(b=new p.Range(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn+C))}c=void 0}else if("snippet"in u.insertText){const C=u.insertText.snippet.length;if(o&&u.completeBracketPairs){u.insertText.snippet=h(u.insertText.snippet,b.getStartPosition(),l,o);const D=u.insertText.snippet.length-C;D!==0&&(b=new p.Range(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn+D))}const S=new _.SnippetParser().parse(u.insertText.snippet);S.children.length===1&&S.children[0]instanceof _.Text?(g=S.children[0].value,c=void 0):(g=S.toString(),c={snippet:u.insertText.snippet,range:b})}else(0,f.assertNever)(u.insertText);return new t(g,u.command,b,g,c,u.additionalTextEdits||(0,v.getReadonlyEmptyArray)(),u,d)}constructor(u,d,r,l,o,g,c,b){this.filterText=u,this.command=d,this.range=r,this.insertText=l,this.snippetInfo=o,this.additionalTextEdits=g,this.sourceInlineCompletion=c,this.source=b,u=u.replace(/\r\n|\r/g,`
`),l=u.replace(/\r\n|\r/g,`
`)}withRange(u){return new t(this.filterText,this.command,u,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function n(m,u){const d=u.getWordAtPosition(m),r=u.getLineMaxColumn(m.lineNumber);return d?new p.Range(m.lineNumber,d.startColumn,m.lineNumber,r):p.Range.fromPositions(m,m.with(void 0,r))}function h(m,u,d,r){const o=d.getLineContent(u.lineNumber).substring(0,u.column-1)+m,g=d.tokenization.tokenizeLineWithEdit(u,o.length-(u.column-1),m),c=g?.sliceAndInflate(u.column-1,o.length,0);return c?(0,w.fixBracketsInLine)(c,r):m}}),define(ie[646],ne([3,4]),function(J,e){return J.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ie[647],ne([3,4]),function(J,e){return J.create("vs/editor/browser/coreCommands",e)}),define(ie[648],ne([3,4]),function(J,e){return J.create("vs/editor/browser/editorExtensions",e)}),define(ie[649],ne([3,4]),function(J,e){return J.create("vs/editor/browser/services/hoverService/hoverWidget",e)}),define(ie[650],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/codeEditor/codeEditorWidget",e)}),define(ie[651],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/commands",e)}),define(ie[652],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer",e)}),define(ie[653],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/components/diffEditorEditors",e)}),define(ie[654],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin",e)}),define(ie[655],ne([1,0,6,41,26,2,17,31,654]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class v extends L.Disposable{get visibility(){return this._visibility}set visibility(a){this._visibility!==a&&(this._visibility=a,this._diffActions.style.visibility=a?"visible":"hidden")}constructor(a,s,i,t,n,h,m,u,d){super(),this._getViewZoneId=a,this._marginDomNode=s,this._modifiedEditor=i,this._diff=t,this._editor=n,this._viewLineCounts=h,this._originalTextModel=m,this._contextMenuService=u,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.ThemeIcon.asClassName(E.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);let l=0;const o=i.getOption(127)&&!y.isIOS,g=(c,b)=>{var C;this._contextMenuService.showContextMenu({domForShadowRoot:o&&(C=i.getDomNode())!==null&&C!==void 0?C:void 0,getAnchor:()=>({x:c,y:b}),getActions:()=>{const S=[],D=t.modified.isEmpty;return S.push(new k.Action("diff.clipboard.copyDeletedContent",D?t.original.length>1?(0,w.localize)(0,null):(0,w.localize)(1,null):t.original.length>1?(0,w.localize)(2,null):(0,w.localize)(3,null),void 0,!0,async()=>{const T=this._originalTextModel.getValueInRange(t.original.toExclusiveRange());await this._clipboardService.writeText(T)})),t.original.length>1&&S.push(new k.Action("diff.clipboard.copyDeletedLineContent",D?(0,w.localize)(4,null,t.original.startLineNumber+l):(0,w.localize)(5,null,t.original.startLineNumber+l),void 0,!0,async()=>{let T=this._originalTextModel.getLineContent(t.original.startLineNumber+l);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(T)})),i.getOption(91)||S.push(new k.Action("diff.inline.revertChange",(0,w.localize)(6,null),void 0,!0,async()=>{this._editor.revert(this._diff)})),S},autoSelectFirstItem:!0})};this._register((0,f.addStandardDisposableListener)(this._diffActions,"mousedown",c=>{if(!c.leftButton)return;const{top:b,height:C}=(0,f.getDomNodePagePosition)(this._diffActions),S=Math.floor(r/3);c.preventDefault(),g(c.posx,b+C+S)})),this._register(i.onMouseMove(c=>{(c.target.type===8||c.target.type===5)&&c.target.detail.viewZoneId===this._getViewZoneId()?(l=this._updateLightBulbPosition(this._marginDomNode,c.event.browserEvent.y,r),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(c=>{c.event.leftButton&&(c.target.type===8||c.target.type===5)&&c.target.detail.viewZoneId===this._getViewZoneId()&&(c.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,c.event.browserEvent.y,r),g(c.event.posx,c.event.posy+r))}))}_updateLightBulbPosition(a,s,i){const{top:t}=(0,f.getDomNodePagePosition)(a),n=s-t,h=Math.floor(n/i),m=h*i;if(this._diffActions.style.top=`${m}px`,this._viewLineCounts){let u=0;for(let d=0;d<this._viewLineCounts.length;d++)if(u+=this._viewLineCounts[d],h<u)return d}return h}}e.InlineDiffDeletedCodeMargin=v}),define(ie[656],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/diffEditor.contribution",e)}),define(ie[657],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature",e)}),define(ie[658],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature",e)}),define(ie[351],ne([1,0,6,81,41,13,66,26,2,30,31,82,64,658]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesFeature=void 0;class t extends w.Disposable{constructor(u,d,r,l,o){super(),this._rootElement=u,this._diffModel=d,this._originalEditorLayoutInfo=r,this._modifiedEditorLayoutInfo=l,this._editors=o,this._originalScrollTop=(0,v.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,v.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,v.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,v.observableValue)(this,0),this._modifiedViewZonesChangedSignal=(0,v.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,v.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,v.derivedWithStore)(this,(S,D)=>{var I;this._element.replaceChildren();const T=this._diffModel.read(S),N=(I=T?.diff.read(S))===null||I===void 0?void 0:I.movedTexts;if(!N||N.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(S);const A=this._originalEditorLayoutInfo.read(S),P=this._modifiedEditorLayoutInfo.read(S);if(!A||!P){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(S),this._originalViewZonesChangedSignal.read(S);const M=N.map(q=>{function z(ce,he){const pe=he.getTopForLineNumber(ce.startLineNumber,!0),fe=he.getTopForLineNumber(ce.endLineNumberExclusive,!0);return(pe+fe)/2}const U=z(q.lineRangeMapping.original,this._editors.original),Z=this._originalScrollTop.read(S),re=z(q.lineRangeMapping.modified,this._editors.modified),x=this._modifiedScrollTop.read(S),Q=U-Z,X=re-x,Y=Math.min(U,re),ae=Math.max(U,re);return{range:new s.OffsetRange(Y,ae),from:Q,to:X,fromWithoutScroll:U,toWithoutScroll:re,move:q}});M.sort((0,L.tieBreakComparators)((0,L.compareBy)(q=>q.fromWithoutScroll>q.toWithoutScroll,L.booleanComparator),(0,L.compareBy)(q=>q.fromWithoutScroll>q.toWithoutScroll?q.fromWithoutScroll:-q.toWithoutScroll,L.numberComparator)));const R=n.compute(M.map(q=>q.range)),F=10,O=A.verticalScrollbarWidth,B=(R.getTrackCount()-1)*10+F*2,H=O+B+(P.contentLeft-t.movedCodeBlockPadding);let V=0;for(const q of M){const z=R.getTrack(V),U=O+F+z*10,Z=15,re=15,x=H,Q=P.glyphMarginWidth+P.lineNumbersWidth,X=18,Y=document.createElementNS("http://www.w3.org/2000/svg","rect");Y.classList.add("arrow-rectangle"),Y.setAttribute("x",`${x-Q}`),Y.setAttribute("y",`${q.to-X/2}`),Y.setAttribute("width",`${Q}`),Y.setAttribute("height",`${X}`),this._element.appendChild(Y);const ae=document.createElementNS("http://www.w3.org/2000/svg","g"),ce=document.createElementNS("http://www.w3.org/2000/svg","path");ce.setAttribute("d",`M 0 ${q.from} L ${U} ${q.from} L ${U} ${q.to} L ${x-re} ${q.to}`),ce.setAttribute("fill","none"),ae.appendChild(ce);const he=document.createElementNS("http://www.w3.org/2000/svg","polygon");he.classList.add("arrow"),D.add((0,v.autorun)(pe=>{ce.classList.toggle("currentMove",q.move===T.activeMovedText.read(pe)),he.classList.toggle("currentMove",q.move===T.activeMovedText.read(pe))})),he.setAttribute("points",`${x-re},${q.to-Z/2} ${x},${q.to} ${x-re},${q.to+Z/2}`),ae.appendChild(he),this._element.appendChild(ae),V++}this.width.set(B,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,w.toDisposable)(()=>this._element.remove())),this._register((0,v.autorun)(S=>{const D=this._originalEditorLayoutInfo.read(S),I=this._modifiedEditorLayoutInfo.read(S);!D||!I||(this._element.style.left=`${D.width-D.verticalScrollbarWidth}px`,this._element.style.height=`${D.height}px`,this._element.style.width=`${D.verticalScrollbarWidth+D.contentLeft-t.movedCodeBlockPadding+this.width.read(S)}px`)})),this._register((0,v.recomputeInitiallyAndOnChange)(this._state));const g=(0,v.derived)(S=>{const D=this._diffModel.read(S),I=D?.diff.read(S);return I?I.movedTexts.map(T=>({move:T,original:new a.PlaceholderViewZone((0,v.constObservable)(T.lineRangeMapping.original.startLineNumber-1),18),modified:new a.PlaceholderViewZone((0,v.constObservable)(T.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,a.applyViewZones)(this._editors.original,g.map(S=>S.map(D=>D.original)))),this._register((0,a.applyViewZones)(this._editors.modified,g.map(S=>S.map(D=>D.modified)))),this._register((0,v.autorunWithStore)((S,D)=>{const I=g.read(S);for(const T of I)D.add(new h(this._editors.original,T.original,T.move,"original",this._diffModel.get())),D.add(new h(this._editors.modified,T.modified,T.move,"modified",this._diffModel.get()))}));const c=(0,v.observableSignalFromEvent)("original.onDidFocusEditorWidget",S=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>S(void 0),0))),b=(0,v.observableSignalFromEvent)("modified.onDidFocusEditorWidget",S=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>S(void 0),0)));let C="modified";this._register((0,v.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(S,D)=>(S.didChange(c)&&(C="original"),S.didChange(b)&&(C="modified"),!0)},S=>{c.read(S),b.read(S);const D=this._diffModel.read(S);if(!D)return;const I=D.diff.read(S);let T;if(I&&C==="original"){const N=this._editors.originalCursor.read(S);N&&(T=I.movedTexts.find(A=>A.lineRangeMapping.original.contains(N.lineNumber)))}if(I&&C==="modified"){const N=this._editors.modifiedCursor.read(S);N&&(T=I.movedTexts.find(A=>A.lineRangeMapping.modified.contains(N.lineNumber)))}T!==D.movedTextToCompare.get()&&D.movedTextToCompare.set(void 0,void 0),D.setActiveMovedText(T)}))}}e.MovedBlocksLinesFeature=t,t.movedCodeBlockPadding=4;class n{static compute(u){const d=[],r=[];for(const l of u){let o=d.findIndex(g=>!g.intersectsStrict(l));o===-1&&(d.length>=6?o=(0,y.findMaxIdxBy)(d,(0,L.compareBy)(c=>c.intersectWithRangeLength(l),L.numberComparator)):(o=d.length,d.push(new s.OffsetRangeSet))),d[o].addRange(l),r.push(o)}return new n(d.length,r)}constructor(u,d){this._trackCount=u,this.trackPerLineIdx=d}getTrack(u){return this.trackPerLineIdx[u]}getTrackCount(){return this._trackCount}}class h extends a.ViewZoneOverlayWidget{constructor(u,d,r,l,o){const g=(0,f.h)("div.diff-hidden-lines-widget");super(u,d,g.root),this._editor=u,this._move=r,this._kind=l,this._diffModel=o,this._nodes=(0,f.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,f.h)("div.text-content@textContent"),(0,f.h)("div.action-bar@actionBar")]),g.root.appendChild(this._nodes.root);const c=(0,v.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,a.applyStyle)(this._nodes.root,{paddingRight:c.map(I=>I.verticalScrollbarWidth)}));let b;r.changes.length>0?b=this._kind==="original"?(0,i.localize)(0,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(1,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):b=this._kind==="original"?(0,i.localize)(2,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(3,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const C=this._register(new k.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),S=new E.Action("",b,"",!1);C.push(S,{icon:!1,label:!0});const D=new E.Action("","Compare",_.ThemeIcon.asClassName(p.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===r?void 0:this._move,void 0)});this._register((0,v.autorun)(I=>{const T=this._diffModel.movedTextToCompare.read(I)===r;D.checked=T})),C.push(D,{icon:!1,label:!0})}}}),define(ie[659],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/features/revertButtonsFeature",e)}),define(ie[660],ne([1,0,6,108,26,2,30,60,5,100,43,659]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertButton=e.RevertButtonsFeature=void 0;const s=[];class i extends L.Disposable{constructor(h,m,u,d){super(),this._editors=h,this._diffModel=m,this._options=u,this._widget=d,this._selectedDiffs=(0,y.derived)(this,r=>{const l=this._diffModel.read(r),o=l?.diff.read(r);if(!o)return s;const g=this._editors.modifiedSelections.read(r);if(g.every(S=>S.isEmpty()))return s;const c=new p.LineRangeSet(g.map(S=>p.LineRange.fromRangeInclusive(S))),C=o.mappings.filter(S=>S.lineRangeMapping.innerChanges&&c.intersects(S.lineRangeMapping.modified)).map(S=>({mapping:S,rangeMappings:S.lineRangeMapping.innerChanges.filter(D=>g.some(I=>w.Range.areIntersecting(D.modifiedRange,I)))}));return C.length===0||C.every(S=>S.rangeMappings.length===0)?s:C}),this._register((0,y.autorunWithStore)((r,l)=>{if(!this._options.shouldRenderOldRevertArrows.read(r))return;const o=this._diffModel.read(r),g=o?.diff.read(r);if(!o||!g||o.movedTextToCompare.read(r))return;const c=[],b=this._selectedDiffs.read(r),C=new Set(b.map(S=>S.mapping));if(b.length>0){const S=this._editors.modifiedSelections.read(r),D=l.add(new t(S[S.length-1].positionLineNumber,this._widget,b.flatMap(I=>I.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(D),c.push(D)}for(const S of g.mappings)if(!C.has(S)&&!S.lineRangeMapping.modified.isEmpty&&S.lineRangeMapping.innerChanges){const D=l.add(new t(S.lineRangeMapping.modified.startLineNumber,this._widget,S.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(D),c.push(D)}l.add((0,L.toDisposable)(()=>{for(const S of c)this._editors.modified.removeGlyphMarginWidget(S)}))}))}}e.RevertButtonsFeature=i;class t extends L.Disposable{getId(){return this._id}constructor(h,m,u,d){super(),this._lineNumber=h,this._widget=m,this._diffs=u,this._revertSelection=d,this._id=`revertButton${t.counter++}`,this._domNode=(0,f.h)("div.revertButton",{title:this._revertSelection?(0,a.localize)(0,null):(0,a.localize)(1,null)},[(0,k.renderIcon)(E.Codicon.arrowRight)]).root,this._register((0,f.addDisposableListener)(this._domNode,f.EventType.MOUSE_DOWN,r=>{r.button!==2&&(r.stopPropagation(),r.preventDefault())})),this._register((0,f.addDisposableListener)(this._domNode,f.EventType.MOUSE_UP,r=>{r.stopPropagation(),r.preventDefault()})),this._register((0,f.addDisposableListener)(this._domNode,f.EventType.CLICK,r=>{this._diffs instanceof v.LineRangeMapping?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),r.stopPropagation(),r.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:_.GlyphMarginLane.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}e.RevertButton=t,t.counter=0}),define(ie[661],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/registrations.contribution",e)}),define(ie[662],ne([3,4]),function(J,e){return J.create("vs/editor/browser/widget/multiDiffEditor/colors",e)}),define(ie[663],ne([3,4]),function(J,e){return J.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ie[664],ne([3,4]),function(J,e){return J.create("vs/editor/common/config/editorOptions",e)}),define(ie[38],ne([1,0,13,55,17,188,160,664]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.ShowLightbulbIconMode=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.boolean=n,e.clampedInt=m,e.clampedFloat=d,e.stringSet=o,e.filterValidationDecorations=te,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(me){this._values=me}hasChanged(me){return this._values[me]}}e.ConfigurationChangedEvent=w;class v{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=v;class _{constructor(me,_e,Re,We){this.id=me,this.name=_e,this.defaultValue=Re,this.schema=We}applyUpdate(me,_e){return s(me,_e)}compute(me,_e,Re){return Re}}class a{constructor(me,_e){this.newValue=me,this.didChange=_e}}e.ApplyUpdateResult=a;function s(Ne,me){if(typeof Ne!="object"||typeof me!="object"||!Ne||!me)return new a(me,Ne!==me);if(Array.isArray(Ne)||Array.isArray(me)){const Re=Array.isArray(Ne)&&Array.isArray(me)&&f.equals(Ne,me);return new a(me,!Re)}let _e=!1;for(const Re in me)if(me.hasOwnProperty(Re)){const We=s(Ne[Re],me[Re]);We.didChange&&(Ne[Re]=We.newValue,_e=!0)}return new a(Ne,_e)}class i{constructor(me){this.schema=void 0,this.id=me,this.name="_never_",this.defaultValue=void 0}applyUpdate(me,_e){return s(me,_e)}validate(me){return this.defaultValue}}class t{constructor(me,_e,Re,We){this.id=me,this.name=_e,this.defaultValue=Re,this.schema=We}applyUpdate(me,_e){return s(me,_e)}validate(me){return typeof me>"u"?this.defaultValue:me}compute(me,_e,Re){return Re}}function n(Ne,me){return typeof Ne>"u"?me:Ne==="false"?!1:!!Ne}class h extends t{constructor(me,_e,Re,We=void 0){typeof We<"u"&&(We.type="boolean",We.default=Re),super(me,_e,Re,We)}validate(me){return n(me,this.defaultValue)}}function m(Ne,me,_e,Re){if(typeof Ne>"u")return me;let We=parseInt(Ne,10);return isNaN(We)?me:(We=Math.max(_e,We),We=Math.min(Re,We),We|0)}class u extends t{static clampedInt(me,_e,Re,We){return m(me,_e,Re,We)}constructor(me,_e,Re,We,qe,je=void 0){typeof je<"u"&&(je.type="integer",je.default=Re,je.minimum=We,je.maximum=qe),super(me,_e,Re,je),this.minimum=We,this.maximum=qe}validate(me){return u.clampedInt(me,this.defaultValue,this.minimum,this.maximum)}}function d(Ne,me,_e,Re){if(typeof Ne>"u")return me;const We=r.float(Ne,me);return r.clamp(We,_e,Re)}class r extends t{static clamp(me,_e,Re){return me<_e?_e:me>Re?Re:me}static float(me,_e){if(typeof me=="number")return me;if(typeof me>"u")return _e;const Re=parseFloat(me);return isNaN(Re)?_e:Re}constructor(me,_e,Re,We,qe){typeof qe<"u"&&(qe.type="number",qe.default=Re),super(me,_e,Re,qe),this.validationFn=We}validate(me){return this.validationFn(r.float(me,this.defaultValue))}}class l extends t{static string(me,_e){return typeof me!="string"?_e:me}constructor(me,_e,Re,We=void 0){typeof We<"u"&&(We.type="string",We.default=Re),super(me,_e,Re,We)}validate(me){return l.string(me,this.defaultValue)}}function o(Ne,me,_e,Re){return typeof Ne!="string"?me:Re&&Ne in Re?Re[Ne]:_e.indexOf(Ne)===-1?me:Ne}class g extends t{constructor(me,_e,Re,We,qe=void 0){typeof qe<"u"&&(qe.type="string",qe.enum=We,qe.default=Re),super(me,_e,Re,qe),this._allowedValues=We}validate(me){return o(me,this.defaultValue,this._allowedValues)}}class c extends _{constructor(me,_e,Re,We,qe,je,Ze=void 0){typeof Ze<"u"&&(Ze.type="string",Ze.enum=qe,Ze.default=We),super(me,_e,Re,Ze),this._allowedValues=qe,this._convert=je}validate(me){return typeof me!="string"?this.defaultValue:this._allowedValues.indexOf(me)===-1?this.defaultValue:this._convert(me)}}function b(Ne){switch(Ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class C extends _{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[p.localize(0,null),p.localize(1,null),p.localize(2,null)],default:"auto",tags:["accessibility"],description:p.localize(3,null)})}validate(me){switch(me){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(me,_e,Re){return Re===0?me.accessibilitySupport:Re}}class S extends _{constructor(){const me={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",me,{"editor.comments.insertSpace":{type:"boolean",default:me.insertSpace,description:p.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:me.ignoreEmptyLines,description:p.localize(5,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{insertSpace:n(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:n(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function D(Ne){switch(Ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(Ne){Ne[Ne.Line=1]="Line",Ne[Ne.Block=2]="Block",Ne[Ne.Underline=3]="Underline",Ne[Ne.LineThin=4]="LineThin",Ne[Ne.BlockOutline=5]="BlockOutline",Ne[Ne.UnderlineThin=6]="UnderlineThin"})(I||(e.TextEditorCursorStyle=I={}));function T(Ne){switch(Ne){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class N extends i{constructor(){super(142)}compute(me,_e,Re){const We=["monaco-editor"];return _e.get(39)&&We.push(_e.get(39)),me.extraEditorClassName&&We.push(me.extraEditorClassName),_e.get(74)==="default"?We.push("mouse-default"):_e.get(74)==="copy"&&We.push("mouse-copy"),_e.get(111)&&We.push("showUnused"),_e.get(140)&&We.push("showDeprecated"),We.join(" ")}}class A extends h{constructor(){super(37,"emptySelectionClipboard",!0,{description:p.localize(6,null)})}compute(me,_e,Re){return Re&&me.emptySelectionClipboard}}class P extends _{constructor(){const me={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",me,{"editor.find.cursorMoveOnType":{type:"boolean",default:me.cursorMoveOnType,description:p.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:me.seedSearchStringFromSelection,enumDescriptions:[p.localize(8,null),p.localize(9,null),p.localize(10,null)],description:p.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:me.autoFindInSelection,enumDescriptions:[p.localize(12,null),p.localize(13,null),p.localize(14,null)],description:p.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:me.globalFindClipboard,description:p.localize(16,null),included:E.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:me.addExtraSpaceOnTop,description:p.localize(17,null)},"editor.find.loop":{type:"boolean",default:me.loop,description:p.localize(18,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{cursorMoveOnType:n(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof me.seedSearchStringFromSelection=="boolean"?me.seedSearchStringFromSelection?"always":"never":o(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof me.autoFindInSelection=="boolean"?me.autoFindInSelection?"always":"never":o(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:n(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:n(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:n(_e.loop,this.defaultValue.loop)}}}class M extends _{constructor(){super(51,"fontLigatures",M.OFF,{anyOf:[{type:"boolean",description:p.localize(19,null)},{type:"string",description:p.localize(20,null)}],description:p.localize(21,null),default:!1})}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me==="false"||me.length===0?M.OFF:me==="true"?M.ON:me:me?M.ON:M.OFF}}e.EditorFontLigatures=M,M.OFF='"liga" off, "calt" off',M.ON='"liga" on, "calt" on';class R extends _{constructor(){super(54,"fontVariations",R.OFF,{anyOf:[{type:"boolean",description:p.localize(22,null)},{type:"string",description:p.localize(23,null)}],description:p.localize(24,null),default:!1})}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me==="false"?R.OFF:me==="true"?R.TRANSLATE:me:me?R.TRANSLATE:R.OFF}compute(me,_e,Re){return me.fontInfo.fontVariationSettings}}e.EditorFontVariations=R,R.OFF="normal",R.TRANSLATE="translate";class F extends i{constructor(){super(50)}compute(me,_e,Re){return me.fontInfo}}class O extends t{constructor(){super(52,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:p.localize(25,null)})}validate(me){const _e=r.float(me,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:r.clamp(_e,6,100)}compute(me,_e,Re){return me.fontInfo.fontSize}}class B extends _{constructor(){super(53,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:B.MINIMUM_VALUE,maximum:B.MAXIMUM_VALUE,errorMessage:p.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:B.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:p.localize(27,null)})}validate(me){return me==="normal"||me==="bold"?me:String(u.clampedInt(me,e.EDITOR_FONT_DEFAULTS.fontWeight,B.MINIMUM_VALUE,B.MAXIMUM_VALUE))}}B.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],B.MINIMUM_VALUE=1,B.MAXIMUM_VALUE=1e3;class H extends _{constructor(){const me={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},_e={type:"string",enum:["peek","gotoAndPeek","goto"],default:me.multiple,enumDescriptions:[p.localize(28,null),p.localize(29,null),p.localize(30,null)]},Re=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",me,{"editor.gotoLocation.multiple":{deprecationMessage:p.localize(31,null)},"editor.gotoLocation.multipleDefinitions":{description:p.localize(32,null),..._e},"editor.gotoLocation.multipleTypeDefinitions":{description:p.localize(33,null),..._e},"editor.gotoLocation.multipleDeclarations":{description:p.localize(34,null),..._e},"editor.gotoLocation.multipleImplementations":{description:p.localize(35,null),..._e},"editor.gotoLocation.multipleReferences":{description:p.localize(36,null),..._e},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:me.alternativeDefinitionCommand,enum:Re,description:p.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:me.alternativeTypeDefinitionCommand,enum:Re,description:p.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:me.alternativeDeclarationCommand,enum:Re,description:p.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:me.alternativeImplementationCommand,enum:Re,description:p.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:me.alternativeReferenceCommand,enum:Re,description:p.localize(41,null)}})}validate(me){var _e,Re,We,qe,je;if(!me||typeof me!="object")return this.defaultValue;const Ze=me;return{multiple:o(Ze.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(_e=Ze.multipleDefinitions)!==null&&_e!==void 0?_e:o(Ze.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Re=Ze.multipleTypeDefinitions)!==null&&Re!==void 0?Re:o(Ze.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(We=Ze.multipleDeclarations)!==null&&We!==void 0?We:o(Ze.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(qe=Ze.multipleImplementations)!==null&&qe!==void 0?qe:o(Ze.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(je=Ze.multipleReferences)!==null&&je!==void 0?je:o(Ze.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:l.string(Ze.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:l.string(Ze.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:l.string(Ze.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:l.string(Ze.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:l.string(Ze.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends _{constructor(){const me={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",me,{"editor.hover.enabled":{type:"boolean",default:me.enabled,description:p.localize(42,null)},"editor.hover.delay":{type:"number",default:me.delay,minimum:0,maximum:1e4,description:p.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:me.sticky,description:p.localize(44,null)},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:me.hidingDelay,description:p.localize(45,null)},"editor.hover.above":{type:"boolean",default:me.above,description:p.localize(46,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{enabled:n(_e.enabled,this.defaultValue.enabled),delay:u.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:n(_e.sticky,this.defaultValue.sticky),hidingDelay:u.clampedInt(_e.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:n(_e.above,this.defaultValue.above)}}}class q extends i{constructor(){super(145)}compute(me,_e,Re){return q.computeLayout(_e,{memory:me.memory,outerWidth:me.outerWidth,outerHeight:me.outerHeight,isDominatedByLongLines:me.isDominatedByLongLines,lineHeight:me.fontInfo.lineHeight,viewLineCount:me.viewLineCount,lineNumbersDigitCount:me.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:me.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:me.fontInfo.maxDigitWidth,pixelRatio:me.pixelRatio,glyphMarginDecorationLaneCount:me.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(me){const _e=me.height/me.lineHeight,Re=Math.floor(me.paddingTop/me.lineHeight);let We=Math.floor(me.paddingBottom/me.lineHeight);me.scrollBeyondLastLine&&(We=Math.max(We,_e-1));const qe=(Re+me.viewLineCount+We)/(me.pixelRatio*me.height),je=Math.floor(me.viewLineCount/qe);return{typicalViewportLineCount:_e,extraLinesBeforeFirstLine:Re,extraLinesBeyondLastLine:We,desiredRatio:qe,minimapLineCount:je}}static _computeMinimapLayout(me,_e){const Re=me.outerWidth,We=me.outerHeight,qe=me.pixelRatio;if(!me.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(qe*We),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:We};const je=_e.stableMinimapLayoutInput,Ze=je&&me.outerHeight===je.outerHeight&&me.lineHeight===je.lineHeight&&me.typicalHalfwidthCharacterWidth===je.typicalHalfwidthCharacterWidth&&me.pixelRatio===je.pixelRatio&&me.scrollBeyondLastLine===je.scrollBeyondLastLine&&me.paddingTop===je.paddingTop&&me.paddingBottom===je.paddingBottom&&me.minimap.enabled===je.minimap.enabled&&me.minimap.side===je.minimap.side&&me.minimap.size===je.minimap.size&&me.minimap.showSlider===je.minimap.showSlider&&me.minimap.renderCharacters===je.minimap.renderCharacters&&me.minimap.maxColumn===je.minimap.maxColumn&&me.minimap.scale===je.minimap.scale&&me.verticalScrollbarWidth===je.verticalScrollbarWidth&&me.isViewportWrapping===je.isViewportWrapping,Je=me.lineHeight,st=me.typicalHalfwidthCharacterWidth,rt=me.scrollBeyondLastLine,pt=me.minimap.renderCharacters;let et=qe>=2?Math.round(me.minimap.scale*2):me.minimap.scale;const ut=me.minimap.maxColumn,ot=me.minimap.size,_t=me.minimap.side,St=me.verticalScrollbarWidth,ye=me.viewLineCount,we=me.remainingWidth,Me=me.isViewportWrapping,Te=pt?2:3;let Le=Math.floor(qe*We);const Fe=Le/qe;let Oe=!1,ze=!1,Ue=Te*et,$e=et/qe,Qe=1;if(ot==="fill"||ot==="fit"){const{typicalViewportLineCount:tt,extraLinesBeforeFirstLine:lt,extraLinesBeyondLastLine:nt,desiredRatio:at,minimapLineCount:dt}=q.computeContainedMinimapLineCount({viewLineCount:ye,scrollBeyondLastLine:rt,paddingTop:me.paddingTop,paddingBottom:me.paddingBottom,height:We,lineHeight:Je,pixelRatio:qe});if(ye/dt>1)Oe=!0,ze=!0,et=1,Ue=1,$e=et/qe;else{let mt=!1,ct=et+1;if(ot==="fit"){const gt=Math.ceil((lt+ye+nt)*Ue);Me&&Ze&&we<=_e.stableFitRemainingWidth?(mt=!0,ct=_e.stableFitMaxMinimapScale):mt=gt>Le}if(ot==="fill"||mt){Oe=!0;const gt=et;Ue=Math.min(Je*qe,Math.max(1,Math.floor(1/at))),Me&&Ze&&we<=_e.stableFitRemainingWidth&&(ct=_e.stableFitMaxMinimapScale),et=Math.min(ct,Math.max(1,Math.floor(Ue/Te))),et>gt&&(Qe=Math.min(2,et/gt)),$e=et/qe/Qe,Le=Math.ceil(Math.max(tt,lt+ye+nt)*Ue),Me?(_e.stableMinimapLayoutInput=me,_e.stableFitRemainingWidth=we,_e.stableFitMaxMinimapScale=et):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0)}}}const Ye=Math.floor(ut*$e),xe=Math.min(Ye,Math.max(0,Math.floor((we-St-2)*$e/(st+$e)))+e.MINIMAP_GUTTER_WIDTH);let Ve=Math.floor(qe*xe);const Ke=Ve/qe;Ve=Math.floor(Ve*Qe);const Ge=pt?1:2,it=_t==="left"?0:Re-xe-St;return{renderMinimap:Ge,minimapLeft:it,minimapWidth:xe,minimapHeightIsEditorHeight:Oe,minimapIsSampling:ze,minimapScale:et,minimapLineHeight:Ue,minimapCanvasInnerWidth:Ve,minimapCanvasInnerHeight:Le,minimapCanvasOuterWidth:Ke,minimapCanvasOuterHeight:Fe}}static computeLayout(me,_e){const Re=_e.outerWidth|0,We=_e.outerHeight|0,qe=_e.lineHeight|0,je=_e.lineNumbersDigitCount|0,Ze=_e.typicalHalfwidthCharacterWidth,Je=_e.maxDigitWidth,st=_e.pixelRatio,rt=_e.viewLineCount,pt=me.get(137),et=pt==="inherit"?me.get(136):pt,ut=et==="inherit"?me.get(132):et,ot=me.get(135),_t=_e.isDominatedByLongLines,St=me.get(57),ye=me.get(68).renderType!==0,we=me.get(69),Me=me.get(105),Te=me.get(84),Le=me.get(73),Fe=me.get(103),Oe=Fe.verticalScrollbarSize,ze=Fe.verticalHasArrows,Ue=Fe.arrowSize,$e=Fe.horizontalScrollbarSize,Qe=me.get(43),Ye=me.get(110)!=="never";let xe=me.get(66);Qe&&Ye&&(xe+=16);let Ve=0;if(ye){const Lt=Math.max(je,we);Ve=Math.round(Lt*Je)}let Ke=0;St&&(Ke=qe*_e.glyphMarginDecorationLaneCount);let Ge=0,it=Ge+Ke,tt=it+Ve,lt=tt+xe;const nt=Re-Ke-Ve-xe;let at=!1,dt=!1,ht=-1;et==="inherit"&&_t?(at=!0,dt=!0):ut==="on"||ut==="bounded"?dt=!0:ut==="wordWrapColumn"&&(ht=ot);const mt=q._computeMinimapLayout({outerWidth:Re,outerHeight:We,lineHeight:qe,typicalHalfwidthCharacterWidth:Ze,pixelRatio:st,scrollBeyondLastLine:Me,paddingTop:Te.top,paddingBottom:Te.bottom,minimap:Le,verticalScrollbarWidth:Oe,viewLineCount:rt,remainingWidth:nt,isViewportWrapping:dt},_e.memory||new v);mt.renderMinimap!==0&&mt.minimapLeft===0&&(Ge+=mt.minimapWidth,it+=mt.minimapWidth,tt+=mt.minimapWidth,lt+=mt.minimapWidth);const ct=nt-mt.minimapWidth,gt=Math.max(1,Math.floor((ct-Oe-2)/Ze)),Et=ze?Ue:0;return dt&&(ht=Math.max(1,gt),ut==="bounded"&&(ht=Math.min(ht,ot))),{width:Re,height:We,glyphMarginLeft:Ge,glyphMarginWidth:Ke,glyphMarginDecorationLaneCount:_e.glyphMarginDecorationLaneCount,lineNumbersLeft:it,lineNumbersWidth:Ve,decorationsLeft:tt,decorationsWidth:xe,contentLeft:lt,contentWidth:ct,minimap:mt,viewportColumn:gt,isWordWrapMinified:at,isViewportWrapping:dt,wrappingColumn:ht,verticalScrollbarWidth:Oe,horizontalScrollbarHeight:$e,overviewRuler:{top:Et,width:Oe,height:We-2*Et,right:0}}}}e.EditorLayoutInfoComputer=q;class z extends _{constructor(){super(139,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[p.localize(47,null),p.localize(48,null)],type:"string",enum:["simple","advanced"],default:"simple",description:p.localize(49,null)}})}validate(me){return o(me,"simple",["simple","advanced"])}compute(me,_e,Re){return _e.get(2)===2?"advanced":Re}}var U;(function(Ne){Ne.Off="off",Ne.OnCode="onCode",Ne.On="on"})(U||(e.ShowLightbulbIconMode=U={}));class Z extends _{constructor(){const me={enabled:U.On};super(65,"lightbulb",me,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[U.Off,U.OnCode,U.On],default:me.enabled,enumDescriptions:[p.localize(50,null),p.localize(51,null),p.localize(52,null)],description:p.localize(53,null)}})}validate(me){return!me||typeof me!="object"?this.defaultValue:{enabled:o(me.enabled,this.defaultValue.enabled,[U.Off,U.OnCode,U.On])}}}class re extends _{constructor(){const me={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(115,"stickyScroll",me,{"editor.stickyScroll.enabled":{type:"boolean",default:me.enabled,description:p.localize(54,null),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:me.maxLineCount,minimum:1,maximum:20,description:p.localize(55,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:me.defaultModel,description:p.localize(56,null)},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:me.scrollWithEditor,description:p.localize(57,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{enabled:n(_e.enabled,this.defaultValue.enabled),maxLineCount:u.clampedInt(_e.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:o(_e.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:n(_e.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class x extends _{constructor(){const me={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(141,"inlayHints",me,{"editor.inlayHints.enabled":{type:"string",default:me.enabled,description:p.localize(58,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[p.localize(59,null),p.localize(60,null,E.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),p.localize(61,null,E.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),p.localize(62,null)]},"editor.inlayHints.fontSize":{type:"number",default:me.fontSize,markdownDescription:p.localize(63,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:me.fontFamily,markdownDescription:p.localize(64,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:me.padding,description:p.localize(65,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return typeof _e.enabled=="boolean"&&(_e.enabled=_e.enabled?"on":"off"),{enabled:o(_e.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:u.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:l.string(_e.fontFamily,this.defaultValue.fontFamily),padding:n(_e.padding,this.defaultValue.padding)}}}class Q extends _{constructor(){super(66,"lineDecorationsWidth",10)}validate(me){return typeof me=="string"&&/^\d+(\.\d+)?ch$/.test(me)?-parseFloat(me.substring(0,me.length-2)):u.clampedInt(me,this.defaultValue,0,1e3)}compute(me,_e,Re){return Re<0?u.clampedInt(-Re*me.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Re}}class X extends r{constructor(){super(67,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,me=>r.clamp(me,0,150),{markdownDescription:p.localize(66,null)})}compute(me,_e,Re){return me.fontInfo.lineHeight}}class Y extends _{constructor(){const me={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9};super(73,"minimap",me,{"editor.minimap.enabled":{type:"boolean",default:me.enabled,description:p.localize(67,null)},"editor.minimap.autohide":{type:"boolean",default:me.autohide,description:p.localize(68,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[p.localize(69,null),p.localize(70,null),p.localize(71,null)],default:me.size,description:p.localize(72,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:me.side,description:p.localize(73,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:me.showSlider,description:p.localize(74,null)},"editor.minimap.scale":{type:"number",default:me.scale,minimum:1,maximum:3,enum:[1,2,3],description:p.localize(75,null)},"editor.minimap.renderCharacters":{type:"boolean",default:me.renderCharacters,description:p.localize(76,null)},"editor.minimap.maxColumn":{type:"number",default:me.maxColumn,description:p.localize(77,null)},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:me.showRegionSectionHeaders,description:p.localize(78,null)},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:me.showMarkSectionHeaders,description:p.localize(79,null)},"editor.minimap.sectionHeaderFontSize":{type:"number",default:me.sectionHeaderFontSize,description:p.localize(80,null)}})}validate(me){var _e;if(!me||typeof me!="object")return this.defaultValue;const Re=me;return{enabled:n(Re.enabled,this.defaultValue.enabled),autohide:n(Re.autohide,this.defaultValue.autohide),size:o(Re.size,this.defaultValue.size,["proportional","fill","fit"]),side:o(Re.side,this.defaultValue.side,["right","left"]),showSlider:o(Re.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:n(Re.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(Re.scale,1,1,3),maxColumn:u.clampedInt(Re.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:n(Re.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:n(Re.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:r.clamp((_e=Re.sectionHeaderFontSize)!==null&&_e!==void 0?_e:this.defaultValue.sectionHeaderFontSize,4,32)}}}function ae(Ne){return Ne==="ctrlCmd"?E.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ce extends _{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:p.localize(81,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:p.localize(82,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{top:u.clampedInt(_e.top,0,0,1e3),bottom:u.clampedInt(_e.bottom,0,0,1e3)}}}class he extends _{constructor(){const me={enabled:!0,cycle:!0};super(86,"parameterHints",me,{"editor.parameterHints.enabled":{type:"boolean",default:me.enabled,description:p.localize(83,null)},"editor.parameterHints.cycle":{type:"boolean",default:me.cycle,description:p.localize(84,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{enabled:n(_e.enabled,this.defaultValue.enabled),cycle:n(_e.cycle,this.defaultValue.cycle)}}}class pe extends i{constructor(){super(143)}compute(me,_e,Re){return me.pixelRatio}}class fe extends _{constructor(){const me={other:"on",comments:"off",strings:"off"},_e=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[p.localize(85,null),p.localize(86,null),p.localize(87,null)]}];super(89,"quickSuggestions",me,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:_e,default:me.strings,description:p.localize(88,null)},comments:{anyOf:_e,default:me.comments,description:p.localize(89,null)},other:{anyOf:_e,default:me.other,description:p.localize(90,null)}},default:me,markdownDescription:p.localize(91,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=me}validate(me){if(typeof me=="boolean"){const st=me?"on":"off";return{comments:st,strings:st,other:st}}if(!me||typeof me!="object")return this.defaultValue;const{other:_e,comments:Re,strings:We}=me,qe=["on","inline","off"];let je,Ze,Je;return typeof _e=="boolean"?je=_e?"on":"off":je=o(_e,this.defaultValue.other,qe),typeof Re=="boolean"?Ze=Re?"on":"off":Ze=o(Re,this.defaultValue.comments,qe),typeof We=="boolean"?Je=We?"on":"off":Je=o(We,this.defaultValue.strings,qe),{other:je,comments:Ze,strings:Je}}}class se extends _{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[p.localize(92,null),p.localize(93,null),p.localize(94,null),p.localize(95,null)],default:"on",description:p.localize(96,null)})}validate(me){let _e=this.defaultValue.renderType,Re=this.defaultValue.renderFn;return typeof me<"u"&&(typeof me=="function"?(_e=4,Re=me):me==="interval"?_e=3:me==="relative"?_e=2:me==="on"?_e=1:_e=0),{renderType:_e,renderFn:Re}}}function te(Ne){const me=Ne.get(98);return me==="editable"?Ne.get(91):me!=="on"}class $ extends _{constructor(){const me=[],_e={type:"number",description:p.localize(97,null)};super(102,"rulers",me,{type:"array",items:{anyOf:[_e,{type:["object"],properties:{column:_e,color:{type:"string",description:p.localize(98,null),format:"color-hex"}}}]},default:me,description:p.localize(99,null)})}validate(me){if(Array.isArray(me)){const _e=[];for(const Re of me)if(typeof Re=="number")_e.push({column:u.clampedInt(Re,0,0,1e4),color:null});else if(Re&&typeof Re=="object"){const We=Re;_e.push({column:u.clampedInt(We.column,0,0,1e4),color:We.color})}return _e.sort((Re,We)=>Re.column-We.column),_e}return this.defaultValue}}class W extends _{constructor(){super(92,"readOnlyMessage",void 0)}validate(me){return!me||typeof me!="object"?this.defaultValue:me}}function j(Ne,me){if(typeof Ne!="string")return me;switch(Ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class K extends _{constructor(){const me={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(103,"scrollbar",me,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.localize(100,null),p.localize(101,null),p.localize(102,null)],default:"auto",description:p.localize(103,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.localize(104,null),p.localize(105,null),p.localize(106,null)],default:"auto",description:p.localize(107,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:me.verticalScrollbarSize,description:p.localize(108,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:me.horizontalScrollbarSize,description:p.localize(109,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:me.scrollByPage,description:p.localize(110,null)},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:me.ignoreHorizontalScrollbarInContentHeight,description:p.localize(111,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me,Re=u.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),We=u.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:j(_e.vertical,this.defaultValue.vertical),horizontal:j(_e.horizontal,this.defaultValue.horizontal),useShadows:n(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:n(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:n(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:n(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:n(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Re,horizontalSliderSize:u.clampedInt(_e.horizontalSliderSize,Re,0,1e3),verticalScrollbarSize:We,verticalSliderSize:u.clampedInt(_e.verticalSliderSize,We,0,1e3),scrollByPage:n(_e.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:n(_e.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class G extends _{constructor(){const me={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(125,"unicodeHighlight",me,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.nonBasicASCII,description:p.localize(112,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:me.invisibleCharacters,description:p.localize(113,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:me.ambiguousCharacters,description:p.localize(114,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.includeComments,description:p.localize(115,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.includeStrings,description:p.localize(116,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:me.allowedCharacters,description:p.localize(117,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:me.allowedLocales,description:p.localize(118,null)}})}applyUpdate(me,_e){let Re=!1;_e.allowedCharacters&&me&&(k.equals(me.allowedCharacters,_e.allowedCharacters)||(me={...me,allowedCharacters:_e.allowedCharacters},Re=!0)),_e.allowedLocales&&me&&(k.equals(me.allowedLocales,_e.allowedLocales)||(me={...me,allowedLocales:_e.allowedLocales},Re=!0));const We=super.applyUpdate(me,_e);return Re?new a(We.newValue,!0):We}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{nonBasicASCII:ge(_e.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:n(_e.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:n(_e.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ge(_e.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:ge(_e.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(me.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(me.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(me,_e){if(typeof me!="object"||!me)return _e;const Re={};for(const[We,qe]of Object.entries(me))qe===!0&&(Re[We]=!0);return Re}}class ee extends _{constructor(){const me={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",me,{"editor.inlineSuggest.enabled":{type:"boolean",default:me.enabled,description:p.localize(119,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:me.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.localize(120,null),p.localize(121,null),p.localize(122,null)],description:p.localize(123,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:me.suppressSuggestions,description:p.localize(124,null)},"editor.inlineSuggest.fontFamily":{type:"string",default:me.fontFamily,description:p.localize(125,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{enabled:n(_e.enabled,this.defaultValue.enabled),mode:o(_e.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:o(_e.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:n(_e.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:n(_e.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:l.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class oe extends _{constructor(){const me={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",me,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:me.enabled,description:p.localize(126,null)},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:me.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.localize(127,null),p.localize(128,null),p.localize(129,null)],description:p.localize(130,null)},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:me.fontFamily,description:p.localize(131,null)},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:me.backgroundColoring,description:p.localize(132,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{enabled:n(_e.enabled,this.defaultValue.enabled),showToolbar:o(_e.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:l.string(_e.fontFamily,this.defaultValue.fontFamily),keepOnBlur:n(_e.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:n(_e.backgroundColoring,this.defaultValue.backgroundColoring)}}}class de extends _{constructor(){const me={enabled:L.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:L.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",me,{"editor.bracketPairColorization.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(133,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:me.independentColorPoolPerBracketType,description:p.localize(134,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{enabled:n(_e.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:n(_e.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class le extends _{constructor(){const me={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",me,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.localize(135,null),p.localize(136,null),p.localize(137,null)],default:me.bracketPairs,description:p.localize(138,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.localize(139,null),p.localize(140,null),p.localize(141,null)],default:me.bracketPairsHorizontal,description:p.localize(142,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:me.highlightActiveBracketPair,description:p.localize(143,null)},"editor.guides.indentation":{type:"boolean",default:me.indentation,description:p.localize(144,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[p.localize(145,null),p.localize(146,null),p.localize(147,null)],default:me.highlightActiveIndentation,description:p.localize(148,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{bracketPairs:ge(_e.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ge(_e.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:n(_e.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:n(_e.indentation,this.defaultValue.indentation),highlightActiveIndentation:ge(_e.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function ge(Ne,me,_e){const Re=_e.indexOf(Ne);return Re===-1?me:_e[Re]}class ve extends _{constructor(){const me={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(118,"suggest",me,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[p.localize(149,null),p.localize(150,null)],default:me.insertMode,description:p.localize(151,null)},"editor.suggest.filterGraceful":{type:"boolean",default:me.filterGraceful,description:p.localize(152,null)},"editor.suggest.localityBonus":{type:"boolean",default:me.localityBonus,description:p.localize(153,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:me.shareSuggestSelections,markdownDescription:p.localize(154,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[p.localize(155,null),p.localize(156,null),p.localize(157,null),p.localize(158,null)],default:me.selectionMode,markdownDescription:p.localize(159,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:me.snippetsPreventQuickSuggestions,description:p.localize(160,null)},"editor.suggest.showIcons":{type:"boolean",default:me.showIcons,description:p.localize(161,null)},"editor.suggest.showStatusBar":{type:"boolean",default:me.showStatusBar,description:p.localize(162,null)},"editor.suggest.preview":{type:"boolean",default:me.preview,description:p.localize(163,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:me.showInlineDetails,description:p.localize(164,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:p.localize(165,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:p.localize(166,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:p.localize(167,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:p.localize(168,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:p.localize(169,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:p.localize(170,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:p.localize(171,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:p.localize(172,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:p.localize(173,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:p.localize(174,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:p.localize(175,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:p.localize(176,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:p.localize(177,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:p.localize(178,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:p.localize(179,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:p.localize(180,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:p.localize(181,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:p.localize(182,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:p.localize(183,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:p.localize(184,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:p.localize(185,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:p.localize(186,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:p.localize(187,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:p.localize(188,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:p.localize(189,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:p.localize(190,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:p.localize(191,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:p.localize(192,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:p.localize(193,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:p.localize(194,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:p.localize(195,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:p.localize(196,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{insertMode:o(_e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:n(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:n(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:n(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:n(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:o(_e.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:n(_e.showIcons,this.defaultValue.showIcons),showStatusBar:n(_e.showStatusBar,this.defaultValue.showStatusBar),preview:n(_e.preview,this.defaultValue.preview),previewMode:o(_e.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:n(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:n(_e.showMethods,this.defaultValue.showMethods),showFunctions:n(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:n(_e.showConstructors,this.defaultValue.showConstructors),showDeprecated:n(_e.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:n(_e.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:n(_e.showFields,this.defaultValue.showFields),showVariables:n(_e.showVariables,this.defaultValue.showVariables),showClasses:n(_e.showClasses,this.defaultValue.showClasses),showStructs:n(_e.showStructs,this.defaultValue.showStructs),showInterfaces:n(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:n(_e.showModules,this.defaultValue.showModules),showProperties:n(_e.showProperties,this.defaultValue.showProperties),showEvents:n(_e.showEvents,this.defaultValue.showEvents),showOperators:n(_e.showOperators,this.defaultValue.showOperators),showUnits:n(_e.showUnits,this.defaultValue.showUnits),showValues:n(_e.showValues,this.defaultValue.showValues),showConstants:n(_e.showConstants,this.defaultValue.showConstants),showEnums:n(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:n(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:n(_e.showKeywords,this.defaultValue.showKeywords),showWords:n(_e.showWords,this.defaultValue.showWords),showColors:n(_e.showColors,this.defaultValue.showColors),showFiles:n(_e.showFiles,this.defaultValue.showFiles),showReferences:n(_e.showReferences,this.defaultValue.showReferences),showFolders:n(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:n(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:n(_e.showSnippets,this.defaultValue.showSnippets),showUsers:n(_e.showUsers,this.defaultValue.showUsers),showIssues:n(_e.showIssues,this.defaultValue.showIssues)}}}class Ce extends _{constructor(){super(113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:p.localize(197,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:p.localize(198,null),default:!0,type:"boolean"}})}validate(me){return!me||typeof me!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:n(me.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:n(me.selectSubwords,this.defaultValue.selectSubwords)}}}class Se extends _{constructor(){const me=[];super(130,"wordSegmenterLocales",me,{anyOf:[{description:p.localize(199,null),type:"string"},{description:p.localize(200,null),type:"array",items:{type:"string"}}]})}validate(me){if(typeof me=="string"&&(me=[me]),Array.isArray(me)){const _e=[];for(const Re of me)if(typeof Re=="string")try{Intl.Segmenter.supportedLocalesOf(Re).length>0&&_e.push(Re)}catch{}return _e}return this.defaultValue}}class be extends _{constructor(){super(138,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[p.localize(201,null),p.localize(202,null),p.localize(203,null),p.localize(204,null)],description:p.localize(205,null),default:"same"}})}validate(me){switch(me){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(me,_e,Re){return _e.get(2)===2?0:Re}}class ke extends i{constructor(){super(146)}compute(me,_e,Re){const We=_e.get(145);return{isDominatedByLongLines:me.isDominatedByLongLines,isWordWrapMinified:We.isWordWrapMinified,isViewportWrapping:We.isViewportWrapping,wrappingColumn:We.wrappingColumn}}}class Ee extends _{constructor(){const me={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",me,{"editor.dropIntoEditor.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(206,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:p.localize(207,null),enum:["afterDrop","never"],enumDescriptions:[p.localize(208,null),p.localize(209,null)],default:"afterDrop"}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{enabled:n(_e.enabled,this.defaultValue.enabled),showDropSelector:o(_e.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ae extends _{constructor(){const me={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",me,{"editor.pasteAs.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(210,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:p.localize(211,null),enum:["afterPaste","never"],enumDescriptions:[p.localize(212,null),p.localize(213,null)],default:"afterPaste"}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const _e=me;return{enabled:n(_e.enabled,this.defaultValue.enabled),showPasteSelector:o(_e.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Pe="Consolas, 'Courier New', monospace",He="Menlo, Monaco, 'Courier New', monospace",Be="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:E.isMacintosh?He:E.isLinux?Be:Pe,fontWeight:"normal",fontSize:E.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function De(Ne){return e.editorOptionsRegistry[Ne.id]=Ne,Ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:De(new h(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:p.localize(214,null)})),acceptSuggestionOnEnter:De(new g(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",p.localize(215,null),""],markdownDescription:p.localize(216,null)})),accessibilitySupport:De(new C),accessibilityPageSize:De(new u(3,"accessibilityPageSize",10,1,1073741824,{description:p.localize(217,null),tags:["accessibility"]})),ariaLabel:De(new l(4,"ariaLabel",p.localize(218,null))),ariaRequired:De(new h(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:De(new h(8,"screenReaderAnnounceInlineSuggestion",!0,{description:p.localize(219,null),tags:["accessibility"]})),autoClosingBrackets:De(new g(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(220,null),p.localize(221,null),""],description:p.localize(222,null)})),autoClosingComments:De(new g(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(223,null),p.localize(224,null),""],description:p.localize(225,null)})),autoClosingDelete:De(new g(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",p.localize(226,null),""],description:p.localize(227,null)})),autoClosingOvertype:De(new g(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",p.localize(228,null),""],description:p.localize(229,null)})),autoClosingQuotes:De(new g(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(230,null),p.localize(231,null),""],description:p.localize(232,null)})),autoIndent:De(new c(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],b,{enumDescriptions:[p.localize(233,null),p.localize(234,null),p.localize(235,null),p.localize(236,null),p.localize(237,null)],description:p.localize(238,null)})),automaticLayout:De(new h(13,"automaticLayout",!1)),autoSurround:De(new g(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[p.localize(239,null),p.localize(240,null),p.localize(241,null),""],description:p.localize(242,null)})),bracketPairColorization:De(new de),bracketPairGuides:De(new le),stickyTabStops:De(new h(116,"stickyTabStops",!1,{description:p.localize(243,null)})),codeLens:De(new h(17,"codeLens",!0,{description:p.localize(244,null)})),codeLensFontFamily:De(new l(18,"codeLensFontFamily","",{description:p.localize(245,null)})),codeLensFontSize:De(new u(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:p.localize(246,null)})),colorDecorators:De(new h(20,"colorDecorators",!0,{description:p.localize(247,null)})),colorDecoratorActivatedOn:De(new g(148,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[p.localize(248,null),p.localize(249,null),p.localize(250,null)],description:p.localize(251,null)})),colorDecoratorsLimit:De(new u(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:p.localize(252,null)})),columnSelection:De(new h(22,"columnSelection",!1,{description:p.localize(253,null)})),comments:De(new S),contextmenu:De(new h(24,"contextmenu",!0)),copyWithSyntaxHighlighting:De(new h(25,"copyWithSyntaxHighlighting",!0,{description:p.localize(254,null)})),cursorBlinking:De(new c(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],D,{description:p.localize(255,null)})),cursorSmoothCaretAnimation:De(new g(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[p.localize(256,null),p.localize(257,null),p.localize(258,null)],description:p.localize(259,null)})),cursorStyle:De(new c(28,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:p.localize(260,null)})),cursorSurroundingLines:De(new u(29,"cursorSurroundingLines",0,0,1073741824,{description:p.localize(261,null)})),cursorSurroundingLinesStyle:De(new g(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[p.localize(262,null),p.localize(263,null)],markdownDescription:p.localize(264,null)})),cursorWidth:De(new u(31,"cursorWidth",0,0,1073741824,{markdownDescription:p.localize(265,null)})),disableLayerHinting:De(new h(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:De(new h(33,"disableMonospaceOptimizations",!1)),domReadOnly:De(new h(34,"domReadOnly",!1)),dragAndDrop:De(new h(35,"dragAndDrop",!0,{description:p.localize(266,null)})),emptySelectionClipboard:De(new A),dropIntoEditor:De(new Ee),stickyScroll:De(new re),experimentalWhitespaceRendering:De(new g(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[p.localize(267,null),p.localize(268,null),p.localize(269,null)],description:p.localize(270,null)})),extraEditorClassName:De(new l(39,"extraEditorClassName","")),fastScrollSensitivity:De(new r(40,"fastScrollSensitivity",5,Ne=>Ne<=0?5:Ne,{markdownDescription:p.localize(271,null)})),find:De(new P),fixedOverflowWidgets:De(new h(42,"fixedOverflowWidgets",!1)),folding:De(new h(43,"folding",!0,{description:p.localize(272,null)})),foldingStrategy:De(new g(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[p.localize(273,null),p.localize(274,null)],description:p.localize(275,null)})),foldingHighlight:De(new h(45,"foldingHighlight",!0,{description:p.localize(276,null)})),foldingImportsByDefault:De(new h(46,"foldingImportsByDefault",!1,{description:p.localize(277,null)})),foldingMaximumRegions:De(new u(47,"foldingMaximumRegions",5e3,10,65e3,{description:p.localize(278,null)})),unfoldOnClickAfterEndOfLine:De(new h(48,"unfoldOnClickAfterEndOfLine",!1,{description:p.localize(279,null)})),fontFamily:De(new l(49,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:p.localize(280,null)})),fontInfo:De(new F),fontLigatures2:De(new M),fontSize:De(new O),fontWeight:De(new B),fontVariations:De(new R),formatOnPaste:De(new h(55,"formatOnPaste",!1,{description:p.localize(281,null)})),formatOnType:De(new h(56,"formatOnType",!1,{description:p.localize(282,null)})),glyphMargin:De(new h(57,"glyphMargin",!0,{description:p.localize(283,null)})),gotoLocation:De(new H),hideCursorInOverviewRuler:De(new h(59,"hideCursorInOverviewRuler",!1,{description:p.localize(284,null)})),hover:De(new V),inDiffEditor:De(new h(61,"inDiffEditor",!1)),letterSpacing:De(new r(64,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Ne=>r.clamp(Ne,-5,20),{description:p.localize(285,null)})),lightbulb:De(new Z),lineDecorationsWidth:De(new Q),lineHeight:De(new X),lineNumbers:De(new se),lineNumbersMinChars:De(new u(69,"lineNumbersMinChars",5,1,300)),linkedEditing:De(new h(70,"linkedEditing",!1,{description:p.localize(286,null)})),links:De(new h(71,"links",!0,{description:p.localize(287,null)})),matchBrackets:De(new g(72,"matchBrackets","always",["always","near","never"],{description:p.localize(288,null)})),minimap:De(new Y),mouseStyle:De(new g(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:De(new r(75,"mouseWheelScrollSensitivity",1,Ne=>Ne===0?1:Ne,{markdownDescription:p.localize(289,null)})),mouseWheelZoom:De(new h(76,"mouseWheelZoom",!1,{markdownDescription:E.isMacintosh?p.localize(290,null):p.localize(291,null)})),multiCursorMergeOverlapping:De(new h(77,"multiCursorMergeOverlapping",!0,{description:p.localize(292,null)})),multiCursorModifier:De(new c(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],ae,{markdownEnumDescriptions:[p.localize(293,null),p.localize(294,null)],markdownDescription:p.localize(295,null)})),multiCursorPaste:De(new g(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[p.localize(296,null),p.localize(297,null)],markdownDescription:p.localize(298,null)})),multiCursorLimit:De(new u(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:p.localize(299,null)})),occurrencesHighlight:De(new g(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[p.localize(300,null),p.localize(301,null),p.localize(302,null)],markdownDescription:p.localize(303,null)})),overviewRulerBorder:De(new h(82,"overviewRulerBorder",!0,{description:p.localize(304,null)})),overviewRulerLanes:De(new u(83,"overviewRulerLanes",3,0,3)),padding:De(new ce),pasteAs:De(new Ae),parameterHints:De(new he),peekWidgetDefaultFocus:De(new g(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[p.localize(305,null),p.localize(306,null)],description:p.localize(307,null)})),definitionLinkOpensInPeek:De(new h(88,"definitionLinkOpensInPeek",!1,{description:p.localize(308,null)})),quickSuggestions:De(new fe),quickSuggestionsDelay:De(new u(90,"quickSuggestionsDelay",10,0,1073741824,{description:p.localize(309,null)})),readOnly:De(new h(91,"readOnly",!1)),readOnlyMessage:De(new W),renameOnType:De(new h(93,"renameOnType",!1,{description:p.localize(310,null),markdownDeprecationMessage:p.localize(311,null)})),renderControlCharacters:De(new h(94,"renderControlCharacters",!0,{description:p.localize(312,null),restricted:!0})),renderFinalNewline:De(new g(95,"renderFinalNewline",E.isLinux?"dimmed":"on",["off","on","dimmed"],{description:p.localize(313,null)})),renderLineHighlight:De(new g(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",p.localize(314,null)],description:p.localize(315,null)})),renderLineHighlightOnlyWhenFocus:De(new h(97,"renderLineHighlightOnlyWhenFocus",!1,{description:p.localize(316,null)})),renderValidationDecorations:De(new g(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:De(new g(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",p.localize(317,null),p.localize(318,null),p.localize(319,null),""],description:p.localize(320,null)})),revealHorizontalRightPadding:De(new u(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:De(new h(101,"roundedSelection",!0,{description:p.localize(321,null)})),rulers:De(new $),scrollbar:De(new K),scrollBeyondLastColumn:De(new u(104,"scrollBeyondLastColumn",4,0,1073741824,{description:p.localize(322,null)})),scrollBeyondLastLine:De(new h(105,"scrollBeyondLastLine",!0,{description:p.localize(323,null)})),scrollPredominantAxis:De(new h(106,"scrollPredominantAxis",!0,{description:p.localize(324,null)})),selectionClipboard:De(new h(107,"selectionClipboard",!0,{description:p.localize(325,null),included:E.isLinux})),selectionHighlight:De(new h(108,"selectionHighlight",!0,{description:p.localize(326,null)})),selectOnLineNumbers:De(new h(109,"selectOnLineNumbers",!0)),showFoldingControls:De(new g(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[p.localize(327,null),p.localize(328,null),p.localize(329,null)],description:p.localize(330,null)})),showUnused:De(new h(111,"showUnused",!0,{description:p.localize(331,null)})),showDeprecated:De(new h(140,"showDeprecated",!0,{description:p.localize(332,null)})),inlayHints:De(new x),snippetSuggestions:De(new g(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[p.localize(333,null),p.localize(334,null),p.localize(335,null),p.localize(336,null)],description:p.localize(337,null)})),smartSelect:De(new Ce),smoothScrolling:De(new h(114,"smoothScrolling",!1,{description:p.localize(338,null)})),stopRenderingLineAfter:De(new u(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:De(new ve),inlineSuggest:De(new ee),inlineEdit:De(new oe),inlineCompletionsAccessibilityVerbose:De(new h(149,"inlineCompletionsAccessibilityVerbose",!1,{description:p.localize(339,null)})),suggestFontSize:De(new u(119,"suggestFontSize",0,0,1e3,{markdownDescription:p.localize(340,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:De(new u(120,"suggestLineHeight",0,0,1e3,{markdownDescription:p.localize(341,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:De(new h(121,"suggestOnTriggerCharacters",!0,{description:p.localize(342,null)})),suggestSelection:De(new g(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[p.localize(343,null),p.localize(344,null),p.localize(345,null)],description:p.localize(346,null)})),tabCompletion:De(new g(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[p.localize(347,null),p.localize(348,null),p.localize(349,null)],description:p.localize(350,null)})),tabIndex:De(new u(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:De(new G),unusualLineTerminators:De(new g(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[p.localize(351,null),p.localize(352,null),p.localize(353,null)],description:p.localize(354,null)})),useShadowDOM:De(new h(127,"useShadowDOM",!0)),useTabStops:De(new h(128,"useTabStops",!0,{description:p.localize(355,null)})),wordBreak:De(new g(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[p.localize(356,null),p.localize(357,null)],description:p.localize(358,null)})),wordSegmenterLocales:De(new Se),wordSeparators:De(new l(131,"wordSeparators",y.USUAL_WORD_SEPARATORS,{description:p.localize(359,null)})),wordWrap:De(new g(132,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[p.localize(360,null),p.localize(361,null),p.localize(362,null),p.localize(363,null)],description:p.localize(364,null)})),wordWrapBreakAfterCharacters:De(new l(133,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:De(new l(134,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:De(new u(135,"wordWrapColumn",80,1,1073741824,{markdownDescription:p.localize(365,null)})),wordWrapOverride1:De(new g(136,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:De(new g(137,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:De(new N),defaultColorDecorators:De(new h(147,"defaultColorDecorators",!1,{markdownDescription:p.localize(366,null)})),pixelRatio:De(new pe),tabFocusMode:De(new h(144,"tabFocusMode",!1,{markdownDescription:p.localize(367,null)})),layoutInfo:De(new q),wrappingInfo:De(new ke),wrappingIndent:De(new be),wrappingStrategy:De(new z)}}),define(ie[665],ne([1,0,6,40,11,71,38,9,5,216]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=e.CursorPlurality=void 0;class _{constructor(t,n,h,m,u,d,r){this.top=t,this.left=n,this.paddingLeft=h,this.width=m,this.height=u,this.textContent=d,this.textContentClassName=r}}var a;(function(i){i[i.Single=0]="Single",i[i.MultiPrimary=1]="MultiPrimary",i[i.MultiSecondary=2]="MultiSecondary"})(a||(e.CursorPlurality=a={}));class s{constructor(t,n){this._context=t;const h=this._context.configuration.options,m=h.get(50);this._cursorStyle=h.get(28),this._lineHeight=h.get(67),this._typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(h.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${v.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,L.applyFontInfo)(this._domNode,m),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._pluralityClass="",this.setPlurality(n),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(t){switch(t){default:case a.Single:this._pluralityClass="";break;case a.MultiPrimary:this._pluralityClass="cursor-primary";break;case a.MultiSecondary:this._pluralityClass="cursor-secondary";break}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const n=this._context.configuration.options,h=n.get(50);return this._cursorStyle=n.get(28),this._lineHeight=n.get(67),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(31),this._typicalHalfwidthCharacterWidth),(0,L.applyFontInfo)(this._domNode,h),!0}onCursorPositionChanged(t,n){return n?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:n}=this._position,h=this._context.viewModel.getLineContent(t),[m,u]=E.getCharContainingOffset(h,n-1);return[new p.Position(t,m+1),h.substring(m,u)]}_prepareRender(t){let n="",h="";const[m,u]=this._getGraphemeAwarePosition();if(this._cursorStyle===y.TextEditorCursorStyle.Line||this._cursorStyle===y.TextEditorCursorStyle.LineThin){const b=t.visibleRangeForPosition(m);if(!b||b.outsideRenderedLine)return null;const C=f.getWindow(this._domNode.domNode);let S;this._cursorStyle===y.TextEditorCursorStyle.Line?(S=f.computeScreenAwareSize(C,this._lineCursorWidth>0?this._lineCursorWidth:2),S>2&&(n=u,h=this._getTokenClassName(m))):S=f.computeScreenAwareSize(C,1);let D=b.left,I=0;S>=2&&D>=1&&(I=1,D-=I);const T=t.getVerticalOffsetForLineNumber(m.lineNumber)-t.bigNumbersDelta;return new _(T,D,I,S,this._lineHeight,n,h)}const d=t.linesVisibleRangesForRange(new w.Range(m.lineNumber,m.column,m.lineNumber,m.column+u.length),!1);if(!d||d.length===0)return null;const r=d[0];if(r.outsideRenderedLine||r.ranges.length===0)return null;const l=r.ranges[0],o=u==="	"?this._typicalHalfwidthCharacterWidth:l.width<1?this._typicalHalfwidthCharacterWidth:l.width;this._cursorStyle===y.TextEditorCursorStyle.Block&&(n=u,h=this._getTokenClassName(m));let g=t.getVerticalOffsetForLineNumber(m.lineNumber)-t.bigNumbersDelta,c=this._lineHeight;return(this._cursorStyle===y.TextEditorCursorStyle.Underline||this._cursorStyle===y.TextEditorCursorStyle.UnderlineThin)&&(g+=this._lineHeight-2,c=2),new _(g,l.left,0,o,c,n,h)}_getTokenClassName(t){const n=this._context.viewModel.getViewLineData(t.lineNumber),h=n.tokens.findTokenIndexAtOffset(t.column-1);return n.tokens.getClassName(h)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${v.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(ie[252],ne([1,0,17,38,158]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const L=f.isMacintosh?1.5:1.35,y=8;class p{static createFromValidatedSettings(_,a,s){const i=_.get(49),t=_.get(53),n=_.get(52),h=_.get(51),m=_.get(54),u=_.get(67),d=_.get(64);return p._create(i,t,n,h,m,u,d,a,s)}static _create(_,a,s,i,t,n,h,m,u){n===0?n=L*s:n<y&&(n=n*s),n=Math.round(n),n<y&&(n=y);const d=1+(u?0:E.EditorZoom.getZoomLevel()*.1);return s*=d,n*=d,t===k.EditorFontVariations.TRANSLATE&&(a==="normal"||a==="bold"?t=k.EditorFontVariations.OFF:(t=`'wght' ${parseInt(a,10)}`,a="normal")),new p({pixelRatio:m,fontFamily:_,fontWeight:a,fontSize:s,fontFeatureSettings:i,fontVariationSettings:t,lineHeight:n,letterSpacing:h})}constructor(_){this._bareFontInfoBrand=void 0,this.pixelRatio=_.pixelRatio,this.fontFamily=String(_.fontFamily),this.fontWeight=String(_.fontWeight),this.fontSize=_.fontSize,this.fontFeatureSettings=_.fontFeatureSettings,this.fontVariationSettings=_.fontVariationSettings,this.lineHeight=_.lineHeight|0,this.letterSpacing=_.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const _=k.EDITOR_FONT_DEFAULTS.fontFamily,a=p._wrapInQuotes(this.fontFamily);return _&&this.fontFamily!==_?`${a}, ${_}`:a}static _wrapInQuotes(_){return/[,"']/.test(_)?_:/[+ ]/.test(_)?`"${_}"`:_}}e.BareFontInfo=p,e.SERIALIZED_FONT_INFO_VERSION=2;class w extends p{constructor(_,a){super(_),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=a,this.isMonospace=_.isMonospace,this.typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=_.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.maxDigitWidth=_.maxDigitWidth}equals(_){return this.fontFamily===_.fontFamily&&this.fontWeight===_.fontWeight&&this.fontSize===_.fontSize&&this.fontFeatureSettings===_.fontFeatureSettings&&this.fontVariationSettings===_.fontVariationSettings&&this.lineHeight===_.lineHeight&&this.letterSpacing===_.letterSpacing&&this.typicalHalfwidthCharacterWidth===_.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===_.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.spaceWidth===_.spaceWidth&&this.middotWidth===_.middotWidth&&this.wsmiddotWidth===_.wsmiddotWidth&&this.maxDigitWidth===_.maxDigitWidth}}e.FontInfo=w}),define(ie[352],ne([1,0,6,241,7,2,514,38,252]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class v extends L.Disposable{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(s){const i=(0,f.getWindowId)(s);let t=this._cache.get(i);return t||(t=new _,this._cache.set(i,t)),t}_writeToCache(s,i,t){this._ensureCache(s).put(i,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=s.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(s)},5e3))}_evictUntrustedReadings(s){const i=this._ensureCache(s),t=i.getValues();let n=!1;for(const h of t)h.isTrusted||(n=!0,i.remove(h));n&&this._onDidChange.fire()}readFontInfo(s,i){const t=this._ensureCache(s);if(!t.has(i)){let n=this._actualReadFontInfo(s,i);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(s).value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,fontVariationSettings:n.fontVariationSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(s,i,n)}return t.get(i)}_createRequest(s,i,t,n){const h=new y.CharWidthRequest(s,i);return t.push(h),n?.push(h),h}_actualReadFontInfo(s,i){const t=[],n=[],h=this._createRequest("n",0,t,n),m=this._createRequest("\uFF4D",0,t,null),u=this._createRequest(" ",0,t,n),d=this._createRequest("0",0,t,n),r=this._createRequest("1",0,t,n),l=this._createRequest("2",0,t,n),o=this._createRequest("3",0,t,n),g=this._createRequest("4",0,t,n),c=this._createRequest("5",0,t,n),b=this._createRequest("6",0,t,n),C=this._createRequest("7",0,t,n),S=this._createRequest("8",0,t,n),D=this._createRequest("9",0,t,n),I=this._createRequest("\u2192",0,t,n),T=this._createRequest("\uFFEB",0,t,null),N=this._createRequest("\xB7",0,t,n),A=this._createRequest("\u2E31",0,t,null),P="|/-_ilm%";for(let B=0,H=P.length;B<H;B++)this._createRequest(P.charAt(B),0,t,n),this._createRequest(P.charAt(B),1,t,n),this._createRequest(P.charAt(B),2,t,n);(0,y.readCharWidths)(s,i,t);const M=Math.max(d.width,r.width,l.width,o.width,g.width,c.width,b.width,C.width,S.width,D.width);let R=i.fontFeatureSettings===p.EditorFontLigatures.OFF;const F=n[0].width;for(let B=1,H=n.length;R&&B<H;B++){const V=F-n[B].width;if(V<-.001||V>.001){R=!1;break}}let O=!0;return R&&T.width!==F&&(O=!1),T.width>I.width&&(O=!1),new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(s).value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:R,typicalHalfwidthCharacterWidth:h.width,typicalFullwidthCharacterWidth:m.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:u.width,middotWidth:N.width,wsmiddotWidth:A.width,maxDigitWidth:M},!0)}}e.FontMeasurementsImpl=v;class _{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const i=s.getId();return!!this._values[i]}get(s){const i=s.getId();return this._values[i]}put(s,i){const t=s.getId();this._keys[t]=s,this._values[t]=i}remove(s){const i=s.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}e.FontMeasurements=new v}),define(ie[353],ne([1,0,9,5,91,38]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0,e.isModelDecorationVisible=p,e.isModelDecorationInComment=w,e.isModelDecorationInString=v;class y{constructor(s,i,t,n,h){this.editorId=s,this.model=i,this.configuration=t,this._linesCollection=n,this._coordinatesConverter=h,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(s){const i=s.id;let t=this._decorationsCache[i];if(!t){const n=s.range,h=s.options;let m;if(h.isWholeLine){const u=this._coordinatesConverter.convertModelPositionToViewPosition(new f.Position(n.startLineNumber,1),0,!1,!0),d=this._coordinatesConverter.convertModelPositionToViewPosition(new f.Position(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);m=new k.Range(u.lineNumber,u.column,d.lineNumber,d.column)}else m=this._coordinatesConverter.convertModelRangeToViewRange(n,1);t=new E.ViewModelDecoration(m,h),this._decorationsCache[i]=t}return t}getMinimapDecorationsInRange(s){return this._getDecorationsInRange(s,!0,!1).decorations}getDecorationsViewportData(s){let i=this._cachedModelDecorationsResolver!==null;return i=i&&s.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(s,!1,!1),this._cachedModelDecorationsResolverViewRange=s),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(s,i=!1,t=!1){const n=new k.Range(s,this._linesCollection.getViewLineMinColumn(s),s,this._linesCollection.getViewLineMaxColumn(s));return this._getDecorationsInRange(n,i,t).inlineDecorations[0]}_getDecorationsInRange(s,i,t){const n=this._linesCollection.getDecorationsInRange(s,this.editorId,(0,L.filterValidationDecorations)(this.configuration.options),i,t),h=s.startLineNumber,m=s.endLineNumber,u=[];let d=0;const r=[];for(let l=h;l<=m;l++)r[l-h]=[];for(let l=0,o=n.length;l<o;l++){const g=n[l],c=g.options;if(!p(this.model,g))continue;const b=this._getOrCreateViewModelDecoration(g),C=b.range;if(u[d++]=b,c.inlineClassName){const S=new E.InlineDecoration(C,c.inlineClassName,c.inlineClassNameAffectsLetterSpacing?3:0),D=Math.max(h,C.startLineNumber),I=Math.min(m,C.endLineNumber);for(let T=D;T<=I;T++)r[T-h].push(S)}if(c.beforeContentClassName&&h<=C.startLineNumber&&C.startLineNumber<=m){const S=new E.InlineDecoration(new k.Range(C.startLineNumber,C.startColumn,C.startLineNumber,C.startColumn),c.beforeContentClassName,1);r[C.startLineNumber-h].push(S)}if(c.afterContentClassName&&h<=C.endLineNumber&&C.endLineNumber<=m){const S=new E.InlineDecoration(new k.Range(C.endLineNumber,C.endColumn,C.endLineNumber,C.endColumn),c.afterContentClassName,2);r[C.endLineNumber-h].push(S)}}return{decorations:u,inlineDecorations:r}}}e.ViewModelDecorations=y;function p(a,s){return!(s.options.hideInCommentTokens&&w(a,s)||s.options.hideInStringTokens&&v(a,s))}function w(a,s){return _(a,s.range,i=>i===1)}function v(a,s){return _(a,s.range,i=>i===2)}function _(a,s,i){for(let t=s.startLineNumber;t<=s.endLineNumber;t++){const n=a.tokenization.getLineTokens(t),h=t===s.startLineNumber,m=t===s.endLineNumber;let u=h?n.findTokenIndexAtOffset(s.startColumn-1):0;for(;u<n.getCount()&&!(m&&n.getStartOffset(u)>s.endColumn-1);){if(!i(n.getStandardTokenType(u)))return!1;u++}}return!0}}),define(ie[666],ne([3,4]),function(J,e){return J.create("vs/editor/common/core/editorColorRegistry",e)}),define(ie[667],ne([3,4]),function(J,e){return J.create("vs/editor/common/editorContextKeys",e)}),define(ie[668],ne([3,4]),function(J,e){return J.create("vs/editor/common/languages",e)}),define(ie[29],ne([1,0,26,22,5,556,668]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditTriggerKind=e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.NewSymbolNameTag=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.symbolKindNames=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.DocumentPasteTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0,e.isLocationLink=h,e.getAriaLabelForSymbol=m;class p{constructor(S,D,I){this.offset=S,this.type=D,this.language=I,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=p;class w{constructor(S,D){this.tokens=S,this.endState=D,this._tokenizationResultBrand=void 0}}e.TokenizationResult=w;class v{constructor(S,D){this.tokens=S,this.endState=D,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=v;var _;(function(C){const S=new Map;S.set(0,f.Codicon.symbolMethod),S.set(1,f.Codicon.symbolFunction),S.set(2,f.Codicon.symbolConstructor),S.set(3,f.Codicon.symbolField),S.set(4,f.Codicon.symbolVariable),S.set(5,f.Codicon.symbolClass),S.set(6,f.Codicon.symbolStruct),S.set(7,f.Codicon.symbolInterface),S.set(8,f.Codicon.symbolModule),S.set(9,f.Codicon.symbolProperty),S.set(10,f.Codicon.symbolEvent),S.set(11,f.Codicon.symbolOperator),S.set(12,f.Codicon.symbolUnit),S.set(13,f.Codicon.symbolValue),S.set(15,f.Codicon.symbolEnum),S.set(14,f.Codicon.symbolConstant),S.set(15,f.Codicon.symbolEnum),S.set(16,f.Codicon.symbolEnumMember),S.set(17,f.Codicon.symbolKeyword),S.set(27,f.Codicon.symbolSnippet),S.set(18,f.Codicon.symbolText),S.set(19,f.Codicon.symbolColor),S.set(20,f.Codicon.symbolFile),S.set(21,f.Codicon.symbolReference),S.set(22,f.Codicon.symbolCustomColor),S.set(23,f.Codicon.symbolFolder),S.set(24,f.Codicon.symbolTypeParameter),S.set(25,f.Codicon.account),S.set(26,f.Codicon.issues);function D(N){let A=S.get(N);return A||(console.info("No codicon found for CompletionItemKind "+N),A=f.Codicon.symbolProperty),A}C.toIcon=D;const I=new Map;I.set("method",0),I.set("function",1),I.set("constructor",2),I.set("field",3),I.set("variable",4),I.set("class",5),I.set("struct",6),I.set("interface",7),I.set("module",8),I.set("property",9),I.set("event",10),I.set("operator",11),I.set("unit",12),I.set("value",13),I.set("constant",14),I.set("enum",15),I.set("enum-member",16),I.set("enumMember",16),I.set("keyword",17),I.set("snippet",27),I.set("text",18),I.set("color",19),I.set("file",20),I.set("reference",21),I.set("customcolor",22),I.set("folder",23),I.set("type-parameter",24),I.set("typeParameter",24),I.set("account",25),I.set("issue",26);function T(N,A){let P=I.get(N);return typeof P>"u"&&!A&&(P=9),P}C.fromString=T})(_||(e.CompletionItemKinds=_={}));var a;(function(C){C[C.Automatic=0]="Automatic",C[C.Explicit=1]="Explicit"})(a||(e.InlineCompletionTriggerKind=a={}));class s{constructor(S,D,I,T){this.range=S,this.text=D,this.completionKind=I,this.isSnippetText=T}equals(S){return E.Range.lift(this.range).equalsRange(S.range)&&this.text===S.text&&this.completionKind===S.completionKind&&this.isSnippetText===S.isSnippetText}}e.SelectedSuggestionInfo=s;var i;(function(C){C[C.Automatic=0]="Automatic",C[C.PasteAs=1]="PasteAs"})(i||(e.DocumentPasteTriggerKind=i={}));var t;(function(C){C[C.Invoke=1]="Invoke",C[C.TriggerCharacter=2]="TriggerCharacter",C[C.ContentChange=3]="ContentChange"})(t||(e.SignatureHelpTriggerKind=t={}));var n;(function(C){C[C.Text=0]="Text",C[C.Read=1]="Read",C[C.Write=2]="Write"})(n||(e.DocumentHighlightKind=n={}));function h(C){return C&&k.URI.isUri(C.uri)&&E.Range.isIRange(C.range)&&(E.Range.isIRange(C.originSelectionRange)||E.Range.isIRange(C.targetSelectionRange))}e.symbolKindNames={17:(0,y.localize)(0,null),16:(0,y.localize)(1,null),4:(0,y.localize)(2,null),13:(0,y.localize)(3,null),8:(0,y.localize)(4,null),9:(0,y.localize)(5,null),21:(0,y.localize)(6,null),23:(0,y.localize)(7,null),7:(0,y.localize)(8,null),0:(0,y.localize)(9,null),11:(0,y.localize)(10,null),10:(0,y.localize)(11,null),19:(0,y.localize)(12,null),5:(0,y.localize)(13,null),1:(0,y.localize)(14,null),2:(0,y.localize)(15,null),20:(0,y.localize)(16,null),15:(0,y.localize)(17,null),18:(0,y.localize)(18,null),24:(0,y.localize)(19,null),3:(0,y.localize)(20,null),6:(0,y.localize)(21,null),14:(0,y.localize)(22,null),22:(0,y.localize)(23,null),25:(0,y.localize)(24,null),12:(0,y.localize)(25,null)};function m(C,S){return(0,y.localize)(26,null,C,e.symbolKindNames[S])}var u;(function(C){const S=new Map;S.set(0,f.Codicon.symbolFile),S.set(1,f.Codicon.symbolModule),S.set(2,f.Codicon.symbolNamespace),S.set(3,f.Codicon.symbolPackage),S.set(4,f.Codicon.symbolClass),S.set(5,f.Codicon.symbolMethod),S.set(6,f.Codicon.symbolProperty),S.set(7,f.Codicon.symbolField),S.set(8,f.Codicon.symbolConstructor),S.set(9,f.Codicon.symbolEnum),S.set(10,f.Codicon.symbolInterface),S.set(11,f.Codicon.symbolFunction),S.set(12,f.Codicon.symbolVariable),S.set(13,f.Codicon.symbolConstant),S.set(14,f.Codicon.symbolString),S.set(15,f.Codicon.symbolNumber),S.set(16,f.Codicon.symbolBoolean),S.set(17,f.Codicon.symbolArray),S.set(18,f.Codicon.symbolObject),S.set(19,f.Codicon.symbolKey),S.set(20,f.Codicon.symbolNull),S.set(21,f.Codicon.symbolEnumMember),S.set(22,f.Codicon.symbolStruct),S.set(23,f.Codicon.symbolEvent),S.set(24,f.Codicon.symbolOperator),S.set(25,f.Codicon.symbolTypeParameter);function D(I){let T=S.get(I);return T||(console.info("No codicon found for SymbolKind "+I),T=f.Codicon.symbolProperty),T}C.toIcon=D})(u||(e.SymbolKinds=u={}));class d{}e.TextEdit=d;class r{static fromValue(S){switch(S){case"comment":return r.Comment;case"imports":return r.Imports;case"region":return r.Region}return new r(S)}constructor(S){this.value=S}}e.FoldingRangeKind=r,r.Comment=new r("comment"),r.Imports=new r("imports"),r.Region=new r("region");var l;(function(C){C[C.AIGenerated=1]="AIGenerated"})(l||(e.NewSymbolNameTag=l={}));var o;(function(C){function S(D){return!D||typeof D!="object"?!1:typeof D.id=="string"&&typeof D.title=="string"}C.is=S})(o||(e.Command=o={}));var g;(function(C){C[C.Type=1]="Type",C[C.Parameter=2]="Parameter"})(g||(e.InlayHintKind=g={}));class c{constructor(S){this.createSupport=S,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(S=>{S&&S.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=c,e.TokenizationRegistry=new L.TokenizationRegistry;var b;(function(C){C[C.Invoke=0]="Invoke",C[C.Automatic=1]="Automatic"})(b||(e.InlineEditTriggerKind=b={}))}),define(ie[168],ne([1,0,29]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullState=void 0,e.nullTokenize=k,e.nullTokenizeEncoded=E,e.NullState=new class{clone(){return this}equals(L){return this===L}};function k(L,y){return new f.TokenizationResult([new f.Token(0,"",L)],y)}function E(L,y){const p=new Uint32Array(2);return p[0]=0,p[1]=(L<<0|0|0|32768|2<<24)>>>0,new f.EncodedTokenizationResult(p,y===null?e.NullState:y)}}),define(ie[354],ne([1,0,11,102,29,168]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeToString=p,e.tokenizeLineToHTML=w,e._tokenizeToString=v;const y={getInitialState:()=>L.NullState,tokenizeEncoded:(_,a,s)=>(0,L.nullTokenizeEncoded)(0,s)};async function p(_,a,s){if(!s)return v(a,_.languageIdCodec,y);const i=await E.TokenizationRegistry.getOrCreate(s);return v(a,_.languageIdCodec,i||y)}function w(_,a,s,i,t,n,h){let m="<div>",u=i,d=0,r=!0;for(let l=0,o=a.getCount();l<o;l++){const g=a.getEndOffset(l);if(g<=i)continue;let c="";for(;u<g&&u<t;u++){const b=_.charCodeAt(u);switch(b){case 9:{let C=n-(u+d)%n;for(d+=C-1;C>0;)h&&r?(c+="&#160;",r=!1):(c+=" ",r=!0),C--;break}case 60:c+="&lt;",r=!1;break;case 62:c+="&gt;",r=!1;break;case 38:c+="&amp;",r=!1;break;case 0:c+="&#00;",r=!1;break;case 65279:case 8232:case 8233:case 133:c+="\uFFFD",r=!1;break;case 13:c+="&#8203",r=!1;break;case 32:h&&r?(c+="&#160;",r=!1):(c+=" ",r=!0);break;default:c+=String.fromCharCode(b),r=!1}}if(m+=`<span style="${a.getInlineStyle(l,s)}">${c}</span>`,g>t||u>=t)break}return m+="</div>",m}function v(_,a,s){let i='<div class="monaco-tokenized-source">';const t=f.splitLines(_);let n=s.getInitialState();for(let h=0,m=t.length;h<m;h++){const u=t[h];h>0&&(i+="<br/>");const d=s.tokenizeEncoded(u,!0,n);k.LineTokens.convertToEndOffset(d.tokens,u.length);const l=new k.LineTokens(d.tokens,u,a).inflate();let o=0;for(let g=0,c=l.getCount();g<c;g++){const b=l.getClassName(g),C=l.getEndOffset(g);i+=`<span class="${b}">${f.escape(u.substring(o,C))}</span>`,o=C}n=d.endState}return i+="</div>",i}}),define(ie[669],ne([1,0,15,12,17,63,139,60,64,168,547,316,102]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class i{constructor(l,o){this.tokenizationSupport=o,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new n(l)}getStartState(l){return this.store.getStartState(l,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=i;class t extends i{constructor(l,o,g,c){super(l,o),this._textModel=g,this._languageIdCodec=c}updateTokensUntilLine(l,o){const g=this._textModel.getLanguageId();for(;;){const c=this.getFirstInvalidLine();if(!c||c.lineNumber>o)break;const b=this._textModel.getLineContent(c.lineNumber),C=u(this._languageIdCodec,g,this.tokenizationSupport,b,!0,c.startState);l.add(c.lineNumber,C.tokens),this.store.setEndState(c.lineNumber,C.endState)}}getTokenTypeIfInsertingCharacter(l,o){const g=this.getStartState(l.lineNumber);if(!g)return 0;const c=this._textModel.getLanguageId(),b=this._textModel.getLineContent(l.lineNumber),C=b.substring(0,l.column-1)+o+b.substring(l.column-1),S=u(this._languageIdCodec,c,this.tokenizationSupport,C,!0,g),D=new s.LineTokens(S.tokens,C,this._languageIdCodec);if(D.getCount()===0)return 0;const I=D.findTokenIndexAtOffset(l.column-1);return D.getStandardTokenType(I)}tokenizeLineWithEdit(l,o,g){const c=l.lineNumber,b=l.column,C=this.getStartState(c);if(!C)return null;const S=this._textModel.getLineContent(c),D=S.substring(0,b-1)+g+S.substring(b-1+o),I=this._textModel.getLanguageIdAtPosition(c,0),T=u(this._languageIdCodec,I,this.tokenizationSupport,D,!0,C);return new s.LineTokens(T.tokens,D,this._languageIdCodec)}hasAccurateTokensForLine(l){const o=this.store.getFirstInvalidEndStateLineNumberOrMax();return l<o}isCheapToTokenize(l){const o=this.store.getFirstInvalidEndStateLineNumberOrMax();return l<o||l===o&&this._textModel.getLineLength(l)<2048}tokenizeHeuristically(l,o,g){if(g<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(o<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(l,g),{heuristicTokens:!1};let c=this.guessStartState(o);const b=this._textModel.getLanguageId();for(let C=o;C<=g;C++){const S=this._textModel.getLineContent(C),D=u(this._languageIdCodec,b,this.tokenizationSupport,S,!0,c);l.add(C,D.tokens),c=D.endState}return{heuristicTokens:!0}}guessStartState(l){let o=this._textModel.getLineFirstNonWhitespaceColumn(l);const g=[];let c=null;for(let S=l-1;o>1&&S>=1;S--){const D=this._textModel.getLineFirstNonWhitespaceColumn(S);if(D!==0&&D<o&&(g.push(this._textModel.getLineContent(S)),o=D,c=this.getStartState(S),c))break}c||(c=this.tokenizationSupport.getInitialState()),g.reverse();const b=this._textModel.getLanguageId();let C=c;for(const S of g)C=u(this._languageIdCodec,b,this.tokenizationSupport,S,!1,C).endState;return C}}e.TokenizerWithStateStoreAndTextModel=t;class n{constructor(l){this.lineCount=l,this._tokenizationStateStore=new h,this._invalidEndStatesLineNumbers=new m,this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(1,l+1))}getEndState(l){return this._tokenizationStateStore.getEndState(l)}setEndState(l,o){if(!o)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(l);const g=this._tokenizationStateStore.setEndState(l,o);return g&&l<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(l+1,l+2)),g}acceptChange(l,o){this.lineCount+=o-l.length,this._tokenizationStateStore.acceptChange(l,o),this._invalidEndStatesLineNumbers.addRangeAndResize(new w.OffsetRange(l.startLineNumber,l.endLineNumberExclusive),o)}acceptChanges(l){for(const o of l){const[g]=(0,y.countEOL)(o.text);this.acceptChange(new p.LineRange(o.range.startLineNumber,o.range.endLineNumber+1),g+1)}}invalidateEndStateRange(l){this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(l.startLineNumber,l.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(l,o){return l===1?o:this.getEndState(l-1)}getFirstInvalidLine(l){const o=this.getFirstInvalidEndStateLineNumber();if(o===null)return null;const g=this.getStartState(o,l);if(!g)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:o,startState:g}}}e.TrackingTokenizationStateStore=n;class h{constructor(){this._lineEndStates=new _.FixedArray(null)}getEndState(l){return this._lineEndStates.get(l)}setEndState(l,o){const g=this._lineEndStates.get(l);return g&&g.equals(o)?!1:(this._lineEndStates.set(l,o),!0)}acceptChange(l,o){let g=l.length;o>0&&g>0&&(g--,o--),this._lineEndStates.replace(l.startLineNumber,g,o)}}e.TokenizationStateStore=h;class m{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(l){const o=this._ranges.findIndex(g=>g.contains(l));if(o!==-1){const g=this._ranges[o];g.start===l?g.endExclusive===l+1?this._ranges.splice(o,1):this._ranges[o]=new w.OffsetRange(l+1,g.endExclusive):g.endExclusive===l+1?this._ranges[o]=new w.OffsetRange(g.start,l):this._ranges.splice(o,1,new w.OffsetRange(g.start,l),new w.OffsetRange(l+1,g.endExclusive))}}addRange(l){w.OffsetRange.addRange(l,this._ranges)}addRangeAndResize(l,o){let g=0;for(;!(g>=this._ranges.length||l.start<=this._ranges[g].endExclusive);)g++;let c=g;for(;!(c>=this._ranges.length||l.endExclusive<this._ranges[c].start);)c++;const b=o-l.length;for(let C=c;C<this._ranges.length;C++)this._ranges[C]=this._ranges[C].delta(b);if(g===c){const C=new w.OffsetRange(l.start,l.start+o);C.isEmpty||this._ranges.splice(g,0,C)}else{const C=Math.min(l.start,this._ranges[g].start),S=Math.max(l.endExclusive,this._ranges[c-1].endExclusive),D=new w.OffsetRange(C,S+b);D.isEmpty?this._ranges.splice(g,c-g):this._ranges.splice(g,c-g,D)}}toString(){return this._ranges.map(l=>l.toString()).join(" + ")}}e.RangePriorityQueueImpl=m;function u(r,l,o,g,c,b){let C=null;if(o)try{C=o.tokenizeEncoded(g,c,b.clone())}catch(S){(0,k.onUnexpectedError)(S)}return C||(C=(0,v.nullTokenizeEncoded)(r.encodeLanguageId(l),b)),s.LineTokens.convertToEndOffset(C.tokens,g.length),C}class d{constructor(l,o){this._tokenizerWithStateStore=l,this._backgroundTokenStore=o,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,f.runWhenGlobalIdle)(l=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(l)}))}_backgroundTokenizeWithDeadline(l){const o=Date.now()+l.timeRemaining(),g=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<o?(0,E.setTimeout0)(g):this._beginBackgroundTokenization())};g()}_backgroundTokenizeForAtLeast1ms(){const l=this._tokenizerWithStateStore._textModel.getLineCount(),o=new a.ContiguousMultilineTokensBuilder,g=L.StopWatch.create(!1);do if(g.elapsed()>1||this._tokenizeOneInvalidLine(o)>=l)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(o.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(l){var o;const g=(o=this._tokenizerWithStateStore)===null||o===void 0?void 0:o.getFirstInvalidLine();return g?(this._tokenizerWithStateStore.updateTokensUntilLine(l,g.lineNumber),g.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(l,o){this._tokenizerWithStateStore.store.invalidateEndStateRange(new p.LineRange(l,o))}}e.DefaultBackgroundTokenizer=d}),define(ie[670],ne([1,0,13,15,12,7,2,139,60,9,160,29,310,669,316,559,561]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class m extends s.TextModelPart{constructor(l,o,g,c,b,C){super(),this._languageService=l,this._languageConfigurationService=o,this._textModel=g,this._bracketPairsTextModelPart=c,this._languageId=b,this._attachedViews=C,this._semanticTokens=new h.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new L.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new L.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new L.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new u(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(S=>{S.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(S=>{this._emitModelTokensChangedEvent(S)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(S=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(l){if(l.isFlush)this._semanticTokens.flush();else if(!l.isEolChange)for(const o of l.changes){const[g,c,b]=(0,p.countEOL)(o.text);this._semanticTokens.acceptEdit(o.range,g,c,b,o.text.length>0?o.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(l)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(l){this.validateLineNumber(l);const o=this.grammarTokens.getLineTokens(l);return this._semanticTokens.addSparseTokens(l,o)}_emitModelTokensChangedEvent(l){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(l),this._onDidChangeTokens.fire(l))}validateLineNumber(l){if(l<1||l>this._textModel.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(l){this.validateLineNumber(l),this.grammarTokens.forceTokenization(l)}hasAccurateTokensForLine(l){return this.validateLineNumber(l),this.grammarTokens.hasAccurateTokensForLine(l)}isCheapToTokenize(l){return this.validateLineNumber(l),this.grammarTokens.isCheapToTokenize(l)}tokenizeIfCheap(l){this.validateLineNumber(l),this.grammarTokens.tokenizeIfCheap(l)}getTokenTypeIfInsertingCharacter(l,o,g){return this.grammarTokens.getTokenTypeIfInsertingCharacter(l,o,g)}tokenizeLineWithEdit(l,o,g){return this.grammarTokens.tokenizeLineWithEdit(l,o,g)}setSemanticTokens(l,o){this._semanticTokens.set(l,o),this._emitModelTokensChangedEvent({semanticTokensApplied:l!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(l,o){if(this.hasCompleteSemanticTokens())return;const g=this._textModel.validateRange(this._semanticTokens.setPartial(l,o));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:g.startLineNumber,toLineNumber:g.endLineNumber}]})}getWordAtPosition(l){this.assertNotDisposed();const o=this._textModel.validatePosition(l),g=this._textModel.getLineContent(o.lineNumber),c=this.getLineTokens(o.lineNumber),b=c.findTokenIndexAtOffset(o.column-1),[C,S]=m._findLanguageBoundaries(c,b),D=(0,_.getWordAtText)(o.column,this.getLanguageConfiguration(c.getLanguageId(b)).getWordDefinition(),g.substring(C,S),C);if(D&&D.startColumn<=l.column&&l.column<=D.endColumn)return D;if(b>0&&C===o.column-1){const[I,T]=m._findLanguageBoundaries(c,b-1),N=(0,_.getWordAtText)(o.column,this.getLanguageConfiguration(c.getLanguageId(b-1)).getWordDefinition(),g.substring(I,T),I);if(N&&N.startColumn<=l.column&&l.column<=N.endColumn)return N}return null}getLanguageConfiguration(l){return this._languageConfigurationService.getLanguageConfiguration(l)}static _findLanguageBoundaries(l,o){const g=l.getLanguageId(o);let c=0;for(let C=o;C>=0&&l.getLanguageId(C)===g;C--)c=l.getStartOffset(C);let b=l.getLineContent().length;for(let C=o,S=l.getCount();C<S&&l.getLanguageId(C)===g;C++)b=l.getEndOffset(C);return[c,b]}getWordUntilPosition(l){const o=this.getWordAtPosition(l);return o?{word:o.word.substr(0,l.column-o.startColumn),startColumn:o.startColumn,endColumn:l.column}:{word:"",startColumn:l.column,endColumn:l.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(l,o){const g=this._textModel.validatePosition(new v.Position(l,o)),c=this.getLineTokens(g.lineNumber);return c.getLanguageId(c.findTokenIndexAtOffset(g.column-1))}setLanguageId(l,o="api"){if(this._languageId===l)return;const g={oldLanguage:this._languageId,newLanguage:l,source:o};this._languageId=l,this._bracketPairsTextModelPart.handleDidChangeLanguage(g),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(g),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=m;class u extends y.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(l,o,g,c){super(),this._languageIdCodec=l,this._textModel=o,this.getLanguageId=g,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new y.MutableDisposable),this._tokens=new n.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new y.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new L.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new L.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new y.DisposableMap),this._register(a.TokenizationRegistry.onDidChange(b=>{const C=this.getLanguageId();b.changedLanguages.indexOf(C)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(c.onDidChangeVisibleRanges(({view:b,state:C})=>{if(C){let S=this._attachedViewStates.get(b);S||(S=new d(()=>this.refreshRanges(S.lineRanges)),this._attachedViewStates.set(b,S)),S.handleStateChange(C)}else this._attachedViewStates.deleteAndDispose(b)}))}resetTokenization(l=!0){var o;this._tokens.flush(),(o=this._debugBackgroundTokens)===null||o===void 0||o.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount())),l&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const g=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const C=a.TokenizationRegistry.get(this.getLanguageId());if(!C)return[null,null];let S;try{S=C.getInitialState()}catch(D){return(0,E.onUnexpectedError)(D),[null,null]}return[C,S]},[c,b]=g();if(c&&b?this._tokenizer=new i.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),c,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const C={setTokens:S=>{this.setTokens(S)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const S=2;this._backgroundTokenizationState=S,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(S,D)=>{var I;if(!this._tokenizer)return;const T=this._tokenizer.store.getFirstInvalidEndStateLineNumber();T!==null&&S>=T&&((I=this._tokenizer)===null||I===void 0||I.store.setEndState(S,D))}};c&&c.createBackgroundTokenizer&&!c.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=c.createBackgroundTokenizer(this._textModel,C)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new i.DefaultBackgroundTokenizer(this._tokenizer,C),this._defaultBackgroundTokenizer.handleChanges()),c?.backgroundTokenizerShouldOnlyVerifyTokens&&c.createBackgroundTokenizer?(this._debugBackgroundTokens=new n.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=c.createBackgroundTokenizer(this._textModel,{setTokens:S=>{var D;(D=this._debugBackgroundTokens)===null||D===void 0||D.setMultilineTokens(S,this._textModel)},backgroundTokenizationFinished(){},setEndState:(S,D)=>{var I;(I=this._debugBackgroundStates)===null||I===void 0||I.setEndState(S,D)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var l;(l=this._defaultBackgroundTokenizer)===null||l===void 0||l.handleChanges()}handleDidChangeContent(l){var o,g,c;if(l.isFlush)this.resetTokenization(!1);else if(!l.isEolChange){for(const b of l.changes){const[C,S]=(0,p.countEOL)(b.text);this._tokens.acceptEdit(b.range,C,S),(o=this._debugBackgroundTokens)===null||o===void 0||o.acceptEdit(b.range,C,S)}(g=this._debugBackgroundStates)===null||g===void 0||g.acceptChanges(l.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(l.changes),(c=this._defaultBackgroundTokenizer)===null||c===void 0||c.handleChanges()}}setTokens(l){const{changes:o}=this._tokens.setMultilineTokens(l,this._textModel);return o.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:o}),{changes:o}}refreshAllVisibleLineTokens(){const l=w.LineRange.joinMany([...this._attachedViewStates].map(([o,g])=>g.lineRanges));this.refreshRanges(l)}refreshRanges(l){for(const o of l)this.refreshRange(o.startLineNumber,o.endLineNumberExclusive-1)}refreshRange(l,o){var g,c;if(!this._tokenizer)return;l=Math.max(1,Math.min(this._textModel.getLineCount(),l)),o=Math.min(this._textModel.getLineCount(),o);const b=new t.ContiguousMultilineTokensBuilder,{heuristicTokens:C}=this._tokenizer.tokenizeHeuristically(b,l,o),S=this.setTokens(b.finalize());if(C)for(const D of S.changes)(g=this._backgroundTokenizer.value)===null||g===void 0||g.requestTokens(D.fromLineNumber,D.toLineNumber+1);(c=this._defaultBackgroundTokenizer)===null||c===void 0||c.checkFinished()}forceTokenization(l){var o,g;const c=new t.ContiguousMultilineTokensBuilder;(o=this._tokenizer)===null||o===void 0||o.updateTokensUntilLine(c,l),this.setTokens(c.finalize()),(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.checkFinished()}hasAccurateTokensForLine(l){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(l):!0}isCheapToTokenize(l){return this._tokenizer?this._tokenizer.isCheapToTokenize(l):!0}tokenizeIfCheap(l){this.isCheapToTokenize(l)&&this.forceTokenization(l)}getLineTokens(l){var o;const g=this._textModel.getLineContent(l),c=this._tokens.getTokens(this._textModel.getLanguageId(),l-1,g);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>l&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>l){const b=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),l-1,g);!c.equals(b)&&(!((o=this._debugBackgroundTokenizer.value)===null||o===void 0)&&o.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(l)}return c}getTokenTypeIfInsertingCharacter(l,o,g){if(!this._tokenizer)return 0;const c=this._textModel.validatePosition(new v.Position(l,o));return this.forceTokenization(c.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(c,g)}tokenizeLineWithEdit(l,o,g){if(!this._tokenizer)return null;const c=this._textModel.validatePosition(l);return this.forceTokenization(c.lineNumber),this._tokenizer.tokenizeLineWithEdit(c,o,g)}get hasTokens(){return this._tokens.hasTokens}}class d extends y.Disposable{get lineRanges(){return this._lineRanges}constructor(l){super(),this._refreshTokens=l,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,f.equals)(this._computedLineRanges,this._lineRanges,(l,o)=>l.equals(o))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(l){this._lineRanges=l.visibleLineRanges,l.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(ie[355],ne([1,0,19,7,69,22,9,5,24,29,228]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyMod=void 0,e.createMonacoBaseAPI=s;class a{static chord(t,n){return(0,E.KeyChord)(t,n)}}e.KeyMod=a,a.CtrlCmd=2048,a.Shift=1024,a.Alt=512,a.WinCtrl=256;function s(){return{editor:void 0,languages:void 0,CancellationTokenSource:f.CancellationTokenSource,Emitter:k.Emitter,KeyCode:_.KeyCode,KeyMod:a,Position:y.Position,Range:p.Range,Selection:w.Selection,SelectionDirection:_.SelectionDirection,MarkerSeverity:_.MarkerSeverity,MarkerTag:_.MarkerTag,Uri:L.URI,Token:v.Token}}}),define(ie[671],ne([1,0,182,22,9,5,551,160,534,540,355,63,314,531,55,533,553]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSimpleWorker=void 0,e.create=d;class m extends y.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(l){const o=[];for(let g=0;g<this._lines.length;g++){const c=this._lines[g],b=this.offsetAt(new E.Position(g+1,1)),C=c.matchAll(l);for(const S of C)(S.index||S.index===0)&&(S.index=S.index+b),o.push(S)}return o}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,o){const g=(0,p.getWordAtText)(l.column,(0,p.ensureValidWordDefinition)(o),this._lines[l.lineNumber-1],0);return g?new L.Range(l.lineNumber,g.startColumn,l.lineNumber,g.endColumn):null}words(l){const o=this._lines,g=this._wordenize.bind(this);let c=0,b="",C=0,S=[];return{*[Symbol.iterator](){for(;;)if(C<S.length){const D=b.substring(S[C].start,S[C].end);C+=1,yield D}else if(c<o.length)b=o[c],S=g(b,l),C=0,c+=1;else break}}}getLineWords(l,o){const g=this._lines[l-1],c=this._wordenize(g,o),b=[];for(const C of c)b.push({word:g.substring(C.start,C.end),startColumn:C.start+1,endColumn:C.end+1});return b}_wordenize(l,o){const g=[];let c;for(o.lastIndex=0;(c=o.exec(l))&&c[0].length!==0;)g.push({start:c.index,end:c.index+c[0].length});return g}getValueInRange(l){if(l=this._validateRange(l),l.startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const o=this._eol,g=l.startLineNumber-1,c=l.endLineNumber-1,b=[];b.push(this._lines[g].substring(l.startColumn-1));for(let C=g+1;C<c;C++)b.push(this._lines[C]);return b.push(this._lines[c].substring(0,l.endColumn-1)),b.join(o)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const o=this._lineStarts.getIndexOf(l),g=this._lines[o.index].length;return{lineNumber:1+o.index,column:1+Math.min(o.remainder,g)}}_validateRange(l){const o=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),g=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return o.lineNumber!==l.startLineNumber||o.column!==l.startColumn||g.lineNumber!==l.endLineNumber||g.column!==l.endColumn?{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:g.lineNumber,endColumn:g.column}:l}_validatePosition(l){if(!E.Position.isIPosition(l))throw new Error("bad position");let{lineNumber:o,column:g}=l,c=!1;if(o<1)o=1,g=1,c=!0;else if(o>this._lines.length)o=this._lines.length,g=this._lines[o-1].length+1,c=!0;else{const b=this._lines[o-1].length+1;g<1?(g=1,c=!0):g>b&&(g=b,c=!0)}return c?{lineNumber:o,column:g}:l}}class u{constructor(l,o){this._host=l,this._models=Object.create(null),this._foreignModuleFactory=o,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(l){return this._models[l]}_getModels(){const l=[];return Object.keys(this._models).forEach(o=>l.push(this._models[o])),l}acceptNewModel(l){this._models[l.url]=new m(k.URI.parse(l.url),l.lines,l.EOL,l.versionId)}acceptModelChanged(l,o){if(!this._models[l])return;this._models[l].onEvents(o)}acceptRemovedModel(l){this._models[l]&&delete this._models[l]}async computeUnicodeHighlights(l,o,g){const c=this._getModel(l);return c?s.UnicodeTextModelHighlighter.computeUnicodeHighlights(c,o,g):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async findSectionHeaders(l,o){const g=this._getModel(l);return g?(0,h.findSectionHeaders)(g,o):[]}async computeDiff(l,o,g,c){const b=this._getModel(l),C=this._getModel(o);return!b||!C?null:u.computeDiff(b,C,g,c)}static computeDiff(l,o,g,c){const b=c==="advanced"?i.linesDiffComputers.getDefault():i.linesDiffComputers.getLegacy(),C=l.getLinesContent(),S=o.getLinesContent(),D=b.computeDiff(C,S,g),I=D.changes.length>0?!1:this._modelsAreIdentical(l,o);function T(N){return N.map(A=>{var P;return[A.original.startLineNumber,A.original.endLineNumberExclusive,A.modified.startLineNumber,A.modified.endLineNumberExclusive,(P=A.innerChanges)===null||P===void 0?void 0:P.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:I,quitEarly:D.hitTimeout,changes:T(D.changes),moves:D.moves.map(N=>[N.lineRangeMapping.original.startLineNumber,N.lineRangeMapping.original.endLineNumberExclusive,N.lineRangeMapping.modified.startLineNumber,N.lineRangeMapping.modified.endLineNumberExclusive,T(N.changes)])}}static _modelsAreIdentical(l,o){const g=l.getLineCount(),c=o.getLineCount();if(g!==c)return!1;for(let b=1;b<=g;b++){const C=l.getLineContent(b),S=o.getLineContent(b);if(C!==S)return!1}return!0}async computeMoreMinimalEdits(l,o,g){const c=this._getModel(l);if(!c)return o;const b=[];let C;o=o.slice(0).sort((D,I)=>{if(D.range&&I.range)return L.Range.compareRangesUsingStarts(D.range,I.range);const T=D.range?0:1,N=I.range?0:1;return T-N});let S=0;for(let D=1;D<o.length;D++)L.Range.getEndPosition(o[S].range).equals(L.Range.getStartPosition(o[D].range))?(o[S].range=L.Range.fromPositions(L.Range.getStartPosition(o[S].range),L.Range.getEndPosition(o[D].range)),o[S].text+=o[D].text):(S++,o[S]=o[D]);o.length=S+1;for(let{range:D,text:I,eol:T}of o){if(typeof T=="number"&&(C=T),L.Range.isEmpty(D)&&!I)continue;const N=c.getValueInRange(D);if(I=I.replace(/\r\n|\n|\r/g,c.eol),N===I)continue;if(Math.max(I.length,N.length)>u._diffLimit){b.push({range:D,text:I});continue}const A=(0,f.stringDiff)(N,I,g),P=c.offsetAt(L.Range.lift(D).getStartPosition());for(const M of A){const R=c.positionAt(P+M.originalStart),F=c.positionAt(P+M.originalStart+M.originalLength),O={text:I.substr(M.modifiedStart,M.modifiedLength),range:{startLineNumber:R.lineNumber,startColumn:R.column,endLineNumber:F.lineNumber,endColumn:F.column}};c.getValueInRange(O.range)!==O.text&&b.push(O)}}return typeof C=="number"&&b.push({eol:C,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),b}async computeLinks(l){const o=this._getModel(l);return o?(0,w.computeLinks)(o):null}async computeDefaultDocumentColors(l){const o=this._getModel(l);return o?(0,n.computeDefaultDocumentColors)(o):null}async textualSuggest(l,o,g,c){const b=new a.StopWatch,C=new RegExp(g,c),S=new Set;e:for(const D of l){const I=this._getModel(D);if(I){for(const T of I.words(C))if(!(T===o||!isNaN(Number(T)))&&(S.add(T),S.size>u._suggestionsLimit))break e}}return{words:Array.from(S),duration:b.elapsed()}}async computeWordRanges(l,o,g,c){const b=this._getModel(l);if(!b)return Object.create(null);const C=new RegExp(g,c),S=Object.create(null);for(let D=o.startLineNumber;D<o.endLineNumber;D++){const I=b.getLineWords(D,C);for(const T of I){if(!isNaN(Number(T.word)))continue;let N=S[T.word];N||(N=[],S[T.word]=N),N.push({startLineNumber:D,startColumn:T.startColumn,endLineNumber:D,endColumn:T.endColumn})}}return S}async navigateValueSet(l,o,g,c,b){const C=this._getModel(l);if(!C)return null;const S=new RegExp(c,b);o.startColumn===o.endColumn&&(o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.endColumn+1});const D=C.getValueInRange(o),I=C.getWordAtPosition({lineNumber:o.startLineNumber,column:o.startColumn},S);if(!I)return null;const T=C.getValueInRange(I);return v.BasicInplaceReplace.INSTANCE.navigateValueSet(o,D,I,T,g)}loadForeignModule(l,o,g){const c=(S,D)=>this._host.fhr(S,D),C={host:(0,t.createProxyObject)(g,c),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(C,o),Promise.resolve((0,t.getAllMethodNames)(this._foreignModule))):new Promise((S,D)=>{J([l],I=>{this._foreignModule=I.create(C,o),S((0,t.getAllMethodNames)(this._foreignModule))},D)})}fmr(l,o){if(!this._foreignModule||typeof this._foreignModule[l]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+l));try{return Promise.resolve(this._foreignModule[l].apply(this._foreignModule,o))}catch(g){return Promise.reject(g)}}}e.EditorSimpleWorker=u,u._diffLimit=1e5,u._suggestionsLimit=1e4;function d(r){return new u(r,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,_.createMonacoBaseAPI)())}),define(ie[356],ne([1,0,7,2,299,29]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class y extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new y)),this._INSTANCE}constructor(){super(),this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(L.TokenizationRegistry.onDidChange(w=>{w.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const w=L.TokenizationRegistry.getColorMap();if(!w){this._colors=[E.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[E.RGBA8.Empty];for(let _=1;_<w.length;_++){const a=w[_].rgba;this._colors[_]=new E.RGBA8(a.r,a.g,a.b,Math.round(a.a*255))}const v=w[2].getRelativeLuminance();this._backgroundIsLight=v>=.5,this._onDidChange.fire(void 0)}getColor(w){return(w<1||w>=this._colors.length)&&(w=2),this._colors[w]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=y,y._INSTANCE=null}),define(ie[672],ne([3,4]),function(J,e){return J.create("vs/editor/common/languages/modesRegistry",e)}),define(ie[673],ne([3,4]),function(J,e){return J.create("vs/editor/common/model/editStack",e)}),define(ie[357],ne([1,0,673,12,24,22,346,154,50]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0,e.isEditStackElement=t;function v(h){return h.toString()}class _{static create(m,u){const d=m.getAlternativeVersionId(),r=i(m);return new _(d,d,r,r,u,u,[])}constructor(m,u,d,r,l,o,g){this.beforeVersionId=m,this.afterVersionId=u,this.beforeEOL=d,this.afterEOL=r,this.beforeCursorState=l,this.afterCursorState=o,this.changes=g}append(m,u,d,r,l){u.length>0&&(this.changes=(0,y.compressConsecutiveTextChanges)(this.changes,u)),this.afterEOL=d,this.afterVersionId=r,this.afterCursorState=l}static _writeSelectionsSize(m){return 4+4*4*(m?m.length:0)}static _writeSelections(m,u,d){if(p.writeUInt32BE(m,u?u.length:0,d),d+=4,u)for(const r of u)p.writeUInt32BE(m,r.selectionStartLineNumber,d),d+=4,p.writeUInt32BE(m,r.selectionStartColumn,d),d+=4,p.writeUInt32BE(m,r.positionLineNumber,d),d+=4,p.writeUInt32BE(m,r.positionColumn,d),d+=4;return d}static _readSelections(m,u,d){const r=p.readUInt32BE(m,u);u+=4;for(let l=0;l<r;l++){const o=p.readUInt32BE(m,u);u+=4;const g=p.readUInt32BE(m,u);u+=4;const c=p.readUInt32BE(m,u);u+=4;const b=p.readUInt32BE(m,u);u+=4,d.push(new E.Selection(o,g,c,b))}return u}serialize(){let m=10+_._writeSelectionsSize(this.beforeCursorState)+_._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)m+=r.writeSize();const u=new Uint8Array(m);let d=0;p.writeUInt32BE(u,this.beforeVersionId,d),d+=4,p.writeUInt32BE(u,this.afterVersionId,d),d+=4,p.writeUInt8(u,this.beforeEOL,d),d+=1,p.writeUInt8(u,this.afterEOL,d),d+=1,d=_._writeSelections(u,this.beforeCursorState,d),d=_._writeSelections(u,this.afterCursorState,d),p.writeUInt32BE(u,this.changes.length,d),d+=4;for(const r of this.changes)d=r.write(u,d);return u.buffer}static deserialize(m){const u=new Uint8Array(m);let d=0;const r=p.readUInt32BE(u,d);d+=4;const l=p.readUInt32BE(u,d);d+=4;const o=p.readUInt8(u,d);d+=1;const g=p.readUInt8(u,d);d+=1;const c=[];d=_._readSelections(u,d,c);const b=[];d=_._readSelections(u,d,b);const C=p.readUInt32BE(u,d);d+=4;const S=[];for(let D=0;D<C;D++)d=y.TextChange.read(u,d,S);return new _(r,l,o,g,c,b,S)}}e.SingleModelEditStackData=_;class a{get type(){return 0}get resource(){return L.URI.isUri(this.model)?this.model:this.model.uri}constructor(m,u,d,r){this.label=m,this.code=u,this.model=d,this._data=_.create(d,r)}toString(){return(this._data instanceof _?this._data:_.deserialize(this._data)).changes.map(u=>u.toString()).join(", ")}matchesResource(m){return(L.URI.isUri(this.model)?this.model:this.model.uri).toString()===m.toString()}setModel(m){this.model=m}canAppend(m){return this.model===m&&this._data instanceof _}append(m,u,d,r,l){this._data instanceof _&&this._data.append(m,u,d,r,l)}close(){this._data instanceof _&&(this._data=this._data.serialize())}open(){this._data instanceof _||(this._data=_.deserialize(this._data))}undo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _&&(this._data=this._data.serialize());const m=_.deserialize(this._data);this.model._applyUndo(m.changes,m.beforeEOL,m.beforeVersionId,m.beforeCursorState)}redo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _&&(this._data=this._data.serialize());const m=_.deserialize(this._data);this.model._applyRedo(m.changes,m.afterEOL,m.afterVersionId,m.afterCursorState)}heapSize(){return this._data instanceof _&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=a;class s{get resources(){return this._editStackElementsArr.map(m=>m.resource)}constructor(m,u,d){this.label=m,this.code=u,this.type=1,this._isOpen=!0,this._editStackElementsArr=d.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const l=v(r.resource);this._editStackElementsMap.set(l,r)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(m){const u=v(m);return this._editStackElementsMap.has(u)}setModel(m){const u=v(L.URI.isUri(m)?m:m.uri);this._editStackElementsMap.has(u)&&this._editStackElementsMap.get(u).setModel(m)}canAppend(m){if(!this._isOpen)return!1;const u=v(m.uri);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).canAppend(m):!1}append(m,u,d,r,l){const o=v(m.uri);this._editStackElementsMap.get(o).append(m,u,d,r,l)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const m of this._editStackElementsArr)m.undo()}redo(){for(const m of this._editStackElementsArr)m.redo()}heapSize(m){const u=v(m);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).heapSize():0}split(){return this._editStackElementsArr}toString(){const m=[];for(const u of this._editStackElementsArr)m.push(`${(0,w.basename)(u.resource)}: ${u}`);return`{${m.join(", ")}}`}}e.MultiModelEditStackElement=s;function i(h){return h.getEOL()===`
`?0:1}function t(h){return h?h instanceof a||h instanceof s:!1}class n{constructor(m,u){this._model=m,this._undoRedoService=u}pushStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);t(m)&&m.close()}popStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);t(m)&&m.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(m,u){const d=this._undoRedoService.getLastElement(this._model.uri);if(t(d)&&d.canAppend(this._model))return d;const r=new a(f.localize(0,null),"undoredo.textBufferEdit",this._model,m);return this._undoRedoService.pushElement(r,u),r}pushEOL(m){const u=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(m),u.append(this._model,[],i(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(m,u,d,r){const l=this._getOrCreateEditStackElement(m,r),o=this._model.applyEdits(u,!0),g=n._computeCursorState(d,o),c=o.map((b,C)=>({index:C,textChange:b.textChange}));return c.sort((b,C)=>b.textChange.oldPosition===C.textChange.oldPosition?b.index-C.index:b.textChange.oldPosition-C.textChange.oldPosition),l.append(this._model,c.map(b=>b.textChange),i(this._model),this._model.getAlternativeVersionId(),g),g}static _computeCursorState(m,u){try{return m?m(u):null}catch(d){return(0,k.onUnexpectedError)(d),null}}}e.EditStack=n}),define(ie[674],ne([3,4]),function(J,e){return J.create("vs/editor/common/standaloneStrings",e)}),define(ie[103],ne([1,0,674]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(a){a.inspectTokensAction=f.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var E;(function(a){a.gotoLineActionLabel=f.localize(1,null)})(E||(e.GoToLineNLS=E={}));var L;(function(a){a.helpQuickAccessActionLabel=f.localize(2,null)})(L||(e.QuickHelpNLS=L={}));var y;(function(a){a.quickCommandActionLabel=f.localize(3,null),a.quickCommandHelp=f.localize(4,null)})(y||(e.QuickCommandNLS=y={}));var p;(function(a){a.quickOutlineActionLabel=f.localize(5,null),a.quickOutlineByCategoryActionLabel=f.localize(6,null)})(p||(e.QuickOutlineNLS=p={}));var w;(function(a){a.editorViewAccessibleLabel=f.localize(7,null),a.accessibilityHelpMessage=f.localize(8,null)})(w||(e.StandaloneCodeEditorNLS=w={}));var v;(function(a){a.toggleHighContrast=f.localize(9,null)})(v||(e.ToggleHighContrastNLS=v={}));var _;(function(a){a.bulkEditServiceSummary=f.localize(10,null)})(_||(e.StandaloneServicesNLS=_={}))}),define(ie[675],ne([3,4]),function(J,e){return J.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(ie[129],ne([1,0,675,11,110,145,569]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLineOutput2=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0,e.renderViewLine=s,e.renderViewLine2=t;class p{constructor(S,D){this.startOffset=S,this.endOffset=D}equals(S){return this.startOffset===S.startOffset&&this.endOffset===S.endOffset}}e.LineRange=p;class w{constructor(S,D,I,T,N,A,P,M,R,F,O,B,H,V,q,z,U,Z,re){this.useMonospaceOptimizations=S,this.canUseHalfwidthRightwardsArrow=D,this.lineContent=I,this.continuesWithWrappedLine=T,this.isBasicASCII=N,this.containsRTL=A,this.fauxIndentLength=P,this.lineTokens=M,this.lineDecorations=R.sort(L.LineDecoration.compare),this.tabSize=F,this.startVisibleColumn=O,this.spaceWidth=B,this.stopRenderingLineAfter=q,this.renderWhitespace=z==="all"?4:z==="boundary"?1:z==="selection"?2:z==="trailing"?3:0,this.renderControlCharacters=U,this.fontLigatures=Z,this.selectionsOnLine=re&&re.sort((X,Y)=>X.startOffset<Y.startOffset?-1:1);const x=Math.abs(V-B),Q=Math.abs(H-B);x<Q?(this.renderSpaceWidth=V,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=H,this.renderSpaceCharCode=183)}sameSelection(S){if(this.selectionsOnLine===null)return S===null;if(S===null||S.length!==this.selectionsOnLine.length)return!1;for(let D=0;D<this.selectionsOnLine.length;D++)if(!this.selectionsOnLine[D].equals(S[D]))return!1;return!0}equals(S){return this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineContent===S.lineContent&&this.continuesWithWrappedLine===S.continuesWithWrappedLine&&this.isBasicASCII===S.isBasicASCII&&this.containsRTL===S.containsRTL&&this.fauxIndentLength===S.fauxIndentLength&&this.tabSize===S.tabSize&&this.startVisibleColumn===S.startVisibleColumn&&this.spaceWidth===S.spaceWidth&&this.renderSpaceWidth===S.renderSpaceWidth&&this.renderSpaceCharCode===S.renderSpaceCharCode&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.fontLigatures===S.fontLigatures&&L.LineDecoration.equalsArr(this.lineDecorations,S.lineDecorations)&&this.lineTokens.equals(S.lineTokens)&&this.sameSelection(S.selectionsOnLine)}}e.RenderLineInput=w;class v{constructor(S,D){this.partIndex=S,this.charIndex=D}}e.DomPosition=v;class _{static getPartIndex(S){return(S&4294901760)>>>16}static getCharIndex(S){return(S&65535)>>>0}constructor(S,D){this.length=S,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(S,D,I,T){const N=(D<<16|I<<0)>>>0;this._data[S-1]=N,this._horizontalOffset[S-1]=T}getHorizontalOffset(S){return this._horizontalOffset.length===0?0:this._horizontalOffset[S-1]}charOffsetToPartData(S){return this.length===0?0:S<0?this._data[0]:S>=this.length?this._data[this.length-1]:this._data[S]}getDomPosition(S){const D=this.charOffsetToPartData(S-1),I=_.getPartIndex(D),T=_.getCharIndex(D);return new v(I,T)}getColumn(S,D){return this.partDataToCharOffset(S.partIndex,D,S.charIndex)+1}partDataToCharOffset(S,D,I){if(this.length===0)return 0;const T=(S<<16|I<<0)>>>0;let N=0,A=this.length-1;for(;N+1<A;){const q=N+A>>>1,z=this._data[q];if(z===T)return q;z>T?A=q:N=q}if(N===A)return N;const P=this._data[N],M=this._data[A];if(P===T)return N;if(M===T)return A;const R=_.getPartIndex(P),F=_.getCharIndex(P),O=_.getPartIndex(M);let B;R!==O?B=D:B=_.getCharIndex(M);const H=I-F,V=B-I;return H<=V?N:A}}e.CharacterMapping=_;class a{constructor(S,D,I){this._renderLineOutputBrand=void 0,this.characterMapping=S,this.containsRTL=D,this.containsForeignElements=I}}e.RenderLineOutput=a;function s(C,S){if(C.lineContent.length===0){if(C.lineDecorations.length>0){S.appendString("<span>");let D=0,I=0,T=0;for(const A of C.lineDecorations)(A.type===1||A.type===2)&&(S.appendString('<span class="'),S.appendString(A.className),S.appendString('"></span>'),A.type===1&&(T|=1,D++),A.type===2&&(T|=2,I++));S.appendString("</span>");const N=new _(1,D+I);return N.setColumnInfo(1,D,0,0),new a(N,!1,T)}return S.appendString("<span><span></span></span>"),new a(new _(0,0),!1,0)}return g(h(C),S)}class i{constructor(S,D,I,T){this.characterMapping=S,this.html=D,this.containsRTL=I,this.containsForeignElements=T}}e.RenderLineOutput2=i;function t(C){const S=new E.StringBuilder(1e4),D=s(C,S);return new i(D.characterMapping,S.build(),D.containsRTL,D.containsForeignElements)}class n{constructor(S,D,I,T,N,A,P,M,R,F,O,B,H,V,q,z){this.fontIsMonospace=S,this.canUseHalfwidthRightwardsArrow=D,this.lineContent=I,this.len=T,this.isOverflowing=N,this.overflowingCharCount=A,this.parts=P,this.containsForeignElements=M,this.fauxIndentLength=R,this.tabSize=F,this.startVisibleColumn=O,this.containsRTL=B,this.spaceWidth=H,this.renderSpaceCharCode=V,this.renderWhitespace=q,this.renderControlCharacters=z}}function h(C){const S=C.lineContent;let D,I,T;C.stopRenderingLineAfter!==-1&&C.stopRenderingLineAfter<S.length?(D=!0,I=S.length-C.stopRenderingLineAfter,T=C.stopRenderingLineAfter):(D=!1,I=0,T=S.length);let N=m(S,C.containsRTL,C.lineTokens,C.fauxIndentLength,T);C.renderControlCharacters&&!C.isBasicASCII&&(N=r(S,N)),(C.renderWhitespace===4||C.renderWhitespace===1||C.renderWhitespace===2&&C.selectionsOnLine||C.renderWhitespace===3&&!C.continuesWithWrappedLine)&&(N=l(C,S,T,N));let A=0;if(C.lineDecorations.length>0){for(let P=0,M=C.lineDecorations.length;P<M;P++){const R=C.lineDecorations[P];R.type===3||R.type===1?A|=1:R.type===2&&(A|=2)}N=o(S,T,N,C.lineDecorations)}return C.containsRTL||(N=u(S,N,!C.isBasicASCII||C.fontLigatures)),new n(C.useMonospaceOptimizations,C.canUseHalfwidthRightwardsArrow,S,T,D,I,N,A,C.fauxIndentLength,C.tabSize,C.startVisibleColumn,C.containsRTL,C.spaceWidth,C.renderSpaceCharCode,C.renderWhitespace,C.renderControlCharacters)}function m(C,S,D,I,T){const N=[];let A=0;I>0&&(N[A++]=new y.LinePart(I,"",0,!1));let P=I;for(let M=0,R=D.getCount();M<R;M++){const F=D.getEndOffset(M);if(F<=I)continue;const O=D.getClassName(M);if(F>=T){const H=S?k.containsRTL(C.substring(P,T)):!1;N[A++]=new y.LinePart(T,O,0,H);break}const B=S?k.containsRTL(C.substring(P,F)):!1;N[A++]=new y.LinePart(F,O,0,B),P=F}return N}function u(C,S,D){let I=0;const T=[];let N=0;if(D)for(let A=0,P=S.length;A<P;A++){const M=S[A],R=M.endIndex;if(I+50<R){const F=M.type,O=M.metadata,B=M.containsRTL;let H=-1,V=I;for(let q=I;q<R;q++)C.charCodeAt(q)===32&&(H=q),H!==-1&&q-V>=50&&(T[N++]=new y.LinePart(H+1,F,O,B),V=H+1,H=-1);V!==R&&(T[N++]=new y.LinePart(R,F,O,B))}else T[N++]=M;I=R}else for(let A=0,P=S.length;A<P;A++){const M=S[A],R=M.endIndex,F=R-I;if(F>50){const O=M.type,B=M.metadata,H=M.containsRTL,V=Math.ceil(F/50);for(let q=1;q<V;q++){const z=I+q*50;T[N++]=new y.LinePart(z,O,B,H)}T[N++]=new y.LinePart(R,O,B,H)}else T[N++]=M;I=R}return T}function d(C){return C<32?C!==9:C===127||C>=8234&&C<=8238||C>=8294&&C<=8297||C>=8206&&C<=8207||C===1564}function r(C,S){const D=[];let I=new y.LinePart(0,"",0,!1),T=0;for(const N of S){const A=N.endIndex;for(;T<A;T++){const P=C.charCodeAt(T);d(P)&&(T>I.endIndex&&(I=new y.LinePart(T,N.type,N.metadata,N.containsRTL),D.push(I)),I=new y.LinePart(T+1,"mtkcontrol",N.metadata,!1),D.push(I))}T>I.endIndex&&(I=new y.LinePart(A,N.type,N.metadata,N.containsRTL),D.push(I))}return D}function l(C,S,D,I){const T=C.continuesWithWrappedLine,N=C.fauxIndentLength,A=C.tabSize,P=C.startVisibleColumn,M=C.useMonospaceOptimizations,R=C.selectionsOnLine,F=C.renderWhitespace===1,O=C.renderWhitespace===3,B=C.renderSpaceWidth!==C.spaceWidth,H=[];let V=0,q=0,z=I[q].type,U=I[q].containsRTL,Z=I[q].endIndex;const re=I.length;let x=!1,Q=k.firstNonWhitespaceIndex(S),X;Q===-1?(x=!0,Q=D,X=D):X=k.lastNonWhitespaceIndex(S);let Y=!1,ae=0,ce=R&&R[ae],he=P%A;for(let fe=N;fe<D;fe++){const se=S.charCodeAt(fe);ce&&fe>=ce.endOffset&&(ae++,ce=R&&R[ae]);let te;if(fe<Q||fe>X)te=!0;else if(se===9)te=!0;else if(se===32)if(F)if(Y)te=!0;else{const $=fe+1<D?S.charCodeAt(fe+1):0;te=$===32||$===9}else te=!0;else te=!1;if(te&&R&&(te=!!ce&&ce.startOffset<=fe&&ce.endOffset>fe),te&&O&&(te=x||fe>X),te&&U&&fe>=Q&&fe<=X&&(te=!1),Y){if(!te||!M&&he>=A){if(B){const $=V>0?H[V-1].endIndex:N;for(let W=$+1;W<=fe;W++)H[V++]=new y.LinePart(W,"mtkw",1,!1)}else H[V++]=new y.LinePart(fe,"mtkw",1,!1);he=he%A}}else(fe===Z||te&&fe>N)&&(H[V++]=new y.LinePart(fe,z,0,U),he=he%A);for(se===9?he=A:k.isFullWidthCharacter(se)?he+=2:he++,Y=te;fe===Z&&(q++,q<re);)z=I[q].type,U=I[q].containsRTL,Z=I[q].endIndex}let pe=!1;if(Y)if(T&&F){const fe=D>0?S.charCodeAt(D-1):0,se=D>1?S.charCodeAt(D-2):0;fe===32&&se!==32&&se!==9||(pe=!0)}else pe=!0;if(pe)if(B){const fe=V>0?H[V-1].endIndex:N;for(let se=fe+1;se<=D;se++)H[V++]=new y.LinePart(se,"mtkw",1,!1)}else H[V++]=new y.LinePart(D,"mtkw",1,!1);else H[V++]=new y.LinePart(D,z,0,U);return H}function o(C,S,D,I){I.sort(L.LineDecoration.compare);const T=L.LineDecorationsNormalizer.normalize(C,I),N=T.length;let A=0;const P=[];let M=0,R=0;for(let O=0,B=D.length;O<B;O++){const H=D[O],V=H.endIndex,q=H.type,z=H.metadata,U=H.containsRTL;for(;A<N&&T[A].startOffset<V;){const Z=T[A];if(Z.startOffset>R&&(R=Z.startOffset,P[M++]=new y.LinePart(R,q,z,U)),Z.endOffset+1<=V)R=Z.endOffset+1,P[M++]=new y.LinePart(R,q+" "+Z.className,z|Z.metadata,U),A++;else{R=V,P[M++]=new y.LinePart(R,q+" "+Z.className,z|Z.metadata,U);break}}V>R&&(R=V,P[M++]=new y.LinePart(R,q,z,U))}const F=D[D.length-1].endIndex;if(A<N&&T[A].startOffset===F)for(;A<N&&T[A].startOffset===F;){const O=T[A];P[M++]=new y.LinePart(R,O.className,O.metadata,!1),A++}return P}function g(C,S){const D=C.fontIsMonospace,I=C.canUseHalfwidthRightwardsArrow,T=C.containsForeignElements,N=C.lineContent,A=C.len,P=C.isOverflowing,M=C.overflowingCharCount,R=C.parts,F=C.fauxIndentLength,O=C.tabSize,B=C.startVisibleColumn,H=C.containsRTL,V=C.spaceWidth,q=C.renderSpaceCharCode,z=C.renderWhitespace,U=C.renderControlCharacters,Z=new _(A+1,R.length);let re=!1,x=0,Q=B,X=0,Y=0,ae=0;H?S.appendString('<span dir="ltr">'):S.appendString("<span>");for(let ce=0,he=R.length;ce<he;ce++){const pe=R[ce],fe=pe.endIndex,se=pe.type,te=pe.containsRTL,$=z!==0&&pe.isWhitespace(),W=$&&!D&&(se==="mtkw"||!T),j=x===fe&&pe.isPseudoAfter();if(X=0,S.appendString("<span "),te&&S.appendString('style="unicode-bidi:isolate" '),S.appendString('class="'),S.appendString(W?"mtkz":se),S.appendASCIICharCode(34),$){let K=0;{let G=x,ee=Q;for(;G<fe;G++){const de=(N.charCodeAt(G)===9?O-ee%O:1)|0;K+=de,G>=F&&(ee+=de)}}for(W&&(S.appendString(' style="width:'),S.appendString(String(V*K)),S.appendString('px"')),S.appendASCIICharCode(62);x<fe;x++){Z.setColumnInfo(x+1,ce-ae,X,Y),ae=0;const G=N.charCodeAt(x);let ee,oe;if(G===9){ee=O-Q%O|0,oe=ee,!I||oe>1?S.appendCharCode(8594):S.appendCharCode(65515);for(let de=2;de<=oe;de++)S.appendCharCode(160)}else ee=2,oe=1,S.appendCharCode(q),S.appendCharCode(8204);X+=ee,Y+=oe,x>=F&&(Q+=oe)}}else for(S.appendASCIICharCode(62);x<fe;x++){Z.setColumnInfo(x+1,ce-ae,X,Y),ae=0;const K=N.charCodeAt(x);let G=1,ee=1;switch(K){case 9:G=O-Q%O,ee=G;for(let oe=1;oe<=G;oe++)S.appendCharCode(160);break;case 32:S.appendCharCode(160);break;case 60:S.appendString("&lt;");break;case 62:S.appendString("&gt;");break;case 38:S.appendString("&amp;");break;case 0:U?S.appendCharCode(9216):S.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:S.appendCharCode(65533);break;default:k.isFullWidthCharacter(K)&&ee++,U&&K<32?S.appendCharCode(9216+K):U&&K===127?S.appendCharCode(9249):U&&d(K)?(S.appendString("[U+"),S.appendString(c(K)),S.appendString("]"),G=8,ee=G):S.appendCharCode(K)}X+=G,Y+=ee,x>=F&&(Q+=ee)}j?ae++:ae=0,x>=A&&!re&&pe.isPseudoAfter()&&(re=!0,Z.setColumnInfo(x+1,ce,X,Y)),S.appendString("</span>")}return re||Z.setColumnInfo(A+1,R.length-1,X,Y),P&&(S.appendString('<span class="mtkoverflow">'),S.appendString(f.localize(0,null,b(M))),S.appendString("</span>")),S.appendString("</span>"),new a(Z,H,T)}function c(C){return C.toString(16).toUpperCase().padStart(4,"0")}function b(C){return C<1024?f.localize(1,null,C):C<1024*1024?`${(C/1024).toFixed(1)} KB`:`${(C/1024/1024).toFixed(1)} MB`}}),define(ie[676],ne([1,0,99,71,38,110,145,129,91]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=void 0,e.renderLines=_;const v=(0,f.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:t=>t});function _(t,n,h,m){(0,k.applyFontInfo)(m,n.fontInfo);const u=h.length>0,d=new L.StringBuilder(1e4);let r=0,l=0;const o=[];for(let C=0;C<t.lineTokens.length;C++){const S=C+1,D=t.lineTokens[C],I=t.lineBreakData[C],T=y.LineDecoration.filter(h,S,1,Number.MAX_SAFE_INTEGER);if(I){let N=0;for(const A of I.breakOffsets){const P=D.sliceAndInflate(N,A,0);r=Math.max(r,i(l,P,y.LineDecoration.extractWrapped(T,N,A),u,t.mightContainNonBasicASCII,t.mightContainRTL,n,d)),l++,N=A}o.push(I.breakOffsets.length)}else o.push(1),r=Math.max(r,i(l,D,T,u,t.mightContainNonBasicASCII,t.mightContainRTL,n,d)),l++}r+=n.scrollBeyondLastColumn;const g=d.build(),c=v?v.createHTML(g):g;m.innerHTML=c;const b=r*n.typicalHalfwidthCharacterWidth;return{heightInLines:l,minWidthInPx:b,viewLineCounts:o}}class a{constructor(n,h,m,u){this.lineTokens=n,this.lineBreakData=h,this.mightContainNonBasicASCII=m,this.mightContainRTL=u}}e.LineSource=a;class s{static fromEditor(n){var h;const m=n.getOptions(),u=m.get(50),d=m.get(145);return new s(((h=n.getModel())===null||h===void 0?void 0:h.getOptions().tabSize)||0,u,m.get(33),u.typicalHalfwidthCharacterWidth,m.get(104),m.get(67),d.decorationsWidth,m.get(117),m.get(99),m.get(94),m.get(51))}constructor(n,h,m,u,d,r,l,o,g,c,b){this.tabSize=n,this.fontInfo=h,this.disableMonospaceOptimizations=m,this.typicalHalfwidthCharacterWidth=u,this.scrollBeyondLastColumn=d,this.lineHeight=r,this.lineDecorationsWidth=l,this.stopRenderingLineAfter=o,this.renderWhitespace=g,this.renderControlCharacters=c,this.fontLigatures=b}}e.RenderOptions=s;function i(t,n,h,m,u,d,r,l){l.appendString('<div class="view-line'),m||l.appendString(" char-delete"),l.appendString('" style="top:'),l.appendString(String(t*r.lineHeight)),l.appendString('px;width:1000000px;">');const o=n.getLineContent(),g=w.ViewLineRenderingData.isBasicASCII(o,u),c=w.ViewLineRenderingData.containsRTL(o,g,d),b=(0,p.renderViewLine)(new p.RenderLineInput(r.fontInfo.isMonospace&&!r.disableMonospaceOptimizations,r.fontInfo.canUseHalfwidthRightwardsArrow,o,!1,g,c,0,n,h,r.tabSize,0,r.fontInfo.spaceWidth,r.fontInfo.middotWidth,r.fontInfo.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==E.EditorFontLigatures.OFF,null),l);return l.appendString("</div>"),b.characterMapping.getHorizontalOffset(b.characterMapping.length)}}),define(ie[677],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(ie[678],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(ie[679],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(ie[680],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(ie[681],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(ie[682],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(ie[683],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(ie[684],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(ie[685],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(ie[686],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(ie[687],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(ie[688],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(ie[689],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(ie[690],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(ie[691],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/comment/browser/comment",e)}),define(ie[692],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(ie[693],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(ie[694],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(ie[695],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(ie[696],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(ie[697],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution",e)}),define(ie[698],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(ie[699],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(ie[700],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/find/browser/findController",e)}),define(ie[701],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/find/browser/findWidget",e)}),define(ie[702],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/folding/browser/folding",e)}),define(ie[703],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(ie[704],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(ie[705],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/format/browser/formatActions",e)}),define(ie[706],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(ie[707],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(ie[708],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(ie[709],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(ie[710],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(ie[711],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(ie[712],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(ie[713],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(ie[169],ne([1,0,12,7,178,2,47,50,11,5,713]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class a{constructor(h,m,u,d){this.isProviderFirst=h,this.parent=m,this.link=u,this._rangeCallback=d,this.id=E.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var h,m;return(m=(h=this._range)!==null&&h!==void 0?h:this.link.targetSelectionRange)!==null&&m!==void 0?m:this.link.range}set range(h){this._range=h,this._rangeCallback(this)}get ariaMessage(){var h;const m=(h=this.parent.getPreview(this))===null||h===void 0?void 0:h.preview(this.range);return m?(0,_.localize)(1,null,m.value,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,_.localize)(0,null,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=a;class s{constructor(h){this._modelReference=h}dispose(){this._modelReference.dispose()}preview(h,m=8){const u=this._modelReference.object.textEditorModel;if(!u)return;const{startLineNumber:d,startColumn:r,endLineNumber:l,endColumn:o}=h,g=u.getWordUntilPosition({lineNumber:d,column:r-m}),c=new v.Range(d,g.startColumn,d,r),b=new v.Range(l,o,l,1073741824),C=u.getValueInRange(c).replace(/^\s+/,""),S=u.getValueInRange(h),D=u.getValueInRange(b).replace(/\s+$/,"");return{value:C+S+D,highlight:{start:C.length,end:C.length+S.length}}}}e.FilePreview=s;class i{constructor(h,m){this.parent=h,this.uri=m,this.children=[],this._previews=new y.ResourceMap}dispose(){(0,L.dispose)(this._previews.values()),this._previews.clear()}getPreview(h){return this._previews.get(h.uri)}get ariaMessage(){const h=this.children.length;return h===1?(0,_.localize)(2,null,(0,p.basename)(this.uri),this.uri.fsPath):(0,_.localize)(3,null,h,(0,p.basename)(this.uri),this.uri.fsPath)}async resolve(h){if(this._previews.size!==0)return this;for(const m of this.children)if(!this._previews.has(m.uri))try{const u=await h.createModelReference(m.uri);this._previews.set(m.uri,new s(u))}catch(u){(0,f.onUnexpectedError)(u)}return this}}e.FileReferences=i;class t{constructor(h,m){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=h,this._title=m;const[u]=h;h.sort(t._compareReferences);let d;for(const r of h)if((!d||!p.extUri.isEqual(d.uri,r.uri,!0))&&(d=new i(this,r.uri),this.groups.push(d)),d.children.length===0||t._compareReferences(r,d.children[d.children.length-1])!==0){const l=new a(u===r,d,r,o=>this._onDidChangeReferenceRange.fire(o));this.references.push(l),d.children.push(l)}}dispose(){(0,L.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,_.localize)(4,null):this.references.length===1?(0,_.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,_.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,_.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(h,m){const{parent:u}=h;let d=u.children.indexOf(h);const r=u.children.length,l=u.parent.groups.length;return l===1||m&&d+1<r||!m&&d>0?(m?d=(d+1)%r:d=(d+r-1)%r,u.children[d]):(d=u.parent.groups.indexOf(u),m?(d=(d+1)%l,u.parent.groups[d].children[0]):(d=(d+l-1)%l,u.parent.groups[d].children[u.parent.groups[d].children.length-1]))}nearestReference(h,m){const u=this.references.map((d,r)=>({idx:r,prefixLen:w.commonPrefixLength(d.uri.toString(),h.toString()),offsetDist:Math.abs(d.range.startLineNumber-m.lineNumber)*100+Math.abs(d.range.startColumn-m.column)})).sort((d,r)=>d.prefixLen>r.prefixLen?-1:d.prefixLen<r.prefixLen?1:d.offsetDist<r.offsetDist?-1:d.offsetDist>r.offsetDist?1:0)[0];if(u)return this.references[u.idx]}referenceAt(h,m){for(const u of this.references)if(u.uri.toString()===h.toString()&&v.Range.containsPosition(u.range,m))return u}firstReference(){for(const h of this.references)if(h.isProviderFirst)return h;return this.references[0]}static _compareReferences(h,m){return p.extUri.compare(h.uri,m.uri)||v.Range.compareRangesUsingStarts(h.range,m.range)}}e.ReferencesModel=t}),define(ie[714],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(ie[715],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/hover/browser/hover",e)}),define(ie[716],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(ie[717],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(ie[718],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(ie[719],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(ie[720],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(ie[721],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(ie[722],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(ie[723],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(ie[724],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController",e)}),define(ie[725],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(ie[726],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(ie[727],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(ie[728],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(ie[729],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/links/browser/links",e)}),define(ie[730],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/message/browser/messageController",e)}),define(ie[731],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(ie[732],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(ie[733],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(ie[734],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(ie[735],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(ie[736],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(ie[737],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(ie[738],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/rename/browser/rename",e)}),define(ie[739],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/rename/browser/renameWidget",e)}),define(ie[740],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(ie[741],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(ie[742],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(ie[743],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(ie[744],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(ie[745],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(ie[746],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(ie[747],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(ie[748],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(ie[749],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(ie[750],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(ie[751],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(ie[752],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(ie[753],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(ie[754],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(ie[755],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(ie[756],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(ie[757],ne([3,4]),function(J,e){return J.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(ie[758],ne([3,4]),function(J,e){return J.create("vs/platform/accessibilitySignal/browser/accessibilitySignalService",e)}),define(ie[759],ne([3,4]),function(J,e){return J.create("vs/platform/action/common/actionCommonCategories",e)}),define(ie[760],ne([3,4]),function(J,e){return J.create("vs/platform/actionWidget/browser/actionList",e)}),define(ie[761],ne([3,4]),function(J,e){return J.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(ie[762],ne([3,4]),function(J,e){return J.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ie[763],ne([3,4]),function(J,e){return J.create("vs/platform/actions/browser/toolbar",e)}),define(ie[764],ne([3,4]),function(J,e){return J.create("vs/platform/actions/common/menuService",e)}),define(ie[765],ne([3,4]),function(J,e){return J.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ie[766],ne([3,4]),function(J,e){return J.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ie[767],ne([3,4]),function(J,e){return J.create("vs/platform/contextkey/common/contextkey",e)}),define(ie[768],ne([3,4]),function(J,e){return J.create("vs/platform/contextkey/common/contextkeys",e)}),define(ie[769],ne([3,4]),function(J,e){return J.create("vs/platform/contextkey/common/scanner",e)}),define(ie[770],ne([3,4]),function(J,e){return J.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(ie[771],ne([3,4]),function(J,e){return J.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ie[772],ne([3,4]),function(J,e){return J.create("vs/platform/list/browser/listService",e)}),define(ie[773],ne([3,4]),function(J,e){return J.create("vs/platform/markers/common/markers",e)}),define(ie[774],ne([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ie[775],ne([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ie[776],ne([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/quickInput",e)}),define(ie[777],ne([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/quickInputController",e)}),define(ie[778],ne([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/quickInputTree",e)}),define(ie[779],ne([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(ie[780],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/baseColors",e)}),define(ie[781],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/chartsColors",e)}),define(ie[782],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/editorColors",e)}),define(ie[783],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/inputColors",e)}),define(ie[784],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/listColors",e)}),define(ie[785],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/menuColors",e)}),define(ie[786],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/minimapColors",e)}),define(ie[787],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/miscColors",e)}),define(ie[788],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/quickpickColors",e)}),define(ie[789],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/searchColors",e)}),define(ie[790],ne([3,4]),function(J,e){return J.create("vs/platform/theme/common/iconRegistry",e)}),define(ie[791],ne([3,4]),function(J,e){return J.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ie[792],ne([3,4]),function(J,e){return J.create("vs/platform/workspace/common/workspace",e)}),define(ie[793],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=f;function f(k){return k?k.condition!==void 0:!1}}),define(ie[794],ne([1,0,759]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:(0,f.localize2)(0,"View"),Help:(0,f.localize2)(1,"Help"),Test:(0,f.localize2)(2,"Test"),File:(0,f.localize2)(3,"File"),Preferences:(0,f.localize2)(4,"Preferences"),Developer:(0,f.localize2)(5,"Developer")})}),define(ie[795],ne([1,0,12,769]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function E(...w){switch(w.length){case 1:return(0,k.localize)(0,null,w[0]);case 2:return(0,k.localize)(1,null,w[0],w[1]);case 3:return(0,k.localize)(2,null,w[0],w[1],w[2]);default:return}}const L=(0,k.localize)(3,null),y=(0,k.localize)(4,null);class p{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(v){switch(v.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return v.isTripleEq?"===":"==";case 4:return v.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return v.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return v.lexeme;case 18:return v.lexeme;case 19:return v.lexeme;case 20:return"EOF";default:throw(0,f.illegalState)(`unhandled token type: ${JSON.stringify(v)}; have you forgotten to add a case?`)}}reset(v){return this._input=v,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const _=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:_})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const _=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:_})}else this._match(126)?this._addToken(9):this._error(E("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(E("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(E("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(v){return this._isAtEnd()||this._input.charCodeAt(this._current)!==v?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(v){this._tokens.push({type:v,offset:this._start})}_error(v){const _=this._start,a=this._input.substring(this._start,this._current),s={type:19,offset:this._start,lexeme:a};this._errors.push({offset:_,lexeme:a,additionalInfo:v}),this._tokens.push(s)}_string(){this.stringRe.lastIndex=this._start;const v=this.stringRe.exec(this._input);if(v){this._current=this._start+v[0].length;const _=this._input.substring(this._start,this._current),a=p._keywords.get(_);a?this._addToken(a):this._tokens.push({type:17,lexeme:_,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(L);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let v=this._current,_=!1,a=!1;for(;;){if(v>=this._input.length){this._current=v,this._error(y);return}const i=this._input.charCodeAt(v);if(_)_=!1;else if(i===47&&!a){v++;break}else i===91?a=!0:i===92?_=!0:i===93&&(a=!1);v++}for(;v<this._input.length&&p._regexFlags.has(this._input.charCodeAt(v));)v++;this._current=v;const s=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:s,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=p,p._regexFlags=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0))),p._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(ie[796],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var f;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(f||(e.EditorOpenSource=f={}))}),define(ie[797],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class f{constructor(L){this.value=L,this._lower=L.toLowerCase()}static toKey(L){return typeof L=="string"?L.toLowerCase():L._lower}}e.ExtensionIdentifier=f;class k{constructor(L){if(this._set=new Set,L)for(const y of L)this.add(y)}add(L){this._set.add(f.toKey(L))}has(L){return this._set.has(f.toKey(L))}}e.ExtensionIdentifierSet=k}),define(ie[358],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var f;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(f||(e.FileKind=f={}))}),define(ie[798],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=f;function f(k){var E,L;return((E=k.lookupKeybinding("history.showPrevious"))===null||E===void 0?void 0:E.getElectronAccelerator())==="Up"&&((L=k.lookupKeybinding("history.showNext"))===null||L===void 0?void 0:L.getElectronAccelerator())==="Down"}}),define(ie[253],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class f{constructor(E,L=[],y=!1){this.ctor=E,this.staticArguments=L,this.supportsDelayedInstantiation=y}}e.SyncDescriptor=f}),define(ie[46],ne([1,0,253]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerSingleton=E,e.getSingletonServiceDescriptors=L;const k=[];function E(y,p,w){p instanceof f.SyncDescriptor||(p=new f.SyncDescriptor(p,[],!!w)),k.push([y,p])}function L(){return k}}),define(ie[799],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class f{constructor(L,y){this.key=L,this.data=y,this.incoming=new Map,this.outgoing=new Map}}e.Node=f;class k{constructor(L){this._hashFn=L,this._nodes=new Map}roots(){const L=[];for(const y of this._nodes.values())y.outgoing.size===0&&L.push(y);return L}insertEdge(L,y){const p=this.lookupOrInsertNode(L),w=this.lookupOrInsertNode(y);p.outgoing.set(w.key,w),w.incoming.set(p.key,p)}removeNode(L){const y=this._hashFn(L);this._nodes.delete(y);for(const p of this._nodes.values())p.outgoing.delete(y),p.incoming.delete(y)}lookupOrInsertNode(L){const y=this._hashFn(L);let p=this._nodes.get(y);return p||(p=new f(y,L),this._nodes.set(y,p)),p}isEmpty(){return this._nodes.size===0}toString(){const L=[];for(const[y,p]of this._nodes)L.push(`${y}
	(-> incoming)[${[...p.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...p.outgoing.keys()].join(",")}]
`);return L.join(`
`)}findCycleSlow(){for(const[L,y]of this._nodes){const p=new Set([L]),w=this._findCycle(y,p);if(w)return w}}_findCycle(L,y){for(const[p,w]of L.outgoing){if(y.has(p))return[...y,p].join(" -> ");y.add(p);const v=this._findCycle(w,y);if(v)return v;y.delete(p)}}}e.Graph=k}),define(ie[8],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IInstantiationService=e._util=void 0,e.createDecorator=E;var f;(function(L){L.serviceIds=new Map,L.DI_TARGET="$di$target",L.DI_DEPENDENCIES="$di$dependencies";function y(p){return p[L.DI_DEPENDENCIES]||[]}L.getServiceDependencies=y})(f||(e._util=f={})),e.IInstantiationService=E("instantiationService");function k(L,y,p){y[f.DI_TARGET]===y?y[f.DI_DEPENDENCIES].push({id:L,index:p}):(y[f.DI_DEPENDENCIES]=[{id:L,index:p}],y[f.DI_TARGET]=y)}function E(L){if(f.serviceIds.has(L))return f.serviceIds.get(L);const y=function(p,w,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(y,p,v)};return y.toString=()=>L,f.serviceIds.set(L,y),y}}),define(ie[147],ne([1,0,8,22,21]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,f.createDecorator)("IWorkspaceEditService");class L{constructor(v){this.metadata=v}static convert(v){return v.edits.map(_=>{if(y.is(_))return y.lift(_);if(p.is(_))return p.lift(_);throw new Error("Unsupported edit")})}}e.ResourceEdit=L;class y extends L{static is(v){return v instanceof y?!0:(0,E.isObject)(v)&&k.URI.isUri(v.resource)&&(0,E.isObject)(v.textEdit)}static lift(v){return v instanceof y?v:new y(v.resource,v.textEdit,v.versionId,v.metadata)}constructor(v,_,a=void 0,s){super(s),this.resource=v,this.textEdit=_,this.versionId=a}}e.ResourceTextEdit=y;class p extends L{static is(v){return v instanceof p?!0:(0,E.isObject)(v)&&(!!v.newResource||!!v.oldResource)}static lift(v){return v instanceof p?v:new p(v.oldResource,v.newResource,v.options,v.metadata)}constructor(v,_,a={},s){super(s),this.oldResource=v,this.newResource=_,this.options=a}}e.ResourceFileEdit=p}),define(ie[36],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,f.createDecorator)("codeEditorService")});var ue=this&&this.__param||function(J,e){return function(f,k){e(f,k,J)}};define(ie[359],ne([1,0,6,108,26,57,2,30,180,31,21,82,60,9,5,29,657,8]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.HideUnchangedRegionsFeature=void 0;let d=u=class extends y.Disposable{static setBreadcrumbsSourceFactory(o){this._breadcrumbsSourceFactory.set(o,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(o,g,c,b){super(),this._editors=o,this._diffModel=g,this._options=c,this._instantiationService=b,this._modifiedOutlineSource=(0,w.derivedDisposable)(this,I=>{const T=this._editors.modifiedModel.read(I),N=u._breadcrumbsSourceFactory.read(I);return!T||!N?void 0:N(T,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(I=>{if(I.reason===1)return;const T=this._diffModel.get();(0,p.transaction)(N=>{for(const A of this._editors.original.getSelections()||[])T?.ensureOriginalLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureOriginalLineIsVisible(A.getEndPosition().lineNumber,0,N)})})),this._register(this._editors.modified.onDidChangeCursorPosition(I=>{if(I.reason===1)return;const T=this._diffModel.get();(0,p.transaction)(N=>{for(const A of this._editors.modified.getSelections()||[])T?.ensureModifiedLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureModifiedLineIsVisible(A.getEndPosition().lineNumber,0,N)})}));const C=this._diffModel.map((I,T)=>{var N,A;const P=(N=I?.unchangedRegions.read(T))!==null&&N!==void 0?N:[];return P.length===1&&P[0].modifiedLineNumber===1&&P[0].lineCount===((A=this._editors.modifiedModel.read(T))===null||A===void 0?void 0:A.getLineCount())?[]:P});this.viewZones=(0,p.derivedWithStore)(this,(I,T)=>{const N=this._modifiedOutlineSource.read(I);if(!N)return{origViewZones:[],modViewZones:[]};const A=[],P=[],M=this._options.renderSideBySide.read(I),R=C.read(I);for(const F of R)if(!F.shouldHideControls(I)){{const O=(0,p.derived)(this,H=>F.getHiddenOriginalRange(H).startLineNumber-1),B=new a.PlaceholderViewZone(O,24);A.push(B),T.add(new r(this._editors.original,B,F,F.originalUnchangedRange,!M,N,H=>this._diffModel.get().ensureModifiedLineIsVisible(H,2,void 0),this._options))}{const O=(0,p.derived)(this,H=>F.getHiddenModifiedRange(H).startLineNumber-1),B=new a.PlaceholderViewZone(O,24);P.push(B),T.add(new r(this._editors.modified,B,F,F.modifiedUnchangedRange,!1,N,H=>this._diffModel.get().ensureModifiedLineIsVisible(H,2,void 0),this._options))}}return{origViewZones:A,modViewZones:P}});const S={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},D={description:"Fold Unchanged",glyphMarginHoverMessage:new L.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,h.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+v.ThemeIcon.asClassName(E.Codicon.fold),zIndex:10001};this._register((0,a.applyObservableDecorations)(this._editors.original,(0,p.derived)(this,I=>{const T=C.read(I),N=T.map(A=>({range:A.originalUnchangedRange.toInclusiveRange(),options:S}));for(const A of T)A.shouldHideControls(I)&&N.push({range:t.Range.fromPositions(new i.Position(A.originalLineNumber,1)),options:D});return N}))),this._register((0,a.applyObservableDecorations)(this._editors.modified,(0,p.derived)(this,I=>{const T=C.read(I),N=T.map(A=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:S}));for(const A of T)A.shouldHideControls(I)&&N.push({range:s.LineRange.ofLength(A.modifiedLineNumber,1).toInclusiveRange(),options:D});return N}))),this._register((0,p.autorun)(I=>{const T=C.read(I);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(T.map(N=>N.getHiddenOriginalRange(I).toInclusiveRange()).filter(_.isDefined)),this._editors.modified.setHiddenAreas(T.map(N=>N.getHiddenModifiedRange(I).toInclusiveRange()).filter(_.isDefined))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(I=>{var T;if(!I.event.rightButton&&I.target.position&&(!((T=I.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=I.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const P=A.unchangedRegions.get().find(M=>M.modifiedUnchangedRange.includes(N));if(!P)return;P.collapseAll(void 0),I.event.stopPropagation(),I.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(I=>{var T;if(!I.event.rightButton&&I.target.position&&(!((T=I.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=I.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const P=A.unchangedRegions.get().find(M=>M.originalUnchangedRange.includes(N));if(!P)return;P.collapseAll(void 0),I.event.stopPropagation(),I.event.preventDefault()}}))}};e.HideUnchangedRegionsFeature=d,d._breadcrumbsSourceFactory=(0,p.observableValue)("breadcrumbsSourceFactory",void 0),e.HideUnchangedRegionsFeature=d=u=Ie([ue(3,m.IInstantiationService)],d);class r extends a.ViewZoneOverlayWidget{constructor(o,g,c,b,C,S,D,I){const T=(0,f.h)("div.diff-hidden-lines-widget");super(o,g,T.root),this._editor=o,this._unchangedRegion=c,this._unchangedRegionRange=b,this._hide=C,this._modifiedOutlineSource=S,this._revealModifiedHiddenLine=D,this._options=I,this._nodes=(0,f.h)("div.diff-hidden-lines",[(0,f.h)("div.top@top",{title:(0,h.localize)(1,null)}),(0,f.h)("div.center@content",{style:{display:"flex"}},[(0,f.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,f.$)("a",{title:(0,h.localize)(2,null),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,f.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,f.h)("div.bottom@bottom",{title:(0,h.localize)(3,null),role:"button"})]),T.root.appendChild(this._nodes.root);const N=(0,p.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,f.reset)(this._nodes.first):this._register((0,a.applyStyle)(this._nodes.first,{width:N.map(P=>P.contentLeft)})),this._register((0,p.autorun)(P=>{const M=this._unchangedRegion.visibleLineCountTop.read(P)+this._unchangedRegion.visibleLineCountBottom.read(P)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!M),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(P)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(P)>0),this._nodes.top.classList.toggle("canMoveBottom",!M);const R=this._unchangedRegion.isDragged.read(P),F=this._editor.getDomNode();F&&(F.classList.toggle("draggingUnchangedRegion",!!R),R==="top"?(F.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(P)>0),F.classList.toggle("canMoveBottom",!M)):R==="bottom"?(F.classList.toggle("canMoveTop",!M),F.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(P)>0)):(F.classList.toggle("canMoveTop",!1),F.classList.toggle("canMoveBottom",!1)))}));const A=this._editor;this._register((0,f.addDisposableListener)(this._nodes.top,"mousedown",P=>{if(P.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),P.preventDefault();const M=P.clientY;let R=!1;const F=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const O=(0,f.getWindow)(this._nodes.top),B=(0,f.addDisposableListener)(O,"mousemove",V=>{const z=V.clientY-M;R=R||Math.abs(z)>2;const U=Math.round(z/A.getOption(67)),Z=Math.max(0,Math.min(F+U,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(Z,void 0)}),H=(0,f.addDisposableListener)(O,"mouseup",V=>{R||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),B.dispose(),H.dispose()})})),this._register((0,f.addDisposableListener)(this._nodes.bottom,"mousedown",P=>{if(P.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),P.preventDefault();const M=P.clientY;let R=!1;const F=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const O=(0,f.getWindow)(this._nodes.bottom),B=(0,f.addDisposableListener)(O,"mousemove",V=>{const z=V.clientY-M;R=R||Math.abs(z)>2;const U=Math.round(z/A.getOption(67)),Z=Math.max(0,Math.min(F-U,this._unchangedRegion.getMaxVisibleLineCountBottom())),re=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(Z,void 0);const x=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(x-re))}),H=(0,f.addDisposableListener)(O,"mouseup",V=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!R){const q=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const z=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(z-q))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),B.dispose(),H.dispose()})})),this._register((0,p.autorun)(P=>{const M=[];if(!this._hide){const R=c.getHiddenModifiedRange(P).length,F=(0,h.localize)(4,null,R),O=(0,f.$)("span",{title:(0,h.localize)(5,null)},F);O.addEventListener("dblclick",V=>{V.button===0&&(V.preventDefault(),this._unchangedRegion.showAll(void 0))}),M.push(O);const B=this._unchangedRegion.getHiddenModifiedRange(P),H=this._modifiedOutlineSource.getBreadcrumbItems(B,P);if(H.length>0){M.push((0,f.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let V=0;V<H.length;V++){const q=H[V],z=n.SymbolKinds.toIcon(q.kind),U=(0,f.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,k.renderIcon)(z),"\xA0",q.name,...V===H.length-1?[]:[(0,k.renderIcon)(E.Codicon.chevronRight)]]).root;M.push(U),U.onclick=()=>{this._revealModifiedHiddenLine(q.startLineNumber)}}}}(0,f.reset)(this._nodes.others,...M)}))}}}),define(ie[42],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,f.createDecorator)("languageService")}),define(ie[111],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,f.createDecorator)("editorWorkerService")}),define(ie[18],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,f.createDecorator)("ILanguageFeaturesService")}),define(ie[800],ne([1,0,639,18,46]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class L{constructor(){this.referenceProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.newSymbolNamesProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.multiDocumentHighlightProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlineEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this))}_score(p){var w;return(w=this._notebookTypeResolver)===null||w===void 0?void 0:w.call(this,p)}}e.LanguageFeaturesService=L,(0,E.registerSingleton)(k.ILanguageFeaturesService,L,1)}),define(ie[254],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,f.createDecorator)("markerDecorationsService")}),define(ie[53],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,f.createDecorator)("modelService")}),define(ie[74],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,f.createDecorator)("textModelService")}),define(ie[255],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,f.createDecorator)("semanticTokensStylingService")}),define(ie[200],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,f.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,f.createDecorator)("textResourcePropertiesService")}),define(ie[801],ne([1,0,46,8,313]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,f.registerSingleton)(e.ITreeViewsDnDService,E.TreeViewsDnDService,1)}),define(ie[256],ne([1,0,147,128]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCombinedWorkspaceEdit=E,e.sortEditsByYieldTo=L;function E(y,p,w){var v,_,a,s;return(typeof w.insertText=="string"?w.insertText==="":w.insertText.snippet==="")?{edits:(_=(v=w.additionalEdit)===null||v===void 0?void 0:v.edits)!==null&&_!==void 0?_:[]}:{edits:[...p.map(i=>new f.ResourceTextEdit(y,{range:i,text:typeof w.insertText=="string"?k.SnippetParser.escape(w.insertText)+"$0":w.insertText.snippet,insertAsSnippet:!0})),...(s=(a=w.additionalEdit)===null||a===void 0?void 0:a.edits)!==null&&s!==void 0?s:[]]}}function L(y){var p;function w(i,t){return"mimeType"in i?i.mimeType===t.handledMimeType:!!t.kind&&i.kind.contains(t.kind)}const v=new Map;for(const i of y)for(const t of(p=i.yieldTo)!==null&&p!==void 0?p:[])for(const n of y)if(n!==i&&w(t,n)){let h=v.get(i);h||(h=[],v.set(i,h)),h.push(n)}if(!v.size)return Array.from(y);const _=new Set,a=[];function s(i){if(!i.length)return[];const t=i[0];if(a.includes(t))return console.warn("Yield to cycle detected",t),i;if(_.has(t))return s(i.slice(1));let n=[];const h=v.get(t);return h&&(a.push(t),n=s(h),a.pop()),_.add(t),[...n,t,...s(i.slice(1))]}return s(Array.from(y))}}),define(ie[360],ne([1,0,99,7,2,30,11,71,38,9,5,110,42,43,102,145,129,195,196,488]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ttPolicy=e.AdditionalLinesWidget=e.GhostTextWidget=e.GHOST_TEXT_DESCRIPTION=void 0,e.GHOST_TEXT_DESCRIPTION="ghost-text";let d=class extends E.Disposable{constructor(g,c,b){super(),this.editor=g,this.model=c,this.languageService=b,this.isDisposed=(0,L.observableValue)(this,!1),this.currentTextModel=(0,L.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,L.derived)(this,C=>{if(this.isDisposed.read(C))return;const S=this.currentTextModel.read(C);if(S!==this.model.targetTextModel.read(C))return;const D=this.model.ghostText.read(C);if(!D)return;const I=D instanceof m.GhostTextReplacement?D.columnRange:void 0,T=[],N=[];function A(O,B){if(N.length>0){const H=N[N.length-1];B&&H.decorations.push(new n.LineDecoration(H.content.length+1,H.content.length+1+O[0].length,B,0)),H.content+=O[0],O=O.slice(1)}for(const H of O)N.push({content:H,decorations:B?[new n.LineDecoration(1,H.length+1,B,0)]:[]})}const P=S.getLineContent(D.lineNumber);let M,R=0;for(const O of D.parts){let B=O.lines;M===void 0?(T.push({column:O.column,text:B[0],preview:O.preview}),B=B.slice(1)):A([P.substring(R,O.column-1)],void 0),B.length>0&&(A(B,e.GHOST_TEXT_DESCRIPTION),M===void 0&&O.column<=P.length&&(M=O.column)),R=O.column-1}M!==void 0&&A([P.substring(R)],void 0);const F=M!==void 0?new u.ColumnRange(M,P.length+1):void 0;return{replacedRange:I,inlineTexts:T,additionalLines:N,hiddenRange:F,lineNumber:D.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(C),targetTextModel:S}}),this.decorations=(0,L.derived)(this,C=>{const S=this.uiState.read(C);if(!S)return[];const D=[];S.replacedRange&&D.push({range:S.replacedRange.toRange(S.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),S.hiddenRange&&D.push({range:S.hiddenRange.toRange(S.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const I of S.inlineTexts)D.push({range:_.Range.fromPositions(new v.Position(S.lineNumber,I.column)),options:{description:e.GHOST_TEXT_DESCRIPTION,after:{content:I.text,inlineClassName:I.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return D}),this.additionalLinesWidget=this._register(new r(this.editor,this.languageService.languageIdCodec,(0,L.derived)(C=>{const S=this.uiState.read(C);return S?{lineNumber:S.lineNumber,additionalLines:S.additionalLines,minReservedLineCount:S.additionalReservedLineCount,targetTextModel:S.targetTextModel}:void 0}))),this._register((0,E.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,u.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(g){return this.additionalLinesWidget.viewZoneId===g}};e.GhostTextWidget=d,e.GhostTextWidget=d=Ie([ue(2,s.ILanguageService)],d);class r extends E.Disposable{get viewZoneId(){return this._viewZoneId}constructor(g,c,b){super(),this.editor=g,this.languageIdCodec=c,this.lines=b,this._viewZoneId=void 0,this.editorOptionsChanged=(0,L.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,C=>C.hasChanged(33)||C.hasChanged(117)||C.hasChanged(99)||C.hasChanged(94)||C.hasChanged(51)||C.hasChanged(50)||C.hasChanged(67))),this._register((0,L.autorun)(C=>{const S=this.lines.read(C);this.editorOptionsChanged.read(C),S?this.updateLines(S.lineNumber,S.additionalLines,S.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(g=>{this._viewZoneId&&(g.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(g,c,b){const C=this.editor.getModel();if(!C)return;const{tabSize:S}=C.getOptions();this.editor.changeViewZones(D=>{this._viewZoneId&&(D.removeZone(this._viewZoneId),this._viewZoneId=void 0);const I=Math.max(c.length,b);if(I>0){const T=document.createElement("div");l(T,S,c,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=D.addZone({afterLineNumber:g,heightInLines:I,domNode:T,afterColumnAffinity:1})}})}}e.AdditionalLinesWidget=r;function l(o,g,c,b,C){const S=b.get(33),D=b.get(117),I="none",T=b.get(94),N=b.get(51),A=b.get(50),P=b.get(67),M=new a.StringBuilder(1e4);M.appendString('<div class="suggest-preview-text">');for(let O=0,B=c.length;O<B;O++){const H=c[O],V=H.content;M.appendString('<div class="view-line'),M.appendString('" style="top:'),M.appendString(String(O*P)),M.appendString('px;width:1000000px;">');const q=y.isBasicASCII(V),z=y.containsRTL(V),U=t.LineTokens.createEmpty(V,C);(0,h.renderViewLine)(new h.RenderLineInput(A.isMonospace&&!S,A.canUseHalfwidthRightwardsArrow,V,!1,q,z,0,U,H.decorations,g,0,A.spaceWidth,A.middotWidth,A.wsmiddotWidth,D,I,T,N!==w.EditorFontLigatures.OFF,null),M),M.appendString("</div>")}M.appendString("</div>"),(0,p.applyFontInfo)(o,A);const R=M.build(),F=e.ttPolicy?e.ttPolicy.createHTML(R):R;o.innerHTML=F}e.ttPolicy=(0,f.createTrustedTypesPolicy)("editorGhostText",{createHTML:o=>o})}),define(ie[802],ne([1,0,2,30,9,5,42,43,145,360,196,490]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=e.INLINE_EDIT_DESCRIPTION=void 0,e.INLINE_EDIT_DESCRIPTION="inline-edit";let a=class extends f.Disposable{constructor(i,t,n){super(),this.editor=i,this.model=t,this.languageService=n,this.isDisposed=(0,k.observableValue)(this,!1),this.currentTextModel=(0,k.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,k.derived)(this,h=>{var m;if(this.isDisposed.read(h))return;const u=this.currentTextModel.read(h);if(u!==this.model.targetTextModel.read(h))return;const d=this.model.ghostText.read(h);if(!d)return;let r=(m=this.model.range)===null||m===void 0?void 0:m.read(h);r&&r.startLineNumber===r.endLineNumber&&r.startColumn===r.endColumn&&(r=void 0);const l=(r?r.startLineNumber===r.endLineNumber:!0)&&d.parts.length===1&&d.parts[0].lines.length===1,o=d.parts.length===1&&d.parts[0].lines.every(N=>N.length===0),g=[],c=[];function b(N,A){if(c.length>0){const P=c[c.length-1];A&&P.decorations.push(new w.LineDecoration(P.content.length+1,P.content.length+1+N[0].length,A,0)),P.content+=N[0],N=N.slice(1)}for(const P of N)c.push({content:P,decorations:A?[new w.LineDecoration(1,P.length+1,A,0)]:[]})}const C=u.getLineContent(d.lineNumber);let S,D=0;if(!o){for(const N of d.parts){let A=N.lines;r&&!l&&(b(A,e.INLINE_EDIT_DESCRIPTION),A=[]),S===void 0?(g.push({column:N.column,text:A[0],preview:N.preview}),A=A.slice(1)):b([C.substring(D,N.column-1)],void 0),A.length>0&&(b(A,e.INLINE_EDIT_DESCRIPTION),S===void 0&&N.column<=C.length&&(S=N.column)),D=N.column-1}S!==void 0&&b([C.substring(D)],void 0)}const I=S!==void 0?new _.ColumnRange(S,C.length+1):void 0,T=l||!r?d.lineNumber:r.endLineNumber-1;return{inlineTexts:g,additionalLines:c,hiddenRange:I,lineNumber:T,additionalReservedLineCount:this.model.minReservedLineCount.read(h),targetTextModel:u,range:r,isSingleLine:l,isPureRemove:o,backgroundColoring:this.model.backgroundColoring.read(h)}}),this.decorations=(0,k.derived)(this,h=>{const m=this.uiState.read(h);if(!m)return[];const u=[];if(m.hiddenRange&&u.push({range:m.hiddenRange.toRange(m.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),m.range){const d=[];if(m.isSingleLine)d.push(m.range);else if(m.isPureRemove){const l=m.range.endLineNumber-m.range.startLineNumber;for(let o=0;o<l;o++){const g=m.range.startLineNumber+o,c=m.targetTextModel.getLineFirstNonWhitespaceColumn(g),b=m.targetTextModel.getLineLastNonWhitespaceColumn(g),C=new L.Range(g,c,g,b);d.push(C)}}else{const l=m.range.endLineNumber-m.range.startLineNumber;for(let o=0;o<l;o++){const g=m.range.startLineNumber+o,c=m.targetTextModel.getLineFirstNonWhitespaceColumn(g),b=m.targetTextModel.getLineLastNonWhitespaceColumn(g),C=new L.Range(g,c,g,b);d.push(C)}}const r=m.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const l of d)u.push({range:l,options:{inlineClassName:r,description:"inline-edit-remove"}})}for(const d of m.inlineTexts)u.push({range:L.Range.fromPositions(new E.Position(m.lineNumber,d.column)),options:{description:e.INLINE_EDIT_DESCRIPTION,after:{content:d.text,inlineClassName:d.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:p.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return u}),this.additionalLinesWidget=this._register(new v.AdditionalLinesWidget(this.editor,this.languageService.languageIdCodec,(0,k.derived)(h=>{const m=this.uiState.read(h);return m&&!m.isPureRemove?{lineNumber:m.lineNumber,additionalLines:m.additionalLines,minReservedLineCount:m.additionalReservedLineCount,targetTextModel:m.targetTextModel}:void 0}))),this._register((0,f.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,_.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(i){return this.additionalLinesWidget.viewZoneId===i}};e.GhostTextWidget=a,e.GhostTextWidget=a=Ie([ue(2,y.ILanguageService)],a)}),define(ie[148],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,f.createDecorator)("themeService")}),define(ie[130],ne([1,0,8,758]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilitySignal=e.SoundSource=e.Sound=e.IAccessibilitySignalService=void 0,e.IAccessibilitySignalService=(0,f.createDecorator)("accessibilitySignalService");class E{static register(w){return new E(w.fileName)}constructor(w){this.fileName=w}}e.Sound=E,E.error=E.register({fileName:"error.mp3"}),E.warning=E.register({fileName:"warning.mp3"}),E.foldedArea=E.register({fileName:"foldedAreas.mp3"}),E.break=E.register({fileName:"break.mp3"}),E.quickFixes=E.register({fileName:"quickFixes.mp3"}),E.taskCompleted=E.register({fileName:"taskCompleted.mp3"}),E.taskFailed=E.register({fileName:"taskFailed.mp3"}),E.terminalBell=E.register({fileName:"terminalBell.mp3"}),E.diffLineInserted=E.register({fileName:"diffLineInserted.mp3"}),E.diffLineDeleted=E.register({fileName:"diffLineDeleted.mp3"}),E.diffLineModified=E.register({fileName:"diffLineModified.mp3"}),E.chatRequestSent=E.register({fileName:"chatRequestSent.mp3"}),E.chatResponsePending=E.register({fileName:"chatResponsePending.mp3"}),E.chatResponseReceived1=E.register({fileName:"chatResponseReceived1.mp3"}),E.chatResponseReceived2=E.register({fileName:"chatResponseReceived2.mp3"}),E.chatResponseReceived3=E.register({fileName:"chatResponseReceived3.mp3"}),E.chatResponseReceived4=E.register({fileName:"chatResponseReceived4.mp3"}),E.clear=E.register({fileName:"clear.mp3"}),E.save=E.register({fileName:"save.mp3"}),E.format=E.register({fileName:"format.mp3"}),E.voiceRecordingStarted=E.register({fileName:"voiceRecordingStarted.mp3"}),E.voiceRecordingStopped=E.register({fileName:"voiceRecordingStopped.mp3"});class L{constructor(w){this.randomOneOf=w}}e.SoundSource=L;class y{static register(w){const v=new L("randomOneOf"in w.sound?w.sound.randomOneOf:[w.sound]),_=new y(v,w.name,w.legacySoundSettingsKey,w.settingsKey,w.legacyAnnouncementSettingsKey,w.announcementMessage);return y._signals.add(_),_}constructor(w,v,_,a,s,i){this.sound=w,this.name=v,this.legacySoundSettingsKey=_,this.settingsKey=a,this.legacyAnnouncementSettingsKey=s,this.announcementMessage=i}}e.AccessibilitySignal=y,y._signals=new Set,y.error=y.register({name:(0,k.localize)(0,null),sound:E.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,k.localize)(1,null),settingsKey:"accessibility.signals.lineHasError"}),y.warning=y.register({name:(0,k.localize)(2,null),sound:E.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,k.localize)(3,null),settingsKey:"accessibility.signals.lineHasWarning"}),y.foldedArea=y.register({name:(0,k.localize)(4,null),sound:E.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,k.localize)(5,null),settingsKey:"accessibility.signals.lineHasFoldedArea"}),y.break=y.register({name:(0,k.localize)(6,null),sound:E.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,k.localize)(7,null),settingsKey:"accessibility.signals.lineHasBreakpoint"}),y.inlineSuggestion=y.register({name:(0,k.localize)(8,null),sound:E.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),y.terminalQuickFix=y.register({name:(0,k.localize)(9,null),sound:E.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,k.localize)(10,null),settingsKey:"accessibility.signals.terminalQuickFix"}),y.onDebugBreak=y.register({name:(0,k.localize)(11,null),sound:E.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,k.localize)(12,null),settingsKey:"accessibility.signals.onDebugBreak"}),y.noInlayHints=y.register({name:(0,k.localize)(13,null),sound:E.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,k.localize)(14,null),settingsKey:"accessibility.signals.noInlayHints"}),y.taskCompleted=y.register({name:(0,k.localize)(15,null),sound:E.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,k.localize)(16,null),settingsKey:"accessibility.signals.taskCompleted"}),y.taskFailed=y.register({name:(0,k.localize)(17,null),sound:E.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,k.localize)(18,null),settingsKey:"accessibility.signals.taskFailed"}),y.terminalCommandFailed=y.register({name:(0,k.localize)(19,null),sound:E.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,k.localize)(20,null),settingsKey:"accessibility.signals.terminalCommandFailed"}),y.terminalBell=y.register({name:(0,k.localize)(21,null),sound:E.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,k.localize)(22,null),settingsKey:"accessibility.signals.terminalBell"}),y.notebookCellCompleted=y.register({name:(0,k.localize)(23,null),sound:E.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,k.localize)(24,null),settingsKey:"accessibility.signals.notebookCellCompleted"}),y.notebookCellFailed=y.register({name:(0,k.localize)(25,null),sound:E.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,k.localize)(26,null),settingsKey:"accessibility.signals.notebookCellFailed"}),y.diffLineInserted=y.register({name:(0,k.localize)(27,null),sound:E.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),y.diffLineDeleted=y.register({name:(0,k.localize)(28,null),sound:E.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),y.diffLineModified=y.register({name:(0,k.localize)(29,null),sound:E.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),y.chatRequestSent=y.register({name:(0,k.localize)(30,null),sound:E.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,k.localize)(31,null),settingsKey:"accessibility.signals.chatRequestSent"}),y.chatResponseReceived=y.register({name:(0,k.localize)(32,null),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[E.chatResponseReceived1,E.chatResponseReceived2,E.chatResponseReceived3,E.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),y.chatResponsePending=y.register({name:(0,k.localize)(33,null),sound:E.chatResponsePending,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.chatResponsePending",announcementMessage:(0,k.localize)(34,null),settingsKey:"accessibility.signals.chatResponsePending"}),y.clear=y.register({name:(0,k.localize)(35,null),sound:E.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,k.localize)(36,null),settingsKey:"accessibility.signals.clear"}),y.save=y.register({name:(0,k.localize)(37,null),sound:E.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,k.localize)(38,null),settingsKey:"accessibility.signals.save"}),y.format=y.register({name:(0,k.localize)(39,null),sound:E.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,k.localize)(40,null),settingsKey:"accessibility.signals.format"}),y.voiceRecordingStarted=y.register({name:(0,k.localize)(41,null),sound:E.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),y.voiceRecordingStopped=y.register({name:(0,k.localize)(42,null),sound:E.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})}),define(ie[112],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,f.createDecorator)("clipboardService")}),define(ie[27],ne([1,0,7,54,2,70,21,8]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,p.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new f.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,v){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!v)throw new Error("invalid command");return this.registerCommand({id:w,handler:v})}if(w.metadata&&Array.isArray(w.metadata.args)){const t=[];for(const h of w.metadata.args)t.push(h.constraint);const n=w.handler;w.handler=function(h,...m){return(0,y.validateConstraints)(m,t),n(h,...m)}}const{id:_}=w;let a=this._commands.get(_);a||(a=new L.LinkedList,this._commands.set(_,a));const s=a.unshift(w),i=(0,E.toDisposable)(()=>{s();const t=this._commands.get(_);t?.isEmpty()&&this._commands.delete(_)});return this._onDidRegisterCommand.fire(_),i}registerCommandAlias(w,v){return e.CommandsRegistry.registerCommand(w,(_,...a)=>_.get(e.ICommandService).executeCommand(v,...a))}getCommand(w){const v=this._commands.get(w);if(!(!v||v.isEmpty()))return k.Iterable.first(v)}getCommands(){const w=new Map;for(const v of this._commands.keys()){const _=this.getCommand(v);_&&w.set(v,_)}return w}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ie[361],ne([1,0,19,12,2,21,22,53,27,18]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensModel=void 0,e.getCodeLensModel=a;class _{constructor(){this.lenses=[],this._disposables=new E.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(i,t){this._disposables.add(i);for(const n of i.lenses)this.lenses.push({symbol:n,provider:t})}}e.CodeLensModel=_;async function a(s,i,t){const n=s.ordered(i),h=new Map,m=new _,u=n.map(async(d,r)=>{h.set(d,r);try{const l=await Promise.resolve(d.provideCodeLenses(i,t));l&&m.add(l,d)}catch(l){(0,k.onUnexpectedExternalError)(l)}});return await Promise.all(u),m.lenses=m.lenses.sort((d,r)=>d.symbol.range.startLineNumber<r.symbol.range.startLineNumber?-1:d.symbol.range.startLineNumber>r.symbol.range.startLineNumber?1:h.get(d.provider)<h.get(r.provider)?-1:h.get(d.provider)>h.get(r.provider)?1:d.symbol.range.startColumn<r.symbol.range.startColumn?-1:d.symbol.range.startColumn>r.symbol.range.startColumn?1:0),m}w.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(s,...i){let[t,n]=i;(0,L.assertType)(y.URI.isUri(t)),(0,L.assertType)(typeof n=="number"||!n);const{codeLensProvider:h}=s.get(v.ILanguageFeaturesService),m=s.get(p.IModelService).getModel(t);if(!m)throw(0,k.illegalArgument)();const u=[],d=new E.DisposableStore;return a(h,m,f.CancellationToken.None).then(r=>{d.add(r);const l=[];for(const o of r.lenses)n==null||o.symbol.command?u.push(o.symbol):n-- >0&&o.provider.resolveCodeLens&&l.push(Promise.resolve(o.provider.resolveCodeLens(m,o.symbol,f.CancellationToken.None)).then(g=>u.push(g||o.symbol)));return Promise.all(l)}).then(()=>u).finally(()=>{setTimeout(()=>d.dispose(),100)})})}),define(ie[803],ne([1,0,13,19,12,2,21,22,5,53,27,18]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinksList=e.Link=void 0,e.getLinks=t;class s{constructor(h,m){this._link=h,this._provider=m}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(h){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,h)).then(m=>(this._link=m||this._link,this._link.url?this.resolve(h):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}}e.Link=s;class i{constructor(h){this._disposables=new L.DisposableStore;let m=[];for(const[u,d]of h){const r=u.links.map(l=>new s(l,d));m=i._union(m,r),(0,L.isDisposable)(u)&&this._disposables.add(u)}this.links=m}dispose(){this._disposables.dispose(),this.links.length=0}static _union(h,m){const u=[];let d,r,l,o;for(d=0,l=0,r=h.length,o=m.length;d<r&&l<o;){const g=h[d],c=m[l];if(w.Range.areIntersectingOrTouching(g.range,c.range)){d++;continue}w.Range.compareRangesUsingStarts(g.range,c.range)<0?(u.push(g),d++):(u.push(c),l++)}for(;d<r;d++)u.push(h[d]);for(;l<o;l++)u.push(m[l]);return u}}e.LinksList=i;function t(n,h,m){const u=[],d=n.ordered(h).reverse().map((r,l)=>Promise.resolve(r.provideLinks(h,m)).then(o=>{o&&(u[l]=[o,r])},E.onUnexpectedExternalError));return Promise.all(d).then(()=>{const r=new i((0,f.coalesce)(u));return m.isCancellationRequested?(r.dispose(),new i([])):r})}_.CommandsRegistry.registerCommand("_executeLinkProvider",async(n,...h)=>{let[m,u]=h;(0,y.assertType)(m instanceof p.URI),typeof u!="number"&&(u=0);const{linkProvider:d}=n.get(a.ILanguageFeaturesService),r=n.get(v.IModelService).getModel(m);if(!r)return[];const l=await t(d,r,k.CancellationToken.None);if(!l)return[];for(let g=0;g<Math.min(u,l.links.length);g++)await l.links[g].resolve(k.CancellationToken.None);const o=l.links.slice(0);return l.dispose(),o})}),define(ie[362],ne([1,0,19,12,22,53,27,21,643,5,18]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensResult=void 0,e.isSemanticTokens=a,e.isSemanticTokensEdits=s,e.hasDocumentSemanticTokensProvider=t,e.getDocumentSemanticTokens=h,e.hasDocumentRangeSemanticTokensProvider=d,e.getDocumentRangeSemanticTokens=l;function a(o){return o&&!!o.data}function s(o){return o&&Array.isArray(o.edits)}class i{constructor(g,c,b){this.provider=g,this.tokens=c,this.error=b}}e.DocumentSemanticTokensResult=i;function t(o,g){return o.has(g)}function n(o,g){const c=o.orderedGroups(g);return c.length>0?c[0]:[]}async function h(o,g,c,b,C){const S=n(o,g),D=await Promise.all(S.map(async I=>{let T,N=null;try{T=await I.provideDocumentSemanticTokens(g,I===c?b:null,C)}catch(A){N=A,T=null}return(!T||!a(T)&&!s(T))&&(T=null),new i(I,T,N)}));for(const I of D){if(I.error)throw I.error;if(I.tokens)return I}return D.length>0?D[0]:null}function m(o,g){const c=o.orderedGroups(g);return c.length>0?c[0]:null}class u{constructor(g,c){this.provider=g,this.tokens=c}}function d(o,g){return o.has(g)}function r(o,g){const c=o.orderedGroups(g);return c.length>0?c[0]:[]}async function l(o,g,c,b){const C=r(o,g),S=await Promise.all(C.map(async D=>{let I;try{I=await D.provideDocumentRangeSemanticTokens(g,c,b)}catch(T){(0,k.onUnexpectedExternalError)(T),I=null}return(!I||!a(I))&&(I=null),new u(D,I)}));for(const D of S)if(D.tokens)return D;return S.length>0?S[0]:null}y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",async(o,...g)=>{const[c]=g;(0,p.assertType)(c instanceof E.URI);const b=o.get(L.IModelService).getModel(c);if(!b)return;const{documentSemanticTokensProvider:C}=o.get(_.ILanguageFeaturesService),S=m(C,b);return S?S[0].getLegend():o.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",c)}),y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",async(o,...g)=>{const[c]=g;(0,p.assertType)(c instanceof E.URI);const b=o.get(L.IModelService).getModel(c);if(!b)return;const{documentSemanticTokensProvider:C}=o.get(_.ILanguageFeaturesService);if(!t(C,b))return o.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",c,b.getFullModelRange());const S=await h(C,b,null,null,f.CancellationToken.None);if(!S)return;const{provider:D,tokens:I}=S;if(!I||!a(I))return;const T=(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&D.releaseDocumentSemanticTokens(I.resultId),T}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(o,...g)=>{const[c,b]=g;(0,p.assertType)(c instanceof E.URI);const C=o.get(L.IModelService).getModel(c);if(!C)return;const{documentRangeSemanticTokensProvider:S}=o.get(_.ILanguageFeaturesService),D=r(S,C);if(D.length===0)return;if(D.length===1)return D[0].getLegend();if(!b||!v.Range.isIRange(b))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),D[0].getLegend();const I=await l(S,C,v.Range.lift(b),f.CancellationToken.None);if(I)return I.provider.getLegend()}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",async(o,...g)=>{const[c,b]=g;(0,p.assertType)(c instanceof E.URI),(0,p.assertType)(v.Range.isIRange(b));const C=o.get(L.IModelService).getModel(c);if(!C)return;const{documentRangeSemanticTokensProvider:S}=o.get(_.ILanguageFeaturesService),D=await l(S,C,v.Range.lift(b),f.CancellationToken.None);if(!(!D||!D.tokens))return(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:D.tokens.data})})}),define(ie[25],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IConfigurationService=void 0,e.toValuesTree=k,e.addToValueTree=E,e.removeFromValueTree=L,e.getConfigurationValue=p,e.getLanguageTagSettingPlainKey=w,e.IConfigurationService=(0,f.createDecorator)("configurationService");function k(v,_){const a=Object.create(null);for(const s in v)E(a,s,v[s],_);return a}function E(v,_,a,s){const i=_.split("."),t=i.pop();let n=v;for(let h=0;h<i.length;h++){const m=i[h];let u=n[m];switch(typeof u){case"undefined":u=n[m]=Object.create(null);break;case"object":break;default:s(`Ignoring ${_} as ${i.slice(0,h+1).join(".")} is ${JSON.stringify(u)}`);return}n=u}if(typeof n=="object"&&n!==null)try{n[t]=a}catch{s(`Ignoring ${_} as ${i.join(".")} is ${JSON.stringify(n)}`)}else s(`Ignoring ${_} as ${i.join(".")} is ${JSON.stringify(n)}`)}function L(v,_){const a=_.split(".");y(v,a)}function y(v,_){const a=_.shift();if(_.length===0){delete v[a];return}if(Object.keys(v).indexOf(a)!==-1){const s=v[a];typeof s=="object"&&!Array.isArray(s)&&(y(s,_),Object.keys(s).length===0&&delete v[a])}}function p(v,_,a){function s(n,h){let m=n;for(const u of h){if(typeof m!="object"||m===null)return;m=m[u]}return m}const i=_.split("."),t=s(v,i);return typeof t>"u"?a:t}function w(v){return v.replace(/[\[\]]/g,"")}}),define(ie[363],ne([1,0,2,29,168,330,25]),function(J,e,f,k,E,L,y){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const w=5;class v{static create(d,r){return this._INSTANCE.create(d,r)}constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}create(d,r){if(d!==null&&d.depth>=this._maxCacheDepth)return new _(d,r);let l=_.getStackElementId(d);l.length>0&&(l+="|"),l+=r;let o=this._entries[l];return o||(o=new _(d,r),this._entries[l]=o,o)}}v._INSTANCE=new v(w);class _{constructor(d,r){this.parent=d,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(d){let r="";for(;d!==null;)r.length>0&&(r+="|"),r+=d.state,d=d.parent;return r}static _equals(d,r){for(;d!==null&&r!==null;){if(d===r)return!0;if(d.state!==r.state)return!1;d=d.parent,r=r.parent}return d===null&&r===null}equals(d){return _._equals(this,d)}push(d){return v.create(this,d)}pop(){return this.parent}popall(){let d=this;for(;d.parent;)d=d.parent;return d}switchTo(d){return v.create(this.parent,d)}}class a{constructor(d,r){this.languageId=d,this.state=r}equals(d){return this.languageId===d.languageId&&this.state.equals(d.state)}clone(){return this.state.clone()===this.state?this:new a(this.languageId,this.state)}}class s{static create(d,r){return this._INSTANCE.create(d,r)}constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}create(d,r){if(r!==null)return new i(d,r);if(d!==null&&d.depth>=this._maxCacheDepth)return new i(d,r);const l=_.getStackElementId(d);let o=this._entries[l];return o||(o=new i(d,null),this._entries[l]=o,o)}}s._INSTANCE=new s(w);class i{constructor(d,r){this.stack=d,this.embeddedLanguageData=r}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:s.create(this.stack,this.embeddedLanguageData)}equals(d){return!(d instanceof i)||!this.stack.equals(d.stack)?!1:this.embeddedLanguageData===null&&d.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||d.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(d.embeddedLanguageData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(d){this._languageId=d}emit(d,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new k.Token(d,r,this._languageId)))}nestedLanguageTokenize(d,r,l,o){const g=l.languageId,c=l.state,b=k.TokenizationRegistry.get(g);if(!b)return this.enterLanguage(g),this.emit(o,""),c;const C=b.tokenize(d,r,c);if(o!==0)for(const S of C.tokens)this._tokens.push(new k.Token(S.offset+o,S.type,S.language));else this._tokens=this._tokens.concat(C.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,C.endState}finalize(d){return new k.TokenizationResult(this._tokens,d)}}class n{constructor(d,r){this._languageService=d,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(d){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(d)}emit(d,r){const l=this._theme.match(this._currentLanguageId,r)|1024;this._lastTokenMetadata!==l&&(this._lastTokenMetadata=l,this._tokens.push(d),this._tokens.push(l))}static _merge(d,r,l){const o=d!==null?d.length:0,g=r.length,c=l!==null?l.length:0;if(o===0&&g===0&&c===0)return new Uint32Array(0);if(o===0&&g===0)return l;if(g===0&&c===0)return d;const b=new Uint32Array(o+g+c);d!==null&&b.set(d);for(let C=0;C<g;C++)b[o+C]=r[C];return l!==null&&b.set(l,o+g),b}nestedLanguageTokenize(d,r,l,o){const g=l.languageId,c=l.state,b=k.TokenizationRegistry.get(g);if(!b)return this.enterLanguage(g),this.emit(o,""),c;const C=b.tokenizeEncoded(d,r,c);if(o!==0)for(let S=0,D=C.tokens.length;S<D;S+=2)C.tokens[S]+=o;return this._prependTokens=n._merge(this._prependTokens,this._tokens,C.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,C.endState}finalize(d){return new k.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),d)}}let h=p=class extends f.Disposable{constructor(d,r,l,o,g){super(),this._configurationService=g,this._languageService=d,this._standaloneThemeService=r,this._languageId=l,this._lexer=o,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let c=!1;this._register(k.TokenizationRegistry.onDidChange(b=>{if(c)return;let C=!1;for(let S=0,D=b.changedLanguages.length;S<D;S++){const I=b.changedLanguages[S];if(this._embeddedLanguages[I]){C=!0;break}}C&&(c=!0,k.TokenizationRegistry.handleChange([this._languageId]),c=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(b=>{b.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const d=[];for(const r in this._embeddedLanguages){const l=k.TokenizationRegistry.get(r);if(l){if(l instanceof p){const o=l.getLoadStatus();o.loaded===!1&&d.push(o.promise)}continue}k.TokenizationRegistry.isResolved(r)||d.push(k.TokenizationRegistry.getOrCreate(r))}return d.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(d).then(r=>{})}}getInitialState(){const d=v.create(null,this._lexer.start);return s.create(d,null)}tokenize(d,r,l){if(d.length>=this._maxTokenizationLineLength)return(0,E.nullTokenize)(this._languageId,l);const o=new t,g=this._tokenize(d,r,l,o);return o.finalize(g)}tokenizeEncoded(d,r,l){if(d.length>=this._maxTokenizationLineLength)return(0,E.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),l);const o=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),g=this._tokenize(d,r,l,o);return o.finalize(g)}_tokenize(d,r,l,o){return l.embeddedLanguageData?this._nestedTokenize(d,r,l,0,o):this._myTokenize(d,r,l,0,o)}_findLeavingNestedLanguageOffset(d,r){let l=this._lexer.tokenizer[r.stack.state];if(!l&&(l=L.findRules(this._lexer,r.stack.state),!l))throw L.createError(this._lexer,"tokenizer state is not defined: "+r.stack.state);let o=-1,g=!1;for(const c of l){if(!L.isIAction(c.action)||c.action.nextEmbedded!=="@pop")continue;g=!0;let b=c.resolveRegex(r.stack.state);const C=b.source;if(C.substr(0,4)==="^(?:"&&C.substr(C.length-1,1)===")"){const D=(b.ignoreCase?"i":"")+(b.unicode?"u":"");b=new RegExp(C.substr(4,C.length-5),D)}const S=d.search(b);S===-1||S!==0&&c.matchOnlyAtLineStart||(o===-1||S<o)&&(o=S)}if(!g)throw L.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return o}_nestedTokenize(d,r,l,o,g){const c=this._findLeavingNestedLanguageOffset(d,l);if(c===-1){const S=g.nestedLanguageTokenize(d,r,l.embeddedLanguageData,o);return s.create(l.stack,new a(l.embeddedLanguageData.languageId,S))}const b=d.substring(0,c);b.length>0&&g.nestedLanguageTokenize(b,!1,l.embeddedLanguageData,o);const C=d.substring(c);return this._myTokenize(C,r,l,o+c,g)}_safeRuleName(d){return d?d.name:"(unknown)"}_myTokenize(d,r,l,o,g){g.enterLanguage(this._languageId);const c=d.length,b=r&&this._lexer.includeLF?d+`
`:d,C=b.length;let S=l.embeddedLanguageData,D=l.stack,I=0,T=null,N=!0;for(;N||I<C;){const A=I,P=D.depth,M=T?T.groups.length:0,R=D.state;let F=null,O=null,B=null,H=null,V=null;if(T){F=T.matches;const U=T.groups.shift();O=U.matched,B=U.action,H=T.rule,T.groups.length===0&&(T=null)}else{if(!N&&I>=C)break;N=!1;let U=this._lexer.tokenizer[R];if(!U&&(U=L.findRules(this._lexer,R),!U))throw L.createError(this._lexer,"tokenizer state is not defined: "+R);const Z=b.substr(I);for(const re of U)if((I===0||!re.matchOnlyAtLineStart)&&(F=Z.match(re.resolveRegex(R)),F)){O=F[0],B=re.action;break}}if(F||(F=[""],O=""),B||(I<C&&(F=[b.charAt(I)],O=F[0]),B=this._lexer.defaultToken),O===null)break;for(I+=O.length;L.isFuzzyAction(B)&&L.isIAction(B)&&B.test;)B=B.test(O,F,R,I===C);let q=null;if(typeof B=="string"||Array.isArray(B))q=B;else if(B.group)q=B.group;else if(B.token!==null&&B.token!==void 0){if(B.tokenSubst?q=L.substituteMatches(this._lexer,B.token,O,F,R):q=B.token,B.nextEmbedded)if(B.nextEmbedded==="@pop"){if(!S)throw L.createError(this._lexer,"cannot pop embedded language if not inside one");S=null}else{if(S)throw L.createError(this._lexer,"cannot enter embedded language from within an embedded language");V=L.substituteMatches(this._lexer,B.nextEmbedded,O,F,R)}if(B.goBack&&(I=Math.max(0,I-B.goBack)),B.switchTo&&typeof B.switchTo=="string"){let U=L.substituteMatches(this._lexer,B.switchTo,O,F,R);if(U[0]==="@"&&(U=U.substr(1)),L.findRules(this._lexer,U))D=D.switchTo(U);else throw L.createError(this._lexer,"trying to switch to a state '"+U+"' that is undefined in rule: "+this._safeRuleName(H))}else{if(B.transform&&typeof B.transform=="function")throw L.createError(this._lexer,"action.transform not supported");if(B.next)if(B.next==="@push"){if(D.depth>=this._lexer.maxStack)throw L.createError(this._lexer,"maximum tokenizer stack size reached: ["+D.state+","+D.parent.state+",...]");D=D.push(R)}else if(B.next==="@pop"){if(D.depth<=1)throw L.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(H));D=D.pop()}else if(B.next==="@popall")D=D.popall();else{let U=L.substituteMatches(this._lexer,B.next,O,F,R);if(U[0]==="@"&&(U=U.substr(1)),L.findRules(this._lexer,U))D=D.push(U);else throw L.createError(this._lexer,"trying to set a next state '"+U+"' that is undefined in rule: "+this._safeRuleName(H))}}B.log&&typeof B.log=="string"&&L.log(this._lexer,this._lexer.languageId+": "+L.substituteMatches(this._lexer,B.log,O,F,R))}if(q===null)throw L.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(H));const z=U=>{const Z=this._languageService.getLanguageIdByLanguageName(U)||this._languageService.getLanguageIdByMimeType(U)||U,re=this._getNestedEmbeddedLanguageData(Z);if(I<C){const x=d.substr(I);return this._nestedTokenize(x,r,s.create(D,re),o+I,g)}else return s.create(D,re)};if(Array.isArray(q)){if(T&&T.groups.length>0)throw L.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(H));if(F.length!==q.length+1)throw L.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(H));let U=0;for(let Z=1;Z<F.length;Z++)U+=F[Z].length;if(U!==O.length)throw L.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(H));T={rule:H,matches:F,groups:[]};for(let Z=0;Z<q.length;Z++)T.groups[Z]={action:q[Z],matched:F[Z+1]};I-=O.length;continue}else{if(q==="@rematch"&&(I-=O.length,O="",F=null,q="",V!==null))return z(V);if(O.length===0){if(C===0||P!==D.depth||R!==D.state||(T?T.groups.length:0)!==M)continue;throw L.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(H))}let U=null;if(L.isString(q)&&q.indexOf("@brackets")===0){const Z=q.substr(9),re=m(this._lexer,O);if(!re)throw L.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);U=L.sanitize(re.token+Z)}else{const Z=q===""?"":q+this._lexer.tokenPostfix;U=L.sanitize(Z)}A<c&&g.emit(A+o,U)}if(V!==null)return z(V)}return s.create(D,S)}_getNestedEmbeddedLanguageData(d){if(!this._languageService.isRegisteredLanguageId(d))return new a(d,E.NullState);d!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(d),k.TokenizationRegistry.getOrCreate(d),this._embeddedLanguages[d]=!0);const r=k.TokenizationRegistry.get(d);return r?new a(d,r.getInitialState()):new a(d,E.NullState)}};e.MonarchTokenizer=h,e.MonarchTokenizer=h=p=Ie([ue(4,y.IConfigurationService)],h);function m(u,d){if(!d)return null;d=L.fixCase(u,d);const r=u.brackets;for(const l of r){if(l.open===d)return{token:l.token,bracketType:1};if(l.close===d)return{token:l.token,bracketType:-1}}return null}}),define(ie[804],ne([1,0,99,11,29,102,129,91,363]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const v=(0,f.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:t=>t});class _{static colorizeElement(n,h,m,u){u=u||{};const d=u.theme||"vs",r=u.mimeType||m.getAttribute("lang")||m.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();const l=h.getLanguageIdByMimeType(r)||r;n.setTheme(d);const o=m.firstChild?m.firstChild.nodeValue:"";m.className+=" "+d;const g=c=>{var b;const C=(b=v?.createHTML(c))!==null&&b!==void 0?b:c;m.innerHTML=C};return this.colorize(h,o||"",l,u).then(g,c=>console.error(c))}static async colorize(n,h,m,u){const d=n.languageIdCodec;let r=4;u&&typeof u.tabSize=="number"&&(r=u.tabSize),k.startsWithUTF8BOM(h)&&(h=h.substr(1));const l=k.splitLines(h);if(!n.isRegisteredLanguageId(m))return s(l,r,d);const o=await E.TokenizationRegistry.getOrCreate(m);return o?a(l,r,o,d):s(l,r,d)}static colorizeLine(n,h,m,u,d=4){const r=p.ViewLineRenderingData.isBasicASCII(n,h),l=p.ViewLineRenderingData.containsRTL(n,r,m);return(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,n,!1,r,l,0,u,[],d,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(n,h,m=4){const u=n.getLineContent(h);n.tokenization.forceTokenization(h);const r=n.tokenization.getLineTokens(h).inflate();return this.colorizeLine(u,n.mightContainNonBasicASCII(),n.mightContainRTL(),r,m)}}e.Colorizer=_;function a(t,n,h,m){return new Promise((u,d)=>{const r=()=>{const l=i(t,n,h,m);if(h instanceof w.MonarchTokenizer){const o=h.getLoadStatus();if(o.loaded===!1){o.promise.then(r,d);return}}u(l)};r()})}function s(t,n,h){let m=[];const d=new Uint32Array(2);d[0]=0,d[1]=33587200;for(let r=0,l=t.length;r<l;r++){const o=t[r];d[0]=o.length;const g=new L.LineTokens(d,o,h),c=p.ViewLineRenderingData.isBasicASCII(o,!0),b=p.ViewLineRenderingData.containsRTL(o,c,!0),C=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,o,!1,c,b,0,g,[],n,0,0,0,0,-1,"none",!1,!1,null));m=m.concat(C.html),m.push("<br/>")}return m.join("")}function i(t,n,h,m){let u=[],d=h.getInitialState();for(let r=0,l=t.length;r<l;r++){const o=t[r],g=h.tokenizeEncoded(o,!0,d);L.LineTokens.convertToEndOffset(g.tokens,o.length);const c=new L.LineTokens(g.tokens,o,m),b=p.ViewLineRenderingData.isBasicASCII(o,!0),C=p.ViewLineRenderingData.containsRTL(o,b,!0),S=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,o,!1,b,C,0,c.inflate(),[],n,0,0,0,0,-1,"none",!1,!1,null));u=u.concat(S.html),u.push("<br/>"),d=g.endState}return u.join("")}}),define(ie[14],ne([1,0,17,11,795,8,767]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=e.Parser=void 0,e.expressionsAreEqualWithConstantSubstitution=r,e.implies=U;const p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",f.isMacintosh),p.set("isLinux",f.isLinux),p.set("isWindows",f.isWindows),p.set("isWeb",f.isWeb),p.set("isMacNative",f.isMacintosh&&!f.isWeb),p.set("isEdge",f.isEdge),p.set("isFirefox",f.isFirefox),p.set("isChrome",f.isChrome),p.set("isSafari",f.isSafari);const w=Object.prototype.hasOwnProperty,v={regexParsingWithErrorRecovery:!0},_=(0,y.localize)(0,null),a=(0,y.localize)(1,null),s=(0,y.localize)(2,null),i=(0,y.localize)(3,null),t=(0,y.localize)(4,null),n=(0,y.localize)(5,null),h=(0,y.localize)(6,null),m=(0,y.localize)(7,null);class u{constructor(Q=v){this._config=Q,this._scanner=new E.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(Q){if(Q===""){this._parsingErrors.push({message:_,offset:0,lexeme:"",additionalInfo:a});return}this._tokens=this._scanner.reset(Q).scan(),this._current=0,this._parsingErrors=[];try{const X=this._expr();if(!this._isAtEnd()){const Y=this._peek(),ae=Y.type===17?n:void 0;throw this._parsingErrors.push({message:t,offset:Y.offset,lexeme:E.Scanner.getLexeme(Y),additionalInfo:ae}),u._parseError}return X}catch(X){if(X!==u._parseError)throw X;return}}_expr(){return this._or()}_or(){const Q=[this._and()];for(;this._matchOne(16);){const X=this._and();Q.push(X)}return Q.length===1?Q[0]:d.or(...Q)}_and(){const Q=[this._term()];for(;this._matchOne(15);){const X=this._term();Q.push(X)}return Q.length===1?Q[0]:d.and(...Q)}_term(){if(this._matchOne(2)){const Q=this._peek();switch(Q.type){case 11:return this._advance(),o.INSTANCE;case 12:return this._advance(),g.INSTANCE;case 0:{this._advance();const X=this._expr();return this._consume(1,i),X?.negate()}case 17:return this._advance(),I.create(Q.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",Q)}}return this._primary()}_primary(){const Q=this._peek();switch(Q.type){case 11:return this._advance(),d.true();case 12:return this._advance(),d.false();case 0:{this._advance();const X=this._expr();return this._consume(1,i),X}case 17:{const X=Q.lexeme;if(this._advance(),this._matchOne(9)){const ae=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),ae.type!==10)throw this._errExpectedButGot("REGEX",ae);const ce=ae.lexeme,he=ce.lastIndexOf("/"),pe=he===ce.length-1?void 0:this._removeFlagsGY(ce.substring(he+1));let fe;try{fe=new RegExp(ce.substring(1,he),pe)}catch{throw this._errExpectedButGot("REGEX",ae)}return R.create(X,fe)}switch(ae.type){case 10:case 19:{const ce=[ae.lexeme];this._advance();let he=this._peek(),pe=0;for(let W=0;W<ae.lexeme.length;W++)ae.lexeme.charCodeAt(W)===40?pe++:ae.lexeme.charCodeAt(W)===41&&pe--;for(;!this._isAtEnd()&&he.type!==15&&he.type!==16;){switch(he.type){case 0:pe++;break;case 1:pe--;break;case 10:case 18:for(let W=0;W<he.lexeme.length;W++)he.lexeme.charCodeAt(W)===40?pe++:ae.lexeme.charCodeAt(W)===41&&pe--}if(pe<0)break;ce.push(E.Scanner.getLexeme(he)),this._advance(),he=this._peek()}const fe=ce.join(""),se=fe.lastIndexOf("/"),te=se===fe.length-1?void 0:this._removeFlagsGY(fe.substring(se+1));let $;try{$=new RegExp(fe.substring(1,se),te)}catch{throw this._errExpectedButGot("REGEX",ae)}return d.regex(X,$)}case 18:{const ce=ae.lexeme;this._advance();let he=null;if(!(0,k.isFalsyOrWhitespace)(ce)){const pe=ce.indexOf("/"),fe=ce.lastIndexOf("/");if(pe!==fe&&pe>=0){const se=ce.slice(pe+1,fe),te=ce[fe+1]==="i"?"i":"";try{he=new RegExp(se,te)}catch{throw this._errExpectedButGot("REGEX",ae)}}}if(he===null)throw this._errExpectedButGot("REGEX",ae);return R.create(X,he)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,s);const ae=this._value();return d.notIn(X,ae)}switch(this._peek().type){case 3:{this._advance();const ae=this._value();if(this._previous().type===18)return d.equals(X,ae);switch(ae){case"true":return d.has(X);case"false":return d.not(X);default:return d.equals(X,ae)}}case 4:{this._advance();const ae=this._value();if(this._previous().type===18)return d.notEquals(X,ae);switch(ae){case"true":return d.not(X);case"false":return d.has(X);default:return d.notEquals(X,ae)}}case 5:return this._advance(),P.create(X,this._value());case 6:return this._advance(),M.create(X,this._value());case 7:return this._advance(),N.create(X,this._value());case 8:return this._advance(),A.create(X,this._value());case 13:return this._advance(),d.in(X,this._value());default:return d.has(X)}}case 20:throw this._parsingErrors.push({message:h,offset:Q.offset,lexeme:"",additionalInfo:m}),u._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const Q=this._peek();switch(Q.type){case 17:case 18:return this._advance(),Q.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(Q){return Q.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(Q){return this._check(Q)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(Q,X){if(this._check(Q))return this._advance();throw this._errExpectedButGot(X,this._peek())}_errExpectedButGot(Q,X,Y){const ae=(0,y.localize)(8,null,Q,E.Scanner.getLexeme(X)),ce=X.offset,he=E.Scanner.getLexeme(X);return this._parsingErrors.push({message:ae,offset:ce,lexeme:he,additionalInfo:Y}),u._parseError}_check(Q){return this._peek().type===Q}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=u,u._parseError=new Error;class d{static false(){return o.INSTANCE}static true(){return g.INSTANCE}static has(Q){return c.create(Q)}static equals(Q,X){return b.create(Q,X)}static notEquals(Q,X){return D.create(Q,X)}static regex(Q,X){return R.create(Q,X)}static in(Q,X){return C.create(Q,X)}static notIn(Q,X){return S.create(Q,X)}static not(Q){return I.create(Q)}static and(...Q){return B.create(Q,null,!0)}static or(...Q){return H.create(Q,null,!0)}static deserialize(Q){return Q==null?void 0:this._parser.parse(Q)}}e.ContextKeyExpr=d,d._parser=new u({regexParsingWithErrorRecovery:!1});function r(x,Q){const X=x?x.substituteConstants():void 0,Y=Q?Q.substituteConstants():void 0;return!X&&!Y?!0:!X||!Y?!1:X.equals(Y)}function l(x,Q){return x.cmp(Q)}class o{constructor(){this.type=0}cmp(Q){return this.type-Q.type}equals(Q){return Q.type===this.type}substituteConstants(){return this}evaluate(Q){return!1}serialize(){return"false"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyFalseExpr=o,o.INSTANCE=new o;class g{constructor(){this.type=1}cmp(Q){return this.type-Q.type}equals(Q){return Q.type===this.type}substituteConstants(){return this}evaluate(Q){return!0}serialize(){return"true"}keys(){return[]}negate(){return o.INSTANCE}}e.ContextKeyTrueExpr=g,g.INSTANCE=new g;class c{static create(Q,X=null){const Y=p.get(Q);return typeof Y=="boolean"?Y?g.INSTANCE:o.INSTANCE:new c(Q,X)}constructor(Q,X){this.key=Q,this.negated=X,this.type=2}cmp(Q){return Q.type!==this.type?this.type-Q.type:q(this.key,Q.key)}equals(Q){return Q.type===this.type?this.key===Q.key:!1}substituteConstants(){const Q=p.get(this.key);return typeof Q=="boolean"?Q?g.INSTANCE:o.INSTANCE:this}evaluate(Q){return!!Q.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=c;class b{static create(Q,X,Y=null){if(typeof X=="boolean")return X?c.create(Q,Y):I.create(Q,Y);const ae=p.get(Q);return typeof ae=="boolean"?X===(ae?"true":"false")?g.INSTANCE:o.INSTANCE:new b(Q,X,Y)}constructor(Q,X,Y){this.key=Q,this.value=X,this.negated=Y,this.type=4}cmp(Q){return Q.type!==this.type?this.type-Q.type:z(this.key,this.value,Q.key,Q.value)}equals(Q){return Q.type===this.type?this.key===Q.key&&this.value===Q.value:!1}substituteConstants(){const Q=p.get(this.key);if(typeof Q=="boolean"){const X=Q?"true":"false";return this.value===X?g.INSTANCE:o.INSTANCE}return this}evaluate(Q){return Q.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=D.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=b;class C{static create(Q,X){return new C(Q,X)}constructor(Q,X){this.key=Q,this.valueKey=X,this.type=10,this.negated=null}cmp(Q){return Q.type!==this.type?this.type-Q.type:z(this.key,this.valueKey,Q.key,Q.valueKey)}equals(Q){return Q.type===this.type?this.key===Q.key&&this.valueKey===Q.valueKey:!1}substituteConstants(){return this}evaluate(Q){const X=Q.getValue(this.valueKey),Y=Q.getValue(this.key);return Array.isArray(X)?X.includes(Y):typeof Y=="string"&&typeof X=="object"&&X!==null?w.call(X,Y):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=S.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=C;class S{static create(Q,X){return new S(Q,X)}constructor(Q,X){this.key=Q,this.valueKey=X,this.type=11,this._negated=C.create(Q,X)}cmp(Q){return Q.type!==this.type?this.type-Q.type:this._negated.cmp(Q._negated)}equals(Q){return Q.type===this.type?this._negated.equals(Q._negated):!1}substituteConstants(){return this}evaluate(Q){return!this._negated.evaluate(Q)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=S;class D{static create(Q,X,Y=null){if(typeof X=="boolean")return X?I.create(Q,Y):c.create(Q,Y);const ae=p.get(Q);return typeof ae=="boolean"?X===(ae?"true":"false")?o.INSTANCE:g.INSTANCE:new D(Q,X,Y)}constructor(Q,X,Y){this.key=Q,this.value=X,this.negated=Y,this.type=5}cmp(Q){return Q.type!==this.type?this.type-Q.type:z(this.key,this.value,Q.key,Q.value)}equals(Q){return Q.type===this.type?this.key===Q.key&&this.value===Q.value:!1}substituteConstants(){const Q=p.get(this.key);if(typeof Q=="boolean"){const X=Q?"true":"false";return this.value===X?o.INSTANCE:g.INSTANCE}return this}evaluate(Q){return Q.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=D;class I{static create(Q,X=null){const Y=p.get(Q);return typeof Y=="boolean"?Y?o.INSTANCE:g.INSTANCE:new I(Q,X)}constructor(Q,X){this.key=Q,this.negated=X,this.type=3}cmp(Q){return Q.type!==this.type?this.type-Q.type:q(this.key,Q.key)}equals(Q){return Q.type===this.type?this.key===Q.key:!1}substituteConstants(){const Q=p.get(this.key);return typeof Q=="boolean"?Q?o.INSTANCE:g.INSTANCE:this}evaluate(Q){return!Q.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=I;function T(x,Q){if(typeof x=="string"){const X=parseFloat(x);isNaN(X)||(x=X)}return typeof x=="string"||typeof x=="number"?Q(x):o.INSTANCE}class N{static create(Q,X,Y=null){return T(X,ae=>new N(Q,ae,Y))}constructor(Q,X,Y){this.key=Q,this.value=X,this.negated=Y,this.type=12}cmp(Q){return Q.type!==this.type?this.type-Q.type:z(this.key,this.value,Q.key,Q.value)}equals(Q){return Q.type===this.type?this.key===Q.key&&this.value===Q.value:!1}substituteConstants(){return this}evaluate(Q){return typeof this.value=="string"?!1:parseFloat(Q.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=N;class A{static create(Q,X,Y=null){return T(X,ae=>new A(Q,ae,Y))}constructor(Q,X,Y){this.key=Q,this.value=X,this.negated=Y,this.type=13}cmp(Q){return Q.type!==this.type?this.type-Q.type:z(this.key,this.value,Q.key,Q.value)}equals(Q){return Q.type===this.type?this.key===Q.key&&this.value===Q.value:!1}substituteConstants(){return this}evaluate(Q){return typeof this.value=="string"?!1:parseFloat(Q.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=A;class P{static create(Q,X,Y=null){return T(X,ae=>new P(Q,ae,Y))}constructor(Q,X,Y){this.key=Q,this.value=X,this.negated=Y,this.type=14}cmp(Q){return Q.type!==this.type?this.type-Q.type:z(this.key,this.value,Q.key,Q.value)}equals(Q){return Q.type===this.type?this.key===Q.key&&this.value===Q.value:!1}substituteConstants(){return this}evaluate(Q){return typeof this.value=="string"?!1:parseFloat(Q.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=P;class M{static create(Q,X,Y=null){return T(X,ae=>new M(Q,ae,Y))}constructor(Q,X,Y){this.key=Q,this.value=X,this.negated=Y,this.type=15}cmp(Q){return Q.type!==this.type?this.type-Q.type:z(this.key,this.value,Q.key,Q.value)}equals(Q){return Q.type===this.type?this.key===Q.key&&this.value===Q.value:!1}substituteConstants(){return this}evaluate(Q){return typeof this.value=="string"?!1:parseFloat(Q.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=M;class R{static create(Q,X){return new R(Q,X)}constructor(Q,X){this.key=Q,this.regexp=X,this.type=7,this.negated=null}cmp(Q){if(Q.type!==this.type)return this.type-Q.type;if(this.key<Q.key)return-1;if(this.key>Q.key)return 1;const X=this.regexp?this.regexp.source:"",Y=Q.regexp?Q.regexp.source:"";return X<Y?-1:X>Y?1:0}equals(Q){if(Q.type===this.type){const X=this.regexp?this.regexp.source:"",Y=Q.regexp?Q.regexp.source:"";return this.key===Q.key&&X===Y}return!1}substituteConstants(){return this}evaluate(Q){const X=Q.getValue(this.key);return this.regexp?this.regexp.test(X):!1}serialize(){const Q=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${Q}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this)),this.negated}}e.ContextKeyRegexExpr=R;class F{static create(Q){return new F(Q)}constructor(Q){this._actual=Q,this.type=8}cmp(Q){return Q.type!==this.type?this.type-Q.type:this._actual.cmp(Q._actual)}equals(Q){return Q.type===this.type?this._actual.equals(Q._actual):!1}substituteConstants(){return this}evaluate(Q){return!this._actual.evaluate(Q)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=F;function O(x){let Q=null;for(let X=0,Y=x.length;X<Y;X++){const ae=x[X].substituteConstants();if(x[X]!==ae&&Q===null){Q=[];for(let ce=0;ce<X;ce++)Q[ce]=x[ce]}Q!==null&&(Q[X]=ae)}return Q===null?x:Q}class B{static create(Q,X,Y){return B._normalizeArr(Q,X,Y)}constructor(Q,X){this.expr=Q,this.negated=X,this.type=6}cmp(Q){if(Q.type!==this.type)return this.type-Q.type;if(this.expr.length<Q.expr.length)return-1;if(this.expr.length>Q.expr.length)return 1;for(let X=0,Y=this.expr.length;X<Y;X++){const ae=l(this.expr[X],Q.expr[X]);if(ae!==0)return ae}return 0}equals(Q){if(Q.type===this.type){if(this.expr.length!==Q.expr.length)return!1;for(let X=0,Y=this.expr.length;X<Y;X++)if(!this.expr[X].equals(Q.expr[X]))return!1;return!0}return!1}substituteConstants(){const Q=O(this.expr);return Q===this.expr?this:B.create(Q,this.negated,!1)}evaluate(Q){for(let X=0,Y=this.expr.length;X<Y;X++)if(!this.expr[X].evaluate(Q))return!1;return!0}static _normalizeArr(Q,X,Y){const ae=[];let ce=!1;for(const he of Q)if(he){if(he.type===1){ce=!0;continue}if(he.type===0)return o.INSTANCE;if(he.type===6){ae.push(...he.expr);continue}ae.push(he)}if(ae.length===0&&ce)return g.INSTANCE;if(ae.length!==0){if(ae.length===1)return ae[0];ae.sort(l);for(let he=1;he<ae.length;he++)ae[he-1].equals(ae[he])&&(ae.splice(he,1),he--);if(ae.length===1)return ae[0];for(;ae.length>1;){const he=ae[ae.length-1];if(he.type!==9)break;ae.pop();const pe=ae.pop(),fe=ae.length===0,se=H.create(he.expr.map(te=>B.create([te,pe],null,Y)),null,fe);se&&(ae.push(se),ae.sort(l))}if(ae.length===1)return ae[0];if(Y){for(let he=0;he<ae.length;he++)for(let pe=he+1;pe<ae.length;pe++)if(ae[he].negate().equals(ae[pe]))return o.INSTANCE;if(ae.length===1)return ae[0]}return new B(ae,X)}}serialize(){return this.expr.map(Q=>Q.serialize()).join(" && ")}keys(){const Q=[];for(const X of this.expr)Q.push(...X.keys());return Q}negate(){if(!this.negated){const Q=[];for(const X of this.expr)Q.push(X.negate());this.negated=H.create(Q,this,!0)}return this.negated}}e.ContextKeyAndExpr=B;class H{static create(Q,X,Y){return H._normalizeArr(Q,X,Y)}constructor(Q,X){this.expr=Q,this.negated=X,this.type=9}cmp(Q){if(Q.type!==this.type)return this.type-Q.type;if(this.expr.length<Q.expr.length)return-1;if(this.expr.length>Q.expr.length)return 1;for(let X=0,Y=this.expr.length;X<Y;X++){const ae=l(this.expr[X],Q.expr[X]);if(ae!==0)return ae}return 0}equals(Q){if(Q.type===this.type){if(this.expr.length!==Q.expr.length)return!1;for(let X=0,Y=this.expr.length;X<Y;X++)if(!this.expr[X].equals(Q.expr[X]))return!1;return!0}return!1}substituteConstants(){const Q=O(this.expr);return Q===this.expr?this:H.create(Q,this.negated,!1)}evaluate(Q){for(let X=0,Y=this.expr.length;X<Y;X++)if(this.expr[X].evaluate(Q))return!0;return!1}static _normalizeArr(Q,X,Y){let ae=[],ce=!1;if(Q){for(let he=0,pe=Q.length;he<pe;he++){const fe=Q[he];if(fe){if(fe.type===0){ce=!0;continue}if(fe.type===1)return g.INSTANCE;if(fe.type===9){ae=ae.concat(fe.expr);continue}ae.push(fe)}}if(ae.length===0&&ce)return o.INSTANCE;ae.sort(l)}if(ae.length!==0){if(ae.length===1)return ae[0];for(let he=1;he<ae.length;he++)ae[he-1].equals(ae[he])&&(ae.splice(he,1),he--);if(ae.length===1)return ae[0];if(Y){for(let he=0;he<ae.length;he++)for(let pe=he+1;pe<ae.length;pe++)if(ae[he].negate().equals(ae[pe]))return g.INSTANCE;if(ae.length===1)return ae[0]}return new H(ae,X)}}serialize(){return this.expr.map(Q=>Q.serialize()).join(" || ")}keys(){const Q=[];for(const X of this.expr)Q.push(...X.keys());return Q}negate(){if(!this.negated){const Q=[];for(const X of this.expr)Q.push(X.negate());for(;Q.length>1;){const X=Q.shift(),Y=Q.shift(),ae=[];for(const ce of re(X))for(const he of re(Y))ae.push(B.create([ce,he],null,!1));Q.unshift(H.create(ae,null,!1))}this.negated=H.create(Q,this,!0)}return this.negated}}e.ContextKeyOrExpr=H;class V extends c{static all(){return V._info.values()}constructor(Q,X,Y){super(Q,null),this._defaultValue=X,typeof Y=="object"?V._info.push({...Y,key:Q}):Y!==!0&&V._info.push({key:Q,description:Y,type:X!=null?typeof X:void 0})}bindTo(Q){return Q.createKey(this.key,this._defaultValue)}getValue(Q){return Q.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(Q){return b.create(this.key,Q)}}e.RawContextKey=V,V._info=[],e.IContextKeyService=(0,L.createDecorator)("contextKeyService");function q(x,Q){return x<Q?-1:x>Q?1:0}function z(x,Q,X,Y){return x<X?-1:x>X?1:Q<Y?-1:Q>Y?1:0}function U(x,Q){if(x.type===0||Q.type===1)return!0;if(x.type===9)return Q.type===9?Z(x.expr,Q.expr):!1;if(Q.type===9){for(const X of Q.expr)if(U(x,X))return!0;return!1}if(x.type===6){if(Q.type===6)return Z(Q.expr,x.expr);for(const X of x.expr)if(U(X,Q))return!0;return!1}return x.equals(Q)}function Z(x,Q){let X=0,Y=0;for(;X<x.length&&Y<Q.length;){const ae=x[X].cmp(Q[Y]);if(ae<0)return!1;ae===0&&X++,Y++}return X===x.length}function re(x){return x.type===9?x.expr:[x]}}),define(ie[20],ne([1,0,667,14]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var E;(function(L){L.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),L.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,f.localize(0,null)),L.focus=new k.RawContextKey("editorFocus",!1,f.localize(1,null)),L.textInputFocus=new k.RawContextKey("textInputFocus",!1,f.localize(2,null)),L.readOnly=new k.RawContextKey("editorReadonly",!1,f.localize(3,null)),L.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,f.localize(4,null)),L.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,f.localize(5,null)),L.inMultiDiffEditor=new k.RawContextKey("inMultiDiffEditor",!1,f.localize(6,null)),L.multiDiffEditorAllCollapsed=new k.RawContextKey("multiDiffEditorAllCollapsed",void 0,f.localize(7,null)),L.hasChanges=new k.RawContextKey("diffEditorHasChanges",!1,f.localize(8,null)),L.comparingMovedCode=new k.RawContextKey("comparingMovedCode",!1,f.localize(9,null)),L.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,f.localize(10,null)),L.diffEditorRenderSideBySideInlineBreakpointReached=new k.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,f.localize(11,null)),L.diffEditorInlineMode=new k.RawContextKey("diffEditorInlineMode",!1,f.localize(12,null)),L.diffEditorOriginalWritable=new k.RawContextKey("diffEditorOriginalWritable",!1,f.localize(13,null)),L.diffEditorModifiedWritable=new k.RawContextKey("diffEditorModifiedWritable",!1,f.localize(14,null)),L.diffEditorOriginalUri=new k.RawContextKey("diffEditorOriginalUri","",f.localize(15,null)),L.diffEditorModifiedUri=new k.RawContextKey("diffEditorModifiedUri","",f.localize(16,null)),L.columnSelection=new k.RawContextKey("editorColumnSelection",!1,f.localize(17,null)),L.writable=L.readOnly.toNegated(),L.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,f.localize(18,null)),L.hasOnlyEmptySelection=L.hasNonEmptySelection.toNegated(),L.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,f.localize(19,null)),L.hasSingleSelection=L.hasMultipleSelections.toNegated(),L.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,f.localize(20,null)),L.tabDoesNotMoveFocus=L.tabMovesFocus.toNegated(),L.isInEmbeddedEditor=new k.RawContextKey("isInEmbeddedEditor",!1,!0),L.canUndo=new k.RawContextKey("canUndo",!1,!0),L.canRedo=new k.RawContextKey("canRedo",!1,!0),L.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,f.localize(21,null)),L.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,f.localize(22,null)),L.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,f.localize(23,null)),L.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,f.localize(24,null)),L.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,f.localize(25,null)),L.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,f.localize(26,null)),L.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,f.localize(27,null)),L.notInCompositeEditor=L.inCompositeEditor.toNegated(),L.languageId=new k.RawContextKey("editorLangId","",f.localize(28,null)),L.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,f.localize(29,null)),L.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,f.localize(30,null)),L.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,f.localize(31,null)),L.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,f.localize(32,null)),L.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,f.localize(33,null)),L.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,f.localize(34,null)),L.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,f.localize(35,null)),L.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,f.localize(36,null)),L.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,f.localize(37,null)),L.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,f.localize(38,null)),L.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,f.localize(39,null)),L.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,f.localize(40,null)),L.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,f.localize(41,null)),L.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,f.localize(42,null)),L.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,f.localize(43,null)),L.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,f.localize(44,null)),L.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,f.localize(45,null)),L.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,f.localize(46,null))})(E||(e.EditorContextKeys=E={}))}),define(ie[257],ne([1,0,30,11,90,14,2,723]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class w extends y.Disposable{constructor(_,a){super(),this.contextKeyService=_,this.model=a,this.inlineCompletionVisible=w.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=w.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=w.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=w.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,f.autorun)(s=>{const i=this.model.read(s),t=i?.state.read(s),n=!!t?.inlineCompletion&&t?.primaryGhostText!==void 0&&!t?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(n),t?.primaryGhostText&&t?.inlineCompletion&&this.suppressSuggestions.set(t.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,f.autorun)(s=>{const i=this.model.read(s);let t=!1,n=!0;const h=i?.primaryGhostText.read(s);if(i?.selectedSuggestItem&&h&&h.parts.length>0){const{column:m,lines:u}=h.parts[0],d=u[0],r=i.textModel.getLineIndentColumn(h.lineNumber);if(m<=r){let o=(0,k.firstNonWhitespaceIndex)(d);o===-1&&(o=d.length-1),t=o>0;const g=i.textModel.getOptions().tabSize;n=E.CursorColumns.visibleColumnFromColumn(d,o+1,g)<g}}this.inlineCompletionSuggestsIndentation.set(t),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}))}}e.InlineCompletionContextKeys=w,w.inlineSuggestionVisible=new L.RawContextKey("inlineSuggestionVisible",!1,(0,p.localize)(0,null)),w.inlineSuggestionHasIndentation=new L.RawContextKey("inlineSuggestionHasIndentation",!1,(0,p.localize)(1,null)),w.inlineSuggestionHasIndentationLessThanTabSize=new L.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,p.localize)(2,null)),w.suppressSuggestions=new L.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,p.localize)(3,null))}),define(ie[258],ne([1,0,19,12,21,22,9,29,18,74,27,14]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0,e.provideSignatureHelp=s,e.Context={Visible:new a.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new a.RawContextKey("parameterHintsMultipleSignatures",!1)};async function s(i,t,n,h,m){const u=i.ordered(t);for(const d of u)try{const r=await d.provideSignatureHelp(t,n,m,h);if(r)return r}catch(r){(0,k.onUnexpectedExternalError)(r)}}_.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",async(i,...t)=>{const[n,h,m]=t;(0,E.assertType)(L.URI.isUri(n)),(0,E.assertType)(y.Position.isIPosition(h)),(0,E.assertType)(typeof m=="string"||!m);const u=i.get(w.ILanguageFeaturesService),d=await i.get(v.ITextModelService).createModelReference(n);try{const r=await s(u.signatureHelpProvider,d.object.textEditorModel,y.Position.lift(h),{triggerKind:p.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:m},f.CancellationToken.None);return r?(setTimeout(()=>r.dispose(),0),r.value):void 0}finally{d.dispose()}})}),define(ie[805],ne([1,0,15,12,7,2,138,29,258]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var v;(function(s){s.Default={type:0};class i{constructor(h,m){this.request=h,this.previouslyActiveHints=m,this.type=2}}s.Pending=i;class t{constructor(h){this.hints=h,this.type=1}}s.Active=t})(v||(v={}));class _ extends L.Disposable{constructor(i,t,n=_.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new E.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=v.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new L.MutableDisposable),this.triggerChars=new y.CharacterSet,this.retriggerChars=new y.CharacterSet,this.triggerId=0,this.editor=i,this.providers=t,this.throttledDelayer=new f.Delayer(n),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(h=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(h=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(h=>this.onCursorChange(h))),this._register(this.editor.onDidChangeModelContent(h=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(h=>this.onDidType(h))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(i){this._state.type===2&&this._state.request.cancel(),this._state=i}cancel(i=!1){this.state=v.Default,this.throttledDelayer.cancel(),i||this._onChangedHints.fire(void 0)}trigger(i,t){const n=this.editor.getModel();if(!n||!this.providers.has(n))return;const h=++this.triggerId;this._pendingTriggers.push(i),this.throttledDelayer.trigger(()=>this.doTrigger(h),t).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%i===i-1,h=this.editor.getOption(86).cycle;if((i<2||n)&&!h){this.cancel();return}this.updateActiveSignature(n&&h?0:t+1)}previous(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t===0,h=this.editor.getOption(86).cycle;if((i<2||n)&&!h){this.cancel();return}this.updateActiveSignature(n&&h?i-1:t-1)}updateActiveSignature(i){this.state.type===1&&(this.state=new v.Active({...this.state.hints,activeSignature:i}),this._onChangedHints.fire(this.state.hints))}async doTrigger(i){const t=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const h=this._pendingTriggers.reduce(a);this._pendingTriggers=[];const m={triggerKind:h.triggerKind,triggerCharacter:h.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const u=this.editor.getModel(),d=this.editor.getPosition();this.state=new v.Pending((0,f.createCancelablePromise)(r=>(0,w.provideSignatureHelp)(this.providers,u,d,m,r)),n);try{const r=await this.state.request;return i!==this.triggerId?(r?.dispose(),!1):!r||!r.value.signatures||r.value.signatures.length===0?(r?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new v.Active(r.value),this._lastSignatureHelpResult.value=r,this._onChangedHints.fire(this.state.hints),!0)}catch(r){return i===this.triggerId&&(this.state=v.Default),(0,k.onUnexpectedError)(r),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const i=this.editor.getModel();if(i)for(const t of this.providers.ordered(i)){for(const n of t.signatureHelpTriggerCharacters||[])if(n.length){const h=n.charCodeAt(0);this.triggerChars.add(h),this.retriggerChars.add(h)}for(const n of t.signatureHelpRetriggerCharacters||[])n.length&&this.retriggerChars.add(n.charCodeAt(0))}}onDidType(i){if(!this.triggerOnType)return;const t=i.length-1,n=i.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:i.charAt(t)})}onCursorChange(i){i.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=_,_.DEFAULT_DELAY=120;function a(s,i){switch(i.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return i;case p.SignatureHelpTriggerKind.ContentChange:return s;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return i}}}),define(ie[806],ne([1,0,14]),function(J,e,f){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let E=k=class{constructor(y,p){this._editor=y,this._index=0,this._ckOtherSuggestions=k.OtherSuggestions.bindTo(p)}dispose(){this.reset()}reset(){var y;this._ckOtherSuggestions.reset(),(y=this._listener)===null||y===void 0||y.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:y,index:p},w){if(y.items.length===0){this.reset();return}if(k._moveIndex(!0,y,p)===p){this.reset();return}this._acceptNext=w,this._model=y,this._index=p,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(y,p,w){let v=w;for(let _=p.items.length;_>0&&(v=(v+p.items.length+(y?1:-1))%p.items.length,!(v===w||!p.items[v].completion.additionalTextEdits));_--);return v}next(){this._move(!0)}prev(){this._move(!1)}_move(y){if(this._model)try{this._ignore=!0,this._index=k._moveIndex(y,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=E,E.OtherSuggestions=new f.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=E=k=Ie([ue(1,f.IContextKeyService)],E)}),define(ie[807],ne([1,0,14]),function(J,e,f){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let E=k=class{constructor(y,p){this._editor=y,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(p),this._configListener=this._editor.onDidChangeConfiguration(w=>w.hasChanged(123)&&this._update()),this._update()}dispose(){var y;this._configListener.dispose(),(y=this._selectionListener)===null||y===void 0||y.dispose(),this._ckAtEnd.reset()}_update(){const y=this._editor.getOption(123)==="on";if(this._enabled!==y)if(this._enabled=y,this._enabled){const p=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const w=this._editor.getModel(),v=this._editor.getSelection(),_=w.getWordAtPosition(v.getStartPosition());if(!_){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(_.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(p),p()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=E,E.AtEnd=new f.RawContextKey("atEndOfWord",!1),e.WordContextKey=E=k=Ie([ue(1,f.IContextKeyService)],E)}),define(ie[68],ne([1,0,14,8]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new f.RawContextKey("accessibilityModeEnabled",!1)}),define(ie[808],ne([1,0,62,13,7,2,55,17,345,352,515,219,38,158,252,68,6,241]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let u=class extends L.Disposable{constructor(C,S,D,I){super(),this._accessibilityService=I,this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new E.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new s.ComputeOptionsMemory,this.isSimpleWidget=C,this._containerObserver=this._register(new w.ElementSizeObserver(D,S.dimension)),this._targetWindowId=(0,h.getWindow)(D).vscodeWindowId,this._rawOptions=c(S),this._validatedOptions=g.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(i.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(a.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(v.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(m.PixelRatio.getInstance((0,h.getWindow)(D)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const C=this._computeOptions(),S=g.checkEquals(this.options,C);S!==null&&(this.options=C,this._onDidChangeFast.fire(S),this._onDidChange.fire(S))}_computeOptions(){const C=this._readEnvConfiguration(),S=t.BareFontInfo.createFromValidatedSettings(this._validatedOptions,C.pixelRatio,this.isSimpleWidget),D=this._readFontInfo(S),I={memory:this._computeOptionsMemory,outerWidth:C.outerWidth,outerHeight:C.outerHeight-this._reservedHeight,fontInfo:D,extraEditorClassName:C.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:C.emptySelectionClipboard,pixelRatio:C.pixelRatio,tabFocusMode:a.TabFocus.getTabFocusMode(),accessibilitySupport:C.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return g.computeOptions(this._validatedOptions,I)}_readEnvConfiguration(){return{extraEditorClassName:r(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:f.isWebKit||f.isFirefox,pixelRatio:m.PixelRatio.getInstance((0,h.getWindowById)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(C){return v.FontMeasurements.readFontInfo((0,h.getWindowById)(this._targetWindowId,!0).window,C)}getRawOptions(){return this._rawOptions}updateOptions(C){const S=c(C);g.applyUpdate(this._rawOptions,S)&&(this._validatedOptions=g.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(C){this._containerObserver.observe(C)}setIsDominatedByLongLines(C){this._isDominatedByLongLines!==C&&(this._isDominatedByLongLines=C,this._recomputeOptions())}setModelLineCount(C){const S=d(C);this._lineNumbersDigitCount!==S&&(this._lineNumbersDigitCount=S,this._recomputeOptions())}setViewLineCount(C){this._viewLineCount!==C&&(this._viewLineCount=C,this._recomputeOptions())}setReservedHeight(C){this._reservedHeight!==C&&(this._reservedHeight=C,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(C){this._glyphMarginDecorationLaneCount!==C&&(this._glyphMarginDecorationLaneCount=C,this._recomputeOptions())}};e.EditorConfiguration=u,e.EditorConfiguration=u=Ie([ue(3,n.IAccessibilityService)],u);function d(b){let C=0;for(;b;)b=Math.floor(b/10),C++;return C||1}function r(){let b="";return!f.isSafari&&!f.isWebkitWebView&&(b+="no-user-select "),f.isSafari&&(b+="no-minimap-shadow ",b+="enable-user-select "),p.isMacintosh&&(b+="mac "),b}class l{constructor(){this._values=[]}_read(C){return this._values[C]}get(C){return this._values[C]}_write(C,S){this._values[C]=S}}class o{constructor(){this._values=[]}_read(C){if(C>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[C]}get(C){return this._read(C)}_write(C,S){this._values[C]=S}}e.ComputedEditorOptions=o;class g{static validateOptions(C){const S=new l;for(const D of s.editorOptionsRegistry){const I=D.name==="_never_"?void 0:C[D.name];S._write(D.id,D.validate(I))}return S}static computeOptions(C,S){const D=new o;for(const I of s.editorOptionsRegistry)D._write(I.id,I.compute(S,D,C._read(I.id)));return D}static _deepEquals(C,S){if(typeof C!="object"||typeof S!="object"||!C||!S)return C===S;if(Array.isArray(C)||Array.isArray(S))return Array.isArray(C)&&Array.isArray(S)?k.equals(C,S):!1;if(Object.keys(C).length!==Object.keys(S).length)return!1;for(const D in C)if(!g._deepEquals(C[D],S[D]))return!1;return!0}static checkEquals(C,S){const D=[];let I=!1;for(const T of s.editorOptionsRegistry){const N=!g._deepEquals(C._read(T.id),S._read(T.id));D[T.id]=N,N&&(I=!0)}return I?new s.ConfigurationChangedEvent(D):null}static applyUpdate(C,S){let D=!1;for(const I of s.editorOptionsRegistry)if(S.hasOwnProperty(I.name)){const T=I.applyUpdate(C[I.name],S[I.name]);C[I.name]=T.newValue,D=D||T.didChange}return D}}function c(b){const C=y.deepClone(b);return(0,_.migrateOptions)(C),C}}),define(ie[809],ne([1,0,30,296,38,68]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;let y=class{get editorOptions(){return this._options}constructor(v,_){this._accessibilityService=_,this._diffEditorWidth=(0,f.observableValue)(this,0),this._screenReaderMode=(0,f.observableFromEvent)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=(0,f.derived)(this,s=>this._options.read(s).renderSideBySide&&this._diffEditorWidth.read(s)<=this._options.read(s).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,f.derived)(this,s=>this._options.read(s).renderOverviewRuler),this.renderSideBySide=(0,f.derived)(this,s=>this._options.read(s).renderSideBySide&&!(this._options.read(s).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(s)&&!this._screenReaderMode.read(s))),this.readOnly=(0,f.derived)(this,s=>this._options.read(s).readOnly),this.shouldRenderOldRevertArrows=(0,f.derived)(this,s=>!(!this._options.read(s).renderMarginRevertIcon||!this.renderSideBySide.read(s)||this.readOnly.read(s)||this.shouldRenderGutterMenu.read(s))),this.shouldRenderGutterMenu=(0,f.derived)(this,s=>this._options.read(s).renderGutterMenu),this.renderIndicators=(0,f.derived)(this,s=>this._options.read(s).renderIndicators),this.enableSplitViewResizing=(0,f.derived)(this,s=>this._options.read(s).enableSplitViewResizing),this.splitViewDefaultRatio=(0,f.derived)(this,s=>this._options.read(s).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,f.derived)(this,s=>this._options.read(s).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,f.derived)(this,s=>this._options.read(s).maxComputationTime),this.showMoves=(0,f.derived)(this,s=>this._options.read(s).experimental.showMoves&&this.renderSideBySide.read(s)),this.isInEmbeddedEditor=(0,f.derived)(this,s=>this._options.read(s).isInEmbeddedEditor),this.diffWordWrap=(0,f.derived)(this,s=>this._options.read(s).diffWordWrap),this.originalEditable=(0,f.derived)(this,s=>this._options.read(s).originalEditable),this.diffCodeLens=(0,f.derived)(this,s=>this._options.read(s).diffCodeLens),this.accessibilityVerbose=(0,f.derived)(this,s=>this._options.read(s).accessibilityVerbose),this.diffAlgorithm=(0,f.derived)(this,s=>this._options.read(s).diffAlgorithm),this.showEmptyDecorations=(0,f.derived)(this,s=>this._options.read(s).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,f.derived)(this,s=>this._options.read(s).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,f.derived)(this,s=>this._options.read(s).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,f.derived)(this,s=>this._options.read(s).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,f.derived)(this,s=>this._options.read(s).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,f.derived)(this,s=>this._options.read(s).hideUnchangedRegions.minimumLineCount);const a={...v,...p(v,k.diffEditorDefaultOptions)};this._options=(0,f.observableValue)(this,a)}updateOptions(v){const _=p(v,this._options.get()),a={...this._options.get(),...v,..._};this._options.set(a,void 0,{changedOptions:v})}setWidth(v){this._diffEditorWidth.set(v,void 0)}};e.DiffEditorOptions=y,e.DiffEditorOptions=y=Ie([ue(1,L.IAccessibilityService)],y);function p(w,v){var _,a,s,i,t,n,h,m;return{enableSplitViewResizing:(0,E.boolean)(w.enableSplitViewResizing,v.enableSplitViewResizing),splitViewDefaultRatio:(0,E.clampedFloat)(w.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,E.boolean)(w.renderSideBySide,v.renderSideBySide),renderMarginRevertIcon:(0,E.boolean)(w.renderMarginRevertIcon,v.renderMarginRevertIcon),maxComputationTime:(0,E.clampedInt)(w.maxComputationTime,v.maxComputationTime,0,1073741824),maxFileSize:(0,E.clampedInt)(w.maxFileSize,v.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,E.boolean)(w.ignoreTrimWhitespace,v.ignoreTrimWhitespace),renderIndicators:(0,E.boolean)(w.renderIndicators,v.renderIndicators),originalEditable:(0,E.boolean)(w.originalEditable,v.originalEditable),diffCodeLens:(0,E.boolean)(w.diffCodeLens,v.diffCodeLens),renderOverviewRuler:(0,E.boolean)(w.renderOverviewRuler,v.renderOverviewRuler),diffWordWrap:(0,E.stringSet)(w.diffWordWrap,v.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,E.stringSet)(w.diffAlgorithm,v.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,E.boolean)(w.accessibilityVerbose,v.accessibilityVerbose),experimental:{showMoves:(0,E.boolean)((_=w.experimental)===null||_===void 0?void 0:_.showMoves,v.experimental.showMoves),showEmptyDecorations:(0,E.boolean)((a=w.experimental)===null||a===void 0?void 0:a.showEmptyDecorations,v.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,E.boolean)((i=(s=w.hideUnchangedRegions)===null||s===void 0?void 0:s.enabled)!==null&&i!==void 0?i:(t=w.experimental)===null||t===void 0?void 0:t.collapseUnchangedRegions,v.hideUnchangedRegions.enabled),contextLineCount:(0,E.clampedInt)((n=w.hideUnchangedRegions)===null||n===void 0?void 0:n.contextLineCount,v.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,E.clampedInt)((h=w.hideUnchangedRegions)===null||h===void 0?void 0:h.minimumLineCount,v.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,E.clampedInt)((m=w.hideUnchangedRegions)===null||m===void 0?void 0:m.revealLineCount,v.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,E.boolean)(w.isInEmbeddedEditor,v.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,E.boolean)(w.onlyShowAccessibleDiffViewer,v.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,E.clampedInt)(w.renderSideBySideInlineBreakpoint,v.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,E.boolean)(w.useInlineViewWhenSpaceIsLimited,v.useInlineViewWhenSpaceIsLimited),renderGutterMenu:(0,E.boolean)(w.renderGutterMenu,v.renderGutterMenu)}}}),define(ie[810],ne([1,0,7,54,2,55,215,22,766,27,25,14]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0,e.setContext=b;const s="data-keybinding-context";class i{constructor(D,I){this._id=D,this._parent=I,this._value=Object.create(null),this._value._contextId=D}get value(){return{...this._value}}setValue(D,I){return this._value[D]!==I?(this._value[D]=I,!0):!1}removeValue(D){return D in this._value?(delete this._value[D],!0):!1}getValue(D){const I=this._value[D];return typeof I>"u"&&this._parent?this._parent.getValue(D):I}}e.Context=i;class t extends i{constructor(){super(-1,null)}setValue(D,I){return!1}removeValue(D){return!1}getValue(D){}}t.INSTANCE=new t;class n extends i{constructor(D,I,T){super(D,null),this._configurationService=I,this._values=y.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(N=>{if(N.source===7){const A=Array.from(this._values,([P])=>P);this._values.clear(),T.fire(new u(A))}else{const A=[];for(const P of N.affectedKeys){const M=`config.${P}`,R=this._values.findSuperstr(M);R!==void 0&&(A.push(...k.Iterable.map(R,([F])=>F)),this._values.deleteSuperstr(M)),this._values.has(M)&&(A.push(M),this._values.delete(M))}T.fire(new u(A))}})}dispose(){this._listener.dispose()}getValue(D){if(D.indexOf(n._keyPrefix)!==0)return super.getValue(D);if(this._values.has(D))return this._values.get(D);const I=D.substr(n._keyPrefix.length),T=this._configurationService.getValue(I);let N;switch(typeof T){case"number":case"boolean":case"string":N=T;break;default:Array.isArray(T)?N=JSON.stringify(T):N=T}return this._values.set(D,N),N}setValue(D,I){return super.setValue(D,I)}removeValue(D){return super.removeValue(D)}}n._keyPrefix="config.";class h{constructor(D,I,T){this._service=D,this._key=I,this._defaultValue=T,this.reset()}set(D){this._service.setContext(this._key,D)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class m{constructor(D){this.key=D}affectsSome(D){return D.has(this.key)}allKeysContainedIn(D){return this.affectsSome(D)}}class u{constructor(D){this.keys=D}affectsSome(D){for(const I of this.keys)if(D.has(I))return!0;return!1}allKeysContainedIn(D){return this.keys.every(I=>D.has(I))}}class d{constructor(D){this.events=D}affectsSome(D){for(const I of this.events)if(I.affectsSome(D))return!0;return!1}allKeysContainedIn(D){return this.events.every(I=>I.allKeysContainedIn(D))}}function r(S,D){return S.allKeysContainedIn(new Set(Object.keys(D)))}class l extends E.Disposable{constructor(D){super(),this._onDidChangeContext=this._register(new f.PauseableEmitter({merge:I=>new d(I)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=D}createKey(D,I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,D,I)}bufferChangeEvents(D){this._onDidChangeContext.pause();try{D()}finally{this._onDidChangeContext.resume()}}createScoped(D){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new g(this,D)}contextMatchesRules(D){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this._myContextId);return D?D.evaluate(I):!0}getContextKeyValue(D){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(D)}setContext(D,I){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);T&&T.setValue(D,I)&&this._onDidChangeContext.fire(new m(D))}removeContext(D){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(D)&&this._onDidChangeContext.fire(new m(D))}getContext(D){return this._isDisposed?t.INSTANCE:this.getContextValuesContainer(c(D))}dispose(){super.dispose(),this._isDisposed=!0}}e.AbstractContextKeyService=l;let o=class extends l{constructor(D){super(0),this._contexts=new Map,this._lastContextId=0;const I=this._register(new n(this._myContextId,D,this._onDidChangeContext));this._contexts.set(this._myContextId,I)}getContextValuesContainer(D){return this._isDisposed?t.INSTANCE:this._contexts.get(D)||t.INSTANCE}createChildContext(D=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const I=++this._lastContextId;return this._contexts.set(I,new i(I,this.getContextValuesContainer(D))),I}disposeContext(D){this._isDisposed||this._contexts.delete(D)}};e.ContextKeyService=o,e.ContextKeyService=o=Ie([ue(0,_.IConfigurationService)],o);class g extends l{constructor(D,I){if(super(D.createChildContext()),this._parentChangeListener=this._register(new E.MutableDisposable),this._parent=D,this._updateParentChangeListener(),this._domNode=I,this._domNode.hasAttribute(s)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(s,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(D=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;r(D,T)||this._onDidChangeContext.fire(D)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(s),super.dispose())}getContextValuesContainer(D){return this._isDisposed?t.INSTANCE:this._parent.getContextValuesContainer(D)}createChildContext(D=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(D)}disposeContext(D){this._isDisposed||this._parent.disposeContext(D)}}function c(S){for(;S;){if(S.hasAttribute(s)){const D=S.getAttribute(s);return D?parseInt(D,10):NaN}S=S.parentElement}return 0}function b(S,D,I){S.get(a.IContextKeyService).createKey(String(D),C(I))}function C(S){return(0,L.cloneAndChange)(S,D=>{if(typeof D=="object"&&D.$mid===1)return p.URI.revive(D).toString();if(D instanceof p.URI)return D.toString()})}v.CommandsRegistry.registerCommand("_setContext",b),v.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...a.RawContextKey.all()].sort((S,D)=>S.key.localeCompare(D.key))},metadata:{description:(0,w.localize)(0,null),args:[]}}),v.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const S=[],D=new Set;for(const I of a.RawContextKey.all())D.has(I.key)||(D.add(I.key),S.push(I));S.sort((I,T)=>I.key.localeCompare(T.key)),console.log(JSON.stringify(S,void 0,2))})}),define(ie[201],ne([1,0,17,768,14]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new E.RawContextKey("isMac",f.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new E.RawContextKey("isLinux",f.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new E.RawContextKey("isWindows",f.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new E.RawContextKey("isWeb",f.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new E.RawContextKey("isMacNative",f.isMacintosh&&!f.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new E.RawContextKey("isIOS",f.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new E.RawContextKey("isMobile",f.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new E.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new E.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new E.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(ie[58],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,f.createDecorator)("contextViewService"),e.IContextMenuService=(0,f.createDecorator)("contextMenuService")}),define(ie[170],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,f.createDecorator)("dialogService")}),define(ie[259],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,f.createDecorator)("environmentService")}),define(ie[202],ne([1,0,8,2,25,6]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nativeHoverDelegate=e.WorkbenchHoverDelegate=e.IHoverService=void 0,e.IHoverService=(0,f.createDecorator)("hoverService");let y=class extends k.Disposable{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(w,v,_={},a,s){super(),this.placement=w,this.instantHover=v,this.overrideOptions=_,this.configurationService=a,this.hoverService=s,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new k.DisposableStore),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(w,v){const _=typeof this.overrideOptions=="function"?this.overrideOptions(w,v):this.overrideOptions;this.hoverDisposables.clear();const a=w.target instanceof HTMLElement?[w.target]:w.target.targetElements;for(const i of a)this.hoverDisposables.add((0,L.addStandardDisposableListener)(i,"keydown",t=>{t.equals(9)&&this.hoverService.hideHover()}));const s=w.content instanceof HTMLElement?void 0:w.content.toString();return this.hoverService.showHover({...w,..._,persistence:{hideOnKeyDown:!0,..._.persistence},id:s,appearance:{...w.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),..._.appearance}},v)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};e.WorkbenchHoverDelegate=y,e.WorkbenchHoverDelegate=y=Ie([ue(3,E.IConfigurationService),ue(4,e.IHoverService)],y),e.nativeHoverDelegate={showHover:function(){throw new Error("Native hover function not implemented.")},delay:0,showNativeHover:!0}}),define(ie[171],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class f{constructor(...E){this._entries=new Map;for(const[L,y]of E)this.set(L,y)}set(E,L){const y=this._entries.get(E);return this._entries.set(E,L),y}get(E){return this._entries.get(E)}}e.ServiceCollection=f}),define(ie[811],ne([1,0,15,12,2,253,799,8,171,70]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const _=!1;class a extends Error{constructor(n){var h;super("cyclic dependency between services"),this.message=(h=n.findCycleSlow())!==null&&h!==void 0?h:`UNABLE to detect cycle, dumping graph: 
${n.toString()}`}}class s{constructor(n=new w.ServiceCollection,h=!1,m,u=_){var d;this._services=n,this._strict=h,this._parent=m,this._enableTracing=u,this._activeInstantiations=new Set,this._services.set(p.IInstantiationService,this),this._globalGraph=u?(d=m?._globalGraph)!==null&&d!==void 0?d:new y.Graph(r=>r):void 0}createChild(n){return new s(n,this._strict,this,this._enableTracing)}invokeFunction(n,...h){const m=i.traceInvocation(this._enableTracing,n);let u=!1;try{return n({get:r=>{if(u)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(r,m);if(!l)throw new Error(`[invokeFunction] unknown service '${r}'`);return l}},...h)}finally{u=!0,m.stop()}}createInstance(n,...h){let m,u;return n instanceof L.SyncDescriptor?(m=i.traceCreation(this._enableTracing,n.ctor),u=this._createInstance(n.ctor,n.staticArguments.concat(h),m)):(m=i.traceCreation(this._enableTracing,n),u=this._createInstance(n,h,m)),m.stop(),u}_createInstance(n,h=[],m){const u=p._util.getServiceDependencies(n).sort((l,o)=>l.index-o.index),d=[];for(const l of u){const o=this._getOrCreateServiceInstance(l.id,m);o||this._throwIfStrict(`[createInstance] ${n.name} depends on UNKNOWN service ${l.id}.`,!1),d.push(o)}const r=u.length>0?u[0].index:h.length;if(h.length!==r){console.trace(`[createInstance] First service dependency of ${n.name} at position ${r+1} conflicts with ${h.length} static arguments`);const l=r-h.length;l>0?h=h.concat(new Array(l)):h=h.slice(0,r)}return Reflect.construct(n,h.concat(d))}_setServiceInstance(n,h){if(this._services.get(n)instanceof L.SyncDescriptor)this._services.set(n,h);else if(this._parent)this._parent._setServiceInstance(n,h);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(n){const h=this._services.get(n);return!h&&this._parent?this._parent._getServiceInstanceOrDescriptor(n):h}_getOrCreateServiceInstance(n,h){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(n));const m=this._getServiceInstanceOrDescriptor(n);return m instanceof L.SyncDescriptor?this._safeCreateAndCacheServiceInstance(n,m,h.branch(n,!0)):(h.branch(n,!1),m)}_safeCreateAndCacheServiceInstance(n,h,m){if(this._activeInstantiations.has(n))throw new Error(`illegal state - RECURSIVELY instantiating service '${n}'`);this._activeInstantiations.add(n);try{return this._createAndCacheServiceInstance(n,h,m)}finally{this._activeInstantiations.delete(n)}}_createAndCacheServiceInstance(n,h,m){var u;const d=new y.Graph(o=>o.id.toString());let r=0;const l=[{id:n,desc:h,_trace:m}];for(;l.length;){const o=l.pop();if(d.lookupOrInsertNode(o),r++>1e3)throw new a(d);for(const g of p._util.getServiceDependencies(o.desc.ctor)){const c=this._getServiceInstanceOrDescriptor(g.id);if(c||this._throwIfStrict(`[createInstance] ${n} depends on ${g.id} which is NOT registered.`,!0),(u=this._globalGraph)===null||u===void 0||u.insertEdge(String(o.id),String(g.id)),c instanceof L.SyncDescriptor){const b={id:g.id,desc:c,_trace:o._trace.branch(g.id,!0)};d.insertEdge(o,b),l.push(b)}}}for(;;){const o=d.roots();if(o.length===0){if(!d.isEmpty())throw new a(d);break}for(const{data:g}of o){if(this._getServiceInstanceOrDescriptor(g.id)instanceof L.SyncDescriptor){const b=this._createServiceInstanceWithOwner(g.id,g.desc.ctor,g.desc.staticArguments,g.desc.supportsDelayedInstantiation,g._trace);this._setServiceInstance(g.id,b)}d.removeNode(g)}}return this._getServiceInstanceOrDescriptor(n)}_createServiceInstanceWithOwner(n,h,m=[],u,d){if(this._services.get(n)instanceof L.SyncDescriptor)return this._createServiceInstance(n,h,m,u,d);if(this._parent)return this._parent._createServiceInstanceWithOwner(n,h,m,u,d);throw new Error(`illegalState - creating UNKNOWN service instance ${h.name}`)}_createServiceInstance(n,h,m=[],u,d){if(u){const r=new s(void 0,this._strict,this,this._enableTracing);r._globalGraphImplicitDependency=String(n);const l=new Map,o=new f.GlobalIdleValue(()=>{const g=r._createInstance(h,m,d);for(const[c,b]of l){const C=g[c];if(typeof C=="function")for(const S of b)S.disposable=C.apply(g,S.listener)}return l.clear(),g});return new Proxy(Object.create(null),{get(g,c){if(!o.isInitialized&&typeof c=="string"&&(c.startsWith("onDid")||c.startsWith("onWill"))){let S=l.get(c);return S||(S=new v.LinkedList,l.set(c,S)),(I,T,N)=>{if(o.isInitialized)return o.value[c](I,T,N);{const A={listener:[I,T,N],disposable:void 0},P=S.push(A);return(0,E.toDisposable)(()=>{var R;P(),(R=A.disposable)===null||R===void 0||R.dispose()})}}}if(c in g)return g[c];const b=o.value;let C=b[c];return typeof C!="function"||(C=C.bind(b),g[c]=C),C},set(g,c,b){return o.value[c]=b,!0},getPrototypeOf(g){return h.prototype}})}else return this._createInstance(h,m,d)}_throwIfStrict(n,h){if(h&&console.warn(n),this._strict)throw new Error(n)}}e.InstantiationService=s;class i{static traceInvocation(n,h){return n?new i(2,h.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):i._None}static traceCreation(n,h){return n?new i(1,h.name):i._None}constructor(n,h){this.type=n,this.name=h,this._start=Date.now(),this._dep=[]}branch(n,h){const m=new i(3,n.toString());return this._dep.push([n,h,m]),m}stop(){const n=Date.now()-this._start;i._totals+=n;let h=!1;function m(d,r){const l=[],o=new Array(d+1).join("	");for(const[g,c,b]of r._dep)if(c&&b){h=!0,l.push(`${o}CREATES -> ${g}`);const C=m(d+1,b);C&&l.push(C)}else l.push(`${o}uses -> ${g}`);return l.join(`
`)}const u=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${m(1,this)}`,`DONE, took ${n.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(n>2||h)&&i.all.add(u.join(`
`))}}e.Trace=i,i.all=new Set,i._None=new class extends i{constructor(){super(0,null)}stop(){}branch(){return this}},i._totals=0}),define(ie[812],ne([1,0,12,235,133]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class L extends E.ResolvedKeybinding{constructor(p,w){if(super(),w.length===0)throw(0,f.illegalArgument)("chords");this._os=p,this._chords=w}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,p=>this._getLabel(p))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,p=>this._getAriaLabel(p))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,p=>this._getElectronAccelerator(p))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,p=>this._getUserSettingsLabel(p))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(p=>this._getChord(p))}_getChord(p){return new E.ResolvedChord(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchChords(){return this._chords.map(p=>this._getChordDispatch(p))}getSingleModifierDispatchChords(){return this._chords.map(p=>this._getSingleModifierChordDispatch(p))}}e.BaseResolvedKeybinding=L}),define(ie[35],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,f.createDecorator)("keybindingService")}),define(ie[364],ne([1,0,6,246,41,7,2,147,256,14,58,8,35,479]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let t=i=class extends y.Disposable{constructor(m,u,d,r,l,o,g,c,b,C){super(),this.typeId=m,this.editor=u,this.showCommand=r,this.range=l,this.edits=o,this.onSelectNewEdit=g,this._contextMenuService=c,this._keybindingService=C,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=d.bindTo(b),this.visibleContext.set(!0),this._register((0,y.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,y.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(S=>{l.containsPosition(S.position)||this.dispose()})),this._register(L.Event.runAndSubscribe(C.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var m;const u=(m=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||m===void 0?void 0:m.getLabel();this.button.element.title=this.showCommand.label+(u?` (${u})`:"")}create(){this.domNode=f.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(f.addDisposableListener(this.domNode,f.EventType.CLICK,()=>this.showSelector()))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const m=f.getDomNodePagePosition(this.button.element);return{x:m.left+m.width,y:m.top+m.height}},getActions:()=>this.edits.allEdits.map((m,u)=>(0,E.toAction)({id:"",label:m.title,checked:u===this.edits.activeEditIndex,run:()=>{if(u!==this.edits.activeEditIndex)return this.onSelectNewEdit(u)}}))})}};t.baseId="editor.widget.postEditWidget",t=i=Ie([ue(7,_.IContextMenuService),ue(8,v.IContextKeyService),ue(9,s.IKeybindingService)],t);let n=class extends y.Disposable{constructor(m,u,d,r,l,o){super(),this._id=m,this._editor=u,this._visibleContext=d,this._showCommand=r,this._instantiationService=l,this._bulkEditService=o,this._currentWidget=this._register(new y.MutableDisposable),this._register(L.Event.any(u.onDidChangeModel,u.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(m,u,d,r,l){const o=this._editor.getModel();if(!o||!m.length)return;const g=u.allEdits.at(u.activeEditIndex);if(!g)return;const c=await r(g,l),b=(0,w.createCombinedWorkspaceEdit)(o.uri,m,c),C=m[0],S=o.deltaDecorations([],[{range:C,options:{description:"paste-line-suffix",stickiness:0}}]);let D,I;try{D=await this._bulkEditService.apply(b,{editor:this._editor,token:l}),I=o.getDecorationRange(S[0])}finally{o.deltaDecorations(S,[])}d&&D.isApplied&&u.allEdits.length>1&&this.show(I??C,u,async T=>{const N=this._editor.getModel();N&&(await N.undo(),this.applyEditAndShowIfNeeded(m,{activeEditIndex:T,allEdits:u.allEdits},d,r,l))})}show(m,u,d){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(t,this._id,this._editor,this._visibleContext,this._showCommand,m,u,d))}clear(){this._currentWidget.clear()}tryShowSelector(){var m;(m=this._currentWidget.value)===null||m===void 0||m.showSelector()}};e.PostEditWidgetManager=n,e.PostEditWidgetManager=n=Ie([ue(4,a.IInstantiationService),ue(5,p.IBulkEditService)],n)}),define(ie[365],ne([1,0,14]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function E(w,v,_){return{kind:2,commandId:w,commandArgs:v,isBubble:_}}class L{constructor(v,_,a){var s;this._log=a,this._defaultKeybindings=v,this._defaultBoundCommands=new Map;for(const i of v){const t=i.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=L.handleRemovals([].concat(v).concat(_));for(let i=0,t=this._keybindings.length;i<t;i++){const n=this._keybindings[i];if(n.chords.length===0)continue;const h=(s=n.when)===null||s===void 0?void 0:s.substituteConstants();h&&h.type===0||this._addKeyPress(n.chords[0],n)}}static _isTargetedForRemoval(v,_,a){if(_){for(let s=0;s<_.length;s++)if(_[s]!==v.chords[s])return!1}return!(a&&a.type!==1&&(!v.when||!(0,f.expressionsAreEqualWithConstantSubstitution)(a,v.when)))}static handleRemovals(v){const _=new Map;for(let s=0,i=v.length;s<i;s++){const t=v[s];if(t.command&&t.command.charAt(0)==="-"){const n=t.command.substring(1);_.has(n)?_.get(n).push(t):_.set(n,[t])}}if(_.size===0)return v;const a=[];for(let s=0,i=v.length;s<i;s++){const t=v[s];if(!t.command||t.command.length===0){a.push(t);continue}if(t.command.charAt(0)==="-")continue;const n=_.get(t.command);if(!n||!t.isDefault){a.push(t);continue}let h=!1;for(const m of n){const u=m.when;if(this._isTargetedForRemoval(t,m.chords,u)){h=!0;break}}if(!h){a.push(t);continue}}return a}_addKeyPress(v,_){const a=this._map.get(v);if(typeof a>"u"){this._map.set(v,[_]),this._addToLookupMap(_);return}for(let s=a.length-1;s>=0;s--){const i=a[s];if(i.command===_.command)continue;let t=!0;for(let n=1;n<i.chords.length&&n<_.chords.length;n++)if(i.chords[n]!==_.chords[n]){t=!1;break}t&&L.whenIsEntirelyIncluded(i.when,_.when)&&this._removeFromLookupMap(i)}a.push(_),this._addToLookupMap(_)}_addToLookupMap(v){if(!v.command)return;let _=this._lookupMap.get(v.command);typeof _>"u"?(_=[v],this._lookupMap.set(v.command,_)):_.push(v)}_removeFromLookupMap(v){if(!v.command)return;const _=this._lookupMap.get(v.command);if(!(typeof _>"u")){for(let a=0,s=_.length;a<s;a++)if(_[a]===v){_.splice(a,1);return}}}static whenIsEntirelyIncluded(v,_){return!_||_.type===1?!0:!v||v.type===1?!1:(0,f.implies)(v,_)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(v,_){const a=this._lookupMap.get(v);if(typeof a>"u"||a.length===0)return null;if(a.length===1)return a[0];for(let s=a.length-1;s>=0;s--){const i=a[s];if(_.contextMatchesRules(i.when))return i}return a[a.length-1]}resolve(v,_,a){const s=[..._,a];this._log(`| Resolving ${s}`);const i=this._map.get(s[0]);if(i===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let t=null;if(s.length<2)t=i;else{t=[];for(let h=0,m=i.length;h<m;h++){const u=i[h];if(s.length>u.chords.length)continue;let d=!0;for(let r=1;r<s.length;r++)if(u.chords[r]!==s[r]){d=!1;break}d&&t.push(u)}}const n=this._findCommand(v,t);return n?s.length<n.chords.length?(this._log(`\\ From ${t.length} keybinding entries, awaiting ${n.chords.length-s.length} more chord(s), when: ${y(n.when)}, source: ${p(n)}.`),k):(this._log(`\\ From ${t.length} keybinding entries, matched ${n.command}, when: ${y(n.when)}, source: ${p(n)}.`),E(n.command,n.commandArgs,n.bubble)):(this._log(`\\ From ${t.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(v,_){for(let a=_.length-1;a>=0;a--){const s=_[a];if(L._contextMatchesRules(v,s.when))return s}return null}static _contextMatchesRules(v,_){return _?_.evaluate(v):!0}}e.KeybindingResolver=L;function y(w){return w?`${w.serialize()}`:"no when condition"}function p(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(ie[813],ne([1,0,15,12,7,288,2,771,365]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const v=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class _ extends y.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:E.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(i,t,n,h,m){super(),this._contextKeyService=i,this._commandService=t,this._telemetryService=n,this._notificationService=h,this._logService=m,this._onDidUpdateKeybindings=this._register(new E.Emitter),this._currentChords=[],this._currentChordChecker=new f.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new f.TimeoutTimer,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,t){const n=this._getResolver().lookupPrimaryKeybinding(i,t||this._contextKeyService);if(n)return n.resolvedKeybinding}dispatchEvent(i,t){return this._dispatch(i,t)}softDispatch(i,t){this._log("/ Soft dispatching keyboard event");const n=this.resolveKeyboardEvent(i);if(n.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),w.NoMatchingKb;const[h]=n.getDispatchChords();if(h===null)return this._log("\\ Keyboard event cannot be dispatched"),w.NoMatchingKb;const m=this._contextKeyService.getContext(t),u=this._currentChords.map(({keypress:d})=>d);return this._getResolver().resolve(m,u,h)}_scheduleLeaveChordMode(){const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(i,t){switch(this._currentChords.push({keypress:i,label:t}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(p.localize(0,null,t));break;default:{const n=this._currentChords.map(({label:h})=>h).join(", ");this._currentChordStatusMessage=this._notificationService.status(p.localize(1,null,n))}}this._scheduleLeaveChordMode(),L.IME.enabled&&L.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],L.IME.enable()}_dispatch(i,t){return this._doDispatch(this.resolveKeyboardEvent(i),t,!1)}_singleModifierDispatch(i,t){const n=this.resolveKeyboardEvent(i),[h]=n.getSingleModifierDispatchChords();if(h)return this._ignoreSingleModifiers.has(h)?(this._log(`+ Ignoring single modifier ${h} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${h}.`),this._currentSingleModifier=h,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):h===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${h} ${h}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${h}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[m]=n.getChords();return this._ignoreSingleModifiers=new a(m),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,t,n=!1){var h;let m=!1;if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let u=null,d=null;if(n){const[g]=i.getSingleModifierDispatchChords();u=g,d=g?[g]:[]}else[u]=i.getDispatchChords(),d=this._currentChords.map(({keypress:g})=>g);if(u===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),m;const r=this._contextKeyService.getContext(t),l=i.getLabel(),o=this._getResolver().resolve(r,d,u);switch(o.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const g=this._currentChords.map(({label:c})=>c).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${g}, ${l}".`),this._notificationService.status(p.localize(2,null,g,l),{hideAfter:10*1e3}),this._leaveChordMode(),m=!0}return m}case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),m=!0,this._expectAnotherChord(u,l),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),m;case 2:{if(this._logService.trace("KeybindingService#dispatch",l,`[ Will dispatch command ${o.commandId} ]`),o.commandId===null||o.commandId===""){if(this.inChordMode){const g=this._currentChords.map(({label:c})=>c).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${g}, ${l}".`),this._notificationService.status(p.localize(3,null,g,l),{hideAfter:10*1e3}),this._leaveChordMode(),m=!0}}else{this.inChordMode&&this._leaveChordMode(),o.isBubble||(m=!0),this._log(`+ Invoking command ${o.commandId}.`),this._currentlyDispatchingCommandId=o.commandId;try{typeof o.commandArgs>"u"?this._commandService.executeCommand(o.commandId).then(void 0,g=>this._notificationService.warn(g)):this._commandService.executeCommand(o.commandId,o.commandArgs).then(void 0,g=>this._notificationService.warn(g))}finally{this._currentlyDispatchingCommandId=null}v.test(o.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:o.commandId,from:"keybinding",detail:(h=i.getUserSettingsLabel())!==null&&h!==void 0?h:void 0})}return m}}}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=_;class a{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}a.EMPTY=new a(null)}),define(ie[366],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybindingItem=void 0,e.toEmptyArrayIfContainsNull=k;class f{constructor(L,y,p,w,v,_,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=L,this.chords=L?k(L.getDispatchChords()):[],L&&this.chords.length===0&&(this.chords=k(L.getSingleModifierDispatchChords())),this.bubble=y?y.charCodeAt(0)===94:!1,this.command=this.bubble?y.substr(1):y,this.commandArgs=p,this.when=w,this.isDefault=v,this.extensionId=_,this.isBuiltinExtension=a}}e.ResolvedKeybindingItem=f;function k(E){const L=[];for(let y=0,p=E.length;y<p;y++){const w=E[y];if(!w)return[];L.push(w)}return L}}),define(ie[814],ne([1,0,69,133,812,366]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class y extends E.BaseResolvedKeybinding{constructor(w,v){super(v,w)}_keyCodeToUILabel(w){if(this._os===2)switch(w){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return f.KeyCodeUtils.toString(w)}_getLabel(w){return w.isDuplicateModifierCase()?"":this._keyCodeToUILabel(w.keyCode)}_getAriaLabel(w){return w.isDuplicateModifierCase()?"":f.KeyCodeUtils.toString(w.keyCode)}_getElectronAccelerator(w){return f.KeyCodeUtils.toElectronAccelerator(w.keyCode)}_getUserSettingsLabel(w){if(w.isDuplicateModifierCase())return"";const v=f.KeyCodeUtils.toUserSettingsUS(w.keyCode);return v&&v.toLowerCase()}_getChordDispatch(w){return y.getDispatchStr(w)}static getDispatchStr(w){if(w.isModifierKey())return null;let v="";return w.ctrlKey&&(v+="ctrl+"),w.shiftKey&&(v+="shift+"),w.altKey&&(v+="alt+"),w.metaKey&&(v+="meta+"),v+=f.KeyCodeUtils.toString(w.keyCode),v}_getSingleModifierChordDispatch(w){return w.keyCode===5&&!w.shiftKey&&!w.altKey&&!w.metaKey?"ctrl":w.keyCode===4&&!w.ctrlKey&&!w.altKey&&!w.metaKey?"shift":w.keyCode===6&&!w.ctrlKey&&!w.shiftKey&&!w.metaKey?"alt":w.keyCode===57&&!w.ctrlKey&&!w.shiftKey&&!w.altKey?"meta":null}static _scanCodeToKeyCode(w){const v=f.IMMUTABLE_CODE_TO_KEY_CODE[w];if(v!==-1)return v;switch(w){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(w){if(!w)return null;if(w instanceof k.KeyCodeChord)return w;const v=this._scanCodeToKeyCode(w.scanCode);return v===0?null:new k.KeyCodeChord(w.ctrlKey,w.shiftKey,w.altKey,w.metaKey,v)}static resolveKeybinding(w,v){const _=(0,L.toEmptyArrayIfContainsNull)(w.chords.map(a=>this._toKeyCodeChord(a)));return _.length>0?[new y(_,v)]:[]}}e.USLayoutResolvedKeybinding=y}),define(ie[172],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,f.createDecorator)("labelService")}),define(ie[113],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,f.createDecorator)("layoutService")}),define(ie[367],ne([1,0,6,52,13,7,36,46,113]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let v=class{get mainContainer(){var s,i;return(i=(s=(0,E.firstOrDefault)(this._codeEditorService.listCodeEditors()))===null||s===void 0?void 0:s.getContainerDomNode())!==null&&i!==void 0?i:k.mainWindow.document.body}get activeContainer(){var s,i;const t=(s=this._codeEditorService.getFocusedCodeEditor())!==null&&s!==void 0?s:this._codeEditorService.getActiveCodeEditor();return(i=t?.getContainerDomNode())!==null&&i!==void 0?i:this.mainContainer}get mainContainerDimension(){return f.getClientArea(this.mainContainer)}get activeContainerDimension(){return f.getClientArea(this.activeContainer)}get containers(){return(0,E.coalesce)(this._codeEditorService.listCodeEditors().map(s=>s.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var s;(s=this._codeEditorService.getFocusedCodeEditor())===null||s===void 0||s.focus()}constructor(s){this._codeEditorService=s,this.onDidLayoutMainContainer=L.Event.None,this.onDidLayoutActiveContainer=L.Event.None,this.onDidLayoutContainer=L.Event.None,this.onDidChangeActiveContainer=L.Event.None,this.onDidAddContainer=L.Event.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};v=Ie([ue(0,y.ICodeEditorService)],v);let _=class extends v{get mainContainer(){return this._container}constructor(s,i){super(i),this._container=s}};e.EditorScopedLayoutService=_,e.EditorScopedLayoutService=_=Ie([ue(1,y.ICodeEditorService)],_),(0,p.registerSingleton)(w.ILayoutService,v,1)}),define(ie[815],ne([1,0,6,52,7,2,68,25,14,113]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let _=class extends L.Disposable{constructor(s,i,t){super(),this._contextKeyService=s,this._layoutService=i,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new E.Emitter,this._onDidChangeReducedMotion=new E.Emitter,this._accessibilityModeEnabledContext=y.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),m.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),n(),this._register(this.onDidChangeScreenReaderOptimized(()=>n()));const h=k.mainWindow.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=h.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(h)}initReducedMotionListeners(s){this._register((0,f.addDisposableListener)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const t=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",t),this._layoutService.mainContainer.classList.toggle("enable-motion",!t)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=_,e.AccessibilityService=_=Ie([ue(0,w.IContextKeyService),ue(1,v.ILayoutService),ue(2,p.IConfigurationService)],_)}),define(ie[368],ne([1,0,336,2,113,6]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=e.ContextViewHandler=void 0;let y=class extends k.Disposable{constructor(v){super(),this.layoutService=v,this.currentViewDisposable=this._register(new k.MutableDisposable),this.contextView=this._register(new f.ContextView(this.layoutService.mainContainer,1)),this.layout(),this._register(v.onDidLayoutContainer(()=>this.layout()))}showContextView(v,_,a){let s;_?_===this.layoutService.getContainer((0,L.getWindow)(_))?s=1:a?s=3:s=2:s=1,this.contextView.setContainer(_??this.layoutService.activeContainer,s),this.contextView.show(v);const i=(0,k.toDisposable)(()=>{this.currentViewDisposable===i&&this.hideContextView()});return this.currentViewDisposable.value=i,i}layout(){this.contextView.layout()}hideContextView(v){this.contextView.hide(v)}};e.ContextViewHandler=y,e.ContextViewHandler=y=Ie([ue(0,E.ILayoutService)],y);class p extends y{getContextViewElement(){return this.contextView.getViewElement()}}e.ContextViewService=p}),define(ie[61],ne([1,0,7,2,14,8]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.LogLevelToString=_,e.ILogService=(0,L.createDecorator)("logService");var y;(function(a){a[a.Off=0]="Off",a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error"})(y||(e.LogLevel=y={})),e.DEFAULT_LOG_LEVEL=y.Info;class p extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new f.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(s){this.level!==s&&(this.level=s,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(s){return this.level!==y.Off&&this.level<=s}}e.AbstractLogger=p;class w extends p{constructor(s=e.DEFAULT_LOG_LEVEL,i=!0){super(),this.useColors=i,this.setLevel(s)}trace(s,...i){this.checkLogLevel(y.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",s,...i):console.log(s,...i))}debug(s,...i){this.checkLogLevel(y.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",s,...i):console.log(s,...i))}info(s,...i){this.checkLogLevel(y.Info)&&(this.useColors?console.log("%c INFO","color: #33f",s,...i):console.log(s,...i))}warn(s,...i){this.checkLogLevel(y.Warning)&&(this.useColors?console.log("%c WARN","color: #993",s,...i):console.log(s,...i))}error(s,...i){this.checkLogLevel(y.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",s,...i):console.error(s,...i))}}e.ConsoleLogger=w;class v extends p{constructor(s){super(),this.loggers=s,s.length&&this.setLevel(s[0].getLevel())}setLevel(s){for(const i of this.loggers)i.setLevel(s);super.setLevel(s)}trace(s,...i){for(const t of this.loggers)t.trace(s,...i)}debug(s,...i){for(const t of this.loggers)t.debug(s,...i)}info(s,...i){for(const t of this.loggers)t.info(s,...i)}warn(s,...i){for(const t of this.loggers)t.warn(s,...i)}error(s,...i){for(const t of this.loggers)t.error(s,...i)}dispose(){for(const s of this.loggers)s.dispose();super.dispose()}}e.MultiplexLogger=v;function _(a){switch(a){case y.Trace:return"trace";case y.Debug:return"debug";case y.Info:return"info";case y.Warning:return"warn";case y.Error:return"error";case y.Off:return"off"}}e.CONTEXT_LOG_LEVEL=new E.RawContextKey("logLevel",_(y.Info))}),define(ie[203],ne([1,0,62,6,89,48,283,15,7,2,120,11,298,24,68,61]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var h;(function(l){l.Tap="-monaco-textarea-synthetic-tap"})(h||(e.TextAreaSyntethicEvents=h={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class m{constructor(){this._lastState=null}set(o,g){this._lastState={lastCopiedValue:o,data:g}}get(o){return this._lastState&&this._lastState.lastCopiedValue===o?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=m,m.INSTANCE=new m;class u{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(o){o=o||"";const g={text:o,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=o.length,g}}let d=class extends v.Disposable{get textAreaState(){return this._textAreaState}constructor(o,g,c,b,C,S){super(),this._host=o,this._textArea=g,this._OS=c,this._browser=b,this._accessibilityService=C,this._logService=S,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new v.MutableDisposable),this._asyncTriggerCut=this._register(new p.RunOnceScheduler(()=>this._onCut.fire(),0)),this._textAreaState=s.TextAreaState.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(w.Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new p.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let D=null;this._register(this._textArea.onKeyDown(I=>{const T=new L.StandardKeyboardEvent(I);(T.keyCode===114||this._currentComposition&&T.keyCode===1)&&T.stopPropagation(),T.equals(9)&&T.preventDefault(),D=T,this._onKeyDown.fire(T)})),this._register(this._textArea.onKeyUp(I=>{const T=new L.StandardKeyboardEvent(I);this._onKeyUp.fire(T)})),this._register(this._textArea.onCompositionStart(I=>{s._debugComposition&&console.log("[compositionstart]",I);const T=new u;if(this._currentComposition){this._currentComposition=T;return}if(this._currentComposition=T,this._OS===2&&D&&D.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===I.data&&(D.code==="ArrowRight"||D.code==="ArrowLeft")){s._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",I),T.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:I.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:I.data});return}this._onCompositionStart.fire({data:I.data})})),this._register(this._textArea.onCompositionUpdate(I=>{s._debugComposition&&console.log("[compositionupdate]",I);const T=this._currentComposition;if(!T)return;if(this._browser.isAndroid){const A=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),P=s.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(P),this._onCompositionUpdate.fire(I);return}const N=T.handleCompositionUpdate(I.data);this._textAreaState=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionUpdate.fire(I)})),this._register(this._textArea.onCompositionEnd(I=>{s._debugComposition&&console.log("[compositionend]",I);const T=this._currentComposition;if(!T)return;if(this._currentComposition=null,this._browser.isAndroid){const A=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),P=s.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(P),this._onCompositionEnd.fire();return}const N=T.handleCompositionUpdate(I.data);this._textAreaState=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(I=>{if(s._debugComposition&&console.log("[input]",I),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const T=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),N=s.TextAreaState.deduceInput(this._textAreaState,T,this._OS===2);N.replacePrevCharCnt===0&&N.text.length===1&&(a.isHighSurrogate(N.text.charCodeAt(0))||N.text.charCodeAt(0)===127)||(this._textAreaState=T,(N.text!==""||N.replacePrevCharCnt!==0||N.replaceNextCharCnt!==0||N.positionDelta!==0)&&this._onType.fire(N))})),this._register(this._textArea.onCut(I=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(I),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(I=>{this._ensureClipboardGetsEditorSelection(I)})),this._register(this._textArea.onPaste(I=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),I.preventDefault(),!I.clipboardData)return;let[T,N]=e.ClipboardEventUtils.getTextData(I.clipboardData);T&&(N=N||m.INSTANCE.get(T),this._onPaste.fire({text:T,metadata:N}))})),this._register(this._textArea.onFocus(()=>{const I=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!I&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new p.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let o=0;return k.addDisposableListener(this._textArea.ownerDocument,"selectionchange",g=>{if(y.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const c=Date.now(),b=c-o;if(o=c,b<5)return;const C=c-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),C<100||!this._textAreaState.selection)return;const S=this._textArea.getValue();if(this._textAreaState.value!==S)return;const D=this._textArea.getSelectionStart(),I=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===D&&this._textAreaState.selectionEnd===I)return;const T=this._textAreaState.deduceEditorPosition(D),N=this._host.deduceModelPosition(T[0],T[1],T[2]),A=this._textAreaState.deduceEditorPosition(I),P=this._host.deduceModelPosition(A[0],A[1],A[2]),M=new i.Selection(N.lineNumber,N.column,P.lineNumber,P.column);this._onSelectionChangeRequest.fire(M)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(o){this._hasFocus!==o&&(this._hasFocus=o,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(o,g){this._hasFocus||(g=g.collapseSelection()),g.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=g}writeNativeTextAreaContent(o){!this._accessibilityService.isScreenReaderOptimized()&&o==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${o})`),this._setAndWriteTextAreaState(o,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(o){const g=this._host.getDataToCopy(),c={version:1,isFromEmptySelection:g.isFromEmptySelection,multicursorText:g.multicursorText,mode:g.mode};m.INSTANCE.set(this._browser.isFirefox?g.text.replace(/\r\n/g,`
`):g.text,c),o.preventDefault(),o.clipboardData&&e.ClipboardEventUtils.setTextData(o.clipboardData,g.text,g.html,c)}};e.TextAreaInput=d,e.TextAreaInput=d=Ie([ue(4,t.IAccessibilityService),ue(5,n.ILogService)],d),e.ClipboardEventUtils={getTextData(l){const o=l.getData(_.Mimes.text);let g=null;const c=l.getData("vscode-editor-data");if(typeof c=="string")try{g=JSON.parse(c),g.version!==1&&(g=null)}catch{}return o.length===0&&g===null&&l.files.length>0?[Array.prototype.slice.call(l.files,0).map(C=>C.name).join(`
`),null]:[o,g]},setTextData(l,o,g,c){l.setData(_.Mimes.text,o),typeof g=="string"&&l.setData("text/html",g),l.setData("vscode-editor-data",JSON.stringify(c))}};class r extends v.Disposable{get ownerDocument(){return this._actual.ownerDocument}constructor(o){super(),this._actual=o,this.onKeyDown=this._register(new E.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new E.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new E.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new E.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new E.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new E.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new E.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new E.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new E.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new E.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new E.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new E.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new w.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>y.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>y.inputLatency.onBeforeInput())),this._register(this.onInput(()=>y.inputLatency.onInput())),this._register(this.onKeyUp(()=>y.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,h.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const o=k.getShadowRoot(this._actual);return o?o.activeElement===this._actual:this._actual.isConnected?k.getActiveElement()===this._actual:!1}setIgnoreSelectionChangeTime(o){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(o,g){const c=this._actual;c.value!==g&&(this.setIgnoreSelectionChangeTime("setValue"),c.value=g)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(o,g,c){const b=this._actual;let C=null;const S=k.getShadowRoot(b);S?C=S.activeElement:C=k.getActiveElement();const D=k.getWindow(C),I=C===b,T=b.selectionStart,N=b.selectionEnd;if(I&&T===g&&N===c){f.isFirefox&&D.parent!==D&&b.focus();return}if(I){this.setIgnoreSelectionChangeTime("setSelectionRange"),b.setSelectionRange(g,c),f.isFirefox&&D.parent!==D&&b.focus();return}try{const A=k.saveParentsScrollTop(b);this.setIgnoreSelectionChangeTime("setSelectionRange"),b.focus(),b.setSelectionRange(g,c),k.restoreParentsScrollTop(b,A)}catch{}}}e.TextAreaWrapper=r}),define(ie[83],ne([1,0,121,47,134,259,46,8,61,49]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,p.createDecorator)("ILanguageFeatureDebounceService");var _;(function(t){const n=new WeakMap;let h=0;function m(u){let d=n.get(u);return d===void 0&&(d=++h,n.set(u,d)),d}t.of=m})(_||(_={}));class a{constructor(n){this._default=n}get(n){return this._default}update(n,h){return this._default}default(){return this._default}}class s{constructor(n,h,m,u,d,r){this._logService=n,this._name=h,this._registry=m,this._default=u,this._min=d,this._max=r,this._cache=new k.LRUCache(50,.7)}_key(n){return n.id+this._registry.all(n).reduce((h,m)=>(0,f.doHash)(_.of(m),h),0)}get(n){const h=this._key(n),m=this._cache.get(h);return m?(0,E.clamp)(m.value,this._min,this._max):this.default()}update(n,h){const m=this._key(n);let u=this._cache.get(m);u||(u=new E.SlidingWindowAverage(6),this._cache.set(m,u));const d=(0,E.clamp)(u.update(h),this._min,this._max);return(0,v.matchesScheme)(n.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${n.uri.toString()} is ${d}ms`),d}_overall(){const n=new E.MovingAverage;for(const[,h]of this._cache)n.update(h.value);return n.value}default(){const n=this._overall()|0||this._default;return(0,E.clamp)(n,this._min,this._max)}}let i=class{constructor(n,h){this._logService=n,this._data=new Map,this._isDev=h.isExtensionDevelopment||!h.isBuilt}for(n,h,m){var u,d,r;const l=(u=m?.min)!==null&&u!==void 0?u:50,o=(d=m?.max)!==null&&d!==void 0?d:l**2,g=(r=m?.key)!==null&&r!==void 0?r:void 0,c=`${_.of(n)},${l}${g?","+g:""}`;let b=this._data.get(c);return b||(this._isDev?b=new s(this._logService,h,n,this._overallAverage()|0||l*1.5,l,o):(this._logService.debug(`[DEBOUNCE: ${h}] is disabled in developed mode`),b=new a(l*1.5)),this._data.set(c,b)),b}_overallAverage(){const n=new E.MovingAverage;for(const h of this._data.values())n.update(h.default());return n.value}};e.LanguageFeatureDebounceService=i,e.LanguageFeatureDebounceService=i=Ie([ue(0,w.ILogService),ue(1,L.IEnvironmentService)],i),(0,y.registerSingleton)(e.ILanguageFeatureDebounceService,i,1)}),define(ie[173],ne([1,0,13,19,12,54,47,9,5,83,8,46,53,2,18]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class n{remove(){var l;(l=this.parent)===null||l===void 0||l.children.delete(this.id)}static findId(l,o){let g;typeof l=="string"?g=`${o.id}/${l}`:(g=`${o.id}/${l.name}`,o.children.get(g)!==void 0&&(g=`${o.id}/${l.name}_${l.range.startLineNumber}_${l.range.startColumn}`));let c=g;for(let b=0;o.children.get(c)!==void 0;b++)c=`${g}_${b}`;return c}static empty(l){return l.children.size===0}}e.TreeElement=n;class h extends n{constructor(l,o,g){super(),this.id=l,this.parent=o,this.symbol=g,this.children=new Map}}e.OutlineElement=h;class m extends n{constructor(l,o,g,c){super(),this.id=l,this.parent=o,this.label=g,this.order=c,this.children=new Map}}e.OutlineGroup=m;class u extends n{static create(l,o,g){const c=new k.CancellationTokenSource(g),b=new u(o.uri),C=l.ordered(o),S=C.map((I,T)=>{var N;const A=n.findId(`provider_${T}`,b),P=new m(A,b,(N=I.displayName)!==null&&N!==void 0?N:"Unknown Outline Provider",T);return Promise.resolve(I.provideDocumentSymbols(o,c.token)).then(M=>{for(const R of M||[])u._makeOutlineElement(R,P);return P},M=>((0,E.onUnexpectedExternalError)(M),P)).then(M=>{n.empty(M)?M.remove():b._groups.set(A,M)})}),D=l.onDidChange(()=>{const I=l.ordered(o);(0,f.equals)(I,C)||c.cancel()});return Promise.all(S).then(()=>c.token.isCancellationRequested&&!g.isCancellationRequested?u.create(l,o,g):b._compact()).finally(()=>{c.dispose(),D.dispose(),c.dispose()})}static _makeOutlineElement(l,o){const g=n.findId(l,o),c=new h(g,o,l);if(l.children)for(const b of l.children)u._makeOutlineElement(b,c);o.children.set(c.id,c)}constructor(l){super(),this.uri=l,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let l=0;for(const[o,g]of this._groups)g.children.size===0?this._groups.delete(o):l+=1;if(l!==1)this.children=this._groups;else{const o=L.Iterable.first(this._groups.values());for(const[,g]of o.children)g.parent=this,this.children.set(g.id,g)}return this}getTopLevelSymbols(){const l=[];for(const o of this.children.values())o instanceof h?l.push(o.symbol):l.push(...L.Iterable.map(o.children.values(),g=>g.symbol));return l.sort((o,g)=>w.Range.compareRangesUsingStarts(o.range,g.range))}asListOfDocumentSymbols(){const l=this.getTopLevelSymbols(),o=[];return u._flattenDocumentSymbols(o,l,""),o.sort((g,c)=>p.Position.compare(w.Range.getStartPosition(g.range),w.Range.getStartPosition(c.range))||p.Position.compare(w.Range.getEndPosition(c.range),w.Range.getEndPosition(g.range)))}static _flattenDocumentSymbols(l,o,g){for(const c of o)l.push({kind:c.kind,tags:c.tags,name:c.name,detail:c.detail,containerName:c.containerName||g,range:c.range,selectionRange:c.selectionRange,children:void 0}),c.children&&u._flattenDocumentSymbols(l,c.children,c.name)}}e.OutlineModel=u,e.IOutlineModelService=(0,_.createDecorator)("IOutlineModelService");let d=class{constructor(l,o,g){this._languageFeaturesService=l,this._disposables=new i.DisposableStore,this._cache=new y.LRUCache(10,.7),this._debounceInformation=o.for(l.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(g.onModelRemoved(c=>{this._cache.delete(c.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(l,o){const g=this._languageFeaturesService.documentSymbolProvider,c=g.ordered(l);let b=this._cache.get(l.id);if(!b||b.versionId!==l.getVersionId()||!(0,f.equals)(b.provider,c)){const S=new k.CancellationTokenSource;b={versionId:l.getVersionId(),provider:c,promiseCnt:0,source:S,promise:u.create(g,l,S.token),model:void 0},this._cache.set(l.id,b);const D=Date.now();b.promise.then(I=>{b.model=I,this._debounceInformation.update(l,Date.now()-D)}).catch(I=>{this._cache.delete(l.id)})}if(b.model)return b.model;b.promiseCnt+=1;const C=o.onCancellationRequested(()=>{--b.promiseCnt===0&&(b.source.cancel(),this._cache.delete(l.id))});try{return await b.promise}finally{C.dispose()}}};e.OutlineModelService=d,e.OutlineModelService=d=Ie([ue(0,t.ILanguageFeaturesService),ue(1,v.ILanguageFeatureDebounceService),ue(2,s.IModelService)],d),(0,a.registerSingleton)(e.IOutlineModelService,d,1)}),define(ie[816],ne([1,0,13,30,359,82,18,173,2,7]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let _=class extends w.Disposable{constructor(s,i,t){super(),this._textModel=s,this._languageFeaturesService=i,this._outlineModelService=t,this._currentModel=(0,k.observableValue)(this,void 0);const n=(0,k.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),h=(0,k.observableSignalFromEvent)("_textModel.onDidChangeContent",v.Event.debounce(m=>this._textModel.onDidChangeContent(m),()=>{},100));this._register((0,k.autorunWithStore)(async(m,u)=>{n.read(m),h.read(m);const d=u.add(new L.DisposableCancellationTokenSource),r=await this._outlineModelService.getOrCreate(this._textModel,d.token);u.isDisposed||this._currentModel.set(r,void 0)}))}getBreadcrumbItems(s,i){const t=this._currentModel.read(i);if(!t)return[];const n=t.asListOfDocumentSymbols().filter(h=>s.contains(h.range.startLineNumber)&&!s.contains(h.range.endLineNumber));return n.sort((0,f.reverseOrder)((0,f.compareBy)(h=>h.range.endLineNumber-h.range.startLineNumber,f.numberComparator))),n.map(h=>({name:h.name,kind:h.kind,startLineNumber:h.range.startLineNumber}))}};_=Ie([ue(1,y.ILanguageFeaturesService),ue(2,p.IOutlineModelService)],_),E.HideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((a,s)=>s.createInstance(_,a))}),define(ie[817],ne([1,0,19,21,22,74,173,27]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",async function(w,...v){const[_]=v;(0,k.assertType)(E.URI.isUri(_));const a=w.get(y.IOutlineModelService),i=await w.get(L.ITextModelService).createModelReference(_);try{return(await a.getOrCreate(i.object.textEditorModel,f.CancellationToken.None)).getTopLevelSymbols()}finally{i.dispose()}})}),define(ie[818],ne([1,0,62,6,52,15,7,121,2,113,61]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let s=a=class extends w.Disposable{constructor(t,n){super(),this.layoutService=t,this.logService=n,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(f.isSafari||f.isWebkitWebView)&&this.installWebKitWriteTextWorkaround(),this._register(y.Event.runAndSubscribe(k.onDidRegisterWindow,({window:h,disposables:m})=>{m.add((0,k.addDisposableListener)(h.document,"copy",()=>this.clearResources()))},{window:E.mainWindow,disposables:this._store}))}installWebKitWriteTextWorkaround(){const t=()=>{const n=new L.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=n,navigator.clipboard.write([new ClipboardItem({"text/plain":n.p})]).catch(async h=>{(!(h instanceof Error)||h.name!=="NotAllowedError"||!n.isRejected)&&this.logService.error(h)})};this._register(y.Event.runAndSubscribe(this.layoutService.onDidAddContainer,({container:n,disposables:h})=>{h.add((0,k.addDisposableListener)(n,"click",t)),h.add((0,k.addDisposableListener)(n,"keydown",t))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(t,n){if(this.writeResources([]),n){this.mapTextToType.set(n,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return await navigator.clipboard.writeText(t)}catch(h){console.error(h)}this.fallbackWriteText(t)}fallbackWriteText(t){const n=(0,k.getActiveDocument)(),h=n.activeElement,m=n.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));m.style.height="1px",m.style.width="1px",m.style.position="absolute",m.value=t,m.focus(),m.select(),n.execCommand("copy"),h instanceof HTMLElement&&h.focus(),n.body.removeChild(m)}async readText(t){if(t)return this.mapTextToType.get(t)||"";try{return await navigator.clipboard.readText()}catch(n){console.error(n)}return""}async readFindText(){return this.findText}async writeFindText(t){this.findText=t}async writeResources(t){t.length===0?this.clearResources():(this.resources=t,this.resourcesStateHash=await this.computeResourcesStateHash())}async readResources(){const t=await this.computeResourcesStateHash();return this.resourcesStateHash!==t&&this.clearResources(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const t=await this.readText();return(0,p.hash)(t.substring(0,a.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};e.BrowserClipboardService=s,s.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,e.BrowserClipboardService=s=a=Ie([ue(0,v.ILayoutService),ue(1,_.ILogService)],s)}),define(ie[819],ne([1,0,2,61]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class E extends f.Disposable{constructor(y,p=[]){super(),this.logger=new k.MultiplexLogger([y,...p]),this._register(y.onDidChangeLogLevel(w=>this.setLevel(w)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(y){this.logger.setLevel(y)}getLevel(){return this.logger.getLevel()}trace(y,...p){this.logger.trace(y,...p)}debug(y,...p){this.logger.debug(y,...p)}info(y,...p){this.logger.info(y,...p)}warn(y,...p){this.logger.warn(y,...p)}error(y,...p){this.logger.error(y,...p)}}e.LogService=E}),define(ie[104],ne([1,0,107,773,8]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var L;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(L||(e.MarkerSeverity=L={})),function(p){function w(i,t){return t-i}p.compare=w;const v=Object.create(null);v[p.Error]=(0,k.localize)(0,null),v[p.Warning]=(0,k.localize)(1,null),v[p.Info]=(0,k.localize)(2,null);function _(i){return v[i]||""}p.toString=_;function a(i){switch(i){case f.default.Error:return p.Error;case f.default.Warning:return p.Warning;case f.default.Info:return p.Info;case f.default.Ignore:return p.Hint}}p.fromSeverity=a;function s(i){switch(i){case p.Error:return f.default.Error;case p.Warning:return f.default.Warning;case p.Info:return f.default.Info;case p.Hint:return f.default.Ignore}}p.toSeverity=s}(L||(e.MarkerSeverity=L={}));var y;(function(p){const w="";function v(a){return _(a,!0)}p.makeKey=v;function _(a,s){const i=[w];return a.source?i.push(a.source.replace("\xA6","\\\xA6")):i.push(w),a.code?typeof a.code=="string"?i.push(a.code.replace("\xA6","\\\xA6")):i.push(a.code.value.replace("\xA6","\\\xA6")):i.push(w),a.severity!==void 0&&a.severity!==null?i.push(L.toString(a.severity)):i.push(w),a.message&&s?i.push(a.message.replace("\xA6","\\\xA6")):i.push(w),a.startLineNumber!==void 0&&a.startLineNumber!==null?i.push(a.startLineNumber.toString()):i.push(w),a.startColumn!==void 0&&a.startColumn!==null?i.push(a.startColumn.toString()):i.push(w),a.endLineNumber!==void 0&&a.endLineNumber!==null?i.push(a.endLineNumber.toString()):i.push(w),a.endColumn!==void 0&&a.endColumn!==null?i.push(a.endColumn.toString()):i.push(w),i.push(w),i.join("\xA6")}p.makeKeyOptionalMessage=_})(y||(e.IMarkerData=y={})),e.IMarkerService=(0,E.createDecorator)("markerService")}),define(ie[820],ne([1,0,13,7,2,70,11,22,5,46,8,104,25]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class i{constructor(m,u,d){this.marker=m,this.index=u,this.total=d}}e.MarkerCoordinate=i;let t=class{constructor(m,u,d){this._markerService=u,this._configService=d,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new E.DisposableStore,this._markers=[],this._nextIdx=-1,p.URI.isUri(m)?this._resourceFilter=g=>g.toString()===m.toString():m&&(this._resourceFilter=m);const r=this._configService.getValue("problems.sortOrder"),l=(g,c)=>{let b=(0,y.compare)(g.resource.toString(),c.resource.toString());return b===0&&(r==="position"?b=w.Range.compareRangesUsingStarts(g,c)||a.MarkerSeverity.compare(g.severity,c.severity):b=a.MarkerSeverity.compare(g.severity,c.severity)||w.Range.compareRangesUsingStarts(g,c)),b},o=()=>{this._markers=this._markerService.read({resource:p.URI.isUri(m)?m:void 0,severities:a.MarkerSeverity.Error|a.MarkerSeverity.Warning|a.MarkerSeverity.Info}),typeof m=="function"&&(this._markers=this._markers.filter(g=>this._resourceFilter(g.resource))),this._markers.sort(l)};o(),this._dispoables.add(u.onMarkerChanged(g=>{(!this._resourceFilter||g.some(c=>this._resourceFilter(c)))&&(o(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(m){return!this._resourceFilter&&!m?!0:!this._resourceFilter||!m?!1:this._resourceFilter(m)}get selected(){const m=this._markers[this._nextIdx];return m&&new i(m,this._nextIdx+1,this._markers.length)}_initIdx(m,u,d){let r=!1,l=this._markers.findIndex(o=>o.resource.toString()===m.uri.toString());l<0&&(l=(0,f.binarySearch)(this._markers,{resource:m.uri},(o,g)=>(0,y.compare)(o.resource.toString(),g.resource.toString())),l<0&&(l=~l));for(let o=l;o<this._markers.length;o++){let g=w.Range.lift(this._markers[o]);if(g.isEmpty()){const c=m.getWordAtPosition(g.getStartPosition());c&&(g=new w.Range(g.startLineNumber,c.startColumn,g.startLineNumber,c.endColumn))}if(u&&(g.containsPosition(u)||u.isBeforeOrEqual(g.getStartPosition()))){this._nextIdx=o,r=!0;break}if(this._markers[o].resource.toString()!==m.uri.toString())break}r||(this._nextIdx=d?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(m,u,d){if(this._markers.length===0)return!1;const r=this._nextIdx;return this._nextIdx===-1?this._initIdx(u,d,m):m?this._nextIdx=(this._nextIdx+1)%this._markers.length:m||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(m,u){let d=this._markers.findIndex(r=>r.resource.toString()===m.toString());if(!(d<0)){for(;d<this._markers.length;d++)if(w.Range.containsPosition(this._markers[d],u))return new i(this._markers[d],d+1,this._markers.length)}}};e.MarkerList=t,e.MarkerList=t=Ie([ue(1,a.IMarkerService),ue(2,s.IConfigurationService)],t),e.IMarkerNavigationService=(0,_.createDecorator)("IMarkerNavigationService");let n=class{constructor(m,u){this._markerService=m,this._configService=u,this._provider=new L.LinkedList}getMarkerList(m){for(const u of this._provider){const d=u.getMarkerList(m);if(d)return d}return new t(m,this._markerService,this._configService)}};n=Ie([ue(0,a.IMarkerService),ue(1,s.IConfigurationService)],n),(0,v.registerSingleton)(e.IMarkerNavigationService,n,1)}),define(ie[821],ne([1,0,13,7,54,47,49,22,104]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([y.Schemas.inMemory,y.Schemas.vscodeSourceControl,y.Schemas.walkThrough,y.Schemas.walkThroughSnippet,y.Schemas.vscodeChatCodeBlock]);class v{constructor(){this._byResource=new L.ResourceMap,this._byOwner=new Map}set(i,t,n){let h=this._byResource.get(i);h||(h=new Map,this._byResource.set(i,h)),h.set(t,n);let m=this._byOwner.get(t);m||(m=new L.ResourceMap,this._byOwner.set(t,m)),m.set(i,n)}get(i,t){const n=this._byResource.get(i);return n?.get(t)}delete(i,t){let n=!1,h=!1;const m=this._byResource.get(i);m&&(n=m.delete(t));const u=this._byOwner.get(t);if(u&&(h=u.delete(i)),n!==h)throw new Error("illegal state");return n&&h}values(i){var t,n,h,m;return typeof i=="string"?(n=(t=this._byOwner.get(i))===null||t===void 0?void 0:t.values())!==null&&n!==void 0?n:E.Iterable.empty():p.URI.isUri(i)?(m=(h=this._byResource.get(i))===null||h===void 0?void 0:h.values())!==null&&m!==void 0?m:E.Iterable.empty():E.Iterable.map(E.Iterable.concat(...this._byOwner.values()),u=>u[1])}}class _{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new L.ResourceMap,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const t of i){const n=this._data.get(t);n&&this._substract(n);const h=this._resourceStats(t);this._add(h),this._data.set(t,h)}}_resourceStats(i){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(i.scheme))return t;for(const{severity:n}of this._service.read({resource:i}))n===w.MarkerSeverity.Error?t.errors+=1:n===w.MarkerSeverity.Warning?t.warnings+=1:n===w.MarkerSeverity.Info?t.infos+=1:t.unknowns+=1;return t}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class a{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:a._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new v,this._stats=new _(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,t){for(const n of t||[])this.changeOne(i,n,[])}changeOne(i,t,n){if((0,f.isFalsyOrEmpty)(n))this._data.delete(t,i)&&this._onMarkerChanged.fire([t]);else{const h=[];for(const m of n){const u=a._toMarker(i,t,m);u&&h.push(u)}this._data.set(t,i,h),this._onMarkerChanged.fire([t])}}static _toMarker(i,t,n){let{code:h,severity:m,message:u,source:d,startLineNumber:r,startColumn:l,endLineNumber:o,endColumn:g,relatedInformation:c,tags:b}=n;if(u)return r=r>0?r:1,l=l>0?l:1,o=o>=r?o:r,g=g>0?g:l,{resource:t,owner:i,code:h,severity:m,message:u,source:d,startLineNumber:r,startColumn:l,endLineNumber:o,endColumn:g,relatedInformation:c,tags:b}}changeAll(i,t){const n=[],h=this._data.values(i);if(h)for(const m of h){const u=E.Iterable.first(m);u&&(n.push(u.resource),this._data.delete(u.resource,i))}if((0,f.isNonEmptyArray)(t)){const m=new L.ResourceMap;for(const{resource:u,marker:d}of t){const r=a._toMarker(i,u,d);if(!r)continue;const l=m.get(u);l?l.push(r):(m.set(u,[r]),n.push(u))}for(const[u,d]of m)this._data.set(u,i,d)}n.length>0&&this._onMarkerChanged.fire(n)}read(i=Object.create(null)){let{owner:t,resource:n,severities:h,take:m}=i;if((!m||m<0)&&(m=-1),t&&n){const u=this._data.get(n,t);if(u){const d=[];for(const r of u)if(a._accept(r,h)){const l=d.push(r);if(m>0&&l===m)break}return d}else return[]}else if(!t&&!n){const u=[];for(const d of this._data.values())for(const r of d)if(a._accept(r,h)){const l=u.push(r);if(m>0&&l===m)return u}return u}else{const u=this._data.values(n??t),d=[];for(const r of u)for(const l of r)if(a._accept(l,h)){const o=d.push(l);if(m>0&&o===m)return d}return d}}static _accept(i,t){return t===void 0||(t&i.severity)===i.severity}static _merge(i){const t=new L.ResourceMap;for(const n of i)for(const h of n)t.set(h,!0);return Array.from(t.keys())}}e.MarkerService=a}),define(ie[51],ne([1,0,107,8]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=f.default,e.INotificationService=(0,k.createDecorator)("notificationService");class E{}e.NoOpNotification=E}),define(ie[59],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IOpenerService=void 0,e.extractSelection=k,e.IOpenerService=(0,f.createDecorator)("openerService");function k(E){let L;const y=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(E.fragment);return y&&(L={startLineNumber:parseInt(y[1]),startColumn:y[2]?parseInt(y[2]):1,endLineNumber:y[4]?parseInt(y[4]):void 0,endColumn:y[4]?y[5]?parseInt(y[5]):1:void 0},E=E.with({fragment:""})),{selection:L,uri:E}}}),define(ie[822],ne([1,0,6,52,19,70,47,240,49,50,22,36,27,796,59]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let n=class{constructor(d){this._commandService=d}async open(d,r){if(!(0,w.matchesScheme)(d,w.Schemas.command))return!1;if(!r?.allowCommands||(typeof d=="string"&&(d=_.URI.parse(d)),Array.isArray(r.allowCommands)&&!r.allowCommands.includes(d.path)))return!0;let l=[];try{l=(0,p.parse)(decodeURIComponent(d.query))}catch{try{l=(0,p.parse)(d.query)}catch{}}return Array.isArray(l)||(l=[l]),await this._commandService.executeCommand(d.path,...l),!0}};n=Ie([ue(0,s.ICommandService)],n);let h=class{constructor(d){this._editorService=d}async open(d,r){typeof d=="string"&&(d=_.URI.parse(d));const{selection:l,uri:o}=(0,t.extractSelection)(d);return d=o,d.scheme===w.Schemas.file&&(d=(0,v.normalizePath)(d)),await this._editorService.openCodeEditor({resource:d,options:{selection:l,source:r?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API,...r?.editorOptions}},this._editorService.getFocusedCodeEditor(),r?.openToSide),!0}};h=Ie([ue(0,a.ICodeEditorService)],h);let m=class{constructor(d,r){this._openers=new L.LinkedList,this._validators=new L.LinkedList,this._resolvers=new L.LinkedList,this._resolvedUriTargets=new y.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new L.LinkedList,this._defaultExternalOpener={openExternal:async l=>((0,w.matchesSomeScheme)(l,w.Schemas.http,w.Schemas.https)?f.windowOpenNoOpener(l):k.mainWindow.location.href=l,!0)},this._openers.push({open:async(l,o)=>o?.openExternal||(0,w.matchesSomeScheme)(l,w.Schemas.mailto,w.Schemas.http,w.Schemas.https,w.Schemas.vsls)?(await this._doOpenExternal(l,o),!0):!1}),this._openers.push(new n(r)),this._openers.push(new h(d))}registerOpener(d){return{dispose:this._openers.unshift(d)}}async open(d,r){var l;const o=typeof d=="string"?_.URI.parse(d):d,g=(l=this._resolvedUriTargets.get(o))!==null&&l!==void 0?l:d;for(const c of this._validators)if(!await c.shouldOpen(g,r))return!1;for(const c of this._openers)if(await c.open(d,r))return!0;return!1}async resolveExternalUri(d,r){for(const l of this._resolvers)try{const o=await l.resolveExternalUri(d,r);if(o)return this._resolvedUriTargets.has(o.resolved)||this._resolvedUriTargets.set(o.resolved,d),o}catch{}throw new Error("Could not resolve external URI: "+d.toString())}async _doOpenExternal(d,r){const l=typeof d=="string"?_.URI.parse(d):d;let o;try{o=(await this.resolveExternalUri(l,r)).resolved}catch{o=l}let g;if(typeof d=="string"&&l.toString()===o.toString()?g=d:g=encodeURI(o.toString(!0)),r?.allowContributedOpeners){const c=typeof r?.allowContributedOpeners=="string"?r?.allowContributedOpeners:void 0;for(const b of this._externalOpeners)if(await b.openExternal(g,{sourceUri:l,preferredOpenerId:c},E.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(g,{sourceUri:l},E.CancellationToken.None)}dispose(){this._validators.clear()}};e.OpenerService=m,e.OpenerService=m=Ie([ue(0,a.ICodeEditorService),ue(1,s.ICommandService)],m)}),define(ie[823],ne([1,0,6,89,48,67,7,2,59,80,44,512]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let a=class extends p.Disposable{get enabled(){return this._enabled}set enabled(i){i?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=i}constructor(i,t,n={},h){var m,u;super(),this._link=t,this._enabled=!0,this.el=(0,f.append)(i,(0,f.$)("a.monaco-link",{tabIndex:(m=t.tabIndex)!==null&&m!==void 0?m:0,href:t.href},t.label)),this.hoverDelegate=(u=n.hoverDelegate)!==null&&u!==void 0?u:(0,_.getDefaultHoverDelegate)("mouse"),this.setTooltip(t.title),this.el.setAttribute("role","button");const d=this._register(new k.DomEmitter(this.el,"click")),r=this._register(new k.DomEmitter(this.el,"keypress")),l=y.Event.chain(r.event,c=>c.map(b=>new E.StandardKeyboardEvent(b)).filter(b=>b.keyCode===3)),o=this._register(new k.DomEmitter(this.el,L.EventType.Tap)).event;this._register(L.Gesture.addTarget(this.el));const g=y.Event.any(d.event,l,o);this._register(g(c=>{this.enabled&&(f.EventHelper.stop(c,!0),n?.opener?n.opener(this._link.href):h.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(i){this.hoverDelegate.showNativeHover?this.el.title=i??"":!this.hover&&i?this.hover=this._register((0,v.setupCustomHover)(this.hoverDelegate,this.el,i)):this.hover&&this.hover.update(i)}};e.Link=a,e.Link=a=Ie([ue(3,w.IOpenerService)],a)}),define(ie[92],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,f.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(L){this.callback=L}report(L){this._value=L,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,f.createDecorator)("editorProgressService")}),define(ie[824],ne([1,0,15,19,2,21]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var y;(function(_){_[_.NO_ACTION=0]="NO_ACTION",_[_.CLOSE_PICKER=1]="CLOSE_PICKER",_[_.REFRESH_PICKER=2]="REFRESH_PICKER",_[_.REMOVE_ITEM=3]="REMOVE_ITEM"})(y||(e.TriggerAction=y={}));function p(_){const a=_;return Array.isArray(a.items)}function w(_){const a=_;return!!a.picks&&a.additionalPicks instanceof Promise}class v extends E.Disposable{constructor(a,s){super(),this.prefix=a,this.options=s}provide(a,s,i){var t;const n=new E.DisposableStore;a.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),a.matchOnLabel=a.matchOnDescription=a.matchOnDetail=a.sortByLabel=!1;let h;const m=n.add(new E.MutableDisposable),u=async()=>{var r;const l=m.value=new E.DisposableStore;h?.dispose(!0),a.busy=!1,h=new k.CancellationTokenSource(s);const o=h.token;let g=a.value.substring(this.prefix.length);!((r=this.options)===null||r===void 0)&&r.shouldSkipTrimPickFilter||(g=g.trim());const c=this._getPicks(g,l,o,i),b=(S,D)=>{var I;let T,N;if(p(S)?(T=S.items,N=S.active):T=S,T.length===0){if(D)return!1;(g.length>0||a.hideInput)&&(!((I=this.options)===null||I===void 0)&&I.noResultsPick)&&((0,L.isFunction)(this.options.noResultsPick)?T=[this.options.noResultsPick(g)]:T=[this.options.noResultsPick])}return a.items=T,N&&(a.activeItems=[N]),!0},C=async S=>{let D=!1,I=!1;await Promise.all([(async()=>{typeof S.mergeDelay=="number"&&(await(0,f.timeout)(S.mergeDelay),o.isCancellationRequested)||I||(D=b(S.picks,!0))})(),(async()=>{a.busy=!0;try{const T=await S.additionalPicks;if(o.isCancellationRequested)return;let N,A;p(S.picks)?(N=S.picks.items,A=S.picks.active):N=S.picks;let P,M;if(p(T)?(P=T.items,M=T.active):P=T,P.length>0||!D){let R;if(!A&&!M){const F=a.activeItems[0];F&&N.indexOf(F)!==-1&&(R=F)}b({items:[...N,...P],active:A||M||R})}}finally{o.isCancellationRequested||(a.busy=!1),I=!0}})()])};if(c!==null)if(w(c))await C(c);else if(!(c instanceof Promise))b(c);else{a.busy=!0;try{const S=await c;if(o.isCancellationRequested)return;w(S)?await C(S):b(S)}finally{o.isCancellationRequested||(a.busy=!1)}}};n.add(a.onDidChangeValue(()=>u())),u(),n.add(a.onDidAccept(r=>{const[l]=a.selectedItems;typeof l?.accept=="function"&&(r.inBackground||a.hide(),l.accept(a.keyMods,r))}));const d=async(r,l)=>{var o,g;if(typeof l.trigger!="function")return;const c=(g=(o=l.buttons)===null||o===void 0?void 0:o.indexOf(r))!==null&&g!==void 0?g:-1;if(c>=0){const b=l.trigger(c,a.keyMods),C=typeof b=="number"?b:await b;if(s.isCancellationRequested)return;switch(C){case y.NO_ACTION:break;case y.CLOSE_PICKER:a.hide();break;case y.REFRESH_PICKER:u();break;case y.REMOVE_ITEM:{const S=a.items.indexOf(l);if(S!==-1){const D=a.items.slice(),I=D.splice(S,1),T=a.activeItems.filter(A=>A!==I[0]),N=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=D,T&&(a.activeItems=T),a.keepScrollPosition=N}break}}}};return n.add(a.onDidTriggerItemButton(({button:r,item:l})=>d(r,l))),n.add(a.onDidTriggerSeparatorButton(({button:r,separator:l})=>d(r,l))),n}}e.PickerQuickAccessProvider=v}),define(ie[825],ne([1,0,6,249,2,107,218]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const y=f.$;class p extends E.Disposable{constructor(v,_,a){super(),this.parent=v,this.onKeyDown=i=>f.addStandardDisposableListener(this.findInput.inputBox.inputElement,f.EventType.KEY_DOWN,i),this.onDidChange=i=>this.findInput.onDidChange(i),this.container=f.append(this.parent,y(".quick-input-box")),this.findInput=this._register(new k.FindInput(this.container,void 0,{label:"",inputBoxStyles:_,toggleStyles:a}));const s=this.findInput.inputBox.inputElement;s.role="combobox",s.ariaHasPopup="menu",s.ariaAutoComplete="list",s.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(v){this.findInput.setValue(v)}select(v=null){this.findInput.inputBox.select(v)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(v){this.findInput.inputBox.setPlaceHolder(v)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(v){this.findInput.inputBox.inputElement.type=v?"password":"text"}set enabled(v){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!v)}set toggles(v){this.findInput.setAdditionalToggles(v)}setAttribute(v,_){this.findInput.inputBox.inputElement.setAttribute(v,_)}showDecoration(v){v===L.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:v===L.default.Info?1:v===L.default.Warning?2:3,content:""})}stylesForType(v){return this.findInput.inputBox.stylesForType(v===L.default.Info?1:v===L.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=p}),define(ie[369],ne([1,0,6,89,7,48,67,108,178,419,779,218]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputButtonToAction=t,e.renderQuickInputDescription=n;const a={},s=new w.IdGenerator("quick-input-button-icon-");function i(h){if(!h)return;let m;const u=h.dark.toString();return a[u]?m=a[u]:(m=s.nextId(),f.createCSSRule(`.${m}, .hc-light .${m}`,`background-image: ${f.asCSSUrl(h.light||h.dark)}`),f.createCSSRule(`.vs-dark .${m}, .hc-black .${m}`,`background-image: ${f.asCSSUrl(h.dark)}`),a[u]=m),m}function t(h,m,u){let d=h.iconClass||i(h.iconPath);return h.alwaysVisible&&(d=d?`${d} always-visible`:"always-visible"),{id:m,label:"",tooltip:h.tooltip||"",class:d,enabled:!0,run:u}}function n(h,m,u){f.reset(m);const d=(0,v.parseLinkedText)(h);let r=0;for(const l of d.nodes)if(typeof l=="string")m.append(...(0,p.renderLabelWithIcons)(l));else{let o=l.title;!o&&l.href.startsWith("command:")?o=(0,_.localize)(0,null,l.href.substring(8)):o||(o=l.href);const g=f.$("a",{href:l.href,title:o,tabIndex:r++},l.label);g.style.textDecoration="underline";const c=I=>{f.isEventLike(I)&&f.EventHelper.stop(I,!0),u.callback(l.href)},b=u.disposables.add(new k.DomEmitter(g,f.EventType.CLICK)).event,C=u.disposables.add(new k.DomEmitter(g,f.EventType.KEY_DOWN)).event,S=E.Event.chain(C,I=>I.filter(T=>{const N=new L.StandardKeyboardEvent(T);return N.equals(10)||N.equals(3)}));u.disposables.add(y.Gesture.addTarget(g));const D=u.disposables.add(new k.DomEmitter(g,y.EventType.Tap)).event;E.Event.any(b,D,S)(c,null,u.disposables),m.appendChild(g)}}}),define(ie[75],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(y){y[y.Blur=1]="Blur",y[y.Gesture=2]="Gesture",y[y.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var E;(function(y){y[y.NONE=0]="NONE",y[y.FIRST=1]="FIRST",y[y.SECOND=2]="SECOND",y[y.LAST=3]="LAST"})(E||(e.ItemActivation=E={}));class L{constructor(p){this.options=p}}e.QuickPickItemScorerAccessor=L,e.quickPickItemScorerAccessor=new L,e.IQuickInputService=(0,f.createDecorator)("quickInputService")}),define(ie[39],ne([1,0,87,21]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class E{constructor(){this.data=new Map}add(y,p){f.ok(k.isString(y)),f.ok(k.isObject(p)),f.ok(!this.data.has(y),"There is already an extension with this id"),this.data.set(y,p)}as(y){return this.data.get(y)||null}}e.Registry=new E}),define(ie[370],ne([1,0,39]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},f.Registry.add(e.Extensions.DragAndDropContribution,new k);class E{constructor(){}static getInstance(){return E.INSTANCE}hasData(y){return y&&y===this.proto}getData(y){if(this.hasData(y))return this.data}}e.LocalSelectionTransfer=E,E.INSTANCE=new E}),define(ie[371],ne([1,0,214,186,120,22,370]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toVSDataTransfer=p,e.toExternalVSDataTransfer=_;function p(a){const s=new k.VSDataTransfer;for(const i of a.items){const t=i.type;if(i.kind==="string"){const n=new Promise(h=>i.getAsString(h));s.append(t,(0,k.createStringDataTransferItem)(n))}else if(i.kind==="file"){const n=i.getAsFile();n&&s.append(t,w(n))}}return s}function w(a){const s=a.path?L.URI.parse(a.path):void 0;return(0,k.createFileDataTransferItem)(a.name,s,async()=>new Uint8Array(await a.arrayBuffer()))}const v=Object.freeze([y.CodeDataTransfers.EDITORS,y.CodeDataTransfers.FILES,f.DataTransfers.RESOURCES,f.DataTransfers.INTERNAL_URI_LIST]);function _(a,s=!1){const i=p(a),t=i.get(f.DataTransfers.INTERNAL_URI_LIST);if(t)i.replace(E.Mimes.uriList,t);else if(s||!i.has(E.Mimes.uriList)){const n=[];for(const h of a.items){const m=h.getAsFile();if(m){const u=m.path;try{u?n.push(L.URI.file(u).toString()):n.push(L.URI.parse(m.name,!0).toString())}catch{}}}n.length&&i.replace(E.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(n)))}for(const n of v)i.delete(n);return i}}),define(ie[260],ne([1,0,7,39]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function E(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class L{constructor(){this._onDidChangeSchema=new f.Emitter,this.schemasById={}}registerSchema(w,v){this.schemasById[E(w)]=v,this._onDidChangeSchema.fire(w)}notifySchemaChanged(w){this._onDidChangeSchema.fire(w)}}const y=new L;k.Registry.add(e.Extensions.JSONContribution,y)}),define(ie[105],ne([1,0,13,7,21,765,25,260,39]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.overrideIdentifiersFromKey=i,e.getDefaultValue=t,e.validateProperty=h,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const v=w.Registry.as(p.Extensions.JSONContribution);class _{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:L.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(u,d=!0){this.registerConfigurations([u],d)}registerConfigurations(u,d=!0){const r=new Set;this.doRegisterConfigurations(u,d,r),v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}registerDefaultConfigurations(u){const d=new Set;this.doRegisterDefaultConfigurations(u,d),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:d,defaultsOverrides:!0})}doRegisterDefaultConfigurations(u,d){var r;const l=[];for(const{overrides:o,source:g}of u)for(const c in o)if(d.add(c),e.OVERRIDE_PROPERTY_REGEX.test(c)){const b=this.configurationDefaultsOverrides.get(c),C=(r=b?.valuesSources)!==null&&r!==void 0?r:new Map;if(g)for(const T of Object.keys(o[c]))C.set(T,g);const S={...b?.value||{},...o[c]};this.configurationDefaultsOverrides.set(c,{source:g,value:S,valuesSources:C});const D=(0,y.getLanguageTagSettingPlainKey)(c),I={type:"object",default:S,description:L.localize(1,null,D),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:S,source:E.isString(g)?void 0:g,defaultValueSource:g};l.push(...i(c)),this.configurationProperties[c]=I,this.defaultLanguageConfigurationOverridesNode.properties[c]=I}else{this.configurationDefaultsOverrides.set(c,{value:o[c],source:g});const b=this.configurationProperties[c];b&&(this.updatePropertyDefaultValue(c,b),this.updateSchema(c,b))}this.doRegisterOverrideIdentifiers(l)}registerOverrideIdentifiers(u){this.doRegisterOverrideIdentifiers(u),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(u){for(const d of u)this.overrideIdentifiers.add(d);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(u,d,r){u.forEach(l=>{this.validateAndRegisterProperties(l,d,l.extensionInfo,l.restrictedProperties,void 0,r),this.configurationContributors.push(l),this.registerJSONConfiguration(l)})}validateAndRegisterProperties(u,d=!0,r,l,o=3,g){var c;o=E.isUndefinedOrNull(u.scope)?o:u.scope;const b=u.properties;if(b)for(const S in b){const D=b[S];if(d&&h(S,D)){delete b[S];continue}if(D.source=r,D.defaultDefaultValue=b[S].default,this.updatePropertyDefaultValue(S,D),e.OVERRIDE_PROPERTY_REGEX.test(S)?D.scope=void 0:(D.scope=E.isUndefinedOrNull(D.scope)?o:D.scope,D.restricted=E.isUndefinedOrNull(D.restricted)?!!l?.includes(S):D.restricted),b[S].hasOwnProperty("included")&&!b[S].included){this.excludedConfigurationProperties[S]=b[S],delete b[S];continue}else this.configurationProperties[S]=b[S],!((c=b[S].policy)===null||c===void 0)&&c.name&&this.policyConfigurations.set(b[S].policy.name,S);!b[S].deprecationMessage&&b[S].markdownDeprecationMessage&&(b[S].deprecationMessage=b[S].markdownDeprecationMessage),g.add(S)}const C=u.allOf;if(C)for(const S of C)this.validateAndRegisterProperties(S,d,r,l,o,g)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(u){const d=r=>{const l=r.properties;if(l)for(const g in l)this.updateSchema(g,l[g]);const o=r.allOf;o?.forEach(d)};d(u)}updateSchema(u,d){switch(e.allSettings.properties[u]=d,d.scope){case 1:e.applicationSettings.properties[u]=d;break;case 2:e.machineSettings.properties[u]=d;break;case 6:e.machineOverridableSettings.properties[u]=d;break;case 3:e.windowSettings.properties[u]=d;break;case 4:e.resourceSettings.properties[u]=d;break;case 5:e.resourceSettings.properties[u]=d,this.resourceLanguageSettingsSchema.properties[u]=d;break}}updateOverridePropertyPatternKey(){for(const u of this.overrideIdentifiers.values()){const d=`[${u}]`,r={type:"object",description:L.localize(2,null),errorMessage:L.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(d,r),e.allSettings.properties[d]=r,e.applicationSettings.properties[d]=r,e.machineSettings.properties[d]=r,e.machineOverridableSettings.properties[d]=r,e.windowSettings.properties[d]=r,e.resourceSettings.properties[d]=r}}registerOverridePropertyPatternKey(){const u={type:"object",description:L.localize(4,null),errorMessage:L.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(u,d){const r=this.configurationDefaultsOverrides.get(u);let l=r?.value,o=r?.source;E.isUndefined(l)&&(l=d.defaultDefaultValue,o=void 0),E.isUndefined(l)&&(l=t(d.type)),d.default=l,d.defaultValueSource=o}}const a="\\[([^\\]]+)\\]",s=new RegExp(a,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${a})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(m){const u=[];if(e.OVERRIDE_PROPERTY_REGEX.test(m)){let d=s.exec(m);for(;d?.length;){const r=d[1].trim();r&&u.push(r),d=s.exec(m)}}return(0,f.distinct)(u)}function t(m){switch(Array.isArray(m)?m[0]:m){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const n=new _;w.Registry.add(e.Extensions.Configuration,n);function h(m,u){var d,r,l,o;return m.trim()?e.OVERRIDE_PROPERTY_REGEX.test(m)?L.localize(7,null,m):n.getConfigurationProperties()[m]!==void 0?L.localize(8,null,m):!((d=u.policy)===null||d===void 0)&&d.name&&n.getPolicyConfigurations().get((r=u.policy)===null||r===void 0?void 0:r.name)!==void 0?L.localize(9,null,m,(l=u.policy)===null||l===void 0?void 0:l.name,n.getPolicyConfigurations().get((o=u.policy)===null||o===void 0?void 0:o.name)):null:L.localize(6,null)}}),define(ie[261],ne([1,0,296,38,188,663,105,39]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorConfigurationBaseNode=void 0,e.isEditorConfigurationKey=s,e.isDiffEditorConfigurationKey=i,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:L.localize(0,null),scope:5});const w={...e.editorConfigurationBaseNode,properties:{"editor.tabSize":{type:"number",default:E.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:L.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:L.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:L.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:L.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:L.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:L.localize(6,null)},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[L.localize(7,null),L.localize(8,null),L.localize(9,null),L.localize(10,null)],description:L.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[L.localize(12,null),L.localize(13,null),L.localize(14,null)],default:"configuredByTheme",description:L.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:L.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:L.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:L.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:L.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:L.localize(20,null),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:L.localize(21,null),items:{type:"array",items:[{type:"string",description:L.localize(22,null)},{type:"string",description:L.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:L.localize(24,null),items:{type:"array",items:[{type:"string",description:L.localize(25,null)},{type:"string",description:L.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:f.diffEditorDefaultOptions.maxComputationTime,description:L.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:f.diffEditorDefaultOptions.maxFileSize,description:L.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:f.diffEditorDefaultOptions.renderSideBySide,description:L.localize(29,null)},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:f.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:L.localize(30,null)},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:f.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:L.localize(31,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:f.diffEditorDefaultOptions.renderMarginRevertIcon,description:L.localize(32,null)},"diffEditor.renderGutterMenu":{type:"boolean",default:f.diffEditorDefaultOptions.renderGutterMenu,description:L.localize(33,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:f.diffEditorDefaultOptions.ignoreTrimWhitespace,description:L.localize(34,null)},"diffEditor.renderIndicators":{type:"boolean",default:f.diffEditorDefaultOptions.renderIndicators,description:L.localize(35,null)},"diffEditor.codeLens":{type:"boolean",default:f.diffEditorDefaultOptions.diffCodeLens,description:L.localize(36,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:f.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[L.localize(37,null),L.localize(38,null),L.localize(39,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:f.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[L.localize(40,null),L.localize(41,null)],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:f.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:L.localize(42,null)},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:L.localize(43,null),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:L.localize(44,null),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:L.localize(45,null),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:f.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:L.localize(46,null)},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:f.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:L.localize(47,null)}}};function v(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of k.editorOptionsRegistry){const h=n.schema;if(typeof h<"u")if(v(h))w.properties[`editor.${n.name}`]=h;else for(const m in h)Object.hasOwnProperty.call(h,m)&&(w.properties[m]=h[m])}let _=null;function a(){return _===null&&(_=Object.create(null),Object.keys(w.properties).forEach(n=>{_[n]=!0})),_}function s(n){return a()[`editor.${n}`]||!1}function i(n){return a()[`diffEditor.${n}`]||!1}p.Registry.as(y.Extensions.Configuration).registerConfiguration(w)}),define(ie[84],ne([1,0,672,7,39,120,105]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class p{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(v){return this._languages.push(v),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let _=0,a=this._languages.length;_<a;_++)if(this._languages[_]===v){this._languages.splice(_,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=p,e.ModesRegistry=new p,E.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[f.localize(0,null),"text"],mimetypes:[L.Mimes.text]}),E.Registry.as(y.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ie[114],ne([1,0,197,99,12,7,2,71,42,84,354,59,472]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0,e.openLinkFromMarkdown=t;let i=s=class{constructor(m,u,d){this._options=m,this._languageService=u,this._openerService=d,this._onDidRenderAsync=new L.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(m,u,d){if(!m)return{element:document.createElement("span"),dispose:()=>{}};const r=new y.DisposableStore,l=r.add((0,f.renderMarkdown)(m,{...this._getRenderOptions(m,r),...u},d));return l.element.classList.add("rendered-markdown"),{element:l.element,dispose:()=>r.dispose()}}_getRenderOptions(m,u){return{codeBlockRenderer:async(d,r)=>{var l,o,g;let c;d?c=this._languageService.getLanguageIdByLanguageName(d):this._options.editor&&(c=(l=this._options.editor.getModel())===null||l===void 0?void 0:l.getLanguageId()),c||(c=v.PLAINTEXT_LANGUAGE_ID);const b=await(0,_.tokenizeToString)(this._languageService,r,c),C=document.createElement("span");if(C.innerHTML=(g=(o=s._ttpTokenizer)===null||o===void 0?void 0:o.createHTML(b))!==null&&g!==void 0?g:b,this._options.editor){const S=this._options.editor.getOption(50);(0,p.applyFontInfo)(C,S)}else this._options.codeBlockFontFamily&&(C.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(C.style.fontSize=this._options.codeBlockFontSize),C},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>t(this._openerService,d,m.isTrusted),disposables:u}}}};e.MarkdownRenderer=i,i._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(h){return h}}),e.MarkdownRenderer=i=s=Ie([ue(1,w.ILanguageService),ue(2,a.IOpenerService)],i);async function t(h,m,u){try{return await h.open(m,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:n(u)})}catch(d){return(0,E.onUnexpectedError)(d),!1}}function n(h){return h===!0?!0:h&&Array.isArray(h.enabledCommands)?h.enabledCommands:!1}}),define(ie[826],ne([1,0,2,7,6,35,25,38,244,78,59,8,114,57,649,17,68,45,451]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverWidget=void 0;const u=E.$;let d=class extends v.Widget{get _targetWindow(){return E.getWindow(this._target.targetElements[0])}get _targetDocumentElement(){return E.getWindow(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(g){this._isLocked!==g&&(this._isLocked=g,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(g,c,b,C,S,D){var I,T,N,A,P,M,R,F;super(),this._keybindingService=c,this._configurationService=b,this._openerService=C,this._instantiationService=S,this._accessibilityService=D,this._messageListeners=new f.DisposableStore,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new k.Emitter),this._onRequestLayout=this._register(new k.Emitter),this._linkHandler=g.linkHandler||(z=>(0,s.openLinkFromMarkdown)(this._openerService,z,(0,i.isMarkdownString)(g.content)?g.content.isTrusted:void 0)),this._target="targetElements"in g.target?g.target:new l(g.target),this._hoverPointer=!((I=g.appearance)===null||I===void 0)&&I.showPointer?u("div.workbench-hover-pointer"):void 0,this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((T=g.appearance)===null||T===void 0)&&T.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((N=g.appearance)===null||N===void 0)&&N.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),g.additionalClasses&&this._hover.containerDomNode.classList.add(...g.additionalClasses),!((A=g.position)===null||A===void 0)&&A.forcePosition&&(this._forcePosition=!0),g.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(M=(P=g.position)===null||P===void 0?void 0:P.hoverPosition)!==null&&M!==void 0?M:3,this.onmousedown(this._hover.containerDomNode,z=>z.stopPropagation()),this.onkeydown(this._hover.containerDomNode,z=>{z.equals(9)&&this.dispose()}),this._register(E.addDisposableListener(this._targetWindow,"blur",()=>this.dispose()));const O=u("div.hover-row.markdown-hover"),B=u("div.hover-contents");if(typeof g.content=="string")B.textContent=g.content,B.style.whiteSpace="pre-wrap";else if(g.content instanceof HTMLElement)B.appendChild(g.content),B.classList.add("html-hover-contents");else{const z=g.content,U=this._instantiationService.createInstance(s.MarkdownRenderer,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||p.EDITOR_FONT_DEFAULTS.fontFamily}),{element:Z}=U.render(z,{actionHandler:{callback:re=>this._linkHandler(re),disposables:this._messageListeners},asyncRenderCallback:()=>{B.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});B.appendChild(Z)}if(O.appendChild(B),this._hover.contentsDomNode.appendChild(O),g.actions&&g.actions.length>0){const z=u("div.hover-row.status-bar"),U=u("div.actions");g.actions.forEach(Z=>{const re=this._keybindingService.lookupKeybinding(Z.commandId),x=re?re.getLabel():null;w.HoverAction.render(U,{label:Z.label,commandId:Z.commandId,run:Q=>{Z.run(Q),this.dispose()},iconClass:Z.iconClass},x)}),z.appendChild(U),this._hover.containerDomNode.appendChild(z)}this._hoverContainer=u("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let H;if(g.actions&&g.actions.length>0?H=!1:((R=g.persistence)===null||R===void 0?void 0:R.hideOnHover)===void 0?H=typeof g.content=="string"||(0,i.isMarkdownString)(g.content)&&!g.content.value.includes("](")&&!g.content.value.includes("</a>"):H=g.persistence.hideOnHover,H&&(!((F=g.appearance)===null||F===void 0)&&F.showHoverHint)){const z=u("div.hover-row.status-bar"),U=u("div.info");U.textContent=(0,t.localize)(0,null,n.isMacintosh?"Option":"Alt"),z.appendChild(U),this._hover.containerDomNode.appendChild(z)}const V=[...this._target.targetElements];H||V.push(this._hoverContainer);const q=this._register(new r(V));if(this._register(q.onMouseOut(()=>{this._isLocked||this.dispose()})),H){const z=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new r(z)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=q}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const g=this._hover.containerDomNode,c=this.findLastFocusableChild(this._hover.containerDomNode);if(c){const b=E.prepend(this._hoverContainer,u("div")),C=E.append(this._hoverContainer,u("div"));b.tabIndex=0,C.tabIndex=0,this._register(E.addDisposableListener(C,"focus",S=>{g.focus(),S.preventDefault()})),this._register(E.addDisposableListener(b,"focus",S=>{c.focus(),S.preventDefault()}))}}findLastFocusableChild(g){if(g.hasChildNodes())for(let c=0;c<g.childNodes.length;c++){const b=g.childNodes.item(g.childNodes.length-c-1);if(b.nodeType===b.ELEMENT_NODE){const S=b;if(typeof S.tabIndex=="number"&&S.tabIndex>=0)return S}const C=this.findLastFocusableChild(b);if(C)return C}}render(g){var c;g.appendChild(this._hoverContainer);const C=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,w.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(c=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||c===void 0?void 0:c.getAriaLabel());C&&(0,m.status)(C),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const g=A=>{const P=E.getDomNodeZoomLevel(A),M=A.getBoundingClientRect();return{top:M.top*P,bottom:M.bottom*P,right:M.right*P,left:M.left*P}},c=this._target.targetElements.map(A=>g(A)),{top:b,right:C,bottom:S,left:D}=c[0],I=C-D,T=S-b,N={top:b,right:C,bottom:S,left:D,width:I,height:T,center:{x:D+I/2,y:b+T/2}};if(this.adjustHorizontalHoverPosition(N),this.adjustVerticalHoverPosition(N),this.adjustHoverMaxHeight(N),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:N.left+=3,N.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:N.left-=3,N.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:N.top+=3,N.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:N.top-=3,N.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}N.center.x=N.left+I/2,N.center.y=N.top+T/2}this.computeXCordinate(N),this.computeYCordinate(N),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(N)),this._hover.onContentsChanged()}computeXCordinate(g){const c=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=g.right:this._hoverPosition===0?this._x=g.left-c:(this._hoverPointer?this._x=g.center.x-this._hover.containerDomNode.clientWidth/2:this._x=g.left,this._x+c>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-c-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=g.left+2)}computeYCordinate(g){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=g.top:this._hoverPosition===2?this._y=g.bottom-2:this._hoverPointer?this._y=g.center.y+this._hover.containerDomNode.clientHeight/2:this._y=g.bottom,this._y>this._targetWindow.innerHeight&&(this._y=g.bottom)}adjustHorizontalHoverPosition(g){if(this._target.x!==void 0)return;const c=this._hoverPointer?3:0;if(this._forcePosition){const b=c+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-g.right-b}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${g.left-b}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-g.right<this._hover.containerDomNode.clientWidth+c&&(g.left>=this._hover.containerDomNode.clientWidth+c?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(g.left<this._hover.containerDomNode.clientWidth+c&&(this._targetDocumentElement.clientWidth-g.right>=this._hover.containerDomNode.clientWidth+c?this._hoverPosition=1:this._hoverPosition=2),g.left-this._hover.containerDomNode.clientWidth-c<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(g){if(this._target.y!==void 0||this._forcePosition)return;const c=this._hoverPointer?3:0;this._hoverPosition===3?g.top-this._hover.containerDomNode.clientHeight-c<0&&(this._hoverPosition=2):this._hoverPosition===2&&g.bottom+this._hover.containerDomNode.clientHeight+c>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(g){let c=this._targetWindow.innerHeight/2;if(this._forcePosition){const b=(this._hoverPointer?3:0)+2;this._hoverPosition===3?c=Math.min(c,g.top-b):this._hoverPosition===2&&(c=Math.min(c,this._targetWindow.innerHeight-g.bottom-b))}if(this._hover.containerDomNode.style.maxHeight=`${c}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const b=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==b&&(this._hover.contentsDomNode.style.paddingRight=b)}}setHoverPointerPosition(g){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const c=this._hover.containerDomNode.clientHeight;c>g.height?this._hoverPointer.style.top=`${g.center.y-(this._y-c)-3}px`:this._hoverPointer.style.top=`${Math.round(c/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const c=this._hover.containerDomNode.clientWidth;let b=Math.round(c/2)-3;const C=this._x+b;(C<g.left||C>g.right)&&(b=g.center.x-this._x-3),this._hoverPointer.style.left=`${b}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};e.HoverWidget=d,e.HoverWidget=d=Ie([ue(1,L.IKeybindingService),ue(2,y.IConfigurationService),ue(3,_.IOpenerService),ue(4,a.IInstantiationService),ue(5,h.IAccessibilityService)],d);class r extends v.Widget{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(g){super(),this._elements=g,this._isMouseIn=!0,this._onMouseOut=this._register(new k.Emitter),this._elements.forEach(c=>this.onmouseover(c,()=>this._onTargetMouseOver(c))),this._elements.forEach(c=>this.onmouseleave(c,()=>this._onTargetMouseLeave(c)))}_onTargetMouseOver(g){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(g)}_onTargetMouseLeave(g){this._isMouseIn=!1,this._evaluateMouseState(g)}_evaluateMouseState(g){this._clearEvaluateMouseStateTimeout(g),this._mouseTimeout=E.getWindow(g).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(g){this._mouseTimeout&&(E.getWindow(g).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class l{constructor(g){this._element=g,this.targetElements=[this._element]}dispose(){}}}),define(ie[33],ne([1,0,7,2,11,160,124,143,538,640,539,542,251,8,25,42,46,84,541]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0,e.getIndentationAtPosition=b,e.getScopedLineTokens=C;class d{constructor(M){this.languageId=M}affects(M){return this.languageId?this.languageId===M:!0}}e.LanguageConfigurationServiceChangeEvent=d,e.ILanguageConfigurationService=(0,i.createDecorator)("languageConfigurationService");let r=class extends k.Disposable{constructor(M,R){super(),this.configurationService=M,this.languageService=R,this._registry=this._register(new N),this.onDidChangeEmitter=this._register(new f.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values(o));this._register(this.configurationService.onDidChangeConfiguration(O=>{const B=O.change.keys.some(V=>F.has(V)),H=O.change.overrides.filter(([V,q])=>q.some(z=>F.has(z))).map(([V])=>V);if(B)this.configurations.clear(),this.onDidChangeEmitter.fire(new d(void 0));else for(const V of H)this.languageService.isRegisteredLanguageId(V)&&(this.configurations.delete(V),this.onDidChangeEmitter.fire(new d(V)))})),this._register(this._registry.onDidChange(O=>{this.configurations.delete(O.languageId),this.onDidChangeEmitter.fire(new d(O.languageId))}))}register(M,R,F){return this._registry.register(M,R,F)}getLanguageConfiguration(M){let R=this.configurations.get(M);return R||(R=l(M,this._registry,this.configurationService,this.languageService),this.configurations.set(M,R)),R}};e.LanguageConfigurationService=r,e.LanguageConfigurationService=r=Ie([ue(0,t.IConfigurationService),ue(1,n.ILanguageService)],r);function l(P,M,R,F){let O=M.getLanguageConfiguration(P);if(!O){if(!F.isRegisteredLanguageId(P))return new A(P,{});O=new A(P,{})}const B=g(O.languageId,R),H=D([O.underlyingConfig,B]);return new A(O.languageId,H)}const o={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function g(P,M){const R=M.getValue(o.brackets,{overrideIdentifier:P}),F=M.getValue(o.colorizedBracketPairs,{overrideIdentifier:P});return{brackets:c(R),colorizedBracketPairs:c(F)}}function c(P){if(Array.isArray(P))return P.map(M=>{if(!(!Array.isArray(M)||M.length!==2))return[M[0],M[1]]}).filter(M=>!!M)}function b(P,M,R){const F=P.getLineContent(M);let O=E.getLeadingWhitespace(F);return O.length>R-1&&(O=O.substring(0,R-1)),O}function C(P,M,R){P.tokenization.forceTokenization(M);const F=P.tokenization.getLineTokens(M),O=typeof R>"u"?P.getLineMaxColumn(M)-1:R-1;return(0,p.createScopedLineTokens)(F,O)}class S{constructor(M){this.languageId=M,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(M,R){const F=new I(M,R,++this._order);return this._entries.push(F),this._resolved=null,(0,k.toDisposable)(()=>{for(let O=0;O<this._entries.length;O++)if(this._entries[O]===F){this._entries.splice(O,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const M=this._resolve();M&&(this._resolved=new A(this.languageId,M))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),D(this._entries.map(M=>M.configuration)))}}function D(P){let M={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const R of P)M={comments:R.comments||M.comments,brackets:R.brackets||M.brackets,wordPattern:R.wordPattern||M.wordPattern,indentationRules:R.indentationRules||M.indentationRules,onEnterRules:R.onEnterRules||M.onEnterRules,autoClosingPairs:R.autoClosingPairs||M.autoClosingPairs,surroundingPairs:R.surroundingPairs||M.surroundingPairs,autoCloseBefore:R.autoCloseBefore||M.autoCloseBefore,folding:R.folding||M.folding,colorizedBracketPairs:R.colorizedBracketPairs||M.colorizedBracketPairs,__electricCharacterSupport:R.__electricCharacterSupport||M.__electricCharacterSupport};return M}class I{constructor(M,R,F){this.configuration=M,this.priority=R,this.order=F}static cmp(M,R){return M.priority===R.priority?M.order-R.order:M.priority-R.priority}}class T{constructor(M){this.languageId=M}}e.LanguageConfigurationChangeEvent=T;class N extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(m.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(M,R,F=0){let O=this._entries.get(M);O||(O=new S(M),this._entries.set(M,O));const B=O.register(R,F);return this._onDidChange.fire(new T(M)),(0,k.toDisposable)(()=>{B.dispose(),this._onDidChange.fire(new T(M))})}getLanguageConfiguration(M){const R=this._entries.get(M);return R?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=N;class A{constructor(M,R){this.languageId=M,this.underlyingConfig=R,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new a.OnEnterSupport(this.underlyingConfig):null,this.comments=A._handleComments(this.underlyingConfig),this.characterPair=new w.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||L.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new _.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new u.LanguageBracketsConfiguration(M,this.underlyingConfig)}getWordDefinition(){return(0,L.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new s.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new v.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(M,R,F,O){return this._onEnterSupport?this._onEnterSupport.onEnter(M,R,F,O):null}getAutoClosingPairs(){return new y.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(M){return this.characterPair.getAutoCloseBeforeSet(M)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(M){const R=M.comments;if(!R)return null;const F={};if(R.lineComment&&(F.lineCommentToken=R.lineComment),R.blockComment){const[O,B]=R.blockComment;F.blockCommentStartToken=O,F.blockCommentEndToken=B}return F}}e.ResolvedLanguageConfiguration=A,(0,h.registerSingleton)(e.ILanguageConfigurationService,r,1)}),define(ie[262],ne([1,0,15,2,344,630,5,33,671,53,200,13,61,63,12,18,222,100,60,52,6]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const l=60*1e3,o=5*60*1e3;function g(N,A){const P=N.getModel(A);return!(!P||P.isTooLargeForSyncing())}let c=class extends k.Disposable{constructor(A,P,M,R,F){super(),this._modelService=A,this._workerManager=this._register(new C(this._modelService,R)),this._logService=M,this._register(F.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,B)=>g(this._modelService,O.uri)?this._workerManager.withWorker().then(H=>H.computeLinks(O.uri)).then(H=>H&&{links:H}):Promise.resolve({links:[]})})),this._register(F.completionProvider.register("*",new b(this._workerManager,P,this._modelService,R)))}dispose(){super.dispose()}canComputeUnicodeHighlights(A){return g(this._modelService,A)}computedUnicodeHighlights(A,P,M){return this._workerManager.withWorker().then(R=>R.computedUnicodeHighlights(A,P,M))}async computeDiff(A,P,M,R){const F=await this._workerManager.withWorker().then(H=>H.computeDiff(A,P,M,R));if(!F)return null;return{identical:F.identical,quitEarly:F.quitEarly,changes:B(F.changes),moves:F.moves.map(H=>new h.MovedText(new m.LineRangeMapping(new u.LineRange(H[0],H[1]),new u.LineRange(H[2],H[3])),B(H[4])))};function B(H){return H.map(V=>{var q;return new m.DetailedLineRangeMapping(new u.LineRange(V[0],V[1]),new u.LineRange(V[2],V[3]),(q=V[4])===null||q===void 0?void 0:q.map(z=>new m.RangeMapping(new y.Range(z[0],z[1],z[2],z[3]),new y.Range(z[4],z[5],z[6],z[7]))))})}}computeMoreMinimalEdits(A,P,M=!1){if((0,a.isNonEmptyArray)(P)){if(!g(this._modelService,A))return Promise.resolve(P);const R=i.StopWatch.create(),F=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(A,P,M));return F.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",A.toString(!0),R.elapsed())),Promise.race([F,(0,f.timeout)(1e3).then(()=>P)])}else return Promise.resolve(void 0)}canNavigateValueSet(A){return g(this._modelService,A)}navigateValueSet(A,P,M){return this._workerManager.withWorker().then(R=>R.navigateValueSet(A,P,M))}canComputeWordRanges(A){return g(this._modelService,A)}computeWordRanges(A,P){return this._workerManager.withWorker().then(M=>M.computeWordRanges(A,P))}findSectionHeaders(A,P){return this._workerManager.withWorker().then(M=>M.findSectionHeaders(A,P))}};e.EditorWorkerService=c,e.EditorWorkerService=c=Ie([ue(0,v.IModelService),ue(1,_.ITextResourceConfigurationService),ue(2,s.ILogService),ue(3,p.ILanguageConfigurationService),ue(4,n.ILanguageFeaturesService)],c);class b{constructor(A,P,M,R){this.languageConfigurationService=R,this._debugDisplayName="wordbasedCompletions",this._workerManager=A,this._configurationService=P,this._modelService=M}async provideCompletionItems(A,P){const M=this._configurationService.getValue(A.uri,P,"editor");if(M.wordBasedSuggestions==="off")return;const R=[];if(M.wordBasedSuggestions==="currentDocument")g(this._modelService,A.uri)&&R.push(A.uri);else for(const z of this._modelService.getModels())g(this._modelService,z.uri)&&(z===A?R.unshift(z.uri):(M.wordBasedSuggestions==="allDocuments"||z.getLanguageId()===A.getLanguageId())&&R.push(z.uri));if(R.length===0)return;const F=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition(),O=A.getWordAtPosition(P),B=O?new y.Range(P.lineNumber,O.startColumn,P.lineNumber,O.endColumn):y.Range.fromPositions(P),H=B.setEndPosition(P.lineNumber,P.column),q=await(await this._workerManager.withWorker()).textualSuggest(R,O?.word,F);if(q)return{duration:q.duration,suggestions:q.words.map(z=>({kind:18,label:z,insertText:z,range:{insert:H,replace:B}}))}}}class C extends k.Disposable{constructor(A,P){super(),this.languageConfigurationService=P,this._modelService=A,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new r.WindowIntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(o/2),d.mainWindow),this._register(this._modelService.onModelRemoved(R=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>o&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new T(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends k.Disposable{constructor(A,P,M){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=A,this._modelService=P,!M){const R=new f.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(l/2)),this._register(R)}}dispose(){for(const A in this._syncedModels)(0,k.dispose)(this._syncedModels[A]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(A,P){for(const M of A){const R=M.toString();this._syncedModels[R]||this._beginModelSync(M,P),this._syncedModels[R]&&(this._syncedModelsLastUsedTime[R]=new Date().getTime())}}_checkStopModelSync(){const A=new Date().getTime(),P=[];for(const M in this._syncedModelsLastUsedTime)A-this._syncedModelsLastUsedTime[M]>l&&P.push(M);for(const M of P)this._stopModelSync(M)}_beginModelSync(A,P){const M=this._modelService.getModel(A);if(!M||!P&&M.isTooLargeForSyncing())return;const R=A.toString();this._proxy.acceptNewModel({url:M.uri.toString(),lines:M.getLinesContent(),EOL:M.getEOL(),versionId:M.getVersionId()});const F=new k.DisposableStore;F.add(M.onDidChangeContent(O=>{this._proxy.acceptModelChanged(R.toString(),O)})),F.add(M.onWillDispose(()=>{this._stopModelSync(R)})),F.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(R)})),this._syncedModels[R]=F}_stopModelSync(A){const P=this._syncedModels[A];delete this._syncedModels[A],delete this._syncedModelsLastUsedTime[A],(0,k.dispose)(P)}}class D{constructor(A){this._instance=A,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class I{constructor(A){this._workerClient=A}fhr(A,P){return this._workerClient.fhr(A,P)}}e.EditorWorkerHost=I;class T extends k.Disposable{constructor(A,P,M,R){super(),this.languageConfigurationService=R,this._disposed=!1,this._modelService=A,this._keepIdleModels=P,this._workerFactory=new L.DefaultWorkerFactory(M),this._worker=null,this._modelManager=null}fhr(A,P){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new E.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new I(this)))}catch(A){(0,E.logOnceWebWorkerWarning)(A),this._worker=new D(new w.EditorSimpleWorker(new I(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,A=>((0,E.logOnceWebWorkerWarning)(A),this._worker=new D(new w.EditorSimpleWorker(new I(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(A){return this._modelManager||(this._modelManager=this._register(new S(A,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(A,P=!1){return this._disposed?Promise.reject((0,t.canceled)()):this._getProxy().then(M=>(this._getOrCreateModelManager(M).ensureSyncedResources(A,P),M))}computedUnicodeHighlights(A,P,M){return this._withSyncedResources([A]).then(R=>R.computeUnicodeHighlights(A.toString(),P,M))}computeDiff(A,P,M,R){return this._withSyncedResources([A,P],!0).then(F=>F.computeDiff(A.toString(),P.toString(),M,R))}computeMoreMinimalEdits(A,P,M){return this._withSyncedResources([A]).then(R=>R.computeMoreMinimalEdits(A.toString(),P,M))}computeLinks(A){return this._withSyncedResources([A]).then(P=>P.computeLinks(A.toString()))}computeDefaultDocumentColors(A){return this._withSyncedResources([A]).then(P=>P.computeDefaultDocumentColors(A.toString()))}async textualSuggest(A,P,M){const R=await this._withSyncedResources(A),F=M.source,O=M.flags;return R.textualSuggest(A.map(B=>B.toString()),P,F,O)}computeWordRanges(A,P){return this._withSyncedResources([A]).then(M=>{const R=this._modelService.getModel(A);if(!R)return Promise.resolve(null);const F=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition(),O=F.source,B=F.flags;return M.computeWordRanges(A.toString(),P,O,B)})}navigateValueSet(A,P,M){return this._withSyncedResources([A]).then(R=>{const F=this._modelService.getModel(A);if(!F)return null;const O=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition(),B=O.source,H=O.flags;return R.navigateValueSet(A.toString(),P,M,B,H)})}findSectionHeaders(A,P){return this._withSyncedResources([A]).then(M=>M.findSectionHeaders(A.toString(),P))}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=T}),define(ie[827],ne([1,0,55,262]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=E;function E(y,p,w){return new L(y,p,w)}class L extends k.EditorWorkerClient{constructor(p,w,v){super(p,v.keepIdleModels||!1,v.label,w),this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(p,w){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,w))}catch(v){return Promise.reject(v)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const w=this._foreignModuleHost?(0,f.getAllMethodNames)(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,w).then(v=>{this._foreignModuleCreateData=null;const _=(i,t)=>p.fmr(i,t),a=(i,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(i,n)},s={};for(const i of v)s[i]=a(i,_);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(w=>this.getProxy())}}}),define(ie[263],ne([1,0,11,124,143,33]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInheritIndentForLine=p,e.getGoodIndentForLine=w,e.getIndentForEnter=v,e.getIndentActionForType=_,e.getIndentMetadata=a;function y(s,i,t){const n=s.tokenization.getLanguageIdAtPosition(i,0);if(i>1){let h,m=-1;for(h=i-1;h>=1;h--){if(s.tokenization.getLanguageIdAtPosition(h,0)!==n)return m;const u=s.getLineContent(h);if(t.shouldIgnore(u)||/^\s+$/.test(u)||u===""){m=h;continue}return h}}return-1}function p(s,i,t,n=!0,h){if(s<4)return null;const m=h.getLanguageConfiguration(i.tokenization.getLanguageId()).indentRulesSupport;if(!m)return null;if(t<=1)return{indentation:"",action:null};for(let r=t-1;r>0&&i.getLineContent(r)==="";r--)if(r===1)return{indentation:"",action:null};const u=y(i,t,m);if(u<0)return null;if(u<1)return{indentation:"",action:null};const d=i.getLineContent(u);if(m.shouldIncrease(d)||m.shouldIndentNextLine(d))return{indentation:f.getLeadingWhitespace(d),action:k.IndentAction.Indent,line:u};if(m.shouldDecrease(d))return{indentation:f.getLeadingWhitespace(d),action:null,line:u};{if(u===1)return{indentation:f.getLeadingWhitespace(i.getLineContent(u)),action:null,line:u};const r=u-1,l=m.getIndentMetadata(i.getLineContent(r));if(!(l&3)&&l&4){let o=0;for(let g=r-1;g>0;g--)if(!m.shouldIndentNextLine(i.getLineContent(g))){o=g;break}return{indentation:f.getLeadingWhitespace(i.getLineContent(o+1)),action:null,line:o+1}}if(n)return{indentation:f.getLeadingWhitespace(i.getLineContent(u)),action:null,line:u};for(let o=u;o>0;o--){const g=i.getLineContent(o);if(m.shouldIncrease(g))return{indentation:f.getLeadingWhitespace(g),action:k.IndentAction.Indent,line:o};if(m.shouldIndentNextLine(g)){let c=0;for(let b=o-1;b>0;b--)if(!m.shouldIndentNextLine(i.getLineContent(o))){c=b;break}return{indentation:f.getLeadingWhitespace(i.getLineContent(c+1)),action:null,line:c+1}}else if(m.shouldDecrease(g))return{indentation:f.getLeadingWhitespace(g),action:null,line:o}}return{indentation:f.getLeadingWhitespace(i.getLineContent(1)),action:null,line:1}}}function w(s,i,t,n,h,m){if(s<4)return null;const u=m.getLanguageConfiguration(t);if(!u)return null;const d=m.getLanguageConfiguration(t).indentRulesSupport;if(!d)return null;const r=p(s,i,n,void 0,m),l=i.getLineContent(n);if(r){const o=r.line;if(o!==void 0){let g=!0;for(let c=o;c<n-1;c++)if(!/^\s*$/.test(i.getLineContent(c))){g=!1;break}if(g){const c=u.onEnter(s,"",i.getLineContent(o),"");if(c){let b=f.getLeadingWhitespace(i.getLineContent(o));return c.removeText&&(b=b.substring(0,b.length-c.removeText)),c.indentAction===k.IndentAction.Indent||c.indentAction===k.IndentAction.IndentOutdent?b=h.shiftIndent(b):c.indentAction===k.IndentAction.Outdent&&(b=h.unshiftIndent(b)),d.shouldDecrease(l)&&(b=h.unshiftIndent(b)),c.appendText&&(b+=c.appendText),f.getLeadingWhitespace(b)}}}return d.shouldDecrease(l)?r.action===k.IndentAction.Indent?r.indentation:h.unshiftIndent(r.indentation):r.action===k.IndentAction.Indent?h.shiftIndent(r.indentation):r.indentation}return null}function v(s,i,t,n,h){if(s<4)return null;i.tokenization.forceTokenization(t.startLineNumber);const m=i.tokenization.getLineTokens(t.startLineNumber),u=(0,E.createScopedLineTokens)(m,t.startColumn-1),d=u.getLineContent();let r=!1,l;u.firstCharOffset>0&&m.getLanguageId(0)!==u.languageId?(r=!0,l=d.substr(0,t.startColumn-1-u.firstCharOffset)):l=m.getLineContent().substring(0,t.startColumn-1);let o;t.isEmpty()?o=d.substr(t.startColumn-1-u.firstCharOffset):o=(0,L.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-u.firstCharOffset);const g=h.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!g)return null;const c=l,b=f.getLeadingWhitespace(l),C={tokenization:{getLineTokens:T=>i.tokenization.getLineTokens(T),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(T,N)=>i.getLanguageIdAtPosition(T,N)},getLineContent:T=>T===t.startLineNumber?c:i.getLineContent(T)},S=f.getLeadingWhitespace(m.getLineContent()),D=p(s,C,t.startLineNumber+1,void 0,h);if(!D){const T=r?S:b;return{beforeEnter:T,afterEnter:T}}let I=r?S:D.indentation;return D.action===k.IndentAction.Indent&&(I=n.shiftIndent(I)),g.shouldDecrease(o)&&(I=n.unshiftIndent(I)),{beforeEnter:r?S:b,afterEnter:I}}function _(s,i,t,n,h,m){if(s<4)return null;const u=(0,L.getScopedLineTokens)(i,t.startLineNumber,t.startColumn);if(u.firstCharOffset)return null;const d=m.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!d)return null;const r=u.getLineContent(),l=r.substr(0,t.startColumn-1-u.firstCharOffset);let o;if(t.isEmpty()?o=r.substr(t.startColumn-1-u.firstCharOffset):o=(0,L.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-u.firstCharOffset),!d.shouldDecrease(l+o)&&d.shouldDecrease(l+n+o)){const g=p(s,i,t.startLineNumber,!1,m);if(!g)return null;let c=g.indentation;return g.action!==k.IndentAction.Indent&&(c=h.unshiftIndent(c)),c}return null}function a(s,i,t){const n=t.getLanguageConfiguration(s.getLanguageId()).indentRulesSupport;return!n||i<1||i>s.getLineCount()?null:n.getIndentMetadata(s.getLineContent(i))}}),define(ie[264],ne([1,0,124,33]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=E;function E(L,y,p,w){const v=(0,k.getScopedLineTokens)(y,p.startLineNumber,p.startColumn),_=w.getLanguageConfiguration(v.languageId);if(!_)return null;const a=v.getLineContent(),s=a.substr(0,p.startColumn-1-v.firstCharOffset);let i;p.isEmpty()?i=a.substr(p.startColumn-1-v.firstCharOffset):i=(0,k.getScopedLineTokens)(y,p.endLineNumber,p.endColumn).getLineContent().substr(p.endColumn-1-v.firstCharOffset);let t="";if(p.startLineNumber>1&&v.firstCharOffset===0){const r=(0,k.getScopedLineTokens)(y,p.startLineNumber-1);r.languageId===v.languageId&&(t=r.getLineContent())}const n=_.onEnter(L,t,s,i);if(!n)return null;const h=n.indentAction;let m=n.appendText;const u=n.removeText||0;m?h===f.IndentAction.Indent&&(m="	"+m):h===f.IndentAction.Indent||h===f.IndentAction.IndentOutdent?m="	":m="";let d=(0,k.getIndentationAtPosition)(y,p.startLineNumber,p.startColumn);return u&&(d=d.substring(0,d.length-u)),{indentAction:h,appendText:m,removeText:u,indentation:d}}}),define(ie[204],ne([1,0,11,90,5,24,264,33]),function(J,e,f,k,E,L,y,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const v=Object.create(null);function _(s,i){if(i<=0)return"";v[s]||(v[s]=["",s]);const t=v[s];for(let n=t.length;n<=i;n++)t[n]=t[n-1]+s;return t[i]}let a=w=class{static unshiftIndent(i,t,n,h,m){const u=k.CursorColumns.visibleColumnFromColumn(i,t,n);if(m){const d=_(" ",h),l=k.CursorColumns.prevIndentTabStop(u,h)/h;return _(d,l)}else{const d="	",l=k.CursorColumns.prevRenderTabStop(u,n)/n;return _(d,l)}}static shiftIndent(i,t,n,h,m){const u=k.CursorColumns.visibleColumnFromColumn(i,t,n);if(m){const d=_(" ",h),l=k.CursorColumns.nextIndentTabStop(u,h)/h;return _(d,l)}else{const d="	",l=k.CursorColumns.nextRenderTabStop(u,n)/n;return _(d,l)}}constructor(i,t,n){this._languageConfigurationService=n,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,t,n){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,n):i.addEditOperation(t,n)}getEditOperations(i,t){const n=this._selection.startLineNumber;let h=this._selection.endLineNumber;this._selection.endColumn===1&&n!==h&&(h=h-1);const{tabSize:m,indentSize:u,insertSpaces:d}=this._opts,r=n===h;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,o=0;for(let g=n;g<=h;g++,l=o){o=0;const c=i.getLineContent(g);let b=f.firstNonWhitespaceIndex(c);if(this._opts.isUnshift&&(c.length===0||b===0)||!r&&!this._opts.isUnshift&&c.length===0)continue;if(b===-1&&(b=c.length),g>1&&k.CursorColumns.visibleColumnFromColumn(c,b+1,m)%u!==0&&i.tokenization.isCheapToTokenize(g-1)){const D=(0,y.getEnterAction)(this._opts.autoIndent,i,new E.Range(g-1,i.getLineMaxColumn(g-1),g-1,i.getLineMaxColumn(g-1)),this._languageConfigurationService);if(D){if(o=l,D.appendText)for(let I=0,T=D.appendText.length;I<T&&o<u&&D.appendText.charCodeAt(I)===32;I++)o++;D.removeText&&(o=Math.max(0,o-D.removeText));for(let I=0;I<o&&!(b===0||c.charCodeAt(b-1)!==32);I++)b--}}if(this._opts.isUnshift&&b===0)continue;let C;this._opts.isUnshift?C=w.unshiftIndent(c,b+1,m,u,d):C=w.shiftIndent(c,b+1,m,u,d),this._addEditOperation(t,new E.Range(g,1,g,b+1),C),g===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=b+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(n)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const l=d?_(" ",u):"	";for(let o=n;o<=h;o++){const g=i.getLineContent(o);let c=f.firstNonWhitespaceIndex(g);if(!(this._opts.isUnshift&&(g.length===0||c===0))&&!(!r&&!this._opts.isUnshift&&g.length===0)&&(c===-1&&(c=g.length),!(this._opts.isUnshift&&c===0)))if(this._opts.isUnshift){c=Math.min(c,u);for(let b=0;b<c;b++)if(g.charCodeAt(b)===9){c=b+1;break}this._addEditOperation(t,new E.Range(o,1,o,c+1),"")}else this._addEditOperation(t,new E.Range(o,1,o,1),l),o===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const h=t.getInverseEditOperations()[0];return new L.Selection(h.range.endLineNumber,h.range.endColumn,h.range.endLineNumber,h.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const h=this._selection.startColumn;return n.startColumn<=h?n:n.getDirection()===0?new L.Selection(n.startLineNumber,h,n.endLineNumber,n.endColumn):new L.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,h)}return n}};e.ShiftCommand=a,e.ShiftCommand=a=w=Ie([ue(2,p.ILanguageConfigurationService)],a)}),define(ie[265],ne([1,0,12,11,140,204,524,77,159,5,9,124,33,143,263,264]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class h{static indent(c,b,C){if(b===null||C===null)return[];const S=[];for(let D=0,I=C.length;D<I;D++)S[D]=new L.ShiftCommand(C[D],{isUnshift:!1,tabSize:c.tabSize,indentSize:c.indentSize,insertSpaces:c.insertSpaces,useTabStops:c.useTabStops,autoIndent:c.autoIndent},c.languageConfigurationService);return S}static outdent(c,b,C){const S=[];for(let D=0,I=C.length;D<I;D++)S[D]=new L.ShiftCommand(C[D],{isUnshift:!0,tabSize:c.tabSize,indentSize:c.indentSize,insertSpaces:c.insertSpaces,useTabStops:c.useTabStops,autoIndent:c.autoIndent},c.languageConfigurationService);return S}static shiftIndent(c,b,C){return C=C||1,L.ShiftCommand.shiftIndent(b,b.length+C,c.tabSize,c.indentSize,c.insertSpaces)}static unshiftIndent(c,b,C){return C=C||1,L.ShiftCommand.unshiftIndent(b,b.length+C,c.tabSize,c.indentSize,c.insertSpaces)}static _distributedPaste(c,b,C,S){const D=[];for(let I=0,T=C.length;I<T;I++)D[I]=new E.ReplaceCommand(C[I],S[I]);return new p.EditOperationResult(0,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(c,b,C,S,D){const I=[];for(let T=0,N=C.length;T<N;T++){const A=C[T],P=A.getPosition();if(D&&!A.isEmpty()&&(D=!1),D&&S.indexOf(`
`)!==S.length-1&&(D=!1),D){const M=new v.Range(P.lineNumber,1,P.lineNumber,1);I[T]=new E.ReplaceCommandThatPreservesSelection(M,S,A,!0)}else I[T]=new E.ReplaceCommand(A,S)}return new p.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(c,b,C,S,D){if(S||b.length===1)return null;if(D&&D.length===b.length)return D;if(c.multiCursorPaste==="spread"){C.charCodeAt(C.length-1)===10&&(C=C.substr(0,C.length-1)),C.charCodeAt(C.length-1)===13&&(C=C.substr(0,C.length-1));const I=k.splitLines(C);if(I.length===b.length)return I}return null}static paste(c,b,C,S,D,I){const T=this._distributePasteToCursors(c,C,S,D,I);return T?(C=C.sort(v.Range.compareRangesUsingStarts),this._distributedPaste(c,b,C,T)):this._simplePaste(c,b,C,S,D)}static _goodIndentForLine(c,b,C){let S=null,D="";const I=(0,t.getInheritIndentForLine)(c.autoIndent,b,C,!1,c.languageConfigurationService);if(I)S=I.action,D=I.indentation;else if(C>1){let T;for(T=C-1;T>=1;T--){const P=b.getLineContent(T);if(k.lastNonWhitespaceIndex(P)>=0)break}if(T<1)return null;const N=b.getLineMaxColumn(T),A=(0,n.getEnterAction)(c.autoIndent,b,new v.Range(T,N,T,N),c.languageConfigurationService);A&&(D=A.indentation+A.appendText)}return S&&(S===a.IndentAction.Indent&&(D=h.shiftIndent(c,D)),S===a.IndentAction.Outdent&&(D=h.unshiftIndent(c,D)),D=c.normalizeIndentation(D)),D||null}static _replaceJumpToNextIndent(c,b,C,S){let D="";const I=C.getStartPosition();if(c.insertSpaces){const T=c.visibleColumnFromColumn(b,I),N=c.indentSize,A=N-T%N;for(let P=0;P<A;P++)D+=" "}else D="	";return new E.ReplaceCommand(C,D,S)}static tab(c,b,C){const S=[];for(let D=0,I=C.length;D<I;D++){const T=C[D];if(T.isEmpty()){const N=b.getLineContent(T.startLineNumber);if(/^\s*$/.test(N)&&b.tokenization.isCheapToTokenize(T.startLineNumber)){let A=this._goodIndentForLine(c,b,T.startLineNumber);A=A||"	";const P=c.normalizeIndentation(A);if(!N.startsWith(P)){S[D]=new E.ReplaceCommand(new v.Range(T.startLineNumber,1,T.startLineNumber,N.length+1),P,!0);continue}}S[D]=this._replaceJumpToNextIndent(c,b,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const N=b.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==N){S[D]=this._replaceJumpToNextIndent(c,b,T,!1);continue}}S[D]=new L.ShiftCommand(T,{isUnshift:!1,tabSize:c.tabSize,indentSize:c.indentSize,insertSpaces:c.insertSpaces,useTabStops:c.useTabStops,autoIndent:c.autoIndent},c.languageConfigurationService)}}return S}static compositionType(c,b,C,S,D,I,T,N){const A=S.map(P=>this._compositionType(C,P,D,I,T,N));return new p.EditOperationResult(4,A,{shouldPushStackElementBefore:r(c,4),shouldPushStackElementAfter:!1})}static _compositionType(c,b,C,S,D,I){if(!b.isEmpty())return null;const T=b.getPosition(),N=Math.max(1,T.column-S),A=Math.min(c.getLineMaxColumn(T.lineNumber),T.column+D),P=new v.Range(T.lineNumber,N,T.lineNumber,A);return c.getValueInRange(P)===C&&I===0?null:new E.ReplaceCommandWithOffsetCursorState(P,C,0,I)}static _typeCommand(c,b,C){return C?new E.ReplaceCommandWithoutChangingPosition(c,b,!0):new E.ReplaceCommand(c,b,!0)}static _enter(c,b,C,S){if(c.autoIndent===0)return h._typeCommand(S,`
`,C);if(!b.tokenization.isCheapToTokenize(S.getStartPosition().lineNumber)||c.autoIndent===1){const N=b.getLineContent(S.startLineNumber),A=k.getLeadingWhitespace(N).substring(0,S.startColumn-1);return h._typeCommand(S,`
`+c.normalizeIndentation(A),C)}const D=(0,n.getEnterAction)(c.autoIndent,b,S,c.languageConfigurationService);if(D){if(D.indentAction===a.IndentAction.None)return h._typeCommand(S,`
`+c.normalizeIndentation(D.indentation+D.appendText),C);if(D.indentAction===a.IndentAction.Indent)return h._typeCommand(S,`
`+c.normalizeIndentation(D.indentation+D.appendText),C);if(D.indentAction===a.IndentAction.IndentOutdent){const N=c.normalizeIndentation(D.indentation),A=c.normalizeIndentation(D.indentation+D.appendText),P=`
`+A+`
`+N;return C?new E.ReplaceCommandWithoutChangingPosition(S,P,!0):new E.ReplaceCommandWithOffsetCursorState(S,P,-1,A.length-N.length,!0)}else if(D.indentAction===a.IndentAction.Outdent){const N=h.unshiftIndent(c,D.indentation);return h._typeCommand(S,`
`+c.normalizeIndentation(N+D.appendText),C)}}const I=b.getLineContent(S.startLineNumber),T=k.getLeadingWhitespace(I).substring(0,S.startColumn-1);if(c.autoIndent>=4){const N=(0,t.getIndentForEnter)(c.autoIndent,b,S,{unshiftIndent:A=>h.unshiftIndent(c,A),shiftIndent:A=>h.shiftIndent(c,A),normalizeIndentation:A=>c.normalizeIndentation(A)},c.languageConfigurationService);if(N){let A=c.visibleColumnFromColumn(b,S.getEndPosition());const P=S.endColumn,M=b.getLineContent(S.endLineNumber),R=k.firstNonWhitespaceIndex(M);if(R>=0?S=S.setEndPosition(S.endLineNumber,Math.max(S.endColumn,R+1)):S=S.setEndPosition(S.endLineNumber,b.getLineMaxColumn(S.endLineNumber)),C)return new E.ReplaceCommandWithoutChangingPosition(S,`
`+c.normalizeIndentation(N.afterEnter),!0);{let F=0;return P<=R+1&&(c.insertSpaces||(A=Math.ceil(A/c.indentSize)),F=Math.min(A+1-c.normalizeIndentation(N.afterEnter).length-1,0)),new E.ReplaceCommandWithOffsetCursorState(S,`
`+c.normalizeIndentation(N.afterEnter),0,F,!0)}}}return h._typeCommand(S,`
`+c.normalizeIndentation(T),C)}static _isAutoIndentType(c,b,C){if(c.autoIndent<4)return!1;for(let S=0,D=C.length;S<D;S++)if(!b.tokenization.isCheapToTokenize(C[S].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(c,b,C,S){const D=(0,s.getIndentationAtPosition)(b,C.startLineNumber,C.startColumn),I=(0,t.getIndentActionForType)(c.autoIndent,b,C,S,{shiftIndent:T=>h.shiftIndent(c,T),unshiftIndent:T=>h.unshiftIndent(c,T)},c.languageConfigurationService);if(I===null)return null;if(I!==c.normalizeIndentation(D)){const T=b.getLineFirstNonWhitespaceColumn(C.startLineNumber);return T===0?h._typeCommand(new v.Range(C.startLineNumber,1,C.endLineNumber,C.endColumn),c.normalizeIndentation(I)+S,!1):h._typeCommand(new v.Range(C.startLineNumber,1,C.endLineNumber,C.endColumn),c.normalizeIndentation(I)+b.getLineContent(C.startLineNumber).substring(T-1,C.startColumn-1)+S,!1)}return null}static _isAutoClosingOvertype(c,b,C,S,D){if(c.autoClosingOvertype==="never"||!c.autoClosingPairs.autoClosingPairsCloseSingleChar.has(D))return!1;for(let I=0,T=C.length;I<T;I++){const N=C[I];if(!N.isEmpty())return!1;const A=N.getPosition(),P=b.getLineContent(A.lineNumber);if(P.charAt(A.column-1)!==D)return!1;const R=(0,p.isQuote)(D);if((A.column>2?P.charCodeAt(A.column-2):0)===92&&R)return!1;if(c.autoClosingOvertype==="auto"){let O=!1;for(let B=0,H=S.length;B<H;B++){const V=S[B];if(A.lineNumber===V.startLineNumber&&A.column===V.startColumn){O=!0;break}}if(!O)return!1}}return!0}static _runAutoClosingOvertype(c,b,C,S,D){const I=[];for(let T=0,N=S.length;T<N;T++){const P=S[T].getPosition(),M=new v.Range(P.lineNumber,P.column,P.lineNumber,P.column+1);I[T]=new E.ReplaceCommand(M,D)}return new p.EditOperationResult(4,I,{shouldPushStackElementBefore:r(c,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(c,b){const C=b.charAt(0),S=c.autoClosingPairs.autoClosingPairsOpenByStart.get(C)||[],D=c.autoClosingPairs.autoClosingPairsCloseByStart.get(C)||[],I=S.some(N=>b.startsWith(N.open)),T=D.some(N=>b.startsWith(N.close));return!I&&T}static _findAutoClosingPairOpen(c,b,C,S){const D=c.autoClosingPairs.autoClosingPairsOpenByEnd.get(S);if(!D)return null;let I=null;for(const T of D)if(I===null||T.open.length>I.open.length){let N=!0;for(const A of C)if(b.getValueInRange(new v.Range(A.lineNumber,A.column-T.open.length+1,A.lineNumber,A.column))+S!==T.open){N=!1;break}N&&(I=T)}return I}static _findContainedAutoClosingPair(c,b){if(b.open.length<=1)return null;const C=b.close.charAt(b.close.length-1),S=c.autoClosingPairs.autoClosingPairsCloseByEnd.get(C)||[];let D=null;for(const I of S)I.open!==b.open&&b.open.includes(I.open)&&b.close.endsWith(I.close)&&(!D||I.open.length>D.open.length)&&(D=I);return D}static _getAutoClosingPairClose(c,b,C,S,D){for(const O of C)if(!O.isEmpty())return null;const I=C.map(O=>{const B=O.getPosition();return D?{lineNumber:B.lineNumber,beforeColumn:B.column-S.length,afterColumn:B.column}:{lineNumber:B.lineNumber,beforeColumn:B.column,afterColumn:B.column}}),T=this._findAutoClosingPairOpen(c,b,I.map(O=>new _.Position(O.lineNumber,O.beforeColumn)),S);if(!T)return null;let N,A;if((0,p.isQuote)(S)?(N=c.autoClosingQuotes,A=c.shouldAutoCloseBefore.quote):(c.blockCommentStartToken?T.open.includes(c.blockCommentStartToken):!1)?(N=c.autoClosingComments,A=c.shouldAutoCloseBefore.comment):(N=c.autoClosingBrackets,A=c.shouldAutoCloseBefore.bracket),N==="never")return null;const M=this._findContainedAutoClosingPair(c,T),R=M?M.close:"";let F=!0;for(const O of I){const{lineNumber:B,beforeColumn:H,afterColumn:V}=O,q=b.getLineContent(B),z=q.substring(0,H-1),U=q.substring(V-1);if(U.startsWith(R)||(F=!1),U.length>0){const Q=U.charAt(0);if(!h._isBeforeClosingBrace(c,U)&&!A(Q))return null}if(T.open.length===1&&(S==="'"||S==='"')&&N!=="always"){const Q=(0,w.getMapForWordSeparators)(c.wordSeparators,[]);if(z.length>0){const X=z.charCodeAt(z.length-1);if(Q.get(X)===0)return null}}if(!b.tokenization.isCheapToTokenize(B))return null;b.tokenization.forceTokenization(B);const Z=b.tokenization.getLineTokens(B),re=(0,i.createScopedLineTokens)(Z,H-1);if(!T.shouldAutoClose(re,H-re.firstCharOffset))return null;const x=T.findNeutralCharacter();if(x){const Q=b.tokenization.getTokenTypeIfInsertingCharacter(B,H,x);if(!T.isOK(Q))return null}}return F?T.close.substring(0,T.close.length-R.length):T.close}static _runAutoClosingOpenCharType(c,b,C,S,D,I,T){const N=[];for(let A=0,P=S.length;A<P;A++){const M=S[A];N[A]=new m(M,D,!I,T)}return new p.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(c,b){return(0,p.isQuote)(b)?c.autoSurround==="quotes"||c.autoSurround==="languageDefined":c.autoSurround==="brackets"||c.autoSurround==="languageDefined"}static _isSurroundSelectionType(c,b,C,S){if(!h._shouldSurroundChar(c,S)||!c.surroundingPairs.hasOwnProperty(S))return!1;const D=(0,p.isQuote)(S);for(const I of C){if(I.isEmpty())return!1;let T=!0;for(let N=I.startLineNumber;N<=I.endLineNumber;N++){const A=b.getLineContent(N),P=N===I.startLineNumber?I.startColumn-1:0,M=N===I.endLineNumber?I.endColumn-1:A.length,R=A.substring(P,M);if(/[^ \t]/.test(R)){T=!1;break}}if(T)return!1;if(D&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const N=b.getValueInRange(I);if((0,p.isQuote)(N))return!1}}return!0}static _runSurroundSelectionType(c,b,C,S,D){const I=[];for(let T=0,N=S.length;T<N;T++){const A=S[T],P=b.surroundingPairs[D];I[T]=new y.SurroundSelectionCommand(A,D,P)}return new p.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(c,b,C){return!!(C.length===1&&b.tokenization.isCheapToTokenize(C[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(c,b,C,S,D){if(!b.electricChars.hasOwnProperty(D)||!S.isEmpty())return null;const I=S.getPosition();C.tokenization.forceTokenization(I.lineNumber);const T=C.tokenization.getLineTokens(I.lineNumber);let N;try{N=b.onElectricCharacter(D,T,I.column)}catch(A){return(0,f.onUnexpectedError)(A),null}if(!N)return null;if(N.matchOpenBracket){const A=(T.getLineContent()+D).lastIndexOf(N.matchOpenBracket)+1,P=C.bracketPairs.findMatchingBracketUp(N.matchOpenBracket,{lineNumber:I.lineNumber,column:A},500);if(P){if(P.startLineNumber===I.lineNumber)return null;const M=C.getLineContent(P.startLineNumber),R=k.getLeadingWhitespace(M),F=b.normalizeIndentation(R),O=C.getLineContent(I.lineNumber),B=C.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,H=O.substring(B-1,I.column-1),V=F+H+D,q=new v.Range(I.lineNumber,1,I.lineNumber,I.column),z=new E.ReplaceCommand(q,V);return new p.EditOperationResult(d(V,c),[z],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(c,b,C,S,D,I){if(!S)return null;let T=null;for(const M of S)if(T===null)T=M.insertedText;else if(T!==M.insertedText)return null;if(!T||T.length!==1)return null;const N=T;let A=!1;for(const M of S)if(M.deletedText.length!==0){A=!0;break}if(A){if(!h._shouldSurroundChar(b,N)||!b.surroundingPairs.hasOwnProperty(N))return null;const M=(0,p.isQuote)(N);for(const O of S)if(O.deletedSelectionStart!==0||O.deletedSelectionEnd!==O.deletedText.length||/^[ \t]+$/.test(O.deletedText)||M&&(0,p.isQuote)(O.deletedText))return null;const R=[];for(const O of D){if(!O.isEmpty())return null;R.push(O.getPosition())}if(R.length!==S.length)return null;const F=[];for(let O=0,B=R.length;O<B;O++)F.push(new y.CompositionSurroundSelectionCommand(R[O],S[O].deletedText,b.surroundingPairs[N]));return new p.EditOperationResult(4,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(b,C,D,I,N)){const M=D.map(R=>new E.ReplaceCommand(new v.Range(R.positionLineNumber,R.positionColumn,R.positionLineNumber,R.positionColumn+1),"",!1));return new p.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const P=this._getAutoClosingPairClose(b,C,D,N,!0);return P!==null?this._runAutoClosingOpenCharType(c,b,C,D,N,!0,P):null}static typeWithInterceptors(c,b,C,S,D,I,T){if(!c&&T===`
`){const P=[];for(let M=0,R=D.length;M<R;M++)P[M]=h._enter(C,S,!1,D[M]);return new p.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!c&&this._isAutoIndentType(C,S,D)){const P=[];let M=!1;for(let R=0,F=D.length;R<F;R++)if(P[R]=this._runAutoIndentType(C,S,D[R],T),!P[R]){M=!0;break}if(!M)return new p.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(C,S,D,I,T))return this._runAutoClosingOvertype(b,C,S,D,T);if(!c){const P=this._getAutoClosingPairClose(C,S,D,T,!1);if(P)return this._runAutoClosingOpenCharType(b,C,S,D,T,!1,P)}if(!c&&this._isSurroundSelectionType(C,S,D,T))return this._runSurroundSelectionType(b,C,S,D,T);if(!c&&this._isTypeInterceptorElectricChar(C,S,D)){const P=this._typeInterceptorElectricChar(b,C,S,D[0],T);if(P)return P}const N=[];for(let P=0,M=D.length;P<M;P++)N[P]=new E.ReplaceCommand(D[P],T);const A=d(T,b);return new p.EditOperationResult(A,N,{shouldPushStackElementBefore:r(b,A),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(c,b,C,S,D){const I=[];for(let N=0,A=S.length;N<A;N++)I[N]=new E.ReplaceCommand(S[N],D);const T=d(D,c);return new p.EditOperationResult(T,I,{shouldPushStackElementBefore:r(c,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(c,b,C){if(b===null||C===null)return[];const S=[];for(let D=0,I=C.length;D<I;D++){let T=C[D].positionLineNumber;if(T===1)S[D]=new E.ReplaceCommandWithoutChangingPosition(new v.Range(1,1,1,1),`
`);else{T--;const N=b.getLineMaxColumn(T);S[D]=this._enter(c,b,!1,new v.Range(T,N,T,N))}}return S}static lineInsertAfter(c,b,C){if(b===null||C===null)return[];const S=[];for(let D=0,I=C.length;D<I;D++){const T=C[D].positionLineNumber,N=b.getLineMaxColumn(T);S[D]=this._enter(c,b,!1,new v.Range(T,N,T,N))}return S}static lineBreakInsert(c,b,C){const S=[];for(let D=0,I=C.length;D<I;D++)S[D]=this._enter(c,b,!0,C[D]);return S}}e.TypeOperations=h;class m extends E.ReplaceCommandWithOffsetCursorState{constructor(c,b,C,S){super(c,(C?b:"")+S,0,-S.length),this._openCharacter=b,this._closeCharacter=S,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(c,b){const S=b.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v.Range(S.startLineNumber,S.endColumn-this._closeCharacter.length,S.endLineNumber,S.endColumn),this.enclosingRange=new v.Range(S.startLineNumber,S.endColumn-this._openCharacter.length-this._closeCharacter.length,S.endLineNumber,S.endColumn),super.computeCursorState(c,b)}}e.TypeWithAutoClosingCommand=m;class u{constructor(c,b,C,S,D,I){this.deletedText=c,this.deletedSelectionStart=b,this.deletedSelectionEnd=C,this.insertedText=S,this.insertedSelectionStart=D,this.insertedSelectionEnd=I}}e.CompositionOutcome=u;function d(g,c){return g===" "?c===5||c===6?6:5:4}function r(g,c){return o(g)&&!o(c)?!0:g===5?!1:l(g)!==l(c)}function l(g){return g===6||g===5?"space":g}function o(g){return g===4||g===5||g===6}}),define(ie[828],ne([1,0,12,11,537,77,526,224,265,5,24,125,231,2,232]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class n extends i.Disposable{constructor(o,g,c,b){super(),this._model=o,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=g,this._coordinatesConverter=c,this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,b),this._cursors=new E.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(o){this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,o),this._cursors.updateContext(this.context)}onLineMappingChanged(o){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(o,"viewModel",0,this.getCursorStates())}setHasFocus(o){this._hasFocus=o}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const o=this._cursors.getSelections();for(let g=0;g<this._autoClosedActions.length;g++){const c=this._autoClosedActions[g];c.isValid(o)||(c.dispose(),this._autoClosedActions.splice(g,1),g--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(o,g,c,b){let C=!1;const S=this.context.cursorConfig.multiCursorLimit;b!==null&&b.length>S&&(b=b.slice(0,S),C=!0);const D=h.from(this._model,this);return this._cursors.setStates(b),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,g,c,D,C)}setCursorColumnSelectData(o){this._columnSelectData=o}revealAll(o,g,c,b,C,S){const D=this._cursors.getViewPositions();let I=null,T=null;D.length>1?T=this._cursors.getViewSelections():I=v.Range.fromPositions(D[0],D[0]),o.emitViewEvent(new s.ViewRevealRangeRequestEvent(g,c,I,T,b,C,S))}revealPrimary(o,g,c,b,C,S){const I=[this._cursors.getPrimaryCursor().viewState.selection];o.emitViewEvent(new s.ViewRevealRangeRequestEvent(g,c,null,I,b,C,S))}saveState(){const o=[],g=this._cursors.getSelections();for(let c=0,b=g.length;c<b;c++){const C=g[c];o.push({inSelectionMode:!C.isEmpty(),selectionStart:{lineNumber:C.selectionStartLineNumber,column:C.selectionStartColumn},position:{lineNumber:C.positionLineNumber,column:C.positionColumn}})}return o}restoreState(o,g){const c=[];for(let b=0,C=g.length;b<C;b++){const S=g[b];let D=1,I=1;S.position&&S.position.lineNumber&&(D=S.position.lineNumber),S.position&&S.position.column&&(I=S.position.column);let T=D,N=I;S.selectionStart&&S.selectionStart.lineNumber&&(T=S.selectionStart.lineNumber),S.selectionStart&&S.selectionStart.column&&(N=S.selectionStart.column),c.push({selectionStartLineNumber:T,selectionStartColumn:N,positionLineNumber:D,positionColumn:I})}this.setStates(o,"restoreState",0,L.CursorState.fromModelSelections(c)),this.revealAll(o,"restoreState",!1,0,!0,1)}onModelContentChanged(o,g){if(g instanceof a.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(o,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const c=g.rawContentChangedEvent;if(this._knownModelVersionId=c.versionId,this._isHandling)return;const b=c.containsEvent(1);if(this._prevEditOperationType=0,b)this._cursors.dispose(),this._cursors=new E.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,"model",1,null,!1);else if(this._hasFocus&&c.resultingSelection&&c.resultingSelection.length>0){const C=L.CursorState.fromModelSelections(c.resultingSelection);this.setStates(o,"modelChange",c.isUndoing?5:c.isRedoing?6:2,C)&&this.revealAll(o,"modelChange",!1,0,!0,0)}else{const C=this._cursors.readSelectionFromMarkers();this.setStates(o,"modelChange",2,L.CursorState.fromModelSelections(C))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const o=this._cursors.getPrimaryCursor(),g=o.viewState.selectionStart.getStartPosition(),c=o.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:c.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,c)}}getSelections(){return this._cursors.getSelections()}setSelections(o,g,c,b){this.setStates(o,g,b,L.CursorState.fromModelSelections(c))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(o){this._prevEditOperationType=o}_pushAutoClosedAction(o,g){const c=[],b=[];for(let D=0,I=o.length;D<I;D++)c.push({range:o[D],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),b.push({range:g[D],options:{description:"auto-closed-enclosing",stickiness:1}});const C=this._model.deltaDecorations([],c),S=this._model.deltaDecorations([],b);this._autoClosedActions.push(new m(this._model,C,S))}_executeEditOperation(o){if(!o)return;o.shouldPushStackElementBefore&&this._model.pushStackElement();const g=u.executeCommands(this._model,this._cursors.getSelections(),o.commands);if(g){this._interpretCommandResult(g);const c=[],b=[];for(let C=0;C<o.commands.length;C++){const S=o.commands[C];S instanceof w.TypeWithAutoClosingCommand&&S.enclosingRange&&S.closeCharacterRange&&(c.push(S.closeCharacterRange),b.push(S.enclosingRange))}c.length>0&&this._pushAutoClosedAction(c,b),this._prevEditOperationType=o.type}o.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(o){(!o||o.length===0)&&(o=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(o),this._cursors.normalize()}_emitStateChangedIfNecessary(o,g,c,b,C){const S=h.from(this._model,this);if(S.equals(b))return!1;const D=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(o.emitViewEvent(new s.ViewCursorStateChangedEvent(I,D,c)),!b||b.cursorState.length!==S.cursorState.length||S.cursorState.some((T,N)=>!T.modelState.equals(b.cursorState[N].modelState))){const T=b?b.cursorState.map(A=>A.modelState.selection):null,N=b?b.modelVersionId:0;o.emitOutgoingEvent(new t.CursorStateChangedEvent(T,D,N,S.modelVersionId,g||"keyboard",c,C))}return!0}_findAutoClosingPairs(o){if(!o.length)return null;const g=[];for(let c=0,b=o.length;c<b;c++){const C=o[c];if(!C.text||C.text.indexOf(`
`)>=0)return null;const S=C.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!S)return null;const D=S[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(D);if(!I||I.length!==1)return null;const T=I[0].open,N=C.text.length-S[2].length-1,A=C.text.lastIndexOf(T,N-1);if(A===-1)return null;g.push([A,N])}return g}executeEdits(o,g,c,b){let C=null;g==="snippet"&&(C=this._findAutoClosingPairs(c)),C&&(c[0]._isTracked=!0);const S=[],D=[],I=this._model.pushEditOperations(this.getSelections(),c,T=>{if(C)for(let A=0,P=C.length;A<P;A++){const[M,R]=C[A],F=T[A],O=F.range.startLineNumber,B=F.range.startColumn-1+M,H=F.range.startColumn-1+R;S.push(new v.Range(O,H+1,O,H+2)),D.push(new v.Range(O,B+1,O,H+2))}const N=b(T);return N&&(this._isHandling=!0),N});I&&(this._isHandling=!1,this.setSelections(o,g,I,0)),S.length>0&&this._pushAutoClosedAction(S,D)}_executeEdit(o,g,c,b=0){if(this.context.cursorConfig.readOnly)return;const C=h.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),o()}catch(S){(0,f.onUnexpectedError)(S)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,c,b,C,!1)&&this.revealAll(g,c,!1,0,!0,0)}getAutoClosedCharacters(){return m.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(o){this._compositionState=new r(this._model,this.getSelections())}endComposition(o,g){const c=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{g==="keyboard"&&this._executeEditOperation(w.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,c,this.getSelections(),this.getAutoClosedCharacters()))},o,g)}type(o,g,c){this._executeEdit(()=>{if(c==="keyboard"){const b=g.length;let C=0;for(;C<b;){const S=k.nextCharLength(g,C),D=g.substr(C,S);this._executeEditOperation(w.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),D)),C+=S}}else this._executeEditOperation(w.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g))},o,c)}compositionType(o,g,c,b,C,S){if(g.length===0&&c===0&&b===0){if(C!==0){const D=this.getSelections().map(I=>{const T=I.getPosition();return new _.Selection(T.lineNumber,T.column+C,T.lineNumber,T.column+C)});this.setSelections(o,S,D,0)}return}this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g,c,b,C))},o,S)}paste(o,g,c,b,C){this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),g,c,b||[]))},o,C,4)}cut(o,g){this._executeEdit(()=>{this._executeEditOperation(p.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},o,g)}executeCommand(o,g,c){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new L.EditOperationResult(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,c)}executeCommands(o,g,c){this._executeEdit(()=>{this._executeEditOperation(new L.EditOperationResult(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,c)}}e.CursorsController=n;class h{static from(o,g){return new h(o.getVersionId(),g.getCursorStates())}constructor(o,g){this.modelVersionId=o,this.cursorState=g}equals(o){if(!o||this.modelVersionId!==o.modelVersionId||this.cursorState.length!==o.cursorState.length)return!1;for(let g=0,c=this.cursorState.length;g<c;g++)if(!this.cursorState[g].equals(o.cursorState[g]))return!1;return!0}}class m{static getAllAutoClosedCharacters(o){let g=[];for(const c of o)g=g.concat(c.getAutoClosedCharactersRanges());return g}constructor(o,g,c){this._model=o,this._autoClosedCharactersDecorations=g,this._autoClosedEnclosingDecorations=c}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const o=[];for(let g=0;g<this._autoClosedCharactersDecorations.length;g++){const c=this._model.getDecorationRange(this._autoClosedCharactersDecorations[g]);c&&o.push(c)}return o}isValid(o){const g=[];for(let c=0;c<this._autoClosedEnclosingDecorations.length;c++){const b=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[c]);if(b&&(g.push(b),b.startLineNumber!==b.endLineNumber))return!1}g.sort(v.Range.compareRangesUsingStarts),o.sort(v.Range.compareRangesUsingStarts);for(let c=0;c<o.length;c++)if(c>=g.length||!g[c].strictContainsRange(o[c]))return!1;return!0}}class u{static executeCommands(o,g,c){const b={model:o,selectionsBefore:g,trackedRanges:[],trackedRangesDirection:[]},C=this._innerExecuteCommands(b,c);for(let S=0,D=b.trackedRanges.length;S<D;S++)b.model._setTrackedRange(b.trackedRanges[S],null,0);return C}static _innerExecuteCommands(o,g){if(this._arrayIsEmpty(g))return null;const c=this._getEditOperations(o,g);if(c.operations.length===0)return null;const b=c.operations,C=this._getLoserCursorMap(b);if(C.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const S=[];for(let T=0,N=b.length;T<N;T++)C.hasOwnProperty(b[T].identifier.major.toString())||S.push(b[T]);c.hadTrackedEditOperation&&S.length>0&&(S[0]._isTracked=!0);let D=o.model.pushEditOperations(o.selectionsBefore,S,T=>{const N=[];for(let M=0;M<o.selectionsBefore.length;M++)N[M]=[];for(const M of T)M.identifier&&N[M.identifier.major].push(M);const A=(M,R)=>M.identifier.minor-R.identifier.minor,P=[];for(let M=0;M<o.selectionsBefore.length;M++)N[M].length>0?(N[M].sort(A),P[M]=g[M].computeCursorState(o.model,{getInverseEditOperations:()=>N[M],getTrackedSelection:R=>{const F=parseInt(R,10),O=o.model._getTrackedRange(o.trackedRanges[F]);return o.trackedRangesDirection[F]===0?new _.Selection(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new _.Selection(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):P[M]=o.selectionsBefore[M];return P});D||(D=o.selectionsBefore);const I=[];for(const T in C)C.hasOwnProperty(T)&&I.push(parseInt(T,10));I.sort((T,N)=>N-T);for(const T of I)D.splice(T,1);return D}static _arrayIsEmpty(o){for(let g=0,c=o.length;g<c;g++)if(o[g])return!1;return!0}static _getEditOperations(o,g){let c=[],b=!1;for(let C=0,S=g.length;C<S;C++){const D=g[C];if(D){const I=this._getEditOperationsFromCommand(o,C,D);c=c.concat(I.operations),b=b||I.hadTrackedEditOperation}}return{operations:c,hadTrackedEditOperation:b}}static _getEditOperationsFromCommand(o,g,c){const b=[];let C=0;const S=(A,P,M=!1)=>{v.Range.isEmpty(A)&&P===""||b.push({identifier:{major:g,minor:C++},range:A,text:P,forceMoveMarkers:M,isAutoWhitespaceEdit:c.insertsAutoWhitespace})};let D=!1;const N={addEditOperation:S,addTrackedEditOperation:(A,P,M)=>{D=!0,S(A,P,M)},trackSelection:(A,P)=>{const M=_.Selection.liftSelection(A);let R;if(M.isEmpty())if(typeof P=="boolean")P?R=2:R=3;else{const B=o.model.getLineMaxColumn(M.startLineNumber);M.startColumn===B?R=2:R=3}else R=1;const F=o.trackedRanges.length,O=o.model._setTrackedRange(null,M,R);return o.trackedRanges[F]=O,o.trackedRangesDirection[F]=M.getDirection(),F.toString()}};try{c.getEditOperations(o.model,N)}catch(A){return(0,f.onUnexpectedError)(A),{operations:[],hadTrackedEditOperation:!1}}return{operations:b,hadTrackedEditOperation:D}}static _getLoserCursorMap(o){o=o.slice(0),o.sort((c,b)=>-v.Range.compareRangesUsingEnds(c.range,b.range));const g={};for(let c=1;c<o.length;c++){const b=o[c-1],C=o[c];if(v.Range.getStartPosition(b.range).isBefore(v.Range.getEndPosition(C.range))){let S;b.identifier.major>C.identifier.major?S=b.identifier.major:S=C.identifier.major,g[S.toString()]=!0;for(let D=0;D<o.length;D++)o[D].identifier.major===S&&(o.splice(D,1),D<c&&c--,D--);c>0&&c--}}return g}}class d{constructor(o,g,c){this.text=o,this.startSelection=g,this.endSelection=c}}class r{static _capture(o,g){const c=[];for(const b of g){if(b.startLineNumber!==b.endLineNumber)return null;c.push(new d(o.getLineContent(b.startLineNumber),b.startColumn-1,b.endColumn-1))}return c}constructor(o,g){this._original=r._capture(o,g)}deduceOutcome(o,g){if(!this._original)return null;const c=r._capture(o,g);if(!c||this._original.length!==c.length)return null;const b=[];for(let C=0,S=this._original.length;C<S;C++)b.push(r._deduceOutcome(this._original[C],c[C]));return b}static _deduceOutcome(o,g){const c=Math.min(o.startSelection,g.startSelection,k.commonPrefixLength(o.text,g.text)),b=Math.min(o.text.length-o.endSelection,g.text.length-g.endSelection,k.commonSuffixLength(o.text,g.text)),C=o.text.substring(c,o.text.length-b),S=g.text.substring(c,g.text.length-b);return new w.CompositionOutcome(C,o.startSelection-c,o.endSelection-c,S,g.startSelection-c,g.endSelection-c)}}}),define(ie[829],ne([1,0,49,50,84,358]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=p;const y=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function p(_,a,s,i,t){if(t)return[`codicon-${t.id}`,"predefined-file-icon"];const n=i===L.FileKind.ROOT_FOLDER?["rootfolder-icon"]:i===L.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(s){let h;if(s.scheme===f.Schemas.data)h=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_LABEL);else{const m=s.path.match(y);m?(h=v(m[2].toLowerCase()),m[1]&&n.push(`${v(m[1].toLowerCase())}-name-dir-icon`)):h=v(s.authority.toLowerCase())}if(i===L.FileKind.ROOT_FOLDER)n.push(`${h}-root-name-folder-icon`);else if(i===L.FileKind.FOLDER)n.push(`${h}-name-folder-icon`);else{if(h){if(n.push(`${h}-name-file-icon`),n.push("name-file-icon"),h.length<=255){const u=h.split(".");for(let d=1;d<u.length;d++)n.push(`${u.slice(d).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}const m=w(_,a,s);m&&n.push(`${v(m)}-lang-file-icon`)}}return n}function w(_,a,s){if(!s)return null;let i=null;if(s.scheme===f.Schemas.data){const n=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_MIME);n&&(i=a.getLanguageIdByMimeType(n))}else{const t=_.getModel(s);t&&(i=t.getLanguageId())}return i&&i!==E.PLAINTEXT_LANGUAGE_ID?i:a.guessLanguageIdByFilepathOrFirstLine(s)}function v(_){return _.replace(/[\11\12\14\15\40]/g,"/")}}),define(ie[830],ne([1,0,333,120,49,97,50,11,84]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerPlatformLanguageAssociation=s,e.clearPlatformLanguageAssociations=n,e.getLanguageIds=h;let v=[],_=[],a=[];function s(r,l=!1){i(r,!1,l)}function i(r,l,o){const g=t(r,l);v.push(g),g.userConfigured?a.push(g):_.push(g),o&&!g.userConfigured&&v.forEach(c=>{c.mime===g.mime||c.userConfigured||(g.extension&&c.extension===g.extension&&console.warn(`Overwriting extension <<${g.extension}>> to now point to mime <<${g.mime}>>`),g.filename&&c.filename===g.filename&&console.warn(`Overwriting filename <<${g.filename}>> to now point to mime <<${g.mime}>>`),g.filepattern&&c.filepattern===g.filepattern&&console.warn(`Overwriting filepattern <<${g.filepattern}>> to now point to mime <<${g.mime}>>`),g.firstline&&c.firstline===g.firstline&&console.warn(`Overwriting firstline <<${g.firstline}>> to now point to mime <<${g.mime}>>`))})}function t(r,l){return{id:r.id,mime:r.mime,filename:r.filename,extension:r.extension,filepattern:r.filepattern,firstline:r.firstline,userConfigured:l,filenameLowercase:r.filename?r.filename.toLowerCase():void 0,extensionLowercase:r.extension?r.extension.toLowerCase():void 0,filepatternLowercase:r.filepattern?(0,f.parse)(r.filepattern.toLowerCase()):void 0,filepatternOnPath:r.filepattern?r.filepattern.indexOf(L.posix.sep)>=0:!1}}function n(){v=v.filter(r=>r.userConfigured),_=[]}function h(r,l){return m(r,l).map(o=>o.id)}function m(r,l){let o;if(r)switch(r.scheme){case E.Schemas.file:o=r.fsPath;break;case E.Schemas.data:{o=y.DataUri.parseMetaData(r).get(y.DataUri.META_DATA_LABEL);break}case E.Schemas.vscodeNotebookCell:o=void 0;break;default:o=r.path}if(!o)return[{id:"unknown",mime:k.Mimes.unknown}];o=o.toLowerCase();const g=(0,L.basename)(o),c=u(o,g,a);if(c)return[c,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const b=u(o,g,_);if(b)return[b,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(l){const C=d(l);if(C)return[C,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function u(r,l,o){var g;let c,b,C;for(let S=o.length-1;S>=0;S--){const D=o[S];if(l===D.filenameLowercase){c=D;break}if(D.filepattern&&(!b||D.filepattern.length>b.filepattern.length)){const I=D.filepatternOnPath?r:l;!((g=D.filepatternLowercase)===null||g===void 0)&&g.call(D,I)&&(b=D)}D.extension&&(!C||D.extension.length>C.extension.length)&&l.endsWith(D.extensionLowercase)&&(C=D)}if(c)return c;if(b)return b;if(C)return C}function d(r){if((0,p.startsWithUTF8BOM)(r)&&(r=r.substr(1)),r.length>0)for(let l=v.length-1;l>=0;l--){const o=v[l];if(!o.firstline)continue;const g=r.match(o.firstline);if(g&&g.length>0)return o}}}),define(ie[831],ne([1,0,7,2,11,830,84,105,39]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const v=Object.prototype.hasOwnProperty,_="vs.editor.nullLanguage";class a{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(_,0),this._register(y.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(t,n){this._languageIdToLanguage[n]=t,this._languageToLanguageId.set(t,n)}register(t){if(this._languageToLanguageId.has(t))return;const n=this._nextLanguageId++;this._register(t,n)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||_}}e.LanguageIdCodec=a;class s extends k.Disposable{constructor(t=!0,n=!1){super(),this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,s.instanceCount++,this._warnOnOverwrite=n,this.languageIdCodec=new a,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(y.ModesRegistry.onDidChangeLanguages(h=>{this._initializeFromRegistry()})))}dispose(){s.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,L.clearPlatformLanguageAssociations)();const t=[].concat(y.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const n of t)this._registerLanguage(n);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(n=>{const h=this._languages[n];h.name&&(this._nameMap[h.name]=h.identifier),h.aliases.forEach(m=>{this._lowercaseNameMap[m.toLowerCase()]=h.identifier}),h.mimetypes.forEach(m=>{this._mimeTypesMap[m]=h.identifier})}),w.Registry.as(p.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const n=t.id;let h;v.call(this._languages,n)?h=this._languages[n]:(this.languageIdCodec.register(n),h={identifier:n,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[n]=h),this._mergeLanguage(h,t)}_mergeLanguage(t,n){const h=n.id;let m=null;if(Array.isArray(n.mimetypes)&&n.mimetypes.length>0&&(t.mimetypes.push(...n.mimetypes),m=n.mimetypes[0]),m||(m=`text/x-${h}`,t.mimetypes.push(m)),Array.isArray(n.extensions)){n.configuration?t.extensions=n.extensions.concat(t.extensions):t.extensions=t.extensions.concat(n.extensions);for(const r of n.extensions)(0,L.registerPlatformLanguageAssociation)({id:h,mime:m,extension:r},this._warnOnOverwrite)}if(Array.isArray(n.filenames))for(const r of n.filenames)(0,L.registerPlatformLanguageAssociation)({id:h,mime:m,filename:r},this._warnOnOverwrite),t.filenames.push(r);if(Array.isArray(n.filenamePatterns))for(const r of n.filenamePatterns)(0,L.registerPlatformLanguageAssociation)({id:h,mime:m,filepattern:r},this._warnOnOverwrite);if(typeof n.firstLine=="string"&&n.firstLine.length>0){let r=n.firstLine;r.charAt(0)!=="^"&&(r="^"+r);try{const l=new RegExp(r);(0,E.regExpLeadsToEndlessLoop)(l)||(0,L.registerPlatformLanguageAssociation)({id:h,mime:m,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${n.id}]: Invalid regular expression \`${r}\`: `,l)}}t.aliases.push(h);let u=null;if(typeof n.aliases<"u"&&Array.isArray(n.aliases)&&(n.aliases.length===0?u=[null]:u=n.aliases),u!==null)for(const r of u)!r||r.length===0||t.aliases.push(r);const d=u!==null&&u.length>0;if(!(d&&u[0]===null)){const r=(d?u[0]:null)||h;(d||!t.name)&&(t.name=r)}n.configuration&&t.configurationFiles.push(n.configuration),n.icon&&t.icons.push(n.icon)}isRegisteredLanguageId(t){return t?v.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const n=t.toLowerCase();return v.call(this._lowercaseNameMap,n)?this._lowercaseNameMap[n]:null}getLanguageIdByMimeType(t){return t&&v.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,n){return!t&&!n?[]:(0,L.getLanguageIds)(t,n)}}e.LanguagesRegistry=s,s.instanceCount=0}),define(ie[832],ne([1,0,7,2,831,13,29,84]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class w extends k.Disposable{constructor(a=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new f.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new f.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new f.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,w.instanceCount++,this._registry=this._register(new E.LanguagesRegistry(!0,a)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(a){return this._registry.isRegisteredLanguageId(a)}getLanguageIdByLanguageName(a){return this._registry.getLanguageIdByLanguageName(a)}getLanguageIdByMimeType(a){return this._registry.getLanguageIdByMimeType(a)}guessLanguageIdByFilepathOrFirstLine(a,s){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(a,s);return(0,L.firstOrDefault)(i,null)}createById(a){return new v(this.onDidChange,()=>this._createAndGetLanguageIdentifier(a))}createByFilepathOrFirstLine(a,s){return new v(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(a,s);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(a){return(!a||!this.isRegisteredLanguageId(a))&&(a=p.PLAINTEXT_LANGUAGE_ID),a}requestBasicLanguageFeatures(a){this._requestedBasicLanguages.has(a)||(this._requestedBasicLanguages.add(a),this._onDidRequestBasicLanguageFeatures.fire(a))}requestRichLanguageFeatures(a){this._requestedRichLanguages.has(a)||(this._requestedRichLanguages.add(a),this.requestBasicLanguageFeatures(a),y.TokenizationRegistry.getOrCreate(a),this._onDidRequestRichLanguageFeatures.fire(a))}}e.LanguageService=w,w.instanceCount=0;class v{constructor(a,s){this._onDidChangeLanguages=a,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new f.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var a;const s=this._selector();s!==this.languageId&&(this.languageId=s,(a=this._emitter)===null||a===void 0||a.fire(this.languageId))}}}),define(ie[372],ne([1,0,34,262,53,33,2,18,141]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class v{constructor(s,i){this._editorWorkerClient=new k.EditorWorkerClient(s,!1,"editorWorkerService",i)}async provideDocumentColors(s,i){return this._editorWorkerClient.computeDefaultDocumentColors(s.uri)}provideColorPresentations(s,i,t){const n=i.range,h=i.color,m=h.alpha,u=new f.Color(new f.RGBA(Math.round(255*h.red),Math.round(255*h.green),Math.round(255*h.blue),m)),d=m?f.Color.Format.CSS.formatRGB(u):f.Color.Format.CSS.formatRGBA(u),r=m?f.Color.Format.CSS.formatHSL(u):f.Color.Format.CSS.formatHSLA(u),l=m?f.Color.Format.CSS.formatHex(u):f.Color.Format.CSS.formatHexA(u),o=[];return o.push({label:d,textEdit:{range:n,text:d}}),o.push({label:r,textEdit:{range:n,text:r}}),o.push({label:l,textEdit:{range:n,text:l}}),o}}e.DefaultDocumentColorProvider=v;let _=class extends y.Disposable{constructor(s,i,t){super(),this._register(t.colorProvider.register("*",new v(s,i)))}};_=Ie([ue(0,E.IModelService),ue(1,L.ILanguageConfigurationService),ue(2,p.ILanguageFeaturesService)],_),(0,w.registerEditorFeature)(_)}),define(ie[373],ne([1,0,19,12,22,5,53,27,18,372,25]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColors=a,e.getColorPresentations=s;async function a(u,d,r,l=!0){return h(new i,u,d,r,l)}function s(u,d,r,l){return Promise.resolve(r.provideColorPresentations(u,d,l))}class i{constructor(){}async compute(d,r,l,o){const g=await d.provideDocumentColors(r,l);if(Array.isArray(g))for(const c of g)o.push({colorInfo:c,provider:d});return Array.isArray(g)}}class t{constructor(){}async compute(d,r,l,o){const g=await d.provideDocumentColors(r,l);if(Array.isArray(g))for(const c of g)o.push({range:c.range,color:[c.color.red,c.color.green,c.color.blue,c.color.alpha]});return Array.isArray(g)}}class n{constructor(d){this.colorInfo=d}async compute(d,r,l,o){const g=await d.provideColorPresentations(r,this.colorInfo,f.CancellationToken.None);return Array.isArray(g)&&o.push(...g),Array.isArray(g)}}async function h(u,d,r,l,o){let g=!1,c;const b=[],C=d.ordered(r);for(let S=C.length-1;S>=0;S--){const D=C[S];if(D instanceof v.DefaultDocumentColorProvider)c=D;else try{await u.compute(D,r,l,b)&&(g=!0)}catch(I){(0,k.onUnexpectedExternalError)(I)}}return g?b:c&&o?(await u.compute(c,r,l,b),b):[]}function m(u,d){const{colorProvider:r}=u.get(w.ILanguageFeaturesService),l=u.get(y.IModelService).getModel(d);if(!l)throw(0,k.illegalArgument)();const o=u.get(_.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:d});return{model:l,colorProviderRegistry:r,isDefaultColorDecoratorsEnabled:o}}p.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(u,...d){const[r]=d;if(!(r instanceof E.URI))throw(0,k.illegalArgument)();const{model:l,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:g}=m(u,r);return h(new t,o,l,f.CancellationToken.None,g)}),p.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(u,...d){const[r,l]=d,{uri:o,range:g}=l;if(!(o instanceof E.URI)||!Array.isArray(r)||r.length!==4||!L.Range.isIRange(g))throw(0,k.illegalArgument)();const{model:c,colorProviderRegistry:b,isDefaultColorDecoratorsEnabled:C}=m(u,o),[S,D,I,T]=r;return h(new n({range:g,color:{red:S,green:D,blue:I,alpha:T}}),b,c,f.CancellationToken.None,C)})}),define(ie[833],ne([1,0,6,13,57,2,114,349,244,43]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const _=f.$;class a extends L.Disposable{constructor(t,n,h){super(),this._renderDisposeables=this._register(new L.DisposableStore),this._editor=t,this._isVisible=!1,this._messages=[],this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new y.MarkdownRenderer({editor:this._editor},n,h)),this._computer=new s(this._editor),this._hoverOperation=this._register(new p.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(m=>{this._withResult(m.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(m=>{m.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(t,n){this._computer.lineNumber===t&&this._computer.lane===n||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._computer.lane=n,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(t,n){this._renderDisposeables.clear();const h=document.createDocumentFragment();for(const m of n){const u=_("div.hover-row.markdown-hover"),d=f.append(u,_("div.hover-contents")),r=this._renderDisposeables.add(this._markdownRenderer.render(m.value));d.appendChild(r.element),h.appendChild(u)}this._updateContents(h),this._showAt(t)}_updateContents(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}_showAt(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const n=this._editor.getLayoutInfo(),h=this._editor.getTopForLineNumber(t),m=this._editor.getScrollTop(),u=this._editor.getOption(67),d=this._hover.containerDomNode.clientHeight,r=h-m-(d-u)/2,l=n.glyphMarginLeft+n.glyphMarginWidth+(this._computer.lane==="lineNo"?n.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${l}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(r),0)}px`}}e.MarginHoverWidget=a,a.ID="editor.contrib.modesGlyphHoverWidget";class s{get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}get lane(){return this._laneOrLine}set lane(t){this._laneOrLine=t}constructor(t){this._editor=t,this._lineNumber=-1,this._laneOrLine=v.GlyphMarginLane.Center}computeSync(){var t,n;const h=r=>({value:r}),m=this._editor.getLineDecorations(this._lineNumber),u=[],d=this._laneOrLine==="lineNo";if(!m)return u;for(const r of m){const l=(n=(t=r.options.glyphMargin)===null||t===void 0?void 0:t.position)!==null&&n!==void 0?n:v.GlyphMarginLane.Center;if(!d&&l!==this._laneOrLine)continue;const o=d?r.options.lineNumberHoverMessage:r.options.glyphMarginHoverMessage;!o||(0,E.isEmptyMarkdownString)(o)||u.push(...(0,k.asArray)(o).map(h))}return u}}}),define(ie[834],ne([1,0,11,204,72,220,24]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReindentEditOperations=p;function p(w,v,_,a,s){if(w.getLineCount()===1&&w.getLineMaxColumn(1)===1)return[];const i=v.getLanguageConfiguration(w.getLanguageId()).indentationRules;if(!i)return[];for(a=Math.min(a,w.getLineCount());_<=a&&i.unIndentedLinePattern;){const c=w.getLineContent(_);if(!i.unIndentedLinePattern.test(c))break;_++}if(_>a-1)return[];const{tabSize:t,indentSize:n,insertSpaces:h}=w.getOptions(),m=(c,b)=>(b=b||1,k.ShiftCommand.shiftIndent(c,c.length+b,t,n,h)),u=(c,b)=>(b=b||1,k.ShiftCommand.unshiftIndent(c,c.length+b,t,n,h)),d=[];let r;const l=w.getLineContent(_);let o=l;if(s!=null){r=s;const c=f.getLeadingWhitespace(l);o=r+l.substring(c.length),i.decreaseIndentPattern&&i.decreaseIndentPattern.test(o)&&(r=u(r),o=r+l.substring(c.length)),l!==o&&d.push(E.EditOperation.replaceMove(new y.Selection(_,1,_,c.length+1),(0,L.normalizeIndentation)(r,n,h)))}else r=f.getLeadingWhitespace(l);let g=r;i.increaseIndentPattern&&i.increaseIndentPattern.test(o)?(g=m(g),r=m(r)):i.indentNextLinePattern&&i.indentNextLinePattern.test(o)&&(g=m(g)),_++;for(let c=_;c<=a;c++){const b=w.getLineContent(c),C=f.getLeadingWhitespace(b),S=g+b.substring(C.length);i.decreaseIndentPattern&&i.decreaseIndentPattern.test(S)&&(g=u(g),r=u(r)),C!==g&&d.push(E.EditOperation.replaceMove(new y.Selection(c,1,c,C.length+1),(0,L.normalizeIndentation)(g,n,h))),!(i.unIndentedLinePattern&&i.unIndentedLinePattern.test(b))&&(i.increaseIndentPattern&&i.increaseIndentPattern.test(S)?(r=m(r),g=r):i.indentNextLinePattern&&i.indentNextLinePattern.test(S)?g=m(g):g=r)}return d}}),define(ie[835],ne([1,0,19,76,2,30,9,29,33,18,645,123,234]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let i=class extends E.Disposable{constructor(o,g,c,b,C){super(),this.textModel=o,this.versionId=g,this._debounceValue=c,this.languageFeaturesService=b,this.languageConfigurationService=C,this._updateOperation=this._register(new E.MutableDisposable),this.inlineCompletions=(0,L.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,L.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(o,g,c){var b,C;const S=new n(o,g,this.textModel.getVersionId()),D=g.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((b=this._updateOperation.value)===null||b===void 0)&&b.request.satisfies(S))return this._updateOperation.value.promise;if(!((C=D.get())===null||C===void 0)&&C.request.satisfies(S))return Promise.resolve(!0);const I=!!this._updateOperation.value;this._updateOperation.clear();const T=new f.CancellationTokenSource,N=(async()=>{if((I||g.triggerKind===p.InlineCompletionTriggerKind.Automatic)&&await t(this._debounceValue.get(this.textModel),T.token),T.token.isCancellationRequested||this.textModel.getVersionId()!==S.versionId)return!1;const M=new Date,R=await(0,_.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,o,this.textModel,g,T.token,this.languageConfigurationService);if(T.token.isCancellationRequested||this.textModel.getVersionId()!==S.versionId)return!1;const F=new Date;this._debounceValue.update(this.textModel,F.getTime()-M.getTime());const O=new u(R,S,this.textModel,this.versionId);if(c){const B=c.toInlineCompletion(void 0);c.canBeReused(this.textModel,o)&&!R.has(B)&&O.prepend(c.inlineCompletion,B.range,!0)}return this._updateOperation.clear(),(0,L.transaction)(B=>{D.set(O,B)}),!0})(),A=new m(S,T,N);return this._updateOperation.value=A,N}clear(o){this._updateOperation.clear(),this.inlineCompletions.set(void 0,o),this.suggestWidgetInlineCompletions.set(void 0,o)}clearSuggestWidgetInlineCompletions(o){var g;!((g=this._updateOperation.value)===null||g===void 0)&&g.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,o)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=i,e.InlineCompletionsSource=i=Ie([ue(3,v.ILanguageFeaturesService),ue(4,w.ILanguageConfigurationService)],i);function t(l,o){return new Promise(g=>{let c;const b=setTimeout(()=>{c&&c.dispose(),g()},l);o&&(c=o.onCancellationRequested(()=>{clearTimeout(b),c&&c.dispose(),g()}))})}class n{constructor(o,g,c){this.position=o,this.context=g,this.versionId=c}satisfies(o){return this.position.equals(o.position)&&h(this.context.selectedSuggestionInfo,o.context.selectedSuggestionInfo,(g,c)=>g.equals(c))&&(o.context.triggerKind===p.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===p.InlineCompletionTriggerKind.Explicit)&&this.versionId===o.versionId}}function h(l,o,g){return!l||!o?l===o:g(l,o)}class m{constructor(o,g,c){this.request=o,this.cancellationTokenSource=g,this.promise=c}dispose(){this.cancellationTokenSource.cancel()}}class u{get inlineCompletions(){return this._inlineCompletions}constructor(o,g,c,b){this.inlineCompletionProviderResult=o,this.request=g,this.textModel=c,this.versionId=b,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,L.derived)(this,S=>{this.versionId.read(S);let D=!1;for(const I of this._inlineCompletions)D=D||I._updateRange(this.textModel);return D&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const C=c.deltaDecorations([],o.completions.map(S=>({range:S.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=o.completions.map((S,D)=>new d(S,C[D],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(o=>o.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const o of this._prependedInlineCompletionItems)o.source.removeRef()}}prepend(o,g,c){c&&o.source.addRef();const b=this.textModel.deltaDecorations([],[{range:g,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new d(o,b,this._rangeVersionId,g)),this._prependedInlineCompletionItems.push(o)}}e.UpToDateInlineCompletions=u;class d{get forwardStable(){var o;return(o=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&o!==void 0?o:!1}constructor(o,g,c,b){this.inlineCompletion=o,this.decorationId=g,this.rangeVersion=c,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=b??o.range}toInlineCompletion(o){return this.inlineCompletion.withRange(this._getUpdatedRange(o))}toSingleTextEdit(o){return new a.SingleTextEdit(this._getUpdatedRange(o),this.inlineCompletion.insertText)}isVisible(o,g,c){const b=(0,s.singleTextRemoveCommonPrefix)(this._toFilterTextReplacement(c),o);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(c).getStartPosition())||g.lineNumber!==b.range.startLineNumber)return!1;const C=o.getValueInRange(b.range,1),S=b.text,D=Math.max(0,g.column-b.range.startColumn);let I=S.substring(0,D),T=S.substring(D),N=C.substring(0,D),A=C.substring(D);const P=o.getLineIndentColumn(b.range.startLineNumber);return b.range.startColumn<=P&&(N=N.trimStart(),N.length===0&&(A=A.trimStart()),I=I.trimStart(),I.length===0&&(T=T.trimStart())),I.startsWith(N)&&!!(0,k.matchesSubString)(A,T)}canBeReused(o,g){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(g)&&this.isVisible(o,g,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(o){return new a.SingleTextEdit(this._getUpdatedRange(o),this.inlineCompletion.filterText)}_isSmallerThanOriginal(o){return r(this._getUpdatedRange(o)).isBefore(r(this.inlineCompletion.range))}_getUpdatedRange(o){return this.rangeVersion.read(o),this._updatedRange}_updateRange(o){const g=o.getDecorationRange(this.decorationId);return g?this._updatedRange.equalsRange(g)?!1:(this._updatedRange=g,!0):(this._isValid=!1,!0)}}e.InlineCompletionWithUpdatedRange=d;function r(l){return l.startLineNumber===l.endLineNumber?new y.Position(1,1+l.endColumn-l.startColumn):new y.Position(1+l.endLineNumber-l.startLineNumber,l.endColumn)}}),define(ie[836],ne([1,0,11,204,5,24,124,33,324,263,264]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let a=class{constructor(i,t,n,h){this._languageConfigurationService=h,this._selection=i,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,t){const n=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let h=this._selection;h.startLineNumber<h.endLineNumber&&h.endColumn===1&&(this._moveEndPositionDown=!0,h=h.setEndPosition(h.endLineNumber-1,i.getLineMaxColumn(h.endLineNumber-1)));const{tabSize:m,indentSize:u,insertSpaces:d}=i.getOptions(),r=this.buildIndentConverter(m,u,d),l={tokenization:{getLineTokens:o=>i.tokenization.getLineTokens(o),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(o,g)=>i.getLanguageIdAtPosition(o,g)},getLineContent:null};if(h.startLineNumber===h.endLineNumber&&i.getLineMaxColumn(h.startLineNumber)===1){const o=h.startLineNumber,g=this._isMovingDown?o+1:o-1;i.getLineMaxColumn(g)===1?t.addEditOperation(new E.Range(1,1,1,1),null):(t.addEditOperation(new E.Range(o,1,o,1),i.getLineContent(g)),t.addEditOperation(new E.Range(g,1,g,i.getLineMaxColumn(g)),null)),h=new L.Selection(g,1,g,1)}else{let o,g;if(this._isMovingDown){o=h.endLineNumber+1,g=i.getLineContent(o),t.addEditOperation(new E.Range(o-1,i.getLineMaxColumn(o-1),o,i.getLineMaxColumn(o)),null);let c=g;if(this.shouldAutoIndent(i,h)){const b=this.matchEnterRule(i,r,m,o,h.startLineNumber-1);if(b!==null){const S=f.getLeadingWhitespace(i.getLineContent(o)),D=b+w.getSpaceCnt(S,m);c=w.generateIndent(D,m,d)+this.trimStart(g)}else{l.getLineContent=D=>D===h.startLineNumber?i.getLineContent(o):i.getLineContent(D);const S=(0,v.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(o,1),h.startLineNumber,r,this._languageConfigurationService);if(S!==null){const D=f.getLeadingWhitespace(i.getLineContent(o)),I=w.getSpaceCnt(S,m),T=w.getSpaceCnt(D,m);I!==T&&(c=w.generateIndent(I,m,d)+this.trimStart(g))}}t.addEditOperation(new E.Range(h.startLineNumber,1,h.startLineNumber,1),c+`
`);const C=this.matchEnterRuleMovingDown(i,r,m,h.startLineNumber,o,c);if(C!==null)C!==0&&this.getIndentEditsOfMovingBlock(i,t,h,m,d,C);else{l.getLineContent=D=>D===h.startLineNumber?c:D>=h.startLineNumber+1&&D<=h.endLineNumber+1?i.getLineContent(D-1):i.getLineContent(D);const S=(0,v.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(o,1),h.startLineNumber+1,r,this._languageConfigurationService);if(S!==null){const D=f.getLeadingWhitespace(i.getLineContent(h.startLineNumber)),I=w.getSpaceCnt(S,m),T=w.getSpaceCnt(D,m);if(I!==T){const N=I-T;this.getIndentEditsOfMovingBlock(i,t,h,m,d,N)}}}}else t.addEditOperation(new E.Range(h.startLineNumber,1,h.startLineNumber,1),c+`
`)}else if(o=h.startLineNumber-1,g=i.getLineContent(o),t.addEditOperation(new E.Range(o,1,o+1,1),null),t.addEditOperation(new E.Range(h.endLineNumber,i.getLineMaxColumn(h.endLineNumber),h.endLineNumber,i.getLineMaxColumn(h.endLineNumber)),`
`+g),this.shouldAutoIndent(i,h)){l.getLineContent=b=>b===o?i.getLineContent(h.startLineNumber):i.getLineContent(b);const c=this.matchEnterRule(i,r,m,h.startLineNumber,h.startLineNumber-2);if(c!==null)c!==0&&this.getIndentEditsOfMovingBlock(i,t,h,m,d,c);else{const b=(0,v.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(h.startLineNumber,1),o,r,this._languageConfigurationService);if(b!==null){const C=f.getLeadingWhitespace(i.getLineContent(h.startLineNumber)),S=w.getSpaceCnt(b,m),D=w.getSpaceCnt(C,m);if(S!==D){const I=S-D;this.getIndentEditsOfMovingBlock(i,t,h,m,d,I)}}}}}this._selectionId=t.trackSelection(h)}buildIndentConverter(i,t,n){return{shiftIndent:h=>k.ShiftCommand.shiftIndent(h,h.length+1,i,t,n),unshiftIndent:h=>k.ShiftCommand.unshiftIndent(h,h.length+1,i,t,n)}}parseEnterResult(i,t,n,h,m){if(m){let u=m.indentation;m.indentAction===y.IndentAction.None||m.indentAction===y.IndentAction.Indent?u=m.indentation+m.appendText:m.indentAction===y.IndentAction.IndentOutdent?u=m.indentation:m.indentAction===y.IndentAction.Outdent&&(u=t.unshiftIndent(m.indentation)+m.appendText);const d=i.getLineContent(h);if(this.trimStart(d).indexOf(this.trimStart(u))>=0){const r=f.getLeadingWhitespace(i.getLineContent(h));let l=f.getLeadingWhitespace(u);const o=(0,v.getIndentMetadata)(i,h,this._languageConfigurationService);o!==null&&o&2&&(l=t.unshiftIndent(l));const g=w.getSpaceCnt(l,n),c=w.getSpaceCnt(r,n);return g-c}}return null}matchEnterRuleMovingDown(i,t,n,h,m,u){if(f.lastNonWhitespaceIndex(u)>=0){const d=i.getLineMaxColumn(m),r=(0,_.getEnterAction)(this._autoIndent,i,new E.Range(m,d,m,d),this._languageConfigurationService);return this.parseEnterResult(i,t,n,h,r)}else{let d=h-1;for(;d>=1;){const o=i.getLineContent(d);if(f.lastNonWhitespaceIndex(o)>=0)break;d--}if(d<1||h>i.getLineCount())return null;const r=i.getLineMaxColumn(d),l=(0,_.getEnterAction)(this._autoIndent,i,new E.Range(d,r,d,r),this._languageConfigurationService);return this.parseEnterResult(i,t,n,h,l)}}matchEnterRule(i,t,n,h,m,u){let d=m;for(;d>=1;){let o;if(d===m&&u!==void 0?o=u:o=i.getLineContent(d),f.lastNonWhitespaceIndex(o)>=0)break;d--}if(d<1||h>i.getLineCount())return null;const r=i.getLineMaxColumn(d),l=(0,_.getEnterAction)(this._autoIndent,i,new E.Range(d,r,d,r),this._languageConfigurationService);return this.parseEnterResult(i,t,n,h,l)}trimStart(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,t){if(this._autoIndent<4||!i.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const n=i.getLanguageIdAtPosition(t.startLineNumber,1),h=i.getLanguageIdAtPosition(t.endLineNumber,1);return!(n!==h||this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport===null)}getIndentEditsOfMovingBlock(i,t,n,h,m,u){for(let d=n.startLineNumber;d<=n.endLineNumber;d++){const r=i.getLineContent(d),l=f.getLeadingWhitespace(r),g=w.getSpaceCnt(l,h)+u,c=w.generateIndent(g,h,m);c!==l&&(t.addEditOperation(new E.Range(d,1,d,l.length+1),c),d===n.endLineNumber&&n.endColumn<=l.length+1&&c===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}};e.MoveLinesCommand=a,e.MoveLinesCommand=a=Ie([ue(3,p.ILanguageConfigurationService)],a)}),define(ie[374],ne([1,0,6,79,26,31,7,57,2,114,242,747,8]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=void 0,e.canExpandCompletionItem=i;function i(h){return!!h&&!!(h.completion.documentation||h.completion.detail&&h.completion.detail!==h.completion.label)}let t=class{constructor(m,u){this._editor=m,this._onDidClose=new y.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new y.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new w.DisposableStore,this._renderDisposeable=new w.DisposableStore,this._borderWidth=1,this._size=new f.Dimension(330,0),this.domNode=f.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=u.createInstance(v.MarkdownRenderer,{editor:m}),this._body=f.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),f.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=f.append(this._body,f.$(".header")),this._close=f.append(this._header,f.$("span"+L.ThemeIcon.asCSSSelector(E.Codicon.close))),this._close.title=a.localize(0,null),this._type=f.append(this._header,f.$("p.type")),this._docs=f.append(this._body,f.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const m=this._editor.getOptions(),u=m.get(50),d=u.getMassagedFontFamily(),r=m.get(119)||u.fontSize,l=m.get(120)||u.lineHeight,o=u.fontWeight,g=`${r}px`,c=`${l}px`;this.domNode.style.fontSize=g,this.domNode.style.lineHeight=`${l/r}`,this.domNode.style.fontWeight=o,this.domNode.style.fontFeatureSettings=u.fontFeatureSettings,this._type.style.fontFamily=d,this._close.style.height=c,this._close.style.width=c}getLayoutInfo(){const m=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,u=this._borderWidth,d=u*2;return{lineHeight:m,borderWidth:u,borderHeight:d,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=a.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(m,u){var d,r;this._renderDisposeable.clear();let{detail:l,documentation:o}=m.completion;if(u){let g="";g+=`score: ${m.score[0]}
`,g+=`prefix: ${(d=m.word)!==null&&d!==void 0?d:"(no prefix)"}
`,g+=`word: ${m.completion.filterText?m.completion.filterText+" (filterText)":m.textLabel}
`,g+=`distance: ${m.distance} (localityBonus-setting)
`,g+=`index: ${m.idx}, based on ${m.completion.sortText&&`sortText: "${m.completion.sortText}"`||"label"}
`,g+=`commit_chars: ${(r=m.completion.commitCharacters)===null||r===void 0?void 0:r.join("")}
`,o=new p.MarkdownString().appendCodeblock("empty",g),l=`Provider: ${m.provider._debugDisplayName}`}if(!u&&!i(m)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),l){const g=l.length>1e5?`${l.substr(0,1e5)}\u2026`:l;this._type.textContent=g,this._type.title=g,f.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(g))}else f.clearNode(this._type),this._type.title="",f.hide(this._type),this.domNode.classList.add("no-type");if(f.clearNode(this._docs),typeof o=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=o;else if(o){this._docs.classList.add("markdown-docs"),f.clearNode(this._docs);const g=this._markdownRenderer.render(o);this._docs.appendChild(g.element),this._renderDisposeable.add(g),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=g=>{g.preventDefault(),g.stopPropagation()},this._close.onclick=g=>{g.preventDefault(),g.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(m,u){const d=new f.Dimension(m,u);f.Dimension.equals(d,this._size)||(this._size=d,f.size(this.domNode,m,u)),this._scrollbar.scanDomNode()}scrollDown(m=8){this._body.scrollTop+=m}scrollUp(m=8){this._body.scrollTop-=m}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(m){this._borderWidth=m}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=t,e.SuggestDetailsWidget=t=Ie([ue(1,s.IInstantiationService)],t);class n{constructor(m,u){this.widget=m,this._editor=u,this.allowEditorOverflow=!0,this._disposables=new w.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new _.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(m.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let d,r,l=0,o=0;this._disposables.add(this._resizable.onDidWillResize(()=>{d=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(g=>{if(d&&r){this.widget.layout(g.dimension.width,g.dimension.height);let c=!1;g.west&&(o=r.width-g.dimension.width,c=!0),g.north&&(l=r.height-g.dimension.height,c=!0),c&&this._applyTopLeft({top:d.top+l,left:d.left+o})}g.done&&(d=void 0,r=void 0,l=0,o=0,this._userSize=g.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var g;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(g=this._userSize)!==null&&g!==void 0?g:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(m=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),m&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(m,u){var d;const r=m.getBoundingClientRect();this._anchorBox=r,this._preferAlignAtTop=u,this._placeAtAnchor(this._anchorBox,(d=this._userSize)!==null&&d!==void 0?d:this.widget.size,u)}_placeAtAnchor(m,u,d){var r;const l=f.getClientArea(this.getDomNode().ownerDocument.body),o=this.widget.getLayoutInfo(),g=new f.Dimension(220,2*o.lineHeight),c=m.top,b=function(){const B=l.width-(m.left+m.width+o.borderWidth+o.horizontalPadding),H=-o.borderWidth+m.left+m.width,V=new f.Dimension(B,l.height-m.top-o.borderHeight-o.verticalPadding),q=V.with(void 0,m.top+m.height-o.borderHeight-o.verticalPadding);return{top:c,left:H,fit:B-u.width,maxSizeTop:V,maxSizeBottom:q,minSize:g.with(Math.min(B,g.width))}}(),C=function(){const B=m.left-o.borderWidth-o.horizontalPadding,H=Math.max(o.horizontalPadding,m.left-u.width-o.borderWidth),V=new f.Dimension(B,l.height-m.top-o.borderHeight-o.verticalPadding),q=V.with(void 0,m.top+m.height-o.borderHeight-o.verticalPadding);return{top:c,left:H,fit:B-u.width,maxSizeTop:V,maxSizeBottom:q,minSize:g.with(Math.min(B,g.width))}}(),S=function(){const B=m.left,H=-o.borderWidth+m.top+m.height,V=new f.Dimension(m.width-o.borderHeight,l.height-m.top-m.height-o.verticalPadding);return{top:H,left:B,fit:V.height-u.height,maxSizeBottom:V,maxSizeTop:V,minSize:g.with(V.width)}}(),D=[b,C,S],I=(r=D.find(B=>B.fit>=0))!==null&&r!==void 0?r:D.sort((B,H)=>H.fit-B.fit)[0],T=m.top+m.height-o.borderHeight;let N,A=u.height;const P=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);A>P&&(A=P);let M;d?A<=I.maxSizeTop.height?(N=!0,M=I.maxSizeTop):(N=!1,M=I.maxSizeBottom):A<=I.maxSizeBottom.height?(N=!1,M=I.maxSizeBottom):(N=!0,M=I.maxSizeTop);let{top:R,left:F}=I;!N&&A>m.height&&(R=T-A);const O=this._editor.getDomNode();if(O){const B=O.getBoundingClientRect();R-=B.top,F-=B.left}this._applyTopLeft({left:F,top:R}),this._resizable.enableSashes(!N,I===b,N,I!==b),this._resizable.minSize=I.minSize,this._resizable.maxSize=M,this._resizable.layout(A,Math.min(M.width,u.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(m){this._topLeft=m,this._editor.layoutOverlayWidget(this)}}e.SuggestDetailsOverlay=n}),define(ie[375],ne([1,0,13,47,55,21,22,25,105,39]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function _(h){return Object.isFrozen(h)?h:E.deepFreeze(h)}class a{constructor(m={},u=[],d=[],r){this._contents=m,this._keys=u,this._overrides=d,this.raw=r,this.overrideConfigurations=new Map}get rawConfiguration(){var m;if(!this._rawConfiguration)if(!((m=this.raw)===null||m===void 0)&&m.length){const u=this.raw.map(d=>{if(d instanceof a)return d;const r=new s("");return r.parseRaw(d),r.configurationModel});this._rawConfiguration=u.reduce((d,r)=>r===d?r:d.merge(r),u[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(m){return m?(0,p.getConfigurationValue)(this.contents,m):this.contents}inspect(m,u){const d=this;return{get value(){return _(d.rawConfiguration.getValue(m))},get override(){return u?_(d.rawConfiguration.getOverrideValue(m,u)):void 0},get merged(){return _(u?d.rawConfiguration.override(u).getValue(m):d.rawConfiguration.getValue(m))},get overrides(){const r=[];for(const{contents:l,identifiers:o,keys:g}of d.rawConfiguration.overrides){const c=new a(l,g).getValue(m);c!==void 0&&r.push({identifiers:o,value:c})}return r.length?_(r):void 0}}}getOverrideValue(m,u){const d=this.getContentsForOverrideIdentifer(u);return d?m?(0,p.getConfigurationValue)(d,m):d:void 0}override(m){let u=this.overrideConfigurations.get(m);return u||(u=this.createOverrideConfigurationModel(m),this.overrideConfigurations.set(m,u)),u}merge(...m){var u,d;const r=E.deepClone(this.contents),l=E.deepClone(this.overrides),o=[...this.keys],g=!((u=this.raw)===null||u===void 0)&&u.length?[...this.raw]:[this];for(const c of m)if(g.push(...!((d=c.raw)===null||d===void 0)&&d.length?c.raw:[c]),!c.isEmpty()){this.mergeContents(r,c.contents);for(const b of c.overrides){const[C]=l.filter(S=>f.equals(S.identifiers,b.identifiers));C?(this.mergeContents(C.contents,b.contents),C.keys.push(...b.keys),C.keys=f.distinct(C.keys)):l.push(E.deepClone(b))}for(const b of c.keys)o.indexOf(b)===-1&&o.push(b)}return new a(r,o,l,g.every(c=>c instanceof a)?void 0:g)}createOverrideConfigurationModel(m){const u=this.getContentsForOverrideIdentifer(m);if(!u||typeof u!="object"||!Object.keys(u).length)return this;const d={};for(const r of f.distinct([...Object.keys(this.contents),...Object.keys(u)])){let l=this.contents[r];const o=u[r];o&&(typeof l=="object"&&typeof o=="object"?(l=E.deepClone(l),this.mergeContents(l,o)):l=o),d[r]=l}return new a(d,this.keys,this.overrides)}mergeContents(m,u){for(const d of Object.keys(u)){if(d in m&&L.isObject(m[d])&&L.isObject(u[d])){this.mergeContents(m[d],u[d]);continue}m[d]=E.deepClone(u[d])}}getContentsForOverrideIdentifer(m){let u=null,d=null;const r=l=>{l&&(d?this.mergeContents(d,l):d=E.deepClone(l))};for(const l of this.overrides)l.identifiers.length===1&&l.identifiers[0]===m?u=l.contents:l.identifiers.includes(m)&&r(l.contents);return r(u),d}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(m,u){this.updateValue(m,u,!0)}setValue(m,u){this.updateValue(m,u,!1)}removeValue(m){const u=this.keys.indexOf(m);u!==-1&&(this.keys.splice(u,1),(0,p.removeFromValueTree)(this.contents,m),w.OVERRIDE_PROPERTY_REGEX.test(m)&&this.overrides.splice(this.overrides.findIndex(d=>f.equals(d.identifiers,(0,w.overrideIdentifiersFromKey)(m))),1))}updateValue(m,u,d){(0,p.addToValueTree)(this.contents,m,u,r=>console.error(r)),d=d||this.keys.indexOf(m)===-1,d&&this.keys.push(m),w.OVERRIDE_PROPERTY_REGEX.test(m)&&this.overrides.push({identifiers:(0,w.overrideIdentifiersFromKey)(m),keys:Object.keys(this.contents[m]),contents:(0,p.toValuesTree)(this.contents[m],r=>console.error(r))})}}e.ConfigurationModel=a;class s{constructor(m){this._name=m,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new a}parseRaw(m,u){this._raw=m;const{contents:d,keys:r,overrides:l,restricted:o,hasExcludedProperties:g}=this.doParseRaw(m,u);this._configurationModel=new a(d,r,l,g?[m]:void 0),this._restrictedConfigurations=o||[]}doParseRaw(m,u){const d=v.Registry.as(w.Extensions.Configuration).getConfigurationProperties(),r=this.filter(m,d,!0,u);m=r.raw;const l=(0,p.toValuesTree)(m,c=>console.error(`Conflict in settings file ${this._name}: ${c}`)),o=Object.keys(m),g=this.toOverrides(m,c=>console.error(`Conflict in settings file ${this._name}: ${c}`));return{contents:l,keys:o,overrides:g,restricted:r.restricted,hasExcludedProperties:r.hasExcludedProperties}}filter(m,u,d,r){var l,o,g;let c=!1;if(!r?.scopes&&!r?.skipRestricted&&!(!((l=r?.exclude)===null||l===void 0)&&l.length))return{raw:m,restricted:[],hasExcludedProperties:c};const b={},C=[];for(const S in m)if(w.OVERRIDE_PROPERTY_REGEX.test(S)&&d){const D=this.filter(m[S],u,!1,r);b[S]=D.raw,c=c||D.hasExcludedProperties,C.push(...D.restricted)}else{const D=u[S],I=D?typeof D.scope<"u"?D.scope:3:void 0;D?.restricted&&C.push(S),!(!((o=r.exclude)===null||o===void 0)&&o.includes(S))&&(!((g=r.include)===null||g===void 0)&&g.includes(S)||(I===void 0||r.scopes===void 0||r.scopes.includes(I))&&!(r.skipRestricted&&D?.restricted))?b[S]=m[S]:c=!0}return{raw:b,restricted:C,hasExcludedProperties:c}}toOverrides(m,u){const d=[];for(const r of Object.keys(m))if(w.OVERRIDE_PROPERTY_REGEX.test(r)){const l={};for(const o in m[r])l[o]=m[r][o];d.push({identifiers:(0,w.overrideIdentifiersFromKey)(r),keys:Object.keys(l),contents:(0,p.toValuesTree)(l,u)})}return d}}e.ConfigurationModelParser=s;class i{constructor(m,u,d,r,l,o,g,c,b,C,S,D,I){this.key=m,this.overrides=u,this._value=d,this.overrideIdentifiers=r,this.defaultConfiguration=l,this.policyConfiguration=o,this.applicationConfiguration=g,this.userConfiguration=c,this.localUserConfiguration=b,this.remoteUserConfiguration=C,this.workspaceConfiguration=S,this.folderConfigurationModel=D,this.memoryConfigurationModel=I}toInspectValue(m){return m?.value!==void 0||m?.override!==void 0||m?.overrides!==void 0?m:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class t{constructor(m,u,d,r,l=new a,o=new a,g=new k.ResourceMap,c=new a,b=new k.ResourceMap){this._defaultConfiguration=m,this._policyConfiguration=u,this._applicationConfiguration=d,this._localUserConfiguration=r,this._remoteUserConfiguration=l,this._workspaceConfiguration=o,this._folderConfigurations=g,this._memoryConfiguration=c,this._memoryConfigurationByResource=b,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(m,u,d){return this.getConsolidatedConfigurationModel(m,u,d).getValue(m)}updateValue(m,u,d={}){let r;d.resource?(r=this._memoryConfigurationByResource.get(d.resource),r||(r=new a,this._memoryConfigurationByResource.set(d.resource,r))):r=this._memoryConfiguration,u===void 0?r.removeValue(m):r.setValue(m,u),d.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(m,u,d){const r=this.getConsolidatedConfigurationModel(m,u,d),l=this.getFolderConfigurationModelForResource(u.resource,d),o=u.resource?this._memoryConfigurationByResource.get(u.resource)||this._memoryConfiguration:this._memoryConfiguration,g=new Set;for(const c of r.overrides)for(const b of c.identifiers)r.getOverrideValue(m,b)!==void 0&&g.add(b);return new i(m,u,r.getValue(m),g.size?[...g]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,d?this._workspaceConfiguration:void 0,l||void 0,o)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(m,u,d){let r=this.getConsolidatedConfigurationModelForResource(u,d);return u.overrideIdentifier&&(r=r.override(u.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(m)!==void 0&&(r=r.merge(this._policyConfiguration)),r}getConsolidatedConfigurationModelForResource({resource:m},u){let d=this.getWorkspaceConsolidatedConfiguration();if(u&&m){const r=u.getFolder(m);r&&(d=this.getFolderConsolidatedConfiguration(r.uri)||d);const l=this._memoryConfigurationByResource.get(m);l&&(d=d.merge(l))}return d}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(m){let u=this._foldersConsolidatedConfigurations.get(m);if(!u){const d=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(m);r?(u=d.merge(r),this._foldersConsolidatedConfigurations.set(m,u)):u=d}return u}getFolderConfigurationModelForResource(m,u){if(u&&m){const d=u.getFolder(m);if(d)return this._folderConfigurations.get(d.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((m,u)=>{const{contents:d,overrides:r,keys:l}=this._folderConfigurations.get(u);return m.push([u,{contents:d,overrides:r,keys:l}]),m},[])}}static parse(m){const u=this.parseConfigurationModel(m.defaults),d=this.parseConfigurationModel(m.policy),r=this.parseConfigurationModel(m.application),l=this.parseConfigurationModel(m.user),o=this.parseConfigurationModel(m.workspace),g=m.folders.reduce((c,b)=>(c.set(y.URI.revive(b[0]),this.parseConfigurationModel(b[1])),c),new k.ResourceMap);return new t(u,d,r,l,new a,o,g,new a,new k.ResourceMap)}static parseConfigurationModel(m){return new a(m.contents,m.keys,m.overrides)}}e.Configuration=t;class n{constructor(m,u,d,r){this.change=m,this.previous=u,this.currentConfiguraiton=d,this.currentWorkspace=r,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const l of m.keys)this.affectedKeys.add(l);for(const[,l]of m.overrides)for(const o of l)this.affectedKeys.add(o);this._affectsConfigStr=this._marker;for(const l of this.affectedKeys)this._affectsConfigStr+=l+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(m,u){var d;const r=this._marker+m,l=this._affectsConfigStr.indexOf(r);if(l<0)return!1;const o=l+r.length;if(o>=this._affectsConfigStr.length)return!1;const g=this._affectsConfigStr.charCodeAt(o);if(g!==this._markerCode1&&g!==this._markerCode2)return!1;if(u){const c=this.previousConfiguration?this.previousConfiguration.getValue(m,u,(d=this.previous)===null||d===void 0?void 0:d.workspace):void 0,b=this.currentConfiguraiton.getValue(m,u,this.currentWorkspace);return!E.equals(c,b)}return!0}}e.ConfigurationChangeEvent=n}),define(ie[837],ne([1,0,2,375,105,39]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class y extends f.Disposable{constructor(){super(...arguments),this._configurationModel=new k.ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new k.ConfigurationModel;const w=L.Registry.as(E.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(w),w)}updateConfigurationModel(w,v){const _=this.getConfigurationDefaultOverrides();for(const a of w){const s=_[a],i=v[a];s!==void 0?this._configurationModel.addValue(a,s):i?this._configurationModel.addValue(a,i.default):this._configurationModel.removeValue(a)}}}e.DefaultConfiguration=y}),define(ie[131],ne([1,0,133,17,27,39,2,70]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=new p.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(a){if(k.OS===1){if(a&&a.win)return a.win}else if(k.OS===2){if(a&&a.mac)return a.mac}else if(a&&a.linux)return a.linux;return a}registerKeybindingRule(a){const s=w.bindToCurrentPlatform(a),i=new y.DisposableStore;if(s&&s.primary){const t=(0,f.decodeKeybinding)(s.primary,k.OS);t&&i.add(this._registerDefaultKeybinding(t,a.id,a.args,a.weight,0,a.when))}if(s&&Array.isArray(s.secondary))for(let t=0,n=s.secondary.length;t<n;t++){const h=s.secondary[t],m=(0,f.decodeKeybinding)(h,k.OS);m&&i.add(this._registerDefaultKeybinding(m,a.id,a.args,a.weight,-t-1,a.when))}return i}registerCommandAndKeybindingRule(a){return(0,y.combinedDisposable)(this.registerKeybindingRule(a),E.CommandsRegistry.registerCommand(a))}_registerDefaultKeybinding(a,s,i,t,n,h){const m=this._coreKeybindings.push({keybinding:a,command:s,commandArgs:i,when:h,weight1:t,weight2:n,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,y.toDisposable)(()=>{m(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(v)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new w,e.Extensions={EditorModes:"platform.keybindingsRegistry"},L.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function v(_,a){if(_.weight1!==a.weight1)return _.weight1-a.weight1;if(_.command&&a.command){if(_.command<a.command)return-1;if(_.command>a.command)return 1}return _.weight2-a.weight2}}),define(ie[28],ne([1,0,41,31,7,2,70,27,14,8,131]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=void 0,e.isIMenuItem=s,e.isISubmenuItem=i,e.registerAction2=d;function s(r){return r.command!==void 0}function i(r){return r.submenu!==void 0}class t{constructor(l){if(t._instances.has(l))throw new TypeError(`MenuId with identifier '${l}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(l,this),this.id=l}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.NotebookVariablesContext=new t("NotebookVariablesContext"),t.DebugHoverContext=new t("DebugHoverContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.EditorTabsBarShowTabsSubmenu=new t("EditorTabsBarShowTabsSubmenu"),t.EditorTabsBarShowTabsZenModeSubmenu=new t("EditorTabsBarShowTabsZenModeSubmenu"),t.EditorActionsPositionSubmenu=new t("EditorActionsPositionSubmenu"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.CommandCenterCenter=new t("CommandCenterCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.ActivityBarPositionMenu=new t("ActivityBarPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMInputBox=new t("SCMInputBox"),t.SCMChangesSeparator=new t("SCMChangesSeparator"),t.SCMIncomingChanges=new t("SCMIncomingChanges"),t.SCMIncomingChangesContext=new t("SCMIncomingChangesContext"),t.SCMIncomingChangesSetting=new t("SCMIncomingChangesSetting"),t.SCMOutgoingChanges=new t("SCMOutgoingChanges"),t.SCMOutgoingChangesContext=new t("SCMOutgoingChangesContext"),t.SCMOutgoingChangesSetting=new t("SCMOutgoingChangesSetting"),t.SCMIncomingChangesAllChangesContext=new t("SCMIncomingChangesAllChangesContext"),t.SCMIncomingChangesHistoryItemContext=new t("SCMIncomingChangesHistoryItemContext"),t.SCMOutgoingChangesAllChangesContext=new t("SCMOutgoingChangesAllChangesContext"),t.SCMOutgoingChangesHistoryItemContext=new t("SCMOutgoingChangesHistoryItemContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMSourceControlInline=new t("SCMSourceControlInline"),t.SCMSourceControlTitle=new t("SCMSourceControlTitle"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestMessageContext=new t("TestMessageContext"),t.TestMessageContent=new t("TestMessageContent"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.CommentsViewThreadActions=new t("CommentsViewThreadActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.IssueReporter=new t("IssueReporter"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecuteGoTo=new t("NotebookCellExecuteGoTo"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookOutlineFilter=new t("NotebookOutlineFilter"),t.NotebookOutlineActionMenu=new t("NotebookOutlineActionMenu"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.SidebarTitle=new t("SidebarTitle"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.AuxiliaryBarHeader=new t("AuxiliaryBarHeader"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalStickyScrollContext=new t("TerminalStickyScrollContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.InlineEditActions=new t("InlineEditActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.InlineEditToolbar=new t("InlineEditToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),t.ChatExecuteSecondary=new t("ChatExecuteSecondary"),t.ChatInputSide=new t("ChatInputSide"),t.AccessibleView=new t("AccessibleView"),t.MultiDiffEditorFileToolbar=new t("MultiDiffEditorFileToolbar"),t.DiffEditorHunkToolbar=new t("DiffEditorHunkToolbar"),t.DiffEditorSelectionToolbar=new t("DiffEditorSelectionToolbar"),e.IMenuService=(0,v.createDecorator)("menuService");class n{static for(l){let o=this._all.get(l);return o||(o=new n(l),this._all.set(l,o)),o}static merge(l){const o=new Set;for(const g of l)g instanceof n&&o.add(g.id);return o}constructor(l){this.id=l,this.has=o=>o===l}}n._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new E.MicrotaskEmitter({merge:n.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(r){return this._commands.set(r.id,r),this._onDidChangeMenu.fire(n.for(t.CommandPalette)),(0,L.toDisposable)(()=>{this._commands.delete(r.id)&&this._onDidChangeMenu.fire(n.for(t.CommandPalette))})}getCommand(r){return this._commands.get(r)}getCommands(){const r=new Map;return this._commands.forEach((l,o)=>r.set(o,l)),r}appendMenuItem(r,l){let o=this._menuItems.get(r);o||(o=new y.LinkedList,this._menuItems.set(r,o));const g=o.push(l);return this._onDidChangeMenu.fire(n.for(r)),(0,L.toDisposable)(()=>{g(),this._onDidChangeMenu.fire(n.for(r))})}appendMenuItems(r){const l=new L.DisposableStore;for(const{id:o,item:g}of r)l.add(this.appendMenuItem(o,g));return l}getMenuItems(r){let l;return this._menuItems.has(r)?l=[...this._menuItems.get(r)]:l=[],r===t.CommandPalette&&this._appendImplicitItems(l),l}_appendImplicitItems(r){const l=new Set;for(const o of r)s(o)&&(l.add(o.command.id),o.alt&&l.add(o.alt.id));this._commands.forEach((o,g)=>{l.has(g)||r.push({command:o})})}};class h extends f.SubmenuAction{constructor(l,o,g){super(`submenuitem.${l.submenu.id}`,typeof l.title=="string"?l.title:l.title.value,g,"submenu"),this.item=l,this.hideActions=o}}e.SubmenuItemAction=h;let m=a=class{static label(l,o){return o?.renderShortTitle&&l.shortTitle?typeof l.shortTitle=="string"?l.shortTitle:l.shortTitle.value:typeof l.title=="string"?l.title:l.title.value}constructor(l,o,g,c,b,C){var S,D;this.hideActions=c,this._commandService=C,this.id=l.id,this.label=a.label(l,g),this.tooltip=(D=typeof l.tooltip=="string"?l.tooltip:(S=l.tooltip)===null||S===void 0?void 0:S.value)!==null&&D!==void 0?D:"",this.enabled=!l.precondition||b.contextMatchesRules(l.precondition),this.checked=void 0;let I;if(l.toggled){const T=l.toggled.condition?l.toggled:{condition:l.toggled};this.checked=b.contextMatchesRules(T.condition),this.checked&&T.tooltip&&(this.tooltip=typeof T.tooltip=="string"?T.tooltip:T.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(T.icon)&&(I=T.icon),this.checked&&T.title&&(this.label=typeof T.title=="string"?T.title:T.title.value)}I||(I=k.ThemeIcon.isThemeIcon(l.icon)?l.icon:void 0),this.item=l,this.alt=o?new a(o,void 0,g,c,b,C):void 0,this._options=g,this.class=I&&k.ThemeIcon.asClassName(I)}run(...l){var o,g;let c=[];return!((o=this._options)===null||o===void 0)&&o.arg&&(c=[...c,this._options.arg]),!((g=this._options)===null||g===void 0)&&g.shouldForwardArgs&&(c=[...c,...l]),this._commandService.executeCommand(this.id,...c)}};e.MenuItemAction=m,e.MenuItemAction=m=a=Ie([ue(4,w.IContextKeyService),ue(5,p.ICommandService)],m);class u{constructor(l){this.desc=l}}e.Action2=u;function d(r){const l=new L.DisposableStore,o=new r,{f1:g,menu:c,keybinding:b,...C}=o.desc;if(p.CommandsRegistry.getCommand(C.id))throw new Error(`Cannot register two commands with the same id: ${C.id}`);if(l.add(p.CommandsRegistry.registerCommand({id:C.id,handler:(S,...D)=>o.run(S,...D),metadata:C.metadata})),Array.isArray(c))for(const S of c)l.add(e.MenuRegistry.appendMenuItem(S.id,{command:{...C,precondition:S.precondition===null?void 0:C.precondition},...S}));else c&&l.add(e.MenuRegistry.appendMenuItem(c.id,{command:{...C,precondition:c.precondition===null?void 0:C.precondition},...c}));if(g&&(l.add(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:C,when:C.precondition})),l.add(e.MenuRegistry.addCommand(C))),Array.isArray(b))for(const S of b)l.add(_.KeybindingsRegistry.registerKeybindingRule({...S,id:C.id,when:C.precondition?w.ContextKeyExpr.and(C.precondition,S.when):S.when}));else b&&l.add(_.KeybindingsRegistry.registerKeybindingRule({...b,id:C.id,when:C.precondition?w.ContextKeyExpr.and(C.precondition,b.when):b.when}));return l}}),define(ie[838],ne([1,0,45,219,751,28]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class y extends L.Action2{constructor(){super({id:y.ID,title:E.localize2(2,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const v=!k.TabFocus.getTabFocusMode();k.TabFocus.setTabFocusMode(v),v?(0,f.alert)(E.localize(0,null)):(0,f.alert)(E.localize(1,null))}}e.ToggleTabFocusModeAction=y,y.ID="editor.action.toggleTabFocusMode",(0,L.registerAction2)(y)}),define(ie[376],ne([1,0,249,626,14,131,770,2,6]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.historyNavigationVisible=void 0,e.registerAndCreateHistoryNavigationContext=t,e.historyNavigationVisible=new E.RawContextKey("suggestWidgetVisible",!1,(0,y.localize)(0,null));const v="historyNavigationWidgetFocus",_="historyNavigationForwardsEnabled",a="historyNavigationBackwardsEnabled";let s;const i=[];function t(m,u){if(i.includes(u))throw new Error("Cannot register the same widget multiple times");i.push(u);const d=new p.DisposableStore,r=new E.RawContextKey(v,!1).bindTo(m),l=new E.RawContextKey(_,!0).bindTo(m),o=new E.RawContextKey(a,!0).bindTo(m),g=()=>{r.set(!0),s=u},c=()=>{r.set(!1),s===u&&(s=void 0)};return(0,w.isActiveElement)(u.element)&&g(),d.add(u.onDidFocus(()=>g())),d.add(u.onDidBlur(()=>c())),d.add((0,p.toDisposable)(()=>{i.splice(i.indexOf(u),1),c()})),{historyNavigationForwardsEnablement:l,historyNavigationBackwardsEnablement:o,dispose(){d.dispose()}}}let n=class extends f.FindInput{constructor(u,d,r,l){super(u,d,r);const o=this._register(l.createScoped(this.inputBox.element));this._register(t(o,this.inputBox))}};e.ContextScopedFindInput=n,e.ContextScopedFindInput=n=Ie([ue(3,E.IContextKeyService)],n);let h=class extends k.ReplaceInput{constructor(u,d,r,l,o=!1){super(u,d,o,r);const g=this._register(l.createScoped(this.inputBox.element));this._register(t(g,this.inputBox))}};e.ContextScopedReplaceInput=h,e.ContextScopedReplaceInput=h=Ie([ue(3,E.IContextKeyService)],h),L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(v),E.ContextKeyExpr.equals(a,!0),E.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:m=>{s?.showPreviousValue()}}),L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(v),E.ContextKeyExpr.equals(_,!0),E.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:m=>{s?.showNextValue()}})}),define(ie[149],ne([1,0,19,12,76,2,63,21,22,9,5,74,128,744,28,27,14,18,376]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.CompletionItemModel=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.getSnippetSuggestSupport=o,e.provideSuggestionItems=c,e.getSuggestionComparator=I,e.showSimpleSuggestions=T,e.Context={Visible:u.historyNavigationVisible,HasFocusedSuggestion:new h.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,i.localize)(0,null)),DetailsVisible:new h.RawContextKey("suggestWidgetDetailsVisible",!1,(0,i.localize)(1,null)),MultipleSuggestions:new h.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,i.localize)(2,null)),MakesTextEdit:new h.RawContextKey("suggestionMakesTextEdit",!0,(0,i.localize)(3,null)),AcceptSuggestionsOnEnter:new h.RawContextKey("acceptSuggestionOnEnter",!0,(0,i.localize)(4,null)),HasInsertAndReplaceRange:new h.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,i.localize)(5,null)),InsertMode:new h.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,i.localize)(6,null)}),CanResolve:new h.RawContextKey("suggestionCanResolve",!1,(0,i.localize)(7,null))},e.suggestWidgetStatusbarMenu=new t.MenuId("suggestWidgetStatusBar");class d{constructor(P,M,R,F){var O;this.position=P,this.completion=M,this.container=R,this.provider=F,this.isInvalid=!1,this.score=E.FuzzyScore.Default,this.distance=0,this.textLabel=typeof M.label=="string"?M.label:(O=M.label)===null||O===void 0?void 0:O.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=M.sortText&&M.sortText.toLowerCase(),this.filterTextLow=M.filterText&&M.filterText.toLowerCase(),this.extensionId=M.extensionId,_.Range.isIRange(M.range)?(this.editStart=new v.Position(M.range.startLineNumber,M.range.startColumn),this.editInsertEnd=new v.Position(M.range.endLineNumber,M.range.endColumn),this.editReplaceEnd=new v.Position(M.range.endLineNumber,M.range.endColumn),this.isInvalid=this.isInvalid||_.Range.spansMultipleLines(M.range)||M.range.startLineNumber!==P.lineNumber):(this.editStart=new v.Position(M.range.insert.startLineNumber,M.range.insert.startColumn),this.editInsertEnd=new v.Position(M.range.insert.endLineNumber,M.range.insert.endColumn),this.editReplaceEnd=new v.Position(M.range.replace.endLineNumber,M.range.replace.endColumn),this.isInvalid=this.isInvalid||_.Range.spansMultipleLines(M.range.insert)||_.Range.spansMultipleLines(M.range.replace)||M.range.insert.startLineNumber!==P.lineNumber||M.range.replace.startLineNumber!==P.lineNumber||M.range.insert.startColumn!==M.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(P){if(!this._resolveCache){const M=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),R=new y.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(F=>{Object.assign(this.completion,F),this._resolveDuration=R.elapsed()},F=>{(0,k.isCancellationError)(F)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{M.dispose()})}return this._resolveCache}}e.CompletionItem=d;class r{constructor(P=2,M=new Set,R=new Set,F=new Map,O=!0){this.snippetSortOrder=P,this.kindFilter=M,this.providerFilter=R,this.providerItemsToReuse=F,this.showDeprecated=O}}e.CompletionOptions=r,r.default=new r;let l;function o(){return l}class g{constructor(P,M,R,F){this.items=P,this.needsClipboard=M,this.durations=R,this.disposable=F}}e.CompletionItemModel=g;async function c(A,P,M,R=r.default,F={triggerKind:0},O=f.CancellationToken.None){const B=new y.StopWatch;M=M.clone();const H=P.getWordAtPosition(M),V=H?new _.Range(M.lineNumber,H.startColumn,M.lineNumber,H.endColumn):_.Range.fromPositions(M),q={replace:V,insert:V.setEndPosition(M.lineNumber,M.column)},z=[],U=new L.DisposableStore,Z=[];let re=!1;const x=(X,Y,ae)=>{var ce,he,pe;let fe=!1;if(!Y)return fe;for(const se of Y.suggestions)if(!R.kindFilter.has(se.kind)){if(!R.showDeprecated&&(!((ce=se?.tags)===null||ce===void 0)&&ce.includes(1)))continue;se.range||(se.range=q),se.sortText||(se.sortText=typeof se.label=="string"?se.label:se.label.label),!re&&se.insertTextRules&&se.insertTextRules&4&&(re=s.SnippetParser.guessNeedsClipboard(se.insertText)),z.push(new d(M,se,Y,X)),fe=!0}return(0,L.isDisposable)(Y)&&U.add(Y),Z.push({providerName:(he=X._debugDisplayName)!==null&&he!==void 0?he:"unknown_provider",elapsedProvider:(pe=Y.duration)!==null&&pe!==void 0?pe:-1,elapsedOverall:ae.elapsed()}),fe},Q=(async()=>{if(!l||R.kindFilter.has(27))return;const X=R.providerItemsToReuse.get(l);if(X){X.forEach(ce=>z.push(ce));return}if(R.providerFilter.size>0&&!R.providerFilter.has(l))return;const Y=new y.StopWatch,ae=await l.provideCompletionItems(P,M,F,O);x(l,ae,Y)})();for(const X of A.orderedGroups(P)){let Y=!1;if(await Promise.all(X.map(async ae=>{if(R.providerItemsToReuse.has(ae)){const ce=R.providerItemsToReuse.get(ae);ce.forEach(he=>z.push(he)),Y=Y||ce.length>0;return}if(!(R.providerFilter.size>0&&!R.providerFilter.has(ae)))try{const ce=new y.StopWatch,he=await ae.provideCompletionItems(P,M,F,O);Y=x(ae,he,ce)||Y}catch(ce){(0,k.onUnexpectedExternalError)(ce)}})),Y||O.isCancellationRequested)break}return await Q,O.isCancellationRequested?(U.dispose(),Promise.reject(new k.CancellationError)):new g(z.sort(I(R.snippetSortOrder)),re,{entries:Z,elapsed:B.elapsed()},U)}function b(A,P){if(A.sortTextLow&&P.sortTextLow){if(A.sortTextLow<P.sortTextLow)return-1;if(A.sortTextLow>P.sortTextLow)return 1}return A.textLabel<P.textLabel?-1:A.textLabel>P.textLabel?1:A.completion.kind-P.completion.kind}function C(A,P){if(A.completion.kind!==P.completion.kind){if(A.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return b(A,P)}function S(A,P){if(A.completion.kind!==P.completion.kind){if(A.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return b(A,P)}const D=new Map;D.set(0,C),D.set(2,S),D.set(1,b);function I(A){return D.get(A)}n.CommandsRegistry.registerCommand("_executeCompletionItemProvider",async(A,...P)=>{const[M,R,F,O]=P;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(v.Position.isIPosition(R)),(0,p.assertType)(typeof F=="string"||!F),(0,p.assertType)(typeof O=="number"||!O);const{completionProvider:B}=A.get(m.ILanguageFeaturesService),H=await A.get(a.ITextModelService).createModelReference(M);try{const V={incomplete:!1,suggestions:[]},q=[],z=H.object.textEditorModel.validatePosition(R),U=await c(B,H.object.textEditorModel,z,void 0,{triggerCharacter:F??void 0,triggerKind:F?1:0});for(const Z of U.items)q.length<(O??0)&&q.push(Z.resolve(f.CancellationToken.None)),V.incomplete=V.incomplete||Z.container.incomplete,V.suggestions.push(Z.completion);try{return await Promise.all(q),V}finally{setTimeout(()=>U.disposable.dispose(),100)}}finally{H.dispose()}});function T(A,P){var M;(M=A.getContribution("editor.contrib.suggestController"))===null||M===void 0||M.triggerSuggest(new Set().add(P),void 0,!0)}class N{static isAllOff(P){return P.other==="off"&&P.comments==="off"&&P.strings==="off"}static isAllOn(P){return P.other==="on"&&P.comments==="on"&&P.strings==="on"}static valueFor(P,M){switch(M){case 1:return P.comments;case 2:return P.strings;default:return P.other}}}e.QuickSuggestionsOptions=N}),define(ie[150],ne([1,0,13,2,39]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var L;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(L||(e.DefaultQuickAccessFilterValue=L={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class y{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(w){return w.prefix.length===0?this.defaultProvider=w:this.providers.push(w),this.providers.sort((v,_)=>_.prefix.length-v.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(w),1),this.defaultProvider===w&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,f.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(w){return w&&this.providers.find(_=>w.startsWith(_.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=y,E.Registry.add(e.Extensions.Quickaccess,new y)}),define(ie[839],ne([1,0,775,39,2,35,150,75]),function(J,e,f,k,E,L,y,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let v=w=class{constructor(a,s){this.quickInputService=a,this.keybindingService=s,this.registry=k.Registry.as(y.Extensions.Quickaccess)}provide(a){const s=new E.DisposableStore;return s.add(a.onDidAccept(()=>{const[i]=a.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),s.add(a.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(w.PREFIX.length));t&&t.prefix&&t.prefix!==w.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),a.items=this.getQuickAccessProviders().filter(i=>i.prefix!==w.PREFIX),s}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((s,i)=>s.prefix.localeCompare(i.prefix)).flatMap(s=>this.createPicks(s))}createPicks(a){return a.helpEntries.map(s=>{const i=s.prefix||a.prefix,t=i||"\u2026";return{prefix:i,label:t,keybinding:s.commandId?this.keybindingService.lookupKeybinding(s.commandId):void 0,ariaLabel:(0,f.localize)(0,null,t,s.description),description:s.description}})}};e.HelpQuickAccessProvider=v,v.PREFIX="?",e.HelpQuickAccessProvider=v=w=Ie([ue(0,p.IQuickInputService),ue(1,L.IKeybindingService)],v)}),define(ie[840],ne([1,0,39,150,103,839]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),f.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:L.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:E.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(ie[841],ne([1,0,15,19,7,2,8,150,75,39]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let _=class extends L.Disposable{constructor(s,i){super(),this.quickInputService=s,this.instantiationService=i,this.registry=v.Registry.as(p.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",i){this.doShowOrPick(s,!1,i)}doShowOrPick(s,i,t){var n,h,m;const[u,d]=this.getOrInstantiateProvider(s),r=this.visibleQuickAccess,l=r?.descriptor;if(r&&d&&l===d){s!==d.prefix&&!t?.preserveValue&&(r.picker.value=s),this.adjustValueSelection(r.picker,d,t);return}if(d&&!t?.preserveValue){let D;if(r&&l&&l!==d){const I=r.value.substr(l.prefix.length);I&&(D=`${d.prefix}${I}`)}if(!D){const I=u?.defaultFilterValue;I===p.DefaultQuickAccessFilterValue.LAST?D=this.lastAcceptedPickerValues.get(d):typeof I=="string"&&(D=`${d.prefix}${I}`)}typeof D=="string"&&(s=D)}const o=(n=r?.picker)===null||n===void 0?void 0:n.valueSelection,g=(h=r?.picker)===null||h===void 0?void 0:h.value,c=new L.DisposableStore,b=c.add(this.quickInputService.createQuickPick());b.value=s,this.adjustValueSelection(b,d,t),b.placeholder=d?.placeholder,b.quickNavigate=t?.quickNavigateConfiguration,b.hideInput=!!b.quickNavigate&&!r,(typeof t?.itemActivation=="number"||t?.quickNavigateConfiguration)&&(b.itemActivation=(m=t?.itemActivation)!==null&&m!==void 0?m:w.ItemActivation.SECOND),b.contextKey=d?.contextKey,b.filterValue=D=>D.substring(d?d.prefix.length:0);let C;i&&(C=new f.DeferredPromise,c.add(E.Event.once(b.onWillAccept)(D=>{D.veto(),b.hide()}))),c.add(this.registerPickerListeners(b,u,d,s,t?.providerOptions));const S=c.add(new k.CancellationTokenSource);if(u&&c.add(u.provide(b,S.token,t?.providerOptions)),E.Event.once(b.onDidHide)(()=>{b.selectedItems.length===0&&S.cancel(),c.dispose(),C?.complete(b.selectedItems.slice(0))}),b.show(),o&&g===s&&(b.valueSelection=o),i)return C?.p}adjustValueSelection(s,i,t){var n;let h;t?.preserveValue?h=[s.value.length,s.value.length]:h=[(n=i?.prefix.length)!==null&&n!==void 0?n:0,s.value.length],s.valueSelection=h}registerPickerListeners(s,i,t,n,h){const m=new L.DisposableStore,u=this.visibleQuickAccess={picker:s,descriptor:t,value:n};return m.add((0,L.toDisposable)(()=>{u===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),m.add(s.onDidChangeValue(d=>{const[r]=this.getOrInstantiateProvider(d);r!==i?this.show(d,{preserveValue:!0,providerOptions:h}):u.value=d})),t&&m.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(t,s.value)})),m}getOrInstantiateProvider(s){const i=this.registry.getQuickAccessProvider(s);if(!i)return[void 0,void 0];let t=this.mapProviderToDescriptor.get(i);return t||(t=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,t)),[t,i]}};e.QuickAccessController=_,e.QuickAccessController=_=Ie([ue(0,w.IQuickInputService),ue(1,y.IInstantiationService)],_)}),define(ie[842],ne([1,0,26,31,107,513]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var L;(function(y){function p(w){switch(w){case E.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(f.Codicon.info);case E.default.Info:return k.ThemeIcon.asClassName(f.Codicon.info);case E.default.Warning:return k.ThemeIcon.asClassName(f.Codicon.warning);case E.default.Error:return k.ThemeIcon.asClassName(f.Codicon.error);default:return""}}y.className=p})(L||(e.SeverityIcon=L={}))}),define(ie[98],ne([1,0,7,2,21,631,8]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.loadKeyTargets=w,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,y.createDecorator)("storageService");var p;(function(a){a[a.NONE=0]="NONE",a[a.SHUTDOWN=1]="SHUTDOWN"})(p||(e.WillSaveStateReason=p={}));function w(a){const s=a.get(e.TARGET_KEY);if(s)try{return JSON.parse(s)}catch{}return Object.create(null)}class v extends k.Disposable{constructor(s={flushInterval:v.DEFAULT_FLUSH_INTERVAL}){super(),this.options=s,this._onDidChangeValue=this._register(new f.PauseableEmitter),this._onDidChangeTarget=this._register(new f.PauseableEmitter),this._onWillSaveState=this._register(new f.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(s,i,t){return f.Event.filter(this._onDidChangeValue.event,n=>n.scope===s&&(i===void 0||n.key===i),t)}emitDidChangeValue(s,i){const{key:t,external:n}=i;if(t===e.TARGET_KEY){switch(s){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:s})}else this._onDidChangeValue.fire({scope:s,key:t,target:this.getKeyTargets(s)[t],external:n})}get(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.get(s,t)}getBoolean(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.getBoolean(s,t)}getNumber(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.getNumber(s,t)}store(s,i,t,n,h=!1){if((0,E.isUndefinedOrNull)(i)){this.remove(s,t,h);return}this.withPausedEmitters(()=>{var m;this.updateKeyTarget(s,t,n),(m=this.getStorage(t))===null||m===void 0||m.set(s,i,h)})}remove(s,i,t=!1){this.withPausedEmitters(()=>{var n;this.updateKeyTarget(s,i,void 0),(n=this.getStorage(i))===null||n===void 0||n.delete(s,t)})}withPausedEmitters(s){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{s()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(s,i,t,n=!1){var h,m;const u=this.getKeyTargets(i);typeof t=="number"?u[s]!==t&&(u[s]=t,(h=this.getStorage(i))===null||h===void 0||h.set(e.TARGET_KEY,JSON.stringify(u),n)):typeof u[s]=="number"&&(delete u[s],(m=this.getStorage(i))===null||m===void 0||m.set(e.TARGET_KEY,JSON.stringify(u),n))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(s){switch(s){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(s){const i=this.getStorage(s);return i?w(i):Object.create(null)}}e.AbstractStorageService=v,v.DEFAULT_FLUSH_INTERVAL=60*1e3;class _ extends v{constructor(){super(),this.applicationStorage=this._register(new L.Storage(new L.InMemoryStorageDatabase,{hint:L.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new L.Storage(new L.InMemoryStorageDatabase,{hint:L.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new L.Storage(new L.InMemoryStorageDatabase,{hint:L.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(s=>this.emitDidChangeValue(1,s))),this._register(this.profileStorage.onDidChangeStorage(s=>this.emitDidChangeValue(0,s))),this._register(this.applicationStorage.onDidChangeStorage(s=>this.emitDidChangeValue(-1,s)))}getStorage(s){switch(s){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=_}),define(ie[843],ne([1,0,7,47,5,361,46,8,98,52,6]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,p.createDecorator)("ICodeLensCache");class a{constructor(t,n){this.lineCount=t,this.data=n}}let s=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const n="codelens/cache";(0,_.runWhenWindowIdle)(v.mainWindow,()=>t.remove(n,1));const h="codelens/cache2",m=t.get(h,1,"{}");this._deserialize(m),f.Event.once(t.onWillSaveState)(u=>{u.reason===w.WillSaveStateReason.SHUTDOWN&&t.store(h,this._serialize(),1,1)})}put(t,n){const h=n.lenses.map(d=>{var r;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:(r=d.symbol.command)===null||r===void 0?void 0:r.title}}}),m=new L.CodeLensModel;m.add({lenses:h,dispose:()=>{}},this._fakeProvider);const u=new a(t.getLineCount(),m);this._cache.set(t.uri.toString(),u)}get(t){const n=this._cache.get(t.uri.toString());return n&&n.lineCount===t.getLineCount()?n.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[n,h]of this._cache){const m=new Set;for(const u of h.data.lenses)m.add(u.symbol.range.startLineNumber);t[n]={lineCount:h.lineCount,lines:[...m.values()]}}return JSON.stringify(t)}_deserialize(t){try{const n=JSON.parse(t);for(const h in n){const m=n[h],u=[];for(const r of m.lines)u.push({range:new E.Range(r,1,r,11)});const d=new L.CodeLensModel;d.add({lenses:u,dispose(){}},this._fakeProvider),this._cache.set(h,new a(m.lineCount,d))}}catch{}}};e.CodeLensCache=s,e.CodeLensCache=s=Ie([ue(0,w.IStorageService)],s),(0,y.registerSingleton)(e.ICodeLensCache,s,1)}),define(ie[377],ne([1,0,15,2,47,215,29,25,46,8,98]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class s{constructor(u){this.name=u}select(u,d,r){if(r.length===0)return 0;const l=r[0].score[0];for(let o=0;o<r.length;o++){const{score:g,completion:c}=r[o];if(g[0]!==l)break;if(c.preselect)return o}return 0}}e.Memory=s;class i extends s{constructor(){super("first")}memorize(u,d,r){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends s{constructor(){super("recentlyUsed"),this._cache=new E.LRUCache(300,.66),this._seq=0}memorize(u,d,r){const l=`${u.getLanguageId()}/${r.textLabel}`;this._cache.set(l,{touch:this._seq++,type:r.completion.kind,insertText:r.completion.insertText})}select(u,d,r){if(r.length===0)return 0;const l=u.getLineContent(d.lineNumber).substr(d.column-10,d.column-1);if(/\s$/.test(l))return super.select(u,d,r);const o=r[0].score[0];let g=-1,c=-1,b=-1;for(let C=0;C<r.length&&r[C].score[0]===o;C++){const S=`${u.getLanguageId()}/${r[C].textLabel}`,D=this._cache.peek(S);if(D&&D.touch>b&&D.type===r[C].completion.kind&&D.insertText===r[C].completion.insertText&&(b=D.touch,c=C),r[C].completion.preselect&&g===-1)return g=C}return c!==-1?c:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(u){this._cache.clear();const d=0;for(const[r,l]of u)l.touch=d,l.type=typeof l.type=="number"?l.type:y.CompletionItemKinds.fromString(l.type),this._cache.set(r,l);this._seq=this._cache.size}}e.LRUMemory=t;class n extends s{constructor(){super("recentlyUsedByPrefix"),this._trie=L.TernarySearchTree.forStrings(),this._seq=0}memorize(u,d,r){const{word:l}=u.getWordUntilPosition(d),o=`${u.getLanguageId()}/${l}`;this._trie.set(o,{type:r.completion.kind,insertText:r.completion.insertText,touch:this._seq++})}select(u,d,r){const{word:l}=u.getWordUntilPosition(d);if(!l)return super.select(u,d,r);const o=`${u.getLanguageId()}/${l}`;let g=this._trie.get(o);if(g||(g=this._trie.findSubstr(o)),g)for(let c=0;c<r.length;c++){const{kind:b,insertText:C}=r[c].completion;if(b===g.type&&C===g.insertText)return c}return super.select(u,d,r)}toJSON(){const u=[];return this._trie.forEach((d,r)=>u.push([r,d])),u.sort((d,r)=>-(d[1].touch-r[1].touch)).forEach((d,r)=>d[1].touch=r),u.slice(0,200)}fromJSON(u){if(this._trie.clear(),u.length>0){this._seq=u[0][1].touch+1;for(const[d,r]of u)r.type=typeof r.type=="number"?r.type:y.CompletionItemKinds.fromString(r.type),this._trie.set(d,r)}}}e.PrefixMemory=n;let h=a=class{constructor(u,d){this._storageService=u,this._configService=d,this._disposables=new k.DisposableStore,this._persistSoon=new f.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(u.onWillSaveState(r=>{r.reason===_.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(u,d,r){this._withStrategy(u,d).memorize(u,d,r),this._persistSoon.schedule()}select(u,d,r){return this._withStrategy(u,d).select(u,d,r)}_withStrategy(u,d){var r;const l=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:u.getLanguageIdAtPosition(d.lineNumber,d.column),resource:u.uri});if(((r=this._strategy)===null||r===void 0?void 0:r.name)!==l){this._saveState();const o=a._strategyCtors.get(l)||i;this._strategy=new o;try{const c=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,b=this._storageService.get(`${a._storagePrefix}/${l}`,c);b&&this._strategy.fromJSON(JSON.parse(b))}catch{}}return this._strategy}_saveState(){if(this._strategy){const d=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,r=JSON.stringify(this._strategy);this._storageService.store(`${a._storagePrefix}/${this._strategy.name}`,r,d,1)}}};e.SuggestMemoryService=h,h._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",t],["first",i]]),h._storagePrefix="suggest/memories",e.SuggestMemoryService=h=a=Ie([ue(0,_.IStorageService),ue(1,p.IConfigurationService)],h),e.ISuggestMemoryService=(0,v.createDecorator)("ISuggestMemories"),(0,w.registerSingleton)(e.ISuggestMemoryService,h,1)}),define(ie[844],ne([1,0,15,7,2,28,27,14,41,98,13,764]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";var s,i;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let t=class{constructor(r,l){this._commandService=r,this._hiddenStates=new n(l)}createMenu(r,l,o){return new m(r,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...o},this._commandService,l)}resetHiddenStates(r){this._hiddenStates.reset(r)}};e.MenuService=t,e.MenuService=t=Ie([ue(0,y.ICommandService),ue(1,v.IStorageService)],t);let n=s=class{constructor(r){this._storageService=r,this._disposables=new E.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const l=r.get(s._key,0,"{}");this._data=JSON.parse(l)}catch{this._data=Object.create(null)}this._disposables.add(r.onDidChangeValue(0,s._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const l=r.get(s._key,0,"{}");this._data=JSON.parse(l)}catch(l){console.log("FAILED to read storage after UPDATE",l)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(r,l){var o;return(o=this._hiddenByDefaultCache.get(`${r.id}/${l}`))!==null&&o!==void 0?o:!1}setDefaultState(r,l,o){this._hiddenByDefaultCache.set(`${r.id}/${l}`,o)}isHidden(r,l){var o,g;const c=this._isHiddenByDefault(r,l),b=(g=(o=this._data[r.id])===null||o===void 0?void 0:o.includes(l))!==null&&g!==void 0?g:!1;return c?!b:b}updateHidden(r,l,o){this._isHiddenByDefault(r,l)&&(o=!o);const c=this._data[r.id];if(o)c?c.indexOf(l)<0&&c.push(l):this._data[r.id]=[l];else if(c){const b=c.indexOf(l);b>=0&&(0,_.removeFastWithoutKeepingOrder)(c,b),c.length===0&&delete this._data[r.id]}this._persist()}reset(r){if(r===void 0)this._data=Object.create(null),this._persist();else{for(const{id:l}of r)this._data[l]&&delete this._data[l];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const r=JSON.stringify(this._data);this._storageService.store(s._key,r,0,0)}finally{this._ignoreChangeEvent=!1}}};n._key="menu.hiddenCommands",n=s=Ie([ue(0,v.IStorageService)],n);let h=i=class{constructor(r,l,o,g,c){this._id=r,this._hiddenStates=l,this._collectContextKeysForSubmenus=o,this._commandService=g,this._contextKeyService=c,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const r=L.MenuRegistry.getMenuItems(this._id);let l;r.sort(i._compareMenuItems);for(const o of r){const g=o.group||"";(!l||l[0]!==g)&&(l=[g,[]],this._menuGroups.push(l)),l[1].push(o),this._collectContextKeys(o)}}_collectContextKeys(r){if(i._fillInKbExprKeys(r.when,this._structureContextKeys),(0,L.isIMenuItem)(r)){if(r.command.precondition&&i._fillInKbExprKeys(r.command.precondition,this._preconditionContextKeys),r.command.toggled){const l=r.command.toggled.condition||r.command.toggled;i._fillInKbExprKeys(l,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&L.MenuRegistry.getMenuItems(r.submenu).forEach(this._collectContextKeys,this)}createActionGroups(r){const l=[];for(const o of this._menuGroups){const[g,c]=o,b=[];for(const C of c)if(this._contextKeyService.contextMatchesRules(C.when)){const S=(0,L.isIMenuItem)(C);S&&this._hiddenStates.setDefaultState(this._id,C.command.id,!!C.isHiddenByDefault);const D=u(this._id,S?C.command:C,this._hiddenStates);if(S)b.push(new L.MenuItemAction(C.command,C.alt,r,D,this._contextKeyService,this._commandService));else{const I=new i(C.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(r),T=w.Separator.join(...I.map(N=>N[1]));T.length>0&&b.push(new L.SubmenuItemAction(C,D,T))}}b.length>0&&l.push([g,b])}return l}static _fillInKbExprKeys(r,l){if(r)for(const o of r.keys())l.add(o)}static _compareMenuItems(r,l){const o=r.group,g=l.group;if(o!==g){if(o){if(!g)return-1}else return 1;if(o==="navigation")return-1;if(g==="navigation")return 1;const C=o.localeCompare(g);if(C!==0)return C}const c=r.order||0,b=l.order||0;return c<b?-1:c>b?1:i._compareTitles((0,L.isIMenuItem)(r)?r.command.title:r.title,(0,L.isIMenuItem)(l)?l.command.title:l.title)}static _compareTitles(r,l){const o=typeof r=="string"?r:r.original,g=typeof l=="string"?l:l.original;return o.localeCompare(g)}};h=i=Ie([ue(3,y.ICommandService),ue(4,p.IContextKeyService)],h);let m=class{constructor(r,l,o,g,c){this._disposables=new E.DisposableStore,this._menuInfo=new h(r,l,o.emitEventsForSubmenuChanges,g,c);const b=new f.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},o.eventDebounceDelay);this._disposables.add(b),this._disposables.add(L.MenuRegistry.onDidChangeMenu(I=>{I.has(r)&&b.schedule()}));const C=this._disposables.add(new E.DisposableStore),S=I=>{let T=!1,N=!1,A=!1;for(const P of I)if(T=T||P.isStructuralChange,N=N||P.isEnablementChange,A=A||P.isToggleChange,T&&N&&A)break;return{menu:this,isStructuralChange:T,isEnablementChange:N,isToggleChange:A}},D=()=>{C.add(c.onDidChangeContext(I=>{const T=I.affectsSome(this._menuInfo.structureContextKeys),N=I.affectsSome(this._menuInfo.preconditionContextKeys),A=I.affectsSome(this._menuInfo.toggledContextKeys);(T||N||A)&&this._onDidChange.fire({menu:this,isStructuralChange:T,isEnablementChange:N,isToggleChange:A})})),C.add(l.onDidChange(I=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:D,onDidRemoveLastListener:C.clear.bind(C),delay:o.eventDebounceDelay,merge:S}),this.onDidChange=this._onDidChange.event}getActions(r){return this._menuInfo.createActionGroups(r)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};m=Ie([ue(3,y.ICommandService),ue(4,p.IContextKeyService)],m);function u(d,r,l){const o=(0,L.isISubmenuItem)(r)?r.submenu.id:r.id,g=typeof r.title=="string"?r.title:r.title.value,c=(0,w.toAction)({id:`hide/${d.id}/${o}`,label:(0,a.localize)(0,null,g),run(){l.updateHidden(d,o,!0)}}),b=(0,w.toAction)({id:`toggle/${d.id}/${o}`,label:g,get checked(){return!l.isHidden(d,o)},run(){l.updateHidden(d,o,!!this.checked)}});return{hide:c,toggle:b,get isHidden(){return!b.checked}}}}),define(ie[65],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,f.createDecorator)("telemetryService")}),define(ie[16],ne([1,0,648,22,36,9,53,74,28,27,14,8,131,39,65,21,61,6]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0,e.registerModelAndPositionCommand=b,e.registerEditorCommand=C,e.registerEditorAction=S,e.registerMultiEditorAction=D,e.registerInstantiatedEditorAction=I,e.registerEditorContribution=T;class u{constructor(F){this.id=F.id,this.precondition=F.precondition,this._kbOpts=F.kbOpts,this._menuOpts=F.menuOpts,this.metadata=F.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const F=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const O of F){let B=O.kbExpr;this.precondition&&(B?B=_.ContextKeyExpr.and(B,this.precondition):B=this.precondition);const H={id:this.id,weight:O.weight,args:O.args,when:B,primary:O.primary,secondary:O.secondary,win:O.win,linux:O.linux,mac:O.mac};s.KeybindingsRegistry.registerKeybindingRule(H)}}v.CommandsRegistry.registerCommand({id:this.id,handler:(F,O)=>this.runCommand(F,O),metadata:this.metadata})}_registerMenuItem(F){w.MenuRegistry.appendMenuItem(F.menuId,{group:F.group,command:{id:this.id,title:F.title,icon:F.icon,precondition:this.precondition},when:F.when,order:F.order})}}e.Command=u;class d extends u{constructor(){super(...arguments),this._implementations=[]}addImplementation(F,O,B,H){return this._implementations.push({priority:F,name:O,implementation:B,when:H}),this._implementations.sort((V,q)=>q.priority-V.priority),{dispose:()=>{for(let V=0;V<this._implementations.length;V++)if(this._implementations[V].implementation===B){this._implementations.splice(V,1);return}}}}runCommand(F,O){const B=F.get(h.ILogService),H=F.get(_.IContextKeyService);B.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const V of this._implementations){if(V.when){const z=H.getContext((0,m.getActiveElement)());if(!V.when.evaluate(z))continue}const q=V.implementation(F,O);if(q)return B.trace(`Command '${this.id}' was handled by '${V.name}'.`),typeof q=="boolean"?void 0:q}B.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=d;class r extends u{constructor(F,O){super(O),this.command=F}runCommand(F,O){return this.command.runCommand(F,O)}}e.ProxyCommand=r;class l extends u{static bindToContribution(F){return class extends l{constructor(B){super(B),this._callback=B.handler}runEditorCommand(B,H,V){const q=F(H);q&&this._callback(q,V)}}}static runEditorCommand(F,O,B,H){const V=F.get(E.ICodeEditorService),q=V.getFocusedCodeEditor()||V.getActiveCodeEditor();if(q)return q.invokeWithinContext(z=>{if(z.get(_.IContextKeyService).contextMatchesRules(B??void 0))return H(z,q,O)})}runCommand(F,O){return l.runEditorCommand(F,O,this.precondition,(B,H,V)=>this.runEditorCommand(B,H,V))}}e.EditorCommand=l;class o extends l{static convertOptions(F){let O;Array.isArray(F.menuOpts)?O=F.menuOpts:F.menuOpts?O=[F.menuOpts]:O=[];function B(H){return H.menuId||(H.menuId=w.MenuId.EditorContext),H.title||(H.title=F.label),H.when=_.ContextKeyExpr.and(F.precondition,H.when),H}return Array.isArray(F.contextMenuOpts)?O.push(...F.contextMenuOpts.map(B)):F.contextMenuOpts&&O.push(B(F.contextMenuOpts)),F.menuOpts=O,F}constructor(F){super(o.convertOptions(F)),this.label=F.label,this.alias=F.alias}runEditorCommand(F,O,B){return this.reportTelemetry(F,O),this.run(F,O,B||{})}reportTelemetry(F,O){F.get(t.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=o;class g extends o{constructor(){super(...arguments),this._implementations=[]}addImplementation(F,O){return this._implementations.push([F,O]),this._implementations.sort((B,H)=>H[0]-B[0]),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B][1]===O){this._implementations.splice(B,1);return}}}}run(F,O,B){for(const H of this._implementations){const V=H[1](F,O,B);if(V)return typeof V=="boolean"?void 0:V}}}e.MultiEditorAction=g;class c extends w.Action2{run(F,...O){const B=F.get(E.ICodeEditorService),H=B.getFocusedCodeEditor()||B.getActiveCodeEditor();if(H)return H.invokeWithinContext(V=>{var q,z;const U=V.get(_.IContextKeyService),Z=V.get(h.ILogService);if(!U.contextMatchesRules((q=this.desc.precondition)!==null&&q!==void 0?q:void 0)){Z.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(z=this.desc.precondition)===null||z===void 0?void 0:z.serialize());return}return this.runEditorCommand(V,H,...O)})}}e.EditorAction2=c;function b(R,F){v.CommandsRegistry.registerCommand(R,function(O,...B){const H=O.get(a.IInstantiationService),[V,q]=B;(0,n.assertType)(k.URI.isUri(V)),(0,n.assertType)(L.Position.isIPosition(q));const z=O.get(y.IModelService).getModel(V);if(z){const U=L.Position.lift(q);return H.invokeFunction(F,z,U,...B.slice(2))}return O.get(p.ITextModelService).createModelReference(V).then(U=>new Promise((Z,re)=>{try{const x=H.invokeFunction(F,U.object.textEditorModel,L.Position.lift(q),B.slice(2));Z(x)}catch(x){re(x)}}).finally(()=>{U.dispose()}))})}function C(R){return P.INSTANCE.registerEditorCommand(R),R}function S(R){const F=new R;return P.INSTANCE.registerEditorAction(F),F}function D(R){return P.INSTANCE.registerEditorAction(R),R}function I(R){P.INSTANCE.registerEditorAction(R)}function T(R,F,O){P.INSTANCE.registerEditorContribution(R,F,O)}var N;(function(R){function F(q){return P.INSTANCE.getEditorCommand(q)}R.getEditorCommand=F;function O(){return P.INSTANCE.getEditorActions()}R.getEditorActions=O;function B(){return P.INSTANCE.getEditorContributions()}R.getEditorContributions=B;function H(q){return P.INSTANCE.getEditorContributions().filter(z=>q.indexOf(z.id)>=0)}R.getSomeEditorContributions=H;function V(){return P.INSTANCE.getDiffEditorContributions()}R.getDiffEditorContributions=V})(N||(e.EditorExtensionsRegistry=N={}));const A={EditorCommonContributions:"editor.contributions"};class P{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(F,O,B){this.editorContributions.push({id:F,ctor:O,instantiation:B})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(F){F.register(),this.editorActions.push(F)}getEditorActions(){return this.editorActions}registerEditorCommand(F){F.register(),this.editorCommands[F.id]=F}getEditorCommand(F){return this.editorCommands[F]||null}}P.INSTANCE=new P,i.Registry.add(A.EditorCommonContributions,P.INSTANCE);function M(R){return R.register(),R}e.UndoCommand=M(new d({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:f.localize(0,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(1,null),order:1}]})),M(new r(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new d({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:f.localize(2,null),order:2},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(3,null),order:1}]})),M(new r(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new d({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:w.MenuId.MenubarSelectionMenu,group:"1_basic",title:f.localize(4,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(5,null),order:1}]}))}),define(ie[205],ne([1,0,647,62,21,45,16,36,535,77,224,225,265,9,5,20,14,131,6]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const d=0;class r extends y.EditorCommand{runEditorCommand(A,P,M){const R=P._getViewModel();R&&this.runCoreEditorCommand(R,M||{})}}e.CoreEditorCommand=r;var l;(function(N){const A=function(M){if(!E.isObject(M))return!1;const R=M;return!(!E.isString(R.to)||!E.isUndefined(R.by)&&!E.isString(R.by)||!E.isUndefined(R.value)&&!E.isNumber(R.value)||!E.isUndefined(R.revealCursor)&&!E.isBoolean(R.revealCursor))};N.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:A,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function P(M){let R;switch(M.to){case N.RawDirection.Up:R=1;break;case N.RawDirection.Right:R=2;break;case N.RawDirection.Down:R=3;break;case N.RawDirection.Left:R=4;break;default:return null}let F;switch(M.by){case N.RawUnit.Line:F=1;break;case N.RawUnit.WrappedLine:F=2;break;case N.RawUnit.Page:F=3;break;case N.RawUnit.HalfPage:F=4;break;case N.RawUnit.Editor:F=5;break;case N.RawUnit.Column:F=6;break;default:F=2}const O=Math.floor(M.value||1),B=!!M.revealCursor;return{direction:R,unit:F,value:O,revealCursor:B,select:!!M.select}}N.parse=P})(l||(e.EditorScroll_=l={}));var o;(function(N){const A=function(P){if(!E.isObject(P))return!1;const M=P;return!(!E.isNumber(M.lineNumber)&&!E.isString(M.lineNumber)||!E.isUndefined(M.at)&&!E.isString(M.at))};N.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:A,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(o||(e.RevealLine_=o={}));class g{constructor(A){A.addImplementation(1e4,"code-editor",(P,M)=>{const R=P.get(p.ICodeEditorService).getFocusedCodeEditor();return R&&R.hasTextFocus()?this._runEditorCommand(P,R,M):!1}),A.addImplementation(1e3,"generic-dom-input-textarea",(P,M)=>{const R=(0,u.getActiveElement)();return R&&["input","textarea"].indexOf(R.tagName.toLowerCase())>=0?(this.runDOMCommand(R),!0):!1}),A.addImplementation(0,"generic-dom",(P,M)=>{const R=P.get(p.ICodeEditorService).getActiveCodeEditor();return R?(R.focus(),this._runEditorCommand(P,R,M)):!1})}_runEditorCommand(A,P,M){const R=this.runEditorCommand(A,P,M);return R||!0}}var c;(function(N){class A extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){if(!ae.position)return;Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,[a.CursorMoveCommands.moveTo(Y,Y.getPrimaryCursorState(),this._inSelectionMode,ae.position,ae.viewPosition)])&&ae.revealType!==2&&Y.revealAllCursors(ae.source,!0,!0)}}N.MoveTo=(0,y.registerEditorCommand)(new A({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=(0,y.registerEditorCommand)(new A({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class P extends r{runCoreEditorCommand(Y,ae){Y.model.pushStackElement();const ce=this._getColumnSelectResult(Y,Y.getPrimaryCursorState(),Y.getCursorColumnSelectData(),ae);ce!==null&&(Y.setCursorStates(ae.source,3,ce.viewStates.map(he=>v.CursorState.fromViewState(he))),Y.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ce.fromLineNumber,fromViewVisualColumn:ce.fromVisualColumn,toViewLineNumber:ce.toLineNumber,toViewVisualColumn:ce.toVisualColumn}),ce.reversed?Y.revealTopMostCursor(ae.source):Y.revealBottomMostCursor(ae.source))}}N.ColumnSelect=(0,y.registerEditorCommand)(new class extends P{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(X,Y,ae,ce){if(typeof ce.position>"u"||typeof ce.viewPosition>"u"||typeof ce.mouseColumn>"u")return null;const he=X.model.validatePosition(ce.position),pe=X.coordinatesConverter.validateViewPosition(new i.Position(ce.viewPosition.lineNumber,ce.viewPosition.column),he),fe=ce.doColumnSelect?ae.fromViewLineNumber:pe.lineNumber,se=ce.doColumnSelect?ae.fromViewVisualColumn:ce.mouseColumn-1;return w.ColumnSelection.columnSelect(X.cursorConfig,X,fe,se,pe.lineNumber,ce.mouseColumn-1)}}),N.CursorColumnSelectLeft=(0,y.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(X,Y,ae,ce){return w.ColumnSelection.columnSelectLeft(X.cursorConfig,X,ae)}}),N.CursorColumnSelectRight=(0,y.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(X,Y,ae,ce){return w.ColumnSelection.columnSelectRight(X.cursorConfig,X,ae)}});class M extends P{constructor(Y){super(Y),this._isPaged=Y.isPaged}_getColumnSelectResult(Y,ae,ce,he){return w.ColumnSelection.columnSelectUp(Y.cursorConfig,Y,ce,this._isPaged)}}N.CursorColumnSelectUp=(0,y.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),N.CursorColumnSelectPageUp=(0,y.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class R extends P{constructor(Y){super(Y),this._isPaged=Y.isPaged}_getColumnSelectResult(Y,ae,ce,he){return w.ColumnSelection.columnSelectDown(Y.cursorConfig,Y,ce,this._isPaged)}}N.CursorColumnSelectDown=(0,y.registerEditorCommand)(new R({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),N.CursorColumnSelectPageDown=(0,y.registerEditorCommand)(new R({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class F extends r{constructor(){super({id:"cursorMove",precondition:void 0,metadata:a.CursorMove.metadata})}runCoreEditorCommand(Y,ae){const ce=a.CursorMove.parse(ae);ce&&this._runCursorMove(Y,ae.source,ce)}_runCursorMove(Y,ae,ce){Y.model.pushStackElement(),Y.setCursorStates(ae,3,F._move(Y,Y.getCursorStates(),ce)),Y.revealAllCursors(ae,!0)}static _move(Y,ae,ce){const he=ce.select,pe=ce.value;switch(ce.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return a.CursorMoveCommands.simpleMove(Y,ae,ce.direction,he,pe,ce.unit);case 11:case 13:case 12:case 14:return a.CursorMoveCommands.viewportMove(Y,ae,ce.direction,he,pe);default:return null}}}N.CursorMoveImpl=F,N.CursorMove=(0,y.registerEditorCommand)(new F);class O extends r{constructor(Y){super(Y),this._staticArgs=Y.args}runCoreEditorCommand(Y,ae){let ce=this._staticArgs;this._staticArgs.value===-1&&(ce={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:ae.pageSize||Y.cursorConfig.pageSize}),Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,a.CursorMoveCommands.simpleMove(Y,Y.getCursorStates(),ce.direction,ce.select,ce.value,ce.unit)),Y.revealAllCursors(ae.source,!0)}}N.CursorLeft=(0,y.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),N.CursorLeftSelect=(0,y.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1039}})),N.CursorRight=(0,y.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),N.CursorRightSelect=(0,y.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1041}})),N.CursorUp=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),N.CursorUpSelect=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),N.CursorPageUp=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1035}})),N.CursorDown=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),N.CursorDownSelect=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),N.CursorPageDown=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1036}})),N.CreateCursor=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(X,Y){if(!Y.position)return;let ae;Y.wholeLine?ae=a.CursorMoveCommands.line(X,X.getPrimaryCursorState(),!1,Y.position,Y.viewPosition):ae=a.CursorMoveCommands.moveTo(X,X.getPrimaryCursorState(),!1,Y.position,Y.viewPosition);const ce=X.getCursorStates();if(ce.length>1){const he=ae.modelState?ae.modelState.position:null,pe=ae.viewState?ae.viewState.position:null;for(let fe=0,se=ce.length;fe<se;fe++){const te=ce[fe];if(!(he&&!te.modelState.selection.containsPosition(he))&&!(pe&&!te.viewState.selection.containsPosition(pe))){ce.splice(fe,1),X.model.pushStackElement(),X.setCursorStates(Y.source,3,ce);return}}}ce.push(ae),X.model.pushStackElement(),X.setCursorStates(Y.source,3,ce)}}),N.LastCursorMoveToSelect=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(X,Y){if(!Y.position)return;const ae=X.getLastAddedCursorIndex(),ce=X.getCursorStates(),he=ce.slice(0);he[ae]=a.CursorMoveCommands.moveTo(X,ce[ae],!0,Y.position,Y.viewPosition),X.model.pushStackElement(),X.setCursorStates(Y.source,3,he)}});class B extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,a.CursorMoveCommands.moveToBeginningOfLine(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealAllCursors(ae.source,!0)}}N.CursorHome=(0,y.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),N.CursorHomeSelect=(0,y.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class H extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,this._exec(Y.getCursorStates())),Y.revealAllCursors(ae.source,!0)}_exec(Y){const ae=[];for(let ce=0,he=Y.length;ce<he;ce++){const pe=Y[ce],fe=pe.modelState.position.lineNumber;ae[ce]=v.CursorState.fromModelState(pe.modelState.move(this._inSelectionMode,fe,1,0))}return ae}}N.CursorLineStart=(0,y.registerEditorCommand)(new H({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),N.CursorLineStartSelect=(0,y.registerEditorCommand)(new H({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class V extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,a.CursorMoveCommands.moveToEndOfLine(Y,Y.getCursorStates(),this._inSelectionMode,ae.sticky||!1)),Y.revealAllCursors(ae.source,!0)}}N.CursorEnd=(0,y.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=(0,y.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.localize(1,null),type:"boolean",default:!1}}}}]}}));class q extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,this._exec(Y,Y.getCursorStates())),Y.revealAllCursors(ae.source,!0)}_exec(Y,ae){const ce=[];for(let he=0,pe=ae.length;he<pe;he++){const fe=ae[he],se=fe.modelState.position.lineNumber,te=Y.model.getLineMaxColumn(se);ce[he]=v.CursorState.fromModelState(fe.modelState.move(this._inSelectionMode,se,te,0))}return ce}}N.CursorLineEnd=(0,y.registerEditorCommand)(new q({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),N.CursorLineEndSelect=(0,y.registerEditorCommand)(new q({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class z extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,a.CursorMoveCommands.moveToBeginningOfBuffer(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealAllCursors(ae.source,!0)}}N.CursorTop=(0,y.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),N.CursorTopSelect=(0,y.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class U extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,a.CursorMoveCommands.moveToEndOfBuffer(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealAllCursors(ae.source,!0)}}N.CursorBottom=(0,y.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),N.CursorBottomSelect=(0,y.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class Z extends r{constructor(){super({id:"editorScroll",precondition:void 0,metadata:l.metadata})}determineScrollMethod(Y){const ae=[6],ce=[1,2,3,4,5,6],he=[4,2],pe=[1,3];return ae.includes(Y.unit)&&he.includes(Y.direction)?this._runHorizontalEditorScroll.bind(this):ce.includes(Y.unit)&&pe.includes(Y.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(Y,ae){const ce=l.parse(ae);if(!ce)return;const he=this.determineScrollMethod(ce);he&&he(Y,ae.source,ce)}_runVerticalEditorScroll(Y,ae,ce){const he=this._computeDesiredScrollTop(Y,ce);if(ce.revealCursor){const pe=Y.getCompletelyVisibleViewRangeAtScrollTop(he);Y.setCursorStates(ae,3,[a.CursorMoveCommands.findPositionInViewportIfOutside(Y,Y.getPrimaryCursorState(),pe,ce.select)])}Y.viewLayout.setScrollPosition({scrollTop:he},0)}_computeDesiredScrollTop(Y,ae){if(ae.unit===1){const pe=Y.viewLayout.getFutureViewport(),fe=Y.getCompletelyVisibleViewRangeAtScrollTop(pe.top),se=Y.coordinatesConverter.convertViewRangeToModelRange(fe);let te;ae.direction===1?te=Math.max(1,se.startLineNumber-ae.value):te=Math.min(Y.model.getLineCount(),se.startLineNumber+ae.value);const $=Y.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(te,1));return Y.viewLayout.getVerticalOffsetForLineNumber($.lineNumber)}if(ae.unit===5){let pe=0;return ae.direction===3&&(pe=Y.model.getLineCount()-Y.cursorConfig.pageSize),Y.viewLayout.getVerticalOffsetForLineNumber(pe)}let ce;ae.unit===3?ce=Y.cursorConfig.pageSize*ae.value:ae.unit===4?ce=Math.round(Y.cursorConfig.pageSize/2)*ae.value:ce=ae.value;const he=(ae.direction===1?-1:1)*ce;return Y.viewLayout.getCurrentScrollTop()+he*Y.cursorConfig.lineHeight}_runHorizontalEditorScroll(Y,ae,ce){const he=this._computeDesiredScrollLeft(Y,ce);Y.viewLayout.setScrollPosition({scrollLeft:he},0)}_computeDesiredScrollLeft(Y,ae){const ce=(ae.direction===4?-1:1)*ae.value;return Y.viewLayout.getCurrentScrollLeft()+ce*Y.cursorConfig.typicalHalfwidthCharacterWidth}}N.EditorScrollImpl=Z,N.EditorScroll=(0,y.registerEditorCommand)(new Z),N.ScrollLineUp=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(X,Y){N.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Up,by:l.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollPageUp=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(X,Y){N.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Up,by:l.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollEditorTop=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(X,Y){N.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Up,by:l.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollLineDown=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(X,Y){N.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Down,by:l.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollPageDown=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(X,Y){N.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Down,by:l.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollEditorBottom=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(X,Y){N.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Down,by:l.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollLeft=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(X,Y){N.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Left,by:l.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollRight=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(X,Y){N.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Right,by:l.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Y.source})}});class re extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){ae.position&&(Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,[a.CursorMoveCommands.word(Y,Y.getPrimaryCursorState(),this._inSelectionMode,ae.position)]),ae.revealType!==2&&Y.revealAllCursors(ae.source,!0,!0))}}N.WordSelect=(0,y.registerEditorCommand)(new re({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=(0,y.registerEditorCommand)(new re({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(X,Y){if(!Y.position)return;const ae=X.getLastAddedCursorIndex(),ce=X.getCursorStates(),he=ce.slice(0),pe=ce[ae];he[ae]=a.CursorMoveCommands.word(X,pe,pe.modelState.hasSelection(),Y.position),X.model.pushStackElement(),X.setCursorStates(Y.source,3,he)}});class x extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){ae.position&&(Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,[a.CursorMoveCommands.line(Y,Y.getPrimaryCursorState(),this._inSelectionMode,ae.position,ae.viewPosition)]),ae.revealType!==2&&Y.revealAllCursors(ae.source,!1,!0))}}N.LineSelect=(0,y.registerEditorCommand)(new x({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=(0,y.registerEditorCommand)(new x({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Q extends r{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){if(!ae.position)return;const ce=Y.getLastAddedCursorIndex(),he=Y.getCursorStates(),pe=he.slice(0);pe[ce]=a.CursorMoveCommands.line(Y,he[ce],this._inSelectionMode,ae.position,ae.viewPosition),Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,pe)}}N.LastCursorLineSelect=(0,y.registerEditorCommand)(new Q({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=(0,y.registerEditorCommand)(new Q({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.CancelSelection=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"cancelSelection",precondition:n.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(X,Y){X.model.pushStackElement(),X.setCursorStates(Y.source,3,[a.CursorMoveCommands.cancelSelection(X,X.getPrimaryCursorState())]),X.revealAllCursors(Y.source,!0)}}),N.RemoveSecondaryCursors=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"removeSecondaryCursors",precondition:n.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:d+1,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(X,Y){X.model.pushStackElement(),X.setCursorStates(Y.source,3,[X.getPrimaryCursorState()]),X.revealAllCursors(Y.source,!0),(0,L.status)(f.localize(2,null))}}),N.RevealLine=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"revealLine",precondition:void 0,metadata:o.metadata})}runCoreEditorCommand(X,Y){const ae=Y,ce=ae.lineNumber||0;let he=typeof ce=="number"?ce+1:parseInt(ce)+1;he<1&&(he=1);const pe=X.model.getLineCount();he>pe&&(he=pe);const fe=new t.Range(he,1,he,X.model.getLineMaxColumn(he));let se=0;if(ae.at)switch(ae.at){case o.RawAtArgument.Top:se=3;break;case o.RawAtArgument.Center:se=1;break;case o.RawAtArgument.Bottom:se=4;break;default:break}const te=X.coordinatesConverter.convertModelRangeToViewRange(fe);X.revealRange(Y.source,!1,te,se,0)}}),N.SelectAll=new class extends g{constructor(){super(y.SelectAllCommand)}runDOMCommand(X){k.isFirefox&&(X.focus(),X.select()),X.ownerDocument.execCommand("selectAll")}runEditorCommand(X,Y,ae){const ce=Y._getViewModel();ce&&this.runCoreEditorCommand(ce,ae)}runCoreEditorCommand(X,Y){X.model.pushStackElement(),X.setCursorStates("keyboard",3,[a.CursorMoveCommands.selectAll(X,X.getPrimaryCursorState())])}},N.SetSelection=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(X,Y){Y.selection&&(X.model.pushStackElement(),X.setCursorStates(Y.source,3,[v.CursorState.fromModelSelection(Y.selection)]))}})})(c||(e.CoreNavigationCommands=c={}));const b=h.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,n.EditorContextKeys.columnSelection);function C(N,A){m.KeybindingsRegistry.registerKeybindingRule({id:N,primary:A,when:b,weight:d+1})}C(c.CursorColumnSelectLeft.id,1039),C(c.CursorColumnSelectRight.id,1041),C(c.CursorColumnSelectUp.id,1040),C(c.CursorColumnSelectPageUp.id,1035),C(c.CursorColumnSelectDown.id,1042),C(c.CursorColumnSelectPageDown.id,1036);function S(N){return N.register(),N}var D;(function(N){class A extends y.EditorCommand{runEditorCommand(M,R,F){const O=R._getViewModel();O&&this.runCoreEditingCommand(R,O,F||{})}}N.CoreEditingCommand=A,N.LineBreakInsert=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"lineBreakInsert",precondition:n.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(P,M,R){P.pushUndoStop(),P.executeCommands(this.id,s.TypeOperations.lineBreakInsert(M.cursorConfig,M.model,M.getCursorStates().map(F=>F.modelState.selection)))}}),N.Outdent=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"outdent",precondition:n.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:h.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,n.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(P,M,R){P.pushUndoStop(),P.executeCommands(this.id,s.TypeOperations.outdent(M.cursorConfig,M.model,M.getCursorStates().map(F=>F.modelState.selection))),P.pushUndoStop()}}),N.Tab=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"tab",precondition:n.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:h.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,n.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(P,M,R){P.pushUndoStop(),P.executeCommands(this.id,s.TypeOperations.tab(M.cursorConfig,M.model,M.getCursorStates().map(F=>F.modelState.selection))),P.pushUndoStop()}}),N.DeleteLeft=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(P,M,R){const[F,O]=_.DeleteOperations.deleteLeft(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(B=>B.modelState.selection),M.getCursorAutoClosedCharacters());F&&P.pushUndoStop(),P.executeCommands(this.id,O),M.setPrevEditOperationType(2)}}),N.DeleteRight=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(P,M,R){const[F,O]=_.DeleteOperations.deleteRight(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(B=>B.modelState.selection));F&&P.pushUndoStop(),P.executeCommands(this.id,O),M.setPrevEditOperationType(3)}}),N.Undo=new class extends g{constructor(){super(y.UndoCommand)}runDOMCommand(P){P.ownerDocument.execCommand("undo")}runEditorCommand(P,M,R){if(!(!M.hasModel()||M.getOption(91)===!0))return M.getModel().undo()}},N.Redo=new class extends g{constructor(){super(y.RedoCommand)}runDOMCommand(P){P.ownerDocument.execCommand("redo")}runEditorCommand(P,M,R){if(!(!M.hasModel()||M.getOption(91)===!0))return M.getModel().redo()}}})(D||(e.CoreEditingCommands=D={}));class I extends y.Command{constructor(A,P,M){super({id:A,precondition:void 0,metadata:M}),this._handlerId=P}runCommand(A,P){const M=A.get(p.ICodeEditorService).getFocusedCodeEditor();M&&M.trigger("keyboard",this._handlerId,P)}}function T(N,A){S(new I("default:"+N,N)),S(new I(N,N,A))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(ie[845],ne([1,0,254,16]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let E=class{constructor(y,p){}dispose(){}};e.MarkerDecorationsContribution=E,E.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=E=Ie([ue(1,f.IMarkerDecorationsService)],E),(0,k.registerEditorContribution)(E.ID,E,0)}),define(ie[846],ne([1,0,205,9,17]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class L{constructor(p,w,v,_){this.configuration=p,this.viewModel=w,this.userInputEvents=v,this.commandDelegate=_}paste(p,w,v,_){this.commandDelegate.paste(p,w,v,_)}type(p){this.commandDelegate.type(p)}compositionType(p,w,v,_){this.commandDelegate.compositionType(p,w,v,_)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){f.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const w=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<w?new k.Position(p.lineNumber,w):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(78)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(78)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const w=this.configuration.options,v=E.isLinux&&w.get(107),_=w.get(22);p.middleButton&&!v?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position,p.revealType):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position,p.revealType):this._lineSelect(p.position,p.revealType):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position,p.revealType):this._lastCursorLineSelect(p.position,p.revealType):p.inSelectionMode?this._lineSelectDrag(p.position,p.revealType):this._lineSelect(p.position,p.revealType):p.mouseDownCount===2?p.onInjectedText||(this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position,p.revealType):p.inSelectionMode?this._wordSelectDrag(p.position,p.revealType):this._wordSelect(p.position,p.revealType)):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position,p.revealType):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):_?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position,p.revealType):this.moveTo(p.position,p.revealType)}_usualArgs(p,w){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,revealType:w}}moveTo(p,w){f.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_moveToSelect(p,w){f.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_columnSelect(p,w,v){p=this._validateViewColumn(p),f.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:w,doColumnSelect:v})}_createCursor(p,w){p=this._validateViewColumn(p),f.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:w})}_lastCursorMoveToSelect(p,w){f.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_wordSelect(p,w){f.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_wordSelectDrag(p,w){f.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorWordSelect(p,w){f.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lineSelect(p,w){f.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lineSelectDrag(p,w){f.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorLineSelect(p,w){f.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorLineSelectDrag(p,w){f.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_selectAll(){f.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=L}),define(ie[847],ne([1,0,46,8,7,63,60,100,111,65]),function(J,e,f,k,E,L,y,p,w,v){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=e.WorkerBasedDiffProviderFactoryService=e.IDiffProviderFactoryService=void 0,e.IDiffProviderFactoryService=(0,k.createDecorator)("diffProviderFactoryService");let a=class{constructor(t){this.instantiationService=t}createDiffProvider(t){return this.instantiationService.createInstance(s,t)}};e.WorkerBasedDiffProviderFactoryService=a,e.WorkerBasedDiffProviderFactoryService=a=Ie([ue(0,k.IInstantiationService)],a),(0,f.registerSingleton)(e.IDiffProviderFactoryService,a,1);let s=_=class{constructor(t,n,h){this.editorWorkerService=n,this.telemetryService=h,this.onDidChangeEventEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(t)}dispose(){var t;(t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose()}async computeDiff(t,n,h,m){var u,d;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(t,n,h,m);if(t.getLineCount()===1&&t.getLineMaxColumn(1)===1)return n.getLineCount()===1&&n.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new p.DetailedLineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,n.getLineCount()+1),[new p.RangeMapping(t.getFullModelRange(),n.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const r=JSON.stringify([t.uri.toString(),n.uri.toString()]),l=JSON.stringify([t.id,n.id,t.getAlternativeVersionId(),n.getAlternativeVersionId(),JSON.stringify(h)]),o=_.diffCache.get(r);if(o&&o.context===l)return o.result;const g=L.StopWatch.create(),c=await this.editorWorkerService.computeDiff(t.uri,n.uri,h,this.diffAlgorithm),b=g.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:b,timedOut:(u=c?.quitEarly)!==null&&u!==void 0?u:!0,detectedMoves:h.computeMoves?(d=c?.moves.length)!==null&&d!==void 0?d:0:-1}),m.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!c)throw new Error("no diff result available");return _.diffCache.size>10&&_.diffCache.delete(_.diffCache.keys().next().value),_.diffCache.set(r,{result:c,context:l}),c}setOptions(t){var n;let h=!1;t.diffAlgorithm&&this.diffAlgorithm!==t.diffAlgorithm&&((n=this.diffAlgorithmOnDidChangeSubscription)===null||n===void 0||n.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=t.diffAlgorithm,typeof t.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=t.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),h=!0),h&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=s,s.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=s=_=Ie([ue(1,w.IEditorWorkerService),ue(2,v.ITelemetryService)],s)}),define(ie[378],ne([1,0,15,19,2,30,847,82,60,304,100,191,306,302,21,13,87]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;let m=class extends E.Disposable{setActiveMovedText(C){this._activeMovedText.set(C,void 0)}constructor(C,S,D){super(),this.model=C,this._options=S,this._diffProviderFactoryService=D,this._isDiffUpToDate=(0,L.observableValue)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,L.observableValue)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,L.observableValue)(this,void 0),this.unchangedRegions=(0,L.derived)(this,A=>{var P,M;return this._options.hideUnchangedRegions.read(A)?(M=(P=this._unchangedRegions.read(A))===null||P===void 0?void 0:P.regions)!==null&&M!==void 0?M:[]:((0,L.transaction)(R=>{var F;for(const O of((F=this._unchangedRegions.get())===null||F===void 0?void 0:F.regions)||[])O.collapseAll(R)}),[])}),this.movedTextToCompare=(0,L.observableValue)(this,void 0),this._activeMovedText=(0,L.observableValue)(this,void 0),this._hoveredMovedText=(0,L.observableValue)(this,void 0),this.activeMovedText=(0,L.derived)(this,A=>{var P,M;return(M=(P=this.movedTextToCompare.read(A))!==null&&P!==void 0?P:this._hoveredMovedText.read(A))!==null&&M!==void 0?M:this._activeMovedText.read(A)}),this._cancellationTokenSource=new k.CancellationTokenSource,this._diffProvider=(0,L.derived)(this,A=>{const P=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(A)}),M=(0,L.observableSignalFromEvent)("onDidChange",P.onDidChange);return{diffProvider:P,onChangeSignal:M}}),this._register((0,E.toDisposable)(()=>this._cancellationTokenSource.cancel()));const I=(0,L.observableSignal)("contentChangedSignal"),T=this._register(new f.RunOnceScheduler(()=>I.trigger(void 0),200));this._register((0,L.autorun)(A=>{const P=this._unchangedRegions.read(A);if(!P||P.regions.some(H=>H.isDragged.read(A)))return;const M=P.originalDecorationIds.map(H=>C.original.getDecorationRange(H)).map(H=>H?w.LineRange.fromRangeInclusive(H):void 0),R=P.modifiedDecorationIds.map(H=>C.modified.getDecorationRange(H)).map(H=>H?w.LineRange.fromRangeInclusive(H):void 0),F=P.regions.map((H,V)=>!M[V]||!R[V]?void 0:new o(M[V].startLineNumber,R[V].startLineNumber,M[V].length,H.visibleLineCountTop.read(A),H.visibleLineCountBottom.read(A))).filter(t.isDefined),O=[];let B=!1;for(const H of(0,n.groupAdjacentBy)(F,(V,q)=>V.getHiddenModifiedRange(A).endLineNumberExclusive===q.getHiddenModifiedRange(A).startLineNumber))if(H.length>1){B=!0;const V=H.reduce((z,U)=>z+U.lineCount,0),q=new o(H[0].originalLineNumber,H[0].modifiedLineNumber,V,H[0].visibleLineCountTop.get(),H[H.length-1].visibleLineCountBottom.get());O.push(q)}else O.push(H[0]);if(B){const H=C.original.deltaDecorations(P.originalDecorationIds,O.map(q=>({range:q.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),V=C.modified.deltaDecorations(P.modifiedDecorationIds,O.map(q=>({range:q.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,L.transaction)(q=>{this._unchangedRegions.set({regions:O,originalDecorationIds:H,modifiedDecorationIds:V},q)})}}));const N=(A,P,M)=>{const R=o.fromDiffs(A.changes,C.original.getLineCount(),C.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(M),this._options.hideUnchangedRegionsContextLineCount.read(M));let F;const O=this._unchangedRegions.get();if(O){const q=O.originalDecorationIds.map(re=>C.original.getDecorationRange(re)).map(re=>re?w.LineRange.fromRangeInclusive(re):void 0),z=O.modifiedDecorationIds.map(re=>C.modified.getDecorationRange(re)).map(re=>re?w.LineRange.fromRangeInclusive(re):void 0);let Z=(0,p.filterWithPrevious)(O.regions.map((re,x)=>{if(!q[x]||!z[x])return;const Q=q[x].length;return new o(q[x].startLineNumber,z[x].startLineNumber,Q,Math.min(re.visibleLineCountTop.get(),Q),Math.min(re.visibleLineCountBottom.get(),Q-re.visibleLineCountTop.get()))}).filter(t.isDefined),(re,x)=>!x||re.modifiedLineNumber>=x.modifiedLineNumber+x.lineCount&&re.originalLineNumber>=x.originalLineNumber+x.lineCount).map(re=>new _.LineRangeMapping(re.getHiddenOriginalRange(M),re.getHiddenModifiedRange(M)));Z=_.LineRangeMapping.clip(Z,w.LineRange.ofLength(1,C.original.getLineCount()),w.LineRange.ofLength(1,C.modified.getLineCount())),F=_.LineRangeMapping.inverse(Z,C.original.getLineCount(),C.modified.getLineCount())}const B=[];if(F)for(const q of R){const z=F.filter(U=>U.original.intersectsStrict(q.originalUnchangedRange)&&U.modified.intersectsStrict(q.modifiedUnchangedRange));B.push(...q.setVisibleRanges(z,P))}else B.push(...R);const H=C.original.deltaDecorations(O?.originalDecorationIds||[],B.map(q=>({range:q.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),V=C.modified.deltaDecorations(O?.modifiedDecorationIds||[],B.map(q=>({range:q.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:B,originalDecorationIds:H,modifiedDecorationIds:V},P)};this._register(C.modified.onDidChangeContent(A=>{if(this._diff.get()){const M=a.TextEditInfo.fromModelContentChanges(A.changes),R=(this._lastDiff,C.original,C.modified,void 0);R&&(this._lastDiff=R,(0,L.transaction)(F=>{this._diff.set(r.fromDiffResult(this._lastDiff),F),N(R,F);const O=this.movedTextToCompare.get();this.movedTextToCompare.set(O?this._lastDiff.moves.find(B=>B.lineRangeMapping.modified.intersect(O.lineRangeMapping.modified)):void 0,F)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register(C.original.onDidChangeContent(A=>{if(this._diff.get()){const M=a.TextEditInfo.fromModelContentChanges(A.changes),R=(this._lastDiff,C.original,C.modified,void 0);R&&(this._lastDiff=R,(0,L.transaction)(F=>{this._diff.set(r.fromDiffResult(this._lastDiff),F),N(R,F);const O=this.movedTextToCompare.get();this.movedTextToCompare.set(O?this._lastDiff.moves.find(B=>B.lineRangeMapping.modified.intersect(O.lineRangeMapping.modified)):void 0,F)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register((0,L.autorunWithStore)(async(A,P)=>{var M,R;this._options.hideUnchangedRegionsMinimumLineCount.read(A),this._options.hideUnchangedRegionsContextLineCount.read(A),T.cancel(),I.read(A);const F=this._diffProvider.read(A);F.onChangeSignal.read(A),(0,p.readHotReloadableExport)(v.DefaultLinesDiffComputer,A),(0,p.readHotReloadableExport)(i.optimizeSequenceDiffs,A),this._isDiffUpToDate.set(!1,void 0);let O=[];P.add(C.original.onDidChangeContent(V=>{const q=a.TextEditInfo.fromModelContentChanges(V.changes);O=(0,s.combineTextEditInfos)(O,q)}));let B=[];P.add(C.modified.onDidChangeContent(V=>{const q=a.TextEditInfo.fromModelContentChanges(V.changes);B=(0,s.combineTextEditInfos)(B,q)}));let H=await F.diffProvider.computeDiff(C.original,C.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(A),maxComputationTimeMs:this._options.maxComputationTimeMs.read(A),computeMoves:this._options.showMoves.read(A)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(H=u(H,C.original,C.modified),H=(M=(C.original,C.modified,void 0))!==null&&M!==void 0?M:H,H=(R=(C.original,C.modified,void 0))!==null&&R!==void 0?R:H,(0,L.transaction)(V=>{N(H,V),this._lastDiff=H;const q=r.fromDiffResult(H);this._diff.set(q,V),this._isDiffUpToDate.set(!0,V);const z=this.movedTextToCompare.get();this.movedTextToCompare.set(z?this._lastDiff.moves.find(U=>U.lineRangeMapping.modified.intersect(z.lineRangeMapping.modified)):void 0,V)}))}))}ensureModifiedLineIsVisible(C,S,D){var I,T;if(((I=this.diff.get())===null||I===void 0?void 0:I.mappings.length)===0)return;const N=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const A of N)if(A.getHiddenModifiedRange(void 0).contains(C)){A.showModifiedLine(C,S,D);return}}ensureOriginalLineIsVisible(C,S,D){var I,T;if(((I=this.diff.get())===null||I===void 0?void 0:I.mappings.length)===0)return;const N=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const A of N)if(A.getHiddenOriginalRange(void 0).contains(C)){A.showOriginalLine(C,S,D);return}}async waitForDiff(){await(0,L.waitForState)(this.isDiffUpToDate,C=>C)}serializeState(){const C=this._unchangedRegions.get();return{collapsedRegions:C?.regions.map(S=>({range:S.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(C){var S;const D=(S=C.collapsedRegions)===null||S===void 0?void 0:S.map(T=>w.LineRange.deserialize(T.range)),I=this._unchangedRegions.get();!I||!D||(0,L.transaction)(T=>{for(const N of I.regions)for(const A of D)if(N.modifiedUnchangedRange.intersect(A)){N.setHiddenModifiedRange(A,T);break}})}};e.DiffEditorViewModel=m,e.DiffEditorViewModel=m=Ie([ue(2,y.IDiffProviderFactoryService)],m);function u(b,C,S){return{changes:b.changes.map(D=>new _.DetailedLineRangeMapping(D.original,D.modified,D.innerChanges?D.innerChanges.map(I=>d(I,C,S)):void 0)),moves:b.moves,identical:b.identical,quitEarly:b.quitEarly}}function d(b,C,S){let D=b.originalRange,I=b.modifiedRange;return(D.endColumn!==1||I.endColumn!==1)&&D.endColumn===C.getLineMaxColumn(D.endLineNumber)&&I.endColumn===S.getLineMaxColumn(I.endLineNumber)&&D.endLineNumber<C.getLineCount()&&I.endLineNumber<S.getLineCount()&&(D=D.setEndPosition(D.endLineNumber+1,1),I=I.setEndPosition(I.endLineNumber+1,1)),new _.RangeMapping(D,I)}class r{static fromDiffResult(C){return new r(C.changes.map(S=>new l(S)),C.moves||[],C.identical,C.quitEarly)}constructor(C,S,D,I){this.mappings=C,this.movedTexts=S,this.identical=D,this.quitEarly=I}}e.DiffState=r;class l{constructor(C){this.lineRangeMapping=C}}e.DiffMapping=l;class o{static fromDiffs(C,S,D,I,T){const N=_.DetailedLineRangeMapping.inverse(C,S,D),A=[];for(const P of N){let M=P.original.startLineNumber,R=P.modified.startLineNumber,F=P.original.length;const O=M===1&&R===1,B=M+F===S+1&&R+F===D+1;(O||B)&&F>=T+I?(O&&!B&&(F-=T),B&&!O&&(M+=T,R+=T,F-=T),A.push(new o(M,R,F,0,0))):F>=T*2+I&&(M+=T,R+=T,F-=T*2,A.push(new o(M,R,F,0,0)))}return A}get originalUnchangedRange(){return w.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return w.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(C,S,D,I,T){this.originalLineNumber=C,this.modifiedLineNumber=S,this.lineCount=D,this._visibleLineCountTop=(0,L.observableValue)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,L.observableValue)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,L.derived)(this,P=>this.visibleLineCountTop.read(P)+this.visibleLineCountBottom.read(P)===this.lineCount&&!this.isDragged.read(P)),this.isDragged=(0,L.observableValue)(this,void 0);const N=Math.max(Math.min(I,this.lineCount),0),A=Math.max(Math.min(T,this.lineCount-I),0);(0,h.softAssert)(I===N),(0,h.softAssert)(T===A),this._visibleLineCountTop.set(N,void 0),this._visibleLineCountBottom.set(A,void 0)}setVisibleRanges(C,S){const D=[],I=new w.LineRangeSet(C.map(P=>P.modified)).subtractFrom(this.modifiedUnchangedRange);let T=this.originalLineNumber,N=this.modifiedLineNumber;const A=this.modifiedLineNumber+this.lineCount;if(I.ranges.length===0)this.showAll(S),D.push(this);else{let P=0;for(const M of I.ranges){const R=P===I.ranges.length-1;P++;const F=(R?A:M.endLineNumberExclusive)-N,O=new o(T,N,F,0,0);O.setHiddenModifiedRange(M,S),D.push(O),T=O.originalUnchangedRange.endLineNumberExclusive,N=O.modifiedUnchangedRange.endLineNumberExclusive}}return D}shouldHideControls(C){return this._shouldHideControls.read(C)}getHiddenOriginalRange(C){return w.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(C),this.lineCount-this._visibleLineCountTop.read(C)-this._visibleLineCountBottom.read(C))}getHiddenModifiedRange(C){return w.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(C),this.lineCount-this._visibleLineCountTop.read(C)-this._visibleLineCountBottom.read(C))}setHiddenModifiedRange(C,S){const D=C.startLineNumber-this.modifiedLineNumber,I=this.modifiedLineNumber+this.lineCount-C.endLineNumberExclusive;this.setState(D,I,S)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(C=10,S){const D=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+C,D),S)}showMoreBelow(C=10,S){const D=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+C,D),S)}showAll(C){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),C)}showModifiedLine(C,S,D){const I=C+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),T=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-C;S===0&&I<T||S===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+I,D):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+T,D)}showOriginalLine(C,S,D){const I=C-this.originalLineNumber,T=this.originalLineNumber+this.lineCount-C;S===0&&I<T||S===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+T-I,this.getMaxVisibleLineCountTop()),D):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+I-T,this.getMaxVisibleLineCountBottom()),D)}collapseAll(C){this._visibleLineCountTop.set(0,C),this._visibleLineCountBottom.set(0,C)}setState(C,S,D){C=Math.max(Math.min(C,this.lineCount),0),S=Math.max(Math.min(S,this.lineCount-C),0),this._visibleLineCountTop.set(C,D),this._visibleLineCountBottom.set(S,D)}}e.UnchangedRegion=o;function g(b,C,S,D){}function c(b,C,S,D){}}),define(ie[848],ne([1,0,45,57,69,16,24,20,677,14,474]),function(J,e,f,k,E,L,y,p,w,v){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new v.RawContextKey("selectionAnchorSet",!1);let a=_=class{static get(m){return m.getContribution(_.ID)}constructor(m,u){this.editor=m,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(u),this.modelChangeListener=m.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const m=this.editor.getPosition();this.editor.changeDecorations(u=>{this.decorationId&&u.removeDecoration(this.decorationId),this.decorationId=u.addDecoration(y.Selection.fromPositions(m,m),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,w.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,f.alert)((0,w.localize)(1,null,m.lineNumber,m.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const m=this.editor.getModel().getDecorationRange(this.decorationId);m&&this.editor.setPosition(m.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const m=this.editor.getModel().getDecorationRange(this.decorationId);if(m){const u=this.editor.getPosition();this.editor.setSelection(y.Selection.fromPositions(m.getStartPosition(),u)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const m=this.decorationId;this.editor.changeDecorations(u=>{u.removeDecoration(m),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};a.ID="editor.contrib.selectionAnchorController",a=_=Ie([ue(1,v.IContextKeyService)],a);class s extends L.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,w.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2080),weight:100}})}async run(m,u){var d;(d=a.get(u))===null||d===void 0||d.setSelectionAnchor()}}class i extends L.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,w.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}async run(m,u){var d;(d=a.get(u))===null||d===void 0||d.goToSelectionAnchor()}}class t extends L.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,w.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2089),weight:100}})}async run(m,u){var d;(d=a.get(u))===null||d===void 0||d.selectFromAnchorToCursor()}}class n extends L.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,w.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}async run(m,u){var d;(d=a.get(u))===null||d===void 0||d.cancelSelectionAnchor()}}(0,L.registerEditorContribution)(a.ID,a,4),(0,L.registerEditorAction)(s),(0,L.registerEditorAction)(i),(0,L.registerEditorAction)(t),(0,L.registerEditorAction)(n)}),define(ie[849],ne([1,0,16,20,578,679]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends f.EditorAction{constructor(_,a){super(a),this.left=_}run(_,a){if(!a.hasModel())return;const s=[],i=a.getSelections();for(const t of i)s.push(new E.MoveCaretCommand(t,this.left));a.pushUndoStop(),a.executeCommands(this.id,s),a.pushUndoStop()}}class p extends y{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:L.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class w extends y{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:L.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,f.registerEditorAction)(p),(0,f.registerEditorAction)(w)}),define(ie[850],ne([1,0,16,140,223,5,20,680]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends f.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:p.localize(0,null),alias:"Transpose Letters",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(_,a){if(!a.hasModel())return;const s=a.getModel(),i=[],t=a.getSelections();for(const n of t){if(!n.isEmpty())continue;const h=n.startLineNumber,m=n.startColumn,u=s.getLineMaxColumn(h);if(h===1&&(m===1||m===2&&u===2))continue;const d=m===u?n.getPosition():E.MoveOperations.rightPosition(s,n.getPosition().lineNumber,n.getPosition().column),r=E.MoveOperations.leftPosition(s,d),l=E.MoveOperations.leftPosition(s,r),o=s.getValueInRange(L.Range.fromPositions(l,r)),g=s.getValueInRange(L.Range.fromPositions(r,d)),c=L.Range.fromPositions(l,d);i.push(new k.ReplaceCommand(c,g+o))}i.length>0&&(a.pushUndoStop(),a.executeCommands(this.id,i),a.pushUndoStop())}}(0,f.registerEditorAction)(w)}),define(ie[851],ne([1,0,69,16,5,20,33,319,580,691,28]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class a extends k.EditorAction{constructor(m,u){super(u),this._type=m}run(m,u){const d=m.get(y.ILanguageConfigurationService);if(!u.hasModel())return;const r=u.getModel(),l=[],o=r.getOptions(),g=u.getOption(23),c=u.getSelections().map((C,S)=>({selection:C,index:S,ignoreFirstLine:!1}));c.sort((C,S)=>E.Range.compareRangesUsingStarts(C.selection,S.selection));let b=c[0];for(let C=1;C<c.length;C++){const S=c[C];b.selection.endLineNumber===S.selection.startLineNumber&&(b.index<S.index?S.ignoreFirstLine=!0:(b.ignoreFirstLine=!0,b=S))}for(const C of c)l.push(new w.LineCommentCommand(d,C.selection,o.indentSize,this._type,g.insertSpace,g.ignoreEmptyLines,C.ignoreFirstLine));u.pushUndoStop(),u.executeCommands(this.id,l),u.pushUndoStop()}}class s extends a{constructor(){super(0,{id:"editor.action.commentLine",label:v.localize(0,null),alias:"Toggle Line Comment",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:_.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(1,null),order:1}})}}class i extends a{constructor(){super(1,{id:"editor.action.addCommentLine",label:v.localize(2,null),alias:"Add Line Comment",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2081),weight:100}})}}class t extends a{constructor(){super(2,{id:"editor.action.removeCommentLine",label:v.localize(3,null),alias:"Remove Line Comment",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2099),weight:100}})}}class n extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:v.localize(4,null),alias:"Toggle Block Comment",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:_.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(5,null),order:2}})}run(m,u){const d=m.get(y.ILanguageConfigurationService);if(!u.hasModel())return;const r=u.getOption(23),l=[],o=u.getSelections();for(const g of o)l.push(new p.BlockCommentCommand(g,r.insertSpace,d));u.pushUndoStop(),u.executeCommands(this.id,l),u.pushUndoStop()}}(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(n)}),define(ie[852],ne([1,0,2,16,20,693]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class y{constructor(s){this.selections=s}equals(s){const i=this.selections.length,t=s.selections.length;if(i!==t)return!1;for(let n=0;n<i;n++)if(!this.selections[n].equalsSelection(s.selections[n]))return!1;return!0}}class p{constructor(s,i,t){this.cursorState=s,this.scrollTop=i,this.scrollLeft=t}}class w extends f.Disposable{static get(s){return s.getContribution(w.ID)}constructor(s){super(),this._editor=s,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(s.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(s.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(s.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;const t=new y(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new p(t,s.getScrollTop(),s.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(s){this._isCursorUndoRedo=!0,this._editor.setSelections(s.cursorState.selections),this._editor.setScrollPosition({scrollTop:s.scrollTop,scrollLeft:s.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=w,w.ID="editor.contrib.cursorUndoRedoController";class v extends k.EditorAction{constructor(){super({id:"cursorUndo",label:L.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(s,i,t){var n;(n=w.get(i))===null||n===void 0||n.cursorUndo()}}e.CursorUndo=v;class _ extends k.EditorAction{constructor(){super({id:"cursorRedo",label:L.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(s,i,t){var n;(n=w.get(i))===null||n===void 0||n.cursorRedo()}}e.CursorRedo=_,(0,k.registerEditorContribution)(w.ID,w,0),(0,k.registerEditorAction)(v),(0,k.registerEditorAction)(_)}),define(ie[853],ne([1,0,16,14,19,70,8,46,699]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const v=(0,y.createDecorator)("IEditorCancelService"),_=new k.RawContextKey("cancellableOperation",!1,(0,w.localize)(0,null));(0,p.registerSingleton)(v,class{constructor(){this._tokens=new WeakMap}add(s,i){let t=this._tokens.get(s);t||(t=s.invokeWithinContext(h=>{const m=_.bindTo(h.get(k.IContextKeyService)),u=new L.LinkedList;return{key:m,tokens:u}}),this._tokens.set(s,t));let n;return t.key.set(!0),n=t.tokens.push(i),()=>{n&&(n(),t.key.set(!t.tokens.isEmpty()),n=void 0)}}cancel(s){const i=this._tokens.get(s);if(!i)return;const t=i.tokens.pop();t&&(t.cancel(),i.key.set(!i.tokens.isEmpty()))}},1);class a extends E.CancellationTokenSource{constructor(i,t){super(t),this.editor=i,this._unregister=i.invokeWithinContext(n=>n.get(v).add(i,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=a,(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:_})}runEditorCommand(s,i){s.get(v).cancel(i)}})}),define(ie[115],ne([1,0,11,5,19,2,853]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(a,s){if(this.flags=s,this.flags&1){const i=a.getModel();this.modelVersionId=i?f.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=a.getPosition():this.position=null,this.flags&2?this.selection=a.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof p))return!1;const s=a;return!(this.modelVersionId!==s.modelVersionId||this.scrollLeft!==s.scrollLeft||this.scrollTop!==s.scrollTop||!this.position&&s.position||this.position&&!s.position||this.position&&s.position&&!this.position.equals(s.position)||!this.selection&&s.selection||this.selection&&!s.selection||this.selection&&s.selection&&!this.selection.equalsRange(s.selection))}validate(a){return this._equals(new p(a,this.flags))}}e.EditorState=p;class w extends y.EditorKeybindingCancellationTokenSource{constructor(a,s,i,t){super(a,t),this._listener=new L.DisposableStore,s&4&&this._listener.add(a.onDidChangeCursorPosition(n=>{(!i||!k.Range.containsPosition(i,n.position))&&this.cancel()})),s&2&&this._listener.add(a.onDidChangeCursorSelection(n=>{(!i||!k.Range.containsRange(i,n.selection))&&this.cancel()})),s&8&&this._listener.add(a.onDidScrollChange(n=>this.cancel())),s&1&&(this._listener.add(a.onDidChangeModel(n=>this.cancel())),this._listener.add(a.onDidChangeModelContent(n=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=w;class v extends E.CancellationTokenSource{constructor(a,s){super(s),this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=v}),define(ie[151],ne([1,0,13,19,12,2,22,147,5,24,18,53,115,682,27,51,92,65,127,88]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyCodeActionReason=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.getCodeActions=o,e.applyCodeAction=S,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class r extends L.Disposable{static codeActionsPreferredComparator(T,N){return T.isPreferred&&!N.isPreferred?-1:!T.isPreferred&&N.isPreferred?1:0}static codeActionsComparator({action:T},{action:N}){return T.isAI&&!N.isAI?1:!T.isAI&&N.isAI?-1:(0,f.isNonEmptyArray)(T.diagnostics)?(0,f.isNonEmptyArray)(N.diagnostics)?r.codeActionsPreferredComparator(T,N):-1:(0,f.isNonEmptyArray)(N.diagnostics)?1:r.codeActionsPreferredComparator(T,N)}constructor(T,N,A){super(),this.documentation=N,this._register(A),this.allActions=[...T].sort(r.codeActionsComparator),this.validActions=this.allActions.filter(({action:P})=>!P.disabled)}get hasAutoFix(){return this.validActions.some(({action:T})=>!!T.kind&&u.CodeActionKind.QuickFix.contains(new d.HierarchicalKind(T.kind))&&!!T.isPreferred)}get hasAIFix(){return this.validActions.some(({action:T})=>!!T.isAI)}get allAIFixes(){return this.validActions.every(({action:T})=>!!T.isAI)}}const l={actions:[],documentation:void 0};async function o(I,T,N,A,P,M){var R;const F=A.filter||{},O={...F,excludes:[...F.excludes||[],u.CodeActionKind.Notebook]},B={only:(R=F.include)===null||R===void 0?void 0:R.value,trigger:A.type},H=new s.TextModelCancellationTokenSource(T,M),V=A.type===2,q=g(I,T,V?O:F),z=new L.DisposableStore,U=q.map(async re=>{try{P.report(re);const x=await re.provideCodeActions(T,N,B,H.token);if(x&&z.add(x),H.token.isCancellationRequested)return l;const Q=(x?.actions||[]).filter(Y=>Y&&(0,u.filtersAction)(F,Y)),X=b(re,Q,F.include);return{actions:Q.map(Y=>new u.CodeActionItem(Y,re)),documentation:X}}catch(x){if((0,E.isCancellationError)(x))throw x;return(0,E.onUnexpectedExternalError)(x),l}}),Z=I.onDidChange(()=>{const re=I.all(T);(0,f.equals)(re,q)||H.cancel()});try{const re=await Promise.all(U),x=re.map(X=>X.actions).flat(),Q=[...(0,f.coalesce)(re.map(X=>X.documentation)),...c(I,T,A,x)];return new r(x,Q,z)}finally{Z.dispose(),H.dispose()}}function g(I,T,N){return I.all(T).filter(A=>A.providedCodeActionKinds?A.providedCodeActionKinds.some(P=>(0,u.mayIncludeActionsOfKind)(N,new d.HierarchicalKind(P))):!0)}function*c(I,T,N,A){var P,M,R;if(T&&A.length)for(const F of I.all(T))F._getAdditionalMenuItems&&(yield*(P=F._getAdditionalMenuItems)===null||P===void 0?void 0:P.call(F,{trigger:N.type,only:(R=(M=N.filter)===null||M===void 0?void 0:M.include)===null||R===void 0?void 0:R.value},A.map(O=>O.action)))}function b(I,T,N){if(!I.documentation)return;const A=I.documentation.map(P=>({kind:new d.HierarchicalKind(P.kind),command:P.command}));if(N){let P;for(const M of A)M.kind.contains(N)&&(P?P.kind.contains(M.kind)&&(P=M):P=M);if(P)return P?.command}for(const P of T)if(P.kind){for(const M of A)if(M.kind.contains(new d.HierarchicalKind(P.kind)))return M.command}}var C;(function(I){I.OnSave="onSave",I.FromProblemsView="fromProblemsView",I.FromCodeActions="fromCodeActions",I.FromAILightbulb="fromAILightbulb"})(C||(e.ApplyCodeActionReason=C={}));async function S(I,T,N,A,P=k.CancellationToken.None){var M;const R=I.get(p.IBulkEditService),F=I.get(t.ICommandService),O=I.get(m.ITelemetryService),B=I.get(n.INotificationService);if(O.publicLog2("codeAction.applyCodeAction",{codeActionTitle:T.action.title,codeActionKind:T.action.kind,codeActionIsPreferred:!!T.action.isPreferred,reason:N}),await T.resolve(P),!P.isCancellationRequested&&!(!((M=T.action.edit)===null||M===void 0)&&M.edits.length&&!(await R.apply(T.action.edit,{editor:A?.editor,label:T.action.title,quotableLabel:T.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:N!==C.OnSave,showPreview:A?.preview})).isApplied)&&T.action.command)try{await F.executeCommand(T.action.command.id,...T.action.command.arguments||[])}catch(H){const V=D(H);B.error(typeof V=="string"?V:i.localize(0,null))}}function D(I){return typeof I=="string"?I:I instanceof Error&&typeof I.message=="string"?I.message:void 0}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",async function(I,T,N,A,P){if(!(T instanceof y.URI))throw(0,E.illegalArgument)();const{codeActionProvider:M}=I.get(_.ILanguageFeaturesService),R=I.get(a.IModelService).getModel(T);if(!R)throw(0,E.illegalArgument)();const F=v.Selection.isISelection(N)?v.Selection.liftSelection(N):w.Range.isIRange(N)?R.validateRange(N):void 0;if(!F)throw(0,E.illegalArgument)();const O=typeof A=="string"?new d.HierarchicalKind(A):void 0,B=await o(M,R,F,{type:1,triggerAction:u.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:O}},h.Progress.None,k.CancellationToken.None),H=[],V=Math.min(B.validActions.length,typeof P=="number"?P:0);for(let q=0;q<V;q++)H.push(B.validActions[q].resolve(k.CancellationToken.None));try{return await Promise.all(H),B.validActions.map(q=>q.action)}finally{setTimeout(()=>B.dispose(),100)}})}),define(ie[854],ne([1,0,88,95,151,127,35]),function(J,e,f,k,E,L,y){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let w=p=class{constructor(_){this.keybindingService=_}getResolver(){const _=new k.Lazy(()=>this.keybindingService.getKeybindings().filter(a=>p.codeActionCommands.indexOf(a.command)>=0).filter(a=>a.resolvedKeybinding).map(a=>{let s=a.commandArgs;return a.command===E.organizeImportsCommandId?s={kind:L.CodeActionKind.SourceOrganizeImports.value}:a.command===E.fixAllCommandId&&(s={kind:L.CodeActionKind.SourceFixAll.value}),{resolvedKeybinding:a.resolvedKeybinding,...L.CodeActionCommandArgs.fromUser(s,{kind:f.HierarchicalKind.None,apply:"never"})}}));return a=>{if(a.kind){const s=this.bestKeybindingForCodeAction(a,_.value);return s?.resolvedKeybinding}}}bestKeybindingForCodeAction(_,a){if(!_.kind)return;const s=new f.HierarchicalKind(_.kind);return a.filter(i=>i.kind.contains(s)).filter(i=>i.preferred?_.isPreferred:!0).reduceRight((i,t)=>i?i.kind.contains(t.kind)?t:i:t,void 0)}};e.CodeActionKeybindingResolver=w,w.codeActionCommands=[E.refactorCommandId,E.codeActionCommandId,E.sourceActionCommandId,E.organizeImportsCommandId,E.fixAllCommandId],e.CodeActionKeybindingResolver=w=p=Ie([ue(0,y.IKeybindingService)],w)}),define(ie[379],ne([1,0,15,12,7,2,50,38,9,24,14,92,127,151,88]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.APPLY_FIX_ALL_COMMAND_ID=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new _.RawContextKey("supportedCodeAction",""),e.APPLY_FIX_ALL_COMMAND_ID="_typescript.applyFixAllCodeAction";class n extends L.Disposable{constructor(r,l,o,g=250){super(),this._editor=r,this._markerService=l,this._signalChange=o,this._delay=g,this._autoTriggerTimer=this._register(new f.TimeoutTimer),this._register(this._markerService.onMarkerChanged(c=>this._onMarkerChanges(c))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(r){const l=this._getRangeOfSelectionUnlessWhitespaceEnclosed(r);this._signalChange(l?{trigger:r,selection:l}:void 0)}_onMarkerChanges(r){const l=this._editor.getModel();l&&r.some(o=>(0,y.isEqual)(o,l.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:s.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(r){if(!this._editor.hasModel())return;const l=this._editor.getSelection();if(r.type===1)return l;const o=this._editor.getOption(65).enabled;if(o!==p.ShowLightbulbIconMode.Off){{if(o===p.ShowLightbulbIconMode.On)return l;if(o===p.ShowLightbulbIconMode.OnCode){if(!l.isEmpty())return l;const c=this._editor.getModel(),{lineNumber:b,column:C}=l.getPosition(),S=c.getLineContent(b);if(S.length===0)return;if(C===1){if(/\s/.test(S[0]))return}else if(C===c.getLineMaxColumn(b)){if(/\s/.test(S[S.length-1]))return}else if(/\s/.test(S[C-2])&&/\s/.test(S[C-1]))return}}return l}}}var h;(function(d){d.Empty={type:0};class r{constructor(o,g,c){this.trigger=o,this.position=g,this._cancellablePromise=c,this.type=1,this.actions=c.catch(b=>{if((0,k.isCancellationError)(b))return m;throw b})}cancel(){this._cancellablePromise.cancel()}}d.Triggered=r})(h||(e.CodeActionsState=h={}));const m=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class u extends L.Disposable{constructor(r,l,o,g,c,b){super(),this._editor=r,this._registry=l,this._markerService=o,this._progressService=c,this._configurationService=b,this._codeActionOracle=this._register(new L.MutableDisposable),this._state=h.Empty,this._onDidChangeState=this._register(new E.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(g),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(C=>{C.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(h.Empty,!0))}_settingEnabledNearbyQuickfixes(){var r;const l=(r=this._editor)===null||r===void 0?void 0:r.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:l?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(h.Empty);const r=this._editor.getModel();if(r&&this._registry.has(r)&&!this._editor.getOption(91)){const l=this._registry.all(r).flatMap(o=>{var g;return(g=o.providedCodeActionKinds)!==null&&g!==void 0?g:[]});this._supportedCodeActions.set(l.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,o=>{var g;if(!o){this.setState(h.Empty);return}const c=o.selection.getStartPosition(),b=(0,f.createCancelablePromise)(async D=>{var I,T,N,A,P,M,R,F,O,B;if(this._settingEnabledNearbyQuickfixes()&&o.trigger.type===1&&(o.trigger.triggerAction===s.CodeActionTriggerSource.QuickFix||!((T=(I=o.trigger.filter)===null||I===void 0?void 0:I.include)===null||T===void 0)&&T.contains(s.CodeActionKind.QuickFix))){const H=await(0,i.getCodeActions)(this._registry,r,o.selection,o.trigger,a.Progress.None,D),V=[...H.allActions];if(D.isCancellationRequested)return m;const q=(N=H.validActions)===null||N===void 0?void 0:N.some(U=>U.action.kind?s.CodeActionKind.QuickFix.contains(new t.HierarchicalKind(U.action.kind)):!1),z=this._markerService.read({resource:r.uri});if(q){for(const U of H.validActions)!((P=(A=U.action.command)===null||A===void 0?void 0:A.arguments)===null||P===void 0)&&P.some(Z=>typeof Z=="string"&&Z.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(U.action.diagnostics=[...z.filter(Z=>Z.relatedInformation)]);return{validActions:H.validActions,allActions:V,documentation:H.documentation,hasAutoFix:H.hasAutoFix,hasAIFix:H.hasAIFix,allAIFixes:H.allAIFixes,dispose:()=>{H.dispose()}}}else if(!q&&z.length>0){const U=o.selection.getPosition();let Z=U,re=Number.MAX_VALUE;const x=[...H.validActions];for(const X of z){const Y=X.endColumn,ae=X.endLineNumber,ce=X.startLineNumber;if(ae===U.lineNumber||ce===U.lineNumber){Z=new w.Position(ae,Y);const he={type:o.trigger.type,triggerAction:o.trigger.triggerAction,filter:{include:!((M=o.trigger.filter)===null||M===void 0)&&M.include?(R=o.trigger.filter)===null||R===void 0?void 0:R.include:s.CodeActionKind.QuickFix},autoApply:o.trigger.autoApply,context:{notAvailableMessage:((F=o.trigger.context)===null||F===void 0?void 0:F.notAvailableMessage)||"",position:Z}},pe=new v.Selection(Z.lineNumber,Z.column,Z.lineNumber,Z.column),fe=await(0,i.getCodeActions)(this._registry,r,pe,he,a.Progress.None,D);if(fe.validActions.length!==0){for(const se of fe.validActions)!((B=(O=se.action.command)===null||O===void 0?void 0:O.arguments)===null||B===void 0)&&B.some(te=>typeof te=="string"&&te.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(se.action.diagnostics=[...z.filter(te=>te.relatedInformation)]);H.allActions.length===0&&V.push(...fe.allActions),Math.abs(U.column-Y)<re?x.unshift(...fe.validActions):x.push(...fe.validActions)}re=Math.abs(U.column-Y)}}const Q=x.filter((X,Y,ae)=>ae.findIndex(ce=>ce.action.title===X.action.title)===Y);return Q.sort((X,Y)=>X.action.isPreferred&&!Y.action.isPreferred?-1:!X.action.isPreferred&&Y.action.isPreferred||X.action.isAI&&!Y.action.isAI?1:!X.action.isAI&&Y.action.isAI?-1:0),{validActions:Q,allActions:V,documentation:H.documentation,hasAutoFix:H.hasAutoFix,hasAIFix:H.hasAIFix,allAIFixes:H.allAIFixes,dispose:()=>{H.dispose()}}}}return(0,i.getCodeActions)(this._registry,r,o.selection,o.trigger,a.Progress.None,D)});o.trigger.type===1&&((g=this._progressService)===null||g===void 0||g.showWhile(b,250));const C=new h.Triggered(o.trigger,c,b);let S=!1;this._state.type===1&&(S=this._state.trigger.type===1&&C.type===1&&C.trigger.type===2&&this._state.position!==C.position),S||this.setState(C)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:s.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(r){var l;(l=this._codeActionOracle.value)===null||l===void 0||l.trigger(r)}setState(r,l){r!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=r,!l&&!this._disposed&&this._onDidChangeState.fire(r))}}e.CodeActionModel=u}),define(ie[380],ne([1,0,6,67,26,7,2,31,227,151,687,27,35,476]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var t;(function(h){h.Hidden={type:0};class m{constructor(d,r,l,o){this.actions=d,this.trigger=r,this.editorPosition=l,this.widgetPosition=o,this.type=1}}h.Showing=m})(t||(t={}));let n=i=class extends y.Disposable{constructor(m,u,d){super(),this._editor=m,this._keybindingService=u,this._onClick=this._register(new L.Emitter),this.onClick=this._onClick.event,this._state=t.Hidden,this._iconClasses=[],this._domNode=f.$("div.lightBulbWidget"),this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(r=>{const l=this._editor.getModel();(this.state.type!==1||!l||this.state.editorPosition.lineNumber>=l.getLineCount())&&this.hide()})),this._register(f.addStandardDisposableGenericMouseDownListener(this._domNode,r=>{if(this.state.type!==1)return;this._editor.focus(),r.preventDefault();const{top:l,height:o}=f.getDomNodePagePosition(this._domNode),g=this._editor.getOption(67);let c=Math.floor(g/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(c+=g),this._onClick.fire({x:r.posx,y:l+o+c,actions:this.state.actions,trigger:this.state.trigger})})),this._register(f.addDisposableListener(this._domNode,"mouseenter",r=>{(r.buttons&1)===1&&this.hide()})),this._register(L.Event.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var r,l,o,g;this._preferredKbLabel=(l=(r=this._keybindingService.lookupKeybinding(v.autoFixCommandId))===null||r===void 0?void 0:r.getLabel())!==null&&l!==void 0?l:void 0,this._quickFixKbLabel=(g=(o=this._keybindingService.lookupKeybinding(v.quickFixCommandId))===null||o===void 0?void 0:o.getLabel())!==null&&g!==void 0?g:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(m,u,d){if(m.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:o,column:g}=l.validatePosition(d),c=l.getOptions().tabSize,b=this._editor.getOptions().get(50),C=l.getLineContent(o),S=(0,w.computeIndentLevel)(C,c),D=b.spaceWidth*S>22,I=A=>A>2&&this._editor.getTopForLineNumber(A)===this._editor.getTopForLineNumber(A-1);let T=o,N=1;if(!D){if(o>1&&!I(o-1))T-=1;else if(o<l.getLineCount()&&!I(o+1))T+=1;else if(g*b.spaceWidth<22)return this.hide();N=/^\S\s*$/.test(l.getLineContent(T))?2:1}this.state=new t.Showing(m,u,d,{position:{lineNumber:T,column:N},preference:i._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==t.Hidden&&(this.state=t.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(m){this._state=m,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let m,u=!1;this.state.actions.allAIFixes?(m=E.Codicon.sparkleFilled,this.state.actions.validActions.length===1&&(u=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?m=E.Codicon.lightbulbSparkleAutofix:m=E.Codicon.lightbulbAutofix:this.state.actions.hasAIFix?m=E.Codicon.lightbulbSparkle:m=E.Codicon.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,u),this._iconClasses=p.ThemeIcon.asClassNameArray(m),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(m,u){this.state.type===1&&(u?this.title=_.localize(0,null,this.state.actions.validActions[0].action.title):m&&this._preferredKbLabel?this.title=_.localize(1,null,this._preferredKbLabel):!m&&this._quickFixKbLabel?this.title=_.localize(2,null,this._quickFixKbLabel):m||(this.title=_.localize(3,null)))}set title(m){this._domNode.title=m}};e.LightBulbWidget=n,n.ID="editor.contrib.lightbulbWidget",n._posPref=[0],e.LightBulbWidget=n=i=Ie([ue(1,s.IKeybindingService),ue(2,a.ICommandService)],n)}),define(ie[855],ne([1,0,16,158,704]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:E.localize(0,null),alias:"Increase Editor Font Size",precondition:void 0})}run(v,_){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class y extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:E.localize(1,null),alias:"Decrease Editor Font Size",precondition:void 0})}run(v,_){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class p extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:E.localize(2,null),alias:"Reset Editor Font Size",precondition:void 0})}run(v,_){k.EditorZoom.setZoomLevel(0)}}(0,f.registerEditorAction)(L),(0,f.registerEditorAction)(y),(0,f.registerEditorAction)(p)}),define(ie[381],ne([1,0,13,19,12,54,70,21,22,115,162,9,5,24,111,74,323,27,797,8,18,61,130]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingConflicts=void 0,e.getRealAndSyntheticDocumentFormattersOrdered=g,e.formatDocumentRangesWithSelectedProvider=b,e.formatDocumentRangesWithProvider=C,e.formatDocumentWithSelectedProvider=S,e.formatDocumentWithProvider=D,e.getDocumentRangeFormattingEditsUntilResult=I,e.getDocumentFormattingEditsUntilResult=T,e.getOnTypeFormattingEdits=N;function g(A,P,M){const R=[],F=new u.ExtensionIdentifierSet,O=A.ordered(M);for(const H of O)R.push(H),H.extensionId&&F.add(H.extensionId);const B=P.ordered(M);for(const H of B){if(H.extensionId){if(F.has(H.extensionId))continue;F.add(H.extensionId)}R.push({displayName:H.displayName,extensionId:H.extensionId,provideDocumentFormattingEdits(V,q,z){return H.provideDocumentRangeFormattingEdits(V,V.getFullModelRange(),q,z)}})}return R}class c{static setFormatterSelector(P){return{dispose:c._selectors.unshift(P)}}static async select(P,M,R,F){if(P.length===0)return;const O=L.Iterable.first(c._selectors);if(O)return await O(P,M,R,F)}}e.FormattingConflicts=c,c._selectors=new y.LinkedList;async function b(A,P,M,R,F,O,B){const H=A.get(d.IInstantiationService),{documentRangeFormattingEditProvider:V}=A.get(r.ILanguageFeaturesService),q=(0,_.isCodeEditor)(P)?P.getModel():P,z=V.ordered(q),U=await c.select(z,q,R,2);U&&(F.report(U),await H.invokeFunction(C,U,P,M,O,B))}async function C(A,P,M,R,F,O){var B,H;const V=A.get(t.IEditorWorkerService),q=A.get(l.ILogService),z=A.get(o.IAccessibilitySignalService);let U,Z;(0,_.isCodeEditor)(M)?(U=M.getModel(),Z=new v.EditorStateCancellationTokenSource(M,5,void 0,F)):(U=M,Z=new v.TextModelCancellationTokenSource(M,F));const re=[];let x=0;for(const ce of(0,f.asArray)(R).sort(s.Range.compareRangesUsingStarts))x>0&&s.Range.areIntersectingOrTouching(re[x-1],ce)?re[x-1]=s.Range.fromPositions(re[x-1].getStartPosition(),ce.getEndPosition()):x=re.push(ce);const Q=async ce=>{var he,pe;q.trace("[format][provideDocumentRangeFormattingEdits] (request)",(he=P.extensionId)===null||he===void 0?void 0:he.value,ce);const fe=await P.provideDocumentRangeFormattingEdits(U,ce,U.getFormattingOptions(),Z.token)||[];return q.trace("[format][provideDocumentRangeFormattingEdits] (response)",(pe=P.extensionId)===null||pe===void 0?void 0:pe.value,fe),fe},X=(ce,he)=>{if(!ce.length||!he.length)return!1;const pe=ce.reduce((fe,se)=>s.Range.plusRange(fe,se.range),ce[0].range);if(!he.some(fe=>s.Range.intersectRanges(pe,fe.range)))return!1;for(const fe of ce)for(const se of he)if(s.Range.intersectRanges(fe.range,se.range))return!0;return!1},Y=[],ae=[];try{if(typeof P.provideDocumentRangesFormattingEdits=="function"){q.trace("[format][provideDocumentRangeFormattingEdits] (request)",(B=P.extensionId)===null||B===void 0?void 0:B.value,re);const ce=await P.provideDocumentRangesFormattingEdits(U,re,U.getFormattingOptions(),Z.token)||[];q.trace("[format][provideDocumentRangeFormattingEdits] (response)",(H=P.extensionId)===null||H===void 0?void 0:H.value,ce),ae.push(ce)}else{for(const ce of re){if(Z.token.isCancellationRequested)return!0;ae.push(await Q(ce))}for(let ce=0;ce<re.length;++ce)for(let he=ce+1;he<re.length;++he){if(Z.token.isCancellationRequested)return!0;if(X(ae[ce],ae[he])){const pe=s.Range.plusRange(re[ce],re[he]),fe=await Q(pe);re.splice(he,1),re.splice(ce,1),re.push(pe),ae.splice(he,1),ae.splice(ce,1),ae.push(fe),ce=0,he=0}}}for(const ce of ae){if(Z.token.isCancellationRequested)return!0;const he=await V.computeMoreMinimalEdits(U.uri,ce);he&&Y.push(...he)}}finally{Z.dispose()}if(Y.length===0)return!1;if((0,_.isCodeEditor)(M))h.FormattingEdit.execute(M,Y,!0),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:ce}]=Y,he=new i.Selection(ce.startLineNumber,ce.startColumn,ce.endLineNumber,ce.endColumn);U.pushEditOperations([he],Y.map(pe=>({text:pe.text,range:s.Range.lift(pe.range),forceMoveMarkers:!0})),pe=>{for(const{range:fe}of pe)if(s.Range.areIntersectingOrTouching(fe,he))return[new i.Selection(fe.startLineNumber,fe.startColumn,fe.endLineNumber,fe.endColumn)];return null})}return z.playSignal(o.AccessibilitySignal.format,{userGesture:O}),!0}async function S(A,P,M,R,F,O){const B=A.get(d.IInstantiationService),H=A.get(r.ILanguageFeaturesService),V=(0,_.isCodeEditor)(P)?P.getModel():P,q=g(H.documentFormattingEditProvider,H.documentRangeFormattingEditProvider,V),z=await c.select(q,V,M,1);z&&(R.report(z),await B.invokeFunction(D,z,P,M,F,O))}async function D(A,P,M,R,F,O){const B=A.get(t.IEditorWorkerService),H=A.get(o.IAccessibilitySignalService);let V,q;(0,_.isCodeEditor)(M)?(V=M.getModel(),q=new v.EditorStateCancellationTokenSource(M,5,void 0,F)):(V=M,q=new v.TextModelCancellationTokenSource(M,F));let z;try{const U=await P.provideDocumentFormattingEdits(V,V.getFormattingOptions(),q.token);if(z=await B.computeMoreMinimalEdits(V.uri,U),q.token.isCancellationRequested)return!0}finally{q.dispose()}if(!z||z.length===0)return!1;if((0,_.isCodeEditor)(M))h.FormattingEdit.execute(M,z,R!==2),R!==2&&M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:U}]=z,Z=new i.Selection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn);V.pushEditOperations([Z],z.map(re=>({text:re.text,range:s.Range.lift(re.range),forceMoveMarkers:!0})),re=>{for(const{range:x}of re)if(s.Range.areIntersectingOrTouching(x,Z))return[new i.Selection(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn)];return null})}return H.playSignal(o.AccessibilitySignal.format,{userGesture:O}),!0}async function I(A,P,M,R,F,O){const B=P.documentRangeFormattingEditProvider.ordered(M);for(const H of B){const V=await Promise.resolve(H.provideDocumentRangeFormattingEdits(M,R,F,O)).catch(E.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(V))return await A.computeMoreMinimalEdits(M.uri,V)}}async function T(A,P,M,R,F){const O=g(P.documentFormattingEditProvider,P.documentRangeFormattingEditProvider,M);for(const B of O){const H=await Promise.resolve(B.provideDocumentFormattingEdits(M,R,F)).catch(E.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(H))return await A.computeMoreMinimalEdits(M.uri,H)}}function N(A,P,M,R,F,O,B){const H=P.onTypeFormattingEditProvider.ordered(M);return H.length===0||H[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(H[0].provideOnTypeFormattingEdits(M,R,F,O,B)).catch(E.onUnexpectedExternalError).then(V=>A.computeMoreMinimalEdits(M.uri,V))}m.CommandsRegistry.registerCommand("_executeFormatRangeProvider",async function(A,...P){const[M,R,F]=P;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(s.Range.isIRange(R));const O=A.get(n.ITextModelService),B=A.get(t.IEditorWorkerService),H=A.get(r.ILanguageFeaturesService),V=await O.createModelReference(M);try{return I(B,H,V.object.textEditorModel,s.Range.lift(R),F,k.CancellationToken.None)}finally{V.dispose()}}),m.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",async function(A,...P){const[M,R]=P;(0,p.assertType)(w.URI.isUri(M));const F=A.get(n.ITextModelService),O=A.get(t.IEditorWorkerService),B=A.get(r.ILanguageFeaturesService),H=await F.createModelReference(M);try{return T(O,B,H.object.textEditorModel,R,k.CancellationToken.None)}finally{H.dispose()}}),m.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",async function(A,...P){const[M,R,F,O]=P;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(a.Position.isIPosition(R)),(0,p.assertType)(typeof F=="string");const B=A.get(n.ITextModelService),H=A.get(t.IEditorWorkerService),V=A.get(r.ILanguageFeaturesService),q=await B.createModelReference(M);try{return N(H,V,q.object.textEditorModel,a.Position.lift(R),F,O,k.CancellationToken.None)}finally{q.dispose()}})}),define(ie[856],ne([1,0,13,19,12,69,2,16,36,138,5,20,111,18,381,323,705,130,27,14,8,92]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatOnType=void 0;let o=class{constructor(S,D,I,T){this._editor=S,this._languageFeaturesService=D,this._workerService=I,this._accessibilitySignalService=T,this._disposables=new y.DisposableStore,this._sessionDisposables=new y.DisposableStore,this._disposables.add(D.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(S.onDidChangeModel(()=>this._update())),this._disposables.add(S.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(S.onDidChangeConfiguration(N=>{N.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const S=this._editor.getModel(),[D]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(S);if(!D||!D.autoFormatTriggerCharacters)return;const I=new v.CharacterSet;for(const T of D.autoFormatTriggerCharacters)I.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{const N=T.charCodeAt(T.length-1);I.has(N)&&this._trigger(String.fromCharCode(N))}))}_trigger(S){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const D=this._editor.getModel(),I=this._editor.getPosition(),T=new k.CancellationTokenSource,N=this._editor.onDidChangeModelContent(A=>{if(A.isFlush){T.cancel(),N.dispose();return}for(let P=0,M=A.changes.length;P<M;P++)if(A.changes[P].range.endLineNumber<=I.lineNumber){T.cancel(),N.dispose();return}});(0,t.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,D,I,S,D.getFormattingOptions(),T.token).then(A=>{T.token.isCancellationRequested||(0,f.isNonEmptyArray)(A)&&(this._accessibilitySignalService.playSignal(m.AccessibilitySignal.format,{userGesture:!1}),n.FormattingEdit.execute(this._editor,A,!0))}).finally(()=>{N.dispose()})}};e.FormatOnType=o,o.ID="editor.contrib.autoFormat",e.FormatOnType=o=Ie([ue(1,i.ILanguageFeaturesService),ue(2,s.IEditorWorkerService),ue(3,m.IAccessibilitySignalService)],o);let g=class{constructor(S,D,I){this.editor=S,this._languageFeaturesService=D,this._instantiationService=I,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._callOnDispose.add(S.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(S.onDidChangeModel(()=>this._update())),this._callOnDispose.add(S.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(D.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:S})=>this._trigger(S)))}_trigger(S){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(t.formatDocumentRangesWithSelectedProvider,this.editor,S,2,l.Progress.None,k.CancellationToken.None,!1).catch(E.onUnexpectedError))}};g.ID="editor.contrib.formatOnPaste",g=Ie([ue(1,i.ILanguageFeaturesService),ue(2,r.IInstantiationService)],g);class c extends p.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:h.localize(0,null),alias:"Format Document",precondition:d.ContextKeyExpr.and(a.EditorContextKeys.notInCompositeEditor,a.EditorContextKeys.writable,a.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(S,D){if(D.hasModel()){const I=S.get(r.IInstantiationService);await S.get(l.IEditorProgressService).showWhile(I.invokeFunction(t.formatDocumentWithSelectedProvider,D,1,l.Progress.None,k.CancellationToken.None,!0),250)}}}class b extends p.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:h.localize(1,null),alias:"Format Selection",precondition:d.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:a.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(S,D){if(!D.hasModel())return;const I=S.get(r.IInstantiationService),T=D.getModel(),N=D.getSelections().map(P=>P.isEmpty()?new _.Range(P.startLineNumber,1,P.startLineNumber,T.getLineMaxColumn(P.startLineNumber)):P);await S.get(l.IEditorProgressService).showWhile(I.invokeFunction(t.formatDocumentRangesWithSelectedProvider,D,N,1,l.Progress.None,k.CancellationToken.None,!0),250)}}(0,p.registerEditorContribution)(o.ID,o,2),(0,p.registerEditorContribution)(g.ID,g,2),(0,p.registerEditorAction)(c),(0,p.registerEditorAction)(b),u.CommandsRegistry.registerCommand("editor.action.format",async C=>{const S=C.get(w.ICodeEditorService).getFocusedCodeEditor();if(!S||!S.hasModel())return;const D=C.get(u.ICommandService);S.getSelection().isEmpty()?await D.executeCommand("editor.action.formatDocument"):await D.executeCommand("editor.action.formatSelection")})}),define(ie[266],ne([1,0,13,19,12,16,18,169]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefinitionsAtPosition=v,e.getDeclarationsAtPosition=_,e.getImplementationsAtPosition=a,e.getTypeDefinitionsAtPosition=s,e.getReferencesAtPosition=i;async function w(n,h,m,u){const r=m.ordered(n).map(o=>Promise.resolve(u(o,n,h)).then(void 0,g=>{(0,E.onUnexpectedExternalError)(g)})),l=await Promise.all(r);return(0,f.coalesce)(l.flat())}function v(n,h,m,u){return w(h,m,n,(d,r,l)=>d.provideDefinition(r,l,u))}function _(n,h,m,u){return w(h,m,n,(d,r,l)=>d.provideDeclaration(r,l,u))}function a(n,h,m,u){return w(h,m,n,(d,r,l)=>d.provideImplementation(r,l,u))}function s(n,h,m,u){return w(h,m,n,(d,r,l)=>d.provideTypeDefinition(r,l,u))}function i(n,h,m,u,d){return w(h,m,n,async(r,l,o)=>{const g=await r.provideReferences(l,o,{includeDeclaration:!0},d);if(!u||!g||g.length!==2)return g;const c=await r.provideReferences(l,o,{includeDeclaration:!1},d);return c&&c.length===1?c:g})}async function t(n){const h=await n(),m=new p.ReferencesModel(h,""),u=m.references.map(d=>d.link);return m.dispose(),u}(0,L.registerModelAndPositionCommand)("_executeDefinitionProvider",(n,h,m)=>{const u=n.get(y.ILanguageFeaturesService),d=v(u.definitionProvider,h,m,k.CancellationToken.None);return t(()=>d)}),(0,L.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(n,h,m)=>{const u=n.get(y.ILanguageFeaturesService),d=s(u.typeDefinitionProvider,h,m,k.CancellationToken.None);return t(()=>d)}),(0,L.registerModelAndPositionCommand)("_executeDeclarationProvider",(n,h,m)=>{const u=n.get(y.ILanguageFeaturesService),d=_(u.declarationProvider,h,m,k.CancellationToken.None);return t(()=>d)}),(0,L.registerModelAndPositionCommand)("_executeReferenceProvider",(n,h,m)=>{const u=n.get(y.ILanguageFeaturesService),d=i(u.referenceProvider,h,m,!1,k.CancellationToken.None);return t(()=>d)}),(0,L.registerModelAndPositionCommand)("_executeImplementationProvider",(n,h,m)=>{const u=n.get(y.ILanguageFeaturesService),d=a(u.implementationProvider,h,m,k.CancellationToken.None);return t(()=>d)})}),define(ie[857],ne([1,0,7,2,50,16,36,5,714,14,46,8,35,131,51]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new v.RawContextKey("hasSymbols",!1,(0,w.localize)(0,null)),e.ISymbolNavigationService=(0,a.createDecorator)("ISymbolNavigationService");let n=class{constructor(u,d,r,l){this._editorService=d,this._notificationService=r,this._keybindingService=l,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(u)}reset(){var u,d;this._ctxHasSymbols.reset(),(u=this._currentState)===null||u===void 0||u.dispose(),(d=this._currentMessage)===null||d===void 0||d.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(u){const d=u.parent.parent;if(d.references.length<=1){this.reset();return}this._currentModel=d,this._currentIdx=d.references.indexOf(u),this._ctxHasSymbols.set(!0),this._showMessage();const r=new h(this._editorService),l=r.onDidChange(o=>{if(this._ignoreEditorChange)return;const g=this._editorService.getActiveCodeEditor();if(!g)return;const c=g.getModel(),b=g.getPosition();if(!c||!b)return;let C=!1,S=!1;for(const D of d.references)if((0,E.isEqual)(D.uri,c.uri))C=!0,S=S||p.Range.containsPosition(D.range,b);else if(C)break;(!C||!S)&&this.reset()});this._currentState=(0,k.combinedDisposable)(r,l)}revealNext(u){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const d=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:d.uri,options:{selection:p.Range.collapseToStart(d.range),selectionRevealType:3}},u).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var u;(u=this._currentMessage)===null||u===void 0||u.dispose();const d=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),r=d?(0,w.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,d.getLabel()):(0,w.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(r)}};n=Ie([ue(0,v.IContextKeyService),ue(1,y.ICodeEditorService),ue(2,t.INotificationService),ue(3,s.IKeybindingService)],n),(0,_.registerSingleton)(e.ISymbolNavigationService,n,1),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(m,u){return m.get(e.ISymbolNavigationService).revealNext(u)}}),i.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(m){m.get(e.ISymbolNavigationService).reset()}});let h=class{constructor(u){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(u.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(u.onCodeEditorAdd(this._onDidAddEditor,this)),u.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(u){this._listener.set(u,(0,k.combinedDisposable)(u.onDidChangeCursorPosition(d=>this._onDidChange.fire({editor:u})),u.onDidChangeModelContent(d=>this._onDidChange.fire({editor:u}))))}_onDidRemoveEditor(u){var d;(d=this._listener.get(u))===null||d===void 0||d.dispose(),this._listener.delete(u)}};h=Ie([ue(0,y.ICodeEditorService)],h)}),define(ie[382],ne([1,0,15,19,12,16,18]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverProviderResult=void 0,e.getHover=v,e.getHoverPromise=_;class p{constructor(i,t,n){this.provider=i,this.hover=t,this.ordinal=n}}e.HoverProviderResult=p;async function w(s,i,t,n,h){try{const m=await Promise.resolve(s.provideHover(t,n,h));if(m&&a(m))return new p(s,m,i)}catch(m){(0,E.onUnexpectedExternalError)(m)}}function v(s,i,t,n){const m=s.ordered(i).map((u,d)=>w(u,d,i,t,n));return f.AsyncIterableObject.fromPromises(m).coalesce()}function _(s,i,t,n){return v(s,i,t,n).map(h=>h.hover).toPromise()}(0,L.registerModelAndPositionCommand)("_executeHoverProvider",(s,i,t)=>{const n=s.get(y.ILanguageFeaturesService);return _(n.hoverProvider,i,t,k.CancellationToken.None)});function a(s){const i=typeof s.range<"u",t=typeof s.contents<"u"&&s.contents&&s.contents.length>0;return i&&t}}),define(ie[267],ne([1,0,6,13,15,57,2,114,9,5,42,382,716,25,59,18]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0,e.renderMarkdownHovers=d;const h=f.$;class m{constructor(l,o,g,c,b){this.owner=l,this.range=o,this.contents=g,this.isBeforeContent=c,this.ordinal=b}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.MarkdownHover=m;let u=class{constructor(l,o,g,c,b){this._editor=l,this._languageService=o,this._openerService=g,this._configurationService=c,this._languageFeaturesService=b,this.hoverOrdinal=3}createLoadingMessage(l){return new m(this,l.range,[new L.MarkdownString().appendText(s.localize(0,null))],!1,2e3)}computeSync(l,o){if(!this._editor.hasModel()||l.type!==1)return[];const g=this._editor.getModel(),c=l.range.startLineNumber,b=g.getLineMaxColumn(c),C=[];let S=1e3;const D=g.getLineLength(c),I=g.getLanguageIdAtPosition(l.range.startLineNumber,l.range.startColumn),T=this._editor.getOption(117),N=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});let A=!1;T>=0&&D>T&&l.range.startColumn>=T&&(A=!0,C.push(new m(this,l.range,[{value:s.localize(1,null)}],!1,S++))),!A&&typeof N=="number"&&D>=N&&C.push(new m(this,l.range,[{value:s.localize(2,null)}],!1,S++));let P=!1;for(const M of o){const R=M.range.startLineNumber===c?M.range.startColumn:1,F=M.range.endLineNumber===c?M.range.endColumn:b,O=M.options.hoverMessage;if(!O||(0,L.isEmptyMarkdownString)(O))continue;M.options.beforeContentClassName&&(P=!0);const B=new v.Range(l.range.startLineNumber,R,l.range.startLineNumber,F);C.push(new m(this,B,(0,k.asArray)(O),P,S++))}return C}computeAsync(l,o,g){if(!this._editor.hasModel()||l.type!==1)return E.AsyncIterableObject.EMPTY;const c=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(c))return E.AsyncIterableObject.EMPTY;const b=new w.Position(l.range.startLineNumber,l.range.startColumn);return(0,a.getHover)(this._languageFeaturesService.hoverProvider,c,b,g).filter(C=>!(0,L.isEmptyMarkdownString)(C.hover.contents)).map(C=>{const S=C.hover.range?v.Range.lift(C.hover.range):l.range;return new m(this,S,C.hover.contents,!1,C.ordinal)})}renderHoverParts(l,o){return d(l,o,this._editor,this._languageService,this._openerService)}};e.MarkdownHoverParticipant=u,e.MarkdownHoverParticipant=u=Ie([ue(1,_.ILanguageService),ue(2,t.IOpenerService),ue(3,i.IConfigurationService),ue(4,n.ILanguageFeaturesService)],u);function d(r,l,o,g,c){l.sort((C,S)=>C.ordinal-S.ordinal);const b=new y.DisposableStore;for(const C of l)for(const S of C.contents){if((0,L.isEmptyMarkdownString)(S))continue;const D=h("div.hover-row.markdown-hover"),I=f.append(D,h("div.hover-contents")),T=b.add(new p.MarkdownRenderer({editor:o},g,c));b.add(T.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",r.onContentsChanged()}));const N=b.add(T.render(S));I.appendChild(N.element),r.fragment.appendChild(D)}return b}}),define(ie[858],ne([1,0,2,11,16,204,5,20,33,53,324,719,75,263,834]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=void 0;class n extends E.EditorAction{constructor(){super({id:n.ID,label:a.localize(0,null),alias:"Convert Indentation to Spaces",precondition:p.EditorContextKeys.writable})}run(T,N){const A=N.getModel();if(!A)return;const P=A.getOptions(),M=N.getSelection();if(!M)return;const R=new S(M,P.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[R]),N.pushUndoStop(),A.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class h extends E.EditorAction{constructor(){super({id:h.ID,label:a.localize(1,null),alias:"Convert Indentation to Tabs",precondition:p.EditorContextKeys.writable})}run(T,N){const A=N.getModel();if(!A)return;const P=A.getOptions(),M=N.getSelection();if(!M)return;const R=new D(M,P.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[R]),N.pushUndoStop(),A.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=h,h.ID="editor.action.indentationToTabs";class m extends E.EditorAction{constructor(T,N,A){super(A),this.insertSpaces=T,this.displaySizeOnly=N}run(T,N){const A=T.get(s.IQuickInputService),P=T.get(v.IModelService),M=N.getModel();if(!M)return;const R=P.getCreationOptions(M.getLanguageId(),M.uri,M.isForSimpleWidget),F=M.getOptions(),O=[1,2,3,4,5,6,7,8].map(H=>({id:H.toString(),label:H.toString(),description:H===R.tabSize&&H===F.tabSize?a.localize(2,null):H===R.tabSize?a.localize(3,null):H===F.tabSize?a.localize(4,null):void 0})),B=Math.min(M.getOptions().tabSize-1,7);setTimeout(()=>{A.pick(O,{placeHolder:a.localize(5,null),activeItem:O[B]}).then(H=>{if(H&&M&&!M.isDisposed()){const V=parseInt(H.label,10);this.displaySizeOnly?M.updateOptions({tabSize:V}):M.updateOptions({tabSize:V,indentSize:V,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=m;class u extends m{constructor(){super(!1,!1,{id:u.ID,label:a.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=u,u.ID="editor.action.indentUsingTabs";class d extends m{constructor(){super(!0,!1,{id:d.ID,label:a.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=d,d.ID="editor.action.indentUsingSpaces";class r extends m{constructor(){super(!0,!0,{id:r.ID,label:a.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}e.ChangeTabDisplaySize=r,r.ID="editor.action.changeTabDisplaySize";class l extends E.EditorAction{constructor(){super({id:l.ID,label:a.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(T,N){const A=T.get(v.IModelService),P=N.getModel();if(!P)return;const M=A.getCreationOptions(P.getLanguageId(),P.uri,P.isForSimpleWidget);P.detectIndentation(M.insertSpaces,M.tabSize)}}e.DetectIndentation=l,l.ID="editor.action.detectIndentation";class o extends E.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:a.localize(10,null),alias:"Reindent Lines",precondition:p.EditorContextKeys.writable})}run(T,N){const A=T.get(w.ILanguageConfigurationService),P=N.getModel();if(!P)return;const M=(0,t.getReindentEditOperations)(P,A,1,P.getLineCount());M.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,M),N.pushUndoStop())}}e.ReindentLinesAction=o;class g extends E.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:a.localize(11,null),alias:"Reindent Selected Lines",precondition:p.EditorContextKeys.writable})}run(T,N){const A=T.get(w.ILanguageConfigurationService),P=N.getModel();if(!P)return;const M=N.getSelections();if(M===null)return;const R=[];for(const F of M){let O=F.startLineNumber,B=F.endLineNumber;if(O!==B&&F.endColumn===1&&B--,O===1){if(O===B)continue}else O--;const H=(0,t.getReindentEditOperations)(P,A,O,B);R.push(...H)}R.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,R),N.pushUndoStop())}}e.ReindentSelectedLinesAction=g;class c{constructor(T,N){this._initialSelection=N,this._edits=[],this._selectionId=null;for(const A of T)A.range&&typeof A.text=="string"&&this._edits.push(A)}getEditOperations(T,N){for(const P of this._edits)N.addEditOperation(y.Range.lift(P.range),P.text);let A=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(A=!0,this._selectionId=N.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(A=!0,this._selectionId=N.trackSelection(this._initialSelection,!1))),A||(this._selectionId=N.trackSelection(this._initialSelection))}computeCursorState(T,N){return N.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=c;let b=class{constructor(T,N){this.editor=T,this._languageConfigurationService=N,this.callOnDispose=new f.DisposableStore,this.callOnModel=new f.DisposableStore,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)}))}trigger(T){const N=this.editor.getSelections();if(N===null||N.length>1)return;const A=this.editor.getModel();if(!A||!A.tokenization.isCheapToTokenize(T.getStartPosition().lineNumber))return;const P=this.editor.getOption(12),{tabSize:M,indentSize:R,insertSpaces:F}=A.getOptions(),O=[],B={shiftIndent:z=>L.ShiftCommand.shiftIndent(z,z.length+1,M,R,F),unshiftIndent:z=>L.ShiftCommand.unshiftIndent(z,z.length+1,M,R,F)};let H=T.startLineNumber;for(;H<=T.endLineNumber;){if(this.shouldIgnoreLine(A,H)){H++;continue}break}if(H>T.endLineNumber)return;let V=A.getLineContent(H);if(!/\S/.test(V.substring(0,T.startColumn-1))){const z=(0,i.getGoodIndentForLine)(P,A,A.getLanguageId(),H,B,this._languageConfigurationService);if(z!==null){const U=k.getLeadingWhitespace(V),Z=_.getSpaceCnt(z,M),re=_.getSpaceCnt(U,M);if(Z!==re){const x=_.generateIndent(Z,M,F);O.push({range:new y.Range(H,1,H,U.length+1),text:x}),V=x+V.substr(U.length)}else{const x=(0,i.getIndentMetadata)(A,H,this._languageConfigurationService);if(x===0||x===8)return}}}const q=H;for(;H<T.endLineNumber;){if(!/\S/.test(A.getLineContent(H+1))){H++;continue}break}if(H!==T.endLineNumber){const z={tokenization:{getLineTokens:Z=>A.tokenization.getLineTokens(Z),getLanguageId:()=>A.getLanguageId(),getLanguageIdAtPosition:(Z,re)=>A.getLanguageIdAtPosition(Z,re)},getLineContent:Z=>Z===q?V:A.getLineContent(Z)},U=(0,i.getGoodIndentForLine)(P,z,A.getLanguageId(),H+1,B,this._languageConfigurationService);if(U!==null){const Z=_.getSpaceCnt(U,M),re=_.getSpaceCnt(k.getLeadingWhitespace(A.getLineContent(H+1)),M);if(Z!==re){const x=Z-re;for(let Q=H+1;Q<=T.endLineNumber;Q++){const X=A.getLineContent(Q),Y=k.getLeadingWhitespace(X),ce=_.getSpaceCnt(Y,M)+x,he=_.generateIndent(ce,M,F);he!==Y&&O.push({range:new y.Range(Q,1,Q,Y.length+1),text:he})}}}}if(O.length>0){this.editor.pushUndoStop();const z=new c(O,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",z),this.editor.pushUndoStop()}}shouldIgnoreLine(T,N){T.tokenization.forceTokenization(N);const A=T.getLineFirstNonWhitespaceColumn(N);if(A===0)return!0;const P=T.tokenization.getLineTokens(N);if(P.getCount()>0){const M=P.findTokenIndexAtOffset(A);if(M>=0&&P.getStandardTokenType(M)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=b,b.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=b=Ie([ue(1,w.ILanguageConfigurationService)],b);function C(I,T,N,A){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return;let P="";for(let R=0;R<N;R++)P+=" ";const M=new RegExp(P,"gi");for(let R=1,F=I.getLineCount();R<=F;R++){let O=I.getLineFirstNonWhitespaceColumn(R);if(O===0&&(O=I.getLineMaxColumn(R)),O===1)continue;const B=new y.Range(R,1,R,O),H=I.getValueInRange(B),V=A?H.replace(/\t/ig,P):H.replace(M,"	");T.addEditOperation(B,V)}}class S{constructor(T,N){this.selection=T,this.tabSize=N,this.selectionId=null}getEditOperations(T,N){this.selectionId=N.trackSelection(this.selection),C(T,N,this.tabSize,!0)}computeCursorState(T,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=S;class D{constructor(T,N){this.selection=T,this.tabSize=N,this.selectionId=null}getEditOperations(T,N){this.selectionId=N.trackSelection(this.selection),C(T,N,this.tabSize,!1)}computeCursorState(T,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=D,(0,E.registerEditorContribution)(b.ID,b,2),(0,E.registerEditorAction)(n),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(u),(0,E.registerEditorAction)(d),(0,E.registerEditorAction)(r),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(o),(0,E.registerEditorAction)(g)}),define(ie[859],ne([1,0,16,225,20,726]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class y extends f.EditorAction{constructor(){super({id:"expandLineSelection",label:L.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:E.EditorContextKeys.textInputFocus,primary:2090}})}run(w,v,_){if(_=_||{},!v.hasModel())return;const a=v._getViewModel();a.model.pushStackElement(),a.setCursorStates(_.source,3,k.CursorMoveCommands.expandLineSelection(a,a.getCursorStates())),a.revealAllCursors(_.source,!0)}}e.ExpandLineSelectionAction=y,(0,f.registerEditorAction)(y)}),define(ie[860],ne([1,0,69,205,16,140,523,265,72,9,5,24,20,587,836,588,727,28,33,25]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.PascalCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class r extends E.EditorAction{constructor(he,pe){super(pe),this.down=he}run(he,pe){if(!pe.hasModel())return;const fe=pe.getSelections().map(($,W)=>({selection:$,index:W,ignore:!1}));fe.sort(($,W)=>_.Range.compareRangesUsingStarts($.selection,W.selection));let se=fe[0];for(let $=1;$<fe.length;$++){const W=fe[$];se.selection.endLineNumber===W.selection.startLineNumber&&(se.index<W.index?W.ignore=!0:(se.ignore=!0,se=W))}const te=[];for(const $ of fe)te.push(new i.CopyLinesCommand($.selection,this.down,$.ignore));pe.pushUndoStop(),pe.executeCommands(this.id,te),pe.pushUndoStop()}}class l extends r{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:h.localize(0,null),alias:"Copy Line Up",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(1,null),order:1}})}}class o extends r{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:h.localize(2,null),alias:"Copy Line Down",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(3,null),order:2}})}}class g extends E.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:h.localize(4,null),alias:"Duplicate Selection",precondition:s.EditorContextKeys.writable,menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(5,null),order:5}})}run(he,pe,fe){if(!pe.hasModel())return;const se=[],te=pe.getSelections(),$=pe.getModel();for(const W of te)if(W.isEmpty())se.push(new i.CopyLinesCommand(W,!0));else{const j=new a.Selection(W.endLineNumber,W.endColumn,W.endLineNumber,W.endColumn);se.push(new L.ReplaceCommandThatSelectsText(j,$.getValueInRange(W)))}pe.pushUndoStop(),pe.executeCommands(this.id,se),pe.pushUndoStop()}}e.DuplicateSelectionAction=g;class c extends E.EditorAction{constructor(he,pe){super(pe),this.down=he}run(he,pe){const fe=he.get(u.ILanguageConfigurationService),se=[],te=pe.getSelections()||[],$=pe.getOption(12);for(const W of te)se.push(new t.MoveLinesCommand(W,this.down,$,fe));pe.pushUndoStop(),pe.executeCommands(this.id,se),pe.pushUndoStop()}}class b extends c{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:h.localize(6,null),alias:"Move Line Up",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(7,null),order:3}})}}class C extends c{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:h.localize(8,null),alias:"Move Line Down",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(9,null),order:4}})}}class S extends E.EditorAction{constructor(he,pe){super(pe),this.descending=he}run(he,pe){if(!pe.hasModel())return;const fe=pe.getModel();let se=pe.getSelections();se.length===1&&se[0].isEmpty()&&(se=[new a.Selection(1,1,fe.getLineCount(),fe.getLineMaxColumn(fe.getLineCount()))]);for(const $ of se)if(!n.SortLinesCommand.canRun(pe.getModel(),$,this.descending))return;const te=[];for(let $=0,W=se.length;$<W;$++)te[$]=new n.SortLinesCommand(se[$],this.descending);pe.pushUndoStop(),pe.executeCommands(this.id,te),pe.pushUndoStop()}}e.AbstractSortLinesAction=S;class D extends S{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:h.localize(10,null),alias:"Sort Lines Ascending",precondition:s.EditorContextKeys.writable})}}e.SortLinesAscendingAction=D;class I extends S{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:h.localize(11,null),alias:"Sort Lines Descending",precondition:s.EditorContextKeys.writable})}}e.SortLinesDescendingAction=I;class T extends E.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:h.localize(12,null),alias:"Delete Duplicate Lines",precondition:s.EditorContextKeys.writable})}run(he,pe){if(!pe.hasModel())return;const fe=pe.getModel();if(fe.getLineCount()===1&&fe.getLineMaxColumn(1)===1)return;const se=[],te=[];let $=0,W=!0,j=pe.getSelections();j.length===1&&j[0].isEmpty()&&(j=[new a.Selection(1,1,fe.getLineCount(),fe.getLineMaxColumn(fe.getLineCount()))],W=!1);for(const K of j){const G=new Set,ee=[];for(let ge=K.startLineNumber;ge<=K.endLineNumber;ge++){const ve=fe.getLineContent(ge);G.has(ve)||(ee.push(ve),G.add(ve))}const oe=new a.Selection(K.startLineNumber,1,K.endLineNumber,fe.getLineMaxColumn(K.endLineNumber)),de=K.startLineNumber-$,le=new a.Selection(de,1,de+ee.length-1,ee[ee.length-1].length);se.push(w.EditOperation.replace(oe,ee.join(`
`))),te.push(le),$+=K.endLineNumber-K.startLineNumber+1-ee.length}pe.pushUndoStop(),pe.executeEdits(this.id,se,W?te:void 0),pe.pushUndoStop()}}e.DeleteDuplicateLinesAction=T;class N extends E.EditorAction{constructor(){super({id:N.ID,label:h.localize(13,null),alias:"Trim Trailing Whitespace",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2102),weight:100}})}run(he,pe,fe){let se=[];fe.reason==="auto-save"&&(se=(pe.getSelections()||[]).map(G=>new v.Position(G.positionLineNumber,G.positionColumn)));const te=pe.getSelection();if(te===null)return;const $=he.get(d.IConfigurationService),W=pe.getModel(),j=$.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:W?.getLanguageId(),resource:W?.uri}),K=new y.TrimTrailingWhitespaceCommand(te,se,j);pe.pushUndoStop(),pe.executeCommands(this.id,[K]),pe.pushUndoStop()}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class A extends E.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:h.localize(14,null),alias:"Delete Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(he,pe){if(!pe.hasModel())return;const fe=this._getLinesToRemove(pe),se=pe.getModel();if(se.getLineCount()===1&&se.getLineMaxColumn(1)===1)return;let te=0;const $=[],W=[];for(let j=0,K=fe.length;j<K;j++){const G=fe[j];let ee=G.startLineNumber,oe=G.endLineNumber,de=1,le=se.getLineMaxColumn(oe);oe<se.getLineCount()?(oe+=1,le=1):ee>1&&(ee-=1,de=se.getLineMaxColumn(ee)),$.push(w.EditOperation.replace(new a.Selection(ee,de,oe,le),"")),W.push(new a.Selection(ee-te,G.positionColumn,ee-te,G.positionColumn)),te+=G.endLineNumber-G.startLineNumber+1}pe.pushUndoStop(),pe.executeEdits(this.id,$,W),pe.pushUndoStop()}_getLinesToRemove(he){const pe=he.getSelections().map(te=>{let $=te.endLineNumber;return te.startLineNumber<te.endLineNumber&&te.endColumn===1&&($-=1),{startLineNumber:te.startLineNumber,selectionStartColumn:te.selectionStartColumn,endLineNumber:$,positionColumn:te.positionColumn}});pe.sort((te,$)=>te.startLineNumber===$.startLineNumber?te.endLineNumber-$.endLineNumber:te.startLineNumber-$.startLineNumber);const fe=[];let se=pe[0];for(let te=1;te<pe.length;te++)se.endLineNumber+1>=pe[te].startLineNumber?se.endLineNumber=pe[te].endLineNumber:(fe.push(se),se=pe[te]);return fe.push(se),fe}}e.DeleteLinesAction=A;class P extends E.EditorAction{constructor(){super({id:"editor.action.indentLines",label:h.localize(15,null),alias:"Indent Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(he,pe){const fe=pe._getViewModel();fe&&(pe.pushUndoStop(),pe.executeCommands(this.id,p.TypeOperations.indent(fe.cursorConfig,pe.getModel(),pe.getSelections())),pe.pushUndoStop())}}e.IndentLinesAction=P;class M extends E.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:h.localize(16,null),alias:"Outdent Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(he,pe){k.CoreEditingCommands.Outdent.runEditorCommand(he,pe,null)}}class R extends E.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:h.localize(17,null),alias:"Insert Line Above",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(he,pe){const fe=pe._getViewModel();fe&&(pe.pushUndoStop(),pe.executeCommands(this.id,p.TypeOperations.lineInsertBefore(fe.cursorConfig,pe.getModel(),pe.getSelections())))}}e.InsertLineBeforeAction=R;class F extends E.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:h.localize(18,null),alias:"Insert Line Below",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(he,pe){const fe=pe._getViewModel();fe&&(pe.pushUndoStop(),pe.executeCommands(this.id,p.TypeOperations.lineInsertAfter(fe.cursorConfig,pe.getModel(),pe.getSelections())))}}e.InsertLineAfterAction=F;class O extends E.EditorAction{run(he,pe){if(!pe.hasModel())return;const fe=pe.getSelection(),se=this._getRangesToDelete(pe),te=[];for(let j=0,K=se.length-1;j<K;j++){const G=se[j],ee=se[j+1];_.Range.intersectRanges(G,ee)===null?te.push(G):se[j+1]=_.Range.plusRange(G,ee)}te.push(se[se.length-1]);const $=this._getEndCursorState(fe,te),W=te.map(j=>w.EditOperation.replace(j,""));pe.pushUndoStop(),pe.executeEdits(this.id,W,$),pe.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=O;class B extends O{constructor(){super({id:"deleteAllLeft",label:h.localize(19,null),alias:"Delete All Left",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(he,pe){let fe=null;const se=[];let te=0;return pe.forEach($=>{let W;if($.endColumn===1&&te>0){const j=$.startLineNumber-te;W=new a.Selection(j,$.startColumn,j,$.startColumn)}else W=new a.Selection($.startLineNumber,$.startColumn,$.startLineNumber,$.startColumn);te+=$.endLineNumber-$.startLineNumber,$.intersectRanges(he)?fe=W:se.push(W)}),fe&&se.unshift(fe),se}_getRangesToDelete(he){const pe=he.getSelections();if(pe===null)return[];let fe=pe;const se=he.getModel();return se===null?[]:(fe.sort(_.Range.compareRangesUsingStarts),fe=fe.map(te=>{if(te.isEmpty())if(te.startColumn===1){const $=Math.max(1,te.startLineNumber-1),W=te.startLineNumber===1?1:se.getLineLength($)+1;return new _.Range($,W,te.startLineNumber,1)}else return new _.Range(te.startLineNumber,1,te.startLineNumber,te.startColumn);else return new _.Range(te.startLineNumber,1,te.endLineNumber,te.endColumn)}),fe)}}e.DeleteAllLeftAction=B;class H extends O{constructor(){super({id:"deleteAllRight",label:h.localize(20,null),alias:"Delete All Right",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(he,pe){let fe=null;const se=[];for(let te=0,$=pe.length,W=0;te<$;te++){const j=pe[te],K=new a.Selection(j.startLineNumber-W,j.startColumn,j.startLineNumber-W,j.startColumn);j.intersectRanges(he)?fe=K:se.push(K)}return fe&&se.unshift(fe),se}_getRangesToDelete(he){const pe=he.getModel();if(pe===null)return[];const fe=he.getSelections();if(fe===null)return[];const se=fe.map(te=>{if(te.isEmpty()){const $=pe.getLineMaxColumn(te.startLineNumber);return te.startColumn===$?new _.Range(te.startLineNumber,te.startColumn,te.startLineNumber+1,1):new _.Range(te.startLineNumber,te.startColumn,te.startLineNumber,$)}return te});return se.sort(_.Range.compareRangesUsingStarts),se}}e.DeleteAllRightAction=H;class V extends E.EditorAction{constructor(){super({id:"editor.action.joinLines",label:h.localize(21,null),alias:"Join Lines",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(he,pe){const fe=pe.getSelections();if(fe===null)return;let se=pe.getSelection();if(se===null)return;fe.sort(_.Range.compareRangesUsingStarts);const te=[],$=fe.reduce((oe,de)=>oe.isEmpty()?oe.endLineNumber===de.startLineNumber?(se.equalsSelection(oe)&&(se=de),de):de.startLineNumber>oe.endLineNumber+1?(te.push(oe),de):new a.Selection(oe.startLineNumber,oe.startColumn,de.endLineNumber,de.endColumn):de.startLineNumber>oe.endLineNumber?(te.push(oe),de):new a.Selection(oe.startLineNumber,oe.startColumn,de.endLineNumber,de.endColumn));te.push($);const W=pe.getModel();if(W===null)return;const j=[],K=[];let G=se,ee=0;for(let oe=0,de=te.length;oe<de;oe++){const le=te[oe],ge=le.startLineNumber,ve=1;let Ce=0,Se,be;const ke=W.getLineLength(le.endLineNumber)-le.endColumn;if(le.isEmpty()||le.startLineNumber===le.endLineNumber){const Pe=le.getStartPosition();Pe.lineNumber<W.getLineCount()?(Se=ge+1,be=W.getLineMaxColumn(Se)):(Se=Pe.lineNumber,be=W.getLineMaxColumn(Pe.lineNumber))}else Se=le.endLineNumber,be=W.getLineMaxColumn(Se);let Ee=W.getLineContent(ge);for(let Pe=ge+1;Pe<=Se;Pe++){const He=W.getLineContent(Pe),Be=W.getLineFirstNonWhitespaceColumn(Pe);if(Be>=1){let De=!0;Ee===""&&(De=!1),De&&(Ee.charAt(Ee.length-1)===" "||Ee.charAt(Ee.length-1)==="	")&&(De=!1,Ee=Ee.replace(/[\s\uFEFF\xA0]+$/g," "));const Ne=He.substr(Be-1);Ee+=(De?" ":"")+Ne,De?Ce=Ne.length+1:Ce=Ne.length}else Ce=0}const Ae=new _.Range(ge,ve,Se,be);if(!Ae.isEmpty()){let Pe;le.isEmpty()?(j.push(w.EditOperation.replace(Ae,Ee)),Pe=new a.Selection(Ae.startLineNumber-ee,Ee.length-Ce+1,ge-ee,Ee.length-Ce+1)):le.startLineNumber===le.endLineNumber?(j.push(w.EditOperation.replace(Ae,Ee)),Pe=new a.Selection(le.startLineNumber-ee,le.startColumn,le.endLineNumber-ee,le.endColumn)):(j.push(w.EditOperation.replace(Ae,Ee)),Pe=new a.Selection(le.startLineNumber-ee,le.startColumn,le.startLineNumber-ee,Ee.length-ke)),_.Range.intersectRanges(Ae,se)!==null?G=Pe:K.push(Pe)}ee+=Ae.endLineNumber-Ae.startLineNumber}K.unshift(G),pe.pushUndoStop(),pe.executeEdits(this.id,j,K),pe.pushUndoStop()}}e.JoinLinesAction=V;class q extends E.EditorAction{constructor(){super({id:"editor.action.transpose",label:h.localize(22,null),alias:"Transpose Characters around the Cursor",precondition:s.EditorContextKeys.writable})}run(he,pe){const fe=pe.getSelections();if(fe===null)return;const se=pe.getModel();if(se===null)return;const te=[];for(let $=0,W=fe.length;$<W;$++){const j=fe[$];if(!j.isEmpty())continue;const K=j.getStartPosition(),G=se.getLineMaxColumn(K.lineNumber);if(K.column>=G){if(K.lineNumber===se.getLineCount())continue;const ee=new _.Range(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),oe=se.getValueInRange(ee).split("").reverse().join("");te.push(new L.ReplaceCommand(new a.Selection(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),oe))}else{const ee=new _.Range(K.lineNumber,Math.max(1,K.column-1),K.lineNumber,K.column+1),oe=se.getValueInRange(ee).split("").reverse().join("");te.push(new L.ReplaceCommandThatPreservesSelection(ee,oe,new a.Selection(K.lineNumber,K.column+1,K.lineNumber,K.column+1)))}}pe.pushUndoStop(),pe.executeCommands(this.id,te),pe.pushUndoStop()}}e.TransposeAction=q;class z extends E.EditorAction{run(he,pe){const fe=pe.getSelections();if(fe===null)return;const se=pe.getModel();if(se===null)return;const te=pe.getOption(131),$=[];for(const W of fe)if(W.isEmpty()){const j=W.getStartPosition(),K=pe.getConfiguredWordAtPosition(j);if(!K)continue;const G=new _.Range(j.lineNumber,K.startColumn,j.lineNumber,K.endColumn),ee=se.getValueInRange(G);$.push(w.EditOperation.replace(G,this._modifyText(ee,te)))}else{const j=se.getValueInRange(W);$.push(w.EditOperation.replace(W,this._modifyText(j,te)))}pe.pushUndoStop(),pe.executeEdits(this.id,$),pe.pushUndoStop()}}e.AbstractCaseAction=z;class U extends z{constructor(){super({id:"editor.action.transformToUppercase",label:h.localize(23,null),alias:"Transform to Uppercase",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){return he.toLocaleUpperCase()}}e.UpperCaseAction=U;class Z extends z{constructor(){super({id:"editor.action.transformToLowercase",label:h.localize(24,null),alias:"Transform to Lowercase",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){return he.toLocaleLowerCase()}}e.LowerCaseAction=Z;class re{constructor(he,pe){this._pattern=he,this._flags=pe,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class x extends z{constructor(){super({id:"editor.action.transformToTitlecase",label:h.localize(25,null),alias:"Transform to Title Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const fe=x.titleBoundary.get();return fe?he.toLocaleLowerCase().replace(fe,se=>se.toLocaleUpperCase()):he}}e.TitleCaseAction=x,x.titleBoundary=new re("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Q extends z{constructor(){super({id:"editor.action.transformToSnakecase",label:h.localize(26,null),alias:"Transform to Snake Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const fe=Q.caseBoundary.get(),se=Q.singleLetters.get();return!fe||!se?he:he.replace(fe,"$1_$2").replace(se,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=Q,Q.caseBoundary=new re("(\\p{Ll})(\\p{Lu})","gmu"),Q.singleLetters=new re("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class X extends z{constructor(){super({id:"editor.action.transformToCamelcase",label:h.localize(27,null),alias:"Transform to Camel Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const fe=X.wordBoundary.get();if(!fe)return he;const se=he.split(fe);return se.shift()+se.map($=>$.substring(0,1).toLocaleUpperCase()+$.substring(1)).join("")}}e.CamelCaseAction=X,X.wordBoundary=new re("[_\\s-]","gm");class Y extends z{constructor(){super({id:"editor.action.transformToPascalcase",label:h.localize(28,null),alias:"Transform to Pascal Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const fe=Y.wordBoundary.get(),se=Y.wordBoundaryToMaintain.get();return!fe||!se?he:he.split(se).map(W=>W.split(fe)).flat().map(W=>W.substring(0,1).toLocaleUpperCase()+W.substring(1)).join("")}}e.PascalCaseAction=Y,Y.wordBoundary=new re("[_\\s-]","gm"),Y.wordBoundaryToMaintain=new re("(?<=\\.)","gm");class ae extends z{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(pe=>pe.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:h.localize(29,null),alias:"Transform to Kebab Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const fe=ae.caseBoundary.get(),se=ae.singleLetters.get(),te=ae.underscoreBoundary.get();return!fe||!se||!te?he:he.replace(te,"$1-$3").replace(fe,"$1-$2").replace(se,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=ae,ae.caseBoundary=new re("(\\p{Ll})(\\p{Lu})","gmu"),ae.singleLetters=new re("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),ae.underscoreBoundary=new re("(\\S)(_)(\\S)","gm"),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(o),(0,E.registerEditorAction)(g),(0,E.registerEditorAction)(b),(0,E.registerEditorAction)(C),(0,E.registerEditorAction)(D),(0,E.registerEditorAction)(I),(0,E.registerEditorAction)(T),(0,E.registerEditorAction)(N),(0,E.registerEditorAction)(A),(0,E.registerEditorAction)(P),(0,E.registerEditorAction)(M),(0,E.registerEditorAction)(R),(0,E.registerEditorAction)(F),(0,E.registerEditorAction)(B),(0,E.registerEditorAction)(H),(0,E.registerEditorAction)(V),(0,E.registerEditorAction)(q),(0,E.registerEditorAction)(U),(0,E.registerEditorAction)(Z),Q.caseBoundary.isSupported()&&Q.singleLetters.isSupported()&&(0,E.registerEditorAction)(Q),X.wordBoundary.isSupported()&&(0,E.registerEditorAction)(X),Y.wordBoundary.isSupported()&&(0,E.registerEditorAction)(Y),x.titleBoundary.isSupported()&&(0,E.registerEditorAction)(x),ae.isSupported()&&(0,E.registerEditorAction)(ae)}),define(ie[861],ne([1,0,2,16]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class E extends f.Disposable{constructor(y){super(),this._editor=y,this._register(this._editor.onMouseDown(p=>{const w=this._editor.getOption(117);w>=0&&p.target.type===6&&p.target.position.column>=w&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}E.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(E.ID,E,2)}),define(ie[174],ne([1,0,197,45,7,57,2,16,5,114,730,14,59,6,495]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let n=t=class{static get(d){return d.getContribution(t.ID)}constructor(d,r,l){this._openerService=l,this._messageWidget=new y.MutableDisposable,this._messageListeners=new y.DisposableStore,this._mouseOverMessage=!1,this._editor=d,this._visible=t.MESSAGE_VISIBLE.bindTo(r)}dispose(){var d;(d=this._message)===null||d===void 0||d.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(d,r){(0,k.alert)((0,L.isMarkdownString)(d)?d.value:d),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,L.isMarkdownString)(d)?(0,f.renderMarkdown)(d,{actionHandler:{callback:o=>{this.closeMessage(),(0,v.openLinkFromMarkdown)(this._openerService,o,(0,L.isMarkdownString)(d)?d.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new m(this._editor,r,typeof d=="string"?d:this._message.element),this._messageListeners.add(E.Event.debounce(this._editor.onDidBlurEditorText,(o,g)=>g,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&i.isAncestor(i.getActiveElement(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let l;this._messageListeners.add(this._editor.onMouseMove(o=>{o.target.position&&(l?l.containsPosition(o.target.position)||this.closeMessage():l=new w.Range(r.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(m.fadeOut(this._messageWidget.value))}};e.MessageController=n,n.ID="editor.contrib.messageController",n.MESSAGE_VISIBLE=new a.RawContextKey("messageVisible",!1,_.localize(0,null)),e.MessageController=n=t=Ie([ue(1,a.IContextKeyService),ue(2,s.IOpenerService)],n);const h=p.EditorCommand.bindToContribution(n.get);(0,p.registerEditorCommand)(new h({id:"leaveEditorMessage",precondition:n.MESSAGE_VISIBLE,handler:u=>u.closeMessage(),kbOpts:{weight:130,primary:9}}));class m{static fadeOut(d){const r=()=>{d.dispose(),clearTimeout(l),d.getDomNode().removeEventListener("animationend",r)},l=setTimeout(r,110);return d.getDomNode().addEventListener("animationend",r),d.getDomNode().classList.add("fadeOut"),{dispose:r}}constructor(d,{lineNumber:r,column:l},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=d,this._editor.revealLinesInCenterIfOutsideViewport(r,r,0),this._position={lineNumber:r,column:l},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const g=document.createElement("div");g.classList.add("anchor","top"),this._domNode.appendChild(g);const c=document.createElement("div");typeof o=="string"?(c.classList.add("message"),c.textContent=o):(o.classList.add("message"),c.appendChild(o)),this._domNode.appendChild(c);const b=document.createElement("div");b.classList.add("anchor","below"),this._domNode.appendChild(b),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(d){this._domNode.classList.toggle("below",d===2)}}(0,p.registerEditorContribution)(n.ID,n,4)}),define(ie[862],ne([1,0,57,2,16,174,737]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class p extends k.Disposable{constructor(v){super(),this.editor=v,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const v=L.MessageController.get(this.editor);if(v&&this.editor.hasModel()){let _=this.editor.getOptions().get(92);_||(this.editor.isSimpleWidget?_=new f.MarkdownString(y.localize(0,null)):_=new f.MarkdownString(y.localize(1,null))),v.showMessage(_,this.editor.getPosition())}}}e.ReadOnlyMessageController=p,p.ID="editor.contrib.readOnlyMessageController",(0,E.registerEditorContribution)(p.ID,p,2)}),define(ie[863],ne([1,0,13,19,12,16,9,5,24,20,326,589,740,28,27,18,74,21,22]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.SmartSelectController=void 0,e.provideSelectionRanges=b;class r{constructor(S,D){this.index=S,this.ranges=D}mov(S){const D=this.index+(S?1:-1);if(D<0||D>=this.ranges.length)return this;const I=new r(D,this.ranges);return I.ranges[D].equalsRange(this.ranges[this.index])?I.mov(S):I}}let l=d=class{static get(S){return S.getContribution(d.ID)}constructor(S,D){this._editor=S,this._languageFeaturesService=D,this._ignoreSelection=!1}dispose(){var S;(S=this._selectionListener)===null||S===void 0||S.dispose()}async run(S){if(!this._editor.hasModel())return;const D=this._editor.getSelections(),I=this._editor.getModel();if(this._state||await b(this._languageFeaturesService.selectionRangeProvider,I,D.map(N=>N.getPosition()),this._editor.getOption(113),k.CancellationToken.None).then(N=>{var A;if(!(!f.isNonEmptyArray(N)||N.length!==D.length)&&!(!this._editor.hasModel()||!f.equals(this._editor.getSelections(),D,(P,M)=>P.equalsSelection(M)))){for(let P=0;P<N.length;P++)N[P]=N[P].filter(M=>M.containsPosition(D[P].getStartPosition())&&M.containsPosition(D[P].getEndPosition())),N[P].unshift(D[P]);this._state=N.map(P=>new r(0,P)),(A=this._selectionListener)===null||A===void 0||A.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var P;this._ignoreSelection||((P=this._selectionListener)===null||P===void 0||P.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(N=>N.mov(S));const T=this._state.map(N=>w.Selection.fromPositions(N.ranges[N.index].getStartPosition(),N.ranges[N.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}}};e.SmartSelectController=l,l.ID="editor.contrib.smartSelectController",e.SmartSelectController=l=d=Ie([ue(1,n.ILanguageFeaturesService)],l);class o extends L.EditorAction{constructor(S,D){super(D),this._forward=S}async run(S,D){const I=l.get(D);I&&await I.run(this._forward)}}class g extends o{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:s.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:s.localize(1,null),order:2}})}}t.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class c extends o{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:s.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:s.localize(3,null),order:3}})}}(0,L.registerEditorContribution)(l.ID,l,4),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(c);async function b(C,S,D,I,T){const N=C.all(S).concat(new a.WordSelectionRangeProvider(I.selectSubwords));N.length===1&&N.unshift(new _.BracketSelectionRangeProvider);const A=[],P=[];for(const M of N)A.push(Promise.resolve(M.provideSelectionRanges(S,D,T)).then(R=>{if(f.isNonEmptyArray(R)&&R.length===D.length)for(let F=0;F<D.length;F++){P[F]||(P[F]=[]);for(const O of R[F])p.Range.isIRange(O.range)&&p.Range.containsPosition(O.range,D[F])&&P[F].push(p.Range.lift(O.range))}},E.onUnexpectedExternalError));return await Promise.all(A),P.map(M=>{if(M.length===0)return[];M.sort((B,H)=>y.Position.isBefore(B.getStartPosition(),H.getStartPosition())?1:y.Position.isBefore(H.getStartPosition(),B.getStartPosition())||y.Position.isBefore(B.getEndPosition(),H.getEndPosition())?-1:y.Position.isBefore(H.getEndPosition(),B.getEndPosition())?1:0);const R=[];let F;for(const B of M)(!F||p.Range.containsRange(B,F)&&!p.Range.equalsRange(B,F))&&(R.push(B),F=B);if(!I.selectLeadingAndTrailingWhitespace)return R;const O=[R[0]];for(let B=1;B<R.length;B++){const H=R[B-1],V=R[B];if(V.startLineNumber!==H.startLineNumber||V.endLineNumber!==H.endLineNumber){const q=new p.Range(H.startLineNumber,S.getLineFirstNonWhitespaceColumn(H.startLineNumber),H.endLineNumber,S.getLineLastNonWhitespaceColumn(H.endLineNumber));q.containsRange(H)&&!q.equalsRange(H)&&V.containsRange(q)&&!V.equalsRange(q)&&O.push(q);const z=new p.Range(H.startLineNumber,1,H.endLineNumber,S.getLineMaxColumn(H.endLineNumber));z.containsRange(H)&&!z.equalsRange(q)&&V.containsRange(z)&&!V.equalsRange(z)&&O.push(z)}O.push(V)}return O})}t.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",async function(C,...S){const[D,I]=S;(0,m.assertType)(u.URI.isUri(D));const T=C.get(n.ILanguageFeaturesService).selectionRangeProvider,N=await C.get(h.ITextModelService).createModelReference(D);try{return b(T,N.object.textEditorModel,I,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{N.dispose()}})}),define(ie[864],ne([1,0,63,16,752]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:E.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,w){if(!w.hasModel())return;const v=w.getModel();v.tokenization.resetTokenization();const _=new f.StopWatch;v.tokenization.forceTokenization(v.getLineCount()),_.stop(),console.log(`tokenization took ${_.elapsed()}`)}}(0,k.registerEditorAction)(L)}),define(ie[865],ne([1,0,2,50,16,36,754,170]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const w="ignoreUnusualLineTerminators";function v(s,i,t){s.setModelProperty(i.uri,w,t)}function _(s,i){return s.getModelProperty(i.uri,w)}let a=class extends f.Disposable{constructor(i,t,n){super(),this._editor=i,this._dialogService=t,this._codeEditorService=n,this._isPresentingDialog=!1,this._config=this._editor.getOption(126),this._register(this._editor.onDidChangeConfiguration(h=>{h.hasChanged(126)&&(this._config=this._editor.getOption(126),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(h=>{h.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||_(this._codeEditorService,i)===!0||this._editor.getOption(91))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let n;try{this._isPresentingDialog=!0,n=await this._dialogService.confirm({title:y.localize(0,null),message:y.localize(1,null),detail:y.localize(2,null,(0,k.basename)(i.uri)),primaryButton:y.localize(3,null),cancelButton:y.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!n.confirmed){v(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())}};e.UnusualLineTerminatorsDetector=a,a.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=a=Ie([ue(1,p.IDialogService),ue(2,L.ICodeEditorService)],a),(0,E.registerEditorContribution)(a.ID,a,1)}),define(ie[383],ne([1,0,16,140,38,77,190,159,9,5,24,20,33,757,68,14,201]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class m extends f.EditorCommand{constructor(Q){super(Q),this._inSelectionMode=Q.inSelectionMode,this._wordNavigationType=Q.wordNavigationType}runEditorCommand(Q,X,Y){if(!X.hasModel())return;const ae=(0,p.getMapForWordSeparators)(X.getOption(131),X.getOption(130)),ce=X.getModel(),pe=X.getSelections().map(fe=>{const se=new w.Position(fe.positionLineNumber,fe.positionColumn),te=this._move(ae,ce,se,this._wordNavigationType);return this._moveTo(fe,te,this._inSelectionMode)});if(ce.pushStackElement(),X._getViewModel().setCursorStates("moveWordCommand",3,pe.map(fe=>L.CursorState.fromModelSelection(fe))),pe.length===1){const fe=new w.Position(pe[0].positionLineNumber,pe[0].positionColumn);X.revealPosition(fe,0)}}_moveTo(Q,X,Y){return Y?new _.Selection(Q.selectionStartLineNumber,Q.selectionStartColumn,X.lineNumber,X.column):new _.Selection(X.lineNumber,X.column,X.lineNumber,X.column)}}e.MoveWordCommand=m;class u extends m{_move(Q,X,Y,ae){return y.WordOperations.moveWordLeft(Q,X,Y,ae)}}e.WordLeftCommand=u;class d extends m{_move(Q,X,Y,ae){return y.WordOperations.moveWordRight(Q,X,Y,ae)}}e.WordRightCommand=d;class r extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=r;class l extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=l;class o extends u{constructor(){var Q;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(Q=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,h.IsWindowsContext))===null||Q===void 0?void 0:Q.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=o;class g extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=g;class c extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=c;class b extends u{constructor(){var Q;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(Q=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,h.IsWindowsContext))===null||Q===void 0?void 0:Q.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=b;class C extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Q,X,Y,ae){return super._move((0,p.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,Q.intlSegmenterLocales),X,Y,ae)}}e.CursorWordAccessibilityLeft=C;class S extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Q,X,Y,ae){return super._move((0,p.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,Q.intlSegmenterLocales),X,Y,ae)}}e.CursorWordAccessibilityLeftSelect=S;class D extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=D;class I extends d{constructor(){var Q;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(Q=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,h.IsWindowsContext))===null||Q===void 0?void 0:Q.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class T extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class N extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=N;class A extends d{constructor(){var Q;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(Q=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,h.IsWindowsContext))===null||Q===void 0?void 0:Q.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=A;class P extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=P;class M extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Q,X,Y,ae){return super._move((0,p.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,Q.intlSegmenterLocales),X,Y,ae)}}e.CursorWordAccessibilityRight=M;class R extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Q,X,Y,ae){return super._move((0,p.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,Q.intlSegmenterLocales),X,Y,ae)}}e.CursorWordAccessibilityRightSelect=R;class F extends f.EditorCommand{constructor(Q){super(Q),this._whitespaceHeuristics=Q.whitespaceHeuristics,this._wordNavigationType=Q.wordNavigationType}runEditorCommand(Q,X,Y){const ae=Q.get(s.ILanguageConfigurationService);if(!X.hasModel())return;const ce=(0,p.getMapForWordSeparators)(X.getOption(131),X.getOption(130)),he=X.getModel(),pe=X.getSelections(),fe=X.getOption(6),se=X.getOption(11),te=ae.getLanguageConfiguration(he.getLanguageId()).getAutoClosingPairs(),$=X._getViewModel(),W=pe.map(j=>{const K=this._delete({wordSeparators:ce,model:he,selection:j,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:X.getOption(9),autoClosingBrackets:fe,autoClosingQuotes:se,autoClosingPairs:te,autoClosedCharacters:$.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(K,"")});X.pushUndoStop(),X.executeCommands(this.id,W),X.pushUndoStop()}}e.DeleteWordCommand=F;class O extends F{_delete(Q,X){const Y=y.WordOperations.deleteWordLeft(Q,X);return Y||new v.Range(1,1,1,1)}}e.DeleteWordLeftCommand=O;class B extends F{_delete(Q,X){const Y=y.WordOperations.deleteWordRight(Q,X);if(Y)return Y;const ae=Q.model.getLineCount(),ce=Q.model.getLineMaxColumn(ae);return new v.Range(ae,ce,ae,ce)}}e.DeleteWordRightCommand=B;class H extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:a.EditorContextKeys.writable})}}e.DeleteWordStartLeft=H;class V extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:a.EditorContextKeys.writable})}}e.DeleteWordEndLeft=V;class q extends O{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=q;class z extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:a.EditorContextKeys.writable})}}e.DeleteWordStartRight=z;class U extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:a.EditorContextKeys.writable})}}e.DeleteWordEndRight=U;class Z extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=Z;class re extends f.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:a.EditorContextKeys.writable,label:i.localize(0,null),alias:"Delete Word"})}run(Q,X,Y){if(!X.hasModel())return;const ae=(0,p.getMapForWordSeparators)(X.getOption(131),X.getOption(130)),ce=X.getModel(),pe=X.getSelections().map(fe=>{const se=y.WordOperations.deleteInsideWord(ae,ce,fe);return new k.ReplaceCommand(se,"")});X.pushUndoStop(),X.executeCommands(this.id,pe),X.pushUndoStop()}}e.DeleteInsideWord=re,(0,f.registerEditorCommand)(new r),(0,f.registerEditorCommand)(new l),(0,f.registerEditorCommand)(new o),(0,f.registerEditorCommand)(new g),(0,f.registerEditorCommand)(new c),(0,f.registerEditorCommand)(new b),(0,f.registerEditorCommand)(new D),(0,f.registerEditorCommand)(new I),(0,f.registerEditorCommand)(new T),(0,f.registerEditorCommand)(new N),(0,f.registerEditorCommand)(new A),(0,f.registerEditorCommand)(new P),(0,f.registerEditorCommand)(new C),(0,f.registerEditorCommand)(new S),(0,f.registerEditorCommand)(new M),(0,f.registerEditorCommand)(new R),(0,f.registerEditorCommand)(new H),(0,f.registerEditorCommand)(new V),(0,f.registerEditorCommand)(new q),(0,f.registerEditorCommand)(new z),(0,f.registerEditorCommand)(new U),(0,f.registerEditorCommand)(new Z),(0,f.registerEditorAction)(re)}),define(ie[866],ne([1,0,16,190,5,20,383,27]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class w extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(m,u){const d=k.WordPartOperations.deleteWordPartLeft(m);return d||new E.Range(1,1,1,1)}}e.DeleteWordPartLeft=w;class v extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(m,u){const d=k.WordPartOperations.deleteWordPartRight(m);if(d)return d;const r=m.model.getLineCount(),l=m.model.getLineMaxColumn(r);return new E.Range(r,l,r,l)}}e.DeleteWordPartRight=v;class _ extends y.MoveWordCommand{_move(m,u,d,r){return k.WordPartOperations.moveWordPartLeft(m,u,d)}}e.WordPartLeftCommand=_;class a extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=a,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class s extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=s,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class i extends y.MoveWordCommand{_move(m,u,d,r){return k.WordPartOperations.moveWordPartRight(m,u,d)}}e.WordPartRightCommand=i;class t extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=t;class n extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=n,(0,f.registerEditorCommand)(new w),(0,f.registerEditorCommand)(new v),(0,f.registerEditorCommand)(new a),(0,f.registerEditorCommand)(new s),(0,f.registerEditorCommand)(new t),(0,f.registerEditorCommand)(new n)}),define(ie[867],ne([1,0,6,2,16,17,507]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class y extends k.Disposable{constructor(v){super(),this.editor=v,this.widget=null,L.isIOS&&(this._register(v.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const v=!this.editor.getOption(91);!this.widget&&v?this.widget=new p(this.editor):this.widget&&!v&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=y,y.ID="editor.contrib.iPadShowKeyboard";class p extends k.Disposable{constructor(v){super(),this.editor=v,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(f.addDisposableListener(this._domNode,"touchstart",_=>{this.editor.focus()})),this._register(f.addDisposableListener(this._domNode,"focus",_=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,E.registerEditorContribution)(y.ID,y,3)}),define(ie[868],ne([1,0,6,34,2,16,29,142,168,42,148,103,508]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0});let i=s=class extends E.Disposable{static get(d){return d.getContribution(s.ID)}constructor(d,r,l){super(),this._editor=d,this._languageService=l,this._widget=null,this._register(this._editor.onDidChangeModel(o=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(o=>this.stop())),this._register(y.TokenizationRegistry.onDidChange(o=>this.stop())),this._register(this._editor.onKeyUp(o=>o.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new m(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=s=Ie([ue(1,_.IStandaloneThemeService),ue(2,v.ILanguageService)],i);class t extends L.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:a.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(d,r){const l=i.get(r);l?.launch()}}function n(u){let d="";for(let r=0,l=u.length;r<l;r++){const o=u.charCodeAt(r);switch(o){case 9:d+="\u2192";break;case 32:d+="\xB7";break;default:d+=String.fromCharCode(o)}}return d}function h(u,d){const r=y.TokenizationRegistry.get(d);if(r)return r;const l=u.encodeLanguageId(d);return{getInitialState:()=>w.NullState,tokenize:(o,g,c)=>(0,w.nullTokenize)(d,c),tokenizeEncoded:(o,g,c)=>(0,w.nullTokenizeEncoded)(l,c)}}class m extends E.Disposable{constructor(d,r){super(),this.allowEditorOverflow=!0,this._editor=d,this._languageService=r,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=h(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(l=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return m._ID}_compute(d){const r=this._getTokensAtLine(d.lineNumber);let l=0;for(let C=r.tokens1.length-1;C>=0;C--){const S=r.tokens1[C];if(d.column-1>=S.offset){l=C;break}}let o=0;for(let C=r.tokens2.length>>>1;C>=0;C--)if(d.column-1>=r.tokens2[C<<1]){o=C;break}const g=this._model.getLineContent(d.lineNumber);let c="";if(l<r.tokens1.length){const C=r.tokens1[l].offset,S=l+1<r.tokens1.length?r.tokens1[l+1].offset:g.length;c=g.substring(C,S)}(0,f.reset)(this._domNode,(0,f.$)("h2.tm-token",void 0,n(c),(0,f.$)("span.tm-token-length",void 0,`${c.length} ${c.length===1?"char":"chars"}`))),(0,f.append)(this._domNode,(0,f.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const b=(o<<1)+1<r.tokens2.length?this._decodeMetadata(r.tokens2[(o<<1)+1]):null;(0,f.append)(this._domNode,(0,f.$)("table.tm-metadata-table",void 0,(0,f.$)("tbody",void 0,(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"language"),(0,f.$)("td.tm-metadata-value",void 0,`${b?b.languageId:"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"token type"),(0,f.$)("td.tm-metadata-value",void 0,`${b?this._tokenTypeToString(b.tokenType):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"font style"),(0,f.$)("td.tm-metadata-value",void 0,`${b?this._fontStyleToString(b.fontStyle):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"foreground"),(0,f.$)("td.tm-metadata-value",void 0,`${b?k.Color.Format.CSS.formatHex(b.foreground):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"background"),(0,f.$)("td.tm-metadata-value",void 0,`${b?k.Color.Format.CSS.formatHex(b.background):"-?-"}`))))),(0,f.append)(this._domNode,(0,f.$)("hr.tokens-inspect-separator")),l<r.tokens1.length&&(0,f.append)(this._domNode,(0,f.$)("span.tm-token-type",void 0,r.tokens1[l].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(d){const r=y.TokenizationRegistry.getColorMap(),l=p.TokenMetadata.getLanguageId(d),o=p.TokenMetadata.getTokenType(d),g=p.TokenMetadata.getFontStyle(d),c=p.TokenMetadata.getForeground(d),b=p.TokenMetadata.getBackground(d);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(l),tokenType:o,fontStyle:g,foreground:r[c],background:r[b]}}_tokenTypeToString(d){switch(d){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(d){let r="";return d&1&&(r+="italic "),d&2&&(r+="bold "),d&4&&(r+="underline "),d&8&&(r+="strikethrough "),r.length===0&&(r="---"),r}_getTokensAtLine(d){const r=this._getStateBeforeLine(d),l=this._tokenizationSupport.tokenize(this._model.getLineContent(d),!0,r),o=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(d),!0,r);return{startState:r,tokens1:l.tokens,tokens2:o.tokens,endState:l.endState}}_getStateBeforeLine(d){let r=this._tokenizationSupport.getInitialState();for(let l=1;l<d;l++)r=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,r).endState;return r}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}m._ID="editor.contrib.inspectTokensWidget",(0,L.registerEditorContribution)(i.ID,i,4),(0,L.registerEditorAction)(t)}),define(ie[869],ne([1,0,606,12,76,119,2,47,427,774,27,25,170,8,35,61,824,98,65]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";var d,r;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let l=d=class extends h.PickerQuickAccessProvider{constructor(c,b,C,S,D,I){super(d.PREFIX,c),this.instantiationService=b,this.keybindingService=C,this.commandService=S,this.telemetryService=D,this.dialogService=I,this.commandsHistory=this._register(this.instantiationService.createInstance(o)),this.options=c}async _getPicks(c,b,C,S){var D,I,T,N;const A=await this.getCommandPicks(C);if(C.isCancellationRequested)return[];const P=(0,L.createSingleCallFunction)(()=>{const V=new w.TfIdfCalculator;V.updateDocuments(A.map(z=>({key:z.commandId,textChunks:[this.getTfIdfChunk(z)]})));const q=V.calculateScores(c,C);return(0,w.normalizeTfIdfScores)(q).filter(z=>z.score>d.TFIDF_THRESHOLD).slice(0,d.TFIDF_MAX_RESULTS)}),M=[];for(const V of A){const q=(D=d.WORD_FILTER(c,V.label))!==null&&D!==void 0?D:void 0,z=V.commandAlias&&(I=d.WORD_FILTER(c,V.commandAlias))!==null&&I!==void 0?I:void 0;if(q||z)V.highlights={label:q,detail:this.options.showAlias?z:void 0},M.push(V);else if(c===V.commandId)M.push(V);else if(c.length>=3){const U=P();if(C.isCancellationRequested)return[];const Z=U.find(re=>re.key===V.commandId);Z&&(V.tfIdfScore=Z.score,M.push(V))}}const R=new Map;for(const V of M){const q=R.get(V.label);q?(V.description=V.commandId,q.description=q.commandId):R.set(V.label,V)}M.sort((V,q)=>{if(V.tfIdfScore&&q.tfIdfScore)return V.tfIdfScore===q.tfIdfScore?V.label.localeCompare(q.label):q.tfIdfScore-V.tfIdfScore;if(V.tfIdfScore)return 1;if(q.tfIdfScore)return-1;const z=this.commandsHistory.peek(V.commandId),U=this.commandsHistory.peek(q.commandId);if(z&&U)return z>U?-1:1;if(z)return-1;if(U)return 1;if(this.options.suggestedCommandIds){const Z=this.options.suggestedCommandIds.has(V.commandId),re=this.options.suggestedCommandIds.has(q.commandId);if(Z&&re)return 0;if(Z)return-1;if(re)return 1}return V.label.localeCompare(q.label)});const F=[];let O=!1,B=!0,H=!!this.options.suggestedCommandIds;for(let V=0;V<M.length;V++){const q=M[V];V===0&&this.commandsHistory.peek(q.commandId)&&(F.push({type:"separator",label:(0,v.localize)(0,null)}),O=!0),B&&q.tfIdfScore!==void 0&&(F.push({type:"separator",label:(0,v.localize)(1,null)}),B=!1),H&&q.tfIdfScore===void 0&&!this.commandsHistory.peek(q.commandId)&&(!((T=this.options.suggestedCommandIds)===null||T===void 0)&&T.has(q.commandId))&&(F.push({type:"separator",label:(0,v.localize)(2,null)}),O=!0,H=!1),O&&q.tfIdfScore===void 0&&!this.commandsHistory.peek(q.commandId)&&!(!((N=this.options.suggestedCommandIds)===null||N===void 0)&&N.has(q.commandId))&&(F.push({type:"separator",label:(0,v.localize)(3,null)}),O=!1),F.push(this.toCommandPick(q,S))}return this.hasAdditionalCommandPicks(c,C)?{picks:F,additionalPicks:(async()=>{var V;const q=await this.getAdditionalCommandPicks(A,M,c,C);if(C.isCancellationRequested)return[];const z=q.map(U=>this.toCommandPick(U,S));return B&&((V=z[0])===null||V===void 0?void 0:V.type)!=="separator"&&z.unshift({type:"separator",label:(0,v.localize)(4,null)}),z})()}:F}toCommandPick(c,b){if(c.type==="separator")return c;const C=this.keybindingService.lookupKeybinding(c.commandId),S=C?(0,v.localize)(5,null,c.label,C.getAriaLabel()):c.label;return{...c,ariaLabel:S,detail:this.options.showAlias&&c.commandAlias!==c.label?c.commandAlias:void 0,keybinding:C,accept:async()=>{var D,I;this.commandsHistory.push(c.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:(D=b?.from)!==null&&D!==void 0?D:"quick open"});try{!((I=c.args)===null||I===void 0)&&I.length?await this.commandService.executeCommand(c.commandId,...c.args):await this.commandService.executeCommand(c.commandId)}catch(T){(0,k.isCancellationError)(T)||this.dialogService.error((0,v.localize)(6,null,c.label),(0,f.toErrorMessage)(T))}}}}getTfIdfChunk({label:c,commandAlias:b,commandDescription:C}){let S=c;return b&&b!==c&&(S+=` - ${b}`),C&&C.value!==c&&(S+=` - ${C.value===C.original?C.value:`${C.value} (${C.original})`}`),S}};e.AbstractCommandsQuickAccessProvider=l,l.PREFIX=">",l.TFIDF_THRESHOLD=.5,l.TFIDF_MAX_RESULTS=5,l.WORD_FILTER=(0,E.or)(E.matchesPrefix,E.matchesWords,E.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=l=d=Ie([ue(1,i.IInstantiationService),ue(2,t.IKeybindingService),ue(3,_.ICommandService),ue(4,u.ITelemetryService),ue(5,s.IDialogService)],l);let o=r=class extends y.Disposable{constructor(c,b,C){super(),this.storageService=c,this.configurationService=b,this.logService=C,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(c=>this.updateConfiguration(c))),this._register(this.storageService.onWillSaveState(c=>{c.reason===m.WillSaveStateReason.SHUTDOWN&&this.saveState()}))}updateConfiguration(c){c&&!c.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=r.getConfiguredCommandHistoryLength(this.configurationService),r.cache&&r.cache.limit!==this.configuredCommandsHistoryLength&&(r.cache.limit=this.configuredCommandsHistoryLength,r.hasChanges=!0))}load(){const c=this.storageService.get(r.PREF_KEY_CACHE,0);let b;if(c)try{b=JSON.parse(c)}catch(S){this.logService.error(`[CommandsHistory] invalid data: ${S}`)}const C=r.cache=new p.LRUCache(this.configuredCommandsHistoryLength,1);if(b){let S;b.usesLRU?S=b.entries:S=b.entries.sort((D,I)=>D.value-I.value),S.forEach(D=>C.set(D.key,D.value))}r.counter=this.storageService.getNumber(r.PREF_KEY_COUNTER,0,r.counter)}push(c){r.cache&&(r.cache.set(c,r.counter++),r.hasChanges=!0)}peek(c){var b;return(b=r.cache)===null||b===void 0?void 0:b.peek(c)}saveState(){if(!r.cache||!r.hasChanges)return;const c={usesLRU:!0,entries:[]};r.cache.forEach((b,C)=>c.entries.push({key:C,value:b})),this.storageService.store(r.PREF_KEY_CACHE,JSON.stringify(c),0,0),this.storageService.store(r.PREF_KEY_COUNTER,r.counter,0,0),r.hasChanges=!1}static getConfiguredCommandHistoryLength(c){var b,C;const D=(C=(b=c.getValue().workbench)===null||b===void 0?void 0:b.commandPalette)===null||C===void 0?void 0:C.history;return typeof D=="number"?D:r.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=o,o.DEFAULT_COMMANDS_HISTORY_LENGTH=50,o.PREF_KEY_CACHE="commandPalette.mru.cache",o.PREF_KEY_COUNTER="commandPalette.mru.counter",o.counter=1,o.hasChanges=!1,e.CommandsHistory=o=r=Ie([ue(0,m.IStorageService),ue(1,a.IConfigurationService),ue(2,n.ILogService)],o)}),define(ie[870],ne([1,0,136,869]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class E extends k.AbstractCommandsQuickAccessProvider{constructor(y,p,w,v,_,a){super(y,p,w,v,_,a)}getCodeEditorCommandPicks(){const y=this.activeTextEditorControl;if(!y)return[];const p=[];for(const w of y.getSupportedActions())p.push({commandId:w.id,commandAlias:w.alias,label:(0,f.stripIcons)(w.label)||w.id});return p}}e.AbstractEditorCommandsQuickAccessProvider=E}),define(ie[871],ne([1,0,39,150,103,36,870,8,35,27,65,170,16,20,75]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let n=class extends y.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var u;return(u=this.codeEditorService.getFocusedCodeEditor())!==null&&u!==void 0?u:void 0}constructor(u,d,r,l,o,g){super({showAlias:!1},u,r,l,o,g),this.codeEditorService=d}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};e.StandaloneCommandsQuickAccessProvider=n,e.StandaloneCommandsQuickAccessProvider=n=Ie([ue(0,p.IInstantiationService),ue(1,L.ICodeEditorService),ue(2,w.IKeybindingService),ue(3,v.ICommandService),ue(4,_.ITelemetryService),ue(5,a.IDialogService)],n);class h extends s.EditorAction{constructor(){super({id:h.ID,label:E.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(u){u.get(t.IQuickInputService).quickAccess.show(n.PREFIX)}}e.GotoLineAction=h,h.ID="editor.action.quickCommand",(0,s.registerEditorAction)(h),f.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:n.PREFIX,helpEntries:[{description:E.QuickCommandNLS.quickCommandHelp,commandId:h.ID}]})}),define(ie[93],ne([1,0,87,15,34,7,260,39]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.Extensions=void 0,e.asCssVariableName=w,e.asCssVariable=v,e.asCssVariableWithDefault=_,e.registerColor=i,e.executeTransform=t,e.darken=n,e.lighten=h,e.transparent=m,e.oneOf=u,e.ifDefinedThenElse=d,e.lessProminent=r,e.resolveColorValue=l;function w(c){return`--vscode-${c.replace(/\./g,"-")}`}function v(c){return`var(${w(c)})`}function _(c,b){return`var(${w(c)}, ${b})`}e.Extensions={ColorContribution:"base.contributions.colors"};class a{constructor(){this._onDidChangeSchema=new L.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(b,C,S,D=!1,I){const T={id:b,description:S,defaults:C,needsTransparency:D,deprecationMessage:I};this.colorsById[b]=T;const N={type:"string",description:S,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return I&&(N.deprecationMessage=I),D&&(N.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",N.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[b]=N,this.colorReferenceSchema.enum.push(b),this.colorReferenceSchema.enumDescriptions.push(S),this._onDidChangeSchema.fire(),b}getColors(){return Object.keys(this.colorsById).map(b=>this.colorsById[b])}resolveDefaultColor(b,C){const S=this.colorsById[b];if(S&&S.defaults){const D=S.defaults[C.type];return l(D,C)}}getColorSchema(){return this.colorSchema}toString(){const b=(C,S)=>{const D=C.indexOf(".")===-1?0:1,I=S.indexOf(".")===-1?0:1;return D!==I?D-I:C.localeCompare(S)};return Object.keys(this.colorsById).sort(b).map(C=>`- \`${C}\`: ${this.colorsById[C].description}`).join(`
`)}}const s=new a;p.Registry.add(e.Extensions.ColorContribution,s);function i(c,b,C,S,D){return s.registerColor(c,b,C,S,D)}function t(c,b){var C,S,D,I;switch(c.op){case 0:return(C=l(c.value,b))===null||C===void 0?void 0:C.darken(c.factor);case 1:return(S=l(c.value,b))===null||S===void 0?void 0:S.lighten(c.factor);case 2:return(D=l(c.value,b))===null||D===void 0?void 0:D.transparent(c.factor);case 3:{const T=l(c.background,b);return T?(I=l(c.value,b))===null||I===void 0?void 0:I.makeOpaque(T):l(c.value,b)}case 4:for(const T of c.values){const N=l(T,b);if(N)return N}return;case 6:return l(b.defines(c.if)?c.then:c.else,b);case 5:{const T=l(c.value,b);if(!T)return;const N=l(c.background,b);return N?T.isDarkerThan(N)?E.Color.getLighterColor(T,N,c.factor).transparent(c.transparency):E.Color.getDarkerColor(T,N,c.factor).transparent(c.transparency):T.transparent(c.factor*c.transparency)}default:throw(0,f.assertNever)(c)}}function n(c,b){return{op:0,value:c,factor:b}}function h(c,b){return{op:1,value:c,factor:b}}function m(c,b){return{op:2,value:c,factor:b}}function u(...c){return{op:4,values:c}}function d(c,b,C){return{op:6,if:c,then:b,else:C}}function r(c,b,C,S){return{op:5,value:c,background:b,factor:C,transparency:S}}function l(c,b){if(c!==null){if(typeof c=="string")return c[0]==="#"?E.Color.fromHex(c):b.getColor(c);if(c instanceof E.Color)return c;if(typeof c=="object")return t(c,b)}}e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const o=p.Registry.as(y.Extensions.JSONContribution);o.registerSchema(e.workbenchColorsSchemaId,s.getColorSchema());const g=new k.RunOnceScheduler(()=>o.notifySchemaChanged(e.workbenchColorsSchemaId),200);s.onDidChangeSchema(()=>{g.isScheduled()||g.schedule()})}),define(ie[116],ne([1,0,780,34,93]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatBackground=e.textPreformatForeground=e.textSeparatorForeground=e.textLinkActiveForeground=e.textLinkForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=void 0,e.foreground=(0,E.registerColor)("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},f.localize(0,null)),e.disabledForeground=(0,E.registerColor)("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},f.localize(1,null)),e.errorForeground=(0,E.registerColor)("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},f.localize(2,null)),e.descriptionForeground=(0,E.registerColor)("descriptionForeground",{light:"#717171",dark:(0,E.transparent)(e.foreground,.7),hcDark:(0,E.transparent)(e.foreground,.7),hcLight:(0,E.transparent)(e.foreground,.7)},f.localize(3,null)),e.iconForeground=(0,E.registerColor)("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},f.localize(4,null)),e.focusBorder=(0,E.registerColor)("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},f.localize(5,null)),e.contrastBorder=(0,E.registerColor)("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},f.localize(6,null)),e.activeContrastBorder=(0,E.registerColor)("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},f.localize(7,null)),e.selectionBackground=(0,E.registerColor)("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},f.localize(8,null)),e.textLinkForeground=(0,E.registerColor)("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.localize(9,null)),e.textLinkActiveForeground=(0,E.registerColor)("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.localize(10,null)),e.textSeparatorForeground=(0,E.registerColor)("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},f.localize(11,null)),e.textPreformatForeground=(0,E.registerColor)("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},f.localize(12,null)),e.textPreformatBackground=(0,E.registerColor)("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},f.localize(13,null)),e.textBlockQuoteBackground=(0,E.registerColor)("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},f.localize(14,null)),e.textBlockQuoteBorder=(0,E.registerColor)("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},f.localize(15,null)),e.textCodeBlockBackground=(0,E.registerColor)("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},f.localize(16,null))}),define(ie[268],ne([1,0,787,34,93,116]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.sashHoverBorder=void 0,e.sashHoverBorder=(0,E.registerColor)("sash.hoverBorder",{dark:L.focusBorder,light:L.focusBorder,hcDark:L.focusBorder,hcLight:L.focusBorder},f.localize(0,null)),e.badgeBackground=(0,E.registerColor)("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},f.localize(1,null)),e.badgeForeground=(0,E.registerColor)("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},f.localize(2,null)),e.scrollbarShadow=(0,E.registerColor)("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},f.localize(3,null)),e.scrollbarSliderBackground=(0,E.registerColor)("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:(0,E.transparent)(L.contrastBorder,.6),hcLight:(0,E.transparent)(L.contrastBorder,.4)},f.localize(4,null)),e.scrollbarSliderHoverBackground=(0,E.registerColor)("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:(0,E.transparent)(L.contrastBorder,.8),hcLight:(0,E.transparent)(L.contrastBorder,.8)},f.localize(5,null)),e.scrollbarSliderActiveBackground=(0,E.registerColor)("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(6,null)),e.progressBarBackground=(0,E.registerColor)("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(7,null))}),define(ie[132],ne([1,0,782,34,93,116,268]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.widgetBorder=e.widgetShadow=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.editorLightBulbAiForeground=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.editorActiveLinkForeground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollShadow=e.editorStickyScrollBorder=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=void 0,e.editorBackground=(0,E.registerColor)("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(0,null)),e.editorForeground=(0,E.registerColor)("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:L.foreground},f.localize(1,null)),e.editorStickyScrollBackground=(0,E.registerColor)("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},f.localize(2,null)),e.editorStickyScrollHoverBackground=(0,E.registerColor)("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(3,null)),e.editorStickyScrollBorder=(0,E.registerColor)("editorStickyScroll.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(4,null)),e.editorStickyScrollShadow=(0,E.registerColor)("editorStickyScroll.shadow",{dark:y.scrollbarShadow,light:y.scrollbarShadow,hcDark:y.scrollbarShadow,hcLight:y.scrollbarShadow},f.localize(5,null)),e.editorWidgetBackground=(0,E.registerColor)("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},f.localize(6,null)),e.editorWidgetForeground=(0,E.registerColor)("editorWidget.foreground",{dark:L.foreground,light:L.foreground,hcDark:L.foreground,hcLight:L.foreground},f.localize(7,null)),e.editorWidgetBorder=(0,E.registerColor)("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(8,null)),e.editorWidgetResizeBorder=(0,E.registerColor)("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},f.localize(9,null)),e.editorErrorBackground=(0,E.registerColor)("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(10,null),!0),e.editorErrorForeground=(0,E.registerColor)("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},f.localize(11,null)),e.editorErrorBorder=(0,E.registerColor)("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},f.localize(12,null)),e.editorWarningBackground=(0,E.registerColor)("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(13,null),!0),e.editorWarningForeground=(0,E.registerColor)("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},f.localize(14,null)),e.editorWarningBorder=(0,E.registerColor)("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},f.localize(15,null)),e.editorInfoBackground=(0,E.registerColor)("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(16,null),!0),e.editorInfoForeground=(0,E.registerColor)("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},f.localize(17,null)),e.editorInfoBorder=(0,E.registerColor)("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},f.localize(18,null)),e.editorHintForeground=(0,E.registerColor)("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},f.localize(19,null)),e.editorHintBorder=(0,E.registerColor)("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},f.localize(20,null)),e.editorActiveLinkForeground=(0,E.registerColor)("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},f.localize(21,null)),e.editorSelectionBackground=(0,E.registerColor)("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},f.localize(22,null)),e.editorSelectionForeground=(0,E.registerColor)("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},f.localize(23,null)),e.editorInactiveSelection=(0,E.registerColor)("editor.inactiveSelectionBackground",{light:(0,E.transparent)(e.editorSelectionBackground,.5),dark:(0,E.transparent)(e.editorSelectionBackground,.5),hcDark:(0,E.transparent)(e.editorSelectionBackground,.7),hcLight:(0,E.transparent)(e.editorSelectionBackground,.5)},f.localize(24,null),!0),e.editorSelectionHighlight=(0,E.registerColor)("editor.selectionHighlightBackground",{light:(0,E.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:(0,E.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},f.localize(25,null),!0),e.editorSelectionHighlightBorder=(0,E.registerColor)("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(26,null)),e.editorFindMatch=(0,E.registerColor)("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},f.localize(27,null)),e.editorFindMatchHighlight=(0,E.registerColor)("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},f.localize(28,null),!0),e.editorFindRangeHighlight=(0,E.registerColor)("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},f.localize(29,null),!0),e.editorFindMatchBorder=(0,E.registerColor)("editor.findMatchBorder",{light:null,dark:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(30,null)),e.editorFindMatchHighlightBorder=(0,E.registerColor)("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(31,null)),e.editorFindRangeHighlightBorder=(0,E.registerColor)("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:(0,E.transparent)(L.activeContrastBorder,.4),hcLight:(0,E.transparent)(L.activeContrastBorder,.4)},f.localize(32,null),!0),e.editorHoverHighlight=(0,E.registerColor)("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},f.localize(33,null),!0),e.editorHoverBackground=(0,E.registerColor)("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(34,null)),e.editorHoverForeground=(0,E.registerColor)("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},f.localize(35,null)),e.editorHoverBorder=(0,E.registerColor)("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},f.localize(36,null)),e.editorHoverStatusBarBackground=(0,E.registerColor)("editorHoverWidget.statusBarBackground",{dark:(0,E.lighten)(e.editorHoverBackground,.2),light:(0,E.darken)(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(37,null)),e.editorInlayHintForeground=(0,E.registerColor)("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.Color.white,hcLight:k.Color.black},f.localize(38,null)),e.editorInlayHintBackground=(0,E.registerColor)("editorInlayHint.background",{dark:(0,E.transparent)(y.badgeBackground,.1),light:(0,E.transparent)(y.badgeBackground,.1),hcDark:(0,E.transparent)(k.Color.white,.1),hcLight:(0,E.transparent)(y.badgeBackground,.1)},f.localize(39,null)),e.editorInlayHintTypeForeground=(0,E.registerColor)("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},f.localize(40,null)),e.editorInlayHintTypeBackground=(0,E.registerColor)("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},f.localize(41,null)),e.editorInlayHintParameterForeground=(0,E.registerColor)("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},f.localize(42,null)),e.editorInlayHintParameterBackground=(0,E.registerColor)("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},f.localize(43,null)),e.editorLightBulbForeground=(0,E.registerColor)("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},f.localize(44,null)),e.editorLightBulbAutoFixForeground=(0,E.registerColor)("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f.localize(45,null)),e.editorLightBulbAiForeground=(0,E.registerColor)("editorLightBulbAi.foreground",{dark:e.editorLightBulbForeground,light:e.editorLightBulbForeground,hcDark:e.editorLightBulbForeground,hcLight:e.editorLightBulbForeground},f.localize(46,null)),e.snippetTabstopHighlightBackground=(0,E.registerColor)("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},f.localize(47,null)),e.snippetTabstopHighlightBorder=(0,E.registerColor)("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(48,null)),e.snippetFinalTabstopHighlightBackground=(0,E.registerColor)("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(49,null)),e.snippetFinalTabstopHighlightBorder=(0,E.registerColor)("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},f.localize(50,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=(0,E.registerColor)("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},f.localize(51,null),!0),e.diffRemoved=(0,E.registerColor)("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},f.localize(52,null),!0),e.diffInsertedLine=(0,E.registerColor)("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},f.localize(53,null),!0),e.diffRemovedLine=(0,E.registerColor)("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},f.localize(54,null),!0),e.diffInsertedLineGutter=(0,E.registerColor)("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(55,null)),e.diffRemovedLineGutter=(0,E.registerColor)("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(56,null)),e.diffOverviewRulerInserted=(0,E.registerColor)("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(57,null)),e.diffOverviewRulerRemoved=(0,E.registerColor)("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(58,null)),e.diffInsertedOutline=(0,E.registerColor)("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},f.localize(59,null)),e.diffRemovedOutline=(0,E.registerColor)("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},f.localize(60,null)),e.diffBorder=(0,E.registerColor)("diffEditor.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(61,null)),e.diffDiagonalFill=(0,E.registerColor)("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},f.localize(62,null)),e.diffUnchangedRegionBackground=(0,E.registerColor)("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},f.localize(63,null)),e.diffUnchangedRegionForeground=(0,E.registerColor)("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},f.localize(64,null)),e.diffUnchangedTextBackground=(0,E.registerColor)("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},f.localize(65,null)),e.widgetShadow=(0,E.registerColor)("widget.shadow",{dark:(0,E.transparent)(k.Color.black,.36),light:(0,E.transparent)(k.Color.black,.16),hcDark:null,hcLight:null},f.localize(66,null)),e.widgetBorder=(0,E.registerColor)("widget.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(67,null)),e.toolbarHoverBackground=(0,E.registerColor)("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},f.localize(68,null)),e.toolbarHoverOutline=(0,E.registerColor)("toolbar.hoverOutline",{dark:null,light:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(69,null)),e.toolbarActiveBackground=(0,E.registerColor)("toolbar.activeBackground",{dark:(0,E.lighten)(e.toolbarHoverBackground,.1),light:(0,E.darken)(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},f.localize(70,null)),e.breadcrumbsForeground=(0,E.registerColor)("breadcrumb.foreground",{light:(0,E.transparent)(L.foreground,.8),dark:(0,E.transparent)(L.foreground,.8),hcDark:(0,E.transparent)(L.foreground,.8),hcLight:(0,E.transparent)(L.foreground,.8)},f.localize(71,null)),e.breadcrumbsBackground=(0,E.registerColor)("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},f.localize(72,null)),e.breadcrumbsFocusForeground=(0,E.registerColor)("breadcrumb.focusForeground",{light:(0,E.darken)(L.foreground,.2),dark:(0,E.lighten)(L.foreground,.1),hcDark:(0,E.lighten)(L.foreground,.1),hcLight:(0,E.lighten)(L.foreground,.1)},f.localize(73,null)),e.breadcrumbsActiveSelectionForeground=(0,E.registerColor)("breadcrumb.activeSelectionForeground",{light:(0,E.darken)(L.foreground,.2),dark:(0,E.lighten)(L.foreground,.1),hcDark:(0,E.lighten)(L.foreground,.1),hcLight:(0,E.lighten)(L.foreground,.1)},f.localize(74,null)),e.breadcrumbsPickerBackground=(0,E.registerColor)("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(75,null));const p=.5,w=k.Color.fromHex("#40C8AE").transparent(p),v=k.Color.fromHex("#40A6FF").transparent(p),_=k.Color.fromHex("#606060").transparent(.4),a=.4,s=1;e.mergeCurrentHeaderBackground=(0,E.registerColor)("merge.currentHeaderBackground",{dark:w,light:w,hcDark:null,hcLight:null},f.localize(76,null),!0),e.mergeCurrentContentBackground=(0,E.registerColor)("merge.currentContentBackground",{dark:(0,E.transparent)(e.mergeCurrentHeaderBackground,a),light:(0,E.transparent)(e.mergeCurrentHeaderBackground,a),hcDark:(0,E.transparent)(e.mergeCurrentHeaderBackground,a),hcLight:(0,E.transparent)(e.mergeCurrentHeaderBackground,a)},f.localize(77,null),!0),e.mergeIncomingHeaderBackground=(0,E.registerColor)("merge.incomingHeaderBackground",{dark:v,light:v,hcDark:null,hcLight:null},f.localize(78,null),!0),e.mergeIncomingContentBackground=(0,E.registerColor)("merge.incomingContentBackground",{dark:(0,E.transparent)(e.mergeIncomingHeaderBackground,a),light:(0,E.transparent)(e.mergeIncomingHeaderBackground,a),hcDark:(0,E.transparent)(e.mergeIncomingHeaderBackground,a),hcLight:(0,E.transparent)(e.mergeIncomingHeaderBackground,a)},f.localize(79,null),!0),e.mergeCommonHeaderBackground=(0,E.registerColor)("merge.commonHeaderBackground",{dark:_,light:_,hcDark:null,hcLight:null},f.localize(80,null),!0),e.mergeCommonContentBackground=(0,E.registerColor)("merge.commonContentBackground",{dark:(0,E.transparent)(e.mergeCommonHeaderBackground,a),light:(0,E.transparent)(e.mergeCommonHeaderBackground,a),hcDark:(0,E.transparent)(e.mergeCommonHeaderBackground,a),hcLight:(0,E.transparent)(e.mergeCommonHeaderBackground,a)},f.localize(81,null),!0),e.mergeBorder=(0,E.registerColor)("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},f.localize(82,null)),e.overviewRulerCurrentContentForeground=(0,E.registerColor)("editorOverviewRuler.currentContentForeground",{dark:(0,E.transparent)(e.mergeCurrentHeaderBackground,s),light:(0,E.transparent)(e.mergeCurrentHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(83,null)),e.overviewRulerIncomingContentForeground=(0,E.registerColor)("editorOverviewRuler.incomingContentForeground",{dark:(0,E.transparent)(e.mergeIncomingHeaderBackground,s),light:(0,E.transparent)(e.mergeIncomingHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(84,null)),e.overviewRulerCommonContentForeground=(0,E.registerColor)("editorOverviewRuler.commonContentForeground",{dark:(0,E.transparent)(e.mergeCommonHeaderBackground,s),light:(0,E.transparent)(e.mergeCommonHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(85,null)),e.overviewRulerFindMatchForeground=(0,E.registerColor)("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},f.localize(86,null),!0),e.overviewRulerSelectionHighlightForeground=(0,E.registerColor)("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},f.localize(87,null),!0),e.problemsErrorIconForeground=(0,E.registerColor)("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},f.localize(88,null)),e.problemsWarningIconForeground=(0,E.registerColor)("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},f.localize(89,null)),e.problemsInfoIconForeground=(0,E.registerColor)("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},f.localize(90,null))}),define(ie[384],ne([1,0,783,34,93,116,132]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=void 0,e.inputBackground=(0,E.registerColor)("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(0,null)),e.inputForeground=(0,E.registerColor)("input.foreground",{dark:L.foreground,light:L.foreground,hcDark:L.foreground,hcLight:L.foreground},f.localize(1,null)),e.inputBorder=(0,E.registerColor)("input.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(2,null)),e.inputActiveOptionBorder=(0,E.registerColor)("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(3,null)),e.inputActiveOptionHoverBackground=(0,E.registerColor)("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},f.localize(4,null)),e.inputActiveOptionBackground=(0,E.registerColor)("inputOption.activeBackground",{dark:(0,E.transparent)(L.focusBorder,.4),light:(0,E.transparent)(L.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},f.localize(5,null)),e.inputActiveOptionForeground=(0,E.registerColor)("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:L.foreground,hcLight:L.foreground},f.localize(6,null)),e.inputPlaceholderForeground=(0,E.registerColor)("input.placeholderForeground",{light:(0,E.transparent)(L.foreground,.5),dark:(0,E.transparent)(L.foreground,.5),hcDark:(0,E.transparent)(L.foreground,.7),hcLight:(0,E.transparent)(L.foreground,.7)},f.localize(7,null)),e.inputValidationInfoBackground=(0,E.registerColor)("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(8,null)),e.inputValidationInfoForeground=(0,E.registerColor)("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:L.foreground},f.localize(9,null)),e.inputValidationInfoBorder=(0,E.registerColor)("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(10,null)),e.inputValidationWarningBackground=(0,E.registerColor)("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(11,null)),e.inputValidationWarningForeground=(0,E.registerColor)("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:L.foreground},f.localize(12,null)),e.inputValidationWarningBorder=(0,E.registerColor)("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(13,null)),e.inputValidationErrorBackground=(0,E.registerColor)("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(14,null)),e.inputValidationErrorForeground=(0,E.registerColor)("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:L.foreground},f.localize(15,null)),e.inputValidationErrorBorder=(0,E.registerColor)("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(16,null)),e.selectBackground=(0,E.registerColor)("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(17,null)),e.selectListBackground=(0,E.registerColor)("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(18,null)),e.selectForeground=(0,E.registerColor)("dropdown.foreground",{dark:"#F0F0F0",light:L.foreground,hcDark:k.Color.white,hcLight:L.foreground},f.localize(19,null)),e.selectBorder=(0,E.registerColor)("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(20,null)),e.buttonForeground=(0,E.registerColor)("button.foreground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:k.Color.white},f.localize(21,null)),e.buttonSeparator=(0,E.registerColor)("button.separator",{dark:(0,E.transparent)(e.buttonForeground,.4),light:(0,E.transparent)(e.buttonForeground,.4),hcDark:(0,E.transparent)(e.buttonForeground,.4),hcLight:(0,E.transparent)(e.buttonForeground,.4)},f.localize(22,null)),e.buttonBackground=(0,E.registerColor)("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},f.localize(23,null)),e.buttonHoverBackground=(0,E.registerColor)("button.hoverBackground",{dark:(0,E.lighten)(e.buttonBackground,.2),light:(0,E.darken)(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},f.localize(24,null)),e.buttonBorder=(0,E.registerColor)("button.border",{dark:L.contrastBorder,light:L.contrastBorder,hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(25,null)),e.buttonSecondaryForeground=(0,E.registerColor)("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:L.foreground},f.localize(26,null)),e.buttonSecondaryBackground=(0,E.registerColor)("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},f.localize(27,null)),e.buttonSecondaryHoverBackground=(0,E.registerColor)("button.secondaryHoverBackground",{dark:(0,E.lighten)(e.buttonSecondaryBackground,.2),light:(0,E.darken)(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},f.localize(28,null)),e.checkboxBackground=(0,E.registerColor)("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},f.localize(29,null)),e.checkboxSelectBackground=(0,E.registerColor)("checkbox.selectBackground",{dark:y.editorWidgetBackground,light:y.editorWidgetBackground,hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},f.localize(30,null)),e.checkboxForeground=(0,E.registerColor)("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},f.localize(31,null)),e.checkboxBorder=(0,E.registerColor)("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},f.localize(32,null)),e.checkboxSelectBorder=(0,E.registerColor)("checkbox.selectBorder",{dark:L.iconForeground,light:L.iconForeground,hcDark:L.iconForeground,hcLight:L.iconForeground},f.localize(33,null)),e.keybindingLabelBackground=(0,E.registerColor)("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},f.localize(34,null)),e.keybindingLabelForeground=(0,E.registerColor)("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:L.foreground},f.localize(35,null)),e.keybindingLabelBorder=(0,E.registerColor)("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:L.contrastBorder},f.localize(36,null)),e.keybindingLabelBottomBorder=(0,E.registerColor)("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:L.foreground},f.localize(37,null))}),define(ie[269],ne([1,0,784,34,93,116,132]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listDeemphasizedForeground=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBetweenBackground=e.listDropOverBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=void 0,e.listFocusBackground=(0,E.registerColor)("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(0,null)),e.listFocusForeground=(0,E.registerColor)("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(1,null)),e.listFocusOutline=(0,E.registerColor)("list.focusOutline",{dark:L.focusBorder,light:L.focusBorder,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(2,null)),e.listFocusAndSelectionOutline=(0,E.registerColor)("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(3,null)),e.listActiveSelectionBackground=(0,E.registerColor)("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(4,null)),e.listActiveSelectionForeground=(0,E.registerColor)("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},f.localize(5,null)),e.listActiveSelectionIconForeground=(0,E.registerColor)("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(6,null)),e.listInactiveSelectionBackground=(0,E.registerColor)("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(7,null)),e.listInactiveSelectionForeground=(0,E.registerColor)("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(8,null)),e.listInactiveSelectionIconForeground=(0,E.registerColor)("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(9,null)),e.listInactiveFocusBackground=(0,E.registerColor)("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(10,null)),e.listInactiveFocusOutline=(0,E.registerColor)("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(11,null)),e.listHoverBackground=(0,E.registerColor)("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(12,null)),e.listHoverForeground=(0,E.registerColor)("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(13,null)),e.listDropOverBackground=(0,E.registerColor)("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},f.localize(14,null)),e.listDropBetweenBackground=(0,E.registerColor)("list.dropBetweenBackground",{dark:L.iconForeground,light:L.iconForeground,hcDark:null,hcLight:null},f.localize(15,null)),e.listHighlightForeground=(0,E.registerColor)("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:L.focusBorder,hcLight:L.focusBorder},f.localize(16,null)),e.listFocusHighlightForeground=(0,E.registerColor)("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:(0,E.ifDefinedThenElse)(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},f.localize(17,null)),e.listInvalidItemForeground=(0,E.registerColor)("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},f.localize(18,null)),e.listErrorForeground=(0,E.registerColor)("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},f.localize(19,null)),e.listWarningForeground=(0,E.registerColor)("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},f.localize(20,null)),e.listFilterWidgetBackground=(0,E.registerColor)("listFilterWidget.background",{light:(0,E.darken)(y.editorWidgetBackground,0),dark:(0,E.lighten)(y.editorWidgetBackground,0),hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},f.localize(21,null)),e.listFilterWidgetOutline=(0,E.registerColor)("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},f.localize(22,null)),e.listFilterWidgetNoMatchesOutline=(0,E.registerColor)("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(23,null)),e.listFilterWidgetShadow=(0,E.registerColor)("listFilterWidget.shadow",{dark:y.widgetShadow,light:y.widgetShadow,hcDark:y.widgetShadow,hcLight:y.widgetShadow},f.localize(24,null)),e.listFilterMatchHighlight=(0,E.registerColor)("list.filterMatchBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},f.localize(25,null)),e.listFilterMatchHighlightBorder=(0,E.registerColor)("list.filterMatchBorder",{dark:y.editorFindMatchHighlightBorder,light:y.editorFindMatchHighlightBorder,hcDark:L.contrastBorder,hcLight:L.activeContrastBorder},f.localize(26,null)),e.listDeemphasizedForeground=(0,E.registerColor)("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},f.localize(27,null)),e.treeIndentGuidesStroke=(0,E.registerColor)("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},f.localize(28,null)),e.treeInactiveIndentGuidesStroke=(0,E.registerColor)("tree.inactiveIndentGuidesStroke",{dark:(0,E.transparent)(e.treeIndentGuidesStroke,.4),light:(0,E.transparent)(e.treeIndentGuidesStroke,.4),hcDark:(0,E.transparent)(e.treeIndentGuidesStroke,.4),hcLight:(0,E.transparent)(e.treeIndentGuidesStroke,.4)},f.localize(29,null)),e.tableColumnsBorder=(0,E.registerColor)("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},f.localize(30,null)),e.tableOddRowsBackgroundColor=(0,E.registerColor)("tree.tableOddRowsBackground",{dark:(0,E.transparent)(L.foreground,.04),light:(0,E.transparent)(L.foreground,.04),hcDark:null,hcLight:null},f.localize(31,null))}),define(ie[872],ne([1,0,785,93,116,384,269]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=void 0,e.menuBorder=(0,k.registerColor)("menu.border",{dark:null,light:null,hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(0,null)),e.menuForeground=(0,k.registerColor)("menu.foreground",{dark:L.selectForeground,light:L.selectForeground,hcDark:L.selectForeground,hcLight:L.selectForeground},f.localize(1,null)),e.menuBackground=(0,k.registerColor)("menu.background",{dark:L.selectBackground,light:L.selectBackground,hcDark:L.selectBackground,hcLight:L.selectBackground},f.localize(2,null)),e.menuSelectionForeground=(0,k.registerColor)("menu.selectionForeground",{dark:y.listActiveSelectionForeground,light:y.listActiveSelectionForeground,hcDark:y.listActiveSelectionForeground,hcLight:y.listActiveSelectionForeground},f.localize(3,null)),e.menuSelectionBackground=(0,k.registerColor)("menu.selectionBackground",{dark:y.listActiveSelectionBackground,light:y.listActiveSelectionBackground,hcDark:y.listActiveSelectionBackground,hcLight:y.listActiveSelectionBackground},f.localize(4,null)),e.menuSelectionBorder=(0,k.registerColor)("menu.selectionBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(5,null)),e.menuSeparatorBackground=(0,k.registerColor)("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(6,null))}),define(ie[385],ne([1,0,786,34,93,132,268]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapError=e.minimapWarning=e.minimapInfo=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=void 0,e.minimapFindMatch=(0,E.registerColor)("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},f.localize(0,null),!0),e.minimapSelectionOccurrenceHighlight=(0,E.registerColor)("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},f.localize(1,null),!0),e.minimapSelection=(0,E.registerColor)("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},f.localize(2,null),!0),e.minimapInfo=(0,E.registerColor)("minimap.infoHighlight",{dark:L.editorInfoForeground,light:L.editorInfoForeground,hcDark:L.editorInfoBorder,hcLight:L.editorInfoBorder},f.localize(3,null)),e.minimapWarning=(0,E.registerColor)("minimap.warningHighlight",{dark:L.editorWarningForeground,light:L.editorWarningForeground,hcDark:L.editorWarningBorder,hcLight:L.editorWarningBorder},f.localize(4,null)),e.minimapError=(0,E.registerColor)("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},f.localize(5,null)),e.minimapBackground=(0,E.registerColor)("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(6,null)),e.minimapForegroundOpacity=(0,E.registerColor)("minimap.foregroundOpacity",{dark:k.Color.fromHex("#000f"),light:k.Color.fromHex("#000f"),hcDark:k.Color.fromHex("#000f"),hcLight:k.Color.fromHex("#000f")},f.localize(7,null)),e.minimapSliderBackground=(0,E.registerColor)("minimapSlider.background",{light:(0,E.transparent)(y.scrollbarSliderBackground,.5),dark:(0,E.transparent)(y.scrollbarSliderBackground,.5),hcDark:(0,E.transparent)(y.scrollbarSliderBackground,.5),hcLight:(0,E.transparent)(y.scrollbarSliderBackground,.5)},f.localize(8,null)),e.minimapSliderHoverBackground=(0,E.registerColor)("minimapSlider.hoverBackground",{light:(0,E.transparent)(y.scrollbarSliderHoverBackground,.5),dark:(0,E.transparent)(y.scrollbarSliderHoverBackground,.5),hcDark:(0,E.transparent)(y.scrollbarSliderHoverBackground,.5),hcLight:(0,E.transparent)(y.scrollbarSliderHoverBackground,.5)},f.localize(9,null)),e.minimapSliderActiveBackground=(0,E.registerColor)("minimapSlider.activeBackground",{light:(0,E.transparent)(y.scrollbarSliderActiveBackground,.5),dark:(0,E.transparent)(y.scrollbarSliderActiveBackground,.5),hcDark:(0,E.transparent)(y.scrollbarSliderActiveBackground,.5),hcLight:(0,E.transparent)(y.scrollbarSliderActiveBackground,.5)},f.localize(10,null))}),define(ie[873],ne([1,0,781,93,116,132,385]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=void 0,e.chartsForeground=(0,k.registerColor)("charts.foreground",{dark:E.foreground,light:E.foreground,hcDark:E.foreground,hcLight:E.foreground},f.localize(0,null)),e.chartsLines=(0,k.registerColor)("charts.lines",{dark:(0,k.transparent)(E.foreground,.5),light:(0,k.transparent)(E.foreground,.5),hcDark:(0,k.transparent)(E.foreground,.5),hcLight:(0,k.transparent)(E.foreground,.5)},f.localize(1,null)),e.chartsRed=(0,k.registerColor)("charts.red",{dark:L.editorErrorForeground,light:L.editorErrorForeground,hcDark:L.editorErrorForeground,hcLight:L.editorErrorForeground},f.localize(2,null)),e.chartsBlue=(0,k.registerColor)("charts.blue",{dark:L.editorInfoForeground,light:L.editorInfoForeground,hcDark:L.editorInfoForeground,hcLight:L.editorInfoForeground},f.localize(3,null)),e.chartsYellow=(0,k.registerColor)("charts.yellow",{dark:L.editorWarningForeground,light:L.editorWarningForeground,hcDark:L.editorWarningForeground,hcLight:L.editorWarningForeground},f.localize(4,null)),e.chartsOrange=(0,k.registerColor)("charts.orange",{dark:y.minimapFindMatch,light:y.minimapFindMatch,hcDark:y.minimapFindMatch,hcLight:y.minimapFindMatch},f.localize(5,null)),e.chartsGreen=(0,k.registerColor)("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},f.localize(6,null)),e.chartsPurple=(0,k.registerColor)("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f.localize(7,null))}),define(ie[874],ne([1,0,788,34,93,132,269]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=void 0,e.quickInputBackground=(0,E.registerColor)("quickInput.background",{dark:L.editorWidgetBackground,light:L.editorWidgetBackground,hcDark:L.editorWidgetBackground,hcLight:L.editorWidgetBackground},f.localize(0,null)),e.quickInputForeground=(0,E.registerColor)("quickInput.foreground",{dark:L.editorWidgetForeground,light:L.editorWidgetForeground,hcDark:L.editorWidgetForeground,hcLight:L.editorWidgetForeground},f.localize(1,null)),e.quickInputTitleBackground=(0,E.registerColor)("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},f.localize(2,null)),e.pickerGroupForeground=(0,E.registerColor)("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(3,null)),e.pickerGroupBorder=(0,E.registerColor)("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(4,null)),e._deprecatedQuickInputListFocusBackground=(0,E.registerColor)("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,f.localize(5,null)),e.quickInputListFocusForeground=(0,E.registerColor)("quickInputList.focusForeground",{dark:y.listActiveSelectionForeground,light:y.listActiveSelectionForeground,hcDark:y.listActiveSelectionForeground,hcLight:y.listActiveSelectionForeground},f.localize(6,null)),e.quickInputListFocusIconForeground=(0,E.registerColor)("quickInputList.focusIconForeground",{dark:y.listActiveSelectionIconForeground,light:y.listActiveSelectionIconForeground,hcDark:y.listActiveSelectionIconForeground,hcLight:y.listActiveSelectionIconForeground},f.localize(7,null)),e.quickInputListFocusBackground=(0,E.registerColor)("quickInputList.focusBackground",{dark:(0,E.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),light:(0,E.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),hcDark:null,hcLight:null},f.localize(8,null))}),define(ie[875],ne([1,0,789,93,116,132]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.searchResultsInfoForeground=void 0,e.searchResultsInfoForeground=(0,k.registerColor)("search.resultsInfoForeground",{light:E.foreground,dark:(0,k.transparent)(E.foreground,.65),hcDark:E.foreground,hcLight:E.foreground},f.localize(0,null)),e.searchEditorFindMatch=(0,k.registerColor)("searchEditor.findMatchBackground",{light:(0,k.transparent)(L.editorFindMatchHighlight,.66),dark:(0,k.transparent)(L.editorFindMatchHighlight,.66),hcDark:L.editorFindMatchHighlight,hcLight:L.editorFindMatchHighlight},f.localize(1,null)),e.searchEditorFindMatchBorder=(0,k.registerColor)("searchEditor.findMatchBorder",{light:(0,k.transparent)(L.editorFindMatchHighlightBorder,.66),dark:(0,k.transparent)(L.editorFindMatchHighlightBorder,.66),hcDark:L.editorFindMatchHighlightBorder,hcLight:L.editorFindMatchHighlightBorder},f.localize(2,null))});var Wt=this&&this.__createBinding||(Object.create?function(J,e,f,k){k===void 0&&(k=f);var E=Object.getOwnPropertyDescriptor(e,f);(!E||("get"in E?!e.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return e[f]}}),Object.defineProperty(J,k,E)}:function(J,e,f,k){k===void 0&&(k=f),J[k]=e[f]}),Ct=this&&this.__exportStar||function(J,e){for(var f in J)f!=="default"&&!Object.prototype.hasOwnProperty.call(e,f)&&Wt(e,J,f)};define(ie[32],ne([1,0,93,116,873,132,384,269,872,385,268,874,875]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(f,e),Ct(k,e),Ct(E,e),Ct(L,e),Ct(y,e),Ct(p,e),Ct(w,e),Ct(v,e),Ct(_,e),Ct(a,e),Ct(s,e)}),define(ie[175],ne([1,0,6,164,73,15,2,32]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0,e.createEditorPagePosition=s,e.createCoordinatesRelativeToEditor=i;class w{constructor(o,g){this.x=o,this.y=g,this._pageCoordinatesBrand=void 0}toClientCoordinates(o){return new v(this.x-o.scrollX,this.y-o.scrollY)}}e.PageCoordinates=w;class v{constructor(o,g){this.clientX=o,this.clientY=g,this._clientCoordinatesBrand=void 0}toPageCoordinates(o){return new w(this.clientX+o.scrollX,this.clientY+o.scrollY)}}e.ClientCoordinates=v;class _{constructor(o,g,c,b){this.x=o,this.y=g,this.width=c,this.height=b,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=_;class a{constructor(o,g){this.x=o,this.y=g,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=a;function s(l){const o=f.getDomNodePagePosition(l);return new _(o.left,o.top,o.width,o.height)}function i(l,o,g){const c=o.width/l.offsetWidth,b=o.height/l.offsetHeight,C=(g.x-o.x)/c,S=(g.y-o.y)/b;return new a(C,S)}class t extends E.StandardMouseEvent{constructor(o,g,c){super(f.getWindow(c),o),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=g,this.pos=new w(this.posx,this.posy),this.editorPos=s(c),this.relativePos=i(c,this.editorPos,this.pos)}}e.EditorMouseEvent=t;class n{constructor(o){this._editorViewDomNode=o}_create(o){return new t(o,!1,this._editorViewDomNode)}onContextMenu(o,g){return f.addDisposableListener(o,"contextmenu",c=>{g(this._create(c))})}onMouseUp(o,g){return f.addDisposableListener(o,"mouseup",c=>{g(this._create(c))})}onMouseDown(o,g){return f.addDisposableListener(o,f.EventType.MOUSE_DOWN,c=>{g(this._create(c))})}onPointerDown(o,g){return f.addDisposableListener(o,f.EventType.POINTER_DOWN,c=>{g(this._create(c),c.pointerId)})}onMouseLeave(o,g){return f.addDisposableListener(o,f.EventType.MOUSE_LEAVE,c=>{g(this._create(c))})}onMouseMove(o,g){return f.addDisposableListener(o,"mousemove",c=>g(this._create(c)))}}e.EditorMouseEventFactory=n;class h{constructor(o){this._editorViewDomNode=o}_create(o){return new t(o,!1,this._editorViewDomNode)}onPointerUp(o,g){return f.addDisposableListener(o,"pointerup",c=>{g(this._create(c))})}onPointerDown(o,g){return f.addDisposableListener(o,f.EventType.POINTER_DOWN,c=>{g(this._create(c),c.pointerId)})}onPointerLeave(o,g){return f.addDisposableListener(o,f.EventType.POINTER_LEAVE,c=>{g(this._create(c))})}onPointerMove(o,g){return f.addDisposableListener(o,"pointermove",c=>g(this._create(c)))}}e.EditorPointerEventFactory=h;class m extends y.Disposable{constructor(o){super(),this._editorViewDomNode=o,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(o,g,c,b,C){this._keydownListener=f.addStandardDisposableListener(o.ownerDocument,"keydown",S=>{S.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,S.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(o,g,c,S=>{b(new t(S,!0,this._editorViewDomNode))},S=>{this._keydownListener.dispose(),C(S)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=m;class u{constructor(o){this._editor=o,this._instanceId=++u._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new L.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(o){const g=this.getOrCreateRule(o);return g.increaseRefCount(),{className:g.className,dispose:()=>{g.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(o){const g=this.computeUniqueKey(o);let c=this._rules.get(g);if(!c){const b=this._counter++;c=new d(g,`dyn-rule-${this._instanceId}-${b}`,f.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,o),this._rules.set(g,c)}return c}computeUniqueKey(o){return JSON.stringify(o)}garbageCollect(){for(const o of this._rules.values())o.hasReferences()||(this._rules.delete(o.key),o.dispose())}}e.DynamicCssRules=u,u._idPool=0;class d{constructor(o,g,c,b){this.key=o,this.className=g,this.properties=b,this._referenceCount=0,this._styleElementDisposables=new y.DisposableStore,this._styleElement=f.createStyleSheet(c,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(o,g){let c=`.${o} {`;for(const b in g){const C=g[b];let S;typeof C=="object"?S=(0,p.asCssVariable)(C.id):S=C;const D=r(b);c+=`
	${D}: ${S};`}return c+=`
}`,c}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function r(l){return l.replace(/(^[A-Z])/,([o])=>o.toLowerCase()).replace(/([A-Z])/g,([o])=>`-${o.toLowerCase()}`)}}),define(ie[876],ne([1,0,6,40,164,2,17,11,250,56,38,5,299,356,91,32,24,67,520,119,47,609,462]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const o=140,g=2;class c{constructor(M,R,F){const O=M.options,B=O.get(143),H=O.get(145),V=H.minimap,q=O.get(50),z=O.get(73);this.renderMinimap=V.renderMinimap,this.size=z.size,this.minimapHeightIsEditorHeight=V.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=O.get(105),this.paddingTop=O.get(84).top,this.paddingBottom=O.get(84).bottom,this.showSlider=z.showSlider,this.autohide=z.autohide,this.pixelRatio=B,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.lineHeight=O.get(67),this.minimapLeft=V.minimapLeft,this.minimapWidth=V.minimapWidth,this.minimapHeight=H.height,this.canvasInnerWidth=V.minimapCanvasInnerWidth,this.canvasInnerHeight=V.minimapCanvasInnerHeight,this.canvasOuterWidth=V.minimapCanvasOuterWidth,this.canvasOuterHeight=V.minimapCanvasOuterHeight,this.isSampling=V.minimapIsSampling,this.editorHeight=H.height,this.fontScale=V.minimapScale,this.minimapLineHeight=V.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=l.DEFAULT_FONT_FAMILY,this.sectionHeaderFontSize=z.sectionHeaderFontSize*B,this.sectionHeaderFontColor=c._getSectionHeaderColor(R,F.getColor(1)),this.charRenderer=(0,d.createSingleCallFunction)(()=>u.MinimapCharRendererFactory.create(this.fontScale,q.fontFamily)),this.defaultBackgroundColor=F.getColor(2),this.backgroundColor=c._getMinimapBackground(R,this.defaultBackgroundColor),this.foregroundAlpha=c._getMinimapForegroundOpacity(R)}static _getMinimapBackground(M,R){const F=M.getColor(n.minimapBackground);return F?new s.RGBA8(F.rgba.r,F.rgba.g,F.rgba.b,Math.round(255*F.rgba.a)):R}static _getMinimapForegroundOpacity(M){const R=M.getColor(n.minimapForegroundOpacity);return R?s.RGBA8._clamp(Math.round(255*R.rgba.a)):255}static _getSectionHeaderColor(M,R){const F=M.getColor(n.editorForeground);return F?new s.RGBA8(F.rgba.r,F.rgba.g,F.rgba.b,Math.round(255*F.rgba.a)):R}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.sectionHeaderFontSize===M.sectionHeaderFontSize&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class b{constructor(M,R,F,O,B,H,V,q,z){this.scrollTop=M,this.scrollHeight=R,this.sliderNeeded=F,this._computedSliderRatio=O,this.sliderTop=B,this.sliderHeight=H,this.topPaddingLineCount=V,this.startLineNumber=q,this.endLineNumber=z}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const R=Math.max(this.startLineNumber,M.startLineNumber),F=Math.min(this.endLineNumber,M.endLineNumber);return R>F?null:[R,F]}getYForLineNumber(M,R){return+(M-this.startLineNumber+this.topPaddingLineCount)*R}static create(M,R,F,O,B,H,V,q,z,U,Z){const re=M.pixelRatio,x=M.minimapLineHeight,Q=Math.floor(M.canvasInnerHeight/x),X=M.lineHeight;if(M.minimapHeightIsEditorHeight){let se=q*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(se+=Math.max(0,B-M.lineHeight-M.paddingBottom));const te=Math.max(1,Math.floor(B*B/se)),$=Math.max(0,M.minimapHeight-te),W=$/(U-B),j=z*W,K=$>0,G=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),ee=Math.floor(M.paddingTop/M.lineHeight);return new b(z,U,K,W,j,te,ee,1,Math.min(V,G))}let Y;if(H&&F!==V){const se=F-R+1;Y=Math.floor(se*x/re)}else{const se=B/X;Y=Math.floor(se*x/re)}const ae=Math.floor(M.paddingTop/X);let ce=Math.floor(M.paddingBottom/X);if(M.scrollBeyondLastLine){const se=B/X;ce=Math.max(ce,se-1)}let he;if(ce>0){const se=B/X;he=(ae+V+ce-se-1)*x/re}else he=Math.max(0,(ae+V)*x/re-Y);he=Math.min(M.minimapHeight-Y,he);const pe=he/(U-B),fe=z*pe;if(Q>=ae+V+ce){const se=he>0;return new b(z,U,se,pe,fe,Y,ae,1,V)}else{let se;R>1?se=R+ae:se=Math.max(1,z/X);let te,$=Math.max(1,Math.floor(se-fe*re/x));$<ae?(te=ae-$+1,$=1):(te=0,$=Math.max(1,$-ae)),Z&&Z.scrollHeight===U&&(Z.scrollTop>z&&($=Math.min($,Z.startLineNumber),te=Math.max(te,Z.topPaddingLineCount)),Z.scrollTop<z&&($=Math.max($,Z.startLineNumber),te=Math.min(te,Z.topPaddingLineCount)));const W=Math.min(V,$-te+Q-1),j=(z-O)/X;let K;return z>=M.paddingTop?K=(R-$+te+j)*x/re:K=z/M.paddingTop*(te+j)*x/re,new b(z,U,!0,pe,K,Y,te,$,W)}}}class C{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}C.INVALID=new C(-1);class S{constructor(M,R,F){this.renderedLayout=M,this._imageData=R,this._renderedLines=new w.RenderedLinesCollection(()=>C.INVALID),this._renderedLines._set(M.startLineNumber,F)}linesEquals(M){if(!this.scrollEquals(M))return!1;const F=this._renderedLines._get().lines;for(let O=0,B=F.length;O<B;O++)if(F[O].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,R){return this._renderedLines.onLinesChanged(M,R)}onLinesDeleted(M,R){this._renderedLines.onLinesDeleted(M,R)}onLinesInserted(M,R){this._renderedLines.onLinesInserted(M,R)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class D{constructor(M,R,F,O){this._backgroundFillData=D._createBackgroundFillData(R,F,O),this._buffers=[M.createImageData(R,F),M.createImageData(R,F)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,R,F){const O=F.r,B=F.g,H=F.b,V=F.a,q=new Uint8ClampedArray(M*R*4);let z=0;for(let U=0;U<R;U++)for(let Z=0;Z<M;Z++)q[z]=O,q[z+1]=B,q[z+2]=H,q[z+3]=V,z+=4;return q}}class I{static compute(M,R,F){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:O}=_.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:R,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),B=R/O,H=B/2;if(!F||F.minimapLines.length===0){const Y=[];if(Y[0]=1,O>1){for(let ae=0,ce=O-1;ae<ce;ae++)Y[ae]=Math.round(ae*B+H);Y[O-1]=R}return[new I(B,Y),[]]}const V=F.minimapLines,q=V.length,z=[];let U=0,Z=0,re=1;const x=10;let Q=[],X=null;for(let Y=0;Y<O;Y++){const ae=Math.max(re,Math.round(Y*B)),ce=Math.max(ae,Math.round((Y+1)*B));for(;U<q&&V[U]<ae;){if(Q.length<x){const pe=U+1+Z;X&&X.type==="deleted"&&X._oldIndex===U-1?X.deleteToLineNumber++:(X={type:"deleted",_oldIndex:U,deleteFromLineNumber:pe,deleteToLineNumber:pe},Q.push(X)),Z--}U++}let he;if(U<q&&V[U]<=ce)he=V[U],U++;else if(Y===0?he=1:Y+1===O?he=R:he=Math.round(Y*B+H),Q.length<x){const pe=U+1+Z;X&&X.type==="inserted"&&X._i===Y-1?X.insertToLineNumber++:(X={type:"inserted",_i:Y,insertFromLineNumber:pe,insertToLineNumber:pe},Q.push(X)),Z++}z[Y]=he,re=he}if(Q.length<x)for(;U<q;){const Y=U+1+Z;X&&X.type==="deleted"&&X._oldIndex===U-1?X.deleteToLineNumber++:(X={type:"deleted",_oldIndex:U,deleteFromLineNumber:Y,deleteToLineNumber:Y},Q.push(X)),Z--,U++}else Q=[{type:"flush"}];return[new I(B,z),Q]}constructor(M,R){this.samplingRatio=M,this.minimapLines=R}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,R){let F=this.modelLineToMinimapLine(M)-1;for(;F>0&&this.minimapLines[F-1]>=M;)F--;let O=this.modelLineToMinimapLine(R)-1;for(;O+1<this.minimapLines.length&&this.minimapLines[O+1]<=R;)O++;if(F===O){const B=this.minimapLines[F];if(B<M||B>R)return null}return[F+1,O+1]}decorationLineRangeToMinimapLineRange(M,R){let F=this.modelLineToMinimapLine(M),O=this.modelLineToMinimapLine(R);return M!==R&&O===F&&(O===this.minimapLines.length?F>1&&F--:O++),[F,O]}onLinesDeleted(M){const R=M.toLineNumber-M.fromLineNumber+1;let F=this.minimapLines.length,O=0;for(let B=this.minimapLines.length-1;B>=0&&!(this.minimapLines[B]<M.fromLineNumber);B--)this.minimapLines[B]<=M.toLineNumber?(this.minimapLines[B]=Math.max(1,M.fromLineNumber-1),F=Math.min(F,B),O=Math.max(O,B)):this.minimapLines[B]-=R;return[F,O]}onLinesInserted(M){const R=M.toLineNumber-M.fromLineNumber+1;for(let F=this.minimapLines.length-1;F>=0&&!(this.minimapLines[F]<M.fromLineNumber);F--)this.minimapLines[F]+=R}}class T extends v.ViewPart{constructor(M){super(M),this._sectionHeaderCache=new r.LRUCache(10,1.5),this.tokensColorTracker=i.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new c(this._context.configuration,this._context.theme,this.tokensColorTracker);const[R]=I.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=R,this._shouldCheckSampling=!1,this._actual=new N(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new c(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const R=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return R?this._actual.onLinesChanged(R[0],R[1]-R[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[R,F]=this._samplingState.onLinesDeleted(M);return R<=F&&this._actual.onLinesChanged(R+1,F-R+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const R=[];for(const F of M.ranges){const O=this._samplingState.modelLineRangeToMinimapLineRange(F.fromLineNumber,F.toLineNumber);O&&R.push({fromLineNumber:O[0],toLineNumber:O[1]})}return R.length?this._actual.onTokensChanged(R):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let R=M.visibleRange.startLineNumber,F=M.visibleRange.endLineNumber;this._samplingState&&(R=this._samplingState.modelLineToMinimapLine(R),F=this._samplingState.modelLineToMinimapLine(F));const O={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:R,viewportEndLineNumber:F,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(R),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(O)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[R,F]=I.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=R,M&&this._samplingState)for(const O of F)switch(O.type){case"deleted":this._actual.onLinesDeleted(O.deleteFromLineNumber,O.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(O.insertFromLineNumber,O.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,R,F){if(this._samplingState){const O=[];for(let B=0,H=R-M+1;B<H;B++)F[B]?O[B]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+B-1]):O[B]=null;return O}return this._context.viewModel.getMinimapLinesRenderingData(M,R,F).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[R,F]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new h.Selection(R,M.startColumn,F,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,R){const F=this._getMinimapDecorationsInViewport(M,R).filter(O=>{var B;return!(!((B=O.options.minimap)===null||B===void 0)&&B.sectionHeaderStyle)});if(this._samplingState){const O=[];for(const B of F){if(!B.options.minimap)continue;const H=B.range,V=this._samplingState.modelLineToMinimapLine(H.startLineNumber),q=this._samplingState.modelLineToMinimapLine(H.endLineNumber);O.push(new t.ViewModelDecoration(new a.Range(V,H.startColumn,q,H.endColumn),B.options))}return O}return F}getSectionHeaderDecorationsInViewport(M,R){const F=this.options.minimapLineHeight,B=this.options.sectionHeaderFontSize/F;return M=Math.floor(Math.max(1,M-B)),this._getMinimapDecorationsInViewport(M,R).filter(H=>{var V;return!!(!((V=H.options.minimap)===null||V===void 0)&&V.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(M,R){let F;if(this._samplingState){const O=this._samplingState.minimapLines[M-1],B=this._samplingState.minimapLines[R-1];F=new a.Range(O,1,B,this._context.viewModel.getLineMaxColumn(B))}else F=new a.Range(M,1,R,this._context.viewModel.getLineMaxColumn(R));return this._context.viewModel.getMinimapDecorationsInRange(F)}getSectionHeaderText(M,R){var F;const O=(F=M.options.minimap)===null||F===void 0?void 0:F.sectionHeaderText;if(!O)return null;const B=this._sectionHeaderCache.get(O);if(B)return B;const H=R(O);return this._sectionHeaderCache.set(O,H),H}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new a.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=T;class N extends L.Disposable{constructor(M,R){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=R,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(n.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),v.PartFingerprints.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=f.addStandardDisposableListener(this._domNode.domNode,f.EventType.POINTER_DOWN,F=>{if(F.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(F.button===0&&this._lastRenderData){const z=f.getDomNodePagePosition(this._slider.domNode),U=z.top+z.height/2;this._startSliderDragging(F,U,this._lastRenderData.renderedLayout)}return}const B=this._model.options.minimapLineHeight,H=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*F.offsetY;let q=Math.floor(H/B)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;q=Math.min(q,this._model.getLineCount()),this._model.revealLineNumber(q)}),this._sliderPointerMoveMonitor=new E.GlobalPointerMoveMonitor,this._sliderPointerDownListener=f.addStandardDisposableListener(this._slider.domNode,f.EventType.POINTER_DOWN,F=>{F.preventDefault(),F.stopPropagation(),F.button===0&&this._lastRenderData&&this._startSliderDragging(F,F.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=m.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=f.addDisposableListener(this._domNode.domNode,m.EventType.Start,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(F))},{passive:!1}),this._sliderTouchMoveListener=f.addDisposableListener(this._domNode.domNode,m.EventType.Change,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(F)},{passive:!1}),this._sliderTouchEndListener=f.addStandardDisposableListener(this._domNode.domNode,m.EventType.End,F=>{F.preventDefault(),F.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,R,F){if(!M.target||!(M.target instanceof Element))return;const O=M.pageX;this._slider.toggleClassName("active",!0);const B=(H,V)=>{const q=f.getDomNodePagePosition(this._domNode.domNode),z=Math.min(Math.abs(V-O),Math.abs(V-q.left),Math.abs(V-q.left-q.width));if(y.isWindows&&z>o){this._model.setScrollTop(F.scrollTop);return}const U=H-R;this._model.setScrollTop(F.getDesiredScrollTopFromDelta(U))};M.pageY!==R&&B(M.pageY,O),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,H=>B(H.pageY,H.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const R=this._domNode.domNode.getBoundingClientRect().top,F=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-R);this._model.setScrollTop(F)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new D(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,R){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,R):!1}onLinesDeleted(M,R){var F;return(F=this._lastRenderData)===null||F===void 0||F.onLinesDeleted(M,R),!0}onLinesInserted(M,R){var F;return(F=this._lastRenderData)===null||F===void 0||F.onLinesInserted(M,R),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(n.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const F=b.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(F.sliderNeeded?"block":"none"),this._slider.setTop(F.sliderTop),this._slider.setHeight(F.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(F.sliderHeight),this.renderDecorations(F),this._lastRenderData=this.renderLines(F)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const R=this._model.getSelections();R.sort(a.Range.compareRangesUsingStarts);const F=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);F.sort((re,x)=>(re.options.zIndex||0)-(x.options.zIndex||0));const{canvasInnerWidth:O,canvasInnerHeight:B}=this._model.options,H=this._model.options.minimapLineHeight,V=this._model.options.minimapCharWidth,q=this._model.getOptions().tabSize,z=this._decorationsCanvas.domNode.getContext("2d");z.clearRect(0,0,O,B);const U=new A(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(z,R,U,M,H),this._renderDecorationsLineHighlights(z,F,U,M,H);const Z=new A(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(z,R,Z,M,H,q,V,O),this._renderDecorationsHighlights(z,F,Z,M,H,q,V,O),this._renderSectionHeaders(M)}}_renderSelectionLineHighlights(M,R,F,O,B){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let H=0,V=0;for(const q of R){const z=O.intersectWithViewport(q);if(!z)continue;const[U,Z]=z;for(let Q=U;Q<=Z;Q++)F.set(Q,!0);const re=O.getYForLineNumber(U,B),x=O.getYForLineNumber(Z,B);V>=re||(V>H&&M.fillRect(_.MINIMAP_GUTTER_WIDTH,H,M.canvas.width,V-H),H=re),V=x}V>H&&M.fillRect(_.MINIMAP_GUTTER_WIDTH,H,M.canvas.width,V-H)}_renderDecorationsLineHighlights(M,R,F,O,B){const H=new Map;for(let V=R.length-1;V>=0;V--){const q=R[V],z=q.options.minimap;if(!z||z.position!==1)continue;const U=O.intersectWithViewport(q.range);if(!U)continue;const[Z,re]=U,x=z.getColor(this._theme.value);if(!x||x.isTransparent())continue;let Q=H.get(x.toString());Q||(Q=x.transparent(.5).toString(),H.set(x.toString(),Q)),M.fillStyle=Q;for(let X=Z;X<=re;X++){if(F.has(X))continue;F.set(X,!0);const Y=O.getYForLineNumber(Z,B);M.fillRect(_.MINIMAP_GUTTER_WIDTH,Y,M.canvas.width,B)}}}_renderSelectionsHighlights(M,R,F,O,B,H,V,q){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const z of R){const U=O.intersectWithViewport(z);if(!U)continue;const[Z,re]=U;for(let x=Z;x<=re;x++)this.renderDecorationOnLine(M,F,z,this._selectionColor,O,x,B,B,H,V,q)}}_renderDecorationsHighlights(M,R,F,O,B,H,V,q){for(const z of R){const U=z.options.minimap;if(!U)continue;const Z=O.intersectWithViewport(z.range);if(!Z)continue;const[re,x]=Z,Q=U.getColor(this._theme.value);if(!(!Q||Q.isTransparent()))for(let X=re;X<=x;X++)switch(U.position){case 1:this.renderDecorationOnLine(M,F,z.range,Q,O,X,B,B,H,V,q);continue;case 2:{const Y=O.getYForLineNumber(X,B);this.renderDecoration(M,Q,2,Y,g,B);continue}}}}renderDecorationOnLine(M,R,F,O,B,H,V,q,z,U,Z){const re=B.getYForLineNumber(H,q);if(re+V<0||re>this._model.options.canvasInnerHeight)return;const{startLineNumber:x,endLineNumber:Q}=F,X=x===H?F.startColumn:1,Y=Q===H?F.endColumn:this._model.getLineMaxColumn(H),ae=this.getXOffsetForPosition(R,H,X,z,U,Z),ce=this.getXOffsetForPosition(R,H,Y,z,U,Z);this.renderDecoration(M,O,ae,re,ce-ae,V)}getXOffsetForPosition(M,R,F,O,B,H){if(F===1)return _.MINIMAP_GUTTER_WIDTH;if((F-1)*B>=H)return H;let q=M.get(R);if(!q){const z=this._model.getLineContent(R);q=[_.MINIMAP_GUTTER_WIDTH];let U=_.MINIMAP_GUTTER_WIDTH;for(let Z=1;Z<z.length+1;Z++){const re=z.charCodeAt(Z-1),x=re===9?O*B:p.isFullWidthCharacter(re)?2*B:B,Q=U+x;if(Q>=H){q[Z]=H;break}q[Z]=Q,U=Q}M.set(R,q)}return F-1<q.length?q[F-1]:H}renderDecoration(M,R,F,O,B,H){M.fillStyle=R&&R.toString()||"",M.fillRect(F,O,B,H)}_renderSectionHeaders(M){var R;const F=this._model.options.minimapLineHeight,O=this._model.options.sectionHeaderFontSize,B=O*1.5,{canvasInnerWidth:H}=this._model.options,V=this._model.options.backgroundColor,q=`rgb(${V.r} ${V.g} ${V.b} / .7)`,z=this._model.options.sectionHeaderFontColor,U=`rgb(${z.r} ${z.g} ${z.b})`,Z=U,re=this._decorationsCanvas.domNode.getContext("2d");re.font=O+"px "+this._model.options.sectionHeaderFontFamily,re.strokeStyle=Z,re.lineWidth=.2;const x=this._model.getSectionHeaderDecorationsInViewport(M.startLineNumber,M.endLineNumber);x.sort((X,Y)=>X.range.startLineNumber-Y.range.startLineNumber);const Q=N._fitSectionHeader.bind(null,re,H-_.MINIMAP_GUTTER_WIDTH);for(const X of x){const Y=M.getYForLineNumber(X.range.startLineNumber,F)+O,ae=Y-O,ce=ae+2,he=this._model.getSectionHeaderText(X,Q);N._renderSectionLabel(re,he,((R=X.options.minimap)===null||R===void 0?void 0:R.sectionHeaderStyle)===2,q,U,H,ae,B,Y,ce)}}static _fitSectionHeader(M,R,F){if(!F)return F;const O="\u2026",B=M.measureText(F).width,H=M.measureText(O).width;if(B<=R||B<=H)return F;const V=F.length,q=B/F.length,z=Math.floor((R-H)/q)-1;let U=Math.ceil(z/2);for(;U>0&&/\s/.test(F[U-1]);)--U;return F.substring(0,U)+O+F.substring(V-(z-U))}static _renderSectionLabel(M,R,F,O,B,H,V,q,z,U){R&&(M.fillStyle=O,M.fillRect(0,V,H,q),M.fillStyle=B,M.fillText(R,_.MINIMAP_GUTTER_WIDTH,z)),F&&(M.beginPath(),M.moveTo(0,U),M.lineTo(H,U),M.closePath(),M.stroke())}renderLines(M){const R=M.startLineNumber,F=M.endLineNumber,O=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const de=this._lastRenderData._get();return new S(M,de.imageData,de.lines)}const B=this._getBuffer();if(!B)return null;const[H,V,q]=N._renderUntouchedLines(B,M.topPaddingLineCount,R,F,O,this._lastRenderData),z=this._model.getMinimapLinesRenderingData(R,F,q),U=this._model.getOptions().tabSize,Z=this._model.options.defaultBackgroundColor,re=this._model.options.backgroundColor,x=this._model.options.foregroundAlpha,Q=this._model.tokensColorTracker,X=Q.backgroundIsLight(),Y=this._model.options.renderMinimap,ae=this._model.options.charRenderer(),ce=this._model.options.fontScale,he=this._model.options.minimapCharWidth,fe=(Y===1?2:3)*ce,se=O>fe?Math.floor((O-fe)/2):0,te=re.a/255,$=new s.RGBA8(Math.round((re.r-Z.r)*te+Z.r),Math.round((re.g-Z.g)*te+Z.g),Math.round((re.b-Z.b)*te+Z.b),255);let W=M.topPaddingLineCount*O;const j=[];for(let de=0,le=F-R+1;de<le;de++)q[de]&&N._renderLine(B,$,re.a,X,Y,he,Q,x,ae,W,se,U,z[de],ce,O),j[de]=new C(W),W+=O;const K=H===-1?0:H,ee=(V===-1?B.height:V)-K;return this._canvas.domNode.getContext("2d").putImageData(B,0,0,0,K,B.width,ee),new S(M,B,j)}static _renderUntouchedLines(M,R,F,O,B,H){const V=[];if(!H){for(let W=0,j=O-F+1;W<j;W++)V[W]=!0;return[-1,-1,V]}const q=H._get(),z=q.imageData.data,U=q.rendLineNumberStart,Z=q.lines,re=Z.length,x=M.width,Q=M.data,X=(O-F+1)*B*x*4;let Y=-1,ae=-1,ce=-1,he=-1,pe=-1,fe=-1,se=R*B;for(let W=F;W<=O;W++){const j=W-F,K=W-U,G=K>=0&&K<re?Z[K].dy:-1;if(G===-1){V[j]=!0,se+=B;continue}const ee=G*x*4,oe=(G+B)*x*4,de=se*x*4,le=(se+B)*x*4;he===ee&&fe===de?(he=oe,fe=le):(ce!==-1&&(Q.set(z.subarray(ce,he),pe),Y===-1&&ce===0&&ce===pe&&(Y=he),ae===-1&&he===X&&ce===pe&&(ae=ce)),ce=ee,he=oe,pe=de,fe=le),V[j]=!1,se+=B}ce!==-1&&(Q.set(z.subarray(ce,he),pe),Y===-1&&ce===0&&ce===pe&&(Y=he),ae===-1&&he===X&&ce===pe&&(ae=ce));const te=Y===-1?-1:Y/(x*4),$=ae===-1?-1:ae/(x*4);return[te,$,V]}static _renderLine(M,R,F,O,B,H,V,q,z,U,Z,re,x,Q,X){const Y=x.content,ae=x.tokens,ce=M.width-H,he=X===1;let pe=_.MINIMAP_GUTTER_WIDTH,fe=0,se=0;for(let te=0,$=ae.getCount();te<$;te++){const W=ae.getEndOffset(te),j=ae.getForeground(te),K=V.getColor(j);for(;fe<W;fe++){if(pe>ce)return;const G=Y.charCodeAt(fe);if(G===9){const ee=re-(fe+se)%re;se+=ee-1,pe+=ee*H}else if(G===32)pe+=H;else{const ee=p.isFullWidthCharacter(G)?2:1;for(let oe=0;oe<ee;oe++)if(B===2?z.blockRenderChar(M,pe,U+Z,K,q,R,F,he):z.renderChar(M,pe,U+Z,G,K,q,R,F,Q,O,he),pe+=H,pe>ce)return}}}}}class A{constructor(M,R,F){this._startLineNumber=M,this._endLineNumber=R,this._defaultValue=F,this._values=[];for(let O=0,B=this._endLineNumber-this._startLineNumber+1;O<B;O++)this._values[O]=F}has(M){return this.get(M)!==this._defaultValue}set(M,R){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=R)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(ie[877],ne([1,0,662,32]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiDiffEditorBorder=e.multiDiffEditorBackground=e.multiDiffEditorHeaderBackground=void 0,e.multiDiffEditorHeaderBackground=(0,k.registerColor)("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},(0,f.localize)(0,null)),e.multiDiffEditorBackground=(0,k.registerColor)("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},(0,f.localize)(1,null)),e.multiDiffEditorBorder=(0,k.registerColor)("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},(0,f.localize)(2,null))}),define(ie[270],ne([1,0,750,32,502]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(32,null))}),define(ie[878],ne([1,0,26,127,686,88,187,270]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=w;const y=Object.freeze({kind:L.HierarchicalKind.Empty,title:(0,E.localize)(0,null)}),p=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,E.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,E.localize)(2,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,E.localize)(3,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,E.localize)(4,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,E.localize)(5,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,E.localize)(6,null),icon:f.Codicon.surroundWith},{kind:k.CodeActionKind.Source,title:(0,E.localize)(7,null),icon:f.Codicon.symbolFile},y]);function w(v,_,a){if(!_)return v.map(t=>{var n;return{kind:"action",item:t,group:y,disabled:!!t.action.disabled,label:t.action.disabled||t.action.title,canPreview:!!(!((n=t.action.edit)===null||n===void 0)&&n.edits.length)}});const s=p.map(t=>({group:t,actions:[]}));for(const t of v){const n=t.action.kind?new L.HierarchicalKind(t.action.kind):L.HierarchicalKind.None;for(const h of s)if(h.group.kind.contains(n)){h.actions.push(t);break}}const i=[];for(const t of s)if(t.actions.length){i.push({kind:"header",group:t.group});for(const n of t.actions){const h=t.group;i.push({kind:"action",item:n,group:n.action.isAI?{title:h.title,kind:h.kind,icon:f.Codicon.sparkle}:h,label:n.action.title,disabled:!!n.action.disabled,keybinding:a(n.action)})}}return i}}),define(ie[106],ne([1,0,32,34]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0,e.getListStyles=L;function E(y,p){const w={...p};for(const v in y){const _=y[v];w[v]=_!==void 0?(0,f.asCssVariable)(_):void 0}return w}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,f.asCssVariable)(f.keybindingLabelBackground),keybindingLabelForeground:(0,f.asCssVariable)(f.keybindingLabelForeground),keybindingLabelBorder:(0,f.asCssVariable)(f.keybindingLabelBorder),keybindingLabelBottomBorder:(0,f.asCssVariable)(f.keybindingLabelBottomBorder),keybindingLabelShadow:(0,f.asCssVariable)(f.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,f.asCssVariable)(f.buttonForeground),buttonSeparator:(0,f.asCssVariable)(f.buttonSeparator),buttonBackground:(0,f.asCssVariable)(f.buttonBackground),buttonHoverBackground:(0,f.asCssVariable)(f.buttonHoverBackground),buttonSecondaryForeground:(0,f.asCssVariable)(f.buttonSecondaryForeground),buttonSecondaryBackground:(0,f.asCssVariable)(f.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,f.asCssVariable)(f.buttonSecondaryHoverBackground),buttonBorder:(0,f.asCssVariable)(f.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,f.asCssVariable)(f.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,f.asCssVariable)(f.inputActiveOptionBorder),inputActiveOptionForeground:(0,f.asCssVariable)(f.inputActiveOptionForeground),inputActiveOptionBackground:(0,f.asCssVariable)(f.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,f.asCssVariable)(f.checkboxBackground),checkboxBorder:(0,f.asCssVariable)(f.checkboxBorder),checkboxForeground:(0,f.asCssVariable)(f.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,f.asCssVariable)(f.editorWidgetBackground),dialogForeground:(0,f.asCssVariable)(f.editorWidgetForeground),dialogShadow:(0,f.asCssVariable)(f.widgetShadow),dialogBorder:(0,f.asCssVariable)(f.contrastBorder),errorIconForeground:(0,f.asCssVariable)(f.problemsErrorIconForeground),warningIconForeground:(0,f.asCssVariable)(f.problemsWarningIconForeground),infoIconForeground:(0,f.asCssVariable)(f.problemsInfoIconForeground),textLinkForeground:(0,f.asCssVariable)(f.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,f.asCssVariable)(f.inputBackground),inputForeground:(0,f.asCssVariable)(f.inputForeground),inputBorder:(0,f.asCssVariable)(f.inputBorder),inputValidationInfoBorder:(0,f.asCssVariable)(f.inputValidationInfoBorder),inputValidationInfoBackground:(0,f.asCssVariable)(f.inputValidationInfoBackground),inputValidationInfoForeground:(0,f.asCssVariable)(f.inputValidationInfoForeground),inputValidationWarningBorder:(0,f.asCssVariable)(f.inputValidationWarningBorder),inputValidationWarningBackground:(0,f.asCssVariable)(f.inputValidationWarningBackground),inputValidationWarningForeground:(0,f.asCssVariable)(f.inputValidationWarningForeground),inputValidationErrorBorder:(0,f.asCssVariable)(f.inputValidationErrorBorder),inputValidationErrorBackground:(0,f.asCssVariable)(f.inputValidationErrorBackground),inputValidationErrorForeground:(0,f.asCssVariable)(f.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,f.asCssVariable)(f.listFilterWidgetBackground),listFilterWidgetOutline:(0,f.asCssVariable)(f.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,f.asCssVariable)(f.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,f.asCssVariable)(f.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,f.asCssVariable)(f.badgeBackground),badgeForeground:(0,f.asCssVariable)(f.badgeForeground),badgeBorder:(0,f.asCssVariable)(f.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,f.asCssVariable)(f.breadcrumbsBackground),breadcrumbsForeground:(0,f.asCssVariable)(f.breadcrumbsForeground),breadcrumbsHoverForeground:(0,f.asCssVariable)(f.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,f.asCssVariable)(f.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,f.asCssVariable)(f.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,f.asCssVariable)(f.listFocusBackground),listFocusForeground:(0,f.asCssVariable)(f.listFocusForeground),listFocusOutline:(0,f.asCssVariable)(f.listFocusOutline),listActiveSelectionBackground:(0,f.asCssVariable)(f.listActiveSelectionBackground),listActiveSelectionForeground:(0,f.asCssVariable)(f.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,f.asCssVariable)(f.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,f.asCssVariable)(f.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,f.asCssVariable)(f.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,f.asCssVariable)(f.listActiveSelectionForeground),listInactiveSelectionBackground:(0,f.asCssVariable)(f.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,f.asCssVariable)(f.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,f.asCssVariable)(f.listInactiveSelectionForeground),listInactiveFocusBackground:(0,f.asCssVariable)(f.listInactiveFocusBackground),listInactiveFocusOutline:(0,f.asCssVariable)(f.listInactiveFocusOutline),listHoverBackground:(0,f.asCssVariable)(f.listHoverBackground),listHoverForeground:(0,f.asCssVariable)(f.listHoverForeground),listDropOverBackground:(0,f.asCssVariable)(f.listDropOverBackground),listDropBetweenBackground:(0,f.asCssVariable)(f.listDropBetweenBackground),listSelectionOutline:(0,f.asCssVariable)(f.activeContrastBorder),listHoverOutline:(0,f.asCssVariable)(f.activeContrastBorder),treeIndentGuidesStroke:(0,f.asCssVariable)(f.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,f.asCssVariable)(f.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,f.asCssVariable)(f.tableColumnsBorder),tableOddRowsBackgroundColor:(0,f.asCssVariable)(f.tableOddRowsBackgroundColor)};function L(y){return E(y,e.defaultListStyles)}e.defaultSelectBoxStyles={selectBackground:(0,f.asCssVariable)(f.selectBackground),selectListBackground:(0,f.asCssVariable)(f.selectListBackground),selectForeground:(0,f.asCssVariable)(f.selectForeground),decoratorRightForeground:(0,f.asCssVariable)(f.pickerGroupForeground),selectBorder:(0,f.asCssVariable)(f.selectBorder),focusBorder:(0,f.asCssVariable)(f.focusBorder),listFocusBackground:(0,f.asCssVariable)(f.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,f.asCssVariable)(f.quickInputListFocusIconForeground),listFocusForeground:(0,f.asCssVariable)(f.quickInputListFocusForeground),listFocusOutline:(0,f.asCssVariableWithDefault)(f.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,f.asCssVariable)(f.listHoverBackground),listHoverForeground:(0,f.asCssVariable)(f.listHoverForeground),listHoverOutline:(0,f.asCssVariable)(f.activeContrastBorder),selectListBorder:(0,f.asCssVariable)(f.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},e.defaultMenuStyles={shadowColor:(0,f.asCssVariable)(f.widgetShadow),borderColor:(0,f.asCssVariable)(f.menuBorder),foregroundColor:(0,f.asCssVariable)(f.menuForeground),backgroundColor:(0,f.asCssVariable)(f.menuBackground),selectionForegroundColor:(0,f.asCssVariable)(f.menuSelectionForeground),selectionBackgroundColor:(0,f.asCssVariable)(f.menuSelectionBackground),selectionBorderColor:(0,f.asCssVariable)(f.menuSelectionBorder),separatorColor:(0,f.asCssVariable)(f.menuSeparatorBackground),scrollbarShadow:(0,f.asCssVariable)(f.scrollbarShadow),scrollbarSliderBackground:(0,f.asCssVariable)(f.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,f.asCssVariable)(f.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,f.asCssVariable)(f.scrollbarSliderActiveBackground)}}),define(ie[879],ne([1,0,6,337,340,247,76,2,50,74,711,8,35,172,106,169]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let m=class{constructor(S){this._resolverService=S}hasChildren(S){return S instanceof n.ReferencesModel||S instanceof n.FileReferences}getChildren(S){if(S instanceof n.ReferencesModel)return S.groups;if(S instanceof n.FileReferences)return S.resolve(this._resolverService).then(D=>D.children);throw new Error("bad tree")}};e.DataSource=m,e.DataSource=m=Ie([ue(0,v.ITextModelService)],m);class u{getHeight(){return 23}getTemplateId(S){return S instanceof n.FileReferences?o.id:c.id}}e.Delegate=u;let d=class{constructor(S){this._keybindingService=S}getKeyboardNavigationLabel(S){var D;if(S instanceof n.OneReference){const I=(D=S.parent.getPreview(S))===null||D===void 0?void 0:D.preview(S.range);if(I)return I.value}return(0,w.basename)(S.uri)}};e.StringRepresentationProvider=d,e.StringRepresentationProvider=d=Ie([ue(0,s.IKeybindingService)],d);class r{getId(S){return S instanceof n.OneReference?S.id:S.uri}}e.IdentityProvider=r;let l=class extends p.Disposable{constructor(S,D){super(),this._labelService=D;const I=document.createElement("div");I.classList.add("reference-file"),this.file=this._register(new L.IconLabel(I,{supportHighlights:!0})),this.badge=new k.CountBadge(f.append(I,f.$(".count")),{},t.defaultCountBadgeStyles),S.appendChild(I)}set(S,D){const I=(0,w.dirname)(S.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(S.uri),this._labelService.getUriLabel(I,{relative:!0}),{title:this._labelService.getUriLabel(S.uri),matches:D});const T=S.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,_.localize)(0,null,T)):this.badge.setTitleFormat((0,_.localize)(1,null,T))}};l=Ie([ue(1,i.ILabelService)],l);let o=h=class{constructor(S){this._instantiationService=S,this.templateId=h.id}renderTemplate(S){return this._instantiationService.createInstance(l,S)}renderElement(S,D,I){I.set(S.element,(0,y.createMatches)(S.filterData))}disposeTemplate(S){S.dispose()}};e.FileReferencesRenderer=o,o.id="FileReferencesRenderer",e.FileReferencesRenderer=o=h=Ie([ue(0,a.IInstantiationService)],o);class g extends p.Disposable{constructor(S){super(),this.label=this._register(new E.HighlightedLabel(S))}set(S,D){var I;const T=(I=S.parent.getPreview(S))===null||I===void 0?void 0:I.preview(S.range);if(!T||!T.value)this.label.set(`${(0,w.basename)(S.uri)}:${S.range.startLineNumber+1}:${S.range.startColumn+1}`);else{const{value:N,highlight:A}=T;D&&!y.FuzzyScore.isDefault(D)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(N,(0,y.createMatches)(D))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(N,[A]))}}}class c{constructor(){this.templateId=c.id}renderTemplate(S){return new g(S)}renderElement(S,D,I){I.set(S.element,S.filterData)}disposeTemplate(S){S.dispose()}}e.OneReferenceRenderer=c,c.id="OneReferenceRenderer";class b{getWidgetAriaLabel(){return(0,_.localize)(2,null)}getAriaLabel(S){return S.ariaMessage}}e.AccessibilityProvider=b}),define(ie[880],ne([1,0,6,198,109,19,26,2,17,31,760,58,35,106,32,294]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class n{get templateId(){return"header"}renderTemplate(g){g.classList.add("group-header");const c=document.createElement("span");return g.append(c),{container:g,text:c}}renderElement(g,c,b){var C,S;b.text.textContent=(S=(C=g.group)===null||C===void 0?void 0:C.title)!==null&&S!==void 0?S:""}disposeTemplate(g){}}let h=class{get templateId(){return"action"}constructor(g,c){this._supportsPreview=g,this._keybindingService=c}renderTemplate(g){g.classList.add(this.templateId);const c=document.createElement("div");c.className="icon",g.append(c);const b=document.createElement("span");b.className="title",g.append(b);const C=new k.KeybindingLabel(g,w.OS);return{container:g,icon:c,text:b,keybinding:C}}renderElement(g,c,b){var C,S,D;if(!((C=g.group)===null||C===void 0)&&C.icon?(b.icon.className=v.ThemeIcon.asClassName(g.group.icon),g.group.icon.color&&(b.icon.style.color=(0,t.asCssVariable)(g.group.icon.color.id))):(b.icon.className=v.ThemeIcon.asClassName(y.Codicon.lightBulb),b.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!g.item||!g.label)return;b.text.textContent=l(g.label),b.keybinding.set(g.keybinding),f.setVisibility(!!g.keybinding,b.keybinding.element);const I=(S=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||S===void 0?void 0:S.getLabel(),T=(D=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||D===void 0?void 0:D.getLabel();b.container.classList.toggle("option-disabled",g.disabled),g.disabled?b.container.title=g.label:I&&T?this._supportsPreview&&g.canPreview?b.container.title=(0,_.localize)(0,null,I,T):b.container.title=(0,_.localize)(1,null,I):b.container.title=""}disposeTemplate(g){g.keybinding.dispose()}};h=Ie([ue(1,s.IKeybindingService)],h);class m extends UIEvent{constructor(){super("acceptSelectedAction")}}class u extends UIEvent{constructor(){super("previewSelectedAction")}}function d(o){if(o.kind==="action")return o.label}let r=class extends p.Disposable{constructor(g,c,b,C,S,D){super(),this._delegate=C,this._contextViewService=S,this._keybindingService=D,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new L.CancellationTokenSource),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const I={getHeight:T=>T.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:T=>T.kind};this._list=this._register(new E.List(g,this.domNode,I,[new h(c,this._keybindingService),new n],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:d},accessibilityProvider:{getAriaLabel:T=>{if(T.kind==="action"){let N=T.label?l(T?.label):"";return T.disabled&&(N=(0,_.localize)(2,null,N,T.disabled)),N}return null},getWidgetAriaLabel:()=>(0,_.localize)(3,null),getRole:T=>T.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(i.defaultListStyles),this._register(this._list.onMouseClick(T=>this.onListClick(T))),this._register(this._list.onMouseOver(T=>this.onListHover(T))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(T=>this.onListSelection(T))),this._allMenuItems=b,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(g){return!g.disabled&&g.kind==="action"}hide(g){this._delegate.onHide(g),this.cts.cancel(),this._contextViewService.hideContextView()}layout(g){const c=this._allMenuItems.filter(T=>T.kind==="header").length,C=this._allMenuItems.length*this._actionLineHeight+c*this._headerLineHeight-c*this._actionLineHeight;this._list.layout(C);let S=g;if(this._allMenuItems.length>=50)S=380;else{const T=this._allMenuItems.map((N,A)=>{const P=this.domNode.ownerDocument.getElementById(this._list.getElementID(A));if(P){P.style.width="auto";const M=P.getBoundingClientRect().width;return P.style.width="",M}return 0});S=Math.max(...T,g)}const I=Math.min(C,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(I,S),this.domNode.style.height=`${I}px`,this._list.domFocus(),S}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(g){const c=this._list.getFocus();if(c.length===0)return;const b=c[0],C=this._list.element(b);if(!this.focusCondition(C))return;const S=g?new u:new m;this._list.setSelection([b],S)}onListSelection(g){if(!g.elements.length)return;const c=g.elements[0];c.item&&this.focusCondition(c)?this._delegate.onSelect(c.item,g.browserEvent instanceof u):this._list.setSelection([])}onFocus(){var g,c;const b=this._list.getFocus();if(b.length===0)return;const C=b[0],S=this._list.element(C);(c=(g=this._delegate).onFocus)===null||c===void 0||c.call(g,S.item)}async onListHover(g){const c=g.element;if(c&&c.item&&this.focusCondition(c)){if(this._delegate.onHover&&!c.disabled&&c.kind==="action"){const b=await this._delegate.onHover(c.item,this.cts.token);c.canPreview=b?b.canPreview:void 0}g.index&&this._list.splice(g.index,1,[c])}this._list.setFocus(typeof g.index=="number"?[g.index]:[])}onListClick(g){g.element&&this.focusCondition(g.element)&&this._list.setFocus([])}};e.ActionList=r,e.ActionList=r=Ie([ue(4,a.IContextViewService),ue(5,s.IKeybindingService)],r);function l(o){return o.replace(/\r\n|\r|\n/g," ")}}),define(ie[881],ne([1,0,6,81,2,761,880,28,14,58,46,8,32,294]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,s.registerColor)("actionBar.toggledBackground",{dark:s.inputActiveOptionBackground,light:s.inputActiveOptionBackground,hcDark:s.inputActiveOptionBackground,hcLight:s.inputActiveOptionBackground},(0,L.localize)(0,null));const i={Visible:new w.RawContextKey("codeActionMenuVisible",!1,(0,L.localize)(1,null))};e.IActionWidgetService=(0,a.createDecorator)("actionWidgetService");let t=class extends E.Disposable{get isVisible(){return i.Visible.getValue(this._contextKeyService)||!1}constructor(m,u,d){super(),this._contextViewService=m,this._contextKeyService=u,this._instantiationService=d,this._list=this._register(new E.MutableDisposable)}show(m,u,d,r,l,o,g){const c=i.Visible.bindTo(this._contextKeyService),b=this._instantiationService.createInstance(y.ActionList,m,u,d,r);this._contextViewService.showContextView({getAnchor:()=>l,render:C=>(c.set(!0),this._renderWidget(C,b,g??[])),onHide:C=>{c.reset(),this._onWidgetClosed(C)}},o,!1)}acceptSelected(m){var u;(u=this._list.value)===null||u===void 0||u.acceptSelected(m)}focusPrevious(){var m,u;(u=(m=this._list)===null||m===void 0?void 0:m.value)===null||u===void 0||u.focusPrevious()}focusNext(){var m,u;(u=(m=this._list)===null||m===void 0?void 0:m.value)===null||u===void 0||u.focusNext()}hide(){var m;(m=this._list.value)===null||m===void 0||m.hide(),this._list.clear()}_renderWidget(m,u,d){var r;const l=document.createElement("div");if(l.classList.add("action-widget"),m.appendChild(l),this._list.value=u,this._list.value)l.appendChild(this._list.value.domNode);else throw new Error("List has no value");const o=new E.DisposableStore,g=document.createElement("div"),c=m.appendChild(g);c.classList.add("context-view-block"),o.add(f.addDisposableListener(c,f.EventType.MOUSE_DOWN,T=>T.stopPropagation()));const b=document.createElement("div"),C=m.appendChild(b);C.classList.add("context-view-pointerBlock"),o.add(f.addDisposableListener(C,f.EventType.POINTER_MOVE,()=>C.remove())),o.add(f.addDisposableListener(C,f.EventType.MOUSE_DOWN,()=>C.remove()));let S=0;if(d.length){const T=this._createActionBar(".action-widget-action-bar",d);T&&(l.appendChild(T.getContainer().parentElement),o.add(T),S=T.getContainer().offsetWidth)}const D=(r=this._list.value)===null||r===void 0?void 0:r.layout(S);l.style.width=`${D}px`;const I=o.add(f.trackFocus(m));return o.add(I.onDidBlur(()=>this.hide())),o}_createActionBar(m,u){if(!u.length)return;const d=f.$(m),r=new k.ActionBar(d);return r.push(u,{icon:!1,label:!0}),r}_onWidgetClosed(m){var u;(u=this._list.value)===null||u===void 0||u.hide(m)}};t=Ie([ue(0,v.IContextViewService),ue(1,w.IContextKeyService),ue(2,a.IInstantiationService)],t),(0,_.registerSingleton)(e.IActionWidgetService,t,1);const n=1100;(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"hideCodeActionWidget",title:(0,L.localize2)(2,"Hide action widget"),precondition:i.Visible,keybinding:{weight:n,primary:9,secondary:[1033]}})}run(h){h.get(e.IActionWidgetService).hide()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"selectPrevCodeAction",title:(0,L.localize2)(3,"Select previous action"),precondition:i.Visible,keybinding:{weight:n,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(h){const m=h.get(e.IActionWidgetService);m instanceof t&&m.focusPrevious()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"selectNextCodeAction",title:(0,L.localize2)(4,"Select next action"),precondition:i.Visible,keybinding:{weight:n,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(h){const m=h.get(e.IActionWidgetService);m instanceof t&&m.focusNext()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:y.acceptSelectedActionCommand,title:(0,L.localize2)(5,"Accept selected action"),precondition:i.Visible,keybinding:{weight:n,primary:3,secondary:[2137]}})}run(h){const m=h.get(e.IActionWidgetService);m instanceof t&&m.acceptSelected()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:y.previewSelectedActionCommand,title:(0,L.localize2)(6,"Preview selected action"),precondition:i.Visible,keybinding:{weight:n,primary:2051}})}run(h){const m=h.get(e.IActionWidgetService);m instanceof t&&m.acceptSelected(!0)}})}),define(ie[882],ne([1,0,6,73,624,41,12,2,106]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class v{constructor(a,s,i,t){this.contextViewService=a,this.telemetryService=s,this.notificationService=i,this.keybindingService=t,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(a){this.options=a}showContextMenu(a){const s=a.getActions();if(!s.length)return;this.focusToReturn=(0,f.getActiveElement)();let i;const t=a.domForShadowRoot instanceof HTMLElement?a.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>a.getAnchor(),canRelayout:!1,anchorAlignment:a.anchorAlignment,anchorAxisAlignment:a.anchorAxisAlignment,render:n=>{var h;this.lastContainer=n;const m=a.getMenuClassName?a.getMenuClassName():"";m&&(n.className+=" "+m),this.options.blockMouse&&(this.block=n.appendChild((0,f.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(h=this.blockDisposable)===null||h===void 0||h.dispose(),this.blockDisposable=(0,f.addDisposableListener)(this.block,f.EventType.MOUSE_DOWN,l=>l.stopPropagation()));const u=new p.DisposableStore,d=a.actionRunner||new L.ActionRunner;d.onWillRun(l=>this.onActionRun(l,!a.skipTelemetry),this,u),d.onDidRun(this.onDidActionRun,this,u),i=new E.Menu(n,s,{actionViewItemProvider:a.getActionViewItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:d,getKeyBinding:a.getKeyBinding?a.getKeyBinding:l=>this.keybindingService.lookupKeybinding(l.id)},w.defaultMenuStyles),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,u),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,u);const r=(0,f.getWindow)(n);return u.add((0,f.addDisposableListener)(r,f.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),u.add((0,f.addDisposableListener)(r,f.EventType.MOUSE_DOWN,l=>{if(l.defaultPrevented)return;const o=new k.StandardMouseEvent(r,l);let g=o.target;if(!o.rightButton){for(;g;){if(g===n)return;g=g.parentElement}this.contextViewService.hideContextView(!0)}})),(0,p.combinedDisposable)(u,i)},focus:()=>{i?.focus(!!a.autoSelectFirstItem)},onHide:n=>{var h,m,u;(h=a.onHide)===null||h===void 0||h.call(a,!!n),this.block&&(this.block.remove(),this.block=null),(m=this.blockDisposable)===null||m===void 0||m.dispose(),this.blockDisposable=null,this.lastContainer&&((0,f.getActiveElement)()===this.lastContainer||(0,f.isAncestor)((0,f.getActiveElement)(),this.lastContainer))&&((u=this.focusToReturn)===null||u===void 0||u.focus()),this.lastContainer=null}},t,!!t)}onActionRun(a,s){s&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(a){a.error&&!(0,y.isCancellationError)(a.error)&&this.notificationService.error(a.error)}}e.ContextMenuHandler=v}),define(ie[206],ne([1,0,6,621,109,625,167,629,628,343,7,2,772,25,105,14,201,58,8,35,39,106]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.WorkbenchTreeStickyScrollFocused=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,u.createDecorator)("listService");class o{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new a.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(le){var ge,ve;le!==this._lastFocusedWidget&&((ge=this._lastFocusedWidget)===null||ge===void 0||ge.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=le,(ve=this._lastFocusedWidget)===null||ve===void 0||ve.getHTMLElement().classList.add("last-focused"))}register(le,ge){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new E.DefaultStyleController((0,f.createStyleSheet)(),"").style(l.defaultListStyles)),this.lists.some(Ce=>Ce.widget===le))throw new Error("Cannot register the same widget multiple times");const ve={widget:le,extraContextKeys:ge};return this.lists.push(ve),(0,f.isActiveElement)(le.getHTMLElement())&&this.setLastFocusedList(le),(0,a.combinedDisposable)(le.onDidFocus(()=>this.setLastFocusedList(le)),(0,a.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ve),1)),le.onDidDispose(()=>{this.lists=this.lists.filter(Ce=>Ce!==ve),this._lastFocusedWidget===le&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=o,e.RawWorkbenchListScrollAtBoundaryContextKey=new n.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=n.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=n.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new n.RawContextKey("listFocus",!0),e.WorkbenchTreeStickyScrollFocused=new n.RawContextKey("treestickyScrollFocused",!1),e.WorkbenchListSupportsMultiSelectContextKey=new n.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=n.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,n.ContextKeyExpr.not(h.InputFocusedContextKey),e.WorkbenchTreeStickyScrollFocused.negate()),e.WorkbenchListHasSelectionOrFocus=new n.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new n.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new n.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new n.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new n.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new n.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new n.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new n.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new n.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new n.RawContextKey("treeFindOpen",!1);const g="listTypeNavigationMode",c="listAutomaticKeyboardNavigation";function b(de,le){const ge=de.createScoped(le.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(ge),ge}function C(de,le){const ge=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(de),ve=()=>{const Ce=le.scrollTop===0,Se=le.scrollHeight-le.renderHeight-le.scrollTop<1;Ce&&Se?ge.set("both"):Ce?ge.set("top"):Se?ge.set("bottom"):ge.set("none")};return ve(),le.onDidScroll(ve)}const S="workbench.list.multiSelectModifier",D="workbench.list.openMode",I="workbench.list.horizontalScrolling",T="workbench.list.defaultFindMode",N="workbench.list.typeNavigationMode",A="workbench.list.keyboardNavigation",P="workbench.list.scrollByPage",M="workbench.list.defaultFindMatchType",R="workbench.tree.indent",F="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",B="workbench.list.mouseWheelScrollSensitivity",H="workbench.list.fastScrollSensitivity",V="workbench.tree.expandMode",q="workbench.tree.enableStickyScroll",z="workbench.tree.stickyScrollMaxItemCount";function U(de){return de.getValue(S)==="alt"}class Z extends a.Disposable{constructor(le){super(),this.configurationService=le,this.useAltAsMultipleSelectionModifier=U(le),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(le=>{le.affectsConfiguration(S)&&(this.useAltAsMultipleSelectionModifier=U(this.configurationService))}))}isSelectionSingleChangeEvent(le){return this.useAltAsMultipleSelectionModifier?le.browserEvent.altKey:(0,E.isSelectionSingleChangeEvent)(le)}isSelectionRangeChangeEvent(le){return(0,E.isSelectionRangeChangeEvent)(le)}}function re(de,le){var ge;const ve=de.get(i.IConfigurationService),Ce=de.get(d.IKeybindingService),Se=new a.DisposableStore;return[{...le,keyboardNavigationDelegate:{mightProducePrintableCharacter(ke){return Ce.mightProducePrintableCharacter(ke)}},smoothScrolling:!!ve.getValue(O),mouseWheelScrollSensitivity:ve.getValue(B),fastScrollSensitivity:ve.getValue(H),multipleSelectionController:(ge=le.multipleSelectionController)!==null&&ge!==void 0?ge:Se.add(new Z(ve)),keyboardNavigationEventFilter:pe(Ce),scrollByPage:!!ve.getValue(P)},Se]}let x=class extends E.List{constructor(le,ge,ve,Ce,Se,be,ke,Ee,Ae){const Pe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!Ee.getValue(I),[He,Be]=Ae.invokeFunction(re,Se);super(le,ge,ve,Ce,{keyboardSupport:!1,...He,horizontalScrolling:Pe}),this.disposables.add(Be),this.contextKeyService=b(be,this),this.disposables.add(C(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Se.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(ke.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ne=this.getSelection(),me=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ne.length>0||me.length>0),this.listMultiSelection.set(Ne.length>1),this.listDoubleSelection.set(Ne.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ne=this.getSelection(),me=this.getFocus();this.listHasSelectionOrFocus.set(Ne.length>0||me.length>0)})),this.disposables.add(Ee.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(Ee));let me={};if(Ne.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const _e=!!Ee.getValue(I);me={...me,horizontalScrolling:_e}}if(Ne.affectsConfiguration(P)){const _e=!!Ee.getValue(P);me={...me,scrollByPage:_e}}if(Ne.affectsConfiguration(O)){const _e=!!Ee.getValue(O);me={...me,smoothScrolling:_e}}if(Ne.affectsConfiguration(B)){const _e=Ee.getValue(B);me={...me,mouseWheelScrollSensitivity:_e}}if(Ne.affectsConfiguration(H)){const _e=Ee.getValue(H);me={...me,fastScrollSensitivity:_e}}Object.keys(me).length>0&&this.updateOptions(me)})),this.navigator=new ae(this,{configurationService:Ee,...Se}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,l.getListStyles)(le):l.defaultListStyles)}};e.WorkbenchList=x,e.WorkbenchList=x=Ie([ue(5,n.IContextKeyService),ue(6,e.IListService),ue(7,i.IConfigurationService),ue(8,u.IInstantiationService)],x);let Q=class extends k.PagedList{constructor(le,ge,ve,Ce,Se,be,ke,Ee,Ae){const Pe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!Ee.getValue(I),[He,Be]=Ae.invokeFunction(re,Se);super(le,ge,ve,Ce,{keyboardSupport:!1,...He,horizontalScrolling:Pe}),this.disposables=new a.DisposableStore,this.disposables.add(Be),this.contextKeyService=b(be,this),this.disposables.add(C(this.contextKeyService,this.widget)),this.horizontalScrolling=Se.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this._useAltAsMultipleSelectionModifier=U(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(ke.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(Ee.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(Ee));let me={};if(Ne.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const _e=!!Ee.getValue(I);me={...me,horizontalScrolling:_e}}if(Ne.affectsConfiguration(P)){const _e=!!Ee.getValue(P);me={...me,scrollByPage:_e}}if(Ne.affectsConfiguration(O)){const _e=!!Ee.getValue(O);me={...me,smoothScrolling:_e}}if(Ne.affectsConfiguration(B)){const _e=Ee.getValue(B);me={...me,mouseWheelScrollSensitivity:_e}}if(Ne.affectsConfiguration(H)){const _e=Ee.getValue(H);me={...me,fastScrollSensitivity:_e}}Object.keys(me).length>0&&this.updateOptions(me)})),this.navigator=new ae(this,{configurationService:Ee,...Se}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,l.getListStyles)(le):l.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=Q,e.WorkbenchPagedList=Q=Ie([ue(5,n.IContextKeyService),ue(6,e.IListService),ue(7,i.IConfigurationService),ue(8,u.IInstantiationService)],Q);let X=class extends L.Table{constructor(le,ge,ve,Ce,Se,be,ke,Ee,Ae,Pe){const He=typeof be.horizontalScrolling<"u"?be.horizontalScrolling:!!Ae.getValue(I),[Be,De]=Pe.invokeFunction(re,be);super(le,ge,ve,Ce,Se,{keyboardSupport:!1,...Be,horizontalScrolling:He}),this.disposables.add(De),this.contextKeyService=b(ke,this),this.disposables.add(C(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(be.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!be.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=be.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(Ae),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(be.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const me=this.getSelection(),_e=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(me.length>0||_e.length>0),this.listMultiSelection.set(me.length>1),this.listDoubleSelection.set(me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const me=this.getSelection(),_e=this.getFocus();this.listHasSelectionOrFocus.set(me.length>0||_e.length>0)})),this.disposables.add(Ae.onDidChangeConfiguration(me=>{me.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(Ae));let _e={};if(me.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Re=!!Ae.getValue(I);_e={..._e,horizontalScrolling:Re}}if(me.affectsConfiguration(P)){const Re=!!Ae.getValue(P);_e={..._e,scrollByPage:Re}}if(me.affectsConfiguration(O)){const Re=!!Ae.getValue(O);_e={..._e,smoothScrolling:Re}}if(me.affectsConfiguration(B)){const Re=Ae.getValue(B);_e={..._e,mouseWheelScrollSensitivity:Re}}if(me.affectsConfiguration(H)){const Re=Ae.getValue(H);_e={..._e,fastScrollSensitivity:Re}}Object.keys(_e).length>0&&this.updateOptions(_e)})),this.navigator=new ce(this,{configurationService:Ae,...be}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,l.getListStyles)(le):l.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=X,e.WorkbenchTable=X=Ie([ue(6,n.IContextKeyService),ue(7,e.IListService),ue(8,i.IConfigurationService),ue(9,u.IInstantiationService)],X);class Y extends a.Disposable{constructor(le,ge){var ve;super(),this.widget=le,this._onDidOpen=this._register(new _.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(_.Event.filter(this.widget.onDidChangeSelection,Ce=>(0,f.isKeyboardEvent)(Ce.browserEvent))(Ce=>this.onSelectionFromKeyboard(Ce))),this._register(this.widget.onPointer(Ce=>this.onPointer(Ce.element,Ce.browserEvent))),this._register(this.widget.onMouseDblClick(Ce=>this.onMouseDblClick(Ce.element,Ce.browserEvent))),typeof ge?.openOnSingleClick!="boolean"&&ge?.configurationService?(this.openOnSingleClick=ge?.configurationService.getValue(D)!=="doubleClick",this._register(ge?.configurationService.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(D)&&(this.openOnSingleClick=ge?.configurationService.getValue(D)!=="doubleClick")}))):this.openOnSingleClick=(ve=ge?.openOnSingleClick)!==null&&ve!==void 0?ve:!0}onSelectionFromKeyboard(le){if(le.elements.length!==1)return;const ge=le.browserEvent,ve=typeof ge.preserveFocus=="boolean"?ge.preserveFocus:!0,Ce=typeof ge.pinned=="boolean"?ge.pinned:!ve;this._open(this.getSelectedElement(),ve,Ce,!1,le.browserEvent)}onPointer(le,ge){if(!this.openOnSingleClick||ge.detail===2)return;const Ce=ge.button===1,Se=!0,be=Ce,ke=ge.ctrlKey||ge.metaKey||ge.altKey;this._open(le,Se,be,ke,ge)}onMouseDblClick(le,ge){if(!ge)return;const ve=ge.target;if(ve.classList.contains("monaco-tl-twistie")||ve.classList.contains("monaco-icon-label")&&ve.classList.contains("folder-icon")&&ge.offsetX<16)return;const Se=!1,be=!0,ke=ge.ctrlKey||ge.metaKey||ge.altKey;this._open(le,Se,be,ke,ge)}_open(le,ge,ve,Ce,Se){le&&this._onDidOpen.fire({editorOptions:{preserveFocus:ge,pinned:ve,revealIfVisible:!0},sideBySide:Ce,element:le,browserEvent:Se})}}class ae extends Y{constructor(le,ge){super(le,ge),this.widget=le}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ce extends Y{constructor(le,ge){super(le,ge)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class he extends Y{constructor(le,ge){super(le,ge)}getSelectedElement(){var le;return(le=this.widget.getSelection()[0])!==null&&le!==void 0?le:void 0}}function pe(de){let le=!1;return ge=>{if(ge.toKeyCodeChord().isModifierKey())return!1;if(le)return le=!1,!1;const ve=de.softDispatch(ge,ge.target);return ve.kind===1?(le=!0,!1):(le=!1,ve.kind===0)}}let fe=class extends v.ObjectTree{constructor(le,ge,ve,Ce,Se,be,ke,Ee,Ae){const{options:Pe,getTypeNavigationMode:He,disposable:Be}=be.invokeFunction(G,Se);super(le,ge,ve,Ce,Pe),this.disposables.add(Be),this.internals=new ee(this,Se,He,Se.overrideStyles,ke,Ee,Ae),this.disposables.add(this.internals)}updateOptions(le){super.updateOptions(le),this.internals.updateOptions(le)}};e.WorkbenchObjectTree=fe,e.WorkbenchObjectTree=fe=Ie([ue(5,u.IInstantiationService),ue(6,n.IContextKeyService),ue(7,e.IListService),ue(8,i.IConfigurationService)],fe);let se=class extends v.CompressibleObjectTree{constructor(le,ge,ve,Ce,Se,be,ke,Ee,Ae){const{options:Pe,getTypeNavigationMode:He,disposable:Be}=be.invokeFunction(G,Se);super(le,ge,ve,Ce,Pe),this.disposables.add(Be),this.internals=new ee(this,Se,He,Se.overrideStyles,ke,Ee,Ae),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchCompressibleObjectTree=se,e.WorkbenchCompressibleObjectTree=se=Ie([ue(5,u.IInstantiationService),ue(6,n.IContextKeyService),ue(7,e.IListService),ue(8,i.IConfigurationService)],se);let te=class extends w.DataTree{constructor(le,ge,ve,Ce,Se,be,ke,Ee,Ae,Pe){const{options:He,getTypeNavigationMode:Be,disposable:De}=ke.invokeFunction(G,be);super(le,ge,ve,Ce,Se,He),this.disposables.add(De),this.internals=new ee(this,be,Be,be.overrideStyles,Ee,Ae,Pe),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles!==void 0&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchDataTree=te,e.WorkbenchDataTree=te=Ie([ue(6,u.IInstantiationService),ue(7,n.IContextKeyService),ue(8,e.IListService),ue(9,i.IConfigurationService)],te);let $=class extends p.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(le,ge,ve,Ce,Se,be,ke,Ee,Ae,Pe){const{options:He,getTypeNavigationMode:Be,disposable:De}=ke.invokeFunction(G,be);super(le,ge,ve,Ce,Se,He),this.disposables.add(De),this.internals=new ee(this,be,Be,be.overrideStyles,Ee,Ae,Pe),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchAsyncDataTree=$,e.WorkbenchAsyncDataTree=$=Ie([ue(6,u.IInstantiationService),ue(7,n.IContextKeyService),ue(8,e.IListService),ue(9,i.IConfigurationService)],$);let W=class extends p.CompressibleAsyncDataTree{constructor(le,ge,ve,Ce,Se,be,ke,Ee,Ae,Pe,He){const{options:Be,getTypeNavigationMode:De,disposable:Ne}=Ee.invokeFunction(G,ke);super(le,ge,ve,Ce,Se,be,Be),this.disposables.add(Ne),this.internals=new ee(this,ke,De,ke.overrideStyles,Ae,Pe,He),this.disposables.add(this.internals)}updateOptions(le){super.updateOptions(le),this.internals.updateOptions(le)}};e.WorkbenchCompressibleAsyncDataTree=W,e.WorkbenchCompressibleAsyncDataTree=W=Ie([ue(7,u.IInstantiationService),ue(8,n.IContextKeyService),ue(9,e.IListService),ue(10,i.IConfigurationService)],W);function j(de){const le=de.getValue(T);if(le==="highlight")return y.TreeFindMode.Highlight;if(le==="filter")return y.TreeFindMode.Filter;const ge=de.getValue(A);if(ge==="simple"||ge==="highlight")return y.TreeFindMode.Highlight;if(ge==="filter")return y.TreeFindMode.Filter}function K(de){const le=de.getValue(M);if(le==="fuzzy")return y.TreeFindMatchType.Fuzzy;if(le==="contiguous")return y.TreeFindMatchType.Contiguous}function G(de,le){var ge;const ve=de.get(i.IConfigurationService),Ce=de.get(m.IContextViewService),Se=de.get(n.IContextKeyService),be=de.get(u.IInstantiationService),ke=()=>{const De=Se.getContextKeyValue(g);if(De==="automatic")return E.TypeNavigationMode.Automatic;if(De==="trigger"||Se.getContextKeyValue(c)===!1)return E.TypeNavigationMode.Trigger;const me=ve.getValue(N);if(me==="automatic")return E.TypeNavigationMode.Automatic;if(me==="trigger")return E.TypeNavigationMode.Trigger},Ee=le.horizontalScrolling!==void 0?le.horizontalScrolling:!!ve.getValue(I),[Ae,Pe]=be.invokeFunction(re,le),He=le.paddingBottom,Be=le.renderIndentGuides!==void 0?le.renderIndentGuides:ve.getValue(F);return{getTypeNavigationMode:ke,disposable:Pe,options:{keyboardSupport:!1,...Ae,indent:typeof ve.getValue(R)=="number"?ve.getValue(R):void 0,renderIndentGuides:Be,smoothScrolling:!!ve.getValue(O),defaultFindMode:j(ve),defaultFindMatchType:K(ve),horizontalScrolling:Ee,scrollByPage:!!ve.getValue(P),paddingBottom:He,hideTwistiesOfChildlessElements:le.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ge=le.expandOnlyOnTwistieClick)!==null&&ge!==void 0?ge:ve.getValue(V)==="doubleClick",contextViewProvider:Ce,findWidgetStyles:l.defaultFindWidgetStyles,enableStickyScroll:!!ve.getValue(q),stickyScrollMaxItemCount:Number(ve.getValue(z))}}}let ee=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(le,ge,ve,Ce,Se,be,ke){var Ee;this.tree=le,this.disposables=[],this.contextKeyService=b(Se,le),this.disposables.push(C(this.contextKeyService,le)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ge.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ge.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Ee=ge.findWidgetEnabled)!==null&&Ee!==void 0?Ee:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this.treeStickyScrollFocused=e.WorkbenchTreeStickyScrollFocused.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=U(ke),this.updateStyleOverrides(Ce);const Pe=()=>{const Be=le.getFocus()[0];if(!Be)return;const De=le.getNode(Be);this.treeElementCanCollapse.set(De.collapsible&&!De.collapsed),this.treeElementHasParent.set(!!le.getParentElement(Be)),this.treeElementCanExpand.set(De.collapsible&&De.collapsed),this.treeElementHasChild.set(!!le.getFirstElementChild(Be))},He=new Set;He.add(g),He.add(c),this.disposables.push(this.contextKeyService,be.register(le),le.onDidChangeSelection(()=>{const Be=le.getSelection(),De=le.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Be.length>0||De.length>0),this.hasMultiSelection.set(Be.length>1),this.hasDoubleSelection.set(Be.length===2)})}),le.onDidChangeFocus(()=>{const Be=le.getSelection(),De=le.getFocus();this.hasSelectionOrFocus.set(Be.length>0||De.length>0),Pe()}),le.onDidChangeCollapseState(Pe),le.onDidChangeModel(Pe),le.onDidChangeFindOpenState(Be=>this.treeFindOpen.set(Be)),le.onDidChangeStickyScrollFocused(Be=>this.treeStickyScrollFocused.set(Be)),ke.onDidChangeConfiguration(Be=>{let De={};if(Be.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(ke)),Be.affectsConfiguration(R)){const Ne=ke.getValue(R);De={...De,indent:Ne}}if(Be.affectsConfiguration(F)&&ge.renderIndentGuides===void 0){const Ne=ke.getValue(F);De={...De,renderIndentGuides:Ne}}if(Be.affectsConfiguration(O)){const Ne=!!ke.getValue(O);De={...De,smoothScrolling:Ne}}if(Be.affectsConfiguration(T)||Be.affectsConfiguration(A)){const Ne=j(ke);De={...De,defaultFindMode:Ne}}if(Be.affectsConfiguration(N)||Be.affectsConfiguration(A)){const Ne=ve();De={...De,typeNavigationMode:Ne}}if(Be.affectsConfiguration(M)){const Ne=K(ke);De={...De,defaultFindMatchType:Ne}}if(Be.affectsConfiguration(I)&&ge.horizontalScrolling===void 0){const Ne=!!ke.getValue(I);De={...De,horizontalScrolling:Ne}}if(Be.affectsConfiguration(P)){const Ne=!!ke.getValue(P);De={...De,scrollByPage:Ne}}if(Be.affectsConfiguration(V)&&ge.expandOnlyOnTwistieClick===void 0&&(De={...De,expandOnlyOnTwistieClick:ke.getValue(V)==="doubleClick"}),Be.affectsConfiguration(q)){const Ne=ke.getValue(q);De={...De,enableStickyScroll:Ne}}if(Be.affectsConfiguration(z)){const Ne=Math.max(1,ke.getValue(z));De={...De,stickyScrollMaxItemCount:Ne}}if(Be.affectsConfiguration(B)){const Ne=ke.getValue(B);De={...De,mouseWheelScrollSensitivity:Ne}}if(Be.affectsConfiguration(H)){const Ne=ke.getValue(H);De={...De,fastScrollSensitivity:Ne}}Object.keys(De).length>0&&le.updateOptions(De)}),this.contextKeyService.onDidChangeContext(Be=>{Be.affectsSome(He)&&le.updateOptions({typeNavigationMode:ve()})})),this.navigator=new he(le,{configurationService:ke,...ge}),this.disposables.push(this.navigator)}updateOptions(le){le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyleOverrides(le){this.tree.style(le?(0,l.getListStyles)(le):l.defaultListStyles)}dispose(){this.disposables=(0,a.dispose)(this.disposables)}};ee=Ie([ue(4,n.IContextKeyService),ue(5,e.IListService),ue(6,i.IConfigurationService)],ee),r.Registry.as(t.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,s.localize)(0,null),type:"object",properties:{[S]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,s.localize)(1,null),(0,s.localize)(2,null)],default:"ctrlCmd",description:(0,s.localize)(3,null)},[D]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,s.localize)(4,null)},[I]:{type:"boolean",default:!1,description:(0,s.localize)(5,null)},[P]:{type:"boolean",default:!1,description:(0,s.localize)(6,null)},[R]:{type:"number",default:8,minimum:4,maximum:40,description:(0,s.localize)(7,null)},[F]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,s.localize)(8,null)},[O]:{type:"boolean",default:!1,description:(0,s.localize)(9,null)},[B]:{type:"number",default:1,markdownDescription:(0,s.localize)(10,null)},[H]:{type:"number",default:5,markdownDescription:(0,s.localize)(11,null)},[T]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,s.localize)(12,null),(0,s.localize)(13,null)],default:"highlight",description:(0,s.localize)(14,null)},[A]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,s.localize)(15,null),(0,s.localize)(16,null),(0,s.localize)(17,null)],default:"highlight",description:(0,s.localize)(18,null),deprecated:!0,deprecationMessage:(0,s.localize)(19,null)},[M]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,s.localize)(20,null),(0,s.localize)(21,null)],default:"fuzzy",description:(0,s.localize)(22,null)},[V]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,s.localize)(23,null)},[q]:{type:"boolean",default:!0,description:(0,s.localize)(24,null)},[z]:{type:"number",minimum:1,default:7,markdownDescription:(0,s.localize)(25,null)},[N]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,s.localize)(26,null)}}})}),define(ie[85],ne([1,0,15,26,183,31,7,21,22,790,260,39]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.registerIcon=h,e.getIconRegistry=m,e.Extensions={IconContribution:"base.contributions.icons"};var s;(function(l){function o(g,c){let b=g.defaults;for(;L.ThemeIcon.isThemeIcon(b);){const C=n.getIcon(b.id);if(!C)return;b=C.defaults}return b}l.getDefinition=o})(s||(e.IconContribution=s={}));var i;(function(l){function o(c){return{weight:c.weight,style:c.style,src:c.src.map(b=>({format:b.format,location:b.location.toString()}))}}l.toJSONObject=o;function g(c){const b=C=>(0,p.isString)(C)?C:void 0;if(c&&Array.isArray(c.src)&&c.src.every(C=>(0,p.isString)(C.format)&&(0,p.isString)(C.location)))return{weight:b(c.weight),style:b(c.style),src:c.src.map(C=>({format:C.format,location:w.URI.parse(C.location)}))}}l.fromJSONObject=g})(i||(e.IconFontDefinition=i={}));class t{constructor(){this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,v.localize)(0,null)},fontCharacter:{type:"string",description:(0,v.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${L.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(o,g,c,b){const C=this.iconsById[o];if(C){if(c&&!C.description){C.description=c,this.iconSchema.properties[o].markdownDescription=`${c} $(${o})`;const I=this.iconReferenceSchema.enum.indexOf(o);I!==-1&&(this.iconReferenceSchema.enumDescriptions[I]=c),this._onDidChange.fire()}return C}const S={id:o,description:c,defaults:g,deprecationMessage:b};this.iconsById[o]=S;const D={$ref:"#/definitions/icons"};return b&&(D.deprecationMessage=b),c&&(D.markdownDescription=`${c}: $(${o})`),this.iconSchema.properties[o]=D,this.iconReferenceSchema.enum.push(o),this.iconReferenceSchema.enumDescriptions.push(c||""),this._onDidChange.fire(),{id:o}}getIcons(){return Object.keys(this.iconsById).map(o=>this.iconsById[o])}getIcon(o){return this.iconsById[o]}getIconSchema(){return this.iconSchema}toString(){const o=(C,S)=>C.id.localeCompare(S.id),g=C=>{for(;L.ThemeIcon.isThemeIcon(C.defaults);)C=this.iconsById[C.defaults.id];return`codicon codicon-${C?C.id:""}`},c=[];c.push("| preview     | identifier                        | default codicon ID                | description"),c.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const b=Object.keys(this.iconsById).map(C=>this.iconsById[C]);for(const C of b.filter(S=>!!S.description).sort(o))c.push(`|<i class="${g(C)}"></i>|${C.id}|${L.ThemeIcon.isThemeIcon(C.defaults)?C.defaults.id:C.id}|${C.description||""}|`);c.push("| preview     | identifier                        "),c.push("| ----------- | --------------------------------- |");for(const C of b.filter(S=>!L.ThemeIcon.isThemeIcon(S.defaults)).sort(o))c.push(`|<i class="${g(C)}"></i>|${C.id}|`);return c.join(`
`)}}const n=new t;a.Registry.add(e.Extensions.IconContribution,n);function h(l,o,g,c){return n.registerIcon(l,o,g,c)}function m(){return n}function u(){const l=(0,E.getCodiconFontCharacters)();for(const o in l){const g="\\"+l[o].toString(16);n.registerIcon(o,{fontCharacter:g})}}u(),e.iconsSchemaId="vscode://schemas/icons";const d=a.Registry.as(_.Extensions.JSONContribution);d.registerSchema(e.iconsSchemaId,n.getIconSchema());const r=new f.RunOnceScheduler(()=>d.notifySchemaChanged(e.iconsSchemaId),200);n.onDidChange(()=>{r.isScheduled()||r.schedule()}),e.widgetClose=h("widget-close",k.Codicon.close,(0,v.localize)(2,null)),e.gotoPreviousLocation=h("goto-previous-location",k.Codicon.arrowUp,(0,v.localize)(3,null)),e.gotoNextLocation=h("goto-next-location",k.Codicon.arrowDown,(0,v.localize)(4,null)),e.syncing=L.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=L.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(ie[883],ne([1,0,6,99,81,79,41,13,26,2,30,31,71,82,38,60,64,9,5,100,42,102,129,91,652,130,8,85,470]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerModelFromEditors=e.AccessibleDiffViewer=void 0;const D=(0,S.registerIcon)("diff-review-insert",w.Codicon.add,(0,c.localize)(0,null)),I=(0,S.registerIcon)("diff-review-remove",w.Codicon.remove,(0,c.localize)(1,null)),T=(0,S.registerIcon)("diff-review-close",w.Codicon.close,(0,c.localize)(2,null));let N=class extends v.Disposable{constructor(Z,re,x,Q,X,Y,ae,ce,he){super(),this._parentNode=Z,this._visible=re,this._setVisible=x,this._canClose=Q,this._width=X,this._height=Y,this._diffs=ae,this._models=ce,this._instantiationService=he,this._state=(0,_.derivedWithStore)(this,(pe,fe)=>{const se=this._visible.read(pe);if(this._parentNode.style.visibility=se?"visible":"hidden",!se)return null;const te=fe.add(this._instantiationService.createInstance(A,this._diffs,this._models,this._setVisible,this._canClose)),$=fe.add(this._instantiationService.createInstance(q,this._parentNode,te,this._width,this._height,this._models));return{model:te,view:$}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,_.transaction)(Z=>{const re=this._visible.get();this._setVisible(!0,Z),re&&this._state.get().model.nextGroup(Z)})}prev(){(0,_.transaction)(Z=>{this._setVisible(!0,Z),this._state.get().model.previousGroup(Z)})}close(){(0,_.transaction)(Z=>{this._setVisible(!1,Z)})}};e.AccessibleDiffViewer=N,N._ttPolicy=(0,k.createTrustedTypesPolicy)("diffReview",{createHTML:U=>U}),e.AccessibleDiffViewer=N=Ie([ue(8,C.IInstantiationService)],N);let A=class extends v.Disposable{constructor(Z,re,x,Q,X){super(),this._diffs=Z,this._models=re,this._setVisible=x,this.canClose=Q,this._accessibilitySignalService=X,this._groups=(0,_.observableValue)(this,[]),this._currentGroupIdx=(0,_.observableValue)(this,0),this._currentElementIdx=(0,_.observableValue)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((Y,ae)=>this._groups.read(ae)[Y]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((Y,ae)=>{var ce;return(ce=this.currentGroup.read(ae))===null||ce===void 0?void 0:ce.lines[Y]}),this._register((0,_.autorun)(Y=>{const ae=this._diffs.read(Y);if(!ae){this._groups.set([],void 0);return}const ce=M(ae,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());(0,_.transaction)(he=>{const pe=this._models.getModifiedPosition();if(pe){const fe=ce.findIndex(se=>pe?.lineNumber<se.range.modified.endLineNumberExclusive);fe!==-1&&this._currentGroupIdx.set(fe,he)}this._groups.set(ce,he)})})),this._register((0,_.autorun)(Y=>{const ae=this.currentElement.read(Y);ae?.type===R.Deleted?this._accessibilitySignalService.playSignal(b.AccessibilitySignal.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):ae?.type===R.Added&&this._accessibilitySignalService.playSignal(b.AccessibilitySignal.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,_.autorun)(Y=>{var ae;const ce=this.currentElement.read(Y);if(ce&&ce.type!==R.Header){const he=(ae=ce.modifiedLineNumber)!==null&&ae!==void 0?ae:ce.diff.modified.startLineNumber;this._models.modifiedSetSelection(u.Range.fromPositions(new m.Position(he,1)))}}))}_goToGroupDelta(Z,re){const x=this.groups.get();!x||x.length<=1||(0,_.subtransaction)(re,Q=>{this._currentGroupIdx.set(h.OffsetRange.ofLength(x.length).clipCyclic(this._currentGroupIdx.get()+Z),Q),this._currentElementIdx.set(0,Q)})}nextGroup(Z){this._goToGroupDelta(1,Z)}previousGroup(Z){this._goToGroupDelta(-1,Z)}_goToLineDelta(Z){const re=this.currentGroup.get();!re||re.lines.length<=1||(0,_.transaction)(x=>{this._currentElementIdx.set(h.OffsetRange.ofLength(re.lines.length).clip(this._currentElementIdx.get()+Z),x)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(Z){const re=this.currentGroup.get();if(!re)return;const x=re.lines.indexOf(Z);x!==-1&&(0,_.transaction)(Q=>{this._currentElementIdx.set(x,Q)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const Z=this.currentElement.get();Z&&(Z.type===R.Deleted?this._models.originalReveal(u.Range.fromPositions(new m.Position(Z.originalLineNumber,1))):this._models.modifiedReveal(Z.type!==R.Header?u.Range.fromPositions(new m.Position(Z.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};A=Ie([ue(4,b.IAccessibilitySignalService)],A);const P=3;function M(U,Z,re){const x=[];for(const Q of(0,p.groupAdjacentBy)(U,(X,Y)=>Y.modified.startLineNumber-X.modified.endLineNumberExclusive<2*P)){const X=[];X.push(new O);const Y=new n.LineRange(Math.max(1,Q[0].original.startLineNumber-P),Math.min(Q[Q.length-1].original.endLineNumberExclusive+P,Z+1)),ae=new n.LineRange(Math.max(1,Q[0].modified.startLineNumber-P),Math.min(Q[Q.length-1].modified.endLineNumberExclusive+P,re+1));(0,p.forEachAdjacent)(Q,(pe,fe)=>{const se=new n.LineRange(pe?pe.original.endLineNumberExclusive:Y.startLineNumber,fe?fe.original.startLineNumber:Y.endLineNumberExclusive),te=new n.LineRange(pe?pe.modified.endLineNumberExclusive:ae.startLineNumber,fe?fe.modified.startLineNumber:ae.endLineNumberExclusive);se.forEach($=>{X.push(new V($,te.startLineNumber+($-se.startLineNumber)))}),fe&&(fe.original.forEach($=>{X.push(new B(fe,$))}),fe.modified.forEach($=>{X.push(new H(fe,$))}))});const ce=Q[0].modified.join(Q[Q.length-1].modified),he=Q[0].original.join(Q[Q.length-1].original);x.push(new F(new d.LineRangeMapping(ce,he),X))}return x}var R;(function(U){U[U.Header=0]="Header",U[U.Unchanged=1]="Unchanged",U[U.Deleted=2]="Deleted",U[U.Added=3]="Added"})(R||(R={}));class F{constructor(Z,re){this.range=Z,this.lines=re}}class O{constructor(){this.type=R.Header}}class B{constructor(Z,re){this.diff=Z,this.originalLineNumber=re,this.type=R.Deleted,this.modifiedLineNumber=void 0}}class H{constructor(Z,re){this.diff=Z,this.modifiedLineNumber=re,this.type=R.Added,this.originalLineNumber=void 0}}class V{constructor(Z,re){this.originalLineNumber=Z,this.modifiedLineNumber=re,this.type=R.Unchanged}}let q=class extends v.Disposable{constructor(Z,re,x,Q,X,Y){super(),this._element=Z,this._model=re,this._width=x,this._height=Q,this._models=X,this._languageService=Y,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const ae=document.createElement("div");ae.className="diff-review-actions",this._actionBar=this._register(new E.ActionBar(ae)),this._register((0,_.autorun)(ce=>{this._actionBar.clear(),this._model.canClose.read(ce)&&this._actionBar.push(new y.Action("diffreview.close",(0,c.localize)(3,null),"close-diff-review "+a.ThemeIcon.asClassName(T),!0,async()=>re.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new L.DomScrollableElement(this._content,{})),(0,f.reset)(this.domNode,this._scrollbar.getDomNode(),ae),this._register((0,_.autorun)(ce=>{this._height.read(ce),this._width.read(ce),this._scrollbar.scanDomNode()})),this._register((0,v.toDisposable)(()=>{(0,f.reset)(this.domNode)})),this._register((0,i.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,i.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,_.autorunWithStore)((ce,he)=>{this._model.currentGroup.read(ce),this._render(he)})),this._register((0,f.addStandardDisposableListener)(this.domNode,"keydown",ce=>{(ce.equals(18)||ce.equals(2066)||ce.equals(530))&&(ce.preventDefault(),this._model.goToNextLine()),(ce.equals(16)||ce.equals(2064)||ce.equals(528))&&(ce.preventDefault(),this._model.goToPreviousLine()),(ce.equals(9)||ce.equals(2057)||ce.equals(521)||ce.equals(1033))&&(ce.preventDefault(),this._model.close()),(ce.equals(10)||ce.equals(3))&&(ce.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(Z){const re=this._models.getOriginalOptions(),x=this._models.getModifiedOptions(),Q=document.createElement("div");Q.className="diff-review-table",Q.setAttribute("role","list"),Q.setAttribute("aria-label",(0,c.localize)(4,null)),(0,s.applyFontInfo)(Q,x.get(50)),(0,f.reset)(this._content,Q);const X=this._models.getOriginalModel(),Y=this._models.getModifiedModel();if(!X||!Y)return;const ae=X.getOptions(),ce=Y.getOptions(),he=x.get(67),pe=this._model.currentGroup.get();for(const fe of pe?.lines||[]){if(!pe)break;let se;if(fe.type===R.Header){const $=document.createElement("div");$.className="diff-review-row",$.setAttribute("role","listitem");const W=pe.range,j=this._model.currentGroupIndex.get(),K=this._model.groups.get().length,G=le=>le===0?(0,c.localize)(5,null):le===1?(0,c.localize)(6,null):(0,c.localize)(7,null,le),ee=G(W.original.length),oe=G(W.modified.length);$.setAttribute("aria-label",(0,c.localize)(8,null,j+1,K,W.original.startLineNumber,ee,W.modified.startLineNumber,oe));const de=document.createElement("div");de.className="diff-review-cell diff-review-summary",de.appendChild(document.createTextNode(`${j+1}/${K}: @@ -${W.original.startLineNumber},${W.original.length} +${W.modified.startLineNumber},${W.modified.length} @@`)),$.appendChild(de),se=$}else se=this._createRow(fe,he,this._width.get(),re,X,ae,x,Y,ce);Q.appendChild(se);const te=(0,_.derived)($=>this._model.currentElement.read($)===fe);Z.add((0,_.autorun)($=>{const W=te.read($);se.tabIndex=W?0:-1,W&&se.focus()})),Z.add((0,f.addDisposableListener)(se,"focus",()=>{this._model.goToLine(fe)}))}this._scrollbar.scanDomNode()}_createRow(Z,re,x,Q,X,Y,ae,ce,he){const pe=Q.get(145),fe=pe.glyphMarginWidth+pe.lineNumbersWidth,se=ae.get(145),te=10+se.glyphMarginWidth+se.lineNumbersWidth;let $="diff-review-row",W="";const j="diff-review-spacer";let K=null;switch(Z.type){case R.Added:$="diff-review-row line-insert",W=" char-insert",K=D;break;case R.Deleted:$="diff-review-row line-delete",W=" char-delete",K=I;break}const G=document.createElement("div");G.style.minWidth=x+"px",G.className=$,G.setAttribute("role","listitem"),G.ariaLevel="";const ee=document.createElement("div");ee.className="diff-review-cell",ee.style.height=`${re}px`,G.appendChild(ee);const oe=document.createElement("span");oe.style.width=fe+"px",oe.style.minWidth=fe+"px",oe.className="diff-review-line-number"+W,Z.originalLineNumber!==void 0?oe.appendChild(document.createTextNode(String(Z.originalLineNumber))):oe.innerText="\xA0",ee.appendChild(oe);const de=document.createElement("span");de.style.width=te+"px",de.style.minWidth=te+"px",de.style.paddingRight="10px",de.className="diff-review-line-number"+W,Z.modifiedLineNumber!==void 0?de.appendChild(document.createTextNode(String(Z.modifiedLineNumber))):de.innerText="\xA0",ee.appendChild(de);const le=document.createElement("span");if(le.className=j,K){const Ce=document.createElement("span");Ce.className=a.ThemeIcon.asClassName(K),Ce.innerText="\xA0\xA0",le.appendChild(Ce)}else le.innerText="\xA0\xA0";ee.appendChild(le);let ge;if(Z.modifiedLineNumber!==void 0){let Ce=this._getLineHtml(ce,ae,he.tabSize,Z.modifiedLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(Ce=N._ttPolicy.createHTML(Ce)),ee.insertAdjacentHTML("beforeend",Ce),ge=ce.getLineContent(Z.modifiedLineNumber)}else{let Ce=this._getLineHtml(X,Q,Y.tabSize,Z.originalLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(Ce=N._ttPolicy.createHTML(Ce)),ee.insertAdjacentHTML("beforeend",Ce),ge=X.getLineContent(Z.originalLineNumber)}ge.length===0&&(ge=(0,c.localize)(9,null));let ve="";switch(Z.type){case R.Unchanged:Z.originalLineNumber===Z.modifiedLineNumber?ve=(0,c.localize)(10,null,ge,Z.originalLineNumber):ve=(0,c.localize)(11,null,ge,Z.originalLineNumber,Z.modifiedLineNumber);break;case R.Added:ve=(0,c.localize)(12,null,ge,Z.modifiedLineNumber);break;case R.Deleted:ve=(0,c.localize)(13,null,ge,Z.originalLineNumber);break}return G.setAttribute("aria-label",ve),G}_getLineHtml(Z,re,x,Q,X){const Y=Z.getLineContent(Q),ae=re.get(50),ce=l.LineTokens.createEmpty(Y,X),he=g.ViewLineRenderingData.isBasicASCII(Y,Z.mightContainNonBasicASCII()),pe=g.ViewLineRenderingData.containsRTL(Y,he,Z.mightContainRTL());return(0,o.renderViewLine2)(new o.RenderLineInput(ae.isMonospace&&!re.get(33),ae.canUseHalfwidthRightwardsArrow,Y,!1,he,pe,0,ce,[],x,0,ae.spaceWidth,ae.middotWidth,ae.wsmiddotWidth,re.get(117),re.get(99),re.get(94),re.get(51)!==t.EditorFontLigatures.OFF,null)).html}};q=Ie([ue(5,r.ILanguageService)],q);class z{constructor(Z){this.editors=Z}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(Z){this.editors.original.revealRange(Z),this.editors.original.setSelection(Z),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(Z){Z&&(this.editors.modified.revealRange(Z),this.editors.modified.setSelection(Z)),this.editors.modified.focus()}modifiedSetSelection(Z){this.editors.modified.setSelection(Z)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var Z;return(Z=this.editors.modified.getPosition())!==null&&Z!==void 0?Z:void 0}}e.AccessibleDiffViewerModelFromEditors=z}),define(ie[884],ne([1,0,241,6,164,78,26,34,7,2,31,689,32,85,217]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=k.$;class n extends v.Disposable{constructor(b,C,S,D=!1){super(),this.model=C,this.showingStandaloneColorPicker=D,this._closeButton=null,this._domNode=t(".colorpicker-header"),k.append(b,this._domNode),this._pickedColorNode=k.append(this._domNode,t(".picked-color")),k.append(this._pickedColorNode,t("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const I=(0,a.localize)(0,null);this._pickedColorNode.setAttribute("title",I),this._originalColorNode=k.append(this._domNode,t(".original-color")),this._originalColorNode.style.backgroundColor=p.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(s.editorHoverBackground)||p.Color.white,this._register(S.onDidColorThemeChange(T=>{this.backgroundColor=T.getColor(s.editorHoverBackground)||p.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(C.onDidChangeColor(this.onDidChangeColor,this)),this._register(C.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(C.color)||"",this._pickedColorNode.classList.toggle("light",C.color.rgba.a<.5?this.backgroundColor.isLighter():C.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new h(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(b){this._pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(b)||"",this._pickedColorNode.classList.toggle("light",b.rgba.a<.5?this.backgroundColor.isLighter():b.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=n;class h extends v.Disposable{constructor(b){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(b,this._button);const C=document.createElement("div");C.classList.add("close-button-inner-div"),k.append(this._button,C),k.append(C,t(".button"+_.ThemeIcon.asCSSSelector((0,i.registerIcon)("color-picker-close",y.Codicon.close,(0,a.localize)(1,null))))).classList.add("close-icon"),this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}}class m extends v.Disposable{constructor(b,C,S,D=!1){super(),this.model=C,this.pixelRatio=S,this._insertButton=null,this._domNode=t(".colorpicker-body"),k.append(b,this._domNode),this._saturationBox=new u(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new r(this._domNode,this.model,D),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new l(this._domNode,this.model,D),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),D&&(this._insertButton=this._register(new o(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:b,v:C}){const S=this.model.color.hsva;this.model.color=new p.Color(new p.HSVA(S.h,b,C,S.a))}onDidOpacityChange(b){const C=this.model.color.hsva;this.model.color=new p.Color(new p.HSVA(C.h,C.s,C.v,b))}onDidHueChange(b){const C=this.model.color.hsva,S=(1-b)*360;this.model.color=new p.Color(new p.HSVA(S===360?0:S,C.s,C.v,C.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=m;class u extends v.Disposable{constructor(b,C,S){super(),this.model=C,this.pixelRatio=S,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=t(".saturation-wrap"),k.append(b,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=t(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,D=>this.onPointerDown(D))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(b){if(!b.target||!(b.target instanceof Element))return;this.monitor=this._register(new E.GlobalPointerMoveMonitor);const C=k.getDomNodePagePosition(this._domNode);b.target!==this.selection&&this.onDidChangePosition(b.offsetX,b.offsetY),this.monitor.startMonitoring(b.target,b.pointerId,b.buttons,D=>this.onDidChangePosition(D.pageX-C.left,D.pageY-C.top),()=>null);const S=k.addDisposableListener(b.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(b,C){const S=Math.max(0,Math.min(1,b/this.width)),D=Math.max(0,Math.min(1,1-C/this.height));this.paintSelection(S,D),this._onDidChange.fire({s:S,v:D})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const b=this.model.color.hsva;this.paintSelection(b.s,b.v)}paint(){const b=this.model.color.hsva,C=new p.Color(new p.HSVA(b.h,1,1,1)),S=this._canvas.getContext("2d"),D=S.createLinearGradient(0,0,this._canvas.width,0);D.addColorStop(0,"rgba(255, 255, 255, 1)"),D.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),D.addColorStop(1,"rgba(255, 255, 255, 0)");const I=S.createLinearGradient(0,0,0,this._canvas.height);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this._canvas.width,this._canvas.height),S.fillStyle=p.Color.Format.CSS.format(C),S.fill(),S.fillStyle=D,S.fill(),S.fillStyle=I,S.fill()}paintSelection(b,C){this.selection.style.left=`${b*this.width}px`,this.selection.style.top=`${this.height-C*this.height}px`}onDidChangeColor(b){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const C=b.hsva;this.paintSelection(C.s,C.v)}}class d extends v.Disposable{constructor(b,C,S=!1){super(),this.model=C,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,S?(this.domNode=k.append(b,t(".standalone-strip")),this.overlay=k.append(this.domNode,t(".standalone-overlay"))):(this.domNode=k.append(b,t(".strip")),this.overlay=k.append(this.domNode,t(".overlay"))),this.slider=k.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,D=>this.onPointerDown(D))),this._register(C.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const b=this.getValue(this.model.color);this.updateSliderPosition(b)}onDidChangeColor(b){const C=this.getValue(b);this.updateSliderPosition(C)}onPointerDown(b){if(!b.target||!(b.target instanceof Element))return;const C=this._register(new E.GlobalPointerMoveMonitor),S=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),b.target!==this.slider&&this.onDidChangeTop(b.offsetY),C.startMonitoring(b.target,b.pointerId,b.buttons,I=>this.onDidChangeTop(I.pageY-S.top),()=>null);const D=k.addDisposableListener(b.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),D.dispose(),C.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(b){const C=Math.max(0,Math.min(1,1-b/this.height));this.updateSliderPosition(C),this._onDidChange.fire(C)}updateSliderPosition(b){this.slider.style.top=`${(1-b)*this.height}px`}}class r extends d{constructor(b,C,S=!1){super(b,C,S),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(b){super.onDidChangeColor(b);const{r:C,g:S,b:D}=b.rgba,I=new p.Color(new p.RGBA(C,S,D,1)),T=new p.Color(new p.RGBA(C,S,D,0));this.overlay.style.background=`linear-gradient(to bottom, ${I} 0%, ${T} 100%)`}getValue(b){return b.hsva.a}}class l extends d{constructor(b,C,S=!1){super(b,C,S),this.domNode.classList.add("hue-strip")}getValue(b){return 1-b.hsva.h/360}}class o extends v.Disposable{constructor(b){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(b,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}e.InsertButton=o;class g extends L.Widget{constructor(b,C,S,D,I=!1){super(),this.model=C,this.pixelRatio=S,this._register(f.PixelRatio.getInstance(k.getWindow(b)).onDidChange(()=>this.layout()));const T=t(".colorpicker-widget");b.appendChild(T),this.header=this._register(new n(T,this.model,D,I)),this.body=this._register(new m(T,this.model,this.pixelRatio,I))}layout(){this.body.layout()}}e.ColorPickerWidget=g}),define(ie[885],ne([1,0,6,45,79,26,7,2,11,21,42,114,258,733,14,59,32,85,31,496]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const r=f.$,l=(0,m.registerIcon)("parameter-hints-next",L.Codicon.chevronDown,i.localize(0,null)),o=(0,m.registerIcon)("parameter-hints-previous",L.Codicon.chevronUp,i.localize(1,null));let g=d=class extends p.Disposable{constructor(b,C,S,D,I){super(),this.editor=b,this.model=C,this.renderDisposeables=this._register(new p.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new a.MarkdownRenderer({editor:b},I,D)),this.keyVisible=s.Context.Visible.bindTo(S),this.keyMultipleSignatures=s.Context.MultipleSignatures.bindTo(S)}createParameterHintDOMNodes(){const b=r(".editor-widget.parameter-hints-widget"),C=f.append(b,r(".phwrapper"));C.tabIndex=-1;const S=f.append(C,r(".controls")),D=f.append(S,r(".button"+u.ThemeIcon.asCSSSelector(o))),I=f.append(S,r(".overloads")),T=f.append(S,r(".button"+u.ThemeIcon.asCSSSelector(l)));this._register(f.addDisposableListener(D,"click",F=>{f.EventHelper.stop(F),this.previous()})),this._register(f.addDisposableListener(T,"click",F=>{f.EventHelper.stop(F),this.next()}));const N=r(".body"),A=new E.DomScrollableElement(N,{alwaysConsumeMouseWheel:!0});this._register(A),C.appendChild(A.getDomNode());const P=f.append(N,r(".signature")),M=f.append(N,r(".docs"));b.style.userSelect="text",this.domNodes={element:b,signature:P,overloads:I,docs:M,scrollbar:A},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(F=>{this.visible&&this.editor.layoutContentWidget(this)}));const R=()=>{if(!this.domNodes)return;const F=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${F.fontSize}px`,this.domNodes.element.style.lineHeight=`${F.lineHeight/F.fontSize}`};R(),this._register(y.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),F=>F.filter(O=>O.hasChanged(50)))(R)),this._register(this.editor.onDidLayoutChange(F=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var b;(b=this.domNodes)===null||b===void 0||b.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var b;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(b=this.domNodes)===null||b===void 0||b.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(b){var C;if(this.renderDisposeables.clear(),!this.domNodes)return;const S=b.signatures.length>1;this.domNodes.element.classList.toggle("multiple",S),this.keyMultipleSignatures.set(S),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const D=b.signatures[b.activeSignature];if(!D)return;const I=f.append(this.domNodes.signature,r(".code")),T=this.editor.getOption(50);I.style.fontSize=`${T.fontSize}px`,I.style.fontFamily=T.fontFamily;const N=D.parameters.length>0,A=(C=D.activeParameter)!==null&&C!==void 0?C:b.activeParameter;if(N)this.renderParameters(I,D,A);else{const R=f.append(I,r("span"));R.textContent=D.label}const P=D.parameters[A];if(P?.documentation){const R=r("span.documentation");if(typeof P.documentation=="string")R.textContent=P.documentation;else{const F=this.renderMarkdownDocs(P.documentation);R.appendChild(F.element)}f.append(this.domNodes.docs,r("p",{},R))}if(D.documentation!==void 0)if(typeof D.documentation=="string")f.append(this.domNodes.docs,r("p",{},D.documentation));else{const R=this.renderMarkdownDocs(D.documentation);f.append(this.domNodes.docs,R.element)}const M=this.hasDocs(D,P);if(this.domNodes.signature.classList.toggle("has-docs",M),this.domNodes.docs.classList.toggle("empty",!M),this.domNodes.overloads.textContent=String(b.activeSignature+1).padStart(b.signatures.length.toString().length,"0")+"/"+b.signatures.length,P){let R="";const F=D.parameters[A];Array.isArray(F.label)?R=D.label.substring(F.label[0],F.label[1]):R=F.label,F.documentation&&(R+=typeof F.documentation=="string"?`, ${F.documentation}`:`, ${F.documentation.value}`),D.documentation&&(R+=typeof D.documentation=="string"?`, ${D.documentation}`:`, ${D.documentation.value}`),this.announcedLabel!==R&&(k.alert(i.localize(2,null,R)),this.announcedLabel=R)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(b){const C=this.renderDisposeables.add(this.markdownRenderer.render(b,{asyncRenderCallback:()=>{var S;(S=this.domNodes)===null||S===void 0||S.scrollbar.scanDomNode()}}));return C.element.classList.add("markdown-docs"),C}hasDocs(b,C){return!!(C&&typeof C.documentation=="string"&&(0,v.assertIsDefined)(C.documentation).length>0||C&&typeof C.documentation=="object"&&(0,v.assertIsDefined)(C.documentation).value.length>0||b.documentation&&typeof b.documentation=="string"&&(0,v.assertIsDefined)(b.documentation).length>0||b.documentation&&typeof b.documentation=="object"&&(0,v.assertIsDefined)(b.documentation.value).length>0)}renderParameters(b,C,S){const[D,I]=this.getParameterLabelOffsets(C,S),T=document.createElement("span");T.textContent=C.label.substring(0,D);const N=document.createElement("span");N.textContent=C.label.substring(D,I),N.className="parameter active";const A=document.createElement("span");A.textContent=C.label.substring(I),f.append(b,T,N,A)}getParameterLabelOffsets(b,C){const S=b.parameters[C];if(S){if(Array.isArray(S.label))return S.label;if(S.label.length){const D=new RegExp(`(\\W|^)${(0,w.escapeRegExpCharacters)(S.label)}(?=\\W|$)`,"g");D.test(b.label);const I=D.lastIndex-S.label.length;return I>=0?[I,D.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return d.ID}updateMaxHeight(){if(!this.domNodes)return;const C=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=C;const S=this.domNodes.element.getElementsByClassName("phwrapper");S.length&&(S[0].style.maxHeight=C)}};e.ParameterHintsWidget=g,g.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=g=d=Ie([ue(2,t.IContextKeyService),ue(3,n.IOpenerService),ue(4,_.ILanguageService)],g),(0,h.registerColor)("editorHoverWidget.highlightForeground",{dark:h.listHighlightForeground,light:h.listHighlightForeground,hcDark:h.listHighlightForeground,hcLight:h.listHighlightForeground},i.localize(3,null))}),define(ie[886],ne([1,0,95,2,16,20,29,18,805,258,732,14,8,885]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let n=t=class extends k.Disposable{static get(r){return r.getContribution(t.ID)}constructor(r,l,o){super(),this.editor=r,this.model=this._register(new w.ParameterHintsModel(r,o.signatureHelpProvider)),this._register(this.model.onChangedHints(g=>{var c;g?(this.widget.value.show(),this.widget.value.render(g)):(c=this.widget.rawValue)===null||c===void 0||c.hide()})),this.widget=new f.Lazy(()=>this._register(l.createInstance(i.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var r;(r=this.widget.rawValue)===null||r===void 0||r.previous()}next(){var r;(r=this.widget.rawValue)===null||r===void 0||r.next()}trigger(r){this.model.trigger(r,0)}};e.ParameterHintsController=n,n.ID="editor.controller.parameterHints",e.ParameterHintsController=n=t=Ie([ue(1,s.IInstantiationService),ue(2,p.ILanguageFeaturesService)],n);class h extends E.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:_.localize(0,null),alias:"Trigger Parameter Hints",precondition:L.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(r,l){const o=n.get(l);o?.trigger({triggerKind:y.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=h,(0,E.registerEditorContribution)(n.ID,n,2),(0,E.registerEditorAction)(h);const m=175,u=E.EditorCommand.bindToContribution(n.get);(0,E.registerEditorCommand)(new u({id:"closeParameterHints",precondition:v.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:m,kbExpr:L.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,E.registerEditorCommand)(new u({id:"showPrevParameterHint",precondition:a.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:m,kbExpr:L.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,E.registerEditorCommand)(new u({id:"showNextParameterHint",precondition:a.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:m,kbExpr:L.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(ie[887],ne([1,0,6,81,41,2,114,8,823,85,31,503]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const a=26;let s=class extends L.Disposable{constructor(n,h){super(),this._editor=n,this.instantiationService=h,this.banner=this._register(this.instantiationService.createInstance(i))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(n){this.banner.show({...n,onClose:()=>{var h;this.hide(),(h=n.onClose)===null||h===void 0||h.call(n)}}),this._editor.setBanner(this.banner.element,a)}};e.BannerController=s,e.BannerController=s=Ie([ue(1,p.IInstantiationService)],s);let i=class extends L.Disposable{constructor(n){super(),this.instantiationService=n,this.markdownRenderer=this.instantiationService.createInstance(y.MarkdownRenderer,{}),this.element=(0,f.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(n){if(n.ariaLabel)return n.ariaLabel;if(typeof n.message=="string")return n.message}getBannerMessage(n){if(typeof n=="string"){const h=(0,f.$)("span");return h.innerText=n,h}return this.markdownRenderer.render(n).element}clear(){(0,f.clearNode)(this.element)}show(n){(0,f.clearNode)(this.element);const h=this.getAriaLabel(n);h&&this.element.setAttribute("aria-label",h);const m=(0,f.append)(this.element,(0,f.$)("div.icon-container"));m.setAttribute("aria-hidden","true"),n.icon&&m.appendChild((0,f.$)(`div${_.ThemeIcon.asCSSSelector(n.icon)}`));const u=(0,f.append)(this.element,(0,f.$)("div.message-container"));if(u.setAttribute("aria-hidden","true"),u.appendChild(this.getBannerMessage(n.message)),this.messageActionsContainer=(0,f.append)(this.element,(0,f.$)("div.message-actions-container")),n.actions)for(const r of n.actions)this._register(this.instantiationService.createInstance(w.Link,this.messageActionsContainer,{...r,tabIndex:-1},{}));const d=(0,f.append)(this.element,(0,f.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(d)),this.actionBar.push(this._register(new E.Action("banner.close","Close Banner",_.ThemeIcon.asClassName(v.widgetClose),!0,()=>{typeof n.onClose=="function"&&n.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};i=Ie([ue(0,p.IInstantiationService)],i)}),define(ie[888],ne([1,0,6,7,2,31,85]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=void 0,e.getIconsStyleSheet=p;function p(v){const _=new E.DisposableStore,a=_.add(new k.Emitter),s=(0,y.getIconRegistry)();return _.add(s.onDidChange(()=>a.fire())),v&&_.add(v.onDidProductIconThemeChange(()=>a.fire())),{dispose:()=>_.dispose(),onDidChange:a.event,getCSS(){const i=v?v.getProductIconTheme():new w,t={},n=m=>{const u=i.getIcon(m);if(!u)return;const d=u.font;return d?(t[d.id]=d.definition,`.codicon-${m.id}:before { content: '${u.fontCharacter}'; font-family: ${(0,f.asCSSPropertyValue)(d.id)}; }`):`.codicon-${m.id}:before { content: '${u.fontCharacter}'; }`},h=[];for(const m of s.getIcons()){const u=n(m);u&&h.push(u)}for(const m in t){const u=t[m],d=u.weight?`font-weight: ${u.weight};`:"",r=u.style?`font-style: ${u.style};`:"",l=u.src.map(o=>`${(0,f.asCSSUrl)(o.location)} format('${o.format}')`).join(", ");h.push(`@font-face { src: ${l}; font-family: ${(0,f.asCSSPropertyValue)(m)};${d}${r} font-display: block; }`)}return h.join(`
`)}}}class w{getIcon(_){const a=(0,y.getIconRegistry)();let s=_.defaults;for(;L.ThemeIcon.isThemeIcon(s);){const i=a.getIcon(s.id);if(!i)return;s=i.defaults}return s}}e.UnthemedProductIconTheme=w}),define(ie[94],ne([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0,e.isHighContrast=k,e.isDark=E;var f;(function(L){L.DARK="dark",L.LIGHT="light",L.HIGH_CONTRAST_DARK="hcDark",L.HIGH_CONTRAST_LIGHT="hcLight"})(f||(e.ColorScheme=f={}));function k(L){return L===f.HIGH_CONTRAST_DARK||L===f.HIGH_CONTRAST_LIGHT}function E(L){return L===f.DARK||L===f.HIGH_CONTRAST_DARK}}),define(ie[271],ne([1,0,62,40,17,517,157,145,129,94,38]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=void 0,e.getColumnOfNodeOffset=l;const a=function(){return E.isNative?!0:!(E.isLinux||f.isFirefox||f.isSafari)}();let s=!0;class i{constructor(g,c){this.themeType=c;const b=g.options,C=b.get(50);b.get(38)==="off"?this.renderWhitespace=b.get(99):this.renderWhitespace="none",this.renderControlCharacters=b.get(94),this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.useMonospaceOptimizations=C.isMonospace&&!b.get(33),this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.lineHeight=b.get(67),this.stopRenderingLineAfter=b.get(117),this.fontLigatures=b.get(51)}equals(g){return this.themeType===g.themeType&&this.renderWhitespace===g.renderWhitespace&&this.renderControlCharacters===g.renderControlCharacters&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.useMonospaceOptimizations===g.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineHeight===g.lineHeight&&this.stopRenderingLineAfter===g.stopRenderingLineAfter&&this.fontLigatures===g.fontLigatures}}e.ViewLineOptions=i;class t{constructor(g){this._options=g,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(g){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(g);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(g){this._isMaybeInvalid=!0,this._options=g}onSelectionChanged(){return(0,v.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(g,c,b,C,S){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const D=C.getViewLineRenderingData(g),I=this._options,T=p.LineDecoration.filter(D.inlineDecorations,g,D.minColumn,D.maxColumn);let N=null;if((0,v.isHighContrast)(I.themeType)||this._options.renderWhitespace==="selection"){const R=C.selections;for(const F of R){if(F.endLineNumber<g||F.startLineNumber>g)continue;const O=F.startLineNumber===g?F.startColumn:D.minColumn,B=F.endLineNumber===g?F.endColumn:D.maxColumn;O<B&&((0,v.isHighContrast)(I.themeType)&&T.push(new p.LineDecoration(O,B,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(N||(N=[]),N.push(new w.LineRange(O-1,B-1))))}}const A=new w.RenderLineInput(I.useMonospaceOptimizations,I.canUseHalfwidthRightwardsArrow,D.content,D.continuesWithWrappedLine,D.isBasicASCII,D.containsRTL,D.minColumn-1,D.tokens,T,D.tabSize,D.startVisibleColumn,I.spaceWidth,I.middotWidth,I.wsmiddotWidth,I.stopRenderingLineAfter,I.renderWhitespace,I.renderControlCharacters,I.fontLigatures!==_.EditorFontLigatures.OFF,N);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;S.appendString('<div style="top:'),S.appendString(String(c)),S.appendString("px;height:"),S.appendString(String(b)),S.appendString('px;" class="'),S.appendString(t.CLASS_NAME),S.appendString('">');const P=(0,w.renderViewLine)(A,S);S.appendString("</div>");let M=null;return s&&a&&D.isBasicASCII&&I.useMonospaceOptimizations&&P.containsForeignElements===0&&(M=new n(this._renderedViewLine?this._renderedViewLine.domNode:null,A,P.characterMapping)),M||(M=u(this._renderedViewLine?this._renderedViewLine.domNode:null,A,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=M,!0}layoutLine(g,c,b){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(c),this._renderedViewLine.domNode.setHeight(b))}getWidth(g){return this._renderedViewLine?this._renderedViewLine.getWidth(g):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof n:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof n?this._renderedViewLine.monospaceAssumptionsAreValid():s}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof n&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(g,c,b,C){if(!this._renderedViewLine)return null;c=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,c)),b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b));const S=this._renderedViewLine.input.stopRenderingLineAfter;if(S!==-1&&c>S+1&&b>S+1)return new y.VisibleRanges(!0,[new y.FloatHorizontalRange(this.getWidth(C),0)]);S!==-1&&c>S+1&&(c=S+1),S!==-1&&b>S+1&&(b=S+1);const D=this._renderedViewLine.getVisibleRangesForRange(g,c,b,C);return D&&D.length>0?new y.VisibleRanges(!1,D):null}getColumnOfNodeOffset(g,c){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(g,c):1}}e.ViewLine=t,t.CLASS_NAME="view-line";class n{constructor(g,c,b){this._cachedWidth=-1,this.domNode=g,this.input=c;const C=Math.floor(c.lineContent.length/300);if(C>0){this._keyColumnPixelOffsetCache=new Float32Array(C);for(let S=0;S<C;S++)this._keyColumnPixelOffsetCache[S]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=b,this._charWidth=c.spaceWidth}getWidth(g){if(!this.domNode||this.input.lineContent.length<300){const c=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*c)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return s;if(this.input.lineContent.length<300){const g=this.getWidth(null),c=this.domNode.domNode.firstChild.offsetWidth;Math.abs(g-c)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),s=!1)}return s}toSlowRenderedLine(){return u(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(g,c,b,C){const S=this._getColumnPixelOffset(g,c,C),D=this._getColumnPixelOffset(g,b,C);return[new y.FloatHorizontalRange(S,D-S)]}_getColumnPixelOffset(g,c,b){if(c<=300){const N=this._characterMapping.getHorizontalOffset(c);return this._charWidth*N}const C=Math.floor((c-1)/300)-1,S=(C+1)*300+1;let D=-1;if(this._keyColumnPixelOffsetCache&&(D=this._keyColumnPixelOffsetCache[C],D===-1&&(D=this._actualReadPixelOffset(g,S,b),this._keyColumnPixelOffsetCache[C]=D)),D===-1){const N=this._characterMapping.getHorizontalOffset(c);return this._charWidth*N}const I=this._characterMapping.getHorizontalOffset(S),T=this._characterMapping.getHorizontalOffset(c);return D+this._charWidth*(T-I)}_getReadingTarget(g){return g.domNode.firstChild}_actualReadPixelOffset(g,c,b){if(!this.domNode)return-1;const C=this._characterMapping.getDomPosition(c),S=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),C.partIndex,C.charIndex,C.partIndex,C.charIndex,b);return!S||S.length===0?-1:S[0].left}getColumnOfNodeOffset(g,c){return l(this._characterMapping,g,c)}}class h{constructor(g,c,b,C,S){if(this.domNode=g,this.input=c,this._characterMapping=b,this._isWhitespaceOnly=/^\s*$/.test(c.lineContent),this._containsForeignElements=S,this._cachedWidth=-1,this._pixelOffsetCache=null,!C||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let D=0,I=this._characterMapping.length;D<=I;D++)this._pixelOffsetCache[D]=-1}}_getReadingTarget(g){return g.domNode.firstChild}getWidth(g){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(g,c,b,C){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const S=this._readPixelOffset(this.domNode,g,c,C);if(S===-1)return null;const D=this._readPixelOffset(this.domNode,g,b,C);return D===-1?null:[new y.FloatHorizontalRange(S,D-S)]}return this._readVisibleRangesForRange(this.domNode,g,c,b,C)}_readVisibleRangesForRange(g,c,b,C,S){if(b===C){const D=this._readPixelOffset(g,c,b,S);return D===-1?null:[new y.FloatHorizontalRange(D,0)]}else return this._readRawVisibleRangesForRange(g,b,C,S)}_readPixelOffset(g,c,b,C){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(C);const S=this._getReadingTarget(g);return S.firstChild?(C.markDidDomLayout(),S.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const S=this._pixelOffsetCache[b];if(S!==-1)return S;const D=this._actualReadPixelOffset(g,c,b,C);return this._pixelOffsetCache[b]=D,D}return this._actualReadPixelOffset(g,c,b,C)}_actualReadPixelOffset(g,c,b,C){if(this._characterMapping.length===0){const T=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),0,0,0,0,C);return!T||T.length===0?-1:T[0].left}if(b===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(C);const S=this._characterMapping.getDomPosition(b),D=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),S.partIndex,S.charIndex,S.partIndex,S.charIndex,C);if(!D||D.length===0)return-1;const I=D[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getHorizontalOffset(b),N=Math.round(this.input.spaceWidth*T);if(Math.abs(N-I)<=1)return N}return I}_readRawVisibleRangesForRange(g,c,b,C){if(c===1&&b===this._characterMapping.length)return[new y.FloatHorizontalRange(0,this.getWidth(C))];const S=this._characterMapping.getDomPosition(c),D=this._characterMapping.getDomPosition(b);return L.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),S.partIndex,S.charIndex,D.partIndex,D.charIndex,C)}getColumnOfNodeOffset(g,c){return l(this._characterMapping,g,c)}}class m extends h{_readVisibleRangesForRange(g,c,b,C,S){const D=super._readVisibleRangesForRange(g,c,b,C,S);if(!D||D.length===0||b===C||b===1&&C===this._characterMapping.length)return D;if(!this.input.containsRTL){const I=this._readPixelOffset(g,c,C,S);if(I!==-1){const T=D[D.length-1];T.left<I&&(T.width=I-T.left)}}return D}}const u=function(){return f.isWebKit?d:r}();function d(o,g,c,b,C){return new m(o,g,c,b,C)}function r(o,g,c,b,C){return new h(o,g,c,b,C)}function l(o,g,c){const b=g.textContent.length;let C=-1;for(;g;)g=g.previousSibling,C++;return o.getColumn(new w.DomPosition(C,c),b)}}),define(ie[386],ne([1,0,175,56,271,9,5,90,6,300,95]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class a{constructor(C=null){this.hitTarget=C,this.type=0}}class s{get hitTarget(){return this.spanNode}constructor(C,S,D){this.position=C,this.spanNode=S,this.injectedText=D,this.type=1}}var i;(function(b){function C(S,D,I){const T=S.getPositionFromDOMInfo(D,I);return T?new s(T,D,null):new a(D)}b.createFromDOMInfo=C})(i||(i={}));class t{constructor(C,S){this.lastViewCursorsRenderData=C,this.lastTextareaPosition=S}}e.PointerHandlerLastRenderData=t;class n{static _deduceRage(C,S=null){return!S&&C?new y.Range(C.lineNumber,C.column,C.lineNumber,C.column):S??null}static createUnknown(C,S,D){return{type:0,element:C,mouseColumn:S,position:D,range:this._deduceRage(D)}}static createTextarea(C,S){return{type:1,element:C,mouseColumn:S,position:null,range:null}}static createMargin(C,S,D,I,T,N){return{type:C,element:S,mouseColumn:D,position:I,range:T,detail:N}}static createViewZone(C,S,D,I,T){return{type:C,element:S,mouseColumn:D,position:I,range:this._deduceRage(I),detail:T}}static createContentText(C,S,D,I,T){return{type:6,element:C,mouseColumn:S,position:D,range:this._deduceRage(D,I),detail:T}}static createContentEmpty(C,S,D,I){return{type:7,element:C,mouseColumn:S,position:D,range:this._deduceRage(D),detail:I}}static createContentWidget(C,S,D){return{type:9,element:C,mouseColumn:S,position:null,range:null,detail:D}}static createScrollbar(C,S,D){return{type:11,element:C,mouseColumn:S,position:D,range:this._deduceRage(D)}}static createOverlayWidget(C,S,D){return{type:12,element:C,mouseColumn:S,position:null,range:null,detail:D}}static createOutsideEditor(C,S,D,I){return{type:13,element:null,mouseColumn:C,position:S,range:this._deduceRage(S),outsidePosition:D,outsideDistance:I}}static _typeToString(C){return C===1?"TEXTAREA":C===2?"GUTTER_GLYPH_MARGIN":C===3?"GUTTER_LINE_NUMBERS":C===4?"GUTTER_LINE_DECORATIONS":C===5?"GUTTER_VIEW_ZONE":C===6?"CONTENT_TEXT":C===7?"CONTENT_EMPTY":C===8?"CONTENT_VIEW_ZONE":C===9?"CONTENT_WIDGET":C===10?"OVERVIEW_RULER":C===11?"SCROLLBAR":C===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(C){return this._typeToString(C.type)+": "+C.position+" - "+C.range+" - "+JSON.stringify(C.detail)}}e.MouseTarget=n;class h{static isTextArea(C){return C.length===2&&C[0]===3&&C[1]===7}static isChildOfViewLines(C){return C.length>=4&&C[0]===3&&C[3]===8}static isStrictChildOfViewLines(C){return C.length>4&&C[0]===3&&C[3]===8}static isChildOfScrollableElement(C){return C.length>=2&&C[0]===3&&C[1]===6}static isChildOfMinimap(C){return C.length>=2&&C[0]===3&&C[1]===9}static isChildOfContentWidgets(C){return C.length>=4&&C[0]===3&&C[3]===1}static isChildOfOverflowGuard(C){return C.length>=1&&C[0]===3}static isChildOfOverflowingContentWidgets(C){return C.length>=1&&C[0]===2}static isChildOfOverlayWidgets(C){return C.length>=2&&C[0]===3&&C[1]===4}static isChildOfOverflowingOverlayWidgets(C){return C.length>=1&&C[0]===5}}class m{constructor(C,S,D){this.viewModel=C.viewModel;const I=C.configuration.options;this.layoutInfo=I.get(145),this.viewDomNode=S.viewDomNode,this.lineHeight=I.get(67),this.stickyTabStops=I.get(116),this.typicalHalfwidthCharacterWidth=I.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=D,this._context=C,this._viewHelper=S}getZoneAtCoord(C){return m.getZoneAtCoord(this._context,C)}static getZoneAtCoord(C,S){const D=C.viewLayout.getWhitespaceAtVerticalOffset(S);if(D){const I=D.verticalOffset+D.height/2,T=C.viewModel.getLineCount();let N=null,A,P=null;return D.afterLineNumber!==T&&(P=new L.Position(D.afterLineNumber+1,1)),D.afterLineNumber>0&&(N=new L.Position(D.afterLineNumber,C.viewModel.getLineMaxColumn(D.afterLineNumber))),P===null?A=N:N===null?A=P:S<I?A=N:A=P,{viewZoneId:D.id,afterLineNumber:D.afterLineNumber,positionBefore:N,positionAfter:P,position:A}}return null}getFullLineRangeAtCoord(C){if(this._context.viewLayout.isAfterLines(C)){const I=this._context.viewModel.getLineCount(),T=this._context.viewModel.getLineMaxColumn(I);return{range:new y.Range(I,T,I,T),isAfterLines:!0}}const S=this._context.viewLayout.getLineNumberAtVerticalOffset(C),D=this._context.viewModel.getLineMaxColumn(S);return{range:new y.Range(S,1,S,D),isAfterLines:!1}}getLineNumberAtVerticalOffset(C){return this._context.viewLayout.getLineNumberAtVerticalOffset(C)}isAfterLines(C){return this._context.viewLayout.isAfterLines(C)}isInTopPadding(C){return this._context.viewLayout.isInTopPadding(C)}isInBottomPadding(C){return this._context.viewLayout.isInBottomPadding(C)}getVerticalOffsetForLineNumber(C){return this._context.viewLayout.getVerticalOffsetForLineNumber(C)}findAttribute(C,S){return m._findAttribute(C,S,this._viewHelper.viewDomNode)}static _findAttribute(C,S,D){for(;C&&C!==C.ownerDocument.body;){if(C.hasAttribute&&C.hasAttribute(S))return C.getAttribute(S);if(C===D)return null;C=C.parentNode}return null}getLineWidth(C){return this._viewHelper.getLineWidth(C)}visibleRangeForPosition(C,S){return this._viewHelper.visibleRangeForPosition(C,S)}getPositionFromDOMInfo(C,S){return this._viewHelper.getPositionFromDOMInfo(C,S)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=m;class u{constructor(C,S,D,I){this.editorPos=S,this.pos=D,this.relativePos=I,this.mouseVerticalOffset=Math.max(0,C.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=C.getCurrentScrollLeft()+this.relativePos.x-C.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<C.layoutInfo.contentLeft&&this.relativePos.x>=C.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,o._getMouseColumn(this.mouseContentHorizontalOffset,C.typicalHalfwidthCharacterWidth))}}class d extends u{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=k.PartFingerprints.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(C,S,D,I,T){super(C,S,D,I),this.hitTestResult=new _.Lazy(()=>o.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=C,this._eventTarget=T;const N=!!this._eventTarget;this._useHitTestTarget=!N}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(C=null){return C&&C.column<this._ctx.viewModel.getLineMaxColumn(C.lineNumber)?p.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(C.lineNumber),C.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(C=null){return n.createUnknown(this.target,this._getMouseColumn(C),C)}fulfillTextarea(){return n.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(C,S,D,I){return n.createMargin(C,this.target,this._getMouseColumn(S),S,D,I)}fulfillViewZone(C,S,D){return n.createViewZone(C,this.target,this._getMouseColumn(S),S,D)}fulfillContentText(C,S,D){return n.createContentText(this.target,this._getMouseColumn(C),C,S,D)}fulfillContentEmpty(C,S){return n.createContentEmpty(this.target,this._getMouseColumn(C),C,S)}fulfillContentWidget(C){return n.createContentWidget(this.target,this._getMouseColumn(),C)}fulfillScrollbar(C){return n.createScrollbar(this.target,this._getMouseColumn(C),C)}fulfillOverlayWidget(C){return n.createOverlayWidget(this.target,this._getMouseColumn(),C)}}const r={isAfterLines:!0};function l(b){return{isAfterLines:!1,horizontalDistanceToText:b}}class o{constructor(C,S){this._context=C,this._viewHelper=S}mouseTargetIsWidget(C){const S=C.target,D=k.PartFingerprints.collect(S,this._viewHelper.viewDomNode);return!!(h.isChildOfContentWidgets(D)||h.isChildOfOverflowingContentWidgets(D)||h.isChildOfOverlayWidgets(D)||h.isChildOfOverflowingOverlayWidgets(D))}createMouseTarget(C,S,D,I,T){const N=new m(this._context,this._viewHelper,C),A=new d(N,S,D,I,T);try{const P=o._createMouseTarget(N,A);if(P.type===6&&N.stickyTabStops&&P.position!==null){const M=o._snapToSoftTabBoundary(P.position,N.viewModel),R=y.Range.fromPositions(M,M).plusRange(P.range);return A.fulfillContentText(M,R,P.detail)}return P}catch{return A.fulfillUnknown()}}static _createMouseTarget(C,S){if(S.target===null)return S.fulfillUnknown();const D=S;let I=null;return!h.isChildOfOverflowGuard(S.targetPath)&&!h.isChildOfOverflowingContentWidgets(S.targetPath)&&!h.isChildOfOverflowingOverlayWidgets(S.targetPath)&&(I=I||S.fulfillUnknown()),I=I||o._hitTestContentWidget(C,D),I=I||o._hitTestOverlayWidget(C,D),I=I||o._hitTestMinimap(C,D),I=I||o._hitTestScrollbarSlider(C,D),I=I||o._hitTestViewZone(C,D),I=I||o._hitTestMargin(C,D),I=I||o._hitTestViewCursor(C,D),I=I||o._hitTestTextArea(C,D),I=I||o._hitTestViewLines(C,D),I=I||o._hitTestScrollbar(C,D),I||S.fulfillUnknown()}static _hitTestContentWidget(C,S){if(h.isChildOfContentWidgets(S.targetPath)||h.isChildOfOverflowingContentWidgets(S.targetPath)){const D=C.findAttribute(S.target,"widgetId");return D?S.fulfillContentWidget(D):S.fulfillUnknown()}return null}static _hitTestOverlayWidget(C,S){if(h.isChildOfOverlayWidgets(S.targetPath)||h.isChildOfOverflowingOverlayWidgets(S.targetPath)){const D=C.findAttribute(S.target,"widgetId");return D?S.fulfillOverlayWidget(D):S.fulfillUnknown()}return null}static _hitTestViewCursor(C,S){if(S.target){const D=C.lastRenderData.lastViewCursorsRenderData;for(const I of D)if(S.target===I.domNode)return S.fulfillContentText(I.position,null,{mightBeForeignElement:!1,injectedText:null})}if(S.isInContentArea){const D=C.lastRenderData.lastViewCursorsRenderData,I=S.mouseContentHorizontalOffset,T=S.mouseVerticalOffset;for(const N of D){if(I<N.contentLeft||I>N.contentLeft+N.width)continue;const A=C.getVerticalOffsetForLineNumber(N.position.lineNumber);if(A<=T&&T<=A+N.height)return S.fulfillContentText(N.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(C,S){const D=C.getZoneAtCoord(S.mouseVerticalOffset);if(D){const I=S.isInContentArea?8:5;return S.fulfillViewZone(I,D.position,D)}return null}static _hitTestTextArea(C,S){return h.isTextArea(S.targetPath)?C.lastRenderData.lastTextareaPosition?S.fulfillContentText(C.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):S.fulfillTextarea():null}static _hitTestMargin(C,S){if(S.isInMarginArea){const D=C.getFullLineRangeAtCoord(S.mouseVerticalOffset),I=D.range.getStartPosition();let T=Math.abs(S.relativePos.x);const N={isAfterLines:D.isAfterLines,glyphMarginLeft:C.layoutInfo.glyphMarginLeft,glyphMarginWidth:C.layoutInfo.glyphMarginWidth,lineNumbersWidth:C.layoutInfo.lineNumbersWidth,offsetX:T};if(T-=C.layoutInfo.glyphMarginLeft,T<=C.layoutInfo.glyphMarginWidth){const A=C.viewModel.coordinatesConverter.convertViewPositionToModelPosition(D.range.getStartPosition()),P=C.viewModel.glyphLanes.getLanesAtLine(A.lineNumber);return N.glyphMarginLane=P[Math.floor(T/C.lineHeight)],S.fulfillMargin(2,I,D.range,N)}return T-=C.layoutInfo.glyphMarginWidth,T<=C.layoutInfo.lineNumbersWidth?S.fulfillMargin(3,I,D.range,N):(T-=C.layoutInfo.lineNumbersWidth,S.fulfillMargin(4,I,D.range,N))}return null}static _hitTestViewLines(C,S){if(!h.isChildOfViewLines(S.targetPath))return null;if(C.isInTopPadding(S.mouseVerticalOffset))return S.fulfillContentEmpty(new L.Position(1,1),r);if(C.isAfterLines(S.mouseVerticalOffset)||C.isInBottomPadding(S.mouseVerticalOffset)){const I=C.viewModel.getLineCount(),T=C.viewModel.getLineMaxColumn(I);return S.fulfillContentEmpty(new L.Position(I,T),r)}if(h.isStrictChildOfViewLines(S.targetPath)){const I=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset);if(C.viewModel.getLineLength(I)===0){const N=C.getLineWidth(I),A=l(S.mouseContentHorizontalOffset-N);return S.fulfillContentEmpty(new L.Position(I,1),A)}const T=C.getLineWidth(I);if(S.mouseContentHorizontalOffset>=T){const N=l(S.mouseContentHorizontalOffset-T),A=new L.Position(I,C.viewModel.getLineMaxColumn(I));return S.fulfillContentEmpty(A,N)}}const D=S.hitTestResult.value;return D.type===1?o.createMouseTargetFromHitTestPosition(C,S,D.spanNode,D.position,D.injectedText):S.wouldBenefitFromHitTestTargetSwitch?(S.switchToHitTestTarget(),this._createMouseTarget(C,S)):S.fulfillUnknown()}static _hitTestMinimap(C,S){if(h.isChildOfMinimap(S.targetPath)){const D=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=C.viewModel.getLineMaxColumn(D);return S.fulfillScrollbar(new L.Position(D,I))}return null}static _hitTestScrollbarSlider(C,S){if(h.isChildOfScrollableElement(S.targetPath)&&S.target&&S.target.nodeType===1){const D=S.target.className;if(D&&/\b(slider|scrollbar)\b/.test(D)){const I=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),T=C.viewModel.getLineMaxColumn(I);return S.fulfillScrollbar(new L.Position(I,T))}}return null}static _hitTestScrollbar(C,S){if(h.isChildOfScrollableElement(S.targetPath)){const D=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=C.viewModel.getLineMaxColumn(D);return S.fulfillScrollbar(new L.Position(D,I))}return null}getMouseColumn(C){const S=this._context.configuration.options,D=S.get(145),I=this._context.viewLayout.getCurrentScrollLeft()+C.x-D.contentLeft;return o._getMouseColumn(I,S.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(C,S){return C<0?1:Math.round(C/S)+1}static createMouseTargetFromHitTestPosition(C,S,D,I,T){const N=I.lineNumber,A=I.column,P=C.getLineWidth(N);if(S.mouseContentHorizontalOffset>P){const z=l(S.mouseContentHorizontalOffset-P);return S.fulfillContentEmpty(I,z)}const M=C.visibleRangeForPosition(N,A);if(!M)return S.fulfillUnknown(I);const R=M.left;if(Math.abs(S.mouseContentHorizontalOffset-R)<1)return S.fulfillContentText(I,null,{mightBeForeignElement:!!T,injectedText:T});const F=[];if(F.push({offset:M.left,column:A}),A>1){const z=C.visibleRangeForPosition(N,A-1);z&&F.push({offset:z.left,column:A-1})}const O=C.viewModel.getLineMaxColumn(N);if(A<O){const z=C.visibleRangeForPosition(N,A+1);z&&F.push({offset:z.left,column:A+1})}F.sort((z,U)=>z.offset-U.offset);const B=S.pos.toClientCoordinates(w.getWindow(C.viewDomNode)),H=D.getBoundingClientRect(),V=H.left<=B.clientX&&B.clientX<=H.right;let q=null;for(let z=1;z<F.length;z++){const U=F[z-1],Z=F[z];if(U.offset<=S.mouseContentHorizontalOffset&&S.mouseContentHorizontalOffset<=Z.offset){q=new y.Range(N,U.column,N,Z.column);const re=Math.abs(U.offset-S.mouseContentHorizontalOffset),x=Math.abs(Z.offset-S.mouseContentHorizontalOffset);I=re<x?new L.Position(N,U.column):new L.Position(N,Z.column);break}}return S.fulfillContentText(I,q,{mightBeForeignElement:!V||!!T,injectedText:T})}static _doHitTestWithCaretRangeFromPoint(C,S){const D=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=C.getVerticalOffsetForLineNumber(D),T=I+C.lineHeight;if(!(D===C.viewModel.getLineCount()&&S.mouseVerticalOffset>T)){const A=Math.floor((I+T)/2);let P=S.pos.y+(A-S.mouseVerticalOffset);P<=S.editorPos.y&&(P=S.editorPos.y+1),P>=S.editorPos.y+S.editorPos.height&&(P=S.editorPos.y+S.editorPos.height-1);const M=new f.PageCoordinates(S.pos.x,P),R=this._actualDoHitTestWithCaretRangeFromPoint(C,M.toClientCoordinates(w.getWindow(C.viewDomNode)));if(R.type===1)return R}return this._actualDoHitTestWithCaretRangeFromPoint(C,S.pos.toClientCoordinates(w.getWindow(C.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(C,S){const D=w.getShadowRoot(C.viewDomNode);let I;if(D?typeof D.caretRangeFromPoint>"u"?I=g(D,S.clientX,S.clientY):I=D.caretRangeFromPoint(S.clientX,S.clientY):I=C.viewDomNode.ownerDocument.caretRangeFromPoint(S.clientX,S.clientY),!I||!I.startContainer)return new a;const T=I.startContainer;if(T.nodeType===T.TEXT_NODE){const N=T.parentNode,A=N?N.parentNode:null,P=A?A.parentNode:null;return(P&&P.nodeType===P.ELEMENT_NODE?P.className:null)===E.ViewLine.CLASS_NAME?i.createFromDOMInfo(C,N,I.startOffset):new a(T.parentNode)}else if(T.nodeType===T.ELEMENT_NODE){const N=T.parentNode,A=N?N.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===E.ViewLine.CLASS_NAME?i.createFromDOMInfo(C,T,T.textContent.length):new a(T)}return new a}static _doHitTestWithCaretPositionFromPoint(C,S){const D=C.viewDomNode.ownerDocument.caretPositionFromPoint(S.clientX,S.clientY);if(D.offsetNode.nodeType===D.offsetNode.TEXT_NODE){const I=D.offsetNode.parentNode,T=I?I.parentNode:null,N=T?T.parentNode:null;return(N&&N.nodeType===N.ELEMENT_NODE?N.className:null)===E.ViewLine.CLASS_NAME?i.createFromDOMInfo(C,D.offsetNode.parentNode,D.offset):new a(D.offsetNode.parentNode)}if(D.offsetNode.nodeType===D.offsetNode.ELEMENT_NODE){const I=D.offsetNode.parentNode,T=I&&I.nodeType===I.ELEMENT_NODE?I.className:null,N=I?I.parentNode:null,A=N&&N.nodeType===N.ELEMENT_NODE?N.className:null;if(T===E.ViewLine.CLASS_NAME){const P=D.offsetNode.childNodes[Math.min(D.offset,D.offsetNode.childNodes.length-1)];if(P)return i.createFromDOMInfo(C,P,0)}else if(A===E.ViewLine.CLASS_NAME)return i.createFromDOMInfo(C,D.offsetNode,0)}return new a(D.offsetNode)}static _snapToSoftTabBoundary(C,S){const D=S.getLineContent(C.lineNumber),{tabSize:I}=S.model.getOptions(),T=v.AtomicTabMoveOperations.atomicPosition(D,C.column-1,I,2);return T!==-1?new L.Position(C.lineNumber,T+1):C}static doHitTest(C,S){let D=new a;if(typeof C.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?D=this._doHitTestWithCaretRangeFromPoint(C,S):C.viewDomNode.ownerDocument.caretPositionFromPoint&&(D=this._doHitTestWithCaretPositionFromPoint(C,S.pos.toClientCoordinates(w.getWindow(C.viewDomNode)))),D.type===1){const I=C.viewModel.getInjectedTextAt(D.position),T=C.viewModel.normalizePosition(D.position,2);(I||!T.equals(D.position))&&(D=new s(T,D.spanNode,I))}return D}}e.MouseTargetFactory=o;function g(b,C,S){const D=document.createRange();let I=b.elementFromPoint(C,S);if(I!==null){for(;I&&I.firstChild&&I.firstChild.nodeType!==I.firstChild.TEXT_NODE&&I.lastChild&&I.lastChild.firstChild;)I=I.lastChild;const T=I.getBoundingClientRect(),N=w.getWindow(I),A=N.getComputedStyle(I,null).getPropertyValue("font-style"),P=N.getComputedStyle(I,null).getPropertyValue("font-variant"),M=N.getComputedStyle(I,null).getPropertyValue("font-weight"),R=N.getComputedStyle(I,null).getPropertyValue("font-size"),F=N.getComputedStyle(I,null).getPropertyValue("line-height"),O=N.getComputedStyle(I,null).getPropertyValue("font-family"),B=`${A} ${P} ${M} ${R}/${F} ${O}`,H=I.innerText;let V=T.left,q=0,z;if(C>T.left+T.width)q=H.length;else{const U=c.getInstance();for(let Z=0;Z<H.length+1;Z++){if(z=U.getCharWidth(H.charAt(Z),B)/2,V+=z,C<V){q=Z;break}V+=z}}D.setStart(I.firstChild,q),D.setEnd(I.firstChild,q)}return D}class c{static getInstance(){return c._INSTANCE||(c._INSTANCE=new c),c._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(C,S){const D=C+S;if(this._cache[D])return this._cache[D];const I=this._canvas.getContext("2d");I.font=S;const N=I.measureText(C).width;return this._cache[D]=N,N}}c._INSTANCE=null}),define(ie[889],ne([1,0,6,73,2,17,386,175,158,9,24,163,79]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class i extends a.ViewEventHandler{constructor(d,r,l){super(),this._mouseLeaveMonitor=null,this._context=d,this.viewController=r,this.viewHelper=l,this.mouseTargetFactory=new y.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(c,b)=>this._createMouseTarget(c,b),c=>this._getMouseColumn(c))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(145).height;const o=new p.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(o.onContextMenu(this.viewHelper.viewDomNode,c=>this._onContextMenu(c,!0))),this._register(o.onMouseMove(this.viewHelper.viewDomNode,c=>{this._onMouseMove(c),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=f.addDisposableListener(this.viewHelper.viewDomNode.ownerDocument,"mousemove",b=>{this.viewHelper.viewDomNode.contains(b.target)||this._onMouseLeave(new p.EditorMouseEvent(b,!1,this.viewHelper.viewDomNode))}))})),this._register(o.onMouseUp(this.viewHelper.viewDomNode,c=>this._onMouseUp(c))),this._register(o.onMouseLeave(this.viewHelper.viewDomNode,c=>this._onMouseLeave(c)));let g=0;this._register(o.onPointerDown(this.viewHelper.viewDomNode,(c,b)=>{g=b})),this._register(f.addDisposableListener(this.viewHelper.viewDomNode,f.EventType.POINTER_UP,c=>{this._mouseDownOperation.onPointerUp()})),this._register(o.onMouseDown(this.viewHelper.viewDomNode,c=>this._onMouseDown(c,g))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const d=s.MouseWheelClassifier.INSTANCE;let r=0,l=w.EditorZoom.getZoomLevel(),o=!1,g=0;const c=C=>{if(this.viewController.emitMouseWheel(C),!this._context.configuration.options.get(76))return;const S=new k.StandardWheelEvent(C);if(d.acceptStandardWheelEvent(S),d.isPhysicalMouseWheel()){if(b(C)){const D=w.EditorZoom.getZoomLevel(),I=S.deltaY>0?1:-1;w.EditorZoom.setZoomLevel(D+I),S.preventDefault(),S.stopPropagation()}}else Date.now()-r>50&&(l=w.EditorZoom.getZoomLevel(),o=b(C),g=0),r=Date.now(),g+=S.deltaY,o&&(w.EditorZoom.setZoomLevel(l+g/5),S.preventDefault(),S.stopPropagation())};this._register(f.addDisposableListener(this.viewHelper.viewDomNode,f.EventType.MOUSE_WHEEL,c,{capture:!0,passive:!1}));function b(C){return L.isMacintosh?(C.metaKey||C.ctrlKey)&&!C.shiftKey&&!C.altKey:C.ctrlKey&&!C.metaKey&&!C.shiftKey&&!C.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(d){if(d.hasChanged(145)){const r=this._context.configuration.options.get(145).height;this._height!==r&&(this._height=r,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(d){return this._mouseDownOperation.onCursorStateChanged(d),!1}onFocusChanged(d){return!1}getTargetAtClientPoint(d,r){const o=new p.ClientCoordinates(d,r).toPageCoordinates(f.getWindow(this.viewHelper.viewDomNode)),g=(0,p.createEditorPagePosition)(this.viewHelper.viewDomNode);if(o.y<g.y||o.y>g.y+g.height||o.x<g.x||o.x>g.x+g.width)return null;const c=(0,p.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,g,o);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,o,c,null)}_createMouseTarget(d,r){let l=d.target;if(!this.viewHelper.viewDomNode.contains(l)){const o=f.getShadowRoot(this.viewHelper.viewDomNode);o&&(l=o.elementsFromPoint(d.posx,d.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),d.editorPos,d.pos,d.relativePos,r?l:null)}_getMouseColumn(d){return this.mouseTargetFactory.getMouseColumn(d.relativePos)}_onContextMenu(d,r){this.viewController.emitContextMenu({event:d,target:this._createMouseTarget(d,r)})}_onMouseMove(d){this.mouseTargetFactory.mouseTargetIsWidget(d)||d.preventDefault(),!(this._mouseDownOperation.isActive()||d.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:d,target:this._createMouseTarget(d,!0)})}_onMouseLeave(d){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:d,target:null})}_onMouseUp(d){this.viewController.emitMouseUp({event:d,target:this._createMouseTarget(d,!0)})}_onMouseDown(d,r){const l=this._createMouseTarget(d,!0),o=l.type===6||l.type===7,g=l.type===2||l.type===3||l.type===4,c=l.type===3,b=this._context.configuration.options.get(109),C=l.type===8||l.type===5,S=l.type===9;let D=d.leftButton||d.middleButton;L.isMacintosh&&d.leftButton&&d.ctrlKey&&(D=!1);const I=()=>{d.preventDefault(),this.viewHelper.focusTextArea()};if(D&&(o||c&&b))I(),this._mouseDownOperation.start(l.type,d,r);else if(g)d.preventDefault();else if(C){const T=l.detail;D&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(I(),this._mouseDownOperation.start(l.type,d,r),d.preventDefault())}else S&&this.viewHelper.shouldSuppressMouseDownOnWidget(l.detail)&&(I(),d.preventDefault());this.viewController.emitMouseDown({event:d,target:l})}}e.MouseHandler=i;class t extends E.Disposable{constructor(d,r,l,o,g,c){super(),this._context=d,this._viewController=r,this._viewHelper=l,this._mouseTargetFactory=o,this._createMouseTarget=g,this._getMouseColumn=c,this._mouseMoveMonitor=this._register(new p.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new n(this._context,this._viewHelper,this._mouseTargetFactory,(b,C,S)=>this._dispatchMouse(b,C,S))),this._mouseState=new m,this._currentSelection=new _.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(d){this._lastMouseEvent=d,this._mouseState.setModifiers(d);const r=this._findMousePosition(d,!1);r&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:d,target:r}):r.type===13&&(r.outsidePosition==="above"||r.outsidePosition==="below")?this._topBottomDragScrolling.start(r,d):(this._topBottomDragScrolling.stop(),this._dispatchMouse(r,!0,1)))}start(d,r,l){this._lastMouseEvent=r,this._mouseState.setStartedOnLineNumbers(d===3),this._mouseState.setStartButtons(r),this._mouseState.setModifiers(r);const o=this._findMousePosition(r,!0);if(!o||!o.position)return;this._mouseState.trySetCount(r.detail,o.position),r.detail=this._mouseState.count;const g=this._context.configuration.options;if(!g.get(91)&&g.get(35)&&!g.get(22)&&!this._mouseState.altKey&&r.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,r.buttons,c=>this._onMouseDownThenMove(c),c=>{const b=this._findMousePosition(this._lastMouseEvent,!1);f.isKeyboardEvent(c)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:b?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,r.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,r.buttons,c=>this._onMouseDownThenMove(c),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(d){this._currentSelection=d.selections[0]}_getPositionOutsideEditor(d){const r=d.editorPos,l=this._context.viewModel,o=this._context.viewLayout,g=this._getMouseColumn(d);if(d.posy<r.y){const b=r.y-d.posy,C=Math.max(o.getCurrentScrollTop()-b,0),S=y.HitTestContext.getZoneAtCoord(this._context,C);if(S){const I=this._helpPositionJumpOverViewZone(S);if(I)return y.MouseTarget.createOutsideEditor(g,I,"above",b)}const D=o.getLineNumberAtVerticalOffset(C);return y.MouseTarget.createOutsideEditor(g,new v.Position(D,1),"above",b)}if(d.posy>r.y+r.height){const b=d.posy-r.y-r.height,C=o.getCurrentScrollTop()+d.relativePos.y,S=y.HitTestContext.getZoneAtCoord(this._context,C);if(S){const I=this._helpPositionJumpOverViewZone(S);if(I)return y.MouseTarget.createOutsideEditor(g,I,"below",b)}const D=o.getLineNumberAtVerticalOffset(C);return y.MouseTarget.createOutsideEditor(g,new v.Position(D,l.getLineMaxColumn(D)),"below",b)}const c=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+d.relativePos.y);if(d.posx<r.x){const b=r.x-d.posx;return y.MouseTarget.createOutsideEditor(g,new v.Position(c,1),"left",b)}if(d.posx>r.x+r.width){const b=d.posx-r.x-r.width;return y.MouseTarget.createOutsideEditor(g,new v.Position(c,l.getLineMaxColumn(c)),"right",b)}return null}_findMousePosition(d,r){const l=this._getPositionOutsideEditor(d);if(l)return l;const o=this._createMouseTarget(d,r);if(!o.position)return null;if(o.type===8||o.type===5){const c=this._helpPositionJumpOverViewZone(o.detail);if(c)return y.MouseTarget.createViewZone(o.type,o.element,o.mouseColumn,c,o.detail)}return o}_helpPositionJumpOverViewZone(d){const r=new v.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=d.positionBefore,o=d.positionAfter;return l&&o?l.isBefore(r)?l:o:null}_dispatchMouse(d,r,l){d.position&&this._viewController.dispatchMouse({position:d.position,mouseColumn:d.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:l,inSelectionMode:r,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:d.type===6&&d.detail.injectedText!==null})}}class n extends E.Disposable{constructor(d,r,l,o){super(),this._context=d,this._viewHelper=r,this._mouseTargetFactory=l,this._dispatchMouse=o,this._operation=null}dispose(){super.dispose(),this.stop()}start(d,r){this._operation?this._operation.setPosition(d,r):this._operation=new h(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,d,r)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class h extends E.Disposable{constructor(d,r,l,o,g,c){super(),this._context=d,this._viewHelper=r,this._mouseTargetFactory=l,this._dispatchMouse=o,this._position=g,this._mouseEvent=c,this._lastTime=Date.now(),this._animationFrameDisposable=f.scheduleAtNextAnimationFrame(f.getWindow(c.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(d,r){this._position=d,this._mouseEvent=r}_tick(){const d=Date.now(),r=d-this._lastTime;return this._lastTime=d,r}_getScrollSpeed(){const d=this._context.configuration.options.get(67),r=this._context.configuration.options.get(145).height/d,l=this._position.outsideDistance/d;return l<=1.5?Math.max(30,r*(1+l)):l<=3?Math.max(60,r*(2+l)):Math.max(200,r*(7+l))}_execute(){const d=this._context.configuration.options.get(67),r=this._getScrollSpeed(),l=this._tick(),o=r*(l/1e3)*d,g=this._position.outsidePosition==="above"?-o:o;this._context.viewModel.viewLayout.deltaScrollNow(0,g),this._viewHelper.renderNow();const c=this._context.viewLayout.getLinesViewportData(),b=this._position.outsidePosition==="above"?c.startLineNumber:c.endLineNumber;let C;{const S=(0,p.createEditorPagePosition)(this._viewHelper.viewDomNode),D=this._context.configuration.options.get(145).horizontalScrollbarHeight,I=new p.PageCoordinates(this._mouseEvent.pos.x,S.y+S.height-D-.1),T=(0,p.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,S,I);C=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),S,I,T,null)}(!C.position||C.position.lineNumber!==b)&&(this._position.outsidePosition==="above"?C=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new v.Position(b,1),"above",this._position.outsideDistance):C=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new v.Position(b,this._context.viewModel.getLineMaxColumn(b)),"below",this._position.outsideDistance)),this._dispatchMouse(C,!0,2),this._animationFrameDisposable=f.scheduleAtNextAnimationFrame(f.getWindow(C.element),()=>this._execute())}}class m{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(d){this._altKey=d.altKey,this._ctrlKey=d.ctrlKey,this._metaKey=d.metaKey,this._shiftKey=d.shiftKey}setStartButtons(d){this._leftButton=d.leftButton,this._middleButton=d.middleButton}setStartedOnLineNumbers(d){this._startedOnLineNumbers=d}trySetCount(d,r){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>m.CLEAR_MOUSE_DOWN_COUNT_TIME&&(d=1),this._lastSetMouseDownCountTime=l,d>this._lastMouseDownCount+1&&(d=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(r)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=r,this._lastMouseDownCount=Math.min(d,this._lastMouseDownPositionEqualCount)}}m.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ie[890],ne([1,0,236,6,67,52,2,17,889,203,175]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class a extends w.MouseHandler{constructor(n,h,m){super(n,h,m),this._register(E.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Tap,d=>this.onTap(d))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Change,d=>this.onChange(d))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Contextmenu,d=>this._onContextMenu(new _.EditorMouseEvent(d,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",d=>{const r=d.pointerType;if(r==="mouse"){this._lastPointerType="mouse";return}else r==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const u=new _.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(u.onPointerMove(this.viewHelper.viewDomNode,d=>this._onMouseMove(d))),this._register(u.onPointerUp(this.viewHelper.viewDomNode,d=>this._onMouseUp(d))),this._register(u.onPointerLeave(this.viewHelper.viewDomNode,d=>this._onMouseLeave(d))),this._register(u.onPointerDown(this.viewHelper.viewDomNode,(d,r)=>this._onMouseDown(d,r)))}onTap(n){!n.initialTarget||!this.viewHelper.linesContentDomNode.contains(n.initialTarget)||(n.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(n,!1))}onChange(n){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(n,!0)}_dispatchGesture(n,h){const m=this._createMouseTarget(new _.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);m.position&&this.viewController.dispatchMouse({position:m.position,mouseColumn:m.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:n.tapCount,inSelectionMode:h,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:m.type===6&&m.detail.injectedText!==null})}_onMouseDown(n,h){n.browserEvent.pointerType!=="touch"&&super._onMouseDown(n,h)}}e.PointerEventHandler=a;class s extends w.MouseHandler{constructor(n,h,m){super(n,h,m),this._register(E.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Tap,u=>this.onTap(u))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Change,u=>this.onChange(u))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Contextmenu,u=>this._onContextMenu(new _.EditorMouseEvent(u,!1,this.viewHelper.viewDomNode),!1)))}onTap(n){n.preventDefault(),this.viewHelper.focusTextArea();const h=this._createMouseTarget(new _.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);if(h.position){const m=document.createEvent("CustomEvent");m.initEvent(v.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(m),this.viewController.moveTo(h.position,1)}}onChange(n){this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY)}}class i extends y.Disposable{constructor(n,h,m){super(),(p.isIOS||p.isAndroid&&p.isMobile)&&f.BrowserFeatures.pointerEvents?this.handler=this._register(new a(n,h,m)):L.mainWindow.TouchEvent?this.handler=this._register(new s(n,h,m)):this.handler=this._register(new w.MouseHandler(n,h,m))}getTargetAtClientPoint(n,h){return this.handler.getTargetAtClientPoint(n,h)}}e.PointerHandler=i}),define(ie[891],ne([1,0,216,15,17,71,157,250,56,516,271,9,5,458]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new s.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(u){this._currentVisibleRange=u}}class t{constructor(u,d,r,l,o,g,c){this.minimalReveal=u,this.lineNumber=d,this.startColumn=r,this.endColumn=l,this.startScrollTop=o,this.stopScrollTop=g,this.scrollType=c,this.type="range",this.minLineNumber=d,this.maxLineNumber=d}}class n{constructor(u,d,r,l,o){this.minimalReveal=u,this.selections=d,this.startScrollTop=r,this.stopScrollTop=l,this.scrollType=o,this.type="selections";let g=d[0].startLineNumber,c=d[0].endLineNumber;for(let b=1,C=d.length;b<C;b++){const S=d[b];g=Math.min(g,S.startLineNumber),c=Math.max(c,S.endLineNumber)}this.minLineNumber=g,this.maxLineNumber=c}}class h extends w.ViewPart{constructor(u,d){super(u),this._linesContent=d,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new p.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const r=this._context.configuration,l=this._context.configuration.options,o=l.get(50),g=l.get(146);this._lineHeight=l.get(67),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=g.isViewportWrapping,this._revealHorizontalRightPadding=l.get(100),this._cursorSurroundingLines=l.get(29),this._cursorSurroundingLinesStyle=l.get(30),this._canUseLayerHinting=!l.get(32),this._viewLineOptions=new _.ViewLineOptions(r,this._context.theme.type),w.PartFingerprints.write(this.domNode,8),this.domNode.setClassName(`view-lines ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,L.applyFontInfo)(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=l.get(115).enabled,this._maxNumberStickyLines=l.get(115).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new _.ViewLine(this._viewLineOptions)}onConfigurationChanged(u){this._visibleLines.onConfigurationChanged(u),u.hasChanged(146)&&(this._maxLineWidth=0);const d=this._context.configuration.options,r=d.get(50),l=d.get(146);return this._lineHeight=d.get(67),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=d.get(100),this._cursorSurroundingLines=d.get(29),this._cursorSurroundingLinesStyle=d.get(30),this._canUseLayerHinting=!d.get(32),this._stickyScrollEnabled=d.get(115).enabled,this._maxNumberStickyLines=d.get(115).maxLineCount,(0,L.applyFontInfo)(this.domNode,r),this._onOptionsMaybeChanged(),u.hasChanged(145)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const u=this._context.configuration,d=new _.ViewLineOptions(u,this._context.theme.type);if(!this._viewLineOptions.equals(d)){this._viewLineOptions=d;const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let o=r;o<=l;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(u){const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let l=!1;for(let o=d;o<=r;o++)l=this._visibleLines.getVisibleLine(o).onSelectionChanged()||l;return l}onDecorationsChanged(u){{const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let l=d;l<=r;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(u){const d=this._visibleLines.onFlushed(u);return this._maxLineWidth=0,d}onLinesChanged(u){return this._visibleLines.onLinesChanged(u)}onLinesDeleted(u){return this._visibleLines.onLinesDeleted(u)}onLinesInserted(u){return this._visibleLines.onLinesInserted(u)}onRevealRangeRequest(u){const d=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),u.source,u.minimalReveal,u.range,u.selections,u.verticalType);if(d===-1)return!1;let r=this._context.viewLayout.validateScrollPosition({scrollTop:d});u.revealHorizontal?u.range&&u.range.startLineNumber!==u.range.endLineNumber?r={scrollTop:r.scrollTop,scrollLeft:0}:u.range?this._horizontalRevealRequest=new t(u.minimalReveal,u.range.startLineNumber,u.range.startColumn,u.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,u.scrollType):u.selections&&u.selections.length>0&&(this._horizontalRevealRequest=new n(u.minimalReveal,u.selections,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,u.scrollType)):this._horizontalRevealRequest=null;const o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-r.scrollTop)<=this._lineHeight?1:u.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(r,o),!0}onScrollChanged(u){if(this._horizontalRevealRequest&&u.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&u.scrollTopChanged){const d=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),r=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(u.scrollTop<d||u.scrollTop>r)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(u.scrollWidth),this._visibleLines.onScrollChanged(u)||!0}onTokensChanged(u){return this._visibleLines.onTokensChanged(u)}onZonesChanged(u){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(u)}onThemeChanged(u){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(u,d){const r=this._getViewLineDomNode(u);if(r===null)return null;const l=this._getLineNumberFor(r);if(l===-1||l<1||l>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(l)===1)return new a.Position(l,1);const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();if(l<o||l>g)return null;let c=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(u,d);const b=this._context.viewModel.getLineMinColumn(l);return c<b&&(c=b),new a.Position(l,c)}_getViewLineDomNode(u){for(;u&&u.nodeType===1;){if(u.className===_.ViewLine.CLASS_NAME)return u;u=u.parentElement}return null}_getLineNumberFor(u){const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let l=d;l<=r;l++){const o=this._visibleLines.getVisibleLine(l);if(u===o.getDomNode())return l}return-1}getLineWidth(u){const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(u<d||u>r)return-1;const l=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(u).getWidth(l);return this._updateLineWidthsSlowIfDomDidLayout(l),o}linesVisibleRangesForRange(u,d){if(this.shouldRender())return null;const r=u.endLineNumber,l=s.Range.intersectRanges(u,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;const o=[];let g=0;const c=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let b=0;d&&(b=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(l.startLineNumber,1)).lineNumber);const C=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber();for(let D=l.startLineNumber;D<=l.endLineNumber;D++){if(D<C||D>S)continue;const I=D===l.startLineNumber?l.startColumn:1,T=D!==l.endLineNumber,N=T?this._context.viewModel.getLineMaxColumn(D):l.endColumn,A=this._visibleLines.getVisibleLine(D).getVisibleRangesForRange(D,I,N,c);if(A){if(d&&D<r){const P=b;b=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(D+1,1)).lineNumber,P!==b&&(A.ranges[A.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[g++]=new y.LineVisibleRanges(A.outsideRenderedLine,D,y.HorizontalRange.from(A.ranges),T)}}return this._updateLineWidthsSlowIfDomDidLayout(c),g===0?null:o}_visibleRangesForLineRange(u,d,r){if(this.shouldRender()||u<this._visibleLines.getStartLineNumber()||u>this._visibleLines.getEndLineNumber())return null;const l=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,d,r,l);return this._updateLineWidthsSlowIfDomDidLayout(l),o}visibleRangeForPosition(u){const d=this._visibleRangesForLineRange(u.lineNumber,u.column,u.column);return d?new y.HorizontalPosition(d.outsideRenderedLine,d.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(u){u.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(u){const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let l=1,o=!0;for(let g=d;g<=r;g++){const c=this._visibleLines.getVisibleLine(g);if(u&&!c.getWidthIsFast()){o=!1;continue}l=Math.max(l,c.getWidth(null))}return o&&d===1&&r===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),o}_checkMonospaceFontAssumptions(){let u=-1,d=-1;const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let o=r;o<=l;o++){const g=this._visibleLines.getVisibleLine(o);if(g.needsMonospaceFontCheck()){const c=g.getWidth(null);c>d&&(d=c,u=o)}}if(u!==-1&&!this._visibleLines.getVisibleLine(u).monospaceAssumptionsAreValid())for(let o=r;o<=l;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(u){if(this._visibleLines.renderLines(u),this._lastRenderedData.setCurrentVisibleRange(u.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const r=this._horizontalRevealRequest;if(u.startLineNumber<=r.minLineNumber&&r.maxLineNumber<=u.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(r);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:l.scrollLeft},r.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),E.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let o=r;o<=l;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const d=this._context.viewLayout.getCurrentScrollTop()-u.bigNumbersDelta;this._linesContent.setTop(-d),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(u){const d=Math.ceil(u);this._maxLineWidth<d&&(this._maxLineWidth=d,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(u,d,r,l,o,g){const c=u.top,b=u.height,C=c+b;let S,D,I;if(o&&o.length>0){let M=o[0].startLineNumber,R=o[0].endLineNumber;for(let F=1,O=o.length;F<O;F++){const B=o[F];M=Math.min(M,B.startLineNumber),R=Math.max(R,B.endLineNumber)}S=!1,D=this._context.viewLayout.getVerticalOffsetForLineNumber(M),I=this._context.viewLayout.getVerticalOffsetForLineNumber(R)+this._lineHeight}else if(l)S=!0,D=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;const T=(d==="mouse"||r)&&this._cursorSurroundingLinesStyle==="default";let N=0,A=0;if(T)r||(N=this._lineHeight);else{const M=Math.min(b/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?N=Math.max(M,this._maxNumberStickyLines)*this._lineHeight:N=M*this._lineHeight,A=Math.max(0,M-1)*this._lineHeight}r||(g===0||g===4)&&(A+=this._lineHeight),D-=N,I+=A;let P;if(I-D>b){if(!S)return-1;P=D}else if(g===5||g===6)if(g===6&&c<=D&&I<=C)P=c;else{const M=Math.max(5*this._lineHeight,b*.2),R=D-M,F=I-b;P=Math.max(F,R)}else if(g===1||g===2)if(g===2&&c<=D&&I<=C)P=c;else{const M=(D+I)/2;P=Math.max(0,M-b/2)}else P=this._computeMinimumScrolling(c,C,D,I,g===3,g===4);return P}_computeScrollLeftToReveal(u){const d=this._context.viewLayout.getCurrentViewport(),r=this._context.configuration.options.get(145),l=d.left,o=l+d.width-r.verticalScrollbarWidth;let g=1073741824,c=0;if(u.type==="range"){const C=this._visibleRangesForLineRange(u.lineNumber,u.startColumn,u.endColumn);if(!C)return null;for(const S of C.ranges)g=Math.min(g,Math.round(S.left)),c=Math.max(c,Math.round(S.left+S.width))}else for(const C of u.selections){if(C.startLineNumber!==C.endLineNumber)return null;const S=this._visibleRangesForLineRange(C.startLineNumber,C.startColumn,C.endColumn);if(!S)return null;for(const D of S.ranges)g=Math.min(g,Math.round(D.left)),c=Math.max(c,Math.round(D.left+D.width))}return u.minimalReveal||(g=Math.max(0,g-h.HORIZONTAL_EXTRA_PX),c+=this._revealHorizontalRightPadding),u.type==="selections"&&c-g>d.width?null:{scrollLeft:this._computeMinimumScrolling(l,o,g,c),maxHorizontalOffset:c}}_computeMinimumScrolling(u,d,r,l,o,g){u=u|0,d=d|0,r=r|0,l=l|0,o=!!o,g=!!g;const c=d-u;if(l-r<c){if(o)return r;if(g)return Math.max(0,l-c);if(r<u)return r;if(l>d)return Math.max(0,l-c)}else return r;return u}}e.ViewLines=h,h.HORIZONTAL_EXTRA_PX=30}),define(ie[23],ne([1,0,7,2,8,39,94]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.Extensions=e.IThemeService=void 0,e.themeColorFromId=p,e.getThemeTypeSelector=w,e.registerThemingParticipant=a,e.IThemeService=(0,E.createDecorator)("themeService");function p(i){return{id:i}}function w(i){switch(i){case y.ColorScheme.DARK:return"vs-dark";case y.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case y.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.Extensions={ThemingContribution:"base.contributions.theming"};class v{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new f.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,k.toDisposable)(()=>{const n=this.themingParticipants.indexOf(t);this.themingParticipants.splice(n,1)})}getThemingParticipants(){return this.themingParticipants}}const _=new v;L.Registry.add(e.Extensions.ThemingContribution,_);function a(i){return _.onColorThemeChange(i)}class s extends k.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(n=>this.onThemeChange(n)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=s}),define(ie[892],ne([1,0,7,2,70,23]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let y=class extends k.Disposable{constructor(v){super(),this._themeService=v,this._onWillCreateCodeEditor=this._register(new f.Emitter),this._onCodeEditorAdd=this._register(new f.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new f.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new f.Emitter),this._onDiffEditorAdd=this._register(new f.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new f.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new E.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(v){this._codeEditors[v.getId()]=v,this._onCodeEditorAdd.fire(v)}removeCodeEditor(v){delete this._codeEditors[v.getId()]&&this._onCodeEditorRemove.fire(v)}listCodeEditors(){return Object.keys(this._codeEditors).map(v=>this._codeEditors[v])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(v){this._diffEditors[v.getId()]=v,this._onDiffEditorAdd.fire(v)}listDiffEditors(){return Object.keys(this._diffEditors).map(v=>this._diffEditors[v])}getFocusedCodeEditor(){let v=null;const _=this.listCodeEditors();for(const a of _){if(a.hasTextFocus())return a;a.hasWidgetFocus()&&(v=a)}return v}removeDecorationType(v){const _=this._decorationOptionProviders.get(v);_&&(_.refCount--,_.refCount<=0&&(this._decorationOptionProviders.delete(v),_.dispose(),this.listCodeEditors().forEach(a=>a.removeDecorationsByType(v))))}setModelProperty(v,_,a){const s=v.toString();let i;this._modelProperties.has(s)?i=this._modelProperties.get(s):(i=new Map,this._modelProperties.set(s,i)),i.set(_,a)}getModelProperty(v,_){const a=v.toString();if(this._modelProperties.has(a))return this._modelProperties.get(a).get(_)}async openCodeEditor(v,_,a){for(const s of this._codeEditorOpenHandlers){const i=await s(v,_,a);if(i!==null)return i}return null}registerCodeEditorOpenHandler(v){const _=this._codeEditorOpenHandlers.unshift(v);return(0,k.toDisposable)(_)}};e.AbstractCodeEditorService=y,e.AbstractCodeEditorService=y=Ie([ue(0,L.IThemeService)],y);class p{constructor(v){this._styleSheet=v}}e.GlobalStyleSheet=p}),define(ie[893],ne([1,0,46,23,32,202,58,8,826,2,6,35,48,68,113,52,368]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverService=void 0;let m=class extends v.Disposable{constructor(l,o,g,c,b){super(),this._instantiationService=l,this._keybindingService=g,this._layoutService=c,this._accessibilityService=b,o.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new h.ContextViewHandler(this._layoutService))}showHover(l,o,g){var c,b,C,S;if(u(this._currentHoverOptions)===u(l)||this._currentHover&&(!((b=(c=this._currentHoverOptions)===null||c===void 0?void 0:c.persistence)===null||b===void 0)&&b.sticky))return;this._currentHoverOptions=l,this._lastHoverOptions=l;const D=l.trapFocus||this._accessibilityService.isScreenReaderOptimized(),I=(0,_.getActiveElement)();g||(D&&I?this._lastFocusedElementBeforeOpen=I:this._lastFocusedElementBeforeOpen=void 0);const T=new v.DisposableStore,N=this._instantiationService.createInstance(w.HoverWidget,l);if(!((C=l.persistence)===null||C===void 0)&&C.sticky&&(N.isLocked=!0),N.onDispose(()=>{var A,P;((A=this._currentHover)===null||A===void 0?void 0:A.domNode)&&(0,_.isAncestorOfActiveElement)(this._currentHover.domNode)&&((P=this._lastFocusedElementBeforeOpen)===null||P===void 0||P.focus()),this._currentHoverOptions===l&&(this._currentHoverOptions=void 0),T.dispose()}),!l.container){const A=l.target instanceof HTMLElement?l.target:l.target.targetElements[0];l.container=this._layoutService.getContainer((0,_.getWindow)(A))}if(this._contextViewHandler.showContextView(new d(N,o),l.container),N.onRequestLayout(()=>this._contextViewHandler.layout()),!((S=l.persistence)===null||S===void 0)&&S.sticky)T.add((0,_.addDisposableListener)((0,_.getWindow)(l.container).document,_.EventType.MOUSE_DOWN,A=>{(0,_.isAncestor)(A.target,N.domNode)||this.doHideHover()}));else{if("targetElements"in l.target)for(const P of l.target.targetElements)T.add((0,_.addDisposableListener)(P,_.EventType.CLICK,()=>this.hideHover()));else T.add((0,_.addDisposableListener)(l.target,_.EventType.CLICK,()=>this.hideHover()));const A=(0,_.getActiveElement)();if(A){const P=(0,_.getWindow)(A).document;T.add((0,_.addDisposableListener)(A,_.EventType.KEY_DOWN,M=>{var R;return this._keyDown(M,N,!!(!((R=l.persistence)===null||R===void 0)&&R.hideOnKeyDown))})),T.add((0,_.addDisposableListener)(P,_.EventType.KEY_DOWN,M=>{var R;return this._keyDown(M,N,!!(!((R=l.persistence)===null||R===void 0)&&R.hideOnKeyDown))})),T.add((0,_.addDisposableListener)(A,_.EventType.KEY_UP,M=>this._keyUp(M,N))),T.add((0,_.addDisposableListener)(P,_.EventType.KEY_UP,M=>this._keyUp(M,N)))}}if("IntersectionObserver"in n.mainWindow){const A=new IntersectionObserver(M=>this._intersectionChange(M,N),{threshold:0}),P="targetElements"in l.target?l.target.targetElements[0]:l.target;A.observe(P),T.add((0,v.toDisposable)(()=>A.disconnect()))}return this._currentHover=N,N}hideHover(){var l;!((l=this._currentHover)===null||l===void 0)&&l.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(l,o){l[l.length-1].isIntersecting||o.dispose()}_keyDown(l,o,g){var c,b;if(l.key==="Alt"){o.isLocked=!0;return}const C=new s.StandardKeyboardEvent(l);this._keybindingService.resolveKeyboardEvent(C).getSingleModifierDispatchChords().some(D=>!!D)||this._keybindingService.softDispatch(C,C.target).kind!==0||g&&(!(!((c=this._currentHoverOptions)===null||c===void 0)&&c.trapFocus)||l.key!=="Tab")&&(this.hideHover(),(b=this._lastFocusedElementBeforeOpen)===null||b===void 0||b.focus())}_keyUp(l,o){var g;l.key==="Alt"&&(o.isLocked=!1,o.isMouseIn||(this.hideHover(),(g=this._lastFocusedElementBeforeOpen)===null||g===void 0||g.focus()))}};e.HoverService=m,e.HoverService=m=Ie([ue(0,p.IInstantiationService),ue(1,y.IContextMenuService),ue(2,a.IKeybindingService),ue(3,t.ILayoutService),ue(4,i.IAccessibilityService)],m);function u(r){var l;if(r!==void 0)return(l=r?.id)!==null&&l!==void 0?l:r}class d{get anchorPosition(){return this._hover.anchor}constructor(l,o=!1){this._hover=l,this._focus=o,this.layer=1}render(l){return this._hover.render(l),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}(0,f.registerSingleton)(L.IHoverService,m,1),(0,k.registerThemingParticipant)((r,l)=>{const o=r.getColor(E.editorHoverBorder);o&&(l.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),l.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`))})}),define(ie[894],ne([1,0,6,40,79,56,23]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends L.ViewPart{constructor(v,_,a,s){super(v);const i=this._context.configuration.options,t=i.get(103),n=i.get(75),h=i.get(40),m=i.get(106),u={listenOnDomNode:a.domNode,className:"editor-scrollable "+(0,y.getThemeTypeSelector)(v.theme.type),useShadows:!1,lazyRender:!0,vertical:t.vertical,horizontal:t.horizontal,verticalHasArrows:t.verticalHasArrows,horizontalHasArrows:t.horizontalHasArrows,verticalScrollbarSize:t.verticalScrollbarSize,verticalSliderSize:t.verticalSliderSize,horizontalScrollbarSize:t.horizontalScrollbarSize,horizontalSliderSize:t.horizontalSliderSize,handleMouseWheel:t.handleMouseWheel,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel,arrowSize:t.arrowSize,mouseWheelScrollSensitivity:n,fastScrollSensitivity:h,scrollPredominantAxis:m,scrollByPage:t.scrollByPage};this.scrollbar=this._register(new E.SmoothScrollableElement(_.domNode,u,this._context.viewLayout.getScrollable())),L.PartFingerprints.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(r,l,o)=>{const g={};if(l){const c=r.scrollTop;c&&(g.scrollTop=this._context.viewLayout.getCurrentScrollTop()+c,r.scrollTop=0)}if(o){const c=r.scrollLeft;c&&(g.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+c,r.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(g,1)};this._register(f.addDisposableListener(a.domNode,"scroll",r=>d(a.domNode,!0,!0))),this._register(f.addDisposableListener(_.domNode,"scroll",r=>d(_.domNode,!0,!1))),this._register(f.addDisposableListener(s.domNode,"scroll",r=>d(s.domNode,!0,!1))),this._register(f.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",r=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const v=this._context.configuration.options,_=v.get(145);this.scrollbarDomNode.setLeft(_.contentLeft),v.get(73).side==="right"?this.scrollbarDomNode.setWidth(_.contentWidth+_.minimap.minimapWidth):this.scrollbarDomNode.setWidth(_.contentWidth),this.scrollbarDomNode.setHeight(_.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(v){this.scrollbar.delegateVerticalScrollbarPointerDown(v)}delegateScrollFromMouseWheelEvent(v){this.scrollbar.delegateScrollFromMouseWheelEvent(v)}onConfigurationChanged(v){if(v.hasChanged(103)||v.hasChanged(75)||v.hasChanged(40)){const _=this._context.configuration.options,a=_.get(103),s=_.get(75),i=_.get(40),t=_.get(106),n={vertical:a.vertical,horizontal:a.horizontal,verticalScrollbarSize:a.verticalScrollbarSize,horizontalScrollbarSize:a.horizontalScrollbarSize,scrollByPage:a.scrollByPage,handleMouseWheel:a.handleMouseWheel,mouseWheelScrollSensitivity:s,fastScrollSensitivity:i,scrollPredominantAxis:t};this.scrollbar.updateOptions(n)}return v.hasChanged(145)&&this._setLayout(),!0}onScrollChanged(v){return!0}onThemeChanged(v){return this.scrollbar.updateClassName("editor-scrollable "+(0,y.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(v){}render(v){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(ie[895],ne([1,0,126,32,23,466]),function(J,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class L{constructor(s){this.left=s.left,this.width=s.width,this.startStyle=null,this.endStyle=null}}class y{constructor(s,i){this.lineNumber=s,this.ranges=i}}function p(a){return new L(a)}function w(a){return new y(a.lineNumber,a.ranges.map(p))}class v extends f.DynamicViewOverlay{constructor(s){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=s;const i=this._context.configuration.options;this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){const i=this._context.configuration.options;return this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(s){return this._selections=s.selections.slice(0),!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}_visibleRangesHaveGaps(s){for(let i=0,t=s.length;i<t;i++)if(s[i].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(s,i,t){const n=this._typicalHalfwidthCharacterWidth/4;let h=null,m=null;if(t&&t.length>0&&i.length>0){const u=i[0].lineNumber;if(u===s.startLineNumber)for(let r=0;!h&&r<t.length;r++)t[r].lineNumber===u&&(h=t[r].ranges[0]);const d=i[i.length-1].lineNumber;if(d===s.endLineNumber)for(let r=t.length-1;!m&&r>=0;r--)t[r].lineNumber===d&&(m=t[r].ranges[0]);h&&!h.startStyle&&(h=null),m&&!m.startStyle&&(m=null)}for(let u=0,d=i.length;u<d;u++){const r=i[u].ranges[0],l=r.left,o=r.left+r.width,g={top:0,bottom:0},c={top:0,bottom:0};if(u>0){const b=i[u-1].ranges[0].left,C=i[u-1].ranges[0].left+i[u-1].ranges[0].width;_(l-b)<n?g.top=2:l>b&&(g.top=1),_(o-C)<n?c.top=2:b<o&&o<C&&(c.top=1)}else h&&(g.top=h.startStyle.top,c.top=h.endStyle.top);if(u+1<d){const b=i[u+1].ranges[0].left,C=i[u+1].ranges[0].left+i[u+1].ranges[0].width;_(l-b)<n?g.bottom=2:b<l&&l<C&&(g.bottom=1),_(o-C)<n?c.bottom=2:o<C&&(c.bottom=1)}else m&&(g.bottom=m.startStyle.bottom,c.bottom=m.endStyle.bottom);r.startStyle=g,r.endStyle=c}}_getVisibleRangesWithStyle(s,i,t){const h=(i.linesVisibleRangesForRange(s,!0)||[]).map(w);return!this._visibleRangesHaveGaps(h)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,h,t),h}_createSelectionPiece(s,i,t,n,h){return'<div class="cslr '+t+'" style="top:'+s.toString()+"px;bottom:"+i.toString()+"px;left:"+n.toString()+"px;width:"+h.toString()+'px;"></div>'}_actualRenderOneSelection(s,i,t,n){if(n.length===0)return;const h=!!n[0].ranges[0].startStyle,m=n[0].lineNumber,u=n[n.length-1].lineNumber;for(let d=0,r=n.length;d<r;d++){const l=n[d],o=l.lineNumber,g=o-i,c=t&&o===m?1:0,b=t&&o!==m&&o===u?1:0;let C="",S="";for(let D=0,I=l.ranges.length;D<I;D++){const T=l.ranges[D];if(h){const A=T.startStyle,P=T.endStyle;if(A.top===1||A.bottom===1){C+=this._createSelectionPiece(c,b,v.SELECTION_CLASS_NAME,T.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH);let M=v.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(M+=" "+v.SELECTION_TOP_RIGHT),A.bottom===1&&(M+=" "+v.SELECTION_BOTTOM_RIGHT),C+=this._createSelectionPiece(c,b,M,T.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH)}if(P.top===1||P.bottom===1){C+=this._createSelectionPiece(c,b,v.SELECTION_CLASS_NAME,T.left+T.width,v.ROUNDED_PIECE_WIDTH);let M=v.EDITOR_BACKGROUND_CLASS_NAME;P.top===1&&(M+=" "+v.SELECTION_TOP_LEFT),P.bottom===1&&(M+=" "+v.SELECTION_BOTTOM_LEFT),C+=this._createSelectionPiece(c,b,M,T.left+T.width,v.ROUNDED_PIECE_WIDTH)}}let N=v.SELECTION_CLASS_NAME;if(h){const A=T.startStyle,P=T.endStyle;A.top===0&&(N+=" "+v.SELECTION_TOP_LEFT),A.bottom===0&&(N+=" "+v.SELECTION_BOTTOM_LEFT),P.top===0&&(N+=" "+v.SELECTION_TOP_RIGHT),P.bottom===0&&(N+=" "+v.SELECTION_BOTTOM_RIGHT)}S+=this._createSelectionPiece(c,b,N,T.left,T.width)}s[g][0]+=C,s[g][1]+=S}}prepareRender(s){const i=[],t=s.visibleRange.startLineNumber,n=s.visibleRange.endLineNumber;for(let m=t;m<=n;m++){const u=m-t;i[u]=["",""]}const h=[];for(let m=0,u=this._selections.length;m<u;m++){const d=this._selections[m];if(d.isEmpty()){h[m]=null;continue}const r=this._getVisibleRangesWithStyle(d,s,this._previousFrameVisibleRangesWithStyle[m]);h[m]=r,this._actualRenderOneSelection(i,t,this._selections.length>1,r)}this._previousFrameVisibleRangesWithStyle=h,this._renderResult=i.map(([m,u])=>m+u)}render(s,i){if(!this._renderResult)return"";const t=i-s;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.SelectionsOverlay=v,v.SELECTION_CLASS_NAME="selected-text",v.SELECTION_TOP_LEFT="top-left-radius",v.SELECTION_BOTTOM_LEFT="bottom-left-radius",v.SELECTION_TOP_RIGHT="top-right-radius",v.SELECTION_BOTTOM_RIGHT="bottom-right-radius",v.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",v.ROUNDED_PIECE_WIDTH=10,(0,E.registerThemingParticipant)((a,s)=>{const i=a.getColor(k.editorSelectionForeground);i&&!i.isTransparent()&&s.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)});function _(a){return a<0?-a:a}}),define(ie[387],ne([1,0,6,40,213,2,30,82,9,318,32,23]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerFeature=void 0;let i=s=class extends L.Disposable{constructor(n,h,m,u,d,r,l){super(),this._editors=n,this._rootElement=h,this._diffModel=m,this._rootWidth=u,this._rootHeight=d,this._modifiedEditorLayoutInfo=r,this._themeService=l,this.width=s.ENTIRE_DIFF_OVERVIEW_WIDTH;const o=(0,y.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),g=(0,y.derived)(C=>{const S=o.read(C),D=S.getColor(_.diffOverviewRulerInserted)||(S.getColor(_.diffInserted)||_.defaultInsertColor).transparent(2),I=S.getColor(_.diffOverviewRulerRemoved)||(S.getColor(_.diffRemoved)||_.defaultRemoveColor).transparent(2);return{insertColor:D,removeColor:I}}),c=(0,k.createFastDomNode)(document.createElement("div"));c.setClassName("diffViewport"),c.setPosition("absolute");const b=(0,f.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,p.appendRemoveOnDispose)(b,c.domNode)),this._register((0,f.addStandardDisposableListener)(b,f.EventType.POINTER_DOWN,C=>{this._editors.modified.delegateVerticalScrollbarPointerDown(C)})),this._register((0,f.addDisposableListener)(b,f.EventType.MOUSE_WHEEL,C=>{this._editors.modified.delegateScrollFromMouseWheelEvent(C)},{passive:!1})),this._register((0,p.appendRemoveOnDispose)(this._rootElement,b)),this._register((0,y.autorunWithStore)((C,S)=>{const D=this._diffModel.read(C),I=this._editors.original.createOverviewRuler("original diffOverviewRuler");I&&(S.add(I),S.add((0,p.appendRemoveOnDispose)(b,I.getDomNode())));const T=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(T&&(S.add(T),S.add((0,p.appendRemoveOnDispose)(b,T.getDomNode()))),!I||!T)return;const N=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),A=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),P=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),M=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);S.add((0,y.autorun)(R=>{var F;N.read(R),A.read(R),P.read(R),M.read(R);const O=g.read(R),B=(F=D?.diff.read(R))===null||F===void 0?void 0:F.mappings;function H(z,U,Z){const re=Z._getViewModel();return re?z.filter(x=>x.length>0).map(x=>{const Q=re.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(x.startLineNumber,1)),X=re.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(x.endLineNumberExclusive,1)),Y=X.lineNumber-Q.lineNumber;return new v.OverviewRulerZone(Q.lineNumber,X.lineNumber,Y,U.toString())}):[]}const V=H((B||[]).map(z=>z.lineRangeMapping.original),O.removeColor,this._editors.original),q=H((B||[]).map(z=>z.lineRangeMapping.modified),O.insertColor,this._editors.modified);I?.setZones(V),T?.setZones(q)})),S.add((0,y.autorun)(R=>{const F=this._rootHeight.read(R),O=this._rootWidth.read(R),B=this._modifiedEditorLayoutInfo.read(R);if(B){const H=s.ENTIRE_DIFF_OVERVIEW_WIDTH-2*s.ONE_OVERVIEW_WIDTH;I.setLayout({top:0,height:F,right:H+s.ONE_OVERVIEW_WIDTH,width:s.ONE_OVERVIEW_WIDTH}),T.setLayout({top:0,height:F,right:0,width:s.ONE_OVERVIEW_WIDTH});const V=this._editors.modifiedScrollTop.read(R),q=this._editors.modifiedScrollHeight.read(R),z=this._editors.modified.getOption(103),U=new E.ScrollbarState(z.verticalHasArrows?z.arrowSize:0,z.verticalScrollbarSize,0,B.height,q,V);c.setTop(U.getSliderPosition()),c.setHeight(U.getSliderSize())}else c.setTop(0),c.setHeight(0);b.style.height=F+"px",b.style.left=O-s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",c.setWidth(s.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};e.OverviewRulerFeature=i,i.ONE_OVERVIEW_WIDTH=15,i.ENTIRE_DIFF_OVERVIEW_WIDTH=s.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerFeature=i=s=Ie([ue(6,a.IThemeService)],i)}),define(ie[896],ne([1,0,7,2,30,387,38,9,653,8,35]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let a=class extends k.Disposable{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(i,t,n,h,m,u,d){super(),this.originalEditorElement=i,this.modifiedEditorElement=t,this._options=n,this._argCodeEditorWidgetOptions=h,this._createInnerEditor=m,this._instantiationService=u,this._keybindingService=d,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new f.Emitter),this.modifiedScrollTop=(0,E.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,E.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedModel=(0,E.observableFromEvent)(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedSelections=(0,E.observableFromEvent)(this.modified.onDidChangeCursorSelection,()=>{var r;return(r=this.modified.getSelections())!==null&&r!==void 0?r:[]}),this.modifiedCursor=(0,E.derivedOpts)({owner:this,equalityComparer:p.Position.equals},r=>{var l,o;return(o=(l=this.modifiedSelections.read(r)[0])===null||l===void 0?void 0:l.getPosition())!==null&&o!==void 0?o:new p.Position(1,1)}),this.originalCursor=(0,E.observableFromEvent)(this.original.onDidChangeCursorPosition,()=>{var r;return(r=this.original.getPosition())!==null&&r!==void 0?r:new p.Position(1,1)}),this._argCodeEditorWidgetOptions=null,this._register((0,E.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(r,l)=>(r.didChange(n.editorOptions)&&Object.assign(l,r.change.changedOptions),!0)},(r,l)=>{n.editorOptions.read(r),this._options.renderSideBySide.read(r),this.modified.updateOptions(this._adjustOptionsForRightHandSide(r,l)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(r,l))}))}_createLeftHandSideEditor(i,t){const n=this._adjustOptionsForLeftHandSide(void 0,i),h=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,n,t);return h.setContextValue("isInDiffLeftEditor",!0),h}_createRightHandSideEditor(i,t){const n=this._adjustOptionsForRightHandSide(void 0,i),h=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,n,t);return h.setContextValue("isInDiffRightEditor",!0),h}_constructInnerEditor(i,t,n,h){const m=this._createInnerEditor(i,t,n,h);return this._register(m.onDidContentSizeChange(u=>{const d=this.original.getContentWidth()+this.modified.getContentWidth()+L.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,r=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:r,contentWidth:d,contentHeightChanged:u.contentHeightChanged,contentWidthChanged:u.contentWidthChanged})})),m}_adjustOptionsForLeftHandSide(i,t){const n=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(n.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},n.wordWrapOverride1=this._options.diffWordWrap.get()):(n.wordWrapOverride1="off",n.wordWrapOverride2="off",n.stickyScroll={enabled:!1},n.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),n.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(n.ariaLabel=t.originalAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.readOnly=!this._options.originalEditable.get(),n.dropIntoEditor={enabled:!n.readOnly},n.extraEditorClassName="original-in-monaco-diff-editor",n}_adjustOptionsForRightHandSide(i,t){const n=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(n.ariaLabel=t.modifiedAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.wordWrapOverride1=this._options.diffWordWrap.get(),n.revealHorizontalRightPadding=y.EditorOptions.revealHorizontalRightPadding.defaultValue+L.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n}_adjustOptionsForSubEditor(i){const t={...i,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(i){var t;i||(i="");const n=(0,w.localize)(0,null,(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||t===void 0?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?i+n:i?i.replaceAll(n,""):""}};e.DiffEditorEditors=a,e.DiffEditorEditors=a=Ie([ue(5,v.IInstantiationService),ue(6,_.IKeybindingService)],a)}),define(ie[86],ne([1,0,666,34,32,23]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorMultiCursorSecondaryBackground=e.editorMultiCursorSecondaryForeground=e.editorMultiCursorPrimaryBackground=e.editorMultiCursorPrimaryForeground=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,E.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(0,null)),e.editorLineHighlightBorder=(0,E.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:E.contrastBorder},f.localize(1,null)),e.editorRangeHighlight=(0,E.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},f.localize(2,null),!0),e.editorRangeHighlightBorder=(0,E.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(3,null),!0),e.editorSymbolHighlight=(0,E.registerColor)("editor.symbolHighlightBackground",{dark:E.editorFindMatchHighlight,light:E.editorFindMatchHighlight,hcDark:null,hcLight:null},f.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,E.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(5,null),!0),e.editorCursorForeground=(0,E.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(6,null)),e.editorCursorBackground=(0,E.registerColor)("editorCursor.background",null,f.localize(7,null)),e.editorMultiCursorPrimaryForeground=(0,E.registerColor)("editorMultiCursor.primary.foreground",{dark:e.editorCursorForeground,light:e.editorCursorForeground,hcDark:e.editorCursorForeground,hcLight:e.editorCursorForeground},f.localize(8,null)),e.editorMultiCursorPrimaryBackground=(0,E.registerColor)("editorMultiCursor.primary.background",{dark:e.editorCursorBackground,light:e.editorCursorBackground,hcDark:e.editorCursorBackground,hcLight:e.editorCursorBackground},f.localize(9,null)),e.editorMultiCursorSecondaryForeground=(0,E.registerColor)("editorMultiCursor.secondary.foreground",{dark:e.editorCursorForeground,light:e.editorCursorForeground,hcDark:e.editorCursorForeground,hcLight:e.editorCursorForeground},f.localize(10,null)),e.editorMultiCursorSecondaryBackground=(0,E.registerColor)("editorMultiCursor.secondary.background",{dark:e.editorCursorBackground,light:e.editorCursorBackground,hcDark:e.editorCursorBackground,hcLight:e.editorCursorBackground},f.localize(11,null)),e.editorWhitespaces=(0,E.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},f.localize(12,null)),e.editorLineNumbers=(0,E.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},f.localize(13,null)),e.deprecatedEditorIndentGuides=(0,E.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},f.localize(14,null),!1,f.localize(15,null)),e.deprecatedEditorActiveIndentGuides=(0,E.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},f.localize(16,null),!1,f.localize(17,null)),e.editorIndentGuide1=(0,E.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},f.localize(18,null)),e.editorIndentGuide2=(0,E.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(19,null)),e.editorIndentGuide3=(0,E.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(20,null)),e.editorIndentGuide4=(0,E.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(21,null)),e.editorIndentGuide5=(0,E.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(22,null)),e.editorIndentGuide6=(0,E.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(23,null)),e.editorActiveIndentGuide1=(0,E.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},f.localize(24,null)),e.editorActiveIndentGuide2=(0,E.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(25,null)),e.editorActiveIndentGuide3=(0,E.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(26,null)),e.editorActiveIndentGuide4=(0,E.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(27,null)),e.editorActiveIndentGuide5=(0,E.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(28,null)),e.editorActiveIndentGuide6=(0,E.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(29,null));const y=(0,E.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(30,null),!1,f.localize(31,null));e.editorActiveLineNumber=(0,E.registerColor)("editorLineNumber.activeForeground",{dark:y,light:y,hcDark:y,hcLight:y},f.localize(32,null)),e.editorDimmedLineNumber=(0,E.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(33,null)),e.editorRuler=(0,E.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},f.localize(34,null)),e.editorCodeLensForeground=(0,E.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},f.localize(35,null)),e.editorBracketMatchBackground=(0,E.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},f.localize(36,null)),e.editorBracketMatchBorder=(0,E.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(37,null)),e.editorOverviewRulerBorder=(0,E.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},f.localize(38,null)),e.editorOverviewRulerBackground=(0,E.registerColor)("editorOverviewRuler.background",null,f.localize(39,null)),e.editorGutter=(0,E.registerColor)("editorGutter.background",{dark:E.editorBackground,light:E.editorBackground,hcDark:E.editorBackground,hcLight:E.editorBackground},f.localize(40,null)),e.editorUnnecessaryCodeBorder=(0,E.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:E.contrastBorder},f.localize(41,null)),e.editorUnnecessaryCodeOpacity=(0,E.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},f.localize(42,null)),e.ghostTextBorder=(0,E.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},f.localize(43,null)),e.ghostTextForeground=(0,E.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},f.localize(44,null)),e.ghostTextBackground=(0,E.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(45,null));const p=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,E.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hcDark:p,hcLight:p},f.localize(46,null),!0),e.overviewRulerError=(0,E.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},f.localize(47,null)),e.overviewRulerWarning=(0,E.registerColor)("editorOverviewRuler.warningForeground",{dark:E.editorWarningForeground,light:E.editorWarningForeground,hcDark:E.editorWarningBorder,hcLight:E.editorWarningBorder},f.localize(48,null)),e.overviewRulerInfo=(0,E.registerColor)("editorOverviewRuler.infoForeground",{dark:E.editorInfoForeground,light:E.editorInfoForeground,hcDark:E.editorInfoBorder,hcLight:E.editorInfoBorder},f.localize(49,null)),e.editorBracketHighlightingForeground1=(0,E.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},f.localize(50,null)),e.editorBracketHighlightingForeground2=(0,E.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},f.localize(51,null)),e.editorBracketHighlightingForeground3=(0,E.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},f.localize(52,null)),e.editorBracketHighlightingForeground4=(0,E.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(53,null)),e.editorBracketHighlightingForeground5=(0,E.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(54,null)),e.editorBracketHighlightingForeground6=(0,E.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(55,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,E.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},f.localize(56,null)),e.editorBracketPairGuideBackground1=(0,E.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(57,null)),e.editorBracketPairGuideBackground2=(0,E.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(58,null)),e.editorBracketPairGuideBackground3=(0,E.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(59,null)),e.editorBracketPairGuideBackground4=(0,E.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(60,null)),e.editorBracketPairGuideBackground5=(0,E.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(61,null)),e.editorBracketPairGuideBackground6=(0,E.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(62,null)),e.editorBracketPairGuideActiveBackground1=(0,E.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(63,null)),e.editorBracketPairGuideActiveBackground2=(0,E.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(64,null)),e.editorBracketPairGuideActiveBackground3=(0,E.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(65,null)),e.editorBracketPairGuideActiveBackground4=(0,E.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(66,null)),e.editorBracketPairGuideActiveBackground5=(0,E.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(67,null)),e.editorBracketPairGuideActiveBackground6=(0,E.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(68,null)),e.editorUnicodeHighlightBorder=(0,E.registerColor)("editorUnicodeHighlight.border",{dark:E.editorWarningForeground,light:E.editorWarningForeground,hcDark:E.editorWarningForeground,hcLight:E.editorWarningForeground},f.localize(69,null)),e.editorUnicodeHighlightBackground=(0,E.registerColor)("editorUnicodeHighlight.background",{dark:E.editorWarningBackground,light:E.editorWarningBackground,hcDark:E.editorWarningBackground,hcLight:E.editorWarningBackground},f.localize(70,null)),(0,L.registerThemingParticipant)((w,v)=>{const _=w.getColor(E.editorBackground),a=w.getColor(e.editorLineHighlight),s=a&&!a.isTransparent()?a:_;s&&v.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${s}; }`)})}),define(ie[897],ne([1,0,126,86,13,23,24,94,9,453]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class v extends f.DynamicViewOverlay{constructor(i){super(),this._context=i;const t=this._context.configuration.options,n=t.get(145);this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new y.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const t=new Set;for(const m of this._selections)t.add(m.positionLineNumber);const n=Array.from(t);n.sort((m,u)=>m-u),E.equals(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,i=!0);const h=this._selections.every(m=>m.isEmpty());return this._selectionIsEmpty!==h&&(this._selectionIsEmpty=h,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const t=this._context.configuration.options,n=t.get(145);return this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const t=i.visibleRange.startLineNumber,n=i.visibleRange.endLineNumber,h=[];for(let u=t;u<=n;u++){const d=u-t;h[d]=""}if(this._wordWrap){const u=this._renderOne(i,!1);for(const d of this._cursorLineNumbers){const r=this._context.viewModel.coordinatesConverter,l=r.convertViewPositionToModelPosition(new w.Position(d,1)).lineNumber,o=r.convertModelPositionToViewPosition(new w.Position(l,1)).lineNumber,g=r.convertModelPositionToViewPosition(new w.Position(l,this._context.viewModel.model.getLineMaxColumn(l))).lineNumber,c=Math.max(o,t),b=Math.min(g,n);for(let C=c;C<=b;C++){const S=C-t;h[S]=u}}}const m=this._renderOne(i,!0);for(const u of this._cursorLineNumbers){if(u<t||u>n)continue;const d=u-t;h[d]=m}this._renderData=h}render(i,t){if(!this._renderData)return"";const n=t-i;return n>=this._renderData.length?"":this._renderData[n]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=v;class _ extends v{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=_;class a extends v{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=a,(0,L.registerThemingParticipant)((s,i)=>{const t=s.getColor(k.editorLineHighlight);if(t&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||s.defines(k.editorLineHighlightBorder)){const n=s.getColor(k.editorLineHighlightBorder);n&&(i.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${n}; }`),(0,p.isHighContrast)(s.type)&&(i.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}})}),define(ie[898],ne([1,0,126,86,23,9,13,21,315,229,456]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class _ extends f.DynamicViewOverlay{constructor(i){super(),this._context=i,this._primaryPosition=null;const t=this._context.configuration.options,n=t.get(146),h=t.get(50);this._spaceWidth=h.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*h.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options,n=t.get(146),h=t.get(50);return this._spaceWidth=h.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*h.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(i){var t;const h=i.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(h)?!1:(this._primaryPosition=h,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var t,n,h,m;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const u=i.visibleRange.startLineNumber,d=i.visibleRange.endLineNumber,r=i.scrollWidth,l=this._primaryPosition,o=this.getGuidesByLine(u,Math.min(d+1,this._context.viewModel.getLineCount()),l),g=[];for(let c=u;c<=d;c++){const b=c-u,C=o[b];let S="";const D=(n=(t=i.visibleRangeForPosition(new L.Position(c,1)))===null||t===void 0?void 0:t.left)!==null&&n!==void 0?n:0;for(const I of C){const T=I.column===-1?D+(I.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new L.Position(c,I.column)).left;if(T>r||this._maxIndentLeft>0&&T>this._maxIndentLeft)break;const N=I.horizontalLine?I.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",A=I.horizontalLine?((m=(h=i.visibleRangeForPosition(new L.Position(c,I.horizontalLine.endColumn)))===null||h===void 0?void 0:h.left)!==null&&m!==void 0?m:T+this._spaceWidth)-T:this._spaceWidth;S+=`<div class="core-guide ${I.className} ${N}" style="left:${T}px;width:${A}px"></div>`}g[b]=S}this._renderResult=g}getGuidesByLine(i,t,n){const h=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,t,n,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?v.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?v.HorizontalGuidesState.EnabledForActive:v.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,m=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,t):null;let u=0,d=0,r=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&n){const g=this._context.viewModel.getActiveIndentGuide(n.lineNumber,i,t);u=g.startLineNumber,d=g.endLineNumber,r=g.indent}const{indentSize:l}=this._context.viewModel.model.getOptions(),o=[];for(let g=i;g<=t;g++){const c=new Array;o.push(c);const b=h?h[g-i]:[],C=new y.ArrayQueue(b),S=m?m[g-i]:0;for(let D=1;D<=S;D++){const I=(D-1)*l+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||b.length===0)&&u<=g&&g<=d&&D===r;c.push(...C.takeWhile(A=>A.visibleColumn<I)||[]);const N=C.peek();(!N||N.visibleColumn!==I||N.horizontalLine)&&c.push(new v.IndentGuide(I,-1,`core-guide-indent lvl-${(D-1)%30}`+(T?" indent-active":""),null,-1,-1))}c.push(...C.takeWhile(D=>!0)||[])}return o}render(i,t){if(!this._renderResult)return"";const n=t-i;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.IndentGuidesOverlay=_;function a(s){if(!(s&&s.isTransparent()))return s}(0,E.registerThemingParticipant)((s,i)=>{const t=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],n=new w.BracketPairGuidesClassNames,h=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],m=t.map(d=>{var r,l;const o=s.getColor(d.bracketColor),g=s.getColor(d.guideColor),c=s.getColor(d.guideColorActive),b=a((r=a(g))!==null&&r!==void 0?r:o?.transparent(.3)),C=a((l=a(c))!==null&&l!==void 0?l:o);if(!(!b||!C))return{guideColor:b,guideColorActive:C}}).filter(p.isDefined),u=h.map(d=>{const r=s.getColor(d.indentColor),l=s.getColor(d.indentColorActive),o=a(r),g=a(l);if(!(!o||!g))return{indentColor:o,indentColorActive:g}}).filter(p.isDefined);if(m.length>0){for(let d=0;d<30;d++){const r=m[d%m.length];i.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(d).replace(/ /g,".")} { --guide-color: ${r.guideColor}; --guide-color-active: ${r.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${n.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${n.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${n.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(u.length>0){for(let d=0;d<30;d++){const r=u[d%u.length];i.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${d} { --indent-color: ${r.indentColor}; --indent-color-active: ${r.indentColorActive}; }`)}i.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),i.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(ie[388],ne([1,0,17,126,9,5,23,86,457]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class w extends k.DynamicViewOverlay{constructor(_){super(),this._context=_,this._readConfig(),this._lastCursorModelPosition=new E.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const _=this._context.configuration.options;this._lineHeight=_.get(67);const a=_.get(68);this._renderLineNumbers=a.renderType,this._renderCustomLineNumbers=a.renderFn,this._renderFinalNewline=_.get(95);const s=_.get(145);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){return this._readConfig(),!0}onCursorStateChanged(_){const a=_.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(a);let s=!1;return this._activeLineNumber!==a.lineNumber&&(this._activeLineNumber=a.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged}onZonesChanged(_){return!0}onDecorationsChanged(_){return _.affectsLineNumber}_getLineRenderLineNumber(_){const a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new E.Position(_,1));if(a.column!==1)return"";const s=a.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-s);return i===0?'<span class="relative-current-line-number">'+s+"</span>":String(i)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===s||s%10===0)return String(s);const i=this._context.viewModel.getLineCount();return s===i?String(s):""}return String(s)}prepareRender(_){if(this._renderLineNumbers===0){this._renderResult=null;return}const a=f.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",s=_.visibleRange.startLineNumber,i=_.visibleRange.endLineNumber,t=this._context.viewModel.getDecorationsInViewport(_.visibleRange).filter(u=>!!u.options.lineNumberClassName);t.sort((u,d)=>L.Range.compareRangesUsingEnds(u.range,d.range));let n=0;const h=this._context.viewModel.getLineCount(),m=[];for(let u=s;u<=i;u++){const d=u-s;let r=this._getLineRenderLineNumber(u),l="";for(;n<t.length&&t[n].range.endLineNumber<u;)n++;for(let o=n;o<t.length;o++){const{range:g,options:c}=t[o];g.startLineNumber<=u&&(l+=" "+c.lineNumberClassName)}if(!r&&!l){m[d]="";continue}u===h&&this._context.viewModel.getLineLength(u)===0&&(this._renderFinalNewline==="off"&&(r=""),this._renderFinalNewline==="dimmed"&&(l+=" dimmed-line-number")),u===this._activeLineNumber&&(l+=" active-line-number"),m[d]=`<div class="${w.CLASS_NAME}${a}${l}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${r}</div>`}this._renderResult=m}render(_,a){if(!this._renderResult)return"";const s=a-_;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=w,w.CLASS_NAME="line-numbers",(0,y.registerThemingParticipant)((v,_)=>{const a=v.getColor(p.editorLineNumbers),s=v.getColor(p.editorDimmedLineNumber);s?_.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${s}; }`):a&&_.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${a.transparent(.4)}; }`)})}),define(ie[899],ne([1,0,646,62,40,17,11,71,203,298,56,388,317,38,159,9,5,24,216,29,34,288,35,8,450]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class c{constructor(I,T,N,A,P){this._context=I,this.modelLineNumber=T,this.distanceToModelLineStart=N,this.widthOfHiddenLineTextBefore=A,this.distanceToModelLineEnd=P,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(I){const T=new n.Position(this.modelLineNumber,this.distanceToModelLineStart+1),N=new n.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(N),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=I.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=I.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(I){return this._previousPresentation||(I?this._previousPresentation=I:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const b=k.isFirefox;let C=class extends _.ViewPart{constructor(I,T,N,A,P){super(I),this._keybindingService=A,this._instantiationService=P,this._primaryCursorPosition=new n.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=T,this._visibleRangeProvider=N,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,R=M.get(145);this._setAccessibilityOptions(M),this._contentLeft=R.contentLeft,this._contentWidth=R.contentWidth,this._contentHeight=R.height,this._fontInfo=M.get(50),this._lineHeight=M.get(67),this._emptySelectionClipboard=M.get(37),this._copyWithSyntaxHighlighting=M.get(25),this._visibleTextArea=null,this._selections=[new m.Selection(1,1,1,1)],this._modelSelections=[new m.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,E.createFastDomNode)(document.createElement("textarea")),_.PartFingerprints.write(this.textArea,7),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:F}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${F*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("aria-required",M.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(M.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",f.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",M.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,E.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const O={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:V=>this._context.viewModel.getLineMaxColumn(V),getValueInRange:(V,q)=>this._context.viewModel.getValueInRange(V,q),getValueLengthInRange:(V,q)=>this._context.viewModel.getValueLengthInRange(V,q),modifyPosition:(V,q)=>this._context.viewModel.modifyPosition(V,q)},B={getDataToCopy:()=>{const V=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,L.isWindows),q=this._context.viewModel.model.getEOL(),z=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),U=Array.isArray(V)?V:null,Z=Array.isArray(V)?V.join(q):V;let re,x=null;if(w.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Z.length<65536){const Q=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Q&&(re=Q.html,x=Q.mode)}return{isFromEmptySelection:z,multicursorText:U,text:Z,html:re,mode:x}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const V=this._selections[0];if(L.isMacintosh&&V.isEmpty()){const z=V.getStartPosition();let U=this._getWordBeforePosition(z);if(U.length===0&&(U=this._getCharacterBeforePosition(z)),U.length>0)return new v.TextAreaState(U,U.length,U.length,h.Range.fromPositions(z),0)}if(L.isMacintosh&&!V.isEmpty()&&O.getValueLengthInRange(V,0)<500){const z=O.getValueInRange(V,0);return new v.TextAreaState(z,0,z.length,V,0)}if(k.isSafari&&!V.isEmpty()){const z="vscode-placeholder";return new v.TextAreaState(z,0,z.length,null,void 0)}return v.TextAreaState.EMPTY}if(k.isAndroid){const V=this._selections[0];if(V.isEmpty()){const q=V.getStartPosition(),[z,U]=this._getAndroidWordAtPosition(q);if(z.length>0)return new v.TextAreaState(z,U,U,h.Range.fromPositions(q),0)}return v.TextAreaState.EMPTY}return v.PagedScreenReaderStrategy.fromEditorSelection(O,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(V,q,z)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(V,q,z)},H=this._register(new w.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(w.TextAreaInput,B,H,L.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(V=>{this._viewController.emitKeyDown(V)})),this._register(this._textAreaInput.onKeyUp(V=>{this._viewController.emitKeyUp(V)})),this._register(this._textAreaInput.onPaste(V=>{let q=!1,z=null,U=null;V.metadata&&(q=this._emptySelectionClipboard&&!!V.metadata.isFromEmptySelection,z=typeof V.metadata.multicursorText<"u"?V.metadata.multicursorText:null,U=V.metadata.mode),this._viewController.paste(V.text,q,z,U)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(V=>{V.replacePrevCharCnt||V.replaceNextCharCnt||V.positionDelta?(v._debugComposition&&console.log(` => compositionType: <<${V.text}>>, ${V.replacePrevCharCnt}, ${V.replaceNextCharCnt}, ${V.positionDelta}`),this._viewController.compositionType(V.text,V.replacePrevCharCnt,V.replaceNextCharCnt,V.positionDelta)):(v._debugComposition&&console.log(` => type: <<${V.text}>>`),this._viewController.type(V.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(V=>{this._viewController.setSelection(V)})),this._register(this._textAreaInput.onCompositionStart(V=>{const q=this.textArea.domNode,z=this._modelSelections[0],{distanceToModelLineStart:U,widthOfHiddenTextBefore:Z}=(()=>{const x=q.value.substring(0,Math.min(q.selectionStart,q.selectionEnd)),Q=x.lastIndexOf(`
`),X=x.substring(Q+1),Y=X.lastIndexOf("	"),ae=X.length-Y-1,ce=z.getStartPosition(),he=Math.min(ce.column-1,ae),pe=ce.column-1-he,fe=X.substring(0,X.length-he),{tabSize:se}=this._context.viewModel.model.getOptions(),te=S(this.textArea.domNode.ownerDocument,fe,this._fontInfo,se);return{distanceToModelLineStart:pe,widthOfHiddenTextBefore:te}})(),{distanceToModelLineEnd:re}=(()=>{const x=q.value.substring(Math.max(q.selectionStart,q.selectionEnd)),Q=x.indexOf(`
`),X=Q===-1?x:x.substring(0,Q),Y=X.indexOf("	"),ae=Y===-1?X.length:X.length-Y-1,ce=z.getEndPosition(),he=Math.min(this._context.viewModel.model.getLineMaxColumn(ce.lineNumber)-ce.column,ae);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(ce.lineNumber)-ce.column-he}})();this._context.viewModel.revealRange("keyboard",!0,h.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new c(this._context,z.startLineNumber,U,Z,re),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(V=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(l.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(I){this._textAreaInput.writeNativeTextAreaContent(I)}dispose(){super.dispose()}_getAndroidWordAtPosition(I){const T='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.viewModel.getLineContent(I.lineNumber),A=(0,t.getMapForWordSeparators)(T,[]);let P=!0,M=I.column,R=!0,F=I.column,O=0;for(;O<50&&(P||R);){if(P&&M<=1&&(P=!1),P){const B=N.charCodeAt(M-2);A.get(B)!==0?P=!1:M--}if(R&&F>N.length&&(R=!1),R){const B=N.charCodeAt(F-1);A.get(B)!==0?R=!1:F++}O++}return[N.substring(M-1,F-1),I.column-M]}_getWordBeforePosition(I){const T=this._context.viewModel.getLineContent(I.lineNumber),N=(0,t.getMapForWordSeparators)(this._context.configuration.options.get(131),[]);let A=I.column,P=0;for(;A>1;){const M=T.charCodeAt(A-2);if(N.get(M)!==0||P>50)return T.substring(A-1,I.column-1);P++,A--}return T.substring(0,I.column-1)}_getCharacterBeforePosition(I){if(I.column>1){const N=this._context.viewModel.getLineContent(I.lineNumber).charAt(I.column-2);if(!y.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(I){var T,N,A;if(I.get(2)===1){const M=(T=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||T===void 0?void 0:T.getAriaLabel(),R=(N=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||N===void 0?void 0:N.getAriaLabel(),F=(A=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||A===void 0?void 0:A.getAriaLabel(),O=f.localize(1,null);return M?f.localize(2,null,O,M):R?f.localize(3,null,O,R):F?f.localize(4,null,O,F):O}return I.get(4)}_setAccessibilityOptions(I){this._accessibilitySupport=I.get(2);const T=I.get(3);this._accessibilitySupport===2&&T===i.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=T;const A=I.get(145).wrappingColumn;if(A!==-1&&this._accessibilitySupport!==1){const P=I.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(A*P.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=b?0:1}onConfigurationChanged(I){const T=this._context.configuration.options,N=T.get(145);this._setAccessibilityOptions(T),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=T.get(50),this._lineHeight=T.get(67),this._emptySelectionClipboard=T.get(37),this._copyWithSyntaxHighlighting=T.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:A}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${A*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("aria-required",T.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(T.get(124))),(I.hasChanged(34)||I.hasChanged(91))&&this._ensureReadOnlyAttribute(),I.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(I){return this._selections=I.selections.slice(0),this._modelSelections=I.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return this._scrollLeft=I.scrollLeft,this._scrollTop=I.scrollTop,!0}onZonesChanged(I){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(I){I.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",I.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),I.role&&this.textArea.setAttribute("role",I.role)}_ensureReadOnlyAttribute(){const I=this._context.configuration.options;!l.IME.enabled||I.get(34)&&I.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(I){var T;this._primaryCursorPosition=new n.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=I.visibleRangeForPosition(this._primaryCursorPosition),(T=this._visibleTextArea)===null||T===void 0||T.prepareRender(I)}render(I){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var I;if(this._visibleTextArea){const A=this._visibleTextArea.visibleTextareaStart,P=this._visibleTextArea.visibleTextareaEnd,M=this._visibleTextArea.startPosition,R=this._visibleTextArea.endPosition;if(M&&R&&A&&P&&P.left>=this._scrollLeft&&A.left<=this._scrollLeft+this._contentWidth){const F=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let B=this._visibleTextArea.widthOfHiddenLineTextBefore,H=this._contentLeft+A.left-this._scrollLeft,V=P.left-A.left+1;if(H<this._contentLeft){const x=this._contentLeft-H;H+=x,B+=x,V-=x}V>this._contentWidth&&(V=this._contentWidth);const q=this._context.viewModel.getViewLineData(M.lineNumber),z=q.tokens.findTokenIndexAtOffset(M.column-1),U=q.tokens.findTokenIndexAtOffset(R.column-1),Z=z===U,re=this._visibleTextArea.definePresentation(Z?q.tokens.getPresentation(z):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=B,this._doRender({lastRenderPosition:null,top:F,left:H,width:V,height:this._lineHeight,useCover:!1,color:(d.TokenizationRegistry.getColorMap()||[])[re.foreground],italic:re.italic,bold:re.bold,underline:re.underline,strikethrough:re.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const T=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(T<this._contentLeft||T>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(N<0||N>this._contentHeight){this._renderAtTopLeft();return}if(L.isMacintosh||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const A=(I=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&I!==void 0?I:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=A*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:b?0:1,useCover:!1})}_newlinecount(I){let T=0,N=-1;do{if(N=I.indexOf(`
`,N+1),N===-1)break;T++}while(!0);return T}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:b?0:1,useCover:!0})}_doRender(I){this._lastRenderPosition=I.lastRenderPosition;const T=this.textArea,N=this.textAreaCover;(0,p.applyFontInfo)(T,this._fontInfo),T.setTop(I.top),T.setLeft(I.left),T.setWidth(I.width),T.setHeight(I.height),T.setColor(I.color?r.Color.Format.CSS.formatHex(I.color):""),T.setFontStyle(I.italic?"italic":""),I.bold&&T.setFontWeight("bold"),T.setTextDecoration(`${I.underline?" underline":""}${I.strikethrough?" line-through":""}`),N.setTop(I.useCover?I.top:0),N.setLeft(I.useCover?I.left:0),N.setWidth(I.useCover?I.width:0),N.setHeight(I.useCover?I.height:0);const A=this._context.configuration.options;A.get(57)?N.setClassName("monaco-editor-background textAreaCover "+s.Margin.OUTER_CLASS_NAME):A.get(68).renderType!==0?N.setClassName("monaco-editor-background textAreaCover "+a.LineNumbersOverlay.CLASS_NAME):N.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=C,e.TextAreaHandler=C=Ie([ue(3,o.IKeybindingService),ue(4,g.IInstantiationService)],C);function S(D,I,T,N){if(I.length===0)return 0;const A=D.createElement("div");A.style.position="absolute",A.style.top="-50000px",A.style.width="50000px";const P=D.createElement("span");(0,p.applyFontInfo)(P,T),P.style.whiteSpace="pre",P.style.tabSize=`${N*T.spaceWidth}px`,P.append(I),A.appendChild(P),D.body.appendChild(A);const M=P.offsetWidth;return D.body.removeChild(A),M}}),define(ie[900],ne([1,0,40,34,56,9,29,86,91,13]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class _{constructor(i,t){const n=i.options;this.lineHeight=n.get(67),this.pixelRatio=n.get(143),this.overviewRulerLanes=n.get(83),this.renderBorder=n.get(82);const h=t.getColor(p.editorOverviewRulerBorder);this.borderColor=h?h.toString():null,this.hideCursor=n.get(59);const m=t.getColor(p.editorCursorForeground);this.cursorColorSingle=m?m.transparent(.7).toString():null;const u=t.getColor(p.editorMultiCursorPrimaryForeground);this.cursorColorPrimary=u?u.transparent(.7).toString():null;const d=t.getColor(p.editorMultiCursorSecondaryForeground);this.cursorColorSecondary=d?d.transparent(.7).toString():null,this.themeType=t.type;const r=n.get(73),l=r.enabled,o=r.side,g=t.getColor(p.editorOverviewRulerBackground),c=y.TokenizationRegistry.getDefaultBackground();g?this.backgroundColor=g:l&&o==="right"?this.backgroundColor=c:this.backgroundColor=null;const C=n.get(145).overviewRuler;this.top=C.top,this.right=C.right,this.domWidth=C.width,this.domHeight=C.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[S,D]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=S,this.w=D}_initLanes(i,t,n){const h=t-i;if(n>=3){const m=Math.floor(h/3),u=Math.floor(h/3),d=h-m-u,r=i,l=r+m,o=r+m+d;return[[0,r,l,r,o,r,l,r],[0,m,d,m+d,u,m+d+u,d+u,m+d+u]]}else if(n===2){const m=Math.floor(h/2),u=h-m,d=i,r=d+m;return[[0,d,d,d,r,d,d,d],[0,m,m,m,u,m+u,m+u,m+u]]}else{const m=i,u=h;return[[0,m,m,m,m,m,m,m],[0,u,u,u,u,u,u,u]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColorSingle===i.cursorColorSingle&&this.cursorColorPrimary===i.cursorColorPrimary&&this.cursorColorSecondary===i.cursorColorSecondary&&this.themeType===i.themeType&&k.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class a extends E.ViewPart{constructor(i){super(i),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,f.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=y.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new L.Position(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new _(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,n=i.selections.length;t<n;t++){let h=this._settings.cursorColorSingle;n>1&&(h=t===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:i.selections[t].getPosition(),color:h})}return this._cursorPositions.sort((t,n)=>L.Position.compare(t.position,n.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(i){return i.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(i){return this._markRenderingIsNeeded()}onScrollChanged(i){return i.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(i){return this._markRenderingIsNeeded()}onThemeChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render(),this._actualShouldRender=0}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?k.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(w.OverviewRulerDecorationsGroup.compareByRenderingProps),this._actualShouldRender===1&&!w.OverviewRulerDecorationsGroup.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,v.equals)(this._renderedCursorPositions,this._cursorPositions,(C,S)=>C.position.lineNumber===S.position.lineNumber&&C.color===S.color)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const n=this._settings.canvasWidth,h=this._settings.canvasHeight,m=this._settings.lineHeight,u=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),r=h/d,l=6*this._settings.pixelRatio|0,o=l/2|0,g=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(g.fillStyle=k.Color.Format.CSS.formatHexA(i),g.fillRect(0,0,n,h)):(g.clearRect(0,0,n,h),g.fillStyle=k.Color.Format.CSS.formatHexA(i),g.fillRect(0,0,n,h)):g.clearRect(0,0,n,h);const c=this._settings.x,b=this._settings.w;for(const C of t){const S=C.color,D=C.data;g.fillStyle=S;let I=0,T=0,N=0;for(let A=0,P=D.length/3;A<P;A++){const M=D[3*A],R=D[3*A+1],F=D[3*A+2];let O=u.getVerticalOffsetForLineNumber(R)*r|0,B=(u.getVerticalOffsetForLineNumber(F)+m)*r|0;if(B-O<l){let V=(O+B)/2|0;V<o?V=o:V+o>h&&(V=h-o),O=V-o,B=V+o}O>N+1||M!==I?(A!==0&&g.fillRect(c[I],T,b[I],N-T),I=M,T=O,N=B):B>N&&(N=B)}g.fillRect(c[I],T,b[I],N-T)}if(!this._settings.hideCursor){const C=2*this._settings.pixelRatio|0,S=C/2|0,D=this._settings.x[7],I=this._settings.w[7];let T=-100,N=-100,A=null;for(let P=0,M=this._cursorPositions.length;P<M;P++){const R=this._cursorPositions[P].color;if(!R)continue;const F=this._cursorPositions[P].position;let O=u.getVerticalOffsetForLineNumber(F.lineNumber)*r|0;O<S?O=S:O+S>h&&(O=h-S);const B=O-S,H=B+C;B>N+1||R!==A?(P!==0&&A&&g.fillRect(D,T,I,N-T),T=B,N=H):H>N&&(N=H),A=R,g.fillStyle=R}A&&g.fillRect(D,T,I,N-T)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(g.beginPath(),g.lineWidth=1,g.strokeStyle=this._settings.borderColor,g.moveTo(0,0),g.lineTo(0,h),g.stroke(),g.moveTo(0,0),g.lineTo(n,0),g.stroke())}}e.DecorationsOverviewRuler=a}),define(ie[901],ne([1,0,40,15,56,665,38,86,23,94,6,467]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class a extends E.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new L.ViewCursor(this._context,L.CursorPlurality.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new _.WindowIntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let n=0,h=this._secondaryCursors.length;n<h;n++)this._secondaryCursors[n].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t,n){const h=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&n!==3;if(this._primaryCursor.setPlurality(t.length?L.CursorPlurality.MultiPrimary:L.CursorPlurality.Single),this._primaryCursor.onCursorPositionChanged(i,h),this._updateBlinking(),this._secondaryCursors.length<t.length){const m=t.length-this._secondaryCursors.length;for(let u=0;u<m;u++){const d=new L.ViewCursor(this._context,L.CursorPlurality.MultiSecondary);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>t.length){const m=this._secondaryCursors.length-t.length;for(let u=0;u<m;u++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let m=0;m<t.length;m++)this._secondaryCursors[m].onCursorPositionChanged(t[m],h)}onCursorStateChanged(i){const t=[];for(let h=0,m=i.selections.length;h<m;h++)t[h]=i.selections[h].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),i.reason);const n=i.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=n=>{for(let h=0,m=i.ranges.length;h<m;h++)if(i.ranges[h].fromLineNumber<=n.lineNumber&&n.lineNumber<=i.ranges[h].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(t(n.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,n=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!n&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},a.BLINK_INTERVAL,(0,_.getWindow)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},a.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case y.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case y.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case y.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case y.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case y.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case y.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(i)}render(i){const t=[];let n=0;const h=this._primaryCursor.render(i);h&&(t[n++]=h);for(let m=0,u=this._secondaryCursors.length;m<u;m++){const d=this._secondaryCursors[m].render(i);d&&(t[n++]=d)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=a,a.BLINK_INTERVAL=500,(0,w.registerThemingParticipant)((s,i)=>{const t=[{class:".cursor",foreground:p.editorCursorForeground,background:p.editorCursorBackground},{class:".cursor-primary",foreground:p.editorMultiCursorPrimaryForeground,background:p.editorMultiCursorPrimaryBackground},{class:".cursor-secondary",foreground:p.editorMultiCursorSecondaryForeground,background:p.editorMultiCursorSecondaryBackground}];for(const n of t){const h=s.getColor(n.foreground);if(h){let m=s.getColor(n.background);m||(m=h.opposite()),i.addRule(`.monaco-editor .cursors-layer ${n.class} { background-color: ${h}; border-color: ${h}; color: ${m}; }`),(0,v.isHighContrast)(s.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection ${n.class} { border-left: 1px solid ${m}; border-right: 1px solid ${m}; }`)}}})}),define(ie[902],ne([1,0,126,11,129,9,86,468]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class p extends f.DynamicViewOverlay{constructor(_){super(),this._context=_,this._options=new w(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const a=new w(this._context.configuration);return this._options.equals(a)?_.hasChanged(145):(this._options=a,!0)}onCursorStateChanged(_){return this._selection=_.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged}onZonesChanged(_){return!0}prepareRender(_){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const a=_.visibleRange.startLineNumber,i=_.visibleRange.endLineNumber-a+1,t=new Array(i);for(let h=0;h<i;h++)t[h]=!0;const n=this._context.viewModel.getMinimapLinesRenderingData(_.viewportData.startLineNumber,_.viewportData.endLineNumber,t);this._renderResult=[];for(let h=_.viewportData.startLineNumber;h<=_.viewportData.endLineNumber;h++){const m=h-_.viewportData.startLineNumber,u=n.data[m];let d=null;if(this._options.renderWhitespace==="selection"){const r=this._selection;for(const l of r){if(l.endLineNumber<h||l.startLineNumber>h)continue;const o=l.startLineNumber===h?l.startColumn:u.minColumn,g=l.endLineNumber===h?l.endColumn:u.maxColumn;o<g&&(d||(d=[]),d.push(new E.LineRange(o-1,g-1)))}}this._renderResult[m]=this._applyRenderWhitespace(_,h,d,u)}}_applyRenderWhitespace(_,a,s,i){if(this._options.renderWhitespace==="selection"&&!s||this._options.renderWhitespace==="trailing"&&i.continuesWithWrappedLine)return"";const t=this._context.theme.getColor(y.editorWhitespaces),n=this._options.renderWithSVG,h=i.content,m=this._options.stopRenderingLineAfter===-1?h.length:Math.min(this._options.stopRenderingLineAfter,h.length),u=i.continuesWithWrappedLine,d=i.minColumn-1,r=this._options.renderWhitespace==="boundary",l=this._options.renderWhitespace==="trailing",o=this._options.lineHeight,g=this._options.middotWidth,c=this._options.wsmiddotWidth,b=this._options.spaceWidth,C=Math.abs(c-b),S=Math.abs(g-b),D=C<S?11825:183,I=this._options.canUseHalfwidthRightwardsArrow;let T="",N=!1,A=k.firstNonWhitespaceIndex(h),P;A===-1?(N=!0,A=m,P=m):P=k.lastNonWhitespaceIndex(h);let M=0,R=s&&s[M],F=0;for(let O=d;O<m;O++){const B=h.charCodeAt(O);if(R&&O>=R.endOffset&&(M++,R=s&&s[M]),B!==9&&B!==32||l&&!N&&O<=P)continue;if(r&&O>=A&&O<=P&&B===32){const V=O-1>=0?h.charCodeAt(O-1):0,q=O+1<m?h.charCodeAt(O+1):0;if(V!==32&&q!==32)continue}if(r&&u&&O===m-1){const V=O-1>=0?h.charCodeAt(O-1):0;if(B===32&&V!==32&&V!==9)continue}if(s&&(!R||R.startOffset>O||R.endOffset<=O))continue;const H=_.visibleRangeForPosition(new L.Position(a,O+1));H&&(n?(F=Math.max(F,H.left),B===9?T+=this._renderArrow(o,b,H.left):T+=`<circle cx="${(H.left+b/2).toFixed(2)}" cy="${(o/2).toFixed(2)}" r="${(b/7).toFixed(2)}" />`):B===9?T+=`<div class="mwh" style="left:${H.left}px;height:${o}px;">${I?"\uFFEB":"\u2192"}</div>`:T+=`<div class="mwh" style="left:${H.left}px;height:${o}px;">${String.fromCharCode(D)}</div>`)}return n?(F=Math.round(F+b),`<svg style="bottom:0;position:absolute;width:${F}px;height:${o}px" viewBox="0 0 ${F} ${o}" xmlns="http://www.w3.org/2000/svg" fill="${t}">`+T+"</svg>"):T}_renderArrow(_,a,s){const i=a/7,t=a,n=_/2,h=s,m={x:0,y:i/2},u={x:100/125*t,y:m.y},d={x:u.x-.2*u.x,y:u.y+.2*u.x},r={x:d.x+.1*u.x,y:d.y+.1*u.x},l={x:r.x+.35*u.x,y:r.y-.35*u.x},o={x:l.x,y:-l.y},g={x:r.x,y:-r.y},c={x:d.x,y:-d.y},b={x:u.x,y:-u.y},C={x:m.x,y:-m.y};return`<path d="M ${[m,u,d,r,l,o,g,c,b,C].map(I=>`${(h+I.x).toFixed(2)} ${(n+I.y).toFixed(2)}`).join(" L ")}" />`}render(_,a){if(!this._renderResult)return"";const s=a-_;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.WhitespaceOverlay=p;class w{constructor(_){const a=_.options,s=a.get(50),i=a.get(38);i==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):i==="svg"?(this.renderWhitespace=a.get(99),this.renderWithSVG=!0):(this.renderWhitespace=a.get(99),this.renderWithSVG=!1),this.spaceWidth=s.spaceWidth,this.middotWidth=s.middotWidth,this.wsmiddotWidth=s.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=s.canUseHalfwidthRightwardsArrow,this.lineHeight=a.get(67),this.stopRenderingLineAfter=a.get(117)}equals(_){return this.renderWhitespace===_.renderWhitespace&&this.renderWithSVG===_.renderWithSVG&&this.spaceWidth===_.spaceWidth&&this.middotWidth===_.middotWidth&&this.wsmiddotWidth===_.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.lineHeight===_.lineHeight&&this.stopRenderingLineAfter===_.stopRenderingLineAfter}}}),define(ie[903],ne([1,0,6,40,283,12,386,890,899,157,846,638,56,297,562,632,897,563,894,230,898,388,891,564,317,565,876,633,900,575,566,567,895,901,568,902,9,5,24,43,163,571,576,8,23]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T,N,A,P,M,R,F,O,B,H,V,q,z,U,Z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let re=class extends V.ViewEventHandler{constructor(Y,ae,ce,he,pe,fe,se){super(),this._instantiationService=se,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new B.Selection(1,1,1,1)],this._renderAnimationFrame=null;const te=new _.ViewController(ae,he,pe,Y);this._context=new z.ViewContext(ae,ce,he),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(w.TextAreaHandler,this._context,te,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),s.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new u.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new o.ViewLines(this._context,this._linesContent),this._viewZones=new M.ViewZones(this._context),this._viewParts.push(this._viewZones);const $=new D.DecorationsOverviewRuler(this._context);this._viewParts.push($);const W=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(W);const j=new a.ContentViewOverlays(this._context);this._viewParts.push(j),j.addDynamicOverlay(new h.CurrentLineHighlightOverlay(this._context)),j.addDynamicOverlay(new A.SelectionsOverlay(this._context)),j.addDynamicOverlay(new r.IndentGuidesOverlay(this._context)),j.addDynamicOverlay(new m.DecorationsOverlay(this._context)),j.addDynamicOverlay(new R.WhitespaceOverlay(this._context));const K=new a.MarginViewOverlays(this._context);this._viewParts.push(K),K.addDynamicOverlay(new h.CurrentLineMarginHighlightOverlay(this._context)),K.addDynamicOverlay(new b.MarginViewLineDecorationsOverlay(this._context)),K.addDynamicOverlay(new g.LinesDecorationsOverlay(this._context)),K.addDynamicOverlay(new l.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new d.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const G=new c.Margin(this._context);G.getDomNode().appendChild(this._viewZones.marginDomNode),G.getDomNode().appendChild(K.getDomNode()),G.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(G),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new P.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new S.ViewOverlayWidgets(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const ee=new T.Rulers(this._context);this._viewParts.push(ee);const oe=new t.BlockDecorations(this._context);this._viewParts.push(oe);const de=new C.Minimap(this._context);if(this._viewParts.push(de),$){const le=this._scrollbar.getOverviewRulerLayoutInfo();le.parent.insertBefore($.getDomNode(),le.insertBefore)}this._linesContent.appendChild(j.getDomNode()),this._linesContent.appendChild(ee.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(G.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(W.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(de.getDomNode()),this._overflowGuardContainer.appendChild(oe.domNode),this.domNode.appendChild(this._overflowGuardContainer),fe?(fe.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),fe.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,te,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const Y=this._context.viewModel.model,ae=this._context.viewModel.glyphLanes;let ce=[],he=0;ce=ce.concat(Y.getAllMarginDecorations().map(pe=>{var fe,se,te;const $=(se=(fe=pe.options.glyphMargin)===null||fe===void 0?void 0:fe.position)!==null&&se!==void 0?se:H.GlyphMarginLane.Center;return he=Math.max(he,pe.range.endLineNumber),{range:pe.range,lane:$,persist:(te=pe.options.glyphMargin)===null||te===void 0?void 0:te.persistLane}})),ce=ce.concat(this._glyphMarginWidgets.getWidgets().map(pe=>{const fe=Y.validateRange(pe.preference.range);return he=Math.max(he,fe.endLineNumber),{range:fe,lane:pe.preference.lane}})),ce.sort((pe,fe)=>O.Range.compareRangesUsingStarts(pe.range,fe.range)),ae.reset(he);for(const pe of ce)ae.push(pe.lane,pe.range,pe.persist);return ae}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Y=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Y)},getLastRenderData:()=>{const Y=this._viewCursors.getLastRenderData()||[],ae=this._textAreaHandler.getLastRenderData();return new y.PointerHandlerLastRenderData(Y,ae)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:Y=>this._viewZones.shouldSuppressMouseDownOnViewZone(Y),shouldSuppressMouseDownOnWidget:Y=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Y),getPositionFromDOMInfo:(Y,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Y,ae)),visibleRangeForPosition:(Y,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(Y,ae))),getLineWidth:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Y))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(Y))}}_applyLayout(){const ae=this._context.configuration.options.get(145);this.domNode.setWidth(ae.width),this.domNode.setHeight(ae.height),this._overflowGuardContainer.setWidth(ae.width),this._overflowGuardContainer.setHeight(ae.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const Y=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(142)+" "+(0,Z.getThemeTypeSelector)(this._context.theme.type)+Y}handleEvents(Y){super.handleEvents(Y),this._scheduleRender()}onConfigurationChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Y){return this._selections=Y.selections,!1}onDecorationsChanged(Y){return Y.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Y){return this._context.theme.update(Y.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Y of this._viewParts)Y.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new L.BugIndicatingError;if(this._renderAnimationFrame===null){const Y=this._createCoordinatedRendering();this._renderAnimationFrame=Q.INSTANCE.scheduleCoordinatedRendering({window:f.getWindow(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new L.BugIndicatingError;try{return Y.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new L.BugIndicatingError;return Y.renderText()},prepareRender:(ae,ce)=>{if(this._store.isDisposed)throw new L.BugIndicatingError;return Y.prepareRender(ae,ce)},render:(ae,ce)=>{if(this._store.isDisposed)throw new L.BugIndicatingError;return Y.render(ae,ce)}})}}_flushAccumulatedAndRenderNow(){const Y=this._createCoordinatedRendering();x(()=>Y.prepareRenderText());const ae=x(()=>Y.renderText());if(ae){const[ce,he]=ae;x(()=>Y.prepareRender(ce,he)),x(()=>Y.render(ce,he))}}_getViewPartsToRender(){const Y=[];let ae=0;for(const ce of this._viewParts)ce.shouldRender()&&(Y[ae++]=ce);return Y}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const Y=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(Y.requiredLanes)}E.inputLatency.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let Y=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&Y.length===0)return null;const ae=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(ae.startLineNumber,ae.endLineNumber,ae.centeredLineNumber);const ce=new q.ViewportData(this._selections,ae,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ce),this._viewLines.shouldRender()&&(this._viewLines.renderText(ce),this._viewLines.onDidRender(),Y=this._getViewPartsToRender()),[Y,new v.RenderingContext(this._context.viewLayout,ce,this._viewLines)]},prepareRender:(Y,ae)=>{for(const ce of Y)ce.prepareRender(ae)},render:(Y,ae)=>{for(const ce of Y)ce.render(ae),ce.onDidRender()}}}delegateVerticalScrollbarPointerDown(Y){this._scrollbar.delegateVerticalScrollbarPointerDown(Y)}delegateScrollFromMouseWheelEvent(Y){this._scrollbar.delegateScrollFromMouseWheelEvent(Y)}restoreState(Y){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:Y.scrollTop,scrollLeft:Y.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(Y,ae){const ce=this._context.viewModel.model.validatePosition({lineNumber:Y,column:ae}),he=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ce);this._flushAccumulatedAndRenderNow();const pe=this._viewLines.visibleRangeForPosition(new F.Position(he.lineNumber,he.column));return pe?pe.left:-1}getTargetAtClientPoint(Y,ae){const ce=this._pointerHandler.getTargetAtClientPoint(Y,ae);return ce?i.ViewUserInputEvents.convertViewToModelMouseTarget(ce,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(Y){return new I.OverviewRuler(this._context,Y)}change(Y){this._viewZones.changeViewZones(Y),this._scheduleRender()}render(Y,ae){if(ae){this._viewLines.forceShouldRender();for(const ce of this._viewParts)ce.forceShouldRender()}Y?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(Y){this._textAreaHandler.writeScreenReaderContent(Y)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Y){this._textAreaHandler.setAriaOptions(Y)}addContentWidget(Y){this._contentWidgets.addWidget(Y.widget),this.layoutContentWidget(Y),this._scheduleRender()}layoutContentWidget(Y){var ae,ce,he,pe,fe,se,te,$;this._contentWidgets.setWidgetPosition(Y.widget,(ce=(ae=Y.position)===null||ae===void 0?void 0:ae.position)!==null&&ce!==void 0?ce:null,(pe=(he=Y.position)===null||he===void 0?void 0:he.secondaryPosition)!==null&&pe!==void 0?pe:null,(se=(fe=Y.position)===null||fe===void 0?void 0:fe.preference)!==null&&se!==void 0?se:null,($=(te=Y.position)===null||te===void 0?void 0:te.positionAffinity)!==null&&$!==void 0?$:null),this._scheduleRender()}removeContentWidget(Y){this._contentWidgets.removeWidget(Y.widget),this._scheduleRender()}addOverlayWidget(Y){this._overlayWidgets.addWidget(Y.widget),this.layoutOverlayWidget(Y),this._scheduleRender()}layoutOverlayWidget(Y){const ae=Y.position?Y.position.preference:null;this._overlayWidgets.setWidgetPosition(Y.widget,ae)&&this._scheduleRender()}removeOverlayWidget(Y){this._overlayWidgets.removeWidget(Y.widget),this._scheduleRender()}addGlyphMarginWidget(Y){this._glyphMarginWidgets.addWidget(Y.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(Y){const ae=Y.position;this._glyphMarginWidgets.setWidgetPosition(Y.widget,ae)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(Y){this._glyphMarginWidgets.removeWidget(Y.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=re,e.View=re=Ie([ue(6,U.IInstantiationService)],re);function x(X){try{return X()}catch(Y){return(0,L.onUnexpectedError)(Y),null}}class Q{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(Y){return this._coordinatedRenderings.push(Y),this._scheduleRender(Y.window),{dispose:()=>{const ae=this._coordinatedRenderings.indexOf(Y);if(ae!==-1&&(this._coordinatedRenderings.splice(ae,1),this._coordinatedRenderings.length===0)){for(const[ce,he]of this._animationFrameRunners)he.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(Y){if(!this._animationFrameRunners.has(Y)){const ae=()=>{this._animationFrameRunners.delete(Y),this._onRenderScheduled()};this._animationFrameRunners.set(Y,f.runAtThisOrScheduleAtNextAnimationFrame(Y,ae,100))}}_onRenderScheduled(){const Y=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const ce of Y)x(()=>ce.prepareRenderText());const ae=[];for(let ce=0,he=Y.length;ce<he;ce++){const pe=Y[ce];ae[ce]=x(()=>pe.renderText())}for(let ce=0,he=Y.length;ce<he;ce++){const pe=Y[ce],fe=ae[ce];if(!fe)continue;const[se,te]=fe;x(()=>pe.prepareRender(se,te))}for(let ce=0,he=Y.length;ce<he;ce++){const pe=Y[ce],fe=ae[ce];if(!fe)continue;const[se,te]=fe;x(()=>pe.render(se,te))}}}Q.INSTANCE=new Q}),define(ie[904],ne([1,0,7,2,5,86,23]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class p extends k.Disposable{constructor(_){super(),this.textModel=_,this.colorProvider=new w,this.onDidChangeEmitter=new f.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=_.getOptions().bracketPairColorizationOptions,this._register(_.bracketPairs.onDidChange(a=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(_){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(_,a,s,i){return i?[]:a===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(_,!0).map(n=>({id:`bracket${n.range.toString()}-${n.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(n,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:n.range})).toArray():[]}getAllDecorations(_,a){return _===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new E.Range(1,1,this.textModel.getLineCount(),1),_,a):[]}}e.ColorizedBracketPairsDecorationProvider=p;class w{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(_,a){return _.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(a?_.nestingLevelOfEqualBracketType:_.nestingLevel)}getInlineClassNameOfLevel(_){return`bracket-highlighting-${_%30}`}}(0,y.registerThemingParticipant)((v,_)=>{const a=[L.editorBracketHighlightingForeground1,L.editorBracketHighlightingForeground2,L.editorBracketHighlightingForeground3,L.editorBracketHighlightingForeground4,L.editorBracketHighlightingForeground5,L.editorBracketHighlightingForeground6],s=new w;_.addRule(`.monaco-editor .${s.unexpectedClosingBracketClassName} { color: ${v.getColor(L.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const i=a.map(t=>v.getColor(t)).filter(t=>!!t).filter(t=>!t.isTransparent());for(let t=0;t<30;t++){const n=i[t%i.length];_.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(t)} { color: ${n}; }`)}})}),define(ie[905],ne([1,0,104,2,43,23,86,53,5,49,7,32,47,285]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;let t=class extends k.Disposable{constructor(m,u){super(),this._markerService=u,this._onDidChangeMarker=this._register(new _.Emitter),this._markerDecorations=new s.ResourceMap,m.getModels().forEach(d=>this._onModelAdded(d)),this._register(m.onModelAdded(this._onModelAdded,this)),this._register(m.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(m=>m.dispose()),this._markerDecorations.clear()}getMarker(m,u){const d=this._markerDecorations.get(m);return d&&d.getMarker(u)||null}_handleMarkerChange(m){m.forEach(u=>{const d=this._markerDecorations.get(u);d&&this._updateDecorations(d)})}_onModelAdded(m){const u=new n(m);this._markerDecorations.set(m.uri,u),this._updateDecorations(u)}_onModelRemoved(m){var u;const d=this._markerDecorations.get(m.uri);d&&(d.dispose(),this._markerDecorations.delete(m.uri)),(m.uri.scheme===v.Schemas.inMemory||m.uri.scheme===v.Schemas.internal||m.uri.scheme===v.Schemas.vscode)&&((u=this._markerService)===null||u===void 0||u.read({resource:m.uri}).map(r=>r.owner).forEach(r=>this._markerService.remove(r,[m.uri])))}_updateDecorations(m){const u=this._markerService.read({resource:m.model.uri,take:500});m.update(u)&&this._onDidChangeMarker.fire(m.model)}};e.MarkerDecorationsService=t,e.MarkerDecorationsService=t=Ie([ue(0,p.IModelService),ue(1,f.IMarkerService)],t);class n extends k.Disposable{constructor(m){super(),this.model=m,this._map=new s.BidirectionalMap,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(m){const{added:u,removed:d}=(0,i.diffSets)(new Set(this._map.keys()),new Set(m));if(u.length===0&&d.length===0)return!1;const r=d.map(g=>this._map.get(g)),l=u.map(g=>({range:this._createDecorationRange(this.model,g),options:this._createDecorationOption(g)})),o=this.model.deltaDecorations(r,l);for(const g of d)this._map.delete(g);for(let g=0;g<o.length;g++)this._map.set(u[g],o[g]);return!0}getMarker(m){return this._map.getKey(m.id)}_createDecorationRange(m,u){let d=w.Range.lift(u);if(u.severity===f.MarkerSeverity.Hint&&!this._hasMarkerTag(u,1)&&!this._hasMarkerTag(u,2)&&(d=d.setEndPosition(d.startLineNumber,d.startColumn+2)),d=m.validateRange(d),d.isEmpty()){const r=m.getLineLastNonWhitespaceColumn(d.startLineNumber)||m.getLineMaxColumn(d.startLineNumber);if(r===1||d.endColumn>=r)return d;const l=m.getWordAtPosition(d.getStartPosition());l&&(d=new w.Range(d.startLineNumber,l.startColumn,d.endLineNumber,l.endColumn))}else if(u.endColumn===Number.MAX_VALUE&&u.startColumn===1&&d.startLineNumber===d.endLineNumber){const r=m.getLineFirstNonWhitespaceColumn(u.startLineNumber);r<d.endColumn&&(d=new w.Range(d.startLineNumber,r,d.endLineNumber,d.endColumn),u.startColumn=r)}return d}_createDecorationOption(m){let u,d,r,l,o;switch(m.severity){case f.MarkerSeverity.Hint:this._hasMarkerTag(m,2)?u=void 0:this._hasMarkerTag(m,1)?u="squiggly-unnecessary":u="squiggly-hint",r=0;break;case f.MarkerSeverity.Info:u="squiggly-info",d=(0,L.themeColorFromId)(y.overviewRulerInfo),r=10,o={color:(0,L.themeColorFromId)(a.minimapInfo),position:1};break;case f.MarkerSeverity.Warning:u="squiggly-warning",d=(0,L.themeColorFromId)(y.overviewRulerWarning),r=20,o={color:(0,L.themeColorFromId)(a.minimapWarning),position:1};break;case f.MarkerSeverity.Error:default:u="squiggly-error",d=(0,L.themeColorFromId)(y.overviewRulerError),r=30,o={color:(0,L.themeColorFromId)(a.minimapError),position:1};break}return m.tags&&(m.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),m.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:d,position:E.OverviewRulerLane.Right},minimap:o,zIndex:r,inlineClassName:l}}_hasMarkerTag(m,u){return m.tags?m.tags.indexOf(u)>=0:!1}}}),define(ie[272],ne([1,0,142,23,61,560,42]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensProviderStyling=void 0,e.toMultilineTokens2=w;let p=class{constructor(s,i,t,n){this._legend=s,this._themeService=i,this._languageService=t,this._logService=n,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new _}getMetadata(s,i,t){const n=this._languageService.languageIdCodec.encodeLanguageId(t),h=this._hashTable.get(s,i,n);let m;if(h)m=h.metadata,this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${s} / ${i}: foreground ${f.TokenMetadata.getForeground(m)}, fontStyle ${f.TokenMetadata.getFontStyle(m).toString(2)}`);else{let u=this._legend.tokenTypes[s];const d=[];if(u){let r=i;for(let o=0;r>0&&o<this._legend.tokenModifiers.length;o++)r&1&&d.push(this._legend.tokenModifiers[o]),r=r>>1;r>0&&this._logService.getLevel()===E.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),d.push("not-in-legend"));const l=this._themeService.getColorTheme().getTokenStyleMetadata(u,d,t);if(typeof l>"u")m=2147483647;else{if(m=0,typeof l.italic<"u"){const o=(l.italic?1:0)<<11;m|=o|1}if(typeof l.bold<"u"){const o=(l.bold?2:0)<<11;m|=o|2}if(typeof l.underline<"u"){const o=(l.underline?4:0)<<11;m|=o|4}if(typeof l.strikethrough<"u"){const o=(l.strikethrough?8:0)<<11;m|=o|8}if(l.foreground){const o=l.foreground<<15;m|=o|16}m===0&&(m=2147483647)}}else this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${s} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),m=2147483647,u="not-in-legend";this._hashTable.add(s,i,n,m),this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${s} (${u}) / ${i} (${d.join(" ")}): foreground ${f.TokenMetadata.getForeground(m)}, fontStyle ${f.TokenMetadata.getFontStyle(m).toString(2)}`)}return m}warnOverlappingSemanticTokens(s,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${s}, column ${i}`))}warnInvalidLengthSemanticTokens(s,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${s}, column ${i}`))}warnInvalidEditStart(s,i,t,n,h){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${s}, resultId: ${i}) at edit #${t}: The provided start offset ${n} is outside the previous data (length ${h}).`))}};e.SemanticTokensProviderStyling=p,e.SemanticTokensProviderStyling=p=Ie([ue(1,k.IThemeService),ue(2,y.ILanguageService),ue(3,E.ILogService)],p);function w(a,s,i){const t=a.data,n=a.data.length/5|0,h=Math.max(Math.ceil(n/1024),400),m=[];let u=0,d=1,r=0;for(;u<n;){const l=u;let o=Math.min(l+h,n);if(o<n){let I=o;for(;I-1>l&&t[5*I]===0;)I--;if(I-1===l){let T=o;for(;T+1<n&&t[5*T]===0;)T++;o=T}else o=I}let g=new Uint32Array((o-l)*4),c=0,b=0,C=0,S=0;for(;u<o;){const I=5*u,T=t[I],N=t[I+1],A=d+T|0,P=T===0?r+N|0:N,M=t[I+2],R=P+M|0,F=t[I+3],O=t[I+4];if(R<=P)s.warnInvalidLengthSemanticTokens(A,P+1);else if(C===A&&S>P)s.warnOverlappingSemanticTokens(A,P+1);else{const B=s.getMetadata(F,O,i);B!==2147483647&&(b===0&&(b=A),g[c]=A-b,g[c+1]=P,g[c+2]=R,g[c+3]=B,c+=4,C=A,S=R)}d=A,r=P,u++}c!==g.length&&(g=g.subarray(0,c));const D=L.SparseMultilineTokens.create(b,g);m.push(D)}return m}class v{constructor(s,i,t,n){this.tokenTypeIndex=s,this.tokenModifierSet=i,this.languageId=t,this.metadata=n,this.next=null}}class _{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=_._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<_._SIZES.length?2/3*this._currentLength:0),this._elements=[],_._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(s,i){for(let t=0;t<i;t++)s[t]=null}_hash2(s,i){return(s<<5)-s+i|0}_hashFunc(s,i,t){return this._hash2(this._hash2(s,i),t)%this._currentLength}get(s,i,t){const n=this._hashFunc(s,i,t);let h=this._elements[n];for(;h;){if(h.tokenTypeIndex===s&&h.tokenModifierSet===i&&h.languageId===t)return h;h=h.next}return null}add(s,i,t,n){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const h=this._elements;this._currentLengthIndex++,this._currentLength=_._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<_._SIZES.length?2/3*this._currentLength:0),this._elements=[],_._nullOutEntries(this._elements,this._currentLength);for(const m of h){let u=m;for(;u;){const d=u.next;u.next=null,this._add(u),u=d}}}this._add(new v(s,i,t,n))}_add(s){const i=this._hashFunc(s.tokenTypeIndex,s.tokenModifierSet,s.languageId);s.next=this._elements[i],this._elements[i]=s}}_._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ie[906],ne([1,0,2,42,23,61,272,255,46]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let v=class extends f.Disposable{constructor(a,s,i){super(),this._themeService=a,this._logService=s,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(a){return this._caches.has(a)||this._caches.set(a,new y.SemanticTokensProviderStyling(a.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(a)}};e.SemanticTokensStylingService=v,e.SemanticTokensStylingService=v=Ie([ue(0,E.IThemeService),ue(1,L.ILogService),ue(2,k.ILanguageService)],v),(0,w.registerSingleton)(p.ISemanticTokensStylingService,v,1)}),define(ie[389],ne([1,0,119,2,162,43,86,23,45]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class v{constructor(a){this.options=a,this.rangeHighlightDecorationId=void 0}provide(a,s){var i;const t=new k.DisposableStore;a.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),a.matchOnLabel=a.matchOnDescription=a.matchOnDetail=a.sortByLabel=!1;const n=t.add(new k.MutableDisposable);return n.value=this.doProvide(a,s),t.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(a,s)})),t}doProvide(a,s){var i;const t=new k.DisposableStore,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){const h={editor:n},m=(0,E.getCodeEditor)(n);if(m){let u=(i=n.saveViewState())!==null&&i!==void 0?i:void 0;t.add(m.onDidChangeCursorPosition(()=>{var d;u=(d=n.saveViewState())!==null&&d!==void 0?d:void 0})),h.restoreViewState=()=>{u&&n===this.activeTextEditorControl&&n.restoreViewState(u)},t.add((0,f.createSingleCallFunction)(s.onCancellationRequested)(()=>{var d;return(d=h.restoreViewState)===null||d===void 0?void 0:d.call(h)}))}t.add((0,k.toDisposable)(()=>this.clearDecorations(n))),t.add(this.provideWithTextEditor(h,a,s))}else t.add(this.provideWithoutTextEditor(a,s));return t}canProvideWithTextEditor(a){return!0}gotoLocation({editor:a},s){a.setSelection(s.range,"code.jump"),a.revealRangeInCenter(s.range,0),s.preserveFocus||a.focus();const i=a.getModel();i&&"getLineContent"in i&&(0,w.status)(`${i.getLineContent(s.range.startLineNumber)}`)}getModel(a){var s;return(0,E.isDiffEditor)(a)?(s=a.getModel())===null||s===void 0?void 0:s.modified:a.getModel()}addDecorations(a,s){a.changeDecorations(i=>{const t=[];this.rangeHighlightDecorationId&&(t.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),t.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:s,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:s,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,p.themeColorFromId)(y.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}],[h,m]=i.deltaDecorations(t,n);this.rangeHighlightDecorationId={rangeHighlightId:h,overviewRulerDecorationId:m}})}clearDecorations(a){const s=this.rangeHighlightDecorationId;s&&(a.changeDecorations(i=>{i.deltaDecorations([s.overviewRulerDecorationId,s.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=v}),define(ie[907],ne([1,0,2,162,389,735]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class y extends E.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const v=(0,L.localize)(0,null);return w.items=[{label:v}],w.ariaLabel=v,f.Disposable.None}provideWithTextEditor(w,v,_){const a=w.editor,s=new f.DisposableStore;s.add(v.onDidAccept(n=>{const[h]=v.selectedItems;if(h){if(!this.isValidLineNumber(a,h.lineNumber))return;this.gotoLocation(w,{range:this.toRange(h.lineNumber,h.column),keyMods:v.keyMods,preserveFocus:n.inBackground}),n.inBackground||v.hide()}}));const i=()=>{const n=this.parsePosition(a,v.value.trim().substr(y.PREFIX.length)),h=this.getPickLabel(a,n.lineNumber,n.column);if(v.items=[{lineNumber:n.lineNumber,column:n.column,label:h}],v.ariaLabel=h,!this.isValidLineNumber(a,n.lineNumber)){this.clearDecorations(a);return}const m=this.toRange(n.lineNumber,n.column);a.revealRangeInCenter(m,0),this.addDecorations(a,m)};i(),s.add(v.onDidChangeValue(()=>i()));const t=(0,k.getCodeEditor)(a);return t&&t.getOptions().get(68).renderType===2&&(t.updateOptions({lineNumbers:"on"}),s.add((0,f.toDisposable)(()=>t.updateOptions({lineNumbers:"relative"})))),s}toRange(w=1,v=1){return{startLineNumber:w,startColumn:v,endLineNumber:w,endColumn:v}}parsePosition(w,v){const _=v.split(/,|:|#/).map(s=>parseInt(s,10)).filter(s=>!isNaN(s)),a=this.lineCount(w)+1;return{lineNumber:_[0]>0?_[0]:a+_[0],column:_[1]}}getPickLabel(w,v,_){if(this.isValidLineNumber(w,v))return this.isValidColumn(w,v,_)?(0,L.localize)(1,null,v,_):(0,L.localize)(2,null,v);const a=w.getPosition()||{lineNumber:1,column:1},s=this.lineCount(w);return s>1?(0,L.localize)(3,null,a.lineNumber,a.column,s):(0,L.localize)(4,null,a.lineNumber,a.column)}isValidLineNumber(w,v){return!v||typeof v!="number"?!1:v>0&&v<=this.lineCount(w)}isValidColumn(w,v,_){if(!_||typeof _!="number")return!1;const a=this.getModel(w);if(!a)return!1;const s={lineNumber:v,column:_};return a.validatePosition(s).equals(s)}lineCount(w){var v,_;return(_=(v=this.getModel(w))===null||v===void 0?void 0:v.getLineCount())!==null&&_!==void 0?_:0}}e.AbstractGotoLineQuickAccessProvider=y,y.PREFIX=":"}),define(ie[908],ne([1,0,15,19,26,31,613,2,11,5,29,173,389,736,18,66]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let m=h=class extends s.AbstractEditorNavigationQuickAccessProvider{constructor(l,o,g=Object.create(null)){super(g),this._languageFeaturesService=l,this._outlineModelService=o,this.options=g,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(l){return this.provideLabelPick(l,(0,i.localize)(0,null)),p.Disposable.None}provideWithTextEditor(l,o,g){const c=l.editor,b=this.getModel(c);return b?this._languageFeaturesService.documentSymbolProvider.has(b)?this.doProvideWithEditorSymbols(l,b,o,g):this.doProvideWithoutEditorSymbols(l,b,o,g):p.Disposable.None}doProvideWithoutEditorSymbols(l,o,g,c){const b=new p.DisposableStore;return this.provideLabelPick(g,(0,i.localize)(1,null)),(async()=>!await this.waitForLanguageSymbolRegistry(o,b)||c.isCancellationRequested||b.add(this.doProvideWithEditorSymbols(l,o,g,c)))(),b}provideLabelPick(l,o){l.items=[{label:o,index:0,kind:14}],l.ariaLabel=o}async waitForLanguageSymbolRegistry(l,o){if(this._languageFeaturesService.documentSymbolProvider.has(l))return!0;const g=new f.DeferredPromise,c=o.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(l)&&(c.dispose(),g.complete(!0))}));return o.add((0,p.toDisposable)(()=>g.complete(!1))),g.p}doProvideWithEditorSymbols(l,o,g,c){var b;const C=l.editor,S=new p.DisposableStore;S.add(g.onDidAccept(N=>{const[A]=g.selectedItems;A&&A.range&&(this.gotoLocation(l,{range:A.range.selection,keyMods:g.keyMods,preserveFocus:N.inBackground}),N.inBackground||g.hide())})),S.add(g.onDidTriggerItemButton(({item:N})=>{N&&N.range&&(this.gotoLocation(l,{range:N.range.selection,keyMods:g.keyMods,forceSideBySide:!0}),g.hide())}));const D=this.getDocumentSymbols(o,c);let I;const T=async N=>{I?.dispose(!0),g.busy=!1,I=new k.CancellationTokenSource(c),g.busy=!0;try{const A=(0,y.prepareQuery)(g.value.substr(h.PREFIX.length).trim()),P=await this.doGetSymbolPicks(D,A,void 0,I.token);if(c.isCancellationRequested)return;if(P.length>0){if(g.items=P,N&&A.original.length===0){const M=(0,n.findLast)(P,R=>!!(R.type!=="separator"&&R.range&&v.Range.containsPosition(R.range.decoration,N)));M&&(g.activeItems=[M])}}else A.original.length>0?this.provideLabelPick(g,(0,i.localize)(2,null)):this.provideLabelPick(g,(0,i.localize)(3,null))}finally{c.isCancellationRequested||(g.busy=!1)}};return S.add(g.onDidChangeValue(()=>T(void 0))),T((b=C.getSelection())===null||b===void 0?void 0:b.getPosition()),S.add(g.onDidChangeActive(()=>{const[N]=g.activeItems;N&&N.range&&(C.revealRangeInCenter(N.range.selection,0),this.addDecorations(C,N.range.decoration))})),S}async doGetSymbolPicks(l,o,g,c){var b,C;const S=await l;if(c.isCancellationRequested)return[];const D=o.original.indexOf(h.SCOPE_PREFIX)===0,I=D?1:0;let T,N;o.values&&o.values.length>1?(T=(0,y.pieceToQuery)(o.values[0]),N=(0,y.pieceToQuery)(o.values.slice(1))):T=o;let A;const P=(C=(b=this.options)===null||b===void 0?void 0:b.openSideBySideDirection)===null||C===void 0?void 0:C.call(b);P&&(A=[{iconClass:P==="right"?L.ThemeIcon.asClassName(E.Codicon.splitHorizontal):L.ThemeIcon.asClassName(E.Codicon.splitVertical),tooltip:P==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]);const M=[];for(let O=0;O<S.length;O++){const B=S[O],H=(0,w.trim)(B.name),V=`$(${_.SymbolKinds.toIcon(B.kind).id}) ${H}`,q=V.length-H.length;let z=B.containerName;g?.extraContainerLabel&&(z?z=`${g.extraContainerLabel} \u2022 ${z}`:z=g.extraContainerLabel);let U,Z,re,x;if(o.original.length>I){let X=!1;if(T!==o&&([U,Z]=(0,y.scoreFuzzy2)(V,{...o,values:void 0},I,q),typeof U=="number"&&(X=!0)),typeof U!="number"&&([U,Z]=(0,y.scoreFuzzy2)(V,T,I,q),typeof U!="number"))continue;if(!X&&N){if(z&&N.original.length>0&&([re,x]=(0,y.scoreFuzzy2)(z,N)),typeof re!="number")continue;typeof U=="number"&&(U+=re)}}const Q=B.tags&&B.tags.indexOf(1)>=0;M.push({index:O,kind:B.kind,score:U,label:V,ariaLabel:(0,_.getAriaLabelForSymbol)(B.name,B.kind),description:z,highlights:Q?void 0:{label:Z,description:x},range:{selection:v.Range.collapseToStart(B.selectionRange),decoration:B.range},strikethrough:Q,buttons:A})}const R=M.sort((O,B)=>D?this.compareByKindAndScore(O,B):this.compareByScore(O,B));let F=[];if(D){let V=function(){B&&typeof O=="number"&&H>0&&(B.label=(0,w.format)(d[O]||u,H))},O,B,H=0;for(const q of R)O!==q.kind?(V(),O=q.kind,H=1,B={type:"separator"},F.push(B)):H++,F.push(q);V()}else R.length>0&&(F=[{label:(0,i.localize)(6,null,M.length),type:"separator"},...R]);return F}compareByScore(l,o){if(typeof l.score!="number"&&typeof o.score=="number")return 1;if(typeof l.score=="number"&&typeof o.score!="number")return-1;if(typeof l.score=="number"&&typeof o.score=="number"){if(l.score>o.score)return-1;if(l.score<o.score)return 1}return l.index<o.index?-1:l.index>o.index?1:0}compareByKindAndScore(l,o){const g=d[l.kind]||u,c=d[o.kind]||u,b=g.localeCompare(c);return b===0?this.compareByScore(l,o):b}async getDocumentSymbols(l,o){const g=await this._outlineModelService.getOrCreate(l,o);return o.isCancellationRequested?[]:g.asListOfDocumentSymbols()}};e.AbstractGotoSymbolQuickAccessProvider=m,m.PREFIX="@",m.SCOPE_PREFIX=":",m.PREFIX_BY_CATEGORY=`${h.PREFIX}${h.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=m=h=Ie([ue(0,t.ILanguageFeaturesService),ue(1,a.IOutlineModelService)],m);const u=(0,i.localize)(7,null),d={5:(0,i.localize)(8,null),11:(0,i.localize)(9,null),8:(0,i.localize)(10,null),12:(0,i.localize)(11,null),4:(0,i.localize)(12,null),22:(0,i.localize)(13,null),23:(0,i.localize)(14,null),24:(0,i.localize)(15,null),10:(0,i.localize)(16,null),2:(0,i.localize)(17,null),3:(0,i.localize)(18,null),25:(0,i.localize)(19,null),1:(0,i.localize)(20,null),6:(0,i.localize)(21,null),9:(0,i.localize)(22,null),21:(0,i.localize)(23,null),14:(0,i.localize)(24,null),0:(0,i.localize)(25,null),17:(0,i.localize)(26,null),15:(0,i.localize)(27,null),16:(0,i.localize)(28,null),18:(0,i.localize)(29,null),19:(0,i.localize)(30,null),7:(0,i.localize)(31,null),13:(0,i.localize)(32,null)}}),define(ie[909],ne([1,0,6,45,108,109,13,15,19,26,7,2,63,21,71,9,5,29,739,14,35,61,106,32,23,498]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameWidget=e.CONTEXT_RENAME_INPUT_FOCUSED=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0;const b=!1;e.CONTEXT_RENAME_INPUT_VISIBLE=new d.RawContextKey("renameInputVisible",!1,(0,u.localize)(0,null)),e.CONTEXT_RENAME_INPUT_FOCUSED=new d.RawContextKey("renameInputFocused",!1,(0,u.localize)(1,null));let C=class{constructor(N,A,P,M,R,F){this._editor=N,this._acceptKeybindings=A,this._themeService=P,this._keybindingService=M,this._logService=F,this.allowEditorOverflow=!0,this._disposables=new a.DisposableStore,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(R),this._isEditingRenameCandidate=!1,this._beforeFirstInputFieldEditSW=new s.StopWatch,this._input=new D,this._disposables.add(this._input),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(O=>{O.hasChanged(50)&&this._updateFont()})),this._disposables.add(P.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._input.domNode),this._renameCandidateListView=this._disposables.add(new S(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:N=>{this._input.domNode.value=N,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._input.onDidChange(()=>{var N,A,P,M;((N=this._renameCandidateListView)===null||N===void 0?void 0:N.focusedCandidate)!==void 0&&(this._isEditingRenameCandidate=!0),(A=this._timeBeforeFirstInputFieldEdit)!==null&&A!==void 0||(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),((P=this._renameCandidateProvidersCts)===null||P===void 0?void 0:P.token.isCancellationRequested)===!1&&this._renameCandidateProvidersCts.cancel(),(M=this._renameCandidateListView)===null||M===void 0||M.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(N){var A,P,M,R;if(!this._domNode)return;const F=N.getColor(g.widgetShadow),O=N.getColor(g.widgetBorder);this._domNode.style.backgroundColor=String((A=N.getColor(g.editorWidgetBackground))!==null&&A!==void 0?A:""),this._domNode.style.boxShadow=F?` 0 0 8px 2px ${F}`:"",this._domNode.style.border=O?`1px solid ${O}`:"",this._domNode.style.color=String((P=N.getColor(g.inputForeground))!==null&&P!==void 0?P:""),this._input.domNode.style.backgroundColor=String((M=N.getColor(g.inputBackground))!==null&&M!==void 0?M:"");const B=N.getColor(g.inputBorder);this._input.domNode.style.borderWidth=B?"1px":"0px",this._input.domNode.style.borderStyle=B?"solid":"none",this._input.domNode.style.borderColor=(R=B?.toString())!==null&&R!==void 0?R:"none"}_updateFont(){if(this._domNode===void 0)return;(0,i.assertType)(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._input.domNode);const N=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(N.fontSize)}px`}_computeLabelFontSize(N){return N*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const N=f.getClientArea(this.getDomNode().ownerDocument.body),A=f.getDomNodePagePosition(this._editor.getDomNode()),P=this._getTopForPosition();this._nPxAvailableAbove=P+A.top,this._nPxAvailableBelow=N.height-this._nPxAvailableAbove;const M=this._editor.getOption(67),{totalHeight:R}=I.getLayoutInfo({lineHeight:M}),F=this._nPxAvailableBelow>R*6?[2,1]:[1,2];return{position:this._position,preference:F}}beforeRender(){var N,A;const[P,M]=this._acceptKeybindings;return this._label.innerText=(0,u.localize)(2,null,(N=this._keybindingService.lookupKeybinding(P))===null||N===void 0?void 0:N.getLabel(),(A=this._keybindingService.lookupKeybinding(M))===null||A===void 0?void 0:A.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(N){if(this._trace("invoking afterRender, position: ",N?"not null":"null"),N===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,i.assertType)(this._renameCandidateListView),(0,i.assertType)(this._nPxAvailableAbove!==void 0),(0,i.assertType)(this._nPxAvailableBelow!==void 0);const A=f.getTotalHeight(this._input.domNode),P=f.getTotalHeight(this._label);let M;N===2?M=this._nPxAvailableBelow:M=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:M-P-A,width:f.getTotalWidth(this._input.domNode)})}acceptInput(N){var A;this._trace("invoking acceptInput"),(A=this._currentAcceptInput)===null||A===void 0||A.call(this,N)}cancelInput(N,A){var P;this._trace(`invoking cancelInput, caller: ${A}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),(P=this._currentCancelInput)===null||P===void 0||P.call(this,N)}focusNextRenameSuggestion(){var N;!((N=this._renameCandidateListView)===null||N===void 0)&&N.focusNext()||(this._input.domNode.value=this._currentName)}focusPreviousRenameSuggestion(){var N;!((N=this._renameCandidateListView)===null||N===void 0)&&N.focusPrevious()||(this._input.domNode.value=this._currentName)}getInput(N,A,P,M,R){const{start:F,end:O}=this._getSelection(N,A);this._renameCandidateProvidersCts=new w.CancellationTokenSource;const B=M(this._renameCandidateProvidersCts.token);this._updateRenameCandidates(B,A,R.token),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",P),this._position=new n.Position(N.startLineNumber,N.startColumn),this._currentName=A,this._input.domNode.value=A,this._input.domNode.setAttribute("selectionStart",F.toString()),this._input.domNode.setAttribute("selectionEnd",O.toString()),this._input.domNode.size=Math.max((N.endColumn-N.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset();const H=new a.DisposableStore;H.add((0,a.toDisposable)(()=>R.dispose(!0))),H.add((0,a.toDisposable)(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)}));const V=new p.DeferredPromise;return V.p.finally(()=>{H.dispose(),this._hide()}),this._currentCancelInput=q=>{var z;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(z=this._renameCandidateListView)===null||z===void 0||z.clearCandidates(),V.complete(q),!0},this._currentAcceptInput=q=>{this._trace("invoking _currentAcceptInput"),(0,i.assertType)(this._renameCandidateListView!==void 0);const z=this._renameCandidateListView.nCandidates;let U,Z;const re=this._renameCandidateListView.focusedCandidate;if(re!==void 0?(this._trace("using new name from renameSuggestion"),U=re,Z={k:"renameSuggestion"}):(this._trace("using new name from inputField"),U=this._input.domNode.value,Z=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),U===A||U.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),V.complete({newName:U,wantsPreview:P&&q,stats:{source:Z,nRenameSuggestions:z,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit}})},H.add(R.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),b||H.add(this._editor.onDidBlurEditorWidget(()=>{var q;return this.cancelInput(!(!((q=this._domNode)===null||q===void 0)&&q.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),V.p}_getSelection(N,A){(0,i.assertType)(this._editor.hasModel());const P=this._editor.getSelection();let M=0,R=A.length;return!h.Range.isEmpty(P)&&!h.Range.spansMultipleLines(P)&&h.Range.containsRange(N,P)&&(M=Math.max(0,P.startColumn-N.startColumn),R=Math.min(N.endColumn,P.endColumn)-N.startColumn),{start:M,end:R}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.domNode.focus(),this._input.domNode.setSelectionRange(parseInt(this._input.domNode.getAttribute("selectionStart")),parseInt(this._input.domNode.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(N,A,P){const M=(...H)=>this._trace("_updateRenameCandidates",...H);M("start");const R=await(0,p.raceCancellation)(Promise.allSettled(N),P);if(R===void 0){M("returning early - received updateRenameCandidates results - undefined");return}const F=R.flatMap(H=>H.status==="fulfilled"&&(0,i.isDefined)(H.value)?H.value:[]);M(`received updateRenameCandidates results - total (unfiltered) ${F.length} candidates.`);const O=y.distinct(F,H=>H.newSymbolName);M(`distinct candidates - ${O.length} candidates.`);const B=O.filter(({newSymbolName:H})=>H.trim().length>0&&H!==this._input.domNode.value&&H!==A);if(M(`valid distinct candidates - ${F.length} candidates.`),B.length<1){M("returning early - no valid distinct candidates");return}M("setting candidates"),this._renameCandidateListView.setCandidates(B),M("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const N=this._editor.getVisibleRanges();let A;return N.length>0?A=N[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),A=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(A)}_trace(...N){this._logService.trace("RenameWidget",...N)}};e.RenameWidget=C,e.RenameWidget=C=Ie([ue(2,c.IThemeService),ue(3,r.IKeybindingService),ue(4,d.IContextKeyService),ue(5,l.ILogService)],C);class S{constructor(N,A){this._disposables=new a.DisposableStore,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=A.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=A.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),N.appendChild(this._listContainer),this._listWidget=S._createListWidget(this._listContainer,this._candidateViewHeight,A.fontInfo),this._listWidget.onDidChangeFocus(P=>{P.elements.length===1&&A.onFocusChange(P.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(P=>{P.elements.length===1&&A.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(P=>{this._listWidget.setFocus([])})),this._listWidget.style((0,o.getListStyles)({listInactiveFocusForeground:g.quickInputListFocusForeground,listInactiveFocusBackground:g.quickInputListFocusBackground}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:N,width:A}){this._availableHeight=N,this._minimumWidth=A}setCandidates(N){this._listWidget.splice(0,0,N);const A=this._pickListHeight(N.length),P=this._pickListWidth(N);this._listWidget.layout(A,P),this._listContainer.style.height=`${A}px`,this._listContainer.style.width=`${P}px`,k.status((0,u.localize)(3,null,N.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const N=this._listWidget.getSelectedElements()[0];if(N!==void 0)return N.newSymbolName;const A=this._listWidget.getFocusedElements()[0];if(A!==void 0)return A.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;const N=this._listWidget.getFocus();return N.length===0?(this._listWidget.focusFirst(),!0):N[0]===this._listWidget.length-1?(this._listWidget.setFocus([]),!1):(this._listWidget.focusNext(),!0)}focusPrevious(){if(this._listWidget.length===0)return!1;const N=this._listWidget.getFocus();return N.length===0?(this._listWidget.focusLast(),!0):N[0]===0?(this._listWidget.setFocus([]),!1):(this._listWidget.focusPrevious(),!0)}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:N}=I.getLayoutInfo({lineHeight:this._lineHeight});return N}_pickListHeight(N){const A=this._candidateViewHeight*N;return Math.min(A,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(N){const A=Math.ceil(Math.max(...N.map(M=>M.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+A+10)}static _createListWidget(N,A,P){const M=new class{getTemplateId(F){return"candidate"}getHeight(F){return A}},R=new class{constructor(){this.templateId="candidate"}renderTemplate(F){return new I(F,P)}renderElement(F,O,B){B.populate(F)}disposeTemplate(F){F.dispose()}};return new L.List("NewSymbolNameCandidates",N,M,[R],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class D{constructor(){this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._disposables=new a.DisposableStore}get domNode(){return this._domNode||(this._domNode=document.createElement("input"),this._domNode.className="rename-input",this._domNode.type="text",this._domNode.setAttribute("aria-label",(0,u.localize)(4,null)),this._disposables.add(f.addDisposableListener(this._domNode,"input",()=>this._onDidChange.fire()))),this._domNode}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}}class I{constructor(N,A){this._domNode=document.createElement("div"),this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${A.lineHeight}px`,this._domNode.style.padding=`${I._PADDING}px`;const P=document.createElement("div");P.style.display="flex",P.style.alignItems="center",P.style.width=P.style.height=`${A.lineHeight*.8}px`,this._domNode.appendChild(P),this._icon=(0,E.renderIcon)(v.Codicon.sparkle),this._icon.style.display="none",P.appendChild(this._icon),this._label=document.createElement("div"),(0,t.applyFontInfo)(this._label,A),this._domNode.appendChild(this._label),N.appendChild(this._domNode)}populate(N){this._updateIcon(N),this._updateLabel(N)}_updateIcon(N){var A;const P=!!(!((A=N.tags)===null||A===void 0)&&A.includes(m.NewSymbolNameTag.AIGenerated));this._icon.style.display=P?"inherit":"none"}_updateLabel(N){this._label.innerText=N.newSymbolName}static getLayoutInfo({lineHeight:N}){return{totalHeight:N+I._PADDING*2}}dispose(){}}I._PADDING=2}),define(ie[910],ne([1,0,45,15,19,12,57,2,21,22,16,147,36,9,5,20,18,200,115,174,738,28,105,14,8,61,51,92,39,65,909]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=void 0,e.rename=P;class A{constructor(B,H,V){this.model=B,this.position=H,this._providerRenameIdx=0,this._providers=V.ordered(B)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(B){const H=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const q=this._providers[this._providerRenameIdx];if(!q.resolveRenameLocation)break;const z=await q.resolveRenameLocation(this.model,this.position,B);if(z){if(z.rejectReason){H.push(z.rejectReason);continue}return z}}this._providerRenameIdx=0;const V=this.model.getWordAtPosition(this.position);return V?{range:new t.Range(this.position.lineNumber,V.startColumn,this.position.lineNumber,V.endColumn),text:V.word,rejectReason:H.length>0?H.join(`
`):void 0}:{range:t.Range.fromPositions(this.position),text:"",rejectReason:H.length>0?H.join(`
`):void 0}}async provideRenameEdits(B,H){return this._provideRenameEdits(B,this._providerRenameIdx,[],H)}async _provideRenameEdits(B,H,V,q){const z=this._providers[H];if(!z)return{edits:[],rejectReason:V.join(`
`)};const U=await z.provideRenameEdits(this.model,this.position,B,q);if(U){if(U.rejectReason)return this._provideRenameEdits(B,H+1,V.concat(U.rejectReason),q)}else return this._provideRenameEdits(B,H+1,V.concat(r.localize(0,null)),q);return U}}async function P(O,B,H,V){const q=new A(B,H,O),z=await q.resolveRenameLocation(E.CancellationToken.None);return z?.rejectReason?{edits:[],rejectReason:z.rejectReason}:q.provideRenameEdits(V,E.CancellationToken.None)}let M=N=class{static get(B){return B.getContribution(N.ID)}constructor(B,H,V,q,z,U,Z,re,x){this.editor=B,this._instaService=H,this._notificationService=V,this._bulkEditService=q,this._progressService=z,this._logService=U,this._configService=Z,this._languageFeaturesService=re,this._telemetryService=x,this._disposableStore=new p.DisposableStore,this._cts=new E.CancellationTokenSource,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(T.RenameWidget,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var B,H;const V=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new E.CancellationTokenSource,!this.editor.hasModel()){V("editor has no model");return}const q=this.editor.getPosition(),z=new A(this.editor.getModel(),q,this._languageFeaturesService.renameProvider);if(!z.hasProvider()){V("skeleton has no provider");return}const U=new u.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let Z;try{V("resolving rename location");const he=z.resolveRenameLocation(U.token);this._progressService.showWhile(he,250),Z=await he,V("resolved rename location")}catch(he){he instanceof L.CancellationError?V("resolve rename location cancelled",JSON.stringify(he,null,"	")):(V("resolve rename location failed",he instanceof Error?he:JSON.stringify(he,null,"	")),(typeof he=="string"||(0,y.isMarkdownString)(he))&&((B=d.MessageController.get(this.editor))===null||B===void 0||B.showMessage(he||r.localize(1,null),q)));return}finally{U.dispose()}if(!Z){V("returning early - no loc");return}if(Z.rejectReason){V(`returning early - rejected with reason: ${Z.rejectReason}`,Z.rejectReason),(H=d.MessageController.get(this.editor))===null||H===void 0||H.showMessage(Z.rejectReason,q);return}if(U.token.isCancellationRequested){V("returning early - cts1 cancelled");return}const re=new u.EditorStateCancellationTokenSource(this.editor,5,Z.range,this._cts.token),x=this.editor.getModel(),Q=this._languageFeaturesService.newSymbolNamesProvider.all(x),X=he=>Q.map(pe=>pe.provideNewSymbolNames(x,Z.range,he));V("creating rename input field and awaiting its result");const Y=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),ae=await this._renameWidget.getInput(Z.range,Z.text,Y,X,re);if(V("received response from rename input field"),Q.length>0&&this._reportTelemetry(Q.length,x.getLanguageId(),ae),typeof ae=="boolean"){V(`returning early - rename input field response - ${ae}`),ae&&this.editor.focus(),re.dispose();return}this.editor.focus(),V("requesting rename edits");const ce=(0,k.raceCancellation)(z.provideRenameEdits(ae.newName,re.token),re.token).then(async he=>{if(!he){V("returning early - no rename edits result");return}if(!this.editor.hasModel()){V("returning early - no model after rename edits are provided");return}if(he.rejectReason){V(`returning early - rejected with reason: ${he.rejectReason}`),this._notificationService.info(he.rejectReason);return}this.editor.setSelection(t.Range.fromPositions(this.editor.getSelection().getPosition())),V("applying edits"),this._bulkEditService.apply(he,{editor:this.editor,showPreview:ae.wantsPreview,label:r.localize(2,null,Z?.text,ae.newName),code:"undoredo.rename",quotableLabel:r.localize(3,null,Z?.text,ae.newName),respectAutoSaveConfig:!0}).then(pe=>{V("edits applied"),pe.ariaSummary&&(0,f.alert)(r.localize(4,null,Z.text,ae.newName,pe.ariaSummary))}).catch(pe=>{V(`error when applying edits ${JSON.stringify(pe,null,"	")}`),this._notificationService.error(r.localize(5,null)),this._logService.error(pe)})},he=>{V("error when providing rename edits",JSON.stringify(he,null,"	")),this._notificationService.error(r.localize(6,null)),this._logService.error(he)}).finally(()=>{re.dispose()});return V("returning rename operation"),this._progressService.showWhile(ce,250),ce}acceptRenameInput(B){this._renameWidget.acceptInput(B)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(B,H,V){const q=typeof V=="boolean"?{kind:"cancelled",languageId:H,nRenameSuggestionProviders:B}:{kind:"accepted",languageId:H,nRenameSuggestionProviders:B,source:V.stats.source.k,nRenameSuggestions:V.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:V.stats.timeBeforeFirstInputFieldEdit,wantsPreview:V.wantsPreview};this._telemetryService.publicLog2("renameInvokedEvent",q)}};M.ID="editor.contrib.renameController",M=N=Ie([ue(1,c.IInstantiationService),ue(2,C.INotificationService),ue(3,a.IBulkEditService),ue(4,S.IEditorProgressService),ue(5,b.ILogService),ue(6,m.ITextResourceConfigurationService),ue(7,h.ILanguageFeaturesService),ue(8,I.ITelemetryService)],M);class R extends _.EditorAction{constructor(){super({id:"editor.action.rename",label:r.localize(7,null),alias:"Rename Symbol",precondition:g.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(B,H){const V=B.get(s.ICodeEditorService),[q,z]=Array.isArray(H)&&H||[void 0,void 0];return v.URI.isUri(q)&&i.Position.isIPosition(z)?V.openCodeEditor({resource:q},V.getActiveCodeEditor()).then(U=>{U&&(U.setPosition(z),U.invokeWithinContext(Z=>(this.reportTelemetry(Z,U),this.run(Z,U))))},L.onUnexpectedError):super.runCommand(B,H)}run(B,H){const V=B.get(b.ILogService),q=M.get(H);return q?(V.trace("[RenameAction] got controller, running..."),q.run()):(V.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}e.RenameAction=R,(0,_.registerEditorContribution)(M.ID,M,4),(0,_.registerEditorAction)(R);const F=_.EditorCommand.bindToContribution(M.get);(0,_.registerEditorCommand)(new F({id:"acceptRenameInput",precondition:T.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:g.ContextKeyExpr.and(n.EditorContextKeys.focus,g.ContextKeyExpr.not("isComposing")),primary:3}})),(0,_.registerEditorCommand)(new F({id:"acceptRenameInputWithPreview",precondition:g.ContextKeyExpr.and(T.CONTEXT_RENAME_INPUT_VISIBLE,g.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:O=>O.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:g.ContextKeyExpr.and(n.EditorContextKeys.focus,g.ContextKeyExpr.not("isComposing")),primary:2051}})),(0,_.registerEditorCommand)(new F({id:"cancelRenameInput",precondition:T.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.cancelRenameInput(),kbOpts:{weight:199,kbExpr:n.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,l.registerAction2)(class extends l.Action2{constructor(){super({id:"focusNextRenameSuggestion",title:{...r.localize2(9,"Focus Next Rename Suggestion")},precondition:T.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:2,secondary:[18],weight:199}]})}run(B){const H=B.get(s.ICodeEditorService).getFocusedCodeEditor();if(!H)return;const V=M.get(H);V&&V.focusNextRenameSuggestion()}}),(0,l.registerAction2)(class extends l.Action2{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...r.localize2(10,"Focus Previous Rename Suggestion")},precondition:T.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:1026,secondary:[16],weight:199}]})}run(B){const H=B.get(s.ICodeEditorService).getFocusedCodeEditor();if(!H)return;const V=M.get(H);V&&V.focusPreviousRenameSuggestion()}}),(0,_.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(O,B,H,...V){const[q]=V;(0,w.assertType)(typeof q=="string");const{renameProvider:z}=O.get(h.ILanguageFeaturesService);return P(z,B,H,q)}),(0,_.registerModelAndPositionCommand)("_executePrepareRename",async function(O,B,H){const{renameProvider:V}=O.get(h.ILanguageFeaturesService),z=await new A(B,H,V).resolveRenameLocation(E.CancellationToken.None);if(z?.rejectReason)throw new Error(z.rejectReason);return z}),D.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:r.localize(8,null),default:!0,type:"boolean"}}})}),define(ie[911],ne([1,0,2,12,53,25,15,19,23,272,362,83,63,18,255,141,325]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let u=class extends f.Disposable{constructor(o,g,c,b,C,S){super(),this._watchers=Object.create(null);const D=N=>{this._watchers[N.uri.toString()]=new d(N,o,c,C,S)},I=(N,A)=>{A.dispose(),delete this._watchers[N.uri.toString()]},T=()=>{for(const N of g.getModels()){const A=this._watchers[N.uri.toString()];(0,h.isSemanticColoringEnabled)(N,c,b)?A||D(N):A&&I(N,A)}};g.getModels().forEach(N=>{(0,h.isSemanticColoringEnabled)(N,c,b)&&D(N)}),this._register(g.onModelAdded(N=>{(0,h.isSemanticColoringEnabled)(N,c,b)&&D(N)})),this._register(g.onModelRemoved(N=>{const A=this._watchers[N.uri.toString()];A&&I(N,A)})),this._register(b.onDidChangeConfiguration(N=>{N.affectsConfiguration(h.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&T()})),this._register(c.onDidColorThemeChange(T))}dispose(){for(const o of Object.values(this._watchers))o.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=u,e.DocumentSemanticTokensFeature=u=Ie([ue(0,t.ISemanticTokensStylingService),ue(1,E.IModelService),ue(2,w.IThemeService),ue(3,L.IConfigurationService),ue(4,a.ILanguageFeatureDebounceService),ue(5,i.ILanguageFeaturesService)],u);let d=m=class extends f.Disposable{constructor(o,g,c,b,C){super(),this._semanticTokensStylingService=g,this._isDisposed=!1,this._model=o,this._provider=C.documentSemanticTokensProvider,this._debounceInformation=b.for(this._provider,"DocumentSemanticTokens",{min:m.REQUEST_MIN_DELAY,max:m.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new y.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),m.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const S=()=>{(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const D of this._provider.all(o))typeof D.onDidChange=="function"&&this._documentProvidersChangeListeners.push(D.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};S(),this._register(this._provider.onDidChange(()=>{S(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(c.onDidColorThemeChange(D=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,_.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const o=new p.CancellationTokenSource,g=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,c=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,b=(0,_.getDocumentSemanticTokens)(this._provider,this._model,g,c,o.token);this._currentDocumentRequestCancellationTokenSource=o,this._providersChangedDuringRequest=!1;const C=[],S=this._model.onDidChangeContent(I=>{C.push(I)}),D=new s.StopWatch(!1);b.then(I=>{if(this._debounceInformation.update(this._model,D.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,S.dispose(),!I)this._setDocumentSemanticTokens(null,null,null,C);else{const{provider:T,tokens:N}=I,A=this._semanticTokensStylingService.getStyling(T);this._setDocumentSemanticTokens(T,N||null,A,C)}},I=>{I&&(k.isCancellationError(I)||typeof I.message=="string"&&I.message.indexOf("busy")!==-1)||k.onUnexpectedError(I),this._currentDocumentRequestCancellationTokenSource=null,S.dispose(),(C.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(o,g,c,b,C){C=Math.min(C,c.length-b,o.length-g);for(let S=0;S<C;S++)c[b+S]=o[g+S]}_setDocumentSemanticTokens(o,g,c,b){const C=this._currentDocumentResponse,S=()=>{(b.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){o&&g&&o.releaseDocumentSemanticTokens(g.resultId);return}if(!o||!c){this._model.tokenization.setSemanticTokens(null,!1);return}if(!g){this._model.tokenization.setSemanticTokens(null,!0),S();return}if((0,_.isSemanticTokensEdits)(g)){if(!C){this._model.tokenization.setSemanticTokens(null,!0);return}if(g.edits.length===0)g={resultId:g.resultId,data:C.data};else{let D=0;for(const P of g.edits)D+=(P.data?P.data.length:0)-P.deleteCount;const I=C.data,T=new Uint32Array(I.length+D);let N=I.length,A=T.length;for(let P=g.edits.length-1;P>=0;P--){const M=g.edits[P];if(M.start>I.length){c.warnInvalidEditStart(C.resultId,g.resultId,P,M.start,I.length),this._model.tokenization.setSemanticTokens(null,!0);return}const R=N-(M.start+M.deleteCount);R>0&&(m._copy(I,N-R,T,A-R,R),A-=R),M.data&&(m._copy(M.data,0,T,A-M.data.length,M.data.length),A-=M.data.length),N=M.start}N>0&&m._copy(I,0,T,0,N),g={resultId:g.resultId,data:T}}}if((0,_.isSemanticTokens)(g)){this._currentDocumentResponse=new r(o,g.resultId,g.data);const D=(0,v.toMultilineTokens2)(g,c,this._model.getLanguageId());if(b.length>0)for(const I of b)for(const T of D)for(const N of I.changes)T.applyEdit(N.range,N.text);this._model.tokenization.setSemanticTokens(D,!0)}else this._model.tokenization.setSemanticTokens(null,!0);S()}};d.REQUEST_MIN_DELAY=300,d.REQUEST_MAX_DELAY=2e3,d=m=Ie([ue(1,t.ISemanticTokensStylingService),ue(2,w.IThemeService),ue(3,a.ILanguageFeatureDebounceService),ue(4,i.ILanguageFeaturesService)],d);class r{constructor(o,g,c){this.provider=o,this.resultId=g,this.data=c}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,n.registerEditorFeature)(u)}),define(ie[912],ne([1,0,15,2,16,362,325,272,25,23,83,63,18,255]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let t=class extends k.Disposable{constructor(h,m,u,d,r,l){super(),this._semanticTokensStylingService=m,this._themeService=u,this._configurationService=d,this._editor=h,this._provider=l.documentRangeSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new f.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const o=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{o()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),o()})),this._register(this._editor.onDidChangeModelContent(g=>{this._cancelAll(),o()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),o()})),this._register(this._configurationService.onDidChangeConfiguration(g=>{g.affectsConfiguration(y.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),o())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),o()})),o()}_cancelAll(){for(const h of this._outstandingRequests)h.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(h){for(let m=0,u=this._outstandingRequests.length;m<u;m++)if(this._outstandingRequests[m]===h){this._outstandingRequests.splice(m,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const h=this._editor.getModel();if(h.tokenization.hasCompleteSemanticTokens())return;if(!(0,y.isSemanticColoringEnabled)(h,this._themeService,this._configurationService)){h.tokenization.hasSomeSemanticTokens()&&h.tokenization.setSemanticTokens(null,!1);return}if(!(0,L.hasDocumentRangeSemanticTokensProvider)(this._provider,h)){h.tokenization.hasSomeSemanticTokens()&&h.tokenization.setSemanticTokens(null,!1);return}const m=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(m.map(u=>this._requestRange(h,u)))}_requestRange(h,m){const u=h.getVersionId(),d=(0,f.createCancelablePromise)(l=>Promise.resolve((0,L.getDocumentRangeSemanticTokens)(this._provider,h,m,l))),r=new a.StopWatch(!1);return d.then(l=>{if(this._debounceInformation.update(h,r.elapsed()),!l||!l.tokens||h.isDisposed()||h.getVersionId()!==u)return;const{provider:o,tokens:g}=l,c=this._semanticTokensStylingService.getStyling(o);h.tokenization.setPartialSemanticTokens(m,(0,p.toMultilineTokens2)(g,c,h.getLanguageId()))}).then(()=>this._removeOutstandingRequest(d),()=>this._removeOutstandingRequest(d)),d}};e.ViewportSemanticTokensContribution=t,t.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=t=Ie([ue(1,i.ISemanticTokensStylingService),ue(2,v.IThemeService),ue(3,w.IConfigurationService),ue(4,_.ILanguageFeatureDebounceService),ue(5,s.ILanguageFeaturesService)],t),(0,E.registerEditorContribution)(t.ID,t,1)}),define(ie[913],ne([1,0,6,247,26,31,7,76,2,22,29,829,53,42,748,358,85,23,374]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=void 0,e.getAriaId=r;function r(b){return`suggest-aria-id:${b}`}const l=(0,h.registerIcon)("suggest-more-info",E.Codicon.chevronRight,t.localize(0,null)),o=new(d=class{extract(C,S){if(C.textLabel.match(d._regexStrict))return S[0]=C.textLabel,!0;if(C.completion.detail&&C.completion.detail.match(d._regexStrict))return S[0]=C.completion.detail,!0;if(C.completion.documentation){const D=typeof C.completion.documentation=="string"?C.completion.documentation:C.completion.documentation.value,I=d._regexRelaxed.exec(D);if(I&&(I.index===0||I.index+I[0].length===D.length))return S[0]=I[0],!0}return!1}},d._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,d._regexStrict=new RegExp(`^${d._regexRelaxed.source}$`,"i"),d);let g=class{constructor(C,S,D,I){this._editor=C,this._modelService=S,this._languageService=D,this._themeService=I,this._onDidToggleDetails=new y.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(C){const S=new w.DisposableStore,D=C;D.classList.add("show-file-icons");const I=(0,f.append)(C,(0,f.$)(".icon")),T=(0,f.append)(I,(0,f.$)("span.colorspan")),N=(0,f.append)(C,(0,f.$)(".contents")),A=(0,f.append)(N,(0,f.$)(".main")),P=(0,f.append)(A,(0,f.$)(".icon-label.codicon")),M=(0,f.append)(A,(0,f.$)("span.left")),R=(0,f.append)(A,(0,f.$)("span.right")),F=new k.IconLabel(M,{supportHighlights:!0,supportIcons:!0});S.add(F);const O=(0,f.append)(M,(0,f.$)("span.signature-label")),B=(0,f.append)(M,(0,f.$)("span.qualifier-label")),H=(0,f.append)(R,(0,f.$)("span.details-label")),V=(0,f.append)(R,(0,f.$)("span.readMore"+L.ThemeIcon.asCSSSelector(l)));return V.title=t.localize(1,null),{root:D,left:M,right:R,icon:I,colorspan:T,iconLabel:F,iconContainer:P,parametersLabel:O,qualifierLabel:B,detailsLabel:H,readMore:V,disposables:S,configureFont:()=>{const z=this._editor.getOptions(),U=z.get(50),Z=U.getMassagedFontFamily(),re=U.fontFeatureSettings,x=z.get(119)||U.fontSize,Q=z.get(120)||U.lineHeight,X=U.fontWeight,Y=U.letterSpacing,ae=`${x}px`,ce=`${Q}px`,he=`${Y}px`;D.style.fontSize=ae,D.style.fontWeight=X,D.style.letterSpacing=he,A.style.fontFamily=Z,A.style.fontFeatureSettings=re,A.style.lineHeight=ce,I.style.height=ce,I.style.width=ce,V.style.height=ce,V.style.width=ce}}}renderElement(C,S,D){D.configureFont();const{completion:I}=C;D.root.id=r(S),D.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,p.createMatches)(C.score)},N=[];if(I.kind===19&&o.extract(C,N))D.icon.className="icon customcolor",D.iconContainer.className="icon hide",D.colorspan.style.backgroundColor=N[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){D.icon.className="icon hide",D.iconContainer.className="icon hide";const A=(0,a.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:C.textLabel}),n.FileKind.FILE),P=(0,a.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:I.detail}),n.FileKind.FILE);T.extraClasses=A.length>P.length?A:P}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(D.icon.className="icon hide",D.iconContainer.className="icon hide",T.extraClasses=[(0,a.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:C.textLabel}),n.FileKind.FOLDER),(0,a.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:I.detail}),n.FileKind.FOLDER)].flat()):(D.icon.className="icon hide",D.iconContainer.className="",D.iconContainer.classList.add("suggest-icon",...L.ThemeIcon.asClassNameArray(_.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),D.iconLabel.setLabel(C.textLabel,void 0,T),typeof I.label=="string"?(D.parametersLabel.textContent="",D.detailsLabel.textContent=c(I.detail||""),D.root.classList.add("string-label")):(D.parametersLabel.textContent=c(I.label.detail||""),D.detailsLabel.textContent=c(I.label.description||""),D.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?(0,f.show)(D.detailsLabel):(0,f.hide)(D.detailsLabel),(0,u.canExpandCompletionItem)(C)?(D.right.classList.add("can-expand-details"),(0,f.show)(D.readMore),D.readMore.onmousedown=A=>{A.stopPropagation(),A.preventDefault()},D.readMore.onclick=A=>{A.stopPropagation(),A.preventDefault(),this._onDidToggleDetails.fire()}):(D.right.classList.remove("can-expand-details"),(0,f.hide)(D.readMore),D.readMore.onmousedown=null,D.readMore.onclick=null)}disposeTemplate(C){C.disposables.dispose()}};e.ItemRenderer=g,e.ItemRenderer=g=Ie([ue(1,s.IModelService),ue(2,i.ILanguageService),ue(3,m.IThemeService)],g);function c(b){return b.replace(/\r\n|\r|\n/g,"")}}),define(ie[914],ne([1,0,907,39,150,36,103,7,16,20,75]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let a=class extends f.AbstractGotoLineQuickAccessProvider{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0}};e.StandaloneGotoLineQuickAccessProvider=a,e.StandaloneGotoLineQuickAccessProvider=a=Ie([ue(0,L.ICodeEditorService)],a);class s extends w.EditorAction{constructor(){super({id:s.ID,label:y.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(_.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=s,s.ID="editor.action.gotoLine",(0,w.registerEditorAction)(s),k.Registry.as(E.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:y.GoToLineNLS.gotoLineActionLabel,commandId:s.ID}]})}),define(ie[915],ne([1,0,908,39,150,36,103,7,16,20,75,173,18,187,270]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let i=class extends f.AbstractGotoSymbolQuickAccessProvider{constructor(h,m,u){super(m,u),this.editorService=h,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){var h;return(h=this.editorService.getFocusedCodeEditor())!==null&&h!==void 0?h:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=i,e.StandaloneGotoSymbolQuickAccessProvider=i=Ie([ue(0,L.ICodeEditorService),ue(1,s.ILanguageFeaturesService),ue(2,a.IOutlineModelService)],i);class t extends w.EditorAction{constructor(){super({id:t.ID,label:y.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:v.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(h){h.get(_.IQuickInputService).quickAccess.show(f.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:_.ItemActivation.NONE})}}e.GotoSymbolAction=t,t.ID="editor.action.quickOutline",(0,w.registerEditorAction)(t),k.Registry.as(E.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:y.QuickOutlineNLS.quickOutlineActionLabel,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:t.ID},{description:y.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(ie[390],ne([1,0,6,49,892,36,14,46,23]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let v=class extends E.AbstractCodeEditorService{constructor(a,s){super(s),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=a.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,t,n)=>t?this.doOpenEditor(t,i):null))}_checkContextKey(){let a=!1;for(const s of this.listCodeEditors())if(!s.isSimpleWidget){a=!0;break}this._editorIsOpen.set(a)}setActiveCodeEditor(a){this._activeCodeEditor=a}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(a,s){if(!this.findModel(a,s.resource)){if(s.resource){const n=s.resource.scheme;if(n===k.Schemas.http||n===k.Schemas.https)return(0,f.windowOpenNoOpener)(s.resource.toString()),a}return null}const t=s.options?s.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")a.setSelection(t),a.revealRangeInCenter(t,1);else{const n={lineNumber:t.startLineNumber,column:t.startColumn};a.setPosition(n),a.revealPositionInCenter(n,1)}return a}findModel(a,s){const i=a.getModel();return i&&i.uri.toString()!==s.toString()?null:i}};e.StandaloneCodeEditorService=v,e.StandaloneCodeEditorService=v=Ie([ue(0,y.IContextKeyService),ue(1,w.IThemeService)],v),(0,p.registerSingleton)(L.ICodeEditorService,v,0)}),define(ie[916],ne([1,0,86,32]),function(J,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[f.editorIndentGuide1]:"#D3D3D3",[f.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[f.editorIndentGuide1]:"#404040",[f.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[f.editorIndentGuide1]:"#FFFFFF",[f.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[f.editorIndentGuide1]:"#292929",[f.editorActiveIndentGuide1]:"#292929"}}}),define(ie[391],ne([1,0,6,62,34,7,29,142,543,916,39,32,23,2,94,888,52]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const m=_.Registry.as(a.Extensions.ColorContribution),u=_.Registry.as(s.Extensions.ThemingContribution);class d{constructor(b,C){this.semanticHighlighting=!1,this.themeData=C;const S=C.base;b.length>0?(r(b)?this.id=b:this.id=S+" "+b,this.themeName=b):(this.id=S,this.themeName=S),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const b=new Map;for(const C in this.themeData.colors)b.set(C,E.Color.fromHex(this.themeData.colors[C]));if(this.themeData.inherit){const C=l(this.themeData.base);for(const S in C.colors)b.has(S)||b.set(S,E.Color.fromHex(C.colors[S]))}this.colors=b}return this.colors}getColor(b,C){const S=this.getColors().get(b);if(S)return S;if(C!==!1)return this.getDefault(b)}getDefault(b){let C=this.defaultColors[b];return C||(C=m.resolveDefaultColor(b,this),this.defaultColors[b]=C,C)}defines(b){return this.getColors().has(b)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return t.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let b=[],C=[];if(this.themeData.inherit){const I=l(this.themeData.base);b=I.rules,I.encodedTokensColors&&(C=I.encodedTokensColors)}const S=this.themeData.colors["editor.foreground"],D=this.themeData.colors["editor.background"];if(S||D){const I={token:""};S&&(I.foreground=S),D&&(I.background=D),b.push(I)}b=b.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(C=this.themeData.encodedTokensColors),this._tokenTheme=w.TokenTheme.createFromRawTokenTheme(b,C)}return this._tokenTheme}getTokenStyleMetadata(b,C,S){const I=this.tokenTheme._match([b].concat(C).join(".")).metadata,T=p.TokenMetadata.getForeground(I),N=p.TokenMetadata.getFontStyle(I);return{foreground:T,italic:!!(N&1),bold:!!(N&2),underline:!!(N&4),strikethrough:!!(N&8)}}}function r(c){return c===e.VS_LIGHT_THEME_NAME||c===e.VS_DARK_THEME_NAME||c===e.HC_BLACK_THEME_NAME||c===e.HC_LIGHT_THEME_NAME}function l(c){switch(c){case e.VS_LIGHT_THEME_NAME:return v.vs;case e.VS_DARK_THEME_NAME:return v.vs_dark;case e.HC_BLACK_THEME_NAME:return v.hc_black;case e.HC_LIGHT_THEME_NAME:return v.hc_light}}function o(c){const b=l(c);return new d(c,b)}class g extends i.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new L.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new L.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new n.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,o(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,o(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,o(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,o(e.HC_LIGHT_THEME_NAME));const b=this._register((0,n.getIconsStyleSheet)(this));this._codiconCSS=b.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),this._register(b.onDidChange(()=>{this._codiconCSS=b.getCSS(),this._updateCSS()})),(0,k.addMatchMediaChangeListener)(h.mainWindow,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(b){return f.isInShadowDOM(b)?this._registerShadowDomContainer(b):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=f.createStyleSheet(void 0,b=>{b.className="monaco-colors",b.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(b){const C=f.createStyleSheet(b,S=>{S.className="monaco-colors",S.textContent=this._allCSS});return this._styleElements.push(C),{dispose:()=>{for(let S=0;S<this._styleElements.length;S++)if(this._styleElements[S]===C){this._styleElements.splice(S,1);return}}}}defineTheme(b,C){if(!/^[a-z0-9\-]+$/i.test(b))throw new Error("Illegal theme name!");if(!r(C.base)&&!r(b))throw new Error("Illegal theme base!");this._knownThemes.set(b,new d(b,C)),r(b)&&this._knownThemes.forEach(S=>{S.base===b&&S.notifyBaseUpdated()}),this._theme.themeName===b&&this.setTheme(b)}getColorTheme(){return this._theme}setColorMapOverride(b){this._colorMapOverride=b,this._updateThemeOrColorMap()}setTheme(b){let C;this._knownThemes.has(b)?C=this._knownThemes.get(b):C=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(C)}_updateActualTheme(b){!b||this._theme===b||(this._theme=b,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const b=h.mainWindow.matchMedia("(forced-colors: active)").matches;if(b!==(0,t.isHighContrast)(this._theme.type)){let C;(0,t.isDark)(this._theme.type)?C=b?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:C=b?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(C))}}}setAutoDetectHighContrast(b){this._autoDetectHighContrast=b,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const b=[],C={},S={addRule:T=>{C[T]||(b.push(T),C[T]=!0)}};u.getThemingParticipants().forEach(T=>T(this._theme,S,this._environment));const D=[];for(const T of m.getColors()){const N=this._theme.getColor(T.id,!0);N&&D.push(`${(0,a.asCssVariableName)(T.id)}: ${N.toString()};`)}S.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${D.join(`
`)} }`);const I=this._colorMapOverride||this._theme.tokenTheme.getColorMap();S.addRule((0,w.generateTokensCSSForColorMap)(I)),this._themeCSS=b.join(`
`),this._updateCSS(),y.TokenizationRegistry.setColorMap(I),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(b=>b.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=g}),define(ie[917],ne([1,0,16,148,103,94,391]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class p extends f.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:E.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(v,_){const a=v.get(k.IStandaloneThemeService),s=a.getColorTheme();(0,L.isHighContrast)(s.type)?(a.setTheme(this._originalThemeName||((0,L.isDark)(s.type)?y.VS_DARK_THEME_NAME:y.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(a.setTheme((0,L.isDark)(s.type)?y.HC_BLACK_THEME_NAME:y.HC_LIGHT_THEME_NAME),this._originalThemeName=s.themeName)}}(0,f.registerEditorAction)(p)}),define(ie[117],ne([1,0,6,48,146,341,41,235,2,17,762,28,793,14,58,8,35,51,98,23,31,94,21,32,106,68,511]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=void 0,e.createAndFillInContextMenuActions=C,e.createAndFillInActionBarActions=S,e.createActionViewItem=P;function C(M,R,F,O){const B=M.getActions(R),H=f.ModifierKeyEmitter.getInstance(),V=H.keyStatus.altKey||(v.isWindows||v.isLinux)&&H.keyStatus.shiftKey;D(B,F,V,O?q=>q===O:q=>q==="navigation")}function S(M,R,F,O,B,H){const V=M.getActions(R);D(V,F,!1,typeof O=="string"?z=>z===O:O,B,H)}function D(M,R,F,O=V=>V==="navigation",B=()=>!1,H=!1){let V,q;Array.isArray(R)?(V=R,q=R):(V=R.primary,q=R.secondary);const z=new Set;for(const[U,Z]of M){let re;O(U)?(re=V,re.length>0&&H&&re.push(new y.Separator)):(re=q,re.length>0&&re.push(new y.Separator));for(let x of Z){F&&(x=x instanceof a.MenuItemAction&&x.alt?x.alt:x);const Q=re.push(x);x instanceof y.SubmenuAction&&z.add({group:U,action:x,index:Q-1})}}for(const{group:U,action:Z,index:re}of z){const x=O(U)?V:q,Q=Z.actions;B(Z,U,x.length)&&x.splice(re,1,...Q)}}let I=class extends E.ActionViewItem{constructor(R,F,O,B,H,V,q,z){super(void 0,R,{icon:!!(R.class||R.item.icon),label:!R.class&&!R.item.icon,draggable:F?.draggable,keybinding:F?.keybinding,hoverDelegate:F?.hoverDelegate}),this._keybindingService=O,this._notificationService=B,this._contextKeyService=H,this._themeService=V,this._contextMenuService=q,this._accessibilityService=z,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=f.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(R){R.preventDefault(),R.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(F){this._notificationService.error(F)}}render(R){if(super.render(R),R.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let F=!1;const O=()=>{var B;const H=!!(!((B=this._menuItemAction.alt)===null||B===void 0)&&B.enabled)&&(!this._accessibilityService.isMotionReduced()||F)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&F);H!==this._wantsAltCommand&&(this._wantsAltCommand=H,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(O)),this._register((0,f.addDisposableListener)(R,"mouseleave",B=>{F=!1,O()})),this._register((0,f.addDisposableListener)(R,"mouseenter",B=>{F=!0,O()})),O()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var R;const F=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),O=F&&F.getLabel(),B=this._commandAction.tooltip||this._commandAction.label;let H=O?(0,_.localize)(0,null,B,O):B;if(!this._wantsAltCommand&&(!((R=this._menuItemAction.alt)===null||R===void 0)&&R.enabled)){const V=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,q=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),z=q&&q.getLabel(),U=z?(0,_.localize)(1,null,V,z):V;H=(0,_.localize)(2,null,H,p.UILabelProvider.modifierLabels[v.OS].altKey,U)}return H}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(R){this._itemClassDispose.value=void 0;const{element:F,label:O}=this;if(!F||!O)return;const B=this._commandAction.checked&&(0,s.isICommandActionToggleInfo)(R.toggled)&&R.toggled.icon?R.toggled.icon:R.icon;if(B)if(r.ThemeIcon.isThemeIcon(B)){const H=r.ThemeIcon.asClassNameArray(B);O.classList.add(...H),this._itemClassDispose.value=(0,w.toDisposable)(()=>{O.classList.remove(...H)})}else O.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(B.dark):(0,f.asCSSUrl)(B.light),O.classList.add("icon"),this._itemClassDispose.value=(0,w.combinedDisposable)((0,w.toDisposable)(()=>{O.style.backgroundImage="",O.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=I,e.MenuEntryActionViewItem=I=Ie([ue(2,h.IKeybindingService),ue(3,m.INotificationService),ue(4,i.IContextKeyService),ue(5,d.IThemeService),ue(6,t.IContextMenuService),ue(7,b.IAccessibilityService)],I);let T=class extends L.DropdownMenuActionViewItem{constructor(R,F,O,B,H){var V,q,z;const U={...F,menuAsChild:(V=F?.menuAsChild)!==null&&V!==void 0?V:!1,classNames:(q=F?.classNames)!==null&&q!==void 0?q:r.ThemeIcon.isThemeIcon(R.item.icon)?r.ThemeIcon.asClassName(R.item.icon):void 0,keybindingProvider:(z=F?.keybindingProvider)!==null&&z!==void 0?z:Z=>O.lookupKeybinding(Z.id)};super(R,{getActions:()=>R.actions},B,U),this._keybindingService=O,this._contextMenuService=B,this._themeService=H}render(R){super.render(R),(0,o.assertType)(this.element),R.classList.add("menu-entry");const F=this._action,{icon:O}=F.item;if(O&&!r.ThemeIcon.isThemeIcon(O)){this.element.classList.add("icon");const B=()=>{this.element&&(this.element.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(O.dark):(0,f.asCSSUrl)(O.light))};B(),this._register(this._themeService.onDidColorThemeChange(()=>{B()}))}}};e.SubmenuEntryActionViewItem=T,e.SubmenuEntryActionViewItem=T=Ie([ue(2,h.IKeybindingService),ue(3,t.IContextMenuService),ue(4,d.IThemeService)],T);let N=class extends E.BaseActionViewItem{constructor(R,F,O,B,H,V,q,z){var U,Z,re;super(null,R),this._keybindingService=O,this._notificationService=B,this._contextMenuService=H,this._menuService=V,this._instaService=q,this._storageService=z,this._container=null,this._options=F,this._storageKey=`${R.item.submenu.id}_lastActionId`;let x;const Q=F?.persistLastActionId?z.get(this._storageKey,1):void 0;Q&&(x=R.actions.find(Y=>Q===Y.id)),x||(x=R.actions[0]),this._defaultAction=this._instaService.createInstance(I,x,{keybinding:this._getDefaultActionKeybindingLabel(x)});const X={keybindingProvider:Y=>this._keybindingService.lookupKeybinding(Y.id),...F,menuAsChild:(U=F?.menuAsChild)!==null&&U!==void 0?U:!0,classNames:(Z=F?.classNames)!==null&&Z!==void 0?Z:["codicon","codicon-chevron-down"],actionRunner:(re=F?.actionRunner)!==null&&re!==void 0?re:new y.ActionRunner};this._dropdown=new L.DropdownMenuActionViewItem(R,R.actions,this._contextMenuService,X),this._register(this._dropdown.actionRunner.onDidRun(Y=>{Y.action instanceof a.MenuItemAction&&this.update(Y.action)}))}update(R){var F;!((F=this._options)===null||F===void 0)&&F.persistLastActionId&&this._storageService.store(this._storageKey,R.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(I,R,{keybinding:this._getDefaultActionKeybindingLabel(R)}),this._defaultAction.actionRunner=new class extends y.ActionRunner{async runAction(O,B){await O.run(void 0)}},this._container&&this._defaultAction.render((0,f.prepend)(this._container,(0,f.$)(".action-container")))}_getDefaultActionKeybindingLabel(R){var F;let O;if(!((F=this._options)===null||F===void 0)&&F.renderKeybindingWithDefaultActionLabel){const B=this._keybindingService.lookupKeybinding(R.id);B&&(O=`(${B.getLabel()})`)}return O}setActionContext(R){super.setActionContext(R),this._defaultAction.setActionContext(R),this._dropdown.setActionContext(R)}render(R){this._container=R,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const F=(0,f.$)(".action-container");this._defaultAction.render((0,f.append)(this._container,F)),this._register((0,f.addDisposableListener)(F,f.EventType.KEY_DOWN,B=>{const H=new k.StandardKeyboardEvent(B);H.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),H.stopPropagation())}));const O=(0,f.$)(".dropdown-action-container");this._dropdown.render((0,f.append)(this._container,O)),this._register((0,f.addDisposableListener)(O,f.EventType.KEY_DOWN,B=>{var H;const V=new k.StandardKeyboardEvent(B);V.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(H=this._defaultAction.element)===null||H===void 0||H.focus(),V.stopPropagation())}))}focus(R){R?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(R){R?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=N,e.DropdownWithDefaultActionViewItem=N=Ie([ue(2,h.IKeybindingService),ue(3,m.INotificationService),ue(4,t.IContextMenuService),ue(5,a.IMenuService),ue(6,n.IInstantiationService),ue(7,u.IStorageService)],N);let A=class extends E.SelectActionViewItem{constructor(R,F){super(null,R,R.actions.map(O=>({text:O.id===y.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":O.label,isDisabled:!O.enabled})),0,F,c.defaultSelectBoxStyles,{ariaLabel:R.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,R.actions.findIndex(O=>O.checked)))}render(R){super.render(R),R.style.borderColor=(0,g.asCssVariable)(g.selectBorder)}runAction(R,F){const O=this.action.actions[F];O&&this.actionRunner.run(O)}};A=Ie([ue(1,t.IContextViewService)],A);function P(M,R,F){return R instanceof a.MenuItemAction?M.createInstance(I,R,F):R instanceof a.SubmenuItemAction?R.item.isSelection?M.createInstance(A,R):R.item.rememberDefaultAction?M.createInstance(N,R,{...F,persistLastActionId:!0}):M.createInstance(T,R,F):void 0}}),define(ie[918],ne([1,0,6,81,2,749,117,28,14,8]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class _ extends y.MenuEntryActionViewItem{updateLabel(){const i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return super.updateLabel();this.label&&(this.label.textContent=(0,L.localize)(0,null,this._action.label,_.symbolPrintEnter(i)))}static symbolPrintEnter(i){var t;return(t=i.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let a=class{constructor(i,t,n,h,m){this._menuId=t,this._menuService=h,this._contextKeyService=m,this._menuDisposables=new E.DisposableStore,this.element=f.append(i,f.$(".suggest-status-bar"));const u=d=>d instanceof p.MenuItemAction?n.createInstance(_,d,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:u}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:u}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const i=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const n=[],h=[];for(const[m,u]of i.getActions())m==="left"?n.push(...u):h.push(...u);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(h)};this._menuDisposables.add(i.onDidChange(()=>t())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=a,e.SuggestWidgetStatus=a=Ie([ue(2,v.IInstantiationService),ue(3,p.IMenuService),ue(4,w.IContextKeyService)],a)}),define(ie[207],ne([1,0,6,73,627,41,13,285,12,7,54,2,763,117,28,14,58,35,65]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuWorkbenchToolBar=e.WorkbenchToolBar=void 0;let d=class extends E.ToolBar{constructor(o,g,c,b,C,S,D){super(o,C,{getKeyBinding:T=>{var N;return(N=S.lookupKeybinding(T.id))!==null&&N!==void 0?N:void 0},...g,allowContextMenu:!0,skipTelemetry:typeof g?.telemetrySource=="string"}),this._options=g,this._menuService=c,this._contextKeyService=b,this._contextMenuService=C,this._sessionDisposables=this._store.add(new a.DisposableStore);const I=g?.telemetrySource;I&&this._store.add(this.actionBar.onDidRun(T=>D.publicLog2("workbenchActionExecuted",{id:T.action.id,from:I})))}setActions(o,g=[],c){var b,C,S;this._sessionDisposables.clear();const D=o.slice(),I=g.slice(),T=[];let N=0;const A=[];let P=!1;if(((b=this._options)===null||b===void 0?void 0:b.hiddenItemStrategy)!==-1)for(let M=0;M<D.length;M++){const R=D[M];!(R instanceof t.MenuItemAction)&&!(R instanceof t.SubmenuItemAction)||R.hideActions&&(T.push(R.hideActions.toggle),R.hideActions.toggle.checked&&N++,R.hideActions.isHidden&&(P=!0,D[M]=void 0,((C=this._options)===null||C===void 0?void 0:C.hiddenItemStrategy)!==0&&(A[M]=R)))}if(((S=this._options)===null||S===void 0?void 0:S.overflowBehavior)!==void 0){const M=(0,p.intersection)(new Set(this._options.overflowBehavior.exempted),_.Iterable.map(D,O=>O?.id)),R=this._options.overflowBehavior.maxItems-M.size;let F=0;for(let O=0;O<D.length;O++){const B=D[O];B&&(F++,!M.has(B.id)&&F>=R&&(D[O]=void 0,A[O]=B))}}(0,y.coalesceInPlace)(D),(0,y.coalesceInPlace)(A),super.setActions(D,L.Separator.join(A,I)),T.length>0&&this._sessionDisposables.add((0,f.addDisposableListener)(this.getElement(),"contextmenu",M=>{var R,F,O,B,H;const V=new k.StandardMouseEvent((0,f.getWindow)(this.getElement()),M),q=this.getItemAction(V.target);if(!q)return;V.preventDefault(),V.stopPropagation();let z=!1;if(N===1&&((R=this._options)===null||R===void 0?void 0:R.hiddenItemStrategy)===0){z=!0;for(let re=0;re<T.length;re++)if(T[re].checked){T[re]=(0,L.toAction)({id:q.id,label:q.label,checked:!0,enabled:!1,run(){}});break}}let U;if(!z&&(q instanceof t.MenuItemAction||q instanceof t.SubmenuItemAction)){if(!q.hideActions)return;U=q.hideActions.hide}else U=(0,L.toAction)({id:"label",label:(0,s.localize)(0,null),enabled:!1,run(){}});const Z=L.Separator.join([U],T);!((F=this._options)===null||F===void 0)&&F.resetMenu&&!c&&(c=[this._options.resetMenu]),P&&c&&(Z.push(new L.Separator),Z.push((0,L.toAction)({id:"resetThisMenu",label:(0,s.localize)(1,null),run:()=>this._menuService.resetHiddenStates(c)}))),this._contextMenuService.showContextMenu({getAnchor:()=>V,getActions:()=>Z,menuId:(O=this._options)===null||O===void 0?void 0:O.contextMenu,menuActionOptions:{renderShortTitle:!0,...(B=this._options)===null||B===void 0?void 0:B.menuOptions},skipTelemetry:typeof((H=this._options)===null||H===void 0?void 0:H.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=d,e.WorkbenchToolBar=d=Ie([ue(2,t.IMenuService),ue(3,n.IContextKeyService),ue(4,h.IContextMenuService),ue(5,m.IKeybindingService),ue(6,u.ITelemetryService)],d);let r=class extends d{constructor(o,g,c,b,C,S,D,I){super(o,{resetMenu:g,...c},b,C,S,D,I),this._onDidChangeMenuItems=this._store.add(new v.Emitter),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const T=this._store.add(b.createMenu(g,C,{emitEventsForSubmenuChanges:!0})),N=()=>{var A,P,M;const R=[],F=[];(0,i.createAndFillInActionBarActions)(T,c?.menuOptions,{primary:R,secondary:F},(A=c?.toolbarOptions)===null||A===void 0?void 0:A.primaryGroup,(P=c?.toolbarOptions)===null||P===void 0?void 0:P.shouldInlineSubmenu,(M=c?.toolbarOptions)===null||M===void 0?void 0:M.useSeparatorsInPrimaryActions),o.classList.toggle("has-no-actions",R.length===0&&F.length===0),super.setActions(R,F)};this._store.add(T.onDidChange(()=>{N(),this._onDidChangeMenuItems.fire(this)})),N()}setActions(){throw new w.BugIndicatingError("This toolbar is populated from a menu.")}};e.MenuWorkbenchToolBar=r,e.MenuWorkbenchToolBar=r=Ie([ue(3,t.IMenuService),ue(4,n.IContextKeyService),ue(5,h.IContextMenuService),ue(6,m.IKeybindingService),ue(7,u.ITelemetryService)],r)}),define(ie[919],ne([1,0,6,2,30,82,636,331,60,64,5,123,100,552,207,28,14,202,8]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorGutter=void 0;const d=[],r=35;let l=class extends k.Disposable{constructor(b,C,S,D,I,T){super(),this._diffModel=C,this._editors=S,this._instantiationService=D,this._contextKeyService=I,this._menuService=T,this._menu=this._register(this._menuService.createMenu(n.MenuId.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=(0,E.observableFromEvent)(this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(N=>N.length>0),this.width=(0,E.derived)(this,N=>this._hasActions.read(N)?r:0),this.elements=(0,f.h)("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:r+"px"}},[]),this._currentDiff=(0,E.derived)(this,N=>{var A;const P=this._diffModel.read(N);if(!P)return;const M=(A=P.diff.read(N))===null||A===void 0?void 0:A.mappings,R=this._editors.modifiedCursor.read(N);if(R)return M?.find(F=>F.lineRangeMapping.modified.contains(R.lineNumber))}),this._selectedDiffs=(0,E.derived)(this,N=>{const A=this._diffModel.read(N),P=A?.diff.read(N);if(!P)return d;const M=this._editors.modifiedSelections.read(N);if(M.every(B=>B.isEmpty()))return d;const R=new w.LineRangeSet(M.map(B=>w.LineRange.fromRangeInclusive(B))),O=P.mappings.filter(B=>B.lineRangeMapping.innerChanges&&R.intersects(B.lineRangeMapping.modified)).map(B=>({mapping:B,rangeMappings:B.lineRangeMapping.innerChanges.filter(H=>M.some(V=>_.Range.areIntersecting(H.modifiedRange,V)))}));return O.length===0||O.every(B=>B.rangeMappings.length===0)?d:O}),this._register((0,L.prependRemoveOnDispose)(b,this.elements.root)),this._register((0,f.addDisposableListener)(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register((0,L.applyStyle)(this.elements.root,{display:this._hasActions.map(N=>N?"block":"none")})),this._register(new y.EditorGutter(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(N,A)=>{const P=this._diffModel.read(A);if(!P)return[];const M=P.diff.read(A);if(!M)return[];const R=this._selectedDiffs.read(A);if(R.length>0){const O=s.DetailedLineRangeMapping.fromRangeMappings(R.flatMap(B=>B.rangeMappings));return[new o(O,!0,n.MenuId.DiffEditorSelectionToolbar,void 0,P.model.original.uri,P.model.modified.uri)]}const F=this._currentDiff.read(A);return M.mappings.map(O=>new o(O.lineRangeMapping.withInnerChangesFromLineRanges(),O.lineRangeMapping===F?.lineRangeMapping,n.MenuId.DiffEditorHunkToolbar,void 0,P.model.original.uri,P.model.modified.uri))},createView:(N,A)=>this._instantiationService.createInstance(g,N,A,this)})),this._register((0,f.addDisposableListener)(this.elements.gutter,f.EventType.MOUSE_WHEEL,N=>{this._editors.modified.getOption(103).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(N)},{passive:!1}))}computeStagedValue(b){var C;const S=(C=b.innerChanges)!==null&&C!==void 0?C:[];return new a.TextEdit(S.map(T=>new a.SingleTextEdit(T.originalRange,this._editors.modifiedModel.get().getValueInRange(T.modifiedRange)))).apply(new i.TextModelText(this._editors.original.getModel()))}layout(b){this.elements.gutter.style.left=b+"px"}};e.DiffEditorGutter=l,e.DiffEditorGutter=l=Ie([ue(3,u.IInstantiationService),ue(4,h.IContextKeyService),ue(5,n.IMenuService)],l);class o{constructor(b,C,S,D,I,T){this.mapping=b,this.showAlways=C,this.menuId=S,this.rangeOverride=D,this.originalUri=I,this.modifiedUri=T}get id(){return this.mapping.modified.toString()}get range(){var b;return(b=this.rangeOverride)!==null&&b!==void 0?b:this.mapping.modified}}let g=class extends k.Disposable{constructor(b,C,S,D){super(),this._item=b,this._elements=(0,f.h)("div.gutterItem",{style:{height:"20px",width:"34px"}},[(0,f.h)("div.background@background",{},[]),(0,f.h)("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,T=>T.showAlways),this._menuId=this._item.map(this,T=>T.menuId),this._isSmall=(0,E.observableValue)(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const I=this._register(D.createInstance(m.WorkbenchHoverDelegate,"element",!0,{position:{hoverPosition:1}}));this._register((0,L.appendRemoveOnDispose)(C,this._elements.root)),this._register((0,E.autorun)(T=>{const N=this._showAlways.read(T);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",N),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register((0,E.autorunWithStore)((T,N)=>{this._elements.buttons.replaceChildren();const A=N.add(D.createInstance(t.MenuWorkbenchToolBar,this._elements.buttons,this._menuId.read(T),{orientation:1,hoverDelegate:I,toolbarOptions:{primaryGroup:P=>P.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(T)?1:3},hiddenItemStrategy:0,actionRunner:new p.ActionRunnerWithContext(()=>{const P=this._item.get(),M=P.mapping;return{mapping:M,originalWithModifiedChanges:S.computeStagedValue(M),originalUri:P.originalUri,modifiedUri:P.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));N.add(A.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(b,C){this._lastItemRange=b,this._lastViewRange=C;let S=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&b.length<30,void 0),S=this._elements.buttons.clientHeight,this._elements.root.style.top=b.start+"px",this._elements.root.style.height=b.length+"px";const D=b.length/2-S/2,I=S;let T=b.start+D;const N=v.OffsetRange.tryCreate(I,C.endExclusive-I-S),A=v.OffsetRange.tryCreate(b.start+I,b.endExclusive-S-I);A&&N&&A.start<A.endExclusive&&(T=N.clip(T),T=A.clip(T)),this._elements.buttons.style.top=`${T-b.start}px`}};g=Ie([ue(3,u.IInstantiationService)],g)}),define(ie[273],ne([1,0,6,146,198,41,13,15,26,2,30,17,31,9,29,233,725,117,207,28,27,14,58,8,35,65,85,489]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let D=class extends v.Disposable{constructor(F,O,B){super(),this.editor=F,this.model=O,this.instantiationService=B,this.alwaysShowToolbar=(0,_.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,_.derived)(this,H=>{var V,q,z;const U=(V=this.model.read(H))===null||V===void 0?void 0:V.primaryGhostText.read(H);if(!this.alwaysShowToolbar.read(H)||!U||U.parts.length===0)return this.sessionPosition=void 0,null;const Z=U.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==U.lineNumber&&(this.sessionPosition=void 0);const re=new i.Position(U.lineNumber,Math.min(Z,(z=(q=this.sessionPosition)===null||q===void 0?void 0:q.column)!==null&&z!==void 0?z:Number.MAX_SAFE_INTEGER));return this.sessionPosition=re,re}),this._register((0,_.autorunWithStore)((H,V)=>{const q=this.model.read(H);if(!q||!this.alwaysShowToolbar.read(H))return;const z=V.add(this.instantiationService.createInstance(N,this.editor,!0,this.position,q.selectedInlineCompletionIndex,q.inlineCompletionsCount,q.selectedInlineCompletion.map(U=>{var Z;return(Z=U?.inlineCompletion.source.inlineCompletions.commands)!==null&&Z!==void 0?Z:[]})));F.addContentWidget(z),V.add((0,v.toDisposable)(()=>F.removeContentWidget(z))),V.add((0,_.autorun)(U=>{this.position.read(U)&&q.lastTriggerKind.read(U)!==t.InlineCompletionTriggerKind.Explicit&&q.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=D,e.InlineCompletionsHintsWidget=D=Ie([ue(2,g.IInstantiationService)],D);const I=(0,C.registerIcon)("inline-suggestion-hints-next",w.Codicon.chevronRight,(0,h.localize)(0,null)),T=(0,C.registerIcon)("inline-suggestion-hints-previous",w.Codicon.chevronLeft,(0,h.localize)(1,null));let N=S=class extends v.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(F,O,B){const H=new L.Action(F,O,B,!0,()=>this._commandService.executeCommand(F)),V=this.keybindingService.lookupKeybinding(F,this._contextKeyService);let q=O;return V&&(q=(0,h.localize)(2,null,O,V.getLabel())),H.tooltip=q,H}constructor(F,O,B,H,V,q,z,U,Z,re,x){super(),this.editor=F,this.withBorder=O,this._position=B,this._currentSuggestionIdx=H,this._suggestionCount=V,this._extraCommands=q,this._commandService=z,this.keybindingService=Z,this._contextKeyService=re,this._menuService=x,this.id=`InlineSuggestionHintsContentWidget${S.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.previousAction=this.createCommandAction(n.showPreviousInlineSuggestionActionId,(0,h.localize)(3,null),s.ThemeIcon.asClassName(T)),this.availableSuggestionCountAction=new L.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(n.showNextInlineSuggestionActionId,(0,h.localize)(4,null),s.ThemeIcon.asClassName(I)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(d.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new p.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new p.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(U.createInstance(M,this.nodes.toolBar,d.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:Q=>Q.startsWith("primary")},actionViewItemProvider:(Q,X)=>{if(Q instanceof d.MenuItemAction)return U.createInstance(P,Q,void 0);if(Q===this.availableSuggestionCountAction){const Y=new A(void 0,Q,{label:!0,icon:!1});return Y.setClass("availableSuggestionCount"),Y}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(Q=>{S._dropDownVisible=Q})),this._register((0,_.autorun)(Q=>{this._position.read(Q),this.editor.layoutContentWidget(this)})),this._register((0,_.autorun)(Q=>{const X=this._suggestionCount.read(Q),Y=this._currentSuggestionIdx.read(Q);X!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${Y+1}/${X}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),X!==void 0&&X>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,_.autorun)(Q=>{const X=this._extraCommands.read(Q);if((0,y.equals)(this.lastCommands,X))return;this.lastCommands=X;const Y=X.map(ae=>({class:void 0,id:ae.id,enabled:!0,tooltip:ae.tooltip||"",label:ae.title,run:ce=>this._commandService.executeCommand(ae.id)}));for(const[ae,ce]of this.inlineCompletionsActionsMenus.getActions())for(const he of ce)he instanceof d.MenuItemAction&&Y.push(he);Y.length>0&&Y.unshift(new L.Separator),this.toolBar.setAdditionalSecondaryActions(Y)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=N,N._dropDownVisible=!1,N.id=0,e.InlineSuggestionHintsContentWidget=N=S=Ie([ue(6,r.ICommandService),ue(7,g.IInstantiationService),ue(8,c.IKeybindingService),ue(9,l.IContextKeyService),ue(10,d.IMenuService)],N);class A extends k.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(F){this._className=F}render(F){super.render(F),this._className&&F.classList.add(this._className)}updateTooltip(){}}class P extends m.MenuEntryActionViewItem{updateLabel(){const F=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!F)return super.updateLabel();if(this.label){const O=(0,f.h)("div.keybinding").root;this._register(new E.KeybindingLabel(O,a.OS,{disableTitle:!0,...E.unthemedKeybindingLabelOptions})).set(F),this.label.textContent=this._action.label,this.label.appendChild(O),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let M=class extends u.WorkbenchToolBar{constructor(F,O,B,H,V,q,z,U){super(F,{resetMenu:O,...B},H,V,q,z,U),this.menuId=O,this.options2=B,this.menuService=H,this.contextKeyService=V,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var F,O,B,H,V,q,z;const U=[],Z=[];(0,m.createAndFillInActionBarActions)(this.menu,(F=this.options2)===null||F===void 0?void 0:F.menuOptions,{primary:U,secondary:Z},(B=(O=this.options2)===null||O===void 0?void 0:O.toolbarOptions)===null||B===void 0?void 0:B.primaryGroup,(V=(H=this.options2)===null||H===void 0?void 0:H.toolbarOptions)===null||V===void 0?void 0:V.shouldInlineSubmenu,(z=(q=this.options2)===null||q===void 0?void 0:q.toolbarOptions)===null||z===void 0?void 0:z.useSeparatorsInPrimaryActions),Z.push(...this.additionalActions),U.unshift(...this.prependedPrimaryActions),this.setActions(U,Z)}setPrependedPrimaryActions(F){(0,y.equals)(this.prependedPrimaryActions,F,(O,B)=>O===B)||(this.prependedPrimaryActions=F,this.updateToolbar())}setAdditionalSecondaryActions(F){(0,y.equals)(this.additionalActions,F,(O,B)=>O===B)||(this.additionalActions=F,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=M,e.CustomizedMenuWorkbenchToolBar=M=Ie([ue(3,d.IMenuService),ue(4,l.IContextKeyService),ue(5,o.IContextMenuService),ue(6,c.IKeybindingService),ue(7,b.ITelemetryService)],M)}),define(ie[392],ne([1,0,6,198,41,13,2,30,17,9,117,207,28,14,58,8,35,65,491]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineEditHintsContentWidget=e.InlineEditHintsWidget=void 0;let d=class extends y.Disposable{constructor(c,b,C){super(),this.editor=c,this.model=b,this.instantiationService=C,this.alwaysShowToolbar=(0,p.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,p.derived)(this,S=>{var D,I,T;const N=(D=this.model.read(S))===null||D===void 0?void 0:D.widget.model.ghostText.read(S);if(!this.alwaysShowToolbar.read(S)||!N||N.parts.length===0)return this.sessionPosition=void 0,null;const A=N.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==N.lineNumber&&(this.sessionPosition=void 0);const P=new v.Position(N.lineNumber,Math.min(A,(T=(I=this.sessionPosition)===null||I===void 0?void 0:I.column)!==null&&T!==void 0?T:Number.MAX_SAFE_INTEGER));return this.sessionPosition=P,P}),this._register((0,p.autorunWithStore)((S,D)=>{if(!this.model.read(S)||!this.alwaysShowToolbar.read(S))return;const T=D.add(this.instantiationService.createInstance(r,this.editor,!0,this.position));c.addContentWidget(T),D.add((0,y.toDisposable)(()=>c.removeContentWidget(T)))}))}};e.InlineEditHintsWidget=d,e.InlineEditHintsWidget=d=Ie([ue(2,n.IInstantiationService)],d);let r=u=class extends y.Disposable{constructor(c,b,C,S,D,I){super(),this.editor=c,this.withBorder=b,this._position=C,this._contextKeyService=D,this._menuService=I,this.id=`InlineEditHintsContentWidget${u.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(s.MenuId.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(S.createInstance(o,this.nodes.toolBar,this.editor,s.MenuId.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:T=>T.startsWith("primary")},actionViewItemProvider:(T,N)=>{if(T instanceof s.MenuItemAction)return S.createInstance(l,T,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(T=>{u._dropDownVisible=T})),this._register((0,p.autorun)(T=>{this._position.read(T),this.editor.layoutContentWidget(this)})),this._register((0,p.autorun)(T=>{const N=[];for(const[A,P]of this.inlineCompletionsActionsMenus.getActions())for(const M of P)M instanceof s.MenuItemAction&&N.push(M);N.length>0&&N.unshift(new E.Separator),this.toolBar.setAdditionalSecondaryActions(N)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineEditHintsContentWidget=r,r._dropDownVisible=!1,r.id=0,e.InlineEditHintsContentWidget=r=u=Ie([ue(3,n.IInstantiationService),ue(4,i.IContextKeyService),ue(5,s.IMenuService)],r);class l extends _.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!c)return super.updateLabel();if(this.label){const b=(0,f.h)("div.keybinding").root;this._register(new k.KeybindingLabel(b,w.OS,{disableTitle:!0,...k.unthemedKeybindingLabelOptions})).set(c),this.label.textContent=this._action.label,this.label.appendChild(b),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let o=class extends a.WorkbenchToolBar{constructor(c,b,C,S,D,I,T,N,A){super(c,{resetMenu:C,...S},D,I,T,N,A),this.editor=b,this.menuId=C,this.options2=S,this.menuService=D,this.contextKeyService=I,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var c,b,C,S,D,I,T;const N=[],A=[];(0,_.createAndFillInActionBarActions)(this.menu,(c=this.options2)===null||c===void 0?void 0:c.menuOptions,{primary:N,secondary:A},(C=(b=this.options2)===null||b===void 0?void 0:b.toolbarOptions)===null||C===void 0?void 0:C.primaryGroup,(D=(S=this.options2)===null||S===void 0?void 0:S.toolbarOptions)===null||D===void 0?void 0:D.shouldInlineSubmenu,(T=(I=this.options2)===null||I===void 0?void 0:I.toolbarOptions)===null||T===void 0?void 0:T.useSeparatorsInPrimaryActions),A.push(...this.additionalActions),N.unshift(...this.prependedPrimaryActions),this.setActions(N,A)}setAdditionalSecondaryActions(c){(0,L.equals)(this.additionalActions,c,(b,C)=>b===C)||(this.additionalActions=c,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=o,e.CustomizedMenuWorkbenchToolBar=o=Ie([ue(4,s.IMenuService),ue(5,i.IContextKeyService),ue(6,t.IContextMenuService),ue(7,h.IKeybindingService),ue(8,m.ITelemetryService)],o)}),define(ie[274],ne([1,0,2,30,72,9,5,802,14,8,29,18,19,195,27,392,6,25,12]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditController=e.InlineEditWidget=void 0;class r{constructor(c,b){this.widget=c,this.edit=b}dispose(){this.widget.dispose()}}e.InlineEditWidget=r;let l=d=class extends f.Disposable{static get(c){return c.getContribution(d.ID)}constructor(c,b,C,S,D,I){super(),this.editor=c,this.instantiationService=b,this.contextKeyService=C,this.languageFeaturesService=S,this._commandService=D,this._configurationService=I,this._isVisibleContext=d.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=d.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register((0,k.disposableObservableValue)(this,void 0)),this._isAccepting=(0,k.observableValue)(this,!1),this._enabled=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const T=(0,k.observableSignalFromEvent)("InlineEditController.modelContentChangedSignal",c.onDidChangeModelContent);this._register((0,k.autorun)(R=>{this._enabled.read(R)&&(T.read(R),!this._isAccepting.read(R)&&this.getInlineEdit(c,!0))}));const N=(0,k.observableFromEvent)(c.onDidChangeCursorPosition,()=>c.getPosition());this._register((0,k.autorun)(R=>{if(!this._enabled.read(R))return;const F=N.read(R);F&&this.checkCursorPosition(F)})),this._register((0,k.autorun)(R=>{const F=this._currentEdit.read(R);if(this._isCursorAtInlineEditContext.set(!1),!F){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const O=c.getPosition();O&&this.checkCursorPosition(O)}));const A=(0,k.observableSignalFromEvent)("InlineEditController.editorBlurSignal",c.onDidBlurEditorWidget);this._register((0,k.autorun)(async R=>{var F;this._enabled.read(R)&&(A.read(R),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||c.getOption(63).keepOnBlur)&&((F=this._currentRequestCts)===null||F===void 0||F.dispose(!0),this._currentRequestCts=void 0,await this.clear(!1)))}));const P=(0,k.observableSignalFromEvent)("InlineEditController.editorFocusSignal",c.onDidFocusEditorText);this._register((0,k.autorun)(R=>{this._enabled.read(R)&&(P.read(R),this.getInlineEdit(c,!0))}));const M=this._register((0,h.createStyleSheet2)());this._register((0,k.autorun)(R=>{const F=this._fontFamily.read(R);M.setStyle(F===""||F==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${F};
}`)})),this._register(new n.InlineEditHintsWidget(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(c){var b;if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const C=(b=this._currentEdit.get())===null||b===void 0?void 0:b.edit;if(!C){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(y.Range.containsPosition(C.range,c))}validateInlineEdit(c,b){var C,S;if(b.text.includes(`
`)&&b.range.startLineNumber!==b.range.endLineNumber&&b.range.startColumn!==b.range.endColumn){if(b.range.startColumn!==1)return!1;const I=b.range.endLineNumber,T=b.range.endColumn,N=(S=(C=c.getModel())===null||C===void 0?void 0:C.getLineLength(I))!==null&&S!==void 0?S:0;if(T!==N+1)return!1}return!0}async fetchInlineEdit(c,b){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const C=c.getModel();if(!C)return;const S=C.getVersionId(),D=this.languageFeaturesService.inlineEditProvider.all(C);if(D.length===0)return;const I=D[0];this._currentRequestCts=new s.CancellationTokenSource;const T=this._currentRequestCts.token,N=b?_.InlineEditTriggerKind.Automatic:_.InlineEditTriggerKind.Invoke;if(b&&await o(50,T),T.isCancellationRequested||C.isDisposed()||C.getVersionId()!==S)return;const P=await I.provideInlineEdit(C,{triggerKind:N},T);if(P&&!(T.isCancellationRequested||C.isDisposed()||C.getVersionId()!==S)&&this.validateInlineEdit(c,P))return P}async getInlineEdit(c,b){var C;this._isCursorAtInlineEditContext.set(!1),await this.clear();const S=await this.fetchInlineEdit(c,b);if(!S)return;const D=S.range.endLineNumber,I=S.range.endColumn,T=new i.GhostText(D,[new i.GhostTextPart(I,S.text,!1)]),N=this.instantiationService.createInstance(p.GhostTextWidget,this.editor,{ghostText:(0,k.constObservable)(T),minReservedLineCount:(0,k.constObservable)(0),targetTextModel:(0,k.constObservable)((C=this.editor.getModel())!==null&&C!==void 0?C:void 0),range:(0,k.constObservable)(S.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new r(N,S),void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}async accept(){var c;this._isAccepting.set(!0,void 0);const b=(c=this._currentEdit.get())===null||c===void 0?void 0:c.edit;if(!b)return;let C=b.text;b.text.startsWith(`
`)&&(C=b.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[E.EditOperation.replace(y.Range.lift(b.range),C)]),b.accepted&&await this._commandService.executeCommand(b.accepted.id,...b.accepted.arguments||[]).then(void 0,u.onUnexpectedExternalError),this.freeEdit(b),(0,k.transaction)(S=>{this._currentEdit.set(void 0,S),this._isAccepting.set(!1,S)})}jumpToCurrent(){var c,b;this._jumpBackPosition=(c=this.editor.getSelection())===null||c===void 0?void 0:c.getStartPosition();const C=(b=this._currentEdit.get())===null||b===void 0?void 0:b.edit;if(!C)return;const S=L.Position.lift({lineNumber:C.range.startLineNumber,column:C.range.startColumn});this.editor.setPosition(S),this.editor.revealPositionInCenterIfOutsideViewport(S)}async clear(c=!0){var b;const C=(b=this._currentEdit.get())===null||b===void 0?void 0:b.edit;C&&C?.rejected&&c&&await this._commandService.executeCommand(C.rejected.id,...C.rejected.arguments||[]).then(void 0,u.onUnexpectedExternalError),C&&this.freeEdit(C),this._currentEdit.set(void 0,void 0)}freeEdit(c){const b=this.editor.getModel();if(!b)return;const C=this.languageFeaturesService.inlineEditProvider.all(b);C.length!==0&&C[0].freeInlineEdit(c)}shouldShowHoverAt(c){const b=this._currentEdit.get();if(!b)return!1;const C=b.edit,S=b.widget.model;if(y.Range.containsPosition(C.range,c.getStartPosition())||y.Range.containsPosition(C.range,c.getEndPosition()))return!0;const I=S.ghostText.get();return I?I.parts.some(T=>c.containsPosition(new L.Position(I.lineNumber,T.column))):!1}shouldShowHoverAtViewZone(c){var b,C;return(C=(b=this._currentEdit.get())===null||b===void 0?void 0:b.widget.ownsViewZone(c))!==null&&C!==void 0?C:!1}};e.InlineEditController=l,l.ID="editor.contrib.inlineEditController",l.inlineEditVisibleKey="inlineEditVisible",l.inlineEditVisibleContext=new w.RawContextKey(d.inlineEditVisibleKey,!1),l.cursorAtInlineEditKey="cursorAtInlineEdit",l.cursorAtInlineEditContext=new w.RawContextKey(d.cursorAtInlineEditKey,!1),e.InlineEditController=l=d=Ie([ue(1,v.IInstantiationService),ue(2,w.IContextKeyService),ue(3,a.ILanguageFeaturesService),ue(4,t.ICommandService),ue(5,m.IConfigurationService)],l);function o(g,c){return new Promise(b=>{let C;const S=setTimeout(()=>{C&&C.dispose(),b()},g);c&&(C=c.onCancellationRequested(()=>{clearTimeout(S),C&&C.dispose(),b()}))})}}),define(ie[920],ne([1,0,16,20,586,274,28,14]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RejectInlineEdit=e.JumpBackInlineEdit=e.JumpToInlineEdit=e.TriggerInlineEdit=e.AcceptInlineEdit=void 0;class w extends f.EditorAction{constructor(){super({id:E.inlineEditAcceptId,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.inlineEditVisibleContext,L.InlineEditController.cursorAtInlineEditContext)}],menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(t,n){const h=L.InlineEditController.get(n);await h?.accept()}}e.AcceptInlineEdit=w;class v extends f.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,p.ContextKeyExpr.not(L.InlineEditController.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t}})}async run(t,n){const h=L.InlineEditController.get(n);h?.trigger()}}e.TriggerInlineEdit=v;class _ extends f.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.inlineEditVisibleContext,p.ContextKeyExpr.not(L.InlineEditController.cursorAtInlineEditKey));super({id:E.inlineEditJumpToId,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:t}]})}async run(t,n){const h=L.InlineEditController.get(n);h?.jumpToCurrent()}}e.JumpToInlineEdit=_;class a extends f.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.cursorAtInlineEditContext);super({id:E.inlineEditJumpBackId,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:t,kbOpts:{weight:110,primary:2646,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:t}]})}async run(t,n){const h=L.InlineEditController.get(n);h?.jumpBack()}}e.JumpBackInlineEdit=a;class s extends f.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.inlineEditVisibleContext);super({id:E.inlineEditRejectId,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:t,kbOpts:{weight:100,primary:9,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(t,n){const h=L.InlineEditController.get(n);await h?.clear()}}e.RejectInlineEdit=s}),define(ie[921],ne([1,0,2,30,96,8,65,274,392]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditHoverParticipant=e.InlineEditHover=void 0;class v{constructor(s,i,t){this.owner=s,this.range=i,this.controller=t}isValidForHoverAnchor(s){return s.type===1&&this.range.startColumn<=s.range.startColumn&&this.range.endColumn>=s.range.endColumn}}e.InlineEditHover=v;let _=class{constructor(s,i,t){this._editor=s,this._instantiationService=i,this._telemetryService=t,this.hoverOrdinal=5}suggestHoverAnchor(s){const i=p.InlineEditController.get(this._editor);if(!i)return null;const t=s.target;if(t.type===8){const n=t.detail;if(i.shouldShowHoverAtViewZone(n.viewZoneId)){const h=t.range;return new E.HoverForeignElementAnchor(1e3,this,h,s.event.posx,s.event.posy,!1)}}return t.type===7&&i.shouldShowHoverAt(t.range)?new E.HoverForeignElementAnchor(1e3,this,t.range,s.event.posx,s.event.posy,!1):t.type===6&&t.detail.mightBeForeignElement&&i.shouldShowHoverAt(t.range)?new E.HoverForeignElementAnchor(1e3,this,t.range,s.event.posx,s.event.posy,!1):null}computeSync(s,i){if(this._editor.getOption(63).showToolbar!=="onHover")return[];const t=p.InlineEditController.get(this._editor);return t&&t.shouldShowHoverAt(s.range)?[new v(this,s.range,t)]:[]}renderHoverParts(s,i){const t=new f.DisposableStore;this._telemetryService.publicLog2("inlineEditHover.shown");const n=this._instantiationService.createInstance(w.InlineEditHintsContentWidget,this._editor,!1,(0,k.constObservable)(null));return s.fragment.appendChild(n.getDomNode()),t.add(n),t}};e.InlineEditHoverParticipant=_,e.InlineEditHoverParticipant=_=Ie([ue(1,L.IInstantiationService),ue(2,y.ITelemetryService)],_)}),define(ie[922],ne([1,0,16,96,920,921,274]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorAction)(E.AcceptInlineEdit),(0,f.registerEditorAction)(E.RejectInlineEdit),(0,f.registerEditorAction)(E.JumpToInlineEdit),(0,f.registerEditorAction)(E.JumpBackInlineEdit),(0,f.registerEditorAction)(E.TriggerInlineEdit),(0,f.registerEditorContribution)(y.InlineEditController.ID,y.InlineEditController,3),k.HoverParticipantRegistry.register(L.InlineEditHoverParticipant)}),define(ie[923],ne([1,0,6,41,7,2,117,28,14,35,51,65,882,58]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let t=class extends L.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new s.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(m,u,d,r,l,o){super(),this.telemetryService=m,this.notificationService=u,this.contextViewService=d,this.keybindingService=r,this.menuService=l,this.contextKeyService=o,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new E.Emitter),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new E.Emitter)}configure(m){this.contextMenuHandler.configure(m)}showContextMenu(m){m=n.transform(m,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...m,onHide:u=>{var d;(d=m.onHide)===null||d===void 0||d.call(m,u),this._onDidHideContextMenu.fire()}}),f.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=t,e.ContextMenuService=t=Ie([ue(0,a.ITelemetryService),ue(1,_.INotificationService),ue(2,i.IContextViewService),ue(3,v.IKeybindingService),ue(4,p.IMenuService),ue(5,w.IContextKeyService)],t);var n;(function(h){function m(d){return d&&d.menuId instanceof p.MenuId}function u(d,r,l){if(!m(d))return d;const{menuId:o,menuActionOptions:g,contextKeyService:c}=d;return{...d,getActions:()=>{const b=[];if(o){const C=r.createMenu(o,c??l);(0,y.createAndFillInContextMenuActions)(C,g,b),C.dispose()}return d.getActions?k.Separator.join(d.getActions(),b):b}}}h.transform=u})(n||(e.ContextMenuMenuDelegate=n={}))}),define(ie[393],ne([1,0,6,7,778,8,206,23,2,48,17,118,247,198,81,94,22,369,95,136,418,11,167,15,12]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputTree=e.QuickInputListFocus=void 0;const C=f.$;var S;(function(q){q[q.First=1]="First",q[q.Second=2]="Second",q[q.Last=3]="Last",q[q.Next=4]="Next",q[q.Previous=5]="Previous",q[q.NextPage=6]="NextPage",q[q.PreviousPage=7]="PreviousPage",q[q.NextSeparator=8]="NextSeparator",q[q.PreviousSeparator=9]="PreviousSeparator"})(S||(e.QuickInputListFocus=S={}));class D{constructor(z,U,Z){this.index=z,this.hasCheckbox=U,this._hidden=!1,this._init=new u.Lazy(()=>{var re;const x=(re=Z.label)!==null&&re!==void 0?re:"",Q=(0,d.parseLabelWithIcons)(x).text.trim(),X=Z.ariaLabel||[x,this.saneDescription,this.saneDetail].map(Y=>(0,d.getCodiconAriaLabel)(Y)).filter(Y=>!!Y).join(", ");return{saneLabel:x,saneSortLabel:Q,saneAriaLabel:X}}),this._saneDescription=Z.description,this._saneTooltip=Z.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(z){this._element=z}get hidden(){return this._hidden}set hidden(z){this._hidden=z}get saneDescription(){return this._saneDescription}set saneDescription(z){this._saneDescription=z}get saneDetail(){return this._saneDetail}set saneDetail(z){this._saneDetail=z}get saneTooltip(){return this._saneTooltip}set saneTooltip(z){this._saneTooltip=z}get labelHighlights(){return this._labelHighlights}set labelHighlights(z){this._labelHighlights=z}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(z){this._descriptionHighlights=z}get detailHighlights(){return this._detailHighlights}set detailHighlights(z){this._detailHighlights=z}}class I extends D{constructor(z,U,Z,re,x,Q){var X,Y,ae;super(z,U,x),this.fireButtonTriggered=Z,this._onChecked=re,this.item=x,this._separator=Q,this._checked=!1,this.onChecked=U?k.Event.map(k.Event.filter(this._onChecked.event,ce=>ce.element===this),ce=>ce.checked):k.Event.None,this._saneDetail=x.detail,this._labelHighlights=(X=x.highlights)===null||X===void 0?void 0:X.label,this._descriptionHighlights=(Y=x.highlights)===null||Y===void 0?void 0:Y.description,this._detailHighlights=(ae=x.highlights)===null||ae===void 0?void 0:ae.detail}get separator(){return this._separator}set separator(z){this._separator=z}get checked(){return this._checked}set checked(z){z!==this._checked&&(this._checked=z,this._onChecked.fire({element:this,checked:z}))}get checkboxDisabled(){return!!this.item.disabled}}var T;(function(q){q[q.NONE=0]="NONE",q[q.MOUSE_HOVER=1]="MOUSE_HOVER",q[q.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(T||(T={}));class N extends D{constructor(z,U,Z){super(z,!1,Z),this.fireSeparatorButtonTriggered=U,this.separator=Z,this.children=new Array,this.focusInsideSeparator=T.NONE}}class A{getHeight(z){return z instanceof N?30:z.saneDetail?44:22}getTemplateId(z){return z instanceof I?R.ID:F.ID}}class P{getWidgetAriaLabel(){return(0,E.localize)(0,null)}getAriaLabel(z){var U;return!((U=z.separator)===null||U===void 0)&&U.label?`${z.saneAriaLabel}, ${z.separator.label}`:z.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(z){return z.hasCheckbox?"checkbox":"option"}isChecked(z){if(!(!z.hasCheckbox||!(z instanceof I)))return{value:z.checked,onDidChange:z.onChecked}}}class M{constructor(z){this.hoverDelegate=z}renderTemplate(z){const U=Object.create(null);U.toDisposeElement=new w.DisposableStore,U.toDisposeTemplate=new w.DisposableStore,U.entry=f.append(z,C(".quick-input-list-entry"));const Z=f.append(U.entry,C("label.quick-input-list-label"));U.toDisposeTemplate.add(f.addStandardDisposableListener(Z,f.EventType.CLICK,ae=>{U.checkbox.offsetParent||ae.preventDefault()})),U.checkbox=f.append(Z,C("input.quick-input-list-checkbox")),U.checkbox.type="checkbox";const re=f.append(Z,C(".quick-input-list-rows")),x=f.append(re,C(".quick-input-list-row")),Q=f.append(re,C(".quick-input-list-row"));U.label=new s.IconLabel(x,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),U.toDisposeTemplate.add(U.label),U.icon=f.prepend(U.label.element,C(".quick-input-list-icon"));const X=f.append(x,C(".quick-input-list-entry-keybinding"));U.keybinding=new i.KeybindingLabel(X,_.OS),U.toDisposeTemplate.add(U.keybinding);const Y=f.append(Q,C(".quick-input-list-label-meta"));return U.detail=new s.IconLabel(Y,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),U.toDisposeTemplate.add(U.detail),U.separator=f.append(U.entry,C(".quick-input-list-separator")),U.actionBar=new t.ActionBar(U.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),U.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),U.toDisposeTemplate.add(U.actionBar),U}disposeTemplate(z){z.toDisposeElement.dispose(),z.toDisposeTemplate.dispose()}disposeElement(z,U,Z){Z.toDisposeElement.clear(),Z.actionBar.clear()}}let R=b=class extends M{constructor(z,U){super(z),this.themeService=U,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return b.ID}renderTemplate(z){const U=super.renderTemplate(z);return U.toDisposeTemplate.add(f.addStandardDisposableListener(U.checkbox,f.EventType.CHANGE,Z=>{U.element.checked=U.checkbox.checked})),U}renderElement(z,U,Z){var re,x,Q;const X=z.element;Z.element=X,X.element=(re=Z.entry)!==null&&re!==void 0?re:void 0;const Y=X.item;Z.checkbox.checked=X.checked,Z.toDisposeElement.add(X.onChecked(te=>Z.checkbox.checked=te)),Z.checkbox.disabled=X.checkboxDisabled;const{labelHighlights:ae,descriptionHighlights:ce,detailHighlights:he}=X;if(Y.iconPath){const te=(0,n.isDark)(this.themeService.getColorTheme().type)?Y.iconPath.dark:(x=Y.iconPath.light)!==null&&x!==void 0?x:Y.iconPath.dark,$=h.URI.revive(te);Z.icon.className="quick-input-list-icon",Z.icon.style.backgroundImage=f.asCSSUrl($)}else Z.icon.style.backgroundImage="",Z.icon.className=Y.iconClass?`quick-input-list-icon ${Y.iconClass}`:"";let pe;!X.saneTooltip&&X.saneDescription&&(pe={markdown:{value:X.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:X.saneDescription});const fe={matches:ae||[],descriptionTitle:pe,descriptionMatches:ce||[],labelEscapeNewLines:!0};if(fe.extraClasses=Y.iconClasses,fe.italic=Y.italic,fe.strikethrough=Y.strikethrough,Z.entry.classList.remove("quick-input-list-separator-as-item"),Z.label.setLabel(X.saneLabel,X.saneDescription,fe),Z.keybinding.set(Y.keybinding),X.saneDetail){let te;X.saneTooltip||(te={markdown:{value:X.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:X.saneDetail}),Z.detail.element.style.display="",Z.detail.setLabel(X.saneDetail,void 0,{matches:he,title:te,labelEscapeNewLines:!0})}else Z.detail.element.style.display="none";!((Q=X.separator)===null||Q===void 0)&&Q.label?(Z.separator.textContent=X.separator.label,Z.separator.style.display="",this.addItemWithSeparator(X)):Z.separator.style.display="none",Z.entry.classList.toggle("quick-input-list-separator-border",!!X.separator);const se=Y.buttons;se&&se.length?(Z.actionBar.push(se.map((te,$)=>(0,m.quickInputButtonToAction)(te,`id-${$}`,()=>X.fireButtonTriggered({button:te,item:X.item}))),{icon:!0,label:!1}),Z.entry.classList.add("has-actions")):Z.entry.classList.remove("has-actions")}disposeElement(z,U,Z){this.removeItemWithSeparator(z.element),super.disposeElement(z,U,Z)}isItemWithSeparatorVisible(z){return this._itemsWithSeparatorsFrequency.has(z)}addItemWithSeparator(z){this._itemsWithSeparatorsFrequency.set(z,(this._itemsWithSeparatorsFrequency.get(z)||0)+1)}removeItemWithSeparator(z){const U=this._itemsWithSeparatorsFrequency.get(z)||0;U>1?this._itemsWithSeparatorsFrequency.set(z,U-1):this._itemsWithSeparatorsFrequency.delete(z)}};R.ID="quickpickitem",R=b=Ie([ue(1,p.IThemeService)],R);class F extends M{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return F.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(z){return this._visibleSeparatorsFrequency.has(z)}renderElement(z,U,Z){var re;const x=z.element;Z.element=x,x.element=(re=Z.entry)!==null&&re!==void 0?re:void 0,x.element.classList.toggle("focus-inside",!!x.focusInsideSeparator);const Q=x.separator,{labelHighlights:X,descriptionHighlights:Y,detailHighlights:ae}=x;Z.icon.style.backgroundImage="",Z.icon.className="";let ce;!x.saneTooltip&&x.saneDescription&&(ce={markdown:{value:x.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:x.saneDescription});const he={matches:X||[],descriptionTitle:ce,descriptionMatches:Y||[],labelEscapeNewLines:!0};if(Z.entry.classList.add("quick-input-list-separator-as-item"),Z.label.setLabel(x.saneLabel,x.saneDescription,he),x.saneDetail){let fe;x.saneTooltip||(fe={markdown:{value:x.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:x.saneDetail}),Z.detail.element.style.display="",Z.detail.setLabel(x.saneDetail,void 0,{matches:ae,title:fe,labelEscapeNewLines:!0})}else Z.detail.element.style.display="none";Z.separator.style.display="none",Z.entry.classList.add("quick-input-list-separator-border");const pe=Q.buttons;pe&&pe.length?(Z.actionBar.push(pe.map((fe,se)=>(0,m.quickInputButtonToAction)(fe,`id-${se}`,()=>x.fireSeparatorButtonTriggered({button:fe,separator:x.separator}))),{icon:!0,label:!1}),Z.entry.classList.add("has-actions")):Z.entry.classList.remove("has-actions"),this.addSeparator(x)}disposeElement(z,U,Z){var re;this.removeSeparator(z.element),this.isSeparatorVisible(z.element)||(re=z.element.element)===null||re===void 0||re.classList.remove("focus-inside"),super.disposeElement(z,U,Z)}addSeparator(z){this._visibleSeparatorsFrequency.set(z,(this._visibleSeparatorsFrequency.get(z)||0)+1)}removeSeparator(z){const U=this._visibleSeparatorsFrequency.get(z)||0;U>1?this._visibleSeparatorsFrequency.set(z,U-1):this._visibleSeparatorsFrequency.delete(z)}}F.ID="quickpickseparator";let O=class extends w.Disposable{constructor(z,U,Z,re,x){super(),this.parent=z,this.hoverDelegate=U,this.linkOpenerDelegate=Z,this._onKeyDown=new k.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new k.Emitter,this.onLeave=this._onLeave.event,this._onChangedAllVisibleChecked=new k.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new k.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new k.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new k.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new k.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new k.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onTriggerEmptySelectionOrFocus=new k.Emitter,this._elementChecked=new k.Emitter,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new w.DisposableStore),this._shouldFireCheckedEvents=!0,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._container=f.append(this.parent,C(".quick-input-list")),this._separatorRenderer=new F(U),this._itemRenderer=x.createInstance(R,U),this._tree=this._register(x.createInstance(y.WorkbenchObjectTree,"QuickInput",this._container,new A,[this._itemRenderer,this._separatorRenderer],{accessibilityProvider:new P,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:o.RenderIndentGuides.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,identityProvider:{getId:Q=>{var X,Y,ae,ce,he,pe,fe,se;return(se=(pe=(ce=(Y=(X=Q.item)===null||X===void 0?void 0:X.id)!==null&&Y!==void 0?Y:(ae=Q.item)===null||ae===void 0?void 0:ae.label)!==null&&ce!==void 0?ce:(he=Q.separator)===null||he===void 0?void 0:he.id)!==null&&pe!==void 0?pe:(fe=Q.separator)===null||fe===void 0?void 0:fe.label)!==null&&se!==void 0?se:""}},alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=re,this._registerListeners()}get onDidChangeFocus(){return k.Event.map(k.Event.any(this._tree.onDidChangeFocus,this._onTriggerEmptySelectionOrFocus.event),z=>z.elements.filter(U=>U instanceof I).map(U=>U.item))}get onDidChangeSelection(){return k.Event.map(k.Event.any(this._tree.onDidChangeSelection,this._onTriggerEmptySelectionOrFocus.event),z=>({items:z.elements.filter(U=>U instanceof I).map(U=>U.item),event:z.browserEvent}))}get scrollTop(){return this._tree.scrollTop}set scrollTop(z){this._tree.scrollTop=z}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(z){this._tree.ariaLabel=z??""}set enabled(z){this._tree.getHTMLElement().style.pointerEvents=z?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(z){this._matchOnDescription=z}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(z){this._matchOnDetail=z}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(z){this._matchOnLabel=z}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(z){this._matchOnLabelMode=z}get sortByLabel(){return this._sortByLabel}set sortByLabel(z){this._sortByLabel=z}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(z=>{const U=new v.StandardKeyboardEvent(z);switch(U.keyCode){case 10:this.toggleCheckbox();break;case 31:(_.isMacintosh?z.metaKey:z.ctrlKey)&&this._tree.setFocus(this._itemElements);break;case 16:{const Z=this._tree.getFocus();Z.length===1&&Z[0]===this._itemElements[0]&&this._onLeave.fire();break}case 18:{const Z=this._tree.getFocus();Z.length===1&&Z[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}}this._onKeyDown.fire(U)}))}_registerOnContainerClick(){this._register(f.addDisposableListener(this._container,f.EventType.CLICK,z=>{(z.x||z.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(f.addDisposableListener(this._container,f.EventType.AUXCLICK,z=>{z.button===1&&this._onLeave.fire()}))}_registerOnElementChecked(){this._register(this._elementChecked.event(z=>this._fireCheckedEvents()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(z=>{z.element&&(z.browserEvent.preventDefault(),this._tree.setSelection([z.element]))}))}_registerHoverListeners(){const z=this._register(new g.ThrottledDelayer(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async U=>{var Z;if(U.browserEvent.target instanceof HTMLAnchorElement){z.cancel();return}if(!(!(U.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&f.isAncestor(U.browserEvent.relatedTarget,(Z=U.element)===null||Z===void 0?void 0:Z.element)))try{await z.trigger(async()=>{U.element instanceof I&&this.showHover(U.element)})}catch(re){if(!(0,c.isCancellationError)(re))throw re}})),this._register(this._tree.onMouseOut(U=>{var Z;f.isAncestor(U.browserEvent.relatedTarget,(Z=U.element)===null||Z===void 0?void 0:Z.element)||z.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(z=>{const U=z.elements[0]?this._tree.getParentElement(z.elements[0]):null;for(const Z of this._separatorRenderer.visibleSeparators){const re=Z===U;!!(Z.focusInsideSeparator&T.ACTIVE_ITEM)!==re&&(re?Z.focusInsideSeparator|=T.ACTIVE_ITEM:Z.focusInsideSeparator&=~T.ACTIVE_ITEM,this._tree.rerender(Z))}})),this._register(this._tree.onMouseOver(z=>{const U=z.element?this._tree.getParentElement(z.element):null;for(const Z of this._separatorRenderer.visibleSeparators){if(Z!==U)continue;!!(Z.focusInsideSeparator&T.MOUSE_HOVER)||(Z.focusInsideSeparator|=T.MOUSE_HOVER,this._tree.rerender(Z))}})),this._register(this._tree.onMouseOut(z=>{const U=z.element?this._tree.getParentElement(z.element):null;for(const Z of this._separatorRenderer.visibleSeparators){if(Z!==U)continue;!!(Z.focusInsideSeparator&T.MOUSE_HOVER)&&(Z.focusInsideSeparator&=~T.MOUSE_HOVER,this._tree.rerender(Z))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(z=>{const U=z.elements.filter(Z=>Z instanceof I);U.length!==z.elements.length&&(z.elements.length===1&&z.elements[0]instanceof N&&(this._tree.setFocus([z.elements[0].children[0]]),this._tree.reveal(z.elements[0],0)),this._tree.setSelection(U))}))}getAllVisibleChecked(){return this._allVisibleChecked(this._itemElements,!1)}getCheckedCount(){return this._itemElements.filter(z=>z.checked).length}getVisibleCount(){return this._itemElements.filter(z=>!z.hidden).length}setAllVisibleChecked(z){try{this._shouldFireCheckedEvents=!1,this._itemElements.forEach(U=>{!U.hidden&&!U.checkboxDisabled&&(U.checked=z)})}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}setElements(z){this._elementDisposable.clear(),this._inputElements=z;const U=this.parent.classList.contains("show-checkboxes");let Z;this._itemElements=new Array,this._elementTree=z.reduce((Q,X,Y)=>{let ae;if(X.type==="separator"){if(!X.buttons)return Q;Z=new N(Y,ce=>this.fireSeparatorButtonTriggered(ce),X),ae=Z}else{const ce=Y>0?z[Y-1]:void 0;let he;ce&&ce.type==="separator"&&!ce.buttons&&(Z=void 0,he=ce);const pe=new I(Y,U,fe=>this.fireButtonTriggered(fe),this._elementChecked,X,he);if(this._itemElements.push(pe),Z)return Z.children.push(pe),Q;ae=pe}return Q.push(ae),Q},new Array);const re=new Array;let x=0;for(const Q of this._elementTree)Q instanceof N?(re.push({element:Q,collapsible:!1,collapsed:!1,children:Q.children.map(X=>({element:X,collapsible:!1,collapsed:!1}))}),x+=Q.children.length+1):(re.push({element:Q,collapsible:!1,collapsed:!1}),x++);this._tree.setChildren(null,re),this._onChangedVisibleCount.fire(x)}setFocusedElements(z){const U=z.map(Z=>this._itemElements.find(re=>re.item===Z)).filter(Z=>!!Z);if(this._tree.setFocus(U),z.length>0){const Z=this._tree.getFocus()[0];Z&&this._tree.reveal(Z)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(z){const U=z.map(Z=>this._itemElements.find(re=>re.item===Z)).filter(Z=>!!Z);this._tree.setSelection(U)}getCheckedElements(){return this._itemElements.filter(z=>z.checked).map(z=>z.item)}setCheckedElements(z){try{this._shouldFireCheckedEvents=!1;const U=new Set;for(const Z of z)U.add(Z);for(const Z of this._itemElements)Z.checked=U.has(Z.item)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}focus(z){var U;if(this._itemElements.length)switch(z===S.Second&&this._itemElements.length<2&&(z=S.First),z){case S.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,Z=>Z.element instanceof I);break;case S.Second:this._tree.scrollTop=0,this._tree.setFocus([this._itemElements[1]]);break;case S.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]);break;case S.Next:this._tree.focusNext(void 0,!0,void 0,Z=>Z.element instanceof I?(this._tree.reveal(Z.element),!0):!1);break;case S.Previous:this._tree.focusPrevious(void 0,!0,void 0,Z=>{if(!(Z.element instanceof I))return!1;const re=this._tree.getParentElement(Z.element);return re===null||re.children[0]!==Z.element?this._tree.reveal(Z.element):this._tree.reveal(re),!0});break;case S.NextPage:this._tree.focusNextPage(void 0,Z=>Z.element instanceof I?(this._tree.reveal(Z.element),!0):!1);break;case S.PreviousPage:this._tree.focusPreviousPage(void 0,Z=>{if(!(Z.element instanceof I))return!1;const re=this._tree.getParentElement(Z.element);return re===null||re.children[0]!==Z.element?this._tree.reveal(Z.element):this._tree.reveal(re),!0});break;case S.NextSeparator:{let Z=!1;const re=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,Q=>{if(Z)return!0;if(Q.element instanceof N)Z=!0,this._separatorRenderer.isSeparatorVisible(Q.element)?this._tree.reveal(Q.element.children[0]):this._tree.reveal(Q.element,0);else if(Q.element instanceof I){if(Q.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(Q.element)?this._tree.reveal(Q.element):this._tree.reveal(Q.element,0),!0;if(Q.element===this._elementTree[0])return this._tree.reveal(Q.element,0),!0}return!1});const x=this._tree.getFocus()[0];re===x&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]));break}case S.PreviousSeparator:{let Z,re=!!(!((U=this._tree.getFocus()[0])===null||U===void 0)&&U.separator);this._tree.focusPrevious(void 0,!0,void 0,x=>{if(x.element instanceof N)re?Z||(this._separatorRenderer.isSeparatorVisible(x.element)?this._tree.reveal(x.element):this._tree.reveal(x.element,0),Z=x.element.children[0]):re=!0;else if(x.element instanceof I&&!Z){if(x.element.separator)this._itemRenderer.isItemWithSeparatorVisible(x.element)?this._tree.reveal(x.element):this._tree.reveal(x.element,0),Z=x.element;else if(x.element===this._elementTree[0])return this._tree.reveal(x.element,0),!0}return!1}),Z&&this._tree.setFocus([Z]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(z){this._tree.getHTMLElement().style.maxHeight=z?`${Math.floor(z/44)*44+6}px`:"",this._tree.layout()}filter(z){if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const U=z;if(z=z.trim(),!z||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(Y=>{Y.labelHighlights=void 0,Y.descriptionHighlights=void 0,Y.detailHighlights=void 0,Y.hidden=!1;const ae=Y.index&&this._inputElements[Y.index-1];Y.item&&(Y.separator=ae&&ae.type==="separator"&&!ae.buttons?ae:void 0)});else{let Y;this._elementTree.forEach(ae=>{var ce,he,pe,fe;let se;this.matchOnLabelMode==="fuzzy"?se=this.matchOnLabel&&(ce=(0,d.matchesFuzzyIconAware)(z,(0,d.parseLabelWithIcons)(ae.saneLabel)))!==null&&ce!==void 0?ce:void 0:se=this.matchOnLabel&&(he=B(U,(0,d.parseLabelWithIcons)(ae.saneLabel)))!==null&&he!==void 0?he:void 0;const te=this.matchOnDescription&&(pe=(0,d.matchesFuzzyIconAware)(z,(0,d.parseLabelWithIcons)(ae.saneDescription||"")))!==null&&pe!==void 0?pe:void 0,$=this.matchOnDetail&&(fe=(0,d.matchesFuzzyIconAware)(z,(0,d.parseLabelWithIcons)(ae.saneDetail||"")))!==null&&fe!==void 0?fe:void 0;if(se||te||$?(ae.labelHighlights=se,ae.descriptionHighlights=te,ae.detailHighlights=$,ae.hidden=!1):(ae.labelHighlights=void 0,ae.descriptionHighlights=void 0,ae.detailHighlights=void 0,ae.hidden=ae.item?!ae.item.alwaysShow:!0),ae.item?ae.separator=void 0:ae.separator&&(ae.hidden=!0),!this.sortByLabel){const W=ae.index&&this._inputElements[ae.index-1];Y=W&&W.type==="separator"?W:Y,Y&&!ae.hidden&&(ae.separator=Y,Y=void 0)}})}const Z=this._elementTree.filter(Y=>!Y.hidden);if(this.sortByLabel&&z){const Y=z.toLowerCase();Z.sort((ae,ce)=>V(ae,ce,Y))}let re;const x=Z.reduce((Y,ae,ce)=>(ae instanceof I?re?re.children.push(ae):Y.push(ae):ae instanceof N&&(ae.children=[],re=ae,Y.push(ae)),Y),new Array),Q=new Array;for(const Y of x)Y instanceof N?Q.push({element:Y,collapsible:!1,collapsed:!1,children:Y.children.map(ae=>({element:ae,collapsible:!1,collapsed:!1}))}):Q.push({element:Y,collapsible:!1,collapsed:!1});const X=this._tree.getFocus().length;return this._tree.setChildren(null,Q),X>0&&Q.length===0&&this._onTriggerEmptySelectionOrFocus.fire({elements:[]}),this._tree.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(Z.length),!0}toggleCheckbox(){try{this._shouldFireCheckedEvents=!1;const z=this._tree.getFocus().filter(Z=>Z instanceof I),U=this._allVisibleChecked(z);for(const Z of z)Z.checkboxDisabled||(Z.checked=!U)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}display(z){this._container.style.display=z?"":"none"}isDisplayed(){return this._container.style.display!=="none"}style(z){this._tree.style(z)}toggleHover(){const z=this._tree.getFocus()[0];if(!z?.saneTooltip||!(z instanceof I))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(z);const U=new w.DisposableStore;U.add(this._tree.onDidChangeFocus(Z=>{Z.elements[0]instanceof I&&this.showHover(Z.elements[0])})),this._lastHover&&U.add(this._lastHover),this._elementDisposable.add(U)}_allVisibleChecked(z,U=!0){for(let Z=0,re=z.length;Z<re;Z++){const x=z[Z];if(!x.hidden)if(x.checked)U=!0;else return!1}return U}_fireCheckedEvents(){this._shouldFireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(z){this._onButtonTriggered.fire(z)}fireSeparatorButtonTriggered(z){this._onSeparatorButtonTriggered.fire(z)}showHover(z){var U,Z,re;this._lastHover&&!this._lastHover.isDisposed&&((Z=(U=this.hoverDelegate).onDidHideHover)===null||Z===void 0||Z.call(U),(re=this._lastHover)===null||re===void 0||re.dispose()),!(!z.element||!z.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:z.saneTooltip,target:z.element,linkHandler:x=>{this.linkOpenerDelegate(x)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};e.QuickInputTree=O,Ie([a.memoize],O.prototype,"onDidChangeFocus",null),Ie([a.memoize],O.prototype,"onDidChangeSelection",null),e.QuickInputTree=O=Ie([ue(4,L.IInstantiationService)],O);function B(q,z){const{text:U,iconOffsets:Z}=z;if(!Z||Z.length===0)return H(q,U);const re=(0,l.ltrim)(U," "),x=U.length-re.length,Q=H(q,re);if(Q)for(const X of Q){const Y=Z[X.start+x]+x;X.start+=Y,X.end+=Y}return Q}function H(q,z){const U=z.toLowerCase().indexOf(q.toLowerCase());return U!==-1?[{start:U,end:U+q.length}]:null}function V(q,z,U){const Z=q.labelHighlights||[],re=z.labelHighlights||[];return Z.length&&!re.length?-1:!Z.length&&re.length?1:Z.length===0&&re.length===0?0:(0,r.compareAnything)(q.saneSortLabel,z.saneSortLabel,U)}}),define(ie[394],ne([1,0,6,48,166,13,15,26,7,2,17,107,31,776,75,369,25,202,393,218]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputHoverDelegate=e.InputBox=e.QuickPick=e.backButton=void 0,e.backButton={iconClass:s.ThemeIcon.asClassName(p.Codicon.quickInputBack),tooltip:(0,i.localize)(0,null),handle:-1};class d extends v.Disposable{constructor(c){super(),this.ui=c,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=d.noPromptMessage,this._severity=a.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.onDidHideEmitter=this._register(new w.Emitter),this.onWillHideEmitter=this._register(new w.Emitter),this.onDisposeEmitter=this._register(new w.Emitter),this.visibleDisposables=this._register(new v.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(c){this._title=c,this.update()}get description(){return this._description}set description(c){this._description=c,this.update()}get step(){return this._steps}set step(c){this._steps=c,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(c){this._totalSteps=c,this.update()}get enabled(){return this._enabled}set enabled(c){this._enabled=c,this.update()}get contextKey(){return this._contextKey}set contextKey(c){this._contextKey=c,this.update()}get busy(){return this._busy}set busy(c){this._busy=c,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(c){const b=this._ignoreFocusOut!==c&&!_.isIOS;this._ignoreFocusOut=c&&!_.isIOS,b&&this.update()}get buttons(){return this._buttons}set buttons(c){this._buttons=c,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(c){this._toggles=c??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(c){this._validationMessage=c,this.update()}get severity(){return this._severity}set severity(c){this._severity=c,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(c=>{this.buttons.indexOf(c)!==-1&&this.onDidTriggerButtonEmitter.fire(c)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(c=t.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:c})}willHide(c=t.QuickInputHideReason.Other){this.onWillHideEmitter.fire({reason:c})}update(){var c,b;if(!this.visible)return;const C=this.getTitle();C&&this.ui.title.textContent!==C?this.ui.title.textContent=C:!C&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const S=this.getDescription();if(this.ui.description1.textContent!==S&&(this.ui.description1.textContent=S),this.ui.description2.textContent!==S&&(this.ui.description2.textContent=S),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?f.reset(this.ui.widget,this._widget):f.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new y.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const I=this.buttons.filter(N=>N===e.backButton).map((N,A)=>(0,n.quickInputButtonToAction)(N,`id-${A}`,async()=>this.onDidTriggerButtonEmitter.fire(N)));this.ui.leftActionBar.push(I,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const T=this.buttons.filter(N=>N!==e.backButton).map((N,A)=>(0,n.quickInputButtonToAction)(N,`id-${A}`,async()=>this.onDidTriggerButtonEmitter.fire(N)));this.ui.rightActionBar.push(T,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const I=(b=(c=this.toggles)===null||c===void 0?void 0:c.filter(T=>T instanceof E.Toggle))!==null&&b!==void 0?b:[];this.ui.inputBox.toggles=I}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const D=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==D&&(this._lastValidationMessage=D,f.reset(this.ui.message),(0,n.renderQuickInputDescription)(D,this.ui.message,{callback:I=>{this.ui.linkOpenerDelegate(I)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,i.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(c){if(this.ui.inputBox.showDecoration(c),c!==a.default.Ignore){const b=this.ui.inputBox.stylesForType(c);this.ui.message.style.color=b.foreground?`${b.foreground}`:"",this.ui.message.style.backgroundColor=b.background?`${b.background}`:"",this.ui.message.style.border=b.border?`1px solid ${b.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}d.noPromptMessage=(0,i.localize)(1,null);class r extends d{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new w.Emitter),this.onWillAcceptEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=t.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new w.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new w.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new w.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new w.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=c=>c,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(c){this._quickNavigate=c,this.update()}get value(){return this._value}set value(c){this.doSetValue(c)}doSetValue(c,b){this._value!==c&&(this._value=c,b||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(c){this._ariaLabel=c,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(c){this._placeholder=c,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(c){this.ui.list.scrollTop=c}set items(c){this._items=c,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(c){this._canSelectMany=c,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(c){this._canAcceptInBackground=c}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(c){this._matchOnDescription=c,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(c){this._matchOnDetail=c,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(c){this._matchOnLabel=c,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(c){this._matchOnLabelMode=c,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(c){this._sortByLabel=c,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(c){this._keepScrollPosition=c}get itemActivation(){return this._itemActivation}set itemActivation(c){this._itemActivation=c}get activeItems(){return this._activeItems}set activeItems(c){this._activeItems=c,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(c){this._selectedItems=c,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?t.NO_KEY_MODS:this.ui.keyMods}get valueSelection(){const c=this.ui.inputBox.getSelection();if(c)return[c.start,c.end]}set valueSelection(c){this._valueSelection=c,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(c){this._customButton=c,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(c){this._customButtonLabel=c,this.update()}get customHover(){return this._customButtonHover}set customHover(c){this._customButtonHover=c,this.update()}get ok(){return this._ok}set ok(c){this._ok=c,this.update()}get hideInput(){return!!this._hideInput}set hideInput(c){this._hideInput=c,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(u.QuickInputListFocus.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(c=>{this.doSetValue(c,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(c=>{switch(c.keyCode){case 18:(_.isMacintosh?c.metaKey:c.altKey)?this.ui.list.focus(u.QuickInputListFocus.NextSeparator):this.ui.list.focus(u.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),f.EventHelper.stop(c,!0);break;case 16:(_.isMacintosh?c.metaKey:c.altKey)?this.ui.list.focus(u.QuickInputListFocus.PreviousSeparator):this.ui.list.focus(u.QuickInputListFocus.Previous),this.canSelectMany&&this.ui.list.domFocus(),f.EventHelper.stop(c,!0);break;case 12:this.ui.list.focus(u.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),f.EventHelper.stop(c,!0);break;case 11:this.ui.list.focus(u.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),f.EventHelper.stop(c,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(c.ctrlKey||c.metaKey)&&!c.shiftKey&&!c.altKey&&(this.ui.list.focus(u.QuickInputListFocus.First),f.EventHelper.stop(c,!0));break;case 13:(c.ctrlKey||c.metaKey)&&!c.shiftKey&&!c.altKey&&(this.ui.list.focus(u.QuickInputListFocus.Last),f.EventHelper.stop(c,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(c=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,L.equals)(c,this._activeItems,(b,C)=>b===C)||(this._activeItems=c,this.onDidChangeActiveEmitter.fire(c))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:c,event:b})=>{if(this.canSelectMany){c.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,L.equals)(c,this._selectedItems,(C,S)=>C===S)||(this._selectedItems=c,this.onDidChangeSelectionEmitter.fire(c),c.length&&this.handleAccept(f.isMouseEvent(b)&&b.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(c=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,L.equals)(c,this._selectedItems,(b,C)=>b===C)||(this._selectedItems=c,this.onDidChangeSelectionEmitter.fire(c)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(c=>this.onDidTriggerItemButtonEmitter.fire(c))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(c=>this.onDidTriggerSeparatorButtonEmitter.fire(c))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(c){let b=!1;this.onWillAcceptEmitter.fire({veto:()=>b=!0}),b||this.onDidAcceptEmitter.fire({inBackground:c})}registerQuickNavigation(){return f.addDisposableListener(this.ui.container,f.EventType.KEY_UP,c=>{if(this.canSelectMany||!this._quickNavigate)return;const b=new k.StandardKeyboardEvent(c),C=b.keyCode;this._quickNavigate.keybindings.some(I=>{const T=I.getChords();return T.length>1?!1:T[0].shiftKey&&C===4?!(b.ctrlKey||b.altKey||b.metaKey):!!(T[0].altKey&&C===6||T[0].ctrlKey&&C===5||T[0].metaKey&&C===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const c=this.keepScrollPosition?this.scrollTop:0,b=!!this.description,C={title:!!this.title||!!this.step||!!this.buttons.length,description:b,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||b,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(C),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let S=this.ariaLabel;if(!S&&C.inputBox&&(S=this.placeholder||r.DEFAULT_ARIA_LABEL,this.title&&(S+=` - ${this.title}`)),this.ui.list.ariaLabel!==S&&(this.ui.list.ariaLabel=S??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated){this.itemsUpdated=!1;const D=this._activeItems;switch(this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case t.ItemActivation.NONE:D.length>0&&(this._activeItems=[],this.onDidChangeActiveEmitter.fire(this._activeItems)),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.SECOND:this.ui.list.focus(u.QuickInputListFocus.Second),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.LAST:this.ui.list.focus(u.QuickInputListFocus.Last),this._itemActivation=t.ItemActivation.FIRST;break;default:this.trySelectFirst();break}}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",C.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(u.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=c)}}e.QuickPick=r,r.DEFAULT_ARIA_LABEL=(0,i.localize)(3,null);class l extends d{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(c){this._value=c||"",this.update()}get placeholder(){return this._placeholder}set placeholder(c){this._placeholder=c,this.update()}get password(){return this._password}set password(c){this._password=c,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(c=>{c!==this.value&&(this._value=c,this.onDidValueChangeEmitter.fire(c))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const c={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(c),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=l;let o=class extends m.WorkbenchHoverDelegate{constructor(c,b){super("element",!1,C=>this.getOverrideOptions(C),c,b)}getOverrideOptions(c){var b;const C=(c.content instanceof HTMLElement?(b=c.content.textContent)!==null&&b!==void 0?b:"":typeof c.content=="string"?c.content:c.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:C,skipFadeInAnimation:!0}}}};e.QuickInputHoverDelegate=o,e.QuickInputHoverDelegate=o=Ie([ue(0,h.IConfigurationService),ue(1,m.IHoverService)],o)}),define(ie[924],ne([1,0,6,81,246,337,617,19,7,2,107,777,75,825,394,113,52,8,393]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const r=f.$;let l=d=class extends v.Disposable{get container(){return this._container}constructor(g,c,b){super(),this.options=g,this.layoutService=c,this.instantiationService=b,this.enabled=!0,this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new w.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new w.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=g.idPrefix,this._container=g.container,this.styles=g.styles,this._register(w.Event.runAndSubscribe(f.onDidRegisterWindow,({window:C,disposables:S})=>this.registerKeyModsListeners(C,S),{window:h.mainWindow,disposables:this._store})),this._register(f.onWillUnregisterWindow(C=>{this.ui&&f.getWindow(this.ui.container)===C&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(g,c){const b=C=>{this.keyMods.ctrlCmd=C.ctrlKey||C.metaKey,this.keyMods.alt=C.altKey};for(const C of[f.EventType.KEY_DOWN,f.EventType.KEY_UP,f.EventType.MOUSE_DOWN])c.add(f.addDisposableListener(g,C,b,!0))}getUI(g){if(this.ui)return g&&f.getWindow(this._container)!==f.getWindow(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const c=f.append(this._container,r(".quick-input-widget.show-file-icons"));c.tabIndex=-1,c.style.display="none";const b=f.createStyleSheet(c),C=f.append(c,r(".quick-input-titlebar")),S=this._register(new k.ActionBar(C,{hoverDelegate:this.options.hoverDelegate}));S.domNode.classList.add("quick-input-left-action-bar");const D=f.append(C,r(".quick-input-title")),I=this._register(new k.ActionBar(C,{hoverDelegate:this.options.hoverDelegate}));I.domNode.classList.add("quick-input-right-action-bar");const T=f.append(c,r(".quick-input-header")),N=f.append(T,r("input.quick-input-check-all"));N.type="checkbox",N.setAttribute("aria-label",(0,a.localize)(0,null)),this._register(f.addStandardDisposableListener(N,f.EventType.CHANGE,ce=>{const he=N.checked;Y.setAllVisibleChecked(he)})),this._register(f.addDisposableListener(N,f.EventType.CLICK,ce=>{(ce.x||ce.y)&&R.setFocus()}));const A=f.append(T,r(".quick-input-description")),P=f.append(T,r(".quick-input-and-message")),M=f.append(P,r(".quick-input-filter")),R=this._register(new i.QuickInputBox(M,this.styles.inputBox,this.styles.toggle));R.setAttribute("aria-describedby",`${this.idPrefix}message`);const F=f.append(M,r(".quick-input-visible-count"));F.setAttribute("aria-live","polite"),F.setAttribute("aria-atomic","true");const O=new L.CountBadge(F,{countFormat:(0,a.localize)(1,null)},this.styles.countBadge),B=f.append(M,r(".quick-input-count"));B.setAttribute("aria-live","polite");const H=new L.CountBadge(B,{countFormat:(0,a.localize)(2,null)},this.styles.countBadge),V=f.append(T,r(".quick-input-action")),q=this._register(new E.Button(V,this.styles.button));q.label=(0,a.localize)(3,null),this._register(q.onDidClick(ce=>{this.onDidAcceptEmitter.fire()}));const z=f.append(T,r(".quick-input-action")),U=this._register(new E.Button(z,{...this.styles.button,supportIcons:!0}));U.label=(0,a.localize)(4,null),this._register(U.onDidClick(ce=>{this.onDidCustomEmitter.fire()}));const Z=f.append(P,r(`#${this.idPrefix}message.quick-input-message`)),re=this._register(new y.ProgressBar(c,this.styles.progressBar));re.getContainer().classList.add("quick-input-progress");const x=f.append(c,r(".quick-input-html-widget"));x.tabIndex=-1;const Q=f.append(c,r(".quick-input-description")),X=this.idPrefix+"list",Y=this._register(this.instantiationService.createInstance(u.QuickInputTree,c,this.options.hoverDelegate,this.options.linkOpenerDelegate,X));R.setAttribute("aria-controls",X),this._register(Y.onDidChangeFocus(()=>{var ce;R.setAttribute("aria-activedescendant",(ce=Y.getActiveDescendant())!==null&&ce!==void 0?ce:"")})),this._register(Y.onChangedAllVisibleChecked(ce=>{N.checked=ce})),this._register(Y.onChangedVisibleCount(ce=>{O.setCount(ce)})),this._register(Y.onChangedCheckedCount(ce=>{H.setCount(ce)})),this._register(Y.onLeave(()=>{setTimeout(()=>{this.controller&&(R.setFocus(),this.controller instanceof t.QuickPick&&this.controller.canSelectMany&&Y.clearFocus())},0)}));const ae=f.trackFocus(c);return this._register(ae),this._register(f.addDisposableListener(c,f.EventType.FOCUS,ce=>{f.isAncestor(ce.relatedTarget,c)||(this.previousFocusElement=ce.relatedTarget instanceof HTMLElement?ce.relatedTarget:void 0)},!0)),this._register(ae.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(s.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(f.addDisposableListener(c,f.EventType.FOCUS,ce=>{R.setFocus()})),this._register(f.addStandardDisposableListener(c,f.EventType.KEY_DOWN,ce=>{if(!f.isAncestor(ce.target,x))switch(ce.keyCode){case 3:f.EventHelper.stop(ce,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:f.EventHelper.stop(ce,!0),this.hide(s.QuickInputHideReason.Gesture);break;case 2:if(!ce.altKey&&!ce.ctrlKey&&!ce.metaKey){const he=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(c.classList.contains("show-checkboxes")?he.push("input"):he.push("input[type=text]"),this.getUI().list.isDisplayed()&&he.push(".monaco-list"),this.getUI().message&&he.push(".quick-input-message a"),this.getUI().widget){if(f.isAncestor(ce.target,this.getUI().widget))break;he.push(".quick-input-html-widget")}const pe=c.querySelectorAll(he.join(", "));ce.shiftKey&&ce.target===pe[0]?(f.EventHelper.stop(ce,!0),Y.clearFocus()):!ce.shiftKey&&f.isAncestor(ce.target,pe[pe.length-1])&&(f.EventHelper.stop(ce,!0),pe[0].focus())}break;case 10:ce.ctrlKey&&(f.EventHelper.stop(ce,!0),this.getUI().list.toggleHover());break}})),this.ui={container:c,styleSheet:b,leftActionBar:S,titleBar:C,title:D,description1:Q,description2:A,widget:x,rightActionBar:I,checkAll:N,inputContainer:P,filterContainer:M,inputBox:R,visibleCountContainer:F,visibleCount:O,countContainer:B,count:H,okContainer:V,ok:q,message:Z,customButtonContainer:z,customButton:U,list:Y,progressBar:re,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:ce=>this.show(ce),hide:()=>this.hide(),setVisibilities:ce=>this.setVisibilities(ce),setEnabled:ce=>this.setEnabled(ce),setContextKey:ce=>this.options.setContextKey(ce),linkOpenerDelegate:ce=>this.options.linkOpenerDelegate(ce)},this.updateStyles(),this.ui}reparentUI(g){this.ui&&(this._container=g,f.append(this._container,this.ui.container))}pick(g,c={},b=p.CancellationToken.None){return new Promise((C,S)=>{let D=A=>{var P;D=C,(P=c.onKeyMods)===null||P===void 0||P.call(c,I.keyMods),C(A)};if(b.isCancellationRequested){D(void 0);return}const I=this.createQuickPick();let T;const N=[I,I.onDidAccept(()=>{if(I.canSelectMany)D(I.selectedItems.slice()),I.hide();else{const A=I.activeItems[0];A&&(D(A),I.hide())}}),I.onDidChangeActive(A=>{const P=A[0];P&&c.onDidFocus&&c.onDidFocus(P)}),I.onDidChangeSelection(A=>{if(!I.canSelectMany){const P=A[0];P&&(D(P),I.hide())}}),I.onDidTriggerItemButton(A=>c.onDidTriggerItemButton&&c.onDidTriggerItemButton({...A,removeItem:()=>{const P=I.items.indexOf(A.item);if(P!==-1){const M=I.items.slice(),R=M.splice(P,1),F=I.activeItems.filter(B=>B!==R[0]),O=I.keepScrollPosition;I.keepScrollPosition=!0,I.items=M,F&&(I.activeItems=F),I.keepScrollPosition=O}}})),I.onDidTriggerSeparatorButton(A=>{var P;return(P=c.onDidTriggerSeparatorButton)===null||P===void 0?void 0:P.call(c,A)}),I.onDidChangeValue(A=>{T&&!A&&(I.activeItems.length!==1||I.activeItems[0]!==T)&&(I.activeItems=[T])}),b.onCancellationRequested(()=>{I.hide()}),I.onDidHide(()=>{(0,v.dispose)(N),D(void 0)})];I.title=c.title,I.canSelectMany=!!c.canPickMany,I.placeholder=c.placeHolder,I.ignoreFocusOut=!!c.ignoreFocusLost,I.matchOnDescription=!!c.matchOnDescription,I.matchOnDetail=!!c.matchOnDetail,I.matchOnLabel=c.matchOnLabel===void 0||c.matchOnLabel,I.quickNavigate=c.quickNavigate,I.hideInput=!!c.hideInput,I.contextKey=c.contextKey,I.busy=!0,Promise.all([g,c.activeItem]).then(([A,P])=>{T=P,I.busy=!1,I.items=A,I.canSelectMany&&(I.selectedItems=A.filter(M=>M.type!=="separator"&&M.picked)),T&&(I.activeItems=[T])}),I.show(),Promise.resolve(g).then(void 0,A=>{S(A),I.hide()})})}createQuickPick(){const g=this.getUI(!0);return new t.QuickPick(g)}createInputBox(){const g=this.getUI(!0);return new t.InputBox(g)}show(g){const c=this.getUI(!0);this.onShowEmitter.fire();const b=this.controller;this.controller=g,b?.didHide(),this.setEnabled(!0),c.leftActionBar.clear(),c.title.textContent="",c.description1.textContent="",c.description2.textContent="",f.reset(c.widget),c.rightActionBar.clear(),c.checkAll.checked=!1,c.inputBox.placeholder="",c.inputBox.password=!1,c.inputBox.showDecoration(_.default.Ignore),c.visibleCount.setCount(0),c.count.setCount(0),f.reset(c.message),c.progressBar.stop(),c.list.setElements([]),c.list.matchOnDescription=!1,c.list.matchOnDetail=!1,c.list.matchOnLabel=!0,c.list.sortByLabel=!0,c.ignoreFocusOut=!1,c.inputBox.toggles=void 0;const C=this.options.backKeybindingLabel();t.backButton.tooltip=C?(0,a.localize)(5,null,C):(0,a.localize)(6,null),c.container.style.display="",this.updateLayout(),c.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(g){const c=this.getUI();c.title.style.display=g.title?"":"none",c.description1.style.display=g.description&&(g.inputBox||g.checkAll)?"":"none",c.description2.style.display=g.description&&!(g.inputBox||g.checkAll)?"":"none",c.checkAll.style.display=g.checkAll?"":"none",c.inputContainer.style.display=g.inputBox?"":"none",c.filterContainer.style.display=g.inputBox?"":"none",c.visibleCountContainer.style.display=g.visibleCount?"":"none",c.countContainer.style.display=g.count?"":"none",c.okContainer.style.display=g.ok?"":"none",c.customButtonContainer.style.display=g.customButton?"":"none",c.message.style.display=g.message?"":"none",c.progressBar.getContainer().style.display=g.progressBar?"":"none",c.list.display(!!g.list),c.container.classList.toggle("show-checkboxes",!!g.checkBox),c.container.classList.toggle("hidden-input",!g.inputBox&&!g.description),this.updateLayout()}setEnabled(g){if(g!==this.enabled){this.enabled=g;for(const c of this.getUI().leftActionBar.viewItems)c.action.enabled=g;for(const c of this.getUI().rightActionBar.viewItems)c.action.enabled=g;this.getUI().checkAll.disabled=!g,this.getUI().inputBox.enabled=g,this.getUI().ok.enabled=g,this.getUI().list.enabled=g}}hide(g){var c,b;const C=this.controller;if(!C)return;C.willHide(g);const S=(c=this.ui)===null||c===void 0?void 0:c.container,D=S&&!f.isAncestorOfActiveElement(S);if(this.controller=null,this.onHideEmitter.fire(),S&&(S.style.display="none"),!D){let I=this.previousFocusElement;for(;I&&!I.offsetParent;)I=(b=I.parentElement)!==null&&b!==void 0?b:void 0;I?.offsetParent?(I.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}C.didHide(g)}layout(g,c){this.dimension=g,this.titleBarOffset=c,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const g=this.ui.container.style,c=Math.min(this.dimension.width*.62,d.MAX_WIDTH);g.width=c+"px",g.marginLeft="-"+c/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(g){this.styles=g,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:g,quickInputBackground:c,quickInputForeground:b,widgetBorder:C,widgetShadow:S}=this.styles.widget;this.ui.titleBar.style.backgroundColor=g??"",this.ui.container.style.backgroundColor=c??"",this.ui.container.style.color=b??"",this.ui.container.style.border=C?`1px solid ${C}`:"",this.ui.container.style.boxShadow=S?`0 0 8px 2px ${S}`:"",this.ui.list.style(this.styles.list);const D=[];this.styles.pickerGroup.pickerGroupBorder&&D.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&D.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&D.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(D.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&D.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&D.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&D.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&D.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&D.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),D.push("}"));const I=D.join(`
`);I!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=I)}}};e.QuickInputController=l,l.MAX_WIDTH=600,e.QuickInputController=l=d=Ie([ue(1,n.ILayoutService),ue(2,m.IInstantiationService)],l)}),define(ie[925],ne([1,0,19,7,14,8,113,59,841,106,32,23,394,924,25,6]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let h=class extends a.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(w.QuickAccessController))),this._quickAccess}constructor(u,d,r,l,o){super(r),this.instantiationService=u,this.contextKeyService=d,this.layoutService=l,this.configurationService=o,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(u=this.layoutService,d){const r={idPrefix:"quickInput_",container:u.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),linkOpenerDelegate:o=>{this.instantiationService.invokeFunction(g=>{g.get(p.IOpenerService).open(o,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>u.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(s.QuickInputHoverDelegate))},l=this._register(this.instantiationService.createInstance(i.QuickInputController,{...r,...d}));return l.layout(u.activeContainerDimension,u.activeContainerOffset.quickPickTop),this._register(u.onDidLayoutActiveContainer(o=>{(0,n.getWindow)(u.activeContainer)===(0,n.getWindow)(l.container)&&l.layout(o,u.activeContainerOffset.quickPickTop)})),this._register(u.onDidChangeActiveContainer(()=>{l.isVisible()||l.layout(u.activeContainerDimension,u.activeContainerOffset.quickPickTop)})),this._register(l.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(l.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),l}setContextKey(u){let d;u&&(d=this.contexts.get(u),d||(d=new E.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,d))),!(d&&d.get())&&(this.resetContextKeys(),d?.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,d={},r=f.CancellationToken.None){return this.controller.pick(u,d,r)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,_.asCssVariable)(_.quickInputBackground),quickInputForeground:(0,_.asCssVariable)(_.quickInputForeground),quickInputTitleBackground:(0,_.asCssVariable)(_.quickInputTitleBackground),widgetBorder:(0,_.asCssVariable)(_.widgetBorder),widgetShadow:(0,_.asCssVariable)(_.widgetShadow)},inputBox:v.defaultInputBoxStyles,toggle:v.defaultToggleStyles,countBadge:v.defaultCountBadgeStyles,button:v.defaultButtonStyles,progressBar:v.defaultProgressBarStyles,keybindingLabel:v.defaultKeybindingLabelStyles,list:(0,v.getListStyles)({listBackground:_.quickInputBackground,listFocusBackground:_.quickInputListFocusBackground,listFocusForeground:_.quickInputListFocusForeground,listInactiveFocusForeground:_.quickInputListFocusForeground,listInactiveSelectionIconForeground:_.quickInputListFocusIconForeground,listInactiveFocusBackground:_.quickInputListFocusBackground,listFocusOutline:_.activeContrastBorder,listInactiveFocusOutline:_.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,_.asCssVariable)(_.pickerGroupBorder),pickerGroupForeground:(0,_.asCssVariable)(_.pickerGroupForeground)}}}};e.QuickInputService=h,e.QuickInputService=h=Ie([ue(0,L.IInstantiationService),ue(1,E.IContextKeyService),ue(2,a.IThemeService),ue(3,y.ILayoutService),ue(4,t.IConfigurationService)],h)}),define(ie[926],ne([1,0,7,16,23,19,8,14,367,36,925,119,25,509]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let i=class extends _.QuickInputService{constructor(u,d,r,l,o,g){super(d,r,l,new w.EditorScopedLayoutService(u.getContainerDomNode(),o),g),this.host=void 0;const c=n.get(u);if(c){const b=c.widget;this.host={_serviceBrand:void 0,get mainContainer(){return b.getDomNode()},getContainer(){return b.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[b.getDomNode()]},get activeContainer(){return b.getDomNode()},get mainContainerDimension(){return u.getLayoutInfo()},get activeContainerDimension(){return u.getLayoutInfo()},get onDidLayoutMainContainer(){return u.onDidLayoutChange},get onDidLayoutActiveContainer(){return u.onDidLayoutChange},get onDidLayoutContainer(){return f.Event.map(u.onDidLayoutChange,C=>({container:b.getDomNode(),dimension:C}))},get onDidChangeActiveContainer(){return f.Event.None},get onDidAddContainer(){return f.Event.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>u.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};i=Ie([ue(1,y.IInstantiationService),ue(2,p.IContextKeyService),ue(3,E.IThemeService),ue(4,v.ICodeEditorService),ue(5,s.IConfigurationService)],i);let t=class{get activeService(){const u=this.codeEditorService.getFocusedCodeEditor();if(!u)throw new Error("Quick input service needs a focused editor to work.");let d=this.mapEditorToService.get(u);if(!d){const r=d=this.instantiationService.createInstance(i,u);this.mapEditorToService.set(u,d),(0,a.createSingleCallFunction)(u.onDidDispose)(()=>{r.dispose(),this.mapEditorToService.delete(u)})}return d}get quickAccess(){return this.activeService.quickAccess}constructor(u,d){this.instantiationService=u,this.codeEditorService=d,this.mapEditorToService=new Map}pick(u,d={},r=L.CancellationToken.None){return this.activeService.pick(u,d,r)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=t,e.StandaloneQuickInputService=t=Ie([ue(0,y.IInstantiationService),ue(1,v.ICodeEditorService)],t);class n{static get(u){return u.getContribution(n.ID)}constructor(u){this.editor=u,this.widget=new h(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=n,n.ID="editor.controller.quickInput";class h{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return h.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=h,h.ID="editor.contrib.quickInputWidget",(0,k.registerEditorContribution)(n.ID,n,4)}),define(ie[208],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,f.createDecorator)("undoRedoService");class k{constructor(p,w){this.resource=p,this.elements=w}}e.ResourceEditStackSnapshot=k;class E{constructor(){this.id=E._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=E,E._ID=0,E.None=new E;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=L,L._ID=0,L.None=new L}),define(ie[37],ne([1,0,13,34,12,7,2,11,22,139,220,60,9,5,24,188,42,33,43,641,904,357,315,548,549,348,642,193,670,125,208]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=void 0,e.createTextBufferFactory=A,e.createTextBufferFactoryFromSnapshot=P,e.createTextBuffer=M;function A(j){const K=new C.PieceTreeTextBufferBuilder;return K.acceptChunk(j),K.finish()}function P(j){const K=new C.PieceTreeTextBufferBuilder;let G;for(;typeof(G=j.read())=="string";)K.acceptChunk(G);return K.finish()}function M(j,K){let G;return typeof j=="string"?G=A(j):u.isITextSnapshot(j)?G=P(j):G=j,G.create(K)}let R=0;const F=999,O=1e4;class B{constructor(K){this._source=K,this._eos=!1}read(){if(this._eos)return null;const K=[];let G=0,ee=0;do{const oe=this._source.read();if(oe===null)return this._eos=!0,G===0?null:K.join("");if(oe.length>0&&(K[G++]=oe,ee+=oe.length),ee>=64*1024)return K.join("")}while(!0)}}const H=()=>{throw new Error("Invalid change accessor")};let V=N=class extends y.Disposable{static resolveOptions(K,G){if(G.detectIndentation){const ee=(0,g.guessIndentation)(K,G.tabSize,G.insertSpaces);return new u.TextModelResolvedOptions({tabSize:ee.tabSize,indentSize:"tabSize",insertSpaces:ee.insertSpaces,trimAutoWhitespace:G.trimAutoWhitespace,defaultEOL:G.defaultEOL,bracketPairColorizationOptions:G.bracketPairColorizationOptions})}return new u.TextModelResolvedOptions(G)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(K){return this._eventEmitter.slowEvent(G=>K(G.contentChangedEvent))}onDidChangeContentOrInjectedText(K){return(0,y.combinedDisposable)(this._eventEmitter.fastEvent(G=>K(G)),this._onDidChangeInjectedText.event(G=>K(G)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(K,G,ee,oe=null,de,le,ge){super(),this._undoRedoService=de,this._languageService=le,this._languageConfigurationService=ge,this._onWillDispose=this._register(new L.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new se(Ee=>this.handleBeforeFireDecorationsChangedEvent(Ee))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new L.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new L.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new L.Emitter),this._eventEmitter=this._register(new te),this._languageSelectionListener=this._register(new y.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new $,R++,this.id="$model"+R,this.isForSimpleWidget=ee.isForSimpleWidget,typeof oe>"u"||oe===null?this._associatedResource=w.URI.parse("inmemory://model/"+R):this._associatedResource=oe,this._attachedEditorCount=0;const{textBuffer:ve,disposable:Ce}=M(K,ee.defaultEOL);this._buffer=ve,this._bufferDisposable=Ce,this._options=N.resolveOptions(this._buffer,ee);const Se=typeof G=="string"?G:G.languageId;typeof G!="string"&&(this._languageSelectionListener.value=G.onDidChange(()=>this._setLanguage(G.languageId))),this._bracketPairs=this._register(new d.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new o.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new r.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new D.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Se,this._attachedViews);const be=this._buffer.getLineCount(),ke=this._buffer.getValueLengthInRange(new i.Range(1,1,be,this._buffer.getLineLength(be)+1),0);ee.largeFileOptimizations?(this._isTooLargeForTokenization=ke>N.LARGE_FILE_SIZE_THRESHOLD||be>N.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=ke>N.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=ke>N._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=p.singleLetterHash(R),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new re,this._commandManager=new l.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Se)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const K=new b.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);K.dispose(),this._buffer=K,this._bufferDisposable=y.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(K,G){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(G),this._bracketPairs.handleDidChangeContent(G),this._eventEmitter.fire(new I.InternalModelContentChangeEvent(K,G)))}setValue(K){if(this._assertNotDisposed(),K==null)throw(0,E.illegalArgument)();const{textBuffer:G,disposable:ee}=M(K,this._options.defaultEOL);this._setValueFromTextBuffer(G,ee)}_createContentChanged2(K,G,ee,oe,de,le,ge,ve){return{changes:[{range:K,rangeOffset:G,rangeLength:ee,text:oe}],eol:this._buffer.getEOL(),isEolChange:ve,versionId:this.getVersionId(),isUndoing:de,isRedoing:le,isFlush:ge}}_setValueFromTextBuffer(K,G){this._assertNotDisposed();const ee=this.getFullModelRange(),oe=this.getValueLengthInRange(ee),de=this.getLineCount(),le=this.getLineMaxColumn(de);this._buffer=K,this._bufferDisposable.dispose(),this._bufferDisposable=G,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new re,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,de,le),0,oe,this.getValue(),!1,!1,!0,!1))}setEOL(K){this._assertNotDisposed();const G=K===1?`\r
`:`
`;if(this._buffer.getEOL()===G)return;const ee=this.getFullModelRange(),oe=this.getValueLengthInRange(ee),de=this.getLineCount(),le=this.getLineMaxColumn(de);this._onBeforeEOLChange(),this._buffer.setEOL(G),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,de,le),0,oe,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const K=this.getVersionId(),G=this._decorationsTree.collectNodesPostOrder();for(let ee=0,oe=G.length;ee<oe;ee++){const de=G[ee],le=de.range,ge=de.cachedAbsoluteStart-de.start,ve=this._buffer.getOffsetAt(le.startLineNumber,le.startColumn),Ce=this._buffer.getOffsetAt(le.endLineNumber,le.endColumn);de.cachedAbsoluteStart=ve,de.cachedAbsoluteEnd=Ce,de.cachedVersionId=K,de.start=ve-ge,de.end=Ce-ge,(0,c.recomputeMaxEnd)(de)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(K){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(K)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let K=0,G=0;const ee=this._buffer.getLineCount();for(let oe=1;oe<=ee;oe++){const de=this._buffer.getLineLength(oe);de>=O?G+=de:K+=de}return G>K}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(K){this._assertNotDisposed();const G=typeof K.tabSize<"u"?K.tabSize:this._options.tabSize,ee=typeof K.indentSize<"u"?K.indentSize:this._options.originalIndentSize,oe=typeof K.insertSpaces<"u"?K.insertSpaces:this._options.insertSpaces,de=typeof K.trimAutoWhitespace<"u"?K.trimAutoWhitespace:this._options.trimAutoWhitespace,le=typeof K.bracketColorizationOptions<"u"?K.bracketColorizationOptions:this._options.bracketPairColorizationOptions,ge=new u.TextModelResolvedOptions({tabSize:G,indentSize:ee,insertSpaces:oe,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:de,bracketPairColorizationOptions:le});if(this._options.equals(ge))return;const ve=this._options.createChangeEvent(ge);this._options=ge,this._bracketPairs.handleDidChangeOptions(ve),this._decorationProvider.handleDidChangeOptions(ve),this._onDidChangeOptions.fire(ve)}detectIndentation(K,G){this._assertNotDisposed();const ee=(0,g.guessIndentation)(this._buffer,G,K);this.updateOptions({insertSpaces:ee.insertSpaces,tabSize:ee.tabSize,indentSize:ee.tabSize})}normalizeIndentation(K){return this._assertNotDisposed(),(0,_.normalizeIndentation)(K,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(K=null){const G=this.findMatches(p.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(K,G.map(ee=>({range:ee.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(K){this._assertNotDisposed();const G=this._validatePosition(K.lineNumber,K.column,0);return this._buffer.getOffsetAt(G.lineNumber,G.column)}getPositionAt(K){this._assertNotDisposed();const G=Math.min(this._buffer.getLength(),Math.max(0,K));return this._buffer.getPositionAt(G)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(K){this._versionId=K}_overwriteAlternativeVersionId(K){this._alternativeVersionId=K}_overwriteInitialUndoRedoSnapshot(K){this._initialUndoRedoSnapshot=K}getValue(K,G=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new E.BugIndicatingError("Operation would exceed heap memory limits");const ee=this.getFullModelRange(),oe=this.getValueInRange(ee,K);return G?this._buffer.getBOM()+oe:oe}createSnapshot(K=!1){return new B(this._buffer.createSnapshot(K))}getValueLength(K,G=!1){this._assertNotDisposed();const ee=this.getFullModelRange(),oe=this.getValueLengthInRange(ee,K);return G?this._buffer.getBOM().length+oe:oe}getValueInRange(K,G=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(K),G)}getValueLengthInRange(K,G=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(K),G)}getCharacterCountInRange(K,G=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(K),G)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(K)}getLineLength(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(K)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new E.BugIndicatingError("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(K){return this._assertNotDisposed(),1}getLineMaxColumn(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(K)+1}getLineFirstNonWhitespaceColumn(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(K)}getLineLastNonWhitespaceColumn(K){if(this._assertNotDisposed(),K<1||K>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(K)}_validateRangeRelaxedNoAllocations(K){const G=this._buffer.getLineCount(),ee=K.startLineNumber,oe=K.startColumn;let de=Math.floor(typeof ee=="number"&&!isNaN(ee)?ee:1),le=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1);if(de<1)de=1,le=1;else if(de>G)de=G,le=this.getLineMaxColumn(de);else if(le<=1)le=1;else{const be=this.getLineMaxColumn(de);le>=be&&(le=be)}const ge=K.endLineNumber,ve=K.endColumn;let Ce=Math.floor(typeof ge=="number"&&!isNaN(ge)?ge:1),Se=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(Ce<1)Ce=1,Se=1;else if(Ce>G)Ce=G,Se=this.getLineMaxColumn(Ce);else if(Se<=1)Se=1;else{const be=this.getLineMaxColumn(Ce);Se>=be&&(Se=be)}return ee===de&&oe===le&&ge===Ce&&ve===Se&&K instanceof i.Range&&!(K instanceof t.Selection)?K:new i.Range(de,le,Ce,Se)}_isValidPosition(K,G,ee){if(typeof K!="number"||typeof G!="number"||isNaN(K)||isNaN(G)||K<1||G<1||(K|0)!==K||(G|0)!==G)return!1;const oe=this._buffer.getLineCount();if(K>oe)return!1;if(G===1)return!0;const de=this.getLineMaxColumn(K);if(G>de)return!1;if(ee===1){const le=this._buffer.getLineCharCode(K,G-2);if(p.isHighSurrogate(le))return!1}return!0}_validatePosition(K,G,ee){const oe=Math.floor(typeof K=="number"&&!isNaN(K)?K:1),de=Math.floor(typeof G=="number"&&!isNaN(G)?G:1),le=this._buffer.getLineCount();if(oe<1)return new s.Position(1,1);if(oe>le)return new s.Position(le,this.getLineMaxColumn(le));if(de<=1)return new s.Position(oe,1);const ge=this.getLineMaxColumn(oe);if(de>=ge)return new s.Position(oe,ge);if(ee===1){const ve=this._buffer.getLineCharCode(oe,de-2);if(p.isHighSurrogate(ve))return new s.Position(oe,de-1)}return new s.Position(oe,de)}validatePosition(K){return this._assertNotDisposed(),K instanceof s.Position&&this._isValidPosition(K.lineNumber,K.column,1)?K:this._validatePosition(K.lineNumber,K.column,1)}_isValidRange(K,G){const ee=K.startLineNumber,oe=K.startColumn,de=K.endLineNumber,le=K.endColumn;if(!this._isValidPosition(ee,oe,0)||!this._isValidPosition(de,le,0))return!1;if(G===1){const ge=oe>1?this._buffer.getLineCharCode(ee,oe-2):0,ve=le>1&&le<=this._buffer.getLineLength(de)?this._buffer.getLineCharCode(de,le-2):0,Ce=p.isHighSurrogate(ge),Se=p.isHighSurrogate(ve);return!Ce&&!Se}return!0}validateRange(K){if(this._assertNotDisposed(),K instanceof i.Range&&!(K instanceof t.Selection)&&this._isValidRange(K,1))return K;const ee=this._validatePosition(K.startLineNumber,K.startColumn,0),oe=this._validatePosition(K.endLineNumber,K.endColumn,0),de=ee.lineNumber,le=ee.column,ge=oe.lineNumber,ve=oe.column;{const Ce=le>1?this._buffer.getLineCharCode(de,le-2):0,Se=ve>1&&ve<=this._buffer.getLineLength(ge)?this._buffer.getLineCharCode(ge,ve-2):0,be=p.isHighSurrogate(Ce),ke=p.isHighSurrogate(Se);return!be&&!ke?new i.Range(de,le,ge,ve):de===ge&&le===ve?new i.Range(de,le-1,ge,ve-1):be&&ke?new i.Range(de,le-1,ge,ve+1):be?new i.Range(de,le-1,ge,ve):new i.Range(de,le,ge,ve+1)}return new i.Range(de,le,ge,ve)}modifyPosition(K,G){this._assertNotDisposed();const ee=this.getOffsetAt(K)+G;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,ee)))}getFullModelRange(){this._assertNotDisposed();const K=this.getLineCount();return new i.Range(1,1,K,this.getLineMaxColumn(K))}findMatchesLineByLine(K,G,ee,oe){return this._buffer.findMatchesLineByLine(K,G,ee,oe)}findMatches(K,G,ee,oe,de,le,ge=F){this._assertNotDisposed();let ve=null;G!==null&&(Array.isArray(G)||(G=[G]),G.every(be=>i.Range.isIRange(be))&&(ve=G.map(be=>this.validateRange(be)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((be,ke)=>be.startLineNumber-ke.startLineNumber||be.startColumn-ke.startColumn);const Ce=[];Ce.push(ve.reduce((be,ke)=>i.Range.areIntersecting(be,ke)?be.plusRange(ke):(Ce.push(be),ke)));let Se;if(!ee&&K.indexOf(`
`)<0){const ke=new S.SearchParams(K,ee,oe,de).parseSearchRequest();if(!ke)return[];Se=Ee=>this.findMatchesLineByLine(Ee,ke,le,ge)}else Se=be=>S.TextModelSearch.findMatches(this,new S.SearchParams(K,ee,oe,de),be,le,ge);return Ce.map(Se).reduce((be,ke)=>be.concat(ke),[])}findNextMatch(K,G,ee,oe,de,le){this._assertNotDisposed();const ge=this.validatePosition(G);if(!ee&&K.indexOf(`
`)<0){const Ce=new S.SearchParams(K,ee,oe,de).parseSearchRequest();if(!Ce)return null;const Se=this.getLineCount();let be=new i.Range(ge.lineNumber,ge.column,Se,this.getLineMaxColumn(Se)),ke=this.findMatchesLineByLine(be,Ce,le,1);return S.TextModelSearch.findNextMatch(this,new S.SearchParams(K,ee,oe,de),ge,le),ke.length>0||(be=new i.Range(1,1,ge.lineNumber,this.getLineMaxColumn(ge.lineNumber)),ke=this.findMatchesLineByLine(be,Ce,le,1),ke.length>0)?ke[0]:null}return S.TextModelSearch.findNextMatch(this,new S.SearchParams(K,ee,oe,de),ge,le)}findPreviousMatch(K,G,ee,oe,de,le){this._assertNotDisposed();const ge=this.validatePosition(G);return S.TextModelSearch.findPreviousMatch(this,new S.SearchParams(K,ee,oe,de),ge,le)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(K){if((this.getEOL()===`
`?0:1)!==K)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(K)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(K){return K instanceof u.ValidAnnotatedEditOperation?K:new u.ValidAnnotatedEditOperation(K.identifier||null,this.validateRange(K.range),K.text,K.forceMoveMarkers||!1,K.isAutoWhitespaceEdit||!1,K._isTracked||!1)}_validateEditOperations(K){const G=[];for(let ee=0,oe=K.length;ee<oe;ee++)G[ee]=this._validateEditOperation(K[ee]);return G}pushEditOperations(K,G,ee,oe){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(K,this._validateEditOperations(G),ee,oe)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(K,G,ee,oe){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const de=G.map(ge=>({range:this.validateRange(ge.range),text:ge.text}));let le=!0;if(K)for(let ge=0,ve=K.length;ge<ve;ge++){const Ce=K[ge];let Se=!1;for(let be=0,ke=de.length;be<ke;be++){const Ee=de[be].range,Ae=Ee.startLineNumber>Ce.endLineNumber,Pe=Ce.startLineNumber>Ee.endLineNumber;if(!Ae&&!Pe){Se=!0;break}}if(!Se){le=!1;break}}if(le)for(let ge=0,ve=this._trimAutoWhitespaceLines.length;ge<ve;ge++){const Ce=this._trimAutoWhitespaceLines[ge],Se=this.getLineMaxColumn(Ce);let be=!0;for(let ke=0,Ee=de.length;ke<Ee;ke++){const Ae=de[ke].range,Pe=de[ke].text;if(!(Ce<Ae.startLineNumber||Ce>Ae.endLineNumber)&&!(Ce===Ae.startLineNumber&&Ae.startColumn===Se&&Ae.isEmpty()&&Pe&&Pe.length>0&&Pe.charAt(0)===`
`)&&!(Ce===Ae.startLineNumber&&Ae.startColumn===1&&Ae.isEmpty()&&Pe&&Pe.length>0&&Pe.charAt(Pe.length-1)===`
`)){be=!1;break}}if(be){const ke=new i.Range(Ce,1,Ce,Se);G.push(new u.ValidAnnotatedEditOperation(null,ke,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(K,G,ee,oe)}_applyUndo(K,G,ee,oe){const de=K.map(le=>{const ge=this.getPositionAt(le.newPosition),ve=this.getPositionAt(le.newEnd);return{range:new i.Range(ge.lineNumber,ge.column,ve.lineNumber,ve.column),text:le.oldText}});this._applyUndoRedoEdits(de,G,!0,!1,ee,oe)}_applyRedo(K,G,ee,oe){const de=K.map(le=>{const ge=this.getPositionAt(le.oldPosition),ve=this.getPositionAt(le.oldEnd);return{range:new i.Range(ge.lineNumber,ge.column,ve.lineNumber,ve.column),text:le.newText}});this._applyUndoRedoEdits(de,G,!1,!0,ee,oe)}_applyUndoRedoEdits(K,G,ee,oe,de,le){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=ee,this._isRedoing=oe,this.applyEdits(K,!1),this.setEOL(G),this._overwriteAlternativeVersionId(de)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(le),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(K,G=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const ee=this._validateEditOperations(K);return this._doApplyEdits(ee,G)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(K,G){const ee=this._buffer.getLineCount(),oe=this._buffer.applyEdits(K,this._options.trimAutoWhitespace,G),de=this._buffer.getLineCount(),le=oe.changes;if(this._trimAutoWhitespaceLines=oe.trimAutoWhitespaceLineNumbers,le.length!==0){for(let Ce=0,Se=le.length;Ce<Se;Ce++){const be=le[Ce];this._decorationsTree.acceptReplace(be.rangeOffset,be.rangeLength,be.text.length,be.forceMoveMarkers)}const ge=[];this._increaseVersionId();let ve=ee;for(let Ce=0,Se=le.length;Ce<Se;Ce++){const be=le[Ce],[ke]=(0,v.countEOL)(be.text);this._onDidChangeDecorations.fire();const Ee=be.range.startLineNumber,Ae=be.range.endLineNumber,Pe=Ae-Ee,He=ke,Be=Math.min(Pe,He),De=He-Pe,Ne=de-ve-De+Ee,me=Ne,_e=Ne+He,Re=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new s.Position(me,1)),this.getOffsetAt(new s.Position(_e,this.getLineMaxColumn(_e))),0),We=I.LineInjectedText.fromDecorations(Re),qe=new f.ArrayQueue(We);for(let je=Be;je>=0;je--){const Ze=Ee+je,Je=Ne+je;qe.takeFromEndWhile(rt=>rt.lineNumber>Je);const st=qe.takeFromEndWhile(rt=>rt.lineNumber===Je);ge.push(new I.ModelRawLineChanged(Ze,this.getLineContent(Je),st))}if(Be<Pe){const je=Ee+Be;ge.push(new I.ModelRawLinesDeleted(je+1,Ae))}if(Be<He){const je=new f.ArrayQueue(We),Ze=Ee+Be,Je=He-Be,st=de-ve-Je+Ze+1,rt=[],pt=[];for(let et=0;et<Je;et++){const ut=st+et;pt[et]=this.getLineContent(ut),je.takeWhile(ot=>ot.lineNumber<ut),rt[et]=je.takeWhile(ot=>ot.lineNumber===ut)}ge.push(new I.ModelRawLinesInserted(Ze+1,Ee+He,pt,rt))}ve+=De}this._emitContentChangedEvent(new I.ModelRawContentChangedEvent(ge,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:le,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return oe.reverseEdits===null?void 0:oe.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(K){if(K===null||K.size===0)return;const ee=Array.from(K).map(oe=>new I.ModelRawLineChanged(oe,this.getLineContent(oe),this._getInjectedTextInLine(oe)));this._onDidChangeInjectedText.fire(new I.ModelInjectedTextChangedEvent(ee))}changeDecorations(K,G=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(G,K)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(K,G){const ee={addDecoration:(de,le)=>this._deltaDecorationsImpl(K,[],[{range:de,options:le}])[0],changeDecoration:(de,le)=>{this._changeDecorationImpl(de,le)},changeDecorationOptions:(de,le)=>{this._changeDecorationOptionsImpl(de,fe(le))},removeDecoration:de=>{this._deltaDecorationsImpl(K,[de],[])},deltaDecorations:(de,le)=>de.length===0&&le.length===0?[]:this._deltaDecorationsImpl(K,de,le)};let oe=null;try{oe=G(ee)}catch(de){(0,E.onUnexpectedError)(de)}return ee.addDecoration=H,ee.changeDecoration=H,ee.changeDecorationOptions=H,ee.removeDecoration=H,ee.deltaDecorations=H,oe}deltaDecorations(K,G,ee=0){if(this._assertNotDisposed(),K||(K=[]),K.length===0&&G.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,E.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(ee,K,G)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(K){return this.getDecorationRange(K)}_setTrackedRange(K,G,ee){const oe=K?this._decorations[K]:null;if(!oe)return G?this._deltaDecorationsImpl(0,[],[{range:G,options:pe[ee]}],!0)[0]:null;if(!G)return this._decorationsTree.delete(oe),delete this._decorations[oe.id],null;const de=this._validateRangeRelaxedNoAllocations(G),le=this._buffer.getOffsetAt(de.startLineNumber,de.startColumn),ge=this._buffer.getOffsetAt(de.endLineNumber,de.endColumn);return this._decorationsTree.delete(oe),oe.reset(this.getVersionId(),le,ge,de),oe.setOptions(pe[ee]),this._decorationsTree.insert(oe),oe.id}removeAllDecorationsWithOwnerId(K){if(this._isDisposed)return;const G=this._decorationsTree.collectNodesFromOwner(K);for(let ee=0,oe=G.length;ee<oe;ee++){const de=G[ee];this._decorationsTree.delete(de),delete this._decorations[de.id]}}getDecorationOptions(K){const G=this._decorations[K];return G?G.options:null}getDecorationRange(K){const G=this._decorations[K];return G?this._decorationsTree.getNodeRange(this,G):null}getLineDecorations(K,G=0,ee=!1){return K<1||K>this.getLineCount()?[]:this.getLinesDecorations(K,K,G,ee)}getLinesDecorations(K,G,ee=0,oe=!1,de=!1){const le=this.getLineCount(),ge=Math.min(le,Math.max(1,K)),ve=Math.min(le,Math.max(1,G)),Ce=this.getLineMaxColumn(ve),Se=new i.Range(ge,1,ve,Ce),be=this._getDecorationsInRange(Se,ee,oe,de);return(0,f.pushMany)(be,this._decorationProvider.getDecorationsInRange(Se,ee,oe)),be}getDecorationsInRange(K,G=0,ee=!1,oe=!1,de=!1){const le=this.validateRange(K),ge=this._getDecorationsInRange(le,G,ee,de);return(0,f.pushMany)(ge,this._decorationProvider.getDecorationsInRange(le,G,ee,oe)),ge}getOverviewRulerDecorations(K=0,G=!1){return this._decorationsTree.getAll(this,K,G,!0,!1)}getInjectedTextDecorations(K=0){return this._decorationsTree.getAllInjectedText(this,K)}_getInjectedTextInLine(K){const G=this._buffer.getOffsetAt(K,1),ee=G+this._buffer.getLineLength(K),oe=this._decorationsTree.getInjectedTextInInterval(this,G,ee,0);return I.LineInjectedText.fromDecorations(oe).filter(de=>de.lineNumber===K)}getAllDecorations(K=0,G=!1){let ee=this._decorationsTree.getAll(this,K,G,!1,!1);return ee=ee.concat(this._decorationProvider.getAllDecorations(K,G)),ee}getAllMarginDecorations(K=0){return this._decorationsTree.getAll(this,K,!1,!1,!0)}_getDecorationsInRange(K,G,ee,oe){const de=this._buffer.getOffsetAt(K.startLineNumber,K.startColumn),le=this._buffer.getOffsetAt(K.endLineNumber,K.endColumn);return this._decorationsTree.getAllInInterval(this,de,le,G,ee,oe)}getRangeAt(K,G){return this._buffer.getRangeAt(K,G-K)}_changeDecorationImpl(K,G){const ee=this._decorations[K];if(!ee)return;if(ee.options.after){const ge=this.getDecorationRange(K);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.endLineNumber)}if(ee.options.before){const ge=this.getDecorationRange(K);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.startLineNumber)}const oe=this._validateRangeRelaxedNoAllocations(G),de=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),le=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);this._decorationsTree.delete(ee),ee.reset(this.getVersionId(),de,le,oe),this._decorationsTree.insert(ee),this._onDidChangeDecorations.checkAffectedAndFire(ee.options),ee.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.endLineNumber),ee.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.startLineNumber)}_changeDecorationOptionsImpl(K,G){const ee=this._decorations[K];if(!ee)return;const oe=!!(ee.options.overviewRuler&&ee.options.overviewRuler.color),de=!!(G.overviewRuler&&G.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(ee.options),this._onDidChangeDecorations.checkAffectedAndFire(G),ee.options.after||G.after){const ve=this._decorationsTree.getNodeRange(this,ee);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber)}if(ee.options.before||G.before){const ve=this._decorationsTree.getNodeRange(this,ee);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}const le=oe!==de,ge=U(G)!==Z(ee);le||ge?(this._decorationsTree.delete(ee),ee.setOptions(G),this._decorationsTree.insert(ee)):ee.setOptions(G)}_deltaDecorationsImpl(K,G,ee,oe=!1){const de=this.getVersionId(),le=G.length;let ge=0;const ve=ee.length;let Ce=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Se=new Array(ve);for(;ge<le||Ce<ve;){let be=null;if(ge<le){do be=this._decorations[G[ge++]];while(!be&&ge<le);if(be){if(be.options.after){const ke=this._decorationsTree.getNodeRange(this,be);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.endLineNumber)}if(be.options.before){const ke=this._decorationsTree.getNodeRange(this,be);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.startLineNumber)}this._decorationsTree.delete(be),oe||this._onDidChangeDecorations.checkAffectedAndFire(be.options)}}if(Ce<ve){if(!be){const Be=++this._lastDecorationId,De=`${this._instanceId};${Be}`;be=new c.IntervalNode(De,0,0),this._decorations[De]=be}const ke=ee[Ce],Ee=this._validateRangeRelaxedNoAllocations(ke.range),Ae=fe(ke.options),Pe=this._buffer.getOffsetAt(Ee.startLineNumber,Ee.startColumn),He=this._buffer.getOffsetAt(Ee.endLineNumber,Ee.endColumn);be.ownerId=K,be.reset(de,Pe,He,Ee),be.setOptions(Ae),be.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber),be.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber),oe||this._onDidChangeDecorations.checkAffectedAndFire(Ae),this._decorationsTree.insert(be),Se[Ce]=be.id,Ce++}else be&&delete this._decorations[be.id]}return Se}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(K,G){typeof K=="string"?(this._languageSelectionListener.clear(),this._setLanguage(K,G)):(this._languageSelectionListener.value=K.onDidChange(()=>this._setLanguage(K.languageId,G)),this._setLanguage(K.languageId,G))}_setLanguage(K,G){this.tokenization.setLanguageId(K,G),this._languageService.requestRichLanguageFeatures(K)}getLanguageIdAtPosition(K,G){return this.tokenization.getLanguageIdAtPosition(K,G)}getWordAtPosition(K){return this._tokenizationTextModelPart.getWordAtPosition(K)}getWordUntilPosition(K){return this._tokenizationTextModelPart.getWordUntilPosition(K)}normalizePosition(K,G){return K}getLineIndentColumn(K){return q(this.getLineContent(K))+1}};e.TextModel=V,V._MODEL_SYNC_LIMIT=50*1024*1024,V.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,V.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,V.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,V.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:n.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:n.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:n.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:n.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:n.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:n.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=V=N=Ie([ue(4,T.IUndoRedoService),ue(5,h.ILanguageService),ue(6,m.ILanguageConfigurationService)],V);function q(j){let K=0;for(const G of j)if(G===" "||G==="	")K++;else break;return K}function z(j){return!!(j.options.overviewRuler&&j.options.overviewRuler.color)}function U(j){return!!j.after||!!j.before}function Z(j){return!!j.options.after||!!j.options.before}class re{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree,this._injectedTextDecorationsTree=new c.IntervalTree}ensureAllNodesHaveRanges(K){this.getAll(K,0,!1,!1,!1)}_ensureNodesHaveRanges(K,G){for(const ee of G)ee.range===null&&(ee.range=K.getRangeAt(ee.cachedAbsoluteStart,ee.cachedAbsoluteEnd));return G}getAllInInterval(K,G,ee,oe,de,le){const ge=K.getVersionId(),ve=this._intervalSearch(G,ee,oe,de,ge,le);return this._ensureNodesHaveRanges(K,ve)}_intervalSearch(K,G,ee,oe,de,le){const ge=this._decorationsTree0.intervalSearch(K,G,ee,oe,de,le),ve=this._decorationsTree1.intervalSearch(K,G,ee,oe,de,le),Ce=this._injectedTextDecorationsTree.intervalSearch(K,G,ee,oe,de,le);return ge.concat(ve).concat(Ce)}getInjectedTextInInterval(K,G,ee,oe){const de=K.getVersionId(),le=this._injectedTextDecorationsTree.intervalSearch(G,ee,oe,!1,de,!1);return this._ensureNodesHaveRanges(K,le).filter(ge=>ge.options.showIfCollapsed||!ge.range.isEmpty())}getAllInjectedText(K,G){const ee=K.getVersionId(),oe=this._injectedTextDecorationsTree.search(G,!1,ee,!1);return this._ensureNodesHaveRanges(K,oe).filter(de=>de.options.showIfCollapsed||!de.range.isEmpty())}getAll(K,G,ee,oe,de){const le=K.getVersionId(),ge=this._search(G,ee,oe,le,de);return this._ensureNodesHaveRanges(K,ge)}_search(K,G,ee,oe,de){if(ee)return this._decorationsTree1.search(K,G,oe,de);{const le=this._decorationsTree0.search(K,G,oe,de),ge=this._decorationsTree1.search(K,G,oe,de),ve=this._injectedTextDecorationsTree.search(K,G,oe,de);return le.concat(ge).concat(ve)}}collectNodesFromOwner(K){const G=this._decorationsTree0.collectNodesFromOwner(K),ee=this._decorationsTree1.collectNodesFromOwner(K),oe=this._injectedTextDecorationsTree.collectNodesFromOwner(K);return G.concat(ee).concat(oe)}collectNodesPostOrder(){const K=this._decorationsTree0.collectNodesPostOrder(),G=this._decorationsTree1.collectNodesPostOrder(),ee=this._injectedTextDecorationsTree.collectNodesPostOrder();return K.concat(G).concat(ee)}insert(K){Z(K)?this._injectedTextDecorationsTree.insert(K):z(K)?this._decorationsTree1.insert(K):this._decorationsTree0.insert(K)}delete(K){Z(K)?this._injectedTextDecorationsTree.delete(K):z(K)?this._decorationsTree1.delete(K):this._decorationsTree0.delete(K)}getNodeRange(K,G){const ee=K.getVersionId();return G.cachedVersionId!==ee&&this._resolveNode(G,ee),G.range===null&&(G.range=K.getRangeAt(G.cachedAbsoluteStart,G.cachedAbsoluteEnd)),G.range}_resolveNode(K,G){Z(K)?this._injectedTextDecorationsTree.resolveNode(K,G):z(K)?this._decorationsTree1.resolveNode(K,G):this._decorationsTree0.resolveNode(K,G)}acceptReplace(K,G,ee,oe){this._decorationsTree0.acceptReplace(K,G,ee,oe),this._decorationsTree1.acceptReplace(K,G,ee,oe),this._injectedTextDecorationsTree.acceptReplace(K,G,ee,oe)}}function x(j){return j.replace(/[^a-z0-9\-_]/gi," ")}class Q{constructor(K){this.color=K.color||"",this.darkColor=K.darkColor||""}}class X extends Q{constructor(K){super(K),this._resolvedColor=null,this.position=typeof K.position=="number"?K.position:u.OverviewRulerLane.Center}getColor(K){return this._resolvedColor||(K.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,K):this._resolvedColor=this._resolveColor(this.color,K)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(K,G){if(typeof K=="string")return K;const ee=K?G.getColor(K.id):null;return ee?ee.toString():""}}e.ModelDecorationOverviewRulerOptions=X;class Y{constructor(K){var G;this.position=(G=K?.position)!==null&&G!==void 0?G:u.GlyphMarginLane.Center,this.persistLane=K?.persistLane}}e.ModelDecorationGlyphMarginOptions=Y;class ae extends Q{constructor(K){var G,ee;super(K),this.position=K.position,this.sectionHeaderStyle=(G=K.sectionHeaderStyle)!==null&&G!==void 0?G:null,this.sectionHeaderText=(ee=K.sectionHeaderText)!==null&&ee!==void 0?ee:null}getColor(K){return this._resolvedColor||(K.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,K):this._resolvedColor=this._resolveColor(this.color,K)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(K,G){return typeof K=="string"?k.Color.fromHex(K):G.getColor(K.id)}}e.ModelDecorationMinimapOptions=ae;class ce{static from(K){return K instanceof ce?K:new ce(K)}constructor(K){this.content=K.content||"",this.inlineClassName=K.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=K.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=K.attachedData||null,this.cursorStops=K.cursorStops||null}}e.ModelDecorationInjectedTextOptions=ce;class he{static register(K){return new he(K)}static createDynamic(K){return new he(K)}constructor(K){var G,ee,oe,de,le,ge;this.description=K.description,this.blockClassName=K.blockClassName?x(K.blockClassName):null,this.blockDoesNotCollapse=(G=K.blockDoesNotCollapse)!==null&&G!==void 0?G:null,this.blockIsAfterEnd=(ee=K.blockIsAfterEnd)!==null&&ee!==void 0?ee:null,this.blockPadding=(oe=K.blockPadding)!==null&&oe!==void 0?oe:null,this.stickiness=K.stickiness||0,this.zIndex=K.zIndex||0,this.className=K.className?x(K.className):null,this.shouldFillLineOnLineBreak=(de=K.shouldFillLineOnLineBreak)!==null&&de!==void 0?de:null,this.hoverMessage=K.hoverMessage||null,this.glyphMarginHoverMessage=K.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=K.lineNumberHoverMessage||null,this.isWholeLine=K.isWholeLine||!1,this.showIfCollapsed=K.showIfCollapsed||!1,this.collapseOnReplaceEdit=K.collapseOnReplaceEdit||!1,this.overviewRuler=K.overviewRuler?new X(K.overviewRuler):null,this.minimap=K.minimap?new ae(K.minimap):null,this.glyphMargin=K.glyphMarginClassName?new Y(K.glyphMargin):null,this.glyphMarginClassName=K.glyphMarginClassName?x(K.glyphMarginClassName):null,this.linesDecorationsClassName=K.linesDecorationsClassName?x(K.linesDecorationsClassName):null,this.lineNumberClassName=K.lineNumberClassName?x(K.lineNumberClassName):null,this.linesDecorationsTooltip=K.linesDecorationsTooltip?p.htmlAttributeEncodeValue(K.linesDecorationsTooltip):null,this.firstLineDecorationClassName=K.firstLineDecorationClassName?x(K.firstLineDecorationClassName):null,this.marginClassName=K.marginClassName?x(K.marginClassName):null,this.inlineClassName=K.inlineClassName?x(K.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=K.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=K.beforeContentClassName?x(K.beforeContentClassName):null,this.afterContentClassName=K.afterContentClassName?x(K.afterContentClassName):null,this.after=K.after?ce.from(K.after):null,this.before=K.before?ce.from(K.before):null,this.hideInCommentTokens=(le=K.hideInCommentTokens)!==null&&le!==void 0?le:!1,this.hideInStringTokens=(ge=K.hideInStringTokens)!==null&&ge!==void 0?ge:!1}}e.ModelDecorationOptions=he,he.EMPTY=he.register({description:"empty"});const pe=[he.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),he.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),he.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),he.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function fe(j){return j instanceof he?j:he.createDynamic(j)}class se extends y.Disposable{constructor(K){super(),this.handleBeforeFire=K,this._actual=this._register(new L.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var K;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(K=this._affectedInjectedTextLines)===null||K===void 0||K.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(K){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(K)}checkAffectedAndFire(K){var G,ee;this._affectsMinimap||(this._affectsMinimap=!!(!((G=K.minimap)===null||G===void 0)&&G.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((ee=K.overviewRuler)===null||ee===void 0)&&ee.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!K.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!K.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const K={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(K)}}class te extends y.Disposable{constructor(){super(),this._fastEmitter=this._register(new L.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new L.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(K=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=K;const G=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(G),this._slowEmitter.fire(G)}}fire(K){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(K):this._deferredEvent=K;return}this._fastEmitter.fire(K),this._slowEmitter.fire(K)}}class ${constructor(){this._onDidChangeVisibleRanges=new L.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const K=new W(G=>{this._onDidChangeVisibleRanges.fire({view:K,state:G})});return this._views.add(K),K}detachView(K){this._views.delete(K),this._onDidChangeVisibleRanges.fire({view:K,state:void 0})}}e.AttachedViews=$;class W{constructor(K){this.handleStateChange=K}setVisibleLines(K,G){const ee=K.map(oe=>new a.LineRange(oe.startLineNumber,oe.endLineNumber+1));this.handleStateChange({visibleLineRanges:ee,stabilized:G})}}}),define(ie[209],ne([1,0,26,31,37,661,32,85]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=e.diffEditorUnchangedRegionShadow=e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,y.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,L.localize)(0,null)),e.diffMoveBorderActive=(0,y.registerColor)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,L.localize)(1,null)),e.diffEditorUnchangedRegionShadow=(0,y.registerColor)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,L.localize)(2,null)),e.diffInsertIcon=(0,p.registerIcon)("diff-insert",f.Codicon.add,(0,L.localize)(3,null)),e.diffRemoveIcon=(0,p.registerIcon)("diff-remove",f.Codicon.remove,(0,L.localize)(4,null)),e.diffLineAddDecorationBackgroundWithIndicator=E.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+k.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=E.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+k.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=E.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=E.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=E.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=E.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=E.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=E.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=E.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=E.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})}),define(ie[927],ne([1,0,2,30,351,209,82]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class p extends f.Disposable{constructor(v,_,a,s){super(),this._editors=v,this._diffModel=_,this._options=a,this._decorations=(0,k.derived)(this,i=>{var t;const n=(t=this._diffModel.read(i))===null||t===void 0?void 0:t.diff.read(i);if(!n)return null;const h=this._diffModel.read(i).movedTextToCompare.read(i),m=this._options.renderIndicators.read(i),u=this._options.showEmptyDecorations.read(i),d=[],r=[];if(!h)for(const o of n.mappings)if(o.lineRangeMapping.original.isEmpty||d.push({range:o.lineRangeMapping.original.toInclusiveRange(),options:m?L.diffLineDeleteDecorationBackgroundWithIndicator:L.diffLineDeleteDecorationBackground}),o.lineRangeMapping.modified.isEmpty||r.push({range:o.lineRangeMapping.modified.toInclusiveRange(),options:m?L.diffLineAddDecorationBackgroundWithIndicator:L.diffLineAddDecorationBackground}),o.lineRangeMapping.modified.isEmpty||o.lineRangeMapping.original.isEmpty)o.lineRangeMapping.original.isEmpty||d.push({range:o.lineRangeMapping.original.toInclusiveRange(),options:L.diffWholeLineDeleteDecoration}),o.lineRangeMapping.modified.isEmpty||r.push({range:o.lineRangeMapping.modified.toInclusiveRange(),options:L.diffWholeLineAddDecoration});else for(const g of o.lineRangeMapping.innerChanges||[])o.lineRangeMapping.original.contains(g.originalRange.startLineNumber)&&d.push({range:g.originalRange,options:g.originalRange.isEmpty()&&u?L.diffDeleteDecorationEmpty:L.diffDeleteDecoration}),o.lineRangeMapping.modified.contains(g.modifiedRange.startLineNumber)&&r.push({range:g.modifiedRange,options:g.modifiedRange.isEmpty()&&u?L.diffAddDecorationEmpty:L.diffAddDecoration});if(h)for(const o of h.changes){const g=o.original.toInclusiveRange();g&&d.push({range:g,options:m?L.diffLineDeleteDecorationBackgroundWithIndicator:L.diffLineDeleteDecorationBackground});const c=o.modified.toInclusiveRange();c&&r.push({range:c,options:m?L.diffLineAddDecorationBackgroundWithIndicator:L.diffLineAddDecorationBackground});for(const b of o.innerChanges||[])d.push({range:b.originalRange,options:L.diffDeleteDecoration}),r.push({range:b.modifiedRange,options:L.diffAddDecoration})}const l=this._diffModel.read(i).activeMovedText.read(i);for(const o of n.movedTexts)d.push({range:o.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(o===l?" currentMove":""),blockPadding:[E.MovedBlocksLinesFeature.movedCodeBlockPadding,0,E.MovedBlocksLinesFeature.movedCodeBlockPadding,E.MovedBlocksLinesFeature.movedCodeBlockPadding]}}),r.push({range:o.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(o===l?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:d,modifiedDecorations:r}}),this._register((0,y.applyObservableDecorations)(this._editors.original,this._decorations.map(i=>i?.originalDecorations||[]))),this._register((0,y.applyObservableDecorations)(this._editors.modified,this._decorations.map(i=>i?.modifiedDecorations||[])))}}e.DiffEditorDecorations=p}),define(ie[928],ne([1,0,6,13,15,26,2,30,31,21,71,209,378,655,676,82,60,9,91,112,58]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorViewZones=void 0;let l=class extends y.Disposable{constructor(b,C,S,D,I,T,N,A,P,M){super(),this._targetWindow=b,this._editors=C,this._diffModel=S,this._options=D,this._diffEditorWidget=I,this._canIgnoreViewZoneUpdateEvent=T,this._origViewZonesToIgnore=N,this._modViewZonesToIgnore=A,this._clipboardService=P,this._contextMenuService=M,this._originalTopPadding=(0,p.observableValue)(this,0),this._originalScrollOffset=(0,p.observableValue)(this,0),this._originalScrollOffsetAnimated=(0,n.animatedObservable)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,p.observableValue)(this,0),this._modifiedScrollOffset=(0,p.observableValue)(this,0),this._modifiedScrollOffsetAnimated=(0,n.animatedObservable)(this._targetWindow,this._modifiedScrollOffset,this._store);const R=(0,p.observableValue)("invalidateAlignmentsState",0),F=this._register(new E.RunOnceScheduler(()=>{R.set(R.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(U=>{this._canIgnoreViewZoneUpdateEvent()||F.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(U=>{this._canIgnoreViewZoneUpdateEvent()||F.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(U=>{(U.hasChanged(146)||U.hasChanged(67))&&F.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(U=>{(U.hasChanged(146)||U.hasChanged(67))&&F.schedule()}));const O=this._diffModel.map(U=>U?(0,p.observableFromEvent)(U.model.original.onDidChangeTokens,()=>U.model.original.tokenization.backgroundTokenizationState===2):void 0).map((U,Z)=>U?.read(Z)),B=(0,p.derived)(U=>{const Z=this._diffModel.read(U),re=Z?.diff.read(U);if(!Z||!re)return null;R.read(U);const Q=this._options.renderSideBySide.read(U);return o(this._editors.original,this._editors.modified,re.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,Q)}),H=(0,p.derived)(U=>{var Z;const re=(Z=this._diffModel.read(U))===null||Z===void 0?void 0:Z.movedTextToCompare.read(U);if(!re)return null;R.read(U);const x=re.changes.map(Q=>new s.DiffMapping(Q));return o(this._editors.original,this._editors.modified,x,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function V(){const U=document.createElement("div");return U.className="diagonal-fill",U}const q=this._register(new y.DisposableStore);this.viewZones=(0,p.derivedWithStore)(this,(U,Z)=>{var re,x,Q,X,Y,ae,ce,he;q.clear();const pe=B.read(U)||[],fe=[],se=[],te=this._modifiedTopPadding.read(U);te>0&&se.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:te,showInHiddenAreas:!0,suppressMouseDown:!0});const $=this._originalTopPadding.read(U);$>0&&fe.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:$,showInHiddenAreas:!0,suppressMouseDown:!0});const W=this._options.renderSideBySide.read(U),j=W||(re=this._editors.modified._getViewModel())===null||re===void 0?void 0:re.createLineBreaksComputer();if(j){const ve=this._editors.original.getModel();for(const Ce of pe)if(Ce.diff)for(let Se=Ce.originalRange.startLineNumber;Se<Ce.originalRange.endLineNumberExclusive;Se++){if(Se>ve.getLineCount())return{orig:fe,mod:se};j?.addRequest(ve.getLineContent(Se),null,null)}}const K=(x=j?.finalize())!==null&&x!==void 0?x:[];let G=0;const ee=this._editors.modified.getOption(67),oe=(Q=this._diffModel.read(U))===null||Q===void 0?void 0:Q.movedTextToCompare.read(U),de=(Y=(X=this._editors.original.getModel())===null||X===void 0?void 0:X.mightContainNonBasicASCII())!==null&&Y!==void 0?Y:!1,le=(ce=(ae=this._editors.original.getModel())===null||ae===void 0?void 0:ae.mightContainRTL())!==null&&ce!==void 0?ce:!1,ge=t.RenderOptions.fromEditor(this._editors.modified);for(const ve of pe)if(ve.diff&&!W){if(!ve.originalRange.isEmpty){O.read(U);const Se=document.createElement("div");Se.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const be=this._editors.original.getModel();if(ve.originalRange.endLineNumberExclusive-1>be.getLineCount())return{orig:fe,mod:se};const ke=new t.LineSource(ve.originalRange.mapToLineArray(Be=>be.tokenization.getLineTokens(Be)),ve.originalRange.mapToLineArray(Be=>K[G++]),de,le),Ee=[];for(const Be of ve.diff.innerChanges||[])Ee.push(new u.InlineDecoration(Be.originalRange.delta(-(ve.diff.original.startLineNumber-1)),a.diffDeleteDecoration.className,0));const Ae=(0,t.renderLines)(ke,ge,Ee,Se),Pe=document.createElement("div");if(Pe.className="inline-deleted-margin-view-zone",(0,_.applyFontInfo)(Pe,ge.fontInfo),this._options.renderIndicators.read(U))for(let Be=0;Be<Ae.heightInLines;Be++){const De=document.createElement("div");De.className=`delete-sign ${w.ThemeIcon.asClassName(a.diffRemoveIcon)}`,De.setAttribute("style",`position:absolute;top:${Be*ee}px;width:${ge.lineDecorationsWidth}px;height:${ee}px;right:0;`),Pe.appendChild(De)}let He;q.add(new i.InlineDiffDeletedCodeMargin(()=>(0,v.assertIsDefined)(He),Pe,this._editors.modified,ve.diff,this._diffEditorWidget,Ae.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Be=0;Be<Ae.viewLineCounts.length;Be++){const De=Ae.viewLineCounts[Be];De>1&&fe.push({afterLineNumber:ve.originalRange.startLineNumber+Be,domNode:V(),heightInPx:(De-1)*ee,showInHiddenAreas:!0,suppressMouseDown:!0})}se.push({afterLineNumber:ve.modifiedRange.startLineNumber-1,domNode:Se,heightInPx:Ae.heightInLines*ee,minWidthInPx:Ae.minWidthInPx,marginDomNode:Pe,setZoneId(Be){He=Be},showInHiddenAreas:!0,suppressMouseDown:!0})}const Ce=document.createElement("div");Ce.className="gutter-delete",fe.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:ve.modifiedHeightInPx,marginDomNode:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;if(Ce>0){if(oe?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(ve.originalRange.endLineNumberExclusive-1))continue;fe.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Se=function(){const ke=document.createElement("div");return ke.className="arrow-revert-change "+w.ThemeIcon.asClassName(L.Codicon.arrowRight),Z.add((0,f.addDisposableListener)(ke,"mousedown",Ee=>Ee.stopPropagation())),Z.add((0,f.addDisposableListener)(ke,"click",Ee=>{Ee.stopPropagation(),I.revert(ve.diff)})),(0,f.$)("div",{},ke)};if(oe?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(ve.modifiedRange.endLineNumberExclusive-1))continue;let be;ve.diff&&ve.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(U)&&(be=Se()),se.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:V(),heightInPx:-Ce,marginDomNode:be,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const ve of(he=H.read(U))!==null&&he!==void 0?he:[]){if(!oe?.lineRangeMapping.original.intersect(ve.originalRange)||!oe?.lineRangeMapping.modified.intersect(ve.modifiedRange))continue;const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;Ce>0?fe.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0}):se.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:V(),heightInPx:-Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:fe,mod:se}});let z=!1;this._register(this._editors.original.onDidScrollChange(U=>{U.scrollLeftChanged&&!z&&(z=!0,this._editors.modified.setScrollLeft(U.scrollLeft),z=!1)})),this._register(this._editors.modified.onDidScrollChange(U=>{U.scrollLeftChanged&&!z&&(z=!0,this._editors.original.setScrollLeft(U.scrollLeft),z=!1)})),this._originalScrollTop=(0,p.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,p.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,p.autorun)(U=>{const Z=this._originalScrollTop.read(U)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(U))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(U));Z!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(Z,1)})),this._register((0,p.autorun)(U=>{const Z=this._modifiedScrollTop.read(U)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(U))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(U));Z!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(Z,1)})),this._register((0,p.autorun)(U=>{var Z;const re=(Z=this._diffModel.read(U))===null||Z===void 0?void 0:Z.movedTextToCompare.read(U);let x=0;if(re){const Q=this._editors.original.getTopForLineNumber(re.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();x=this._editors.modified.getTopForLineNumber(re.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-Q}x>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(x,void 0)):x<0?(this._modifiedTopPadding.set(-x,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-x,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+x,void 0,!0)}))}};e.DiffEditorViewZones=l,e.DiffEditorViewZones=l=Ie([ue(8,d.IClipboardService),ue(9,r.IContextMenuService)],l);function o(c,b,C,S,D,I){const T=new k.ArrayQueue(g(c,S)),N=new k.ArrayQueue(g(b,D)),A=c.getOption(67),P=b.getOption(67),M=[];let R=0,F=0;function O(B,H){for(;;){let V=T.peek(),q=N.peek();if(V&&V.lineNumber>=B&&(V=void 0),q&&q.lineNumber>=H&&(q=void 0),!V&&!q)break;const z=V?V.lineNumber-R:Number.MAX_VALUE,U=q?q.lineNumber-F:Number.MAX_VALUE;z<U?(T.dequeue(),q={lineNumber:V.lineNumber-R+F,heightInPx:0}):z>U?(N.dequeue(),V={lineNumber:q.lineNumber-F+R,heightInPx:0}):(T.dequeue(),N.dequeue()),M.push({originalRange:h.LineRange.ofLength(V.lineNumber,1),modifiedRange:h.LineRange.ofLength(q.lineNumber,1),originalHeightInPx:A+V.heightInPx,modifiedHeightInPx:P+q.heightInPx,diff:void 0})}}for(const B of C){let U=function(Z,re){var x,Q,X,Y;if(Z<z||re<q)return;if(V)V=!1;else if(Z===z||re===q)return;const ae=new h.LineRange(z,Z),ce=new h.LineRange(q,re);if(ae.isEmpty&&ce.isEmpty)return;const he=(Q=(x=T.takeWhile(fe=>fe.lineNumber<Z))===null||x===void 0?void 0:x.reduce((fe,se)=>fe+se.heightInPx,0))!==null&&Q!==void 0?Q:0,pe=(Y=(X=N.takeWhile(fe=>fe.lineNumber<re))===null||X===void 0?void 0:X.reduce((fe,se)=>fe+se.heightInPx,0))!==null&&Y!==void 0?Y:0;M.push({originalRange:ae,modifiedRange:ce,originalHeightInPx:ae.length*A+he,modifiedHeightInPx:ce.length*P+pe,diff:B.lineRangeMapping}),z=Z,q=re};const H=B.lineRangeMapping;O(H.original.startLineNumber,H.modified.startLineNumber);let V=!0,q=H.modified.startLineNumber,z=H.original.startLineNumber;if(I)for(const Z of H.innerChanges||[]){Z.originalRange.startColumn>1&&Z.modifiedRange.startColumn>1&&U(Z.originalRange.startLineNumber,Z.modifiedRange.startLineNumber);const re=c.getModel(),x=Z.originalRange.endLineNumber<=re.getLineCount()?re.getLineMaxColumn(Z.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;Z.originalRange.endColumn<x&&U(Z.originalRange.endLineNumber,Z.modifiedRange.endLineNumber)}U(H.original.endLineNumberExclusive,H.modified.endLineNumberExclusive),R=H.original.endLineNumberExclusive,F=H.modified.endLineNumberExclusive}return O(Number.MAX_VALUE,Number.MAX_VALUE),M}function g(c,b){const C=[],S=[],D=c.getOption(146).wrappingColumn!==-1,I=c._getViewModel().coordinatesConverter,T=c.getOption(67);if(D)for(let A=1;A<=c.getModel().getLineCount();A++){const P=I.getModelLineViewLineCount(A);P>1&&S.push({lineNumber:A,heightInPx:T*(P-1)})}for(const A of c.getWhitespaces()){if(b.has(A.id))continue;const P=A.afterLineNumber===0?0:I.convertViewPositionToModelPosition(new m.Position(A.afterLineNumber,1)).lineNumber;C.push({lineNumber:P,heightInPx:A.height})}return(0,n.joinCombine)(C,S,A=>A.lineNumber,(A,P)=>({lineNumber:A.lineNumber,heightInPx:A.heightInPx+P.heightInPx}))}}),define(ie[929],ne([1,0,7,2,17,37,188,84,42,200,25,208,121,357,49,55,33]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultModelSHA1Computer=e.ModelService=void 0;function u(c){return c.toString()}class d{constructor(b,C,S){this.model=b,this._modelEventListeners=new k.DisposableStore,this.model=b,this._modelEventListeners.add(b.onWillDispose(()=>C(b))),this._modelEventListeners.add(b.onDidChangeLanguage(D=>S(b,D)))}dispose(){this._modelEventListeners.dispose()}}const r=E.isLinux||E.isMacintosh?1:2;class l{constructor(b,C,S,D,I,T,N,A){this.uri=b,this.initialUndoRedoSnapshot=C,this.time=S,this.sharesUndoRedoStack=D,this.heapSize=I,this.sha1=T,this.versionId=N,this.alternativeVersionId=A}}let o=m=class extends k.Disposable{constructor(b,C,S,D,I){super(),this._configurationService=b,this._resourcePropertiesService=C,this._undoRedoService=S,this._languageService=D,this._languageConfigurationService=I,this._onModelAdded=this._register(new f.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new f.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new f.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(T=>this._updateModelOptions(T))),this._updateModelOptions(void 0)}static _readModelOptions(b,C){var S;let D=y.EDITOR_MODEL_DEFAULTS.tabSize;if(b.editor&&typeof b.editor.tabSize<"u"){const O=parseInt(b.editor.tabSize,10);isNaN(O)||(D=O),D<1&&(D=1)}let I="tabSize";if(b.editor&&typeof b.editor.indentSize<"u"&&b.editor.indentSize!=="tabSize"){const O=parseInt(b.editor.indentSize,10);isNaN(O)||(I=Math.max(O,1))}let T=y.EDITOR_MODEL_DEFAULTS.insertSpaces;b.editor&&typeof b.editor.insertSpaces<"u"&&(T=b.editor.insertSpaces==="false"?!1:!!b.editor.insertSpaces);let N=r;const A=b.eol;A===`\r
`?N=2:A===`
`&&(N=1);let P=y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;b.editor&&typeof b.editor.trimAutoWhitespace<"u"&&(P=b.editor.trimAutoWhitespace==="false"?!1:!!b.editor.trimAutoWhitespace);let M=y.EDITOR_MODEL_DEFAULTS.detectIndentation;b.editor&&typeof b.editor.detectIndentation<"u"&&(M=b.editor.detectIndentation==="false"?!1:!!b.editor.detectIndentation);let R=y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;b.editor&&typeof b.editor.largeFileOptimizations<"u"&&(R=b.editor.largeFileOptimizations==="false"?!1:!!b.editor.largeFileOptimizations);let F=y.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((S=b.editor)===null||S===void 0)&&S.bracketPairColorization&&typeof b.editor.bracketPairColorization=="object"&&(F={enabled:!!b.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!b.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:C,tabSize:D,indentSize:I,insertSpaces:T,detectIndentation:M,defaultEOL:N,trimAutoWhitespace:P,largeFileOptimizations:R,bracketPairColorizationOptions:F}}_getEOL(b,C){if(b)return this._resourcePropertiesService.getEOL(b,C);const S=this._configurationService.getValue("files.eol",{overrideIdentifier:C});return S&&typeof S=="string"&&S!=="auto"?S:E.OS===3||E.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const b=this._configurationService.getValue("files.restoreUndoStack");return typeof b=="boolean"?b:!0}getCreationOptions(b,C,S){const D=typeof b=="string"?b:b.languageId;let I=this._modelCreationOptionsByLanguageAndResource[D+C];if(!I){const T=this._configurationService.getValue("editor",{overrideIdentifier:D,resource:C}),N=this._getEOL(C,D);I=m._readModelOptions({editor:T,eol:N},S),this._modelCreationOptionsByLanguageAndResource[D+C]=I}return I}_updateModelOptions(b){const C=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const S=Object.keys(this._models);for(let D=0,I=S.length;D<I;D++){const T=S[D],N=this._models[T],A=N.model.getLanguageId(),P=N.model.uri;if(b&&!b.affectsConfiguration("editor",{overrideIdentifier:A,resource:P})&&!b.affectsConfiguration("files.eol",{overrideIdentifier:A,resource:P}))continue;const M=C[A+P],R=this.getCreationOptions(A,P,N.model.isForSimpleWidget);m._setModelOptionsForModel(N.model,R,M)}}static _setModelOptionsForModel(b,C,S){S&&S.defaultEOL!==C.defaultEOL&&b.getLineCount()===1&&b.setEOL(C.defaultEOL===1?0:1),!(S&&S.detectIndentation===C.detectIndentation&&S.insertSpaces===C.insertSpaces&&S.tabSize===C.tabSize&&S.indentSize===C.indentSize&&S.trimAutoWhitespace===C.trimAutoWhitespace&&(0,n.equals)(S.bracketPairColorizationOptions,C.bracketPairColorizationOptions))&&(C.detectIndentation?(b.detectIndentation(C.insertSpaces,C.tabSize),b.updateOptions({trimAutoWhitespace:C.trimAutoWhitespace,bracketColorizationOptions:C.bracketPairColorizationOptions})):b.updateOptions({insertSpaces:C.insertSpaces,tabSize:C.tabSize,indentSize:C.indentSize,trimAutoWhitespace:C.trimAutoWhitespace,bracketColorizationOptions:C.bracketPairColorizationOptions}))}_insertDisposedModel(b){this._disposedModels.set(u(b.uri),b),this._disposedModelsHeapSize+=b.heapSize}_removeDisposedModel(b){const C=this._disposedModels.get(u(b));return C&&(this._disposedModelsHeapSize-=C.heapSize),this._disposedModels.delete(u(b)),C}_ensureDisposedModelsHeapSize(b){if(this._disposedModelsHeapSize>b){const C=[];for(this._disposedModels.forEach(S=>{S.sharesUndoRedoStack||C.push(S)}),C.sort((S,D)=>S.time-D.time);C.length>0&&this._disposedModelsHeapSize>b;){const S=C.shift();this._removeDisposedModel(S.uri),S.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(S.initialUndoRedoSnapshot)}}}_createModelData(b,C,S,D){const I=this.getCreationOptions(C,S,D),T=new L.TextModel(b,C,I,S,this._undoRedoService,this._languageService,this._languageConfigurationService);if(S&&this._disposedModels.has(u(S))){const P=this._removeDisposedModel(S),M=this._undoRedoService.getElements(S),R=this._getSHA1Computer(),F=R.canComputeSHA1(T)?R.computeSHA1(T)===P.sha1:!1;if(F||P.sharesUndoRedoStack){for(const O of M.past)(0,i.isEditStackElement)(O)&&O.matchesResource(S)&&O.setModel(T);for(const O of M.future)(0,i.isEditStackElement)(O)&&O.matchesResource(S)&&O.setModel(T);this._undoRedoService.setElementsValidFlag(S,!0,O=>(0,i.isEditStackElement)(O)&&O.matchesResource(S)),F&&(T._overwriteVersionId(P.versionId),T._overwriteAlternativeVersionId(P.alternativeVersionId),T._overwriteInitialUndoRedoSnapshot(P.initialUndoRedoSnapshot))}else P.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(P.initialUndoRedoSnapshot)}const N=u(T.uri);if(this._models[N])throw new Error("ModelService: Cannot add model because it already exists!");const A=new d(T,P=>this._onWillDispose(P),(P,M)=>this._onDidChangeLanguage(P,M));return this._models[N]=A,A}createModel(b,C,S,D=!1){let I;return C?I=this._createModelData(b,C,S,D):I=this._createModelData(b,p.PLAINTEXT_LANGUAGE_ID,S,D),this._onModelAdded.fire(I.model),I.model}getModels(){const b=[],C=Object.keys(this._models);for(let S=0,D=C.length;S<D;S++){const I=C[S];b.push(this._models[I].model)}return b}getModel(b){const C=u(b),S=this._models[C];return S?S.model:null}_schemaShouldMaintainUndoRedoElements(b){return b.scheme===t.Schemas.file||b.scheme===t.Schemas.vscodeRemote||b.scheme===t.Schemas.vscodeUserData||b.scheme===t.Schemas.vscodeNotebookCell||b.scheme==="fake-fs"}_onWillDispose(b){const C=u(b.uri),S=this._models[C],D=this._undoRedoService.getUriComparisonKey(b.uri)!==b.uri.toString();let I=!1,T=0;if(D||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(b.uri)){const P=this._undoRedoService.getElements(b.uri);if(P.past.length>0||P.future.length>0){for(const M of P.past)(0,i.isEditStackElement)(M)&&M.matchesResource(b.uri)&&(I=!0,T+=M.heapSize(b.uri),M.setModel(b.uri));for(const M of P.future)(0,i.isEditStackElement)(M)&&M.matchesResource(b.uri)&&(I=!0,T+=M.heapSize(b.uri),M.setModel(b.uri))}}const N=m.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,A=this._getSHA1Computer();if(I)if(!D&&(T>N||!A.canComputeSHA1(b))){const P=S.model.getInitialUndoRedoSnapshot();P!==null&&this._undoRedoService.restoreSnapshot(P)}else this._ensureDisposedModelsHeapSize(N-T),this._undoRedoService.setElementsValidFlag(b.uri,!1,P=>(0,i.isEditStackElement)(P)&&P.matchesResource(b.uri)),this._insertDisposedModel(new l(b.uri,S.model.getInitialUndoRedoSnapshot(),Date.now(),D,T,A.computeSHA1(b),b.getVersionId(),b.getAlternativeVersionId()));else if(!D){const P=S.model.getInitialUndoRedoSnapshot();P!==null&&this._undoRedoService.restoreSnapshot(P)}delete this._models[C],S.dispose(),delete this._modelCreationOptionsByLanguageAndResource[b.getLanguageId()+b.uri],this._onModelRemoved.fire(b)}_onDidChangeLanguage(b,C){const S=C.oldLanguage,D=b.getLanguageId(),I=this.getCreationOptions(S,b.uri,b.isForSimpleWidget),T=this.getCreationOptions(D,b.uri,b.isForSimpleWidget);m._setModelOptionsForModel(b,T,I),this._onModelModeChanged.fire({model:b,oldLanguageId:S})}_getSHA1Computer(){return new g}};e.ModelService=o,o.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=o=m=Ie([ue(0,_.IConfigurationService),ue(1,v.ITextResourcePropertiesService),ue(2,a.IUndoRedoService),ue(3,w.ILanguageService),ue(4,h.ILanguageConfigurationService)],o);class g{canComputeSHA1(b){return b.getValueLength()<=g.MAX_MODEL_SIZE}computeSHA1(b){const C=new s.StringSHA1,S=b.createSnapshot();let D;for(;D=S.read();)C.update(D);return C.digest()}}e.DefaultModelSHA1Computer=g,g.MAX_MODEL_SIZE=10*1024*1024}),define(ie[930],ne([1,0,13,9,5,229,37,125,231,573,309,91]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class s{constructor(r,l,o,g,c,b,C,S,D,I){this._editorId=r,this.model=l,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=o,this._monospaceLineBreaksComputerFactory=g,this.fontInfo=c,this.tabSize=b,this.wrappingStrategy=C,this.wrappingColumn=S,this.wrappingIndent=D,this.wordBreak=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new h(this)}_constructLines(r,l){this.modelLineProjections=[],r&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const o=this.model.getLinesContent(),g=this.model.getInjectedTextDecorations(this._editorId),c=o.length,b=this.createLineBreaksComputer(),C=new f.ArrayQueue(p.LineInjectedText.fromDecorations(g));for(let M=0;M<c;M++){const R=C.takeWhile(F=>F.lineNumber===M+1);b.addRequest(o[M],R,l?l[M]:null)}const S=b.finalize(),D=[],I=this.hiddenAreasDecorationIds.map(M=>this.model.getDecorationRange(M)).sort(E.Range.compareRangesUsingStarts);let T=1,N=0,A=-1,P=A+1<I.length?N+1:c+2;for(let M=0;M<c;M++){const R=M+1;R===P&&(A++,T=I[A].startLineNumber,N=I[A].endLineNumber,P=A+1<I.length?N+1:c+2);const F=R>=T&&R<=N,O=(0,v.createModelLineProjection)(S[M],!F);D[M]=O.getViewLineCount(),this.modelLineProjections[M]=O}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new _.ConstantTimePrefixSumComputer(D)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(r=>this.model.getDecorationRange(r))}setHiddenAreas(r){const l=r.map(N=>this.model.validateRange(N)),o=i(l),g=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(E.Range.compareRangesUsingStarts);if(o.length===g.length){let N=!1;for(let A=0;A<o.length;A++)if(!o[A].equalsRange(g[A])){N=!0;break}if(!N)return!1}const c=o.map(N=>({range:N,options:y.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,c);const b=o;let C=1,S=0,D=-1,I=D+1<b.length?S+1:this.modelLineProjections.length+2,T=!1;for(let N=0;N<this.modelLineProjections.length;N++){const A=N+1;A===I&&(D++,C=b[D].startLineNumber,S=b[D].endLineNumber,I=D+1<b.length?S+1:this.modelLineProjections.length+2);let P=!1;if(A>=C&&A<=S?this.modelLineProjections[N].isVisible()&&(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!1),P=!0):(T=!0,this.modelLineProjections[N].isVisible()||(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!0),P=!0)),P){const M=this.modelLineProjections[N].getViewLineCount();this.projectedModelLineLineCounts.setValue(N,M)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(r,l){return r<1||r>this.modelLineProjections.length?!1:this.modelLineProjections[r-1].isVisible()}getModelLineViewLineCount(r){return r<1||r>this.modelLineProjections.length?1:this.modelLineProjections[r-1].getViewLineCount()}setTabSize(r){return this.tabSize===r?!1:(this.tabSize=r,this._constructLines(!1,null),!0)}setWrappingSettings(r,l,o,g,c){const b=this.fontInfo.equals(r),C=this.wrappingStrategy===l,S=this.wrappingColumn===o,D=this.wrappingIndent===g,I=this.wordBreak===c;if(b&&C&&S&&D&&I)return!1;const T=b&&C&&!S&&D&&I;this.fontInfo=r,this.wrappingStrategy=l,this.wrappingColumn=o,this.wrappingIndent=g,this.wordBreak=c;let N=null;if(T){N=[];for(let A=0,P=this.modelLineProjections.length;A<P;A++)N[A]=this.modelLineProjections[A].getProjectionData()}return this._constructLines(!1,N),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(r,l,o){if(!r||r<=this._validModelVersionId)return null;const g=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,c=this.projectedModelLineLineCounts.getPrefixSum(o);return this.modelLineProjections.splice(l-1,o-l+1),this.projectedModelLineLineCounts.removeValues(l-1,o-l+1),new w.ViewLinesDeletedEvent(g,c)}onModelLinesInserted(r,l,o,g){if(!r||r<=this._validModelVersionId)return null;const c=l>2&&!this.modelLineProjections[l-2].isVisible(),b=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1;let C=0;const S=[],D=[];for(let I=0,T=g.length;I<T;I++){const N=(0,v.createModelLineProjection)(g[I],!c);S.push(N);const A=N.getViewLineCount();C+=A,D[I]=A}return this.modelLineProjections=this.modelLineProjections.slice(0,l-1).concat(S).concat(this.modelLineProjections.slice(l-1)),this.projectedModelLineLineCounts.insertValues(l-1,D),new w.ViewLinesInsertedEvent(b,b+C-1)}onModelLineChanged(r,l,o){if(r!==null&&r<=this._validModelVersionId)return[!1,null,null,null];const g=l-1,c=this.modelLineProjections[g].getViewLineCount(),b=this.modelLineProjections[g].isVisible(),C=(0,v.createModelLineProjection)(o,b);this.modelLineProjections[g]=C;const S=this.modelLineProjections[g].getViewLineCount();let D=!1,I=0,T=-1,N=0,A=-1,P=0,M=-1;c>S?(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+S-1,P=T+1,M=P+(c-S)-1,D=!0):c<S?(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+c-1,N=T+1,A=N+(S-c)-1,D=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+S-1),this.projectedModelLineLineCounts.setValue(g,S);const R=I<=T?new w.ViewLinesChangedEvent(I,T-I+1):null,F=N<=A?new w.ViewLinesInsertedEvent(N,A):null,O=P<=M?new w.ViewLinesDeletedEvent(P,M):null;return[D,R,F,O]}acceptVersionId(r){this._validModelVersionId=r,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(r){if(r<1)return 1;const l=this.getViewLineCount();return r>l?l:r|0}getActiveIndentGuide(r,l,o){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l),o=this._toValidViewLineNumber(o);const g=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),c=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),b=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),C=this.model.guides.getActiveIndentGuide(g.lineNumber,c.lineNumber,b.lineNumber),S=this.convertModelPositionToViewPosition(C.startLineNumber,1),D=this.convertModelPositionToViewPosition(C.endLineNumber,this.model.getLineMaxColumn(C.endLineNumber));return{startLineNumber:S.lineNumber,endLineNumber:D.lineNumber,indent:C.indent}}getViewLineInfo(r){r=this._toValidViewLineNumber(r);const l=this.projectedModelLineLineCounts.getIndexOf(r-1),o=l.index,g=l.remainder;return new t(o+1,g)}getMinColumnOfViewLine(r){return this.modelLineProjections[r.modelLineNumber-1].getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(r){return this.modelLineProjections[r.modelLineNumber-1].getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(r){const l=this.modelLineProjections[r.modelLineNumber-1],o=l.getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),g=l.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,o);return new k.Position(r.modelLineNumber,g)}getModelEndPositionOfViewLine(r){const l=this.modelLineProjections[r.modelLineNumber-1],o=l.getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),g=l.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,o);return new k.Position(r.modelLineNumber,g)}getViewLineInfosGroupedByModelRanges(r,l){const o=this.getViewLineInfo(r),g=this.getViewLineInfo(l),c=new Array;let b=this.getModelStartPositionOfViewLine(o),C=new Array;for(let S=o.modelLineNumber;S<=g.modelLineNumber;S++){const D=this.modelLineProjections[S-1];if(D.isVisible()){const I=S===o.modelLineNumber?o.modelLineWrappedLineIdx:0,T=S===g.modelLineNumber?g.modelLineWrappedLineIdx+1:D.getViewLineCount();for(let N=I;N<T;N++)C.push(new t(S,N))}if(!D.isVisible()&&b){const I=new k.Position(S-1,this.model.getLineMaxColumn(S-1)+1),T=E.Range.fromPositions(b,I);c.push(new n(T,C)),C=[],b=null}else D.isVisible()&&!b&&(b=new k.Position(S,1))}if(b){const S=E.Range.fromPositions(b,this.getModelEndPositionOfViewLine(g));c.push(new n(S,C))}return c}getViewLinesBracketGuides(r,l,o,g){const c=o?this.convertViewPositionToModelPosition(o.lineNumber,o.column):null,b=[];for(const C of this.getViewLineInfosGroupedByModelRanges(r,l)){const S=C.modelRange.startLineNumber,D=this.model.guides.getLinesBracketGuides(S,C.modelRange.endLineNumber,c,g);for(const I of C.viewLines){const N=D[I.modelLineNumber-S].map(A=>{if(A.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||A.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!A.horizontalLine)return A;let P=-1;if(A.column!==-1){const F=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.column);if(F.lineNumber===I.modelLineWrappedLineIdx)P=F.column;else if(F.lineNumber<I.modelLineWrappedLineIdx)P=this.getMinColumnOfViewLine(I);else if(F.lineNumber>I.modelLineWrappedLineIdx)return}const M=this.convertModelPositionToViewPosition(I.modelLineNumber,A.horizontalLine.endColumn),R=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.horizontalLine.endColumn);return R.lineNumber===I.modelLineWrappedLineIdx?new L.IndentGuide(A.visibleColumn,P,A.className,new L.IndentGuideHorizontalLine(A.horizontalLine.top,M.column),-1,-1):R.lineNumber<I.modelLineWrappedLineIdx||A.visibleColumn!==-1?void 0:new L.IndentGuide(A.visibleColumn,P,A.className,new L.IndentGuideHorizontalLine(A.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});b.push(N.filter(A=>!!A))}}return b}getViewLinesIndentGuides(r,l){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l);const o=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),g=this.convertViewPositionToModelPosition(l,this.getViewLineMaxColumn(l));let c=[];const b=[],C=[],S=o.lineNumber-1,D=g.lineNumber-1;let I=null;for(let P=S;P<=D;P++){const M=this.modelLineProjections[P];if(M.isVisible()){const R=M.getViewLineNumberOfModelPosition(0,P===S?o.column:1),F=M.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(P+1)),O=F-R+1;let B=0;O>1&&M.getViewLineMinColumn(this.model,P+1,F)===1&&(B=R===0?1:2),b.push(O),C.push(B),I===null&&(I=new k.Position(P+1,0))}else I!==null&&(c=c.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,P)),I=null)}I!==null&&(c=c.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,g.lineNumber)),I=null);const T=l-r+1,N=new Array(T);let A=0;for(let P=0,M=c.length;P<M;P++){let R=c[P];const F=Math.min(T-A,b[P]),O=C[P];let B;O===2?B=0:O===1?B=1:B=F;for(let H=0;H<F;H++)H===B&&(R=0),N[A++]=R}return N}getViewLineContent(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineContent(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineLength(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineLength(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMinColumn(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMaxColumn(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineData(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineData(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLinesData(r,l,o){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l);const g=this.projectedModelLineLineCounts.getIndexOf(r-1);let c=r;const b=g.index,C=g.remainder,S=[];for(let D=b,I=this.model.getLineCount();D<I;D++){const T=this.modelLineProjections[D];if(!T.isVisible())continue;const N=D===b?C:0;let A=T.getViewLineCount()-N,P=!1;if(c+A>l&&(P=!0,A=l-c+1),T.getViewLinesData(this.model,D+1,N,A,c-r,o,S),c+=A,P)break}return S}validateViewPosition(r,l,o){r=this._toValidViewLineNumber(r);const g=this.projectedModelLineLineCounts.getIndexOf(r-1),c=g.index,b=g.remainder,C=this.modelLineProjections[c],S=C.getViewLineMinColumn(this.model,c+1,b),D=C.getViewLineMaxColumn(this.model,c+1,b);l<S&&(l=S),l>D&&(l=D);const I=C.getModelColumnOfViewPosition(b,l);return this.model.validatePosition(new k.Position(c+1,I)).equals(o)?new k.Position(r,l):this.convertModelPositionToViewPosition(o.lineNumber,o.column)}validateViewRange(r,l){const o=this.validateViewPosition(r.startLineNumber,r.startColumn,l.getStartPosition()),g=this.validateViewPosition(r.endLineNumber,r.endColumn,l.getEndPosition());return new E.Range(o.lineNumber,o.column,g.lineNumber,g.column)}convertViewPositionToModelPosition(r,l){const o=this.getViewLineInfo(r),g=this.modelLineProjections[o.modelLineNumber-1].getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,l);return this.model.validatePosition(new k.Position(o.modelLineNumber,g))}convertViewRangeToModelRange(r){const l=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),o=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);return new E.Range(l.lineNumber,l.column,o.lineNumber,o.column)}convertModelPositionToViewPosition(r,l,o=2,g=!1,c=!1){const b=this.model.validatePosition(new k.Position(r,l)),C=b.lineNumber,S=b.column;let D=C-1,I=!1;if(c)for(;D<this.modelLineProjections.length&&!this.modelLineProjections[D].isVisible();)D++,I=!0;else for(;D>0&&!this.modelLineProjections[D].isVisible();)D--,I=!0;if(D===0&&!this.modelLineProjections[D].isVisible())return new k.Position(g?0:1,1);const T=1+this.projectedModelLineLineCounts.getPrefixSum(D);let N;return I?c?N=this.modelLineProjections[D].getViewPositionOfModelPosition(T,1,o):N=this.modelLineProjections[D].getViewPositionOfModelPosition(T,this.model.getLineMaxColumn(D+1),o):N=this.modelLineProjections[C-1].getViewPositionOfModelPosition(T,S,o),N}convertModelRangeToViewRange(r,l=0){if(r.isEmpty()){const o=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,l);return E.Range.fromPositions(o)}else{const o=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,1),g=this.convertModelPositionToViewPosition(r.endLineNumber,r.endColumn,0);return new E.Range(o.lineNumber,o.column,g.lineNumber,g.column)}}getViewLineNumberOfModelPosition(r,l){let o=r-1;if(this.modelLineProjections[o].isVisible()){const c=1+this.projectedModelLineLineCounts.getPrefixSum(o);return this.modelLineProjections[o].getViewLineNumberOfModelPosition(c,l)}for(;o>0&&!this.modelLineProjections[o].isVisible();)o--;if(o===0&&!this.modelLineProjections[o].isVisible())return 1;const g=1+this.projectedModelLineLineCounts.getPrefixSum(o);return this.modelLineProjections[o].getViewLineNumberOfModelPosition(g,this.model.getLineMaxColumn(o+1))}getDecorationsInRange(r,l,o,g,c){const b=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),C=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);if(C.lineNumber-b.lineNumber<=r.endLineNumber-r.startLineNumber)return this.model.getDecorationsInRange(new E.Range(b.lineNumber,1,C.lineNumber,C.column),l,o,g,c);let S=[];const D=b.lineNumber-1,I=C.lineNumber-1;let T=null;for(let M=D;M<=I;M++)if(this.modelLineProjections[M].isVisible())T===null&&(T=new k.Position(M+1,M===D?b.column:1));else if(T!==null){const F=this.model.getLineMaxColumn(M);S=S.concat(this.model.getDecorationsInRange(new E.Range(T.lineNumber,T.column,M,F),l,o,g)),T=null}T!==null&&(S=S.concat(this.model.getDecorationsInRange(new E.Range(T.lineNumber,T.column,C.lineNumber,C.column),l,o,g)),T=null),S.sort((M,R)=>{const F=E.Range.compareRangesUsingStarts(M.range,R.range);return F===0?M.id<R.id?-1:M.id>R.id?1:0:F});const N=[];let A=0,P=null;for(const M of S){const R=M.id;P!==R&&(P=R,N[A++]=M)}return N}getInjectedTextAt(r){const l=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].getInjectedTextAt(l.modelLineWrappedLineIdx,r.column)}normalizePosition(r,l){const o=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].normalizePosition(o.modelLineWrappedLineIdx,r,l)}getLineIndentColumn(r){const l=this.getViewLineInfo(r);return l.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(l.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=s;function i(d){if(d.length===0)return[];const r=d.slice();r.sort(E.Range.compareRangesUsingStarts);const l=[];let o=r[0].startLineNumber,g=r[0].endLineNumber;for(let c=1,b=r.length;c<b;c++){const C=r[c];C.startLineNumber>g+1?(l.push(new E.Range(o,1,g,1)),o=C.startLineNumber,g=C.endLineNumber):C.endLineNumber>g&&(g=C.endLineNumber)}return l.push(new E.Range(o,1,g,1)),l}class t{constructor(r,l){this.modelLineNumber=r,this.modelLineWrappedLineIdx=l}}class n{constructor(r,l){this.modelRange=r,this.viewLines=l}}class h{constructor(r){this._lines=r}convertViewPositionToModelPosition(r){return this._lines.convertViewPositionToModelPosition(r.lineNumber,r.column)}convertViewRangeToModelRange(r){return this._lines.convertViewRangeToModelRange(r)}validateViewPosition(r,l){return this._lines.validateViewPosition(r.lineNumber,r.column,l)}validateViewRange(r,l){return this._lines.validateViewRange(r,l)}convertModelPositionToViewPosition(r,l,o,g){return this._lines.convertModelPositionToViewPosition(r.lineNumber,r.column,l,o,g)}convertModelRangeToViewRange(r,l){return this._lines.convertModelRangeToViewRange(r,l)}modelPositionIsVisible(r){return this._lines.modelPositionIsVisible(r.lineNumber,r.column)}getModelLineViewLineCount(r){return this._lines.getModelLineViewLineCount(r)}getViewLineNumberOfModelPosition(r,l){return this._lines.getViewLineNumberOfModelPosition(r,l)}}class m{constructor(r){this.model=r}dispose(){}createCoordinatesConverter(){return new u(this)}getHiddenAreas(){return[]}setHiddenAreas(r){return!1}setTabSize(r){return!1}setWrappingSettings(r,l,o,g){return!1}createLineBreaksComputer(){const r=[];return{addRequest:(l,o,g)=>{r.push(null)},finalize:()=>r}}onModelFlushed(){}onModelLinesDeleted(r,l,o){return new w.ViewLinesDeletedEvent(l,o)}onModelLinesInserted(r,l,o,g){return new w.ViewLinesInsertedEvent(l,o)}onModelLineChanged(r,l,o){return[!1,new w.ViewLinesChangedEvent(l,1),null,null]}acceptVersionId(r){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(r,l,o){return{startLineNumber:r,endLineNumber:r,indent:0}}getViewLinesBracketGuides(r,l,o){return new Array(l-r+1).fill([])}getViewLinesIndentGuides(r,l){const o=l-r+1,g=new Array(o);for(let c=0;c<o;c++)g[c]=0;return g}getViewLineContent(r){return this.model.getLineContent(r)}getViewLineLength(r){return this.model.getLineLength(r)}getViewLineMinColumn(r){return this.model.getLineMinColumn(r)}getViewLineMaxColumn(r){return this.model.getLineMaxColumn(r)}getViewLineData(r){const l=this.model.tokenization.getLineTokens(r),o=l.getLineContent();return new a.ViewLineData(o,!1,1,o.length+1,0,l.inflate(),null)}getViewLinesData(r,l,o){const g=this.model.getLineCount();r=Math.min(Math.max(1,r),g),l=Math.min(Math.max(1,l),g);const c=[];for(let b=r;b<=l;b++){const C=b-r;c[C]=o[C]?this.getViewLineData(b):null}return c}getDecorationsInRange(r,l,o,g,c){return this.model.getDecorationsInRange(r,l,o,g,c)}normalizePosition(r,l){return this.model.normalizePosition(r,l)}getLineIndentColumn(r){return this.model.getLineIndentColumn(r)}getInjectedTextAt(r){return null}}e.ViewModelLinesFromModelAsIs=m;class u{constructor(r){this._lines=r}_validPosition(r){return this._lines.model.validatePosition(r)}_validRange(r){return this._lines.model.validateRange(r)}convertViewPositionToModelPosition(r){return this._validPosition(r)}convertViewRangeToModelRange(r){return this._validRange(r)}validateViewPosition(r,l){return this._validPosition(l)}validateViewRange(r,l){return this._validRange(l)}convertModelPositionToViewPosition(r){return this._validPosition(r)}convertModelRangeToViewRange(r){return this._validRange(r)}modelPositionIsVisible(r){const l=this._lines.model.getLineCount();return!(r.lineNumber<1||r.lineNumber>l)}getModelLineViewLineCount(r){return 1}getViewLineNumberOfModelPosition(r,l){return r}}}),define(ie[931],ne([1,0,13,15,34,2,17,11,38,828,77,9,5,125,29,84,354,231,577,356,91,353,232,930,572]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const b=!0;class C extends L.Disposable{constructor(M,R,F,O,B,H,V,q,z){if(super(),this.languageConfigurationService=V,this._themeService=q,this._attachedView=z,this.hiddenAreasModel=new I,this.previousHiddenAreas=[],this._editorId=M,this._configuration=R,this.model=F,this._eventDispatcher=new o.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new _.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=S.create(this.model),this.glyphLanes=new c.GlyphMarginLanesModel(0),b&&this.model.isTooLargeForTokenization())this._lines=new g.ViewModelLinesFromModelAsIs(this.model);else{const U=this._configuration.options,Z=U.get(50),re=U.get(139),x=U.get(146),Q=U.get(138),X=U.get(129);this._lines=new g.ViewModelLinesFromProjectedModel(this._editorId,this.model,O,B,Z,this.model.getOptions().tabSize,re,x.wrappingColumn,Q,X)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new v.CursorsController(F,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new u.ViewLayout(this._configuration,this.getLineCount(),H)),this._register(this.viewLayout.onDidScroll(U=>{U.scrollTopChanged&&this._handleVisibleLinesChanged(),U.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new m.ViewScrollChangedEvent(U)),this._eventDispatcher.emitOutgoingEvent(new o.ScrollChangedEvent(U.oldScrollWidth,U.oldScrollLeft,U.oldScrollHeight,U.oldScrollTop,U.scrollWidth,U.scrollLeft,U.scrollHeight,U.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(U=>{this._eventDispatcher.emitOutgoingEvent(U)})),this._decorations=new l.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(U=>{try{const Z=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Z,U)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(d.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new m.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(U=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new m.ViewThemeChangedEvent(U))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(M){this._eventDispatcher.addViewEventHandler(M)}removeViewEventHandler(M){this._eventDispatcher.removeViewEventHandler(M)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const M=this.viewLayout.getLinesViewportData(),R=new s.Range(M.startLineNumber,this.getLineMinColumn(M.startLineNumber),M.endLineNumber,this.getLineMaxColumn(M.endLineNumber));return this._toModelVisibleRanges(R)}visibleLinesStabilized(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!0)}_handleVisibleLinesChanged(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!1)}setHasFocus(M){this._hasFocus=M,this._cursor.setHasFocus(M),this._eventDispatcher.emitSingleViewEvent(new m.ViewFocusChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new o.FocusChangedEvent(!M,M))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new m.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new m.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const M=new a.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),R=this.coordinatesConverter.convertViewPositionToModelPosition(M);return new A(R,this._viewportStart.startLineDelta)}return new A(null,0)}_onConfigurationChanged(M,R){const F=this._captureStableViewport(),O=this._configuration.options,B=O.get(50),H=O.get(139),V=O.get(146),q=O.get(138),z=O.get(129);this._lines.setWrappingSettings(B,H,V.wrappingColumn,q,z)&&(M.emitViewEvent(new m.ViewFlushedEvent),M.emitViewEvent(new m.ViewLineMappingChangedEvent),M.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),R.hasChanged(91)&&(this._decorations.reset(),M.emitViewEvent(new m.ViewDecorationsChangedEvent(null))),R.hasChanged(98)&&(this._decorations.reset(),M.emitViewEvent(new m.ViewDecorationsChangedEvent(null))),M.emitViewEvent(new m.ViewConfigurationChangedEvent(R)),this.viewLayout.onConfigurationChanged(R),F.recoverViewportStart(this.coordinatesConverter,this.viewLayout),_.CursorConfiguration.shouldRecreate(R)&&(this.cursorConfig=new _.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(M=>{try{const F=this._eventDispatcher.beginEmitViewEvents();let O=!1,B=!1;const H=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.changes:M.changes,V=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.versionId:null,q=this._lines.createLineBreaksComputer();for(const Z of H)switch(Z.changeType){case 4:{for(let re=0;re<Z.detail.length;re++){const x=Z.detail[re];let Q=Z.injectedTexts[re];Q&&(Q=Q.filter(X=>!X.ownerId||X.ownerId===this._editorId)),q.addRequest(x,Q,null)}break}case 2:{let re=null;Z.injectedText&&(re=Z.injectedText.filter(x=>!x.ownerId||x.ownerId===this._editorId)),q.addRequest(Z.detail,re,null);break}}const z=q.finalize(),U=new f.ArrayQueue(z);for(const Z of H)switch(Z.changeType){case 1:{this._lines.onModelFlushed(),F.emitViewEvent(new m.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),O=!0;break}case 3:{const re=this._lines.onModelLinesDeleted(V,Z.fromLineNumber,Z.toLineNumber);re!==null&&(F.emitViewEvent(re),this.viewLayout.onLinesDeleted(re.fromLineNumber,re.toLineNumber)),O=!0;break}case 4:{const re=U.takeCount(Z.detail.length),x=this._lines.onModelLinesInserted(V,Z.fromLineNumber,Z.toLineNumber,re);x!==null&&(F.emitViewEvent(x),this.viewLayout.onLinesInserted(x.fromLineNumber,x.toLineNumber)),O=!0;break}case 2:{const re=U.dequeue(),[x,Q,X,Y]=this._lines.onModelLineChanged(V,Z.lineNumber,re);B=x,Q&&F.emitViewEvent(Q),X&&(F.emitViewEvent(X),this.viewLayout.onLinesInserted(X.fromLineNumber,X.toLineNumber)),Y&&(F.emitViewEvent(Y),this.viewLayout.onLinesDeleted(Y.fromLineNumber,Y.toLineNumber));break}case 5:break}V!==null&&this._lines.acceptVersionId(V),this.viewLayout.onHeightMaybeChanged(),!O&&B&&(F.emitViewEvent(new m.ViewLineMappingChangedEvent),F.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(F),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const R=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&R){const F=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(F){const O=this.coordinatesConverter.convertModelPositionToViewPosition(F.getStartPosition()),B=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStart.startLineDelta},1)}}try{const F=this._eventDispatcher.beginEmitViewEvents();M instanceof i.InternalModelContentChangeEvent&&F.emitOutgoingEvent(new o.ModelContentChangedEvent(M.contentChangedEvent)),this._cursor.onModelContentChanged(F,M)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(M=>{const R=[];for(let F=0,O=M.ranges.length;F<O;F++){const B=M.ranges[F],H=this.coordinatesConverter.convertModelPositionToViewPosition(new a.Position(B.fromLineNumber,1)).lineNumber,V=this.coordinatesConverter.convertModelPositionToViewPosition(new a.Position(B.toLineNumber,this.model.getLineMaxColumn(B.toLineNumber))).lineNumber;R[F]={fromLineNumber:H,toLineNumber:V}}this._eventDispatcher.emitSingleViewEvent(new m.ViewTokensChangedEvent(R)),this._eventDispatcher.emitOutgoingEvent(new o.ModelTokensChangedEvent(M))})),this._register(this.model.onDidChangeLanguageConfiguration(M=>{this._eventDispatcher.emitSingleViewEvent(new m.ViewLanguageConfigurationEvent),this.cursorConfig=new _.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new o.ModelLanguageConfigurationChangedEvent(M))})),this._register(this.model.onDidChangeLanguage(M=>{this.cursorConfig=new _.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new o.ModelLanguageChangedEvent(M))})),this._register(this.model.onDidChangeOptions(M=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const R=this._eventDispatcher.beginEmitViewEvents();R.emitViewEvent(new m.ViewFlushedEvent),R.emitViewEvent(new m.ViewLineMappingChangedEvent),R.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(R),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new _.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new o.ModelOptionsChangedEvent(M))})),this._register(this.model.onDidChangeDecorations(M=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new m.ViewDecorationsChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new o.ModelDecorationsChangedEvent(M))}))}setHiddenAreas(M,R){var F;this.hiddenAreasModel.setHiddenAreas(R,M);const O=this.hiddenAreasModel.getMergedRanges();if(O===this.previousHiddenAreas)return;this.previousHiddenAreas=O;const B=this._captureStableViewport();let H=!1;try{const V=this._eventDispatcher.beginEmitViewEvents();H=this._lines.setHiddenAreas(O),H&&(V.emitViewEvent(new m.ViewFlushedEvent),V.emitViewEvent(new m.ViewLineMappingChangedEvent),V.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(V),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const q=(F=B.viewportStartModelPosition)===null||F===void 0?void 0:F.lineNumber;q&&O.some(U=>U.startLineNumber<=q&&q<=U.endLineNumber)||B.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),H&&this._eventDispatcher.emitOutgoingEvent(new o.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const M=this._configuration.options.get(145),R=this._configuration.options.get(67),F=Math.max(20,Math.round(M.height/R)),O=this.viewLayout.getLinesViewportData(),B=Math.max(1,O.completelyVisibleStartLineNumber-F),H=Math.min(this.getLineCount(),O.completelyVisibleEndLineNumber+F);return this._toModelVisibleRanges(new s.Range(B,this.getLineMinColumn(B),H,this.getLineMaxColumn(H)))}getVisibleRanges(){const M=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(M)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(M){const R=this.coordinatesConverter.convertViewRangeToModelRange(M),F=this._lines.getHiddenAreas();if(F.length===0)return[R];const O=[];let B=0,H=R.startLineNumber,V=R.startColumn;const q=R.endLineNumber,z=R.endColumn;for(let U=0,Z=F.length;U<Z;U++){const re=F[U].startLineNumber,x=F[U].endLineNumber;x<H||re>q||(H<re&&(O[B++]=new s.Range(H,V,re-1,this.model.getLineMaxColumn(re-1))),H=x+1,V=1)}return(H<q||H===q&&V<z)&&(O[B++]=new s.Range(H,V,q,z)),O}getCompletelyVisibleViewRange(){const M=this.viewLayout.getLinesViewportData(),R=M.completelyVisibleStartLineNumber,F=M.completelyVisibleEndLineNumber;return new s.Range(R,this.getLineMinColumn(R),F,this.getLineMaxColumn(F))}getCompletelyVisibleViewRangeAtScrollTop(M){const R=this.viewLayout.getLinesViewportDataAtScrollTop(M),F=R.completelyVisibleStartLineNumber,O=R.completelyVisibleEndLineNumber;return new s.Range(F,this.getLineMinColumn(F),O,this.getLineMaxColumn(O))}saveState(){const M=this.viewLayout.saveState(),R=M.scrollTop,F=this.viewLayout.getLineNumberAtVerticalOffset(R),O=this.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(F,this.getLineMinColumn(F))),B=this.viewLayout.getVerticalOffsetForLineNumber(F)-R;return{scrollLeft:M.scrollLeft,firstPosition:O,firstPositionDeltaTop:B}}reduceRestoreState(M){if(typeof M.firstPosition>"u")return this._reduceRestoreStateCompatibility(M);const R=this.model.validatePosition(M.firstPosition),F=this.coordinatesConverter.convertModelPositionToViewPosition(R),O=this.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber)-M.firstPositionDeltaTop;return{scrollLeft:M.scrollLeft,scrollTop:O}}_reduceRestoreStateCompatibility(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(M,R,F){this._viewportStart.update(this,M)}getActiveIndentGuide(M,R,F){return this._lines.getActiveIndentGuide(M,R,F)}getLinesIndentGuides(M,R){return this._lines.getViewLinesIndentGuides(M,R)}getBracketGuidesInRangeByLine(M,R,F,O){return this._lines.getViewLinesBracketGuides(M,R,F,O)}getLineContent(M){return this._lines.getViewLineContent(M)}getLineLength(M){return this._lines.getViewLineLength(M)}getLineMinColumn(M){return this._lines.getViewLineMinColumn(M)}getLineMaxColumn(M){return this._lines.getViewLineMaxColumn(M)}getLineFirstNonWhitespaceColumn(M){const R=p.firstNonWhitespaceIndex(this.getLineContent(M));return R===-1?0:R+1}getLineLastNonWhitespaceColumn(M){const R=p.lastNonWhitespaceIndex(this.getLineContent(M));return R===-1?0:R+2}getMinimapDecorationsInRange(M){return this._decorations.getMinimapDecorationsInRange(M)}getDecorationsInViewport(M){return this._decorations.getDecorationsViewportData(M).decorations}getInjectedTextAt(M){return this._lines.getInjectedTextAt(M)}getViewportViewLineRenderingData(M,R){const O=this._decorations.getDecorationsViewportData(M).inlineDecorations[R-M.startLineNumber];return this._getViewLineRenderingData(R,O)}getViewLineRenderingData(M){const R=this._decorations.getInlineDecorationsOnLine(M);return this._getViewLineRenderingData(M,R)}_getViewLineRenderingData(M,R){const F=this.model.mightContainRTL(),O=this.model.mightContainNonBasicASCII(),B=this.getTabSize(),H=this._lines.getViewLineData(M);return H.inlineDecorations&&(R=[...R,...H.inlineDecorations.map(V=>V.toInlineDecoration(M))]),new r.ViewLineRenderingData(H.minColumn,H.maxColumn,H.content,H.continuesWithWrappedLine,F,O,H.tokens,R,B,H.startVisibleColumn)}getViewLineData(M){return this._lines.getViewLineData(M)}getMinimapLinesRenderingData(M,R,F){const O=this._lines.getViewLinesData(M,R,F);return new r.MinimapLinesRenderingData(this.getTabSize(),O)}getAllOverviewRulerDecorations(M){const R=this.model.getOverviewRulerDecorations(this._editorId,(0,w.filterValidationDecorations)(this._configuration.options)),F=new D;for(const O of R){const B=O.options,H=B.overviewRuler;if(!H)continue;const V=H.position;if(V===0)continue;const q=H.getColor(M.value),z=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.startLineNumber,O.range.startColumn),U=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.endLineNumber,O.range.endColumn);F.accept(q,B.zIndex,z,U,V)}return F.asArray}_invalidateDecorationsColorCache(){const M=this.model.getOverviewRulerDecorations();for(const R of M){const F=R.options.overviewRuler;F?.invalidateCachedColor();const O=R.options.minimap;O?.invalidateCachedColor()}}getValueInRange(M,R){const F=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueInRange(F,R)}getValueLengthInRange(M,R){const F=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueLengthInRange(F,R)}modifyPosition(M,R){const F=this.coordinatesConverter.convertViewPositionToModelPosition(M),O=this.model.modifyPosition(F,R);return this.coordinatesConverter.convertModelPositionToViewPosition(O)}deduceModelPositionRelativeToViewPosition(M,R,F){const O=this.coordinatesConverter.convertViewPositionToModelPosition(M);this.model.getEOL().length===2&&(R<0?R-=F:R+=F);const H=this.model.getOffsetAt(O)+R;return this.model.getPositionAt(H)}getPlainTextToCopy(M,R,F){const O=F?`\r
`:this.model.getEOL();M=M.slice(0),M.sort(s.Range.compareRangesUsingStarts);let B=!1,H=!1;for(const q of M)q.isEmpty()?B=!0:H=!0;if(!H){if(!R)return"";const q=M.map(U=>U.startLineNumber);let z="";for(let U=0;U<q.length;U++)U>0&&q[U-1]===q[U]||(z+=this.model.getLineContent(q[U])+O);return z}if(B&&R){const q=[];let z=0;for(const U of M){const Z=U.startLineNumber;U.isEmpty()?Z!==z&&q.push(this.model.getLineContent(Z)):q.push(this.model.getValueInRange(U,F?2:0)),z=Z}return q.length===1?q[0]:q}const V=[];for(const q of M)q.isEmpty()||V.push(this.model.getValueInRange(q,F?2:0));return V.length===1?V[0]:V}getRichTextToCopy(M,R){const F=this.model.getLanguageId();if(F===n.PLAINTEXT_LANGUAGE_ID||M.length!==1)return null;let O=M[0];if(O.isEmpty()){if(!R)return null;const U=O.startLineNumber;O=new s.Range(U,this.model.getLineMinColumn(U),U,this.model.getLineMaxColumn(U))}const B=this._configuration.options.get(50),H=this._getColorMap(),q=/[:;\\\/<>]/.test(B.fontFamily)||B.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily;let z;return q?z=w.EDITOR_FONT_DEFAULTS.fontFamily:(z=B.fontFamily,z=z.replace(/"/g,"'"),/[,']/.test(z)||/[+ ]/.test(z)&&(z=`'${z}'`),z=`${z}, ${w.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:F,html:`<div style="color: ${H[1]};background-color: ${H[2]};font-family: ${z};font-weight: ${B.fontWeight};font-size: ${B.fontSize}px;line-height: ${B.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(O,H)+"</div>"}}_getHTMLToCopy(M,R){const F=M.startLineNumber,O=M.startColumn,B=M.endLineNumber,H=M.endColumn,V=this.getTabSize();let q="";for(let z=F;z<=B;z++){const U=this.model.tokenization.getLineTokens(z),Z=U.getLineContent(),re=z===F?O-1:0,x=z===B?H-1:Z.length;Z===""?q+="<br>":q+=(0,h.tokenizeLineToHTML)(Z,U.inflate(),R,re,x,V,y.isWindows)}return q}_getColorMap(){const M=t.TokenizationRegistry.getColorMap(),R=["#000000"];if(M)for(let F=1,O=M.length;F<O;F++)R[F]=E.Color.Format.CSS.formatHex(M[F]);return R}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(M,R,F){return this._withViewEventsCollector(O=>this._cursor.setStates(O,M,R,F))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(M){this._cursor.setCursorColumnSelectData(M)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(M){this._cursor.setPrevEditOperationType(M)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(M,R,F=0){this._withViewEventsCollector(O=>this._cursor.setSelections(O,M,R,F))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(M){this._withViewEventsCollector(R=>this._cursor.restoreState(R,M))}_executeCursorEdit(M){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new o.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(M)}executeEdits(M,R,F){this._executeCursorEdit(O=>this._cursor.executeEdits(O,M,R,F))}startComposition(){this._executeCursorEdit(M=>this._cursor.startComposition(M))}endComposition(M){this._executeCursorEdit(R=>this._cursor.endComposition(R,M))}type(M,R){this._executeCursorEdit(F=>this._cursor.type(F,M,R))}compositionType(M,R,F,O,B){this._executeCursorEdit(H=>this._cursor.compositionType(H,M,R,F,O,B))}paste(M,R,F,O){this._executeCursorEdit(B=>this._cursor.paste(B,M,R,F,O))}cut(M){this._executeCursorEdit(R=>this._cursor.cut(R,M))}executeCommand(M,R){this._executeCursorEdit(F=>this._cursor.executeCommand(F,M,R))}executeCommands(M,R){this._executeCursorEdit(F=>this._cursor.executeCommands(F,M,R))}revealAllCursors(M,R,F=!1){this._withViewEventsCollector(O=>this._cursor.revealAll(O,M,F,0,R,0))}revealPrimaryCursor(M,R,F=!1){this._withViewEventsCollector(O=>this._cursor.revealPrimary(O,M,F,0,R,0))}revealTopMostCursor(M){const R=this._cursor.getTopMostViewPosition(),F=new s.Range(R.lineNumber,R.column,R.lineNumber,R.column);this._withViewEventsCollector(O=>O.emitViewEvent(new m.ViewRevealRangeRequestEvent(M,!1,F,null,0,!0,0)))}revealBottomMostCursor(M){const R=this._cursor.getBottomMostViewPosition(),F=new s.Range(R.lineNumber,R.column,R.lineNumber,R.column);this._withViewEventsCollector(O=>O.emitViewEvent(new m.ViewRevealRangeRequestEvent(M,!1,F,null,0,!0,0)))}revealRange(M,R,F,O,B){this._withViewEventsCollector(H=>H.emitViewEvent(new m.ViewRevealRangeRequestEvent(M,!1,F,null,O,R,B)))}changeWhitespace(M){this.viewLayout.changeWhitespace(M)&&(this._eventDispatcher.emitSingleViewEvent(new m.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new o.ViewZonesChangedEvent))}_withViewEventsCollector(M){try{const R=this._eventDispatcher.beginEmitViewEvents();return M(R)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(M,R){return this._lines.normalizePosition(M,R)}getLineIndentColumn(M){return this._lines.getLineIndentColumn(M)}}e.ViewModel=C;class S{static create(M){const R=M._setTrackedRange(null,new s.Range(1,1,1,1),1);return new S(M,1,!1,R,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(M,R,F,O,B){this._model=M,this._viewLineNumber=R,this._isValid=F,this._modelTrackedRange=O,this._startLineDelta=B}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(M,R){const F=M.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(R,M.getLineMinColumn(R))),O=M.model._setTrackedRange(this._modelTrackedRange,new s.Range(F.lineNumber,F.column,F.lineNumber,F.column),1),B=M.viewLayout.getVerticalOffsetForLineNumber(R),H=M.viewLayout.getCurrentScrollTop();this._viewLineNumber=R,this._isValid=!0,this._modelTrackedRange=O,this._startLineDelta=H-B}invalidate(){this._isValid=!1}}class D{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(M,R,F,O,B){const H=this._asMap[M];if(H){const V=H.data,q=V[V.length-3],z=V[V.length-1];if(q===B&&z+1>=F){O>z&&(V[V.length-1]=O);return}V.push(B,F,O)}else{const V=new r.OverviewRulerDecorationsGroup(M,R,[B,F,O]);this._asMap[M]=V,this.asArray.push(V)}}}class I{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(M,R){const F=this.hiddenAreas.get(M);F&&N(F,R)||(this.hiddenAreas.set(M,R),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const M=Array.from(this.hiddenAreas.values()).reduce((R,F)=>T(R,F),[]);return N(this.ranges,M)?this.ranges:(this.ranges=M,this.ranges)}}function T(P,M){const R=[];let F=0,O=0;for(;F<P.length&&O<M.length;){const B=P[F],H=M[O];if(B.endLineNumber<H.startLineNumber-1)R.push(P[F++]);else if(H.endLineNumber<B.startLineNumber-1)R.push(M[O++]);else{const V=Math.min(B.startLineNumber,H.startLineNumber),q=Math.max(B.endLineNumber,H.endLineNumber);R.push(new s.Range(V,1,q,1)),F++,O++}}for(;F<P.length;)R.push(P[F++]);for(;O<M.length;)R.push(M[O++]);return R}function N(P,M){if(P.length!==M.length)return!1;for(let R=0;R<P.length;R++)if(!P[R].equalsRange(M[R]))return!1;return!0}class A{constructor(M,R){this.viewportStartModelPosition=M,this.startLineDelta=R}recoverViewportStart(M,R){if(!this.viewportStartModelPosition)return;const F=M.convertModelPositionToViewPosition(this.viewportStartModelPosition),O=R.getVerticalOffsetForLineNumber(F.lineNumber);R.setScrollPosition({scrollTop:O+this.startLineDelta},1)}}}),define(ie[210],ne([1,0,6,12,7,2,49,71,808,219,16,36,903,637,297,634,38,90,86,9,5,24,190,305,189,20,33,37,18,574,931,650,68,27,14,8,171,51,32,23,845,469]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T,N,A,P,M,R,F,O,B,H){"use strict";var V;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let q=V=class extends L.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor($,W,j,K,G,ee,oe,de,le,ge,ve,Ce){var Se;super(),this.languageConfigurationService=ve,this._deliveryQueue=(0,E.createEventDeliveryQueue)(),this._contributions=this._register(new n.CodeEditorContributions),this._onDidDispose=this._register(new E.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Z({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Z({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new re(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new re(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new re(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new re(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new re(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),G.willCreateCodeEditor();const be={...W};this._domElement=$,this._overflowWidgetsDomNode=be.overflowWidgetsDomNode,delete be.overflowWidgetsDomNode,this._id=++z,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=j.telemetryData,this._configuration=this._register(this._createConfiguration(j.isSimpleWidget||!1,be,ge)),this._register(this._configuration.onDidChange(Ae=>{this._onDidChangeConfiguration.fire(Ae);const Pe=this._configuration.options;if(Ae.hasChanged(145)){const He=Pe.get(145);this._onDidLayoutChange.fire(He)}})),this._contextKeyService=this._register(oe.createScoped(this._domElement)),this._notificationService=le,this._codeEditorService=G,this._commandService=ee,this._themeService=de,this._register(new x(this,this._contextKeyService)),this._register(new Q(this,this._contextKeyService,Ce)),this._instantiationService=K.createChild(new F.ServiceCollection([M.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new X($,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let ke;Array.isArray(j.contributions)?ke=j.contributions:ke=_.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,ke,this._instantiationService);for(const Ae of _.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Ae.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Ae.id}`));continue}const Pe=new g.InternalEditorAction(Ae.id,Ae.label,Ae.alias,Ae.metadata,(Se=Ae.precondition)!==null&&Se!==void 0?Se:void 0,He=>this._instantiationService.invokeFunction(Be=>Promise.resolve(Ae.runEditorCommand(Be,this,He))),this._contextKeyService);this._actions.set(Pe.id,Pe)}const Ee=()=>!this._configuration.options.get(91)&&this._configuration.options.get(36).enabled;this._register(new f.DragAndDropObserver(this._domElement,{onDragOver:Ae=>{if(!Ee())return;const Pe=this.getTargetAtClientPoint(Ae.clientX,Ae.clientY);Pe?.position&&this.showDropIndicatorAt(Pe.position)},onDrop:async Ae=>{if(!Ee()||(this.removeDropIndicator(),!Ae.dataTransfer))return;const Pe=this.getTargetAtClientPoint(Ae.clientX,Ae.clientY);Pe?.position&&this._onDropIntoEditor.fire({position:Pe.position,event:Ae})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent($){var W;(W=this._modelData)===null||W===void 0||W.view.writeScreenReaderContent($)}_createConfiguration($,W,j){return new w.EditorConfiguration($,W,this._domElement,j)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext($){return this._instantiationService.invokeFunction($)}updateOptions($){this._configuration.updateOptions($||{})}getOptions(){return this._configuration.options}getOption($){return this._configuration.options.get($)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition($){return this._modelData?o.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(131),this._configuration.options.get(130),$):null}getValue($=null){if(!this._modelData)return"";const W=!!($&&$.preserveBOM);let j=0;return $&&$.lineEnding&&$.lineEnding===`
`?j=1:$&&$.lineEnding&&$.lineEnding===`\r
`&&(j=2),this._modelData.model.getValue(j,W)}setValue($){this._modelData&&this._modelData.model.setValue($)}getModel(){return this._modelData?this._modelData.model:null}setModel($=null){var W;const j=$;if(this._modelData===null&&j===null||this._modelData&&this._modelData.model===j)return;const K={oldModelUrl:((W=this._modelData)===null||W===void 0?void 0:W.model.uri)||null,newModelUrl:j?.uri||null};this._onWillChangeModel.fire(K);const G=this.hasTextFocus(),ee=this._detachModel();this._attachModel(j),G&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(K),this._postDetachModelCleanup(ee),this._contributionsDisposable=this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const $ in this._decorationTypeSubtypes){const W=this._decorationTypeSubtypes[$];for(const j in W)this._removeDecorationType($+"-"+j)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition($,W,j,K){const G=$.model.validatePosition({lineNumber:W,column:j}),ee=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(G);return $.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ee.lineNumber,K)}getTopForLineNumber($,W=!1){return this._modelData?V._getVerticalOffsetForPosition(this._modelData,$,1,W):-1}getTopForPosition($,W){return this._modelData?V._getVerticalOffsetForPosition(this._modelData,$,W,!1):-1}static _getVerticalOffsetForPosition($,W,j,K=!1){const G=$.model.validatePosition({lineNumber:W,column:j}),ee=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(G);return $.viewModel.viewLayout.getVerticalOffsetForLineNumber(ee.lineNumber,K)}getBottomForLineNumber($,W=!1){return this._modelData?V._getVerticalOffsetAfterPosition(this._modelData,$,1,W):-1}setHiddenAreas($,W){var j;(j=this._modelData)===null||j===void 0||j.viewModel.setHiddenAreas($.map(K=>r.Range.lift(K)),W)}getVisibleColumnFromPosition($){if(!this._modelData)return $.column;const W=this._modelData.model.validatePosition($),j=this._modelData.model.getOptions().tabSize;return m.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(W.lineNumber),W.column,j)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition($,W="api"){if(this._modelData){if(!d.Position.isIPosition($))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(W,[{selectionStartLineNumber:$.lineNumber,selectionStartColumn:$.column,positionLineNumber:$.lineNumber,positionColumn:$.column}])}}_sendRevealRange($,W,j,K){if(!this._modelData)return;if(!r.Range.isIRange($))throw new Error("Invalid arguments");const G=this._modelData.model.validateRange($),ee=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(G);this._modelData.viewModel.revealRange("api",j,ee,W,K)}revealLine($,W=0){this._revealLine($,0,W)}revealLineInCenter($,W=0){this._revealLine($,1,W)}revealLineInCenterIfOutsideViewport($,W=0){this._revealLine($,2,W)}revealLineNearTop($,W=0){this._revealLine($,5,W)}_revealLine($,W,j){if(typeof $!="number")throw new Error("Invalid arguments");this._sendRevealRange(new r.Range($,1,$,1),W,!1,j)}revealPosition($,W=0){this._revealPosition($,0,!0,W)}revealPositionInCenter($,W=0){this._revealPosition($,1,!0,W)}revealPositionInCenterIfOutsideViewport($,W=0){this._revealPosition($,2,!0,W)}revealPositionNearTop($,W=0){this._revealPosition($,5,!0,W)}_revealPosition($,W,j,K){if(!d.Position.isIPosition($))throw new Error("Invalid arguments");this._sendRevealRange(new r.Range($.lineNumber,$.column,$.lineNumber,$.column),W,j,K)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection($,W="api"){const j=l.Selection.isISelection($),K=r.Range.isIRange($);if(!j&&!K)throw new Error("Invalid arguments");if(j)this._setSelectionImpl($,W);else if(K){const G={selectionStartLineNumber:$.startLineNumber,selectionStartColumn:$.startColumn,positionLineNumber:$.endLineNumber,positionColumn:$.endColumn};this._setSelectionImpl(G,W)}}_setSelectionImpl($,W){if(!this._modelData)return;const j=new l.Selection($.selectionStartLineNumber,$.selectionStartColumn,$.positionLineNumber,$.positionColumn);this._modelData.viewModel.setSelections(W,[j])}revealLines($,W,j=0){this._revealLines($,W,0,j)}revealLinesInCenter($,W,j=0){this._revealLines($,W,1,j)}revealLinesInCenterIfOutsideViewport($,W,j=0){this._revealLines($,W,2,j)}revealLinesNearTop($,W,j=0){this._revealLines($,W,5,j)}_revealLines($,W,j,K){if(typeof $!="number"||typeof W!="number")throw new Error("Invalid arguments");this._sendRevealRange(new r.Range($,1,W,1),j,!1,K)}revealRange($,W=0,j=!1,K=!0){this._revealRange($,j?1:0,K,W)}revealRangeInCenter($,W=0){this._revealRange($,1,!0,W)}revealRangeInCenterIfOutsideViewport($,W=0){this._revealRange($,2,!0,W)}revealRangeNearTop($,W=0){this._revealRange($,5,!0,W)}revealRangeNearTopIfOutsideViewport($,W=0){this._revealRange($,6,!0,W)}revealRangeAtTop($,W=0){this._revealRange($,3,!0,W)}_revealRange($,W,j,K){if(!r.Range.isIRange($))throw new Error("Invalid arguments");this._sendRevealRange(r.Range.lift($),W,j,K)}setSelections($,W="api",j=0){if(this._modelData){if(!$||$.length===0)throw new Error("Invalid arguments");for(let K=0,G=$.length;K<G;K++)if(!l.Selection.isISelection($[K]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(W,$,j)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft($,W=1){if(this._modelData){if(typeof $!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:$},W)}}setScrollTop($,W=1){if(this._modelData){if(typeof $!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:$},W)}}setScrollPosition($,W=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition($,W)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const $=this._contributions.saveViewState(),W=this._modelData.viewModel.saveCursorState(),j=this._modelData.viewModel.saveState();return{cursorState:W,viewState:j,contributionsState:$}}restoreViewState($){if(!this._modelData||!this._modelData.hasRealView)return;const W=$;if(W&&W.cursorState&&W.viewState){const j=W.cursorState;Array.isArray(j)?j.length>0&&this._modelData.viewModel.restoreCursorState(j):this._modelData.viewModel.restoreCursorState([j]),this._contributions.restoreViewState(W.contributionsState||{});const K=this._modelData.viewModel.reduceRestoreState(W.viewState);this._modelData.view.restoreState(K)}}handleInitialized(){var $;($=this._getViewModel())===null||$===void 0||$.visibleLinesStabilized()}getContribution($){return this._contributions.get($)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let $=this.getActions();return $=$.filter(W=>W.isSupported()),$}getAction($){return this._actions.get($)||null}trigger($,W,j){switch(j=j||{},W){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition($);return;case"type":{const G=j;this._type($,G.text||"");return}case"replacePreviousChar":{const G=j;this._compositionType($,G.text||"",G.replaceCharCnt||0,0,0);return}case"compositionType":{const G=j;this._compositionType($,G.text||"",G.replacePrevCharCnt||0,G.replaceNextCharCnt||0,G.positionDelta||0);return}case"paste":{const G=j;this._paste($,G.text||"",G.pasteOnNewLine||!1,G.multicursorText||null,G.mode||null,G.clipboardEvent);return}case"cut":this._cut($);return}const K=this.getAction(W);if(K){Promise.resolve(K.run(j)).then(void 0,k.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand($,W,j)||this._triggerCommand(W,j))}_triggerCommand($,W){this._commandService.executeCommand($,W)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition($){this._modelData&&(this._modelData.viewModel.endComposition($),this._onDidCompositionEnd.fire())}_type($,W){!this._modelData||W.length===0||($==="keyboard"&&this._onWillType.fire(W),this._modelData.viewModel.type(W,$),$==="keyboard"&&this._onDidType.fire(W))}_compositionType($,W,j,K,G){this._modelData&&this._modelData.viewModel.compositionType(W,j,K,G,$)}_paste($,W,j,K,G,ee){if(!this._modelData)return;const oe=this._modelData.viewModel,de=oe.getSelection().getStartPosition();oe.paste(W,j,K,$);const le=oe.getSelection().getStartPosition();$==="keyboard"&&this._onDidPaste.fire({clipboardEvent:ee,range:new r.Range(de.lineNumber,de.column,le.lineNumber,le.column),languageId:G})}_cut($){this._modelData&&this._modelData.viewModel.cut($)}_triggerEditorCommand($,W,j){const K=_.EditorExtensionsRegistry.getEditorCommand(W);return K?(j=j||{},j.source=$,this._instantiationService.invokeFunction(G=>{Promise.resolve(K.runEditorCommand(G,this,j)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits($,W,j){if(!this._modelData||this._configuration.options.get(91))return!1;let K;return j?Array.isArray(j)?K=()=>j:K=j:K=()=>null,this._modelData.viewModel.executeEdits($,W,K),!0}executeCommand($,W){this._modelData&&this._modelData.viewModel.executeCommand(W,$)}executeCommands($,W){this._modelData&&this._modelData.viewModel.executeCommands(W,$)}createDecorationsCollection($){return new Y(this,$)}changeDecorations($){return this._modelData?this._modelData.model.changeDecorations($,this._id):null}getLineDecorations($){return this._modelData?this._modelData.model.getLineDecorations($,this._id,(0,h.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange($){return this._modelData?this._modelData.model.getDecorationsInRange($,this._id,(0,h.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations($,W){return this._modelData?$.length===0&&W.length===0?$:this._modelData.model.deltaDecorations($,W,this._id):[]}removeDecorations($){!this._modelData||$.length===0||this._modelData.model.changeDecorations(W=>{W.deltaDecorations($,[])})}removeDecorationsByType($){const W=this._decorationTypeKeysToIds[$];W&&this.changeDecorations(j=>j.deltaDecorations(W,[])),this._decorationTypeKeysToIds.hasOwnProperty($)&&delete this._decorationTypeKeysToIds[$],this._decorationTypeSubtypes.hasOwnProperty($)&&delete this._decorationTypeSubtypes[$]}getLayoutInfo(){return this._configuration.options.get(145)}createOverviewRuler($){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler($)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown($){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent($)}layout($,W=!1){this._configuration.observeContainer($),W||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget($){const W={widget:$,position:$.getPosition()};this._contentWidgets.hasOwnProperty($.getId())&&console.warn("Overwriting a content widget with the same id:"+$.getId()),this._contentWidgets[$.getId()]=W,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(W)}layoutContentWidget($){const W=$.getId();if(this._contentWidgets.hasOwnProperty(W)){const j=this._contentWidgets[W];j.position=$.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(j)}}removeContentWidget($){const W=$.getId();if(this._contentWidgets.hasOwnProperty(W)){const j=this._contentWidgets[W];delete this._contentWidgets[W],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(j)}}addOverlayWidget($){const W={widget:$,position:$.getPosition()};this._overlayWidgets.hasOwnProperty($.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[$.getId()]=W,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(W)}layoutOverlayWidget($){const W=$.getId();if(this._overlayWidgets.hasOwnProperty(W)){const j=this._overlayWidgets[W];j.position=$.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(j)}}removeOverlayWidget($){const W=$.getId();if(this._overlayWidgets.hasOwnProperty(W)){const j=this._overlayWidgets[W];delete this._overlayWidgets[W],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(j)}}addGlyphMarginWidget($){const W={widget:$,position:$.getPosition()};this._glyphMarginWidgets.hasOwnProperty($.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[$.getId()]=W,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(W)}layoutGlyphMarginWidget($){const W=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(W)){const j=this._glyphMarginWidgets[W];j.position=$.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(j)}}removeGlyphMarginWidget($){const W=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(W)){const j=this._glyphMarginWidgets[W];delete this._glyphMarginWidgets[W],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(j)}}changeViewZones($){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change($)}getTargetAtClientPoint($,W){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint($,W)}getScrolledVisiblePosition($){if(!this._modelData||!this._modelData.hasRealView)return null;const W=this._modelData.model.validatePosition($),j=this._configuration.options,K=j.get(145),G=V._getVerticalOffsetForPosition(this._modelData,W.lineNumber,W.column)-this.getScrollTop(),ee=this._modelData.view.getOffsetForColumn(W.lineNumber,W.column)+K.glyphMarginWidth+K.lineNumbersWidth+K.decorationsWidth-this.getScrollLeft();return{top:G,left:ee,height:j.get(67)}}getOffsetForColumn($,W){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn($,W)}render($=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,$)}setAriaOptions($){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions($)}applyFontInfo($){(0,p.applyFontInfo)($,this._configuration.options.get(50))}setBanner($,W){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=$,this._configuration.setReservedHeight($?W:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel($){if(!$){this._modelData=null;return}const W=[];this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._configuration.setIsDominatedByLongLines($.isDominatedByLongLines()),this._configuration.setModelLineCount($.getLineCount());const j=$.onBeforeAttached(),K=new T.ViewModel(this._id,this._configuration,$,i.DOMLineBreaksComputerFactory.create(f.getWindow(this._domElement)),I.MonospaceLineBreaksComputerFactory.create(this._configuration.options),oe=>f.scheduleAtNextAnimationFrame(f.getWindow(this._domElement),oe),this.languageConfigurationService,this._themeService,j);W.push($.onWillDispose(()=>this.setModel(null))),W.push(K.onEvent(oe=>{switch(oe.kind){case 0:this._onDidContentSizeChange.fire(oe);break;case 1:this._editorTextFocus.setValue(oe.hasFocus);break;case 2:this._onDidScrollChange.fire(oe);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(oe.reachedMaxCursorCount){const ve=this.getOption(80),Ce=N.localize(0,null,ve);this._notificationService.prompt(O.Severity.Warning,Ce,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:N.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const de=[];for(let ve=0,Ce=oe.selections.length;ve<Ce;ve++)de[ve]=oe.selections[ve].getPosition();const le={position:de[0],secondaryPositions:de.slice(1),reason:oe.reason,source:oe.source};this._onDidChangeCursorPosition.fire(le);const ge={selection:oe.selections[0],secondarySelections:oe.selections.slice(1),modelVersionId:oe.modelVersionId,oldSelections:oe.oldSelections,oldModelVersionId:oe.oldModelVersionId,source:oe.source,reason:oe.reason};this._onDidChangeCursorSelection.fire(ge);break}case 7:this._onDidChangeModelDecorations.fire(oe.event);break;case 8:this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._onDidChangeModelLanguage.fire(oe.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(oe.event);break;case 10:this._onDidChangeModelContent.fire(oe.event);break;case 11:this._onDidChangeModelOptions.fire(oe.event);break;case 12:this._onDidChangeModelTokens.fire(oe.event);break}}));const[G,ee]=this._createView(K);if(ee){this._domElement.appendChild(G.domNode.domNode);let oe=Object.keys(this._contentWidgets);for(let de=0,le=oe.length;de<le;de++){const ge=oe[de];G.addContentWidget(this._contentWidgets[ge])}oe=Object.keys(this._overlayWidgets);for(let de=0,le=oe.length;de<le;de++){const ge=oe[de];G.addOverlayWidget(this._overlayWidgets[ge])}oe=Object.keys(this._glyphMarginWidgets);for(let de=0,le=oe.length;de<le;de++){const ge=oe[de];G.addGlyphMarginWidget(this._glyphMarginWidgets[ge])}G.render(!1,!0),G.domNode.domNode.setAttribute("data-uri",$.uri.toString())}this._modelData=new U($,K,G,ee,W,j)}_createView($){let W;this.isSimpleWidget?W={paste:(G,ee,oe,de)=>{this._paste("keyboard",G,ee,oe,de)},type:G=>{this._type("keyboard",G)},compositionType:(G,ee,oe,de)=>{this._compositionType("keyboard",G,ee,oe,de)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:W={paste:(G,ee,oe,de)=>{const le={text:G,pasteOnNewLine:ee,multicursorText:oe,mode:de};this._commandService.executeCommand("paste",le)},type:G=>{const ee={text:G};this._commandService.executeCommand("type",ee)},compositionType:(G,ee,oe,de)=>{if(oe||de){const le={text:G,replacePrevCharCnt:ee,replaceNextCharCnt:oe,positionDelta:de};this._commandService.executeCommand("compositionType",le)}else{const le={text:G,replaceCharCnt:ee};this._commandService.executeCommand("replacePreviousChar",le)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const j=new t.ViewUserInputEvents($.coordinatesConverter);return j.onKeyDown=G=>this._onKeyDown.fire(G),j.onKeyUp=G=>this._onKeyUp.fire(G),j.onContextMenu=G=>this._onContextMenu.fire(G),j.onMouseMove=G=>this._onMouseMove.fire(G),j.onMouseLeave=G=>this._onMouseLeave.fire(G),j.onMouseDown=G=>this._onMouseDown.fire(G),j.onMouseUp=G=>this._onMouseUp.fire(G),j.onMouseDrag=G=>this._onMouseDrag.fire(G),j.onMouseDrop=G=>this._onMouseDrop.fire(G),j.onMouseDropCanceled=G=>this._onMouseDropCanceled.fire(G),j.onMouseWheel=G=>this._onMouseWheel.fire(G),[new s.View(W,this._configuration,this._themeService.getColorTheme(),$,j,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup($){$?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var $;if(($=this._contributionsDisposable)===null||$===void 0||$.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const W=this._modelData.model,j=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),j&&this._domElement.contains(j)&&this._domElement.removeChild(j),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),W}_removeDecorationType($){this._codeEditorService.removeDecorationType($)}hasModel(){return this._modelData!==null}showDropIndicatorAt($){const W=[{range:new r.Range($.lineNumber,$.column,$.lineNumber,$.column),options:V.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(W),this.revealPosition($,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue($,W){this._contextKeyService.createKey($,W)}};e.CodeEditorWidget=q,q.dropIntoEditorDecorationOptions=S.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=q=V=Ie([ue(3,R.IInstantiationService),ue(4,a.ICodeEditorService),ue(5,P.ICommandService),ue(6,M.IContextKeyService),ue(7,H.IThemeService),ue(8,O.INotificationService),ue(9,A.IAccessibilityService),ue(10,C.ILanguageConfigurationService),ue(11,D.ILanguageFeaturesService)],q);let z=0;class U{constructor($,W,j,K,G,ee){this.model=$,this.viewModel=W,this.view=j,this.hasRealView=K,this.listenersToRemove=G,this.attachedView=ee}dispose(){(0,L.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class Z extends L.Disposable{constructor($){super(),this._emitterOptions=$,this._onDidChangeToTrue=this._register(new E.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new E.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue($){const W=$?2:1;this._value!==W&&(this._value=W,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=Z;class re extends E.Emitter{constructor($,W){super({deliveryQueue:W}),this._contributions=$}fire($){this._contributions.onBeforeInteractionEvent(),super.fire($)}}class x extends L.Disposable{constructor($,W){super(),this._editor=$,W.createKey("editorId",$.getId()),this._editorSimpleInput=b.EditorContextKeys.editorSimpleInput.bindTo(W),this._editorFocus=b.EditorContextKeys.focus.bindTo(W),this._textInputFocus=b.EditorContextKeys.textInputFocus.bindTo(W),this._editorTextFocus=b.EditorContextKeys.editorTextFocus.bindTo(W),this._tabMovesFocus=b.EditorContextKeys.tabMovesFocus.bindTo(W),this._editorReadonly=b.EditorContextKeys.readOnly.bindTo(W),this._inDiffEditor=b.EditorContextKeys.inDiffEditor.bindTo(W),this._editorColumnSelection=b.EditorContextKeys.columnSelection.bindTo(W),this._hasMultipleSelections=b.EditorContextKeys.hasMultipleSelections.bindTo(W),this._hasNonEmptySelection=b.EditorContextKeys.hasNonEmptySelection.bindTo(W),this._canUndo=b.EditorContextKeys.canUndo.bindTo(W),this._canRedo=b.EditorContextKeys.canRedo.bindTo(W),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(v.TabFocus.onDidChangeTabFocus(j=>this._tabMovesFocus.set(j))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const $=this._editor.getOptions();this._tabMovesFocus.set(v.TabFocus.getTabFocusMode()),this._editorReadonly.set($.get(91)),this._inDiffEditor.set($.get(61)),this._editorColumnSelection.set($.get(22))}_updateFromSelection(){const $=this._editor.getSelections();$?(this._hasMultipleSelections.set($.length>1),this._hasNonEmptySelection.set($.some(W=>!W.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const $=this._editor.getModel();this._canUndo.set(!!($&&$.canUndo())),this._canRedo.set(!!($&&$.canRedo()))}}class Q extends L.Disposable{constructor($,W,j){super(),this._editor=$,this._contextKeyService=W,this._languageFeaturesService=j,this._langId=b.EditorContextKeys.languageId.bindTo(W),this._hasCompletionItemProvider=b.EditorContextKeys.hasCompletionItemProvider.bindTo(W),this._hasCodeActionsProvider=b.EditorContextKeys.hasCodeActionsProvider.bindTo(W),this._hasCodeLensProvider=b.EditorContextKeys.hasCodeLensProvider.bindTo(W),this._hasDefinitionProvider=b.EditorContextKeys.hasDefinitionProvider.bindTo(W),this._hasDeclarationProvider=b.EditorContextKeys.hasDeclarationProvider.bindTo(W),this._hasImplementationProvider=b.EditorContextKeys.hasImplementationProvider.bindTo(W),this._hasTypeDefinitionProvider=b.EditorContextKeys.hasTypeDefinitionProvider.bindTo(W),this._hasHoverProvider=b.EditorContextKeys.hasHoverProvider.bindTo(W),this._hasDocumentHighlightProvider=b.EditorContextKeys.hasDocumentHighlightProvider.bindTo(W),this._hasDocumentSymbolProvider=b.EditorContextKeys.hasDocumentSymbolProvider.bindTo(W),this._hasReferenceProvider=b.EditorContextKeys.hasReferenceProvider.bindTo(W),this._hasRenameProvider=b.EditorContextKeys.hasRenameProvider.bindTo(W),this._hasSignatureHelpProvider=b.EditorContextKeys.hasSignatureHelpProvider.bindTo(W),this._hasInlayHintsProvider=b.EditorContextKeys.hasInlayHintsProvider.bindTo(W),this._hasDocumentFormattingProvider=b.EditorContextKeys.hasDocumentFormattingProvider.bindTo(W),this._hasDocumentSelectionFormattingProvider=b.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(W),this._hasMultipleDocumentFormattingProvider=b.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(W),this._hasMultipleDocumentSelectionFormattingProvider=b.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(W),this._isInEmbeddedEditor=b.EditorContextKeys.isInEmbeddedEditor.bindTo(W);const K=()=>this._update();this._register($.onDidChangeModel(K)),this._register($.onDidChangeModelLanguage(K)),this._register(j.completionProvider.onDidChange(K)),this._register(j.codeActionProvider.onDidChange(K)),this._register(j.codeLensProvider.onDidChange(K)),this._register(j.definitionProvider.onDidChange(K)),this._register(j.declarationProvider.onDidChange(K)),this._register(j.implementationProvider.onDidChange(K)),this._register(j.typeDefinitionProvider.onDidChange(K)),this._register(j.hoverProvider.onDidChange(K)),this._register(j.documentHighlightProvider.onDidChange(K)),this._register(j.documentSymbolProvider.onDidChange(K)),this._register(j.referenceProvider.onDidChange(K)),this._register(j.renameProvider.onDidChange(K)),this._register(j.documentFormattingEditProvider.onDidChange(K)),this._register(j.documentRangeFormattingEditProvider.onDidChange(K)),this._register(j.signatureHelpProvider.onDidChange(K)),this._register(j.inlayHintsProvider.onDidChange(K)),K()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const $=this._editor.getModel();if(!$){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set($.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has($)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has($)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has($)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has($)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has($)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has($)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has($)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has($)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has($)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has($)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has($)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has($)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has($)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has($)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has($)||this._languageFeaturesService.documentRangeFormattingEditProvider.has($)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has($)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all($).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all($).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all($).length>1),this._isInEmbeddedEditor.set($.uri.scheme===y.Schemas.walkThroughSnippet||$.uri.scheme===y.Schemas.vscodeChatCodeBlock)})}}e.EditorModeContext=Q;class X extends L.Disposable{constructor($,W){super(),this._onChange=this._register(new E.Emitter),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(f.trackFocus($)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),W&&(this._overflowWidgetsDomNode=this._register(f.trackFocus(W)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const $=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==$&&(this._hadFocus=$,this._onChange.fire(void 0))}hasFocus(){var $;return($=this._hadFocus)!==null&&$!==void 0?$:!1}}class Y{get length(){return this._decorationIds.length}constructor($,W){this._editor=$,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(W)&&W.length>0&&this.set(W)}onDidChange($,W,j){return this._editor.onDidChangeModelDecorations(K=>{this._isChangingDecorations||$.call(W,K)},j)}getRange($){return!this._editor.hasModel()||$>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[$])}getRanges(){if(!this._editor.hasModel())return[];const $=this._editor.getModel(),W=[];for(const j of this._decorationIds){const K=$.getDecorationRange(j);K&&W.push(K)}return W}has($){return this._decorationIds.includes($.id)}clear(){this._decorationIds.length!==0&&this.set([])}set($){try{this._isChangingDecorations=!0,this._editor.changeDecorations(W=>{this._decorationIds=W.deltaDecorations(this._decorationIds,$)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append($){let W=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(j=>{W=j.deltaDecorations([],$),this._decorationIds=this._decorationIds.concat(W)})}finally{this._isChangingDecorations=!1}return W}}const ae=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ce=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function he(te){return ae+encodeURIComponent(te.toString())+ce}const pe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),fe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function se(te){return pe+encodeURIComponent(te.toString())+fe}(0,H.registerThemingParticipant)((te,$)=>{const W=te.getColor(B.editorErrorForeground);W&&$.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${he(W)}") repeat-x bottom left; }`);const j=te.getColor(B.editorWarningForeground);j&&$.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${he(j)}") repeat-x bottom left; }`);const K=te.getColor(B.editorInfoForeground);K&&$.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${he(K)}") repeat-x bottom left; }`);const G=te.getColor(B.editorHintForeground);G&&$.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${se(G)}") no-repeat bottom left; }`);const ee=te.getColor(u.editorUnnecessaryCodeOpacity);ee&&$.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ee.rgba.a}; }`)})}),define(ie[176],ne([1,0,55,36,210,33,18,68,27,14,8,51,23]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends E.CodeEditorWidget{constructor(n,h,m,u,d,r,l,o,g,c,b,C,S){super(n,{...u.getRawOptions(),overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()},m,d,r,l,o,g,c,b,C,S),this._parentEditor=u,this._overwriteOptions=h,super.updateOptions(this._overwriteOptions),this._register(u.onDidChangeConfiguration(D=>this._onParentConfigurationChanged(D)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(n){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(n){f.mixin(this._overwriteOptions,n,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=i,e.EmbeddedCodeEditorWidget=i=Ie([ue(4,_.IInstantiationService),ue(5,k.ICodeEditorService),ue(6,w.ICommandService),ue(7,v.IContextKeyService),ue(8,s.IThemeService),ue(9,a.INotificationService),ue(10,p.IAccessibilityService),ue(11,L.ILanguageConfigurationService),ue(12,y.ILanguageFeaturesService)],i)}),define(ie[275],ne([1,0,6,66,12,7,2,30,180,16,36,137,210,883,927,635,928,359,351,387,660,82,9,5,189,20,130,14,8,171,92,896,521,809,378,919,471]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T,N,A,P,M,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;let F=class extends A.DelegatingEditor{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(H,V,q,z,U,Z,re,x){var Q;super(),this._domElement=H,this._parentContextKeyService=z,this._parentInstantiationService=U,this._accessibilitySignalService=re,this._editorProgressService=x,this.elements=(0,f.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,f.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,f.$)("span",{},"No Changes")]),(0,f.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,f.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,f.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,p.observableValue)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=L.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new I.ServiceCollection([S.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,p.observableValue)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,p.observableValue)(this,!1),this._accessibleDiffViewerVisible=(0,p.derived)(this,W=>this._options.onlyShowAccessibleDiffViewer.read(W)?!0:this._accessibleDiffViewerShouldBeVisible.read(W)),this._movedBlocksLinesPart=(0,p.observableValue)(this,void 0),this._layoutInfo=(0,p.derived)(this,W=>{var j,K,G,ee,oe;const de=this._rootSizeObserver.width.read(W),le=this._rootSizeObserver.height.read(W),ge=this._sash.read(W),ve=this._gutter.read(W),Ce=(j=ve?.width.read(W))!==null&&j!==void 0?j:0,Se=(G=(K=this._overviewRulerPart.read(W))===null||K===void 0?void 0:K.width)!==null&&G!==void 0?G:0;let be,ke,Ee,Ae,Pe;if(!!ge){const Be=ge.sashLeft.read(W),De=(oe=(ee=this._movedBlocksLinesPart.read(W))===null||ee===void 0?void 0:ee.width.read(W))!==null&&oe!==void 0?oe:0;be=0,ke=Be-Ce-De,Pe=Be-Ce,Ee=Be,Ae=de-Ee-Se}else Pe=0,be=Ce,ke=Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),Ee=Ce+ke,Ae=de-Ee-Se;return this.elements.original.style.left=be+"px",this.elements.original.style.width=ke+"px",this._editors.original.layout({width:ke,height:le},!0),ve?.layout(Pe),this.elements.modified.style.left=Ee+"px",this.elements.modified.style.width=Ae+"px",this._editors.modified.layout({width:Ae,height:le},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((W,j)=>W?.diff.read(j)),this.onDidUpdateDiff=L.Event.fromObservableLight(this._diffValue),Z.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,y.toDisposable)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new l.ObservableElementSizeObserver(this.elements.root,V.dimension)),this._rootSizeObserver.setAutomaticLayout((Q=V.automaticLayout)!==null&&Q!==void 0?Q:!1),this._options=this._instantiationService.createInstance(P.DiffEditorOptions,V),this._register((0,p.autorun)(W=>{this._options.setWidth(this._rootSizeObserver.width.read(W))})),this._contextKeyService.createKey(b.EditorContextKeys.isEmbeddedDiffEditor.key,!1),this._register((0,l.bindContextKey)(b.EditorContextKeys.isEmbeddedDiffEditor,this._contextKeyService,W=>this._options.isInEmbeddedEditor.read(W))),this._register((0,l.bindContextKey)(b.EditorContextKeys.comparingMovedCode,this._contextKeyService,W=>{var j;return!!(!((j=this._diffModel.read(W))===null||j===void 0)&&j.movedTextToCompare.read(W))})),this._register((0,l.bindContextKey)(b.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,W=>this._options.couldShowInlineViewBecauseOfSize.read(W))),this._register((0,l.bindContextKey)(b.EditorContextKeys.diffEditorInlineMode,this._contextKeyService,W=>!this._options.renderSideBySide.read(W))),this._register((0,l.bindContextKey)(b.EditorContextKeys.hasChanges,this._contextKeyService,W=>{var j,K,G;return((G=(K=(j=this._diffModel.read(W))===null||j===void 0?void 0:j.diff.read(W))===null||K===void 0?void 0:K.mappings.length)!==null&&G!==void 0?G:0)>0})),this._editors=this._register(this._instantiationService.createInstance(N.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,q,(W,j,K,G)=>this._createInnerEditor(W,j,K,G))),this._register((0,l.bindContextKey)(b.EditorContextKeys.diffEditorOriginalWritable,this._contextKeyService,W=>this._options.originalEditable.read(W))),this._register((0,l.bindContextKey)(b.EditorContextKeys.diffEditorModifiedWritable,this._contextKeyService,W=>!this._options.readOnly.read(W))),this._register((0,l.bindContextKey)(b.EditorContextKeys.diffEditorOriginalUri,this._contextKeyService,W=>{var j,K;return(K=(j=this._diffModel.read(W))===null||j===void 0?void 0:j.model.original.uri.toString())!==null&&K!==void 0?K:""})),this._register((0,l.bindContextKey)(b.EditorContextKeys.diffEditorModifiedUri,this._contextKeyService,W=>{var j,K;return(K=(j=this._diffModel.read(W))===null||j===void 0?void 0:j.model.modified.uri.toString())!==null&&K!==void 0?K:""})),this._overviewRulerPart=(0,w.derivedDisposable)(this,W=>this._options.renderOverviewRuler.read(W)?this._instantiationService.createInstance((0,l.readHotReloadableExport)(d.OverviewRulerFeature,W),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(j=>j.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=(0,w.derivedDisposable)(this,W=>{const j=this._options.renderSideBySide.read(W);return this.elements.root.classList.toggle("side-by-side",j),j?new n.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((K,G)=>{var ee,oe;return K-((oe=(ee=this._overviewRulerPart.read(G))===null||ee===void 0?void 0:ee.width)!==null&&oe!==void 0?oe:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const X=(0,w.derivedDisposable)(this,W=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(m.HideUnchangedRegionsFeature,W),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,w.derivedDisposable)(this,W=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(t.DiffEditorDecorations,W),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const Y=new Set,ae=new Set;let ce=!1;const he=(0,w.derivedDisposable)(this,W=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(h.DiffEditorViewZones,W),(0,f.getWindow)(this._domElement),this._editors,this._diffModel,this._options,this,()=>ce||X.get().isUpdatingHiddenAreas,Y,ae)).recomputeInitiallyAndOnChange(this._store),pe=(0,p.derived)(this,W=>{const j=he.read(W).viewZones.read(W).orig,K=X.read(W).viewZones.read(W).origViewZones;return j.concat(K)}),fe=(0,p.derived)(this,W=>{const j=he.read(W).viewZones.read(W).mod,K=X.read(W).viewZones.read(W).modViewZones;return j.concat(K)});this._register((0,l.applyViewZones)(this._editors.original,pe,W=>{ce=W},Y));let se;this._register((0,l.applyViewZones)(this._editors.modified,fe,W=>{ce=W,ce?se=a.StableEditorScrollState.capture(this._editors.modified):(se?.restore(this._editors.modified),se=void 0)},ae)),this._accessibleDiffViewer=(0,w.derivedDisposable)(this,W=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(i.AccessibleDiffViewer,W),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(j,K)=>this._accessibleDiffViewerShouldBeVisible.set(j,K),this._options.onlyShowAccessibleDiffViewer.map(j=>!j),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((j,K)=>{var G;return(G=j?.diff.read(K))===null||G===void 0?void 0:G.mappings.map(ee=>ee.lineRangeMapping)}),new i.AccessibleDiffViewerModelFromEditors(this._editors))).recomputeInitiallyAndOnChange(this._store);const te=this._accessibleDiffViewerVisible.map(W=>W?"hidden":"visible");this._register((0,l.applyStyle)(this.elements.modified,{visibility:te})),this._register((0,l.applyStyle)(this.elements.original,{visibility:te})),this._createDiffEditorContributions(),Z.addDiffEditor(this),this._gutter=(0,w.derivedDisposable)(this,W=>this._options.shouldRenderGutterMenu.read(W)?this._instantiationService.createInstance((0,l.readHotReloadableExport)(R.DiffEditorGutter,W),this.elements.root,this._diffModel,this._editors):void 0),this._register((0,p.recomputeInitiallyAndOnChange)(this._layoutInfo)),(0,w.derivedDisposable)(this,W=>new((0,l.readHotReloadableExport)(u.MovedBlocksLinesFeature,W))(this.elements.root,this._diffModel,this._layoutInfo.map(j=>j.originalEditor),this._layoutInfo.map(j=>j.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,W=>{this._movedBlocksLinesPart.set(W,void 0)}),this._register((0,l.applyStyle)(this.elements.overlay,{width:this._layoutInfo.map((W,j)=>W.originalEditor.width+(this._options.renderSideBySide.read(j)?0:W.modifiedEditor.width)),visibility:(0,p.derived)(W=>{var j,K;return this._options.hideUnchangedRegions.read(W)&&((K=(j=this._diffModel.read(W))===null||j===void 0?void 0:j.diff.read(W))===null||K===void 0?void 0:K.mappings.length)===0?"visible":"hidden"})})),this._register(L.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,W=>this._handleCursorPositionChange(W,!0))),this._register(L.Event.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,W=>this._handleCursorPositionChange(W,!1)));const $=this._diffModel.map(this,(W,j)=>{if(W)return W.diff.read(j)===void 0&&!W.isDiffUpToDate.read(j)});this._register((0,p.autorunWithStore)((W,j)=>{if($.read(W)===!0){const K=this._editorProgressService.show(!0,1e3);j.add((0,y.toDisposable)(()=>K.done()))}})),this._register((0,y.toDisposable)(()=>{var W;this._shouldDisposeDiffModel&&((W=this._diffModel.get())===null||W===void 0||W.dispose())})),this._register((0,p.autorunWithStore)((W,j)=>{j.add(new((0,l.readHotReloadableExport)(r.RevertButtonsFeature,W))(this._editors,this._diffModel,this._options,this))}))}_createInnerEditor(H,V,q,z){return H.createInstance(s.CodeEditorWidget,V,q,z)}_createDiffEditorContributions(){const H=v.EditorExtensionsRegistry.getDiffEditorContributions();for(const V of H)try{this._register(this._instantiationService.createInstance(V.ctor,this))}catch(q){(0,E.onUnexpectedError)(q)}}get _targetEditor(){return this._editors.modified}getEditorType(){return c.EditorType.IDiffEditor}layout(H){this._rootSizeObserver.observe(H)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var H;const V=this._editors.original.saveViewState(),q=this._editors.modified.saveViewState();return{original:V,modified:q,modelState:(H=this._diffModel.get())===null||H===void 0?void 0:H.serializeState()}}restoreViewState(H){var V;if(H&&H.original&&H.modified){const q=H;this._editors.original.restoreViewState(q.original),this._editors.modified.restoreViewState(q.modified),q.modelState&&((V=this._diffModel.get())===null||V===void 0||V.restoreSerializedState(q.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(H){return this._instantiationService.createInstance(M.DiffEditorViewModel,H,this._options)}getModel(){var H,V;return(V=(H=this._diffModel.get())===null||H===void 0?void 0:H.model)!==null&&V!==void 0?V:null}setModel(H,V){!H&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const q=H?"model"in H?{model:H,shouldDispose:!1}:{model:this.createViewModel(H),shouldDispose:!0}:void 0;this._diffModel.get()!==q?.model&&(0,p.subtransaction)(V,z=>{var U;p.observableFromEvent.batchEventsGlobally(z,()=>{this._editors.original.setModel(q?q.model.model.original:null),this._editors.modified.setModel(q?q.model.model.modified:null)});const Z=this._diffModel.get(),re=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(U=q?.shouldDispose)!==null&&U!==void 0?U:!1,this._diffModel.set(q?.model,z),re&&Z?.dispose()})}updateOptions(H){this._options.updateOptions(H)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var H;const V=(H=this._diffModel.get())===null||H===void 0?void 0:H.diff.get();return V?O(V):null}revert(H){const V=this._diffModel.get();!V||!V.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:H.modified.toExclusiveRange(),text:V.model.original.getValueInRange(H.original.toExclusiveRange())}])}revertRangeMappings(H){const V=this._diffModel.get();if(!V||!V.isDiffUpToDate.get())return;const q=H.map(z=>({range:z.modifiedRange,text:V.model.original.getValueInRange(z.originalRange)}));this._editors.modified.executeEdits("diffEditor",q)}_goTo(H){this._editors.modified.setPosition(new o.Position(H.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(H.lineRangeMapping.modified.toExclusiveRange())}goToDiff(H){var V,q,z,U;const Z=(q=(V=this._diffModel.get())===null||V===void 0?void 0:V.diff.get())===null||q===void 0?void 0:q.mappings;if(!Z||Z.length===0)return;const re=this._editors.modified.getPosition().lineNumber;let x;H==="next"?x=(z=Z.find(Q=>Q.lineRangeMapping.modified.startLineNumber>re))!==null&&z!==void 0?z:Z[0]:x=(U=(0,k.findLast)(Z,Q=>Q.lineRangeMapping.modified.startLineNumber<re))!==null&&U!==void 0?U:Z[Z.length-1],this._goTo(x),x.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(C.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.goToDiff"}):x.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(C.AccessibilitySignal.diffLineInserted,{source:"diffEditor.goToDiff"}):x&&this._accessibilitySignalService.playSignal(C.AccessibilitySignal.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const H=this._diffModel.get();H&&this.waitForDiff().then(()=>{var V;const q=(V=H.diff.get())===null||V===void 0?void 0:V.mappings;!q||q.length===0||this._goTo(q[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const H=this._diffModel.get();H&&await H.waitForDiff()}mapToOtherSide(){var H,V;const q=this._editors.modified.hasWidgetFocus(),z=q?this._editors.modified:this._editors.original,U=q?this._editors.original:this._editors.modified;let Z;const re=z.getSelection();if(re){const x=(V=(H=this._diffModel.get())===null||H===void 0?void 0:H.diff.get())===null||V===void 0?void 0:V.mappings.map(Q=>q?Q.lineRangeMapping.flip():Q.lineRangeMapping);if(x){const Q=(0,l.translatePosition)(re.getStartPosition(),x),X=(0,l.translatePosition)(re.getEndPosition(),x);Z=g.Range.plusRange(Q,X)}}return{destination:U,destinationSelection:Z}}switchSide(){const{destination:H,destinationSelection:V}=this.mapToOtherSide();H.focus(),V&&H.setSelection(V)}exitCompareMove(){const H=this._diffModel.get();H&&H.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var H;const V=(H=this._diffModel.get())===null||H===void 0?void 0:H.unchangedRegions.get();V&&(0,p.transaction)(q=>{for(const z of V)z.collapseAll(q)})}showAllUnchangedRegions(){var H;const V=(H=this._diffModel.get())===null||H===void 0?void 0:H.unchangedRegions.get();V&&(0,p.transaction)(q=>{for(const z of V)z.showAll(q)})}_handleCursorPositionChange(H,V){var q,z;if(H?.reason===3){const U=(z=(q=this._diffModel.get())===null||q===void 0?void 0:q.diff.get())===null||z===void 0?void 0:z.mappings.find(Z=>V?Z.lineRangeMapping.modified.contains(H.position.lineNumber):Z.lineRangeMapping.original.contains(H.position.lineNumber));U?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(C.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):U?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(C.AccessibilitySignal.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):U&&this._accessibilitySignalService.playSignal(C.AccessibilitySignal.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};e.DiffEditorWidget=F,e.DiffEditorWidget=F=Ie([ue(3,S.IContextKeyService),ue(4,D.IInstantiationService),ue(5,_.ICodeEditorService),ue(6,C.IAccessibilitySignalService),ue(7,T.IEditorProgressService)],F);function O(B){return B.mappings.map(H=>{const V=H.lineRangeMapping;let q,z,U,Z,re=V.innerChanges;return V.original.isEmpty?(q=V.original.startLineNumber-1,z=0,re=void 0):(q=V.original.startLineNumber,z=V.original.endLineNumberExclusive-1),V.modified.isEmpty?(U=V.modified.startLineNumber-1,Z=0,re=void 0):(U=V.modified.startLineNumber,Z=V.modified.endLineNumberExclusive-1),{originalStartLineNumber:q,originalEndLineNumber:z,modifiedStartLineNumber:U,modifiedEndLineNumber:Z,charChanges:re?.map(x=>({originalStartLineNumber:x.originalRange.startLineNumber,originalStartColumn:x.originalRange.startColumn,originalEndLineNumber:x.originalRange.endLineNumber,originalEndColumn:x.originalRange.endColumn,modifiedStartLineNumber:x.modifiedRange.startLineNumber,modifiedStartColumn:x.modifiedRange.startColumn,modifiedEndLineNumber:x.modifiedRange.endLineNumber,modifiedEndColumn:x.modifiedRange.endColumn}))}})}}),define(ie[932],ne([1,0,6,26,16,36,275,20,651,28,25,14,209]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=e.RevertHunkOrSelection=e.ShowAllUnchangedRegions=e.CollapseAllUnchangedRegions=e.ExitCompareMove=e.SwitchSide=e.ToggleUseInlineViewWhenSpaceIsLimited=e.ToggleShowMovedCodeBlocks=e.ToggleCollapseUnchangedRegions=void 0,e.findDiffEditor=c,e.findFocusedDiffEditor=b;class s extends v.Action2{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,w.localize2)(0,"Toggle Collapse Unchanged Regions"),icon:k.Codicon.map,toggled:a.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:a.ContextKeyExpr.has("isInDiffEditor"),menu:{when:a.ContextKeyExpr.has("isInDiffEditor"),id:v.MenuId.EditorTitle,order:22,group:"navigation"}})}run(D,...I){const T=D.get(_.IConfigurationService),N=!T.getValue("diffEditor.hideUnchangedRegions.enabled");T.updateValue("diffEditor.hideUnchangedRegions.enabled",N)}}e.ToggleCollapseUnchangedRegions=s;class i extends v.Action2{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,w.localize2)(1,"Toggle Show Moved Code Blocks"),precondition:a.ContextKeyExpr.has("isInDiffEditor")})}run(D,...I){const T=D.get(_.IConfigurationService),N=!T.getValue("diffEditor.experimental.showMoves");T.updateValue("diffEditor.experimental.showMoves",N)}}e.ToggleShowMovedCodeBlocks=i;class t extends v.Action2{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,w.localize2)(2,"Toggle Use Inline View When Space Is Limited"),precondition:a.ContextKeyExpr.has("isInDiffEditor")})}run(D,...I){const T=D.get(_.IConfigurationService),N=!T.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");T.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",N)}}e.ToggleUseInlineViewWhenSpaceIsLimited=t;const n=(0,w.localize2)(3,"Diff Editor");class h extends E.EditorAction2{constructor(){super({id:"diffEditor.switchSide",title:(0,w.localize2)(4,"Switch Side"),icon:k.Codicon.arrowSwap,precondition:a.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(D,I,T){const N=b(D);if(N instanceof y.DiffEditorWidget){if(T&&T.dryRun)return{destinationSelection:N.mapToOtherSide().destinationSelection};N.switchSide()}}}e.SwitchSide=h;class m extends E.EditorAction2{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,w.localize2)(5,"Exit Compare Move"),icon:k.Codicon.close,precondition:p.EditorContextKeys.comparingMovedCode,f1:!1,category:n,keybinding:{weight:1e4,primary:9}})}runEditorCommand(D,I,...T){const N=b(D);N instanceof y.DiffEditorWidget&&N.exitCompareMove()}}e.ExitCompareMove=m;class u extends E.EditorAction2{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,w.localize2)(6,"Collapse All Unchanged Regions"),icon:k.Codicon.fold,precondition:a.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(D,I,...T){const N=b(D);N instanceof y.DiffEditorWidget&&N.collapseAllUnchangedRegions()}}e.CollapseAllUnchangedRegions=u;class d extends E.EditorAction2{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,w.localize2)(7,"Show All Unchanged Regions"),icon:k.Codicon.unfold,precondition:a.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(D,I,...T){const N=b(D);N instanceof y.DiffEditorWidget&&N.showAllUnchangedRegions()}}e.ShowAllUnchangedRegions=d;class r extends v.Action2{constructor(){super({id:"diffEditor.revert",title:(0,w.localize2)(8,"Revert"),f1:!1,category:n})}run(D,I){var T;const N=c(D,I.originalUri,I.modifiedUri);N instanceof y.DiffEditorWidget&&N.revertRangeMappings((T=I.mapping.innerChanges)!==null&&T!==void 0?T:[])}}e.RevertHunkOrSelection=r;const l=(0,w.localize2)(9,"Accessible Diff Viewer");class o extends v.Action2{constructor(){super({id:o.id,title:(0,w.localize2)(10,"Go to Next Difference"),category:l,precondition:a.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(D){const I=b(D);I?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=o,o.id="editor.action.accessibleDiffViewer.next";class g extends v.Action2{constructor(){super({id:g.id,title:(0,w.localize2)(11,"Go to Previous Difference"),category:l,precondition:a.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(D){const I=b(D);I?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=g,g.id="editor.action.accessibleDiffViewer.prev";function c(S,D,I){return S.get(L.ICodeEditorService).listDiffEditors().find(A=>{var P,M;const R=A.getModifiedEditor(),F=A.getOriginalEditor();return R&&((P=R.getModel())===null||P===void 0?void 0:P.uri.toString())===I.toString()&&F&&((M=F.getModel())===null||M===void 0?void 0:M.uri.toString())===D.toString()})||null}function b(S){const I=S.get(L.ICodeEditorService).listDiffEditors(),T=(0,f.getActiveElement)();if(T)for(const N of I){const A=N.getContainerDomNode();if(C(A,T))return N}return null}function C(S,D){let I=D;for(;I;){if(I===S)return!0;I=I.parentElement}return!1}}),define(ie[933],ne([1,0,26,932,20,656,28,27,14,209]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerAction2)(k.ToggleCollapseUnchangedRegions),(0,y.registerAction2)(k.ToggleShowMovedCodeBlocks),(0,y.registerAction2)(k.ToggleUseInlineViewWhenSpaceIsLimited),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleUseInlineViewWhenSpaceIsLimited().desc.id,title:(0,L.localize)(0,null),toggled:w.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,w.ContextKeyExpr.has("isInDiffEditor"))}),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleShowMovedCodeBlocks().desc.id,title:(0,L.localize)(1,null),icon:f.Codicon.move,toggled:w.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:w.ContextKeyExpr.has("isInDiffEditor")}),(0,y.registerAction2)(k.RevertHunkOrSelection);for(const v of[{icon:f.Codicon.arrowRight,key:E.EditorContextKeys.diffEditorInlineMode.toNegated()},{icon:f.Codicon.discard,key:E.EditorContextKeys.diffEditorInlineMode}])y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorHunkToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,L.localize)(2,null),icon:v.icon},when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorModifiedWritable,v.key),order:5,group:"primary"}),y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorSelectionToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,L.localize)(3,null),icon:v.icon},when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorModifiedWritable,v.key),order:5,group:"primary"});(0,y.registerAction2)(k.SwitchSide),(0,y.registerAction2)(k.ExitCompareMove),(0,y.registerAction2)(k.CollapseAllUnchangedRegions),(0,y.registerAction2)(k.ShowAllUnchangedRegions),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:k.AccessibleDiffViewerNext.id,title:(0,L.localize)(4,null),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:w.ContextKeyExpr.and(E.EditorContextKeys.accessibleDiffViewerVisible.negate(),w.ContextKeyExpr.has("isInDiffEditor"))}),p.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",k.AccessibleDiffViewerNext.id),(0,y.registerAction2)(k.AccessibleDiffViewerNext),p.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",k.AccessibleDiffViewerPrev.id),(0,y.registerAction2)(k.AccessibleDiffViewerPrev)}),define(ie[395],ne([1,0,6,246,26,2,30,135,275,207,28,8,331,117]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorItemTemplate=e.TemplateData=void 0;class t{constructor(u,d){this.viewModel=u,this.deltaScrollVertical=d}getId(){return this.viewModel}}e.TemplateData=t;let n=class extends L.Disposable{constructor(u,d,r,l){super(),this._container=u,this._overflowWidgetsDomNode=d,this._workbenchUIElementFactory=r,this._instantiationService=l,this._viewModel=(0,p.observableValue)(this,void 0),this._collapsed=(0,y.derived)(this,g=>{var c;return(c=this._viewModel.read(g))===null||c===void 0?void 0:c.collapsed.read(g)}),this._editorContentHeight=(0,p.observableValue)(this,500),this.contentHeight=(0,y.derived)(this,g=>(this._collapsed.read(g)?0:this._editorContentHeight.read(g))+this._outerEditorHeight),this._modifiedContentWidth=(0,p.observableValue)(this,0),this._modifiedWidth=(0,p.observableValue)(this,0),this._originalContentWidth=(0,p.observableValue)(this,0),this._originalWidth=(0,p.observableValue)(this,0),this.maxScroll=(0,y.derived)(this,g=>{const c=this._modifiedContentWidth.read(g)-this._modifiedWidth.read(g),b=this._originalContentWidth.read(g)-this._originalWidth.read(g);return c>b?{maxScroll:c,width:this._modifiedWidth.read(g)}:{maxScroll:b,width:this._originalWidth.read(g)}}),this._elements=(0,f.h)("div.multiDiffEntry",[(0,f.h)("div.header@header",[(0,f.h)("div.header-content",[(0,f.h)("div.collapse-button@collapseButton"),(0,f.h)("div.file-path",[(0,f.h)("div.title.modified.show-file-icons@primaryPath",[]),(0,f.h)("div.status.deleted@status",["R"]),(0,f.h)("div.title.original.show-file-icons@secondaryPath",[])]),(0,f.h)("div.actions@actions")])]),(0,f.h)("div.editorParent",[(0,f.h)("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(w.DiffEditorWidget,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=h(this.editor.getModifiedEditor()),this.isOriginalFocused=h(this.editor.getOriginalEditor()),this.isFocused=(0,y.derived)(this,g=>this.isModifedFocused.read(g)||this.isOriginalFocused.read(g)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new L.DisposableStore,this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const o=new k.Button(this._elements.collapseButton,{});this._register((0,y.autorun)(g=>{o.element.className="",o.icon=this._collapsed.read(g)?E.Codicon.chevronRight:E.Codicon.chevronDown})),this._register(o.onDidClick(()=>{var g;(g=this._viewModel.get())===null||g===void 0||g.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,y.autorun)(g=>{this._elements.editor.style.display=this._collapsed.read(g)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(g=>{const c=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(c,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(g=>{const c=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(c,void 0)})),this._register(this.editor.onDidContentSizeChange(g=>{(0,p.globalTransaction)(c=>{this._editorContentHeight.set(g.contentHeight,c),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),c),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),c)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(g=>{if(this._isSettingScrollTop||!g.scrollTopChanged||!this._data)return;const c=g.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(c)})),this._register((0,y.autorun)(g=>{const c=this.isFocused.read(g);this._elements.root.classList.toggle("focused",c)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(v.MenuWorkbenchToolBar,this._elements.actions,_.MenuId.MultiDiffEditorFileToolbar,{actionRunner:this._register(new s.ActionRunnerWithContext(()=>{var g;return(g=this._viewModel.get())===null||g===void 0?void 0:g.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:g=>g.startsWith("navigation")},actionViewItemProvider:(g,c)=>(0,i.createActionViewItem)(l,g,c)}))}setScrollLeft(u){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(u):this.editor.getOriginalEditor().setScrollLeft(u)}setData(u){this._data=u;function d(l){return{...l,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const r=u.viewModel.entry.value;r.onOptionsDidChange&&this._dataStore.add(r.onOptionsDidChange(()=>{var l;this.editor.updateOptions(d((l=r.options)!==null&&l!==void 0?l:{}))})),(0,p.globalTransaction)(l=>{var o,g,c,b;(o=this._resourceLabel)===null||o===void 0||o.setUri((g=u.viewModel.modifiedUri)!==null&&g!==void 0?g:u.viewModel.originalUri,{strikethrough:u.viewModel.modifiedUri===void 0});let C=!1,S=!1,D=!1,I="";u.viewModel.modifiedUri&&u.viewModel.originalUri&&u.viewModel.modifiedUri.path!==u.viewModel.originalUri.path?(I="R",C=!0):u.viewModel.modifiedUri?u.viewModel.originalUri||(I="A",D=!0):(I="D",S=!0),this._elements.status.classList.toggle("renamed",C),this._elements.status.classList.toggle("deleted",S),this._elements.status.classList.toggle("added",D),this._elements.status.innerText=I,(c=this._resourceLabel2)===null||c===void 0||c.setUri(C?u.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(u.viewModel,l),this.editor.setModel(u.viewModel.diffEditorViewModel,l),this.editor.updateOptions(d((b=r.options)!==null&&b!==void 0?b:{}))})}render(u,d,r,l){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${u.start}px`,this._elements.root.style.height=`${u.length}px`,this._elements.root.style.width=`${d}px`,this._elements.root.style.position="absolute";const o=u.length-this._headerHeight,g=Math.max(0,Math.min(l.start-u.start,o));this._elements.header.style.transform=`translateY(${g}px)`,(0,p.globalTransaction)(c=>{this.editor.layout({width:d-2*8-2*1,height:u.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=r,this.editor.getOriginalEditor().setScrollTop(r)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",g>0||r>0),this._elements.header.classList.toggle("collapsed",g===o)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};e.DiffEditorItemTemplate=n,e.DiffEditorItemTemplate=n=Ie([ue(3,a.IInstantiationService)],n);function h(m){return(0,y.observableFromEvent)(u=>{const d=new L.DisposableStore;return d.add(m.onDidFocusEditorWidget(()=>u(!0))),d.add(m.onDidBlurEditorWidget(()=>u(!1))),d},()=>m.hasTextFocus())}}),define(ie[934],ne([1,0,6,79,66,2,30,135,156,82,64,24,20,14,8,171,395,522,473]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidgetImpl=void 0;let u=class extends L.Disposable{constructor(l,o,g,c,b,C){super(),this._element=l,this._dimension=o,this._viewModel=g,this._workbenchUIElementFactory=c,this._parentContextKeyService=b,this._parentInstantiationService=C,this._elements=(0,f.h)("div.monaco-component.multiDiffEditor",[(0,f.h)("div@content",{style:{overflow:"hidden"}}),(0,f.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new v.ObservableElementSizeObserver(this._element,void 0)),this._objectPool=this._register(new m.ObjectPool(D=>{const I=this._instantiationService.createInstance(h.DiffEditorItemTemplate,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return I.setData(D),I})),this._scrollable=this._register(new w.Scrollable({forceIntegerValues:!1,scheduleAtNextAnimationFrame:D=>(0,f.scheduleAtNextAnimationFrame)((0,f.getWindow)(this._element),D),smoothScrollDuration:100})),this._scrollableElement=this._register(new k.SmoothScrollableElement(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=(0,y.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,y.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=(0,y.derivedWithStore)(this,(D,I)=>{const T=this._viewModel.read(D);return T?T.items.read(D).map(A=>{var P;const M=I.add(new d(A,this._objectPool,this.scrollLeft,F=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+F})})),R=(P=this._lastDocStates)===null||P===void 0?void 0:P[M.getKey()];return R&&(0,p.transaction)(F=>{M.setViewState(R,F)}),M}):[]}),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(D,I)=>D.reduce((T,N)=>T+N.contentHeight.read(I)+this._spaceBetweenPx,0)),this.activeDiffItem=(0,y.derived)(this,D=>this._viewItems.read(D).find(I=>{var T;return(T=I.template.read(D))===null||T===void 0?void 0:T.isFocused.read(D)})),this.lastActiveDiffItem=(0,y.derivedObservableWithCache)((D,I)=>{var T;return(T=this.activeDiffItem.read(D))!==null&&T!==void 0?T:I}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new n.ServiceCollection([i.IContextKeyService,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(s.EditorContextKeys.inMultiDiffEditor.key,!0),this._register((0,y.autorunWithStore)((D,I)=>{const T=this._viewModel.read(D);if(T&&T.contextKeys)for(const[N,A]of Object.entries(T.contextKeys)){const P=this._contextKeyService.createKey(N,void 0);P.set(A),I.add((0,L.toDisposable)(()=>P.reset()))}}));const S=this._parentContextKeyService.createKey(s.EditorContextKeys.multiDiffEditorAllCollapsed.key,!1);this._register((0,y.autorun)(D=>{const I=this._viewModel.read(D);if(I){const T=I.items.read(D).every(N=>N.collapsed.read(D));S.set(T)}})),this._register((0,y.autorun)(D=>{const I=this.lastActiveDiffItem.read(D);(0,p.transaction)(T=>{var N;(N=this._viewModel.read(D))===null||N===void 0||N.activeDiffItem.set(I?.viewModel,T)})})),this._register((0,y.autorun)(D=>{const I=this._dimension.read(D);this._sizeObserver.observe(I)})),this._elements.content.style.position="relative",this._register((0,y.autorun)(D=>{const I=this._sizeObserver.height.read(D);this._elements.root.style.height=`${I}px`;const T=this._totalHeight.read(D);this._elements.content.style.height=`${T}px`;const N=this._sizeObserver.width.read(D);let A=N;const P=this._viewItems.read(D),M=(0,E.findFirstMaxBy)(P,R=>R.maxScroll.read(D).maxScroll);if(M){const R=M.maxScroll.read(D);A=N+R.maxScroll}this._scrollableElement.setScrollDimensions({width:N,height:I,scrollHeight:T,scrollWidth:A})})),l.replaceChildren(this._scrollableElement.getDomNode()),this._register((0,L.toDisposable)(()=>{l.replaceChildren()})),this._register(this._register((0,y.autorun)(D=>{(0,p.globalTransaction)(I=>{this.render(D)})})))}render(l){const o=this.scrollTop.read(l);let g=0,c=0,b=0;const C=this._sizeObserver.height.read(l),S=_.OffsetRange.ofStartAndLength(o,C),D=this._sizeObserver.width.read(l);for(const I of this._viewItems.read(l)){const T=I.contentHeight.read(l),N=Math.min(T,C),A=_.OffsetRange.ofStartAndLength(c,N),P=_.OffsetRange.ofStartAndLength(b,T);if(P.isBefore(S))g-=T-N,I.hide();else if(P.isAfter(S))I.hide();else{const M=Math.max(0,Math.min(S.start-P.start,T-N));g-=M;const R=_.OffsetRange.ofStartAndLength(o+g,C);I.render(A,M,D,R)}c+=N+this._spaceBetweenPx,b+=T+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(o+g)}px)`}};e.MultiDiffEditorWidgetImpl=u,e.MultiDiffEditorWidgetImpl=u=Ie([ue(4,i.IContextKeyService),ue(5,t.IInstantiationService)],u);class d extends L.Disposable{constructor(l,o,g,c){super(),this.viewModel=l,this._objectPool=o,this._scrollLeft=g,this._deltaScrollVertical=c,this._templateRef=this._register((0,p.disposableObservableValue)(this,void 0)),this.contentHeight=(0,y.derived)(this,b=>{var C,S,D;return(D=(S=(C=this._templateRef.read(b))===null||C===void 0?void 0:C.object.contentHeight)===null||S===void 0?void 0:S.read(b))!==null&&D!==void 0?D:this.viewModel.lastTemplateData.read(b).contentHeight}),this.maxScroll=(0,y.derived)(this,b=>{var C,S;return(S=(C=this._templateRef.read(b))===null||C===void 0?void 0:C.object.maxScroll.read(b))!==null&&S!==void 0?S:{maxScroll:0,scrollWidth:0}}),this.template=(0,y.derived)(this,b=>{var C;return(C=this._templateRef.read(b))===null||C===void 0?void 0:C.object}),this._isHidden=(0,y.observableValue)(this,!1),this._register((0,y.autorun)(b=>{var C;const S=this._scrollLeft.read(b);(C=this._templateRef.read(b))===null||C===void 0||C.object.setScrollLeft(S)})),this._register((0,y.autorun)(b=>{const C=this._templateRef.read(b);!C||!this._isHidden.read(b)||C.object.isFocused.read(b)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var l;return`VirtualViewItem(${(l=this.viewModel.entry.value.modified)===null||l===void 0?void 0:l.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(l,o){var g;this.viewModel.collapsed.set(l.collapsed,o),this._updateTemplateData(o);const c=this.viewModel.lastTemplateData.get(),b=(g=l.selections)===null||g===void 0?void 0:g.map(a.Selection.liftSelection);this.viewModel.lastTemplateData.set({...c,selections:b},o);const C=this._templateRef.get();C&&b&&C.object.editor.setSelections(b)}_updateTemplateData(l){var o;const g=this._templateRef.get();g&&this.viewModel.lastTemplateData.set({contentHeight:g.object.contentHeight.get(),selections:(o=g.object.editor.getSelections())!==null&&o!==void 0?o:void 0},l)}_clear(){const l=this._templateRef.get();l&&(0,p.transaction)(o=>{this._updateTemplateData(o),l.object.hide(),this._templateRef.set(void 0,o)})}hide(){this._isHidden.set(!0,void 0)}render(l,o,g,c){this._isHidden.set(!1,void 0);let b=this._templateRef.get();if(!b){b=this._objectPool.getUnusedObj(new h.TemplateData(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(b,void 0);const C=this.viewModel.lastTemplateData.get().selections;C&&b.object.editor.setSelections(C)}b.object.render(l,g,o,c)}}}),define(ie[935],ne([1,0,2,30,82,934,8,395,877]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidget=void 0;let w=class extends f.Disposable{constructor(_,a,s){super(),this._element=_,this._workbenchUIElementFactory=a,this._instantiationService=s,this._dimension=(0,k.observableValue)(this,void 0),this._viewModel=(0,k.observableValue)(this,void 0),this._widgetImpl=(0,k.derivedWithStore)(this,(i,t)=>((0,E.readHotReloadableExport)(p.DiffEditorItemTemplate,i),t.add(this._instantiationService.createInstance((0,E.readHotReloadableExport)(L.MultiDiffEditorWidgetImpl,i),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,k.recomputeInitiallyAndOnChange)(this._widgetImpl))}};e.MultiDiffEditorWidget=w,e.MultiDiffEditorWidget=w=Ie([ue(2,y.IInstantiationService)],w)}),define(ie[936],ne([1,0,15,2,16,9,5,24,20,43,37,678,28,32,23,475]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const n=(0,i.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},a.localize(0,null));class h extends E.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:a.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(o,g){var c;(c=r.get(g))===null||c===void 0||c.jumpToBracket()}}class m extends E.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:a.localize(2,null),alias:"Select to Bracket",precondition:void 0,metadata:{description:a.localize2(5,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(o,g,c){var b;let C=!0;c&&c.selectBrackets===!1&&(C=!1),(b=r.get(g))===null||b===void 0||b.selectToBracket(C)}}class u extends E.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:a.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(o,g){var c;(c=r.get(g))===null||c===void 0||c.removeBrackets(this.id)}}class d{constructor(o,g,c){this.position=o,this.brackets=g,this.options=c}}class r extends k.Disposable{static get(o){return o.getContribution(r.ID)}constructor(o){super(),this._editor=o,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new f.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(o.onDidChangeCursorPosition(g=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(o.onDidChangeModelContent(g=>{this._updateBracketsSoon.schedule()})),this._register(o.onDidChangeModel(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(o.onDidChangeModelLanguageConfiguration(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(o.onDidChangeConfiguration(g=>{g.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(o.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(o.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const o=this._editor.getModel(),g=this._editor.getSelections().map(c=>{const b=c.getStartPosition(),C=o.bracketPairs.matchBracket(b);let S=null;if(C)C[0].containsPosition(b)&&!C[1].containsPosition(b)?S=C[1].getStartPosition():C[1].containsPosition(b)&&(S=C[0].getStartPosition());else{const D=o.bracketPairs.findEnclosingBrackets(b);if(D)S=D[1].getStartPosition();else{const I=o.bracketPairs.findNextBracket(b);I&&I.range&&(S=I.range.getStartPosition())}}return S?new p.Selection(S.lineNumber,S.column,S.lineNumber,S.column):new p.Selection(b.lineNumber,b.column,b.lineNumber,b.column)});this._editor.setSelections(g),this._editor.revealRange(g[0])}selectToBracket(o){if(!this._editor.hasModel())return;const g=this._editor.getModel(),c=[];this._editor.getSelections().forEach(b=>{const C=b.getStartPosition();let S=g.bracketPairs.matchBracket(C);if(!S&&(S=g.bracketPairs.findEnclosingBrackets(C),!S)){const T=g.bracketPairs.findNextBracket(C);T&&T.range&&(S=g.bracketPairs.matchBracket(T.range.getStartPosition()))}let D=null,I=null;if(S){S.sort(y.Range.compareRangesUsingStarts);const[T,N]=S;if(D=o?T.getStartPosition():T.getEndPosition(),I=o?N.getEndPosition():N.getStartPosition(),N.containsPosition(C)){const A=D;D=I,I=A}}D&&I&&c.push(new p.Selection(D.lineNumber,D.column,I.lineNumber,I.column))}),c.length>0&&(this._editor.setSelections(c),this._editor.revealRange(c[0]))}removeBrackets(o){if(!this._editor.hasModel())return;const g=this._editor.getModel();this._editor.getSelections().forEach(c=>{const b=c.getPosition();let C=g.bracketPairs.matchBracket(b);C||(C=g.bracketPairs.findEnclosingBrackets(b)),C&&(this._editor.pushUndoStop(),this._editor.executeEdits(o,[{range:C[0],text:""},{range:C[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const o=[];let g=0;for(const c of this._lastBracketsData){const b=c.brackets;b&&(o[g++]={range:b[0],options:c.options},o[g++]={range:b[1],options:c.options})}this._decorations.set(o)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const o=this._editor.getSelections();if(o.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const g=this._editor.getModel(),c=g.getVersionId();let b=[];this._lastVersionId===c&&(b=this._lastBracketsData);const C=[];let S=0;for(let A=0,P=o.length;A<P;A++){const M=o[A];M.isEmpty()&&(C[S++]=M.getStartPosition())}C.length>1&&C.sort(L.Position.compare);const D=[];let I=0,T=0;const N=b.length;for(let A=0,P=C.length;A<P;A++){const M=C[A];for(;T<N&&b[T].position.isBefore(M);)T++;if(T<N&&b[T].position.equals(M))D[I++]=b[T];else{let R=g.bracketPairs.matchBracket(M,20),F=r._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!R&&this._matchBrackets==="always"&&(R=g.bracketPairs.findEnclosingBrackets(M,20),F=r._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),D[I++]=new d(M,R,F)}}this._lastBracketsData=D,this._lastVersionId=c}}e.BracketMatchingController=r,r.ID="editor.contrib.bracketMatchingController",r._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=_.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,t.themeColorFromId)(n),position:v.OverviewRulerLane.Center}}),r._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=_.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,E.registerEditorContribution)(r.ID,r,1),(0,E.registerEditorAction)(m),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(u),s.MenuRegistry.appendMenuItem(s.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:a.localize(4,null)},order:2})}),define(ie[276],ne([1,0,6,45,12,95,2,9,37,18,151,854,878,380,174,685,881,27,25,14,8,104,92,32,94,23,127,379,88]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;const T="quickfix-edit-highlight";let N=I=class extends y.Disposable{static get(P){return P.getContribution(I.ID)}constructor(P,M,R,F,O,B,H,V,q,z){super(),this._commandService=H,this._configurationService=V,this._actionWidgetService=q,this._instantiationService=z,this._activeCodeActions=this._register(new y.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=P,this._model=this._register(new S.CodeActionModel(this._editor,O.codeActionProvider,M,R,B,V)),this._register(this._model.onDidChangeState(U=>this.update(U))),this._lightBulbWidget=new L.Lazy(()=>{const U=this._editor.getContribution(i.LightBulbWidget.ID);return U&&this._register(U.onClick(Z=>this.showCodeActionsFromLightbulb(Z.actions,Z))),U}),this._resolver=F.createInstance(a.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(P,M){if(P.allAIFixes&&P.validActions.length===1){const R=P.validActions[0],F=R.action.command;F&&F.id==="inlineChat.start"&&F.arguments&&F.arguments.length>=1&&(F.arguments[0]={...F.arguments[0],autoSend:!1}),await this._applyCodeAction(R,!1,!1,_.ApplyCodeActionReason.FromAILightbulb);return}await this.showCodeActionList(P,M,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(P,M,R){return this.showCodeActionList(M,R,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(P,M,R,F){var O;if(!this._editor.hasModel())return;(O=t.MessageController.get(this._editor))===null||O===void 0||O.closeMessage();const B=this._editor.getPosition();this._trigger({type:1,triggerAction:M,filter:R,autoApply:F,context:{notAvailableMessage:P,position:B}})}_trigger(P){return this._model.trigger(P)}async _applyCodeAction(P,M,R,F){try{await this._instantiationService.invokeFunction(_.applyCodeAction,P,F,{preview:R,editor:this._editor})}finally{M&&this._trigger({type:2,triggerAction:C.CodeActionTriggerSource.QuickFix,filter:{}})}}async update(P){var M,R,F,O,B,H,V;if(P.type!==1){(M=this._lightBulbWidget.rawValue)===null||M===void 0||M.hide();return}let q;try{q=await P.actions}catch(z){(0,E.onUnexpectedError)(z);return}if(!this._disposed)if((R=this._lightBulbWidget.value)===null||R===void 0||R.update(q,P.trigger,P.position),P.trigger.type===1){if(!((F=P.trigger.filter)===null||F===void 0)&&F.include){const U=this.tryGetValidActionToApply(P.trigger,q);if(U){try{(O=this._lightBulbWidget.value)===null||O===void 0||O.hide(),await this._applyCodeAction(U,!1,!1,_.ApplyCodeActionReason.FromCodeActions)}finally{q.dispose()}return}if(P.trigger.context){const Z=this.getInvalidActionThatWouldHaveBeenApplied(P.trigger,q);if(Z&&Z.action.disabled){(B=t.MessageController.get(this._editor))===null||B===void 0||B.showMessage(Z.action.disabled,P.trigger.context.position),q.dispose();return}}}const z=!!(!((H=P.trigger.filter)===null||H===void 0)&&H.include);if(P.trigger.context&&(!q.allActions.length||!z&&!q.validActions.length)){(V=t.MessageController.get(this._editor))===null||V===void 0||V.showMessage(P.trigger.context.notAvailableMessage,P.trigger.context.position),this._activeCodeActions.value=q,q.dispose();return}this._activeCodeActions.value=q,this.showCodeActionList(q,this.toCoords(P.position),{includeDisabledActions:z,fromLightbulb:!1})}else this._actionWidgetService.isVisible?q.dispose():this._activeCodeActions.value=q}getInvalidActionThatWouldHaveBeenApplied(P,M){if(M.allActions.length&&(P.autoApply==="first"&&M.validActions.length===0||P.autoApply==="ifSingle"&&M.allActions.length===1))return M.allActions.find(({action:R})=>R.disabled)}tryGetValidActionToApply(P,M){if(M.validActions.length&&(P.autoApply==="first"&&M.validActions.length>0||P.autoApply==="ifSingle"&&M.validActions.length===1))return M.validActions[0]}async showCodeActionList(P,M,R){const F=this._editor.createDecorationsCollection(),O=this._editor.getDomNode();if(!O)return;const B=R.includeDisabledActions&&(this._showDisabled||P.validActions.length===0)?P.allActions:P.validActions;if(!B.length)return;const H=p.Position.isIPosition(M)?this.toCoords(M):M,V={onSelect:async(q,z)=>{this._applyCodeAction(q,!0,!!z,_.ApplyCodeActionReason.FromCodeActions),this._actionWidgetService.hide(),F.clear()},onHide:()=>{var q;(q=this._editor)===null||q===void 0||q.focus(),F.clear()},onHover:async(q,z)=>{var U;if(z.isCancellationRequested)return;let Z=!1;const re=q.action.kind;if(re){const x=new D.HierarchicalKind(re);Z=[C.CodeActionKind.RefactorExtract,C.CodeActionKind.RefactorInline,C.CodeActionKind.RefactorRewrite].some(X=>X.contains(x))}return{canPreview:Z||!!(!((U=q.action.edit)===null||U===void 0)&&U.edits.length)}},onFocus:q=>{var z,U;if(q&&q.action){const Z=q.action.ranges,re=q.action.diagnostics;if(F.clear(),Z&&Z.length>0){const x=re&&re?.length>1?re.map(Q=>({range:Q,options:I.DECORATION})):Z.map(Q=>({range:Q,options:I.DECORATION}));F.set(x)}else if(re&&re.length>0){const x=re.map(X=>({range:X,options:I.DECORATION}));F.set(x);const Q=re[0];if(Q.startLineNumber&&Q.startColumn){const X=(U=(z=this._editor.getModel())===null||z===void 0?void 0:z.getWordAtPosition({lineNumber:Q.startLineNumber,column:Q.startColumn}))===null||U===void 0?void 0:U.word;k.status((0,n.localize)(0,null,X,Q.startLineNumber,Q.startColumn))}}}else F.clear()}};this._actionWidgetService.show("codeActionWidget",!0,(0,s.toMenuItems)(B,this._shouldShowHeaders(),this._resolver.getResolver()),V,H,O,this._getActionBarActions(P,M,R))}toCoords(P){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(P,1),this._editor.render();const M=this._editor.getScrolledVisiblePosition(P),R=(0,f.getDomNodePagePosition)(this._editor.getDomNode()),F=R.left+M.left,O=R.top+M.top+M.height;return{x:F,y:O}}_shouldShowHeaders(){var P;const M=(P=this._editor)===null||P===void 0?void 0:P.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:M?.uri})}_getActionBarActions(P,M,R){if(R.fromLightbulb)return[];const F=P.documentation.map(O=>{var B;return{id:O.id,label:O.title,tooltip:(B=O.tooltip)!==null&&B!==void 0?B:"",class:void 0,enabled:!0,run:()=>{var H;return this._commandService.executeCommand(O.id,...(H=O.arguments)!==null&&H!==void 0?H:[])}}});return R.includeDisabledActions&&P.validActions.length>0&&P.allActions.length!==P.validActions.length&&F.push(this._showDisabled?{id:"hideMoreActions",label:(0,n.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(P,M,R))}:{id:"showMoreActions",label:(0,n.localize)(2,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(P,M,R))}),F}};e.CodeActionController=N,N.ID="editor.contrib.codeActionController",N.DECORATION=w.ModelDecorationOptions.register({description:"quickfix-highlight",className:T}),e.CodeActionController=N=I=Ie([ue(1,l.IMarkerService),ue(2,d.IContextKeyService),ue(3,r.IInstantiationService),ue(4,v.ILanguageFeaturesService),ue(5,o.IEditorProgressService),ue(6,m.ICommandService),ue(7,u.IConfigurationService),ue(8,h.IActionWidgetService),ue(9,r.IInstantiationService)],N),(0,b.registerThemingParticipant)((A,P)=>{((F,O)=>{O&&P.addRule(`.monaco-editor ${F} { background-color: ${O}; }`)})(".quickfix-edit-highlight",A.getColor(g.editorFindMatchHighlight));const R=A.getColor(g.editorFindMatchHighlightBorder);R&&P.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,c.isHighContrast)(A.type)?"dotted":"solid"} ${R}; box-sizing: border-box; }`)})}),define(ie[937],ne([1,0,88,11,16,20,151,683,14,127,276,379]),function(J,e,f,k,E,L,y,p,w,v,_,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function s(o){return w.ContextKeyExpr.regex(a.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,k.escapeRegExpCharacters)(o.value)+"\\b"))}const i={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:p.localize(0,null)},apply:{type:"string",description:p.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[p.localize(2,null),p.localize(3,null),p.localize(4,null)]},preferred:{type:"boolean",default:!1,description:p.localize(5,null)}}};function t(o,g,c,b,C=v.CodeActionTriggerSource.Default){if(o.hasModel()){const S=_.CodeActionController.get(o);S?.manualTriggerAtCurrentPosition(g,C,c,b)}}class n extends E.EditorAction{constructor(){super({id:y.quickFixCommandId,label:p.localize(6,null),alias:"Quick Fix...",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(g,c){return t(c,p.localize(7,null),void 0,void 0,v.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=n;class h extends E.EditorCommand{constructor(){super({id:y.codeActionCommandId,precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:i}]}})}runEditorCommand(g,c,b){const C=v.CodeActionCommandArgs.fromUser(b,{kind:f.HierarchicalKind.Empty,apply:"ifSingle"});return t(c,typeof b?.kind=="string"?C.preferred?p.localize(8,null,b.kind):p.localize(9,null,b.kind):C.preferred?p.localize(10,null):p.localize(11,null),{include:C.kind,includeSourceActions:!0,onlyIncludePreferredActions:C.preferred},C.apply)}}e.CodeActionCommand=h;class m extends E.EditorAction{constructor(){super({id:y.refactorCommandId,label:p.localize(12,null),alias:"Refactor...",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(v.CodeActionKind.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:i}]}})}run(g,c,b){const C=v.CodeActionCommandArgs.fromUser(b,{kind:v.CodeActionKind.Refactor,apply:"never"});return t(c,typeof b?.kind=="string"?C.preferred?p.localize(13,null,b.kind):p.localize(14,null,b.kind):C.preferred?p.localize(15,null):p.localize(16,null),{include:v.CodeActionKind.Refactor.contains(C.kind)?C.kind:f.HierarchicalKind.None,onlyIncludePreferredActions:C.preferred},C.apply,v.CodeActionTriggerSource.Refactor)}}e.RefactorAction=m;class u extends E.EditorAction{constructor(){super({id:y.sourceActionCommandId,label:p.localize(17,null),alias:"Source Action...",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(v.CodeActionKind.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:i}]}})}run(g,c,b){const C=v.CodeActionCommandArgs.fromUser(b,{kind:v.CodeActionKind.Source,apply:"never"});return t(c,typeof b?.kind=="string"?C.preferred?p.localize(18,null,b.kind):p.localize(19,null,b.kind):C.preferred?p.localize(20,null):p.localize(21,null),{include:v.CodeActionKind.Source.contains(C.kind)?C.kind:f.HierarchicalKind.None,includeSourceActions:!0,onlyIncludePreferredActions:C.preferred},C.apply,v.CodeActionTriggerSource.SourceAction)}}e.SourceAction=u;class d extends E.EditorAction{constructor(){super({id:y.organizeImportsCommandId,label:p.localize(22,null),alias:"Organize Imports",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(v.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(g,c){return t(c,p.localize(23,null),{include:v.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",v.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=d;class r extends E.EditorAction{constructor(){super({id:y.fixAllCommandId,label:p.localize(24,null),alias:"Fix All",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(v.CodeActionKind.SourceFixAll))})}run(g,c){return t(c,p.localize(25,null),{include:v.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",v.CodeActionTriggerSource.FixAll)}}e.FixAllAction=r;class l extends E.EditorAction{constructor(){super({id:y.autoFixCommandId,label:p.localize(26,null),alias:"Auto Fix...",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(v.CodeActionKind.QuickFix)),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(g,c){return t(c,p.localize(27,null),{include:v.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",v.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=l}),define(ie[938],ne([1,0,16,261,937,276,380,684,105,39]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(L.CodeActionController.ID,L.CodeActionController,3),(0,f.registerEditorContribution)(y.LightBulbWidget.ID,y.LightBulbWidget,4),(0,f.registerEditorAction)(E.QuickFixAction),(0,f.registerEditorAction)(E.RefactorAction),(0,f.registerEditorAction)(E.SourceAction),(0,f.registerEditorAction)(E.OrganizeImportsAction),(0,f.registerEditorAction)(E.AutoFixAction),(0,f.registerEditorAction)(E.FixAllAction),(0,f.registerEditorCommand)(new E.CodeActionCommand),v.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:p.localize(0,null),default:!0}}}),v.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:p.localize(1,null),default:!0}}})}),define(ie[939],ne([1,0,6,108,5,37,477]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class y{constructor(s,i,t){this.afterColumn=1073741824,this.afterLineNumber=s,this.heightInPx=i,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(s){this._lastHeight===void 0?this._lastHeight=s:this._lastHeight!==s&&(this._lastHeight=s,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class p{constructor(s,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=s,this._id=`codelens.widget-${p._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(s,i){this._commands.clear();const t=[];let n=!1;for(let h=0;h<s.length;h++){const m=s[h];if(m&&(n=!0,m.command)){const u=(0,k.renderLabelWithIcons)(m.command.title.trim());if(m.command.id){const d=`c${p._idPool++}`;t.push(f.$("a",{id:d,title:m.command.tooltip,role:"button"},...u)),this._commands.set(d,m.command)}else t.push(f.$("span",{title:m.command.tooltip},...u));h+1<s.length&&t.push(f.$("span",void 0,"\xA0|\xA0"))}}n?(f.reset(this._domNode,...t),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):f.reset(this._domNode,f.$("span",void 0,"no commands"))}getCommand(s){return s.parentElement===this._domNode?this._commands.get(s.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(s){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(s);this._widgetPosition={position:{lineNumber:s,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}p._idPool=0;class w{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(s,i){this._addDecorations.push(s),this._addDecorationsCallbacks.push(i)}removeDecoration(s){this._removeDecorations.push(s)}commit(s){const i=s.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,n=i.length;t<n;t++)this._addDecorationsCallbacks[t](i[t])}}e.CodeLensHelper=w;const v=L.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class _{constructor(s,i,t,n,h,m){this._isDisposed=!1,this._editor=i,this._data=s,this._decorationIds=[];let u;const d=[];this._data.forEach((r,l)=>{r.symbol.command&&d.push(r.symbol),t.addDecoration({range:r.symbol.range,options:v},o=>this._decorationIds[l]=o),u?u=E.Range.plusRange(u,r.symbol.range):u=E.Range.lift(r.symbol.range)}),this._viewZone=new y(u.startLineNumber-1,h,m),this._viewZoneId=n.addZone(this._viewZone),d.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(d,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new p(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(s,i){this._decorationIds.forEach(s.removeDecoration,s),this._decorationIds=[],i?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((s,i)=>{const t=this._editor.getModel().getDecorationRange(s),n=this._data[i].symbol;return!!(t&&E.Range.isEmpty(n.range)===t.isEmpty())})}updateCodeLensSymbols(s,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=s,this._data.forEach((t,n)=>{i.addDecoration({range:t.symbol.range,options:v},h=>this._decorationIds[n]=h)})}updateHeight(s,i){this._viewZone.heightInPx=s,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(s){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const t=s.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(s){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(s,!0);for(let i=0;i<this._data.length;i++){const t=s[i];if(t){const{symbol:n}=this._data[i];n.command=t.command||n.command}}}getCommand(s){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(s)}getLineNumber(){const s=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return s?s.startLineNumber:-1}update(s){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,s.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=_}),define(ie[940],ne([1,0,15,12,2,137,16,38,20,361,843,939,688,27,51,75,83,18]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let u=class{constructor(r,l,o,g,c,b){this._editor=r,this._languageFeaturesService=l,this._commandService=g,this._notificationService=c,this._codeLensCache=b,this._disposables=new E.DisposableStore,this._localToDispose=new E.DisposableStore,this._lenses=[],this._oldCodeLensModels=new E.DisposableStore,this._provideCodeLensDebounce=o.for(l.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=o.for(l.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new f.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(C=>{(C.hasChanged(50)||C.hasChanged(19)||C.hasChanged(18))&&this._updateLensStyle(),C.hasChanged(17)&&this._onModelChange()})),this._disposables.add(l.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var r;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(r=this._currentCodeLensModel)===null||r===void 0||r.dispose()}_getLayoutInfo(){const r=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let l=this._editor.getOption(19);return(!l||l<5)&&(l=this._editor.getOption(52)*.9|0),{fontSize:l,codeLensHeight:l*r|0}}_updateLensStyle(){const{codeLensHeight:r,fontSize:l}=this._getLayoutInfo(),o=this._editor.getOption(18),g=this._editor.getOption(50),{style:c}=this._editor.getContainerDomNode();c.setProperty("--vscode-editorCodeLens-lineHeight",`${r}px`),c.setProperty("--vscode-editorCodeLens-fontSize",`${l}px`),c.setProperty("--vscode-editorCodeLens-fontFeatureSettings",g.fontFeatureSettings),o&&(c.setProperty("--vscode-editorCodeLens-fontFamily",o),c.setProperty("--vscode-editorCodeLens-fontFamilyDefault",p.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(b=>{for(const C of this._lenses)C.updateHeight(r,b)})}_localDispose(){var r,l,o;(r=this._getCodeLensModelPromise)===null||r===void 0||r.cancel(),this._getCodeLensModelPromise=void 0,(l=this._resolveCodeLensesPromise)===null||l===void 0||l.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(o=this._currentCodeLensModel)===null||o===void 0||o.dispose()}_onModelChange(){this._localDispose();const r=this._editor.getModel();if(!r||!this._editor.getOption(17)||r.isTooLargeForTokenization())return;const l=this._codeLensCache.get(r);if(l&&this._renderCodeLensSymbols(l),!this._languageFeaturesService.codeLensProvider.has(r)){l&&(0,f.disposableTimeout)(()=>{const g=this._codeLensCache.get(r);l===g&&(this._codeLensCache.delete(r),this._onModelChange())},30*1e3,this._localToDispose);return}for(const g of this._languageFeaturesService.codeLensProvider.all(r))if(typeof g.onDidChange=="function"){const c=g.onDidChange(()=>o.schedule());this._localToDispose.add(c)}const o=new f.RunOnceScheduler(()=>{var g;const c=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=(0,f.createCancelablePromise)(b=>(0,v.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,r,b)),this._getCodeLensModelPromise.then(b=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=b,this._codeLensCache.put(r,b);const C=this._provideCodeLensDebounce.update(r,Date.now()-c);o.delay=C,this._renderCodeLensSymbols(b),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(r));this._localToDispose.add(o),this._localToDispose.add((0,E.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var g;this._editor.changeDecorations(c=>{this._editor.changeViewZones(b=>{const C=[];let S=-1;this._lenses.forEach(I=>{!I.isValid()||S===I.getLineNumber()?C.push(I):(I.update(b),S=I.getLineNumber())});const D=new a.CodeLensHelper;C.forEach(I=>{I.dispose(D,b),this._lenses.splice(this._lenses.indexOf(I),1)}),D.commit(c)})}),o.schedule(),this._resolveCodeLensesScheduler.cancel(),(g=this._resolveCodeLensesPromise)===null||g===void 0||g.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{o.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{o.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,E.toDisposable)(()=>{if(this._editor.getModel()){const g=L.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(c=>{this._editor.changeViewZones(b=>{this._disposeAllLenses(c,b)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type!==9)return;let c=g.target.element;if(c?.tagName==="SPAN"&&(c=c.parentElement),c?.tagName==="A")for(const b of this._lenses){const C=b.getCommand(c);if(C){this._commandService.executeCommand(C.id,...C.arguments||[]).catch(S=>this._notificationService.error(S));break}}})),o.schedule()}_disposeAllLenses(r,l){const o=new a.CodeLensHelper;for(const g of this._lenses)g.dispose(o,l);r&&o.commit(r),this._lenses.length=0}_renderCodeLensSymbols(r){if(!this._editor.hasModel())return;const l=this._editor.getModel().getLineCount(),o=[];let g;for(const C of r.lenses){const S=C.symbol.range.startLineNumber;S<1||S>l||(g&&g[g.length-1].symbol.range.startLineNumber===S?g.push(C):(g=[C],o.push(g)))}if(!o.length&&!this._lenses.length)return;const c=L.StableEditorScrollState.capture(this._editor),b=this._getLayoutInfo();this._editor.changeDecorations(C=>{this._editor.changeViewZones(S=>{const D=new a.CodeLensHelper;let I=0,T=0;for(;T<o.length&&I<this._lenses.length;){const N=o[T][0].symbol.range.startLineNumber,A=this._lenses[I].getLineNumber();A<N?(this._lenses[I].dispose(D,S),this._lenses.splice(I,1)):A===N?(this._lenses[I].updateCodeLensSymbols(o[T],D),T++,I++):(this._lenses.splice(I,0,new a.CodeLensWidget(o[T],this._editor,D,S,b.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(D,S),this._lenses.splice(I,1);for(;T<o.length;)this._lenses.push(new a.CodeLensWidget(o[T],this._editor,D,S,b.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;D.commit(C)})}),c.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var r;(r=this._resolveCodeLensesPromise)===null||r===void 0||r.cancel(),this._resolveCodeLensesPromise=void 0;const l=this._editor.getModel();if(!l)return;const o=[],g=[];if(this._lenses.forEach(C=>{const S=C.computeIfNecessary(l);S&&(o.push(S),g.push(C))}),o.length===0)return;const c=Date.now(),b=(0,f.createCancelablePromise)(C=>{const S=o.map((D,I)=>{const T=new Array(D.length),N=D.map((A,P)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(l,A.symbol,C)).then(M=>{T[P]=M},k.onUnexpectedExternalError):(T[P]=A.symbol,Promise.resolve(void 0)));return Promise.all(N).then(()=>{!C.isCancellationRequested&&!g[I].isDisposed()&&g[I].updateCommands(T)})});return Promise.all(S)});this._resolveCodeLensesPromise=b,this._resolveCodeLensesPromise.then(()=>{const C=this._resolveCodeLensesDebounce.update(l,Date.now()-c);this._resolveCodeLensesScheduler.delay=C,this._currentCodeLensModel&&this._codeLensCache.put(l,this._currentCodeLensModel),this._oldCodeLensModels.clear(),b===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},C=>{(0,k.onUnexpectedError)(C),b===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var r;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,!((r=this._currentCodeLensModel)===null||r===void 0)&&r.isDisposed?void 0:this._currentCodeLensModel}};e.CodeLensContribution=u,u.ID="css.editor.codeLens",e.CodeLensContribution=u=Ie([ue(1,m.ILanguageFeaturesService),ue(2,h.ILanguageFeatureDebounceService),ue(3,i.ICommandService),ue(4,t.INotificationService),ue(5,_.ICodeLensCache)],u),(0,y.registerEditorContribution)(u.ID,u,1),(0,y.registerEditorAction)(class extends y.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:w.EditorContextKeys.hasCodeLensProvider,label:(0,s.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}async run(r,l){if(!l.hasModel())return;const o=r.get(n.IQuickInputService),g=r.get(i.ICommandService),c=r.get(t.INotificationService),b=l.getSelection().positionLineNumber,C=l.getContribution(u.ID);if(!C)return;const S=await C.getModel();if(!S)return;const D=[];for(const N of S.lenses)N.symbol.command&&N.symbol.range.startLineNumber===b&&D.push({label:N.symbol.command.title,command:N.symbol.command});if(D.length===0)return;const I=await o.pick(D,{canPickMany:!1,placeHolder:(0,s.localize)(1,null)});if(!I)return;let T=I.command;if(S.isDisposed){const N=await C.getModel(),A=N?.lenses.find(P=>{var M;return P.symbol.range.startLineNumber===b&&((M=P.symbol.command)===null||M===void 0?void 0:M.title)===T.title});if(!A||!A.symbol.command)return;T=A.symbol.command}try{await g.executeCommand(T.id,...T.arguments||[])}catch(N){c.error(N)}}})}),define(ie[396],ne([1,0,15,34,12,7,2,63,11,175,16,5,37,83,18,373,25]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let u=m=class extends y.Disposable{constructor(l,o,g,c){super(),this._editor=l,this._configurationService=o,this._languageFeaturesService=g,this._localToDispose=this._register(new y.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new v.DynamicCssRules(this._editor),this._decoratorLimitReporter=new d,this._colorDecorationClassRefs=this._register(new y.DisposableStore),this._debounceInformation=c.for(g.colorProvider,"Document Colors",{min:m.RECOMPUTE_TIME}),this._register(l.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(l.onDidChangeModelLanguage(()=>this.updateColors())),this._register(g.colorProvider.onDidChange(()=>this.updateColors())),this._register(l.onDidChangeConfiguration(b=>{const C=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147);const S=C!==this._isColorDecoratorsEnabled||b.hasChanged(21),D=b.hasChanged(147);(S||D)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147),this.updateColors()}isEnabled(){const l=this._editor.getModel();if(!l)return!1;const o=l.getLanguageId(),g=this._configurationService.getValue(o);if(g&&typeof g=="object"){const c=g.colorDecorators;if(c&&c.enable!==void 0&&!c.enable)return c.enable}return this._editor.getOption(20)}static get(l){return l.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const l=this._editor.getModel();!l||!this._languageFeaturesService.colorProvider.has(l)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new f.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(l)))})),this.beginCompute())}async beginCompute(){this._computePromise=(0,f.createCancelablePromise)(async l=>{const o=this._editor.getModel();if(!o)return[];const g=new p.StopWatch(!1),c=await(0,n.getColors)(this._languageFeaturesService.colorProvider,o,l,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(o,g.elapsed()),c});try{const l=await this._computePromise;this.updateDecorations(l),this.updateColorDecorators(l),this._computePromise=null}catch(l){(0,E.onUnexpectedError)(l)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(l){const o=l.map(g=>({range:{startLineNumber:g.colorInfo.range.startLineNumber,startColumn:g.colorInfo.range.startColumn,endLineNumber:g.colorInfo.range.endLineNumber,endColumn:g.colorInfo.range.endColumn},options:s.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(g=>{this._decorationsIds=g.deltaDecorations(this._decorationsIds,o),this._colorDatas=new Map,this._decorationsIds.forEach((c,b)=>this._colorDatas.set(c,l[b]))})}updateColorDecorators(l){this._colorDecorationClassRefs.clear();const o=[],g=this._editor.getOption(21);for(let b=0;b<l.length&&o.length<g;b++){const{red:C,green:S,blue:D,alpha:I}=l[b].colorInfo.color,T=new k.RGBA(Math.round(C*255),Math.round(S*255),Math.round(D*255),I),N=`rgba(${T.r}, ${T.g}, ${T.b}, ${T.a})`,A=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:N}));o.push({range:{startLineNumber:l[b].colorInfo.range.startLineNumber,startColumn:l[b].colorInfo.range.startColumn,endLineNumber:l[b].colorInfo.range.endLineNumber,endColumn:l[b].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:w.noBreakWhitespace,inlineClassName:`${A.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const c=g<l.length?g:!1;this._decoratorLimitReporter.update(l.length,c),this._colorDecoratorIds.set(o)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(l){const o=this._editor.getModel();if(!o)return null;const g=o.getDecorationsInRange(a.Range.fromPositions(l,l)).filter(c=>this._colorDatas.has(c.id));return g.length===0?null:this._colorDatas.get(g[0].id)}isColorDecoration(l){return this._colorDecoratorIds.has(l)}};e.ColorDetector=u,u.ID="editor.contrib.colorDetector",u.RECOMPUTE_TIME=1e3,e.ColorDetector=u=m=Ie([ue(1,h.IConfigurationService),ue(2,t.ILanguageFeaturesService),ue(3,i.ILanguageFeatureDebounceService)],u);class d{constructor(){this._onDidChange=new L.Emitter,this._computed=0,this._limited=!1}update(l,o){(l!==this._computed||o!==this._limited)&&(this._computed=l,this._limited=o,this._onDidChange.fire())}}e.DecoratorLimitReporter=d,(0,_.registerEditorContribution)(u.ID,u,1)}),define(ie[397],ne([1,0,15,19,34,2,5,373,396,579,884,23,6]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(o,g,c,b){this.owner=o,this.range=g,this.model=c,this.provider=b,this.forceShowAtRange=!0}isValidForHoverAnchor(o){return o.type===1&&this.range.startColumn<=o.range.startColumn&&this.range.endColumn>=o.range.endColumn}}e.ColorHover=i;let t=class{constructor(o,g){this._editor=o,this._themeService=g,this.hoverOrdinal=2}computeSync(o,g){return[]}computeAsync(o,g,c){return f.AsyncIterableObject.fromPromise(this._computeAsync(o,g,c))}async _computeAsync(o,g,c){if(!this._editor.hasModel())return[];const b=w.ColorDetector.get(this._editor);if(!b)return[];for(const C of g){if(!b.isColorDecoration(C))continue;const S=b.getColorData(C.range.getStartPosition());if(S)return[await m(this,this._editor.getModel(),S.colorInfo,S.provider)]}return[]}renderHoverParts(o,g){return u(this,this._editor,this._themeService,g,o)}};e.ColorHoverParticipant=t,e.ColorHoverParticipant=t=Ie([ue(1,a.IThemeService)],t);class n{constructor(o,g,c,b){this.owner=o,this.range=g,this.model=c,this.provider=b}}e.StandaloneColorPickerHover=n;let h=class{constructor(o,g){this._editor=o,this._themeService=g,this._color=null}async createColorHover(o,g,c){if(!this._editor.hasModel()||!w.ColorDetector.get(this._editor))return null;const C=await(0,p.getColors)(c,this._editor.getModel(),k.CancellationToken.None);let S=null,D=null;for(const A of C){const P=A.colorInfo;y.Range.containsRange(P.range,o.range)&&(S=P,D=A.provider)}const I=S??o,T=D??g,N=!!S;return{colorHover:await m(this,this._editor.getModel(),I,T),foundInEditor:N}}async updateEditorModel(o){if(!this._editor.hasModel())return;const g=o.model;let c=new y.Range(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);this._color&&(await r(this._editor.getModel(),g,this._color,c,o),c=d(this._editor,c,g))}renderHoverParts(o,g){return u(this,this._editor,this._themeService,g,o)}set color(o){this._color=o}get color(){return this._color}};e.StandaloneColorPickerParticipant=h,e.StandaloneColorPickerParticipant=h=Ie([ue(1,a.IThemeService)],h);async function m(l,o,g,c){const b=o.getValueInRange(g.range),{red:C,green:S,blue:D,alpha:I}=g.color,T=new E.RGBA(Math.round(C*255),Math.round(S*255),Math.round(D*255),I),N=new E.Color(T),A=await(0,p.getColorPresentations)(o,g,c,k.CancellationToken.None),P=new v.ColorPickerModel(N,[],0);return P.colorPresentations=A||[],P.guessColorPresentation(N,b),l instanceof t?new i(l,y.Range.lift(g.range),P,c):new n(l,y.Range.lift(g.range),P,c)}function u(l,o,g,c,b){if(c.length===0||!o.hasModel())return L.Disposable.None;if(b.setMinimumDimensions){const P=o.getOption(67)+8;b.setMinimumDimensions(new s.Dimension(302,P))}const C=new L.DisposableStore,S=c[0],D=o.getModel(),I=S.model,T=C.add(new _.ColorPickerWidget(b.fragment,I,o.getOption(143),g,l instanceof h));b.setColorPicker(T);let N=!1,A=new y.Range(S.range.startLineNumber,S.range.startColumn,S.range.endLineNumber,S.range.endColumn);if(l instanceof h){const P=c[0].model.color;l.color=P,r(D,I,P,A,S),C.add(I.onColorFlushed(M=>{l.color=M}))}else C.add(I.onColorFlushed(async P=>{await r(D,I,P,A,S),N=!0,A=d(o,A,I)}));return C.add(I.onDidChangeColor(P=>{r(D,I,P,A,S)})),C.add(o.onDidChangeModelContent(P=>{N?N=!1:(b.hide(),o.focus())})),C}function d(l,o,g){var c,b;const C=[],S=(c=g.presentation.textEdit)!==null&&c!==void 0?c:{range:o,text:g.presentation.label,forceMoveMarkers:!1};C.push(S),g.presentation.additionalTextEdits&&C.push(...g.presentation.additionalTextEdits);const D=y.Range.lift(S.range),I=l.getModel()._setTrackedRange(null,D,3);return l.executeEdits("colorpicker",C),l.pushUndoStop(),(b=l.getModel()._getTrackedRange(I))!==null&&b!==void 0?b:D}async function r(l,o,g,c,b){const C=await(0,p.getColorPresentations)(l,{range:c,color:{red:g.rgba.r/255,green:g.rgba.g/255,blue:g.rgba.b/255,alpha:g.rgba.a}},b.provider,k.CancellationToken.None);o.colorPresentations=C||[]}}),define(ie[941],ne([1,0,2,17,16,9,5,24,37,581,478]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function _(s){return k.isMacintosh?s.altKey:s.ctrlKey}class a extends f.Disposable{constructor(i){super(),this._editor=i,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(35)||this._editor.getOption(22)||(_(i)&&(this._modifierPressed=!0),this._mouseDown&&_(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(35)||this._editor.getOption(22)||(_(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===a.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){const t=i.target;if(this._dragSelection===null){const h=(this._editor.getSelections()||[]).filter(m=>t.position&&m.containsPosition(t.position));if(h.length===1)this._dragSelection=h[0];else return}_(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){const t=new L.Position(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let n=null;if(i.event.shiftKey){const h=this._editor.getSelection();if(h){const{selectionStartLineNumber:m,selectionStartColumn:u}=h;n=[new p.Selection(m,u,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map(h=>h.containsPosition(t)?new p.Selection(t.lineNumber,t.column,t.lineNumber,t.column):h);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(_(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(a.ID,new v.DragAndDropCommand(this._dragSelection,t,_(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){this._dndDecorationIds.set([{range:new y.Range(i.lineNumber,i.column,i.lineNumber,i.column),options:a._DECORATION_OPTIONS}]),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=a,a.ID="editor.contrib.dragAndDrop",a.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,a._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,E.registerEditorContribution)(a.ID,a,2)}),define(ie[942],ne([1,0,5,43,37,32,23]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(v){this._editor=v,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const v=this._findScopeDecorationIds.map(_=>this._editor.getModel().getDecorationRange(_)).filter(_=>!!_);if(v.length)return v}return null}getStartPosition(){return this._startPosition}setStartPosition(v){this._startPosition=v,this.setCurrentFindMatch(null)}_getDecorationIndex(v){const _=this._decorations.indexOf(v);return _>=0?_+1:1}getDecorationRangeAt(v){const _=v<this._decorations.length?this._decorations[v]:null;return _?this._editor.getModel().getDecorationRange(_):null}getCurrentMatchesPosition(v){const _=this._editor.getModel().getDecorationsInRange(v);for(const a of _){const s=a.options;if(s===p._FIND_MATCH_DECORATION||s===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(a.id)}return 0}setCurrentFindMatch(v){let _=null,a=0;if(v)for(let s=0,i=this._decorations.length;s<i;s++){const t=this._editor.getModel().getDecorationRange(this._decorations[s]);if(v.equalsRange(t)){_=this._decorations[s],a=s+1;break}}return(this._highlightedDecorationId!==null||_!==null)&&this._editor.changeDecorations(s=>{if(this._highlightedDecorationId!==null&&(s.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),_!==null&&(this._highlightedDecorationId=_,s.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),_!==null){let i=this._editor.getModel().getDecorationRange(_);if(i.startLineNumber!==i.endLineNumber&&i.endColumn===1){const t=i.endLineNumber-1,n=this._editor.getModel().getLineMaxColumn(t);i=new f.Range(i.startLineNumber,i.startColumn,t,n)}this._rangeHighlightDecorationId=s.addDecoration(i,p._RANGE_HIGHLIGHT_DECORATION)}}),a}set(v,_){this._editor.changeDecorations(a=>{let s=p._FIND_MATCH_DECORATION;const i=[];if(v.length>1e3){s=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const n=this._editor.getModel().getLineCount(),m=this._editor.getLayoutInfo().height/n,u=Math.max(2,Math.ceil(3/m));let d=v[0].range.startLineNumber,r=v[0].range.endLineNumber;for(let l=1,o=v.length;l<o;l++){const g=v[l].range;r+u>=g.startLineNumber?g.endLineNumber>r&&(r=g.endLineNumber):(i.push({range:new f.Range(d,1,r,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=g.startLineNumber,r=g.endLineNumber)}i.push({range:new f.Range(d,1,r,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const t=new Array(v.length);for(let n=0,h=v.length;n<h;n++)t[n]={range:v[n].range,options:s};this._decorations=a.deltaDecorations(this._decorations,t),this._overviewRulerApproximateDecorations=a.deltaDecorations(this._overviewRulerApproximateDecorations,i),this._rangeHighlightDecorationId&&(a.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(n=>a.removeDecoration(n)),this._findScopeDecorationIds=[]),_?.length&&(this._findScopeDecorationIds=_.map(n=>a.addDecoration(n,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(v){if(this._decorations.length===0)return null;for(let _=this._decorations.length-1;_>=0;_--){const a=this._decorations[_],s=this._editor.getModel().getDecorationRange(a);if(!(!s||s.endLineNumber>v.lineNumber)){if(s.endLineNumber<v.lineNumber)return s;if(!(s.endColumn>v.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(v){if(this._decorations.length===0)return null;for(let _=0,a=this._decorations.length;_<a;_++){const s=this._decorations[_],i=this._editor.getModel().getDecorationRange(s);if(!(!i||i.startLineNumber<v.lineNumber)){if(i.startLineNumber>v.lineNumber)return i;if(!(i.startColumn<v.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let v=[];return v=v.concat(this._decorations),v=v.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&v.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&v.push(this._rangeHighlightDecorationId),v}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=E.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(L.minimapFindMatch),position:1}}),p._FIND_MATCH_DECORATION=E.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(L.minimapFindMatch),position:1}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=E.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=E.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,y.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=E.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=E.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ie[211],ne([1,0,66,15,2,140,9,5,24,193,942,582,583,14]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new i.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new i.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new i.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const t=240;class n{constructor(m,u){this._toDispose=new E.DisposableStore,this._editor=m,this._state=u,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new _.FindDecorations(m),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(d=>{(d.reason===3||d.reason===5||d.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(d=>{this._ignoreModelContentChanged||(d.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,E.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(m){this._isDisposed||this._editor.hasModel()&&(m.searchString||m.isReplaceRevealed||m.isRegex||m.wholeWord||m.matchCase||m.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{m.searchScope?this.research(m.moveCursor,this._state.searchScope):this.research(m.moveCursor)},t)):m.searchScope?this.research(m.moveCursor,this._state.searchScope):this.research(m.moveCursor))}static _getSearchRange(m,u){return u||m.getFullModelRange()}research(m,u){let d=null;typeof u<"u"?u!==null&&(Array.isArray(u)?d=u:d=[u]):d=this._decorations.getFindScopes(),d!==null&&(d=d.map(g=>{if(g.startLineNumber!==g.endLineNumber){let c=g.endLineNumber;return g.endColumn===1&&(c=c-1),new p.Range(g.startLineNumber,1,c,this._editor.getModel().getLineMaxColumn(c))}return g}));const r=this._findMatches(d,!1,e.MATCHES_LIMIT);this._decorations.set(r,d);const l=this._editor.getSelection();let o=this._decorations.getCurrentMatchesPosition(l);if(o===0&&r.length>0){const g=(0,f.findFirstIdxMonotonousOrArrLen)(r.map(c=>c.range),c=>p.Range.compareRangesUsingStarts(c,l)>=0);o=g>0?g-1+1:o}this._state.changeMatchInfo(o,this._decorations.getCount(),void 0),m&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const m=this._decorations.getFindScope();return m&&this._editor.revealRangeInCenterIfOutsideViewport(m,0),!0}return!1}_setCurrentFindMatch(m){const u=this._decorations.setCurrentFindMatch(m);this._state.changeMatchInfo(u,this._decorations.getCount(),m),this._editor.setSelection(m),this._editor.revealRangeInCenterIfOutsideViewport(m,0)}_prevSearchPosition(m){const u=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:d,column:r}=m;const l=this._editor.getModel();return u||r===1?(d===1?d=l.getLineCount():d--,r=l.getLineMaxColumn(d)):r--,new y.Position(d,r)}_moveToPrevMatch(m,u=!1){if(!this._state.canNavigateBack()){const C=this._decorations.matchAfterPosition(m);C&&this._setCurrentFindMatch(C);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let C=this._decorations.matchBeforePosition(m);C&&C.isEmpty()&&C.getStartPosition().equals(m)&&(m=this._prevSearchPosition(m),C=this._decorations.matchBeforePosition(m)),C&&this._setCurrentFindMatch(C);return}if(this._cannotFind())return;const d=this._decorations.getFindScope(),r=n._getSearchRange(this._editor.getModel(),d);r.getEndPosition().isBefore(m)&&(m=r.getEndPosition()),m.isBefore(r.getStartPosition())&&(m=r.getEndPosition());const{lineNumber:l,column:o}=m,g=this._editor.getModel();let c=new y.Position(l,o),b=g.findPreviousMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1);if(b&&b.range.isEmpty()&&b.range.getStartPosition().equals(c)&&(c=this._prevSearchPosition(c),b=g.findPreviousMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1)),!!b){if(!u&&!r.containsRange(b.range))return this._moveToPrevMatch(b.range.getStartPosition(),!0);this._setCurrentFindMatch(b.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(m){const u=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:d,column:r}=m;const l=this._editor.getModel();return u||r===l.getLineMaxColumn(d)?(d===l.getLineCount()?d=1:d++,r=1):r++,new y.Position(d,r)}_moveToNextMatch(m){if(!this._state.canNavigateForward()){const d=this._decorations.matchBeforePosition(m);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let d=this._decorations.matchAfterPosition(m);d&&d.isEmpty()&&d.getStartPosition().equals(m)&&(m=this._nextSearchPosition(m),d=this._decorations.matchAfterPosition(m)),d&&this._setCurrentFindMatch(d);return}const u=this._getNextMatch(m,!1,!0);u&&this._setCurrentFindMatch(u.range)}_getNextMatch(m,u,d,r=!1){if(this._cannotFind())return null;const l=this._decorations.getFindScope(),o=n._getSearchRange(this._editor.getModel(),l);o.getEndPosition().isBefore(m)&&(m=o.getStartPosition()),m.isBefore(o.getStartPosition())&&(m=o.getStartPosition());const{lineNumber:g,column:c}=m,b=this._editor.getModel();let C=new y.Position(g,c),S=b.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u);return d&&S&&S.range.isEmpty()&&S.range.getStartPosition().equals(C)&&(C=this._nextSearchPosition(C),S=b.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u)),S?!r&&!o.containsRange(S.range)?this._getNextMatch(S.range.getEndPosition(),u,d,!0):S:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(m){const u=this._decorations.getDecorationRangeAt(m);u&&this._setCurrentFindMatch(u)}moveToMatch(m){this._moveToMatch(m)}_getReplacePattern(){return this._state.isRegex?(0,s.parseReplaceString)(this._state.replaceString):s.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const m=this._getReplacePattern(),u=this._editor.getSelection(),d=this._getNextMatch(u.getStartPosition(),!0,!1);if(d)if(u.equalsRange(d.range)){const r=m.buildReplaceString(d.matches,this._state.preserveCase),l=new L.ReplaceCommand(u,r);this._executeEditorCommand("replace",l),this._decorations.setStartPosition(new y.Position(u.startLineNumber,u.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(d.range)}_findMatches(m,u,d){const r=(m||[null]).map(l=>n._getSearchRange(this._editor.getModel(),l));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u,d)}replaceAll(){if(!this._hasMatches())return;const m=this._decorations.getFindScopes();m===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(m),this.research(!1)}_largeReplaceAll(){const u=new v.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null).parseSearchRequest();if(!u)return;let d=u.regex;if(!d.multiline){let S="mu";d.ignoreCase&&(S+="i"),d.global&&(S+="g"),d=new RegExp(d.source,S)}const r=this._editor.getModel(),l=r.getValue(1),o=r.getFullModelRange(),g=this._getReplacePattern();let c;const b=this._state.preserveCase;g.hasReplacementPatterns||b?c=l.replace(d,function(){return g.buildReplaceString(arguments,b)}):c=l.replace(d,g.buildReplaceString(null,b));const C=new L.ReplaceCommandThatPreservesSelection(o,c,this._editor.getSelection());this._executeEditorCommand("replaceAll",C)}_regularReplaceAll(m){const u=this._getReplacePattern(),d=this._findMatches(m,u.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let o=0,g=d.length;o<g;o++)r[o]=u.buildReplaceString(d[o].matches,this._state.preserveCase);const l=new a.ReplaceAllCommand(this._editor.getSelection(),d.map(o=>o.range),r);this._executeEditorCommand("replaceAll",l)}selectAllMatches(){if(!this._hasMatches())return;const m=this._decorations.getFindScopes();let d=this._findMatches(m,!1,1073741824).map(l=>new w.Selection(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn));const r=this._editor.getSelection();for(let l=0,o=d.length;l<o;l++)if(d[l].equalsRange(r)){d=[r].concat(d.slice(0,l)).concat(d.slice(l+1));break}this._editor.setSelections(d)}_executeEditorCommand(m,u){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(m,u),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=n}),define(ie[943],ne([1,0,6,342,78,15,211,32,44,480]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class v extends E.Widget{constructor(a,s,i){super(),this._hideSoon=this._register(new L.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=a,this._state=s,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const t={inputActiveOptionBorder:(0,p.asCssVariable)(p.inputActiveOptionBorder),inputActiveOptionForeground:(0,p.asCssVariable)(p.inputActiveOptionForeground),inputActiveOptionBackground:(0,p.asCssVariable)(p.inputActiveOptionBackground)},n=this._register((0,w.createInstantHoverDelegate)());this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:n,...t})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:n,...t})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:n,...t})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(h=>{let m=!1;h.isRegex&&(this.regex.checked=this._state.isRegex,m=!0),h.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,m=!0),h.matchCase&&(this.caseSensitive.checked=this._state.matchCase,m=!0),!this._state.isRevealed&&m&&this._revealTemporarily()})),this._register(f.addDisposableListener(this._domNode,f.EventType.MOUSE_LEAVE,h=>this._onMouseLeave())),this._register(f.addDisposableListener(this._domNode,"mouseover",h=>this._onMouseOver()))}_keybindingLabelFor(a){const s=this._keybindingService.lookupKeybinding(a);return s?` (${s.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return v.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=v,v.ID="editor.contrib.findOptionsWidget"}),define(ie[944],ne([1,0,7,2,5,211]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function y(w,v){return w===1?!0:w===2?!1:v}class p extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return y(this._isRegexOverride,this._isRegex)}get wholeWord(){return y(this._wholeWordOverride,this._wholeWord)}get matchCase(){return y(this._matchCaseOverride,this._matchCase)}get preserveCase(){return y(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new f.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(v,_,a){const s={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let i=!1;_===0&&(v=0),v>_&&(v=_),this._matchesPosition!==v&&(this._matchesPosition=v,s.matchesPosition=!0,i=!0),this._matchesCount!==_&&(this._matchesCount=_,s.matchesCount=!0,i=!0),typeof a<"u"&&(E.Range.equalsRange(this._currentMatch,a)||(this._currentMatch=a,s.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(s)}change(v,_,a=!0){var s;const i={moveCursor:_,updateHistory:a,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;const n=this.isRegex,h=this.wholeWord,m=this.matchCase,u=this.preserveCase;typeof v.searchString<"u"&&this._searchString!==v.searchString&&(this._searchString=v.searchString,i.searchString=!0,t=!0),typeof v.replaceString<"u"&&this._replaceString!==v.replaceString&&(this._replaceString=v.replaceString,i.replaceString=!0,t=!0),typeof v.isRevealed<"u"&&this._isRevealed!==v.isRevealed&&(this._isRevealed=v.isRevealed,i.isRevealed=!0,t=!0),typeof v.isReplaceRevealed<"u"&&this._isReplaceRevealed!==v.isReplaceRevealed&&(this._isReplaceRevealed=v.isReplaceRevealed,i.isReplaceRevealed=!0,t=!0),typeof v.isRegex<"u"&&(this._isRegex=v.isRegex),typeof v.wholeWord<"u"&&(this._wholeWord=v.wholeWord),typeof v.matchCase<"u"&&(this._matchCase=v.matchCase),typeof v.preserveCase<"u"&&(this._preserveCase=v.preserveCase),typeof v.searchScope<"u"&&(!((s=v.searchScope)===null||s===void 0)&&s.every(d=>{var r;return(r=this._searchScope)===null||r===void 0?void 0:r.some(l=>!E.Range.equalsRange(l,d))})||(this._searchScope=v.searchScope,i.searchScope=!0,t=!0)),typeof v.loop<"u"&&this._loop!==v.loop&&(this._loop=v.loop,i.loop=!0,t=!0),typeof v.isSearching<"u"&&this._isSearching!==v.isSearching&&(this._isSearching=v.isSearching,i.isSearching=!0,t=!0),typeof v.filters<"u"&&(this._filters?this._filters.update(v.filters):this._filters=v.filters,i.filters=!0,t=!0),this._isRegexOverride=typeof v.isRegexOverride<"u"?v.isRegexOverride:0,this._wholeWordOverride=typeof v.wholeWordOverride<"u"?v.wholeWordOverride:0,this._matchCaseOverride=typeof v.matchCaseOverride<"u"?v.matchCaseOverride:0,this._preserveCaseOverride=typeof v.preserveCaseOverride<"u"?v.preserveCaseOverride:0,n!==this.isRegex&&(t=!0,i.isRegex=!0),h!==this.wholeWord&&(t=!0,i.wholeWord=!0),m!==this.matchCase&&(t=!0,i.matchCase=!0),u!==this.preserveCase&&(t=!0,i.preserveCase=!0),t&&this._onFindReplaceStateChange.fire(i)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=L.MATCHES_LIMIT}}e.FindReplaceState=p}),define(ie[945],ne([1,0,6,45,166,165,78,15,26,12,2,17,11,5,211,701,376,798,32,85,23,31,94,21,106,80,44,481]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const S=(0,d.registerIcon)("find-selection",w.Codicon.selection,n.localize(0,null)),D=(0,d.registerIcon)("find-collapsed",w.Codicon.chevronRight,n.localize(1,null)),I=(0,d.registerIcon)("find-expanded",w.Codicon.chevronDown,n.localize(2,null));e.findReplaceIcon=(0,d.registerIcon)("find-replace",w.Codicon.replace,n.localize(3,null)),e.findReplaceAllIcon=(0,d.registerIcon)("find-replace-all",w.Codicon.replaceAll,n.localize(4,null)),e.findPreviousMatchIcon=(0,d.registerIcon)("find-previous-match",w.Codicon.arrowUp,n.localize(5,null)),e.findNextMatchIcon=(0,d.registerIcon)("find-next-match",w.Codicon.arrowDown,n.localize(6,null));const T=n.localize(7,null),N=n.localize(8,null),A=n.localize(9,null),P=n.localize(10,null),M=n.localize(11,null),R=n.localize(12,null),F=n.localize(13,null),O=n.localize(14,null),B=n.localize(15,null),H=n.localize(16,null),V=n.localize(17,null),q=n.localize(18,null),z=n.localize(19,null,t.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=n.localize(20,null),e.NLS_NO_RESULTS=n.localize(21,null);const U=419,re=275-54;let x=69;const Q=33,X="ctrlEnterReplaceAll.windows.donotask",Y=a.isMacintosh?256:2048;class ae{constructor(te){this.afterLineNumber=te,this.heightInPx=Q,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=ae;function ce(se,te,$){const W=!!te.match(/\n/);if($&&W&&$.selectionStart>0){se.stopPropagation();return}}function he(se,te,$){const W=!!te.match(/\n/);if($&&W&&$.selectionEnd<$.value.length){se.stopPropagation();return}}class pe extends y.Widget{constructor(te,$,W,j,K,G,ee,oe,de){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=te,this._controller=$,this._state=W,this._contextViewProvider=j,this._keybindingService=K,this._contextKeyService=G,this._storageService=oe,this._notificationService=de,this._ctrlEnterReplaceAllWarningPrompted=!!oe.getBoolean(X,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new p.Delayer(500),this._register((0,_.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(le=>this._onStateChanged(le))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(le=>{if(le.hasChanged(91)&&(this._codeEditor.getOption(91)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),le.hasChanged(145)&&this._tryUpdateWidgetWidth(),le.hasChanged(2)&&this.updateAccessibilitySupport(),le.hasChanged(41)){const ge=this._codeEditor.getOption(41).loop;this._state.change({loop:ge},!1);const ve=this._codeEditor.getOption(41).addExtraSpaceOnTop;ve&&!this._viewZone&&(this._viewZone=new ae(0),this._showViewZone()),!ve&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const le=await this._controller.getGlobalBufferTerm();le&&le!==this._state.searchString&&(this._state.change({searchString:le},!1),this._findInput.select())}})),this._findInputFocused=t.CONTEXT_FIND_INPUT_FOCUSED.bindTo(G),this._findFocusTracker=this._register(f.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(G),this._replaceFocusTracker=this._register(f.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new ae(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(le=>{if(le.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return pe.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(te){if(te.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(te.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),te.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),te.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(91)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(te.isRevealed||te.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),te.isRegex&&this._findInput.setRegex(this._state.isRegex),te.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),te.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),te.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),te.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),te.searchString||te.matchesCount||te.matchesPosition){const $=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",$),this._updateMatchesCount(),this._updateButtons()}(te.searchString||te.currentMatch)&&this._layoutViewZone(),te.updateHistory&&this._delayedUpdateHistory(),te.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,v.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=x+"px",this._state.matchesCount>=t.MATCHES_LIMIT?this._matchesCount.title=z:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let te;if(this._state.matchesCount>0){let $=String(this._state.matchesCount);this._state.matchesCount>=t.MATCHES_LIMIT&&($+="+");let W=String(this._state.matchesPosition);W==="0"&&(W="?"),te=s.format(e.NLS_MATCHES_LOCATION,W,$)}else te=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(te)),(0,k.alert)(this._getAriaLabel(te,this._state.currentMatch,this._state.searchString)),x=Math.max(x,this._matchesCount.clientWidth)}_getAriaLabel(te,$,W){if(te===e.NLS_NO_RESULTS)return W===""?n.localize(22,null,te):n.localize(23,null,te,W);if($){const j=n.localize(24,null,te,W,$.startLineNumber+":"+$.startColumn),K=this._codeEditor.getModel();return K&&$.startLineNumber<=K.getLineCount()&&$.startLineNumber>=1?`${K.getLineContent($.startLineNumber)}, ${j}`:j}return n.localize(25,null,te,W)}_updateToggleSelectionFindButton(){const te=this._codeEditor.getSelection(),$=te?te.startLineNumber!==te.endLineNumber||te.startColumn!==te.endColumn:!1,W=this._toggleSelectionFind.checked;this._isVisible&&(W||$)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const te=this._state.searchString.length>0,$=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&te&&$&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&te&&$&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&te),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&te),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const W=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&W)}_reveal(){if(this._revealTimeouts.forEach(te=>{clearTimeout(te)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const te=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const W=!!te&&te.startLineNumber!==te.endLineNumber;this._toggleSelectionFind.checked=W;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let $=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&te){const W=this._codeEditor.getDomNode();if(W){const j=f.getDomNodePagePosition(W),K=this._codeEditor.getScrolledVisiblePosition(te.getStartPosition()),G=j.left+(K?K.left:0),ee=K?K.top:0;if(this._viewZone&&ee<this._viewZone.heightInPx){te.endLineNumber>te.startLineNumber&&($=!1);const oe=f.getTopLeftOffset(this._domNode).left;G>oe&&($=!1);const de=this._codeEditor.getScrolledVisiblePosition(te.getEndPosition());j.left+(de?de.left:0)>oe&&($=!1)}}}this._showViewZone($)}}_hide(te){this._revealTimeouts.forEach($=>{clearTimeout($)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),te&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(te){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const W=this._viewZone;this._viewZoneId!==void 0||!W||this._codeEditor.changeViewZones(j=>{W.heightInPx=this._getHeight(),this._viewZoneId=j.addZone(W),this._codeEditor.setScrollTop(te||this._codeEditor.getScrollTop()+W.heightInPx)})}_showViewZone(te=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new ae(0));const W=this._viewZone;this._codeEditor.changeViewZones(j=>{if(this._viewZoneId!==void 0){const K=this._getHeight();if(K===W.heightInPx)return;const G=K-W.heightInPx;W.heightInPx=K,j.layoutZone(this._viewZoneId),te&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+G);return}else{let K=this._getHeight();if(K-=this._codeEditor.getOption(84).top,K<=0)return;W.heightInPx=K,this._viewZoneId=j.addZone(W),te&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+K)}})}_removeViewZone(){this._codeEditor.changeViewZones(te=>{this._viewZoneId!==void 0&&(te.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const te=this._codeEditor.getLayoutInfo();if(te.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const W=te.width,j=te.minimap.minimapWidth;let K=!1,G=!1,ee=!1;if(this._resized&&f.getTotalWidth(this._domNode)>U){this._domNode.style.maxWidth=`${W-28-j-15}px`,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode);return}if(U+28+j>=W&&(G=!0),U+28+j-x>=W&&(ee=!0),U+28+j-x>=W+50&&(K=!0),this._domNode.classList.toggle("collapsed-find-widget",K),this._domNode.classList.toggle("narrow-find-widget",ee),this._domNode.classList.toggle("reduced-find-widget",G),!ee&&!K&&(this._domNode.style.maxWidth=`${W-28-j-15}px`),this._findInput.layout({collapsedFindWidget:K,narrowFindWidget:ee,reducedFindWidget:G}),this._resized){const oe=this._findInput.inputBox.element.clientWidth;oe>0&&(this._replaceInput.width=oe)}else this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode))}_getHeight(){let te=0;return te+=4,te+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(te+=4,te+=this._replaceInput.inputBox.height+2),te+=4,te}_tryUpdateHeight(){const te=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===te?!1:(this._cachedHeight=te,this._domNode.style.height=`${te}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const te=this._codeEditor.getSelections();te.map($=>{$.endColumn===1&&$.endLineNumber>$.startLineNumber&&($=$.setEndPosition($.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn($.endLineNumber-1)));const W=this._state.currentMatch;return $.startLineNumber!==$.endLineNumber&&!i.Range.equalsRange($,W)?$:null}).filter($=>!!$),te.length&&this._state.change({searchScope:te},!0)}}_onFindInputMouseDown(te){te.middleButton&&te.stopPropagation()}_onFindInputKeyDown(te){if(te.equals(Y|3))if(this._keybindingService.dispatchEvent(te,te.target)){te.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),te.preventDefault();return}if(te.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),te.preventDefault();return}if(te.equals(2066)){this._codeEditor.focus(),te.preventDefault();return}if(te.equals(16))return ce(te,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(te.equals(18))return he(te,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(te){if(te.equals(Y|3))if(this._keybindingService.dispatchEvent(te,te.target)){te.preventDefault();return}else{a.isWindows&&a.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(n.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(X,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),te.preventDefault();return}if(te.equals(2)){this._findInput.focusOnCaseSensitive(),te.preventDefault();return}if(te.equals(1026)){this._findInput.focus(),te.preventDefault();return}if(te.equals(2066)){this._codeEditor.focus(),te.preventDefault();return}if(te.equals(16))return ce(te,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(te.equals(18))return he(te,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(te){return 0}_keybindingLabelFor(te){const $=this._keybindingService.lookupKeybinding(te);return $?` (${$.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new h.ContextScopedFindInput(null,this._contextViewProvider,{width:re,label:N,placeholder:A,appendCaseSensitiveLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleRegexCommand),validation:le=>{if(le.length===0||!this._findInput.getRegex())return null;try{return new RegExp(le,"gu"),null}catch(ge){return{content:ge.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,m.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:c.defaultInputBoxStyles,toggleStyles:c.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(le=>this._onFindInputKeyDown(le))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(le=>{le.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),le.preventDefault())})),this._register(this._findInput.onRegexKeyDown(le=>{le.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),le.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(le=>{this._tryUpdateHeight()&&this._showViewZone()})),a.isLinux&&this._register(this._findInput.onMouseDown(le=>this._onFindInputMouseDown(le))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const W=this._register((0,C.createInstantHoverDelegate)());this._prevBtn=this._register(new fe({label:P+this._keybindingLabelFor(t.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,hoverDelegate:W,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,v.onUnexpectedError)}})),this._nextBtn=this._register(new fe({label:M+this._keybindingLabelFor(t.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,hoverDelegate:W,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.NextMatchFindAction)).run().then(void 0,v.onUnexpectedError)}}));const j=document.createElement("div");j.className="find-part",j.appendChild(this._findInput.domNode);const K=document.createElement("div");K.className="find-actions",j.appendChild(K),K.appendChild(this._matchesCount),K.appendChild(this._prevBtn.domNode),K.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new E.Toggle({icon:S,title:R+this._keybindingLabelFor(t.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:W,inputActiveOptionBackground:(0,u.asCssVariable)(u.inputActiveOptionBackground),inputActiveOptionBorder:(0,u.asCssVariable)(u.inputActiveOptionBorder),inputActiveOptionForeground:(0,u.asCssVariable)(u.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let le=this._codeEditor.getSelections();le=le.map(ge=>(ge.endColumn===1&&ge.endLineNumber>ge.startLineNumber&&(ge=ge.setEndPosition(ge.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ge.endLineNumber-1))),ge.isEmpty()?null:ge)).filter(ge=>!!ge),le.length&&this._state.change({searchScope:le},!0)}}else this._state.change({searchScope:null},!0)})),K.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new fe({label:F+this._keybindingLabelFor(t.FIND_IDS.CloseFindWidgetCommand),icon:d.widgetClose,hoverDelegate:W,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:le=>{le.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),le.preventDefault())}})),this._replaceInput=this._register(new h.ContextScopedReplaceInput(null,void 0,{label:O,placeholder:B,appendPreserveCaseLabel:this._keybindingLabelFor(t.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,m.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:c.defaultInputBoxStyles,toggleStyles:c.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(le=>this._onReplaceInputKeyDown(le))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(le=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(le=>{le.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),le.preventDefault())}));const G=this._register((0,C.createInstantHoverDelegate)());this._replaceBtn=this._register(new fe({label:H+this._keybindingLabelFor(t.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,hoverDelegate:G,onTrigger:()=>{this._controller.replace()},onKeyDown:le=>{le.equals(1026)&&(this._closeBtn.focus(),le.preventDefault())}})),this._replaceAllBtn=this._register(new fe({label:V+this._keybindingLabelFor(t.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,hoverDelegate:G,onTrigger:()=>{this._controller.replaceAll()}}));const ee=document.createElement("div");ee.className="replace-part",ee.appendChild(this._replaceInput.domNode);const oe=document.createElement("div");oe.className="replace-actions",ee.appendChild(oe),oe.appendChild(this._replaceBtn.domNode),oe.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new fe({label:q,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=T,this._domNode.role="dialog",this._domNode.style.width=`${U}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(j),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(ee),this._resizeSash=this._register(new L.Sash(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let de=U;this._register(this._resizeSash.onDidStart(()=>{de=f.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(le=>{this._resized=!0;const ge=de+le.startX-le.currentX;if(ge<U)return;const ve=parseFloat(f.getComputedStyle(this._domNode).maxWidth)||0;ge>ve||(this._domNode.style.width=`${ge}px`,this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const le=f.getTotalWidth(this._domNode);if(le<U)return;let ge=U;if(!this._resized||le===U){const ve=this._codeEditor.getLayoutInfo();ge=ve.width-28-ve.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${ge}px`,this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const te=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(te!==2)}}e.FindWidget=pe,pe.ID="editor.contrib.findWidget";class fe extends y.Widget{constructor(te){var $;super(),this._opts=te;let W="button";this._opts.className&&(W=W+" "+this._opts.className),this._opts.icon&&(W=W+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=W,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register((0,b.setupCustomHover)(($=te.hoverDelegate)!==null&&$!==void 0?$:(0,C.getDefaultHoverDelegate)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,j=>{this._opts.onTrigger(),j.preventDefault()}),this.onkeydown(this._domNode,j=>{var K,G;if(j.equals(10)||j.equals(3)){this._opts.onTrigger(),j.preventDefault();return}(G=(K=this._opts).onKeyDown)===null||G===void 0||G.call(K,j)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(te){this._domNode.classList.toggle("disabled",!te),this._domNode.setAttribute("aria-disabled",String(!te)),this._domNode.tabIndex=te?0:-1}setExpanded(te){this._domNode.setAttribute("aria-expanded",String(!!te)),te?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(D)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(I))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(I)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(D)))}}e.SimpleButton=fe,(0,r.registerThemingParticipant)((se,te)=>{const $=se.getColor(u.editorFindMatchHighlightBorder);$&&te.addRule(`.monaco-editor .findMatch { border: 1px ${(0,o.isHighContrast)(se.type)?"dotted":"solid"} ${$}; box-sizing: border-box; }`);const W=se.getColor(u.editorFindRangeHighlightBorder);W&&te.addRule(`.monaco-editor .findScope { border: 1px ${(0,o.isHighContrast)(se.type)?"dashed":"solid"} ${W}; }`);const j=se.getColor(u.contrastBorder);j&&te.addRule(`.monaco-editor .find-widget { border: 1px solid ${j}; }`)})}),define(ie[398],ne([1,0,15,2,11,16,86,20,43,211,943,944,945,700,28,112,14,58,35,51,75,98,23]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=void 0,e.getSelectionSearchString=b;const c=524288;function b(H,V="single",q=!1){if(!H.hasModel())return null;const z=H.getSelection();if(V==="single"&&z.startLineNumber===z.endLineNumber||V==="multiple"){if(z.isEmpty()){const U=H.getConfiguredWordAtPosition(z.getStartPosition());if(U&&q===!1)return U.word}else if(H.getModel().getValueLengthInRange(z)<c)return H.getModel().getValueInRange(z)}return null}let C=g=class extends k.Disposable{get editor(){return this._editor}static get(V){return V.getContribution(g.ID)}constructor(V,q,z,U,Z){super(),this._editor=V,this._findWidgetVisible=v.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(q),this._contextKeyService=q,this._storageService=z,this._clipboardService=U,this._notificationService=Z,this._updateHistoryDelayer=new f.Delayer(500),this._state=this._register(new a.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(re=>this._onStateChanged(re))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const re=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),re&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(V){this.saveQueryState(V),V.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),V.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(V){V.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),V.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),V.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),V.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!v.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let V=this._editor.getSelections();V=V.map(q=>(q.endColumn===1&&q.endLineNumber>q.startLineNumber&&(q=q.setEndPosition(q.endLineNumber-1,this._editor.getModel().getLineMaxColumn(q.endLineNumber-1))),q.isEmpty()?null:q)).filter(q=>!!q),V.length&&this._state.change({searchScope:V},!0)}}setSearchString(V){this._state.isRegex&&(V=E.escapeRegExpCharacters(V)),this._state.change({searchString:V},!1)}highlightFindOptions(V=!1){}async _start(V,q){if(this.disposeModel(),!this._editor.hasModel())return;const z={...q,isRevealed:!0};if(V.seedSearchStringFromSelection==="single"){const U=b(this._editor,V.seedSearchStringFromSelection,V.seedSearchStringFromNonEmptySelection);U&&(this._state.isRegex?z.searchString=E.escapeRegExpCharacters(U):z.searchString=U)}else if(V.seedSearchStringFromSelection==="multiple"&&!V.updateSearchScope){const U=b(this._editor,V.seedSearchStringFromSelection);U&&(z.searchString=U)}if(!z.searchString&&V.seedSearchStringFromGlobalClipboard){const U=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;U&&(z.searchString=U)}if(V.forceRevealReplace||z.isReplaceRevealed?z.isReplaceRevealed=!0:this._findWidgetVisible.get()||(z.isReplaceRevealed=!1),V.updateSearchScope){const U=this._editor.getSelections();U.some(Z=>!Z.isEmpty())&&(z.searchScope=U)}z.loop=V.loop,this._state.change(z,!1),this._model||(this._model=new v.FindModelBoundToEditorModel(this._editor,this._state))}start(V,q){return this._start(V,q)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(V){return this._model?(this._model.moveToMatch(V),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var V;return this._model?!((V=this._editor.getModel())===null||V===void 0)&&V.isTooLargeForHeapOperation()?(this._notificationService.warn(i.localize(0,null)),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(V){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(V)}};e.CommonFindController=C,C.ID="editor.contrib.findController",e.CommonFindController=C=g=Ie([ue(1,h.IContextKeyService),ue(2,l.IStorageService),ue(3,n.IClipboardService),ue(4,d.INotificationService)],C);let S=class extends C{constructor(V,q,z,U,Z,re,x,Q){super(V,z,x,Q,re),this._contextViewService=q,this._keybindingService=U,this._themeService=Z,this._widget=null,this._findOptionsWidget=null}async _start(V,q){this._widget||this._createFindWidget();const z=this._editor.getSelection();let U=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":U=!0;break;case"never":U=!1;break;case"multiline":{U=!!z&&z.startLineNumber!==z.endLineNumber;break}default:break}V.updateSearchScope=V.updateSearchScope||U,await super._start(V,q),this._widget&&(V.shouldFocus===2?this._widget.focusReplaceInput():V.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(V=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!V?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new s.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new _.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=S,e.FindController=S=Ie([ue(1,m.IContextViewService),ue(2,h.IContextKeyService),ue(3,u.IKeybindingService),ue(4,o.IThemeService),ue(5,d.INotificationService),ue(6,l.IStorageService),ue(7,n.IClipboardService)],S),e.StartFindAction=(0,L.registerMultiEditorAction)(new L.MultiEditorAction({id:v.FIND_IDS.StartFindAction,label:i.localize(1,null),alias:"Find",precondition:h.ContextKeyExpr.or(p.EditorContextKeys.focus,h.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(2,null),order:1}})),e.StartFindAction.addImplementation(0,(H,V,q)=>{const z=C.get(V);return z?z.start({forceRevealReplace:!1,seedSearchStringFromSelection:V.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:V.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:V.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:V.getOption(41).loop}):!1});const D={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class I extends L.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithArgs,label:i.localize(3,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:D})}async run(V,q,z){const U=C.get(q);if(U){const Z=z?{searchString:z.searchString,replaceString:z.replaceString,isReplaceRevealed:z.replaceString!==void 0,isRegex:z.isRegex,wholeWord:z.matchWholeWord,matchCase:z.isCaseSensitive,preserveCase:z.preserveCase}:{};await U.start({forceRevealReplace:!1,seedSearchStringFromSelection:U.getState().searchString.length===0&&q.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:q.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:z?.findInSelection||!1,loop:q.getOption(41).loop},Z),U.setGlobalBufferTerm(U.getState().searchString)}}}e.StartFindWithArgsAction=I;class T extends L.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithSelection,label:i.localize(4,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(V,q){const z=C.get(q);z&&(await z.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:q.getOption(41).loop}),z.setGlobalBufferTerm(z.getState().searchString))}}e.StartFindWithSelectionAction=T;class N extends L.EditorAction{async run(V,q){const z=C.get(q);z&&!this._run(z)&&(await z.start({forceRevealReplace:!1,seedSearchStringFromSelection:z.getState().searchString.length===0&&q.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:q.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:q.getOption(41).loop}),this._run(z))}}e.MatchFindAction=N;class A extends N{constructor(){super({id:v.FIND_IDS.NextMatchFindAction,label:i.localize(5,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(V){return V.moveToNextMatch()?(V.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=A;class P extends N{constructor(){super({id:v.FIND_IDS.PreviousMatchFindAction,label:i.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(V){return V.moveToPrevMatch()}}e.PreviousMatchFindAction=P;class M extends L.EditorAction{constructor(){super({id:v.FIND_IDS.GoToMatchFindAction,label:i.localize(7,null),alias:"Go to Match...",precondition:v.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(V,q,z){const U=C.get(q);if(!U)return;const Z=U.getState().matchesCount;if(Z<1){V.get(d.INotificationService).notify({severity:d.Severity.Warning,message:i.localize(8,null)});return}const x=V.get(r.IQuickInputService).createInputBox();x.placeholder=i.localize(9,null,Z);const Q=Y=>{const ae=parseInt(Y);if(isNaN(ae))return;const ce=U.getState().matchesCount;if(ae>0&&ae<=ce)return ae-1;if(ae<0&&ae>=-ce)return ce+ae},X=Y=>{const ae=Q(Y);if(typeof ae=="number"){x.validationMessage=void 0,U.goToMatch(ae);const ce=U.getState().currentMatch;ce&&this.addDecorations(q,ce)}else x.validationMessage=i.localize(10,null,U.getState().matchesCount),this.clearDecorations(q)};x.onDidChangeValue(Y=>{X(Y)}),x.onDidAccept(()=>{const Y=Q(x.value);typeof Y=="number"?(U.goToMatch(Y),x.hide()):x.validationMessage=i.localize(11,null,U.getState().matchesCount)}),x.onDidHide(()=>{this.clearDecorations(q),x.dispose()}),x.show()}clearDecorations(V){V.changeDecorations(q=>{this._highlightDecorations=q.deltaDecorations(this._highlightDecorations,[])})}addDecorations(V,q){V.changeDecorations(z=>{this._highlightDecorations=z.deltaDecorations(this._highlightDecorations,[{range:q,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:q,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,o.themeColorFromId)(y.overviewRulerRangeHighlight),position:w.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=M;class R extends L.EditorAction{async run(V,q){const z=C.get(q);if(!z)return;const U=b(q,"single",!1);U&&z.setSearchString(U),this._run(z)||(await z.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:q.getOption(41).loop}),this._run(z))}}e.SelectionMatchFindAction=R;class F extends R{constructor(){super({id:v.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(12,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2109,weight:100}})}_run(V){return V.moveToNextMatch()}}e.NextSelectionMatchFindAction=F;class O extends R{constructor(){super({id:v.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(13,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:3133,weight:100}})}_run(V){return V.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=O,e.StartFindReplaceAction=(0,L.registerMultiEditorAction)(new L.MultiEditorAction({id:v.FIND_IDS.StartFindReplaceAction,label:i.localize(14,null),alias:"Replace",precondition:h.ContextKeyExpr.or(p.EditorContextKeys.focus,h.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(15,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(H,V,q)=>{if(!V.hasModel()||V.getOption(91))return!1;const z=C.get(V);if(!z)return!1;const U=V.getSelection(),Z=z.isFindInputFocused(),re=!U.isEmpty()&&U.startLineNumber===U.endLineNumber&&V.getOption(41).seedSearchStringFromSelection!=="never"&&!Z,x=Z||re?2:1;return z.start({forceRevealReplace:!0,seedSearchStringFromSelection:re?"single":"none",seedSearchStringFromNonEmptySelection:V.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:V.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:x,shouldAnimate:!0,updateSearchScope:!1,loop:V.getOption(41).loop})}),(0,L.registerEditorContribution)(C.ID,S,0),(0,L.registerEditorAction)(I),(0,L.registerEditorAction)(T),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(P),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(F),(0,L.registerEditorAction)(O);const B=L.EditorCommand.bindToContribution(C.get);(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.CloseFindWidgetCommand,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.closeFindWidget(),kbOpts:{weight:105,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,h.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:H=>H.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleCaseSensitiveKeybinding.primary,mac:v.ToggleCaseSensitiveKeybinding.mac,win:v.ToggleCaseSensitiveKeybinding.win,linux:v.ToggleCaseSensitiveKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:H=>H.toggleWholeWords(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleWholeWordKeybinding.primary,mac:v.ToggleWholeWordKeybinding.mac,win:v.ToggleWholeWordKeybinding.win,linux:v.ToggleWholeWordKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:H=>H.toggleRegex(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleRegexKeybinding.primary,mac:v.ToggleRegexKeybinding.mac,win:v.ToggleRegexKeybinding.win,linux:v.ToggleRegexKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:H=>H.toggleSearchScope(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleSearchScopeKeybinding.primary,mac:v.ToggleSearchScopeKeybinding.mac,win:v.ToggleSearchScopeKeybinding.win,linux:v.ToggleSearchScopeKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:H=>H.togglePreserveCase(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.TogglePreserveCaseKeybinding.primary,mac:v.TogglePreserveCaseKeybinding.mac,win:v.TogglePreserveCaseKeybinding.win,linux:v.TogglePreserveCaseKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.replace(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:3094}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.replace(),kbOpts:{weight:105,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.replaceAll(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:2563}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.replaceAll(),kbOpts:{weight:105,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,L.registerEditorCommand)(new B({id:v.FIND_IDS.SelectAllMatchesAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.selectAllMatches(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:515}}))}),define(ie[399],ne([1,0,26,37,703,32,85,23,31]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const v=(0,L.registerColor)("editor.foldBackground",{light:(0,L.transparent)(L.editorSelectionBackground,.3),dark:(0,L.transparent)(L.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,E.localize)(0,null),!0);(0,L.registerColor)("editorGutter.foldingControlForeground",{dark:L.iconForeground,light:L.iconForeground,hcDark:L.iconForeground,hcLight:L.iconForeground},(0,E.localize)(1,null)),e.foldingExpandedIcon=(0,y.registerIcon)("folding-expanded",f.Codicon.chevronDown,(0,E.localize)(2,null)),e.foldingCollapsedIcon=(0,y.registerIcon)("folding-collapsed",f.Codicon.chevronRight,(0,E.localize)(3,null)),e.foldingManualCollapsedIcon=(0,y.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,E.localize)(4,null)),e.foldingManualExpandedIcon=(0,y.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,E.localize)(5,null));const _={color:(0,p.themeColorFromId)(v),position:1},a=(0,E.localize)(6,null),s=(0,E.localize)(7,null);class i{constructor(n){this.editor=n,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(n,h,m){return h?i.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?n?this.showFoldingHighlights?i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:i.NO_CONTROLS_EXPANDED_RANGE_DECORATION:n?m?this.showFoldingHighlights?i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?m?i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:m?i.MANUALLY_EXPANDED_VISUAL_DECORATION:i.EXPANDED_VISUAL_DECORATION}changeDecorations(n){return this.editor.changeDecorations(n)}removeDecorations(n){this.editor.removeDecorations(n)}}e.FoldingDecorationProvider=i,i.COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:a,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:_,isWholeLine:!0,linesDecorationsTooltip:a,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.MANUALLY_COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:a,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:_,isWholeLine:!0,linesDecorationsTooltip:a,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:a}),i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:_,isWholeLine:!0,linesDecorationsTooltip:a}),i.EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:s}),i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:s}),i.MANUALLY_EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:s}),i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:s}),i.NO_CONTROLS_EXPANDED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),i.HIDDEN_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ie[277],ne([1,0,15,19,12,69,2,11,21,137,16,20,29,33,320,584,321,702,14,399,194,322,51,83,63,18,7,27,22,53,25,482]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const A=new u.RawContextKey("foldingEnabled",!1);let P=N=class extends y.Disposable{static get(te){return te.getContribution(N.ID)}static getFoldingRangeProviders(te,$){var W,j;const K=te.foldingRangeProvider.ordered($);return(j=(W=N._foldingRangeSelector)===null||W===void 0?void 0:W.call(N,K,$))!==null&&j!==void 0?j:K}constructor(te,$,W,j,K,G){super(),this.contextKeyService=$,this.languageConfigurationService=W,this.languageFeaturesService=G,this.localToDispose=this._register(new y.DisposableStore),this.editor=te,this._foldingLimitReporter=new M(te);const ee=this.editor.getOptions();this._isEnabled=ee.get(43),this._useFoldingProviders=ee.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=ee.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=ee.get(46),this.updateDebounceInfo=K.for(G.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new d.FoldingDecorationProvider(te),this.foldingDecorationProvider.showFoldingControls=ee.get(110),this.foldingDecorationProvider.showFoldingHighlights=ee.get(45),this.foldingEnabled=A.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(oe=>{if(oe.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),oe.hasChanged(47)&&this.onModelChanged(),oe.hasChanged(110)||oe.hasChanged(45)){const de=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=de.get(110),this.foldingDecorationProvider.showFoldingHighlights=de.get(45),this.triggerFoldingModelChanged()}oe.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),oe.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),oe.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const te=this.editor.getModel();if(!te||!this._isEnabled||te.isTooLargeForTokenization())return{};if(this.foldingModel){const $=this.foldingModel.getMemento(),W=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:$,lineCount:te.getLineCount(),provider:W,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(te){const $=this.editor.getModel();if(!(!$||!this._isEnabled||$.isTooLargeForTokenization()||!this.hiddenRangeModel)&&te&&(this._currentModelHasFoldedImports=!!te.foldedImports,te.collapsedRegions&&te.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(te.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const te=this.editor.getModel();!this._isEnabled||!te||te.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(te,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new n.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange($=>this.onHiddenRangesChanges($))),this.updateScheduler=new f.Delayer(this.updateDebounceInfo.get(te)),this.cursorChangedScheduler=new f.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent($=>this.onDidChangeModelContent($))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown($=>this.onEditorMouseDown($))),this.localToDispose.add(this.editor.onMouseUp($=>this.onEditorMouseUp($))),this.localToDispose.add({dispose:()=>{var $,W;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),($=this.updateScheduler)===null||$===void 0||$.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(W=this.rangeProvider)===null||W===void 0||W.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var te;(te=this.rangeProvider)===null||te===void 0||te.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(te){if(this.rangeProvider)return this.rangeProvider;const $=new h.IndentRangeProvider(te,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=$,this._useFoldingProviders&&this.foldingModel){const W=N.getFoldingRangeProviders(this.languageFeaturesService,te);W.length>0&&(this.rangeProvider=new l.SyntaxRangeProvider(te,W,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,$))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(te){var $;($=this.hiddenRangeModel)===null||$===void 0||$.notifyChangeModelContent(te),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const te=this.foldingModel;if(!te)return null;const $=new c.StopWatch,W=this.getRangeProvider(te.textModel),j=this.foldingRegionPromise=(0,f.createCancelablePromise)(K=>W.compute(K));return j.then(K=>{if(K&&j===this.foldingRegionPromise){let G;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const le=K.setCollapsedAllOfType(s.FoldingRangeKind.Imports.value,!0);le&&(G=v.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=le)}const ee=this.editor.getSelections(),oe=ee?ee.map(le=>le.startLineNumber):[];te.update(K,oe),G?.restore(this.editor);const de=this.updateDebounceInfo.update(te.textModel,$.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=de)}return te})}).then(void 0,te=>((0,E.onUnexpectedError)(te),null)))}onHiddenRangesChanges(te){if(this.hiddenRangeModel&&te.length&&!this._restoringViewState){const $=this.editor.getSelections();$&&this.hiddenRangeModel.adjustSelections($)&&this.editor.setSelections($)}this.editor.setHiddenAreas(te,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const te=this.getFoldingModel();te&&te.then($=>{if($){const W=this.editor.getSelections();if(W&&W.length>0){const j=[];for(const K of W){const G=K.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(G)&&j.push(...$.getAllRegionsAtLine(G,ee=>ee.isCollapsed&&G>ee.startLineNumber))}j.length&&($.toggleCollapseState(j),this.reveal(W[0].getPosition()))}}}).then(void 0,E.onUnexpectedError)}onEditorMouseDown(te){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!te.target||!te.target.range||!te.event.leftButton&&!te.event.middleButton)return;const $=te.target.range;let W=!1;switch(te.target.type){case 4:{const j=te.target.detail,K=te.target.element.offsetLeft;if(j.offsetX-K<4)return;W=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!te.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const j=this.editor.getModel();if(j&&$.startColumn===j.getLineMaxColumn($.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:$.startLineNumber,iconClicked:W}}onEditorMouseUp(te){const $=this.foldingModel;if(!$||!this.mouseDownInfo||!te.target)return;const W=this.mouseDownInfo.lineNumber,j=this.mouseDownInfo.iconClicked,K=te.target.range;if(!K||K.startLineNumber!==W)return;if(j){if(te.target.type!==4)return}else{const ee=this.editor.getModel();if(!ee||K.startColumn!==ee.getLineMaxColumn(W))return}const G=$.getRegionAtLine(W);if(G&&G.startLineNumber===W){const ee=G.isCollapsed;if(j||ee){const oe=te.event.altKey;let de=[];if(oe){const le=ve=>!ve.containedBy(G)&&!G.containedBy(ve),ge=$.getRegionsInside(null,le);for(const ve of ge)ve.isCollapsed&&de.push(ve);de.length===0&&(de=ge)}else{const le=te.event.middleButton||te.event.shiftKey;if(le)for(const ge of $.getRegionsInside(G))ge.isCollapsed===ee&&de.push(ge);(ee||!le||de.length===0)&&de.push(G)}$.toggleCollapseState(de),this.reveal({lineNumber:W,column:1})}}}reveal(te){this.editor.revealPositionInCenterIfOutsideViewport(te,0)}};e.FoldingController=P,P.ID="editor.contrib.folding",e.FoldingController=P=N=Ie([ue(1,u.IContextKeyService),ue(2,i.ILanguageConfigurationService),ue(3,o.INotificationService),ue(4,g.ILanguageFeatureDebounceService),ue(5,b.ILanguageFeaturesService)],P);class M{constructor(te){this.editor=te,this._onDidChange=new C.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(te,$){(te!==this._computed||$!==this._limited)&&(this._computed=te,this._limited=$,this._onDidChange.fire())}}e.RangesLimitReporter=M;class R extends _.EditorAction{runEditorCommand(te,$,W){const j=te.get(i.ILanguageConfigurationService),K=P.get($);if(!K)return;const G=K.getFoldingModel();if(G)return this.reportTelemetry(te,$),G.then(ee=>{if(ee){this.invoke(K,ee,$,W,j);const oe=$.getSelection();oe&&K.reveal(oe.getStartPosition())}})}getSelectedLines(te){const $=te.getSelections();return $?$.map(W=>W.startLineNumber):[]}getLineNumbers(te,$){return te&&te.selectionLines?te.selectionLines.map(W=>W+1):this.getSelectedLines($)}run(te,$){}}function F(se){if(!w.isUndefined(se)){if(!w.isObject(se))return!1;const te=se;if(!w.isUndefined(te.levels)&&!w.isNumber(te.levels)||!w.isUndefined(te.direction)&&!w.isString(te.direction)||!w.isUndefined(te.selectionLines)&&(!Array.isArray(te.selectionLines)||!te.selectionLines.every(w.isNumber)))return!1}return!0}class O extends R{constructor(){super({id:"editor.unfold",label:m.localize(0,null),alias:"Unfold",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(te,$,W,j){const K=j&&j.levels||1,G=this.getLineNumbers(j,W);j&&j.direction==="up"?(0,t.setCollapseStateLevelsUp)($,!1,K,G):(0,t.setCollapseStateLevelsDown)($,!1,K,G)}}class B extends R{constructor(){super({id:"editor.unfoldRecursively",label:m.localize(1,null),alias:"Unfold Recursively",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2142),weight:100}})}invoke(te,$,W,j){(0,t.setCollapseStateLevelsDown)($,!1,Number.MAX_VALUE,this.getSelectedLines(W))}}class H extends R{constructor(){super({id:"editor.fold",label:m.localize(2,null),alias:"Fold",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(te,$,W,j){const K=this.getLineNumbers(j,W),G=j&&j.levels,ee=j&&j.direction;typeof G!="number"&&typeof ee!="string"?(0,t.setCollapseStateUp)($,!0,K):ee==="up"?(0,t.setCollapseStateLevelsUp)($,!0,G||1,K):(0,t.setCollapseStateLevelsDown)($,!0,G||1,K)}}class V extends R{constructor(){super({id:"editor.toggleFold",label:m.localize(3,null),alias:"Toggle Fold",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2090),weight:100}})}invoke(te,$,W){const j=this.getSelectedLines(W);(0,t.toggleCollapseState)($,1,j)}}class q extends R{constructor(){super({id:"editor.foldRecursively",label:m.localize(4,null),alias:"Fold Recursively",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2140),weight:100}})}invoke(te,$,W){const j=this.getSelectedLines(W);(0,t.setCollapseStateLevelsDown)($,!0,Number.MAX_VALUE,j)}}class z extends R{constructor(){super({id:"editor.foldAllBlockComments",label:m.localize(5,null),alias:"Fold All Block Comments",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2138),weight:100}})}invoke(te,$,W,j,K){if($.regions.hasTypes())(0,t.setCollapseStateForType)($,s.FoldingRangeKind.Comment.value,!0);else{const G=W.getModel();if(!G)return;const ee=K.getLanguageConfiguration(G.getLanguageId()).comments;if(ee&&ee.blockCommentStartToken){const oe=new RegExp("^\\s*"+(0,p.escapeRegExpCharacters)(ee.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)($,oe,!0)}}}}class U extends R{constructor(){super({id:"editor.foldAllMarkerRegions",label:m.localize(6,null),alias:"Fold All Regions",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2077),weight:100}})}invoke(te,$,W,j,K){if($.regions.hasTypes())(0,t.setCollapseStateForType)($,s.FoldingRangeKind.Region.value,!0);else{const G=W.getModel();if(!G)return;const ee=K.getLanguageConfiguration(G.getLanguageId()).foldingRules;if(ee&&ee.markers&&ee.markers.start){const oe=new RegExp(ee.markers.start);(0,t.setCollapseStateForMatchingLines)($,oe,!0)}}}}class Z extends R{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:m.localize(7,null),alias:"Unfold All Regions",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2078),weight:100}})}invoke(te,$,W,j,K){if($.regions.hasTypes())(0,t.setCollapseStateForType)($,s.FoldingRangeKind.Region.value,!1);else{const G=W.getModel();if(!G)return;const ee=K.getLanguageConfiguration(G.getLanguageId()).foldingRules;if(ee&&ee.markers&&ee.markers.start){const oe=new RegExp(ee.markers.start);(0,t.setCollapseStateForMatchingLines)($,oe,!1)}}}}class re extends R{constructor(){super({id:"editor.foldAllExcept",label:m.localize(8,null),alias:"Fold All Except Selected",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2136),weight:100}})}invoke(te,$,W){const j=this.getSelectedLines(W);(0,t.setCollapseStateForRest)($,!0,j)}}class x extends R{constructor(){super({id:"editor.unfoldAllExcept",label:m.localize(9,null),alias:"Unfold All Except Selected",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2134),weight:100}})}invoke(te,$,W){const j=this.getSelectedLines(W);(0,t.setCollapseStateForRest)($,!1,j)}}class Q extends R{constructor(){super({id:"editor.foldAll",label:m.localize(10,null),alias:"Fold All",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2069),weight:100}})}invoke(te,$,W){(0,t.setCollapseStateLevelsDown)($,!0)}}class X extends R{constructor(){super({id:"editor.unfoldAll",label:m.localize(11,null),alias:"Unfold All",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2088),weight:100}})}invoke(te,$,W){(0,t.setCollapseStateLevelsDown)($,!1)}}class Y extends R{getFoldingLevel(){return parseInt(this.id.substr(Y.ID_PREFIX.length))}invoke(te,$,W){(0,t.setCollapseStateAtLevel)($,this.getFoldingLevel(),!0,this.getSelectedLines(W))}}Y.ID_PREFIX="editor.foldLevel",Y.ID=se=>Y.ID_PREFIX+se;class ae extends R{constructor(){super({id:"editor.gotoParentFold",label:m.localize(12,null),alias:"Go to Parent Fold",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(te,$,W){const j=this.getSelectedLines(W);if(j.length>0){const K=(0,t.getParentFoldLine)(j[0],$);K!==null&&W.setSelection({startLineNumber:K,startColumn:1,endLineNumber:K,endColumn:1})}}}class ce extends R{constructor(){super({id:"editor.gotoPreviousFold",label:m.localize(13,null),alias:"Go to Previous Folding Range",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(te,$,W){const j=this.getSelectedLines(W);if(j.length>0){const K=(0,t.getPreviousFoldLine)(j[0],$);K!==null&&W.setSelection({startLineNumber:K,startColumn:1,endLineNumber:K,endColumn:1})}}}class he extends R{constructor(){super({id:"editor.gotoNextFold",label:m.localize(14,null),alias:"Go to Next Folding Range",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(te,$,W){const j=this.getSelectedLines(W);if(j.length>0){const K=(0,t.getNextFoldLine)(j[0],$);K!==null&&W.setSelection({startLineNumber:K,startColumn:1,endLineNumber:K,endColumn:1})}}}class pe extends R{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:m.localize(15,null),alias:"Create Folding Range from Selection",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2135),weight:100}})}invoke(te,$,W){var j;const K=[],G=W.getSelections();if(G){for(const ee of G){let oe=ee.endLineNumber;ee.endColumn===1&&--oe,oe>ee.startLineNumber&&(K.push({startLineNumber:ee.startLineNumber,endLineNumber:oe,type:void 0,isCollapsed:!0,source:1}),W.setSelection({startLineNumber:ee.startLineNumber,startColumn:1,endLineNumber:ee.startLineNumber,endColumn:1}))}if(K.length>0){K.sort((oe,de)=>oe.startLineNumber-de.startLineNumber);const ee=r.FoldingRegions.sanitizeAndMerge($.regions,K,(j=W.getModel())===null||j===void 0?void 0:j.getLineCount());$.updatePost(r.FoldingRegions.fromFoldRanges(ee))}}}}class fe extends R{constructor(){super({id:"editor.removeManualFoldingRanges",label:m.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2137),weight:100}})}invoke(te,$,W){const j=W.getSelections();if(j){const K=[];for(const G of j){const{startLineNumber:ee,endLineNumber:oe}=G;K.push(oe>=ee?{startLineNumber:ee,endLineNumber:oe}:{endLineNumber:oe,startLineNumber:ee})}$.removeManualRanges(K),te.triggerFoldingModelChanged()}}}(0,_.registerEditorContribution)(P.ID,P,0),(0,_.registerEditorAction)(O),(0,_.registerEditorAction)(B),(0,_.registerEditorAction)(H),(0,_.registerEditorAction)(q),(0,_.registerEditorAction)(Q),(0,_.registerEditorAction)(X),(0,_.registerEditorAction)(z),(0,_.registerEditorAction)(U),(0,_.registerEditorAction)(Z),(0,_.registerEditorAction)(re),(0,_.registerEditorAction)(x),(0,_.registerEditorAction)(V),(0,_.registerEditorAction)(ae),(0,_.registerEditorAction)(ce),(0,_.registerEditorAction)(he),(0,_.registerEditorAction)(pe),(0,_.registerEditorAction)(fe);for(let se=1;se<=7;se++)(0,_.registerInstantiatedEditorAction)(new Y({id:Y.ID(se),label:m.localize(17,null,se),alias:`Fold Level ${se}`,precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2048|21+se),weight:100}}));S.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",async function(se,...te){const[$]=te;if(!($ instanceof D.URI))throw(0,E.illegalArgument)();const W=se.get(b.ILanguageFeaturesService),j=se.get(I.IModelService).getModel($);if(!j)throw(0,E.illegalArgument)();const K=se.get(T.IConfigurationService);if(!K.getValue("editor.folding",{resource:$}))return[];const G=se.get(i.ILanguageConfigurationService),ee=K.getValue("editor.foldingStrategy",{resource:$}),oe={get limit(){return K.getValue("editor.foldingMaximumRegions",{resource:$})},update:(Ce,Se)=>{}},de=new h.IndentRangeProvider(j,G,oe);let le=de;if(ee!=="indentation"){const Ce=P.getFoldingRangeProviders(W,j);Ce.length&&(le=new l.SyntaxRangeProvider(j,Ce,()=>{},oe,de))}const ge=await le.compute(k.CancellationToken.None),ve=[];try{if(ge)for(let Ce=0;Ce<ge.length;Ce++){const Se=ge.getType(Ce);ve.push({start:ge.getStartLineNumber(Ce),end:ge.getEndLineNumber(Ce),kind:Se?s.FoldingRangeKind.fromValue(Se):void 0})}return ve}finally{le.dispose()}})}),define(ie[400],ne([1,0,6,244,13,2,9,5,37,29,349,96,8,35,15,20,14,644,25,68]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d){"use strict";var r,l;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=e.ContentHoverWidget=e.ContentHoverController=void 0;const o=f.$;let g=r=class extends L.Disposable{constructor(R,F,O){super(),this._editor=R,this._instantiationService=F,this._keybindingService=O,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(T,this._editor)),this._participants=[];for(const B of a.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(B,this._editor));this._participants.sort((B,H)=>B.hoverOrdinal-H.hoverOrdinal),this._computer=new A(this._editor,this._participants),this._hoverOperation=this._register(new _.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(B=>{if(!this._computer.anchor)return;const H=B.hasLoadingMessage?this._addLoadingMessage(B.value):B.value;this._withResult(new c(this._computer.anchor,H,B.isComplete))})),this._register(f.addStandardDisposableListener(this._widget.getDomNode(),"keydown",B=>{B.equals(9)&&this.hide()})),this._register(v.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(R,F,O,B,H){return!this._widget.position||!this._currentResult?R?(this._startHoverOperationIfNecessary(R,F,O,B,!1),!0):!1:this._editor.getOption(60).sticky&&H&&this._widget.isMouseGettingCloser(H.event.posx,H.event.posy)?(R&&this._startHoverOperationIfNecessary(R,F,O,B,!0),!0):R?R&&this._currentResult.anchor.equals(R)?!0:R.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(R)),this._startHoverOperationIfNecessary(R,F,O,B,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(R,F,O,B,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(R,F,O,B,H){this._computer.anchor&&this._computer.anchor.equals(R)||(this._hoverOperation.cancel(),this._computer.anchor=R,this._computer.shouldFocus=B,this._computer.source=O,this._computer.insistOnKeepingHoverVisible=H,this._hoverOperation.start(F))}_setCurrentResult(R){this._currentResult!==R&&(R&&R.messages.length===0&&(R=null),this._currentResult=R,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage(R){if(this._computer.anchor){for(const F of this._participants)if(F.createLoadingMessage){const O=F.createLoadingMessage(this._computer.anchor);if(O)return R.slice(0).concat([O])}}return R}_withResult(R){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!R.isComplete||this._computer.insistOnKeepingHoverVisible&&R.messages.length===0)||this._setCurrentResult(R)}_renderMessages(R,F){const{showAtPosition:O,showAtSecondaryPosition:B,highlightRange:H}=r.computeHoverRanges(this._editor,R.range,F),V=new L.DisposableStore,q=V.add(new N(this._keybindingService)),z=document.createDocumentFragment();let U=null;const Z={fragment:z,statusBar:q,setColorPicker:x=>U=x,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:x=>this._widget.setMinimumDimensions(x),hide:()=>this.hide()};for(const x of this._participants){const Q=F.filter(X=>X.owner===x);Q.length>0&&V.add(x.renderHoverParts(Z,Q))}const re=F.some(x=>x.isBeforeContent);if(q.hasContent&&z.appendChild(q.hoverElement),z.hasChildNodes()){if(H){const x=this._editor.createDecorationsCollection();x.set([{range:H,options:r._DECORATION_OPTIONS}]),V.add((0,L.toDisposable)(()=>{x.clear()}))}this._widget.showAt(z,new C(R.initialMousePosX,R.initialMousePosY,U,O,B,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,re,V))}else V.dispose()}static computeHoverRanges(R,F,O){let B=1;if(R.hasModel()){const re=R._getViewModel(),x=re.coordinatesConverter,Q=x.convertModelRangeToViewRange(F),X=new y.Position(Q.startLineNumber,re.getLineMinColumn(Q.startLineNumber));B=x.convertViewPositionToModelPosition(X).column}const H=F.startLineNumber;let V=F.startColumn,q=O[0].range,z=null;for(const re of O)q=p.Range.plusRange(q,re.range),re.range.startLineNumber===H&&re.range.endLineNumber===H&&(V=Math.max(Math.min(V,re.range.startColumn),B)),re.forceShowAtRange&&(z=re.range);const U=z?z.getStartPosition():new y.Position(H,F.startColumn),Z=z?z.getStartPosition():new y.Position(H,V);return{showAtPosition:U,showAtSecondaryPosition:Z,highlightRange:q}}showsOrWillShow(R){if(this._widget.isResizing)return!0;const F=[];for(const B of this._participants)if(B.suggestHoverAnchor){const H=B.suggestHoverAnchor(R);H&&F.push(H)}const O=R.target;if(O.type===6&&F.push(new a.HoverRangeAnchor(0,O.range,R.event.posx,R.event.posy)),O.type===7){const B=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!O.detail.isAfterLines&&typeof O.detail.horizontalDistanceToText=="number"&&O.detail.horizontalDistanceToText<B&&F.push(new a.HoverRangeAnchor(0,O.range,R.event.posx,R.event.posy))}return F.length===0?this._startShowingOrUpdateHover(null,0,0,!1,R):(F.sort((B,H)=>H.priority-B.priority),this._startShowingOrUpdateHover(F[0],0,0,!1,R))}startShowingAtRange(R,F,O,B){this._startShowingOrUpdateHover(new a.HoverRangeAnchor(0,R,void 0,void 0),F,O,B,null)}containsNode(R){return R?this._widget.getDomNode().contains(R):!1}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};e.ContentHoverController=g,g._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=g=r=Ie([ue(1,s.IInstantiationService),ue(2,i.IKeybindingService)],g);class c{constructor(R,F,O){this.anchor=R,this.messages=F,this.isComplete=O}filter(R){const F=this.messages.filter(O=>O.isValidForHoverAnchor(R));return F.length===this.messages.length?this:new b(this,this.anchor,F,this.isComplete)}}class b extends c{constructor(R,F,O,B){super(F,O,B),this.original=R}filter(R){return this.original.filter(R)}}class C{constructor(R,F,O,B,H,V,q,z,U,Z){this.initialMousePosX=R,this.initialMousePosY=F,this.colorPicker=O,this.showAtPosition=B,this.showAtSecondaryPosition=H,this.preferAbove=V,this.stoleFocus=q,this.source=z,this.isBeforeContent=U,this.disposables=Z,this.closestMouseDistance=void 0}}const S=30,D=10,I=6;let T=l=class extends m.ResizableContentWidget{get isColorPickerVisible(){var R;return!!(!((R=this._visibleData)===null||R===void 0)&&R.colorPicker)}get isVisibleFromKeyboard(){var R;return((R=this._visibleData)===null||R===void 0?void 0:R.source)===1}get isVisible(){var R;return(R=this._hoverVisibleKey.get())!==null&&R!==void 0?R:!1}get isFocused(){var R;return(R=this._hoverFocusedKey.get())!==null&&R!==void 0?R:!1}constructor(R,F,O,B,H){const V=R.getOption(67)+8,q=150,z=new f.Dimension(q,V);super(R,z),this._configurationService=O,this._accessibilityService=B,this._keybindingService=H,this._hover=this._register(new k.HoverWidget),this._minimumSize=z,this._hoverVisibleKey=n.EditorContextKeys.hoverVisible.bindTo(F),this._hoverFocusedKey=n.EditorContextKeys.hoverFocused.bindTo(F),f.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(Z=>{Z.hasChanged(50)&&this._updateFont()}));const U=this._register(f.trackFocus(this._resizableNode.domNode));this._register(U.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(U.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var R;super.dispose(),(R=this._visibleData)===null||R===void 0||R.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return l.ID}static _applyDimensions(R,F,O){const B=typeof F=="number"?`${F}px`:F,H=typeof O=="number"?`${O}px`:O;R.style.width=B,R.style.height=H}_setContentsDomNodeDimensions(R,F){const O=this._hover.contentsDomNode;return l._applyDimensions(O,R,F)}_setContainerDomNodeDimensions(R,F){const O=this._hover.containerDomNode;return l._applyDimensions(O,R,F)}_setHoverWidgetDimensions(R,F){this._setContentsDomNodeDimensions(R,F),this._setContainerDomNodeDimensions(R,F),this._layoutContentWidget()}static _applyMaxDimensions(R,F,O){const B=typeof F=="number"?`${F}px`:F,H=typeof O=="number"?`${O}px`:O;R.style.maxWidth=B,R.style.maxHeight=H}_setHoverWidgetMaxDimensions(R,F){l._applyMaxDimensions(this._hover.contentsDomNode,R,F),l._applyMaxDimensions(this._hover.containerDomNode,R,F),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof R=="number"?`${R}px`:R),this._layoutContentWidget()}_hasHorizontalScrollbar(){const R=this._hover.scrollbar.getScrollDimensions();return R.scrollWidth>R.width}_adjustContentsBottomPadding(){const R=this._hover.contentsDomNode,F=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;R.style.paddingBottom!==F&&(R.style.paddingBottom=F)}_setAdjustedHoverWidgetDimensions(R){this._setHoverWidgetMaxDimensions("none","none");const F=R.width,O=R.height;this._setHoverWidgetDimensions(F,O),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(F,O-D))}_updateResizableNodeMaxDimensions(){var R,F;const O=(R=this._findMaximumRenderingWidth())!==null&&R!==void 0?R:1/0,B=(F=this._findMaximumRenderingHeight())!==null&&F!==void 0?F:1/0;this._resizableNode.maxSize=new f.Dimension(O,B),this._setHoverWidgetMaxDimensions(O,B)}_resize(R){var F,O;l._lastDimensions=new f.Dimension(R.width,R.height),this._setAdjustedHoverWidgetDimensions(R),this._resizableNode.layout(R.height,R.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(O=(F=this._visibleData)===null||F===void 0?void 0:F.colorPicker)===null||O===void 0||O.layout()}_findAvailableSpaceVertically(){var R;const F=(R=this._visibleData)===null||R===void 0?void 0:R.showAtPosition;if(F)return this._positionPreference===1?this._availableVerticalSpaceAbove(F):this._availableVerticalSpaceBelow(F)}_findMaximumRenderingHeight(){const R=this._findAvailableSpaceVertically();if(!R)return;let F=I;return Array.from(this._hover.contentsDomNode.children).forEach(O=>{F+=O.clientHeight}),this._hasHorizontalScrollbar()&&(F+=D),Math.min(R,F)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const R=Array.from(this._hover.contentsDomNode.children).some(F=>F.scrollWidth>F.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),R}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const R=this._isHoverTextOverflowing(),F=typeof this._contentWidth>"u"?0:this._contentWidth-2;return R||this._hover.containerDomNode.clientWidth<F?f.getClientArea(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(R,F){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=R,this._visibleData.initialMousePosY=F,!1;const O=f.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=P(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,O.left,O.top,O.width,O.height));const B=P(R,F,O.left,O.top,O.width,O.height);return B>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,B),!0)}_setHoverData(R){var F;(F=this._visibleData)===null||F===void 0||F.disposables.dispose(),this._visibleData=R,this._hoverVisibleKey.set(!!R),this._hover.containerDomNode.classList.toggle("hidden",!R)}_updateFont(){const{fontSize:R,lineHeight:F}=this._editor.getOption(50),O=this._hover.contentsDomNode;O.style.fontSize=`${R}px`,O.style.lineHeight=`${F/R}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(H=>this._editor.applyFontInfo(H))}_updateContent(R){const F=this._hover.contentsDomNode;F.style.paddingBottom="",F.textContent="",F.appendChild(R)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const R=Math.max(this._editor.getLayoutInfo().height/4,250,l._lastDimensions.height),F=Math.max(this._editor.getLayoutInfo().width*.66,500,l._lastDimensions.width);this._setHoverWidgetMaxDimensions(F,R)}_render(R,F){this._setHoverData(F),this._updateFont(),this._updateContent(R),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var R;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(R=this._positionPreference)!==null&&R!==void 0?R:1]}:null}showAt(R,F){var O,B,H,V;if(!this._editor||!this._editor.hasModel())return;this._render(R,F);const q=f.getTotalHeight(this._hover.containerDomNode),z=F.showAtPosition;this._positionPreference=(O=this._findPositionPreference(q,z))!==null&&O!==void 0?O:1,this.onContentsChanged(),F.stoleFocus&&this._hover.containerDomNode.focus(),(B=F.colorPicker)===null||B===void 0||B.layout();const Z=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,k.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(V=(H=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||H===void 0?void 0:H.getAriaLabel())!==null&&V!==void 0?V:"");Z&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+Z)}hide(){if(!this._visibleData)return;const R=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new f.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),R&&this._editor.focus()}_removeConstraintsRenderNormally(){const R=this._editor.getLayoutInfo();this._resizableNode.layout(R.height,R.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(R){var F;const O=this._hover.containerDomNode,B=this._hover.contentsDomNode,H=(F=this._findMaximumRenderingHeight())!==null&&F!==void 0?F:1/0;this._setContainerDomNodeDimensions(f.getTotalWidth(O),Math.min(H,R)),this._setContentsDomNodeDimensions(f.getTotalWidth(B),Math.min(H,R-D))}setMinimumDimensions(R){this._minimumSize=new f.Dimension(Math.max(this._minimumSize.width,R.width),Math.max(this._minimumSize.height,R.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const R=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new f.Dimension(R,this._minimumSize.height)}onContentsChanged(){var R;this._removeConstraintsRenderNormally();const F=this._hover.containerDomNode;let O=f.getTotalHeight(F),B=f.getTotalWidth(F);if(this._resizableNode.layout(O,B),this._setHoverWidgetDimensions(B,O),O=f.getTotalHeight(F),B=f.getTotalWidth(F),this._contentWidth=B,this._updateMinimumWidth(),this._resizableNode.layout(O,B),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(O)),!((R=this._visibleData)===null||R===void 0)&&R.showAtPosition){const H=f.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(H,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const R=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:R-F.lineHeight})}scrollDown(){const R=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:R+F.lineHeight})}scrollLeft(){const R=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:R-S})}scrollRight(){const R=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:R+S})}pageUp(){const R=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:R-F})}pageDown(){const R=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:R+F})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=T,T.ID="editor.contrib.resizableContentHoverWidget",T._lastDimensions=new f.Dimension(0,0),e.ContentHoverWidget=T=l=Ie([ue(1,h.IContextKeyService),ue(2,u.IConfigurationService),ue(3,d.IAccessibilityService),ue(4,i.IKeybindingService)],T);let N=class extends L.Disposable{get hasContent(){return this._hasContent}constructor(R){super(),this._keybindingService=R,this._hasContent=!1,this.hoverElement=o("div.hover-row.status-bar"),this.actionsElement=f.append(this.hoverElement,o("div.actions"))}addAction(R){const F=this._keybindingService.lookupKeybinding(R.commandId),O=F?F.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,R,O))}append(R){const F=f.append(this.actionsElement,R);return this._hasContent=!0,F}};e.EditorHoverStatusBar=N,e.EditorHoverStatusBar=N=Ie([ue(0,i.IKeybindingService)],N);class A{get anchor(){return this._anchor}set anchor(R){this._anchor=R}get shouldFocus(){return this._shouldFocus}set shouldFocus(R){this._shouldFocus=R}get source(){return this._source}set source(R){this._source=R}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(R){this._insistOnKeepingHoverVisible=R}constructor(R,F){this._editor=R,this._participants=F,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(R,F){if(F.type!==1&&!F.supportsMarkerHover)return[];const O=R.getModel(),B=F.range.startLineNumber;if(B>O.getLineCount())return[];const H=O.getLineMaxColumn(B);return R.getLineDecorations(B).filter(V=>{if(V.options.isWholeLine)return!0;const q=V.range.startLineNumber===B?V.range.startColumn:1,z=V.range.endLineNumber===B?V.range.endColumn:H;if(V.options.showIfCollapsed){if(q>F.range.startColumn+1||F.range.endColumn-1>z)return!1}else if(q>F.range.startColumn||F.range.endColumn>z)return!1;return!0})}computeAsync(R){const F=this._anchor;if(!this._editor.hasModel()||!F)return t.AsyncIterableObject.EMPTY;const O=A._getLineDecorations(this._editor,F);return t.AsyncIterableObject.merge(this._participants.map(B=>B.computeAsync?B.computeAsync(F,O,R):t.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const R=A._getLineDecorations(this._editor,this._anchor);let F=[];for(const O of this._participants)F=F.concat(O.computeSync(this._anchor,R));return(0,E.coalesce)(F)}}function P(M,R,F,O,B,H){const V=F+B/2,q=O+H/2,z=Math.max(Math.abs(M-V)-B/2,0),U=Math.max(Math.abs(R-q)-H/2,0);return Math.sqrt(z*z+U*U)}}),define(ie[946],ne([1,0,2,397,8,400,35,7,18,16,20,14,53,33,372,6,217]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";var h,m;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let u=h=class extends f.Disposable{constructor(c,b,C,S,D,I,T){super(),this._editor=c,this._modelService=C,this._keybindingService=S,this._instantiationService=D,this._languageFeatureService=I,this._languageConfigurationService=T,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=_.EditorContextKeys.standaloneColorPickerVisible.bindTo(b),this._standaloneColorPickerFocused=_.EditorContextKeys.standaloneColorPickerFocused.bindTo(b)}showOrFocus(){var c;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(c=this._standaloneColorPickerWidget)===null||c===void 0||c.focus():this._standaloneColorPickerWidget=new l(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var c;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(c=this._standaloneColorPickerWidget)===null||c===void 0||c.hide(),this._editor.focus()}insertColor(){var c;(c=this._standaloneColorPickerWidget)===null||c===void 0||c.updateEditor(),this.hide()}static get(c){return c.getContribution(h.ID)}};e.StandaloneColorPickerController=u,u.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=u=h=Ie([ue(1,a.IContextKeyService),ue(2,s.IModelService),ue(3,y.IKeybindingService),ue(4,E.IInstantiationService),ue(5,w.ILanguageFeaturesService),ue(6,i.ILanguageConfigurationService)],u),(0,v.registerEditorContribution)(u.ID,u,1);const d=8,r=22;let l=m=class extends f.Disposable{constructor(c,b,C,S,D,I,T,N){var A;super(),this._editor=c,this._standaloneColorPickerVisible=b,this._standaloneColorPickerFocused=C,this._modelService=D,this._keybindingService=I,this._languageFeaturesService=T,this._languageConfigurationService=N,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new p.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=S.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(A=this._editor._getViewModel())===null||A===void 0?void 0:A.getPrimaryCursorState().modelState.position;const P=this._editor.getSelection(),M=P?{startLineNumber:P.startLineNumber,startColumn:P.startColumn,endLineNumber:P.endLineNumber,endColumn:P.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},R=this._register(n.trackFocus(this._body));this._register(R.onDidBlur(F=>{this.hide()})),this._register(R.onDidFocus(F=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(F=>{var O;const B=(O=F.target.element)===null||O===void 0?void 0:O.classList;B&&B.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(F=>{this._render(F.value,F.foundInEditor)})),this._start(M),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return m.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const c=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:c?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(c){const b=await this._computeAsync(c);b&&this._onResult.fire(new o(b.result,b.foundInEditor))}async _computeAsync(c){if(!this._editor.hasModel())return null;const b={range:c,color:{red:0,green:0,blue:0,alpha:1}},C=await this._standaloneColorPickerParticipant.createColorHover(b,new t.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return C?{result:C.colorHover,foundInEditor:C.foundInEditor}:null}_render(c,b){const C=document.createDocumentFragment(),S=this._register(new L.EditorHoverStatusBar(this._keybindingService));let D;const I={fragment:C,statusBar:S,setColorPicker:B=>D=B,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=c,this._register(this._standaloneColorPickerParticipant.renderHoverParts(I,[c])),D===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(C),D.layout();const T=D.body,N=T.saturationBox.domNode.clientWidth,A=T.domNode.clientWidth-N-r-d,P=D.body.enterButton;P?.onClicked(()=>{this.updateEditor(),this.hide()});const M=D.header,R=M.pickedColorNode;R.style.width=N+d+"px";const F=M.originalColorNode;F.style.width=A+"px";const O=D.header.closeButton;O?.onClicked(()=>{this.hide()}),b&&(P&&(P.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(c.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=l,l.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=l=m=Ie([ue(3,E.IInstantiationService),ue(4,s.IModelService),ue(5,y.IKeybindingService),ue(6,w.ILanguageFeaturesService),ue(7,i.ILanguageConfigurationService)],l);class o{constructor(c,b){this.value=c,this.foundInEditor=b}}}),define(ie[947],ne([1,0,16,690,946,20,28,217]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class p extends f.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,k.localize2)(3,"Show or Focus Standalone Color Picker"),mnemonicTitle:(0,k.localize)(0,null)},precondition:void 0,menu:[{id:y.MenuId.CommandPalette}]})}runEditorCommand(a,s){var i;(i=E.StandaloneColorPickerController.get(s))===null||i===void 0||i.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=p;class w extends f.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(1,null),alias:"Hide the Color Picker",precondition:L.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(a,s){var i;(i=E.StandaloneColorPickerController.get(s))===null||i===void 0||i.hide()}}class v extends f.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(2,null),alias:"Insert Color with Standalone Color Picker",precondition:L.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(a,s){var i;(i=E.StandaloneColorPickerController.get(s))===null||i===void 0||i.insertColor()}}(0,f.registerEditorAction)(w),(0,f.registerEditorAction)(v),(0,y.registerAction2)(p)}),define(ie[948],ne([1,0,15,12,115,16,5,24,20,37,111,718,585,487]),function(J,e,f,k,E,L,y,p,w,v,_,a,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});let t=i=class{static get(u){return u.getContribution(i.ID)}constructor(u,d){this.editor=u,this.editorWorkerService=d,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(u,d){var r;(r=this.currentRequest)===null||r===void 0||r.cancel();const l=this.editor.getSelection(),o=this.editor.getModel();if(!o||!l)return;let g=l;if(g.startLineNumber!==g.endLineNumber)return;const c=new E.EditorState(this.editor,5),b=o.uri;return this.editorWorkerService.canNavigateValueSet(b)?(this.currentRequest=(0,f.createCancelablePromise)(C=>this.editorWorkerService.navigateValueSet(b,g,d)),this.currentRequest.then(C=>{var S;if(!C||!C.range||!C.value||!c.validate(this.editor))return;const D=y.Range.lift(C.range);let I=C.range;const T=C.value.length-(g.endColumn-g.startColumn);I={startLineNumber:I.startLineNumber,startColumn:I.startColumn,endLineNumber:I.endLineNumber,endColumn:I.startColumn+C.value.length},T>1&&(g=new p.Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn+T-1));const N=new s.InPlaceReplaceCommand(D,g,C.value);this.editor.pushUndoStop(),this.editor.executeCommand(u,N),this.editor.pushUndoStop(),this.decorations.set([{range:I,options:i.DECORATION}]),(S=this.decorationRemover)===null||S===void 0||S.cancel(),this.decorationRemover=(0,f.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=v.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=i=Ie([ue(1,_.IEditorWorkerService)],t);class n extends L.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:a.localize(0,null),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(u,d){const r=t.get(d);return r?r.run(this.id,!1):Promise.resolve(void 0)}}class h extends L.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:a.localize(1,null),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(u,d){const r=t.get(d);return r?r.run(this.id,!0):Promise.resolve(void 0)}}(0,L.registerEditorContribution)(t.ID,t,4),(0,L.registerEditorAction)(n),(0,L.registerEditorAction)(h)}),define(ie[278],ne([1,0,6,15,26,2,11,31,5,37,8,492]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const a=v.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:y.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class s extends L.Disposable{constructor(n,h,m,u,d){super(),this.typeId=n,this.editor=h,this.range=m,this.delegate=d,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(u),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(n){this.domNode=f.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=n;const h=f.$("span.icon");this.domNode.append(h),h.classList.add(...p.ThemeIcon.asClassNameArray(E.Codicon.loading),"codicon-modifier-spin");const m=()=>{const u=this.editor.getOption(67);this.domNode.style.height=`${u}px`,this.domNode.style.width=`${Math.ceil(.8*u)}px`};m(),this._register(this.editor.onDidChangeConfiguration(u=>{(u.hasChanged(52)||u.hasChanged(67))&&m()})),this._register(f.addDisposableListener(this.domNode,f.EventType.CLICK,u=>{this.delegate.cancel()}))}getId(){return s.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}s.baseId="editor.widget.inlineProgressWidget";let i=class extends L.Disposable{constructor(n,h,m){super(),this.id=n,this._editor=h,this._instantiationService=m,this._showDelay=500,this._showPromise=this._register(new L.MutableDisposable),this._currentWidget=new L.MutableDisposable,this._operationIdPool=0,this._currentDecorations=h.createDecorationsCollection()}async showWhile(n,h,m){const u=this._operationIdPool++;this._currentOperation=u,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const d=w.Range.fromPositions(n);this._currentDecorations.set([{range:d,options:a}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(s,this.id,this._editor,d,h,m))},this._showDelay);try{return await m}finally{this._currentOperation===u&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=i,e.InlineProgressManager=i=Ie([ue(2,_.IInstantiationService)],i)}),define(ie[949],ne([1,0,13,15,186,88,2,371,5,18,313,801,115,278,698,25,14,370,8,256,364]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new h.RawContextKey("dropWidgetVisible",!1,(0,t.localize)(0,null));let o=l=class extends y.Disposable{static get(c){return c.getContribution(l.ID)}constructor(c,b,C,S,D){super(),this._configService=C,this._languageFeaturesService=S,this._treeViewsDragAndDropService=D,this.treeItemsTransfer=m.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(b.createInstance(i.InlineProgressManager,"dropIntoEditor",c)),this._postDropWidgetManager=this._register(b.createInstance(r.PostEditWidgetManager,"dropIntoEditor",c,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,t.localize)(1,null)})),this._register(c.onDropIntoEditor(I=>this.onDropIntoEditor(c,I.position,I.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(c,b,C){var S;if(!C.dataTransfer||!c.hasModel())return;(S=this._currentOperation)===null||S===void 0||S.cancel(),c.focus(),c.setPosition(b);const D=(0,k.createCancelablePromise)(async I=>{const T=new s.EditorStateCancellationTokenSource(c,1,void 0,I);try{const N=await this.extractDataTransferData(C);if(N.size===0||T.token.isCancellationRequested)return;const A=c.getModel();if(!A)return;const P=this._languageFeaturesService.documentOnDropEditProvider.ordered(A).filter(R=>R.dropMimeTypes?R.dropMimeTypes.some(F=>N.matches(F)):!0),M=await this.getDropEdits(P,A,b,N,T);if(T.token.isCancellationRequested)return;if(M.length){const R=this.getInitialActiveEditIndex(A,M),F=c.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([w.Range.fromPositions(b)],{activeEditIndex:R,allEdits:M},F,async O=>O,I)}}finally{T.dispose(),this._currentOperation===D&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(b,(0,t.localize)(2,null),D),this._currentOperation=D}async getDropEdits(c,b,C,S,D){const I=await(0,k.raceCancellation)(Promise.all(c.map(async N=>{try{const A=await N.provideDocumentOnDropEdits(b,C,S,D.token);return A?.map(P=>({...P,providerId:N.id}))}catch(A){console.error(A)}})),D.token),T=(0,f.coalesce)(I??[]).flat();return(0,d.sortEditsByYieldTo)(T)}getInitialActiveEditIndex(c,b){const C=this._configService.getValue(e.defaultProviderConfig,{resource:c.uri});for(const[S,D]of Object.entries(C)){const I=new L.HierarchicalKind(D),T=b.findIndex(N=>I.value===N.providerId&&N.handledMimeType&&(0,E.matchesMimeType)(S,[N.handledMimeType]));if(T>=0)return T}return 0}async extractDataTransferData(c){if(!c.dataTransfer)return new E.VSDataTransfer;const b=(0,p.toExternalVSDataTransfer)(c.dataTransfer);if(this.treeItemsTransfer.hasData(_.DraggedTreeItemsIdentifier.prototype)){const C=this.treeItemsTransfer.getData(_.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(C))for(const S of C){const D=await this._treeViewsDragAndDropService.removeDragOperationTransfer(S.identifier);if(D)for(const[I,T]of D)b.replace(I,T)}}return b}};e.DropIntoEditorController=o,o.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=o=l=Ie([ue(1,u.IInstantiationService),ue(2,n.IConfigurationService),ue(3,v.ILanguageFeaturesService),ue(4,a.ITreeViewsDnDService)],o)}),define(ie[950],ne([1,0,13,15,19,34,12,7,2,11,22,16,36,9,5,20,37,33,728,14,18,32,83,63,493]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new d.RawContextKey("LinkedEditingInputVisible",!1);const b="linked-editing-decoration";let C=c=class extends w.Disposable{static get(N){return N.getContribution(c.ID)}constructor(N,A,P,M,R){super(),this.languageConfigurationService=M,this._syncRangesToken=0,this._localToDispose=this._register(new w.DisposableStore),this._editor=N,this._providers=P.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(A),this._debounceInformation=R.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(70)||F.hasChanged(93))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(N){const A=this._editor.getModel(),P=A!==null&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(A);if(P===this._enabled&&!N||(this._enabled=P,this.clearRanges(),this._localToDispose.clear(),!P||A===null))return;this._localToDispose.add(p.Event.runAndSubscribe(A.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition()}));const M=new k.Delayer(this._debounceInformation.get(A)),R=()=>{var B;this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),(B=this._debounceDuration)!==null&&B!==void 0?B:this._debounceInformation.get(A))},F=new k.Delayer(0),O=B=>{this._rangeSyncTriggerPromise=F.trigger(()=>this._syncRanges(B))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{R()})),this._localToDispose.add(this._editor.onDidChangeModelContent(B=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const H=this._currentDecorations.getRange(0);if(H&&B.changes.every(V=>H.intersectRanges(V.range))){O(this._syncRangesToken);return}}R()})),this._localToDispose.add({dispose:()=>{M.dispose(),F.dispose()}}),this.updateRanges()}_syncRanges(N){if(!this._editor.hasModel()||N!==this._syncRangesToken||this._currentDecorations.length===0)return;const A=this._editor.getModel(),P=this._currentDecorations.getRange(0);if(!P||P.startLineNumber!==P.endLineNumber)return this.clearRanges();const M=A.getValueInRange(P);if(this._currentWordPattern){const F=M.match(this._currentWordPattern);if((F?F[0].length:0)!==M.length)return this.clearRanges()}const R=[];for(let F=1,O=this._currentDecorations.length;F<O;F++){const B=this._currentDecorations.getRange(F);if(B)if(B.startLineNumber!==B.endLineNumber)R.push({range:B,text:M});else{let H=A.getValueInRange(B),V=M,q=B.startColumn,z=B.endColumn;const U=v.commonPrefixLength(H,V);q+=U,H=H.substr(U),V=V.substr(U);const Z=v.commonSuffixLength(H,V);z-=Z,H=H.substr(0,H.length-Z),V=V.substr(0,V.length-Z),(q!==z||V.length!==0)&&R.push({range:new t.Range(B.startLineNumber,q,B.endLineNumber,z),text:V})}}if(R.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const F=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",R),this._editor._getViewModel().setPrevEditOperationType(F)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(N=!1){if(!this._editor.hasModel()){this.clearRanges();return}const A=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1){this.clearRanges();return}const P=this._editor.getModel(),M=P.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(A.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const F=this._currentDecorations.getRange(0);if(F&&F.containsPosition(A))return}}this.clearRanges(),this._currentRequestPosition=A,this._currentRequestModelVersion=M;const R=this._currentRequestCts=new E.CancellationTokenSource;try{const F=new g.StopWatch(!1),O=await I(this._providers,P,A,R.token);if(this._debounceInformation.update(P,F.elapsed()),R!==this._currentRequestCts||(this._currentRequestCts=null,M!==P.getVersionId()))return;let B=[];O?.ranges&&(B=O.ranges),this._currentWordPattern=O?.wordPattern||this._languageWordPattern;let H=!1;for(let q=0,z=B.length;q<z;q++)if(t.Range.containsPosition(B[q],A)){if(H=!0,q!==0){const U=B[q];B.splice(q,1),B.unshift(U)}break}if(!H){this.clearRanges();return}const V=B.map(q=>({range:q,options:c.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(V),this._syncRangesToken++}catch(F){(0,y.isCancellationError)(F)||(0,y.onUnexpectedError)(F),(this._currentRequestCts===R||!this._currentRequestCts)&&this.clearRanges()}}};e.LinkedEditingContribution=C,C.ID="editor.contrib.linkedEditing",C.DECORATION=h.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:b}),e.LinkedEditingContribution=C=c=Ie([ue(1,d.IContextKeyService),ue(2,r.ILanguageFeaturesService),ue(3,m.ILanguageConfigurationService),ue(4,o.ILanguageFeatureDebounceService)],C);class S extends a.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:u.localize(0,null),alias:"Start Linked Editing",precondition:d.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(N,A){const P=N.get(s.ICodeEditorService),[M,R]=Array.isArray(A)&&A||[void 0,void 0];return _.URI.isUri(M)&&i.Position.isIPosition(R)?P.openCodeEditor({resource:M},P.getActiveCodeEditor()).then(F=>{F&&(F.setPosition(R),F.invokeWithinContext(O=>(this.reportTelemetry(O,F),this.run(O,F))))},y.onUnexpectedError):super.runCommand(N,A)}run(N,A){const P=C.get(A);return P?Promise.resolve(P.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=S;const D=a.EditorCommand.bindToContribution(C.get);(0,a.registerEditorCommand)(new D({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function I(T,N,A,P){const M=T.ordered(N);return(0,k.first)(M.map(R=>async()=>{try{return await R.provideLinkedEditingRanges(N,A,P)}catch(F){(0,y.onUnexpectedExternalError)(F);return}}),R=>!!R&&f.isNonEmptyArray(R?.ranges))}e.editorLinkedEditingBackground=(0,l.registerColor)("editor.linkedEditingBackground",{dark:L.Color.fromHex("#f00").transparent(.3),light:L.Color.fromHex("#f00").transparent(.3),hcDark:L.Color.fromHex("#f00").transparent(.3),hcLight:L.Color.white},u.localize(1,null)),(0,a.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,N,A)=>{const{linkedEditingRangeProvider:P}=T.get(r.ILanguageFeaturesService);return I(P,N,A,E.CancellationToken.None)}),(0,a.registerEditorContribution)(C.ID,C,1),(0,a.registerEditorAction)(S)}),define(ie[951],ne([1,0,15,19,12,57,2,49,17,50,63,22,16,37,83,18,199,803,729,51,59,494]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let o=l=class extends y.Disposable{static get(D){return D.getContribution(l.ID)}constructor(D,I,T,N,A){super(),this.editor=D,this.openerService=I,this.notificationService=T,this.languageFeaturesService=N,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=A.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new f.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const P=this._register(new h.ClickLinkGesture(D));this._register(P.onMouseMoveOrRelevantKeyDown(([M,R])=>{this._onEditorMouseMove(M,R)})),this._register(P.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(P.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(D.onDidChangeConfiguration(M=>{M.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(D.onDidChangeModelContent(M=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(D.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(D.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const D=this.editor.getModel();if(!D.isTooLargeForSyncing()&&this.providers.has(D)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,f.createCancelablePromise)(I=>(0,m.getLinks)(this.providers,D,I));try{const I=new _.StopWatch(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(D,I.elapsed()),D.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(I){(0,E.onUnexpectedError)(I)}finally{this.computePromise=null}}}updateDecorations(D){const I=this.editor.getOption(78)==="altKey",T=[],N=Object.keys(this.currentOccurrences);for(const P of N){const M=this.currentOccurrences[P];T.push(M.decorationId)}const A=[];if(D)for(const P of D)A.push(c.decoration(P,I));this.editor.changeDecorations(P=>{const M=P.deltaDecorations(T,A);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let R=0,F=M.length;R<F;R++){const O=new c(D[R],M[R]);this.currentOccurrences[O.decorationId]=O}})}_onEditorMouseMove(D,I){const T=this.editor.getOption(78)==="altKey";if(this.isEnabled(D,I)){this.cleanUpActiveLinkDecoration();const N=this.getLinkOccurrence(D.target.position);N&&this.editor.changeDecorations(A=>{N.activate(A,T),this.activeLinkDecorationId=N.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const D=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const I=this.currentOccurrences[this.activeLinkDecorationId];I&&this.editor.changeDecorations(T=>{I.deactivate(T,D)}),this.activeLinkDecorationId=null}}onEditorMouseUp(D){if(!this.isEnabled(D))return;const I=this.getLinkOccurrence(D.target.position);I&&this.openLinkOccurrence(I,D.hasSideBySideModifier,!0)}openLinkOccurrence(D,I,T=!1){if(!this.openerService)return;const{link:N}=D;N.resolve(k.CancellationToken.None).then(A=>{if(typeof A=="string"&&this.editor.hasModel()){const P=this.editor.getModel().uri;if(P.scheme===p.Schemas.file&&A.startsWith(`${p.Schemas.file}:`)){const M=a.URI.parse(A);if(M.scheme===p.Schemas.file){const R=v.originalFSPath(M);let F=null;R.startsWith("/./")||R.startsWith("\\.\\")?F=`.${R.substr(1)}`:(R.startsWith("//./")||R.startsWith("\\\\.\\"))&&(F=`.${R.substr(2)}`),F&&(A=v.joinPath(P,F))}}}return this.openerService.open(A,{openToSide:I,fromUserGesture:T,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},A=>{const P=A instanceof Error?A.message:A;P==="invalid"?this.notificationService.warn(u.localize(0,null,N.url.toString())):P==="missing"?this.notificationService.warn(u.localize(1,null)):(0,E.onUnexpectedError)(A)})}getLinkOccurrence(D){if(!this.editor.hasModel()||!D)return null;const I=this.editor.getModel().getDecorationsInRange({startLineNumber:D.lineNumber,startColumn:D.column,endLineNumber:D.lineNumber,endColumn:D.column},0,!0);for(const T of I){const N=this.currentOccurrences[T.id];if(N)return N}return null}isEnabled(D,I){return!!(D.target.type===6&&(D.hasTriggerModifier||I&&I.keyCodeIsTriggerKey))}stop(){var D;this.computeLinks.cancel(),this.activeLinksList&&((D=this.activeLinksList)===null||D===void 0||D.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=o,o.ID="editor.linkDetector",e.LinkDetector=o=l=Ie([ue(1,r.IOpenerService),ue(2,d.INotificationService),ue(3,n.ILanguageFeaturesService),ue(4,t.ILanguageFeatureDebounceService)],o);const g={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class c{static decoration(D,I){return{range:D.range,options:c._getOptions(D,I,!1)}}static _getOptions(D,I,T){const N={...T?g.active:g.general};return N.hoverMessage=b(D,I),N}constructor(D,I){this.link=D,this.decorationId=I}activate(D,I){D.changeDecorationOptions(this.decorationId,c._getOptions(this.link,I,!0))}deactivate(D,I){D.changeDecorationOptions(this.decorationId,c._getOptions(this.link,I,!1))}}function b(S,D){const I=S.url&&/^command:/i.test(S.url.toString()),T=S.tooltip?S.tooltip:I?u.localize(2,null):u.localize(3,null),N=D?w.isMacintosh?u.localize(4,null):u.localize(5,null):w.isMacintosh?u.localize(6,null):u.localize(7,null);if(S.url){let A="";if(/^command:/i.test(S.url.toString())){const M=S.url.toString().match(/^command:([^?#]+)/);if(M){const R=M[1];A=u.localize(8,null,R)}}return new L.MarkdownString("",!0).appendLink(S.url.toString(!0).replace(/ /g,"%20"),T,A).appendMarkdown(` (${N})`)}else return new L.MarkdownString().appendText(`${T} (${N})`)}class C extends s.EditorAction{constructor(){super({id:"editor.action.openLink",label:u.localize(9,null),alias:"Open Link",precondition:void 0})}run(D,I){const T=o.get(I);if(!T||!I.hasModel())return;const N=I.getSelections();for(const A of N){const P=T.getLinkOccurrence(A.getEndPosition());P&&T.openLinkOccurrence(P,!1)}}}(0,s.registerEditorContribution)(o.ID,o,1),(0,s.registerEditorAction)(C)}),define(ie[952],ne([1,0,15,2,16,33,37,111]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SectionHeaderDetector=void 0;let w=class extends k.Disposable{constructor(a,s,i){super(),this.editor=a,this.languageConfigurationService=s,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(a.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(a.onDidChangeModel(t=>{this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(a.onDidChangeModelLanguage(t=>{this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(s.onDidChange(t=>{var n;const h=(n=this.editor.getModel())===null||n===void 0?void 0:n.getLanguageId();h&&t.affects(h)&&(this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(a.onDidChangeConfiguration(t=>{this.options&&!t.hasChanged(73)||(this.options=this.createOptions(a.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(t=>{this.computeSectionHeaders.schedule()})),this.computeSectionHeaders=this._register(new f.RunOnceScheduler(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(a){if(!a||!this.editor.hasModel())return;const s=this.editor.getModel().getLanguageId();if(!s)return;const i=this.languageConfigurationService.getLanguageConfiguration(s).comments,t=this.languageConfigurationService.getLanguageConfiguration(s).foldingRules;if(!(!i&&!t?.markers))return{foldingRules:t,findMarkSectionHeaders:a.showMarkSectionHeaders,findRegionSectionHeaders:a.showRegionSectionHeaders}}findSectionHeaders(){var a,s;if(!this.editor.hasModel()||!(!((a=this.options)===null||a===void 0)&&a.findMarkSectionHeaders)&&!(!((s=this.options)===null||s===void 0)&&s.findRegionSectionHeaders))return;const i=this.editor.getModel();if(i.isDisposed()||i.isTooLargeForSyncing())return;const t=i.getVersionId();this.editorWorkerService.findSectionHeaders(i.uri,this.options).then(n=>{i.isDisposed()||i.getVersionId()!==t||this.updateDecorations(n)})}updateDecorations(a){const s=this.editor.getModel();s&&(a=a.filter(n=>{if(!n.shouldBeInComments)return!0;const h=s.validateRange(n.range),m=s.tokenization.getLineTokens(h.startLineNumber),u=m.findTokenIndexAtOffset(h.startColumn-1),d=m.getStandardTokenType(u);return m.getLanguageId(u)===s.getLanguageId()&&d===1}));const i=Object.values(this.currentOccurrences).map(n=>n.decorationId),t=a.map(n=>v(n));this.editor.changeDecorations(n=>{const h=n.deltaDecorations(i,t);this.currentOccurrences={};for(let m=0,u=h.length;m<u;m++){const d={sectionHeader:a[m],decorationId:h[m]};this.currentOccurrences[d.decorationId]=d}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};e.SectionHeaderDetector=w,w.ID="editor.sectionHeaderDetector",e.SectionHeaderDetector=w=Ie([ue(1,L.ILanguageConfigurationService),ue(2,p.IEditorWorkerService)],w);function v(_){return{range:_.range,options:y.ModelDecorationOptions.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:_.hasSeparatorLine?2:1,sectionHeaderText:_.text}})}}(0,E.registerEditorContribution)(w.ID,w,1)}),define(ie[953],ne([1,0,2,18,173,15,277,322,321,33,12,327,54,8]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var t;(function(o){o.OUTLINE_MODEL="outlineModel",o.FOLDING_PROVIDER_MODEL="foldingProviderModel",o.INDENTATION_MODEL="indentationModel"})(t||(t={}));var n;(function(o){o[o.VALID=0]="VALID",o[o.INVALID=1]="INVALID",o[o.CANCELED=2]="CANCELED"})(n||(n={}));let h=class extends f.Disposable{constructor(g,c,b,C){switch(super(),this._editor=g,this._languageConfigurationService=b,this._languageFeaturesService=C,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new L.Delayer(300)),this._updateOperation=this._register(new f.DisposableStore),this._editor.getOption(115).defaultModel){case t.OUTLINE_MODEL:this._modelProviders.push(new u(this._editor,C));case t.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new l(this._editor,c,C));case t.INDENTATION_MODEL:this._modelProviders.push(new r(this._editor,b));break}}dispose(){this._modelProviders.forEach(g=>g.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(g){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const c of this._modelProviders){const{statusPromise:b,modelPromise:C}=c.computeStickyModel(g);this._modelPromise=C;const S=await b;if(this._modelPromise!==C)return null;switch(S){case n.CANCELED:return this._updateOperation.clear(),null;case n.VALID:return c.stickyModel}}return null}).catch(c=>((0,_.onUnexpectedError)(c),null))}};e.StickyModelProvider=h,e.StickyModelProvider=h=Ie([ue(2,i.IInstantiationService),ue(3,k.ILanguageFeaturesService)],h);class m extends f.Disposable{constructor(g){super(),this._editor=g,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,n.INVALID}computeStickyModel(g){if(g.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const c=(0,L.createCancelablePromise)(b=>this.createModelFromProvider(b));return{statusPromise:c.then(b=>this.isModelValid(b)?g.isCancellationRequested?n.CANCELED:(this._stickyModel=this.createStickyModel(g,b),n.VALID):this._invalid()).then(void 0,b=>((0,_.onUnexpectedError)(b),n.CANCELED)),modelPromise:c}}isModelValid(g){return!0}isProviderValid(){return!0}}let u=class extends m{constructor(g,c){super(g),this._languageFeaturesService=c}createModelFromProvider(g){return E.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),g)}createStickyModel(g,c){var b;const{stickyOutlineElement:C,providerID:S}=this._stickyModelFromOutlineModel(c,(b=this._stickyModel)===null||b===void 0?void 0:b.outlineProviderId),D=this._editor.getModel();return new a.StickyModel(D.uri,D.getVersionId(),C,S)}isModelValid(g){return g&&g.children.size>0}_stickyModelFromOutlineModel(g,c){let b;if(s.Iterable.first(g.children.values())instanceof E.OutlineGroup){const I=s.Iterable.find(g.children.values(),T=>T.id===c);if(I)b=I.children;else{let T="",N=-1,A;for(const[P,M]of g.children.entries()){const R=this._findSumOfRangesOfGroup(M);R>N&&(A=M,N=R,T=M.id)}c=T,b=A.children}}else b=g.children;const C=[],S=Array.from(b.values()).sort((I,T)=>{const N=new a.StickyRange(I.symbol.range.startLineNumber,I.symbol.range.endLineNumber),A=new a.StickyRange(T.symbol.range.startLineNumber,T.symbol.range.endLineNumber);return this._comparator(N,A)});for(const I of S)C.push(this._stickyModelFromOutlineElement(I,I.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new a.StickyElement(void 0,C,void 0),providerID:c}}_stickyModelFromOutlineElement(g,c){const b=[];for(const S of g.children.values())if(S.symbol.selectionRange.startLineNumber!==S.symbol.range.endLineNumber)if(S.symbol.selectionRange.startLineNumber!==c)b.push(this._stickyModelFromOutlineElement(S,S.symbol.selectionRange.startLineNumber));else for(const D of S.children.values())b.push(this._stickyModelFromOutlineElement(D,S.symbol.selectionRange.startLineNumber));b.sort((S,D)=>this._comparator(S.range,D.range));const C=new a.StickyRange(g.symbol.selectionRange.startLineNumber,g.symbol.range.endLineNumber);return new a.StickyElement(C,b,void 0)}_comparator(g,c){return g.startLineNumber!==c.startLineNumber?g.startLineNumber-c.startLineNumber:c.endLineNumber-g.endLineNumber}_findSumOfRangesOfGroup(g){let c=0;for(const b of g.children.values())c+=this._findSumOfRangesOfGroup(b);return g instanceof E.OutlineElement?c+g.symbol.range.endLineNumber-g.symbol.selectionRange.startLineNumber:c}};u=Ie([ue(1,k.ILanguageFeaturesService)],u);class d extends m{constructor(g){super(g),this._foldingLimitReporter=new y.RangesLimitReporter(g)}createStickyModel(g,c){const b=this._fromFoldingRegions(c),C=this._editor.getModel();return new a.StickyModel(C.uri,C.getVersionId(),b,void 0)}isModelValid(g){return g!==null}_fromFoldingRegions(g){const c=g.length,b=[],C=new a.StickyElement(void 0,[],void 0);for(let S=0;S<c;S++){const D=g.getParentIndex(S);let I;D!==-1?I=b[D]:I=C;const T=new a.StickyElement(new a.StickyRange(g.getStartLineNumber(S),g.getEndLineNumber(S)+1),[],I);I.children.push(T),b.push(T)}return C}}let r=class extends d{constructor(g,c){super(g),this._languageConfigurationService=c,this.provider=this._register(new w.IndentRangeProvider(g.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}async createModelFromProvider(g){return this.provider.compute(g)}};r=Ie([ue(1,v.ILanguageConfigurationService)],r);let l=class extends d{constructor(g,c,b){super(g),this._languageFeaturesService=b;const C=y.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,g.getModel());C.length>0&&(this.provider=this._register(new p.SyntaxRangeProvider(g.getModel(),C,c,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}async createModelFromProvider(g){var c,b;return(b=(c=this.provider)===null||c===void 0?void 0:c.compute(g))!==null&&b!==void 0?b:null}};l=Ie([ue(2,k.ILanguageFeaturesService)],l)}),define(ie[954],ne([1,0,2,18,19,15,13,7,33,953]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class _{constructor(i,t,n){this.startLineNumber=i,this.endLineNumber=t,this.nestingDepth=n}}e.StickyLineCandidate=_;let a=class extends f.Disposable{constructor(i,t,n){super(),this._languageFeaturesService=t,this._languageConfigurationService=n,this._onDidChangeStickyScroll=this._register(new p.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=i,this._sessionStore=this._register(new f.DisposableStore),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(h=>{h.hasChanged(115)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(115).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,f.toDisposable)(()=>{var t;(t=this._stickyModelProvider)===null||t===void 0||t.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var i;return(i=this._model)===null||i===void 0?void 0:i.version}updateStickyModelProvider(){var i;(i=this._stickyModelProvider)===null||i===void 0||i.dispose(),this._stickyModelProvider=null;const t=this._editor;t.hasModel()&&(this._stickyModelProvider=new v.StickyModelProvider(t,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){var i;(i=this._cts)===null||i===void 0||i.dispose(!0),this._cts=new E.CancellationTokenSource,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(i){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=await this._stickyModelProvider.update(i);i.isCancellationRequested||(this._model=t)}updateIndex(i){return i===-1?i=0:i<0&&(i=-i-2),i}getCandidateStickyLinesIntersectingFromStickyModel(i,t,n,h,m){if(t.children.length===0)return;let u=m;const d=[];for(let o=0;o<t.children.length;o++){const g=t.children[o];g.range&&d.push(g.range.startLineNumber)}const r=this.updateIndex((0,y.binarySearch)(d,i.startLineNumber,(o,g)=>o-g)),l=this.updateIndex((0,y.binarySearch)(d,i.startLineNumber+h,(o,g)=>o-g));for(let o=r;o<=l;o++){const g=t.children[o];if(!g)return;if(g.range){const c=g.range.startLineNumber,b=g.range.endLineNumber;i.startLineNumber<=b+1&&c-1<=i.endLineNumber&&c!==u&&(u=c,n.push(new _(c,b-1,h+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(i,g,n,h+1,c))}else this.getCandidateStickyLinesIntersectingFromStickyModel(i,g,n,h,m)}}getCandidateStickyLinesIntersecting(i){var t,n;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let h=[];this.getCandidateStickyLinesIntersectingFromStickyModel(i,this._model.element,h,0,-1);const m=(n=this._editor._getViewModel())===null||n===void 0?void 0:n.getHiddenAreas();if(m)for(const u of m)h=h.filter(d=>!(d.startLineNumber>=u.startLineNumber&&d.endLineNumber<=u.endLineNumber+1));return h}};e.StickyLineCandidateProvider=a,e.StickyLineCandidateProvider=a=Ie([ue(1,k.ILanguageFeaturesService),ue(2,w.ILanguageConfigurationService)],a)}),define(ie[955],ne([1,0,6,99,13,2,31,271,176,9,110,145,129,399,500]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class t{constructor(c,b,C,S=null){this.startLineNumbers=c,this.endLineNumbers=b,this.lastLineRelativePosition=C,this.showEndForLine=S}equals(c){return!!c&&this.lastLineRelativePosition===c.lastLineRelativePosition&&this.showEndForLine===c.showEndForLine&&(0,E.equals)(this.startLineNumbers,c.startLineNumbers)&&(0,E.equals)(this.endLineNumbers,c.endLineNumbers)}}e.StickyScrollWidgetState=t;const n=(0,k.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:g=>g}),h="data-sticky-line-index",m="data-sticky-is-line",u="data-sticky-is-line-number",d="data-sticky-is-folding-icon";class r extends L.Disposable{constructor(c){super(),this._editor=c,this._foldingIconStore=new L.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",c instanceof w.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const b=()=>{this._linesDomNode.style.left=this._editor.getOption(115).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(C=>{C.hasChanged(115)&&b(),C.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(C=>{C.scrollLeftChanged&&b(),C.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{b(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),b(),this._register(this._editor.onDidLayoutChange(C=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(c){return this._renderedStickyLines.find(b=>b.lineNumber===c)}getCurrentLines(){return this._lineNumbers}setState(c,b,C){if(C===void 0&&(!this._previousState&&!c||this._previousState&&this._previousState.equals(c)))return;const S=this._isWidgetHeightZero(c),D=S?void 0:c,I=S?0:this._findLineToRebuildWidgetFrom(c,C);this._renderRootNode(D,b,I),this._previousState=c}_isWidgetHeightZero(c){if(!c)return!0;const b=c.startLineNumbers.length*this._lineHeight+c.lastLineRelativePosition;if(b>0){this._lastLineRelativePosition=c.lastLineRelativePosition;const C=[...c.startLineNumbers];c.showEndForLine!==null&&(C[c.showEndForLine]=c.endLineNumbers[c.showEndForLine]),this._lineNumbers=C}else this._lastLineRelativePosition=0,this._lineNumbers=[];return b===0}_findLineToRebuildWidgetFrom(c,b){if(!c||!this._previousState)return 0;if(b!==void 0)return b;const C=this._previousState,S=c.startLineNumbers.findIndex(D=>!C.startLineNumbers.includes(D));return S===-1?0:S}_updateWidgetWidth(){const c=this._editor.getLayoutInfo(),b=c.contentLeft;this._lineNumbersDomNode.style.width=`${b}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-c.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${c.width-c.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(c){this._foldingIconStore.clear();for(let b=c;b<this._renderedStickyLines.length;b++){const C=this._renderedStickyLines[b];C.lineNumberDomNode.remove(),C.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,c),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(c){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${c?.5:0}s`)}_setFoldingIconsVisibility(c){for(const b of this._renderedStickyLines){const C=b.foldingIcon;C&&C.setVisible(c?!0:C.isCollapsed)}}async _renderRootNode(c,b,C){if(this._clearStickyLinesFromLine(C),!c)return;for(const T of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(T);const S=this._editor.getLayoutInfo(),D=this._lineNumbers.slice(C);for(const[T,N]of D.entries()){const A=this._renderChildNode(T+C,N,b,S);A&&(this._linesDomNode.appendChild(A.lineDomNode),this._lineNumbersDomNode.appendChild(A.lineNumberDomNode),this._renderedStickyLines.push(A))}b&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const I=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${I}px`,this._linesDomNodeScrollable.style.height=`${I}px`,this._rootDomNode.style.height=`${I}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(T=>T.scrollWidth))+S.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(110)==="mouseover"&&(this._foldingIconStore.add(f.addDisposableListener(this._lineNumbersDomNode,f.EventType.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(f.addDisposableListener(this._lineNumbersDomNode,f.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(c,b,C,S){const D=this._editor._getViewModel();if(!D)return;const I=D.coordinatesConverter.convertModelPositionToViewPosition(new v.Position(b,1)).lineNumber,T=D.getViewLineRenderingData(I),N=this._editor.getOption(68);let A;try{A=a.LineDecoration.filter(T.inlineDecorations,I,T.minColumn,T.maxColumn)}catch{A=[]}const P=new s.RenderLineInput(!0,!0,T.content,T.continuesWithWrappedLine,T.isBasicASCII,T.containsRTL,0,T.tokens,A,T.tabSize,T.startVisibleColumn,1,1,1,500,"none",!0,!0,null),M=new _.StringBuilder(2e3),R=(0,s.renderViewLine)(P,M);let F;n?F=n.createHTML(M.build()):F=M.build();const O=document.createElement("span");O.setAttribute(h,String(c)),O.setAttribute(m,""),O.setAttribute("role","listitem"),O.tabIndex=0,O.className="sticky-line-content",O.classList.add(`stickyLine${b}`),O.style.lineHeight=`${this._lineHeight}px`,O.innerHTML=F;const B=document.createElement("span");B.setAttribute(h,String(c)),B.setAttribute(u,""),B.className="sticky-line-number",B.style.lineHeight=`${this._lineHeight}px`;const H=S.contentLeft;B.style.width=`${H}px`;const V=document.createElement("span");N.renderType===1||N.renderType===3&&b%10===0?V.innerText=b.toString():N.renderType===2&&(V.innerText=Math.abs(b-this._editor.getPosition().lineNumber).toString()),V.className="sticky-line-number-inner",V.style.lineHeight=`${this._lineHeight}px`,V.style.width=`${S.lineNumbersWidth}px`,V.style.paddingLeft=`${S.lineNumbersLeft}px`,B.appendChild(V);const q=this._renderFoldingIconForLine(C,b);q&&B.appendChild(q.domNode),this._editor.applyFontInfo(O),this._editor.applyFontInfo(V),B.style.lineHeight=`${this._lineHeight}px`,O.style.lineHeight=`${this._lineHeight}px`,B.style.height=`${this._lineHeight}px`,O.style.height=`${this._lineHeight}px`;const z=new l(c,b,O,B,q,R.characterMapping,O.scrollWidth);return this._updateTopAndZIndexOfStickyLine(z)}_updateTopAndZIndexOfStickyLine(c){var b;const C=c.index,S=c.lineDomNode,D=c.lineNumberDomNode,I=C===this._lineNumbers.length-1,T="0",N="1";S.style.zIndex=I?T:N,D.style.zIndex=I?T:N;const A=`${C*this._lineHeight+this._lastLineRelativePosition+(!((b=c.foldingIcon)===null||b===void 0)&&b.isCollapsed?1:0)}px`,P=`${C*this._lineHeight}px`;return S.style.top=I?A:P,D.style.top=I?A:P,c}_renderFoldingIconForLine(c,b){const C=this._editor.getOption(110);if(!c||C==="never")return;const S=c.regions,D=S.findRange(b),I=S.getStartLineNumber(D);if(!(b===I))return;const N=S.isCollapsed(D),A=new o(N,I,S.getEndLineNumber(D),this._lineHeight);return A.setVisible(this._isOnGlyphMargin?!0:N||C==="always"),A.domNode.setAttribute(d,""),A}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(c){0<=c&&c<this._renderedStickyLines.length&&this._renderedStickyLines[c].lineDomNode.focus()}getEditorPositionFromNode(c){if(!c||c.children.length>0)return null;const b=this._getRenderedStickyLineFromChildDomNode(c);if(!b)return null;const C=(0,p.getColumnOfNodeOffset)(b.characterMapping,c,0);return new v.Position(b.lineNumber,C)}getLineNumberFromChildDomNode(c){var b,C;return(C=(b=this._getRenderedStickyLineFromChildDomNode(c))===null||b===void 0?void 0:b.lineNumber)!==null&&C!==void 0?C:null}_getRenderedStickyLineFromChildDomNode(c){const b=this.getLineIndexFromChildDomNode(c);return b===null||b<0||b>=this._renderedStickyLines.length?null:this._renderedStickyLines[b]}getLineIndexFromChildDomNode(c){const b=this._getAttributeValue(c,h);return b?parseInt(b,10):null}isInStickyLine(c){return this._getAttributeValue(c,m)!==void 0}isInFoldingIconDomNode(c){return this._getAttributeValue(c,d)!==void 0}_getAttributeValue(c,b){for(;c&&c!==this._rootDomNode;){const C=c.getAttribute(b);if(C!==null)return C;c=c.parentElement}}}e.StickyScrollWidget=r;class l{constructor(c,b,C,S,D,I,T){this.index=c,this.lineNumber=b,this.lineDomNode=C,this.lineNumberDomNode=S,this.foldingIcon=D,this.characterMapping=I,this.scrollWidth=T}}class o{constructor(c,b,C,S){this.isCollapsed=c,this.foldingStartLine=b,this.foldingEndLine=C,this.dimension=S,this.domNode=document.createElement("div"),this.domNode.style.width=`${S}px`,this.domNode.style.height=`${S}px`,this.domNode.className=y.ThemeIcon.asClassName(c?i.foldingCollapsedIcon:i.foldingExpandedIcon)}setVisible(c){this.domNode.style.cursor=c?"pointer":"default",this.domNode.style.opacity=c?"1":"0"}}}),define(ie[956],ne([1,0,6,109,15,12,7,2,134,11,176,918,746,14,8,98,32,94,23,242,149,374,913,106,45,187,501,270]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,h.registerColor)("editorSuggestWidget.background",{dark:h.editorWidgetBackground,light:h.editorWidgetBackground,hcDark:h.editorWidgetBackground,hcLight:h.editorWidgetBackground},s.localize(0,null)),(0,h.registerColor)("editorSuggestWidget.border",{dark:h.editorWidgetBorder,light:h.editorWidgetBorder,hcDark:h.editorWidgetBorder,hcLight:h.editorWidgetBorder},s.localize(1,null));const C=(0,h.registerColor)("editorSuggestWidget.foreground",{dark:h.editorForeground,light:h.editorForeground,hcDark:h.editorForeground,hcLight:h.editorForeground},s.localize(2,null));(0,h.registerColor)("editorSuggestWidget.selectedForeground",{dark:h.quickInputListFocusForeground,light:h.quickInputListFocusForeground,hcDark:h.quickInputListFocusForeground,hcLight:h.quickInputListFocusForeground},s.localize(3,null)),(0,h.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:h.quickInputListFocusIconForeground,light:h.quickInputListFocusIconForeground,hcDark:h.quickInputListFocusIconForeground,hcLight:h.quickInputListFocusIconForeground},s.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,h.registerColor)("editorSuggestWidget.selectedBackground",{dark:h.quickInputListFocusBackground,light:h.quickInputListFocusBackground,hcDark:h.quickInputListFocusBackground,hcLight:h.quickInputListFocusBackground},s.localize(5,null)),(0,h.registerColor)("editorSuggestWidget.highlightForeground",{dark:h.listHighlightForeground,light:h.listHighlightForeground,hcDark:h.listHighlightForeground,hcLight:h.listHighlightForeground},s.localize(6,null)),(0,h.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:h.listFocusHighlightForeground,light:h.listFocusHighlightForeground,hcDark:h.listFocusHighlightForeground,hcLight:h.listFocusHighlightForeground},s.localize(7,null)),(0,h.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,h.transparent)(C,.5),light:(0,h.transparent)(C,.5),hcDark:(0,h.transparent)(C,.5),hcLight:(0,h.transparent)(C,.5)},s.localize(8,null));class S{constructor(N,A){this._service=N,this._key=`suggestWidget.size/${A.getEditorType()}/${A instanceof _.EmbeddedCodeEditorWidget}`}restore(){var N;const A=(N=this._service.get(this._key,0))!==null&&N!==void 0?N:"";try{const P=JSON.parse(A);if(f.Dimension.is(P))return f.Dimension.lift(P)}catch{}}store(N){this._service.store(this._key,JSON.stringify(N),0,1)}reset(){this._service.remove(this._key,0)}}let D=b=class{constructor(N,A,P,M,R){this.editor=N,this._storageService=A,this._state=0,this._isAuto=!1,this._pendingLayout=new p.MutableDisposable,this._pendingShowDetails=new p.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new E.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new y.PauseableEmitter,this._onDidFocus=new y.PauseableEmitter,this._onDidHide=new y.Emitter,this._onDidShow=new y.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new d.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new I(this,N),this._persistedSize=new S(A,N);class F{constructor(U,Z,re=!1,x=!1){this.persistedSize=U,this.currentSize=Z,this.persistHeight=re,this.persistWidth=x}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new F(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(z=>{var U,Z,re,x;if(this._resize(z.dimension.width,z.dimension.height),O&&(O.persistHeight=O.persistHeight||!!z.north||!!z.south,O.persistWidth=O.persistWidth||!!z.east||!!z.west),!!z.done){if(O){const{itemHeight:Q,defaultSize:X}=this.getLayoutInfo(),Y=Math.round(Q/2);let{width:ae,height:ce}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-ce)<=Y)&&(ce=(Z=(U=O.persistedSize)===null||U===void 0?void 0:U.height)!==null&&Z!==void 0?Z:X.height),(!O.persistWidth||Math.abs(O.currentSize.width-ae)<=Y)&&(ae=(x=(re=O.persistedSize)===null||re===void 0?void 0:re.width)!==null&&x!==void 0?x:X.width),this._persistedSize.store(new f.Dimension(ae,ce))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=f.append(this.element.domNode,f.$(".message")),this._listElement=f.append(this.element.domNode,f.$(".tree"));const B=this._disposables.add(R.createInstance(l.SuggestDetailsWidget,this.editor));B.onDidClose(this.toggleDetails,this,this._disposables),this._details=new l.SuggestDetailsOverlay(B,this.editor);const H=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(118).showIcons);H();const V=R.createInstance(o.ItemRenderer,this.editor);this._disposables.add(V),this._disposables.add(V.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:z=>this.getLayoutInfo().itemHeight,getTemplateId:z=>"suggestion"},[V],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>s.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:z=>{let U=z.textLabel;if(typeof z.completion.label!="string"){const{detail:Q,description:X}=z.completion.label;Q&&X?U=s.localize(12,null,U,Q,X):Q?U=s.localize(13,null,U,Q):X&&(U=s.localize(14,null,U,X))}if(!z.isResolved||!this._isDetailsVisible())return U;const{documentation:Z,detail:re}=z.completion,x=v.format("{0}{1}",re||"",Z?typeof Z=="string"?Z:Z.value:"");return s.localize(15,null,U,x)}}}),this._list.style((0,g.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:h.activeContrastBorder})),this._status=R.createInstance(a.SuggestWidgetStatus,this.element.domNode,r.suggestWidgetStatusbarMenu);const q=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(118).showStatusBar);q(),this._disposables.add(M.onDidColorThemeChange(z=>this._onThemeChange(z))),this._onThemeChange(M.getColorTheme()),this._disposables.add(this._list.onMouseDown(z=>this._onListMouseDownOrTap(z))),this._disposables.add(this._list.onTap(z=>this._onListMouseDownOrTap(z))),this._disposables.add(this._list.onDidChangeSelection(z=>this._onListSelection(z))),this._disposables.add(this._list.onDidChangeFocus(z=>this._onListFocus(z))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(z=>{z.hasChanged(118)&&(q(),H()),this._completionModel&&(z.hasChanged(50)||z.hasChanged(119)||z.hasChanged(120))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=r.Context.Visible.bindTo(P),this._ctxSuggestWidgetDetailsVisible=r.Context.DetailsVisible.bindTo(P),this._ctxSuggestWidgetMultipleSuggestions=r.Context.MultipleSuggestions.bindTo(P),this._ctxSuggestWidgetHasFocusedSuggestion=r.Context.HasFocusedSuggestion.bindTo(P),this._disposables.add(f.addStandardDisposableListener(this._details.widget.domNode,"keydown",z=>{this._onDetailsKeydown.fire(z)})),this._disposables.add(this.editor.onMouseDown(z=>this._onEditorMouseDown(z)))}dispose(){var N;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(N){this._details.widget.domNode.contains(N.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(N.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(N){typeof N.element>"u"||typeof N.index>"u"||(N.browserEvent.preventDefault(),N.browserEvent.stopPropagation(),this._select(N.element,N.index))}_onListSelection(N){N.elements.length&&this._select(N.elements[0],N.indexes[0])}_select(N,A){const P=this._completionModel;P&&(this._onDidSelect.fire({item:N,index:A,model:P}),this.editor.focus())}_onThemeChange(N){this._details.widget.borderWidth=(0,m.isHighContrast)(N.type)?2:1}_onListFocus(N){var A;if(this._ignoreFocusEvents)return;if(!N.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const P=N.elements[0],M=N.indexes[0];P!==this._focusedItem&&((A=this._currentSuggestionDetails)===null||A===void 0||A.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=P,this._list.reveal(M),this._currentSuggestionDetails=(0,E.createCancelablePromise)(async R=>{const F=(0,E.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),O=R.onCancellationRequested(()=>F.dispose());try{return await P.resolve(R)}finally{F.dispose(),O.dispose()}}),this._currentSuggestionDetails.then(()=>{M>=this._list.length||P!==this._list.element(M)||(this._ignoreFocusEvents=!0,this._list.splice(M,1,[P]),this._list.setFocus([M]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,o.getAriaId)(M)}))}).catch(L.onUnexpectedError)),this._onDidFocus.fire({item:P,index:M,model:this._completionModel})}_setState(N){if(this._state!==N)switch(this._state=N,this.element.domNode.classList.toggle("frozen",N===4),this.element.domNode.classList.remove("message"),N){case 0:f.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=b.LOADING_MESSAGE,f.hide(this._listElement,this._status.element),f.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,c.status)(b.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=b.NO_SUGGESTIONS_MESSAGE,f.hide(this._listElement,this._status.element),f.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,c.status)(b.NO_SUGGESTIONS_MESSAGE);break;case 3:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._show();break;case 4:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._show();break;case 5:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(N,A){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!N,this._isAuto||(this._loadingTimeout=(0,E.disposableTimeout)(()=>this._setState(1),A)))}showSuggestions(N,A,P,M,R){var F,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(F=this._loadingTimeout)===null||F===void 0||F.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==N&&(this._completionModel=N),P&&this._state!==2&&this._state!==0){this._setState(4);return}const B=this._completionModel.items.length,H=B===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(B>1),H){this._setState(M?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(P?4:3),this._list.reveal(A,0),this._list.setFocus(R?[]:[A])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=f.runAtThisOrScheduleAtNextAnimationFrame(f.getWindow(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,l.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(N){this._pendingShowDetails.value=f.runAtThisOrScheduleAtNextAnimationFrame(f.getWindow(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),N?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var N;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const A=this._persistedSize.restore(),P=Math.ceil(this.getLayoutInfo().itemHeight*4.3);A&&A.height<P&&this._persistedSize.store(A.with(void 0,P))}isFrozen(){return this._state===4}_afterRender(N){if(N===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(N){var A,P,M;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const R=f.getClientArea(this.element.domNode.ownerDocument.body),F=this.getLayoutInfo();N||(N=F.defaultSize);let O=N.height,B=N.width;if(this._status.element.style.height=`${F.itemHeight}px`,this._state===2||this._state===1)O=F.itemHeight+F.borderHeight,B=F.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new f.Dimension(B,O),this._contentWidget.setPreference(2);else{const H=R.width-F.borderHeight-2*F.horizontalPadding;B>H&&(B=H);const V=this._completionModel?this._completionModel.stats.pLabelLen*F.typicalHalfwidthCharacterWidth:B,q=F.statusBarHeight+this._list.contentHeight+F.borderHeight,z=F.itemHeight+F.statusBarHeight,U=f.getDomNodePagePosition(this.editor.getDomNode()),Z=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),re=U.top+Z.top+Z.height,x=Math.min(R.height-re-F.verticalPadding,q),Q=U.top+Z.top-F.verticalPadding,X=Math.min(Q,q);let Y=Math.min(Math.max(X,x)+F.borderHeight,q);O===((A=this._cappedHeight)===null||A===void 0?void 0:A.capped)&&(O=this._cappedHeight.wanted),O<z&&(O=z),O>Y&&(O=Y),O>x||this._forceRenderingAbove&&Q>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Y=X):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Y=x),this.element.preferredSize=new f.Dimension(V,F.defaultSize.height),this.element.maxSize=new f.Dimension(H,Y),this.element.minSize=new f.Dimension(220,z),this._cappedHeight=O===q?{wanted:(M=(P=this._cappedHeight)===null||P===void 0?void 0:P.wanted)!==null&&M!==void 0?M:N.height,capped:O}:void 0}this._resize(B,O)}_resize(N,A){const{width:P,height:M}=this.element.maxSize;N=Math.min(P,N),A=Math.min(M,A);const{statusBarHeight:R}=this.getLayoutInfo();this._list.layout(A-R,N),this._listElement.style.height=`${A-R}px`,this.element.layout(A,N),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var N;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((N=this._contentWidget.getPosition())===null||N===void 0?void 0:N.preference[0])===2)}getLayoutInfo(){const N=this.editor.getOption(50),A=(0,w.clamp)(this.editor.getOption(120)||N.lineHeight,8,1e3),P=!this.editor.getOption(118).showStatusBar||this._state===2||this._state===1?0:A,M=this._details.widget.borderWidth,R=2*M;return{itemHeight:A,statusBarHeight:P,borderWidth:M,borderHeight:R,typicalHalfwidthCharacterWidth:N.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new f.Dimension(430,P+12*A+R)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(N){this._storageService.store("expandSuggestionDocs",N,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=D,D.LOADING_MESSAGE=s.localize(9,null),D.NO_SUGGESTIONS_MESSAGE=s.localize(10,null),e.SuggestWidget=D=b=Ie([ue(1,n.IStorageService),ue(2,i.IContextKeyService),ue(3,u.IThemeService),ue(4,t.IInstantiationService)],D);class I{constructor(N,A){this._widget=N,this._editor=A,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:N,width:A}=this._widget.element.size,{borderWidth:P,horizontalPadding:M}=this._widget.getLayoutInfo();return new f.Dimension(A+2*P+M,N+2*P)}afterRender(N){this._widget._afterRender(N)}setPreference(N){this._preferenceLocked||(this._preference=N)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(N){this._position=N}}e.SuggestContentWidget=I}),define(ie[401],ne([1,0,43,37,29,755,32,23,505]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHighlightDecorationOptions=u,e.getSelectionHighlightDecorationOptions=d;const w=(0,y.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},L.localize(0,null),!0);(0,y.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},L.localize(1,null),!0),(0,y.registerColor)("editor.wordHighlightTextBackground",{light:w,dark:w,hcDark:w,hcLight:w},L.localize(2,null),!0);const v=(0,y.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(3,null));(0,y.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(4,null)),(0,y.registerColor)("editor.wordHighlightTextBorder",{light:v,dark:v,hcDark:v,hcLight:v},L.localize(5,null));const _=(0,y.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.localize(6,null),!0),a=(0,y.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},L.localize(7,null),!0),s=(0,y.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:y.overviewRulerSelectionHighlightForeground,light:y.overviewRulerSelectionHighlightForeground,hcDark:y.overviewRulerSelectionHighlightForeground,hcLight:y.overviewRulerSelectionHighlightForeground},L.localize(8,null),!0),i=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,p.themeColorFromId)(a),position:f.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),t=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,p.themeColorFromId)(s),position:f.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),n=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,p.themeColorFromId)(y.overviewRulerSelectionHighlightForeground),position:f.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),h=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),m=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,p.themeColorFromId)(_),position:f.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}});function u(r){return r===E.DocumentHighlightKind.Write?i:r===E.DocumentHighlightKind.Text?t:m}function d(r){return r?h:n}(0,p.registerThemingParticipant)((r,l)=>{const o=r.getColor(y.editorSelectionHighlight);o&&l.addRule(`.monaco-editor .selectionHighlight { background-color: ${o.transparent(.5)}; }`)})}),define(ie[957],ne([1,0,45,15,69,2,16,225,5,24,20,398,731,28,14,18,401,8]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function d(q,z){const U=z.filter(Z=>!q.find(re=>re.equals(Z)));if(U.length>=1){const Z=U.map(x=>`line ${x.viewState.position.lineNumber} column ${x.viewState.position.column}`).join(", "),re=U.length===1?s.localize(0,null,Z):s.localize(1,null,Z);(0,f.status)(re)}}class r extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:s.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(3,null),order:2}})}run(z,U,Z){if(!U.hasModel())return;let re=!0;Z&&Z.logicalLine===!1&&(re=!1);const x=U._getViewModel();if(x.cursorConfig.readOnly)return;x.model.pushStackElement();const Q=x.getCursorStates();x.setCursorStates(Z.source,3,p.CursorMoveCommands.addCursorUp(x,Q,re)),x.revealTopMostCursor(Z.source),d(Q,x.getCursorStates())}}e.InsertCursorAbove=r;class l extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:s.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(5,null),order:3}})}run(z,U,Z){if(!U.hasModel())return;let re=!0;Z&&Z.logicalLine===!1&&(re=!1);const x=U._getViewModel();if(x.cursorConfig.readOnly)return;x.model.pushStackElement();const Q=x.getCursorStates();x.setCursorStates(Z.source,3,p.CursorMoveCommands.addCursorDown(x,Q,re)),x.revealBottomMostCursor(Z.source),d(Q,x.getCursorStates())}}e.InsertCursorBelow=l;class o extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:s.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(7,null),order:4}})}getCursorsForSelection(z,U,Z){if(!z.isEmpty()){for(let re=z.startLineNumber;re<z.endLineNumber;re++){const x=U.getLineMaxColumn(re);Z.push(new v.Selection(re,x,re,x))}z.endColumn>1&&Z.push(new v.Selection(z.endLineNumber,z.endColumn,z.endLineNumber,z.endColumn))}}run(z,U){if(!U.hasModel())return;const Z=U.getModel(),re=U.getSelections(),x=U._getViewModel(),Q=x.getCursorStates(),X=[];re.forEach(Y=>this.getCursorsForSelection(Y,Z,X)),X.length>0&&U.setSelections(X),d(Q,x.getCursorStates())}}class g extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:s.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(z,U){if(!U.hasModel())return;const Z=U.getSelections(),re=U.getModel().getLineCount(),x=[];for(let Y=Z[0].startLineNumber;Y<=re;Y++)x.push(new v.Selection(Y,Z[0].startColumn,Y,Z[0].endColumn));const Q=U._getViewModel(),X=Q.getCursorStates();x.length>0&&U.setSelections(x),d(X,Q.getCursorStates())}}class c extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:s.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(z,U){if(!U.hasModel())return;const Z=U.getSelections(),re=[];for(let X=Z[0].startLineNumber;X>=1;X--)re.push(new v.Selection(X,Z[0].startColumn,X,Z[0].endColumn));const x=U._getViewModel(),Q=x.getCursorStates();re.length>0&&U.setSelections(re),d(Q,x.getCursorStates())}}class b{constructor(z,U,Z){this.selections=z,this.revealRange=U,this.revealScrollType=Z}}e.MultiCursorSessionResult=b;class C{static create(z,U){if(!z.hasModel())return null;const Z=U.getState();if(!z.hasTextFocus()&&Z.isRevealed&&Z.searchString.length>0)return new C(z,U,!1,Z.searchString,Z.wholeWord,Z.matchCase,null);let re=!1,x,Q;const X=z.getSelections();X.length===1&&X[0].isEmpty()?(re=!0,x=!0,Q=!0):(x=Z.wholeWord,Q=Z.matchCase);const Y=z.getSelection();let ae,ce=null;if(Y.isEmpty()){const he=z.getConfiguredWordAtPosition(Y.getStartPosition());if(!he)return null;ae=he.word,ce=new v.Selection(Y.startLineNumber,he.startColumn,Y.startLineNumber,he.endColumn)}else ae=z.getModel().getValueInRange(Y).replace(/\r\n/g,`
`);return new C(z,U,re,ae,x,Q,ce)}constructor(z,U,Z,re,x,Q,X){this._editor=z,this.findController=U,this.isDisconnectedFromFindController=Z,this.searchText=re,this.wholeWord=x,this.matchCase=Q,this.currentMatch=X}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const z=this._getNextMatch();if(!z)return null;const U=this._editor.getSelections();return new b(U.concat(z),z,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const z=this._getNextMatch();if(!z)return null;const U=this._editor.getSelections();return new b(U.slice(0,U.length-1).concat(z),z,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const re=this.currentMatch;return this.currentMatch=null,re}this.findController.highlightFindOptions();const z=this._editor.getSelections(),U=z[z.length-1],Z=this._editor.getModel().findNextMatch(this.searchText,U.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return Z?new v.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const z=this._getPreviousMatch();if(!z)return null;const U=this._editor.getSelections();return new b(U.concat(z),z,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const z=this._getPreviousMatch();if(!z)return null;const U=this._editor.getSelections();return new b(U.slice(0,U.length-1).concat(z),z,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const re=this.currentMatch;return this.currentMatch=null,re}this.findController.highlightFindOptions();const z=this._editor.getSelections(),U=z[z.length-1],Z=this._editor.getModel().findPreviousMatch(this.searchText,U.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return Z?new v.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}selectAll(z){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const U=this._editor.getModel();return z?U.findMatches(this.searchText,z,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824):U.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824)}}e.MultiCursorSession=C;class S extends L.Disposable{static get(z){return z.getContribution(S.ID)}constructor(z){super(),this._sessionDispose=this._register(new L.DisposableStore),this._editor=z,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(z){if(!this._session){const U=C.create(this._editor,z);if(!U)return;this._session=U;const Z={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Z.wholeWordOverride=1,Z.matchCaseOverride=1,Z.isRegexOverride=2),z.getState().change(Z,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(re=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(z.getState().onFindReplaceStateChange(re=>{(re.matchCase||re.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const z={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(z,!1)}this._session=null}_setSelections(z){this._ignoreSelectionChange=!0,this._editor.setSelections(z),this._ignoreSelectionChange=!1}_expandEmptyToWord(z,U){if(!U.isEmpty())return U;const Z=this._editor.getConfiguredWordAtPosition(U.getStartPosition());return Z?new v.Selection(U.startLineNumber,Z.startColumn,U.startLineNumber,Z.endColumn):U}_applySessionResult(z){z&&(this._setSelections(z.selections),z.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(z.revealRange,z.revealScrollType))}getSession(z){return this._session}addSelectionToNextFindMatch(z){if(this._editor.hasModel()){if(!this._session){const U=this._editor.getSelections();if(U.length>1){const re=z.getState().matchCase;if(!O(this._editor.getModel(),U,re)){const Q=this._editor.getModel(),X=[];for(let Y=0,ae=U.length;Y<ae;Y++)X[Y]=this._expandEmptyToWord(Q,U[Y]);this._editor.setSelections(X);return}}}this._beginSessionIfNeeded(z),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(z){this._beginSessionIfNeeded(z),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(z){this._beginSessionIfNeeded(z),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(z){this._beginSessionIfNeeded(z),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(z){if(!this._editor.hasModel())return;let U=null;const Z=z.getState();if(Z.isRevealed&&Z.searchString.length>0&&Z.isRegex){const re=this._editor.getModel();Z.searchScope?U=re.findMatches(Z.searchString,Z.searchScope,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(131):null,!1,1073741824):U=re.findMatches(Z.searchString,!0,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(131):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(z),!this._session)return;U=this._session.selectAll(Z.searchScope)}if(U.length>0){const re=this._editor.getSelection();for(let x=0,Q=U.length;x<Q;x++){const X=U[x];if(X.range.intersectRanges(re)){U[x]=U[0],U[0]=X;break}}this._setSelections(U.map(x=>new v.Selection(x.range.startLineNumber,x.range.startColumn,x.range.endLineNumber,x.range.endColumn)))}}}e.MultiCursorSelectionController=S,S.ID="editor.contrib.multiCursorController";class D extends y.EditorAction{run(z,U){const Z=S.get(U);if(!Z)return;const re=U._getViewModel();if(re){const x=re.getCursorStates(),Q=a.CommonFindController.get(U);if(Q)this._run(Z,Q);else{const X=z.get(m.IInstantiationService).createInstance(a.CommonFindController,U);this._run(Z,X),X.dispose()}d(x,re.getCursorStates())}}}e.MultiCursorSelectionControllerAction=D;class I extends D{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:s.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(11,null),order:5}})}_run(z,U){z.addSelectionToNextFindMatch(U)}}e.AddSelectionToNextFindMatchAction=I;class T extends D{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:s.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(13,null),order:6}})}_run(z,U){z.addSelectionToPreviousFindMatch(U)}}e.AddSelectionToPreviousFindMatchAction=T;class N extends D{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:s.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:(0,E.KeyChord)(2089,2082),weight:100}})}_run(z,U){z.moveSelectionToNextFindMatch(U)}}e.MoveSelectionToNextFindMatchAction=N;class A extends D{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:s.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(z,U){z.moveSelectionToPreviousFindMatch(U)}}e.MoveSelectionToPreviousFindMatchAction=A;class P extends D{constructor(){super({id:"editor.action.selectHighlights",label:s.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(17,null),order:7}})}_run(z,U){z.selectAll(U)}}e.SelectHighlightsAction=P;class M extends D{constructor(){super({id:"editor.action.changeAll",label:s.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(_.EditorContextKeys.writable,_.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(z,U){z.selectAll(U)}}e.CompatChangeAll=M;class R{constructor(z,U,Z,re,x){this._model=z,this._searchText=U,this._matchCase=Z,this._wordSeparators=re,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,x&&this._model===x._model&&this._searchText===x._searchText&&this._matchCase===x._matchCase&&this._wordSeparators===x._wordSeparators&&this._modelVersionId===x._modelVersionId&&(this._cachedFindMatches=x._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(z=>z.range),this._cachedFindMatches.sort(w.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let F=u=class extends L.Disposable{constructor(z,U){super(),this._languageFeaturesService=U,this.editor=z,this._isEnabled=z.getOption(108),this._decorations=z.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(z.onDidChangeConfiguration(re=>{this._isEnabled=z.getOption(108)})),this._register(z.onDidChangeCursorSelection(re=>{this._isEnabled&&(re.selection.isEmpty()?re.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(z.onDidChangeModel(re=>{this._setState(null)})),this._register(z.onDidChangeModelContent(re=>{this._isEnabled&&this.updateSoon.schedule()}));const Z=a.CommonFindController.get(z);Z&&this._register(Z.getState().onFindReplaceStateChange(re=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(u._createState(this.state,this._isEnabled,this.editor))}static _createState(z,U,Z){if(!U||!Z.hasModel())return null;const re=Z.getSelection();if(re.startLineNumber!==re.endLineNumber)return null;const x=S.get(Z);if(!x)return null;const Q=a.CommonFindController.get(Z);if(!Q)return null;let X=x.getSession(Q);if(!X){const ce=Z.getSelections();if(ce.length>1){const pe=Q.getState().matchCase;if(!O(Z.getModel(),ce,pe))return null}X=C.create(Z,Q)}if(!X||X.currentMatch||/^[ \t]+$/.test(X.searchText)||X.searchText.length>200)return null;const Y=Q.getState(),ae=Y.matchCase;if(Y.isRevealed){let ce=Y.searchString;ae||(ce=ce.toLowerCase());let he=X.searchText;if(ae||(he=he.toLowerCase()),ce===he&&X.matchCase===Y.matchCase&&X.wholeWord===Y.wholeWord&&!Y.isRegex)return null}return new R(Z.getModel(),X.searchText,X.matchCase,X.wholeWord?Z.getOption(131):null,z)}_setState(z){if(this.state=z,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const U=this.editor.getModel();if(U.isTooLargeForTokenization())return;const Z=this.state.findMatches(),re=this.editor.getSelections();re.sort(w.Range.compareRangesUsingStarts);const x=[];for(let ae=0,ce=0,he=Z.length,pe=re.length;ae<he;){const fe=Z[ae];if(ce>=pe)x.push(fe),ae++;else{const se=w.Range.compareRangesUsingStarts(fe,re[ce]);se<0?((re[ce].isEmpty()||!w.Range.areIntersecting(fe,re[ce]))&&x.push(fe),ae++):(se>0||ae++,ce++)}}const Q=this.editor.getOption(81)!=="off",X=this._languageFeaturesService.documentHighlightProvider.has(U)&&Q,Y=x.map(ae=>({range:ae,options:(0,h.getSelectionHighlightDecorationOptions)(X)}));this._decorations.set(Y)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=F,F.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=F=u=Ie([ue(1,n.ILanguageFeaturesService)],F);function O(q,z,U){const Z=B(q,z[0],!U);for(let re=1,x=z.length;re<x;re++){const Q=z[re];if(Q.isEmpty())return!1;const X=B(q,Q,!U);if(Z!==X)return!1}return!0}function B(q,z,U){const Z=q.getValueInRange(z);return U?Z.toLowerCase():Z}class H extends y.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:s.localize(19,null),metadata:{description:s.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(z,U,Z){if(!U.hasModel())return;const re=U._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const x=Array.from(re.getCursorStates()),Q=x.shift();Q&&(x.push(Q),re.setCursorStates(Z.source,3,x),re.revealPrimaryCursor(Z.source,!0),d(x,re.getCursorStates()))}}e.FocusNextCursor=H;class V extends y.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:s.localize(21,null),metadata:{description:s.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(z,U,Z){if(!U.hasModel())return;const re=U._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const x=Array.from(re.getCursorStates()),Q=x.pop();Q&&(x.unshift(Q),re.setCursorStates(Z.source,3,x),re.revealPrimaryCursor(Z.source,!0),d(x,re.getCursorStates()))}}e.FocusPreviousCursor=V,(0,y.registerEditorContribution)(S.ID,S,4),(0,y.registerEditorContribution)(F.ID,F,1),(0,y.registerEditorAction)(r),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(P),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(H),(0,y.registerEditorAction)(V)}),define(ie[958],ne([1,0,756,13,45,15,19,12,2,162,16,36,5,20,29,43,18,401,14,49,47,347]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l){"use strict";var o,g;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=void 0,e.getOccurrencesAtPosition=b,e.getOccurrencesAcrossMultipleModels=C;const c=new u.RawContextKey("hasWordHighlights",!1);function b(H,V,q,z){const U=H.ordered(V);return(0,L.first)(U.map(Z=>()=>Promise.resolve(Z.provideDocumentHighlights(V,q,z)).then(void 0,p.onUnexpectedExternalError)),k.isNonEmptyArray).then(Z=>{if(Z){const re=new r.ResourceMap;return re.set(V.uri,Z),re}return new r.ResourceMap})}function C(H,V,q,z,U,Z){const re=H.ordered(V);return(0,L.first)(re.map(x=>()=>{const Q=Z.filter(X=>(0,n.shouldSynchronizeModel)(X)).filter(X=>(0,l.score)(x.selector,X.uri,X.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(x.provideMultiDocumentHighlights(V,q,Q,U)).then(void 0,p.onUnexpectedExternalError)}),x=>x instanceof r.ResourceMap&&x.size>0)}class S{constructor(V,q,z){this._model=V,this._selection=q,this._wordSeparators=z,this._wordRange=this._getCurrentWordRange(V,q),this._result=null}get result(){return this._result||(this._result=(0,L.createCancelablePromise)(V=>this._compute(this._model,this._selection,this._wordSeparators,V))),this._result}_getCurrentWordRange(V,q){const z=V.getWordAtPosition(q.getPosition());return z?new s.Range(q.startLineNumber,z.startColumn,q.startLineNumber,z.endColumn):null}isValid(V,q,z){const U=q.startLineNumber,Z=q.startColumn,re=q.endColumn,x=this._getCurrentWordRange(V,q);let Q=!!(this._wordRange&&this._wordRange.equalsRange(x));for(let X=0,Y=z.length;!Q&&X<Y;X++){const ae=z.getRange(X);ae&&ae.startLineNumber===U&&ae.startColumn<=Z&&ae.endColumn>=re&&(Q=!0)}return Q}cancel(){this.result.cancel()}}class D extends S{constructor(V,q,z,U){super(V,q,z),this._providers=U}_compute(V,q,z,U){return b(this._providers,V,q.getPosition(),U).then(Z=>Z||new r.ResourceMap)}}class I extends S{constructor(V,q,z,U,Z){super(V,q,z),this._providers=U,this._otherModels=Z}_compute(V,q,z,U){return C(this._providers,V,q.getPosition(),z,U,this._otherModels).then(Z=>Z||new r.ResourceMap)}}class T extends S{constructor(V,q,z,U,Z){super(V,q,U),this._otherModels=Z,this._selectionIsEmpty=q.isEmpty(),this._word=z}_compute(V,q,z,U){return(0,L.timeout)(250,U).then(()=>{const Z=new r.ResourceMap;let re;if(this._word?re=this._word:re=V.getWordAtPosition(q.getPosition()),!re)return new r.ResourceMap;const x=[V,...this._otherModels];for(const Q of x){if(Q.isDisposed())continue;const Y=Q.findMatches(re.word,!0,!1,!0,z,!1).map(ae=>({range:ae.range,kind:t.DocumentHighlightKind.Text}));Y&&Z.set(Q.uri,Y)}return Z})}isValid(V,q,z){const U=q.isEmpty();return this._selectionIsEmpty!==U?!1:super.isValid(V,q,z)}}function N(H,V,q,z,U){return H.has(V)?new D(V,q,U,H):new T(V,q,z,U,[])}function A(H,V,q,z,U,Z){return H.has(V)?new I(V,q,U,H,Z):new T(V,q,z,U,Z)}(0,_.registerModelAndPositionCommand)("_executeDocumentHighlights",async(H,V,q)=>{const z=H.get(h.ILanguageFeaturesService),U=await b(z.documentHighlightProvider,V,q,y.CancellationToken.None);return U?.get(V.uri)});let P=o=class{constructor(V,q,z,U,Z){this.toUnhook=new w.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new r.ResourceMap,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=V,this.providers=q,this.multiDocumentProviders=z,this.codeEditorService=Z,this._hasWordHighlights=c.bindTo(U),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(V.onDidChangeCursorPosition(re=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(re)})),this.toUnhook.add(V.onDidFocusEditorText(re=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this._run())})),this.toUnhook.add(V.onDidChangeModelContent(re=>{this._stopAll()})),this.toUnhook.add(V.onDidChangeModel(re=>{!re.newModelUrl&&re.oldModelUrl?this._stopSingular():o.query&&this._run()})),this.toUnhook.add(V.onDidChangeConfiguration(re=>{const x=this.editor.getOption(81);this.occurrencesHighlight!==x&&(this.occurrencesHighlight=x,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,o.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(s.Range.compareRangesUsingStarts)}moveNext(){const V=this._getSortedHighlights(),z=(V.findIndex(Z=>Z.containsPosition(this.editor.getPosition()))+1)%V.length,U=V[z];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const Z=this._getWord();if(Z){const re=this.editor.getModel().getLineContent(U.startLineNumber);(0,E.alert)(`${re}, ${z+1} of ${V.length} for '${Z.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const V=this._getSortedHighlights(),z=(V.findIndex(Z=>Z.containsPosition(this.editor.getPosition()))-1+V.length)%V.length,U=V[z];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const Z=this._getWord();if(Z){const re=this.editor.getModel().getLineContent(U.startLineNumber);(0,E.alert)(`${re}, ${z+1} of ${V.length} for '${Z.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const V=o.storedDecorations.get(this.editor.getModel().uri);V&&(this.editor.removeDecorations(V),o.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const V=this.codeEditorService.listCodeEditors(),q=[];for(const z of V){if(!z.hasModel())continue;const U=o.storedDecorations.get(z.getModel().uri);if(!U)continue;z.removeDecorations(U),q.push(z.getModel().uri);const Z=M.get(z);Z?.wordHighlighter&&Z.wordHighlighter.decorations.length>0&&(Z.wordHighlighter.decorations.clear(),Z.wordHighlighter.workerRequest=null,Z.wordHighlighter._hasWordHighlights.set(!1))}for(const z of q)o.storedDecorations.delete(z)}_stopSingular(){var V,q,z,U;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((V=this.editor.getModel())===null||V===void 0?void 0:V.uri.scheme)!==d.Schemas.vscodeNotebookCell&&((z=(q=o.query)===null||q===void 0?void 0:q.modelInfo)===null||z===void 0?void 0:z.model.uri.scheme)!==d.Schemas.vscodeNotebookCell?(o.query=null,this._run()):!((U=o.query)===null||U===void 0)&&U.modelInfo&&(o.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(V){var q;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(V.reason!==3&&((q=this.editor.getModel())===null||q===void 0?void 0:q.uri.scheme)!==d.Schemas.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const V=this.editor.getSelection(),q=V.startLineNumber,z=V.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:q,column:z})}getOtherModelsToHighlight(V){if(!V)return[];if(V.uri.scheme===d.Schemas.vscodeNotebookCell){const Z=[],re=this.codeEditorService.listCodeEditors();for(const x of re){const Q=x.getModel();Q&&Q!==V&&Q.uri.scheme===d.Schemas.vscodeNotebookCell&&Z.push(Q)}return Z}const z=[],U=this.codeEditorService.listCodeEditors();for(const Z of U){if(!(0,v.isDiffEditor)(Z))continue;const re=Z.getModel();re&&V===re.modified&&z.push(re.modified)}if(z.length)return z;if(this.occurrencesHighlight==="singleFile")return[];for(const Z of U){const re=Z.getModel();re&&re!==V&&z.push(re)}return z}_run(){var V;let q;if(this.editor.hasTextFocus()){const U=this.editor.getSelection();if(!U||U.startLineNumber!==U.endLineNumber){o.query=null,this._stopAll();return}const Z=U.startColumn,re=U.endColumn,x=this._getWord();if(!x||x.startColumn>Z||x.endColumn<re){o.query=null,this._stopAll();return}q=this.workerRequest&&this.workerRequest.isValid(this.model,U,this.decorations),o.query={modelInfo:{model:this.model,selection:U},word:x}}else if(!o.query)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),q)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const U=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const Z=this.getOtherModelsToHighlight(this.editor.getModel());if(!o.query.modelInfo||o.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(o.query.modelInfo.model,o.query.modelInfo.selection,o.query.word,Z),(V=this.workerRequest)===null||V===void 0||V.result.then(re=>{U===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=re||[],this._beginRenderDecorations())},p.onUnexpectedError)}}computeWithModel(V,q,z,U){return U.length?A(this.multiDocumentProviders,V,q,z,this.editor.getOption(131),U):N(this.providers,V,q,z,this.editor.getOption(131))}_beginRenderDecorations(){const V=new Date().getTime(),q=this.lastCursorPositionChangeTime+250;V>=q?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},q-V)}renderDecorations(){var V,q,z;this.renderDecorationsTimer=-1;const U=this.codeEditorService.listCodeEditors();for(const Z of U){const re=M.get(Z);if(!re)continue;const x=[],Q=(V=Z.getModel())===null||V===void 0?void 0:V.uri;if(Q&&this.workerRequestValue.has(Q)){const X=o.storedDecorations.get(Q),Y=this.workerRequestValue.get(Q);if(Y)for(const ce of Y)ce.range&&x.push({range:ce.range,options:(0,m.getHighlightDecorationOptions)(ce.kind)});let ae=[];Z.changeDecorations(ce=>{ae=ce.deltaDecorations(X??[],x)}),o.storedDecorations=o.storedDecorations.set(Q,ae),x.length>0&&((q=re.wordHighlighter)===null||q===void 0||q.decorations.set(x),(z=re.wordHighlighter)===null||z===void 0||z._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};P.storedDecorations=new r.ResourceMap,P.query=null,P=o=Ie([ue(4,a.ICodeEditorService)],P);let M=g=class extends w.Disposable{static get(V){return V.getContribution(g.ID)}constructor(V,q,z,U){super(),this._wordHighlighter=null;const Z=()=>{V.hasModel()&&!V.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new P(V,z.documentHighlightProvider,z.multiDocumentHighlightProvider,q,U))};this._register(V.onDidChangeModel(re=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),Z()})),Z()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var V;(V=this._wordHighlighter)===null||V===void 0||V.moveNext()}moveBack(){var V;(V=this._wordHighlighter)===null||V===void 0||V.moveBack()}restoreViewState(V){this._wordHighlighter&&V&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=M,M.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=M=g=Ie([ue(1,u.IContextKeyService),ue(2,h.ILanguageFeaturesService),ue(3,a.ICodeEditorService)],M);class R extends _.EditorAction{constructor(V,q){super(q),this._isNext=V}run(V,q){const z=M.get(q);z&&(this._isNext?z.moveNext():z.moveBack())}}class F extends R{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:f.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:c,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class O extends R{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:f.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:c,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class B extends _.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:f.localize(2,null),alias:"Trigger Symbol Highlight",precondition:c.toNegated(),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(V,q,z){const U=M.get(q);U&&U.restoreViewState(!0)}}(0,_.registerEditorContribution)(M.ID,M,0),(0,_.registerEditorAction)(F),(0,_.registerEditorAction)(O),(0,_.registerEditorAction)(B)}),define(ie[959],ne([1,0,6,165,34,178,2,55,5,37,506]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const _=new E.Color(new E.RGBA(0,122,204)),a={showArrow:!0,showFrame:!0,className:"",frameColor:_,arrowColor:_,keepEditorSelection:!1},s="vs.editor.contrib.zoneWidget";class i{constructor(u,d,r,l,o,g,c,b){this.id="",this.domNode=u,this.afterLineNumber=d,this.afterColumn=r,this.heightInLines=l,this.showInHiddenAreas=c,this.ordinal=b,this._onDomNodeTop=o,this._onComputedHeight=g}onDomNodeTop(u){this._onDomNodeTop(u)}onComputedHeight(u){this._onComputedHeight(u)}}class t{constructor(u,d){this._id=u,this._domNode=d}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=t;class n{constructor(u){this._editor=u,this._ruleName=n._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),f.removeCSSRulesContainingSelector(this._ruleName)}set color(u){this._color!==u&&(this._color=u,this._updateStyle())}set height(u){this._height!==u&&(this._height=u,this._updateStyle())}_updateStyle(){f.removeCSSRulesContainingSelector(this._ruleName),f.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(u){u.column===1&&(u={lineNumber:u.lineNumber,column:2}),this._decorations.set([{range:w.Range.fromPositions(u),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}n._IdGenerator=new L.IdGenerator(".arrow-decoration-");class h{constructor(u,d={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new y.DisposableStore,this.container=null,this._isShowing=!1,this.editor=u,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=p.deepClone(d),p.mixin(this.options,a,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(r=>{const l=this._getWidth(r);this.domNode.style.width=l+"px",this.domNode.style.left=this._getLeft(r)+"px",this._onWidth(l)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(u=>{this._viewZone&&u.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new n(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(u){u.frameColor&&(this.options.frameColor=u.frameColor),u.arrowColor&&(this.options.arrowColor=u.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const u=this.options.frameColor.toString();this.container.style.borderTopColor=u,this.container.style.borderBottomColor=u}if(this._arrow&&this.options.arrowColor){const u=this.options.arrowColor.toString();this._arrow.color=u}}_getWidth(u){return u.width-u.minimap.minimapWidth-u.verticalScrollbarWidth}_getLeft(u){return u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?u.minimap.minimapWidth:0}_onViewZoneTop(u){this.domNode.style.top=u+"px"}_onViewZoneHeight(u){var d;if(this.domNode.style.height=`${u}px`,this.container){const r=u-this._decoratingElementsHeight();this.container.style.height=`${r}px`;const l=this.editor.getLayoutInfo();this._doLayout(r,this._getWidth(l))}(d=this._resizeSash)===null||d===void 0||d.layout()}get position(){const u=this._positionMarkerId.getRange(0);if(u)return u.getStartPosition()}show(u,d){const r=w.Range.isIRange(u)?w.Range.lift(u):w.Range.fromPositions(u);this._isShowing=!0,this._showImpl(r,d),this._isShowing=!1,this._positionMarkerId.set([{range:r,options:v.ModelDecorationOptions.EMPTY}])}hide(){var u;this._viewZone&&(this.editor.changeViewZones(d=>{this._viewZone&&d.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(u=this._arrow)===null||u===void 0||u.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const u=this.editor.getOption(67);let d=0;if(this.options.showArrow){const r=Math.round(u/3);d+=2*r}if(this.options.showFrame){const r=Math.round(u/9);d+=2*r}return d}_showImpl(u,d){const r=u.getStartPosition(),l=this.editor.getLayoutInfo(),o=this._getWidth(l);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(l)+"px";const g=document.createElement("div");g.style.overflow="hidden";const c=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const I=Math.max(12,this.editor.getLayoutInfo().height/c*.8);d=Math.min(d,I)}let b=0,C=0;if(this._arrow&&this.options.showArrow&&(b=Math.round(c/3),this._arrow.height=b,this._arrow.show(r)),this.options.showFrame&&(C=Math.round(c/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new i(g,r.lineNumber,r.column,d,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new t(s+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:C;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const S=d*c-this._decoratingElementsHeight();this.container&&(this.container.style.top=b+"px",this.container.style.height=S+"px",this.container.style.overflow="hidden"),this._doLayout(S,o),this.options.keepEditorSelection||this.editor.setSelection(u);const D=this.editor.getModel();if(D){const I=D.validateRange(new w.Range(u.startLineNumber,1,u.endLineNumber+1,1));this.revealRange(I,I.startLineNumber===D.getLineCount())}}revealRange(u,d){d?this.editor.revealLineNearTop(u.endLineNumber,0):this.editor.revealRange(u,0)}setCssClass(u,d){this.container&&(d&&this.container.classList.remove(d),this.container.classList.add(u))}_onWidth(u){}_doLayout(u,d){}_relayout(u){this._viewZone&&this._viewZone.heightInLines!==u&&this.editor.changeViewZones(d=>{this._viewZone&&(this._viewZone.heightInLines=u,d.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let u;this._disposables.add(this._resizeSash.onDidStart(d=>{this._viewZone&&(u={startY:d.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{u=void 0})),this._disposables.add(this._resizeSash.onDidChange(d=>{if(u){const r=(d.currentY-u.startY)/this.editor.getOption(67),l=r<0?Math.ceil(r):Math.floor(r),o=u.heightInLines+l;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const u=this.editor.getLayoutInfo();return u.width-u.minimap.minimapWidth}}e.ZoneWidget=h}),define(ie[152],ne([1,0,6,81,41,26,31,34,7,55,16,36,176,959,734,117,14,46,8,32,497]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.PeekContext=e.IPeekViewService=void 0,e.getOuterEditor=o,e.IPeekViewService=(0,u.createDecorator)("IPeekViewService"),(0,m.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(b,C){const S=this._widgets.get(b);S&&(S.listener.dispose(),S.widget.dispose());const D=()=>{const I=this._widgets.get(b);I&&I.widget===C&&(I.listener.dispose(),this._widgets.delete(b))};this._widgets.set(b,{widget:C,listener:C.onDidClose(D)})}},1);var r;(function(b){b.inPeekEditor=new h.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),b.notInPeekEditor=b.inPeekEditor.toNegated()})(r||(e.PeekContext=r={}));let l=class{constructor(C,S){C instanceof s.EmbeddedCodeEditorWidget&&r.inPeekEditor.bindTo(S)}dispose(){}};l.ID="editor.contrib.referenceController",l=Ie([ue(1,h.IContextKeyService)],l),(0,_.registerEditorContribution)(l.ID,l,0);function o(b){const C=b.get(a.ICodeEditorService).getFocusedCodeEditor();return C instanceof s.EmbeddedCodeEditorWidget?C.getParentEditor():C}const g={headerBackgroundColor:p.Color.white,primaryHeadingColor:p.Color.fromHex("#333333"),secondaryHeadingColor:p.Color.fromHex("#6c6c6cb3")};let c=class extends i.ZoneWidget{constructor(C,S,D){super(C,S),this.instantiationService=D,this._onDidClose=new w.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,g,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(C){const S=this.options;C.headerBackgroundColor&&(S.headerBackgroundColor=C.headerBackgroundColor),C.primaryHeadingColor&&(S.primaryHeadingColor=C.primaryHeadingColor),C.secondaryHeadingColor&&(S.secondaryHeadingColor=C.secondaryHeadingColor),super.style(C)}_applyStyles(){super._applyStyles();const C=this.options;this._headElement&&C.headerBackgroundColor&&(this._headElement.style.backgroundColor=C.headerBackgroundColor.toString()),this._primaryHeading&&C.primaryHeadingColor&&(this._primaryHeading.style.color=C.primaryHeadingColor.toString()),this._secondaryHeading&&C.secondaryHeadingColor&&(this._secondaryHeading.style.color=C.secondaryHeadingColor.toString()),this._bodyElement&&C.frameColor&&(this._bodyElement.style.borderColor=C.frameColor.toString())}_fillContainer(C){this.setCssClass("peekview-widget"),this._headElement=f.$(".head"),this._bodyElement=f.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),C.appendChild(this._headElement),C.appendChild(this._bodyElement)}_fillHead(C,S){this._titleElement=f.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),f.addStandardDisposableListener(this._titleElement,"click",T=>this._onTitleClick(T))),f.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=f.$("span.filename"),this._secondaryHeading=f.$("span.dirname"),this._metaHeading=f.$("span.meta"),f.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const D=f.$(".peekview-actions");f.append(this._headElement,D);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(D,I),this._disposables.add(this._actionbarWidget),S||this._actionbarWidget.push(new E.Action("peekview.close",t.localize(1,null),y.ThemeIcon.asClassName(L.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(C){}_getActionBarOptions(){return{actionViewItemProvider:n.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(C){}setTitle(C,S){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=C,this._primaryHeading.setAttribute("title",C),S?this._secondaryHeading.innerText=S:f.clearNode(this._secondaryHeading))}setMetaTitle(C){this._metaHeading&&(C?(this._metaHeading.innerText=C,f.show(this._metaHeading)):f.hide(this._metaHeading))}_doLayout(C,S){if(!this._isShowing&&C<0){this.dispose();return}const D=Math.ceil(this.editor.getOption(67)*1.2),I=Math.round(C-(D+2));this._doLayoutHead(D,S),this._doLayoutBody(I,S)}_doLayoutHead(C,S){this._headElement&&(this._headElement.style.height=`${C}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(C,S){this._bodyElement&&(this._bodyElement.style.height=`${C}px`)}};e.PeekViewWidget=c,e.PeekViewWidget=c=Ie([ue(2,u.IInstantiationService)],c),e.peekViewTitleBackground=(0,d.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(2,null)),e.peekViewTitleForeground=(0,d.registerColor)("peekViewTitleLabel.foreground",{dark:p.Color.white,light:p.Color.black,hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,d.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,d.registerColor)("peekView.border",{dark:d.editorInfoForeground,light:d.editorInfoForeground,hcDark:d.contrastBorder,hcLight:d.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,d.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,d.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,d.registerColor)("peekViewResult.fileForeground",{dark:p.Color.white,light:"#1E1E1E",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,d.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,d.registerColor)("peekViewResult.selectionForeground",{dark:p.Color.white,light:"#6C6C6C",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,d.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,d.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,d.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(13,null)),e.peekViewResultsMatchHighlight=(0,d.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlight=(0,d.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,d.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:d.activeContrastBorder,hcLight:d.activeContrastBorder},t.localize(16,null))}),define(ie[960],ne([1,0,6,79,13,34,7,2,50,11,5,152,707,117,28,14,8,172,104,59,842,32,23,483]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class c{constructor(O,B,H,V,q){this._openerService=V,this._labelService=q,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new p.DisposableStore,this._editor=B;const z=document.createElement("div");z.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),z.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),z.appendChild(this._relatedBlock),this._disposables.add(f.addStandardDisposableListener(this._relatedBlock,"click",U=>{U.preventDefault();const Z=this._relatedDiagnostics.get(U.target);Z&&H(Z)})),this._scrollable=new k.ScrollableElement(z,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),O.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(U=>{z.style.left=`-${U.scrollLeft}px`,z.style.top=`-${U.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,p.dispose)(this._disposables)}update(O){const{source:B,message:H,relatedInformation:V,code:q}=O;let z=(B?.length||0)+2;q&&(typeof q=="string"?z+=q.length:z+=q.value.length);const U=(0,v.splitLines)(H);this._lines=U.length,this._longestLineLength=0;for(const X of U)this._longestLineLength=Math.max(X.length+z,this._longestLineLength);f.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(O)),this._editor.applyFontInfo(this._messageBlock);let Z=this._messageBlock;for(const X of U)Z=document.createElement("div"),Z.innerText=X,X===""&&(Z.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Z);if(B||q){const X=document.createElement("span");if(X.classList.add("details"),Z.appendChild(X),B){const Y=document.createElement("span");Y.innerText=B,Y.classList.add("source"),X.appendChild(Y)}if(q)if(typeof q=="string"){const Y=document.createElement("span");Y.innerText=`(${q})`,Y.classList.add("code"),X.appendChild(Y)}else{this._codeLink=f.$("a.code-link"),this._codeLink.setAttribute("href",`${q.target.toString()}`),this._codeLink.onclick=ae=>{this._openerService.open(q.target,{allowCommands:!0}),ae.preventDefault(),ae.stopPropagation()};const Y=f.append(this._codeLink,f.$("span"));Y.innerText=q.value,X.appendChild(this._codeLink)}}if(f.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,E.isNonEmptyArray)(V)){const X=this._relatedBlock.appendChild(document.createElement("div"));X.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const Y of V){const ae=document.createElement("div"),ce=document.createElement("a");ce.classList.add("filename"),ce.innerText=`${this._labelService.getUriBasenameLabel(Y.resource)}(${Y.startLineNumber}, ${Y.startColumn}): `,ce.title=this._labelService.getUriLabel(Y.resource),this._relatedDiagnostics.set(ce,Y);const he=document.createElement("span");he.innerText=Y.message,ae.appendChild(ce),ae.appendChild(he),this._lines+=1,X.appendChild(ae)}}const re=this._editor.getOption(50),x=Math.ceil(re.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Q=re.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:x,scrollHeight:Q})}layout(O,B){this._scrollable.getDomNode().style.height=`${O}px`,this._scrollable.getDomNode().style.width=`${B}px`,this._scrollable.setScrollDimensions({width:B,height:O})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(O){let B="";switch(O.severity){case u.MarkerSeverity.Error:B=s.localize(0,null);break;case u.MarkerSeverity.Warning:B=s.localize(1,null);break;case u.MarkerSeverity.Info:B=s.localize(2,null);break;case u.MarkerSeverity.Hint:B=s.localize(3,null);break}let H=s.localize(4,null,B,O.startLineNumber+":"+O.startColumn);const V=this._editor.getModel();return V&&O.startLineNumber<=V.getLineCount()&&O.startLineNumber>=1&&(H=`${V.getLineContent(O.startLineNumber)}, ${H}`),H}}let b=g=class extends a.PeekViewWidget{constructor(O,B,H,V,q,z,U){super(O,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},q),this._themeService=B,this._openerService=H,this._menuService=V,this._contextKeyService=z,this._labelService=U,this._callOnDispose=new p.DisposableStore,this._onDidSelectRelatedInformation=new y.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=u.MarkerSeverity.Warning,this._backgroundColor=L.Color.white,this._applyTheme(B.getColorTheme()),this._callOnDispose.add(B.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(O){this._backgroundColor=O.getColor(R);let B=I,H=T;this._severity===u.MarkerSeverity.Warning?(B=N,H=A):this._severity===u.MarkerSeverity.Info&&(B=P,H=M);const V=O.getColor(B),q=O.getColor(H);this.style({arrowColor:V,frameColor:V,headerBackgroundColor:q,primaryHeadingColor:O.getColor(a.peekViewTitleForeground),secondaryHeadingColor:O.getColor(a.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(O){super._fillHead(O),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(V=>this.editor.focus()));const B=[],H=this._menuService.createMenu(g.TitleMenu,this._contextKeyService);(0,i.createAndFillInActionBarActions)(H,void 0,B),this._actionbarWidget.push(B,{label:!1,icon:!0,index:0}),H.dispose()}_fillTitleIcon(O){this._icon=f.append(O,f.$(""))}_fillBody(O){this._parentContainer=O,O.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),O.appendChild(this._container),this._message=new c(this._container,this.editor,B=>this._onDidSelectRelatedInformation.fire(B),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(O,B,H){this._container.classList.remove("stale"),this._message.update(O),this._severity=O.severity,this._applyTheme(this._themeService.getColorTheme());const V=_.Range.lift(O),q=this.editor.getPosition(),z=q&&V.containsPosition(q)?q:V.getStartPosition();super.show(z,this.computeRequiredHeight());const U=this.editor.getModel();if(U){const Z=H>1?s.localize(5,null,B,H):s.localize(6,null,B,H);this.setTitle((0,w.basename)(U.uri),Z)}this._icon.className=`codicon ${r.SeverityIcon.className(u.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(z,0),this.editor.focus()}updateMarker(O){this._container.classList.remove("stale"),this._message.update(O)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(O,B){super._doLayoutBody(O,B),this._heightInPixel=O,this._message.layout(O,B),this._container.style.height=`${O}px`}_onWidth(O){this._message.layout(this._heightInPixel,O)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=b,b.TitleMenu=new t.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=b=g=Ie([ue(1,o.IThemeService),ue(2,d.IOpenerService),ue(3,t.IMenuService),ue(4,h.IInstantiationService),ue(5,n.IContextKeyService),ue(6,m.ILabelService)],b);const C=(0,l.oneOf)(l.editorErrorForeground,l.editorErrorBorder),S=(0,l.oneOf)(l.editorWarningForeground,l.editorWarningBorder),D=(0,l.oneOf)(l.editorInfoForeground,l.editorInfoBorder),I=(0,l.registerColor)("editorMarkerNavigationError.background",{dark:C,light:C,hcDark:l.contrastBorder,hcLight:l.contrastBorder},s.localize(7,null)),T=(0,l.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,l.transparent)(I,.1),light:(0,l.transparent)(I,.1),hcDark:null,hcLight:null},s.localize(8,null)),N=(0,l.registerColor)("editorMarkerNavigationWarning.background",{dark:S,light:S,hcDark:l.contrastBorder,hcLight:l.contrastBorder},s.localize(9,null)),A=(0,l.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,l.transparent)(N,.1),light:(0,l.transparent)(N,.1),hcDark:"#0C141F",hcLight:(0,l.transparent)(N,.2)},s.localize(10,null)),P=(0,l.registerColor)("editorMarkerNavigationInfo.background",{dark:D,light:D,hcDark:l.contrastBorder,hcLight:l.contrastBorder},s.localize(11,null)),M=(0,l.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,l.transparent)(P,.1),light:(0,l.transparent)(P,.1),hcDark:null,hcLight:null},s.localize(12,null)),R=(0,l.registerColor)("editorMarkerNavigation.background",{dark:l.editorBackground,light:l.editorBackground,hcDark:l.editorBackground,hcLight:l.editorBackground},s.localize(13,null))}),define(ie[402],ne([1,0,26,2,16,36,9,5,20,820,706,28,14,8,85,960]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let m=h=class{static get(C){return C.getContribution(h.ID)}constructor(C,S,D,I,T){this._markerNavigationService=S,this._contextKeyService=D,this._editorService=I,this._instantiationService=T,this._sessionDispoables=new k.DisposableStore,this._editor=C,this._widgetVisible=g.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(C){if(this._model&&this._model.matches(C))return this._model;let S=!1;return this._model&&(S=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(C),S&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(n.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(D=>{var I,T,N;(!(!((I=this._model)===null||I===void 0)&&I.selected)||!p.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,D.position))&&((N=this._model)===null||N===void 0||N.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const D=this._model.find(this._editor.getModel().uri,this._widget.position);D?this._widget.updateMarker(D.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(D=>{this._editorService.openCodeEditor({resource:D.resource,options:{pinned:!0,revealIfOpened:!0,selection:p.Range.lift(D).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(C=!0){this._cleanUp(),C&&this._editor.focus()}showAtMarker(C){if(this._editor.hasModel()){const S=this._getOrCreateModel(this._editor.getModel().uri);S.resetIndex(),S.move(!0,this._editor.getModel(),new y.Position(C.startLineNumber,C.startColumn)),S.selected&&this._widget.showAtMarker(S.selected.marker,S.selected.index,S.selected.total)}}async nagivate(C,S){var D,I;if(this._editor.hasModel()){const T=this._getOrCreateModel(S?void 0:this._editor.getModel().uri);if(T.move(C,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=await this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);N&&((D=h.get(N))===null||D===void 0||D.close(),(I=h.get(N))===null||I===void 0||I.nagivate(C,S))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}}};e.MarkerController=m,m.ID="editor.contrib.markerController",e.MarkerController=m=h=Ie([ue(1,v.IMarkerNavigationService),ue(2,s.IContextKeyService),ue(3,L.ICodeEditorService),ue(4,i.IInstantiationService)],m);class u extends E.EditorAction{constructor(C,S,D){super(D),this._next=C,this._multiFile=S}async run(C,S){var D;S.hasModel()&&((D=m.get(S))===null||D===void 0||D.nagivate(this._next,this._multiFile))}}class d extends u{constructor(){super(!0,!1,{id:d.ID,label:d.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:n.MarkerNavigationWidget.TitleMenu,title:d.LABEL,icon:(0,t.registerIcon)("marker-navigation-next",f.Codicon.arrowDown,_.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=d,d.ID="editor.action.marker.next",d.LABEL=_.localize(0,null);class r extends u{constructor(){super(!1,!1,{id:r.ID,label:r.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:n.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,t.registerIcon)("marker-navigation-previous",f.Codicon.arrowUp,_.localize(3,null)),group:"navigation",order:2}})}}r.ID="editor.action.marker.prev",r.LABEL=_.localize(2,null);class l extends u{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:a.MenuId.MenubarGoMenu,title:_.localize(5,null),group:"6_problem_nav",order:1}})}}class o extends u{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:a.MenuId.MenubarGoMenu,title:_.localize(7,null),group:"6_problem_nav",order:2}})}}(0,E.registerEditorContribution)(m.ID,m,4),(0,E.registerEditorAction)(d),(0,E.registerEditorAction)(r),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(o);const g=new s.RawContextKey("markersNavigationVisible",!1),c=E.EditorCommand.bindToContribution(m.get);(0,E.registerEditorCommand)(new c({id:"closeMarkersNavigation",precondition:g,handler:b=>b.close(),kbOpts:{weight:150,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(ie[961],ne([1,0,6,339,34,7,2,49,50,176,5,37,33,84,42,74,879,152,712,8,35,172,206,23,208,169,485]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class C{constructor(N,A){this._editor=N,this._model=A,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new y.DisposableStore,this._callOnModelChange=new y.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(N){for(const A of this._model.references)if(A.uri.toString()===N.uri.toString()){this._addDecorations(A.parent);return}}}_addDecorations(N){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const A=[],P=[];for(let M=0,R=N.children.length;M<R;M++){const F=N.children[M];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(A.push({range:F.range,options:C.DecorationOptions}),P.push(M))}this._editor.changeDecorations(M=>{const R=M.deltaDecorations([],A);for(let F=0;F<R.length;F++)this._decorations.set(R[F],N.children[P[F]])})}_onDecorationChanged(){const N=[],A=this._editor.getModel();if(A){for(const[P,M]of this._decorations){const R=A.getDecorationRange(P);if(!R)continue;let F=!1;if(!_.Range.equalsRange(R,M.range)){if(_.Range.spansMultipleLines(R))F=!0;else{const O=M.range.endColumn-M.range.startColumn,B=R.endColumn-R.startColumn;O!==B&&(F=!0)}F?(this._decorationIgnoreSet.add(M.id),N.push(P)):M.range=R}}for(let P=0,M=N.length;P<M;P++)this._decorations.delete(N[P]);this._editor.removeDecorations(N)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}C.DecorationOptions=a.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class S{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let A,P;try{const M=JSON.parse(N);A=M.ratio,P=M.heightInLines}catch{}return{ratio:A||.7,heightInLines:P||18}}}e.LayoutData=S;class D extends o.WorkbenchAsyncDataTree{}let I=class extends m.PeekViewWidget{constructor(N,A,P,M,R,F,O,B,H,V,q,z){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},F),this._defaultTreeKeyboardSupport=A,this.layoutData=P,this._textModelResolverService=R,this._instantiationService=F,this._peekViewService=O,this._uriLabel=B,this._undoRedoService=H,this._keybindingService=V,this._languageService=q,this._languageConfigurationService=z,this._disposeOnNewModel=new y.DisposableStore,this._callOnDispose=new y.DisposableStore,this._onDidSelectReference=new L.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new f.Dimension(0,0),this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,y.dispose)(this._preview),(0,y.dispose)(this._previewNotAvailableMessage),(0,y.dispose)(this._tree),(0,y.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const A=N.getColor(m.peekViewBorder)||E.Color.transparent;this.style({arrowColor:A,frameColor:A,headerBackgroundColor:N.getColor(m.peekViewTitleBackground)||E.Color.transparent,primaryHeadingColor:N.getColor(m.peekViewTitleForeground),secondaryHeadingColor:N.getColor(m.peekViewTitleInfoForeground)})}show(N){super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=f.append(N,f.$("div.messages")),f.hide(this._messageContainer),this._splitView=new k.SplitView(N,{orientation:1}),this._previewContainer=f.append(N,f.$("div.preview.inline"));const A={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(v.EmbeddedCodeEditorWidget,this._previewContainer,A,{},this.editor),f.hide(this._previewContainer),this._previewNotAvailableMessage=new a.TextModel(u.localize(0,null),i.PLAINTEXT_LANGUAGE_ID,a.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=f.append(N,f.$("div.ref-tree.inline"));const P={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new h.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(h.StringRepresentationProvider),identityProvider:new h.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:m.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(f.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(D,"ReferencesWidget",this._treeContainer,new h.Delegate,[this._instantiationService.createInstance(h.FileReferencesRenderer),this._instantiationService.createInstance(h.OneReferenceRenderer)],this._instantiationService.createInstance(h.DataSource),P),this._splitView.addView({onDidChange:L.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:L.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const M=(R,F)=>{R instanceof b.OneReference&&(F==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:F,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?M(R.element,"side"):R.editorOptions.pinned?M(R.element,"goto"):M(R.element,"show")}),f.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,A){super._doLayoutBody(N,A),this._dim=new f.Dimension(A,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(A),this._splitView.resizeView(0,A*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{this._model&&(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=u.localize(1,null),f.show(this._messageContainer),Promise.resolve(void 0)):(f.hide(this._messageContainer),this._decorationsManager=new C(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:A,target:P}=N;if(A.detail!==2)return;const M=this._getFocusedReference();M&&this._onDidSelectReference.fire({element:{uri:M.uri,range:P.range},kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),f.show(this._treeContainer),f.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof b.OneReference)return N;if(N instanceof b.FileReferences&&N.children.length>0)return N.children[0]}async revealReference(N){await this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})}async _revealReference(N,A){if(this._revealedReference===N)return;this._revealedReference=N,N.uri.scheme!==p.Schemas.inMemory?this.setTitle((0,w.basenameOrAuthority)(N.uri),this._uriLabel.getUriLabel((0,w.dirname)(N.uri))):this.setTitle(u.localize(2,null));const P=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(A&&this._tree.reveal(N.parent),await this._tree.expand(N.parent),this._tree.reveal(N));const M=await P;if(!this._model){M.dispose();return}(0,y.dispose)(this._previewModelReference);const R=M.object;if(R){const F=this._preview.getModel()===R.textEditorModel?0:1,O=_.Range.lift(N.range).collapseToStart();this._previewModelReference=M,this._preview.setModel(R.textEditorModel),this._preview.setSelection(O),this._preview.revealRangeInCenter(O,F)}else this._preview.setModel(this._previewNotAvailableMessage),M.dispose()}};e.ReferenceWidget=I,e.ReferenceWidget=I=Ie([ue(3,g.IThemeService),ue(4,n.ITextModelService),ue(5,d.IInstantiationService),ue(6,m.IPeekViewService),ue(7,l.ILabelService),ue(8,c.IUndoRedoService),ue(9,r.IKeybindingService),ue(10,t.ILanguageService),ue(11,s.ILanguageConfigurationService)],I)}),define(ie[403],ne([1,0,15,12,69,2,36,9,5,152,710,27,25,14,8,131,206,51,98,169,961,20,201]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new i.RawContextKey("referenceSearchVisible",!1,_.localize(0,null));let c=g=class{static get(S){return S.getContribution(g.ID)}constructor(S,D,I,T,N,A,P,M){this._defaultTreeKeyboardSupport=S,this._editor=D,this._editorService=T,this._notificationService=N,this._instantiationService=A,this._storageService=P,this._configurationService=M,this._disposables=new L.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(I)}dispose(){var S,D;this._referenceSearchVisible.reset(),this._disposables.dispose(),(S=this._widget)===null||S===void 0||S.dispose(),(D=this._model)===null||D===void 0||D.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(S,D,I){let T;if(this._widget&&(T=this._widget.position),this.closeWidget(),T&&S.containsPosition(T))return;this._peekMode=I,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const N="peekViewLayout",A=r.LayoutData.fromJSON(this._storageService.get(N,0,"{}"));this._widget=this._instantiationService.createInstance(r.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,A),this._widget.setTitle(_.localize(1,null)),this._widget.show(S),this._disposables.add(this._widget.onDidClose(()=>{D.cancel(),this._widget&&(this._storageService.store(N,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(M=>{const{element:R,kind:F}=M;if(R)switch(F){case"open":(M.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(R,!1,!1);break;case"side":this.openReference(R,!0,!1);break;case"goto":I?this._gotoReference(R,!0):this.openReference(R,!1,!0);break}}));const P=++this._requestIdPool;D.then(M=>{var R;if(P!==this._requestIdPool||!this._widget){M.dispose();return}return(R=this._model)===null||R===void 0||R.dispose(),this._model=M,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(_.localize(2,null,this._model.title,this._model.references.length));const F=this._editor.getModel().uri,O=new p.Position(S.startLineNumber,S.startColumn),B=this._model.nearestReference(F,O);if(B)return this._widget.setSelection(B).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},M=>{this._notificationService.error(M)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(S){if(!this._editor.hasModel()||!this._model||!this._widget)return;const D=this._widget.position;if(!D)return;const I=this._model.nearestReference(this._editor.getModel().uri,D);if(!I)return;const T=this._model.nextOrPreviousReference(I,S),N=this._editor.hasTextFocus(),A=this._widget.isPreviewEditorFocused();await this._widget.setSelection(T),await this._gotoReference(T,!1),N?this._editor.focus():this._widget&&A&&this._widget.focusOnPreviewEditor()}async revealReference(S){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(S)}closeWidget(S=!0){var D,I;(D=this._widget)===null||D===void 0||D.dispose(),(I=this._model)===null||I===void 0||I.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,S&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(S,D){var I;(I=this._widget)===null||I===void 0||I.hide(),this._ignoreModelChangeEvent=!0;const T=w.Range.lift(S.range).collapseToStart();return this._editorService.openCodeEditor({resource:S.uri,options:{selection:T,selectionSource:"code.jump",pinned:D}},this._editor).then(N=>{var A;if(this._ignoreModelChangeEvent=!1,!N||!this._widget){this.closeWidget();return}if(this._editor===N)this._widget.show(T),this._widget.focusOnReferenceTree();else{const P=g.get(N),M=this._model.clone();this.closeWidget(),N.focus(),P?.toggleWidget(T,(0,f.createCancelablePromise)(R=>Promise.resolve(M)),(A=this._peekMode)!==null&&A!==void 0?A:!1)}},N=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(N)})}openReference(S,D,I){D||this.closeWidget();const{uri:T,range:N}=S;this._editorService.openCodeEditor({resource:T,options:{selection:N,selectionSource:"code.jump",pinned:I}},this._editor,D)}};e.ReferencesController=c,c.ID="editor.contrib.referencesController",e.ReferencesController=c=g=Ie([ue(2,i.IContextKeyService),ue(3,y.ICodeEditorService),ue(4,m.INotificationService),ue(5,t.IInstantiationService),ue(6,u.IStorageService),ue(7,s.IConfigurationService)],c);function b(C,S){const D=(0,v.getOuterEditor)(C);if(!D)return;const I=c.get(D);I&&S(I)}n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,E.KeyChord)(2089,60),when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(C){b(C,S=>{S.changeFocusBetweenPreviewAndReferences()})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(C){b(C,S=>{S.goToNextOrPreviousReference(!0)})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(C){b(C,S=>{S.goToNextOrPreviousReference(!1)})}}),a.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),a.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),a.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),a.CommandsRegistry.registerCommand("closeReferenceSearch",C=>b(C,S=>S.closeWidget())),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(v.PeekContext.inPeekEditor,i.ContextKeyExpr.not("config.editor.stablePeek"))}),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.ContextKeyExpr.not("config.editor.stablePeek"),i.ContextKeyExpr.or(l.EditorContextKeys.editorTextFocus,o.InputFocusedContext.negate()))}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,h.WorkbenchListFocusContextKey,h.WorkbenchTreeElementCanCollapse.negate(),h.WorkbenchTreeElementCanExpand.negate()),handler(C){var S;const I=(S=C.get(h.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof d.OneReference&&b(C,T=>T.revealReference(I[0]))}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,h.WorkbenchListFocusContextKey,h.WorkbenchTreeElementCanCollapse.negate(),h.WorkbenchTreeElementCanExpand.negate()),handler(C){var S;const I=(S=C.get(h.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof d.OneReference&&b(C,T=>T.openReference(I[0],!0,!0))}}),a.CommandsRegistry.registerCommand("openReference",C=>{var S;const I=(S=C.get(h.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof d.OneReference&&b(C,T=>T.openReference(I[0],!1,!0))})}),define(ie[279],ne([1,0,45,15,69,21,22,115,162,16,36,176,9,5,20,29,403,169,857,174,152,708,28,27,14,8,51,92,266,18,54,201]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T,N){"use strict";var A,P,M,R,F,O,B,H;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,o.MenuRegistry.appendMenuItem(o.MenuId.EditorContext,{submenu:o.MenuId.EditorContextPeek,title:l.localize(0,null),group:"navigation",order:100});class V{static is(Y){return!Y||typeof Y!="object"?!1:!!(Y instanceof V||s.Position.isIPosition(Y.position)&&Y.model)}constructor(Y,ae){this.model=Y,this.position=ae}}e.SymbolNavigationAnchor=V;class q extends v.EditorAction2{static all(){return q._allSymbolNavigationCommands.values()}static _patchConfig(Y){const ae={...Y,f1:!0};if(ae.menu)for(const ce of T.Iterable.wrap(ae.menu))(ce.id===o.MenuId.EditorContext||ce.id===o.MenuId.EditorContextPeek)&&(ce.when=c.ContextKeyExpr.and(Y.precondition,ce.when));return ae}constructor(Y,ae){super(q._patchConfig(ae)),this.configuration=Y,q._allSymbolNavigationCommands.set(ae.id,this)}runEditorCommand(Y,ae,ce,he){if(!ae.hasModel())return Promise.resolve(void 0);const pe=Y.get(C.INotificationService),fe=Y.get(_.ICodeEditorService),se=Y.get(S.IEditorProgressService),te=Y.get(u.ISymbolNavigationService),$=Y.get(I.ILanguageFeaturesService),W=Y.get(b.IInstantiationService),j=ae.getModel(),K=ae.getPosition(),G=V.is(ce)?ce:new V(j,K),ee=new p.EditorStateCancellationTokenSource(ae,5),oe=(0,k.raceCancellation)(this._getLocationModel($,G.model,G.position,ee.token),ee.token).then(async de=>{var le;if(!de||ee.token.isCancellationRequested)return;(0,f.alert)(de.ariaMessage);let ge;if(de.referenceAt(j.uri,K)){const Ce=this._getAlternativeCommand(ae);!q._activeAlternativeCommands.has(Ce)&&q._allSymbolNavigationCommands.has(Ce)&&(ge=q._allSymbolNavigationCommands.get(Ce))}const ve=de.references.length;if(ve===0){if(!this.configuration.muteMessage){const Ce=j.getWordAtPosition(K);(le=d.MessageController.get(ae))===null||le===void 0||le.showMessage(this._getNoResultFoundMessage(Ce),K)}}else if(ve===1&&ge)q._activeAlternativeCommands.add(this.desc.id),W.invokeFunction(Ce=>ge.runEditorCommand(Ce,ae,ce,he).finally(()=>{q._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(fe,te,ae,de,he)},de=>{pe.error(de)}).finally(()=>{ee.dispose()});return se.showWhile(oe,250),oe}async _onResult(Y,ae,ce,he,pe){const fe=this._getGoToPreference(ce);if(!(ce instanceof a.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||fe==="peek"&&he.references.length>1))this._openInPeek(ce,he,pe);else{const se=he.firstReference(),te=he.references.length>1&&fe==="gotoAndPeek",$=await this._openReference(ce,Y,se,this.configuration.openToSide,!te);te&&$?this._openInPeek($,he,pe):he.dispose(),fe==="goto"&&ae.put(se)}}async _openReference(Y,ae,ce,he,pe){let fe;if((0,n.isLocationLink)(ce)&&(fe=ce.targetSelectionRange),fe||(fe=ce.range),!fe)return;const se=await ae.openCodeEditor({resource:ce.uri,options:{selection:i.Range.collapseToStart(fe),selectionRevealType:3,selectionSource:"code.jump"}},Y,he);if(se){if(pe){const te=se.getModel(),$=se.createDecorationsCollection([{range:fe,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{se.getModel()===te&&$.clear()},350)}return se}}_openInPeek(Y,ae,ce){const he=h.ReferencesController.get(Y);he&&Y.hasModel()?he.toggleWidget(ce??Y.getSelection(),(0,k.createCancelablePromise)(pe=>Promise.resolve(ae)),this.configuration.openInPeek):ae.dispose()}}e.SymbolNavigationAction=q,q._allSymbolNavigationCommands=new Map,q._activeAlternativeCommands=new Set;class z extends q{async _getLocationModel(Y,ae,ce,he){return new m.ReferencesModel(await(0,D.getDefinitionsAtPosition)(Y.definitionProvider,ae,ce,he),l.localize(1,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(2,null,Y.word):l.localize(3,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeDefinitionCommand}_getGoToPreference(Y){return Y.getOption(58).multipleDefinitions}}e.DefinitionAction=z,(0,o.registerAction2)((A=class extends z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:A.id,title:{...l.localize2(27,"Go to Definition"),mnemonicTitle:l.localize(4,null)},precondition:t.EditorContextKeys.hasDefinitionProvider,keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:c.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:2118,weight:100}],menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.1},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),g.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",A.id)}},A.id="editor.action.revealDefinition",A)),(0,o.registerAction2)((P=class extends z{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:P.id,title:l.localize2(28,"Open Definition to the Side"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,70),weight:100},{when:c.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:(0,E.KeyChord)(2089,2118),weight:100}]}),g.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",P.id)}},P.id="editor.action.revealDefinitionAside",P)),(0,o.registerAction2)((M=class extends z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:M.id,title:l.localize2(29,"Peek Definition"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:2}}),g.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",M.id)}},M.id="editor.action.peekDefinition",M));class U extends q{async _getLocationModel(Y,ae,ce,he){return new m.ReferencesModel(await(0,D.getDeclarationsAtPosition)(Y.declarationProvider,ae,ce,he),l.localize(5,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(6,null,Y.word):l.localize(7,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeDeclarationCommand}_getGoToPreference(Y){return Y.getOption(58).multipleDeclarations}}(0,o.registerAction2)((R=class extends U{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:R.id,title:{...l.localize2(30,"Go to Declaration"),mnemonicTitle:l.localize(8,null)},precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.3},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(9,null,Y.word):l.localize(10,null)}},R.id="editor.action.revealDeclaration",R)),(0,o.registerAction2)(class extends U{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:l.localize2(31,"Peek Declaration"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:3}})}});class Z extends q{async _getLocationModel(Y,ae,ce,he){return new m.ReferencesModel(await(0,D.getTypeDefinitionsAtPosition)(Y.typeDefinitionProvider,ae,ce,he),l.localize(11,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(12,null,Y.word):l.localize(13,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(Y){return Y.getOption(58).multipleTypeDefinitions}}(0,o.registerAction2)((F=class extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:F.ID,title:{...l.localize2(32,"Go to Type Definition"),mnemonicTitle:l.localize(14,null)},precondition:t.EditorContextKeys.hasTypeDefinitionProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.4},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},F.ID="editor.action.goToTypeDefinition",F)),(0,o.registerAction2)((O=class extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:O.ID,title:l.localize2(33,"Peek Type Definition"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class re extends q{async _getLocationModel(Y,ae,ce,he){return new m.ReferencesModel(await(0,D.getImplementationsAtPosition)(Y.implementationProvider,ae,ce,he),l.localize(15,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(16,null,Y.word):l.localize(17,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeImplementationCommand}_getGoToPreference(Y){return Y.getOption(58).multipleImplementations}}(0,o.registerAction2)((B=class extends re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:B.ID,title:{...l.localize2(34,"Go to Implementations"),mnemonicTitle:l.localize(18,null)},precondition:t.EditorContextKeys.hasImplementationProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.45},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},B.ID="editor.action.goToImplementation",B)),(0,o.registerAction2)((H=class extends re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:H.ID,title:l.localize2(35,"Peek Implementations"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:5}})}},H.ID="editor.action.peekImplementation",H));class x extends q{_getNoResultFoundMessage(Y){return Y?l.localize(19,null,Y.word):l.localize(20,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeReferenceCommand}_getGoToPreference(Y){return Y.getOption(58).multipleReferences}}(0,o.registerAction2)(class extends x{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...l.localize2(36,"Go to References"),mnemonicTitle:l.localize(21,null)},precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.45},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(Y,ae,ce,he){return new m.ReferencesModel(await(0,D.getReferencesAtPosition)(Y.referenceProvider,ae,ce,!0,he),l.localize(22,null))}}),(0,o.registerAction2)(class extends x{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:l.localize2(37,"Peek References"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(Y,ae,ce,he){return new m.ReferencesModel(await(0,D.getReferencesAtPosition)(Y.referenceProvider,ae,ce,!1,he),l.localize(23,null))}});class Q extends q{constructor(Y,ae,ce){super(Y,{id:"editor.action.goToLocation",title:l.localize2(38,"Go to Any Symbol"),precondition:c.ContextKeyExpr.and(r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated())}),this._references=ae,this._gotoMultipleBehaviour=ce}async _getLocationModel(Y,ae,ce,he){return new m.ReferencesModel(this._references,l.localize(24,null))}_getNoResultFoundMessage(Y){return Y&&l.localize(25,null,Y.word)||""}_getGoToPreference(Y){var ae;return(ae=this._gotoMultipleBehaviour)!==null&&ae!==void 0?ae:Y.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}g.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:s.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(X,Y,ae,ce,he,pe,fe)=>{(0,L.assertType)(y.URI.isUri(Y)),(0,L.assertType)(s.Position.isIPosition(ae)),(0,L.assertType)(Array.isArray(ce)),(0,L.assertType)(typeof he>"u"||typeof he=="string"),(0,L.assertType)(typeof fe>"u"||typeof fe=="boolean");const se=X.get(_.ICodeEditorService),te=await se.openCodeEditor({resource:Y},se.getFocusedCodeEditor());if((0,w.isCodeEditor)(te))return te.setPosition(ae),te.revealPositionInCenterIfOutsideViewport(ae,0),te.invokeWithinContext($=>{const W=new class extends Q{_getNoResultFoundMessage(j){return pe||super._getNoResultFoundMessage(j)}}({muteMessage:!pe,openInPeek:!!fe,openToSide:!1},ce,he);$.get(b.IInstantiationService).invokeFunction(W.run.bind(W),te)})}}),g.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:s.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(X,Y,ae,ce,he)=>{X.get(g.ICommandService).executeCommand("editor.action.goToLocations",Y,ae,ce,he,void 0,!0)}}),g.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(X,Y,ae)=>{(0,L.assertType)(y.URI.isUri(Y)),(0,L.assertType)(s.Position.isIPosition(ae));const ce=X.get(I.ILanguageFeaturesService),he=X.get(_.ICodeEditorService);return he.openCodeEditor({resource:Y},he.getFocusedCodeEditor()).then(pe=>{if(!(0,w.isCodeEditor)(pe)||!pe.hasModel())return;const fe=h.ReferencesController.get(pe);if(!fe)return;const se=(0,k.createCancelablePromise)($=>(0,D.getReferencesAtPosition)(ce.referenceProvider,pe.getModel(),s.Position.lift(ae),!1,$).then(W=>new m.ReferencesModel(W,l.localize(26,null)))),te=new i.Range(ae.lineNumber,ae.column,ae.lineNumber,ae.column);return Promise.resolve(fe.toggleWidget(te,se,!1))})}}),g.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ie[404],ne([1,0,15,12,57,2,115,16,5,42,74,199,152,709,14,279,266,18,37,484]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let r=d=class{constructor(o,g,c,b){this.textModelResolverService=g,this.languageService=c,this.languageFeaturesService=b,this.toUnhook=new L.DisposableStore,this.toUnhookForKeyboard=new L.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=o,this.linkDecorations=this.editor.createDecorationsCollection();const C=new a.ClickLinkGesture(o);this.toUnhook.add(C),this.toUnhook.add(C.onMouseMoveOrRelevantKeyDown(([S,D])=>{this.startFindDefinitionFromMouse(S,D??void 0)})),this.toUnhook.add(C.onExecute(S=>{this.isEnabled(S)&&this.gotoDefinition(S.target.position,S.hasSideBySideModifier).catch(D=>{(0,k.onUnexpectedError)(D)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(C.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(o){return o.getContribution(d.ID)}async startFindDefinitionFromCursor(o){await this.startFindDefinition(o),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(g=>{g&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(o,g){if(o.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(o,g)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const c=o.target.position;this.startFindDefinition(c)}async startFindDefinition(o){var g;this.toUnhookForKeyboard.clear();const c=o?(g=this.editor.getModel())===null||g===void 0?void 0:g.getWordAtPosition(o):null;if(!c){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===c.startColumn&&this.currentWordAtPosition.endColumn===c.endColumn&&this.currentWordAtPosition.word===c.word)return;this.currentWordAtPosition=c;const b=new y.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,f.createCancelablePromise)(D=>this.findDefinition(o,D));let C;try{C=await this.previousPromise}catch(D){(0,k.onUnexpectedError)(D);return}if(!C||!C.length||!b.validate(this.editor)){this.removeLinkDecorations();return}const S=C[0].originSelectionRange?w.Range.lift(C[0].originSelectionRange):new w.Range(o.lineNumber,c.startColumn,o.lineNumber,c.endColumn);if(C.length>1){let D=S;for(const{originSelectionRange:I}of C)I&&(D=w.Range.plusRange(D,I));this.addDecoration(D,new E.MarkdownString().appendText(i.localize(0,null,C.length)))}else{const D=C[0];if(!D.uri)return;this.textModelResolverService.createModelReference(D.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:N}=D.range;if(N<1||N>T.getLineCount()){I.dispose();return}const A=this.getPreviewValue(T,N,D),P=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(S,A?new E.MarkdownString().appendCodeblock(P||"",A):void 0),I.dispose()})}}getPreviewValue(o,g,c){let b=c.range;return b.endLineNumber-b.startLineNumber>=d.MAX_SOURCE_PREVIEW_LINES&&(b=this.getPreviewRangeBasedOnIndentation(o,g)),this.stripIndentationFromPreviewRange(o,g,b)}stripIndentationFromPreviewRange(o,g,c){let C=o.getLineFirstNonWhitespaceColumn(g);for(let D=g+1;D<c.endLineNumber;D++){const I=o.getLineFirstNonWhitespaceColumn(D);C=Math.min(C,I)}return o.getValueInRange(c).replace(new RegExp(`^\\s{${C-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(o,g){const c=o.getLineFirstNonWhitespaceColumn(g),b=Math.min(o.getLineCount(),g+d.MAX_SOURCE_PREVIEW_LINES);let C=g+1;for(;C<b;C++){const S=o.getLineFirstNonWhitespaceColumn(C);if(c===S)break}return new w.Range(g,1,C+1,1)}addDecoration(o,g){const c={range:o,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:g}};this.linkDecorations.set([c])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(o,g){var c;return this.editor.hasModel()&&o.isLeftClick&&o.isNoneOrSingleMouseDown&&o.target.type===6&&!(((c=o.target.detail.injectedText)===null||c===void 0?void 0:c.options)instanceof u.ModelDecorationInjectedTextOptions)&&(o.hasTriggerModifier||(g?g.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(o,g){const c=this.editor.getModel();return c?(0,h.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,c,o,g):Promise.resolve(null)}gotoDefinition(o,g){return this.editor.setPosition(o),this.editor.invokeWithinContext(c=>{const b=!g&&this.editor.getOption(88)&&!this.isInPeekEditor(c);return new n.DefinitionAction({openToSide:g,openInPeek:b,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(c)})}isInPeekEditor(o){const g=o.get(t.IContextKeyService);return s.PeekContext.inPeekEditor.getValue(g)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=r,r.ID="editor.contrib.gotodefinitionatposition",r.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=r=d=Ie([ue(1,_.ITextModelService),ue(2,v.ILanguageService),ue(3,m.ILanguageFeaturesService)],r),(0,p.registerEditorContribution)(r.ID,r,2)}),define(ie[962],ne([1,0,6,13,15,12,2,50,5,18,254,151,276,127,402,717,104,59,92]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const d=f.$;class r{constructor(c,b,C){this.owner=c,this.range=b,this.marker=C}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.MarkerHover=r;const l={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let o=class{constructor(c,b,C,S){this._editor=c,this._markerDecorationsService=b,this._openerService=C,this._languageFeaturesService=S,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(c,b){if(!this._editor.hasModel()||c.type!==1&&!c.supportsMarkerHover)return[];const C=this._editor.getModel(),S=c.range.startLineNumber,D=C.getLineMaxColumn(S),I=[];for(const T of b){const N=T.range.startLineNumber===S?T.range.startColumn:1,A=T.range.endLineNumber===S?T.range.endColumn:D,P=this._markerDecorationsService.getMarker(C.uri,T);if(!P)continue;const M=new w.Range(c.range.startLineNumber,N,c.range.startLineNumber,A);I.push(new r(this,M,P))}return I}renderHoverParts(c,b){if(!b.length)return y.Disposable.None;const C=new y.DisposableStore;b.forEach(D=>c.fragment.appendChild(this.renderMarkerHover(D,C)));const S=b.length===1?b[0]:b.sort((D,I)=>h.MarkerSeverity.compare(D.marker.severity,I.marker.severity))[0];return this.renderMarkerStatusbar(c,S,C),C}renderMarkerHover(c,b){const C=d("div.hover-row"),S=f.append(C,d("div.marker.hover-contents")),{source:D,message:I,code:T,relatedInformation:N}=c.marker;this._editor.applyFontInfo(S);const A=f.append(S,d("span"));if(A.style.whiteSpace="pre-wrap",A.innerText=I,D||T)if(T&&typeof T!="string"){const P=d("span");if(D){const O=f.append(P,d("span"));O.innerText=D}const M=f.append(P,d("a.code-link"));M.setAttribute("href",T.target.toString()),b.add(f.addDisposableListener(M,"click",O=>{this._openerService.open(T.target,{allowCommands:!0}),O.preventDefault(),O.stopPropagation()}));const R=f.append(M,d("span"));R.innerText=T.value;const F=f.append(S,P);F.style.opacity="0.6",F.style.paddingLeft="6px"}else{const P=f.append(S,d("span"));P.style.opacity="0.6",P.style.paddingLeft="6px",P.innerText=D&&T?`${D}(${T})`:D||`(${T})`}if((0,k.isNonEmptyArray)(N))for(const{message:P,resource:M,startLineNumber:R,startColumn:F}of N){const O=f.append(S,d("div"));O.style.marginTop="8px";const B=f.append(O,d("a"));B.innerText=`${(0,p.basename)(M)}(${R}, ${F}): `,B.style.cursor="pointer",b.add(f.addDisposableListener(B,"click",V=>{V.stopPropagation(),V.preventDefault(),this._openerService&&this._openerService.open(M,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:R,startColumn:F}}}).catch(L.onUnexpectedError)}));const H=f.append(O,d("span"));H.innerText=P,this._editor.applyFontInfo(H)}return C}renderMarkerStatusbar(c,b,C){if(b.marker.severity===h.MarkerSeverity.Error||b.marker.severity===h.MarkerSeverity.Warning||b.marker.severity===h.MarkerSeverity.Info){const S=t.MarkerController.get(this._editor);S&&c.statusBar.addAction({label:n.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{c.hide(),S.showAtMarker(b.marker),this._editor.focus()}})}if(!this._editor.getOption(91)){const S=c.statusBar.append(d("div"));this.recentMarkerCodeActionsInfo&&(h.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===h.IMarkerData.makeKey(b.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(S.textContent=n.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const D=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?y.Disposable.None:(0,E.disposableTimeout)(()=>S.textContent=n.localize(2,null),200,C);S.textContent||(S.textContent="\xA0");const I=this.getCodeActions(b.marker);C.add((0,y.toDisposable)(()=>I.cancel())),I.then(T=>{if(D.dispose(),this.recentMarkerCodeActionsInfo={marker:b.marker,hasCodeActions:T.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){T.dispose(),S.textContent=n.localize(3,null);return}S.style.display="none";let N=!1;C.add((0,y.toDisposable)(()=>{N||T.dispose()})),c.statusBar.addAction({label:n.localize(4,null),commandId:a.quickFixCommandId,run:A=>{N=!0;const P=s.CodeActionController.get(this._editor),M=f.getDomNodePagePosition(A);c.hide(),P?.showCodeActions(l,T,{x:M.left,y:M.top,width:M.width,height:M.height})}})},L.onUnexpectedError)}}getCodeActions(c){return(0,E.createCancelablePromise)(b=>(0,a.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new w.Range(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),l,u.Progress.None,b))}};e.MarkerHoverParticipant=o,e.MarkerHoverParticipant=o=Ie([ue(1,_.IMarkerDecorationsService),ue(2,m.IOpenerService),ue(3,v.ILanguageFeaturesService)],o)}),define(ie[405],ne([1,0,69,2,16,5,20,42,404,400,833,8,59,32,23,96,267,962,273,35,15,715,486]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.HoverController=void 0;const g=!1;let c=o=class extends k.Disposable{constructor(O,B,H,V,q){super(),this._editor=O,this._instantiationService=B,this._openerService=H,this._languageService=V,this._keybindingService=q,this._listenersStore=new k.DisposableStore,this._hoverState={mouseDown:!1,contentHoverFocused:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new r.RunOnceScheduler(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(z=>{z.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(O){return O.getContribution(o.ID)}_hookListeners(){const O=this._editor.getOption(60);this._hoverSettings={enabled:O.enabled,sticky:O.sticky,hidingDelay:O.delay},O.enabled?(this._listenersStore.add(this._editor.onMouseDown(B=>this._onEditorMouseDown(B))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(B=>this._onEditorMouseMove(B))),this._listenersStore.add(this._editor.onKeyDown(B=>this._onKeyDown(B)))):(this._listenersStore.add(this._editor.onMouseMove(B=>this._onEditorMouseMove(B))),this._listenersStore.add(this._editor.onKeyDown(B=>this._onKeyDown(B)))),this._listenersStore.add(this._editor.onMouseLeave(B=>this._onEditorMouseLeave(B))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(B=>this._onEditorScrollChanged(B)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(O){(O.scrollTopChanged||O.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(O){var B;this._hoverState.mouseDown=!0;const H=O.target;if(H.type===9&&H.detail===v.ContentHoverWidget.ID){this._hoverState.contentHoverFocused=!0;return}H.type===12&&H.detail===_.MarginHoverWidget.ID||(H.type!==12&&(this._hoverState.contentHoverFocused=!1),!(!((B=this._contentWidget)===null||B===void 0)&&B.widget.isResizing)&&this._hideWidgets())}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(O){var B,H;this._cancelScheduler();const V=O.event.browserEvent.relatedTarget;!((B=this._contentWidget)===null||B===void 0)&&B.widget.isResizing||!((H=this._contentWidget)===null||H===void 0)&&H.containsNode(V)||g||this._hideWidgets()}_isMouseOverWidget(O){var B,H,V,q,z;const U=O.target,Z=this._hoverSettings.sticky;return!!(Z&&U.type===9&&U.detail===v.ContentHoverWidget.ID||Z&&(!((B=this._contentWidget)===null||B===void 0)&&B.containsNode((H=O.event.browserEvent.view)===null||H===void 0?void 0:H.document.activeElement))&&!(!((q=(V=O.event.browserEvent.view)===null||V===void 0?void 0:V.getSelection())===null||q===void 0)&&q.isCollapsed)||!Z&&U.type===9&&U.detail===v.ContentHoverWidget.ID&&(!((z=this._contentWidget)===null||z===void 0)&&z.isColorPickerVisible)||Z&&U.type===12&&U.detail===_.MarginHoverWidget.ID)}_onEditorMouseMove(O){var B,H,V,q;if(this._mouseMoveEvent=O,!((B=this._contentWidget)===null||B===void 0)&&B.isFocused||!((H=this._contentWidget)===null||H===void 0)&&H.isResizing||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused)return;const z=this._hoverSettings.sticky;if(z&&(!((V=this._contentWidget)===null||V===void 0)&&V.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(O)){this._reactToEditorMouseMoveRunner.cancel();return}const Z=this._hoverSettings.hidingDelay;if(!((q=this._contentWidget)===null||q===void 0)&&q.isVisible&&z&&Z>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(Z);return}this._reactToEditorMouseMove(O)}_reactToEditorMouseMove(O){var B,H,V,q;if(!O)return;const z=O.target,U=(B=z.element)===null||B===void 0?void 0:B.classList.contains("colorpicker-color-decoration"),Z=this._editor.getOption(148),re=this._hoverSettings.enabled,x=this._hoverState.activatedByDecoratorClick;if(U&&(Z==="click"&&!x||Z==="hover"&&!re&&!g||Z==="clickAndHover"&&!re&&!x)||!U&&!re&&!x){this._hideWidgets();return}if(this._getOrCreateContentWidget().showsOrWillShow(O)){(H=this._glyphWidget)===null||H===void 0||H.hide();return}if(z.type===2&&z.position&&z.detail.glyphMarginLane){(V=this._contentWidget)===null||V===void 0||V.hide(),this._getOrCreateGlyphWidget().startShowingAt(z.position.lineNumber,z.detail.glyphMarginLane);return}if(z.type===3&&z.position){(q=this._contentWidget)===null||q===void 0||q.hide(),this._getOrCreateGlyphWidget().startShowingAt(z.position.lineNumber,"lineNo");return}g||this._hideWidgets()}_onKeyDown(O){var B;if(!this._editor.hasModel())return;const H=this._keybindingService.softDispatch(O,this._editor.getDomNode()),V=H.kind===1||H.kind===2&&H.commandId==="editor.action.showHover"&&((B=this._contentWidget)===null||B===void 0?void 0:B.isVisible);O.keyCode===5||O.keyCode===6||O.keyCode===57||O.keyCode===4||V||this._hideWidgets()}_hideWidgets(){var O,B,H;g||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused&&(!((O=this._contentWidget)===null||O===void 0)&&O.isColorPickerVisible)||u.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._hoverState.contentHoverFocused=!1,(B=this._glyphWidget)===null||B===void 0||B.hide(),(H=this._contentWidget)===null||H===void 0||H.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(v.ContentHoverController,this._editor)),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=new _.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget}showContentHover(O,B,H,V,q=!1){this._hoverState.activatedByDecoratorClick=q,this._getOrCreateContentWidget().startShowingAtRange(O,B,H,V)}focus(){var O;(O=this._contentWidget)===null||O===void 0||O.focus()}scrollUp(){var O;(O=this._contentWidget)===null||O===void 0||O.scrollUp()}scrollDown(){var O;(O=this._contentWidget)===null||O===void 0||O.scrollDown()}scrollLeft(){var O;(O=this._contentWidget)===null||O===void 0||O.scrollLeft()}scrollRight(){var O;(O=this._contentWidget)===null||O===void 0||O.scrollRight()}pageUp(){var O;(O=this._contentWidget)===null||O===void 0||O.pageUp()}pageDown(){var O;(O=this._contentWidget)===null||O===void 0||O.pageDown()}goToTop(){var O;(O=this._contentWidget)===null||O===void 0||O.goToTop()}goToBottom(){var O;(O=this._contentWidget)===null||O===void 0||O.goToBottom()}get isColorPickerVisible(){var O;return(O=this._contentWidget)===null||O===void 0?void 0:O.isColorPickerVisible}get isHoverVisible(){var O;return(O=this._contentWidget)===null||O===void 0?void 0:O.isVisible}dispose(){var O,B;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(O=this._glyphWidget)===null||O===void 0||O.dispose(),(B=this._contentWidget)===null||B===void 0||B.dispose()}};e.HoverController=c,c.ID="editor.contrib.hover",e.HoverController=c=o=Ie([ue(1,a.IInstantiationService),ue(2,s.IOpenerService),ue(3,p.ILanguageService),ue(4,d.IKeybindingService)],c);var b;(function(F){F.NoAutoFocus="noAutoFocus",F.FocusIfVisible="focusIfVisible",F.AutoFocusImmediately="autoFocusImmediately"})(b||(b={}));class C extends E.EditorAction{constructor(){super({id:"editor.action.showHover",label:l.localize(0,null),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[b.NoAutoFocus,b.FocusIfVisible,b.AutoFocusImmediately],enumDescriptions:[l.localize(1,null),l.localize(2,null),l.localize(3,null)],default:b.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2087),weight:100}})}run(O,B,H){if(!B.hasModel())return;const V=c.get(B);if(!V)return;const q=H?.focus;let z=b.FocusIfVisible;Object.values(b).includes(q)?z=q:typeof q=="boolean"&&q&&(z=b.AutoFocusImmediately);const U=re=>{const x=B.getPosition(),Q=new L.Range(x.lineNumber,x.column,x.lineNumber,x.column);V.showContentHover(Q,1,1,re)},Z=B.getOption(2)===2;V.isHoverVisible?z!==b.NoAutoFocus?V.focus():U(Z):U(Z||z===b.AutoFocusImmediately)}}class S extends E.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:l.localize(4,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(O,B){const H=c.get(B);if(!H)return;const V=B.getPosition();if(!V)return;const q=new L.Range(V.lineNumber,V.column,V.lineNumber,V.column),z=w.GotoDefinitionAtPositionEditorContribution.get(B);if(!z)return;z.startFindDefinitionFromCursor(V).then(()=>{H.showContentHover(q,1,1,!0)})}}class D extends E.EditorAction{constructor(){super({id:"editor.action.scrollUpHover",label:l.localize(5,null),alias:"Scroll Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:16,weight:100}})}run(O,B){const H=c.get(B);H&&H.scrollUp()}}class I extends E.EditorAction{constructor(){super({id:"editor.action.scrollDownHover",label:l.localize(6,null),alias:"Scroll Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:18,weight:100}})}run(O,B){const H=c.get(B);H&&H.scrollDown()}}class T extends E.EditorAction{constructor(){super({id:"editor.action.scrollLeftHover",label:l.localize(7,null),alias:"Scroll Left Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:15,weight:100}})}run(O,B){const H=c.get(B);H&&H.scrollLeft()}}class N extends E.EditorAction{constructor(){super({id:"editor.action.scrollRightHover",label:l.localize(8,null),alias:"Scroll Right Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:17,weight:100}})}run(O,B){const H=c.get(B);H&&H.scrollRight()}}class A extends E.EditorAction{constructor(){super({id:"editor.action.pageUpHover",label:l.localize(9,null),alias:"Page Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100}})}run(O,B){const H=c.get(B);H&&H.pageUp()}}class P extends E.EditorAction{constructor(){super({id:"editor.action.pageDownHover",label:l.localize(10,null),alias:"Page Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100}})}run(O,B){const H=c.get(B);H&&H.pageDown()}}class M extends E.EditorAction{constructor(){super({id:"editor.action.goToTopHover",label:l.localize(11,null),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(O,B){const H=c.get(B);H&&H.goToTop()}}class R extends E.EditorAction{constructor(){super({id:"editor.action.goToBottomHover",label:l.localize(12,null),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(O,B){const H=c.get(B);H&&H.goToBottom()}}(0,E.registerEditorContribution)(c.ID,c,2),(0,E.registerEditorAction)(C),(0,E.registerEditorAction)(S),(0,E.registerEditorAction)(D),(0,E.registerEditorAction)(I),(0,E.registerEditorAction)(T),(0,E.registerEditorAction)(N),(0,E.registerEditorAction)(A),(0,E.registerEditorAction)(P),(0,E.registerEditorAction)(M),(0,E.registerEditorAction)(R),n.HoverParticipantRegistry.register(h.MarkdownHoverParticipant),n.HoverParticipantRegistry.register(m.MarkerHoverParticipant),(0,t.registerThemingParticipant)((F,O)=>{const B=F.getColor(i.editorHoverBorder);B&&(O.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${B.transparent(.5)}; }`),O.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${B.transparent(.5)}; }`),O.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${B.transparent(.5)}; }`))})}),define(ie[963],ne([1,0,2,16,5,396,397,405,96]),function(J,e,f,k,E,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class v extends f.Disposable{constructor(a){super(),this._editor=a,this._register(a.onMouseDown(s=>this.onMouseDown(s)))}dispose(){super.dispose()}onMouseDown(a){const s=this._editor.getOption(148);if(s!=="click"&&s!=="clickAndHover")return;const i=a.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==L.ColorDecorationInjectedTextMarker||!i.range)return;const t=this._editor.getContribution(p.HoverController.ID);if(t&&!t.isColorPickerVisible){const n=new E.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);t.showContentHover(n,1,0,!1,!0)}}}e.ColorContribution=v,v.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(v.ID,v,2),w.HoverParticipantRegistry.register(y.ColorHoverParticipant)}),define(ie[406],ne([1,0,6,41,19,185,5,74,279,152,28,27,14,58,8,51]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showGoToContextMenu=h,e.goToDefinitionWithLocation=m;async function h(u,d,r,l){var o;const g=u.get(p.ITextModelService),c=u.get(i.IContextMenuService),b=u.get(a.ICommandService),C=u.get(t.IInstantiationService),S=u.get(n.INotificationService);if(await l.item.resolve(E.CancellationToken.None),!l.part.location)return;const D=l.part.location,I=[],T=new Set(_.MenuRegistry.getMenuItems(_.MenuId.EditorContext).map(A=>(0,_.isIMenuItem)(A)?A.command.id:(0,L.generateUuid)()));for(const A of w.SymbolNavigationAction.all())T.has(A.desc.id)&&I.push(new k.Action(A.desc.id,_.MenuItemAction.label(A.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const P=await g.createModelReference(D.uri);try{const M=new w.SymbolNavigationAnchor(P.object.textEditorModel,y.Range.getStartPosition(D.range)),R=l.item.anchor.range;await C.invokeFunction(A.runEditorCommand.bind(A),d,M,R)}finally{P.dispose()}}));if(l.part.command){const{command:A}=l.part;I.push(new k.Separator),I.push(new k.Action(A.id,A.title,void 0,!0,async()=>{var P;try{await b.executeCommand(A.id,...(P=A.arguments)!==null&&P!==void 0?P:[])}catch(M){S.notify({severity:n.Severity.Error,source:l.item.provider.displayName,message:M})}}))}const N=d.getOption(127);c.showContextMenu({domForShadowRoot:N&&(o=d.getDomNode())!==null&&o!==void 0?o:void 0,getAnchor:()=>{const A=f.getDomNodePagePosition(r);return{x:A.left,y:A.top+A.height+8}},getActions:()=>I,onHide:()=>{d.focus()},autoSelectFirstItem:!0})}async function m(u,d,r,l){const g=await u.get(p.ITextModelService).createModelReference(l.uri);await r.invokeWithinContext(async c=>{const b=d.hasSideBySideModifier,C=c.get(s.IContextKeyService),S=v.PeekContext.inPeekEditor.getValue(C),D=!b&&r.getOption(88)&&!S;return new w.DefinitionAction({openToSide:b,openInPeek:D,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(c,new w.SymbolNavigationAnchor(g.object.textEditorModel,y.Range.getStartPosition(l.range)),y.Range.lift(l.range))}),g.dispose()}}),define(ie[407],ne([1,0,6,13,15,19,12,2,47,21,22,175,137,38,72,5,29,43,37,83,18,74,199,350,406,27,46,8,51,32,23]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class A{constructor(){this._entries=new w.LRUCache(50)}get(H){const V=A._key(H);return this._entries.get(V)}set(H,V){const q=A._key(H);this._entries.set(q,V)}static _key(H){return`${H.uri.toString()}/${H.getVersionId()}`}}const P=(0,S.createDecorator)("IInlayHintsCache");(0,C.registerSingleton)(P,A,1);class M{constructor(H,V){this.item=H,this.index=V}get part(){const H=this.item.hint.label;return typeof H=="string"?{label:H}:H[this.index]}}e.RenderedInlayHintLabelPart=M;class R{constructor(H,V){this.part=H,this.hasTriggerModifier=V}}let F=N=class{static get(H){var V;return(V=H.getContribution(N.ID))!==null&&V!==void 0?V:void 0}constructor(H,V,q,z,U,Z,re){this._editor=H,this._languageFeaturesService=V,this._inlayHintsCache=z,this._commandService=U,this._notificationService=Z,this._instaService=re,this._disposables=new p.DisposableStore,this._sessionDisposables=new p.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new a.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=q.for(V.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(V.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(H.onDidChangeModel(()=>this._update())),this._disposables.add(H.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(H.onDidChangeConfiguration(x=>{x.hasChanged(141)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const H=this._editor.getOption(141);if(H.enabled==="off")return;const V=this._editor.getModel();if(!V||!this._languageFeaturesService.inlayHintsProvider.has(V))return;if(H.enabled==="on")this._activeRenderMode=0;else{let re,x;H.enabled==="onUnlessPressed"?(re=0,x=1):(re=1,x=0),this._activeRenderMode=re,this._sessionDisposables.add(f.ModifierKeyEmitter.getInstance().event(Q=>{if(!this._editor.hasModel())return;const X=Q.altKey&&Q.ctrlKey&&!(Q.shiftKey||Q.metaKey)?x:re;if(X!==this._activeRenderMode){this._activeRenderMode=X;const Y=this._editor.getModel(),ae=this._copyInlayHintsWithCurrentAnchor(Y);this._updateHintsDecorators([Y.getFullModelRange()],ae),Z.schedule(0)}}))}const q=this._inlayHintsCache.get(V);q&&this._updateHintsDecorators([V.getFullModelRange()],q),this._sessionDisposables.add((0,p.toDisposable)(()=>{V.isDisposed()||this._cacheHintsForFastRestore(V)}));let z;const U=new Set,Z=new E.RunOnceScheduler(async()=>{const re=Date.now();z?.dispose(!0),z=new L.CancellationTokenSource;const x=V.onWillDispose(()=>z?.cancel());try{const Q=z.token,X=await g.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,V,this._getHintsRanges(),Q);if(Z.delay=this._debounceInfo.update(V,Date.now()-re),Q.isCancellationRequested){X.dispose();return}for(const Y of X.provider)typeof Y.onDidChangeInlayHints=="function"&&!U.has(Y)&&(U.add(Y),this._sessionDisposables.add(Y.onDidChangeInlayHints(()=>{Z.isScheduled()||Z.schedule()})));this._sessionDisposables.add(X),this._updateHintsDecorators(X.ranges,X.items),this._cacheHintsForFastRestore(V)}catch(Q){(0,y.onUnexpectedError)(Q)}finally{z.dispose(),x.dispose()}},this._debounceInfo.get(V));this._sessionDisposables.add(Z),this._sessionDisposables.add((0,p.toDisposable)(()=>z?.dispose(!0))),Z.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(re=>{(re.scrollTopChanged||!Z.isScheduled())&&Z.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(re=>{z?.cancel();const x=Math.max(Z.delay,1250);Z.schedule(x)})),this._sessionDisposables.add(this._installDblClickGesture(()=>Z.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const H=new p.DisposableStore,V=H.add(new o.ClickLinkGesture(this._editor)),q=new p.DisposableStore;return H.add(q),H.add(V.onMouseMoveOrRelevantKeyDown(z=>{const[U]=z,Z=this._getInlayHintLabelPart(U),re=this._editor.getModel();if(!Z||!re){q.clear();return}const x=new L.CancellationTokenSource;q.add((0,p.toDisposable)(()=>x.dispose(!0))),Z.item.resolve(x.token),this._activeInlayHintPart=Z.part.command||Z.part.location?new R(Z,U.hasTriggerModifier):void 0;const Q=re.validatePosition(Z.item.hint.position).lineNumber,X=new n.Range(Q,1,Q,re.getLineMaxColumn(Q)),Y=this._getInlineHintsForRange(X);this._updateHintsDecorators([X],Y),q.add((0,p.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([X],Y)}))})),H.add(V.onCancel(()=>q.clear())),H.add(V.onExecute(async z=>{const U=this._getInlayHintLabelPart(z);if(U){const Z=U.part;Z.location?this._instaService.invokeFunction(c.goToDefinitionWithLocation,z,this._editor,Z.location):h.Command.is(Z.command)&&await this._invokeCommand(Z.command,U.item)}})),H}_getInlineHintsForRange(H){const V=new Set;for(const q of this._decorationsMetadata.values())H.containsRange(q.item.anchor.range)&&V.add(q.item);return Array.from(V)}_installDblClickGesture(H){return this._editor.onMouseUp(async V=>{if(V.event.detail!==2)return;const q=this._getInlayHintLabelPart(V);if(q&&(V.event.preventDefault(),await q.item.resolve(L.CancellationToken.None),(0,k.isNonEmptyArray)(q.item.hint.textEdits))){const z=q.item.hint.textEdits.map(U=>t.EditOperation.replace(n.Range.lift(U.range),U.text));this._editor.executeEdits("inlayHint.default",z),H()}})}_installContextMenu(){return this._editor.onContextMenu(async H=>{if(!(H.event.target instanceof HTMLElement))return;const V=this._getInlayHintLabelPart(H);V&&await this._instaService.invokeFunction(c.showGoToContextMenu,this._editor,H.event.target,V)})}_getInlayHintLabelPart(H){var V;if(H.target.type!==6)return;const q=(V=H.target.detail.injectedText)===null||V===void 0?void 0:V.options;if(q instanceof u.ModelDecorationInjectedTextOptions&&q?.attachedData instanceof M)return q.attachedData}async _invokeCommand(H,V){var q;try{await this._commandService.executeCommand(H.id,...(q=H.arguments)!==null&&q!==void 0?q:[])}catch(z){this._notificationService.notify({severity:D.Severity.Error,source:V.provider.displayName,message:z})}}_cacheHintsForFastRestore(H){const V=this._copyInlayHintsWithCurrentAnchor(H);this._inlayHintsCache.set(H,V)}_copyInlayHintsWithCurrentAnchor(H){const V=new Map;for(const[q,z]of this._decorationsMetadata){if(V.has(z.item))continue;const U=H.getDecorationRange(q);if(U){const Z=new g.InlayHintAnchor(U,z.item.anchor.direction),re=z.item.with({anchor:Z});V.set(z.item,re)}}return Array.from(V.values())}_getHintsRanges(){const V=this._editor.getModel(),q=this._editor.getVisibleRangesPlusViewportAboveBelow(),z=[];for(const U of q.sort(n.Range.compareRangesUsingStarts)){const Z=V.validateRange(new n.Range(U.startLineNumber-30,U.startColumn,U.endLineNumber+30,U.endColumn));z.length===0||!n.Range.areIntersectingOrTouching(z[z.length-1],Z)?z.push(Z):z[z.length-1]=n.Range.plusRange(z[z.length-1],Z)}return z}_updateHintsDecorators(H,V){var q,z;const U=[],Z=(fe,se,te,$,W)=>{const j={content:te,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:se.className,cursorStops:$,attachedData:W};U.push({item:fe,classNameRef:se,decoration:{range:fe.anchor.range,options:{description:"InlayHint",showIfCollapsed:fe.anchor.range.isEmpty(),collapseOnReplaceEdit:!fe.anchor.range.isEmpty(),stickiness:0,[fe.anchor.direction]:this._activeRenderMode===0?j:void 0}}})},re=(fe,se)=>{const te=this._ruleFactory.createClassNameRef({width:`${x/3|0}px`,display:"inline-block"});Z(fe,te,"\u200A",se?m.InjectedTextCursorStops.Right:m.InjectedTextCursorStops.None)},{fontSize:x,fontFamily:Q,padding:X,isUniform:Y}=this._getLayoutInfo(),ae="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(ae,Q);let ce={line:0,totalLen:0};for(const fe of V){if(ce.line!==fe.anchor.range.startLineNumber&&(ce={line:fe.anchor.range.startLineNumber,totalLen:0}),ce.totalLen>N._MAX_LABEL_LEN)continue;fe.hint.paddingLeft&&re(fe,!1);const se=typeof fe.hint.label=="string"?[{label:fe.hint.label}]:fe.hint.label;for(let te=0;te<se.length;te++){const $=se[te],W=te===0,j=te===se.length-1,K={fontSize:`${x}px`,fontFamily:`var(${ae}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:Y?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(fe.hint.textEdits)&&(K.cursor="default"),this._fillInColors(K,fe.hint),($.command||$.location)&&((q=this._activeInlayHintPart)===null||q===void 0?void 0:q.part.item)===fe&&this._activeInlayHintPart.part.index===te&&(K.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(K.color=(0,T.themeColorFromId)(I.editorActiveLinkForeground),K.cursor="pointer")),X&&(W&&j?(K.padding=`1px ${Math.max(1,x/4)|0}px`,K.borderRadius=`${x/4|0}px`):W?(K.padding=`1px 0 1px ${Math.max(1,x/4)|0}px`,K.borderRadius=`${x/4|0}px 0 0 ${x/4|0}px`):j?(K.padding=`1px ${Math.max(1,x/4)|0}px 1px 0`,K.borderRadius=`0 ${x/4|0}px ${x/4|0}px 0`):K.padding="1px 0 1px 0");let G=$.label;ce.totalLen+=G.length;let ee=!1;const oe=ce.totalLen-N._MAX_LABEL_LEN;if(oe>0&&(G=G.slice(0,-oe)+"\u2026",ee=!0),Z(fe,this._ruleFactory.createClassNameRef(K),O(G),j&&!fe.hint.paddingRight?m.InjectedTextCursorStops.Right:m.InjectedTextCursorStops.None,new M(fe,te)),ee)break}if(fe.hint.paddingRight&&re(fe,!0),U.length>N._MAX_DECORATORS)break}const he=[];for(const[fe,se]of this._decorationsMetadata){const te=(z=this._editor.getModel())===null||z===void 0?void 0:z.getDecorationRange(fe);te&&H.some($=>$.containsRange(te))&&(he.push(fe),se.classNameRef.dispose(),this._decorationsMetadata.delete(fe))}const pe=s.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(fe=>{const se=fe.deltaDecorations(he,U.map(te=>te.decoration));for(let te=0;te<se.length;te++){const $=U[te];this._decorationsMetadata.set(se[te],$)}}),pe.restore(this._editor)}_fillInColors(H,V){V.kind===h.InlayHintKind.Parameter?(H.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintParameterBackground),H.color=(0,T.themeColorFromId)(I.editorInlayHintParameterForeground)):V.kind===h.InlayHintKind.Type?(H.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintTypeBackground),H.color=(0,T.themeColorFromId)(I.editorInlayHintTypeForeground)):(H.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintBackground),H.color=(0,T.themeColorFromId)(I.editorInlayHintForeground))}_getLayoutInfo(){const H=this._editor.getOption(141),V=H.padding,q=this._editor.getOption(52),z=this._editor.getOption(49);let U=H.fontSize;(!U||U<5||U>q)&&(U=q);const Z=H.fontFamily||z;return{fontSize:U,fontFamily:Z,padding:V,isUniform:!V&&Z===z&&U===q}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const H of this._decorationsMetadata.values())H.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=F,F.ID="editor.contrib.InlayHints",F._MAX_DECORATORS=1500,F._MAX_LABEL_LEN=43,e.InlayHintsController=F=N=Ie([ue(1,r.ILanguageFeaturesService),ue(2,d.ILanguageFeatureDebounceService),ue(3,P),ue(4,b.ICommandService),ue(5,D.INotificationService),ue(6,S.IInstantiationService)],F);function O(B){return B.replace(/[ \t]/g,"\xA0")}b.CommandsRegistry.registerCommand("_executeInlayHintProvider",async(B,...H)=>{const[V,q]=H;(0,v.assertType)(_.URI.isUri(V)),(0,v.assertType)(n.Range.isIRange(q));const{inlayHintsProvider:z}=B.get(r.ILanguageFeaturesService),U=await B.get(l.ITextModelService).createModelReference(V);try{const Z=await g.InlayHintsFragments.create(z,U.object.textEditorModel,[n.Range.lift(q)],L.CancellationToken.None),re=Z.items.map(x=>x.hint);return setTimeout(()=>Z.dispose(),0),re}finally{U.dispose()}})}),define(ie[964],ne([1,0,15,57,9,37,96,42,74,382,267,407,25,59,18,720,17,350,13]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class d extends y.HoverForeignElementAnchor{constructor(o,g,c,b){super(10,g,o.item.anchor.range,c,b,!0),this.part=o}}let r=class extends _.MarkdownHoverParticipant{constructor(o,g,c,b,C,S){super(o,g,c,b,S),this._resolverService=C,this.hoverOrdinal=6}suggestHoverAnchor(o){var g;if(!a.InlayHintsController.get(this._editor)||o.target.type!==6)return null;const b=(g=o.target.detail.injectedText)===null||g===void 0?void 0:g.options;return b instanceof L.ModelDecorationInjectedTextOptions&&b.attachedData instanceof a.RenderedInlayHintLabelPart?new d(b.attachedData,this,o.event.posx,o.event.posy):null}computeSync(){return[]}computeAsync(o,g,c){return o instanceof d?new f.AsyncIterableObject(async b=>{const{part:C}=o;if(await C.item.resolve(c),c.isCancellationRequested)return;let S;typeof C.item.hint.tooltip=="string"?S=new k.MarkdownString().appendText(C.item.hint.tooltip):C.item.hint.tooltip&&(S=C.item.hint.tooltip),S&&b.emitOne(new _.MarkdownHover(this,o.range,[S],!1,0)),(0,u.isNonEmptyArray)(C.item.hint.textEdits)&&b.emitOne(new _.MarkdownHover(this,o.range,[new k.MarkdownString().appendText((0,n.localize)(0,null))],!1,10001));let D;if(typeof C.part.tooltip=="string"?D=new k.MarkdownString().appendText(C.part.tooltip):C.part.tooltip&&(D=C.part.tooltip),D&&b.emitOne(new _.MarkdownHover(this,o.range,[D],!1,1)),C.part.location||C.part.command){let T;const A=this._editor.getOption(78)==="altKey"?h.isMacintosh?(0,n.localize)(1,null):(0,n.localize)(2,null):h.isMacintosh?(0,n.localize)(3,null):(0,n.localize)(4,null);C.part.location&&C.part.command?T=new k.MarkdownString().appendText((0,n.localize)(5,null,A)):C.part.location?T=new k.MarkdownString().appendText((0,n.localize)(6,null,A)):C.part.command&&(T=new k.MarkdownString(`[${(0,n.localize)(7,null)}](${(0,m.asCommandLink)(C.part.command)} "${C.part.command.title}") (${A})`,{isTrusted:!0})),T&&b.emitOne(new _.MarkdownHover(this,o.range,[T],!1,1e4))}const I=await this._resolveInlayHintLabelPartHover(C,c);for await(const T of I)b.emitOne(T)}):f.AsyncIterableObject.EMPTY}async _resolveInlayHintLabelPartHover(o,g){if(!o.part.location)return f.AsyncIterableObject.EMPTY;const{uri:c,range:b}=o.part.location,C=await this._resolverService.createModelReference(c);try{const S=C.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(S)?(0,v.getHover)(this._languageFeaturesService.hoverProvider,S,new E.Position(b.startLineNumber,b.startColumn),g).filter(D=>!(0,k.isEmptyMarkdownString)(D.hover.contents)).map(D=>new _.MarkdownHover(this,o.item.anchor.range,D.hover.contents,!1,2+D.ordinal)):f.AsyncIterableObject.EMPTY}finally{C.dispose()}}};e.InlayHintsHover=r,e.InlayHintsHover=r=Ie([ue(1,p.ILanguageService),ue(2,i.IOpenerService),ue(3,s.IConfigurationService),ue(4,w.ITextModelService),ue(5,t.ILanguageFeaturesService)],r)}),define(ie[965],ne([1,0,16,96,407,964]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(E.InlayHintsController.ID,E.InlayHintsController,1),k.HoverParticipantRegistry.register(L.InlayHintsHover)}),define(ie[408],ne([1,0,2,18,955,954,8,58,28,14,20,199,5,266,406,9,19,33,83,6,327,73,277,320]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let b=c=class extends f.Disposable{constructor(S,D,I,T,N,A,P){super(),this._editor=S,this._contextMenuService=D,this._languageFeaturesService=I,this._instaService=T,this._contextKeyService=P,this._sessionStore=new f.DisposableStore,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new E.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new L.StickyLineCandidateProvider(this._editor,I,N),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new E.StickyScrollWidgetState([],[],0),this._onDidResize(),this._readConfiguration();const M=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(115)||F.hasChanged(73)||F.hasChanged(67)||F.hasChanged(110))&&this._readConfiguration()})),this._register(d.addDisposableListener(M,d.EventType.CONTEXT_MENU,async F=>{this._onContextMenu(d.getWindow(M),F)})),this._stickyScrollFocusedContextKey=_.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=_.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const R=this._register(d.trackFocus(M));this._register(R.onDidBlur(F=>{this._positionRevealed===!1&&M.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(R.onDidFocus(F=>{this.focus()})),this._registerMouseListeners(),this._register(d.addDisposableListener(M,d.EventType.MOUSE_DOWN,F=>{this._onMouseDown=!0}))}static get(S){return S.getContribution(c.ID)}_disposeFocusStickyScrollStore(){var S;this._stickyScrollFocusedContextKey.set(!1),(S=this._focusDisposableStore)===null||S===void 0||S.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new f.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(S){this._focusedStickyElementIndex=S?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const S=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:S[this._focusedStickyElementIndex],column:1})}_revealPosition(S){this._reveaInEditor(S,()=>this._editor.revealPosition(S))}_revealLineInCenterIfOutsideViewport(S){this._reveaInEditor(S,()=>this._editor.revealLineInCenterIfOutsideViewport(S.lineNumber,0))}_reveaInEditor(S,D){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,D(),this._editor.setSelection(s.Range.fromPositions(S)),this._editor.focus()}_registerMouseListeners(){const S=this._register(new f.DisposableStore),D=this._register(new a.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:N=>{const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);return A?A.lineNumber:0}})),I=N=>{if(!this._editor.hasModel()||N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return null;const A=N.target.element;if(!A||A.innerText!==A.innerHTML)return null;const P=this._stickyScrollWidget.getEditorPositionFromNode(A);return P?{range:new s.Range(P.lineNumber,P.column,P.lineNumber,P.column+A.innerText.length),textElement:A}:null},T=this._stickyScrollWidget.getDomNode();this._register(d.addStandardDisposableListener(T,d.EventType.CLICK,N=>{if(N.ctrlKey||N.altKey||N.metaKey||!N.leftButton)return;if(N.shiftKey){const R=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(R===null)return;const F=new n.Position(this._endLineNumbers[R],1);this._revealLineInCenterIfOutsideViewport(F);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(N.target)){const R=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);this._toggleFoldingRegionForLine(R);return}if(!this._stickyScrollWidget.isInStickyLine(N.target))return;let M=this._stickyScrollWidget.getEditorPositionFromNode(N.target);if(!M){const R=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);if(R===null)return;M=new n.Position(R,1)}this._revealPosition(M)})),this._register(d.addStandardDisposableListener(T,d.EventType.MOUSE_MOVE,N=>{if(N.shiftKey){const A=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(A===null||this._showEndForLine!==null&&this._showEndForLine===A)return;this._showEndForLine=A,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(d.addDisposableListener(T,d.EventType.MOUSE_LEAVE,N=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(D.onMouseMoveOrRelevantKeyDown(([N,A])=>{const P=I(N);if(!P||!N.hasTriggerModifier||!this._editor.hasModel()){S.clear();return}const{range:M,textElement:R}=P;if(!M.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=M,S.clear();else if(R.style.textDecoration==="underline")return;const F=new h.CancellationTokenSource;S.add((0,f.toDisposable)(()=>F.dispose(!0)));let O;(0,i.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new n.Position(M.startLineNumber,M.startColumn+1),F.token).then(B=>{if(!F.token.isCancellationRequested)if(B.length!==0){this._candidateDefinitionsLength=B.length;const H=R;O!==H?(S.clear(),O=H,O.style.textDecoration="underline",S.add((0,f.toDisposable)(()=>{O.style.textDecoration="none"}))):O||(O=H,O.style.textDecoration="underline",S.add((0,f.toDisposable)(()=>{O.style.textDecoration="none"})))}else S.clear()})})),this._register(D.onCancel(()=>{S.clear()})),this._register(D.onExecute(async N=>{if(N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return;const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);A&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:A.lineNumber,column:1})),this._instaService.invokeFunction(t.goToDefinitionWithLocation,N,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(S,D){const I=new l.StandardMouseEvent(S,D);this._contextMenuService.showContextMenu({menuId:w.MenuId.StickyScrollContext,getAnchor:()=>I})}_toggleFoldingRegionForLine(S){if(!this._foldingModel||S===null)return;const D=this._stickyScrollWidget.getRenderedStickyLine(S),I=D?.foldingIcon;if(!I)return;(0,g.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[S]),I.isCollapsed=!I.isCollapsed;const T=(I.isCollapsed?this._editor.getTopForLineNumber(I.foldingEndLine):this._editor.getTopForLineNumber(I.foldingStartLine))-this._editor.getOption(67)*D.index+1;this._editor.setScrollTop(T),this._renderStickyScroll(S)}_readConfiguration(){const S=this._editor.getOption(115);if(S.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else S.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(I=>{I.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(I=>this._onTokensChange(I))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_needsUpdate(S){const D=this._stickyScrollWidget.getCurrentLines();for(const I of D)for(const T of S.ranges)if(I>=T.fromLineNumber&&I<=T.toLineNumber)return!0;return!1}_onTokensChange(S){this._needsUpdate(S)&&this._renderStickyScroll(0)}_onDidResize(){const D=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(D*.25)}async _renderStickyScroll(S){var D,I;const T=this._editor.getModel();if(!T||T.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null);return}const N=this._stickyLineCandidateProvider.getVersionId();if(N===void 0||N===T.getVersionId())if(this._foldingModel=(I=await((D=o.FoldingController.get(this._editor))===null||D===void 0?void 0:D.getFoldingModel()))!==null&&I!==void 0?I:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const A=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(A)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const S=this._editor.getOption(67),D=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),I=this._editor.getScrollTop();let T=0;const N=[],A=[],P=this._editor.getVisibleRanges();if(P.length!==0){const M=new r.StickyRange(P[0].startLineNumber,P[P.length-1].endLineNumber),R=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(M);for(const F of R){const O=F.startLineNumber,B=F.endLineNumber,H=F.nestingDepth;if(B-O>0){const V=(H-1)*S,q=H*S,z=this._editor.getBottomForLineNumber(O)-I,U=this._editor.getTopForLineNumber(B)-I,Z=this._editor.getBottomForLineNumber(B)-I;if(V>U&&V<=Z){N.push(O),A.push(B+1),T=Z-q;break}else q>z&&q<=Z&&(N.push(O),A.push(B+1));if(N.length===D)break}}}return this._endLineNumbers=A,new E.StickyScrollWidgetState(N,A,T,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=b,b.ID="store.contrib.stickyScrollController",e.StickyScrollController=b=c=Ie([ue(1,p.IContextMenuService),ue(2,k.ILanguageFeaturesService),ue(3,y.IInstantiationService),ue(4,m.ILanguageConfigurationService),ue(5,u.ILanguageFeatureDebounceService),ue(6,v.IContextKeyService)],b)}),define(ie[966],ne([1,0,16,743,794,28,25,14,20,408]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class _ extends L.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,k.localize2)(4,"Toggle Editor Sticky Scroll"),mnemonicTitle:(0,k.localize)(0,null)},category:E.Categories.View,toggled:{condition:p.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(1,null),mnemonicTitle:(0,k.localize)(2,null)},menu:[{id:L.MenuId.CommandPalette},{id:L.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:L.MenuId.StickyScrollContext}]})}async run(u){const d=u.get(y.IConfigurationService),r=!d.getValue("editor.stickyScroll.enabled");return d.updateValue("editor.stickyScroll.enabled",r)}}e.ToggleStickyScroll=_;const a=100;class s extends f.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,k.localize2)(5,"Focus Sticky Scroll"),mnemonicTitle:(0,k.localize)(3,null)},precondition:p.ContextKeyExpr.and(p.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),w.EditorContextKeys.stickyScrollVisible),menu:[{id:L.MenuId.CommandPalette}]})}runEditorCommand(u,d){var r;(r=v.StickyScrollController.get(d))===null||r===void 0||r.focus()}}e.FocusStickyScroll=s;class i extends f.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,k.localize2)(6,"Select next sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:18}})}runEditorCommand(u,d){var r;(r=v.StickyScrollController.get(d))===null||r===void 0||r.focusNext()}}e.SelectNextStickyScrollLine=i;class t extends f.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,k.localize2)(7,"Select previous sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:16}})}runEditorCommand(u,d){var r;(r=v.StickyScrollController.get(d))===null||r===void 0||r.focusPrevious()}}e.SelectPreviousStickyScrollLine=t;class n extends f.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,k.localize2)(8,"Go to focused sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:3}})}runEditorCommand(u,d){var r;(r=v.StickyScrollController.get(d))===null||r===void 0||r.goToFocused()}}e.GoToStickyScrollLine=n;class h extends f.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:(0,k.localize2)(9,"Select Editor"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:9}})}runEditorCommand(u,d){var r;(r=v.StickyScrollController.get(d))===null||r===void 0||r.selectEditor()}}e.SelectEditor=h}),define(ie[967],ne([1,0,16,966,408,28]),function(J,e,f,k,E,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(E.StickyScrollController.ID,E.StickyScrollController,1),(0,L.registerAction2)(k.ToggleStickyScroll),(0,L.registerAction2)(k.FocusStickyScroll),(0,L.registerAction2)(k.SelectPreviousStickyScrollLine),(0,L.registerAction2)(k.SelectNextStickyScrollLine),(0,L.registerAction2)(k.GoToStickyScrollLine),(0,L.registerAction2)(k.SelectEditor)}),define(ie[968],ne([1,0,16,36,403,25,14,8,51,98]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let _=class extends E.ReferencesController{constructor(s,i,t,n,h,m,u){super(!0,s,i,t,n,h,m,u)}};e.StandaloneReferencesController=_,e.StandaloneReferencesController=_=Ie([ue(1,y.IContextKeyService),ue(2,k.ICodeEditorService),ue(3,w.INotificationService),ue(4,p.IInstantiationService),ue(5,v.IStorageService),ue(6,L.IConfigurationService)],_),(0,f.registerEditorContribution)(E.ReferencesController.ID,_,4)}),define(ie[969],ne([1,0,12,2,49,107,791,170,46,51,208]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const a=!1;function s(g){return g.scheme===E.Schemas.file?g.fsPath:g.path}let i=0;class t{constructor(c,b,C,S,D,I,T){this.id=++i,this.type=0,this.actual=c,this.label=c.label,this.confirmBeforeUndo=c.confirmBeforeUndo||!1,this.resourceLabel=b,this.strResource=C,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=S,this.groupOrder=D,this.sourceId=I,this.sourceOrder=T,this.isValid=!0}setValid(c){this.isValid=c}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n{constructor(c,b){this.resourceLabel=c,this.reason=b}}class h{constructor(){this.elements=new Map}createMessage(){const c=[],b=[];for(const[,S]of this.elements)(S.reason===0?c:b).push(S.resourceLabel);const C=[];return c.length>0&&C.push(y.localize(0,null,c.join(", "))),b.length>0&&C.push(y.localize(1,null,b.join(", "))),C.join(`
`)}get size(){return this.elements.size}has(c){return this.elements.has(c)}set(c,b){this.elements.set(c,b)}delete(c){return this.elements.delete(c)}}class m{constructor(c,b,C,S,D,I,T){this.id=++i,this.type=1,this.actual=c,this.label=c.label,this.confirmBeforeUndo=c.confirmBeforeUndo||!1,this.resourceLabels=b,this.strResources=C,this.groupId=S,this.groupOrder=D,this.sourceId=I,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(c,b,C){this.removedResources||(this.removedResources=new h),this.removedResources.has(b)||this.removedResources.set(b,new n(c,C))}setValid(c,b,C){C?this.invalidatedResources&&(this.invalidatedResources.delete(b),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new h),this.invalidatedResources.has(b)||this.invalidatedResources.set(b,new n(c,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class u{constructor(c,b){this.resourceLabel=c,this.strResource=b,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const c of this._past)c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0);for(const c of this._future)c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const c=[];c.push(`* ${this.strResource}:`);for(let b=0;b<this._past.length;b++)c.push(`   * [UNDO] ${this._past[b]}`);for(let b=this._future.length-1;b>=0;b--)c.push(`   * [REDO] ${this._future[b]}`);return c.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(c,b){c.type===1?c.setValid(this.resourceLabel,this.strResource,b):c.setValid(b)}setElementsValidFlag(c,b){for(const C of this._past)b(C.actual)&&this._setElementValidFlag(C,c);for(const C of this._future)b(C.actual)&&this._setElementValidFlag(C,c)}pushElement(c){for(const b of this._future)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(c),this.versionId++}createSnapshot(c){const b=[];for(let C=0,S=this._past.length;C<S;C++)b.push(this._past[C].id);for(let C=this._future.length-1;C>=0;C--)b.push(this._future[C].id);return new _.ResourceEditStackSnapshot(c,b)}restoreSnapshot(c){const b=c.elements.length;let C=!0,S=0,D=-1;for(let T=0,N=this._past.length;T<N;T++,S++){const A=this._past[T];C&&(S>=b||A.id!==c.elements[S])&&(C=!1,D=0),!C&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let T=this._future.length-1;T>=0;T--,S++){const N=this._future[T];C&&(S>=b||N.id!==c.elements[S])&&(C=!1,I=T),!C&&N.type===1&&N.removeResource(this.resourceLabel,this.strResource,0)}D!==-1&&(this._past=this._past.slice(0,D)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const c=[],b=[];for(const C of this._past)c.push(C.actual);for(const C of this._future)b.push(C.actual);return{past:c,future:b}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(c,b){for(let C=this._past.length-1;C>=0;C--)if(this._past[C]===c){b.has(this.strResource)?this._past[C]=b.get(this.strResource):this._past.splice(C,1);break}this.versionId++}splitFutureWorkspaceElement(c,b){for(let C=this._future.length-1;C>=0;C--)if(this._future[C]===c){b.has(this.strResource)?this._future[C]=b.get(this.strResource):this._future.splice(C,1);break}this.versionId++}moveBackward(c){this._past.pop(),this._future.push(c),this.versionId++}moveForward(c){this._future.pop(),this._past.push(c),this.versionId++}}class d{constructor(c){this.editStacks=c,this._versionIds=[];for(let b=0,C=this.editStacks.length;b<C;b++)this._versionIds[b]=this.editStacks[b].versionId}isValid(){for(let c=0,b=this.editStacks.length;c<b;c++)if(this._versionIds[c]!==this.editStacks[c].versionId)return!1;return!0}}const r=new u("","");r.locked=!0;let l=class{constructor(c,b){this._dialogService=c,this._notificationService=b,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(c){for(const b of this._uriComparisonKeyComputers)if(b[0]===c.scheme)return b[1].getComparisonKey(c);return c.toString()}_print(c){console.log("------------------------------------"),console.log(`AFTER ${c}: `);const b=[];for(const C of this._editStacks)b.push(C[1].toString());console.log(b.join(`
`))}pushElement(c,b=_.UndoRedoGroup.None,C=_.UndoRedoSource.None){if(c.type===0){const S=s(c.resource),D=this.getUriComparisonKey(c.resource);this._pushElement(new t(c,S,D,b.id,b.nextOrder(),C.id,C.nextOrder()))}else{const S=new Set,D=[],I=[];for(const T of c.resources){const N=s(T),A=this.getUriComparisonKey(T);S.has(A)||(S.add(A),D.push(N),I.push(A))}D.length===1?this._pushElement(new t(c,D[0],I[0],b.id,b.nextOrder(),C.id,C.nextOrder())):this._pushElement(new m(c,D,I,b.id,b.nextOrder(),C.id,C.nextOrder()))}a&&this._print("pushElement")}_pushElement(c){for(let b=0,C=c.strResources.length;b<C;b++){const S=c.resourceLabels[b],D=c.strResources[b];let I;this._editStacks.has(D)?I=this._editStacks.get(D):(I=new u(S,D),this._editStacks.set(D,I)),I.pushElement(c)}}getLastElement(c){const b=this.getUriComparisonKey(c);if(this._editStacks.has(b)){const C=this._editStacks.get(b);if(C.hasFutureElements())return null;const S=C.getClosestPastElement();return S?S.actual:null}return null}_splitPastWorkspaceElement(c,b){const C=c.actual.split(),S=new Map;for(const D of C){const I=s(D.resource),T=this.getUriComparisonKey(D.resource),N=new t(D,I,T,0,0,0,0);S.set(N.strResource,N)}for(const D of c.strResources){if(b&&b.has(D))continue;this._editStacks.get(D).splitPastWorkspaceElement(c,S)}}_splitFutureWorkspaceElement(c,b){const C=c.actual.split(),S=new Map;for(const D of C){const I=s(D.resource),T=this.getUriComparisonKey(D.resource),N=new t(D,I,T,0,0,0,0);S.set(N.strResource,N)}for(const D of c.strResources){if(b&&b.has(D))continue;this._editStacks.get(D).splitFutureWorkspaceElement(c,S)}}removeElements(c){const b=typeof c=="string"?c:this.getUriComparisonKey(c);this._editStacks.has(b)&&(this._editStacks.get(b).dispose(),this._editStacks.delete(b)),a&&this._print("removeElements")}setElementsValidFlag(c,b,C){const S=this.getUriComparisonKey(c);this._editStacks.has(S)&&this._editStacks.get(S).setElementsValidFlag(b,C),a&&this._print("setElementsValidFlag")}createSnapshot(c){const b=this.getUriComparisonKey(c);return this._editStacks.has(b)?this._editStacks.get(b).createSnapshot(c):new _.ResourceEditStackSnapshot(c,[])}restoreSnapshot(c){const b=this.getUriComparisonKey(c.resource);if(this._editStacks.has(b)){const C=this._editStacks.get(b);C.restoreSnapshot(c),!C.hasPastElements()&&!C.hasFutureElements()&&(C.dispose(),this._editStacks.delete(b))}a&&this._print("restoreSnapshot")}getElements(c){const b=this.getUriComparisonKey(c);return this._editStacks.has(b)?this._editStacks.get(b).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(c){if(!c)return[null,null];let b=null,C=null;for(const[S,D]of this._editStacks){const I=D.getClosestPastElement();I&&I.sourceId===c&&(!b||I.sourceOrder>b.sourceOrder)&&(b=I,C=S)}return[b,C]}canUndo(c){if(c instanceof _.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(c.id);return!!C}const b=this.getUriComparisonKey(c);return this._editStacks.has(b)?this._editStacks.get(b).hasPastElements():!1}_onError(c,b){(0,f.onUnexpectedError)(c);for(const C of b.strResources)this.removeElements(C);this._notificationService.error(c)}_acquireLocks(c){for(const b of c.editStacks)if(b.locked)throw new Error("Cannot acquire edit stack lock");for(const b of c.editStacks)b.locked=!0;return()=>{for(const b of c.editStacks)b.locked=!1}}_safeInvokeWithLocks(c,b,C,S,D){const I=this._acquireLocks(C);let T;try{T=b()}catch(N){return I(),S.dispose(),this._onError(N,c)}return T?T.then(()=>(I(),S.dispose(),D()),N=>(I(),S.dispose(),this._onError(N,c))):(I(),S.dispose(),D())}async _invokeWorkspacePrepare(c){if(typeof c.actual.prepareUndoRedo>"u")return k.Disposable.None;const b=c.actual.prepareUndoRedo();return typeof b>"u"?k.Disposable.None:b}_invokeResourcePrepare(c,b){if(c.actual.type!==1||typeof c.actual.prepareUndoRedo>"u")return b(k.Disposable.None);const C=c.actual.prepareUndoRedo();return C?(0,k.isDisposable)(C)?b(C):C.then(S=>b(S)):b(k.Disposable.None)}_getAffectedEditStacks(c){const b=[];for(const C of c.strResources)b.push(this._editStacks.get(C)||r);return new d(b)}_tryToSplitAndUndo(c,b,C,S){if(b.canSplit())return this._splitPastWorkspaceElement(b,C),this._notificationService.warn(S),new o(this._undo(c,0,!0));for(const D of b.strResources)this.removeElements(D);return this._notificationService.warn(S),new o}_checkWorkspaceUndo(c,b,C,S){if(b.removedResources)return this._tryToSplitAndUndo(c,b,b.removedResources,y.localize(2,null,b.label,b.removedResources.createMessage()));if(S&&b.invalidatedResources)return this._tryToSplitAndUndo(c,b,b.invalidatedResources,y.localize(3,null,b.label,b.invalidatedResources.createMessage()));const D=[];for(const T of C.editStacks)T.getClosestPastElement()!==b&&D.push(T.resourceLabel);if(D.length>0)return this._tryToSplitAndUndo(c,b,null,y.localize(4,null,b.label,D.join(", ")));const I=[];for(const T of C.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndUndo(c,b,null,y.localize(5,null,b.label,I.join(", "))):C.isValid()?null:this._tryToSplitAndUndo(c,b,null,y.localize(6,null,b.label))}_workspaceUndo(c,b,C){const S=this._getAffectedEditStacks(b),D=this._checkWorkspaceUndo(c,b,S,!1);return D?D.returnValue:this._confirmAndExecuteWorkspaceUndo(c,b,S,C)}_isPartOfUndoGroup(c){if(!c.groupId)return!1;for(const[,b]of this._editStacks){const C=b.getClosestPastElement();if(C){if(C===c){const S=b.getSecondClosestPastElement();if(S&&S.groupId===c.groupId)return!0}if(C.groupId===c.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(c,b,C,S){if(b.canSplit()&&!this._isPartOfUndoGroup(b)){let T;(function(P){P[P.All=0]="All",P[P.This=1]="This",P[P.Cancel=2]="Cancel"})(T||(T={}));const{result:N}=await this._dialogService.prompt({type:L.default.Info,message:y.localize(7,null,b.label),buttons:[{label:y.localize(8,null,C.editStacks.length),run:()=>T.All},{label:y.localize(9,null),run:()=>T.This}],cancelButton:{run:()=>T.Cancel}});if(N===T.Cancel)return;if(N===T.This)return this._splitPastWorkspaceElement(b,null),this._undo(c,0,!0);const A=this._checkWorkspaceUndo(c,b,C,!1);if(A)return A.returnValue;S=!0}let D;try{D=await this._invokeWorkspacePrepare(b)}catch(T){return this._onError(T,b)}const I=this._checkWorkspaceUndo(c,b,C,!0);if(I)return D.dispose(),I.returnValue;for(const T of C.editStacks)T.moveBackward(b);return this._safeInvokeWithLocks(b,()=>b.actual.undo(),C,D,()=>this._continueUndoInGroup(b.groupId,S))}_resourceUndo(c,b,C){if(!b.isValid){c.flushAllElements();return}if(c.locked){const S=y.localize(10,null,b.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(b,S=>(c.moveBackward(b),this._safeInvokeWithLocks(b,()=>b.actual.undo(),new d([c]),S,()=>this._continueUndoInGroup(b.groupId,C))))}_findClosestUndoElementInGroup(c){if(!c)return[null,null];let b=null,C=null;for(const[S,D]of this._editStacks){const I=D.getClosestPastElement();I&&I.groupId===c&&(!b||I.groupOrder>b.groupOrder)&&(b=I,C=S)}return[b,C]}_continueUndoInGroup(c,b){if(!c)return;const[,C]=this._findClosestUndoElementInGroup(c);if(C)return this._undo(C,0,b)}undo(c){if(c instanceof _.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(c.id);return b?this._undo(b,c.id,!1):void 0}return typeof c=="string"?this._undo(c,0,!1):this._undo(this.getUriComparisonKey(c),0,!1)}_undo(c,b=0,C){if(!this._editStacks.has(c))return;const S=this._editStacks.get(c),D=S.getClosestPastElement();if(!D)return;if(D.groupId){const[T,N]=this._findClosestUndoElementInGroup(D.groupId);if(D!==T&&N)return this._undo(N,b,C)}if((D.sourceId!==b||D.confirmBeforeUndo)&&!C)return this._confirmAndContinueUndo(c,b,D);try{return D.type===1?this._workspaceUndo(c,D,C):this._resourceUndo(S,D,C)}finally{a&&this._print("undo")}}async _confirmAndContinueUndo(c,b,C){if((await this._dialogService.confirm({message:y.localize(11,null,C.label),primaryButton:y.localize(12,null),cancelButton:y.localize(13,null)})).confirmed)return this._undo(c,b,!0)}_findClosestRedoElementWithSource(c){if(!c)return[null,null];let b=null,C=null;for(const[S,D]of this._editStacks){const I=D.getClosestFutureElement();I&&I.sourceId===c&&(!b||I.sourceOrder<b.sourceOrder)&&(b=I,C=S)}return[b,C]}canRedo(c){if(c instanceof _.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(c.id);return!!C}const b=this.getUriComparisonKey(c);return this._editStacks.has(b)?this._editStacks.get(b).hasFutureElements():!1}_tryToSplitAndRedo(c,b,C,S){if(b.canSplit())return this._splitFutureWorkspaceElement(b,C),this._notificationService.warn(S),new o(this._redo(c));for(const D of b.strResources)this.removeElements(D);return this._notificationService.warn(S),new o}_checkWorkspaceRedo(c,b,C,S){if(b.removedResources)return this._tryToSplitAndRedo(c,b,b.removedResources,y.localize(14,null,b.label,b.removedResources.createMessage()));if(S&&b.invalidatedResources)return this._tryToSplitAndRedo(c,b,b.invalidatedResources,y.localize(15,null,b.label,b.invalidatedResources.createMessage()));const D=[];for(const T of C.editStacks)T.getClosestFutureElement()!==b&&D.push(T.resourceLabel);if(D.length>0)return this._tryToSplitAndRedo(c,b,null,y.localize(16,null,b.label,D.join(", ")));const I=[];for(const T of C.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndRedo(c,b,null,y.localize(17,null,b.label,I.join(", "))):C.isValid()?null:this._tryToSplitAndRedo(c,b,null,y.localize(18,null,b.label))}_workspaceRedo(c,b){const C=this._getAffectedEditStacks(b),S=this._checkWorkspaceRedo(c,b,C,!1);return S?S.returnValue:this._executeWorkspaceRedo(c,b,C)}async _executeWorkspaceRedo(c,b,C){let S;try{S=await this._invokeWorkspacePrepare(b)}catch(I){return this._onError(I,b)}const D=this._checkWorkspaceRedo(c,b,C,!0);if(D)return S.dispose(),D.returnValue;for(const I of C.editStacks)I.moveForward(b);return this._safeInvokeWithLocks(b,()=>b.actual.redo(),C,S,()=>this._continueRedoInGroup(b.groupId))}_resourceRedo(c,b){if(!b.isValid){c.flushAllElements();return}if(c.locked){const C=y.localize(19,null,b.label);this._notificationService.warn(C);return}return this._invokeResourcePrepare(b,C=>(c.moveForward(b),this._safeInvokeWithLocks(b,()=>b.actual.redo(),new d([c]),C,()=>this._continueRedoInGroup(b.groupId))))}_findClosestRedoElementInGroup(c){if(!c)return[null,null];let b=null,C=null;for(const[S,D]of this._editStacks){const I=D.getClosestFutureElement();I&&I.groupId===c&&(!b||I.groupOrder<b.groupOrder)&&(b=I,C=S)}return[b,C]}_continueRedoInGroup(c){if(!c)return;const[,b]=this._findClosestRedoElementInGroup(c);if(b)return this._redo(b)}redo(c){if(c instanceof _.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(c.id);return b?this._redo(b):void 0}return typeof c=="string"?this._redo(c):this._redo(this.getUriComparisonKey(c))}_redo(c){if(!this._editStacks.has(c))return;const b=this._editStacks.get(c),C=b.getClosestFutureElement();if(C){if(C.groupId){const[S,D]=this._findClosestRedoElementInGroup(C.groupId);if(C!==S&&D)return this._redo(D)}try{return C.type===1?this._workspaceRedo(c,C):this._resourceRedo(b,C)}finally{a&&this._print("redo")}}}};e.UndoRedoService=l,e.UndoRedoService=l=Ie([ue(0,p.IDialogService),ue(1,v.INotificationService)],l);class o{constructor(c){this.returnValue=c}}(0,w.registerSingleton)(_.IUndoRedoService,l,1)}),define(ie[177],ne([1,0,792,97,215,22,8]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.IWorkspaceContextService=void 0,e.isSingleFolderWorkspaceIdentifier=p,e.isEmptyWorkspaceIdentifier=w,e.toWorkspaceIdentifier=v,e.isWorkspaceIdentifier=_,e.isStandaloneEditorWorkspace=i,e.IWorkspaceContextService=(0,y.createDecorator)("contextService");function p(t){const n=t;return typeof n?.id=="string"&&L.URI.isUri(n.uri)}function w(t){const n=t;return typeof n?.id=="string"&&!p(t)&&!_(t)}e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function v(t,n){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,k.basename)(t)}:n?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const h=t;return h.configuration?{id:h.id,configPath:h.configuration}:h.folders.length===1?{id:h.id,uri:h.folders[0].uri}:{id:h.id}}function _(t){const n=t;return typeof n?.id=="string"&&L.URI.isUri(n.configPath)}class a{constructor(n,h,m,u,d){this._id=n,this._transient=m,this._configuration=u,this._ignorePathCasing=d,this._foldersMap=E.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=h}get folders(){return this._folders}set folders(n){this._folders=n,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(n){this._configuration=n}getFolder(n){return n&&this._foldersMap.findSubstr(n)||null}updateFoldersMap(){this._foldersMap=E.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const n of this.folders)this._foldersMap.set(n.uri,n)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=a;class s{constructor(n,h){this.raw=h,this.uri=n.uri,this.index=n.index,this.name=n.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=s,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,f.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function i(t){return t.id===e.STANDALONE_EDITOR_WORKSPACE_ID}}),define(ie[970],ne([1,0,6,146,41,2,17,16,20,692,28,14,58,35,25,177]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let m=h=class{static get(r){return r.getContribution(h.ID)}constructor(r,l,o,g,c,b,C,S){this._contextMenuService=l,this._contextViewService=o,this._contextKeyService=g,this._keybindingService=c,this._menuService=b,this._configurationService=C,this._workspaceContextService=S,this._toDispose=new L.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=r,this._toDispose.add(this._editor.onContextMenu(D=>this._onContextMenu(D))),this._toDispose.add(this._editor.onMouseWheel(D=>{if(this._contextMenuIsBeingShownCount>0){const I=this._contextViewService.getContextViewElement(),T=D.srcElement;T.shadowRoot&&f.getShadowRoot(I)===T.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(D=>{this._editor.getOption(24)&&D.keyCode===58&&(D.preventDefault(),D.stopPropagation(),this.showContextMenu())}))}_onContextMenu(r){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),r.target.position&&!this._editor.getSelection().containsPosition(r.target.position)&&this._editor.setPosition(r.target.position);return}if(r.target.type===12||r.target.type===6&&r.target.detail.injectedText)return;if(r.event.preventDefault(),r.event.stopPropagation(),r.target.type===11)return this._showScrollbarContextMenu(r.event);if(r.target.type!==6&&r.target.type!==7&&r.target.type!==1)return;if(this._editor.focus(),r.target.position){let o=!1;for(const g of this._editor.getSelections())if(g.containsPosition(r.target.position)){o=!0;break}o||this._editor.setPosition(r.target.position)}let l=null;r.target.type!==1&&(l=r.event),this.showContextMenu(l)}showContextMenu(r){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const l=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?_.MenuId.SimpleEditorContext:_.MenuId.EditorContext);l.length>0&&this._doShowContextMenu(l,r)}_getMenuActions(r,l){const o=[],g=this._menuService.createMenu(l,this._contextKeyService),c=g.getActions({arg:r.uri});g.dispose();for(const b of c){const[,C]=b;let S=0;for(const D of C)if(D instanceof _.SubmenuItemAction){const I=this._getMenuActions(r,D.item.submenu);I.length>0&&(o.push(new E.SubmenuAction(D.id,D.label,I)),S++)}else o.push(D),S++;S&&o.push(new E.Separator)}return o.length&&o.pop(),o}_doShowContextMenu(r,l=null){if(!this._editor.hasModel())return;const o=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let g=l;if(!g){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const b=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),C=f.getDomNodePagePosition(this._editor.getDomNode()),S=C.left+b.left,D=C.top+b.top+b.height;g={x:S,y:D}}const c=this._editor.getOption(127)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>g,getActions:()=>r,getActionViewItem:b=>{const C=this._keybindingFor(b);if(C)return new k.ActionViewItem(b,b,{label:!0,keybinding:C.getLabel(),isMenu:!0});const S=b;return typeof S.getActionViewItem=="function"?S.getActionViewItem():new k.ActionViewItem(b,b,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:b=>this._keybindingFor(b),onHide:b=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:o})}})}_showScrollbarContextMenu(r){if(!this._editor.hasModel()||(0,n.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const l=this._editor.getOption(73);let o=0;const g=D=>({id:`menu-action-${++o}`,label:D.label,tooltip:"",class:void 0,enabled:typeof D.enabled>"u"?!0:D.enabled,checked:D.checked,run:D.run}),c=(D,I)=>new E.SubmenuAction(`menu-action-${++o}`,D,I,void 0),b=(D,I,T,N,A)=>{if(!I)return g({label:D,enabled:I,run:()=>{}});const P=R=>()=>{this._configurationService.updateValue(T,R)},M=[];for(const R of A)M.push(g({label:R.label,checked:N===R.value,run:P(R.value)}));return c(D,M)},C=[];C.push(g({label:v.localize(0,null),checked:l.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!l.enabled)}})),C.push(new E.Separator),C.push(g({label:v.localize(1,null),enabled:l.enabled,checked:l.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!l.renderCharacters)}})),C.push(b(v.localize(2,null),l.enabled,"editor.minimap.size",l.size,[{label:v.localize(3,null),value:"proportional"},{label:v.localize(4,null),value:"fill"},{label:v.localize(5,null),value:"fit"}])),C.push(b(v.localize(6,null),l.enabled,"editor.minimap.showSlider",l.showSlider,[{label:v.localize(7,null),value:"mouseover"},{label:v.localize(8,null),value:"always"}]));const S=this._editor.getOption(127)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:S?this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>C,onHide:D=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(r){return this._keybindingService.lookupKeybinding(r.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=m,m.ID="editor.contrib.contextmenu",e.ContextMenuController=m=h=Ie([ue(1,s.IContextMenuService),ue(2,s.IContextViewService),ue(3,a.IContextKeyService),ue(4,i.IKeybindingService),ue(5,_.IMenuService),ue(6,t.IConfigurationService),ue(7,n.IWorkspaceContextService)],m);class u extends p.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:v.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(r,l){var o;(o=m.get(l))===null||o===void 0||o.showContextMenu()}}(0,p.registerEditorContribution)(m.ID,m,2),(0,p.registerEditorAction)(u)}),define(ie[280],ne([1,0,13,186,88,2,120,49,50,22,29,18,696,177]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=e.DefaultTextPasteOrDropEditProvider=void 0;class t{async provideDocumentPasteEdits(g,c,b,C,S){const D=await this.getEdit(b,S);if(D)return{dispose(){},edits:[{insertText:D.insertText,title:D.title,kind:D.kind,handledMimeType:D.handledMimeType,yieldTo:D.yieldTo}]}}async provideDocumentOnDropEdits(g,c,b,C){const S=await this.getEdit(b,C);return S?[{insertText:S.insertText,title:S.title,kind:S.kind,handledMimeType:S.handledMimeType,yieldTo:S.yieldTo}]:void 0}}class n extends t{constructor(){super(...arguments),this.kind=n.kind,this.dropMimeTypes=[y.Mimes.text],this.pasteMimeTypes=[y.Mimes.text]}async getEdit(g,c){const b=g.get(y.Mimes.text);if(!b||g.has(y.Mimes.uriList))return;const C=await b.asString();return{handledMimeType:y.Mimes.text,title:(0,s.localize)(0,null),insertText:C,kind:this.kind}}}e.DefaultTextPasteOrDropEditProvider=n,n.id="text",n.kind=new E.HierarchicalKind("text.plain");class h extends t{constructor(){super(...arguments),this.kind=new E.HierarchicalKind("uri.absolute"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(g,c){const b=await d(g);if(!b.length||c.isCancellationRequested)return;let C=0;const S=b.map(({uri:I,originalText:T})=>I.scheme===p.Schemas.file?I.fsPath:(C++,T)).join(" ");let D;return C>0?D=b.length>1?(0,s.localize)(1,null):(0,s.localize)(2,null):D=b.length>1?(0,s.localize)(3,null):(0,s.localize)(4,null),{handledMimeType:y.Mimes.uriList,insertText:S,title:D,kind:this.kind}}}let m=class extends t{constructor(g){super(),this._workspaceContextService=g,this.kind=new E.HierarchicalKind("uri.relative"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(g,c){const b=await d(g);if(!b.length||c.isCancellationRequested)return;const C=(0,f.coalesce)(b.map(({uri:S})=>{const D=this._workspaceContextService.getWorkspaceFolder(S);return D?(0,w.relativePath)(D.uri,S):void 0}));if(C.length)return{handledMimeType:y.Mimes.uriList,insertText:C.join(" "),title:b.length>1?(0,s.localize)(5,null):(0,s.localize)(6,null),kind:this.kind}}};m=Ie([ue(0,i.IWorkspaceContextService)],m);class u{constructor(){this.kind=new E.HierarchicalKind("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:y.Mimes.text}]}async provideDocumentPasteEdits(g,c,b,C,S){var D;if(C.triggerKind!==_.DocumentPasteTriggerKind.PasteAs&&!(!((D=C.only)===null||D===void 0)&&D.contains(this.kind)))return;const I=b.get("text/html"),T=await I?.asString();if(!(!T||S.isCancellationRequested))return{dispose(){},edits:[{insertText:T,yieldTo:this._yieldTo,title:(0,s.localize)(7,null),kind:this.kind}]}}}async function d(o){const g=o.get(y.Mimes.uriList);if(!g)return[];const c=await g.asString(),b=[];for(const C of k.UriList.parse(c))try{b.push({uri:v.URI.parse(C),originalText:C})}catch{}return b}let r=class extends L.Disposable{constructor(g,c){super(),this._register(g.documentOnDropEditProvider.register("*",new n)),this._register(g.documentOnDropEditProvider.register("*",new h)),this._register(g.documentOnDropEditProvider.register("*",new m(c)))}};e.DefaultDropProvidersFeature=r,e.DefaultDropProvidersFeature=r=Ie([ue(0,a.ILanguageFeaturesService),ue(1,i.IWorkspaceContextService)],r);let l=class extends L.Disposable{constructor(g,c){super(),this._register(g.documentPasteEditProvider.register("*",new n)),this._register(g.documentPasteEditProvider.register("*",new h)),this._register(g.documentPasteEditProvider.register("*",new m(c))),this._register(g.documentPasteEditProvider.register("*",new u))}};e.DefaultPasteProvidersFeature=l,e.DefaultPasteProvidersFeature=l=Ie([ue(0,a.ILanguageFeaturesService),ue(1,i.IWorkspaceContextService)],l)}),define(ie[409],ne([1,0,6,13,15,186,88,2,120,17,185,203,371,147,5,29,18,280,256,115,278,174,695,112,14,8,92,75,364]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new c.RawContextKey("pasteWidgetVisible",!1,(0,o.localize)(0,null));const T="application/vnd.code.copyMetadata";let N=I=class extends p.Disposable{static get(P){return P.getContribution(I.ID)}constructor(P,M,R,F,O,B,H){super(),this._bulkEditService=R,this._clipboardService=F,this._languageFeaturesService=O,this._quickInputService=B,this._progressService=H,this._editor=P;const V=P.getContainerDomNode();this._register((0,f.addDisposableListener)(V,"copy",q=>this.handleCopy(q))),this._register((0,f.addDisposableListener)(V,"cut",q=>this.handleCopy(q))),this._register((0,f.addDisposableListener)(V,"paste",q=>this.handlePaste(q),!0)),this._pasteProgressManager=this._register(new r.InlineProgressManager("pasteIntoEditor",P,M)),this._postPasteWidgetManager=this._register(M.createInstance(D.PostEditWidgetManager,"pasteIntoEditor",P,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,o.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(P){this._editor.focus();try{this._pasteAsActionContext={preferred:P},(0,f.getActiveDocument)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)}async finishedPaste(){await this._currentPasteOperation}handleCopy(P){var M,R;if(!this._editor.hasTextFocus()||(v.isWeb&&this._clipboardService.writeResources([]),!P.clipboardData||!this.isPasteAsEnabled()))return;const F=this._editor.getModel(),O=this._editor.getSelections();if(!F||!O?.length)return;const B=this._editor.getOption(37);let H=O;const V=O.length===1&&O[0].isEmpty();if(V){if(!B)return;H=[new t.Range(H[0].startLineNumber,1,H[0].startLineNumber,1+F.getLineLength(H[0].startLineNumber))]}const q=(M=this._editor._getViewModel())===null||M===void 0?void 0:M.getPlainTextToCopy(O,B,v.isWindows),U={multicursorText:Array.isArray(q)?q:null,pasteOnNewLine:V,mode:null},Z=this._languageFeaturesService.documentPasteEditProvider.ordered(F).filter(Y=>!!Y.prepareDocumentPaste);if(!Z.length){this.setCopyMetadata(P.clipboardData,{defaultPastePayload:U});return}const re=(0,s.toVSDataTransfer)(P.clipboardData),x=Z.flatMap(Y=>{var ae;return(ae=Y.copyMimeTypes)!==null&&ae!==void 0?ae:[]}),Q=(0,_.generateUuid)();this.setCopyMetadata(P.clipboardData,{id:Q,providerCopyMimeTypes:x,defaultPastePayload:U});const X=(0,E.createCancelablePromise)(async Y=>{const ae=(0,k.coalesce)(await Promise.all(Z.map(async ce=>{try{return await ce.prepareDocumentPaste(F,H,re,Y)}catch(he){console.error(he);return}})));ae.reverse();for(const ce of ae)for(const[he,pe]of ce)re.replace(he,pe);return re});(R=I._currentCopyOperation)===null||R===void 0||R.dataTransferPromise.cancel(),I._currentCopyOperation={handle:Q,dataTransferPromise:X}}async handlePaste(P){var M,R,F,O;if(!P.clipboardData||!this._editor.hasTextFocus())return;(M=l.MessageController.get(this._editor))===null||M===void 0||M.closeMessage(),(R=this._currentPasteOperation)===null||R===void 0||R.cancel(),this._currentPasteOperation=void 0;const B=this._editor.getModel(),H=this._editor.getSelections();if(!H?.length||!B||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const V=this.fetchCopyMetadata(P),q=(0,s.toExternalVSDataTransfer)(P.clipboardData);q.delete(T);const z=[...P.clipboardData.types,...(F=V?.providerCopyMimeTypes)!==null&&F!==void 0?F:[],w.Mimes.uriList],U=this._languageFeaturesService.documentPasteEditProvider.ordered(B).filter(Z=>{var re,x;const Q=(re=this._pasteAsActionContext)===null||re===void 0?void 0:re.preferred;return Q&&Z.providedPasteEditKinds&&!this.providerMatchesPreference(Z,Q)?!1:(x=Z.pasteMimeTypes)===null||x===void 0?void 0:x.some(X=>(0,L.matchesMimeType)(X,z))});if(!U.length){!((O=this._pasteAsActionContext)===null||O===void 0)&&O.preferred&&this.showPasteAsNoEditMessage(H,this._pasteAsActionContext.preferred);return}P.preventDefault(),P.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,U,H,q,V):this.doPasteInline(U,H,q,V,P)}showPasteAsNoEditMessage(P,M){var R;(R=l.MessageController.get(this._editor))===null||R===void 0||R.showMessage((0,o.localize)(2,null,M instanceof y.HierarchicalKind?M.value:M.providerId),P[0].getStartPosition())}doPasteInline(P,M,R,F,O){const B=(0,E.createCancelablePromise)(async H=>{const V=this._editor;if(!V.hasModel())return;const q=V.getModel(),z=new d.EditorStateCancellationTokenSource(V,3,void 0,H);try{if(await this.mergeInDataFromCopy(R,F,z.token),z.token.isCancellationRequested)return;const U=P.filter(x=>this.isSupportedPasteProvider(x,R));if(!U.length||U.length===1&&U[0]instanceof m.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(R,F,z.token,O);const Z={triggerKind:n.DocumentPasteTriggerKind.Automatic},re=await this.getPasteEdits(U,R,q,M,Z,z.token);if(z.token.isCancellationRequested)return;if(re.length===1&&re[0].provider instanceof m.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(R,F,z.token,O);if(re.length){const x=V.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(M,{activeEditIndex:0,allEdits:re},x,async(Q,X)=>{var Y,ae;const ce=await((ae=(Y=Q.provider).resolveDocumentPasteEdit)===null||ae===void 0?void 0:ae.call(Y,Q,X));return ce&&(Q.additionalEdit=ce.additionalEdit),Q},z.token)}await this.applyDefaultPasteHandler(R,F,z.token,O)}finally{z.dispose(),this._currentPasteOperation===B&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(M[0].getEndPosition(),(0,o.localize)(3,null),B),this._currentPasteOperation=B}showPasteAsPick(P,M,R,F,O){const B=(0,E.createCancelablePromise)(async H=>{const V=this._editor;if(!V.hasModel())return;const q=V.getModel(),z=new d.EditorStateCancellationTokenSource(V,3,void 0,H);try{if(await this.mergeInDataFromCopy(F,O,z.token),z.token.isCancellationRequested)return;let U=M.filter(X=>this.isSupportedPasteProvider(X,F,P));P&&(U=U.filter(X=>this.providerMatchesPreference(X,P)));const Z={triggerKind:n.DocumentPasteTriggerKind.PasteAs,only:P&&P instanceof y.HierarchicalKind?P:void 0};let re=await this.getPasteEdits(U,F,q,R,Z,z.token);if(z.token.isCancellationRequested)return;if(P&&(re=re.filter(X=>P instanceof y.HierarchicalKind?P.contains(X.kind):P.providerId===X.provider.id)),!re.length){Z.only&&this.showPasteAsNoEditMessage(R,Z.only);return}let x;if(P)x=re.at(0);else{const X=await this._quickInputService.pick(re.map(Y=>{var ae;return{label:Y.title,description:(ae=Y.kind)===null||ae===void 0?void 0:ae.value,edit:Y}}),{placeHolder:(0,o.localize)(4,null)});x=X?.edit}if(!x)return;const Q=(0,u.createCombinedWorkspaceEdit)(q.uri,R,x);await this._bulkEditService.apply(Q,{editor:this._editor})}finally{z.dispose(),this._currentPasteOperation===B&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:(0,o.localize)(5,null)},()=>B)}setCopyMetadata(P,M){P.setData(T,JSON.stringify(M))}fetchCopyMetadata(P){var M;if(!P.clipboardData)return;const R=P.clipboardData.getData(T);if(R)try{return JSON.parse(R)}catch{return}const[F,O]=a.ClipboardEventUtils.getTextData(P.clipboardData);if(O)return{defaultPastePayload:{mode:O.mode,multicursorText:(M=O.multicursorText)!==null&&M!==void 0?M:null,pasteOnNewLine:!!O.isFromEmptySelection}}}async mergeInDataFromCopy(P,M,R){var F;if(M?.id&&((F=I._currentCopyOperation)===null||F===void 0?void 0:F.handle)===M.id){const O=await I._currentCopyOperation.dataTransferPromise;if(R.isCancellationRequested)return;for(const[B,H]of O)P.replace(B,H)}if(!P.has(w.Mimes.uriList)){const O=await this._clipboardService.readResources();if(R.isCancellationRequested)return;O.length&&P.append(w.Mimes.uriList,(0,L.createStringDataTransferItem)(L.UriList.create(O)))}}async getPasteEdits(P,M,R,F,O,B){const H=await(0,E.raceCancellation)(Promise.all(P.map(async q=>{var z,U;try{const Z=await((z=q.provideDocumentPasteEdits)===null||z===void 0?void 0:z.call(q,R,F,M,O,B));return(U=Z?.edits)===null||U===void 0?void 0:U.map(re=>({...re,provider:q}))}catch(Z){console.error(Z)}})),B),V=(0,k.coalesce)(H??[]).flat().filter(q=>!O.only||O.only.contains(q.kind));return(0,u.sortEditsByYieldTo)(V)}async applyDefaultPasteHandler(P,M,R,F){var O,B,H,V;const q=(O=P.get(w.Mimes.text))!==null&&O!==void 0?O:P.get("text"),z=(B=await q?.asString())!==null&&B!==void 0?B:"";if(R.isCancellationRequested)return;const U={clipboardEvent:F,text:z,pasteOnNewLine:(H=M?.defaultPastePayload.pasteOnNewLine)!==null&&H!==void 0?H:!1,multicursorText:(V=M?.defaultPastePayload.multicursorText)!==null&&V!==void 0?V:null,mode:null};this._editor.trigger("keyboard","paste",U)}isSupportedPasteProvider(P,M,R){var F;return!((F=P.pasteMimeTypes)===null||F===void 0)&&F.some(O=>M.matches(O))?!R||this.providerMatchesPreference(P,R):!1}providerMatchesPreference(P,M){return M instanceof y.HierarchicalKind?P.providedPasteEditKinds?P.providedPasteEditKinds.some(R=>M.contains(R)):!0:P.id===M.providerId}};e.CopyPasteController=N,N.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=N=I=Ie([ue(1,b.IInstantiationService),ue(2,i.IBulkEditService),ue(3,g.IClipboardService),ue(4,h.ILanguageFeaturesService),ue(5,S.IQuickInputService),ue(6,C.IProgressService)],N)}),define(ie[971],ne([1,0,62,6,17,203,16,36,20,409,681,28,112,14]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",n=E.isNative||document.queryCommandSupported("cut"),h=E.isNative||document.queryCommandSupported("copy"),m=typeof navigator.clipboard>"u"||f.isFirefox?document.queryCommandSupported("paste"):!0;function u(l){return l.register(),l}e.CutAction=n?u(new y.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:E.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(0,null),order:1},{menuId:a.MenuId.EditorContext,group:t,title:_.localize(1,null),when:w.EditorContextKeys.writable,order:1},{menuId:a.MenuId.CommandPalette,group:"",title:_.localize(2,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:_.localize(3,null),when:w.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=h?u(new y.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:E.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(4,null),order:2},{menuId:a.MenuId.EditorContext,group:t,title:_.localize(5,null),order:2},{menuId:a.MenuId.CommandPalette,group:"",title:_.localize(6,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:_.localize(7,null),order:2}]})):void 0,a.MenuRegistry.appendMenuItem(a.MenuId.MenubarEditMenu,{submenu:a.MenuId.MenubarCopy,title:_.localize2(13,"Copy As"),group:"2_ccp",order:3}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,{submenu:a.MenuId.EditorContextCopy,title:_.localize2(14,"Copy As"),group:t,order:3}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,{submenu:a.MenuId.EditorContextShare,title:_.localize2(15,"Share"),group:"11_share",order:-1,when:i.ContextKeyExpr.and(i.ContextKeyExpr.notEquals("resourceScheme","output"),w.EditorContextKeys.editorTextFocus)}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorTitleContext,{submenu:a.MenuId.EditorTitleContextShare,title:_.localize2(16,"Share"),group:"11_share",order:-1}),a.MenuRegistry.appendMenuItem(a.MenuId.ExplorerContext,{submenu:a.MenuId.ExplorerContextShare,title:_.localize2(17,"Share"),group:"11_share",order:-1}),e.PasteAction=m?u(new y.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:E.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:_.localize(8,null),order:4},{menuId:a.MenuId.EditorContext,group:t,title:_.localize(9,null),when:w.EditorContextKeys.writable,order:4},{menuId:a.MenuId.CommandPalette,group:"",title:_.localize(10,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:_.localize(11,null),when:w.EditorContextKeys.writable,order:4}]})):void 0;class d extends y.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_.localize(12,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(o,g){!g.hasModel()||!g.getOption(37)&&g.getSelection().isEmpty()||(L.CopyOptions.forceCopyWithSyntaxHighlighting=!0,g.focus(),g.getContainerDomNode().ownerDocument.execCommand("copy"),L.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function r(l,o){l&&(l.addImplementation(1e4,"code-editor",(g,c)=>{const b=g.get(p.ICodeEditorService).getFocusedCodeEditor();if(b&&b.hasTextFocus()){const C=b.getOption(37),S=b.getSelection();return S&&S.isEmpty()&&!C||b.getContainerDomNode().ownerDocument.execCommand(o),!0}return!1}),l.addImplementation(0,"generic-dom",(g,c)=>((0,k.getActiveDocument)().execCommand(o),!0)))}r(e.CutAction,"cut"),r(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(l,o)=>{var g,c;const b=l.get(p.ICodeEditorService),C=l.get(s.IClipboardService),S=b.getFocusedCodeEditor();return S&&S.hasTextFocus()?S.getContainerDomNode().ownerDocument.execCommand("paste")?(c=(g=v.CopyPasteController.get(S))===null||g===void 0?void 0:g.finishedPaste())!==null&&c!==void 0?c:Promise.resolve():E.isWeb?(async()=>{const I=await C.readText();if(I!==""){const T=L.InMemoryClipboardMetadataManager.INSTANCE.get(I);let N=!1,A=null,P=null;T&&(N=S.getOption(37)&&!!T.isFromEmptySelection,A=typeof T.multicursorText<"u"?T.multicursorText:null,P=T.mode),S.trigger("keyboard","paste",{text:I,pasteOnNewLine:N,multicursorText:A,mode:P})}})():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(l,o)=>((0,k.getActiveDocument)().execCommand("paste"),!0))),h&&(0,y.registerEditorAction)(d)}),define(ie[972],ne([1,0,88,16,20,141,409,280,694]),function(J,e,f,k,E,L,y,p,w){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),(0,k.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,L.registerEditorFeature)(p.DefaultPasteProvidersFeature),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(_,a){var s;return(s=y.CopyPasteController.get(a))===null||s===void 0?void 0:s.changePasteType()}}),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:"editor.hidePasteWidget",precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(_,a){var s;(s=y.CopyPasteController.get(a))===null||s===void 0||s.clearWidgets()}}),(0,k.registerEditorAction)((v=class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:w.localize(1,null),alias:"Paste As...",precondition:E.EditorContextKeys.writable,metadata:{description:"Paste as",args:[{name:"args",schema:v.argsSchema}]}})}run(a,s,i){var t;let n=typeof i?.kind=="string"?i.kind:void 0;return!n&&i&&(n=typeof i.id=="string"?i.id:void 0),(t=y.CopyPasteController.get(s))===null||t===void 0?void 0:t.pasteAs(n?new f.HierarchicalKind(n):void 0)}},v.argsSchema={type:"object",properties:{kind:{type:"string",description:w.localize(0,null)}}},v)),(0,k.registerEditorAction)(class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAsText",label:w.localize(2,null),alias:"Paste as Text",precondition:E.EditorContextKeys.writable})}run(_,a){var s;return(s=y.CopyPasteController.get(a))===null||s===void 0?void 0:s.pasteAs({providerId:p.DefaultTextPasteOrDropEditProvider.id})}})}),define(ie[973],ne([1,0,16,261,141,280,697,105,39,949]),function(J,e,f,k,E,L,y,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(v.DropIntoEditorController.ID,v.DropIntoEditorController,2),(0,E.registerEditorFeature)(L.DefaultDropProvidersFeature),(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:v.changeDropTypeCommandId,precondition:v.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(_,a,s){var i;(i=v.DropIntoEditorController.get(a))===null||i===void 0||i.changeDropType()}}),(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:"editor.hideDropWidget",precondition:v.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(_,a,s){var i;(i=v.DropIntoEditorController.get(a))===null||i===void 0||i.clearWidgets()}}),w.Registry.as(p.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{[v.defaultProviderConfig]:{type:"object",scope:5,description:y.localize(0,null),default:{},additionalProperties:{type:"string"}}}})}),define(ie[974],ne([1,0,614,97,50,11,185,33,128,742,177]),function(J,e,f,k,E,L,y,p,w,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class a{constructor(r){this._delegates=r}resolve(r){for(const l of this._delegates){const o=l.resolve(r);if(o!==void 0)return o}}}e.CompositeSnippetVariableResolver=a;class s{constructor(r,l,o,g){this._model=r,this._selection=l,this._selectionIdx=o,this._overtypingCapturer=g}resolve(r){const{name:l}=r;if(l==="SELECTION"||l==="TM_SELECTED_TEXT"){let o=this._model.getValueInRange(this._selection)||void 0,g=this._selection.startLineNumber!==this._selection.endLineNumber;if(!o&&this._overtypingCapturer){const c=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);c&&(o=c.value,g=c.multiline)}if(o&&g&&r.snippet){const c=this._model.getLineContent(this._selection.startLineNumber),b=(0,L.getLeadingWhitespace)(c,0,this._selection.startColumn-1);let C=b;r.snippet.walk(D=>D===r?!1:(D instanceof w.Text&&(C=(0,L.getLeadingWhitespace)((0,L.splitLines)(D.value).pop())),!0));const S=(0,L.commonPrefixLength)(C,b);o=o.replace(/(\r\n|\r|\n)(.*)/g,(D,I,T)=>`${I}${C.substr(S)}${T}`)}return o}else{if(l==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(l==="TM_CURRENT_WORD"){const o=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return o&&o.word||void 0}else{if(l==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(l==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(l==="CURSOR_INDEX")return String(this._selectionIdx);if(l==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=s;class i{constructor(r,l){this._labelService=r,this._model=l}resolve(r){const{name:l}=r;if(l==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(l==="TM_FILENAME_BASE"){const o=k.basename(this._model.uri.fsPath),g=o.lastIndexOf(".");return g<=0?o:o.slice(0,g)}else{if(l==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,E.dirname)(this._model.uri));if(l==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(l==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=i;class t{constructor(r,l,o,g){this._readClipboardText=r,this._selectionIdx=l,this._selectionCount=o,this._spread=g}resolve(r){if(r.name!=="CLIPBOARD")return;const l=this._readClipboardText();if(l){if(this._spread){const o=l.split(/\r\n|\n|\r/).filter(g=>!(0,L.isFalsyOrWhitespace)(g));if(o.length===this._selectionCount)return o[this._selectionIdx]}return l}}}e.ClipboardBasedVariableResolver=t;let n=class{constructor(r,l,o){this._model=r,this._selection=l,this._languageConfigurationService=o}resolve(r){const{name:l}=r,o=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),g=this._languageConfigurationService.getLanguageConfiguration(o).comments;if(g){if(l==="LINE_COMMENT")return g.lineCommentToken||void 0;if(l==="BLOCK_COMMENT_START")return g.blockCommentStartToken||void 0;if(l==="BLOCK_COMMENT_END")return g.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=n,e.CommentBasedVariableResolver=n=Ie([ue(2,p.ILanguageConfigurationService)],n);class h{constructor(){this._date=new Date}resolve(r){const{name:l}=r;if(l==="CURRENT_YEAR")return String(this._date.getFullYear());if(l==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(l==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(l==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(l==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(l==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(l==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(l==="CURRENT_DAY_NAME")return h.dayNames[this._date.getDay()];if(l==="CURRENT_DAY_NAME_SHORT")return h.dayNamesShort[this._date.getDay()];if(l==="CURRENT_MONTH_NAME")return h.monthNames[this._date.getMonth()];if(l==="CURRENT_MONTH_NAME_SHORT")return h.monthNamesShort[this._date.getMonth()];if(l==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(l==="CURRENT_TIMEZONE_OFFSET"){const o=this._date.getTimezoneOffset(),g=o>0?"-":"+",c=Math.trunc(Math.abs(o/60)),b=c<10?"0"+c:c,C=Math.abs(o)-c*60,S=C<10?"0"+C:C;return g+b+":"+S}}}e.TimeBasedVariableResolver=h,h.dayNames=[v.localize(0,null),v.localize(1,null),v.localize(2,null),v.localize(3,null),v.localize(4,null),v.localize(5,null),v.localize(6,null)],h.dayNamesShort=[v.localize(7,null),v.localize(8,null),v.localize(9,null),v.localize(10,null),v.localize(11,null),v.localize(12,null),v.localize(13,null)],h.monthNames=[v.localize(14,null),v.localize(15,null),v.localize(16,null),v.localize(17,null),v.localize(18,null),v.localize(19,null),v.localize(20,null),v.localize(21,null),v.localize(22,null),v.localize(23,null),v.localize(24,null),v.localize(25,null)],h.monthNamesShort=[v.localize(26,null),v.localize(27,null),v.localize(28,null),v.localize(29,null),v.localize(30,null),v.localize(31,null),v.localize(32,null),v.localize(33,null),v.localize(34,null),v.localize(35,null),v.localize(36,null),v.localize(37,null)];class m{constructor(r){this._workspaceService=r}resolve(r){if(!this._workspaceService)return;const l=(0,_.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,_.isEmptyWorkspaceIdentifier)(l)){if(r.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(l);if(r.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(l)}}_resolveWorkspaceName(r){if((0,_.isSingleFolderWorkspaceIdentifier)(r))return k.basename(r.uri.path);let l=k.basename(r.configPath.path);return l.endsWith(_.WORKSPACE_EXTENSION)&&(l=l.substr(0,l.length-_.WORKSPACE_EXTENSION.length-1)),l}_resoveWorkspacePath(r){if((0,_.isSingleFolderWorkspaceIdentifier)(r))return(0,f.normalizeDriveLetter)(r.uri.fsPath);const l=k.basename(r.configPath.path);let o=r.configPath.fsPath;return o.endsWith(l)&&(o=o.substr(0,o.length-l.length-1)),o?(0,f.normalizeDriveLetter)(o):"/"}}e.WorkspaceBasedVariableResolver=m;class u{resolve(r){const{name:l}=r;if(l==="RANDOM")return Math.random().toString().slice(-6);if(l==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(l==="UUID")return(0,y.generateUuid)()}}e.RandomBasedVariableResolver=u}),define(ie[410],ne([1,0,13,2,11,72,5,24,33,37,172,177,128,974,499]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class n{constructor(d,r,l){this._editor=d,this._snippet=r,this._snippetLineLeadingWhitespace=l,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,f.groupBy)(r.placeholders,s.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(d){this._offset=d.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const d=this._editor.getModel();this._editor.changeDecorations(r=>{for(const l of this._snippet.placeholders){const o=this._snippet.offset(l),g=this._snippet.fullLen(l),c=y.Range.fromPositions(d.getPositionAt(this._offset+o),d.getPositionAt(this._offset+o+g)),b=l.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,C=r.addDecoration(c,b);this._placeholderDecorations.set(l,C)}})}move(d){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const o=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const c=this._placeholderDecorations.get(g),b=this._editor.getModel().getDecorationRange(c),C=this._editor.getModel().getValueInRange(b),S=g.transform.resolve(C).split(/\r\n|\r|\n/);for(let D=1;D<S.length;D++)S[D]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+S[D]);o.push(L.EditOperation.replace(b,S.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let r=!1;d===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,r=!0):d===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,r=!0);const l=this._editor.getModel().changeDecorations(o=>{const g=new Set,c=[];for(const b of this._placeholderGroups[this._placeholderGroupsIdx]){const C=this._placeholderDecorations.get(b),S=this._editor.getModel().getDecorationRange(C);c.push(new p.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)),r=r&&this._hasPlaceholderBeenCollapsed(b),o.changeDecorationOptions(C,b.isFinalTabstop?n._decor.activeFinal:n._decor.active),g.add(b);for(const D of this._snippet.enclosingPlaceholders(b)){const I=this._placeholderDecorations.get(D);o.changeDecorationOptions(I,D.isFinalTabstop?n._decor.activeFinal:n._decor.active),g.add(D)}}for(const[b,C]of this._placeholderDecorations)g.has(b)||o.changeDecorationOptions(C,b.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return c});return r?this.move(d):l??[]}_hasPlaceholderBeenCollapsed(d){let r=d;for(;r;){if(r instanceof s.Placeholder){const l=this._placeholderDecorations.get(r);if(this._editor.getModel().getDecorationRange(l).isEmpty()&&r.toString().length>0)return!0}r=r.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[d]=this._snippet.placeholders;if(d.isFinalTabstop&&this._snippet.rightMostDescendant===d)return!0}return!1}computePossibleSelections(){const d=new Map;for(const r of this._placeholderGroups){let l;for(const o of r){if(o.isFinalTabstop)break;l||(l=[],d.set(o.index,l));const g=this._placeholderDecorations.get(o),c=this._editor.getModel().getDecorationRange(g);if(!c){d.delete(o.index);break}l.push(c)}}return d}get activeChoice(){if(!this._placeholderDecorations)return;const d=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!d?.choice)return;const r=this._placeholderDecorations.get(d);if(!r)return;const l=this._editor.getModel().getDecorationRange(r);if(l)return{range:l,choice:d.choice}}get hasChoice(){let d=!1;return this._snippet.walk(r=>(d=r instanceof s.Choice,!d)),d}merge(d){const r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(l=>{for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const g=d.shift();console.assert(g._offset!==-1),console.assert(!g._placeholderDecorations);const c=g._snippet.placeholderInfo.last.index;for(const C of g._snippet.placeholderInfo.all)C.isFinalTabstop?C.index=o.index+(c+1)/this._nestingLevel:C.index=o.index+C.index/this._nestingLevel;this._snippet.replace(o,g._snippet.children);const b=this._placeholderDecorations.get(o);l.removeDecoration(b),this._placeholderDecorations.delete(o);for(const C of g._snippet.placeholders){const S=g._snippet.offset(C),D=g._snippet.fullLen(C),I=y.Range.fromPositions(r.getPositionAt(g._offset+S),r.getPositionAt(g._offset+S+D)),T=l.addDecoration(I,n._decor.inactive);this._placeholderDecorations.set(C,T)}}this._placeholderGroups=(0,f.groupBy)(this._snippet.placeholders,s.Placeholder.compareByIndex)})}}e.OneSnippet=n,n._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const h={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let m=t=class{static adjustWhitespace(d,r,l,o,g){const c=d.getLineContent(r.lineNumber),b=(0,E.getLeadingWhitespace)(c,0,r.column-1);let C;return o.walk(S=>{if(!(S instanceof s.Text)||S.parent instanceof s.Choice||g&&!g.has(S))return!0;const D=S.value.split(/\r\n|\r|\n/);if(l){const T=o.offset(S);if(T===0)D[0]=d.normalizeIndentation(D[0]);else{C=C??o.toString();const N=C.charCodeAt(T-1);(N===10||N===13)&&(D[0]=d.normalizeIndentation(b+D[0]))}for(let N=1;N<D.length;N++)D[N]=d.normalizeIndentation(b+D[N])}const I=D.join(d.getEOL());return I!==S.value&&(S.parent.replace(S,[new s.Text(I)]),C=void 0),!0}),b}static adjustSelection(d,r,l,o){if(l!==0||o!==0){const{positionLineNumber:g,positionColumn:c}=r,b=c-l,C=c+o,S=d.validateRange({startLineNumber:g,startColumn:b,endLineNumber:g,endColumn:C});r=p.Selection.createWithDirection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn,r.getDirection())}return r}static createEditsAndSnippetsFromSelections(d,r,l,o,g,c,b,C,S){const D=[],I=[];if(!d.hasModel())return{edits:D,snippets:I};const T=d.getModel(),N=d.invokeWithinContext(B=>B.get(a.IWorkspaceContextService)),A=d.invokeWithinContext(B=>new i.ModelBasedVariableResolver(B.get(_.ILabelService),T)),P=()=>b,M=T.getValueInRange(t.adjustSelection(T,d.getSelection(),l,0)),R=T.getValueInRange(t.adjustSelection(T,d.getSelection(),0,o)),F=T.getLineFirstNonWhitespaceColumn(d.getSelection().positionLineNumber),O=d.getSelections().map((B,H)=>({selection:B,idx:H})).sort((B,H)=>y.Range.compareRangesUsingStarts(B.selection,H.selection));for(const{selection:B,idx:H}of O){let V=t.adjustSelection(T,B,l,0),q=t.adjustSelection(T,B,0,o);M!==T.getValueInRange(V)&&(V=B),R!==T.getValueInRange(q)&&(q=B);const z=B.setStartPosition(V.startLineNumber,V.startColumn).setEndPosition(q.endLineNumber,q.endColumn),U=new s.SnippetParser().parse(r,!0,g),Z=z.getStartPosition(),re=t.adjustWhitespace(T,Z,c||H>0&&F!==T.getLineFirstNonWhitespaceColumn(B.positionLineNumber),U);U.resolveVariables(new i.CompositeSnippetVariableResolver([A,new i.ClipboardBasedVariableResolver(P,H,O.length,d.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(T,B,H,C),new i.CommentBasedVariableResolver(T,B,S),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(N),new i.RandomBasedVariableResolver])),D[H]=L.EditOperation.replace(z,U.toString()),D[H].identifier={major:H,minor:0},D[H]._isTracked=!0,I[H]=new n(d,U,re)}return{edits:D,snippets:I}}static createEditsAndSnippetsFromEdits(d,r,l,o,g,c,b){if(!d.hasModel()||r.length===0)return{edits:[],snippets:[]};const C=[],S=d.getModel(),D=new s.SnippetParser,I=new s.TextmateSnippet,T=new i.CompositeSnippetVariableResolver([d.invokeWithinContext(A=>new i.ModelBasedVariableResolver(A.get(_.ILabelService),S)),new i.ClipboardBasedVariableResolver(()=>g,0,d.getSelections().length,d.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(S,d.getSelection(),0,c),new i.CommentBasedVariableResolver(S,d.getSelection(),b),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(d.invokeWithinContext(A=>A.get(a.IWorkspaceContextService))),new i.RandomBasedVariableResolver]);r=r.sort((A,P)=>y.Range.compareRangesUsingStarts(A.range,P.range));let N=0;for(let A=0;A<r.length;A++){const{range:P,template:M}=r[A];if(A>0){const H=r[A-1].range,V=y.Range.fromPositions(H.getEndPosition(),P.getStartPosition()),q=new s.Text(S.getValueInRange(V));I.appendChild(q),N+=q.value.length}const R=D.parseFragment(M,I);t.adjustWhitespace(S,P.getStartPosition(),!0,I,new Set(R)),I.resolveVariables(T);const F=I.toString(),O=F.slice(N);N=F.length;const B=L.EditOperation.replace(P,O);B.identifier={major:A,minor:0},B._isTracked=!0,C.push(B)}return D.ensureFinalTabstop(I,l,!0),{edits:C,snippets:[new n(d,I,"")]}}constructor(d,r,l=h,o){this._editor=d,this._template=r,this._options=l,this._languageConfigurationService=o,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:d,snippets:r}=typeof this._template=="string"?t.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):t.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=r,this._editor.executeEdits("snippet",d,l=>{const o=l.filter(g=>!!g.identifier);for(let g=0;g<r.length;g++)r[g].initialize(o[g].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):o.map(g=>p.Selection.fromPositions(g.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(d,r=h){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,d]);const{edits:l,snippets:o}=t.createEditsAndSnippetsFromSelections(this._editor,d,r.overwriteBefore,r.overwriteAfter,!0,r.adjustWhitespace,r.clipboardText,r.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",l,g=>{const c=g.filter(C=>!!C.identifier);for(let C=0;C<o.length;C++)o[C].initialize(c[C].textChange);const b=o[0].isTrivialSnippet;if(!b){for(const C of this._snippets)C.merge(o);console.assert(o.length===0)}return this._snippets[0].hasPlaceholder&&!b?this._move(void 0):c.map(C=>p.Selection.fromPositions(C.range.getEndPosition()))})}next(){const d=this._move(!0);this._editor.setSelections(d),this._editor.revealPositionInCenterIfOutsideViewport(d[0].getPosition())}prev(){const d=this._move(!1);this._editor.setSelections(d),this._editor.revealPositionInCenterIfOutsideViewport(d[0].getPosition())}_move(d){const r=[];for(const l of this._snippets){const o=l.move(d);r.push(...o)}return r}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const d=this._editor.getSelections();if(d.length<this._snippets.length)return!1;const r=new Map;for(const l of this._snippets){const o=l.computePossibleSelections();if(r.size===0)for(const[g,c]of o){c.sort(y.Range.compareRangesUsingStarts);for(const b of d)if(c[0].containsRange(b)){r.set(g,[]);break}}if(r.size===0)return!1;r.forEach((g,c)=>{g.push(...o.get(c))})}d.sort(y.Range.compareRangesUsingStarts);for(const[l,o]of r){if(o.length!==d.length){r.delete(l);continue}o.sort(y.Range.compareRangesUsingStarts);for(let g=0;g<o.length;g++)if(!o[g].containsRange(d[g])){r.delete(l);continue}}return r.size>0}};e.SnippetSession=m,e.SnippetSession=m=t=Ie([ue(3,w.ILanguageConfigurationService)],m)}),define(ie[212],ne([1,0,2,21,16,9,20,33,18,149,741,14,61,410]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const n={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let h=t=class{static get(d){return d.getContribution(t.ID)}constructor(d,r,l,o,g){this._editor=d,this._logService=r,this._languageFeaturesService=l,this._languageConfigurationService=g,this._snippetListener=new f.DisposableStore,this._modelVersionId=-1,this._inSnippet=t.InSnippetMode.bindTo(o),this._hasNextTabstop=t.HasNextTabstop.bindTo(o),this._hasPrevTabstop=t.HasPrevTabstop.bindTo(o)}dispose(){var d;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(d=this._session)===null||d===void 0||d.dispose(),this._snippetListener.dispose()}insert(d,r){try{this._doInsert(d,typeof r>"u"?n:{...n,...r})}catch(l){this.cancel(),this._logService.error(l),this._logService.error("snippet_error"),this._logService.error("insert_template=",d),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(d,r){var l;if(this._editor.hasModel()){if(this._snippetListener.clear(),r.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof d!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof d=="string"),this._session.merge(d,r)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,d,r,this._languageConfigurationService),this._session.insert()),r.undoStopAfter&&this._editor.getModel().pushStackElement(),!((l=this._session)===null||l===void 0)&&l.hasChoice){const o={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(D,I)=>{if(!this._session||D!==this._editor.getModel()||!L.Position.equals(this._editor.getPosition(),I))return;const{activeChoice:T}=this._session;if(!T||T.choice.options.length===0)return;const N=D.getValueInRange(T.range),A=!!T.choice.options.find(M=>M.value===N),P=[];for(let M=0;M<T.choice.options.length;M++){const R=T.choice.options[M];P.push({kind:13,label:R.value,insertText:R.value,sortText:"a".repeat(M+1),range:T.range,filterText:A?`${N}_${R.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,_.localize)(3,null)}})}return{suggestions:P}}},g=this._editor.getModel();let c,b=!1;const C=()=>{c?.dispose(),b=!1},S=()=>{b||(c=this._languageFeaturesService.completionProvider.register({language:g.getLanguageId(),pattern:g.uri.fsPath,scheme:g.uri.scheme,exclusive:!0},o),this._snippetListener.add(c),b=!0)};this._choiceCompletions={provider:o,enable:S,disable:C}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(o=>o.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var d;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:r}=this._session;if(!r||!this._choiceCompletions){(d=this._choiceCompletions)===null||d===void 0||d.disable(),this._currentChoice=void 0;return}this._currentChoice!==r.choice&&(this._currentChoice=r.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,v.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(d=!1){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(r=this._session)===null||r===void 0||r.dispose(),this._session=void 0,this._modelVersionId=-1,d&&this._editor.setSelections([this._editor.getSelection()])}prev(){var d;(d=this._session)===null||d===void 0||d.prev(),this._updateState()}next(){var d;(d=this._session)===null||d===void 0||d.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=h,h.ID="snippetController2",h.InSnippetMode=new a.RawContextKey("inSnippetMode",!1,(0,_.localize)(0,null)),h.HasNextTabstop=new a.RawContextKey("hasNextTabstop",!1,(0,_.localize)(1,null)),h.HasPrevTabstop=new a.RawContextKey("hasPrevTabstop",!1,(0,_.localize)(2,null)),e.SnippetController2=h=t=Ie([ue(1,s.ILogService),ue(2,w.ILanguageFeaturesService),ue(3,a.IContextKeyService),ue(4,p.ILanguageConfigurationService)],h),(0,E.registerEditorContribution)(h.ID,h,4);const m=E.EditorCommand.bindToContribution(h.get);(0,E.registerEditorCommand)(new m({id:"jumpToNextSnippetPlaceholder",precondition:a.ContextKeyExpr.and(h.InSnippetMode,h.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.editorTextFocus,primary:2}})),(0,E.registerEditorCommand)(new m({id:"jumpToPrevSnippetPlaceholder",precondition:a.ContextKeyExpr.and(h.InSnippetMode,h.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.editorTextFocus,primary:1026}})),(0,E.registerEditorCommand)(new m({id:"leaveSnippet",precondition:h.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,E.registerEditorCommand)(new m({id:"acceptSnippet",precondition:h.InSnippetMode,handler:u=>u.finish()}))}),define(ie[975],ne([1,0,13,66,12,2,30,11,21,72,9,5,24,29,33,195,835,123,196,212,27,8,234,122]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0,e.getSecondaryEdits=C;var c;(function(I){I[I.Undo=0]="Undo",I[I.Redo=1]="Redo",I[I.AcceptWord=2]="AcceptWord",I[I.Other=3]="Other"})(c||(e.VersionIdChangeReason=c={}));let b=class extends L.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(T,N,A,P,M,R,F,O,B,H,V,q){super(),this.textModel=T,this.selectedSuggestItem=N,this.textModelVersionId=A,this._positions=P,this._debounceValue=M,this._suggestPreviewEnabled=R,this._suggestPreviewMode=F,this._inlineSuggestMode=O,this._enabled=B,this._instantiationService=H,this._commandService=V,this._languageConfigurationService=q,this._source=this._register(this._instantiationService.createInstance(h.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,y.observableValue)(this,!1),this._forceUpdateSignal=(0,y.observableSignal)("forceUpdate"),this._selectedInlineCompletionId=(0,y.observableValue)(this,void 0),this._primaryPosition=(0,y.derived)(this,U=>{var Z;return(Z=this._positions.read(U)[0])!==null&&Z!==void 0?Z:new _.Position(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([c.Redo,c.Undo,c.AcceptWord]),this._fetchInlineCompletions=(0,y.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:i.InlineCompletionTriggerKind.Automatic}),handleChange:(U,Z)=>(U.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(U.change)?Z.preserveCurrentCompletion=!0:U.didChange(this._forceUpdateSignal)&&(Z.inlineCompletionTriggerKind=U.change),!0)},(U,Z)=>{if(this._forceUpdateSignal.read(U),!(this._enabled.read(U)&&this.selectedSuggestItem.read(U)||this._isActive.read(U))){this._source.cancelUpdate();return}this.textModelVersionId.read(U);const x=this.selectedInlineCompletion.get(),Q=Z.preserveCurrentCompletion||x?.forwardStable?x:void 0,X=this._source.suggestWidgetInlineCompletions.get(),Y=this.selectedSuggestItem.read(U);if(X&&!Y){const he=this._source.inlineCompletions.get();(0,y.transaction)(pe=>{(!he||X.request.versionId>he.request.versionId)&&this._source.inlineCompletions.set(X.clone(),pe),this._source.clearSuggestWidgetInlineCompletions(pe)})}const ae=this._primaryPosition.read(U),ce={triggerKind:Z.inlineCompletionTriggerKind,selectedSuggestionInfo:Y?.toSelectedSuggestionInfo()};return this._source.fetch(ae,ce,Q)}),this._filteredInlineCompletionItems=(0,y.derived)(this,U=>{const Z=this._source.inlineCompletions.read(U);if(!Z)return[];const re=this._primaryPosition.read(U);return Z.inlineCompletions.filter(Q=>Q.isVisible(this.textModel,re,U))}),this.selectedInlineCompletionIndex=(0,y.derived)(this,U=>{const Z=this._selectedInlineCompletionId.read(U),re=this._filteredInlineCompletionItems.read(U),x=this._selectedInlineCompletionId===void 0?-1:re.findIndex(Q=>Q.semanticId===Z);return x===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):x}),this.selectedInlineCompletion=(0,y.derived)(this,U=>{const Z=this._filteredInlineCompletionItems.read(U),re=this.selectedInlineCompletionIndex.read(U);return Z[re]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,U=>U?.request.context.triggerKind),this.inlineCompletionsCount=(0,y.derived)(this,U=>{if(this.lastTriggerKind.read(U)===i.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(U).length}),this.state=(0,y.derivedOpts)({owner:this,equalityComparer:(U,Z)=>!U||!Z?U===Z:(0,n.ghostTextsOrReplacementsEqual)(U.ghostTexts,Z.ghostTexts)&&U.inlineCompletion===Z.inlineCompletion&&U.suggestItem===Z.suggestItem},U=>{var Z,re;const x=this.textModel,Q=this.selectedSuggestItem.read(U);if(Q){const X=(0,o.singleTextRemoveCommonPrefix)(Q.toSingleTextEdit(),x),Y=this._computeAugmentation(X,U);if(!this._suggestPreviewEnabled.read(U)&&!Y)return;const ce=(Z=Y?.edit)!==null&&Z!==void 0?Z:X,he=Y?Y.edit.text.length-X.text.length:0,pe=this._suggestPreviewMode.read(U),fe=this._positions.read(U),se=[ce,...C(this.textModel,fe,ce)],te=se.map((W,j)=>(0,o.computeGhostText)(W,x,pe,fe[j],he)).filter(w.isDefined),$=(re=te[0])!==null&&re!==void 0?re:new n.GhostText(ce.range.endLineNumber,[]);return{edits:se,primaryGhostText:$,ghostTexts:te,inlineCompletion:Y?.completion,suggestItem:Q}}else{if(!this._isActive.read(U))return;const X=this.selectedInlineCompletion.read(U);if(!X)return;const Y=X.toSingleTextEdit(U),ae=this._inlineSuggestMode.read(U),ce=this._positions.read(U),he=[Y,...C(this.textModel,ce,Y)],pe=he.map((fe,se)=>(0,o.computeGhostText)(fe,x,ae,ce[se],0)).filter(w.isDefined);return pe[0]?{edits:he,primaryGhostText:pe[0],ghostTexts:pe,inlineCompletion:X,suggestItem:void 0}:void 0}}),this.ghostTexts=(0,y.derivedOpts)({owner:this,equalityComparer:n.ghostTextsOrReplacementsEqual},U=>{const Z=this.state.read(U);if(Z)return Z.ghostTexts}),this.primaryGhostText=(0,y.derivedOpts)({owner:this,equalityComparer:n.ghostTextOrReplacementEquals},U=>{const Z=this.state.read(U);if(Z)return Z?.primaryGhostText}),this._register((0,y.recomputeInitiallyAndOnChange)(this._fetchInlineCompletions));let z;this._register((0,y.autorun)(U=>{var Z,re;const x=this.state.read(U),Q=x?.inlineCompletion;if(Q?.semanticId!==z?.semanticId&&(z=Q,Q)){const X=Q.inlineCompletion,Y=X.source;(re=(Z=Y.provider).handleItemDidShow)===null||re===void 0||re.call(Z,Y.inlineCompletions,X.sourceInlineCompletion,X.insertText)}}))}async trigger(T){this._isActive.set(!0,T),await this._fetchInlineCompletions.get()}async triggerExplicitly(T){(0,y.subtransaction)(T,N=>{this._isActive.set(!0,N),this._forceUpdateSignal.trigger(N,i.InlineCompletionTriggerKind.Explicit)}),await this._fetchInlineCompletions.get()}stop(T){(0,y.subtransaction)(T,N=>{this._isActive.set(!1,N),this._source.clear(N)})}_computeAugmentation(T,N){const A=this.textModel,P=this._source.suggestWidgetInlineCompletions.read(N),M=P?P.inlineCompletions:[this.selectedInlineCompletion.read(N)].filter(w.isDefined);return(0,k.mapFindFirst)(M,F=>{let O=F.toSingleTextEdit(N);return O=(0,o.singleTextRemoveCommonPrefix)(O,A,a.Range.fromPositions(O.range.getStartPosition(),T.range.getEndPosition())),(0,o.singleTextEditAugments)(O,T)?{completion:F,edit:O}:void 0})}async _deltaSelectedInlineCompletionIndex(T){await this.triggerExplicitly();const N=this._filteredInlineCompletionItems.get()||[];if(N.length>0){const A=(this.selectedInlineCompletionIndex.get()+T+N.length)%N.length;this._selectedInlineCompletionId.set(N[A].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(T){var N;if(T.getModel()!==this.textModel)throw new E.BugIndicatingError;const A=this.state.get();if(!A||A.primaryGhostText.isEmpty()||!A.inlineCompletion)return;const P=A.inlineCompletion.toInlineCompletion(void 0);if(T.pushUndoStop(),P.snippetInfo)T.executeEdits("inlineSuggestion.accept",[v.EditOperation.replaceMove(P.range,""),...P.additionalTextEdits]),T.setPosition(P.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(N=d.SnippetController2.get(T))===null||N===void 0||N.insert(P.snippetInfo.snippet,{undoStopBefore:!1});else{const M=A.edits,R=D(M).map(F=>s.Selection.fromPositions(F));T.executeEdits("inlineSuggestion.accept",[...M.map(F=>v.EditOperation.replaceMove(F.range,F.text)),...P.additionalTextEdits]),T.setSelections(R,"inlineCompletionAccept")}P.command&&P.source.addRef(),(0,y.transaction)(M=>{this._source.clear(M),this._isActive.set(!1,M)}),P.command&&(await this._commandService.executeCommand(P.command.id,...P.command.arguments||[]).then(void 0,E.onUnexpectedExternalError),P.source.removeRef())}async acceptNextWord(T){await this._acceptNext(T,(N,A)=>{const P=this.textModel.getLanguageIdAtPosition(N.lineNumber,N.column),M=this._languageConfigurationService.getLanguageConfiguration(P),R=new RegExp(M.wordDefinition.source,M.wordDefinition.flags.replace("g","")),F=A.match(R);let O=0;F&&F.index!==void 0?F.index===0?O=F[0].length:O=F.index:O=A.length;const H=/\s+/g.exec(A);return H&&H.index!==void 0&&H.index+H[0].length<O&&(O=H.index+H[0].length),O},0)}async acceptNextLine(T){await this._acceptNext(T,(N,A)=>{const P=A.match(/\n/);return P&&P.index!==void 0?P.index+1:A.length},1)}async _acceptNext(T,N,A){if(T.getModel()!==this.textModel)throw new E.BugIndicatingError;const P=this.state.get();if(!P||P.primaryGhostText.isEmpty()||!P.inlineCompletion)return;const M=P.primaryGhostText,R=P.inlineCompletion.toInlineCompletion(void 0);if(R.snippetInfo||R.filterText!==R.insertText){await this.accept(T);return}const F=M.parts[0],O=new _.Position(M.lineNumber,F.column),B=F.text,H=N(O,B);if(H===B.length&&M.parts.length===1){this.accept(T);return}const V=B.substring(0,H),q=this._positions.get(),z=q[0];R.source.addRef();try{this._isAcceptingPartially=!0;try{T.pushUndoStop();const U=a.Range.fromPositions(z,O),Z=T.getModel().getValueInRange(U)+V,re=new m.SingleTextEdit(U,Z),x=[re,...C(this.textModel,q,re)],Q=D(x).map(X=>s.Selection.fromPositions(X));T.executeEdits("inlineSuggestion.accept",x.map(X=>v.EditOperation.replaceMove(X.range,X.text))),T.setSelections(Q,"inlineCompletionPartialAccept")}finally{this._isAcceptingPartially=!1}if(R.source.provider.handlePartialAccept){const U=a.Range.fromPositions(R.range.getStartPosition(),g.TextLength.ofText(V).addToPosition(O)),Z=T.getModel().getValueInRange(U,1);R.source.provider.handlePartialAccept(R.source.inlineCompletions,R.sourceInlineCompletion,Z.length,{kind:A})}}finally{R.source.removeRef()}}handleSuggestAccepted(T){var N,A;const P=(0,o.singleTextRemoveCommonPrefix)(T.toSingleTextEdit(),this.textModel),M=this._computeAugmentation(P,void 0);if(!M)return;const R=M.completion.inlineCompletion;(A=(N=R.source.provider).handlePartialAccept)===null||A===void 0||A.call(N,R.source.inlineCompletions,R.sourceInlineCompletion,P.text.length,{kind:2})}};e.InlineCompletionsModel=b,e.InlineCompletionsModel=b=Ie([ue(9,l.IInstantiationService),ue(10,r.ICommandService),ue(11,t.ILanguageConfigurationService)],b);function C(I,T,N){if(T.length===1)return[];const A=T[0],P=T.slice(1),M=N.range.getStartPosition(),R=N.range.getEndPosition(),F=I.getValueInRange(a.Range.fromPositions(A,R)),O=(0,u.subtractPositions)(A,M);if(O.lineNumber<1)return(0,E.onUnexpectedError)(new E.BugIndicatingError(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${A.toString()} and ${M.toString()}`)),[];const B=S(N.text,O);return P.map(H=>{const V=(0,u.addPositions)((0,u.subtractPositions)(H,M),R),q=I.getValueInRange(a.Range.fromPositions(H,V)),z=(0,p.commonPrefixLength)(F,q),U=a.Range.fromPositions(H,H.delta(0,z));return new m.SingleTextEdit(U,B)})}function S(I,T){let N="";const A=(0,p.splitLinesIncludeSeparators)(I);for(let P=T.lineNumber-1;P<A.length;P++)N+=A[P].substring(P===T.lineNumber-1?T.column-1:0);return N}function D(I){const T=f.Permutation.createSortPermutation(I,(M,R)=>a.Range.compareRangesUsingStarts(M.range,R.range)),A=new m.TextEdit(T.apply(I)).getNewRanges();return T.inverse().apply(A).map(M=>M.getEndPosition())}}),define(ie[411],ne([1,0,15,19,12,7,2,11,24,111,329,112,25,14,61,65,328,149,18,76,21,257,212,259]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class b{static shouldAutoTrigger(T){if(!T.hasModel())return!1;const N=T.getModel(),A=T.getPosition();N.tokenization.tokenizeIfCheap(A.lineNumber);const P=N.getWordAtPosition(A);return!(!P||P.endColumn!==A.column&&P.startColumn+1!==A.column||!isNaN(Number(P.word)))}constructor(T,N,A){this.leadingLineContent=T.getLineContent(N.lineNumber).substr(0,N.column-1),this.leadingWord=T.getWordUntilPosition(N),this.lineNumber=N.lineNumber,this.column=N.column,this.triggerOptions=A}}e.LineContext=b;function C(I,T,N){if(!T.getContextKeyValue(l.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const A=T.getContextKeyValue(l.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!I.getOption(62).suppressSuggestions}function S(I,T,N){if(!T.getContextKeyValue("inlineSuggestionVisible"))return!0;const A=T.getContextKeyValue(l.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!I.getOption(62).suppressSuggestions}let D=c=class{constructor(T,N,A,P,M,R,F,O,B){this._editor=T,this._editorWorkerService=N,this._clipboardService=A,this._telemetryService=P,this._logService=M,this._contextKeyService=R,this._configurationService=F,this._languageFeaturesService=O,this._envService=B,this._toDispose=new y.DisposableStore,this._triggerCharacterListener=new y.DisposableStore,this._triggerQuickSuggest=new f.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new y.DisposableStore,this._onDidCancel=new L.Emitter,this._onDidTrigger=new L.Emitter,this._onDidSuggest=new L.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new w.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let H=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{H=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{H=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(V=>{H||this._onCursorChange(V)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!H&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,y.dispose)(this._triggerCharacterListener),(0,y.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;const T=new Map;for(const A of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const P of A.triggerCharacters||[]){let M=T.get(P);M||(M=new Set,M.add((0,m.getSnippetSuggestSupport)()),T.set(P,M)),M.add(A)}const N=A=>{var P;if(!S(this._editor,this._contextKeyService,this._configurationService)||b.shouldAutoTrigger(this._editor))return;if(!A){const F=this._editor.getPosition();A=this._editor.getModel().getLineContent(F.lineNumber).substr(0,F.column-1)}let M="";(0,p.isLowSurrogate)(A.charCodeAt(A.length-1))?(0,p.isHighSurrogate)(A.charCodeAt(A.length-2))&&(M=A.substr(A.length-2)):M=A.charAt(A.length-1);const R=T.get(M);if(R){const F=new Map;if(this._completionModel)for(const[O,B]of this._completionModel.getItemsByProvider())R.has(O)||F.set(O,B);this.trigger({auto:!0,triggerKind:1,triggerCharacter:M,retrigger:!!this._completionModel,clipboardText:(P=this._completionModel)===null||P===void 0?void 0:P.clipboardText,completionOptions:{providerFilter:R,providerItemsToReuse:F}})}};this._triggerCharacterListener.add(this._editor.onDidType(N)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>N()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(T=!1){var N;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(N=this._requestToken)===null||N===void 0||N.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:T}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(T){if(!this._editor.hasModel())return;const N=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!T.selection.isEmpty()||T.reason!==0&&T.reason!==3||T.source!=="keyboard"&&T.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&T.reason===0?(N.containsRange(this._currentSelection)||N.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&T.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var T;m.QuickSuggestionsOptions.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&(!((T=o.SnippetController2.get(this._editor))===null||T===void 0)&&T.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!b.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const N=this._editor.getModel(),A=this._editor.getPosition(),P=this._editor.getOption(89);if(!m.QuickSuggestionsOptions.isAllOff(P)){if(!m.QuickSuggestionsOptions.isAllOn(P)){N.tokenization.tokenizeIfCheap(A.lineNumber);const M=N.tokenization.getLineTokens(A.lineNumber),R=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(A.column-1-1,0)));if(m.QuickSuggestionsOptions.valueFor(P,R)!=="on")return}C(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(N)&&this.trigger({auto:!0})}},this._editor.getOption(90)))}_refilterCompletionItems(){(0,r.assertType)(this._editor.hasModel()),(0,r.assertType)(this._triggerState!==void 0);const T=this._editor.getModel(),N=this._editor.getPosition(),A=new b(T,N,{...this._triggerState,refilter:!0});this._onNewContext(A)}trigger(T){var N,A,P,M,R,F;if(!this._editor.hasModel())return;const O=this._editor.getModel(),B=new b(O,this._editor.getPosition(),T);this.cancel(T.retrigger),this._triggerState=T,this._onDidTrigger.fire({auto:T.auto,shy:(N=T.shy)!==null&&N!==void 0?N:!1,position:this._editor.getPosition()}),this._context=B;let H={triggerKind:(A=T.triggerKind)!==null&&A!==void 0?A:0};T.triggerCharacter&&(H={triggerKind:1,triggerCharacter:T.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const V=this._editor.getOption(112);let q=1;switch(V){case"top":q=0;break;case"bottom":q=2;break}const{itemKind:z,showDeprecated:U}=c.createSuggestFilter(this._editor),Z=new m.CompletionOptions(q,(M=(P=T.completionOptions)===null||P===void 0?void 0:P.kindFilter)!==null&&M!==void 0?M:z,(R=T.completionOptions)===null||R===void 0?void 0:R.providerFilter,(F=T.completionOptions)===null||F===void 0?void 0:F.providerItemsToReuse,U),re=_.WordDistance.create(this._editorWorkerService,this._editor),x=(0,m.provideSuggestionItems)(this._languageFeaturesService.completionProvider,O,this._editor.getPosition(),Z,H,this._requestToken.token);Promise.all([x,re]).then(async([Q,X])=>{var Y;if((Y=this._requestToken)===null||Y===void 0||Y.dispose(),!this._editor.hasModel())return;let ae=T?.clipboardText;if(!ae&&Q.needsClipboard&&(ae=await this._clipboardService.readText()),this._triggerState===void 0)return;const ce=this._editor.getModel(),he=new b(ce,this._editor.getPosition(),T),pe={...d.FuzzyScoreOptions.default,firstMatchCanBeWeak:!this._editor.getOption(118).matchOnWordStartOnly};if(this._completionModel=new h.CompletionModel(Q.items,this._context.column,{leadingLineContent:he.leadingLineContent,characterCountDelta:he.column-this._context.column},X,this._editor.getOption(118),this._editor.getOption(112),pe,ae),this._completionDisposables.add(Q.disposable),this._onNewContext(he),this._reportDurationsTelemetry(Q.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const fe of Q.items)fe.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${fe.provider._debugDisplayName}`,fe.completion)}).catch(E.onUnexpectedError)}_reportDurationsTelemetry(T){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(T)}),this._logService.debug("suggest.durations.json",T)})}static createSuggestFilter(T){const N=new Set;T.getOption(112)==="none"&&N.add(27);const P=T.getOption(118);return P.showMethods||N.add(0),P.showFunctions||N.add(1),P.showConstructors||N.add(2),P.showFields||N.add(3),P.showVariables||N.add(4),P.showClasses||N.add(5),P.showStructs||N.add(6),P.showInterfaces||N.add(7),P.showModules||N.add(8),P.showProperties||N.add(9),P.showEvents||N.add(10),P.showOperators||N.add(11),P.showUnits||N.add(12),P.showValues||N.add(13),P.showConstants||N.add(14),P.showEnums||N.add(15),P.showEnumMembers||N.add(16),P.showKeywords||N.add(17),P.showWords||N.add(18),P.showColors||N.add(19),P.showFiles||N.add(20),P.showReferences||N.add(21),P.showColors||N.add(22),P.showFolders||N.add(23),P.showTypeParameters||N.add(24),P.showSnippets||N.add(27),P.showUsers||N.add(25),P.showIssues||N.add(26),{itemKind:N,showDeprecated:P.showDeprecated}}_onNewContext(T){if(this._context){if(T.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,p.getLeadingWhitespace)(T.leadingLineContent)!==(0,p.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(T.column<this._context.column){T.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(T.leadingWord.word.length!==0&&T.leadingWord.startColumn>this._context.leadingWord.startColumn){if(b.shouldAutoTrigger(this._editor)&&this._context){const A=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:A}})}return}if(T.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&T.leadingWord.word.length!==0){const N=new Map,A=new Set;for(const[P,M]of this._completionModel.getItemsByProvider())M.length>0&&M[0].container.incomplete?A.add(P):N.set(P,M);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:A,providerItemsToReuse:N}})}else{const N=this._completionModel.lineContext;let A=!1;if(this._completionModel.lineContext={leadingLineContent:T.leadingLineContent,characterCountDelta:T.column-this._context.column},this._completionModel.items.length===0){const P=b.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(P&&this._context.leadingWord.endColumn<T.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=N,A=this._completionModel.items.length>0,A&&T.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:T.triggerOptions,isFrozen:A})}}}}};e.SuggestModel=D,e.SuggestModel=D=c=Ie([ue(1,v.IEditorWorkerService),ue(2,a.IClipboardService),ue(3,n.ITelemetryService),ue(4,t.ILogService),ue(5,i.IContextKeyService),ue(6,s.IConfigurationService),ue(7,u.ILanguageFeaturesService),ue(8,g.IEnvironmentService)],D)}),define(ie[412],ne([1,0,45,13,19,12,7,133,2,17,63,21,137,16,72,9,5,20,212,128,377,807,745,27,14,8,61,149,806,590,411,591,956,65,50,121,6,37]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T,N,A,P,M,R,F,O){"use strict";var B;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const H=!1;class V{constructor(Q,X){if(this._model=Q,this._position=X,this._decorationOptions=O.ModelDecorationOptions.register({description:"suggest-line-suffix",stickiness:1}),Q.getLineMaxColumn(X.lineNumber)!==X.column){const ae=Q.getOffsetAt(X),ce=Q.getPositionAt(ae+1);Q.changeDecorations(he=>{this._marker&&he.removeDecoration(this._marker),this._marker=he.addDecoration(h.Range.fromPositions(X,ce),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(Q=>{Q.removeDecoration(this._marker),this._marker=void 0})}delta(Q){if(this._model.isDisposed()||this._position.lineNumber!==Q.lineNumber)return 0;if(this._marker){const X=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(X.getStartPosition())-this._model.getOffsetAt(Q)}else return this._model.getLineMaxColumn(Q.lineNumber)-Q.column}}let q=B=class{static get(Q){return Q.getContribution(B.ID)}constructor(Q,X,Y,ae,ce,he,pe){this._memoryService=X,this._commandService=Y,this._contextKeyService=ae,this._instantiationService=ce,this._logService=he,this._telemetryService=pe,this._lineSuffix=new w.MutableDisposable,this._toDispose=new w.DisposableStore,this._selectors=new z($=>$.priority),this._onWillInsertSuggestItem=new y.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=Q,this.model=ce.createInstance(T.SuggestModel,this.editor),this._selectors.register({priority:0,select:($,W,j)=>this._memoryService.select($,W,j)});const fe=S.Context.InsertMode.bindTo(ae);fe.set(Q.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>fe.set(Q.getOption(118).insertMode))),this.widget=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(Q.getDomNode()),()=>{const $=this._instantiationService.createInstance(A.SuggestWidget,this.editor);this._toDispose.add($),this._toDispose.add($.onDidSelect(ee=>this._insertSuggestion(ee,0),this));const W=new I.CommitCharacterController(this.editor,$,this.model,ee=>this._insertSuggestion(ee,2));this._toDispose.add(W);const j=S.Context.MakesTextEdit.bindTo(this._contextKeyService),K=S.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),G=S.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,w.toDisposable)(()=>{j.reset(),K.reset(),G.reset()})),this._toDispose.add($.onDidFocus(({item:ee})=>{const oe=this.editor.getPosition(),de=ee.editStart.column,le=oe.column;let ge=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ee.completion.additionalTextEdits&&!(ee.completion.insertTextRules&4)&&le-de===ee.completion.insertText.length&&(ge=this.editor.getModel().getValueInRange({startLineNumber:oe.lineNumber,startColumn:de,endLineNumber:oe.lineNumber,endColumn:le})!==ee.completion.insertText),j.set(ge),K.set(!n.Position.equals(ee.editInsertEnd,ee.editReplaceEnd)),G.set(!!ee.provider.resolveCompletionItem||!!ee.completion.documentation||ee.completion.detail!==ee.completion.label)})),this._toDispose.add($.onDetailsKeyDown(ee=>{if(ee.toKeyCodeChord().equals(new p.KeyCodeChord(!0,!1,!1,!1,33))||v.isMacintosh&&ee.toKeyCodeChord().equals(new p.KeyCodeChord(!1,!1,!1,!0,33))){ee.stopPropagation();return}ee.toKeyCodeChord().isModifierKey()||this.editor.focus()})),$})),this._overtypingCapturer=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(Q.getDomNode()),()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(Q.getDomNode()),()=>this._toDispose.add(new D.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(ce.createInstance(l.WordContextKey,Q)),this._toDispose.add(this.model.onDidTrigger($=>{this.widget.value.showTriggered($.auto,$.shy?250:50),this._lineSuffix.value=new V(this.editor.getModel(),$.position)})),this._toDispose.add(this.model.onDidSuggest($=>{if($.triggerOptions.shy)return;let W=-1;for(const K of this._selectors.itemsOrderedByPriorityDesc)if(W=K.select(this.editor.getModel(),this.editor.getPosition(),$.completionModel.items),W!==-1)break;if(W===-1&&(W=0),this.model.state===0)return;let j=!1;if($.triggerOptions.auto){const K=this.editor.getOption(118);K.selectionMode==="never"||K.selectionMode==="always"?j=K.selectionMode==="never":K.selectionMode==="whenTriggerCharacter"?j=$.triggerOptions.triggerKind!==1:K.selectionMode==="whenQuickSuggestion"&&(j=$.triggerOptions.triggerKind===1&&!$.triggerOptions.refilter)}this.widget.value.showSuggestions($.completionModel,W,$.isFrozen,$.triggerOptions.auto,j)})),this._toDispose.add(this.model.onDidCancel($=>{$.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{H||(this.model.cancel(),this.model.clear())}));const se=S.Context.AcceptSuggestionsOnEnter.bindTo(ae),te=()=>{const $=this.editor.getOption(1);se.set($==="on"||$==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>te())),te()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(Q,X){if(!Q||!Q.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Y=u.SnippetController2.get(this.editor);if(!Y)return;this._onWillInsertSuggestItem.fire({item:Q.item});const ae=this.editor.getModel(),ce=ae.getAlternativeVersionId(),{item:he}=Q,pe=[],fe=new E.CancellationTokenSource;X&1||this.editor.pushUndoStop();const se=this.getOverwriteInfo(he,!!(X&8));this._memoryService.memorize(ae,this.editor.getPosition(),he);const te=he.isResolved;let $=-1,W=-1;if(Array.isArray(he.completion.additionalTextEdits)){this.model.cancel();const K=s.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",he.completion.additionalTextEdits.map(G=>{let ee=h.Range.lift(G.range);if(ee.startLineNumber===he.position.lineNumber&&ee.startColumn>he.position.column){const oe=this.editor.getPosition().column-he.position.column,de=oe,le=h.Range.spansMultipleLines(ee)?0:oe;ee=new h.Range(ee.startLineNumber,ee.startColumn+de,ee.endLineNumber,ee.endColumn+le)}return t.EditOperation.replaceMove(ee,G.text)})),K.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!te){const K=new _.StopWatch;let G;const ee=ae.onDidChangeContent(ge=>{if(ge.isFlush){fe.cancel(),ee.dispose();return}for(const ve of ge.changes){const Ce=h.Range.getEndPosition(ve.range);(!G||n.Position.isBefore(Ce,G))&&(G=Ce)}}),oe=X;X|=2;let de=!1;const le=this.editor.onWillType(()=>{le.dispose(),de=!0,oe&2||this.editor.pushUndoStop()});pe.push(he.resolve(fe.token).then(()=>{if(!he.completion.additionalTextEdits||fe.token.isCancellationRequested)return;if(G&&he.completion.additionalTextEdits.some(ve=>n.Position.isBefore(G,h.Range.getStartPosition(ve.range))))return!1;de&&this.editor.pushUndoStop();const ge=s.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",he.completion.additionalTextEdits.map(ve=>t.EditOperation.replaceMove(h.Range.lift(ve.range),ve.text))),ge.restoreRelativeVerticalPositionOfCursor(this.editor),(de||!(oe&2))&&this.editor.pushUndoStop(),!0}).then(ge=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",K.elapsed(),ge),W=ge===!0?1:ge===!1?0:-2}).finally(()=>{ee.dispose(),le.dispose()}))}let{insertText:j}=he.completion;if(he.completion.insertTextRules&4||(j=d.SnippetParser.escape(j)),this.model.cancel(),Y.insert(j,{overwriteBefore:se.overwriteBefore,overwriteAfter:se.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(he.completion.insertTextRules&1),clipboardText:Q.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),X&2||this.editor.pushUndoStop(),he.completion.command)if(he.completion.command.id===U.id)this.model.trigger({auto:!0,retrigger:!0});else{const K=new _.StopWatch;pe.push(this._commandService.executeCommand(he.completion.command.id,...he.completion.command.arguments?[...he.completion.command.arguments]:[]).catch(G=>{he.completion.extensionId?(0,L.onUnexpectedExternalError)(G):(0,L.onUnexpectedError)(G)}).finally(()=>{$=K.elapsed()}))}X&4&&this._alternatives.value.set(Q,K=>{for(fe.cancel();ae.canUndo();){ce!==ae.getAlternativeVersionId()&&ae.undo(),this._insertSuggestion(K,3|(X&8?8:0));break}}),this._alertCompletionItem(he),Promise.all(pe).finally(()=>{this._reportSuggestionAcceptedTelemetry(he,ae,te,$,W),this.model.clear(),fe.dispose()})}_reportSuggestionAcceptedTelemetry(Q,X,Y,ae,ce){var he,pe,fe;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(pe=(he=Q.extensionId)===null||he===void 0?void 0:he.value)!==null&&pe!==void 0?pe:"unknown",providerId:(fe=Q.provider._debugDisplayName)!==null&&fe!==void 0?fe:"unknown",kind:Q.completion.kind,basenameHash:(0,R.hash)((0,M.basename)(X.uri)).toString(16),languageId:X.getLanguageId(),fileExtension:(0,M.extname)(X.uri),resolveInfo:Q.provider.resolveCompletionItem?Y?1:0:-1,resolveDuration:Q.resolveDuration,commandDuration:ae,additionalEditsAsync:ce})}getOverwriteInfo(Q,X){(0,a.assertType)(this.editor.hasModel());let Y=this.editor.getOption(118).insertMode==="replace";X&&(Y=!Y);const ae=Q.position.column-Q.editStart.column,ce=(Y?Q.editReplaceEnd.column:Q.editInsertEnd.column)-Q.position.column,he=this.editor.getPosition().column-Q.position.column,pe=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:ae+he,overwriteAfter:ce+pe}}_alertCompletionItem(Q){if((0,k.isNonEmptyArray)(Q.completion.additionalTextEdits)){const X=o.localize(0,null,Q.textLabel,Q.completion.additionalTextEdits.length);(0,f.alert)(X)}}triggerSuggest(Q,X,Y){this.editor.hasModel()&&(this.model.trigger({auto:X??!1,completionOptions:{providerFilter:Q,kindFilter:Y?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Q){if(!this.editor.hasModel())return;const X=this.editor.getPosition(),Y=()=>{X.equals(this.editor.getPosition())&&this._commandService.executeCommand(Q.fallback)},ae=ce=>{if(ce.completion.insertTextRules&4||ce.completion.additionalTextEdits)return!0;const he=this.editor.getPosition(),pe=ce.editStart.column,fe=he.column;return fe-pe!==ce.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:he.lineNumber,startColumn:pe,endLineNumber:he.lineNumber,endColumn:fe})!==ce.completion.insertText};y.Event.once(this.model.onDidTrigger)(ce=>{const he=[];y.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,w.dispose)(he),Y()},void 0,he),this.model.onDidSuggest(({completionModel:pe})=>{if((0,w.dispose)(he),pe.items.length===0){Y();return}const fe=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),pe.items),se=pe.items[fe];if(!ae(se)){Y();return}this.editor.pushUndoStop(),this._insertSuggestion({index:fe,item:se,model:pe},7)},void 0,he)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(X,0),this.editor.focus()}acceptSelectedSuggestion(Q,X){const Y=this.widget.value.getFocusedItem();let ae=0;Q&&(ae|=4),X&&(ae|=8),this._insertSuggestion(Y,ae)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(Q){return this._selectors.register(Q)}};e.SuggestController=q,q.ID="editor.contrib.suggestController",e.SuggestController=q=B=Ie([ue(1,r.ISuggestMemoryService),ue(2,g.ICommandService),ue(3,c.IContextKeyService),ue(4,b.IInstantiationService),ue(5,C.ILogService),ue(6,P.ITelemetryService)],q);class z{constructor(Q){this.prioritySelector=Q,this._items=new Array}register(Q){if(this._items.indexOf(Q)!==-1)throw new Error("Value is already registered");return this._items.push(Q),this._items.sort((X,Y)=>this.prioritySelector(Y)-this.prioritySelector(X)),{dispose:()=>{const X=this._items.indexOf(Q);X>=0&&this._items.splice(X,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class U extends i.EditorAction{constructor(){super({id:U.id,label:o.localize(1,null),alias:"Trigger Suggest",precondition:c.ContextKeyExpr.and(m.EditorContextKeys.writable,m.EditorContextKeys.hasCompletionItemProvider,S.Context.Visible.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Q,X,Y){const ae=q.get(X);if(!ae)return;let ce;Y&&typeof Y=="object"&&Y.auto===!0&&(ce=!0),ae.triggerSuggest(void 0,ce,void 0)}}e.TriggerSuggestAction=U,U.id="editor.action.triggerSuggest",(0,i.registerEditorContribution)(q.ID,q,2),(0,i.registerEditorAction)(U);const Z=190,re=i.EditorCommand.bindToContribution(q.get);(0,i.registerEditorCommand)(new re({id:"acceptSelectedSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion),handler(x){x.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:c.ContextKeyExpr.and(S.Context.Visible,m.EditorContextKeys.textInputFocus),weight:Z},{primary:3,kbExpr:c.ContextKeyExpr.and(S.Context.Visible,m.EditorContextKeys.textInputFocus,S.Context.AcceptSuggestionsOnEnter,S.Context.MakesTextEdit),weight:Z}],menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,title:o.localize(2,null),group:"left",order:1,when:S.Context.HasInsertAndReplaceRange.toNegated()},{menuId:S.suggestWidgetStatusbarMenu,title:o.localize(3,null),group:"left",order:1,when:c.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("insert"))},{menuId:S.suggestWidgetStatusbarMenu,title:o.localize(4,null),group:"left",order:1,when:c.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("replace"))}]})),(0,i.registerEditorCommand)(new re({id:"acceptAlternativeSelectedSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,m.EditorContextKeys.textInputFocus,S.Context.HasFocusedSuggestion),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(x){x.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,group:"left",order:2,when:c.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("insert")),title:o.localize(5,null)},{menuId:S.suggestWidgetStatusbarMenu,group:"left",order:2,when:c.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("replace")),title:o.localize(6,null)}]})),g.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,i.registerEditorCommand)(new re({id:"hideSuggestWidget",precondition:S.Context.Visible,handler:x=>x.cancelSuggestWidget(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,i.registerEditorCommand)(new re({id:"selectNextSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:x=>x.selectNextSuggestion(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,i.registerEditorCommand)(new re({id:"selectNextPageSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:x=>x.selectNextPageSuggestion(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,i.registerEditorCommand)(new re({id:"selectLastSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:x=>x.selectLastSuggestion()})),(0,i.registerEditorCommand)(new re({id:"selectPrevSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:x=>x.selectPrevSuggestion(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,i.registerEditorCommand)(new re({id:"selectPrevPageSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:x=>x.selectPrevPageSuggestion(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,i.registerEditorCommand)(new re({id:"selectFirstSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:x=>x.selectFirstSuggestion()})),(0,i.registerEditorCommand)(new re({id:"focusSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion.negate()),handler:x=>x.focusSuggestion(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,i.registerEditorCommand)(new re({id:"focusAndAcceptSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion.negate()),handler:x=>{x.focusSuggestion(),x.acceptSelectedSuggestion(!0,!1)}})),(0,i.registerEditorCommand)(new re({id:"toggleSuggestionDetails",precondition:c.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion),handler:x=>x.toggleSuggestionDetails(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,group:"right",order:1,when:c.ContextKeyExpr.and(S.Context.DetailsVisible,S.Context.CanResolve),title:o.localize(7,null)},{menuId:S.suggestWidgetStatusbarMenu,group:"right",order:1,when:c.ContextKeyExpr.and(S.Context.DetailsVisible.toNegated(),S.Context.CanResolve),title:o.localize(8,null)}]})),(0,i.registerEditorCommand)(new re({id:"toggleExplainMode",precondition:S.Context.Visible,handler:x=>x.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,i.registerEditorCommand)(new re({id:"toggleSuggestionFocus",precondition:S.Context.Visible,handler:x=>x.toggleSuggestionFocus(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,i.registerEditorCommand)(new re({id:"insertBestCompletion",precondition:c.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,c.ContextKeyExpr.equals("config.editor.tabCompletion","on"),l.WordContextKey.AtEnd,S.Context.Visible.toNegated(),D.SuggestAlternatives.OtherSuggestions.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:(x,Q)=>{x.triggerSuggestAndAcceptBest((0,a.isObject)(Q)?{fallback:"tab",...Q}:{fallback:"tab"})},kbOpts:{weight:Z,primary:2}})),(0,i.registerEditorCommand)(new re({id:"insertNextSuggestion",precondition:c.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,c.ContextKeyExpr.equals("config.editor.tabCompletion","on"),D.SuggestAlternatives.OtherSuggestions,S.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:x=>x.acceptNextSuggestion(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:2}})),(0,i.registerEditorCommand)(new re({id:"insertPrevSuggestion",precondition:c.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,c.ContextKeyExpr.equals("config.editor.tabCompletion","on"),D.SuggestAlternatives.OtherSuggestions,S.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:x=>x.acceptPrevSuggestion(),kbOpts:{weight:Z,kbExpr:m.EditorContextKeys.textInputFocus,primary:1026}})),(0,i.registerEditorAction)(class extends i.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:o.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(x,Q){var X;(X=q.get(Q))===null||X===void 0||X.resetWidgetSize()}})}),define(ie[976],ne([1,0,7,2,9,5,29,128,410,412,30,123,13,66,234]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class n extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(d,r,l,o){super(),this.editor=d,this.suggestControllerPreselector=r,this.checkModelVersion=l,this.onWillAccept=o,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,_.observableValue)(this,void 0),this._register(d.onKeyDown(c=>{c.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(d.onKeyUp(c=>{c.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const g=v.SuggestController.get(this.editor);if(g){this._register(g.registerSelector({priority:100,select:(C,S,D)=>{(0,_.transaction)(R=>this.checkModelVersion(R));const I=this.editor.getModel();if(!I)return-1;const T=this.suggestControllerPreselector(),N=T?(0,t.singleTextRemoveCommonPrefix)(T,I):void 0;if(!N)return-1;const A=E.Position.lift(S),P=D.map((R,F)=>{const O=h.fromSuggestion(g,I,A,R,this.isShiftKeyPressed),B=(0,t.singleTextRemoveCommonPrefix)(O.toSingleTextEdit(),I),H=(0,t.singleTextEditAugments)(N,B);return{index:F,valid:H,prefixLength:B.text.length,suggestItem:R}}).filter(R=>R&&R.valid&&R.prefixLength>0),M=(0,i.findFirstMaxBy)(P,(0,s.compareBy)(R=>R.prefixLength,s.numberComparator));return M?M.index:-1}}));let c=!1;const b=()=>{c||(c=!0,this._register(g.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(g.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(g.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(f.Event.once(g.model.onDidTrigger)(C=>{b()})),this._register(g.onWillInsertSuggestItem(C=>{const S=this.editor.getPosition(),D=this.editor.getModel();if(!S||!D)return;const I=h.fromSuggestion(g,D,S,C.item,this.isShiftKeyPressed);this.onWillAccept(I)}))}this.update(this._isActive)}update(d){const r=this.getSuggestItemInfo();(this._isActive!==d||!m(this._currentSuggestItemInfo,r))&&(this._isActive=d,this._currentSuggestItemInfo=r,(0,_.transaction)(l=>{this.checkModelVersion(l),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,l)}))}getSuggestItemInfo(){const d=v.SuggestController.get(this.editor);if(!d||!this.isSuggestWidgetVisible)return;const r=d.widget.value.getFocusedItem(),l=this.editor.getPosition(),o=this.editor.getModel();if(!(!r||!l||!o))return h.fromSuggestion(d,o,l,r.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const d=v.SuggestController.get(this.editor);d?.stopForceRenderingAbove()}forceRenderingAbove(){const d=v.SuggestController.get(this.editor);d?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=n;class h{static fromSuggestion(d,r,l,o,g){let{insertText:c}=o.completion,b=!1;if(o.completion.insertTextRules&4){const S=new p.SnippetParser().parse(c);S.children.length<100&&w.SnippetSession.adjustWhitespace(r,l,!0,S),c=S.toString(),b=!0}const C=d.getOverwriteInfo(o,g);return new h(L.Range.fromPositions(l.delta(0,-C.overwriteBefore),l.delta(0,Math.max(C.overwriteAfter,0))),c,o.completion.kind,b)}constructor(d,r,l,o){this.range=d,this.insertText=r,this.completionItemKind=l,this.isSnippetText=o}equals(d){return this.range.equalsRange(d.range)&&this.insertText===d.insertText&&this.completionItemKind===d.completionItemKind&&this.isSnippetText===d.isSnippetText}toSelectedSuggestionInfo(){return new y.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new a.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=h;function m(u,d){return u===d?!0:!u||!d?!1:u.equals(d)}}),define(ie[281],ne([1,0,6,45,2,30,205,9,83,18,233,360,257,273,975,976,724,130,27,25,14,8,35,287]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let b=c=class extends E.Disposable{static get(D){return D.getContribution(c.ID)}constructor(D,I,T,N,A,P,M,R,F){super(),this.editor=D,this._instantiationService=I,this._contextKeyService=T,this._configurationService=N,this._commandService=A,this._debounceService=P,this._languageFeaturesService=M,this._accessibilitySignalService=R,this._keybindingService=F,this.model=this._register((0,L.disposableObservableValue)("inlineCompletionModel",void 0)),this._textModelVersionId=(0,L.observableValue)(this,-1),this._positions=(0,L.observableValue)(this,[new p.Position(1,1)]),this._suggestWidgetAdaptor=this._register(new n.SuggestWidgetAdaptor(this.editor,()=>{var V,q;return(q=(V=this.model.get())===null||V===void 0?void 0:V.selectedInlineCompletion.get())===null||q===void 0?void 0:q.toSingleTextEdit(void 0)},V=>this.updateObservables(V,t.VersionIdChangeReason.Other),V=>{(0,L.transaction)(q=>{var z;this.updateObservables(q,t.VersionIdChangeReason.Other),(z=this.model.get())===null||z===void 0||z.handleSuggestAccepted(V)})})),this._enabled=(0,L.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._fontFamily=(0,L.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTexts=(0,L.derived)(this,V=>{var q;const z=this.model.read(V);return(q=z?.ghostTexts.read(V))!==null&&q!==void 0?q:[]}),this._stablizedGhostTexts=C(this._ghostTexts,this._store),this._ghostTextWidgets=(0,g.mapObservableArrayCached)(this,this._stablizedGhostTexts,(V,q)=>q.add(this._instantiationService.createInstance(a.GhostTextWidget,this.editor,{ghostText:V,minReservedLineCount:(0,L.constObservable)(0),targetTextModel:this.model.map(z=>z?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAccessibilitySignal=(0,L.observableSignal)(this),this._isReadonly=(0,L.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(91)),this._textModel=(0,L.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,L.derived)(V=>this._isReadonly.read(V)?void 0:this._textModel.read(V)),this._register(new s.InlineCompletionContextKeys(this._contextKeyService,this.model)),this._register((0,L.autorun)(V=>{const q=this._textModelIfWritable.read(V);(0,L.transaction)(z=>{if(this.model.set(void 0,z),this.updateObservables(z,t.VersionIdChangeReason.Other),q){const U=I.createInstance(t.InlineCompletionsModel,q,this._suggestWidgetAdaptor.selectedItem,this._textModelVersionId,this._positions,this._debounceValue,(0,L.observableFromEvent)(D.onDidChangeConfiguration,()=>D.getOption(118).preview),(0,L.observableFromEvent)(D.onDidChangeConfiguration,()=>D.getOption(118).previewMode),(0,L.observableFromEvent)(D.onDidChangeConfiguration,()=>D.getOption(62).mode),this._enabled);this.model.set(U,z)}})}));const O=this._register((0,f.createStyleSheet2)());this._register((0,L.autorun)(V=>{const q=this._fontFamily.read(V);O.setStyle(q===""||q==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${q};
}`)}));const B=V=>{var q;return V.isUndoing?t.VersionIdChangeReason.Undo:V.isRedoing?t.VersionIdChangeReason.Redo:!((q=this.model.get())===null||q===void 0)&&q.isAcceptingPartially?t.VersionIdChangeReason.AcceptWord:t.VersionIdChangeReason.Other};this._register(D.onDidChangeModelContent(V=>(0,L.transaction)(q=>this.updateObservables(q,B(V))))),this._register(D.onDidChangeCursorPosition(V=>(0,L.transaction)(q=>{var z;this.updateObservables(q,t.VersionIdChangeReason.Other),(V.reason===3||V.source==="api")&&((z=this.model.get())===null||z===void 0||z.stop(q))}))),this._register(D.onDidType(()=>(0,L.transaction)(V=>{var q;this.updateObservables(V,t.VersionIdChangeReason.Other),this._enabled.get()&&((q=this.model.get())===null||q===void 0||q.trigger(V))}))),this._register(this._commandService.onDidExecuteCommand(V=>{new Set([y.CoreEditingCommands.Tab.id,y.CoreEditingCommands.DeleteLeft.id,y.CoreEditingCommands.DeleteRight.id,_.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(V.commandId)&&D.hasTextFocus()&&this._enabled.get()&&(0,L.transaction)(z=>{var U;(U=this.model.get())===null||U===void 0||U.trigger(z)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||D.getOption(62).keepOnBlur||i.InlineSuggestionHintsContentWidget.dropDownVisible||(0,L.transaction)(V=>{var q;(q=this.model.get())===null||q===void 0||q.stop(V)})})),this._register((0,L.autorun)(V=>{var q;const z=(q=this.model.read(V))===null||q===void 0?void 0:q.state.read(V);z?.suggestItem?z.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,E.toDisposable)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let H;this._register((0,L.autorunHandleChanges)({handleChange:(V,q)=>(V.didChange(this._playAccessibilitySignal)&&(H=void 0),!0)},async V=>{this._playAccessibilitySignal.read(V);const q=this.model.read(V),z=q?.state.read(V);if(!q||!z||!z.inlineCompletion){H=void 0;return}if(z.inlineCompletion.semanticId!==H){H=z.inlineCompletion.semanticId;const U=q.textModel.getLineContent(z.primaryGhostText.lineNumber);this._accessibilitySignalService.playSignal(m.AccessibilitySignal.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(z.primaryGhostText.renderForScreenReader(U))})}})),this._register(new i.InlineCompletionsHintsWidget(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(V=>{V.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(D){this._playAccessibilitySignal.trigger(D)}provideScreenReaderUpdate(D){const I=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),T=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let N;!I&&T&&this.editor.getOption(149)&&(N=(0,h.localize)(0,null,T.getAriaLabel())),N?(0,k.alert)(D+", "+N):(0,k.alert)(D)}updateObservables(D,I){var T,N,A;const P=this.editor.getModel();this._textModelVersionId.set((T=P?.getVersionId())!==null&&T!==void 0?T:-1,D,I),this._positions.set((A=(N=this.editor.getSelections())===null||N===void 0?void 0:N.map(M=>M.getPosition()))!==null&&A!==void 0?A:[new p.Position(1,1)],D)}shouldShowHoverAt(D){var I;const T=(I=this.model.get())===null||I===void 0?void 0:I.primaryGhostText.get();return T?T.parts.some(N=>D.containsPosition(new p.Position(T.lineNumber,N.column))):!1}shouldShowHoverAtViewZone(D){var I,T;return(T=(I=this._ghostTextWidgets.get()[0])===null||I===void 0?void 0:I.ownsViewZone(D))!==null&&T!==void 0?T:!1}};e.InlineCompletionsController=b,b.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=b=c=Ie([ue(1,l.IInstantiationService),ue(2,r.IContextKeyService),ue(3,d.IConfigurationService),ue(4,u.ICommandService),ue(5,w.ILanguageFeatureDebounceService),ue(6,v.ILanguageFeaturesService),ue(7,m.IAccessibilitySignalService),ue(8,o.IKeybindingService)],b);function C(S,D){const I=(0,L.observableValue)("result",[]),T=[];return D.add((0,L.autorun)(N=>{const A=S.read(N);(0,L.transaction)(P=>{if(A.length!==T.length){T.length=A.length;for(let M=0;M<T.length;M++)T[M]||(T[M]=(0,L.observableValue)("item",A[M]));I.set([...T],P)}T.forEach((M,R)=>M.set(A[R],P))})})),I}}),define(ie[977],ne([1,0,30,135,16,20,233,257,281,149,721,28,25,14]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class t extends E.EditorAction{constructor(){super({id:t.ID,label:_.localize(0,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(g,c){var b;const C=w.InlineCompletionsController.get(c);(b=C?.model.get())===null||b===void 0||b.next()}}e.ShowNextInlineSuggestionAction=t,t.ID=y.showNextInlineSuggestionActionId;class n extends E.EditorAction{constructor(){super({id:n.ID,label:_.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(g,c){var b;const C=w.InlineCompletionsController.get(c);(b=C?.model.get())===null||b===void 0||b.previous()}}e.ShowPreviousInlineSuggestionAction=n,n.ID=y.showPreviousInlineSuggestionActionId;class h extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:_.localize(2,null),alias:"Trigger Inline Suggestion",precondition:L.EditorContextKeys.writable})}async run(g,c){const b=w.InlineCompletionsController.get(c);await(0,k.asyncTransaction)(async C=>{var S;await((S=b?.model.get())===null||S===void 0?void 0:S.triggerExplicitly(C)),b?.playAccessibilitySignal(C)})}}e.TriggerInlineSuggestionAction=h;class m extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:_.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:_.localize(4,null),group:"primary",order:2}]})}async run(g,c){var b;const C=w.InlineCompletionsController.get(c);await((b=C?.model.get())===null||b===void 0?void 0:b.acceptNextWord(C.editor))}}e.AcceptNextWordOfInlineCompletion=m;class u extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:_.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:_.localize(6,null),group:"secondary",order:2}]})}async run(g,c){var b;const C=w.InlineCompletionsController.get(c);await((b=C?.model.get())===null||b===void 0?void 0:b.acceptNextLine(C.editor))}}e.AcceptNextLineOfInlineCompletion=u;class d extends E.EditorAction{constructor(){super({id:y.inlineSuggestCommitId,label:_.localize(7,null),alias:"Accept Inline Suggestion",precondition:p.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:_.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:i.ContextKeyExpr.and(p.InlineCompletionContextKeys.inlineSuggestionVisible,L.EditorContextKeys.tabMovesFocus.toNegated(),p.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,v.Context.Visible.toNegated(),L.EditorContextKeys.hoverFocused.toNegated())}})}async run(g,c){var b;const C=w.InlineCompletionsController.get(c);C&&((b=C.model.get())===null||b===void 0||b.accept(C.editor),C.editor.focus())}}e.AcceptInlineCompletion=d;class r extends E.EditorAction{constructor(){super({id:r.ID,label:_.localize(9,null),alias:"Hide Inline Suggestion",precondition:p.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(g,c){const b=w.InlineCompletionsController.get(c);(0,f.transaction)(C=>{var S;(S=b?.model.get())===null||S===void 0||S.stop(C)})}}e.HideInlineCompletion=r,r.ID="editor.action.inlineSuggest.hide";class l extends a.Action2{constructor(){super({id:l.ID,title:_.localize(10,null),f1:!1,precondition:void 0,menu:[{id:a.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:i.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(g,c){const b=g.get(s.IConfigurationService),S=b.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";b.updateValue("editor.inlineSuggest.showToolbar",S)}}e.ToggleAlwaysShowInlineSuggestionToolbar=l,l.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(ie[978],ne([1,0,6,57,2,30,5,42,96,281,273,114,722,68,8,59,65]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class m{constructor(r,l,o){this.owner=r,this.range=l,this.controller=o}isValidForHoverAnchor(r){return r.type===1&&this.range.startColumn<=r.range.startColumn&&this.range.endColumn>=r.range.endColumn}}e.InlineCompletionsHover=m;let u=class{constructor(r,l,o,g,c,b){this._editor=r,this._languageService=l,this._openerService=o,this.accessibilityService=g,this._instantiationService=c,this._telemetryService=b,this.hoverOrdinal=4}suggestHoverAnchor(r){const l=v.InlineCompletionsController.get(this._editor);if(!l)return null;const o=r.target;if(o.type===8){const g=o.detail;if(l.shouldShowHoverAtViewZone(g.viewZoneId))return new w.HoverForeignElementAnchor(1e3,this,y.Range.fromPositions(this._editor.getModel().validatePosition(g.positionBefore||g.position)),r.event.posx,r.event.posy,!1)}return o.type===7&&l.shouldShowHoverAt(o.range)?new w.HoverForeignElementAnchor(1e3,this,o.range,r.event.posx,r.event.posy,!1):o.type===6&&o.detail.mightBeForeignElement&&l.shouldShowHoverAt(o.range)?new w.HoverForeignElementAnchor(1e3,this,o.range,r.event.posx,r.event.posy,!1):null}computeSync(r,l){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const o=v.InlineCompletionsController.get(this._editor);return o&&o.shouldShowHoverAt(r.range)?[new m(this,r.range,o)]:[]}renderHoverParts(r,l){const o=new E.DisposableStore,g=l[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(r,g,o);const c=g.controller.model.get(),b=this._instantiationService.createInstance(_.InlineSuggestionHintsContentWidget,this._editor,!1,(0,L.constObservable)(null),c.selectedInlineCompletionIndex,c.inlineCompletionsCount,c.selectedInlineCompletion.map(C=>{var S;return(S=C?.inlineCompletion.source.inlineCompletions.commands)!==null&&S!==void 0?S:[]}));return r.fragment.appendChild(b.getDomNode()),c.triggerExplicitly(),o.add(b),o}renderScreenReaderText(r,l,o){const g=f.$,c=g("div.hover-row.markdown-hover"),b=f.append(c,g("div.hover-contents",{"aria-live":"assertive"})),C=o.add(new a.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),S=D=>{o.add(C.onDidRenderAsync(()=>{b.className="hover-contents code-hover-contents",r.onContentsChanged()}));const I=s.localize(0,null),T=o.add(C.render(new k.MarkdownString().appendText(I).appendCodeblock("text",D)));b.replaceChildren(T.element)};o.add((0,L.autorun)(D=>{var I;const T=(I=l.controller.model.read(D))===null||I===void 0?void 0:I.primaryGhostText.read(D);if(T){const N=this._editor.getModel().getLineContent(T.lineNumber);S(T.renderForScreenReader(N))}else f.reset(b)})),r.fragment.appendChild(c)}};e.InlineCompletionsHoverParticipant=u,e.InlineCompletionsHoverParticipant=u=Ie([ue(1,p.ILanguageService),ue(2,n.IOpenerService),ue(3,i.IAccessibilityService),ue(4,t.IInstantiationService),ue(5,h.ITelemetryService)],u)}),define(ie[979],ne([1,0,16,96,977,978,281,28]),function(J,e,f,k,E,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(y.InlineCompletionsController.ID,y.InlineCompletionsController,3),(0,f.registerEditorAction)(E.TriggerInlineSuggestionAction),(0,f.registerEditorAction)(E.ShowNextInlineSuggestionAction),(0,f.registerEditorAction)(E.ShowPreviousInlineSuggestionAction),(0,f.registerEditorAction)(E.AcceptNextWordOfInlineCompletion),(0,f.registerEditorAction)(E.AcceptNextLineOfInlineCompletion),(0,f.registerEditorAction)(E.AcceptInlineCompletion),(0,f.registerEditorAction)(E.HideInlineCompletion),(0,p.registerAction2)(E.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(L.InlineCompletionsHoverParticipant)}),define(ie[980],ne([1,0,19,76,54,2,36,5,141,18,328,149,377,411,329,112]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class h{constructor(r,l,o,g,c,b){this.range=r,this.insertText=l,this.filterText=o,this.additionalTextEdits=g,this.command=c,this.completion=b}}let m=class extends L.RefCountedDisposable{constructor(r,l,o,g,c,b){super(c.disposable),this.model=r,this.line=l,this.word=o,this.completionModel=g,this._suggestMemoryService=b}canBeReused(r,l,o){return this.model===r&&this.line===l&&this.word.word.length>0&&this.word.startColumn===o.startColumn&&this.word.endColumn<o.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var r;const l=[],{items:o}=this.completionModel,g=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},o),c=E.Iterable.slice(o,g),b=E.Iterable.slice(o,0,g);let C=5;for(const S of E.Iterable.concat(c,b)){if(S.score===k.FuzzyScore.Default)continue;const D=new p.Range(S.editStart.lineNumber,S.editStart.column,S.editInsertEnd.lineNumber,S.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),I=S.completion.insertTextRules&&S.completion.insertTextRules&4?{snippet:S.completion.insertText}:S.completion.insertText;l.push(new h(D,I,(r=S.filterTextLow)!==null&&r!==void 0?r:S.labelLow,S.completion.additionalTextEdits,S.completion.command,S)),C-->=0&&S.resolve(f.CancellationToken.None)}return l}};m=Ie([ue(5,s.ISuggestMemoryService)],m);let u=class extends L.Disposable{constructor(r,l,o,g){super(),this._languageFeatureService=r,this._clipboardService=l,this._suggestMemoryService=o,this._editorService=g,this._store.add(r.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(r,l,o,g){var c;if(o.selectedSuggestionInfo)return;let b;for(const P of this._editorService.listCodeEditors())if(P.getModel()===r){b=P;break}if(!b)return;const C=b.getOption(89);if(a.QuickSuggestionsOptions.isAllOff(C))return;r.tokenization.tokenizeIfCheap(l.lineNumber);const S=r.tokenization.getLineTokens(l.lineNumber),D=S.getStandardTokenType(S.findTokenIndexAtOffset(Math.max(l.column-1-1,0)));if(a.QuickSuggestionsOptions.valueFor(C,D)!=="inline")return;let I=r.getWordAtPosition(l),T;if(I?.word||(T=this._getTriggerCharacterInfo(r,l)),!I?.word&&!T||(I||(I=r.getWordUntilPosition(l)),I.endColumn!==l.column))return;let N;const A=r.getValueInRange(new p.Range(l.lineNumber,1,l.lineNumber,l.column));if(!T&&(!((c=this._lastResult)===null||c===void 0)&&c.canBeReused(r,l.lineNumber,I))){const P=new _.LineContext(A,l.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=P,this._lastResult.acquire(),N=this._lastResult}else{const P=await(0,a.provideSuggestionItems)(this._languageFeatureService.completionProvider,r,l,new a.CompletionOptions(void 0,i.SuggestModel.createSuggestFilter(b).itemKind,T?.providers),T&&{triggerKind:1,triggerCharacter:T.ch},g);let M;P.needsClipboard&&(M=await this._clipboardService.readText());const R=new _.CompletionModel(P.items,l.column,new _.LineContext(A,0),t.WordDistance.None,b.getOption(118),b.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},M);N=new m(r,l.lineNumber,I,R,P,this._suggestMemoryService)}return this._lastResult=N,N}handleItemDidShow(r,l){l.completion.resolve(f.CancellationToken.None)}freeInlineCompletions(r){r.release()}_getTriggerCharacterInfo(r,l){var o;const g=r.getValueInRange(p.Range.fromPositions({lineNumber:l.lineNumber,column:l.column-1},l)),c=new Set;for(const b of this._languageFeatureService.completionProvider.all(r))!((o=b.triggerCharacters)===null||o===void 0)&&o.includes(g)&&c.add(b);if(c.size!==0)return{providers:c,ch:g}}};e.SuggestInlineCompletions=u,e.SuggestInlineCompletions=u=Ie([ue(0,v.ILanguageFeaturesService),ue(1,n.IClipboardService),ue(2,s.ISuggestMemoryService),ue(3,y.ICodeEditorService)],u),(0,w.registerEditorFeature)(u)}),define(ie[413],ne([1,0,8]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,f.createDecorator)("workspaceTrustManagementService")}),define(ie[981],ne([1,0,15,26,57,2,17,11,16,38,37,314,111,42,353,96,267,887,753,25,8,59,75,85,413,504]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,g.registerIcon)("extensions-warning-message",k.Codicon.warning,u.localize(0,null));let b=class extends L.Disposable{constructor(x,Q,X,Y){super(),this._editor=x,this._editorWorkerService=Q,this._workspaceTrustService=X,this._highlighter=null,this._bannerClosed=!1,this._updateState=ae=>{if(ae&&ae.hasMore){if(this._bannerClosed)return;const ce=Math.max(ae.ambiguousCharacterCount,ae.nonBasicAsciiCharacterCount,ae.invisibleCharacterCount);let he;if(ae.nonBasicAsciiCharacterCount>=ce)he={message:u.localize(1,null),command:new V};else if(ae.ambiguousCharacterCount>=ce)he={message:u.localize(2,null),command:new B};else if(ae.invisibleCharacterCount>=ce)he={message:u.localize(3,null),command:new H};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:he.message,icon:e.warningIcon,actions:[{label:he.command.shortLabel,href:`command:${he.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Y.createInstance(m.BannerController,x)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=x.getOption(125),this._register(X.onDidChangeTrust(ae=>{this._updateHighlighter()})),this._register(x.onDidChangeConfiguration(ae=>{ae.hasChanged(125)&&(this._options=x.getOption(125),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const x=C(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([x.nonBasicASCII,x.ambiguousCharacters,x.invisibleCharacters].every(X=>X===!1))return;const Q={nonBasicASCII:x.nonBasicASCII,ambiguousCharacters:x.ambiguousCharacters,invisibleCharacters:x.invisibleCharacters,includeComments:x.includeComments,includeStrings:x.includeStrings,allowedCodePoints:Object.keys(x.allowedCharacters).map(X=>X.codePointAt(0)),allowedLocales:Object.keys(x.allowedLocales).map(X=>X==="_os"?new Intl.NumberFormat().resolvedOptions().locale:X==="_vscode"?y.language:X)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new S(this._editor,Q,this._updateState,this._editorWorkerService):this._highlighter=new D(this._editor,Q,this._updateState)}getDecorationInfo(x){return this._highlighter?this._highlighter.getDecorationInfo(x):null}};e.UnicodeHighlighter=b,b.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=b=Ie([ue(1,s.IEditorWorkerService),ue(2,c.IWorkspaceTrustManagementService),ue(3,r.IInstantiationService)],b);function C(re,x){return{nonBasicASCII:x.nonBasicASCII===v.inUntrustedWorkspace?!re:x.nonBasicASCII,ambiguousCharacters:x.ambiguousCharacters,invisibleCharacters:x.invisibleCharacters,includeComments:x.includeComments===v.inUntrustedWorkspace?!re:x.includeComments,includeStrings:x.includeStrings===v.inUntrustedWorkspace?!re:x.includeStrings,allowedCharacters:x.allowedCharacters,allowedLocales:x.allowedLocales}}let S=class extends L.Disposable{constructor(x,Q,X,Y){super(),this._editor=x,this._options=Q,this._updateState=X,this._editorWorkerService=Y,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const x=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Q=>{if(this._model.isDisposed()||this._model.getVersionId()!==x)return;this._updateState(Q);const X=[];if(!Q.hasMore)for(const Y of Q.ranges)X.push({range:Y,options:R.instance.getDecorationFromOptions(this._options)});this._decorations.set(X)})}getDecorationInfo(x){if(!this._decorations.has(x))return null;const Q=this._editor.getModel();if(!(0,t.isModelDecorationVisible)(Q,x))return null;const X=Q.getValueInRange(x.range);return{reason:M(X,this._options),inComment:(0,t.isModelDecorationInComment)(Q,x),inString:(0,t.isModelDecorationInString)(Q,x)}}};S=Ie([ue(3,s.IEditorWorkerService)],S);class D extends L.Disposable{constructor(x,Q,X){super(),this._editor=x,this._options=Q,this._updateState=X,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const x=this._editor.getVisibleRanges(),Q=[],X={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Y of x){const ae=a.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,Y);for(const ce of ae.ranges)X.ranges.push(ce);X.ambiguousCharacterCount+=X.ambiguousCharacterCount,X.invisibleCharacterCount+=X.invisibleCharacterCount,X.nonBasicAsciiCharacterCount+=X.nonBasicAsciiCharacterCount,X.hasMore=X.hasMore||ae.hasMore}if(!X.hasMore)for(const Y of X.ranges)Q.push({range:Y,options:R.instance.getDecorationFromOptions(this._options)});this._updateState(X),this._decorations.set(Q)}getDecorationInfo(x){if(!this._decorations.has(x))return null;const Q=this._editor.getModel(),X=Q.getValueInRange(x.range);return(0,t.isModelDecorationVisible)(Q,x)?{reason:M(X,this._options),inComment:(0,t.isModelDecorationInComment)(Q,x),inString:(0,t.isModelDecorationInString)(Q,x)}:null}}const I=u.localize(4,null);let T=class{constructor(x,Q,X){this._editor=x,this._languageService=Q,this._openerService=X,this.hoverOrdinal=5}computeSync(x,Q){if(!this._editor.hasModel()||x.type!==1)return[];const X=this._editor.getModel(),Y=this._editor.getContribution(b.ID);if(!Y)return[];const ae=[],ce=new Set;let he=300;for(const pe of Q){const fe=Y.getDecorationInfo(pe);if(!fe)continue;const te=X.getValueInRange(pe.range).codePointAt(0),$=A(te);let W;switch(fe.reason.kind){case 0:{(0,p.isBasicASCII)(fe.reason.confusableWith)?W=u.localize(5,null,$,A(fe.reason.confusableWith.codePointAt(0))):W=u.localize(6,null,$,A(fe.reason.confusableWith.codePointAt(0)));break}case 1:W=u.localize(7,null,$);break;case 2:W=u.localize(8,null,$);break}if(ce.has(W))continue;ce.add(W);const j={codePoint:te,reason:fe.reason,inComment:fe.inComment,inString:fe.inString},K=u.localize(9,null),G=`command:${q.ID}?${encodeURIComponent(JSON.stringify(j))}`,ee=new E.MarkdownString("",!0).appendMarkdown(W).appendText(" ").appendLink(G,K,I);ae.push(new h.MarkdownHover(this,pe.range,[ee],!1,he++))}return ae}renderHoverParts(x,Q){return(0,h.renderMarkdownHovers)(x,Q,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=T,e.UnicodeHighlighterHoverParticipant=T=Ie([ue(1,i.ILanguageService),ue(2,l.IOpenerService)],T);function N(re){return`U+${re.toString(16).padStart(4,"0")}`}function A(re){let x=`\`${N(re)}\``;return p.InvisibleCharacters.isInvisibleCharacter(re)||(x+=` "${`${P(re)}`}"`),x}function P(re){return re===96?"`` ` ``":"`"+String.fromCodePoint(re)+"`"}function M(re,x){return a.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(re,x)}class R{constructor(){this.map=new Map}getDecorationFromOptions(x){return this.getDecoration(!x.includeComments,!x.includeStrings)}getDecoration(x,Q){const X=`${x}${Q}`;let Y=this.map.get(X);return Y||(Y=_.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:x,hideInStringTokens:Q}),this.map.set(X,Y)),Y}}R.instance=new R;class F extends w.EditorAction{constructor(){super({id:B.ID,label:u.localize(11,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=u.localize(10,null)}async run(x,Q,X){const Y=x?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(x){await x.updateValue(v.unicodeHighlightConfigKeys.includeComments,!1,2)}}e.DisableHighlightingInCommentsAction=F;class O extends w.EditorAction{constructor(){super({id:B.ID,label:u.localize(13,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=u.localize(12,null)}async run(x,Q,X){const Y=x?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(x){await x.updateValue(v.unicodeHighlightConfigKeys.includeStrings,!1,2)}}e.DisableHighlightingInStringsAction=O;class B extends w.EditorAction{constructor(){super({id:B.ID,label:u.localize(15,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=u.localize(14,null)}async run(x,Q,X){const Y=x?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(x){await x.updateValue(v.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class H extends w.EditorAction{constructor(){super({id:H.ID,label:u.localize(17,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=u.localize(16,null)}async run(x,Q,X){const Y=x?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(x){await x.updateValue(v.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)}}e.DisableHighlightingOfInvisibleCharactersAction=H,H.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class V extends w.EditorAction{constructor(){super({id:V.ID,label:u.localize(19,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=u.localize(18,null)}async run(x,Q,X){const Y=x?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(x){await x.updateValue(v.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=V,V.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class q extends w.EditorAction{constructor(){super({id:q.ID,label:u.localize(20,null),alias:"Show Exclude Options",precondition:void 0})}async run(x,Q,X){const{codePoint:Y,reason:ae,inString:ce,inComment:he}=X,pe=String.fromCodePoint(Y),fe=x.get(o.IQuickInputService),se=x.get(d.IConfigurationService);function te(j){return p.InvisibleCharacters.isInvisibleCharacter(j)?u.localize(21,null,N(j)):u.localize(22,null,`${N(j)} "${pe}"`)}const $=[];if(ae.kind===0)for(const j of ae.notAmbiguousInLocales)$.push({label:u.localize(23,null,j),run:async()=>{U(se,[j])}});if($.push({label:te(Y),run:()=>z(se,[Y])}),he){const j=new F;$.push({label:j.label,run:async()=>j.runAction(se)})}else if(ce){const j=new O;$.push({label:j.label,run:async()=>j.runAction(se)})}if(ae.kind===0){const j=new B;$.push({label:j.label,run:async()=>j.runAction(se)})}else if(ae.kind===1){const j=new H;$.push({label:j.label,run:async()=>j.runAction(se)})}else if(ae.kind===2){const j=new V;$.push({label:j.label,run:async()=>j.runAction(se)})}else Z(ae);const W=await fe.pick($,{title:I});W&&await W.run()}}e.ShowExcludeOptions=q,q.ID="editor.action.unicodeHighlight.showExcludeOptions";async function z(re,x){const Q=re.getValue(v.unicodeHighlightConfigKeys.allowedCharacters);let X;typeof Q=="object"&&Q?X=Q:X={};for(const Y of x)X[String.fromCodePoint(Y)]=!0;await re.updateValue(v.unicodeHighlightConfigKeys.allowedCharacters,X,2)}async function U(re,x){var Q;const X=(Q=re.inspect(v.unicodeHighlightConfigKeys.allowedLocales).user)===null||Q===void 0?void 0:Q.value;let Y;typeof X=="object"&&X?Y=Object.assign({},X):Y={};for(const ae of x)Y[ae]=!0;await re.updateValue(v.unicodeHighlightConfigKeys.allowedLocales,Y,2)}function Z(re){throw new Error(`Unexpected value: ${re}`)}(0,w.registerEditorAction)(B),(0,w.registerEditorAction)(H),(0,w.registerEditorAction)(V),(0,w.registerEditorAction)(q),(0,w.registerEditorContribution)(b.ID,b,1),n.HoverParticipantRegistry.register(T)}),define(ie[982],ne([1,0,205,210,933,848,936,849,850,971,938,940,963,947,851,970,852,941,972,973,398,277,855,856,817,979,278,279,404,402,405,858,965,948,859,860,950,951,861,957,922,886,910,952,911,912,863,212,967,412,980,864,838,981,865,958,383,866,862,816,103,187]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ie[282],ne([1,0,11,6,48,7,133,2,17,107,22,147,261,72,9,5,53,74,200,27,25,375,14,170,8,813,35,365,131,366,814,172,51,92,65,177,113,103,50,36,61,413,58,368,832,923,46,822,111,262,42,905,254,929,926,391,148,815,68,28,844,818,112,810,253,811,171,206,104,821,59,75,98,837,130,819,141,12,259,52,33,390,367,969,83,906,800,893]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T,N,A,P,M,R,F,O,B,H,V,q,z,U,Z,re,x,Q,X,Y,ae,ce,he,pe,fe,se,te,$,W,j,K,G,ee,oe,de,le,ge,ve,Ce,Se,be,ke,Ee,Ae,Pe,He,Be,De,Ne,me){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0,e.updateConfigurationService=we;class _e{constructor(xe){this.disposed=!1,this.model=xe,this._onWillDispose=new L.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Re=class{constructor(xe){this.modelService=xe}createModelReference(xe){const Ve=this.modelService.getModel(xe);return Ve?Promise.resolve(new p.ImmortalReference(new _e(Ve))):Promise.reject(new Error("Model not found"))}};Re=Ie([ue(0,h.IModelService)],Re);class We{show(){return We.NULL_PROGRESS_RUNNER}async showWhile(xe,Ve){await xe}}We.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class qe{withProgress(xe,Ve,Ke){return Ve({report:()=>{}})}}class je{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class Ze{async confirm(xe){return{confirmed:this.doConfirm(xe.message,xe.detail),checkboxChecked:!1}}doConfirm(xe,Ve){let Ke=xe;return Ve&&(Ke=Ke+`

`+Ve),me.mainWindow.confirm(Ke)}async prompt(xe){var Ve,Ke;let Ge;if(this.doConfirm(xe.message,xe.detail)){const tt=[...(Ve=xe.buttons)!==null&&Ve!==void 0?Ve:[]];xe.cancelButton&&typeof xe.cancelButton!="string"&&typeof xe.cancelButton!="boolean"&&tt.push(xe.cancelButton),Ge=await((Ke=tt[0])===null||Ke===void 0?void 0:Ke.run({checkboxChecked:!1}))}return{result:Ge}}async error(xe,Ve){await this.prompt({type:v.default.Error,message:xe,detail:Ve})}}class Je{info(xe){return this.notify({severity:v.default.Info,message:xe})}warn(xe){return this.notify({severity:v.default.Warning,message:xe})}error(xe){return this.notify({severity:v.default.Error,message:xe})}notify(xe){switch(xe.severity){case v.default.Error:console.error(xe.message);break;case v.default.Warning:console.warn(xe.message);break;default:console.log(xe.message);break}return Je.NO_OP}prompt(xe,Ve,Ke,Ge){return Je.NO_OP}status(xe,Ve){return p.Disposable.None}}e.StandaloneNotificationService=Je,Je.NO_OP=new A.NoOpNotification;let st=class{constructor(xe){this._onWillExecuteCommand=new L.Emitter,this._onDidExecuteCommand=new L.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=xe}executeCommand(xe,...Ve){const Ke=d.CommandsRegistry.getCommand(xe);if(!Ke)return Promise.reject(new Error(`command '${xe}' not found`));try{this._onWillExecuteCommand.fire({commandId:xe,args:Ve});const Ge=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ke.handler,...Ve]);return this._onDidExecuteCommand.fire({commandId:xe,args:Ve}),Promise.resolve(Ge)}catch(Ge){return Promise.reject(Ge)}}};e.StandaloneCommandService=st,e.StandaloneCommandService=st=Ie([ue(0,c.IInstantiationService)],st);let rt=class extends b.AbstractKeybindingService{constructor(xe,Ve,Ke,Ge,it,tt){super(xe,Ve,Ke,Ge,it),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const lt=ct=>{const gt=new p.DisposableStore;gt.add(k.addDisposableListener(ct,k.EventType.KEY_DOWN,Et=>{const Lt=new E.StandardKeyboardEvent(Et);this._dispatch(Lt,Lt.target)&&(Lt.preventDefault(),Lt.stopPropagation())})),gt.add(k.addDisposableListener(ct,k.EventType.KEY_UP,Et=>{const Lt=new E.StandardKeyboardEvent(Et);this._singleModifierDispatch(Lt,Lt.target)&&Lt.preventDefault()})),this._domNodeListeners.push(new pt(ct,gt))},nt=ct=>{for(let gt=0;gt<this._domNodeListeners.length;gt++){const Et=this._domNodeListeners[gt];Et.domNode===ct&&(this._domNodeListeners.splice(gt,1),Et.dispose())}},at=ct=>{ct.getOption(61)||lt(ct.getContainerDomNode())},dt=ct=>{ct.getOption(61)||nt(ct.getContainerDomNode())};this._register(tt.onCodeEditorAdd(at)),this._register(tt.onCodeEditorRemove(dt)),tt.listCodeEditors().forEach(at);const ht=ct=>{lt(ct.getContainerDomNode())},mt=ct=>{nt(ct.getContainerDomNode())};this._register(tt.onDiffEditorAdd(ht)),this._register(tt.onDiffEditorRemove(mt)),tt.listDiffEditors().forEach(ht)}addDynamicKeybinding(xe,Ve,Ke,Ge){return(0,p.combinedDisposable)(d.CommandsRegistry.registerCommand(xe,Ke),this.addDynamicKeybindings([{keybinding:Ve,command:xe,when:Ge}]))}addDynamicKeybindings(xe){const Ve=xe.map(Ke=>{var Ge;return{keybinding:(0,y.decodeKeybinding)(Ke.keybinding,w.OS),command:(Ge=Ke.command)!==null&&Ge!==void 0?Ge:null,commandArgs:Ke.commandArgs,when:Ke.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ve),this.updateResolver(),(0,p.toDisposable)(()=>{for(let Ke=0;Ke<this._dynamicKeybindings.length;Ke++)if(this._dynamicKeybindings[Ke]===Ve[0]){this._dynamicKeybindings.splice(Ke,Ve.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const xe=this._toNormalizedKeybindingItems(D.KeybindingsRegistry.getDefaultKeybindings(),!0),Ve=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new S.KeybindingResolver(xe,Ve,Ke=>this._log(Ke))}return this._cachedResolver}_documentHasFocus(){return me.mainWindow.document.hasFocus()}_toNormalizedKeybindingItems(xe,Ve){const Ke=[];let Ge=0;for(const it of xe){const tt=it.when||void 0,lt=it.keybinding;if(!lt)Ke[Ge++]=new I.ResolvedKeybindingItem(void 0,it.command,it.commandArgs,tt,Ve,null,!1);else{const nt=T.USLayoutResolvedKeybinding.resolveKeybinding(lt,w.OS);for(const at of nt)Ke[Ge++]=new I.ResolvedKeybindingItem(at,it.command,it.commandArgs,tt,Ve,null,!1)}}return Ke}resolveKeyboardEvent(xe){const Ve=new y.KeyCodeChord(xe.ctrlKey,xe.shiftKey,xe.altKey,xe.metaKey,xe.keyCode);return new T.USLayoutResolvedKeybinding([Ve],w.OS)}};e.StandaloneKeybindingService=rt,e.StandaloneKeybindingService=rt=Ie([ue(0,o.IContextKeyService),ue(1,d.ICommandService),ue(2,M.ITelemetryService),ue(3,A.INotificationService),ue(4,V.ILogService),ue(5,H.ICodeEditorService)],rt);class pt extends p.Disposable{constructor(xe,Ve){super(),this.domNode=xe,this._register(Ve)}}function et(Ye){return Ye&&typeof Ye=="object"&&(!Ye.overrideIdentifier||typeof Ye.overrideIdentifier=="string")&&(!Ye.resource||Ye.resource instanceof _.URI)}class ut{constructor(){this._onDidChangeConfiguration=new L.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const xe=new Ae.DefaultConfiguration;this._configuration=new l.Configuration(xe.reload(),new l.ConfigurationModel,new l.ConfigurationModel,new l.ConfigurationModel),xe.dispose()}getValue(xe,Ve){const Ke=typeof xe=="string"?xe:void 0,Ge=et(xe)?xe:et(Ve)?Ve:{};return this._configuration.getValue(Ke,Ge,void 0)}updateValues(xe){const Ve={data:this._configuration.toData()},Ke=[];for(const Ge of xe){const[it,tt]=Ge;this.getValue(it)!==tt&&(this._configuration.updateValue(it,tt),Ke.push(it))}if(Ke.length>0){const Ge=new l.ConfigurationChangeEvent({keys:Ke,overrides:[]},Ve,this._configuration);Ge.source=8,this._onDidChangeConfiguration.fire(Ge)}return Promise.resolve()}updateValue(xe,Ve,Ke,Ge){return this.updateValues([[xe,Ve]])}inspect(xe,Ve={}){return this._configuration.inspect(xe,Ve,void 0)}}e.StandaloneConfigurationService=ut;let ot=class{constructor(xe,Ve,Ke){this.configurationService=xe,this.modelService=Ve,this.languageService=Ke,this._onDidChangeConfiguration=new L.Emitter,this.configurationService.onDidChangeConfiguration(Ge=>{this._onDidChangeConfiguration.fire({affectedKeys:Ge.affectedKeys,affectsConfiguration:(it,tt)=>Ge.affectsConfiguration(tt)})})}getValue(xe,Ve,Ke){const Ge=t.Position.isIPosition(Ve)?Ve:null,it=Ge?typeof Ke=="string"?Ke:void 0:typeof Ve=="string"?Ve:void 0,tt=xe?this.getLanguage(xe,Ge):void 0;return typeof it>"u"?this.configurationService.getValue({resource:xe,overrideIdentifier:tt}):this.configurationService.getValue(it,{resource:xe,overrideIdentifier:tt})}getLanguage(xe,Ve){const Ke=this.modelService.getModel(xe);return Ke?Ve?Ke.getLanguageIdAtPosition(Ve.lineNumber,Ve.column):Ke.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(xe)}};ot=Ie([ue(0,r.IConfigurationService),ue(1,h.IModelService),ue(2,ae.ILanguageService)],ot);let _t=class{constructor(xe){this.configurationService=xe}getEOL(xe,Ve){const Ke=this.configurationService.getValue("files.eol",{overrideIdentifier:Ve,resource:xe});return Ke&&typeof Ke=="string"&&Ke!=="auto"?Ke:w.isLinux||w.isMacintosh?`
`:`\r
`}};_t=Ie([ue(0,r.IConfigurationService)],_t);class St{publicLog2(){}}class ye{constructor(){const xe=_.URI.from({scheme:ye.SCHEME,authority:"model",path:"/"});this.workspace={id:R.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new R.WorkspaceFolder({uri:xe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(xe){return xe&&xe.scheme===ye.SCHEME?this.workspace.folders[0]:null}}ye.SCHEME="inmemory";function we(Ye,xe,Ve){if(!xe||!(Ye instanceof ut))return;const Ke=[];Object.keys(xe).forEach(Ge=>{(0,s.isEditorConfigurationKey)(Ge)&&Ke.push([`editor.${Ge}`,xe[Ge]]),Ve&&(0,s.isDiffEditorConfigurationKey)(Ge)&&Ke.push([`diffEditor.${Ge}`,xe[Ge]])}),Ke.length>0&&Ye.updateValues(Ke)}let Me=class{constructor(xe){this._modelService=xe}hasPreviewHandler(){return!1}async apply(xe,Ve){const Ke=Array.isArray(xe)?xe:a.ResourceEdit.convert(xe),Ge=new Map;for(const lt of Ke){if(!(lt instanceof a.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const nt=this._modelService.getModel(lt.resource);if(!nt)throw new Error("bad edit - model not found");if(typeof lt.versionId=="number"&&nt.getVersionId()!==lt.versionId)throw new Error("bad state - model changed in the meantime");let at=Ge.get(nt);at||(at=[],Ge.set(nt,at)),at.push(i.EditOperation.replaceMove(n.Range.lift(lt.textEdit.range),lt.textEdit.text))}let it=0,tt=0;for(const[lt,nt]of Ge)lt.pushStackElement(),lt.pushEditOperations([],nt,()=>[]),lt.pushStackElement(),tt+=1,it+=nt.length;return{ariaSummary:f.format(O.StandaloneServicesNLS.bulkEditServiceSummary,it,tt),isApplied:it>0}}};Me=Ie([ue(0,h.IModelService)],Me);class Te{getUriLabel(xe,Ve){return xe.scheme==="file"?xe.fsPath:xe.path}getUriBasenameLabel(xe){return(0,B.basename)(xe)}}let Le=class extends U.ContextViewService{constructor(xe,Ve){super(xe),this._codeEditorService=Ve}showContextView(xe,Ve,Ke){if(!Ve){const Ge=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Ge&&(Ve=Ge.getContainerDomNode())}return super.showContextView(xe,Ve,Ke)}};Le=Ie([ue(0,F.ILayoutService),ue(1,H.ICodeEditorService)],Le);class Fe{constructor(){this._neverEmitter=new L.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Oe extends Z.LanguageService{constructor(){super()}}class ze extends He.LogService{constructor(){super(new V.ConsoleLogger)}}let Ue=class extends re.ContextMenuService{constructor(xe,Ve,Ke,Ge,it,tt){super(xe,Ve,Ke,Ge,it,tt),this.configure({blockMouse:!1})}};Ue=Ie([ue(0,M.ITelemetryService),ue(1,A.INotificationService),ue(2,z.IContextViewService),ue(3,C.IKeybindingService),ue(4,j.IMenuService),ue(5,o.IContextKeyService)],Ue);class $e{async playSignal(xe,Ve){}}(0,x.registerSingleton)(r.IConfigurationService,ut,0),(0,x.registerSingleton)(u.ITextResourceConfigurationService,ot,0),(0,x.registerSingleton)(u.ITextResourcePropertiesService,_t,0),(0,x.registerSingleton)(R.IWorkspaceContextService,ye,0),(0,x.registerSingleton)(N.ILabelService,Te,0),(0,x.registerSingleton)(M.ITelemetryService,St,0),(0,x.registerSingleton)(g.IDialogService,Ze,0),(0,x.registerSingleton)(Ne.IEnvironmentService,je,0),(0,x.registerSingleton)(A.INotificationService,Je,0),(0,x.registerSingleton)(Ce.IMarkerService,Se.MarkerService,0),(0,x.registerSingleton)(ae.ILanguageService,Oe,0),(0,x.registerSingleton)(te.IStandaloneThemeService,se.StandaloneThemeService,0),(0,x.registerSingleton)(V.ILogService,ze,0),(0,x.registerSingleton)(h.IModelService,pe.ModelService,0),(0,x.registerSingleton)(he.IMarkerDecorationsService,ce.MarkerDecorationsService,0),(0,x.registerSingleton)(o.IContextKeyService,oe.ContextKeyService,0),(0,x.registerSingleton)(P.IProgressService,qe,0),(0,x.registerSingleton)(P.IEditorProgressService,We,0),(0,x.registerSingleton)(Ee.IStorageService,Ee.InMemoryStorageService,0),(0,x.registerSingleton)(X.IEditorWorkerService,Y.EditorWorkerService,0),(0,x.registerSingleton)(a.IBulkEditService,Me,0),(0,x.registerSingleton)(q.IWorkspaceTrustManagementService,Fe,0),(0,x.registerSingleton)(m.ITextModelService,Re,0),(0,x.registerSingleton)(W.IAccessibilityService,$.AccessibilityService,0),(0,x.registerSingleton)(ve.IListService,ve.ListService,0),(0,x.registerSingleton)(d.ICommandService,st,0),(0,x.registerSingleton)(C.IKeybindingService,rt,0),(0,x.registerSingleton)(ke.IQuickInputService,fe.StandaloneQuickInputService,0),(0,x.registerSingleton)(z.IContextViewService,Le,0),(0,x.registerSingleton)(be.IOpenerService,Q.OpenerService,0),(0,x.registerSingleton)(ee.IClipboardService,G.BrowserClipboardService,0),(0,x.registerSingleton)(z.IContextMenuService,Ue,0),(0,x.registerSingleton)(j.IMenuService,K.MenuService,0),(0,x.registerSingleton)(Pe.IAccessibilitySignalService,$e,0);var Qe;(function(Ye){const xe=new ge.ServiceCollection;for(const[nt,at]of(0,x.getSingletonServiceDescriptors)())xe.set(nt,at);const Ve=new le.InstantiationService(xe,!0);xe.set(c.IInstantiationService,Ve);function Ke(nt){Ge||tt({});const at=xe.get(nt);if(!at)throw new Error("Missing service "+nt);return at instanceof de.SyncDescriptor?Ve.invokeFunction(dt=>dt.get(nt)):at}Ye.get=Ke;let Ge=!1;const it=new L.Emitter;function tt(nt){if(Ge)return Ve;Ge=!0;for(const[dt,ht]of(0,x.getSingletonServiceDescriptors)())xe.get(dt)||xe.set(dt,ht);for(const dt in nt)if(nt.hasOwnProperty(dt)){const ht=(0,c.createDecorator)(dt);xe.get(ht)instanceof de.SyncDescriptor&&xe.set(ht,nt[dt])}const at=(0,Be.getEditorFeatures)();for(const dt of at)try{Ve.createInstance(dt)}catch(ht){(0,De.onUnexpectedError)(ht)}return it.fire(),Ve}Ye.initialize=tt;function lt(nt){if(Ge)return nt();const at=new p.DisposableStore,dt=at.add(it.event(()=>{dt.dispose(),at.add(nt())}));return at}Ye.withServices=lt})(Qe||(e.StandaloneServices=Qe={}))}),define(ie[983],ne([1,0,45,2,36,210,305,282,148,28,27,25,14,58,8,35,51,23,68,103,112,92,53,42,390,84,33,18,275,130,52,44,202]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneDiffEditor2=e.StandaloneEditor=e.StandaloneCodeEditor=void 0,e.createTextModel=H;let P=0,M=!1;function R(q){if(!q){if(M)return;M=!0}f.setARIAContainer(q||T.mainWindow.document.body)}let F=class extends L.CodeEditorWidget{constructor(z,U,Z,re,x,Q,X,Y,ae,ce,he,pe){const fe={...U};fe.ariaLabel=fe.ariaLabel||d.StandaloneCodeEditorNLS.editorViewAccessibleLabel,fe.ariaLabel=fe.ariaLabel+";"+d.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(z,fe,{},Z,re,x,Q,Y,ae,ce,he,pe),X instanceof p.StandaloneKeybindingService?this._standaloneKeybindingService=X:this._standaloneKeybindingService=null,R(fe.ariaContainerElement),(0,N.setHoverDelegateFactory)((se,te)=>Z.createInstance(A.WorkbenchHoverDelegate,se,te,{}))}addCommand(z,U,Z){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const re="DYNAMIC_"+ ++P,x=s.ContextKeyExpr.deserialize(Z);return this._standaloneKeybindingService.addDynamicKeybinding(re,z,U,x),re}createContextKey(z,U){return this._contextKeyService.createKey(z,U)}addAction(z){if(typeof z.id!="string"||typeof z.label!="string"||typeof z.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const U=z.id,Z=z.label,re=s.ContextKeyExpr.and(s.ContextKeyExpr.equals("editorId",this.getId()),s.ContextKeyExpr.deserialize(z.precondition)),x=z.keybindings,Q=s.ContextKeyExpr.and(re,s.ContextKeyExpr.deserialize(z.keybindingContext)),X=z.contextMenuGroupId||null,Y=z.contextMenuOrder||0,ae=(fe,...se)=>Promise.resolve(z.run(this,...se)),ce=new k.DisposableStore,he=this.getId()+":"+U;if(ce.add(_.CommandsRegistry.registerCommand(he,ae)),X){const fe={command:{id:he,title:Z},when:re,group:X,order:Y};ce.add(v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,fe))}if(Array.isArray(x))for(const fe of x)ce.add(this._standaloneKeybindingService.addDynamicKeybinding(he,fe,ae,Q));const pe=new y.InternalEditorAction(he,Z,Z,void 0,re,(...fe)=>Promise.resolve(z.run(this,...fe)),this._contextKeyService);return this._actions.set(U,pe),ce.add((0,k.toDisposable)(()=>{this._actions.delete(U)})),ce}_triggerCommand(z,U){if(this._codeEditorService instanceof c.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(z,U)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(z,U)}};e.StandaloneCodeEditor=F,e.StandaloneCodeEditor=F=Ie([ue(2,t.IInstantiationService),ue(3,E.ICodeEditorService),ue(4,_.ICommandService),ue(5,s.IContextKeyService),ue(6,n.IKeybindingService),ue(7,m.IThemeService),ue(8,h.INotificationService),ue(9,u.IAccessibilityService),ue(10,C.ILanguageConfigurationService),ue(11,S.ILanguageFeaturesService)],F);let O=class extends F{constructor(z,U,Z,re,x,Q,X,Y,ae,ce,he,pe,fe,se,te){const $={...U};(0,p.updateConfigurationService)(ce,$,!1);const W=Y.registerEditorContainer(z);typeof $.theme=="string"&&Y.setTheme($.theme),typeof $.autoDetectHighContrast<"u"&&Y.setAutoDetectHighContrast(!!$.autoDetectHighContrast);const j=$.model;delete $.model,super(z,$,Z,re,x,Q,X,Y,ae,he,se,te),this._configurationService=ce,this._standaloneThemeService=Y,this._register(W);let K;if(typeof j>"u"){const G=fe.getLanguageIdByMimeType($.language)||$.language||b.PLAINTEXT_LANGUAGE_ID;K=H(pe,fe,$.value||"",G,void 0),this._ownsModel=!0}else K=j,this._ownsModel=!1;if(this._attachModel(K),K){const G={oldModelUrl:null,newModelUrl:K.uri};this._onDidChangeModel.fire(G)}}dispose(){super.dispose()}updateOptions(z){(0,p.updateConfigurationService)(this._configurationService,z,!1),typeof z.theme=="string"&&this._standaloneThemeService.setTheme(z.theme),typeof z.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!z.autoDetectHighContrast),super.updateOptions(z)}_postDetachModelCleanup(z){super._postDetachModelCleanup(z),z&&this._ownsModel&&(z.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=O,e.StandaloneEditor=O=Ie([ue(2,t.IInstantiationService),ue(3,E.ICodeEditorService),ue(4,_.ICommandService),ue(5,s.IContextKeyService),ue(6,n.IKeybindingService),ue(7,w.IStandaloneThemeService),ue(8,h.INotificationService),ue(9,a.IConfigurationService),ue(10,u.IAccessibilityService),ue(11,o.IModelService),ue(12,g.ILanguageService),ue(13,C.ILanguageConfigurationService),ue(14,S.ILanguageFeaturesService)],O);let B=class extends D.DiffEditorWidget{constructor(z,U,Z,re,x,Q,X,Y,ae,ce,he,pe){const fe={...U};(0,p.updateConfigurationService)(Y,fe,!0);const se=Q.registerEditorContainer(z);typeof fe.theme=="string"&&Q.setTheme(fe.theme),typeof fe.autoDetectHighContrast<"u"&&Q.setAutoDetectHighContrast(!!fe.autoDetectHighContrast),super(z,fe,{},re,Z,x,pe,ce),this._configurationService=Y,this._standaloneThemeService=Q,this._register(se)}dispose(){super.dispose()}updateOptions(z){(0,p.updateConfigurationService)(this._configurationService,z,!0),typeof z.theme=="string"&&this._standaloneThemeService.setTheme(z.theme),typeof z.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!z.autoDetectHighContrast),super.updateOptions(z)}_createInnerEditor(z,U,Z){return z.createInstance(F,U,Z)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(z,U,Z){return this.getModifiedEditor().addCommand(z,U,Z)}createContextKey(z,U){return this.getModifiedEditor().createContextKey(z,U)}addAction(z){return this.getModifiedEditor().addAction(z)}};e.StandaloneDiffEditor2=B,e.StandaloneDiffEditor2=B=Ie([ue(2,t.IInstantiationService),ue(3,s.IContextKeyService),ue(4,E.ICodeEditorService),ue(5,w.IStandaloneThemeService),ue(6,h.INotificationService),ue(7,a.IConfigurationService),ue(8,i.IContextMenuService),ue(9,l.IEditorProgressService),ue(10,r.IClipboardService),ue(11,I.IAccessibilitySignalService)],B);function H(q,z,U,Z,re){if(U=U||"",!Z){const x=U.indexOf(`
`);let Q=U;return x!==-1&&(Q=U.substring(0,x)),V(q,U,z.createByFilepathOrFirstLine(re||null,Q),re)}return V(q,U,z.createById(Z),re)}function V(q,z,U,Z){return q.createModel(z,U,Z)}}),define(ie[984],ne([1,0,52,2,11,22,352,16,36,827,38,158,252,189,29,42,33,84,168,43,53,228,804,983,282,148,28,27,14,35,104,59,935,510]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n,h,m,u,d,r,l,o,g,c,b,C,S,D,I,T,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=P,e.onDidCreateEditor=M,e.onDidCreateDiffEditor=R,e.getEditors=F,e.getDiffEditors=O,e.createDiffEditor=B,e.createMultiFileDiffEditor=H,e.addCommand=V,e.addEditorAction=q,e.addKeybindingRule=z,e.addKeybindingRules=U,e.createModel=Z,e.setModelLanguage=re,e.setModelMarkers=x,e.removeAllMarkers=Q,e.getModelMarkers=X,e.onDidChangeMarkers=Y,e.getModel=ae,e.getModels=ce,e.onDidCreateModel=he,e.onWillDisposeModel=pe,e.onDidChangeModelLanguage=fe,e.createWebWorker=se,e.colorizeElement=te,e.colorize=$,e.colorizeModelLine=W,e.tokenize=K,e.defineTheme=G,e.setTheme=ee,e.remeasureFonts=oe,e.registerCommand=de,e.registerLinkOpener=le,e.registerEditorOpener=ge,e.createMonacoEditorAPI=ve;function P(Ce,Se,be){return c.StandaloneServices.initialize(be||{}).createInstance(g.StandaloneEditor,Ce,Se)}function M(Ce){return c.StandaloneServices.get(w.ICodeEditorService).onCodeEditorAdd(be=>{Ce(be)})}function R(Ce){return c.StandaloneServices.get(w.ICodeEditorService).onDiffEditorAdd(be=>{Ce(be)})}function F(){return c.StandaloneServices.get(w.ICodeEditorService).listCodeEditors()}function O(){return c.StandaloneServices.get(w.ICodeEditorService).listDiffEditors()}function B(Ce,Se,be){return c.StandaloneServices.initialize(be||{}).createInstance(g.StandaloneDiffEditor2,Ce,Se)}function H(Ce,Se){const be=c.StandaloneServices.initialize(Se||{});return new A.MultiDiffEditorWidget(Ce,{},be)}function V(Ce){if(typeof Ce.id!="string"||typeof Ce.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return S.CommandsRegistry.registerCommand(Ce.id,Ce.run)}function q(Ce){if(typeof Ce.id!="string"||typeof Ce.label!="string"||typeof Ce.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const Se=D.ContextKeyExpr.deserialize(Ce.precondition),be=(Ee,...Ae)=>p.EditorCommand.runEditorCommand(Ee,Ae,Se,(Pe,He,Be)=>Promise.resolve(Ce.run(He,...Be))),ke=new k.DisposableStore;if(ke.add(S.CommandsRegistry.registerCommand(Ce.id,be)),Ce.contextMenuGroupId){const Ee={command:{id:Ce.id,title:Ce.label},when:Se,group:Ce.contextMenuGroupId,order:Ce.contextMenuOrder||0};ke.add(C.MenuRegistry.appendMenuItem(C.MenuId.EditorContext,Ee))}if(Array.isArray(Ce.keybindings)){const Ee=c.StandaloneServices.get(I.IKeybindingService);if(!(Ee instanceof c.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Ae=D.ContextKeyExpr.and(Se,D.ContextKeyExpr.deserialize(Ce.keybindingContext));ke.add(Ee.addDynamicKeybindings(Ce.keybindings.map(Pe=>({keybinding:Pe,command:Ce.id,when:Ae}))))}}return ke}function z(Ce){return U([Ce])}function U(Ce){const Se=c.StandaloneServices.get(I.IKeybindingService);return Se instanceof c.StandaloneKeybindingService?Se.addDynamicKeybindings(Ce.map(be=>({keybinding:be.keybinding,command:be.command,commandArgs:be.commandArgs,when:D.ContextKeyExpr.deserialize(be.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None)}function Z(Ce,Se,be){const ke=c.StandaloneServices.get(n.ILanguageService),Ee=ke.getLanguageIdByMimeType(Se)||Se;return(0,g.createTextModel)(c.StandaloneServices.get(r.IModelService),ke,Ce,Ee,be)}function re(Ce,Se){const be=c.StandaloneServices.get(n.ILanguageService),ke=be.getLanguageIdByMimeType(Se)||Se||m.PLAINTEXT_LANGUAGE_ID;Ce.setLanguage(be.createById(ke))}function x(Ce,Se,be){Ce&&c.StandaloneServices.get(T.IMarkerService).changeOne(Se,Ce.uri,be)}function Q(Ce){c.StandaloneServices.get(T.IMarkerService).changeAll(Ce,[])}function X(Ce){return c.StandaloneServices.get(T.IMarkerService).read(Ce)}function Y(Ce){return c.StandaloneServices.get(T.IMarkerService).onMarkerChanged(Ce)}function ae(Ce){return c.StandaloneServices.get(r.IModelService).getModel(Ce)}function ce(){return c.StandaloneServices.get(r.IModelService).getModels()}function he(Ce){return c.StandaloneServices.get(r.IModelService).onModelAdded(Ce)}function pe(Ce){return c.StandaloneServices.get(r.IModelService).onModelRemoved(Ce)}function fe(Ce){return c.StandaloneServices.get(r.IModelService).onModelLanguageChanged(be=>{Ce({model:be.model,oldLanguage:be.oldLanguageId})})}function se(Ce){return(0,v.createWebWorker)(c.StandaloneServices.get(r.IModelService),c.StandaloneServices.get(h.ILanguageConfigurationService),Ce)}function te(Ce,Se){const be=c.StandaloneServices.get(n.ILanguageService),ke=c.StandaloneServices.get(b.IStandaloneThemeService);return o.Colorizer.colorizeElement(ke,be,Ce,Se).then(()=>{ke.registerEditorContainer(Ce)})}function $(Ce,Se,be){const ke=c.StandaloneServices.get(n.ILanguageService);return c.StandaloneServices.get(b.IStandaloneThemeService).registerEditorContainer(f.mainWindow.document.body),o.Colorizer.colorize(ke,Ce,Se,be)}function W(Ce,Se,be=4){return c.StandaloneServices.get(b.IStandaloneThemeService).registerEditorContainer(f.mainWindow.document.body),o.Colorizer.colorizeModelLine(Ce,Se,be)}function j(Ce){const Se=t.TokenizationRegistry.get(Ce);return Se||{getInitialState:()=>u.NullState,tokenize:(be,ke,Ee)=>(0,u.nullTokenize)(Ce,Ee)}}function K(Ce,Se){t.TokenizationRegistry.getOrCreate(Se);const be=j(Se),ke=(0,E.splitLines)(Ce),Ee=[];let Ae=be.getInitialState();for(let Pe=0,He=ke.length;Pe<He;Pe++){const Be=ke[Pe],De=be.tokenize(Be,!0,Ae);Ee[Pe]=De.tokens,Ae=De.endState}return Ee}function G(Ce,Se){c.StandaloneServices.get(b.IStandaloneThemeService).defineTheme(Ce,Se)}function ee(Ce){c.StandaloneServices.get(b.IStandaloneThemeService).setTheme(Ce)}function oe(){y.FontMeasurements.clearAllFontInfos()}function de(Ce,Se){return S.CommandsRegistry.registerCommand({id:Ce,handler:Se})}function le(Ce){return c.StandaloneServices.get(N.IOpenerService).registerOpener({async open(be){return typeof be=="string"&&(be=L.URI.parse(be)),Ce.open(be)}})}function ge(Ce){return c.StandaloneServices.get(w.ICodeEditorService).registerCodeEditorOpenHandler(async(be,ke,Ee)=>{var Ae;if(!ke)return null;const Pe=(Ae=be.options)===null||Ae===void 0?void 0:Ae.selection;let He;return Pe&&typeof Pe.endLineNumber=="number"&&typeof Pe.endColumn=="number"?He=Pe:Pe&&(He={lineNumber:Pe.startLineNumber,column:Pe.startColumn}),await Ce.openCodeEditor(ke,be.resource,He)?ke:null})}function ve(){return{create:P,getEditors:F,getDiffEditors:O,onDidCreateEditor:M,onDidCreateDiffEditor:R,createDiffEditor:B,addCommand:V,addEditorAction:q,addKeybindingRule:z,addKeybindingRules:U,createModel:Z,setModelLanguage:re,setModelMarkers:x,getModelMarkers:X,removeAllMarkers:Q,onDidChangeMarkers:Y,getModels:ce,getModel:ae,onDidCreateModel:he,onWillDisposeModel:pe,onDidChangeModelLanguage:fe,createWebWorker:se,colorizeElement:te,colorize:$,colorizeModelLine:W,tokenize:K,defineTheme:G,setTheme:ee,remeasureFonts:oe,registerCommand:de,registerLinkOpener:le,registerEditorOpener:ge,AccessibilitySupport:l.AccessibilitySupport,ContentWidgetPositionPreference:l.ContentWidgetPositionPreference,CursorChangeReason:l.CursorChangeReason,DefaultEndOfLine:l.DefaultEndOfLine,EditorAutoIndentStrategy:l.EditorAutoIndentStrategy,EditorOption:l.EditorOption,EndOfLinePreference:l.EndOfLinePreference,EndOfLineSequence:l.EndOfLineSequence,MinimapPosition:l.MinimapPosition,MinimapSectionHeaderStyle:l.MinimapSectionHeaderStyle,MouseTargetType:l.MouseTargetType,OverlayWidgetPositionPreference:l.OverlayWidgetPositionPreference,OverviewRulerLane:l.OverviewRulerLane,GlyphMarginLane:l.GlyphMarginLane,RenderLineNumbersType:l.RenderLineNumbersType,RenderMinimap:l.RenderMinimap,ScrollbarVisibility:l.ScrollbarVisibility,ScrollType:l.ScrollType,TextEditorCursorBlinkingStyle:l.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:l.TextEditorCursorStyle,TrackedRangeStickiness:l.TrackedRangeStickiness,WrappingIndent:l.WrappingIndent,InjectedTextCursorStops:l.InjectedTextCursorStops,PositionAffinity:l.PositionAffinity,ShowLightbulbIconMode:l.ShowLightbulbIconMode,ConfigurationChangedEvent:_.ConfigurationChangedEvent,BareFontInfo:s.BareFontInfo,FontInfo:s.FontInfo,TextModelResolvedOptions:d.TextModelResolvedOptions,FindMatch:d.FindMatch,ApplyUpdateResult:_.ApplyUpdateResult,EditorZoom:a.EditorZoom,createMultiFileDiffEditor:H,EditorType:i.EditorType,EditorOptions:_.EditorOptions}}}),define(ie[985],ne([1,0,34,5,29,33,84,42,228,282,592,363,148,104,18,25]),function(J,e,f,k,E,L,y,p,w,v,_,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=void 0,e.register=h,e.getLanguages=m,e.getEncodedLanguageId=u,e.onLanguage=d,e.onLanguageEncountered=r,e.setLanguageConfiguration=l,e.setColorMap=S,e.registerTokensProviderFactory=I,e.setTokensProvider=T,e.setMonarchTokensProvider=N,e.registerReferenceProvider=A,e.registerRenameProvider=P,e.registerNewSymbolNameProvider=M,e.registerSignatureHelpProvider=R,e.registerHoverProvider=F,e.registerDocumentSymbolProvider=O,e.registerDocumentHighlightProvider=B,e.registerLinkedEditingRangeProvider=H,e.registerDefinitionProvider=V,e.registerImplementationProvider=q,e.registerTypeDefinitionProvider=z,e.registerCodeLensProvider=U,e.registerCodeActionProvider=Z,e.registerDocumentFormattingEditProvider=re,e.registerDocumentRangeFormattingEditProvider=x,e.registerOnTypeFormattingEditProvider=Q,e.registerLinkProvider=X,e.registerCompletionItemProvider=Y,e.registerColorProvider=ae,e.registerFoldingRangeProvider=ce,e.registerDeclarationProvider=he,e.registerSelectionRangeProvider=pe,e.registerDocumentSemanticTokensProvider=fe,e.registerDocumentRangeSemanticTokensProvider=se,e.registerInlineCompletionsProvider=te,e.registerInlineEditProvider=$,e.registerInlayHintsProvider=W,e.createMonacoLanguagesAPI=j;function h(K){y.ModesRegistry.registerLanguage(K)}function m(){let K=[];return K=K.concat(y.ModesRegistry.getLanguages()),K}function u(K){return v.StandaloneServices.get(p.ILanguageService).languageIdCodec.encodeLanguageId(K)}function d(K,G){return v.StandaloneServices.withServices(()=>{const oe=v.StandaloneServices.get(p.ILanguageService).onDidRequestRichLanguageFeatures(de=>{de===K&&(oe.dispose(),G())});return oe})}function r(K,G){return v.StandaloneServices.withServices(()=>{const oe=v.StandaloneServices.get(p.ILanguageService).onDidRequestBasicLanguageFeatures(de=>{de===K&&(oe.dispose(),G())});return oe})}function l(K,G){if(!v.StandaloneServices.get(p.ILanguageService).isRegisteredLanguageId(K))throw new Error(`Cannot set configuration for unknown language ${K}`);return v.StandaloneServices.get(L.ILanguageConfigurationService).register(K,G,100)}class o{constructor(G,ee){this._languageId=G,this._actual=ee}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(G,ee,oe){if(typeof this._actual.tokenize=="function")return g.adaptTokenize(this._languageId,this._actual,G,oe);throw new Error("Not supported!")}tokenizeEncoded(G,ee,oe){const de=this._actual.tokenizeEncoded(G,oe);return new E.EncodedTokenizationResult(de.tokens,de.endState)}}e.EncodedTokenizationSupportAdapter=o;class g{constructor(G,ee,oe,de){this._languageId=G,this._actual=ee,this._languageService=oe,this._standaloneThemeService=de}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(G,ee){const oe=[];let de=0;for(let le=0,ge=G.length;le<ge;le++){const ve=G[le];let Ce=ve.startIndex;le===0?Ce=0:Ce<de&&(Ce=de),oe[le]=new E.Token(Ce,ve.scopes,ee),de=Ce}return oe}static adaptTokenize(G,ee,oe,de){const le=ee.tokenize(oe,de),ge=g._toClassicTokens(le.tokens,G);let ve;return le.endState.equals(de)?ve=de:ve=le.endState,new E.TokenizationResult(ge,ve)}tokenize(G,ee,oe){return g.adaptTokenize(this._languageId,this._actual,G,oe)}_toBinaryTokens(G,ee){const oe=G.encodeLanguageId(this._languageId),de=this._standaloneThemeService.getColorTheme().tokenTheme,le=[];let ge=0,ve=0;for(let Se=0,be=ee.length;Se<be;Se++){const ke=ee[Se],Ee=de.match(oe,ke.scopes)|1024;if(ge>0&&le[ge-1]===Ee)continue;let Ae=ke.startIndex;Se===0?Ae=0:Ae<ve&&(Ae=ve),le[ge++]=Ae,le[ge++]=Ee,ve=Ae}const Ce=new Uint32Array(ge);for(let Se=0;Se<ge;Se++)Ce[Se]=le[Se];return Ce}tokenizeEncoded(G,ee,oe){const de=this._actual.tokenize(G,oe),le=this._toBinaryTokens(this._languageService.languageIdCodec,de.tokens);let ge;return de.endState.equals(oe)?ge=oe:ge=de.endState,new E.EncodedTokenizationResult(le,ge)}}e.TokenizationSupportAdapter=g;function c(K){return typeof K.getInitialState=="function"}function b(K){return"tokenizeEncoded"in K}function C(K){return K&&typeof K.then=="function"}function S(K){const G=v.StandaloneServices.get(s.IStandaloneThemeService);if(K){const ee=[null];for(let oe=1,de=K.length;oe<de;oe++)ee[oe]=f.Color.fromHex(K[oe]);G.setColorMapOverride(ee)}else G.setColorMapOverride(null)}function D(K,G){return b(G)?new o(K,G):new g(K,G,v.StandaloneServices.get(p.ILanguageService),v.StandaloneServices.get(s.IStandaloneThemeService))}function I(K,G){const ee=new E.LazyTokenizationSupport(async()=>{const oe=await Promise.resolve(G.create());return oe?c(oe)?D(K,oe):new a.MonarchTokenizer(v.StandaloneServices.get(p.ILanguageService),v.StandaloneServices.get(s.IStandaloneThemeService),K,(0,_.compile)(K,oe),v.StandaloneServices.get(n.IConfigurationService)):null});return E.TokenizationRegistry.registerFactory(K,ee)}function T(K,G){if(!v.StandaloneServices.get(p.ILanguageService).isRegisteredLanguageId(K))throw new Error(`Cannot set tokens provider for unknown language ${K}`);return C(G)?I(K,{create:()=>G}):E.TokenizationRegistry.register(K,D(K,G))}function N(K,G){const ee=oe=>new a.MonarchTokenizer(v.StandaloneServices.get(p.ILanguageService),v.StandaloneServices.get(s.IStandaloneThemeService),K,(0,_.compile)(K,oe),v.StandaloneServices.get(n.IConfigurationService));return C(G)?I(K,{create:()=>G}):E.TokenizationRegistry.register(K,ee(G))}function A(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).referenceProvider.register(K,G)}function P(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).renameProvider.register(K,G)}function M(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).newSymbolNamesProvider.register(K,G)}function R(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).signatureHelpProvider.register(K,G)}function F(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).hoverProvider.register(K,{provideHover:(oe,de,le)=>{const ge=oe.getWordAtPosition(de);return Promise.resolve(G.provideHover(oe,de,le)).then(ve=>{if(ve)return!ve.range&&ge&&(ve.range=new k.Range(de.lineNumber,ge.startColumn,de.lineNumber,ge.endColumn)),ve.range||(ve.range=new k.Range(de.lineNumber,de.column,de.lineNumber,de.column)),ve})}})}function O(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentSymbolProvider.register(K,G)}function B(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentHighlightProvider.register(K,G)}function H(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).linkedEditingRangeProvider.register(K,G)}function V(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).definitionProvider.register(K,G)}function q(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).implementationProvider.register(K,G)}function z(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).typeDefinitionProvider.register(K,G)}function U(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).codeLensProvider.register(K,G)}function Z(K,G,ee){return v.StandaloneServices.get(t.ILanguageFeaturesService).codeActionProvider.register(K,{providedCodeActionKinds:ee?.providedCodeActionKinds,documentation:ee?.documentation,provideCodeActions:(de,le,ge,ve)=>{const Se=v.StandaloneServices.get(i.IMarkerService).read({resource:de.uri}).filter(be=>k.Range.areIntersectingOrTouching(be,le));return G.provideCodeActions(de,le,{markers:Se,only:ge.only,trigger:ge.trigger},ve)},resolveCodeAction:G.resolveCodeAction})}function re(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentFormattingEditProvider.register(K,G)}function x(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(K,G)}function Q(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).onTypeFormattingEditProvider.register(K,G)}function X(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).linkProvider.register(K,G)}function Y(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).completionProvider.register(K,G)}function ae(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).colorProvider.register(K,G)}function ce(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).foldingRangeProvider.register(K,G)}function he(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).declarationProvider.register(K,G)}function pe(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).selectionRangeProvider.register(K,G)}function fe(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentSemanticTokensProvider.register(K,G)}function se(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(K,G)}function te(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlineCompletionsProvider.register(K,G)}function $(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlineEditProvider.register(K,G)}function W(K,G){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlayHintsProvider.register(K,G)}function j(){return{register:h,getLanguages:m,onLanguage:d,onLanguageEncountered:r,getEncodedLanguageId:u,setLanguageConfiguration:l,setColorMap:S,registerTokensProviderFactory:I,setTokensProvider:T,setMonarchTokensProvider:N,registerReferenceProvider:A,registerRenameProvider:P,registerNewSymbolNameProvider:M,registerCompletionItemProvider:Y,registerSignatureHelpProvider:R,registerHoverProvider:F,registerDocumentSymbolProvider:O,registerDocumentHighlightProvider:B,registerLinkedEditingRangeProvider:H,registerDefinitionProvider:V,registerImplementationProvider:q,registerTypeDefinitionProvider:z,registerCodeLensProvider:U,registerCodeActionProvider:Z,registerDocumentFormattingEditProvider:re,registerDocumentRangeFormattingEditProvider:x,registerOnTypeFormattingEditProvider:Q,registerLinkProvider:X,registerColorProvider:ae,registerFoldingRangeProvider:ce,registerDeclarationProvider:he,registerSelectionRangeProvider:pe,registerDocumentSemanticTokensProvider:fe,registerDocumentRangeSemanticTokensProvider:se,registerInlineCompletionsProvider:te,registerInlineEditProvider:$,registerInlayHintsProvider:W,DocumentHighlightKind:w.DocumentHighlightKind,CompletionItemKind:w.CompletionItemKind,CompletionItemTag:w.CompletionItemTag,CompletionItemInsertTextRule:w.CompletionItemInsertTextRule,SymbolKind:w.SymbolKind,SymbolTag:w.SymbolTag,IndentAction:w.IndentAction,CompletionTriggerKind:w.CompletionTriggerKind,SignatureHelpTriggerKind:w.SignatureHelpTriggerKind,InlayHintKind:w.InlayHintKind,InlineCompletionTriggerKind:w.InlineCompletionTriggerKind,InlineEditTriggerKind:w.InlineEditTriggerKind,CodeActionTriggerType:w.CodeActionTriggerType,NewSymbolNameTag:w.NewSymbolNameTag,PartialAcceptTriggerKind:w.PartialAcceptTriggerKind,FoldingRangeKind:E.FoldingRangeKind,SelectedSuggestionInfo:E.SelectedSuggestionInfo}}}),define(ie[986],ne([1,0,38,355,984,985,381]),function(J,e,f,k,E,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,f.EditorOptions.wrappingIndent.defaultValue=0,f.EditorOptions.glyphMargin.defaultValue=!1,f.EditorOptions.autoIndent.defaultValue=3,f.EditorOptions.overviewRulerLanes.defaultValue=2,y.FormattingConflicts.setFormatterSelector((v,_,a)=>Promise.resolve(v[0]));const p=(0,k.createMonacoBaseAPI)();p.editor=(0,E.createMonacoEditorAPI)(),p.languages=(0,L.createMonacoLanguagesAPI)(),e.CancellationTokenSource=p.CancellationTokenSource,e.Emitter=p.Emitter,e.KeyCode=p.KeyCode,e.KeyMod=p.KeyMod,e.Position=p.Position,e.Range=p.Range,e.Selection=p.Selection,e.SelectionDirection=p.SelectionDirection,e.MarkerSeverity=p.MarkerSeverity,e.MarkerTag=p.MarkerTag,e.Uri=p.Uri,e.Token=p.Token,e.editor=p.editor,e.languages=p.languages;const w=globalThis.MonacoEnvironment;(w?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=p),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Wt=this&&this.__createBinding||(Object.create?function(J,e,f,k){k===void 0&&(k=f);var E=Object.getOwnPropertyDescriptor(e,f);(!E||("get"in E?!e.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return e[f]}}),Object.defineProperty(J,k,E)}:function(J,e,f,k){k===void 0&&(k=f),J[k]=e[f]}),Ct=this&&this.__exportStar||function(J,e){for(var f in J)f!=="default"&&!Object.prototype.hasOwnProperty.call(e,f)&&Wt(e,J,f)};define(ie[988],ne([1,0,986,982,867,868,840,914,915,871,968,917]),function(J,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(f,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.48.0(0037b13fb5d186fdf1e7df51a9416a2de2b8c670)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,s)=>(typeof require<"u"?require:r)[s]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var l=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(l(e,r,"default"),s&&l(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},l(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},m={},u=class e{static getOrCreate(r){return m[r]||(m[r]=new e(r)),m[r]}constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=u.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.48.0(0037b13fb5d186fdf1e7df51a9416a2de2b8c670)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{constructor(n,r,a){this._onDidChange=new o.Emitter;this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.48.0(0037b13fb5d186fdf1e7df51a9416a2de2b8c670)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{constructor(n,t,r){this._onDidChange=new a.Emitter;this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.48.0(0037b13fb5d186fdf1e7df51a9416a2de2b8c670)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var i=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var s=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var O=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),v=(e,n)=>{for(var o in n)i(e,o,{get:n[o],enumerable:!0})},g=(e,n,o,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of h(n))!b.call(e,r)&&r!==o&&i(e,r,{get:()=>n[r],enumerable:!(a=f(n,r))||a.enumerable});return e};var m=(e,n,o)=>(o=e!=null?y(N(e)):{},g(n||!e||!e.__esModule?i(o,"default",{value:e,enumerable:!0}):o,e)),x=e=>g(i({},"__esModule",{value:!0}),e);var u=O((J,c)=>{var A=m(s("vs/editor/editor.api"));c.exports=A});var C={};v(C,{getWorker:()=>S,jsonDefaults:()=>l});var t=m(u());var d=class{constructor(n,o,a){this._onDidChange=new t.Emitter;this._languageId=n,this.setDiagnosticsOptions(o),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},T={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},D={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new d("json",T,D),S=()=>p().then(e=>e.getWorker());t.languages.json={jsonDefaults:l,getWorker:S};function p(){return new Promise((e,n)=>{s(["vs/language/json/jsonMode"],e,n)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{p().then(e=>e.setupMode(l))});return x(C);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.48.0(0037b13fb5d186fdf1e7df51a9416a2de2b8c670)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.0.2";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{constructor(e,t,i,r,p){this._onDidChange=new l.Emitter;this._onDidExtraLibsChange=new l.Emitter;this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];p&&p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map