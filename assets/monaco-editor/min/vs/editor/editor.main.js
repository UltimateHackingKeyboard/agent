/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(c321d0fbecb50ab8a5365fa1965476b0ae63fc87)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ne=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/browser/dom","vs/base/common/event","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/editor/common/core/position","vs/base/common/strings","vs/css!vs/editor/editor.main","vs/base/common/arrays","vs/platform/contextkey/common/contextkey","vs/base/common/async","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/types","vs/editor/common/editorContextKeys","vs/base/common/uri","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/common/languages","vs/platform/configuration/common/configuration","vs/platform/actions/common/actions","vs/base/common/observable","vs/base/common/themables","vs/platform/keybinding/common/keybinding","vs/platform/theme/common/colorRegistry","vs/base/common/color","vs/editor/common/languages/languageConfigurationRegistry","vs/editor/browser/services/codeEditorService","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/platform/registry/common/platform","vs/base/browser/fastDomNode","vs/base/common/actions","vs/editor/common/model","vs/editor/common/languages/language","vs/base/browser/ui/hover/hoverDelegateFactory","vs/base/common/map","vs/base/browser/keyboardEvent","vs/base/common/network","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/platform/notification/common/notification","vs/base/common/resources","vs/base/browser/window","vs/editor/common/services/model","vs/base/common/iterator","vs/base/common/objects","vs/editor/browser/view/viewPart","vs/base/common/htmlContent","vs/platform/contextview/browser/contextView","vs/platform/telemetry/common/telemetry","vs/base/common/stopwatch","vs/editor/common/core/lineRange","vs/platform/accessibility/common/accessibility","vs/platform/log/common/log","vs/platform/opener/common/opener","vs/platform/quickinput/common/quickInput","vs/base/browser/browser","vs/editor/common/core/offsetRange","vs/base/common/arraysFind","vs/base/browser/touch","vs/base/common/keyCodes","vs/base/common/linkedList","vs/editor/browser/config/domFontInfo","vs/editor/common/core/editOperation","vs/base/browser/mouseEvent","vs/editor/common/services/resolverService","vs/platform/theme/common/iconRegistry","vs/base/browser/ui/hover/hoverDelegate2","vs/base/common/filters","vs/editor/common/cursorCommon","vs/base/browser/ui/widget","vs/base/browser/ui/scrollbar/scrollableElement","vs/base/browser/ui/actionbar/actionbar","vs/editor/browser/widget/diffEditor/utils","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/editor/common/core/editorColorRegistry","vs/base/common/assert","vs/base/common/hierarchicalKind","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/editor/common/tokens/lineTokens","vs/editor/common/viewModel","vs/platform/progress/common/progress","vs/platform/theme/common/colorUtils","vs/platform/theme/common/theme","vs/base/common/lazy","vs/editor/contrib/hover/browser/hoverTypes","vs/base/common/path","vs/platform/storage/common/storage","vs/base/browser/trustedTypes","vs/editor/common/diff/rangeMapping","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/standaloneStrings","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/platform/theme/browser/defaultStyles","vs/base/common/severity","vs/editor/common/core/textLength","vs/editor/common/core/textEdit","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/list/listWidget","vs/editor/common/core/stringBuilder","vs/editor/common/services/editorWorker","vs/platform/clipboard/common/clipboardService","vs/platform/hover/browser/hover","vs/platform/layout/browser/layoutService","vs/editor/browser/widget/markdownRenderer/browser/markdownRenderer","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/common/colors/baseColors","vs/platform/actions/browser/menuEntryActionViewItem","vs/base/common/decorators","vs/base/common/functional","vs/base/common/mime","vs/base/common/observableInternal/base","vs/base/common/observableInternal/derived","vs/base/common/hash","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/platform/theme/common/colors/editorColors","vs/base/common/keybindings","vs/base/common/numbers","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/editorFeatures","vs/editor/common/encodedTokenAttributes","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/equals","vs/base/common/buffer","vs/base/common/observableInternal/logging","vs/base/common/scrollable","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/languages/supports","vs/editor/common/viewEventHandler","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/sash/sash","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/tree/abstractTree","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/contextkey/common/contextkeys","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/contrib/message/browser/messageController","vs/editor/browser/editorDom","vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/observableInternal/debugName","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/codiconsUtil","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/markdownRenderer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/hover/browser/hoverActionIds","vs/editor/common/services/textResourceConfiguration","vs/editor/browser/controller/textAreaInput","vs/editor/common/commands/shiftCommand","vs/editor/browser/coreCommands","vs/platform/list/browser/listService","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/toolbar","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/diffEditor/registrations.contribution","vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/diff/defaultLinesDiffComputer/utils","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/common/languages/supports/indentationLineProcessor","vs/editor/common/languages/autoIndent","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/pixelRatio","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/button/button","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/environment/common/environment","vs/platform/quickinput/browser/quickInput","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/enterAction","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/platform/theme/common/colors/miscColors","vs/platform/theme/common/colors/listColors","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/contrib/inlineEdit/browser/inlineEditController","vs/editor/browser/widget/diffEditor/diffEditorWidget","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/hover/browser/hoverController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/collections","vs/base/common/observableInternal/autorun","vs/base/common/ime","vs/base/common/observableInternal/utils","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm","vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations","vs/editor/common/diff/defaultLinesDiffComputer/linesSliceCharSequence","vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/common/indentUtils","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/browser/widget/multiDiffEditor/utils","vs/base/common/errorMessage","vs/base/common/process","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/widget/diffEditor/components/diffEditorSash","vs/editor/common/core/textChange","vs/editor/common/languageSelector","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/nls!vs/editor/contrib/rename/browser/renameWidget","vs/platform/accessibility/browser/accessibleViewRegistry","vs/platform/action/common/action","vs/platform/files/common/files","vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/hover/browser/contentHoverStatusBar","vs/editor/contrib/hover/browser/contentHoverWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/contextview/browser/contextViewService","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/platform/actions/common/menuService","vs/editor/browser/widget/diffEditor/diffEditorViewModel","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/platform/theme/common/colors/inputColors","vs/platform/theme/common/colors/minimapColors","vs/editor/browser/controller/mouseTarget","vs/editor/browser/widget/diffEditor/features/overviewRulerFeature","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/editor/browser/widget/multiDiffEditor/diffEditorItemTemplate","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/naturalLanguage/korean","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/promise","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/base/common/tfIdf","vs/base/common/codiconsLibrary","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hoverWidget","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/services/hoverService/hover","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/codeEditor/editor","vs/css!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/css!vs/editor/browser/widget/diffEditor/style","vs/css!vs/editor/browser/widget/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/browser/widget/multiDiffEditor/style","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEdit","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameWidget","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/observableUtilities","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditor/delegatingEditorImpl","vs/editor/browser/widget/multiDiffEditor/objectPool","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/core/positionToOffset","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/defaultLinesDiffComputer/lineSequence","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/defaultLinesDiffComputer/computeMovedLines","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/textModelText","vs/editor/common/services/findSectionHeaders","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/glyphLanesModel","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/hover/browser/contentHoverTypes","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsAccessibleView","vs/editor/contrib/inlineEdit/browser/commandIds","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/hover/hoverWidget","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/fonts","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/hotReload","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/widget/codeEditor/codeEditorContributions","vs/editor/browser/widget/diffEditor/utils/editorGutter","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/contentHoverComputer","vs/editor/contrib/hover/browser/marginHoverComputer","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/services/hoverService/hoverWidget","vs/nls!vs/editor/browser/services/hoverService/updatableHoverWidget","vs/editor/browser/services/hoverService/updatableHoverWidget","vs/nls!vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor/commands","vs/nls!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/nls!vs/editor/browser/widget/diffEditor/registrations.contribution","vs/nls!vs/editor/browser/widget/multiDiffEditor/colors","vs/nls!vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/renderLines","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hoverAccessibleViews","vs/nls!vs/editor/contrib/hover/browser/hoverActionIds","vs/editor/contrib/hover/browser/hoverAccessibleViews","vs/nls!vs/editor/contrib/hover/browser/hoverActions","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputActions","vs/nls!vs/platform/quickinput/browser/quickInputController","vs/nls!vs/platform/quickinput/browser/quickInputTree","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colors/baseColors","vs/nls!vs/platform/theme/common/colors/chartsColors","vs/nls!vs/platform/theme/common/colors/editorColors","vs/nls!vs/platform/theme/common/colors/inputColors","vs/nls!vs/platform/theme/common/colors/listColors","vs/nls!vs/platform/theme/common/colors/menuColors","vs/nls!vs/platform/theme/common/colors/minimapColors","vs/nls!vs/platform/theme/common/colors/miscColors","vs/nls!vs/platform/theme/common/colors/quickpickColors","vs/nls!vs/platform/theme/common/colors/searchColors","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineEdit/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/editor/browser/widget/diffEditor/diffEditorOptions","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/editor/contrib/diffEditorBreadcrumbs/browser/contribution","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/platform/observable/common/platformObservableUtils","vs/editor/browser/services/openerService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/hoverService/hoverWidget","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/browser/marginHoverWidget","vs/editor/contrib/indentation/common/indentation","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/platform/configuration/common/configurations","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/quickInputActions","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/widget/diffEditor/diffProviderFactoryService","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/platform/theme/common/colors/menuColors","vs/platform/theme/common/colors/chartsColors","vs/platform/theme/common/colors/quickpickColors","vs/platform/theme/common/colors/searchColors","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/multiDiffEditor/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/services/hoverService/hoverService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameWidget","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/editor/browser/widget/diffEditor/features/gutterFeature","vs/editor/contrib/inlineEdit/browser/commands","vs/editor/contrib/inlineEdit/browser/hoverParticipant","vs/editor/contrib/inlineEdit/browser/inlineEdit.contribution","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputTree","vs/platform/quickinput/browser/quickInputController","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditor/components/diffEditorDecorations","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/diffEditorViewZones","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditor/commands","vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidget","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/sectionHeaders/browser/sectionHeaders","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/hover/browser/contentHoverController","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/hover/browser/hoverActions","vs/editor/contrib/hover/browser/hoverContribution","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],se=function(X){for(var e=[],f=0,k=X.length;f<k;f++)e[f]=ne[X[f]];return e};define(ne[1009],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=f;function f(m,w,b,C){if(C=C||{},(C["vs/css"]||{}).disabled){b({});return}const n=w.toUrl(m+".css");k(m,n,()=>{b({})},i=>{typeof b.error=="function"&&b.error("Could not find "+n+".")})}function k(m,w,b,C){if(L(m,w)){b();return}D(m,w,b,C)}function L(m,w){const b=window.document.getElementsByTagName("link");for(let C=0,o=b.length;C<o;C++){const n=b[C].getAttribute("data-name"),i=b[C].getAttribute("href");if(n===m||i===w)return!0}return!1}function D(m,w,b,C){const o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("data-name",m),y(m,o,b,C),o.setAttribute("href",w),(window.document.head||window.document.getElementsByTagName("head")[0]).appendChild(o)}function y(m,w,b,C){const o=()=>{w.removeEventListener("load",n),w.removeEventListener("error",i)},n=t=>{o(),b()},i=t=>{o(),C(t)};w.addEventListener("load",n),w.addEventListener("error",i)}}),define(ne[3],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.localize=C,e.localize2=o,e.getConfiguredDefaultLocale=n,e.setPseudoTranslation=i,e.create=t,e.load=s;let f=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function L(c,g){let l;return g.length===0?l=c:l=c.replace(/\{(\d+)\}/g,(r,d)=>{const u=d[0],a=g[u];let v=r;return typeof a=="string"?v=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(v=String(a)),v}),f&&(l="\uFF3B"+l.replace(/[aouei]/g,"$&$&")+"\uFF3D"),l}function D(c,g){let l=c[g];return l||(l=c["*"],l)?l:null}function y(c){return c.charAt(c.length-1)==="/"?c:c+"/"}async function m(c,g,l){const r=y(c)+y(g)+"vscode/"+y(l),d=await fetch(r);if(d.ok)return await d.json();throw new Error(`${d.status} - ${d.statusText}`)}function w(c){return function(g,l){const r=Array.prototype.slice.call(arguments,2);return L(c[g],r)}}function b(c){return(g,l,...r)=>({value:L(c[g],r),original:L(l,r)})}function C(c,g,...l){return L(g,l)}function o(c,g,...l){const r=L(g,l);return{value:r,original:r}}function n(c){}function i(c){f=c}function t(c,g){var l;return{localize:w(g[c]),localize2:b(g[c]),getConfiguredDefaultLocale:(l=g.getConfiguredDefaultLocale)!==null&&l!==void 0?l:r=>{}}}function s(c,g,l,r){var d;const u=(d=r["vs/nls"])!==null&&d!==void 0?d:{};if(!c||c.length===0)return l({localize:C,localize2:o,getConfiguredDefaultLocale:()=>{var _;return(_=u.availableLanguages)===null||_===void 0?void 0:_["*"]}});const a=u.availableLanguages?D(u.availableLanguages,c):null,v=a===null||a===k;let h=".nls";v||(h=h+"."+a);const p=_=>{Array.isArray(_)?(_.localize=w(_),_.localize2=b(_)):(_.localize=w(_[c]),_.localize2=b(_[c])),_.getConfiguredDefaultLocale=()=>{var S;return(S=u.availableLanguages)===null||S===void 0?void 0:S["*"]},l(_)};typeof u.loadBundle=="function"?u.loadBundle(c,a,(_,S)=>{_?g([c+".nls"],p):p(S)}):u.translationServiceUrl&&!v?(async()=>{var _;try{const S=await m(u.translationServiceUrl,a,c);return p(S)}catch(S){if(!a.includes("-"))return console.error(S),g([c+".nls"],p);try{const E=a.split("-")[0],I=await m(u.translationServiceUrl,E,c);return(_=u.availableLanguages)!==null&&_!==void 0||(u.availableLanguages={}),u.availableLanguages["*"]=E,p(I)}catch(E){return console.error(E),g([c+".nls"],p)}}})():g([c+h],p,_=>{if(h===".nls"){console.error("Failed trying to load default language strings",_);return}console.error(`Failed to load message bundle for language ${a}. Falling back to the default language:`,_),g([c+".nls"],p)})}});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Vt,setPrototypeOf:zt,isFrozen:Xt,getPrototypeOf:Jt,getOwnPropertyDescriptor:ei}=Object;let{freeze:ft,seal:St,create:ti}=Object,{apply:Rt,construct:Pt}=typeof Reflect<"u"&&Reflect;Rt||(Rt=function(e,f,k){return e.apply(f,k)}),ft||(ft=function(e){return e}),St||(St=function(e){return e}),Pt||(Pt=function(e,f){return new e(...f)});const ii=bt(Array.prototype.forEach),Kt=bt(Array.prototype.pop),kt=bt(Array.prototype.push),Mt=bt(String.prototype.toLowerCase),Ot=bt(String.prototype.toString),ni=bt(String.prototype.match),wt=bt(String.prototype.replace),si=bt(String.prototype.indexOf),oi=bt(String.prototype.trim),mt=bt(RegExp.prototype.test),Tt=ri(TypeError);function bt(X){return function(e){for(var f=arguments.length,k=new Array(f>1?f-1:0),L=1;L<f;L++)k[L-1]=arguments[L];return Rt(X,e,k)}}function ri(X){return function(){for(var e=arguments.length,f=new Array(e),k=0;k<e;k++)f[k]=arguments[k];return Pt(X,f)}}function Qe(X,e,f){var k;f=(k=f)!==null&&k!==void 0?k:Mt,zt&&zt(X,null);let L=e.length;for(;L--;){let D=e[L];if(typeof D=="string"){const y=f(D);y!==D&&(Xt(e)||(e[L]=y),D=y)}X[D]=!0}return X}function It(X){const e=ti(null);for(const[f,k]of Vt(X))e[f]=k;return e}function Nt(X,e){for(;X!==null;){const k=ei(X,e);if(k){if(k.get)return bt(k.get);if(typeof k.value=="function")return bt(k.value)}X=Jt(X)}function f(k){return console.warn("fallback value for",k),null}return f}const qt=ft(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ft=ft(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xt=ft(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ai=ft(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bt=ft(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),li=ft(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ut=ft(["#text"]),jt=ft(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Wt=ft(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Gt=ft(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),At=ft(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),di=St(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ci=St(/<%[\w\W]*|[\w\W]*%>/gm),ui=St(/\${[\w\W]*}/gm),hi=St(/^data-[\-\w.\u00B7-\uFFFF]/),gi=St(/^aria-[\-\w]+$/),$t=St(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fi=St(/^(?:\w+script|data):/i),mi=St(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Zt=St(/^html$/i);var Yt=Object.freeze({__proto__:null,MUSTACHE_EXPR:di,ERB_EXPR:ci,TMPLIT_EXPR:ui,DATA_ATTR:hi,ARIA_ATTR:gi,IS_ALLOWED_URI:$t,IS_SCRIPT_OR_DATA:fi,ATTR_WHITESPACE:mi,DOCTYPE_NAME:Zt});const pi=()=>typeof window>"u"?null:window,vi=function(e,f){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let k=null;const L="data-tt-policy-suffix";f&&f.hasAttribute(L)&&(k=f.getAttribute(L));const D="dompurify"+(k?"#"+k:"");try{return e.createPolicy(D,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Qt(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pi();const e=we=>Qt(we);if(e.version="3.0.5",e.removed=[],!X||!X.document||X.document.nodeType!==9)return e.isSupported=!1,e;const f=X.document,k=f.currentScript;let{document:L}=X;const{DocumentFragment:D,HTMLTemplateElement:y,Node:m,Element:w,NodeFilter:b,NamedNodeMap:C=X.NamedNodeMap||X.MozNamedAttrMap,HTMLFormElement:o,DOMParser:n,trustedTypes:i}=X,t=w.prototype,s=Nt(t,"cloneNode"),c=Nt(t,"nextSibling"),g=Nt(t,"childNodes"),l=Nt(t,"parentNode");if(typeof y=="function"){const we=L.createElement("template");we.content&&we.content.ownerDocument&&(L=we.content.ownerDocument)}let r,d="";const{implementation:u,createNodeIterator:a,createDocumentFragment:v,getElementsByTagName:h}=L,{importNode:p}=f;let _={};e.isSupported=typeof Vt=="function"&&typeof l=="function"&&u&&u.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:S,ERB_EXPR:E,TMPLIT_EXPR:I,DATA_ATTR:T,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:A,ATTR_WHITESPACE:R}=Yt;let{IS_ALLOWED_URI:M}=Yt,P=null;const F=Qe({},[...qt,...Ft,...xt,...Bt,...Ut]);let O=null;const B=Qe({},[...jt,...Wt,...Gt,...At]);let V=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,U=null,G=!0,z=!0,$=!1,J=!0,ee=!1,Z=!1,x=!1,Y=!1,ae=!1,ue=!1,he=!1,pe=!0,ce=!1;const ie="user-content-";let oe=!0,re=!1,W={},q=null;const H=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let j=null;const Q=Qe({},["audio","video","img","source","image","track"]);let te=null;const le=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let Ce=ve,ye=!1,Se=null;const Te=Qe({},[de,me,ve],Ot);let De;const Me=["application/xhtml+xml","text/html"],Ae="text/html";let Pe,Re=null;const Ee=L.createElement("form"),Ne=function(be){return be instanceof RegExp||be instanceof Function},fe=function(be){if(!(Re&&Re===be)){if((!be||typeof be!="object")&&(be={}),be=It(be),De=Me.indexOf(be.PARSER_MEDIA_TYPE)===-1?De=Ae:De=be.PARSER_MEDIA_TYPE,Pe=De==="application/xhtml+xml"?Ot:Mt,P="ALLOWED_TAGS"in be?Qe({},be.ALLOWED_TAGS,Pe):F,O="ALLOWED_ATTR"in be?Qe({},be.ALLOWED_ATTR,Pe):B,Se="ALLOWED_NAMESPACES"in be?Qe({},be.ALLOWED_NAMESPACES,Ot):Te,te="ADD_URI_SAFE_ATTR"in be?Qe(It(le),be.ADD_URI_SAFE_ATTR,Pe):le,j="ADD_DATA_URI_TAGS"in be?Qe(It(Q),be.ADD_DATA_URI_TAGS,Pe):Q,q="FORBID_CONTENTS"in be?Qe({},be.FORBID_CONTENTS,Pe):H,K="FORBID_TAGS"in be?Qe({},be.FORBID_TAGS,Pe):{},U="FORBID_ATTR"in be?Qe({},be.FORBID_ATTR,Pe):{},W="USE_PROFILES"in be?be.USE_PROFILES:!1,G=be.ALLOW_ARIA_ATTR!==!1,z=be.ALLOW_DATA_ATTR!==!1,$=be.ALLOW_UNKNOWN_PROTOCOLS||!1,J=be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=be.SAFE_FOR_TEMPLATES||!1,Z=be.WHOLE_DOCUMENT||!1,ae=be.RETURN_DOM||!1,ue=be.RETURN_DOM_FRAGMENT||!1,he=be.RETURN_TRUSTED_TYPE||!1,Y=be.FORCE_BODY||!1,pe=be.SANITIZE_DOM!==!1,ce=be.SANITIZE_NAMED_PROPS||!1,oe=be.KEEP_CONTENT!==!1,re=be.IN_PLACE||!1,M=be.ALLOWED_URI_REGEXP||$t,Ce=be.NAMESPACE||ve,V=be.CUSTOM_ELEMENT_HANDLING||{},be.CUSTOM_ELEMENT_HANDLING&&Ne(be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),be.CUSTOM_ELEMENT_HANDLING&&Ne(be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),be.CUSTOM_ELEMENT_HANDLING&&typeof be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(z=!1),ue&&(ae=!0),W&&(P=Qe({},[...Ut]),O=[],W.html===!0&&(Qe(P,qt),Qe(O,jt)),W.svg===!0&&(Qe(P,Ft),Qe(O,Wt),Qe(O,At)),W.svgFilters===!0&&(Qe(P,xt),Qe(O,Wt),Qe(O,At)),W.mathMl===!0&&(Qe(P,Bt),Qe(O,Gt),Qe(O,At))),be.ADD_TAGS&&(P===F&&(P=It(P)),Qe(P,be.ADD_TAGS,Pe)),be.ADD_ATTR&&(O===B&&(O=It(O)),Qe(O,be.ADD_ATTR,Pe)),be.ADD_URI_SAFE_ATTR&&Qe(te,be.ADD_URI_SAFE_ATTR,Pe),be.FORBID_CONTENTS&&(q===H&&(q=It(q)),Qe(q,be.FORBID_CONTENTS,Pe)),oe&&(P["#text"]=!0),Z&&Qe(P,["html","head","body"]),P.table&&(Qe(P,["tbody"]),delete K.tbody),be.TRUSTED_TYPES_POLICY){if(typeof be.TRUSTED_TYPES_POLICY.createHTML!="function")throw Tt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Tt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');r=be.TRUSTED_TYPES_POLICY,d=r.createHTML("")}else r===void 0&&(r=vi(i,k)),r!==null&&typeof d=="string"&&(d=r.createHTML(""));ft&&ft(be),Re=be}},_e=Qe({},["mi","mo","mn","ms","mtext"]),Oe=Qe({},["foreignobject","desc","title","annotation-xml"]),Be=Qe({},["title","style","font","a","script"]),Ke=Qe({},Ft);Qe(Ke,xt),Qe(Ke,ai);const je=Qe({},Bt);Qe(je,li);const Ze=function(be){let Ie=l(be);(!Ie||!Ie.tagName)&&(Ie={namespaceURI:Ce,tagName:"template"});const xe=Mt(be.tagName),Ve=Mt(Ie.tagName);return Se[be.namespaceURI]?be.namespaceURI===me?Ie.namespaceURI===ve?xe==="svg":Ie.namespaceURI===de?xe==="svg"&&(Ve==="annotation-xml"||_e[Ve]):!!Ke[xe]:be.namespaceURI===de?Ie.namespaceURI===ve?xe==="math":Ie.namespaceURI===me?xe==="math"&&Oe[Ve]:!!je[xe]:be.namespaceURI===ve?Ie.namespaceURI===me&&!Oe[Ve]||Ie.namespaceURI===de&&!_e[Ve]?!1:!je[xe]&&(Be[xe]||!Ke[xe]):!!(De==="application/xhtml+xml"&&Se[be.namespaceURI]):!1},et=function(be){kt(e.removed,{element:be});try{be.parentNode.removeChild(be)}catch{be.remove()}},it=function(be,Ie){try{kt(e.removed,{attribute:Ie.getAttributeNode(be),from:Ie})}catch{kt(e.removed,{attribute:null,from:Ie})}if(Ie.removeAttribute(be),be==="is"&&!O[be])if(ae||ue)try{et(Ie)}catch{}else try{Ie.setAttribute(be,"")}catch{}},rt=function(be){let Ie,xe;if(Y)be="<remove></remove>"+be;else{const qe=ni(be,/^[\r\n\t ]+/);xe=qe&&qe[0]}De==="application/xhtml+xml"&&Ce===ve&&(be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+be+"</body></html>");const Ve=r?r.createHTML(be):be;if(Ce===ve)try{Ie=new n().parseFromString(Ve,De)}catch{}if(!Ie||!Ie.documentElement){Ie=u.createDocument(Ce,"template",null);try{Ie.documentElement.innerHTML=ye?d:Ve}catch{}}const We=Ie.body||Ie.documentElement;return be&&xe&&We.insertBefore(L.createTextNode(xe),We.childNodes[0]||null),Ce===ve?h.call(Ie,Z?"html":"body")[0]:Z?Ie.documentElement:We},ut=function(be){return a.call(be.ownerDocument||be,be,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT,null,!1)},ot=function(be){return be instanceof o&&(typeof be.nodeName!="string"||typeof be.textContent!="string"||typeof be.removeChild!="function"||!(be.attributes instanceof C)||typeof be.removeAttribute!="function"||typeof be.setAttribute!="function"||typeof be.namespaceURI!="string"||typeof be.insertBefore!="function"||typeof be.hasChildNodes!="function")},ht=function(be){return typeof m=="object"?be instanceof m:be&&typeof be=="object"&&typeof be.nodeType=="number"&&typeof be.nodeName=="string"},Xe=function(be,Ie,xe){_[be]&&ii(_[be],Ve=>{Ve.call(e,Ie,xe,Re)})},_t=function(be){let Ie;if(Xe("beforeSanitizeElements",be,null),ot(be))return et(be),!0;const xe=Pe(be.nodeName);if(Xe("uponSanitizeElement",be,{tagName:xe,allowedTags:P}),be.hasChildNodes()&&!ht(be.firstElementChild)&&(!ht(be.content)||!ht(be.content.firstElementChild))&&mt(/<[/\w]/g,be.innerHTML)&&mt(/<[/\w]/g,be.textContent))return et(be),!0;if(!P[xe]||K[xe]){if(!K[xe]&&Ct(xe)&&(V.tagNameCheck instanceof RegExp&&mt(V.tagNameCheck,xe)||V.tagNameCheck instanceof Function&&V.tagNameCheck(xe)))return!1;if(oe&&!q[xe]){const Ve=l(be)||be.parentNode,We=g(be)||be.childNodes;if(We&&Ve){const qe=We.length;for(let Ue=qe-1;Ue>=0;--Ue)Ve.insertBefore(s(We[Ue],!0),c(be))}}return et(be),!0}return be instanceof w&&!Ze(be)||(xe==="noscript"||xe==="noembed"||xe==="noframes")&&mt(/<\/no(script|embed|frames)/i,be.innerHTML)?(et(be),!0):(ee&&be.nodeType===3&&(Ie=be.textContent,Ie=wt(Ie,S," "),Ie=wt(Ie,E," "),Ie=wt(Ie,I," "),be.textContent!==Ie&&(kt(e.removed,{element:be.cloneNode()}),be.textContent=Ie)),Xe("afterSanitizeElements",be,null),!1)},vt=function(be,Ie,xe){if(pe&&(Ie==="id"||Ie==="name")&&(xe in L||xe in Ee))return!1;if(!(z&&!U[Ie]&&mt(T,Ie))){if(!(G&&mt(N,Ie))){if(!O[Ie]||U[Ie]){if(!(Ct(be)&&(V.tagNameCheck instanceof RegExp&&mt(V.tagNameCheck,be)||V.tagNameCheck instanceof Function&&V.tagNameCheck(be))&&(V.attributeNameCheck instanceof RegExp&&mt(V.attributeNameCheck,Ie)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(Ie))||Ie==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&mt(V.tagNameCheck,xe)||V.tagNameCheck instanceof Function&&V.tagNameCheck(xe))))return!1}else if(!te[Ie]){if(!mt(M,wt(xe,R,""))){if(!((Ie==="src"||Ie==="xlink:href"||Ie==="href")&&be!=="script"&&si(xe,"data:")===0&&j[be])){if(!($&&!mt(A,wt(xe,R,"")))){if(xe)return!1}}}}}}return!0},Ct=function(be){return be.indexOf("-")>0},gt=function(be){let Ie,xe,Ve,We;Xe("beforeSanitizeAttributes",be,null);const{attributes:qe}=be;if(!qe)return;const Ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O};for(We=qe.length;We--;){Ie=qe[We];const{name:Ye,namespaceURI:Ge}=Ie;if(xe=Ye==="value"?Ie.value:oi(Ie.value),Ve=Pe(Ye),Ue.attrName=Ve,Ue.attrValue=xe,Ue.keepAttr=!0,Ue.forceKeepAttr=void 0,Xe("uponSanitizeAttribute",be,Ue),xe=Ue.attrValue,Ue.forceKeepAttr||(it(Ye,be),!Ue.keepAttr))continue;if(!J&&mt(/\/>/i,xe)){it(Ye,be);continue}ee&&(xe=wt(xe,S," "),xe=wt(xe,E," "),xe=wt(xe,I," "));const Fe=Pe(be.nodeName);if(vt(Fe,Ve,xe)){if(ce&&(Ve==="id"||Ve==="name")&&(it(Ye,be),xe=ie+xe),r&&typeof i=="object"&&typeof i.getAttributeType=="function"&&!Ge)switch(i.getAttributeType(Fe,Ve)){case"TrustedHTML":{xe=r.createHTML(xe);break}case"TrustedScriptURL":{xe=r.createScriptURL(xe);break}}try{Ge?be.setAttributeNS(Ge,Ye,xe):be.setAttribute(Ye,xe),Kt(e.removed)}catch{}}}Xe("afterSanitizeAttributes",be,null)},Le=function we(be){let Ie;const xe=ut(be);for(Xe("beforeSanitizeShadowDOM",be,null);Ie=xe.nextNode();)Xe("uponSanitizeShadowNode",Ie,null),!_t(Ie)&&(Ie.content instanceof D&&we(Ie.content),gt(Ie));Xe("afterSanitizeShadowDOM",be,null)};return e.sanitize=function(we){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie,xe,Ve,We;if(ye=!we,ye&&(we="<!-->"),typeof we!="string"&&!ht(we))if(typeof we.toString=="function"){if(we=we.toString(),typeof we!="string")throw Tt("dirty is not a string, aborting")}else throw Tt("toString is not a function");if(!e.isSupported)return we;if(x||fe(be),e.removed=[],typeof we=="string"&&(re=!1),re){if(we.nodeName){const Ye=Pe(we.nodeName);if(!P[Ye]||K[Ye])throw Tt("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof m)Ie=rt("<!---->"),xe=Ie.ownerDocument.importNode(we,!0),xe.nodeType===1&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?Ie=xe:Ie.appendChild(xe);else{if(!ae&&!ee&&!Z&&we.indexOf("<")===-1)return r&&he?r.createHTML(we):we;if(Ie=rt(we),!Ie)return ae?null:he?d:""}Ie&&Y&&et(Ie.firstChild);const qe=ut(re?we:Ie);for(;Ve=qe.nextNode();)_t(Ve)||(Ve.content instanceof D&&Le(Ve.content),gt(Ve));if(re)return we;if(ae){if(ue)for(We=v.call(Ie.ownerDocument);Ie.firstChild;)We.appendChild(Ie.firstChild);else We=Ie;return(O.shadowroot||O.shadowrootmode)&&(We=p.call(f,We,!0)),We}let Ue=Z?Ie.outerHTML:Ie.innerHTML;return Z&&P["!doctype"]&&Ie.ownerDocument&&Ie.ownerDocument.doctype&&Ie.ownerDocument.doctype.name&&mt(Zt,Ie.ownerDocument.doctype.name)&&(Ue="<!DOCTYPE "+Ie.ownerDocument.doctype.name+`>
`+Ue),ee&&(Ue=wt(Ue,S," "),Ue=wt(Ue,E," "),Ue=wt(Ue,I," ")),r&&he?r.createHTML(Ue):Ue},e.setConfig=function(we){fe(we),x=!0},e.clearConfig=function(){Re=null,x=!1},e.isValidAttribute=function(we,be,Ie){Re||fe({});const xe=Pe(we),Ve=Pe(be);return vt(xe,Ve,Ie)},e.addHook=function(we,be){typeof be=="function"&&(_[we]=_[we]||[],kt(_[we],be))},e.removeHook=function(we){if(_[we])return Kt(_[we])},e.removeHooks=function(we){_[we]&&(_[we]=[])},e.removeAllHooks=function(){_={}},e}var Ci=Qt();define("vs/base/browser/dompurify/dompurify",function(){return Ci}),define(ne[40],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastDomNode=void 0,e.createFastDomNode=L;class f{constructor(y){this.domNode=y,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(y){const m=k(y);this._maxWidth!==m&&(this._maxWidth=m,this.domNode.style.maxWidth=this._maxWidth)}setWidth(y){const m=k(y);this._width!==m&&(this._width=m,this.domNode.style.width=this._width)}setHeight(y){const m=k(y);this._height!==m&&(this._height=m,this.domNode.style.height=this._height)}setTop(y){const m=k(y);this._top!==m&&(this._top=m,this.domNode.style.top=this._top)}setLeft(y){const m=k(y);this._left!==m&&(this._left=m,this.domNode.style.left=this._left)}setBottom(y){const m=k(y);this._bottom!==m&&(this._bottom=m,this.domNode.style.bottom=this._bottom)}setRight(y){const m=k(y);this._right!==m&&(this._right=m,this.domNode.style.right=this._right)}setPaddingLeft(y){const m=k(y);this._paddingLeft!==m&&(this._paddingLeft=m,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(y){const m=k(y);this._fontSize!==m&&(this._fontSize=m,this.domNode.style.fontSize=this._fontSize)}setFontStyle(y){this._fontStyle!==y&&(this._fontStyle=y,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(y){this._fontVariationSettings!==y&&(this._fontVariationSettings=y,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(y){this._textDecoration!==y&&(this._textDecoration=y,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(y){const m=k(y);this._lineHeight!==m&&(this._lineHeight=m,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(y){const m=k(y);this._letterSpacing!==m&&(this._letterSpacing=m,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}toggleClassName(y,m){this.domNode.classList.toggle(y,m),this._className=this.domNode.className}setDisplay(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}setPosition(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}setColor(y){this._color!==y&&(this._color=y,this.domNode.style.color=this._color)}setBackgroundColor(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}setContain(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}setAttribute(y,m){this.domNode.setAttribute(y,m)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}e.FastDomNode=f;function k(D){return typeof D=="number"?`${D}px`:D}function L(D){return new f(D)}}),define(ne[425],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;const f=new WeakMap;function k(D){if(!D.parent||D.parent===D)return null;try{const y=D.location,m=D.parent.location;if(y.origin!=="null"&&m.origin!=="null"&&y.origin!==m.origin)return null}catch{return null}return D.parent}class L{static getSameOriginWindowChain(y){let m=f.get(y);if(!m){m=[],f.set(y,m);let w=y,b;do b=k(w),b?m.push({window:new WeakRef(w),iframeElement:w.frameElement||null}):m.push({window:new WeakRef(w),iframeElement:null}),w=b;while(w)}return m.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(y,m){var w,b;if(!m||y===m)return{top:0,left:0};let C=0,o=0;const n=this.getSameOriginWindowChain(y);for(const i of n){const t=i.window.deref();if(C+=(w=t?.scrollY)!==null&&w!==void 0?w:0,o+=(b=t?.scrollX)!==null&&b!==void 0?b:0,t===m||!i.iframeElement)break;const s=i.iframeElement.getBoundingClientRect();C+=s.top,o+=s.left}return{top:C,left:o}}}e.IframeUtils=L}),define(ne[289],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var f;(function(k){const L={total:0,min:Number.MAX_VALUE,max:0},D={...L},y={...L},m={...L};let w=0;const b={keydown:0,input:0,render:0};function C(){d(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),b.keydown=1,queueMicrotask(o)}k.onKeyDown=C;function o(){b.keydown===1&&(performance.mark("keydown/end"),b.keydown=2)}function n(){performance.mark("input/start"),b.input=1,r()}k.onBeforeInput=n;function i(){b.input===0&&n(),queueMicrotask(t)}k.onInput=i;function t(){b.input===1&&(performance.mark("input/end"),b.input=2)}function s(){d()}k.onKeyUp=s;function c(){d()}k.onSelectionChange=c;function g(){b.keydown===2&&b.input===2&&b.render===0&&(performance.mark("render/start"),b.render=1,queueMicrotask(l),r())}k.onRenderStart=g;function l(){b.render===1&&(performance.mark("render/end"),b.render=2)}function r(){setTimeout(d)}function d(){b.keydown===2&&b.input===2&&b.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),u("keydown",L),u("input",D),u("render",y),u("inputlatency",m),w++,a())}function u(_,S){const E=performance.getEntriesByName(_)[0].duration;S.total+=E,S.min=Math.min(S.min,E),S.max=Math.max(S.max,E)}function a(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),b.keydown=0,b.input=0,b.render=0}function v(){if(w===0)return;const _={keydown:h(L),input:h(D),render:h(y),total:h(m),sampleCount:w};return p(L),p(D),p(y),p(m),w=0,_}k.getAndClearMeasurements=v;function h(_){return{average:_.total/w,max:_.max,min:_.min}}function p(_){_.total=0,_.min=Number.MAX_VALUE,_.max=0}})(f||(e.inputLatency=f={}))}),define(ne[77],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setBaseLayerHoverDelegate=k,e.getBaseLayerHoverDelegate=L;let f={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupUpdatableHover:()=>null,triggerUpdatableHover:()=>{}};function k(D){f=D}function L(){return f}}),define(ne[426],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class f extends Error{constructor(L,D){super(`ListError [${L}] ${D}`)}}e.ListError=f}),define(ne[427],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class f{constructor(L){this.spliceables=L}splice(L,D,y){this.spliceables.forEach(m=>m.splice(L,D,y))}}e.CombinedSpliceable=f}),define(ne[218],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const f=20;class k{constructor(D,y,m,w,b,C){this._scrollbarSize=Math.round(y),this._oppositeScrollbarSize=Math.round(m),this._arrowSize=Math.round(D),this._visibleSize=w,this._scrollSize=b,this._scrollPosition=C,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const y=Math.round(D);return this._visibleSize!==y?(this._visibleSize=y,this._refreshComputedValues(),!0):!1}setScrollSize(D){const y=Math.round(D);return this._scrollSize!==y?(this._scrollSize=y,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const y=Math.round(D);return this._scrollPosition!==y?(this._scrollPosition=y,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,y,m,w,b){const C=Math.max(0,m-D),o=Math.max(0,C-2*y),n=w>0&&w>m;if(!n)return{computedAvailableSize:Math.round(C),computedIsNeeded:n,computedSliderSize:Math.round(o),computedSliderRatio:0,computedSliderPosition:0};const i=Math.round(Math.max(f,Math.floor(m*o/w))),t=(o-i)/(w-m),s=b*t;return{computedAvailableSize:Math.round(C),computedIsNeeded:n,computedSliderSize:Math.round(i),computedSliderRatio:t,computedSliderPosition:Math.round(s)}}_refreshComputedValues(){const D=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const y=D-this._arrowSize-this._computedSliderSize/2;return Math.round(y/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const y=D-this._arrowSize;let m=this._scrollPosition;return y<this._computedSliderPosition?m-=this._visibleSize:m+=this._visibleSize,m}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const y=this._computedSliderPosition+D;return Math.round(y/this._computedSliderRatio)}}e.ScrollbarState=k}),define(ne[154],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var f;(function(y){y[y.Expanded=0]="Expanded",y[y.Collapsed=1]="Collapsed",y[y.PreserveOrExpanded=2]="PreserveOrExpanded",y[y.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(f||(e.ObjectTreeElementCollapseState=f={}));var k;(function(y){y[y.Unknown=0]="Unknown",y[y.Twistie=1]="Twistie",y[y.Element=2]="Element",y[y.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class L extends Error{constructor(m,w){super(`TreeError [${m}] ${w}`)}}e.TreeError=L;class D{constructor(m){this.fn=m,this._map=new WeakMap}map(m){let w=this._map.get(m);return w||(w=this.fn(m),this._map.set(m,w)),w}}e.WeakMapper=D}),define(ne[52],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mainWindow=void 0,e.ensureCodeWindow=f;function f(k,L){const D=k;typeof D.vscodeWindowId!="number"&&Object.defineProperty(D,"vscodeWindowId",{get:()=>L})}e.mainWindow=window}),define(ne[66],se([1,0,52]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=void 0,e.addMatchMediaChangeListener=L,e.getZoomFactor=D,e.isStandalone=w;class k{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(C){var o;return(o=this.mapWindowIdToZoomFactor.get(this.getWindowId(C)))!==null&&o!==void 0?o:1}getWindowId(C){return C.vscodeWindowId}}k.INSTANCE=new k;function L(b,C,o){typeof C=="string"&&(C=b.matchMedia(C)),C.addEventListener("change",o)}function D(b){return k.INSTANCE.getZoomFactor(b)}const y=navigator.userAgent;e.isFirefox=y.indexOf("Firefox")>=0,e.isWebKit=y.indexOf("AppleWebKit")>=0,e.isChrome=y.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&y.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=y.indexOf("Electron/")>=0,e.isAndroid=y.indexOf("Android")>=0;let m=!1;if(typeof f.mainWindow.matchMedia=="function"){const b=f.mainWindow.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),C=f.mainWindow.matchMedia("(display-mode: fullscreen)");m=b.matches,L(f.mainWindow,b,({matches:o})=>{m&&C.matches||(m=o)})}function w(){return m}}),define(ne[13],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Permutation=e.CallbackIterable=e.ArrayQueue=e.booleanComparator=e.numberComparator=e.CompareResult=void 0,e.tail=f,e.tail2=k,e.equals=L,e.removeFastWithoutKeepingOrder=D,e.binarySearch=y,e.binarySearch2=m,e.quickSelect=w,e.groupBy=b,e.groupAdjacentBy=C,e.forEachAdjacent=o,e.forEachWithNeighbors=n,e.coalesce=i,e.coalesceInPlace=t,e.isFalsyOrEmpty=s,e.isNonEmptyArray=c,e.distinct=g,e.firstOrDefault=l,e.range=r,e.arrayInsert=d,e.pushToStart=u,e.pushToEnd=a,e.pushMany=v,e.asArray=h,e.insertInto=p,e.splice=_,e.compareBy=I,e.tieBreakComparators=T,e.reverseOrder=R;function f(O,B=0){return O[O.length-(1+B)]}function k(O){if(O.length===0)throw new Error("Invalid tail call");return[O.slice(0,O.length-1),O[O.length-1]]}function L(O,B,V=(K,U)=>K===U){if(O===B)return!0;if(!O||!B||O.length!==B.length)return!1;for(let K=0,U=O.length;K<U;K++)if(!V(O[K],B[K]))return!1;return!0}function D(O,B){const V=O.length-1;B<V&&(O[B]=O[V]),O.pop()}function y(O,B,V){return m(O.length,K=>V(O[K],B))}function m(O,B){let V=0,K=O-1;for(;V<=K;){const U=(V+K)/2|0,G=B(U);if(G<0)V=U+1;else if(G>0)K=U-1;else return U}return-(V+1)}function w(O,B,V){if(O=O|0,O>=B.length)throw new TypeError("invalid index");const K=B[Math.floor(B.length*Math.random())],U=[],G=[],z=[];for(const $ of B){const J=V($,K);J<0?U.push($):J>0?G.push($):z.push($)}return O<U.length?w(O,U,V):O<U.length+z.length?z[0]:w(O-(U.length+z.length),G,V)}function b(O,B){const V=[];let K;for(const U of O.slice(0).sort(B))!K||B(K[0],U)!==0?(K=[U],V.push(K)):K.push(U);return V}function*C(O,B){let V,K;for(const U of O)K!==void 0&&B(K,U)?V.push(U):(V&&(yield V),V=[U]),K=U;V&&(yield V)}function o(O,B){for(let V=0;V<=O.length;V++)B(V===0?void 0:O[V-1],V===O.length?void 0:O[V])}function n(O,B){for(let V=0;V<O.length;V++)B(V===0?void 0:O[V-1],O[V],V+1===O.length?void 0:O[V+1])}function i(O){return O.filter(B=>!!B)}function t(O){let B=0;for(let V=0;V<O.length;V++)O[V]&&(O[B]=O[V],B+=1);O.length=B}function s(O){return!Array.isArray(O)||O.length===0}function c(O){return Array.isArray(O)&&O.length>0}function g(O,B=V=>V){const V=new Set;return O.filter(K=>{const U=B(K);return V.has(U)?!1:(V.add(U),!0)})}function l(O,B){return O.length>0?O[0]:B}function r(O,B){let V=typeof B=="number"?O:0;typeof B=="number"?V=O:(V=0,B=O);const K=[];if(V<=B)for(let U=V;U<B;U++)K.push(U);else for(let U=V;U>B;U--)K.push(U);return K}function d(O,B,V){const K=O.slice(0,B),U=O.slice(B);return K.concat(V,U)}function u(O,B){const V=O.indexOf(B);V>-1&&(O.splice(V,1),O.unshift(B))}function a(O,B){const V=O.indexOf(B);V>-1&&(O.splice(V,1),O.push(B))}function v(O,B){for(const V of B)O.push(V)}function h(O){return Array.isArray(O)?O:[O]}function p(O,B,V){const K=S(O,B),U=O.length,G=V.length;O.length=U+G;for(let z=U-1;z>=K;z--)O[z+G]=O[z];for(let z=0;z<G;z++)O[z+K]=V[z]}function _(O,B,V,K){const U=S(O,B);let G=O.splice(U,V);return G===void 0&&(G=[]),p(O,U,K),G}function S(O,B){return B<0?Math.max(B+O.length,0):Math.min(B,O.length)}var E;(function(O){function B(G){return G<0}O.isLessThan=B;function V(G){return G<=0}O.isLessThanOrEqual=V;function K(G){return G>0}O.isGreaterThan=K;function U(G){return G===0}O.isNeitherLessOrGreaterThan=U,O.greaterThan=1,O.lessThan=-1,O.neitherLessOrGreaterThan=0})(E||(e.CompareResult=E={}));function I(O,B){return(V,K)=>B(O(V),O(K))}function T(...O){return(B,V)=>{for(const K of O){const U=K(B,V);if(!E.isNeitherLessOrGreaterThan(U))return U}return E.neitherLessOrGreaterThan}}const N=(O,B)=>O-B;e.numberComparator=N;const A=(O,B)=>(0,e.numberComparator)(O?1:0,B?1:0);e.booleanComparator=A;function R(O){return(B,V)=>-O(B,V)}class M{constructor(B){this.items=B,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(B){let V=this.firstIdx;for(;V<this.items.length&&B(this.items[V]);)V++;const K=V===this.firstIdx?null:this.items.slice(this.firstIdx,V);return this.firstIdx=V,K}takeFromEndWhile(B){let V=this.lastIdx;for(;V>=0&&B(this.items[V]);)V--;const K=V===this.lastIdx?null:this.items.slice(V+1,this.lastIdx+1);return this.lastIdx=V,K}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const B=this.items[this.firstIdx];return this.firstIdx++,B}takeCount(B){const V=this.items.slice(this.firstIdx,this.firstIdx+B);return this.firstIdx+=B,V}}e.ArrayQueue=M;class P{constructor(B){this.iterate=B}toArray(){const B=[];return this.iterate(V=>(B.push(V),!0)),B}filter(B){return new P(V=>this.iterate(K=>B(K)?V(K):!0))}map(B){return new P(V=>this.iterate(K=>V(B(K))))}findLast(B){let V;return this.iterate(K=>(B(K)&&(V=K),!0)),V}findLastMaxBy(B){let V,K=!0;return this.iterate(U=>((K||E.isGreaterThan(B(U,V)))&&(K=!1,V=U),!0)),V}}e.CallbackIterable=P,P.empty=new P(O=>{});class F{constructor(B){this._indexMap=B}static createSortPermutation(B,V){const K=Array.from(B.keys()).sort((U,G)=>V(B[U],B[G]));return new F(K)}apply(B){return B.map((V,K)=>B[this._indexMap[K]])}inverse(){const B=this._indexMap.slice();for(let V=0;V<this._indexMap.length;V++)B[this._indexMap[V]]=V;return new F(B)}}e.Permutation=F}),define(ne[68],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonotonousArray=void 0,e.findLast=f,e.findLastIdx=k,e.findLastMonotonous=L,e.findLastIdxMonotonous=D,e.findFirstMonotonous=y,e.findFirstIdxMonotonousOrArrLen=m,e.findFirstMax=b,e.findLastMax=C,e.findFirstMin=o,e.findMaxIdx=n,e.mapFindFirst=i;function f(t,s){const c=k(t,s);if(c!==-1)return t[c]}function k(t,s,c=t.length-1){for(let g=c;g>=0;g--){const l=t[g];if(s(l))return g}return-1}function L(t,s){const c=D(t,s);return c===-1?void 0:t[c]}function D(t,s,c=0,g=t.length){let l=c,r=g;for(;l<r;){const d=Math.floor((l+r)/2);s(t[d])?l=d+1:r=d}return l-1}function y(t,s){const c=m(t,s);return c===t.length?void 0:t[c]}function m(t,s,c=0,g=t.length){let l=c,r=g;for(;l<r;){const d=Math.floor((l+r)/2);s(t[d])?r=d:l=d+1}return l}class w{constructor(s){this._array=s,this._findLastMonotonousLastIdx=0}findLastMonotonous(s){if(w.assertInvariants){if(this._prevFindLastPredicate){for(const g of this._array)if(this._prevFindLastPredicate(g)&&!s(g))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=s}const c=D(this._array,s,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=c+1,c===-1?void 0:this._array[c]}}e.MonotonousArray=w,w.assertInvariants=!1;function b(t,s){if(t.length===0)return;let c=t[0];for(let g=1;g<t.length;g++){const l=t[g];s(l,c)>0&&(c=l)}return c}function C(t,s){if(t.length===0)return;let c=t[0];for(let g=1;g<t.length;g++){const l=t[g];s(l,c)>=0&&(c=l)}return c}function o(t,s){return b(t,(c,g)=>-s(c,g))}function n(t,s){if(t.length===0)return-1;let c=0;for(let g=1;g<t.length;g++){const l=t[g];s(l,t[c])>0&&(c=g)}return c}function i(t,s){for(const c of t){const g=s(c);if(g!==void 0)return g}}}),define(ne[290],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0,e.identity=f;function f(D){return D}class k{constructor(y,m){this.lastCache=void 0,this.lastArgKey=void 0,typeof y=="function"?(this._fn=y,this._computeKey=f):(this._fn=m,this._computeKey=y.getCacheKey)}get(y){const m=this._computeKey(y);return this.lastArgKey!==m&&(this.lastArgKey=m,this.lastCache=this._fn(y)),this.lastCache}}e.LRUCachedFunction=k;class L{get cachedValues(){return this._map}constructor(y,m){this._map=new Map,this._map2=new Map,typeof y=="function"?(this._fn=y,this._computeKey=f):(this._fn=m,this._computeKey=y.getCacheKey)}get(y){const m=this._computeKey(y);if(this._map2.has(m))return this._map2.get(m);const w=this._fn(y);return this._map.set(y,w),this._map2.set(m,w),w}}e.CachedFunction=L}),define(ne[291],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffSets=f,e.intersection=k;function f(L,D){const y=[],m=[];for(const w of L)D.has(w)||y.push(w);for(const w of D)L.has(w)||m.push(w);return{removed:y,added:m}}function k(L,D){const y=new Set;for(const m of D)L.has(m)&&y.add(m);return y}}),define(ne[34],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function f(m,w){const b=Math.pow(10,w);return Math.round(m*b)/b}class k{constructor(w,b,C,o=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,w))|0,this.g=Math.min(255,Math.max(0,b))|0,this.b=Math.min(255,Math.max(0,C))|0,this.a=f(Math.max(Math.min(1,o),0),3)}static equals(w,b){return w.r===b.r&&w.g===b.g&&w.b===b.b&&w.a===b.a}}e.RGBA=k;class L{constructor(w,b,C,o){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=f(Math.max(Math.min(1,b),0),3),this.l=f(Math.max(Math.min(1,C),0),3),this.a=f(Math.max(Math.min(1,o),0),3)}static equals(w,b){return w.h===b.h&&w.s===b.s&&w.l===b.l&&w.a===b.a}static fromRGBA(w){const b=w.r/255,C=w.g/255,o=w.b/255,n=w.a,i=Math.max(b,C,o),t=Math.min(b,C,o);let s=0,c=0;const g=(t+i)/2,l=i-t;if(l>0){switch(c=Math.min(g<=.5?l/(2*g):l/(2-2*g),1),i){case b:s=(C-o)/l+(C<o?6:0);break;case C:s=(o-b)/l+2;break;case o:s=(b-C)/l+4;break}s*=60,s=Math.round(s)}return new L(s,c,g,n)}static _hue2rgb(w,b,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?w+(b-w)*6*C:C<1/2?b:C<2/3?w+(b-w)*(2/3-C)*6:w}static toRGBA(w){const b=w.h/360,{s:C,l:o,a:n}=w;let i,t,s;if(C===0)i=t=s=o;else{const c=o<.5?o*(1+C):o+C-o*C,g=2*o-c;i=L._hue2rgb(g,c,b+1/3),t=L._hue2rgb(g,c,b),s=L._hue2rgb(g,c,b-1/3)}return new k(Math.round(i*255),Math.round(t*255),Math.round(s*255),n)}}e.HSLA=L;class D{constructor(w,b,C,o){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=f(Math.max(Math.min(1,b),0),3),this.v=f(Math.max(Math.min(1,C),0),3),this.a=f(Math.max(Math.min(1,o),0),3)}static equals(w,b){return w.h===b.h&&w.s===b.s&&w.v===b.v&&w.a===b.a}static fromRGBA(w){const b=w.r/255,C=w.g/255,o=w.b/255,n=Math.max(b,C,o),i=Math.min(b,C,o),t=n-i,s=n===0?0:t/n;let c;return t===0?c=0:n===b?c=((C-o)/t%6+6)%6:n===C?c=(o-b)/t+2:c=(b-C)/t+4,new D(Math.round(c*60),s,n,w.a)}static toRGBA(w){const{h:b,s:C,v:o,a:n}=w,i=o*C,t=i*(1-Math.abs(b/60%2-1)),s=o-i;let[c,g,l]=[0,0,0];return b<60?(c=i,g=t):b<120?(c=t,g=i):b<180?(g=i,l=t):b<240?(g=t,l=i):b<300?(c=t,l=i):b<=360&&(c=i,l=t),c=Math.round((c+s)*255),g=Math.round((g+s)*255),l=Math.round((l+s)*255),new k(c,g,l,n)}}e.HSVA=D;class y{static fromHex(w){return y.Format.CSS.parseHex(w)||y.red}static equals(w,b){return!w&&!b?!0:!w||!b?!1:w.equals(b)}get hsla(){return this._hsla?this._hsla:L.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(w){if(w)if(w instanceof k)this.rgba=w;else if(w instanceof L)this._hsla=w,this.rgba=L.toRGBA(w);else if(w instanceof D)this._hsva=w,this.rgba=D.toRGBA(w);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(w){return!!w&&k.equals(this.rgba,w.rgba)&&L.equals(this.hsla,w.hsla)&&D.equals(this.hsva,w.hsva)}getRelativeLuminance(){const w=y._relativeLuminanceForComponent(this.rgba.r),b=y._relativeLuminanceForComponent(this.rgba.g),C=y._relativeLuminanceForComponent(this.rgba.b),o=.2126*w+.7152*b+.0722*C;return f(o,4)}static _relativeLuminanceForComponent(w){const b=w/255;return b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(w){const b=this.getRelativeLuminance(),C=w.getRelativeLuminance();return b>C}isDarkerThan(w){const b=this.getRelativeLuminance(),C=w.getRelativeLuminance();return b<C}lighten(w){return new y(new L(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*w,this.hsla.a))}darken(w){return new y(new L(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*w,this.hsla.a))}transparent(w){const{r:b,g:C,b:o,a:n}=this.rgba;return new y(new k(b,C,o,n*w))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(w){if(this.isOpaque()||w.rgba.a!==1)return this;const{r:b,g:C,b:o,a:n}=this.rgba;return new y(new k(w.rgba.r-n*(w.rgba.r-b),w.rgba.g-n*(w.rgba.g-C),w.rgba.b-n*(w.rgba.b-o),1))}toString(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}static getLighterColor(w,b,C){if(w.isLighterThan(b))return w;C=C||.5;const o=w.getRelativeLuminance(),n=b.getRelativeLuminance();return C=C*(n-o)/n,w.lighten(C)}static getDarkerColor(w,b,C){if(w.isDarkerThan(b))return w;C=C||.5;const o=w.getRelativeLuminance(),n=b.getRelativeLuminance();return C=C*(o-n)/o,w.darken(C)}}e.Color=y,y.white=new y(new k(255,255,255,1)),y.black=new y(new k(0,0,0,1)),y.red=new y(new k(255,0,0,1)),y.blue=new y(new k(0,0,255,1)),y.green=new y(new k(0,255,0,1)),y.cyan=new y(new k(0,255,255,1)),y.lightgrey=new y(new k(211,211,211,1)),y.transparent=new y(new k(0,0,0,0)),function(m){let w;(function(b){let C;(function(o){function n(a){return a.rgba.a===1?`rgb(${a.rgba.r}, ${a.rgba.g}, ${a.rgba.b})`:m.Format.CSS.formatRGBA(a)}o.formatRGB=n;function i(a){return`rgba(${a.rgba.r}, ${a.rgba.g}, ${a.rgba.b}, ${+a.rgba.a.toFixed(2)})`}o.formatRGBA=i;function t(a){return a.hsla.a===1?`hsl(${a.hsla.h}, ${(a.hsla.s*100).toFixed(2)}%, ${(a.hsla.l*100).toFixed(2)}%)`:m.Format.CSS.formatHSLA(a)}o.formatHSL=t;function s(a){return`hsla(${a.hsla.h}, ${(a.hsla.s*100).toFixed(2)}%, ${(a.hsla.l*100).toFixed(2)}%, ${a.hsla.a.toFixed(2)})`}o.formatHSLA=s;function c(a){const v=a.toString(16);return v.length!==2?"0"+v:v}function g(a){return`#${c(a.rgba.r)}${c(a.rgba.g)}${c(a.rgba.b)}`}o.formatHex=g;function l(a,v=!1){return v&&a.rgba.a===1?m.Format.CSS.formatHex(a):`#${c(a.rgba.r)}${c(a.rgba.g)}${c(a.rgba.b)}${c(Math.round(a.rgba.a*255))}`}o.formatHexA=l;function r(a){return a.isOpaque()?m.Format.CSS.formatHex(a):m.Format.CSS.formatRGBA(a)}o.format=r;function d(a){const v=a.length;if(v===0||a.charCodeAt(0)!==35)return null;if(v===7){const h=16*u(a.charCodeAt(1))+u(a.charCodeAt(2)),p=16*u(a.charCodeAt(3))+u(a.charCodeAt(4)),_=16*u(a.charCodeAt(5))+u(a.charCodeAt(6));return new m(new k(h,p,_,1))}if(v===9){const h=16*u(a.charCodeAt(1))+u(a.charCodeAt(2)),p=16*u(a.charCodeAt(3))+u(a.charCodeAt(4)),_=16*u(a.charCodeAt(5))+u(a.charCodeAt(6)),S=16*u(a.charCodeAt(7))+u(a.charCodeAt(8));return new m(new k(h,p,_,S/255))}if(v===4){const h=u(a.charCodeAt(1)),p=u(a.charCodeAt(2)),_=u(a.charCodeAt(3));return new m(new k(16*h+h,16*p+p,16*_+_))}if(v===5){const h=u(a.charCodeAt(1)),p=u(a.charCodeAt(2)),_=u(a.charCodeAt(3)),S=u(a.charCodeAt(4));return new m(new k(16*h+h,16*p+p,16*_+_,(16*S+S)/255))}return null}o.parseHex=d;function u(a){switch(a){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(C=b.CSS||(b.CSS={}))})(w=m.Format||(m.Format={}))}(y||(e.Color=y={}))}),define(ne[122],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=f;function f(k,L,D){let y=null,m=null;if(typeof D.value=="function"?(y="value",m=D.value,m.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(y="get",m=D.get),!m)throw new Error("not supported");const w=`$memoize$${L}`;D[y]=function(...b){return this.hasOwnProperty(w)||Object.defineProperty(this,w,{configurable:!1,enumerable:!1,writable:!1,value:m.apply(this,b)}),this[w]}}}),define(ne[428],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class f{constructor(L,D,y,m){this.originalStart=L,this.originalLength=D,this.modifiedStart=y,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=f}),define(ne[155],se([1,0,13]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strictEquals=void 0,e.itemsEquals=L,e.itemEquals=D,e.equalsIfDefined=y;const k=(w,b)=>w===b;e.strictEquals=k;function L(w=e.strictEquals){return(b,C)=>f.equals(b,C,w)}function D(){return(w,b)=>w.equals(b)}function y(w,b,C){return!w||!b?w===b:C(w,b)}const m=new WeakMap}),define(ne[9],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.CancellationError=e.errorHandler=e.ErrorHandler=void 0,e.onUnexpectedError=k,e.onUnexpectedExternalError=L,e.transformErrorForSerialization=D,e.isCancellationError=m,e.canceled=b,e.illegalArgument=C,e.illegalState=o;class f{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(c){setTimeout(()=>{throw c.stack?i.isErrorNoTelemetry(c)?new i(c.message+`

`+c.stack):new Error(c.message+`

`+c.stack):c},0)}}emit(c){this.listeners.forEach(g=>{g(c)})}onUnexpectedError(c){this.unexpectedErrorHandler(c),this.emit(c)}onUnexpectedExternalError(c){this.unexpectedErrorHandler(c)}}e.ErrorHandler=f,e.errorHandler=new f;function k(s){m(s)||e.errorHandler.onUnexpectedError(s)}function L(s){m(s)||e.errorHandler.onUnexpectedExternalError(s)}function D(s){if(s instanceof Error){const{name:c,message:g}=s,l=s.stacktrace||s.stack;return{$isError:!0,name:c,message:g,stack:l,noTelemetry:i.isErrorNoTelemetry(s)}}return s}const y="Canceled";function m(s){return s instanceof w?!0:s instanceof Error&&s.name===y&&s.message===y}class w extends Error{constructor(){super(y),this.name=this.message}}e.CancellationError=w;function b(){const s=new Error(y);return s.name=s.message,s}function C(s){return s?new Error(`Illegal argument: ${s}`):new Error("Illegal argument")}function o(s){return s?new Error(`Illegal state: ${s}`):new Error("Illegal state")}class n extends Error{constructor(c){super("NotSupported"),c&&(this.message=c)}}e.NotSupportedError=n;class i extends Error{constructor(c){super(c),this.name="CodeExpectedError"}static fromError(c){if(c instanceof i)return c;const g=new i;return g.message=c.message,g.stack=c.stack,g}static isErrorNoTelemetry(c){return c.name==="CodeExpectedError"}}e.ErrorNoTelemetry=i;class t extends Error{constructor(c){super(c||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}e.BugIndicatingError=t}),define(ne[100],se([1,0,52,9]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=L;function L(D,y){var m;const w=globalThis.MonacoEnvironment;if(w?.createTrustedTypesPolicy)try{return w.createTrustedTypesPolicy(D,y)}catch(b){(0,k.onUnexpectedError)(b);return}try{return(m=f.mainWindow.trustedTypes)===null||m===void 0?void 0:m.createPolicy(D,y)}catch(b){(0,k.onUnexpectedError)(b);return}}}),define(ne[87],se([1,0,9]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=k,e.assertNever=L,e.softAssert=D,e.assertFn=y,e.checkAdjacentItems=m;function k(w,b){if(!w)throw new Error(b?`Assertion failed (${b})`:"Assertion Failed")}function L(w,b="Unreachable"){throw new Error(b)}function D(w){w||(0,f.onUnexpectedError)(new f.BugIndicatingError("Soft Assertion Failed"))}function y(w){if(!w()){debugger;w(),(0,f.onUnexpectedError)(new f.BugIndicatingError("Assertion Failed"))}}function m(w,b){let C=0;for(;C<w.length-1;){const o=w[C],n=w[C+1];if(!b(o,n))return!1;C++}return!0}}),define(ne[123],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSingleCallFunction=f;function f(k,L){const D=this;let y=!1,m;return function(){if(y)return m;if(y=!0,L)try{m=k.apply(D,arguments)}finally{L()}else m=k.apply(D,arguments);return m}}}),define(ne[88],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HierarchicalKind=void 0;class f{constructor(L){this.value=L}equals(L){return this.value===L.value}contains(L){return this.equals(L)||this.value===""||L.value.startsWith(this.value+f.sep)}intersects(L){return this.contains(L)||L.contains(this)}append(...L){return new f((this.value?[this.value,...L]:L).join(f.sep))}}e.HierarchicalKind=f,f.sep=".",f.None=new f("@@none@@"),f.Empty=new f("")}),define(ne[183],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class f{constructor(L){this._prefix=L,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=f,e.defaultGenerator=new f("id#")}),define(ne[54],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var f;(function(k){function L(a){return a&&typeof a=="object"&&typeof a[Symbol.iterator]=="function"}k.is=L;const D=Object.freeze([]);function y(){return D}k.empty=y;function*m(a){yield a}k.single=m;function w(a){return L(a)?a:m(a)}k.wrap=w;function b(a){return a||D}k.from=b;function*C(a){for(let v=a.length-1;v>=0;v--)yield a[v]}k.reverse=C;function o(a){return!a||a[Symbol.iterator]().next().done===!0}k.isEmpty=o;function n(a){return a[Symbol.iterator]().next().value}k.first=n;function i(a,v){for(const h of a)if(v(h))return!0;return!1}k.some=i;function t(a,v){for(const h of a)if(v(h))return h}k.find=t;function*s(a,v){for(const h of a)v(h)&&(yield h)}k.filter=s;function*c(a,v){let h=0;for(const p of a)yield v(p,h++)}k.map=c;function*g(...a){for(const v of a)yield*v}k.concat=g;function l(a,v,h){let p=h;for(const _ of a)p=v(p,_);return p}k.reduce=l;function*r(a,v,h=a.length){for(v<0&&(v+=a.length),h<0?h+=a.length:h>a.length&&(h=a.length);v<h;v++)yield a[v]}k.slice=r;function d(a,v=Number.POSITIVE_INFINITY){const h=[];if(v===0)return[h,a];const p=a[Symbol.iterator]();for(let _=0;_<v;_++){const S=p.next();if(S.done)return[h,k.empty()];h.push(S.value)}return[h,{[Symbol.iterator](){return p}}]}k.consume=d;async function u(a){const v=[];for await(const h of a)v.push(h);return Promise.resolve(v)}k.asyncToArray=u})(f||(e.Iterable=f={}))}),define(ne[70],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0,e.KeyChord=C;class f{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(n,i){this._keyCodeToStr[n]=i,this._strToKeyCode[i.toLowerCase()]=n}keyCodeToStr(n){return this._keyCodeToStr[n]}strToKeyCode(n){return this._strToKeyCode[n.toLowerCase()]||0}}const k=new f,L=new f,D=new f;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const y=[],m=Object.create(null),w=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let o=0;o<=193;o++)e.IMMUTABLE_CODE_TO_KEY_CODE[o]=-1;for(let o=0;o<=132;o++)e.IMMUTABLE_KEY_CODE_TO_CODE[o]=-1;(function(){const o="",n=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",o,o],[1,1,"Hyper",0,o,0,o,o,o],[1,2,"Super",0,o,0,o,o,o],[1,3,"Fn",0,o,0,o,o,o],[1,4,"FnLock",0,o,0,o,o,o],[1,5,"Suspend",0,o,0,o,o,o],[1,6,"Resume",0,o,0,o,o,o],[1,7,"Turbo",0,o,0,o,o,o],[1,8,"Sleep",0,o,0,"VK_SLEEP",o,o],[1,9,"WakeUp",0,o,0,o,o,o],[0,10,"KeyA",31,"A",65,"VK_A",o,o],[0,11,"KeyB",32,"B",66,"VK_B",o,o],[0,12,"KeyC",33,"C",67,"VK_C",o,o],[0,13,"KeyD",34,"D",68,"VK_D",o,o],[0,14,"KeyE",35,"E",69,"VK_E",o,o],[0,15,"KeyF",36,"F",70,"VK_F",o,o],[0,16,"KeyG",37,"G",71,"VK_G",o,o],[0,17,"KeyH",38,"H",72,"VK_H",o,o],[0,18,"KeyI",39,"I",73,"VK_I",o,o],[0,19,"KeyJ",40,"J",74,"VK_J",o,o],[0,20,"KeyK",41,"K",75,"VK_K",o,o],[0,21,"KeyL",42,"L",76,"VK_L",o,o],[0,22,"KeyM",43,"M",77,"VK_M",o,o],[0,23,"KeyN",44,"N",78,"VK_N",o,o],[0,24,"KeyO",45,"O",79,"VK_O",o,o],[0,25,"KeyP",46,"P",80,"VK_P",o,o],[0,26,"KeyQ",47,"Q",81,"VK_Q",o,o],[0,27,"KeyR",48,"R",82,"VK_R",o,o],[0,28,"KeyS",49,"S",83,"VK_S",o,o],[0,29,"KeyT",50,"T",84,"VK_T",o,o],[0,30,"KeyU",51,"U",85,"VK_U",o,o],[0,31,"KeyV",52,"V",86,"VK_V",o,o],[0,32,"KeyW",53,"W",87,"VK_W",o,o],[0,33,"KeyX",54,"X",88,"VK_X",o,o],[0,34,"KeyY",55,"Y",89,"VK_Y",o,o],[0,35,"KeyZ",56,"Z",90,"VK_Z",o,o],[0,36,"Digit1",22,"1",49,"VK_1",o,o],[0,37,"Digit2",23,"2",50,"VK_2",o,o],[0,38,"Digit3",24,"3",51,"VK_3",o,o],[0,39,"Digit4",25,"4",52,"VK_4",o,o],[0,40,"Digit5",26,"5",53,"VK_5",o,o],[0,41,"Digit6",27,"6",54,"VK_6",o,o],[0,42,"Digit7",28,"7",55,"VK_7",o,o],[0,43,"Digit8",29,"8",56,"VK_8",o,o],[0,44,"Digit9",30,"9",57,"VK_9",o,o],[0,45,"Digit0",21,"0",48,"VK_0",o,o],[1,46,"Enter",3,"Enter",13,"VK_RETURN",o,o],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",o,o],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",o,o],[1,49,"Tab",2,"Tab",9,"VK_TAB",o,o],[1,50,"Space",10,"Space",32,"VK_SPACE",o,o],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,o,0,o,o,o],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",o,o],[1,64,"F1",59,"F1",112,"VK_F1",o,o],[1,65,"F2",60,"F2",113,"VK_F2",o,o],[1,66,"F3",61,"F3",114,"VK_F3",o,o],[1,67,"F4",62,"F4",115,"VK_F4",o,o],[1,68,"F5",63,"F5",116,"VK_F5",o,o],[1,69,"F6",64,"F6",117,"VK_F6",o,o],[1,70,"F7",65,"F7",118,"VK_F7",o,o],[1,71,"F8",66,"F8",119,"VK_F8",o,o],[1,72,"F9",67,"F9",120,"VK_F9",o,o],[1,73,"F10",68,"F10",121,"VK_F10",o,o],[1,74,"F11",69,"F11",122,"VK_F11",o,o],[1,75,"F12",70,"F12",123,"VK_F12",o,o],[1,76,"PrintScreen",0,o,0,o,o,o],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",o,o],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",o,o],[1,79,"Insert",19,"Insert",45,"VK_INSERT",o,o],[1,80,"Home",14,"Home",36,"VK_HOME",o,o],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",o,o],[1,82,"Delete",20,"Delete",46,"VK_DELETE",o,o],[1,83,"End",13,"End",35,"VK_END",o,o],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",o,o],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",o],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",o],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",o],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",o],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",o,o],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",o,o],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",o,o],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",o,o],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",o,o],[1,94,"NumpadEnter",3,o,0,o,o,o],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",o,o],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",o,o],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",o,o],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",o,o],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",o,o],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",o,o],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",o,o],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",o,o],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",o,o],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",o,o],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",o,o],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",o,o],[1,107,"ContextMenu",58,"ContextMenu",93,o,o,o],[1,108,"Power",0,o,0,o,o,o],[1,109,"NumpadEqual",0,o,0,o,o,o],[1,110,"F13",71,"F13",124,"VK_F13",o,o],[1,111,"F14",72,"F14",125,"VK_F14",o,o],[1,112,"F15",73,"F15",126,"VK_F15",o,o],[1,113,"F16",74,"F16",127,"VK_F16",o,o],[1,114,"F17",75,"F17",128,"VK_F17",o,o],[1,115,"F18",76,"F18",129,"VK_F18",o,o],[1,116,"F19",77,"F19",130,"VK_F19",o,o],[1,117,"F20",78,"F20",131,"VK_F20",o,o],[1,118,"F21",79,"F21",132,"VK_F21",o,o],[1,119,"F22",80,"F22",133,"VK_F22",o,o],[1,120,"F23",81,"F23",134,"VK_F23",o,o],[1,121,"F24",82,"F24",135,"VK_F24",o,o],[1,122,"Open",0,o,0,o,o,o],[1,123,"Help",0,o,0,o,o,o],[1,124,"Select",0,o,0,o,o,o],[1,125,"Again",0,o,0,o,o,o],[1,126,"Undo",0,o,0,o,o,o],[1,127,"Cut",0,o,0,o,o,o],[1,128,"Copy",0,o,0,o,o,o],[1,129,"Paste",0,o,0,o,o,o],[1,130,"Find",0,o,0,o,o,o],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",o,o],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",o,o],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",o,o],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",o,o],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",o,o],[1,136,"KanaMode",0,o,0,o,o,o],[0,137,"IntlYen",0,o,0,o,o,o],[1,138,"Convert",0,o,0,o,o,o],[1,139,"NonConvert",0,o,0,o,o,o],[1,140,"Lang1",0,o,0,o,o,o],[1,141,"Lang2",0,o,0,o,o,o],[1,142,"Lang3",0,o,0,o,o,o],[1,143,"Lang4",0,o,0,o,o,o],[1,144,"Lang5",0,o,0,o,o,o],[1,145,"Abort",0,o,0,o,o,o],[1,146,"Props",0,o,0,o,o,o],[1,147,"NumpadParenLeft",0,o,0,o,o,o],[1,148,"NumpadParenRight",0,o,0,o,o,o],[1,149,"NumpadBackspace",0,o,0,o,o,o],[1,150,"NumpadMemoryStore",0,o,0,o,o,o],[1,151,"NumpadMemoryRecall",0,o,0,o,o,o],[1,152,"NumpadMemoryClear",0,o,0,o,o,o],[1,153,"NumpadMemoryAdd",0,o,0,o,o,o],[1,154,"NumpadMemorySubtract",0,o,0,o,o,o],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",o,o],[1,156,"NumpadClearEntry",0,o,0,o,o,o],[1,0,o,5,"Ctrl",17,"VK_CONTROL",o,o],[1,0,o,4,"Shift",16,"VK_SHIFT",o,o],[1,0,o,6,"Alt",18,"VK_MENU",o,o],[1,0,o,57,"Meta",91,"VK_COMMAND",o,o],[1,157,"ControlLeft",5,o,0,"VK_LCONTROL",o,o],[1,158,"ShiftLeft",4,o,0,"VK_LSHIFT",o,o],[1,159,"AltLeft",6,o,0,"VK_LMENU",o,o],[1,160,"MetaLeft",57,o,0,"VK_LWIN",o,o],[1,161,"ControlRight",5,o,0,"VK_RCONTROL",o,o],[1,162,"ShiftRight",4,o,0,"VK_RSHIFT",o,o],[1,163,"AltRight",6,o,0,"VK_RMENU",o,o],[1,164,"MetaRight",57,o,0,"VK_RWIN",o,o],[1,165,"BrightnessUp",0,o,0,o,o,o],[1,166,"BrightnessDown",0,o,0,o,o,o],[1,167,"MediaPlay",0,o,0,o,o,o],[1,168,"MediaRecord",0,o,0,o,o,o],[1,169,"MediaFastForward",0,o,0,o,o,o],[1,170,"MediaRewind",0,o,0,o,o,o],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",o,o],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",o,o],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",o,o],[1,174,"Eject",0,o,0,o,o,o],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",o,o],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",o,o],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",o,o],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",o,o],[1,179,"LaunchApp1",0,o,0,"VK_MEDIA_LAUNCH_APP1",o,o],[1,180,"SelectTask",0,o,0,o,o,o],[1,181,"LaunchScreenSaver",0,o,0,o,o,o],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",o,o],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",o,o],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",o,o],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",o,o],[1,186,"BrowserStop",0,o,0,"VK_BROWSER_STOP",o,o],[1,187,"BrowserRefresh",0,o,0,"VK_BROWSER_REFRESH",o,o],[1,188,"BrowserFavorites",0,o,0,"VK_BROWSER_FAVORITES",o,o],[1,189,"ZoomToggle",0,o,0,o,o,o],[1,190,"MailReply",0,o,0,o,o,o],[1,191,"MailForward",0,o,0,o,o,o],[1,192,"MailSend",0,o,0,o,o,o],[1,0,o,114,"KeyInComposition",229,o,o,o],[1,0,o,116,"ABNT_C2",194,"VK_ABNT_C2",o,o],[1,0,o,96,"OEM_8",223,"VK_OEM_8",o,o],[1,0,o,0,o,0,"VK_KANA",o,o],[1,0,o,0,o,0,"VK_HANGUL",o,o],[1,0,o,0,o,0,"VK_JUNJA",o,o],[1,0,o,0,o,0,"VK_FINAL",o,o],[1,0,o,0,o,0,"VK_HANJA",o,o],[1,0,o,0,o,0,"VK_KANJI",o,o],[1,0,o,0,o,0,"VK_CONVERT",o,o],[1,0,o,0,o,0,"VK_NONCONVERT",o,o],[1,0,o,0,o,0,"VK_ACCEPT",o,o],[1,0,o,0,o,0,"VK_MODECHANGE",o,o],[1,0,o,0,o,0,"VK_SELECT",o,o],[1,0,o,0,o,0,"VK_PRINT",o,o],[1,0,o,0,o,0,"VK_EXECUTE",o,o],[1,0,o,0,o,0,"VK_SNAPSHOT",o,o],[1,0,o,0,o,0,"VK_HELP",o,o],[1,0,o,0,o,0,"VK_APPS",o,o],[1,0,o,0,o,0,"VK_PROCESSKEY",o,o],[1,0,o,0,o,0,"VK_PACKET",o,o],[1,0,o,0,o,0,"VK_DBE_SBCSCHAR",o,o],[1,0,o,0,o,0,"VK_DBE_DBCSCHAR",o,o],[1,0,o,0,o,0,"VK_ATTN",o,o],[1,0,o,0,o,0,"VK_CRSEL",o,o],[1,0,o,0,o,0,"VK_EXSEL",o,o],[1,0,o,0,o,0,"VK_EREOF",o,o],[1,0,o,0,o,0,"VK_PLAY",o,o],[1,0,o,0,o,0,"VK_ZOOM",o,o],[1,0,o,0,o,0,"VK_NONAME",o,o],[1,0,o,0,o,0,"VK_PA1",o,o],[1,0,o,0,o,0,"VK_OEM_CLEAR",o,o]],i=[],t=[];for(const s of n){const[c,g,l,r,d,u,a,v,h]=s;if(t[g]||(t[g]=!0,y[g]=l,m[l]=g,w[l.toLowerCase()]=g,c&&(e.IMMUTABLE_CODE_TO_KEY_CODE[g]=r,r!==0&&r!==3&&r!==5&&r!==4&&r!==6&&r!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[r]=g))),!i[r]){if(i[r]=!0,!d)throw new Error(`String representation missing for key code ${r} around scan code ${l}`);k.define(r,d),L.define(r,v||d),D.define(r,h||v||d)}u&&(e.EVENT_KEY_CODE_MAP[u]=r),a&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[a]=r)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var b;(function(o){function n(l){return k.keyCodeToStr(l)}o.toString=n;function i(l){return k.strToKeyCode(l)}o.fromString=i;function t(l){return L.keyCodeToStr(l)}o.toUserSettingsUS=t;function s(l){return D.keyCodeToStr(l)}o.toUserSettingsGeneral=s;function c(l){return L.strToKeyCode(l)||D.strToKeyCode(l)}o.fromUserSettings=c;function g(l){if(l>=98&&l<=113)return null;switch(l){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(l)}o.toElectronAccelerator=g})(b||(e.KeyCodeUtils=b={}));function C(o,n){const i=(n&65535)<<16>>>0;return(o|i)>>>0}}),define(ne[136],se([1,0,9]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=void 0,e.decodeKeybinding=k,e.createSimpleKeybinding=L;function k(C,o){if(typeof C=="number"){if(C===0)return null;const n=(C&65535)>>>0,i=(C&4294901760)>>>16;return i!==0?new m([L(n,o),L(i,o)]):new m([L(n,o)])}else{const n=[];for(let i=0;i<C.length;i++)n.push(L(C[i],o));return new m(n)}}function L(C,o){const n=!!(C&2048),i=!!(C&256),t=o===2?i:n,s=!!(C&1024),c=!!(C&512),g=o===2?n:i,l=C&255;return new D(t,s,c,g,l)}class D{constructor(o,n,i,t,s){this.ctrlKey=o,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.keyCode=s}equals(o){return o instanceof D&&this.ctrlKey===o.ctrlKey&&this.shiftKey===o.shiftKey&&this.altKey===o.altKey&&this.metaKey===o.metaKey&&this.keyCode===o.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class y{constructor(o,n,i,t,s){this.ctrlKey=o,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.scanCode=s}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=y;class m{constructor(o){if(o.length===0)throw(0,f.illegalArgument)("chords");this.chords=o}}e.Keybinding=m;class w{constructor(o,n,i,t,s,c){this.ctrlKey=o,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.keyLabel=s,this.keyAriaLabel=c}}e.ResolvedChord=w;class b{}e.ResolvedKeybinding=b}),define(ne[96],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class f{constructor(L){this.executor=L,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(L){this._error=L}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=f}),define(ne[44],se([1,0,96]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHoverDelegateFactory=m,e.getDefaultHoverDelegate=w,e.createInstantHoverDelegate=b;let L=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const D=new f.Lazy(()=>L("mouse",!1)),y=new f.Lazy(()=>L("element",!1));function m(C){L=C}function w(C){return C==="element"?y.value:D.value}function b(){return L("element",!0)}}),define(ne[156],se([1,0,96]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSBuffer=void 0,e.readUInt16LE=m,e.writeUInt16LE=w,e.readUInt32BE=b,e.writeUInt32BE=C,e.readUInt8=o,e.writeUInt8=n;const k=typeof Buffer<"u",L=new f.Lazy(()=>new Uint8Array(256));let D;class y{static wrap(t){return k&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new y(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}e.VSBuffer=y;function m(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}function w(i,t,s){i[s+0]=t&255,t=t>>>8,i[s+1]=t&255}function b(i,t){return i[t]*2**24+i[t+1]*2**16+i[t+2]*2**8+i[t+3]}function C(i,t,s){i[s+3]=t,t=t>>>8,i[s+2]=t,t=t>>>8,i[s+1]=t,t=t>>>8,i[s]=t}function o(i,t){return i[t]}function n(i,t,s){i[s]=t}}),define(ne[429],se([1,0,96]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareFileNames=y,e.compareAnything=m,e.compareByPrefix=w;const k=new f.Lazy(()=>{const b=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:b,collatorIsNumeric:b.resolvedOptions().numeric}}),L=new f.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new f.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function y(b,C,o=!1){const n=b||"",i=C||"",t=k.value.collator.compare(n,i);return k.value.collatorIsNumeric&&t===0&&n!==i?n<i?-1:1:t}function m(b,C,o){const n=b.toLowerCase(),i=C.toLowerCase(),t=w(b,C,o);if(t)return t;const s=n.endsWith(o),c=i.endsWith(o);if(s!==c)return s?-1:1;const g=y(n,i);return g!==0?g:n.localeCompare(i)}function w(b,C,o){const n=b.toLowerCase(),i=C.toLowerCase(),t=n.startsWith(o),s=i.startsWith(o);if(t!==s)return t?-1:1;if(t&&s){if(n.length<i.length)return-1;if(n.length>i.length)return 1}return 0}}),define(ne[2],se([1,0,123,54]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=void 0,e.setDisposableTracker=y,e.trackDisposable=m,e.markAsDisposed=w,e.markAsSingleton=o,e.isDisposable=n,e.dispose=i,e.combinedDisposable=t,e.toDisposable=s;const L=!1;let D=null;function y(a){D=a}if(L){const a="__is_disposable_tracked__";y(new class{trackDisposable(v){const h=new Error("Potentially leaked disposable").stack;setTimeout(()=>{v[a]||console.log(h)},3e3)}setParent(v,h){if(v&&v!==g.None)try{v[a]=!0}catch{}}markAsDisposed(v){if(v&&v!==g.None)try{v[a]=!0}catch{}}markAsSingleton(v){}})}function m(a){return D?.trackDisposable(a),a}function w(a){D?.markAsDisposed(a)}function b(a,v){D?.setParent(a,v)}function C(a,v){if(D)for(const h of a)D.setParent(h,v)}function o(a){return D?.markAsSingleton(a),a}function n(a){return typeof a=="object"&&a!==null&&typeof a.dispose=="function"&&a.dispose.length===0}function i(a){if(k.Iterable.is(a)){const v=[];for(const h of a)if(h)try{h.dispose()}catch(p){v.push(p)}if(v.length===1)throw v[0];if(v.length>1)throw new AggregateError(v,"Encountered errors while disposing of store");return Array.isArray(a)?[]:a}else if(a)return a.dispose(),a}function t(...a){const v=s(()=>i(a));return C(a,v),v}function s(a){const v=m({dispose:(0,f.createSingleCallFunction)(()=>{w(v),a()})});return v}class c{constructor(){this._toDispose=new Set,this._isDisposed=!1,m(this)}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{i(this._toDispose)}finally{this._toDispose.clear()}}add(v){if(!v)return v;if(v===this)throw new Error("Cannot register a disposable on itself!");return b(v,this),this._isDisposed?c.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(v),v}deleteAndLeak(v){v&&this._toDispose.has(v)&&(this._toDispose.delete(v),b(v,null))}}e.DisposableStore=c,c.DISABLE_DISPOSED_WARNING=!1;class g{constructor(){this._store=new c,m(this),b(this._store,this)}dispose(){w(this),this._store.dispose()}_register(v){if(v===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(v)}}e.Disposable=g,g.None=Object.freeze({dispose(){}});class l{constructor(){this._isDisposed=!1,m(this)}get value(){return this._isDisposed?void 0:this._value}set value(v){var h;this._isDisposed||v===this._value||((h=this._value)===null||h===void 0||h.dispose(),v&&b(v,this),this._value=v)}clear(){this.value=void 0}dispose(){var v;this._isDisposed=!0,w(this),(v=this._value)===null||v===void 0||v.dispose(),this._value=void 0}}e.MutableDisposable=l;class r{constructor(v){this._disposable=v,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=r;class d{constructor(v){this.object=v}dispose(){}}e.ImmortalReference=d;class u{constructor(){this._store=new Map,this._isDisposed=!1,m(this)}dispose(){w(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{i(this._store.values())}finally{this._store.clear()}}get(v){return this._store.get(v)}set(v,h,p=!1){var _;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),p||(_=this._store.get(v))===null||_===void 0||_.dispose(),this._store.set(v,h)}deleteAndDispose(v){var h;(h=this._store.get(v))===null||h===void 0||h.dispose(),this._store.delete(v)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=u}),define(ne[71],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class f{constructor(D){this.element=D,this.next=f.Undefined,this.prev=f.Undefined}}f.Undefined=new f(void 0);class k{constructor(){this._first=f.Undefined,this._last=f.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f.Undefined}clear(){let D=this._first;for(;D!==f.Undefined;){const y=D.next;D.prev=f.Undefined,D.next=f.Undefined,D=y}this._first=f.Undefined,this._last=f.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,y){const m=new f(D);if(this._first===f.Undefined)this._first=m,this._last=m;else if(y){const b=this._last;this._last=m,m.prev=b,b.next=m}else{const b=this._first;this._first=m,m.next=b,b.prev=m}this._size+=1;let w=!1;return()=>{w||(w=!0,this._remove(m))}}shift(){if(this._first!==f.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==f.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==f.Undefined&&D.next!==f.Undefined){const y=D.prev;y.next=D.next,D.next.prev=y}else D.prev===f.Undefined&&D.next===f.Undefined?(this._first=f.Undefined,this._last=f.Undefined):D.next===f.Undefined?(this._last=this._last.prev,this._last.next=f.Undefined):D.prev===f.Undefined&&(this._first=this._first.next,this._first.prev=f.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==f.Undefined;)yield D.element,D=D.next}}e.LinkedList=k});var ke=this&&this.__decorate||function(X,e,f,k){var L=arguments.length,D=L<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,f):k,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(X,e,f,k);else for(var m=X.length-1;m>=0;m--)(y=X[m])&&(D=(L<3?y(D):L>3?y(e,f,D):y(e,f))||D);return L>3&&D&&Object.defineProperty(e,f,D),D};define(ne[430],se([1,0,122]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedText=void 0,e.parseLinkedText=D;class k{constructor(m){this.nodes=m}toString(){return this.nodes.map(m=>typeof m=="string"?m:m.label).join("")}}e.LinkedText=k,ke([f.memoize],k.prototype,"toString",null);const L=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function D(y){const m=[];let w=0,b;for(;b=L.exec(y);){b.index-w>0&&m.push(y.substring(w,b.index));const[,C,o,,n]=b;n?m.push({label:C,href:o,title:n}):m.push({label:C,href:o}),w=b.index+b[0].length}return w<y.length&&m.push(y.substring(w)),new k(m)}}),define(ne[45],se([1,0]),function(X,e){"use strict";var f,k;Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.BidirectionalMap=e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class L{constructor(i,t){this.uri=i,this.value=t}}function D(n){return Array.isArray(n)}class y{constructor(i,t){if(this[f]="ResourceMap",i instanceof y)this.map=new Map(i.map),this.toKey=t??y.defaultToKey;else if(D(i)){this.map=new Map,this.toKey=t??y.defaultToKey;for(const[s,c]of i)this.set(s,c)}else this.map=new Map,this.toKey=i??y.defaultToKey}set(i,t){return this.map.set(this.toKey(i),new L(i,t)),this}get(i){var t;return(t=this.map.get(this.toKey(i)))===null||t===void 0?void 0:t.value}has(i){return this.map.has(this.toKey(i))}get size(){return this.map.size}clear(){this.map.clear()}delete(i){return this.map.delete(this.toKey(i))}forEach(i,t){typeof t<"u"&&(i=i.bind(t));for(const[s,c]of this.map)i(c.value,c.uri,this)}*values(){for(const i of this.map.values())yield i.value}*keys(){for(const i of this.map.values())yield i.uri}*entries(){for(const i of this.map.values())yield[i.uri,i.value]}*[(f=Symbol.toStringTag,Symbol.iterator)](){for(const[,i]of this.map)yield[i.uri,i.value]}}e.ResourceMap=y,y.defaultToKey=n=>n.toString();class m{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var i;return(i=this._head)===null||i===void 0?void 0:i.value}get last(){var i;return(i=this._tail)===null||i===void 0?void 0:i.value}has(i){return this._map.has(i)}get(i,t=0){const s=this._map.get(i);if(s)return t!==0&&this.touch(s,t),s.value}set(i,t,s=0){let c=this._map.get(i);if(c)c.value=t,s!==0&&this.touch(c,s);else{switch(c={key:i,value:t,next:void 0,previous:void 0},s){case 0:this.addItemLast(c);break;case 1:this.addItemFirst(c);break;case 2:this.addItemLast(c);break;default:this.addItemLast(c);break}this._map.set(i,c),this._size++}return this}delete(i){return!!this.remove(i)}remove(i){const t=this._map.get(i);if(t)return this._map.delete(i),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const i=this._head;return this._map.delete(i.key),this.removeItem(i),this._size--,i.value}forEach(i,t){const s=this._state;let c=this._head;for(;c;){if(t?i.bind(t)(c.value,c.key,this):i(c.value,c.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");c=c.next}}keys(){const i=this,t=this._state;let s=this._head;const c={[Symbol.iterator](){return c},next(){if(i._state!==t)throw new Error("LinkedMap got modified during iteration.");if(s){const g={value:s.key,done:!1};return s=s.next,g}else return{value:void 0,done:!0}}};return c}values(){const i=this,t=this._state;let s=this._head;const c={[Symbol.iterator](){return c},next(){if(i._state!==t)throw new Error("LinkedMap got modified during iteration.");if(s){const g={value:s.value,done:!1};return s=s.next,g}else return{value:void 0,done:!0}}};return c}entries(){const i=this,t=this._state;let s=this._head;const c={[Symbol.iterator](){return c},next(){if(i._state!==t)throw new Error("LinkedMap got modified during iteration.");if(s){const g={value:[s.key,s.value],done:!1};return s=s.next,g}else return{value:void 0,done:!0}}};return c}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(i){if(i>=this.size)return;if(i===0){this.clear();return}let t=this._head,s=this.size;for(;t&&s>i;)this._map.delete(t.key),t=t.next,s--;this._head=t,this._size=s,t&&(t.previous=void 0),this._state++}trimNew(i){if(i>=this.size)return;if(i===0){this.clear();return}let t=this._tail,s=this.size;for(;t&&s>i;)this._map.delete(t.key),t=t.previous,s--;this._tail=t,this._size=s,t&&(t.next=void 0),this._state++}addItemFirst(i){if(!this._head&&!this._tail)this._tail=i;else if(this._head)i.next=this._head,this._head.previous=i;else throw new Error("Invalid list");this._head=i,this._state++}addItemLast(i){if(!this._head&&!this._tail)this._head=i;else if(this._tail)i.previous=this._tail,this._tail.next=i;else throw new Error("Invalid list");this._tail=i,this._state++}removeItem(i){if(i===this._head&&i===this._tail)this._head=void 0,this._tail=void 0;else if(i===this._head){if(!i.next)throw new Error("Invalid list");i.next.previous=void 0,this._head=i.next}else if(i===this._tail){if(!i.previous)throw new Error("Invalid list");i.previous.next=void 0,this._tail=i.previous}else{const t=i.next,s=i.previous;if(!t||!s)throw new Error("Invalid list");t.previous=s,s.next=t}i.next=void 0,i.previous=void 0,this._state++}touch(i,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(i===this._head)return;const s=i.next,c=i.previous;i===this._tail?(c.next=void 0,this._tail=c):(s.previous=c,c.next=s),i.previous=void 0,i.next=this._head,this._head.previous=i,this._head=i,this._state++}else if(t===2){if(i===this._tail)return;const s=i.next,c=i.previous;i===this._head?(s.previous=void 0,this._head=s):(s.previous=c,c.next=s),i.next=void 0,i.previous=this._tail,this._tail.next=i,this._tail=i,this._state++}}}toJSON(){const i=[];return this.forEach((t,s)=>{i.push([s,t])}),i}fromJSON(i){this.clear();for(const[t,s]of i)this.set(t,s)}}e.LinkedMap=m;class w extends m{constructor(i,t=1){super(),this._limit=i,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(i){this._limit=i,this.checkTrim()}get(i,t=2){return super.get(i,t)}peek(i){return super.get(i,0)}set(i,t){return super.set(i,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class b extends w{constructor(i,t=1){super(i,t)}trim(i){this.trimOld(i)}set(i,t){return super.set(i,t),this.checkTrim(),this}}e.LRUCache=b;class C{constructor(i){if(this._m1=new Map,this._m2=new Map,i)for(const[t,s]of i)this.set(t,s)}clear(){this._m1.clear(),this._m2.clear()}set(i,t){this._m1.set(i,t),this._m2.set(t,i)}get(i){return this._m1.get(i)}getKey(i){return this._m2.get(i)}delete(i){const t=this._m1.get(i);return t===void 0?!1:(this._m1.delete(i),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}e.BidirectionalMap=C;class o{constructor(){this.map=new Map}add(i,t){let s=this.map.get(i);s||(s=new Set,this.map.set(i,s)),s.add(t)}delete(i,t){const s=this.map.get(i);s&&(s.delete(t),s.size===0&&this.map.delete(i))}forEach(i,t){const s=this.map.get(i);s&&s.forEach(t)}get(i){const t=this.map.get(i);return t||new Set}}e.SetMap=o}),function(X,e){typeof define=="function"&&define.amd?define(ne[431],se([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(X=typeof globalThis<"u"?globalThis:X||self,e(X.marked={}))}(this,function(X){"use strict";function e(ie,oe){for(var re=0;re<oe.length;re++){var W=oe[re];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(ie,W.key,W)}}function f(ie,oe,re){return oe&&e(ie.prototype,oe),re&&e(ie,re),Object.defineProperty(ie,"prototype",{writable:!1}),ie}function k(ie,oe){if(ie){if(typeof ie=="string")return L(ie,oe);var re=Object.prototype.toString.call(ie).slice(8,-1);if(re==="Object"&&ie.constructor&&(re=ie.constructor.name),re==="Map"||re==="Set")return Array.from(ie);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return L(ie,oe)}}function L(ie,oe){(oe==null||oe>ie.length)&&(oe=ie.length);for(var re=0,W=new Array(oe);re<oe;re++)W[re]=ie[re];return W}function D(ie,oe){var re=typeof Symbol<"u"&&ie[Symbol.iterator]||ie["@@iterator"];if(re)return(re=re.call(ie)).next.bind(re);if(Array.isArray(ie)||(re=k(ie))||oe&&ie&&typeof ie.length=="number"){re&&(ie=re);var W=0;return function(){return W>=ie.length?{done:!0}:{done:!1,value:ie[W++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}X.defaults=y();function m(ie){X.defaults=ie}var w=/[&<>"']/,b=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,o=/[<>"']|&(?!#?\w+;)/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(oe){return n[oe]};function t(ie,oe){if(oe){if(w.test(ie))return ie.replace(b,i)}else if(C.test(ie))return ie.replace(o,i);return ie}var s=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function c(ie){return ie.replace(s,function(oe,re){return re=re.toLowerCase(),re==="colon"?":":re.charAt(0)==="#"?re.charAt(1)==="x"?String.fromCharCode(parseInt(re.substring(2),16)):String.fromCharCode(+re.substring(1)):""})}var g=/(^|[^\[])\^/g;function l(ie,oe){ie=typeof ie=="string"?ie:ie.source,oe=oe||"";var re={replace:function(q,H){return H=H.source||H,H=H.replace(g,"$1"),ie=ie.replace(q,H),re},getRegex:function(){return new RegExp(ie,oe)}};return re}var r=/[^\w:]/g,d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function u(ie,oe,re){if(ie){var W;try{W=decodeURIComponent(c(re)).replace(r,"").toLowerCase()}catch{return null}if(W.indexOf("javascript:")===0||W.indexOf("vbscript:")===0||W.indexOf("data:")===0)return null}oe&&!d.test(re)&&(re=_(oe,re));try{re=encodeURI(re).replace(/%25/g,"%")}catch{return null}return re}var a={},v=/^[^:]+:\/*[^/]*$/,h=/^([^:]+:)[\s\S]*$/,p=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(ie,oe){a[" "+ie]||(v.test(ie)?a[" "+ie]=ie+"/":a[" "+ie]=T(ie,"/",!0)),ie=a[" "+ie];var re=ie.indexOf(":")===-1;return oe.substring(0,2)==="//"?re?oe:ie.replace(h,"$1")+oe:oe.charAt(0)==="/"?re?oe:ie.replace(p,"$1")+oe:ie+oe}var S={exec:function(){}};function E(ie){for(var oe=1,re,W;oe<arguments.length;oe++){re=arguments[oe];for(W in re)Object.prototype.hasOwnProperty.call(re,W)&&(ie[W]=re[W])}return ie}function I(ie,oe){var re=ie.replace(/\|/g,function(H,j,Q){for(var te=!1,le=j;--le>=0&&Q[le]==="\\";)te=!te;return te?"|":" |"}),W=re.split(/ \|/),q=0;if(W[0].trim()||W.shift(),W.length>0&&!W[W.length-1].trim()&&W.pop(),W.length>oe)W.splice(oe);else for(;W.length<oe;)W.push("");for(;q<W.length;q++)W[q]=W[q].trim().replace(/\\\|/g,"|");return W}function T(ie,oe,re){var W=ie.length;if(W===0)return"";for(var q=0;q<W;){var H=ie.charAt(W-q-1);if(H===oe&&!re)q++;else if(H!==oe&&re)q++;else break}return ie.slice(0,W-q)}function N(ie,oe){if(ie.indexOf(oe[1])===-1)return-1;for(var re=ie.length,W=0,q=0;q<re;q++)if(ie[q]==="\\")q++;else if(ie[q]===oe[0])W++;else if(ie[q]===oe[1]&&(W--,W<0))return q;return-1}function A(ie){ie&&ie.sanitize&&!ie.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function R(ie,oe){if(oe<1)return"";for(var re="";oe>1;)oe&1&&(re+=ie),oe>>=1,ie+=ie;return re+ie}function M(ie,oe,re,W){var q=oe.href,H=oe.title?t(oe.title):null,j=ie[1].replace(/\\([\[\]])/g,"$1");if(ie[0].charAt(0)!=="!"){W.state.inLink=!0;var Q={type:"link",raw:re,href:q,title:H,text:j,tokens:W.inlineTokens(j)};return W.state.inLink=!1,Q}return{type:"image",raw:re,href:q,title:H,text:t(j)}}function P(ie,oe){var re=ie.match(/^(\s+)(?:```)/);if(re===null)return oe;var W=re[1];return oe.split(`
`).map(function(q){var H=q.match(/^\s+/);if(H===null)return q;var j=H[0];return j.length>=W.length?q.slice(W.length):q}).join(`
`)}var F=function(){function ie(re){this.options=re||X.defaults}var oe=ie.prototype;return oe.space=function(W){var q=this.rules.block.newline.exec(W);if(q&&q[0].length>0)return{type:"space",raw:q[0]}},oe.code=function(W){var q=this.rules.block.code.exec(W);if(q){var H=q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:q[0],codeBlockStyle:"indented",text:this.options.pedantic?H:T(H,`
`)}}},oe.fences=function(W){var q=this.rules.block.fences.exec(W);if(q){var H=q[0],j=P(H,q[3]||"");return{type:"code",raw:H,lang:q[2]?q[2].trim():q[2],text:j}}},oe.heading=function(W){var q=this.rules.block.heading.exec(W);if(q){var H=q[2].trim();if(/#$/.test(H)){var j=T(H,"#");(this.options.pedantic||!j||/ $/.test(j))&&(H=j.trim())}return{type:"heading",raw:q[0],depth:q[1].length,text:H,tokens:this.lexer.inline(H)}}},oe.hr=function(W){var q=this.rules.block.hr.exec(W);if(q)return{type:"hr",raw:q[0]}},oe.blockquote=function(W){var q=this.rules.block.blockquote.exec(W);if(q){var H=q[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:q[0],tokens:this.lexer.blockTokens(H,[]),text:H}}},oe.list=function(W){var q=this.rules.block.list.exec(W);if(q){var H,j,Q,te,le,de,me,ve,Ce,ye,Se,Te,De=q[1].trim(),Me=De.length>1,Ae={type:"list",raw:"",ordered:Me,start:Me?+De.slice(0,-1):"",loose:!1,items:[]};De=Me?"\\d{1,9}\\"+De.slice(-1):"\\"+De,this.options.pedantic&&(De=Me?De:"[*+-]");for(var Pe=new RegExp("^( {0,3}"+De+")((?:[	 ][^\\n]*)?(?:\\n|$))");W&&(Te=!1,!(!(q=Pe.exec(W))||this.rules.block.hr.test(W)));){if(H=q[0],W=W.substring(H.length),ve=q[2].split(`
`,1)[0],Ce=W.split(`
`,1)[0],this.options.pedantic?(te=2,Se=ve.trimLeft()):(te=q[2].search(/[^ ]/),te=te>4?1:te,Se=ve.slice(te),te+=q[1].length),de=!1,!ve&&/^ *$/.test(Ce)&&(H+=Ce+`
`,W=W.substring(Ce.length+1),Te=!0),!Te)for(var Re=new RegExp("^ {0,"+Math.min(3,te-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ee=new RegExp("^ {0,"+Math.min(3,te-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Ne=new RegExp("^ {0,"+Math.min(3,te-1)+"}(?:```|~~~)"),fe=new RegExp("^ {0,"+Math.min(3,te-1)+"}#");W&&(ye=W.split(`
`,1)[0],ve=ye,this.options.pedantic&&(ve=ve.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ne.test(ve)||fe.test(ve)||Re.test(ve)||Ee.test(W)));){if(ve.search(/[^ ]/)>=te||!ve.trim())Se+=`
`+ve.slice(te);else if(!de)Se+=`
`+ve;else break;!de&&!ve.trim()&&(de=!0),H+=ye+`
`,W=W.substring(ye.length+1)}Ae.loose||(me?Ae.loose=!0:/\n *\n *$/.test(H)&&(me=!0)),this.options.gfm&&(j=/^\[[ xX]\] /.exec(Se),j&&(Q=j[0]!=="[ ] ",Se=Se.replace(/^\[[ xX]\] +/,""))),Ae.items.push({type:"list_item",raw:H,task:!!j,checked:Q,loose:!1,text:Se}),Ae.raw+=H}Ae.items[Ae.items.length-1].raw=H.trimRight(),Ae.items[Ae.items.length-1].text=Se.trimRight(),Ae.raw=Ae.raw.trimRight();var _e=Ae.items.length;for(le=0;le<_e;le++){this.lexer.state.top=!1,Ae.items[le].tokens=this.lexer.blockTokens(Ae.items[le].text,[]);var Oe=Ae.items[le].tokens.filter(function(Ke){return Ke.type==="space"}),Be=Oe.every(function(Ke){for(var je=Ke.raw.split(""),Ze=0,et=D(je),it;!(it=et()).done;){var rt=it.value;if(rt===`
`&&(Ze+=1),Ze>1)return!0}return!1});!Ae.loose&&Oe.length&&Be&&(Ae.loose=!0,Ae.items[le].loose=!0)}return Ae}},oe.html=function(W){var q=this.rules.block.html.exec(W);if(q){var H={type:"html",raw:q[0],pre:!this.options.sanitizer&&(q[1]==="pre"||q[1]==="script"||q[1]==="style"),text:q[0]};if(this.options.sanitize){var j=this.options.sanitizer?this.options.sanitizer(q[0]):t(q[0]);H.type="paragraph",H.text=j,H.tokens=this.lexer.inline(j)}return H}},oe.def=function(W){var q=this.rules.block.def.exec(W);if(q){q[3]&&(q[3]=q[3].substring(1,q[3].length-1));var H=q[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:H,raw:q[0],href:q[2],title:q[3]}}},oe.table=function(W){var q=this.rules.block.table.exec(W);if(q){var H={type:"table",header:I(q[1]).map(function(me){return{text:me}}),align:q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:q[3]&&q[3].trim()?q[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(H.header.length===H.align.length){H.raw=q[0];var j=H.align.length,Q,te,le,de;for(Q=0;Q<j;Q++)/^ *-+: *$/.test(H.align[Q])?H.align[Q]="right":/^ *:-+: *$/.test(H.align[Q])?H.align[Q]="center":/^ *:-+ *$/.test(H.align[Q])?H.align[Q]="left":H.align[Q]=null;for(j=H.rows.length,Q=0;Q<j;Q++)H.rows[Q]=I(H.rows[Q],H.header.length).map(function(me){return{text:me}});for(j=H.header.length,te=0;te<j;te++)H.header[te].tokens=this.lexer.inline(H.header[te].text);for(j=H.rows.length,te=0;te<j;te++)for(de=H.rows[te],le=0;le<de.length;le++)de[le].tokens=this.lexer.inline(de[le].text);return H}}},oe.lheading=function(W){var q=this.rules.block.lheading.exec(W);if(q)return{type:"heading",raw:q[0],depth:q[2].charAt(0)==="="?1:2,text:q[1],tokens:this.lexer.inline(q[1])}},oe.paragraph=function(W){var q=this.rules.block.paragraph.exec(W);if(q){var H=q[1].charAt(q[1].length-1)===`
`?q[1].slice(0,-1):q[1];return{type:"paragraph",raw:q[0],text:H,tokens:this.lexer.inline(H)}}},oe.text=function(W){var q=this.rules.block.text.exec(W);if(q)return{type:"text",raw:q[0],text:q[0],tokens:this.lexer.inline(q[0])}},oe.escape=function(W){var q=this.rules.inline.escape.exec(W);if(q)return{type:"escape",raw:q[0],text:t(q[1])}},oe.tag=function(W){var q=this.rules.inline.tag.exec(W);if(q)return!this.lexer.state.inLink&&/^<a /i.test(q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(q[0]):t(q[0]):q[0]}},oe.link=function(W){var q=this.rules.inline.link.exec(W);if(q){var H=q[2].trim();if(!this.options.pedantic&&/^</.test(H)){if(!/>$/.test(H))return;var j=T(H.slice(0,-1),"\\");if((H.length-j.length)%2===0)return}else{var Q=N(q[2],"()");if(Q>-1){var te=q[0].indexOf("!")===0?5:4,le=te+q[1].length+Q;q[2]=q[2].substring(0,Q),q[0]=q[0].substring(0,le).trim(),q[3]=""}}var de=q[2],me="";if(this.options.pedantic){var ve=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(de);ve&&(de=ve[1],me=ve[3])}else me=q[3]?q[3].slice(1,-1):"";return de=de.trim(),/^</.test(de)&&(this.options.pedantic&&!/>$/.test(H)?de=de.slice(1):de=de.slice(1,-1)),M(q,{href:de&&de.replace(this.rules.inline._escapes,"$1"),title:me&&me.replace(this.rules.inline._escapes,"$1")},q[0],this.lexer)}},oe.reflink=function(W,q){var H;if((H=this.rules.inline.reflink.exec(W))||(H=this.rules.inline.nolink.exec(W))){var j=(H[2]||H[1]).replace(/\s+/g," ");if(j=q[j.toLowerCase()],!j||!j.href){var Q=H[0].charAt(0);return{type:"text",raw:Q,text:Q}}return M(H,j,H[0],this.lexer)}},oe.emStrong=function(W,q,H){H===void 0&&(H="");var j=this.rules.inline.emStrong.lDelim.exec(W);if(j&&!(j[3]&&H.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Q=j[1]||j[2]||"";if(!Q||Q&&(H===""||this.rules.inline.punctuation.exec(H))){var te=j[0].length-1,le,de,me=te,ve=0,Ce=j[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ce.lastIndex=0,q=q.slice(-1*W.length+te);(j=Ce.exec(q))!=null;)if(le=j[1]||j[2]||j[3]||j[4]||j[5]||j[6],!!le){if(de=le.length,j[3]||j[4]){me+=de;continue}else if((j[5]||j[6])&&te%3&&!((te+de)%3)){ve+=de;continue}if(me-=de,!(me>0)){if(de=Math.min(de,de+me+ve),Math.min(te,de)%2){var ye=W.slice(1,te+j.index+de);return{type:"em",raw:W.slice(0,te+j.index+de+1),text:ye,tokens:this.lexer.inlineTokens(ye)}}var Se=W.slice(2,te+j.index+de-1);return{type:"strong",raw:W.slice(0,te+j.index+de+1),text:Se,tokens:this.lexer.inlineTokens(Se)}}}}}},oe.codespan=function(W){var q=this.rules.inline.code.exec(W);if(q){var H=q[2].replace(/\n/g," "),j=/[^ ]/.test(H),Q=/^ /.test(H)&&/ $/.test(H);return j&&Q&&(H=H.substring(1,H.length-1)),H=t(H,!0),{type:"codespan",raw:q[0],text:H}}},oe.br=function(W){var q=this.rules.inline.br.exec(W);if(q)return{type:"br",raw:q[0]}},oe.del=function(W){var q=this.rules.inline.del.exec(W);if(q)return{type:"del",raw:q[0],text:q[2],tokens:this.lexer.inlineTokens(q[2])}},oe.autolink=function(W,q){var H=this.rules.inline.autolink.exec(W);if(H){var j,Q;return H[2]==="@"?(j=t(this.options.mangle?q(H[1]):H[1]),Q="mailto:"+j):(j=t(H[1]),Q=j),{type:"link",raw:H[0],text:j,href:Q,tokens:[{type:"text",raw:j,text:j}]}}},oe.url=function(W,q){var H;if(H=this.rules.inline.url.exec(W)){var j,Q;if(H[2]==="@")j=t(this.options.mangle?q(H[0]):H[0]),Q="mailto:"+j;else{var te;do te=H[0],H[0]=this.rules.inline._backpedal.exec(H[0])[0];while(te!==H[0]);j=t(H[0]),H[1]==="www."?Q="http://"+j:Q=j}return{type:"link",raw:H[0],text:j,href:Q,tokens:[{type:"text",raw:j,text:j}]}}},oe.inlineText=function(W,q){var H=this.rules.inline.text.exec(W);if(H){var j;return this.lexer.state.inRawBlock?j=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(H[0]):t(H[0]):H[0]:j=t(this.options.smartypants?q(H[0]):H[0]),{type:"text",raw:H[0],text:j}}},ie}(),O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};O._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,O.def=l(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.listItemStart=l(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=l(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=l(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=l(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=l(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=E({},O),O.gfm=E({},O.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.table=l(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.paragraph=l(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",O.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=E({},O.normal,{html:l(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:l(O.normal._paragraph).replace("hr",O.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var B={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};B._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",B.punctuation=l(B.punctuation).replace(/punctuation/g,B._punctuation).getRegex(),B.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,B.escapedEmSt=/\\\*|\\_/g,B._comment=l(O._comment).replace("(?:-->|$)","-->").getRegex(),B.emStrong.lDelim=l(B.emStrong.lDelim).replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimAst=l(B.emStrong.rDelimAst,"g").replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimUnd=l(B.emStrong.rDelimUnd,"g").replace(/punct/g,B._punctuation).getRegex(),B._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,B._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,B._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,B.autolink=l(B.autolink).replace("scheme",B._scheme).replace("email",B._email).getRegex(),B._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,B.tag=l(B.tag).replace("comment",B._comment).replace("attribute",B._attribute).getRegex(),B._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,B._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,B._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,B.link=l(B.link).replace("label",B._label).replace("href",B._href).replace("title",B._title).getRegex(),B.reflink=l(B.reflink).replace("label",B._label).replace("ref",O._label).getRegex(),B.nolink=l(B.nolink).replace("ref",O._label).getRegex(),B.reflinkSearch=l(B.reflinkSearch,"g").replace("reflink",B.reflink).replace("nolink",B.nolink).getRegex(),B.normal=E({},B),B.pedantic=E({},B.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:l(/^!?\[(label)\]\((.*?)\)/).replace("label",B._label).getRegex(),reflink:l(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",B._label).getRegex()}),B.gfm=E({},B.normal,{escape:l(B.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),B.gfm.url=l(B.gfm.url,"i").replace("email",B.gfm._extended_email).getRegex(),B.breaks=E({},B.gfm,{br:l(B.br).replace("{2,}","*").getRegex(),text:l(B.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function V(ie){return ie.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function K(ie){var oe="",re,W,q=ie.length;for(re=0;re<q;re++)W=ie.charCodeAt(re),Math.random()>.5&&(W="x"+W.toString(16)),oe+="&#"+W+";";return oe}var U=function(){function ie(re){this.tokens=[],this.tokens.links=Object.create(null),this.options=re||X.defaults,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var W={block:O.normal,inline:B.normal};this.options.pedantic?(W.block=O.pedantic,W.inline=B.pedantic):this.options.gfm&&(W.block=O.gfm,this.options.breaks?W.inline=B.breaks:W.inline=B.gfm),this.tokenizer.rules=W}ie.lex=function(W,q){var H=new ie(q);return H.lex(W)},ie.lexInline=function(W,q){var H=new ie(q);return H.inlineTokens(W)};var oe=ie.prototype;return oe.lex=function(W){W=W.replace(/\r\n|\r/g,`
`),this.blockTokens(W,this.tokens);for(var q;q=this.inlineQueue.shift();)this.inlineTokens(q.src,q.tokens);return this.tokens},oe.blockTokens=function(W,q){var H=this;q===void 0&&(q=[]),this.options.pedantic?W=W.replace(/\t/g,"    ").replace(/^ +$/gm,""):W=W.replace(/^( *)(\t+)/gm,function(me,ve,Ce){return ve+"    ".repeat(Ce.length)});for(var j,Q,te,le;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(me){return(j=me.call({lexer:H},W,q))?(W=W.substring(j.raw.length),q.push(j),!0):!1}))){if(j=this.tokenizer.space(W)){W=W.substring(j.raw.length),j.raw.length===1&&q.length>0?q[q.length-1].raw+=`
`:q.push(j);continue}if(j=this.tokenizer.code(W)){W=W.substring(j.raw.length),Q=q[q.length-1],Q&&(Q.type==="paragraph"||Q.type==="text")?(Q.raw+=`
`+j.raw,Q.text+=`
`+j.text,this.inlineQueue[this.inlineQueue.length-1].src=Q.text):q.push(j);continue}if(j=this.tokenizer.fences(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.heading(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.hr(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.blockquote(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.list(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.html(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.def(W)){W=W.substring(j.raw.length),Q=q[q.length-1],Q&&(Q.type==="paragraph"||Q.type==="text")?(Q.raw+=`
`+j.raw,Q.text+=`
`+j.raw,this.inlineQueue[this.inlineQueue.length-1].src=Q.text):this.tokens.links[j.tag]||(this.tokens.links[j.tag]={href:j.href,title:j.title});continue}if(j=this.tokenizer.table(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.lheading(W)){W=W.substring(j.raw.length),q.push(j);continue}if(te=W,this.options.extensions&&this.options.extensions.startBlock&&function(){var me=1/0,ve=W.slice(1),Ce=void 0;H.options.extensions.startBlock.forEach(function(ye){Ce=ye.call({lexer:this},ve),typeof Ce=="number"&&Ce>=0&&(me=Math.min(me,Ce))}),me<1/0&&me>=0&&(te=W.substring(0,me+1))}(),this.state.top&&(j=this.tokenizer.paragraph(te))){Q=q[q.length-1],le&&Q.type==="paragraph"?(Q.raw+=`
`+j.raw,Q.text+=`
`+j.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Q.text):q.push(j),le=te.length!==W.length,W=W.substring(j.raw.length);continue}if(j=this.tokenizer.text(W)){W=W.substring(j.raw.length),Q=q[q.length-1],Q&&Q.type==="text"?(Q.raw+=`
`+j.raw,Q.text+=`
`+j.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Q.text):q.push(j);continue}if(W){var de="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(de);break}else throw new Error(de)}}return this.state.top=!0,q},oe.inline=function(W,q){return q===void 0&&(q=[]),this.inlineQueue.push({src:W,tokens:q}),q},oe.inlineTokens=function(W,q){var H=this;q===void 0&&(q=[]);var j,Q,te,le=W,de,me,ve;if(this.tokens.links){var Ce=Object.keys(this.tokens.links);if(Ce.length>0)for(;(de=this.tokenizer.rules.inline.reflinkSearch.exec(le))!=null;)Ce.includes(de[0].slice(de[0].lastIndexOf("[")+1,-1))&&(le=le.slice(0,de.index)+"["+R("a",de[0].length-2)+"]"+le.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(de=this.tokenizer.rules.inline.blockSkip.exec(le))!=null;)le=le.slice(0,de.index)+"["+R("a",de[0].length-2)+"]"+le.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(de=this.tokenizer.rules.inline.escapedEmSt.exec(le))!=null;)le=le.slice(0,de.index)+"++"+le.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;W;)if(me||(ve=""),me=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Se){return(j=Se.call({lexer:H},W,q))?(W=W.substring(j.raw.length),q.push(j),!0):!1}))){if(j=this.tokenizer.escape(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.tag(W)){W=W.substring(j.raw.length),Q=q[q.length-1],Q&&j.type==="text"&&Q.type==="text"?(Q.raw+=j.raw,Q.text+=j.text):q.push(j);continue}if(j=this.tokenizer.link(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring(j.raw.length),Q=q[q.length-1],Q&&j.type==="text"&&Q.type==="text"?(Q.raw+=j.raw,Q.text+=j.text):q.push(j);continue}if(j=this.tokenizer.emStrong(W,le,ve)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.codespan(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.br(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.del(W)){W=W.substring(j.raw.length),q.push(j);continue}if(j=this.tokenizer.autolink(W,K)){W=W.substring(j.raw.length),q.push(j);continue}if(!this.state.inLink&&(j=this.tokenizer.url(W,K))){W=W.substring(j.raw.length),q.push(j);continue}if(te=W,this.options.extensions&&this.options.extensions.startInline&&function(){var Se=1/0,Te=W.slice(1),De=void 0;H.options.extensions.startInline.forEach(function(Me){De=Me.call({lexer:this},Te),typeof De=="number"&&De>=0&&(Se=Math.min(Se,De))}),Se<1/0&&Se>=0&&(te=W.substring(0,Se+1))}(),j=this.tokenizer.inlineText(te,V)){W=W.substring(j.raw.length),j.raw.slice(-1)!=="_"&&(ve=j.raw.slice(-1)),me=!0,Q=q[q.length-1],Q&&Q.type==="text"?(Q.raw+=j.raw,Q.text+=j.text):q.push(j);continue}if(W){var ye="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(ye);break}else throw new Error(ye)}}return q},f(ie,null,[{key:"rules",get:function(){return{block:O,inline:B}}}]),ie}(),G=function(){function ie(re){this.options=re||X.defaults}var oe=ie.prototype;return oe.code=function(W,q,H){var j=(q||"").match(/\S*/)[0];if(this.options.highlight){var Q=this.options.highlight(W,j);Q!=null&&Q!==W&&(H=!0,W=Q)}return W=W.replace(/\n$/,"")+`
`,j?'<pre><code class="'+this.options.langPrefix+t(j,!0)+'">'+(H?W:t(W,!0))+`</code></pre>
`:"<pre><code>"+(H?W:t(W,!0))+`</code></pre>
`},oe.blockquote=function(W){return`<blockquote>
`+W+`</blockquote>
`},oe.html=function(W){return W},oe.heading=function(W,q,H,j){if(this.options.headerIds){var Q=this.options.headerPrefix+j.slug(H);return"<h"+q+' id="'+Q+'">'+W+"</h"+q+`>
`}return"<h"+q+">"+W+"</h"+q+`>
`},oe.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},oe.list=function(W,q,H){var j=q?"ol":"ul",Q=q&&H!==1?' start="'+H+'"':"";return"<"+j+Q+`>
`+W+"</"+j+`>
`},oe.listitem=function(W){return"<li>"+W+`</li>
`},oe.checkbox=function(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},oe.paragraph=function(W){return"<p>"+W+`</p>
`},oe.table=function(W,q){return q&&(q="<tbody>"+q+"</tbody>"),`<table>
<thead>
`+W+`</thead>
`+q+`</table>
`},oe.tablerow=function(W){return`<tr>
`+W+`</tr>
`},oe.tablecell=function(W,q){var H=q.header?"th":"td",j=q.align?"<"+H+' align="'+q.align+'">':"<"+H+">";return j+W+("</"+H+`>
`)},oe.strong=function(W){return"<strong>"+W+"</strong>"},oe.em=function(W){return"<em>"+W+"</em>"},oe.codespan=function(W){return"<code>"+W+"</code>"},oe.br=function(){return this.options.xhtml?"<br/>":"<br>"},oe.del=function(W){return"<del>"+W+"</del>"},oe.link=function(W,q,H){if(W=u(this.options.sanitize,this.options.baseUrl,W),W===null)return H;var j='<a href="'+t(W)+'"';return q&&(j+=' title="'+q+'"'),j+=">"+H+"</a>",j},oe.image=function(W,q,H){if(W=u(this.options.sanitize,this.options.baseUrl,W),W===null)return H;var j='<img src="'+W+'" alt="'+H+'"';return q&&(j+=' title="'+q+'"'),j+=this.options.xhtml?"/>":">",j},oe.text=function(W){return W},ie}(),z=function(){function ie(){}var oe=ie.prototype;return oe.strong=function(W){return W},oe.em=function(W){return W},oe.codespan=function(W){return W},oe.del=function(W){return W},oe.html=function(W){return W},oe.text=function(W){return W},oe.link=function(W,q,H){return""+H},oe.image=function(W,q,H){return""+H},oe.br=function(){return""},ie}(),$=function(){function ie(){this.seen={}}var oe=ie.prototype;return oe.serialize=function(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},oe.getNextSafeSlug=function(W,q){var H=W,j=0;if(this.seen.hasOwnProperty(H)){j=this.seen[W];do j++,H=W+"-"+j;while(this.seen.hasOwnProperty(H))}return q||(this.seen[W]=j,this.seen[H]=0),H},oe.slug=function(W,q){q===void 0&&(q={});var H=this.serialize(W);return this.getNextSafeSlug(H,q.dryrun)},ie}(),J=function(){function ie(re){this.options=re||X.defaults,this.options.renderer=this.options.renderer||new G,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new z,this.slugger=new $}ie.parse=function(W,q){var H=new ie(q);return H.parse(W)},ie.parseInline=function(W,q){var H=new ie(q);return H.parseInline(W)};var oe=ie.prototype;return oe.parse=function(W,q){q===void 0&&(q=!0);var H="",j,Q,te,le,de,me,ve,Ce,ye,Se,Te,De,Me,Ae,Pe,Re,Ee,Ne,fe,_e=W.length;for(j=0;j<_e;j++){if(Se=W[j],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Se.type]&&(fe=this.options.extensions.renderers[Se.type].call({parser:this},Se),fe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Se.type))){H+=fe||"";continue}switch(Se.type){case"space":continue;case"hr":{H+=this.renderer.hr();continue}case"heading":{H+=this.renderer.heading(this.parseInline(Se.tokens),Se.depth,c(this.parseInline(Se.tokens,this.textRenderer)),this.slugger);continue}case"code":{H+=this.renderer.code(Se.text,Se.lang,Se.escaped);continue}case"table":{for(Ce="",ve="",le=Se.header.length,Q=0;Q<le;Q++)ve+=this.renderer.tablecell(this.parseInline(Se.header[Q].tokens),{header:!0,align:Se.align[Q]});for(Ce+=this.renderer.tablerow(ve),ye="",le=Se.rows.length,Q=0;Q<le;Q++){for(me=Se.rows[Q],ve="",de=me.length,te=0;te<de;te++)ve+=this.renderer.tablecell(this.parseInline(me[te].tokens),{header:!1,align:Se.align[te]});ye+=this.renderer.tablerow(ve)}H+=this.renderer.table(Ce,ye);continue}case"blockquote":{ye=this.parse(Se.tokens),H+=this.renderer.blockquote(ye);continue}case"list":{for(Te=Se.ordered,De=Se.start,Me=Se.loose,le=Se.items.length,ye="",Q=0;Q<le;Q++)Pe=Se.items[Q],Re=Pe.checked,Ee=Pe.task,Ae="",Pe.task&&(Ne=this.renderer.checkbox(Re),Me?Pe.tokens.length>0&&Pe.tokens[0].type==="paragraph"?(Pe.tokens[0].text=Ne+" "+Pe.tokens[0].text,Pe.tokens[0].tokens&&Pe.tokens[0].tokens.length>0&&Pe.tokens[0].tokens[0].type==="text"&&(Pe.tokens[0].tokens[0].text=Ne+" "+Pe.tokens[0].tokens[0].text)):Pe.tokens.unshift({type:"text",text:Ne}):Ae+=Ne),Ae+=this.parse(Pe.tokens,Me),ye+=this.renderer.listitem(Ae,Ee,Re);H+=this.renderer.list(ye,Te,De);continue}case"html":{H+=this.renderer.html(Se.text);continue}case"paragraph":{H+=this.renderer.paragraph(this.parseInline(Se.tokens));continue}case"text":{for(ye=Se.tokens?this.parseInline(Se.tokens):Se.text;j+1<_e&&W[j+1].type==="text";)Se=W[++j],ye+=`
`+(Se.tokens?this.parseInline(Se.tokens):Se.text);H+=q?this.renderer.paragraph(ye):ye;continue}default:{var Oe='Token with "'+Se.type+'" type was not found.';if(this.options.silent){console.error(Oe);return}else throw new Error(Oe)}}}return H},oe.parseInline=function(W,q){q=q||this.renderer;var H="",j,Q,te,le=W.length;for(j=0;j<le;j++){if(Q=W[j],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Q.type]&&(te=this.options.extensions.renderers[Q.type].call({parser:this},Q),te!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Q.type))){H+=te||"";continue}switch(Q.type){case"escape":{H+=q.text(Q.text);break}case"html":{H+=q.html(Q.text);break}case"link":{H+=q.link(Q.href,Q.title,this.parseInline(Q.tokens,q));break}case"image":{H+=q.image(Q.href,Q.title,Q.text);break}case"strong":{H+=q.strong(this.parseInline(Q.tokens,q));break}case"em":{H+=q.em(this.parseInline(Q.tokens,q));break}case"codespan":{H+=q.codespan(Q.text);break}case"br":{H+=q.br();break}case"del":{H+=q.del(this.parseInline(Q.tokens,q));break}case"text":{H+=q.text(Q.text);break}default:{var de='Token with "'+Q.type+'" type was not found.';if(this.options.silent){console.error(de);return}else throw new Error(de)}}}return H},ie}();function ee(ie,oe,re){if(typeof ie>"u"||ie===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ie!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ie)+", string expected");if(typeof oe=="function"&&(re=oe,oe=null),oe=E({},ee.defaults,oe||{}),A(oe),re){var W=oe.highlight,q;try{q=U.lex(ie,oe)}catch(le){return re(le)}var H=function(de){var me;if(!de)try{oe.walkTokens&&ee.walkTokens(q,oe.walkTokens),me=J.parse(q,oe)}catch(ve){de=ve}return oe.highlight=W,de?re(de):re(null,me)};if(!W||W.length<3||(delete oe.highlight,!q.length))return H();var j=0;ee.walkTokens(q,function(le){le.type==="code"&&(j++,setTimeout(function(){W(le.text,le.lang,function(de,me){if(de)return H(de);me!=null&&me!==le.text&&(le.text=me,le.escaped=!0),j--,j===0&&H()})},0))}),j===0&&H();return}function Q(le){if(le.message+=`
Please report this to https://github.com/markedjs/marked.`,oe.silent)return"<p>An error occurred:</p><pre>"+t(le.message+"",!0)+"</pre>";throw le}try{var te=U.lex(ie,oe);if(oe.walkTokens){if(oe.async)return Promise.all(ee.walkTokens(te,oe.walkTokens)).then(function(){return J.parse(te,oe)}).catch(Q);ee.walkTokens(te,oe.walkTokens)}return J.parse(te,oe)}catch(le){Q(le)}}ee.options=ee.setOptions=function(ie){return E(ee.defaults,ie),m(ee.defaults),ee},ee.getDefaults=y,ee.defaults=X.defaults,ee.use=function(){for(var ie=arguments.length,oe=new Array(ie),re=0;re<ie;re++)oe[re]=arguments[re];var W=E.apply(void 0,[{}].concat(oe)),q=ee.defaults.extensions||{renderers:{},childTokens:{}},H;oe.forEach(function(j){if(j.extensions&&(H=!0,j.extensions.forEach(function(te){if(!te.name)throw new Error("extension name required");if(te.renderer){var le=q.renderers?q.renderers[te.name]:null;le?q.renderers[te.name]=function(){for(var de=arguments.length,me=new Array(de),ve=0;ve<de;ve++)me[ve]=arguments[ve];var Ce=te.renderer.apply(this,me);return Ce===!1&&(Ce=le.apply(this,me)),Ce}:q.renderers[te.name]=te.renderer}if(te.tokenizer){if(!te.level||te.level!=="block"&&te.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");q[te.level]?q[te.level].unshift(te.tokenizer):q[te.level]=[te.tokenizer],te.start&&(te.level==="block"?q.startBlock?q.startBlock.push(te.start):q.startBlock=[te.start]:te.level==="inline"&&(q.startInline?q.startInline.push(te.start):q.startInline=[te.start]))}te.childTokens&&(q.childTokens[te.name]=te.childTokens)})),j.renderer&&function(){var te=ee.defaults.renderer||new G,le=function(ve){var Ce=te[ve];te[ve]=function(){for(var ye=arguments.length,Se=new Array(ye),Te=0;Te<ye;Te++)Se[Te]=arguments[Te];var De=j.renderer[ve].apply(te,Se);return De===!1&&(De=Ce.apply(te,Se)),De}};for(var de in j.renderer)le(de);W.renderer=te}(),j.tokenizer&&function(){var te=ee.defaults.tokenizer||new F,le=function(ve){var Ce=te[ve];te[ve]=function(){for(var ye=arguments.length,Se=new Array(ye),Te=0;Te<ye;Te++)Se[Te]=arguments[Te];var De=j.tokenizer[ve].apply(te,Se);return De===!1&&(De=Ce.apply(te,Se)),De}};for(var de in j.tokenizer)le(de);W.tokenizer=te}(),j.walkTokens){var Q=ee.defaults.walkTokens;W.walkTokens=function(te){var le=[];return le.push(j.walkTokens.call(this,te)),Q&&(le=le.concat(Q.call(this,te))),le}}H&&(W.extensions=q),ee.setOptions(W)})},ee.walkTokens=function(ie,oe){for(var re=[],W=function(){var Q=H.value;switch(re=re.concat(oe.call(ee,Q)),Q.type){case"table":{for(var te=D(Q.header),le;!(le=te()).done;){var de=le.value;re=re.concat(ee.walkTokens(de.tokens,oe))}for(var me=D(Q.rows),ve;!(ve=me()).done;)for(var Ce=ve.value,ye=D(Ce),Se;!(Se=ye()).done;){var Te=Se.value;re=re.concat(ee.walkTokens(Te.tokens,oe))}break}case"list":{re=re.concat(ee.walkTokens(Q.items,oe));break}default:ee.defaults.extensions&&ee.defaults.extensions.childTokens&&ee.defaults.extensions.childTokens[Q.type]?ee.defaults.extensions.childTokens[Q.type].forEach(function(De){re=re.concat(ee.walkTokens(Q[De],oe))}):Q.tokens&&(re=re.concat(ee.walkTokens(Q.tokens,oe)))}},q=D(ie),H;!(H=q()).done;)W();return re},ee.parseInline=function(ie,oe){if(typeof ie>"u"||ie===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ie!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ie)+", string expected");oe=E({},ee.defaults,oe||{}),A(oe);try{var re=U.lexInline(ie,oe);return oe.walkTokens&&ee.walkTokens(re,oe.walkTokens),J.parseInline(re,oe)}catch(W){if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,oe.silent)return"<p>An error occurred:</p><pre>"+t(W.message+"",!0)+"</pre>";throw W}},ee.Parser=J,ee.parser=J.parse,ee.Renderer=G,ee.TextRenderer=z,ee.Lexer=U,ee.lexer=U.lex,ee.Tokenizer=F,ee.Slugger=$,ee.parse=ee;var Z=ee.options,x=ee.setOptions,Y=ee.use,ae=ee.walkTokens,ue=ee.parseInline,he=ee,pe=J.parse,ce=U.lex;X.Lexer=U,X.Parser=J,X.Renderer=G,X.Slugger=$,X.TextRenderer=z,X.Tokenizer=F,X.getDefaults=y,X.lexer=ce,X.marked=ee,X.options=Z,X.parse=he,X.parseInline=ue,X.parser=pe,X.setOptions=x,X.use=Y,X.walkTokens=ae,Object.defineProperty(X,"__esModule",{value:!0})}),define(ne[124],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(ne[219],se([1,0,124]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:f.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(ne[432],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKoreanAltChars=f;function f(n){const i=D(n);if(i&&i.length>0)return new Uint32Array(i)}let k=0;const L=new Uint32Array(10);function D(n){if(k=0,y(n,w,4352),k>0||(y(n,b,4449),k>0)||(y(n,C,4520),k>0)||(y(n,o,12593),k))return L.subarray(0,k);if(n>=44032&&n<=55203){const i=n-44032,t=i%588,s=Math.floor(i/588),c=Math.floor(t/28),g=t%28-1;if(s<w.length?y(s,w,0):4352+s-12593<o.length&&y(4352+s,o,12593),c<b.length?y(c,b,0):4449+c-12593<o.length&&y(4449+c-12593,o,12593),g>=0&&(g<C.length?y(g,C,0):4520+g-12593<o.length&&y(4520+g-12593,o,12593)),k>0)return L.subarray(0,k)}}function y(n,i,t){n>=t&&n<t+i.length&&m(i[n-t])}function m(n){n!==0&&(L[k++]=n&255,n>>8&&(L[k++]=n>>8&255),n>>16&&(L[k++]=n>>16&255))}const w=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),b=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),C=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),o=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])}),define(ne[433],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class f{constructor(L,D=0,y=L.length,m=D-1){this.items=L,this.start=D,this.end=y,this.index=m}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=f}),define(ne[434],se([1,0,433]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(D=[],y=10){this._initialize(D),this._limit=y,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new f.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const y of D)this._history.add(y)}get _elements(){const D=[];return this._history.forEach(y=>D.push(y)),D}}e.HistoryNavigator=k}),define(ne[137],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=void 0,e.clamp=f;function f(D,y,m){return Math.min(Math.max(D,y),m)}class k{constructor(){this._n=1,this._val=0}update(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class L{constructor(y){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(y),this._values.fill(0,0,y)}update(y){const m=this._values[this._index];return this._values[this._index]=y,this._index=(this._index+1)%this._values.length,this._sum-=m,this._sum+=y,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=L}),define(ne[184],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DebugNameData=void 0,e.getDebugName=D,e.getFunctionName=n;class f{constructor(t,s,c){this.owner=t,this.debugNameSource=s,this.referenceFn=c}getDebugName(t){return D(t,this)}}e.DebugNameData=f;const k=new Map,L=new WeakMap;function D(i,t){var s;const c=L.get(i);if(c)return c;const g=y(i,t);if(g){let l=(s=k.get(g))!==null&&s!==void 0?s:0;l++,k.set(g,l);const r=l===1?g:`${g}#${l}`;return L.set(i,r),r}}function y(i,t){const s=L.get(i);if(s)return s;const c=t.owner?C(t.owner)+".":"";let g;const l=t.debugNameSource;if(l!==void 0)if(typeof l=="function"){if(g=l(),g!==void 0)return c+g}else return c+l;const r=t.referenceFn;if(r!==void 0&&(g=n(r),g!==void 0))return c+g;if(t.owner!==void 0){const d=m(t.owner,i);if(d!==void 0)return c+d}}function m(i,t){for(const s in i)if(i[s]===t)return s}const w=new Map,b=new WeakMap;function C(i){var t;const s=b.get(i);if(s)return s;const c=o(i);let g=(t=w.get(c))!==null&&t!==void 0?t:0;g++,w.set(c,g);const l=g===1?c:`${c}#${g}`;return b.set(i,l),l}function o(i){const t=i.constructor;return t?t.name:"Object"}function n(i){const t=i.toString(),c=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),g=c?c[1]:void 0;return g?.trim()}}),define(ne[157],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=void 0,e.setLogger=k,e.getLogger=L;let f;function k(s){f=s}function L(){return f}class D{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(c){return y([m(i("|  ",this.indentation)),c])}formatInfo(c){return c.hadValue?c.didChange?[m(" "),b(C(c.oldValue,70),{color:"red",strikeThrough:!0}),m(" "),b(C(c.newValue,60),{color:"green"})]:[m(" (unchanged)")]:[m(" "),b(C(c.newValue,60),{color:"green"}),m(" (initial)")]}handleObservableChanged(c,g){console.log(...this.textToConsoleArgs([w("observable value changed"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(g)]))}formatChanges(c){if(c.size!==0)return b(" (changed deps: "+[...c].map(g=>g.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(c){const g=c.handleChange;this.changedObservablesSets.set(c,new Set),c.handleChange=(l,r)=>(this.changedObservablesSets.get(c).add(l),g.apply(c,[l,r]))}handleDerivedRecomputed(c,g){const l=this.changedObservablesSets.get(c);console.log(...this.textToConsoleArgs([w("derived recomputed"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(g),this.formatChanges(l),{data:[{fn:c._computeFn}]}])),l.clear()}handleFromEventObservableTriggered(c,g){console.log(...this.textToConsoleArgs([w("observable from event triggered"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(g),{data:[{fn:c._getValue}]}]))}handleAutorunCreated(c){const g=c.handleChange;this.changedObservablesSets.set(c,new Set),c.handleChange=(l,r)=>(this.changedObservablesSets.get(c).add(l),g.apply(c,[l,r]))}handleAutorunTriggered(c){const g=this.changedObservablesSets.get(c);console.log(...this.textToConsoleArgs([w("autorun"),b(c.debugName,{color:"BlueViolet"}),this.formatChanges(g),{data:[{fn:c._runFn}]}])),g.clear(),this.indentation++}handleAutorunFinished(c){this.indentation--}handleBeginTransaction(c){let g=c.getDebugName();g===void 0&&(g=""),console.log(...this.textToConsoleArgs([w("transaction"),b(g,{color:"BlueViolet"}),{data:[{fn:c._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=D;function y(s){const c=new Array,g=[];let l="";function r(u){if("length"in u)for(const a of u)a&&r(a);else"text"in u?(l+=`%c${u.text}`,c.push(u.style),u.data&&g.push(...u.data)):"data"in u&&g.push(...u.data)}r(s);const d=[l,...c];return d.push(...g),d}function m(s){return b(s,{color:"black"})}function w(s){return b(t(`${s}: `,10),{color:"black",bold:!0})}function b(s,c={color:"black"}){function g(r){return Object.entries(r).reduce((d,[u,a])=>`${d}${u}:${a};`,"")}const l={color:c.color};return c.strikeThrough&&(l["text-decoration"]="line-through"),c.bold&&(l["font-weight"]="bold"),{text:s,style:g(l)}}function C(s,c){switch(typeof s){case"number":return""+s;case"string":return s.length+2<=c?`"${s}"`:`"${s.substr(0,c-7)}"+...`;case"boolean":return s?"true":"false";case"undefined":return"undefined";case"object":return s===null?"null":Array.isArray(s)?o(s,c):n(s,c);case"symbol":return s.toString();case"function":return`[[Function${s.name?" "+s.name:""}]]`;default:return""+s}}function o(s,c){let g="[ ",l=!0;for(const r of s){if(l||(g+=", "),g.length-5>c){g+="...";break}l=!1,g+=`${C(r,c-g.length)}`}return g+=" ]",g}function n(s,c){let g="{ ",l=!0;for(const[r,d]of Object.entries(s)){if(l||(g+=", "),g.length-5>c){g+="...";break}l=!1,g+=`${r}: ${C(d,c-g.length)}`}return g+=" }",g}function i(s,c){let g="";for(let l=1;l<=c;l++)g+=s;return g}function t(s,c){for(;s.length<c;)s+=" ";return s}}),define(ne[292],se([1,0,87,2,184,157]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=void 0,e.autorun=y,e.autorunOpts=m,e.autorunHandleChanges=w,e.autorunWithStore=b;function y(o){return new C(new L.DebugNameData(void 0,void 0,o),o,void 0,void 0)}function m(o,n){var i;return new C(new L.DebugNameData(o.owner,o.debugName,(i=o.debugReferenceFn)!==null&&i!==void 0?i:n),n,void 0,void 0)}function w(o,n){var i;return new C(new L.DebugNameData(o.owner,o.debugName,(i=o.debugReferenceFn)!==null&&i!==void 0?i:n),n,o.createEmptyChangeSummary,o.handleChange)}function b(o){const n=new k.DisposableStore,i=m({owner:void 0,debugName:void 0,debugReferenceFn:o},t=>{n.clear(),o(t,n)});return(0,k.toDisposable)(()=>{i.dispose(),n.dispose()})}class C{get debugName(){var n;return(n=this._debugNameData.getDebugName(this))!==null&&n!==void 0?n:"(anonymous)"}constructor(n,i,t,s){var c,g;this._debugNameData=n,this._runFn=i,this.createChangeSummary=t,this._handleChange=s,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(c=this.createChangeSummary)===null||c===void 0?void 0:c.call(this),(g=(0,D.getLogger)())===null||g===void 0||g.handleAutorunCreated(this),this._runIfNeeded(),(0,k.trackDisposable)(this)}dispose(){this.disposed=!0;for(const n of this.dependencies)n.removeObserver(this);this.dependencies.clear(),(0,k.markAsDisposed)(this)}_runIfNeeded(){var n,i,t;if(this.state===3)return;const s=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=s,this.state=3;const c=this.disposed;try{if(!c){(n=(0,D.getLogger)())===null||n===void 0||n.handleAutorunTriggered(this);const g=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this._runFn(this,g)}}finally{c||(t=(0,D.getLogger)())===null||t===void 0||t.handleAutorunFinished(this);for(const g of this.dependenciesToBeRemoved)g.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const n of this.dependencies)if(n.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,f.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(n){this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)&&(this.state=1)}handleChange(n,i){this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)&&(!this._handleChange||this._handleChange({changedObservable:n,change:i,didChange:s=>s===n},this.changeSummary))&&(this.state=2)}readObservable(n){if(this.disposed)return n.get();n.addObserver(this);const i=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),i}}e.AutorunObserver=C,function(o){o.Observer=C}(y||(e.autorun=y={}))}),define(ne[125],se([1,0,155,184,157]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.ObservableValue=e.TransactionImpl=e.BaseObservable=e.ConvenientObservable=void 0,e._setRecomputeInitiallyAndOnChange=y,e._setKeepObserved=w,e._setDerivedOpts=C,e.transaction=i,e.globalTransaction=s,e.asyncTransaction=c,e.subtransaction=g,e.observableValue=r,e.observableValueOpts=d,e.disposableObservableValue=a;let D;function y(h){D=h}let m;function w(h){m=h}let b;function C(h){b=h}class o{get TChange(){return null}reportChanges(){this.get()}read(p){return p?p.readObservable(this):this.get()}map(p,_){const S=_===void 0?void 0:p,E=_===void 0?p:_;return b({owner:S,debugName:()=>{const I=(0,k.getFunctionName)(E);if(I!==void 0)return I;const N=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(E.toString());if(N)return`${this.debugName}.${N[2]}`;if(!S)return`${this.debugName} (mapped)`},debugReferenceFn:E},I=>E(this.read(I),I))}recomputeInitiallyAndOnChange(p,_){return p.add(D(this,_)),this}}e.ConvenientObservable=o;class n extends o{constructor(){super(...arguments),this.observers=new Set}addObserver(p){const _=this.observers.size;this.observers.add(p),_===0&&this.onFirstObserverAdded()}removeObserver(p){this.observers.delete(p)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=n;function i(h,p){const _=new l(h,p);try{h(_)}finally{_.finish()}}let t;function s(h){if(t)h(t);else{const p=new l(h,void 0);t=p;try{h(p)}finally{p.finish(),t=void 0}}}async function c(h,p){const _=new l(h,p);try{await h(_)}finally{_.finish()}}function g(h,p,_){h?p(h):i(p,_)}class l{constructor(p,_){var S;this._fn=p,this._getDebugName=_,this.updatingObservers=[],(S=(0,L.getLogger)())===null||S===void 0||S.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,k.getFunctionName)(this._fn)}updateObserver(p,_){this.updatingObservers.push({observer:p,observable:_}),p.beginUpdate(_)}finish(){var p;const _=this.updatingObservers;for(let S=0;S<_.length;S++){const{observer:E,observable:I}=_[S];E.endUpdate(I)}this.updatingObservers=null,(p=(0,L.getLogger)())===null||p===void 0||p.handleEndTransaction()}}e.TransactionImpl=l;function r(h,p){let _;return typeof h=="string"?_=new k.DebugNameData(void 0,h,void 0):_=new k.DebugNameData(h,void 0,void 0),new u(_,p,f.strictEquals)}function d(h,p){var _;return new u(new k.DebugNameData(h.owner,h.debugName,void 0),p,(_=h.equalsFn)!==null&&_!==void 0?_:f.strictEquals)}class u extends n{get debugName(){var p;return(p=this._debugNameData.getDebugName(this))!==null&&p!==void 0?p:"ObservableValue"}constructor(p,_,S){super(),this._debugNameData=p,this._equalityComparator=S,this._value=_}get(){return this._value}set(p,_,S){var E;if(S===void 0&&this._equalityComparator(this._value,p))return;let I;_||(_=I=new l(()=>{},()=>`Setting ${this.debugName}`));try{const T=this._value;this._setValue(p),(E=(0,L.getLogger)())===null||E===void 0||E.handleObservableChanged(this,{oldValue:T,newValue:p,change:S,didChange:!0,hadValue:!0});for(const N of this.observers)_.updateObserver(N,this),N.handleChange(this,S)}finally{I&&I.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(p){this._value=p}}e.ObservableValue=u;function a(h,p){let _;return typeof h=="string"?_=new k.DebugNameData(void 0,h,void 0):_=new k.DebugNameData(h,void 0,void 0),new v(_,p,f.strictEquals)}class v extends u{_setValue(p){this._value!==p&&(this._value&&this._value.dispose(),this._value=p)}dispose(){var p;(p=this._value)===null||p===void 0||p.dispose()}}e.DisposableObservableValue=v}),define(ne[126],se([1,0,87,155,2,125,184,157]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DerivedWithSetter=e.Derived=void 0,e.derived=w,e.derivedWithSetter=b,e.derivedOpts=C,e.derivedHandleChanges=o,e.derivedWithStore=n,e.derivedDisposable=i;function w(c,g){return g!==void 0?new t(new y.DebugNameData(c,void 0,g),g,void 0,void 0,void 0,k.strictEquals):new t(new y.DebugNameData(void 0,void 0,c),c,void 0,void 0,void 0,k.strictEquals)}function b(c,g,l){return new s(new y.DebugNameData(c,void 0,g),g,void 0,void 0,void 0,k.strictEquals,l)}function C(c,g){var l;return new t(new y.DebugNameData(c.owner,c.debugName,c.debugReferenceFn),g,void 0,void 0,c.onLastObserverRemoved,(l=c.equalsFn)!==null&&l!==void 0?l:k.strictEquals)}(0,D._setDerivedOpts)(C);function o(c,g){var l;return new t(new y.DebugNameData(c.owner,c.debugName,void 0),g,c.createEmptyChangeSummary,c.handleChange,void 0,(l=c.equalityComparer)!==null&&l!==void 0?l:k.strictEquals)}function n(c,g){let l,r;g===void 0?(l=c,r=void 0):(r=c,l=g);const d=new L.DisposableStore;return new t(new y.DebugNameData(r,void 0,l),u=>(d.clear(),l(u,d)),void 0,void 0,()=>d.dispose(),k.strictEquals)}function i(c,g){let l,r;g===void 0?(l=c,r=void 0):(r=c,l=g);const d=new L.DisposableStore;return new t(new y.DebugNameData(r,void 0,l),u=>{d.clear();const a=l(u);return a&&d.add(a),a},void 0,void 0,()=>d.dispose(),k.strictEquals)}class t extends D.BaseObservable{get debugName(){var g;return(g=this._debugNameData.getDebugName(this))!==null&&g!==void 0?g:"(anonymous)"}constructor(g,l,r,d,u=void 0,a){var v,h;super(),this._debugNameData=g,this._computeFn=l,this.createChangeSummary=r,this._handleChange=d,this._handleLastObserverRemoved=u,this._equalityComparator=a,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(v=this.createChangeSummary)===null||v===void 0?void 0:v.call(this),(h=(0,m.getLogger)())===null||h===void 0||h.handleDerivedCreated(this)}onLastObserverRemoved(){var g;this.state=0,this.value=void 0;for(const l of this.dependencies)l.removeObserver(this);this.dependencies.clear(),(g=this._handleLastObserverRemoved)===null||g===void 0||g.call(this)}get(){var g;if(this.observers.size===0){const l=this._computeFn(this,(g=this.createChangeSummary)===null||g===void 0?void 0:g.call(this));return this.onLastObserverRemoved(),l}else{do{if(this.state===1){for(const l of this.dependencies)if(l.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var g,l;if(this.state===3)return;const r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;const d=this.state!==0,u=this.value;this.state=3;const a=this.changeSummary;this.changeSummary=(g=this.createChangeSummary)===null||g===void 0?void 0:g.call(this);try{this.value=this._computeFn(this,a)}finally{for(const h of this.dependenciesToBeRemoved)h.removeObserver(this);this.dependenciesToBeRemoved.clear()}const v=d&&!this._equalityComparator(u,this.value);if((l=(0,m.getLogger)())===null||l===void 0||l.handleDerivedRecomputed(this,{oldValue:u,newValue:this.value,change:void 0,didChange:v,hadValue:d}),v)for(const h of this.observers)h.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(g){this.updateCount++;const l=this.updateCount===1;if(this.state===3&&(this.state=1,!l))for(const r of this.observers)r.handlePossibleChange(this);if(l)for(const r of this.observers)r.beginUpdate(this)}endUpdate(g){if(this.updateCount--,this.updateCount===0){const l=[...this.observers];for(const r of l)r.endUpdate(this)}(0,f.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(g){if(this.state===3&&this.dependencies.has(g)&&!this.dependenciesToBeRemoved.has(g)){this.state=1;for(const l of this.observers)l.handlePossibleChange(this)}}handleChange(g,l){if(this.dependencies.has(g)&&!this.dependenciesToBeRemoved.has(g)){const r=this._handleChange?this._handleChange({changedObservable:g,change:l,didChange:u=>u===g},this.changeSummary):!0,d=this.state===3;if(r&&(this.state===1||d)&&(this.state=2,d))for(const u of this.observers)u.handlePossibleChange(this)}}readObservable(g){g.addObserver(this);const l=g.get();return this.dependencies.add(g),this.dependenciesToBeRemoved.delete(g),l}addObserver(g){const l=!this.observers.has(g)&&this.updateCount>0;super.addObserver(g),l&&g.beginUpdate(this)}removeObserver(g){const l=this.observers.has(g)&&this.updateCount>0;super.removeObserver(g),l&&g.endUpdate(this)}}e.Derived=t;class s extends t{constructor(g,l,r,d,u=void 0,a,v){super(g,l,r,d,u,a),this.set=v}}e.DerivedWithSetter=s}),define(ne[435],se([1,0,292,9]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=L;function L(D,y,m,w){return y||(y=b=>b!=null),new Promise((b,C)=>{let o=!0,n=!1;const i=D.map(s=>({isFinished:y(s),error:m?m(s):!1,state:s})),t=(0,f.autorun)(s=>{const{isFinished:c,error:g,state:l}=i.read(s);(c||g)&&(o?n=!0:t.dispose(),g?C(g===!0?l:g):b(l))});if(w){const s=w.onCancellationRequested(()=>{t.dispose(),s.dispose(),C(new k.CancellationError)});if(w.isCancellationRequested){t.dispose(),s.dispose(),C(new k.CancellationError);return}}o=!1,n&&t.dispose()})}}),define(ne[185],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var f;(function(k){function L(w,b){if(w.start>=b.end||b.start>=w.end)return{start:0,end:0};const C=Math.max(w.start,b.start),o=Math.min(w.end,b.end);return o-C<=0?{start:0,end:0}:{start:C,end:o}}k.intersect=L;function D(w){return w.end-w.start<=0}k.isEmpty=D;function y(w,b){return!D(L(w,b))}k.intersects=y;function m(w,b){const C=[],o={start:w.start,end:Math.min(b.start,w.end)},n={start:Math.max(b.end,w.start),end:w.end};return D(o)||C.push(o),D(n)||C.push(n),C}k.relativeComplement=m})(f||(e.Range=f={}))}),define(ne[436],se([1,0,185]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=void 0,e.groupIntersect=k,e.shift=L,e.consolidate=D;function k(w,b){const C=[];for(const o of b){if(w.start>=o.range.end)continue;if(w.end<o.range.start)break;const n=f.Range.intersect(w,o.range);f.Range.isEmpty(n)||C.push({range:n,size:o.size})}return C}function L({start:w,end:b},C){return{start:w+C,end:b+C}}function D(w){const b=[];let C=null;for(const o of w){const n=o.range.start,i=o.range.end,t=o.size;if(C&&t===C.size){C.range.end=i;continue}C={range:{start:n,end:i},size:t},b.push(C)}return b}function y(...w){return D(w.reduce((b,C)=>b.concat(C),[]))}class m{get paddingTop(){return this._paddingTop}set paddingTop(b){this._size=this._size+b-this._paddingTop,this._paddingTop=b}constructor(b){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=b??0,this._size=this._paddingTop}splice(b,C,o=[]){const n=o.length-C,i=k({start:0,end:b},this.groups),t=k({start:b+C,end:Number.POSITIVE_INFINITY},this.groups).map(c=>({range:L(c.range,n),size:c.size})),s=o.map((c,g)=>({range:{start:b+g,end:b+g+1},size:c.size}));this.groups=y(i,s,t),this._size=this._paddingTop+this.groups.reduce((c,g)=>c+g.size*(g.range.end-g.range.start),0)}get count(){const b=this.groups.length;return b?this.groups[b-1].range.end:0}get size(){return this._size}indexAt(b){if(b<0)return-1;if(b<this._paddingTop)return 0;let C=0,o=this._paddingTop;for(const n of this.groups){const i=n.range.end-n.range.start,t=o+i*n.size;if(b<t)return C+Math.floor((b-o)/n.size);C+=i,o=t}return C}indexAfter(b){return Math.min(this.indexAt(b)+1,this.count)}positionAt(b){if(b<0)return-1;let C=0,o=0;for(const n of this.groups){const i=n.range.end-n.range.start,t=o+i;if(b<t)return this._paddingTop+C+(b-o)*n.size;C+=i*n.size,o=t}return-1}}e.RangeMap=m}),define(ne[60],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const f=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(D){return new k(D)}constructor(D){this._now=f&&D===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(ne[7],se([1,0,9,123,2,71,60]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.ListenerRefusalError=e.ListenerLeakError=e.EventProfiling=e.Event=void 0;const m=!1,w=!1,b=!1;var C;(function(T){T.None=()=>L.Disposable.None;function N(W){if(b){const{onDidAddListener:q}=W,H=t.create();let j=0;W.onDidAddListener=()=>{++j===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),H.print()),q?.()}}}function A(W,q){return G(W,()=>{},0,void 0,!0,void 0,q)}T.defer=A;function R(W){return(q,H=null,j)=>{let Q=!1,te;return te=W(le=>{if(!Q)return te?te.dispose():Q=!0,q.call(H,le)},null,j),Q&&te.dispose(),te}}T.once=R;function M(W,q,H){return K((j,Q=null,te)=>W(le=>j.call(Q,q(le)),null,te),H)}T.map=M;function P(W,q,H){return K((j,Q=null,te)=>W(le=>{q(le),j.call(Q,le)},null,te),H)}T.forEach=P;function F(W,q,H){return K((j,Q=null,te)=>W(le=>q(le)&&j.call(Q,le),null,te),H)}T.filter=F;function O(W){return W}T.signal=O;function B(...W){return(q,H=null,j)=>{const Q=(0,L.combinedDisposable)(...W.map(te=>te(le=>q.call(H,le))));return U(Q,j)}}T.any=B;function V(W,q,H,j){let Q=H;return M(W,te=>(Q=q(Q,te),Q),j)}T.reduce=V;function K(W,q){let H;const j={onWillAddFirstListener(){H=W(Q.fire,Q)},onDidRemoveLastListener(){H?.dispose()}};q||N(j);const Q=new u(j);return q?.add(Q),Q.event}function U(W,q){return q instanceof Array?q.push(W):q&&q.add(W),W}function G(W,q,H=100,j=!1,Q=!1,te,le){let de,me,ve,Ce=0,ye;const Se={leakWarningThreshold:te,onWillAddFirstListener(){de=W(De=>{Ce++,me=q(me,De),j&&!ve&&(Te.fire(me),me=void 0),ye=()=>{const Me=me;me=void 0,ve=void 0,(!j||Ce>1)&&Te.fire(Me),Ce=0},typeof H=="number"?(clearTimeout(ve),ve=setTimeout(ye,H)):ve===void 0&&(ve=0,queueMicrotask(ye))})},onWillRemoveListener(){Q&&Ce>0&&ye?.()},onDidRemoveLastListener(){ye=void 0,de.dispose()}};le||N(Se);const Te=new u(Se);return le?.add(Te),Te.event}T.debounce=G;function z(W,q=0,H){return T.debounce(W,(j,Q)=>j?(j.push(Q),j):[Q],q,void 0,!0,void 0,H)}T.accumulate=z;function $(W,q=(j,Q)=>j===Q,H){let j=!0,Q;return F(W,te=>{const le=j||!q(te,Q);return j=!1,Q=te,le},H)}T.latch=$;function J(W,q,H){return[T.filter(W,q,H),T.filter(W,j=>!q(j),H)]}T.split=J;function ee(W,q=!1,H=[],j){let Q=H.slice(),te=W(me=>{Q?Q.push(me):de.fire(me)});j&&j.add(te);const le=()=>{Q?.forEach(me=>de.fire(me)),Q=null},de=new u({onWillAddFirstListener(){te||(te=W(me=>de.fire(me)),j&&j.add(te))},onDidAddFirstListener(){Q&&(q?setTimeout(le):le())},onDidRemoveLastListener(){te&&te.dispose(),te=null}});return j&&j.add(de),de.event}T.buffer=ee;function Z(W,q){return(j,Q,te)=>{const le=q(new Y);return W(function(de){const me=le.evaluate(de);me!==x&&j.call(Q,me)},void 0,te)}}T.chain=Z;const x=Symbol("HaltChainable");class Y{constructor(){this.steps=[]}map(q){return this.steps.push(q),this}forEach(q){return this.steps.push(H=>(q(H),H)),this}filter(q){return this.steps.push(H=>q(H)?H:x),this}reduce(q,H){let j=H;return this.steps.push(Q=>(j=q(j,Q),j)),this}latch(q=(H,j)=>H===j){let H=!0,j;return this.steps.push(Q=>{const te=H||!q(Q,j);return H=!1,j=Q,te?Q:x}),this}evaluate(q){for(const H of this.steps)if(q=H(q),q===x)break;return q}}function ae(W,q,H=j=>j){const j=(...de)=>le.fire(H(...de)),Q=()=>W.on(q,j),te=()=>W.removeListener(q,j),le=new u({onWillAddFirstListener:Q,onDidRemoveLastListener:te});return le.event}T.fromNodeEventEmitter=ae;function ue(W,q,H=j=>j){const j=(...de)=>le.fire(H(...de)),Q=()=>W.addEventListener(q,j),te=()=>W.removeEventListener(q,j),le=new u({onWillAddFirstListener:Q,onDidRemoveLastListener:te});return le.event}T.fromDOMEventEmitter=ue;function he(W){return new Promise(q=>R(W)(q))}T.toPromise=he;function pe(W){const q=new u;return W.then(H=>{q.fire(H)},()=>{q.fire(void 0)}).finally(()=>{q.dispose()}),q.event}T.fromPromise=pe;function ce(W,q,H){return q(H),W(j=>q(j))}T.runAndSubscribe=ce;class ie{constructor(q,H){this._observable=q,this._counter=0,this._hasChanged=!1;const j={onWillAddFirstListener:()=>{q.addObserver(this)},onDidRemoveLastListener:()=>{q.removeObserver(this)}};H||N(j),this.emitter=new u(j),H&&H.add(this.emitter)}beginUpdate(q){this._counter++}handlePossibleChange(q){}handleChange(q,H){this._hasChanged=!0}endUpdate(q){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function oe(W,q){return new ie(W,q).emitter.event}T.fromObservable=oe;function re(W){return(q,H,j)=>{let Q=0,te=!1;const le={beginUpdate(){Q++},endUpdate(){Q--,Q===0&&(W.reportChanges(),te&&(te=!1,q.call(H)))},handlePossibleChange(){},handleChange(){te=!0}};W.addObserver(le),W.reportChanges();const de={dispose(){W.removeObserver(le)}};return j instanceof L.DisposableStore?j.add(de):Array.isArray(j)&&j.push(de),de}}T.fromObservableLight=re})(C||(e.Event=C={}));class o{constructor(N){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${N}_${o._idPool++}`,o.all.add(this)}start(N){this._stopWatch=new y.StopWatch,this.listenerCount=N}stop(){if(this._stopWatch){const N=this._stopWatch.elapsed();this.durations.push(N),this.elapsedOverall+=N,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=o,o.all=new Set,o._idPool=0;let n=-1;class i{constructor(N,A,R=Math.random().toString(18).slice(2,5)){this._errorHandler=N,this.threshold=A,this.name=R,this._warnCountdown=0}dispose(){var N;(N=this._stacks)===null||N===void 0||N.clear()}check(N,A){const R=this.threshold;if(R<=0||A<R)return;this._stacks||(this._stacks=new Map);const M=this._stacks.get(N.value)||0;if(this._stacks.set(N.value,M+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=R*.5;const[P,F]=this.getMostFrequentStack(),O=`[${this.name}] potential listener LEAK detected, having ${A} listeners already. MOST frequent listener (${F}):`;console.warn(O),console.warn(P);const B=new s(O,P);this._errorHandler(B)}return()=>{const P=this._stacks.get(N.value)||0;this._stacks.set(N.value,P-1)}}getMostFrequentStack(){if(!this._stacks)return;let N,A=0;for(const[R,M]of this._stacks)(!N||A<M)&&(N=[R,M],A=M);return N}}class t{static create(){var N;const A=new Error;return new t((N=A.stack)!==null&&N!==void 0?N:"")}constructor(N){this.value=N}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class s extends Error{constructor(N,A){super(N),this.name="ListenerLeakError",this.stack=A}}e.ListenerLeakError=s;class c extends Error{constructor(N,A){super(N),this.name="ListenerRefusalError",this.stack=A}}e.ListenerRefusalError=c;class g{constructor(N){this.value=N}}const l=2,r=(T,N)=>{if(T instanceof g)N(T);else for(let A=0;A<T.length;A++){const R=T[A];R&&N(R)}},d=m?new FinalizationRegistry(T=>{typeof T=="string"&&(console.warn("[LEAKING LISTENER] GC'ed a listener that was NOT yet disposed. This is where is was created:"),console.warn(T))}):void 0;class u{constructor(N){var A,R,M,P,F,O;this._size=0,this._options=N,this._leakageMon=n>0||!((A=this._options)===null||A===void 0)&&A.leakWarningThreshold?new i((R=N?.onListenerError)!==null&&R!==void 0?R:f.onUnexpectedError,(P=(M=this._options)===null||M===void 0?void 0:M.leakWarningThreshold)!==null&&P!==void 0?P:n):void 0,this._perfMon=!((F=this._options)===null||F===void 0)&&F._profName?new o(this._options._profName):void 0,this._deliveryQueue=(O=this._options)===null||O===void 0?void 0:O.deliveryQueue}dispose(){var N,A,R,M;if(!this._disposed){if(this._disposed=!0,((N=this._deliveryQueue)===null||N===void 0?void 0:N.current)===this&&this._deliveryQueue.reset(),this._listeners){if(w){const P=this._listeners;queueMicrotask(()=>{r(P,F=>{var O;return(O=F.stack)===null||O===void 0?void 0:O.print()})})}this._listeners=void 0,this._size=0}(R=(A=this._options)===null||A===void 0?void 0:A.onDidRemoveLastListener)===null||R===void 0||R.call(A),(M=this._leakageMon)===null||M===void 0||M.dispose()}}get event(){var N;return(N=this._event)!==null&&N!==void 0||(this._event=(A,R,M)=>{var P,F,O,B,V,K,U;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const ee=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(ee);const Z=(P=this._leakageMon.getMostFrequentStack())!==null&&P!==void 0?P:["UNKNOWN stack",-1],x=new c(`${ee}. HINT: Stack shows most frequent listener (${Z[1]}-times)`,Z[0]);return(((F=this._options)===null||F===void 0?void 0:F.onListenerError)||f.onUnexpectedError)(x),L.Disposable.None}if(this._disposed)return L.Disposable.None;R&&(A=A.bind(R));const G=new g(A);let z,$;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(G.stack=t.create(),z=this._leakageMon.check(G.stack,this._size+1)),w&&(G.stack=$??t.create()),this._listeners?this._listeners instanceof g?((U=this._deliveryQueue)!==null&&U!==void 0||(this._deliveryQueue=new v),this._listeners=[this._listeners,G]):this._listeners.push(G):((B=(O=this._options)===null||O===void 0?void 0:O.onWillAddFirstListener)===null||B===void 0||B.call(O,this),this._listeners=G,(K=(V=this._options)===null||V===void 0?void 0:V.onDidAddFirstListener)===null||K===void 0||K.call(V,this)),this._size++;const J=(0,L.toDisposable)(()=>{d?.unregister(J),z?.(),this._removeListener(G)});if(M instanceof L.DisposableStore?M.add(J):Array.isArray(M)&&M.push(J),d){const ee=new Error().stack.split(`
`).slice(2).join(`
`).trim();d.register(J,ee,J)}return J}),this._event}_removeListener(N){var A,R,M,P;if((R=(A=this._options)===null||A===void 0?void 0:A.onWillRemoveListener)===null||R===void 0||R.call(A,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(P=(M=this._options)===null||M===void 0?void 0:M.onDidRemoveLastListener)===null||P===void 0||P.call(M,this),this._size=0;return}const F=this._listeners,O=F.indexOf(N);if(O===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,F[O]=void 0;const B=this._deliveryQueue.current===this;if(this._size*l<=F.length){let V=0;for(let K=0;K<F.length;K++)F[K]?F[V++]=F[K]:B&&(this._deliveryQueue.end--,V<this._deliveryQueue.i&&this._deliveryQueue.i--);F.length=V}}_deliver(N,A){var R;if(!N)return;const M=((R=this._options)===null||R===void 0?void 0:R.onListenerError)||f.onUnexpectedError;if(!M){N.value(A);return}try{N.value(A)}catch(P){M(P)}}_deliverQueue(N){const A=N.current._listeners;for(;N.i<N.end;)this._deliver(A[N.i++],N.value);N.reset()}fire(N){var A,R,M,P;if(!((A=this._deliveryQueue)===null||A===void 0)&&A.current&&(this._deliverQueue(this._deliveryQueue),(R=this._perfMon)===null||R===void 0||R.stop()),(M=this._perfMon)===null||M===void 0||M.start(this._size),this._listeners)if(this._listeners instanceof g)this._deliver(this._listeners,N);else{const F=this._deliveryQueue;F.enqueue(this,N,this._listeners.length),this._deliverQueue(F)}(P=this._perfMon)===null||P===void 0||P.stop()}hasListeners(){return this._size>0}}e.Emitter=u;const a=()=>new v;e.createEventDeliveryQueue=a;class v{constructor(){this.i=-1,this.end=0}enqueue(N,A,R){this.i=0,this.end=R,this.current=N,this.value=A}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class h extends u{constructor(N){super(N),this._isPaused=0,this._eventQueue=new D.LinkedList,this._mergeFn=N?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const N=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(N))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(N){this._size&&(this._isPaused!==0?this._eventQueue.push(N):super.fire(N))}}e.PauseableEmitter=h;class p extends h{constructor(N){var A;super(N),this._delay=(A=N.delay)!==null&&A!==void 0?A:100}fire(N){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(N)}}e.DebounceEmitter=p;class _ extends u{constructor(N){super(N),this._queuedEvents=[],this._mergeFn=N?.merge}fire(N){this.hasListeners()&&(this._queuedEvents.push(N),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(A=>super.fire(A)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=_;class S{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new u({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(N){const A={event:N,listener:null};this.events.push(A),this.hasListeners&&this.hook(A);const R=()=>{this.hasListeners&&this.unhook(A);const M=this.events.indexOf(A);this.events.splice(M,1)};return(0,L.toDisposable)((0,k.createSingleCallFunction)(R))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(N=>this.hook(N))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(N=>this.unhook(N))}hook(N){N.listener=N.event(A=>this.emitter.fire(A))}unhook(N){var A;(A=N.listener)===null||A===void 0||A.dispose(),N.listener=null}dispose(){var N;this.emitter.dispose();for(const A of this.events)(N=A.listener)===null||N===void 0||N.dispose();this.events=[]}}e.EventMultiplexer=S;class E{constructor(){this.data=[]}wrapEvent(N,A,R){return(M,P,F)=>N(O=>{var B;const V=this.data[this.data.length-1];if(!A){V?V.buffers.push(()=>M.call(P,O)):M.call(P,O);return}const K=V;if(!K){M.call(P,A(R,O));return}(B=K.items)!==null&&B!==void 0||(K.items=[]),K.items.push(O),K.buffers.length===0&&V.buffers.push(()=>{var U;(U=K.reducedResult)!==null&&U!==void 0||(K.reducedResult=R?K.items.reduce(A,R):K.items.reduce(A)),M.call(P,K.reducedResult)})},void 0,F)}bufferEvents(N){const A={buffers:new Array};this.data.push(A);const R=N();return this.data.pop(),A.buffers.forEach(M=>M()),R}}e.EventBufferer=E;class I{constructor(){this.listening=!1,this.inputEvent=C.None,this.inputEventListener=L.Disposable.None,this.emitter=new u({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(N){this.inputEvent=N,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=N(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=I}),define(ne[89],se([1,0,7]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(D,y,m){const w=b=>this.emitter.fire(b);this.emitter=new f.Emitter({onWillAddFirstListener:()=>D.addEventListener(y,w,m),onDidRemoveLastListener:()=>D.removeEventListener(y,w,m)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(ne[19],se([1,0,7]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0,e.cancelOnDispose=m;const k=Object.freeze(function(w,b){const C=setTimeout(w.bind(b),0);return{dispose(){clearTimeout(C)}}});var L;(function(w){function b(C){return C===w.None||C===w.Cancelled||C instanceof D?!0:!C||typeof C!="object"?!1:typeof C.isCancellationRequested=="boolean"&&typeof C.onCancellationRequested=="function"}w.isCancellationToken=b,w.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:f.Event.None}),w.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(L||(e.CancellationToken=L={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new f.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class y{constructor(b){this._token=void 0,this._parentListener=void 0,this._parentListener=b&&b.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=L.Cancelled}dispose(b=!1){var C;b&&this.cancel(),(C=this._parentListener)===null||C===void 0||C.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=L.None}}e.CancellationTokenSource=y;function m(w){const b=new y;return w.add({dispose(){b.cancel()}}),b.token}}),define(ne[293],se([1,0,7]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(ne[294],se([1,0,7,2,125,184,126,157]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValueWithChangeEventFromObservable=e.KeepAliveObserver=e.FromEventObservable=void 0,e.constObservable=w,e.observableFromEvent=C,e.observableSignalFromEvent=n,e.observableSignal=t,e.keepObserved=c,e.recomputeInitiallyAndOnChange=g,e.derivedObservableWithCache=r,e.derivedObservableWithWritableCache=d,e.mapObservableArrayCached=u,e.observableFromValueWithChangeEvent=h;function w(p){return new b(p)}class b extends L.ConvenientObservable{constructor(_){super(),this.value=_}get debugName(){return this.toString()}get(){return this.value}addObserver(_){}removeObserver(_){}toString(){return`Const: ${this.value}`}}function C(p,_){return new o(p,_)}class o extends L.BaseObservable{constructor(_,S){super(),this.event=_,this._getValue=S,this.hasValue=!1,this.handleEvent=E=>{var I;const T=this._getValue(E),N=this.value,A=!this.hasValue||N!==T;let R=!1;A&&(this.value=T,this.hasValue&&(R=!0,(0,L.subtransaction)(o.globalTransaction,M=>{var P;(P=(0,m.getLogger)())===null||P===void 0||P.handleFromEventObservableTriggered(this,{oldValue:N,newValue:T,change:void 0,didChange:A,hadValue:this.hasValue});for(const F of this.observers)M.updateObserver(F,this),F.handleChange(this,void 0)},()=>{const M=this.getDebugName();return"Event fired"+(M?`: ${M}`:"")})),this.hasValue=!0),R||(I=(0,m.getLogger)())===null||I===void 0||I.handleFromEventObservableTriggered(this,{oldValue:N,newValue:T,change:void 0,didChange:A,hadValue:this.hasValue})}}getDebugName(){return(0,D.getFunctionName)(this._getValue)}get debugName(){const _=this.getDebugName();return"From Event"+(_?`: ${_}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=o,function(p){p.Observer=o;function _(S,E){let I=!1;o.globalTransaction===void 0&&(o.globalTransaction=S,I=!0);try{E()}finally{I&&(o.globalTransaction=void 0)}}p.batchEventsGlobally=_}(C||(e.observableFromEvent=C={}));function n(p,_){return new i(p,_)}class i extends L.BaseObservable{constructor(_,S){super(),this.debugName=_,this.event=S,this.handleEvent=()=>{(0,L.transaction)(E=>{for(const I of this.observers)E.updateObserver(I,this),I.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function t(p){return typeof p=="string"?new s(p):new s(void 0,p)}class s extends L.BaseObservable{get debugName(){var _;return(_=new D.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&_!==void 0?_:"Observable Signal"}constructor(_,S){super(),this._debugName=_,this._owner=S}trigger(_,S){if(!_){(0,L.transaction)(E=>{this.trigger(E,S)},()=>`Trigger signal ${this.debugName}`);return}for(const E of this.observers)_.updateObserver(E,this),E.handleChange(this,S)}get(){}}function c(p){const _=new l(!1,void 0);return p.addObserver(_),(0,k.toDisposable)(()=>{p.removeObserver(_)})}(0,L._setKeepObserved)(c);function g(p,_){const S=new l(!0,_);return p.addObserver(S),_?_(p.get()):p.reportChanges(),(0,k.toDisposable)(()=>{p.removeObserver(S)})}(0,L._setRecomputeInitiallyAndOnChange)(g);class l{constructor(_,S){this._forceRecompute=_,this._handleValue=S,this._counter=0}beginUpdate(_){this._counter++}endUpdate(_){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(_.get()):_.reportChanges())}handlePossibleChange(_){}handleChange(_,S){}}e.KeepAliveObserver=l;function r(p,_){let S;return(0,y.derived)(p,I=>(S=_(I,S),S))}function d(p,_){let S;const E=t("derivedObservableWithWritableCache"),I=(0,y.derived)(p,T=>(E.read(T),S=_(T,S),S));return Object.assign(I,{clearCache:T=>{S=void 0,E.trigger(T)},setCache:(T,N)=>{S=T,E.trigger(N)}})}function u(p,_,S,E){let I=new a(S,E);return(0,y.derivedOpts)({debugReferenceFn:S,owner:p,onLastObserverRemoved:()=>{I.dispose(),I=new a(S)}},N=>(I.setItems(_.read(N)),I.getItems()))}class a{constructor(_,S){this._map=_,this._keySelector=S,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(_=>_.store.dispose()),this._cache.clear()}setItems(_){const S=[],E=new Set(this._cache.keys());for(const I of _){const T=this._keySelector?this._keySelector(I):I;let N=this._cache.get(T);if(N)E.delete(T);else{const A=new k.DisposableStore;N={out:this._map(I,A),store:A},this._cache.set(T,N)}S.push(N.out)}for(const I of E)this._cache.get(I).store.dispose(),this._cache.delete(I);this._items=S}getItems(){return this._items}}class v{constructor(_){this.observable=_}get onDidChange(){return f.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}e.ValueWithChangeEventFromObservable=v;function h(p,_){return _ instanceof v?_.observable:C(_.onDidChange,()=>_.value)}}),define(ne[30],se([1,0,125,126,292,294,435,157]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.constObservable=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return f.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return f.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return f.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return f.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return L.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return L.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return L.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return L.autorunOpts}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return D.constObservable}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return D.derivedObservableWithCache}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return D.derivedObservableWithWritableCache}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return D.keepObserved}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return D.recomputeInitiallyAndOnChange}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return D.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return D.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return D.observableSignalFromEvent}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return y.waitForState}}),!1&&(0,m.setLogger)(new m.ConsoleObservableLogger)}),define(ne[158],se([1,0,7,2]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class L{constructor(i,t,s,c,g,l,r){this._forceIntegerValues=i,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,s=s|0,c=c|0,g=g|0,l=l|0,r=r|0),this.rawScrollLeft=c,this.rawScrollTop=r,t<0&&(t=0),c+t>s&&(c=s-t),c<0&&(c=0),g<0&&(g=0),r+g>l&&(r=l-g),r<0&&(r=0),this.width=t,this.scrollWidth=s,this.scrollLeft=c,this.height=g,this.scrollHeight=l,this.scrollTop=r}equals(i){return this.rawScrollLeft===i.rawScrollLeft&&this.rawScrollTop===i.rawScrollTop&&this.width===i.width&&this.scrollWidth===i.scrollWidth&&this.scrollLeft===i.scrollLeft&&this.height===i.height&&this.scrollHeight===i.scrollHeight&&this.scrollTop===i.scrollTop}withScrollDimensions(i,t){return new L(this._forceIntegerValues,typeof i.width<"u"?i.width:this.width,typeof i.scrollWidth<"u"?i.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof i.height<"u"?i.height:this.height,typeof i.scrollHeight<"u"?i.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(i){return new L(this._forceIntegerValues,this.width,this.scrollWidth,typeof i.scrollLeft<"u"?i.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof i.scrollTop<"u"?i.scrollTop:this.rawScrollTop)}createScrollEvent(i,t){const s=this.width!==i.width,c=this.scrollWidth!==i.scrollWidth,g=this.scrollLeft!==i.scrollLeft,l=this.height!==i.height,r=this.scrollHeight!==i.scrollHeight,d=this.scrollTop!==i.scrollTop;return{inSmoothScrolling:t,oldWidth:i.width,oldScrollWidth:i.scrollWidth,oldScrollLeft:i.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:i.height,oldScrollHeight:i.scrollHeight,oldScrollTop:i.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:s,scrollWidthChanged:c,scrollLeftChanged:g,heightChanged:l,scrollHeightChanged:r,scrollTopChanged:d}}}e.ScrollState=L;class D extends k.Disposable{constructor(i){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new f.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=i.smoothScrollDuration,this._scheduleAtNextAnimationFrame=i.scheduleAtNextAnimationFrame,this._state=new L(i.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(i){this._smoothScrollDuration=i}validateScrollPosition(i){return this._state.withScrollPosition(i)}getScrollDimensions(){return this._state}setScrollDimensions(i,t){var s;const c=this._state.withScrollDimensions(i,t);this._setState(c,!!this._smoothScrolling),(s=this._smoothScrolling)===null||s===void 0||s.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(i){const t=this._state.withScrollPosition(i);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(i,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(i);if(this._smoothScrolling){i={scrollLeft:typeof i.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:i.scrollLeft,scrollTop:typeof i.scrollTop>"u"?this._smoothScrolling.to.scrollTop:i.scrollTop};const s=this._state.withScrollPosition(i);if(this._smoothScrolling.to.scrollLeft===s.scrollLeft&&this._smoothScrolling.to.scrollTop===s.scrollTop)return;let c;t?c=new b(this._smoothScrolling.from,s,this._smoothScrolling.startTime,this._smoothScrolling.duration):c=this._smoothScrolling.combine(this._state,s,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=c}else{const s=this._state.withScrollPosition(i);this._smoothScrolling=b.start(this._state,s,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const i=this._smoothScrolling.tick(),t=this._state.withScrollPosition(i);if(this._setState(t,!0),!!this._smoothScrolling){if(i.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(i,t){const s=this._state;s.equals(i)||(this._state=i,this._onScroll.fire(this._state.createScrollEvent(s,t)))}}e.Scrollable=D;class y{constructor(i,t,s){this.scrollLeft=i,this.scrollTop=t,this.isDone=s}}e.SmoothScrollingUpdate=y;function m(n,i){const t=i-n;return function(s){return n+t*o(s)}}function w(n,i,t){return function(s){return s<t?n(s/t):i((s-t)/(1-t))}}class b{constructor(i,t,s,c){this.from=i,this.to=t,this.duration=c,this.startTime=s,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(i,t,s){if(Math.abs(i-t)>2.5*s){let g,l;return i<t?(g=i+.75*s,l=t-.75*s):(g=i-.75*s,l=t+.75*s),w(m(i,g),m(l,t),.33)}return m(i,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(i){this.to=i.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(i){const t=(i-this.startTime)/this.duration;if(t<1){const s=this.scrollLeft(t),c=this.scrollTop(t);return new y(s,c,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(i,t,s){return b.start(i,t,s)}static start(i,t,s){s=s+10;const c=Date.now()-10;return new b(i,t,c,s)}}e.SmoothScrollingOperation=b;function C(n){return Math.pow(n,3)}function o(n){return 1-C(1-n)}}),define(ne[11],se([1,0,290,96]),function(X,e,f,k){"use strict";var L;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.UTF8_BOM_CHARACTER=e.UNUSUAL_LINE_TERMINATORS=e.GraphemeIterator=e.CodePointIterator=void 0,e.isFalsyOrWhitespace=D,e.format=m,e.htmlAttributeEncodeValue=w,e.escape=b,e.escapeRegExpCharacters=C,e.trim=o,e.ltrim=n,e.rtrim=i,e.convertSimple2RegExpPattern=t,e.stripWildcards=s,e.createRegExp=c,e.regExpLeadsToEndlessLoop=g,e.splitLines=l,e.splitLinesIncludeSeparators=r,e.firstNonWhitespaceIndex=d,e.getLeadingWhitespace=u,e.lastNonWhitespaceIndex=a,e.compare=v,e.compareSubstring=h,e.compareIgnoreCase=p,e.compareSubstringIgnoreCase=_,e.isAsciiDigit=S,e.isLowerAsciiLetter=E,e.isUpperAsciiLetter=I,e.equalsIgnoreCase=T,e.startsWithIgnoreCase=N,e.commonPrefixLength=A,e.commonSuffixLength=R,e.isHighSurrogate=M,e.isLowSurrogate=P,e.computeCodePoint=F,e.getNextCodePoint=O,e.nextCharLength=U,e.prevCharLength=G,e.getCharContainingOffset=z,e.containsRTL=ee,e.isBasicASCII=x,e.containsUnusualLineTerminators=Y,e.isFullWidthCharacter=ae,e.isEmojiImprecise=ue,e.startsWithUTF8BOM=he,e.containsUppercaseCharacter=pe,e.singleLetterHash=ce,e.getLeftDeleteOffset=W;function D(te){return!te||typeof te!="string"?!0:te.trim().length===0}const y=/{(\d+)}/g;function m(te,...le){return le.length===0?te:te.replace(y,function(de,me){const ve=parseInt(me,10);return isNaN(ve)||ve<0||ve>=le.length?de:le[ve]})}function w(te){return te.replace(/[<>"'&]/g,le=>{switch(le){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return le})}function b(te){return te.replace(/[<>&]/g,function(le){switch(le){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return le}})}function C(te){return te.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function o(te,le=" "){const de=n(te,le);return i(de,le)}function n(te,le){if(!te||!le)return te;const de=le.length;if(de===0||te.length===0)return te;let me=0;for(;te.indexOf(le,me)===me;)me=me+de;return te.substring(me)}function i(te,le){if(!te||!le)return te;const de=le.length,me=te.length;if(de===0||me===0)return te;let ve=me,Ce=-1;for(;Ce=te.lastIndexOf(le,ve-1),!(Ce===-1||Ce+de!==ve);){if(Ce===0)return"";ve=Ce}return te.substring(0,ve)}function t(te){return te.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function s(te){return te.replace(/\*/g,"")}function c(te,le,de={}){if(!te)throw new Error("Cannot create regex from empty string");le||(te=C(te)),de.wholeWord&&(/\B/.test(te.charAt(0))||(te="\\b"+te),/\B/.test(te.charAt(te.length-1))||(te=te+"\\b"));let me="";return de.global&&(me+="g"),de.matchCase||(me+="i"),de.multiline&&(me+="m"),de.unicode&&(me+="u"),new RegExp(te,me)}function g(te){return te.source==="^"||te.source==="^$"||te.source==="$"||te.source==="^\\s*$"?!1:!!(te.exec("")&&te.lastIndex===0)}function l(te){return te.split(/\r\n|\r|\n/)}function r(te){var le;const de=[],me=te.split(/(\r\n|\r|\n)/);for(let ve=0;ve<Math.ceil(me.length/2);ve++)de.push(me[2*ve]+((le=me[2*ve+1])!==null&&le!==void 0?le:""));return de}function d(te){for(let le=0,de=te.length;le<de;le++){const me=te.charCodeAt(le);if(me!==32&&me!==9)return le}return-1}function u(te,le=0,de=te.length){for(let me=le;me<de;me++){const ve=te.charCodeAt(me);if(ve!==32&&ve!==9)return te.substring(le,me)}return te.substring(le,de)}function a(te,le=te.length-1){for(let de=le;de>=0;de--){const me=te.charCodeAt(de);if(me!==32&&me!==9)return de}return-1}function v(te,le){return te<le?-1:te>le?1:0}function h(te,le,de=0,me=te.length,ve=0,Ce=le.length){for(;de<me&&ve<Ce;de++,ve++){const Te=te.charCodeAt(de),De=le.charCodeAt(ve);if(Te<De)return-1;if(Te>De)return 1}const ye=me-de,Se=Ce-ve;return ye<Se?-1:ye>Se?1:0}function p(te,le){return _(te,le,0,te.length,0,le.length)}function _(te,le,de=0,me=te.length,ve=0,Ce=le.length){for(;de<me&&ve<Ce;de++,ve++){let Te=te.charCodeAt(de),De=le.charCodeAt(ve);if(Te===De)continue;if(Te>=128||De>=128)return h(te.toLowerCase(),le.toLowerCase(),de,me,ve,Ce);E(Te)&&(Te-=32),E(De)&&(De-=32);const Me=Te-De;if(Me!==0)return Me}const ye=me-de,Se=Ce-ve;return ye<Se?-1:ye>Se?1:0}function S(te){return te>=48&&te<=57}function E(te){return te>=97&&te<=122}function I(te){return te>=65&&te<=90}function T(te,le){return te.length===le.length&&_(te,le)===0}function N(te,le){const de=le.length;return le.length>te.length?!1:_(te,le,0,de)===0}function A(te,le){const de=Math.min(te.length,le.length);let me;for(me=0;me<de;me++)if(te.charCodeAt(me)!==le.charCodeAt(me))return me;return de}function R(te,le){const de=Math.min(te.length,le.length);let me;const ve=te.length-1,Ce=le.length-1;for(me=0;me<de;me++)if(te.charCodeAt(ve-me)!==le.charCodeAt(Ce-me))return me;return de}function M(te){return 55296<=te&&te<=56319}function P(te){return 56320<=te&&te<=57343}function F(te,le){return(te-55296<<10)+(le-56320)+65536}function O(te,le,de){const me=te.charCodeAt(de);if(M(me)&&de+1<le){const ve=te.charCodeAt(de+1);if(P(ve))return F(me,ve)}return me}function B(te,le){const de=te.charCodeAt(le-1);if(P(de)&&le>1){const me=te.charCodeAt(le-2);if(M(me))return F(me,de)}return de}class V{get offset(){return this._offset}constructor(le,de=0){this._str=le,this._len=le.length,this._offset=de}setOffset(le){this._offset=le}prevCodePoint(){const le=B(this._str,this._offset);return this._offset-=le>=65536?2:1,le}nextCodePoint(){const le=O(this._str,this._len,this._offset);return this._offset+=le>=65536?2:1,le}eol(){return this._offset>=this._len}}e.CodePointIterator=V;class K{get offset(){return this._iterator.offset}constructor(le,de=0){this._iterator=new V(le,de)}nextGraphemeLength(){const le=oe.getInstance(),de=this._iterator,me=de.offset;let ve=le.getGraphemeBreakType(de.nextCodePoint());for(;!de.eol();){const Ce=de.offset,ye=le.getGraphemeBreakType(de.nextCodePoint());if(ie(ve,ye)){de.setOffset(Ce);break}ve=ye}return de.offset-me}prevGraphemeLength(){const le=oe.getInstance(),de=this._iterator,me=de.offset;let ve=le.getGraphemeBreakType(de.prevCodePoint());for(;de.offset>0;){const Ce=de.offset,ye=le.getGraphemeBreakType(de.prevCodePoint());if(ie(ye,ve)){de.setOffset(Ce);break}ve=ye}return me-de.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=K;function U(te,le){return new K(te,le).nextGraphemeLength()}function G(te,le){return new K(te,le).prevGraphemeLength()}function z(te,le){le>0&&P(te.charCodeAt(le))&&le--;const de=le+U(te,le);return[de-G(te,de),de]}let $;function J(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function ee(te){return $||($=J()),$.test(te)}const Z=/^[\t\n\r\x20-\x7E]*$/;function x(te){return Z.test(te)}e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Y(te){return e.UNUSUAL_LINE_TERMINATORS.test(te)}function ae(te){return te>=11904&&te<=55215||te>=63744&&te<=64255||te>=65281&&te<=65374}function ue(te){return te>=127462&&te<=127487||te===8986||te===8987||te===9200||te===9203||te>=9728&&te<=10175||te===11088||te===11093||te>=127744&&te<=128591||te>=128640&&te<=128764||te>=128992&&te<=129008||te>=129280&&te<=129535||te>=129648&&te<=129782}e.UTF8_BOM_CHARACTER="\uFEFF";function he(te){return!!(te&&te.length>0&&te.charCodeAt(0)===65279)}function pe(te,le=!1){return te?(le&&(te=te.replace(/\\./g,"")),te.toLowerCase()!==te):!1}function ce(te){return te=te%(2*26),te<26?String.fromCharCode(97+te):String.fromCharCode(65+te-26)}function ie(te,le){return te===0?le!==5&&le!==7:te===2&&le===3?!1:te===4||te===2||te===3||le===4||le===2||le===3?!0:!(te===8&&(le===8||le===9||le===11||le===12)||(te===11||te===9)&&(le===9||le===10)||(te===12||te===10)&&le===10||le===5||le===13||le===7||te===1||te===13&&le===14||te===6&&le===6)}class oe{static getInstance(){return oe._INSTANCE||(oe._INSTANCE=new oe),oe._INSTANCE}constructor(){this._data=re()}getGraphemeBreakType(le){if(le<32)return le===10?3:le===13?2:4;if(le<127)return 0;const de=this._data,me=de.length/3;let ve=1;for(;ve<=me;)if(le<de[3*ve])ve=2*ve;else if(le>de[3*ve+1])ve=2*ve+1;else return de[3*ve+2];return 0}}oe._INSTANCE=null;function re(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function W(te,le){if(te===0)return 0;const de=q(te,le);if(de!==void 0)return de;const me=new V(le,te);return me.prevCodePoint(),me.offset}function q(te,le){const de=new V(le,te);let me=de.prevCodePoint();for(;H(me)||me===65039||me===8419;){if(de.offset===0)return;me=de.prevCodePoint()}if(!ue(me))return;let ve=de.offset;return ve>0&&de.prevCodePoint()===8205&&(ve=de.offset),ve}function H(te){return 127995<=te&&te<=127999}e.noBreakWhitespace="\xA0";class j{static getInstance(le){return L.cache.get(Array.from(le))}static getLocales(){return L._locales.value}constructor(le){this.confusableDictionary=le}isAmbiguous(le){return this.confusableDictionary.has(le)}getPrimaryConfusable(le){return this.confusableDictionary.get(le)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=j,L=j,j.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),j.cache=new f.LRUCachedFunction({getCacheKey:JSON.stringify},te=>{function le(De){const Me=new Map;for(let Ae=0;Ae<De.length;Ae+=2)Me.set(De[Ae],De[Ae+1]);return Me}function de(De,Me){const Ae=new Map(De);for(const[Pe,Re]of Me)Ae.set(Pe,Re);return Ae}function me(De,Me){if(!De)return Me;const Ae=new Map;for(const[Pe,Re]of De)Me.has(Pe)&&Ae.set(Pe,Re);return Ae}const ve=L.ambiguousCharacterData.value;let Ce=te.filter(De=>!De.startsWith("_")&&De in ve);Ce.length===0&&(Ce=["_default"]);let ye;for(const De of Ce){const Me=le(ve[De]);ye=me(ye,Me)}const Se=le(ve._common),Te=de(Se,ye);return new L(Te)}),j._locales=new k.Lazy(()=>Object.keys(L.ambiguousCharacterData.value).filter(te=>!te.startsWith("_")));class Q{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Q.getRawData())),this._data}static isInvisibleCharacter(le){return Q.getData().has(le)}static get codePoints(){return Q.getData()}}e.InvisibleCharacters=Q,Q._data=void 0}),define(ne[78],se([1,0,45,432,11]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FuzzyScoreOptions=e.FuzzyScore=e.matchesPrefix=e.matchesStrictPrefix=void 0,e.or=D,e.matchesContiguousSubString=m,e.matchesSubString=w,e.isUpper=o,e.matchesCamelCase=S,e.matchesWords=E,e.matchesFuzzy=M,e.matchesFuzzy2=P,e.anyScore=F,e.createMatches=O,e.isPatternInWord=he,e.fuzzyScore=ie,e.fuzzyScoreGracefulAggressive=W;function D(...j){return function(Q,te){for(let le=0,de=j.length;le<de;le++){const me=j[le](Q,te);if(me)return me}return null}}e.matchesStrictPrefix=y.bind(void 0,!1),e.matchesPrefix=y.bind(void 0,!0);function y(j,Q,te){if(!te||te.length<Q.length)return null;let le;return j?le=L.startsWithIgnoreCase(te,Q):le=te.indexOf(Q)===0,le?Q.length>0?[{start:0,end:Q.length}]:[]:null}function m(j,Q){const te=Q.toLowerCase().indexOf(j.toLowerCase());return te===-1?null:[{start:te,end:te+j.length}]}function w(j,Q){return b(j.toLowerCase(),Q.toLowerCase(),0,0)}function b(j,Q,te,le){if(te===j.length)return[];if(le===Q.length)return null;if(j[te]===Q[le]){let de=null;return(de=b(j,Q,te+1,le+1))?d({start:le,end:le+1},de):null}return b(j,Q,te,le+1)}function C(j){return 97<=j&&j<=122}function o(j){return 65<=j&&j<=90}function n(j){return 48<=j&&j<=57}function i(j){return j===32||j===9||j===10||j===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(j=>t.add(j.charCodeAt(0)));function s(j){return i(j)||t.has(j)}function c(j,Q){return j===Q||s(j)&&s(Q)}const g=new Map;function l(j){if(g.has(j))return g.get(j);let Q;const te=(0,k.getKoreanAltChars)(j);return te&&(Q=te),g.set(j,Q),Q}function r(j){return C(j)||o(j)||n(j)}function d(j,Q){return Q.length===0?Q=[j]:j.end===Q[0].start?Q[0].start=j.start:Q.unshift(j),Q}function u(j,Q){for(let te=Q;te<j.length;te++){const le=j.charCodeAt(te);if(o(le)||n(le)||te>0&&!r(j.charCodeAt(te-1)))return te}return j.length}function a(j,Q,te,le){if(te===j.length)return[];if(le===Q.length)return null;if(j[te]!==Q[le].toLowerCase())return null;{let de=null,me=le+1;for(de=a(j,Q,te+1,le+1);!de&&(me=u(Q,me))<Q.length;)de=a(j,Q,te+1,me),me++;return de===null?null:d({start:le,end:le+1},de)}}function v(j){let Q=0,te=0,le=0,de=0,me=0;for(let Te=0;Te<j.length;Te++)me=j.charCodeAt(Te),o(me)&&Q++,C(me)&&te++,r(me)&&le++,n(me)&&de++;const ve=Q/j.length,Ce=te/j.length,ye=le/j.length,Se=de/j.length;return{upperPercent:ve,lowerPercent:Ce,alphaPercent:ye,numericPercent:Se}}function h(j){const{upperPercent:Q,lowerPercent:te}=j;return te===0&&Q>.6}function p(j){const{upperPercent:Q,lowerPercent:te,alphaPercent:le,numericPercent:de}=j;return te>.2&&Q<.8&&le>.6&&de<.2}function _(j){let Q=0,te=0,le=0,de=0;for(let me=0;me<j.length;me++)le=j.charCodeAt(me),o(le)&&Q++,C(le)&&te++,i(le)&&de++;return(Q===0||te===0)&&de===0?j.length<=30:Q<=5}function S(j,Q){if(!Q||(Q=Q.trim(),Q.length===0)||!_(j))return null;Q.length>60&&(Q=Q.substring(0,60));const te=v(Q);if(!p(te)){if(!h(te))return null;Q=Q.toLowerCase()}let le=null,de=0;for(j=j.toLowerCase();de<Q.length&&(le=a(j,Q,0,de))===null;)de=u(Q,de+1);return le}function E(j,Q,te=!1){if(!Q||Q.length===0)return null;let le=null,de=0;for(j=j.toLowerCase(),Q=Q.toLowerCase();de<Q.length&&(le=I(j,Q,0,de,te),le===null);)de=T(Q,de+1);return le}function I(j,Q,te,le,de){let me=0;if(te===j.length)return[];if(le===Q.length)return null;if(!c(j.charCodeAt(te),Q.charCodeAt(le))){const ye=l(j.charCodeAt(te));if(!ye)return null;for(let Se=0;Se<ye.length;Se++)if(!c(ye[Se],Q.charCodeAt(le+Se)))return null;me+=ye.length-1}let ve=null,Ce=le+me+1;if(ve=I(j,Q,te+1,Ce,de),!de)for(;!ve&&(Ce=T(Q,Ce))<Q.length;)ve=I(j,Q,te+1,Ce,de),Ce++;if(!ve)return null;if(j.charCodeAt(te)!==Q.charCodeAt(le)){const ye=l(j.charCodeAt(te));if(!ye)return ve;for(let Se=0;Se<ye.length;Se++)if(ye[Se]!==Q.charCodeAt(le+Se))return ve}return d({start:le,end:le+me+1},ve)}function T(j,Q){for(let te=Q;te<j.length;te++)if(s(j.charCodeAt(te))||te>0&&s(j.charCodeAt(te-1)))return te;return j.length}const N=D(e.matchesPrefix,S,m),A=D(e.matchesPrefix,S,w),R=new f.LRUCache(1e4);function M(j,Q,te=!1){if(typeof j!="string"||typeof Q!="string")return null;let le=R.get(j);le||(le=new RegExp(L.convertSimple2RegExpPattern(j),"i"),R.set(j,le));const de=le.exec(Q);return de?[{start:de.index,end:de.index+de[0].length}]:te?A(j,Q):N(j,Q)}function P(j,Q){const te=ie(j,j.toLowerCase(),0,Q,Q.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return te?O(te):null}function F(j,Q,te,le,de,me){const ve=Math.min(13,j.length);for(;te<ve;te++){const Ce=ie(j,Q,te,le,de,me,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Ce)return Ce}return[0,me]}function O(j){if(typeof j>"u")return[];const Q=[],te=j[1];for(let le=j.length-1;le>1;le--){const de=j[le]+te,me=Q[Q.length-1];me&&me.end===de?me.end=de+1:Q.push({start:de,end:de+1})}return Q}const B=128;function V(){const j=[],Q=[];for(let te=0;te<=B;te++)Q[te]=0;for(let te=0;te<=B;te++)j.push(Q.slice(0));return j}function K(j){const Q=[];for(let te=0;te<=j;te++)Q[te]=0;return Q}const U=K(2*B),G=K(2*B),z=V(),$=V(),J=V(),ee=!1;function Z(j,Q,te,le,de){function me(Ce,ye,Se=" "){for(;Ce.length<ye;)Ce=Se+Ce;return Ce}let ve=` |   |${le.split("").map(Ce=>me(Ce,3)).join("|")}
`;for(let Ce=0;Ce<=te;Ce++)Ce===0?ve+=" |":ve+=`${Q[Ce-1]}|`,ve+=j[Ce].slice(0,de+1).map(ye=>me(ye.toString(),3)).join("|")+`
`;return ve}function x(j,Q,te,le){j=j.substr(Q),te=te.substr(le),console.log(Z($,j,j.length,te,te.length)),console.log(Z(J,j,j.length,te,te.length)),console.log(Z(z,j,j.length,te,te.length))}function Y(j,Q){if(Q<0||Q>=j.length)return!1;const te=j.codePointAt(Q);switch(te){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!L.isEmojiImprecise(te)}}function ae(j,Q){if(Q<0||Q>=j.length)return!1;switch(j.charCodeAt(Q)){case 32:case 9:return!0;default:return!1}}function ue(j,Q,te){return Q[j]!==te[j]}function he(j,Q,te,le,de,me,ve=!1){for(;Q<te&&de<me;)j[Q]===le[de]&&(ve&&(U[Q]=de),Q+=1),de+=1;return Q===te}var pe;(function(j){j.Default=[-100,0];function Q(te){return!te||te.length===2&&te[0]===-100&&te[1]===0}j.isDefault=Q})(pe||(e.FuzzyScore=pe={}));class ce{constructor(Q,te){this.firstMatchCanBeWeak=Q,this.boostFullMatch=te}}e.FuzzyScoreOptions=ce,ce.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function ie(j,Q,te,le,de,me,ve=ce.default){const Ce=j.length>B?B:j.length,ye=le.length>B?B:le.length;if(te>=Ce||me>=ye||Ce-te>ye-me||!he(Q,te,Ce,de,me,ye,!0))return;oe(Ce,ye,te,me,Q,de);let Se=1,Te=1,De=te,Me=me;const Ae=[!1];for(Se=1,De=te;De<Ce;Se++,De++){const fe=U[De],_e=G[De],Oe=De+1<Ce?G[De+1]:ye;for(Te=fe-me+1,Me=fe;Me<Oe;Te++,Me++){let Be=Number.MIN_SAFE_INTEGER,Ke=!1;Me<=_e&&(Be=re(j,Q,De,te,le,de,Me,ye,me,z[Se-1][Te-1]===0,Ae));let je=0;Be!==Number.MAX_SAFE_INTEGER&&(Ke=!0,je=Be+$[Se-1][Te-1]);const Ze=Me>fe,et=Ze?$[Se][Te-1]+(z[Se][Te-1]>0?-5:0):0,it=Me>fe+1&&z[Se][Te-1]>0,rt=it?$[Se][Te-2]+(z[Se][Te-2]>0?-5:0):0;if(it&&(!Ze||rt>=et)&&(!Ke||rt>=je))$[Se][Te]=rt,J[Se][Te]=3,z[Se][Te]=0;else if(Ze&&(!Ke||et>=je))$[Se][Te]=et,J[Se][Te]=2,z[Se][Te]=0;else if(Ke)$[Se][Te]=je,J[Se][Te]=1,z[Se][Te]=z[Se-1][Te-1]+1;else throw new Error("not possible")}}if(ee&&x(j,te,le,me),!Ae[0]&&!ve.firstMatchCanBeWeak)return;Se--,Te--;const Pe=[$[Se][Te],me];let Re=0,Ee=0;for(;Se>=1;){let fe=Te;do{const _e=J[Se][fe];if(_e===3)fe=fe-2;else if(_e===2)fe=fe-1;else break}while(fe>=1);Re>1&&Q[te+Se-1]===de[me+Te-1]&&!ue(fe+me-1,le,de)&&Re+1>z[Se][fe]&&(fe=Te),fe===Te?Re++:Re=1,Ee||(Ee=fe),Se--,Te=fe-1,Pe.push(Te)}ye-me===Ce&&ve.boostFullMatch&&(Pe[0]+=2);const Ne=Ee-Ce;return Pe[0]-=Ne,Pe}function oe(j,Q,te,le,de,me){let ve=j-1,Ce=Q-1;for(;ve>=te&&Ce>=le;)de[ve]===me[Ce]&&(G[ve]=Ce,ve--),Ce--}function re(j,Q,te,le,de,me,ve,Ce,ye,Se,Te){if(Q[te]!==me[ve])return Number.MIN_SAFE_INTEGER;let De=1,Me=!1;return ve===te-le?De=j[te]===de[ve]?7:5:ue(ve,de,me)&&(ve===0||!ue(ve-1,de,me))?(De=j[te]===de[ve]?7:5,Me=!0):Y(me,ve)&&(ve===0||!Y(me,ve-1))?De=5:(Y(me,ve-1)||ae(me,ve-1))&&(De=5,Me=!0),De>1&&te===le&&(Te[0]=!0),Me||(Me=ue(ve,de,me)||Y(me,ve-1)||ae(me,ve-1)),te===le?ve>ye&&(De-=Me?3:5):Se?De+=Me?2:0:De+=Me?0:1,ve+1===Ce&&(De-=Me?3:5),De}function W(j,Q,te,le,de,me,ve){return q(j,Q,te,le,de,me,!0,ve)}function q(j,Q,te,le,de,me,ve,Ce){let ye=ie(j,Q,te,le,de,me,Ce);if(ye&&!ve)return ye;if(j.length>=3){const Se=Math.min(7,j.length-1);for(let Te=te+1;Te<Se;Te++){const De=H(j,Te);if(De){const Me=ie(De,De.toLowerCase(),te,le,de,me,Ce);Me&&(Me[0]-=3,(!ye||Me[0]>ye[0])&&(ye=Me))}}}return ye}function H(j,Q){if(Q+1>=j.length)return;const te=j[Q],le=j[Q+1];if(te!==le)return j.slice(0,Q)+le+te+j.slice(Q+2)}}),define(ne[127],se([1,0,11]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=void 0,e.hash=k,e.doHash=L,e.numberHash=D,e.stringHash=m,e.toHexString=i;function k(s){return L(s,0)}function L(s,c){switch(typeof s){case"object":return s===null?D(349,c):Array.isArray(s)?w(s,c):b(s,c);case"string":return m(s,c);case"boolean":return y(s,c);case"number":return D(s,c);case"undefined":return D(937,c);default:return D(617,c)}}function D(s,c){return(c<<5)-c+s|0}function y(s,c){return D(s?433:863,c)}function m(s,c){c=D(149417,c);for(let g=0,l=s.length;g<l;g++)c=D(s.charCodeAt(g),c);return c}function w(s,c){return c=D(104579,c),s.reduce((g,l)=>L(l,g),c)}function b(s,c){return c=D(181387,c),Object.keys(s).sort().reduce((g,l)=>(g=m(l,g),L(s[l],g)),c)}function C(s,c,g=32){const l=g-c,r=~((1<<l)-1);return(s<<c|(r&s)>>>l)>>>0}function o(s,c=0,g=s.byteLength,l=0){for(let r=0;r<g;r++)s[c+r]=l}function n(s,c,g="0"){for(;s.length<c;)s=g+s;return s}function i(s,c=32){return s instanceof ArrayBuffer?Array.from(new Uint8Array(s)).map(g=>g.toString(16).padStart(2,"0")).join(""):n((s>>>0).toString(16),c/4)}class t{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(c){const g=c.length;if(g===0)return;const l=this._buff;let r=this._buffLen,d=this._leftoverHighSurrogate,u,a;for(d!==0?(u=d,a=-1,d=0):(u=c.charCodeAt(0),a=0);;){let v=u;if(f.isHighSurrogate(u))if(a+1<g){const h=c.charCodeAt(a+1);f.isLowSurrogate(h)?(a++,v=f.computeCodePoint(u,h)):v=65533}else{d=u;break}else f.isLowSurrogate(u)&&(v=65533);if(r=this._push(l,r,v),a++,a<g)u=c.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=d}_push(c,g,l){return l<128?c[g++]=l:l<2048?(c[g++]=192|(l&1984)>>>6,c[g++]=128|(l&63)>>>0):l<65536?(c[g++]=224|(l&61440)>>>12,c[g++]=128|(l&4032)>>>6,c[g++]=128|(l&63)>>>0):(c[g++]=240|(l&1835008)>>>18,c[g++]=128|(l&258048)>>>12,c[g++]=128|(l&4032)>>>6,c[g++]=128|(l&63)>>>0),g>=64&&(this._step(),g-=64,this._totalLen+=64,c[0]=c[64],c[1]=c[65],c[2]=c[66]),g}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),i(this._h0)+i(this._h1)+i(this._h2)+i(this._h3)+i(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,o(this._buff,this._buffLen),this._buffLen>56&&(this._step(),o(this._buff));const c=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(c/4294967296),!1),this._buffDV.setUint32(60,c%4294967296,!1),this._step()}_step(){const c=t._bigBlock32,g=this._buffDV;for(let _=0;_<64;_+=4)c.setUint32(_,g.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)c.setUint32(_,C(c.getUint32(_-12,!1)^c.getUint32(_-32,!1)^c.getUint32(_-56,!1)^c.getUint32(_-64,!1),1),!1);let l=this._h0,r=this._h1,d=this._h2,u=this._h3,a=this._h4,v,h,p;for(let _=0;_<80;_++)_<20?(v=r&d|~r&u,h=1518500249):_<40?(v=r^d^u,h=1859775393):_<60?(v=r&d|r&u|d&u,h=2400959708):(v=r^d^u,h=3395469782),p=C(l,5)+v+a+h+c.getUint32(_*4,!1)&4294967295,a=u,u=d,d=C(r,30),r=l,l=p;this._h0=this._h0+l&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+d&4294967295,this._h3=this._h3+u&4294967295,this._h4=this._h4+a&4294967295}}e.StringSHA1=t,t._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ne[186],se([1,0,428,127]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.StringDiffSequence=void 0,e.stringDiff=D;class L{constructor(o){this.source=o}getElements(){const o=this.source,n=new Int32Array(o.length);for(let i=0,t=o.length;i<t;i++)n[i]=o.charCodeAt(i);return n}}e.StringDiffSequence=L;function D(C,o,n){return new b(new L(C),new L(o)).ComputeDiff(n).changes}class y{static Assert(o,n){if(!o)throw new Error(n)}}class m{static Copy(o,n,i,t,s){for(let c=0;c<s;c++)i[t+c]=o[n+c]}static Copy2(o,n,i,t,s){for(let c=0;c<s;c++)i[t+c]=o[n+c]}}class w{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new f.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(o,n){this.m_originalStart=Math.min(this.m_originalStart,o),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(o,n){this.m_originalStart=Math.min(this.m_originalStart,o),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class b{constructor(o,n,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=o,this._modifiedSequence=n;const[t,s,c]=b._getElements(o),[g,l,r]=b._getElements(n);this._hasStrings=c&&r,this._originalStringElements=t,this._originalElementsOrHash=s,this._modifiedStringElements=g,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(o){return o.length>0&&typeof o[0]=="string"}static _getElements(o){const n=o.getElements();if(b._isStringArray(n)){const i=new Int32Array(n.length);for(let t=0,s=n.length;t<s;t++)i[t]=(0,k.stringHash)(n[t],0);return[n,i,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(o,n){return this._originalElementsOrHash[o]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[o]===this._modifiedStringElements[n]:!0}ElementsAreStrictEqual(o,n){if(!this.ElementsAreEqual(o,n))return!1;const i=b._getStrictElement(this._originalSequence,o),t=b._getStrictElement(this._modifiedSequence,n);return i===t}static _getStrictElement(o,n){return typeof o.getStrictElement=="function"?o.getStrictElement(n):null}OriginalElementsAreEqual(o,n){return this._originalElementsOrHash[o]!==this._originalElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[o]===this._originalStringElements[n]:!0}ModifiedElementsAreEqual(o,n){return this._modifiedElementsOrHash[o]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._modifiedStringElements[o]===this._modifiedStringElements[n]:!0}ComputeDiff(o){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,o)}_ComputeDiff(o,n,i,t,s){const c=[!1];let g=this.ComputeDiffRecursive(o,n,i,t,c);return s&&(g=this.PrettifyChanges(g)),{quitEarly:c[0],changes:g}}ComputeDiffRecursive(o,n,i,t,s){for(s[0]=!1;o<=n&&i<=t&&this.ElementsAreEqual(o,i);)o++,i++;for(;n>=o&&t>=i&&this.ElementsAreEqual(n,t);)n--,t--;if(o>n||i>t){let u;return i<=t?(y.Assert(o===n+1,"originalStart should only be one more than originalEnd"),u=[new f.DiffChange(o,0,i,t-i+1)]):o<=n?(y.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),u=[new f.DiffChange(o,n-o+1,i,0)]):(y.Assert(o===n+1,"originalStart should only be one more than originalEnd"),y.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const c=[0],g=[0],l=this.ComputeRecursionPoint(o,n,i,t,c,g,s),r=c[0],d=g[0];if(l!==null)return l;if(!s[0]){const u=this.ComputeDiffRecursive(o,r,i,d,s);let a=[];return s[0]?a=[new f.DiffChange(r+1,n-(r+1)+1,d+1,t-(d+1)+1)]:a=this.ComputeDiffRecursive(r+1,n,d+1,t,s),this.ConcatenateChanges(u,a)}return[new f.DiffChange(o,n-o+1,i,t-i+1)]}WALKTRACE(o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E){let I=null,T=null,N=new w,A=n,R=i,M=v[0]-_[0]-t,P=-1073741824,F=this.m_forwardHistory.length-1;do{const O=M+o;O===A||O<R&&r[O-1]<r[O+1]?(u=r[O+1],h=u-M-t,u<P&&N.MarkNextChange(),P=u,N.AddModifiedElement(u+1,h),M=O+1-o):(u=r[O-1]+1,h=u-M-t,u<P&&N.MarkNextChange(),P=u-1,N.AddOriginalElement(u,h+1),M=O-1-o),F>=0&&(r=this.m_forwardHistory[F],o=r[0],A=1,R=r.length-1)}while(--F>=-1);if(I=N.getReverseChanges(),E[0]){let O=v[0]+1,B=_[0]+1;if(I!==null&&I.length>0){const V=I[I.length-1];O=Math.max(O,V.getOriginalEnd()),B=Math.max(B,V.getModifiedEnd())}T=[new f.DiffChange(O,a-O+1,B,p-B+1)]}else{N=new w,A=c,R=g,M=v[0]-_[0]-l,P=1073741824,F=S?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const O=M+s;O===A||O<R&&d[O-1]>=d[O+1]?(u=d[O+1]-1,h=u-M-l,u>P&&N.MarkNextChange(),P=u+1,N.AddOriginalElement(u+1,h+1),M=O+1-s):(u=d[O-1],h=u-M-l,u>P&&N.MarkNextChange(),P=u,N.AddModifiedElement(u+1,h+1),M=O-1-s),F>=0&&(d=this.m_reverseHistory[F],s=d[0],A=1,R=d.length-1)}while(--F>=-1);T=N.getChanges()}return this.ConcatenateChanges(I,T)}ComputeRecursionPoint(o,n,i,t,s,c,g){let l=0,r=0,d=0,u=0,a=0,v=0;o--,i--,s[0]=0,c[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const h=n-o+(t-i),p=h+1,_=new Int32Array(p),S=new Int32Array(p),E=t-i,I=n-o,T=o-i,N=n-t,R=(I-E)%2===0;_[E]=o,S[I]=n,g[0]=!1;for(let M=1;M<=h/2+1;M++){let P=0,F=0;d=this.ClipDiagonalBound(E-M,M,E,p),u=this.ClipDiagonalBound(E+M,M,E,p);for(let B=d;B<=u;B+=2){B===d||B<u&&_[B-1]<_[B+1]?l=_[B+1]:l=_[B-1]+1,r=l-(B-E)-T;const V=l;for(;l<n&&r<t&&this.ElementsAreEqual(l+1,r+1);)l++,r++;if(_[B]=l,l+r>P+F&&(P=l,F=r),!R&&Math.abs(B-I)<=M-1&&l>=S[B])return s[0]=l,c[0]=r,V<=S[B]&&1447>0&&M<=1448?this.WALKTRACE(E,d,u,T,I,a,v,N,_,S,l,n,s,r,t,c,R,g):null}const O=(P-o+(F-i)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(P,O))return g[0]=!0,s[0]=P,c[0]=F,O>0&&1447>0&&M<=1448?this.WALKTRACE(E,d,u,T,I,a,v,N,_,S,l,n,s,r,t,c,R,g):(o++,i++,[new f.DiffChange(o,n-o+1,i,t-i+1)]);a=this.ClipDiagonalBound(I-M,M,I,p),v=this.ClipDiagonalBound(I+M,M,I,p);for(let B=a;B<=v;B+=2){B===a||B<v&&S[B-1]>=S[B+1]?l=S[B+1]-1:l=S[B-1],r=l-(B-I)-N;const V=l;for(;l>o&&r>i&&this.ElementsAreEqual(l,r);)l--,r--;if(S[B]=l,R&&Math.abs(B-E)<=M&&l<=_[B])return s[0]=l,c[0]=r,V>=_[B]&&1447>0&&M<=1448?this.WALKTRACE(E,d,u,T,I,a,v,N,_,S,l,n,s,r,t,c,R,g):null}if(M<=1447){let B=new Int32Array(u-d+2);B[0]=E-d+1,m.Copy2(_,d,B,1,u-d+1),this.m_forwardHistory.push(B),B=new Int32Array(v-a+2),B[0]=I-a+1,m.Copy2(S,a,B,1,v-a+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(E,d,u,T,I,a,v,N,_,S,l,n,s,r,t,c,R,g)}PrettifyChanges(o){for(let n=0;n<o.length;n++){const i=o[n],t=n<o.length-1?o[n+1].originalStart:this._originalElementsOrHash.length,s=n<o.length-1?o[n+1].modifiedStart:this._modifiedElementsOrHash.length,c=i.originalLength>0,g=i.modifiedLength>0;for(;i.originalStart+i.originalLength<t&&i.modifiedStart+i.modifiedLength<s&&(!c||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!g||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const r=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!r)break;i.originalStart++,i.modifiedStart++}const l=[null];if(n<o.length-1&&this.ChangesOverlap(o[n],o[n+1],l)){o[n]=l[0],o.splice(n+1,1),n--;continue}}for(let n=o.length-1;n>=0;n--){const i=o[n];let t=0,s=0;if(n>0){const u=o[n-1];t=u.originalStart+u.originalLength,s=u.modifiedStart+u.modifiedLength}const c=i.originalLength>0,g=i.modifiedLength>0;let l=0,r=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let u=1;;u++){const a=i.originalStart-u,v=i.modifiedStart-u;if(a<t||v<s||c&&!this.OriginalElementsAreEqual(a,a+i.originalLength)||g&&!this.ModifiedElementsAreEqual(v,v+i.modifiedLength))break;const p=(a===t&&v===s?5:0)+this._boundaryScore(a,i.originalLength,v,i.modifiedLength);p>r&&(r=p,l=u)}i.originalStart-=l,i.modifiedStart-=l;const d=[null];if(n>0&&this.ChangesOverlap(o[n-1],o[n],d)){o[n-1]=d[0],o.splice(n,1),n++;continue}}if(this._hasStrings)for(let n=1,i=o.length;n<i;n++){const t=o[n-1],s=o[n],c=s.originalStart-t.originalStart-t.originalLength,g=t.originalStart,l=s.originalStart+s.originalLength,r=l-g,d=t.modifiedStart,u=s.modifiedStart+s.modifiedLength,a=u-d;if(c<5&&r<20&&a<20){const v=this._findBetterContiguousSequence(g,r,d,a,c);if(v){const[h,p]=v;(h!==t.originalStart+t.originalLength||p!==t.modifiedStart+t.modifiedLength)&&(t.originalLength=h-t.originalStart,t.modifiedLength=p-t.modifiedStart,s.originalStart=h+c,s.modifiedStart=p+c,s.originalLength=l-s.originalStart,s.modifiedLength=u-s.modifiedStart)}}}return o}_findBetterContiguousSequence(o,n,i,t,s){if(n<s||t<s)return null;const c=o+n-s+1,g=i+t-s+1;let l=0,r=0,d=0;for(let u=o;u<c;u++)for(let a=i;a<g;a++){const v=this._contiguousSequenceScore(u,a,s);v>0&&v>l&&(l=v,r=u,d=a)}return l>0?[r,d]:null}_contiguousSequenceScore(o,n,i){let t=0;for(let s=0;s<i;s++){if(!this.ElementsAreEqual(o+s,n+s))return 0;t+=this._originalStringElements[o+s].length}return t}_OriginalIsBoundary(o){return o<=0||o>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[o])}_OriginalRegionIsBoundary(o,n){if(this._OriginalIsBoundary(o)||this._OriginalIsBoundary(o-1))return!0;if(n>0){const i=o+n;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(o){return o<=0||o>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[o])}_ModifiedRegionIsBoundary(o,n){if(this._ModifiedIsBoundary(o)||this._ModifiedIsBoundary(o-1))return!0;if(n>0){const i=o+n;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(o,n,i,t){const s=this._OriginalRegionIsBoundary(o,n)?1:0,c=this._ModifiedRegionIsBoundary(i,t)?1:0;return s+c}ConcatenateChanges(o,n){const i=[];if(o.length===0||n.length===0)return n.length>0?n:o;if(this.ChangesOverlap(o[o.length-1],n[0],i)){const t=new Array(o.length+n.length-1);return m.Copy(o,0,t,0,o.length-1),t[o.length-1]=i[0],m.Copy(n,1,t,o.length,n.length-1),t}else{const t=new Array(o.length+n.length);return m.Copy(o,0,t,0,o.length),m.Copy(n,0,t,o.length,n.length),t}}ChangesOverlap(o,n,i){if(y.Assert(o.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),y.Assert(o.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),o.originalStart+o.originalLength>=n.originalStart||o.modifiedStart+o.modifiedLength>=n.modifiedStart){const t=o.originalStart;let s=o.originalLength;const c=o.modifiedStart;let g=o.modifiedLength;return o.originalStart+o.originalLength>=n.originalStart&&(s=n.originalStart+n.originalLength-o.originalStart),o.modifiedStart+o.modifiedLength>=n.modifiedStart&&(g=n.modifiedStart+n.modifiedLength-o.modifiedStart),i[0]=new f.DiffChange(t,s,c,g),!0}else return i[0]=null,!1}ClipDiagonalBound(o,n,i,t){if(o>=0&&o<t)return o;const s=i,c=t-i-1,g=n%2===0;if(o<0){const l=s%2===0;return g===l?0:1}else{const l=c%2===0;return g===l?t-1:t-2}}}e.LcsDiff=b}),define(ne[437],se([1,0,11]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=k;function k(y,m){if(y&&y[0]!==""){const w=L(y,m,"-"),b=L(y,m,"_");return w&&!b?D(y,m,"-"):!w&&b?D(y,m,"_"):y[0].toUpperCase()===y[0]?m.toUpperCase():y[0].toLowerCase()===y[0]?m.toLowerCase():f.containsUppercaseCharacter(y[0][0])&&m.length>0?m[0].toUpperCase()+m.substr(1):y[0][0].toUpperCase()!==y[0][0]&&m.length>0?m[0].toLowerCase()+m.substr(1):m}else return m}function L(y,m,w){return y[0].indexOf(w)!==-1&&m.indexOf(w)!==-1&&y[0].split(w).length===m.split(w).length}function D(y,m,w){const b=m.split(w),C=y[0].split(w);let o="";return b.forEach((n,i)=>{o+=k([C[i]],n)+w}),o.slice(0,-1)}}),define(ne[107],se([1,0,11]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(L){L[L.Ignore=0]="Ignore",L[L.Info=1]="Info",L[L.Warning=2]="Warning",L[L.Error=3]="Error"})(k||(k={})),function(L){const D="error",y="warning",m="warn",w="info",b="ignore";function C(n){return n?f.equalsIgnoreCase(D,n)?L.Error:f.equalsIgnoreCase(y,n)||f.equalsIgnoreCase(m,n)?L.Warning:f.equalsIgnoreCase(w,n)?L.Info:L.Ignore:L.Ignore}L.fromValue=C;function o(n){switch(n){case L.Error:return D;case L.Warning:return y;case L.Info:return w;default:return b}}L.toString=o}(k||(k={})),e.default=k}),define(ne[295],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(ne[220],se([1,0,11]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(C){return this._value=C,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(C){const o=C.charCodeAt(0),n=this._value.charCodeAt(this._pos);return o-n}value(){return this._value[this._pos]}}e.StringIterator=k;class L{constructor(C=!0){this._caseSensitive=C}reset(C){return this._value=C,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let C=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(C)this._from++;else break;else C=!1;return this}cmp(C){return this._caseSensitive?(0,f.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,f.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=L;class D{constructor(C=!0,o=!0){this._splitOnBackslash=C,this._caseSensitive=o}reset(C){this._from=0,this._to=0,this._value=C,this._valueLen=C.length;for(let o=C.length-1;o>=0;o--,this._valueLen--){const n=this._value.charCodeAt(o);if(!(n===47||this._splitOnBackslash&&n===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let C=!0;for(;this._to<this._valueLen;this._to++){const o=this._value.charCodeAt(this._to);if(o===47||this._splitOnBackslash&&o===92)if(C)this._from++;else break;else C=!1}return this}cmp(C){return this._caseSensitive?(0,f.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,f.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class y{constructor(C,o){this._ignorePathCasing=C,this._ignoreQueryAndFragment=o,this._states=[],this._stateIdx=0}reset(C){return this._value=C,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(C)),this._pathIterator.reset(C.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(C)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(C){if(this._states[this._stateIdx]===1)return(0,f.compareIgnoreCase)(C,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,f.compareIgnoreCase)(C,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(C);if(this._states[this._stateIdx]===4)return(0,f.compare)(C,this._value.query);if(this._states[this._stateIdx]===5)return(0,f.compare)(C,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=y;class m{constructor(){this.height=1}rotateLeft(){const C=this.right;return this.right=C.left,C.left=this,this.updateHeight(),C.updateHeight(),C}rotateRight(){const C=this.left;return this.left=C.right,C.right=this,this.updateHeight(),C.updateHeight(),C}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var C,o;return(o=(C=this.left)===null||C===void 0?void 0:C.height)!==null&&o!==void 0?o:0}get heightRight(){var C,o;return(o=(C=this.right)===null||C===void 0?void 0:C.height)!==null&&o!==void 0?o:0}}class w{static forUris(C=()=>!1,o=()=>!1){return new w(new y(C,o))}static forStrings(){return new w(new k)}static forConfigKeys(){return new w(new L)}constructor(C){this._iter=C}clear(){this._root=void 0}set(C,o){const n=this._iter.reset(C);let i;this._root||(this._root=new m,this._root.segment=n.value());const t=[];for(i=this._root;;){const c=n.cmp(i.segment);if(c>0)i.left||(i.left=new m,i.left.segment=n.value()),t.push([-1,i]),i=i.left;else if(c<0)i.right||(i.right=new m,i.right.segment=n.value()),t.push([1,i]),i=i.right;else if(n.hasNext())n.next(),i.mid||(i.mid=new m,i.mid.segment=n.value()),t.push([0,i]),i=i.mid;else break}const s=i.value;i.value=o,i.key=C;for(let c=t.length-1;c>=0;c--){const g=t[c][1];g.updateHeight();const l=g.balanceFactor();if(l<-1||l>1){const r=t[c][0],d=t[c+1][0];if(r===1&&d===1)t[c][1]=g.rotateLeft();else if(r===-1&&d===-1)t[c][1]=g.rotateRight();else if(r===1&&d===-1)g.right=t[c+1][1]=t[c+1][1].rotateRight(),t[c][1]=g.rotateLeft();else if(r===-1&&d===1)g.left=t[c+1][1]=t[c+1][1].rotateLeft(),t[c][1]=g.rotateRight();else throw new Error;if(c>0)switch(t[c-1][0]){case-1:t[c-1][1].left=t[c][1];break;case 1:t[c-1][1].right=t[c][1];break;case 0:t[c-1][1].mid=t[c][1];break}else this._root=t[0][1]}}return s}get(C){var o;return(o=this._getNode(C))===null||o===void 0?void 0:o.value}_getNode(C){const o=this._iter.reset(C);let n=this._root;for(;n;){const i=o.cmp(n.segment);if(i>0)n=n.left;else if(i<0)n=n.right;else if(o.hasNext())o.next(),n=n.mid;else break}return n}has(C){const o=this._getNode(C);return!(o?.value===void 0&&o?.mid===void 0)}delete(C){return this._delete(C,!1)}deleteSuperstr(C){return this._delete(C,!0)}_delete(C,o){var n;const i=this._iter.reset(C),t=[];let s=this._root;for(;s;){const c=i.cmp(s.segment);if(c>0)t.push([-1,s]),s=s.left;else if(c<0)t.push([1,s]),s=s.right;else if(i.hasNext())i.next(),t.push([0,s]),s=s.mid;else break}if(s){if(o?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const c=this._min(s.right);if(c.key){const{key:g,value:l,segment:r}=c;this._delete(c.key,!1),s.key=g,s.value=l,s.segment=r}}else{const c=(n=s.left)!==null&&n!==void 0?n:s.right;if(t.length>0){const[g,l]=t[t.length-1];switch(g){case-1:l.left=c;break;case 0:l.mid=c;break;case 1:l.right=c;break}}else this._root=c}for(let c=t.length-1;c>=0;c--){const g=t[c][1];g.updateHeight();const l=g.balanceFactor();if(l>1?(g.right.balanceFactor()>=0||(g.right=g.right.rotateRight()),t[c][1]=g.rotateLeft()):l<-1&&(g.left.balanceFactor()<=0||(g.left=g.left.rotateLeft()),t[c][1]=g.rotateRight()),c>0)switch(t[c-1][0]){case-1:t[c-1][1].left=t[c][1];break;case 1:t[c-1][1].right=t[c][1];break;case 0:t[c-1][1].mid=t[c][1];break}else this._root=t[0][1]}}}_min(C){for(;C.left;)C=C.left;return C}findSubstr(C){const o=this._iter.reset(C);let n=this._root,i;for(;n;){const t=o.cmp(n.segment);if(t>0)n=n.left;else if(t<0)n=n.right;else if(o.hasNext())o.next(),i=n.value||i,n=n.mid;else break}return n&&n.value||i}findSuperstr(C){return this._findSuperstrOrElement(C,!1)}_findSuperstrOrElement(C,o){const n=this._iter.reset(C);let i=this._root;for(;i;){const t=n.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(n.hasNext())n.next(),i=i.mid;else return i.mid?this._entries(i.mid):o?i.value:void 0}}forEach(C){for(const[o,n]of this)C(n,o)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(C){const o=[];return this._dfsEntries(C,o),o[Symbol.iterator]()}_dfsEntries(C,o){C&&(C.left&&this._dfsEntries(C.left,o),C.value&&o.push([C.key,C.value]),C.mid&&this._dfsEntries(C.mid,o),C.right&&this._dfsEntries(C.right,o))}}e.TernarySearchTree=w}),define(ne[438],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TfIdfCalculator=void 0,e.normalizeTfIdfScores=L;function f(D){var y;const m=new Map;for(const w of D)m.set(w,((y=m.get(w))!==null&&y!==void 0?y:0)+1);return m}class k{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(y,m){const w=this.computeEmbedding(y),b=new Map,C=[];for(const[o,n]of this.documents){if(m.isCancellationRequested)return[];for(const i of n.chunks){const t=this.computeSimilarityScore(i,w,b);t>0&&C.push({key:o,score:t})}}return C}static termFrequencies(y){return f(k.splitTerms(y))}static*splitTerms(y){const m=w=>w.toLowerCase();for(const[w]of y.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield m(w);const b=w.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(b.length>1)for(const C of b)C.length>2&&/\p{Letter}{3,}/gu.test(C)&&(yield m(C))}}updateDocuments(y){var m;for(const{key:w}of y)this.deleteDocument(w);for(const w of y){const b=[];for(const C of w.textChunks){const o=k.termFrequencies(C);for(const n of o.keys())this.chunkOccurrences.set(n,((m=this.chunkOccurrences.get(n))!==null&&m!==void 0?m:0)+1);b.push({text:C,tf:o})}this.chunkCount+=b.length,this.documents.set(w.key,{chunks:b})}return this}deleteDocument(y){const m=this.documents.get(y);if(m){this.documents.delete(y),this.chunkCount-=m.chunks.length;for(const w of m.chunks)for(const b of w.tf.keys()){const C=this.chunkOccurrences.get(b);if(typeof C=="number"){const o=C-1;o<=0?this.chunkOccurrences.delete(b):this.chunkOccurrences.set(b,o)}}}}computeSimilarityScore(y,m,w){let b=0;for(const[C,o]of Object.entries(m)){const n=y.tf.get(C);if(!n)continue;let i=w.get(C);typeof i!="number"&&(i=this.computeIdf(C),w.set(C,i));const t=n*i;b+=t*o}return b}computeEmbedding(y){const m=k.termFrequencies(y);return this.computeTfidf(m)}computeIdf(y){var m;const w=(m=this.chunkOccurrences.get(y))!==null&&m!==void 0?m:0;return w>0?Math.log((this.chunkCount+1)/w):0}computeTfidf(y){const m=Object.create(null);for(const[w,b]of y){const C=this.computeIdf(w);C>0&&(m[w]=b*C)}return m}}e.TfIdfCalculator=k;function L(D){var y,m;const w=D.slice(0);w.sort((C,o)=>o.score-C.score);const b=(m=(y=w[0])===null||y===void 0?void 0:y.score)!==null&&m!==void 0?m:0;if(b>0)for(const C of w)C.score/=b;return w}}),define(ne[20],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=f,e.isObject=k,e.isTypedArray=L,e.isNumber=D,e.isIterable=y,e.isBoolean=m,e.isUndefined=w,e.isDefined=b,e.isUndefinedOrNull=C,e.assertType=o,e.assertIsDefined=n,e.isFunction=i,e.validateConstraints=t,e.validateConstraint=s;function f(c){return typeof c=="string"}function k(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)&&!(c instanceof RegExp)&&!(c instanceof Date)}function L(c){const g=Object.getPrototypeOf(Uint8Array);return typeof c=="object"&&c instanceof g}function D(c){return typeof c=="number"&&!isNaN(c)}function y(c){return!!c&&typeof c[Symbol.iterator]=="function"}function m(c){return c===!0||c===!1}function w(c){return typeof c>"u"}function b(c){return!C(c)}function C(c){return w(c)||c===null}function o(c,g){if(!c)throw new Error(g?`Unexpected type, expected '${g}'`:"Unexpected type")}function n(c){if(C(c))throw new Error("Assertion Failed: argument is undefined or null");return c}function i(c){return typeof c=="function"}function t(c,g){const l=Math.min(c.length,g.length);for(let r=0;r<l;r++)s(c[r],g[r])}function s(c,g){if(f(g)){if(typeof c!==g)throw new Error(`argument does not match constraint: typeof ${g}`)}else if(i(g)){try{if(c instanceof g)return}catch{}if(!C(c)&&c.constructor===g||g.length===1&&g.call(void 0,c)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}}),define(ne[187],se([1,0,20]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=L,e.getCodiconFontCharacters=D;const k=Object.create(null);function L(y,m){if((0,f.isString)(m)){const w=k[m];if(w===void 0)throw new Error(`${y} references an unknown codicon: ${m}`);m=w}return k[y]=m,{id:y}}function D(){return k}}),define(ne[439],se([1,0,187]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.codiconsLibrary=void 0,e.codiconsLibrary={add:(0,f.register)("add",6e4),plus:(0,f.register)("plus",6e4),gistNew:(0,f.register)("gist-new",6e4),repoCreate:(0,f.register)("repo-create",6e4),lightbulb:(0,f.register)("lightbulb",60001),lightBulb:(0,f.register)("light-bulb",60001),repo:(0,f.register)("repo",60002),repoDelete:(0,f.register)("repo-delete",60002),gistFork:(0,f.register)("gist-fork",60003),repoForked:(0,f.register)("repo-forked",60003),gitPullRequest:(0,f.register)("git-pull-request",60004),gitPullRequestAbandoned:(0,f.register)("git-pull-request-abandoned",60004),recordKeys:(0,f.register)("record-keys",60005),keyboard:(0,f.register)("keyboard",60005),tag:(0,f.register)("tag",60006),gitPullRequestLabel:(0,f.register)("git-pull-request-label",60006),tagAdd:(0,f.register)("tag-add",60006),tagRemove:(0,f.register)("tag-remove",60006),person:(0,f.register)("person",60007),personFollow:(0,f.register)("person-follow",60007),personOutline:(0,f.register)("person-outline",60007),personFilled:(0,f.register)("person-filled",60007),gitBranch:(0,f.register)("git-branch",60008),gitBranchCreate:(0,f.register)("git-branch-create",60008),gitBranchDelete:(0,f.register)("git-branch-delete",60008),sourceControl:(0,f.register)("source-control",60008),mirror:(0,f.register)("mirror",60009),mirrorPublic:(0,f.register)("mirror-public",60009),star:(0,f.register)("star",60010),starAdd:(0,f.register)("star-add",60010),starDelete:(0,f.register)("star-delete",60010),starEmpty:(0,f.register)("star-empty",60010),comment:(0,f.register)("comment",60011),commentAdd:(0,f.register)("comment-add",60011),alert:(0,f.register)("alert",60012),warning:(0,f.register)("warning",60012),search:(0,f.register)("search",60013),searchSave:(0,f.register)("search-save",60013),logOut:(0,f.register)("log-out",60014),signOut:(0,f.register)("sign-out",60014),logIn:(0,f.register)("log-in",60015),signIn:(0,f.register)("sign-in",60015),eye:(0,f.register)("eye",60016),eyeUnwatch:(0,f.register)("eye-unwatch",60016),eyeWatch:(0,f.register)("eye-watch",60016),circleFilled:(0,f.register)("circle-filled",60017),primitiveDot:(0,f.register)("primitive-dot",60017),closeDirty:(0,f.register)("close-dirty",60017),debugBreakpoint:(0,f.register)("debug-breakpoint",60017),debugBreakpointDisabled:(0,f.register)("debug-breakpoint-disabled",60017),debugHint:(0,f.register)("debug-hint",60017),terminalDecorationSuccess:(0,f.register)("terminal-decoration-success",60017),primitiveSquare:(0,f.register)("primitive-square",60018),edit:(0,f.register)("edit",60019),pencil:(0,f.register)("pencil",60019),info:(0,f.register)("info",60020),issueOpened:(0,f.register)("issue-opened",60020),gistPrivate:(0,f.register)("gist-private",60021),gitForkPrivate:(0,f.register)("git-fork-private",60021),lock:(0,f.register)("lock",60021),mirrorPrivate:(0,f.register)("mirror-private",60021),close:(0,f.register)("close",60022),removeClose:(0,f.register)("remove-close",60022),x:(0,f.register)("x",60022),repoSync:(0,f.register)("repo-sync",60023),sync:(0,f.register)("sync",60023),clone:(0,f.register)("clone",60024),desktopDownload:(0,f.register)("desktop-download",60024),beaker:(0,f.register)("beaker",60025),microscope:(0,f.register)("microscope",60025),vm:(0,f.register)("vm",60026),deviceDesktop:(0,f.register)("device-desktop",60026),file:(0,f.register)("file",60027),fileText:(0,f.register)("file-text",60027),more:(0,f.register)("more",60028),ellipsis:(0,f.register)("ellipsis",60028),kebabHorizontal:(0,f.register)("kebab-horizontal",60028),mailReply:(0,f.register)("mail-reply",60029),reply:(0,f.register)("reply",60029),organization:(0,f.register)("organization",60030),organizationFilled:(0,f.register)("organization-filled",60030),organizationOutline:(0,f.register)("organization-outline",60030),newFile:(0,f.register)("new-file",60031),fileAdd:(0,f.register)("file-add",60031),newFolder:(0,f.register)("new-folder",60032),fileDirectoryCreate:(0,f.register)("file-directory-create",60032),trash:(0,f.register)("trash",60033),trashcan:(0,f.register)("trashcan",60033),history:(0,f.register)("history",60034),clock:(0,f.register)("clock",60034),folder:(0,f.register)("folder",60035),fileDirectory:(0,f.register)("file-directory",60035),symbolFolder:(0,f.register)("symbol-folder",60035),logoGithub:(0,f.register)("logo-github",60036),markGithub:(0,f.register)("mark-github",60036),github:(0,f.register)("github",60036),terminal:(0,f.register)("terminal",60037),console:(0,f.register)("console",60037),repl:(0,f.register)("repl",60037),zap:(0,f.register)("zap",60038),symbolEvent:(0,f.register)("symbol-event",60038),error:(0,f.register)("error",60039),stop:(0,f.register)("stop",60039),variable:(0,f.register)("variable",60040),symbolVariable:(0,f.register)("symbol-variable",60040),array:(0,f.register)("array",60042),symbolArray:(0,f.register)("symbol-array",60042),symbolModule:(0,f.register)("symbol-module",60043),symbolPackage:(0,f.register)("symbol-package",60043),symbolNamespace:(0,f.register)("symbol-namespace",60043),symbolObject:(0,f.register)("symbol-object",60043),symbolMethod:(0,f.register)("symbol-method",60044),symbolFunction:(0,f.register)("symbol-function",60044),symbolConstructor:(0,f.register)("symbol-constructor",60044),symbolBoolean:(0,f.register)("symbol-boolean",60047),symbolNull:(0,f.register)("symbol-null",60047),symbolNumeric:(0,f.register)("symbol-numeric",60048),symbolNumber:(0,f.register)("symbol-number",60048),symbolStructure:(0,f.register)("symbol-structure",60049),symbolStruct:(0,f.register)("symbol-struct",60049),symbolParameter:(0,f.register)("symbol-parameter",60050),symbolTypeParameter:(0,f.register)("symbol-type-parameter",60050),symbolKey:(0,f.register)("symbol-key",60051),symbolText:(0,f.register)("symbol-text",60051),symbolReference:(0,f.register)("symbol-reference",60052),goToFile:(0,f.register)("go-to-file",60052),symbolEnum:(0,f.register)("symbol-enum",60053),symbolValue:(0,f.register)("symbol-value",60053),symbolRuler:(0,f.register)("symbol-ruler",60054),symbolUnit:(0,f.register)("symbol-unit",60054),activateBreakpoints:(0,f.register)("activate-breakpoints",60055),archive:(0,f.register)("archive",60056),arrowBoth:(0,f.register)("arrow-both",60057),arrowDown:(0,f.register)("arrow-down",60058),arrowLeft:(0,f.register)("arrow-left",60059),arrowRight:(0,f.register)("arrow-right",60060),arrowSmallDown:(0,f.register)("arrow-small-down",60061),arrowSmallLeft:(0,f.register)("arrow-small-left",60062),arrowSmallRight:(0,f.register)("arrow-small-right",60063),arrowSmallUp:(0,f.register)("arrow-small-up",60064),arrowUp:(0,f.register)("arrow-up",60065),bell:(0,f.register)("bell",60066),bold:(0,f.register)("bold",60067),book:(0,f.register)("book",60068),bookmark:(0,f.register)("bookmark",60069),debugBreakpointConditionalUnverified:(0,f.register)("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:(0,f.register)("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:(0,f.register)("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:(0,f.register)("debug-breakpoint-data-unverified",60072),debugBreakpointData:(0,f.register)("debug-breakpoint-data",60073),debugBreakpointDataDisabled:(0,f.register)("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:(0,f.register)("debug-breakpoint-log-unverified",60074),debugBreakpointLog:(0,f.register)("debug-breakpoint-log",60075),debugBreakpointLogDisabled:(0,f.register)("debug-breakpoint-log-disabled",60075),briefcase:(0,f.register)("briefcase",60076),broadcast:(0,f.register)("broadcast",60077),browser:(0,f.register)("browser",60078),bug:(0,f.register)("bug",60079),calendar:(0,f.register)("calendar",60080),caseSensitive:(0,f.register)("case-sensitive",60081),check:(0,f.register)("check",60082),checklist:(0,f.register)("checklist",60083),chevronDown:(0,f.register)("chevron-down",60084),chevronLeft:(0,f.register)("chevron-left",60085),chevronRight:(0,f.register)("chevron-right",60086),chevronUp:(0,f.register)("chevron-up",60087),chromeClose:(0,f.register)("chrome-close",60088),chromeMaximize:(0,f.register)("chrome-maximize",60089),chromeMinimize:(0,f.register)("chrome-minimize",60090),chromeRestore:(0,f.register)("chrome-restore",60091),circleOutline:(0,f.register)("circle-outline",60092),circle:(0,f.register)("circle",60092),debugBreakpointUnverified:(0,f.register)("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:(0,f.register)("terminal-decoration-incomplete",60092),circleSlash:(0,f.register)("circle-slash",60093),circuitBoard:(0,f.register)("circuit-board",60094),clearAll:(0,f.register)("clear-all",60095),clippy:(0,f.register)("clippy",60096),closeAll:(0,f.register)("close-all",60097),cloudDownload:(0,f.register)("cloud-download",60098),cloudUpload:(0,f.register)("cloud-upload",60099),code:(0,f.register)("code",60100),collapseAll:(0,f.register)("collapse-all",60101),colorMode:(0,f.register)("color-mode",60102),commentDiscussion:(0,f.register)("comment-discussion",60103),creditCard:(0,f.register)("credit-card",60105),dash:(0,f.register)("dash",60108),dashboard:(0,f.register)("dashboard",60109),database:(0,f.register)("database",60110),debugContinue:(0,f.register)("debug-continue",60111),debugDisconnect:(0,f.register)("debug-disconnect",60112),debugPause:(0,f.register)("debug-pause",60113),debugRestart:(0,f.register)("debug-restart",60114),debugStart:(0,f.register)("debug-start",60115),debugStepInto:(0,f.register)("debug-step-into",60116),debugStepOut:(0,f.register)("debug-step-out",60117),debugStepOver:(0,f.register)("debug-step-over",60118),debugStop:(0,f.register)("debug-stop",60119),debug:(0,f.register)("debug",60120),deviceCameraVideo:(0,f.register)("device-camera-video",60121),deviceCamera:(0,f.register)("device-camera",60122),deviceMobile:(0,f.register)("device-mobile",60123),diffAdded:(0,f.register)("diff-added",60124),diffIgnored:(0,f.register)("diff-ignored",60125),diffModified:(0,f.register)("diff-modified",60126),diffRemoved:(0,f.register)("diff-removed",60127),diffRenamed:(0,f.register)("diff-renamed",60128),diff:(0,f.register)("diff",60129),diffSidebyside:(0,f.register)("diff-sidebyside",60129),discard:(0,f.register)("discard",60130),editorLayout:(0,f.register)("editor-layout",60131),emptyWindow:(0,f.register)("empty-window",60132),exclude:(0,f.register)("exclude",60133),extensions:(0,f.register)("extensions",60134),eyeClosed:(0,f.register)("eye-closed",60135),fileBinary:(0,f.register)("file-binary",60136),fileCode:(0,f.register)("file-code",60137),fileMedia:(0,f.register)("file-media",60138),filePdf:(0,f.register)("file-pdf",60139),fileSubmodule:(0,f.register)("file-submodule",60140),fileSymlinkDirectory:(0,f.register)("file-symlink-directory",60141),fileSymlinkFile:(0,f.register)("file-symlink-file",60142),fileZip:(0,f.register)("file-zip",60143),files:(0,f.register)("files",60144),filter:(0,f.register)("filter",60145),flame:(0,f.register)("flame",60146),foldDown:(0,f.register)("fold-down",60147),foldUp:(0,f.register)("fold-up",60148),fold:(0,f.register)("fold",60149),folderActive:(0,f.register)("folder-active",60150),folderOpened:(0,f.register)("folder-opened",60151),gear:(0,f.register)("gear",60152),gift:(0,f.register)("gift",60153),gistSecret:(0,f.register)("gist-secret",60154),gist:(0,f.register)("gist",60155),gitCommit:(0,f.register)("git-commit",60156),gitCompare:(0,f.register)("git-compare",60157),compareChanges:(0,f.register)("compare-changes",60157),gitMerge:(0,f.register)("git-merge",60158),githubAction:(0,f.register)("github-action",60159),githubAlt:(0,f.register)("github-alt",60160),globe:(0,f.register)("globe",60161),grabber:(0,f.register)("grabber",60162),graph:(0,f.register)("graph",60163),gripper:(0,f.register)("gripper",60164),heart:(0,f.register)("heart",60165),home:(0,f.register)("home",60166),horizontalRule:(0,f.register)("horizontal-rule",60167),hubot:(0,f.register)("hubot",60168),inbox:(0,f.register)("inbox",60169),issueReopened:(0,f.register)("issue-reopened",60171),issues:(0,f.register)("issues",60172),italic:(0,f.register)("italic",60173),jersey:(0,f.register)("jersey",60174),json:(0,f.register)("json",60175),kebabVertical:(0,f.register)("kebab-vertical",60176),key:(0,f.register)("key",60177),law:(0,f.register)("law",60178),lightbulbAutofix:(0,f.register)("lightbulb-autofix",60179),linkExternal:(0,f.register)("link-external",60180),link:(0,f.register)("link",60181),listOrdered:(0,f.register)("list-ordered",60182),listUnordered:(0,f.register)("list-unordered",60183),liveShare:(0,f.register)("live-share",60184),loading:(0,f.register)("loading",60185),location:(0,f.register)("location",60186),mailRead:(0,f.register)("mail-read",60187),mail:(0,f.register)("mail",60188),markdown:(0,f.register)("markdown",60189),megaphone:(0,f.register)("megaphone",60190),mention:(0,f.register)("mention",60191),milestone:(0,f.register)("milestone",60192),gitPullRequestMilestone:(0,f.register)("git-pull-request-milestone",60192),mortarBoard:(0,f.register)("mortar-board",60193),move:(0,f.register)("move",60194),multipleWindows:(0,f.register)("multiple-windows",60195),mute:(0,f.register)("mute",60196),noNewline:(0,f.register)("no-newline",60197),note:(0,f.register)("note",60198),octoface:(0,f.register)("octoface",60199),openPreview:(0,f.register)("open-preview",60200),package:(0,f.register)("package",60201),paintcan:(0,f.register)("paintcan",60202),pin:(0,f.register)("pin",60203),play:(0,f.register)("play",60204),run:(0,f.register)("run",60204),plug:(0,f.register)("plug",60205),preserveCase:(0,f.register)("preserve-case",60206),preview:(0,f.register)("preview",60207),project:(0,f.register)("project",60208),pulse:(0,f.register)("pulse",60209),question:(0,f.register)("question",60210),quote:(0,f.register)("quote",60211),radioTower:(0,f.register)("radio-tower",60212),reactions:(0,f.register)("reactions",60213),references:(0,f.register)("references",60214),refresh:(0,f.register)("refresh",60215),regex:(0,f.register)("regex",60216),remoteExplorer:(0,f.register)("remote-explorer",60217),remote:(0,f.register)("remote",60218),remove:(0,f.register)("remove",60219),replaceAll:(0,f.register)("replace-all",60220),replace:(0,f.register)("replace",60221),repoClone:(0,f.register)("repo-clone",60222),repoForcePush:(0,f.register)("repo-force-push",60223),repoPull:(0,f.register)("repo-pull",60224),repoPush:(0,f.register)("repo-push",60225),report:(0,f.register)("report",60226),requestChanges:(0,f.register)("request-changes",60227),rocket:(0,f.register)("rocket",60228),rootFolderOpened:(0,f.register)("root-folder-opened",60229),rootFolder:(0,f.register)("root-folder",60230),rss:(0,f.register)("rss",60231),ruby:(0,f.register)("ruby",60232),saveAll:(0,f.register)("save-all",60233),saveAs:(0,f.register)("save-as",60234),save:(0,f.register)("save",60235),screenFull:(0,f.register)("screen-full",60236),screenNormal:(0,f.register)("screen-normal",60237),searchStop:(0,f.register)("search-stop",60238),server:(0,f.register)("server",60240),settingsGear:(0,f.register)("settings-gear",60241),settings:(0,f.register)("settings",60242),shield:(0,f.register)("shield",60243),smiley:(0,f.register)("smiley",60244),sortPrecedence:(0,f.register)("sort-precedence",60245),splitHorizontal:(0,f.register)("split-horizontal",60246),splitVertical:(0,f.register)("split-vertical",60247),squirrel:(0,f.register)("squirrel",60248),starFull:(0,f.register)("star-full",60249),starHalf:(0,f.register)("star-half",60250),symbolClass:(0,f.register)("symbol-class",60251),symbolColor:(0,f.register)("symbol-color",60252),symbolConstant:(0,f.register)("symbol-constant",60253),symbolEnumMember:(0,f.register)("symbol-enum-member",60254),symbolField:(0,f.register)("symbol-field",60255),symbolFile:(0,f.register)("symbol-file",60256),symbolInterface:(0,f.register)("symbol-interface",60257),symbolKeyword:(0,f.register)("symbol-keyword",60258),symbolMisc:(0,f.register)("symbol-misc",60259),symbolOperator:(0,f.register)("symbol-operator",60260),symbolProperty:(0,f.register)("symbol-property",60261),wrench:(0,f.register)("wrench",60261),wrenchSubaction:(0,f.register)("wrench-subaction",60261),symbolSnippet:(0,f.register)("symbol-snippet",60262),tasklist:(0,f.register)("tasklist",60263),telescope:(0,f.register)("telescope",60264),textSize:(0,f.register)("text-size",60265),threeBars:(0,f.register)("three-bars",60266),thumbsdown:(0,f.register)("thumbsdown",60267),thumbsup:(0,f.register)("thumbsup",60268),tools:(0,f.register)("tools",60269),triangleDown:(0,f.register)("triangle-down",60270),triangleLeft:(0,f.register)("triangle-left",60271),triangleRight:(0,f.register)("triangle-right",60272),triangleUp:(0,f.register)("triangle-up",60273),twitter:(0,f.register)("twitter",60274),unfold:(0,f.register)("unfold",60275),unlock:(0,f.register)("unlock",60276),unmute:(0,f.register)("unmute",60277),unverified:(0,f.register)("unverified",60278),verified:(0,f.register)("verified",60279),versions:(0,f.register)("versions",60280),vmActive:(0,f.register)("vm-active",60281),vmOutline:(0,f.register)("vm-outline",60282),vmRunning:(0,f.register)("vm-running",60283),watch:(0,f.register)("watch",60284),whitespace:(0,f.register)("whitespace",60285),wholeWord:(0,f.register)("whole-word",60286),window:(0,f.register)("window",60287),wordWrap:(0,f.register)("word-wrap",60288),zoomIn:(0,f.register)("zoom-in",60289),zoomOut:(0,f.register)("zoom-out",60290),listFilter:(0,f.register)("list-filter",60291),listFlat:(0,f.register)("list-flat",60292),listSelection:(0,f.register)("list-selection",60293),selection:(0,f.register)("selection",60293),listTree:(0,f.register)("list-tree",60294),debugBreakpointFunctionUnverified:(0,f.register)("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:(0,f.register)("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:(0,f.register)("debug-breakpoint-function-disabled",60296),debugStackframeActive:(0,f.register)("debug-stackframe-active",60297),circleSmallFilled:(0,f.register)("circle-small-filled",60298),debugStackframeDot:(0,f.register)("debug-stackframe-dot",60298),terminalDecorationMark:(0,f.register)("terminal-decoration-mark",60298),debugStackframe:(0,f.register)("debug-stackframe",60299),debugStackframeFocused:(0,f.register)("debug-stackframe-focused",60299),debugBreakpointUnsupported:(0,f.register)("debug-breakpoint-unsupported",60300),symbolString:(0,f.register)("symbol-string",60301),debugReverseContinue:(0,f.register)("debug-reverse-continue",60302),debugStepBack:(0,f.register)("debug-step-back",60303),debugRestartFrame:(0,f.register)("debug-restart-frame",60304),debugAlt:(0,f.register)("debug-alt",60305),callIncoming:(0,f.register)("call-incoming",60306),callOutgoing:(0,f.register)("call-outgoing",60307),menu:(0,f.register)("menu",60308),expandAll:(0,f.register)("expand-all",60309),feedback:(0,f.register)("feedback",60310),gitPullRequestReviewer:(0,f.register)("git-pull-request-reviewer",60310),groupByRefType:(0,f.register)("group-by-ref-type",60311),ungroupByRefType:(0,f.register)("ungroup-by-ref-type",60312),account:(0,f.register)("account",60313),gitPullRequestAssignee:(0,f.register)("git-pull-request-assignee",60313),bellDot:(0,f.register)("bell-dot",60314),debugConsole:(0,f.register)("debug-console",60315),library:(0,f.register)("library",60316),output:(0,f.register)("output",60317),runAll:(0,f.register)("run-all",60318),syncIgnored:(0,f.register)("sync-ignored",60319),pinned:(0,f.register)("pinned",60320),githubInverted:(0,f.register)("github-inverted",60321),serverProcess:(0,f.register)("server-process",60322),serverEnvironment:(0,f.register)("server-environment",60323),pass:(0,f.register)("pass",60324),issueClosed:(0,f.register)("issue-closed",60324),stopCircle:(0,f.register)("stop-circle",60325),playCircle:(0,f.register)("play-circle",60326),record:(0,f.register)("record",60327),debugAltSmall:(0,f.register)("debug-alt-small",60328),vmConnect:(0,f.register)("vm-connect",60329),cloud:(0,f.register)("cloud",60330),merge:(0,f.register)("merge",60331),export:(0,f.register)("export",60332),graphLeft:(0,f.register)("graph-left",60333),magnet:(0,f.register)("magnet",60334),notebook:(0,f.register)("notebook",60335),redo:(0,f.register)("redo",60336),checkAll:(0,f.register)("check-all",60337),pinnedDirty:(0,f.register)("pinned-dirty",60338),passFilled:(0,f.register)("pass-filled",60339),circleLargeFilled:(0,f.register)("circle-large-filled",60340),circleLarge:(0,f.register)("circle-large",60341),circleLargeOutline:(0,f.register)("circle-large-outline",60341),combine:(0,f.register)("combine",60342),gather:(0,f.register)("gather",60342),table:(0,f.register)("table",60343),variableGroup:(0,f.register)("variable-group",60344),typeHierarchy:(0,f.register)("type-hierarchy",60345),typeHierarchySub:(0,f.register)("type-hierarchy-sub",60346),typeHierarchySuper:(0,f.register)("type-hierarchy-super",60347),gitPullRequestCreate:(0,f.register)("git-pull-request-create",60348),runAbove:(0,f.register)("run-above",60349),runBelow:(0,f.register)("run-below",60350),notebookTemplate:(0,f.register)("notebook-template",60351),debugRerun:(0,f.register)("debug-rerun",60352),workspaceTrusted:(0,f.register)("workspace-trusted",60353),workspaceUntrusted:(0,f.register)("workspace-untrusted",60354),workspaceUnknown:(0,f.register)("workspace-unknown",60355),terminalCmd:(0,f.register)("terminal-cmd",60356),terminalDebian:(0,f.register)("terminal-debian",60357),terminalLinux:(0,f.register)("terminal-linux",60358),terminalPowershell:(0,f.register)("terminal-powershell",60359),terminalTmux:(0,f.register)("terminal-tmux",60360),terminalUbuntu:(0,f.register)("terminal-ubuntu",60361),terminalBash:(0,f.register)("terminal-bash",60362),arrowSwap:(0,f.register)("arrow-swap",60363),copy:(0,f.register)("copy",60364),personAdd:(0,f.register)("person-add",60365),filterFilled:(0,f.register)("filter-filled",60366),wand:(0,f.register)("wand",60367),debugLineByLine:(0,f.register)("debug-line-by-line",60368),inspect:(0,f.register)("inspect",60369),layers:(0,f.register)("layers",60370),layersDot:(0,f.register)("layers-dot",60371),layersActive:(0,f.register)("layers-active",60372),compass:(0,f.register)("compass",60373),compassDot:(0,f.register)("compass-dot",60374),compassActive:(0,f.register)("compass-active",60375),azure:(0,f.register)("azure",60376),issueDraft:(0,f.register)("issue-draft",60377),gitPullRequestClosed:(0,f.register)("git-pull-request-closed",60378),gitPullRequestDraft:(0,f.register)("git-pull-request-draft",60379),debugAll:(0,f.register)("debug-all",60380),debugCoverage:(0,f.register)("debug-coverage",60381),runErrors:(0,f.register)("run-errors",60382),folderLibrary:(0,f.register)("folder-library",60383),debugContinueSmall:(0,f.register)("debug-continue-small",60384),beakerStop:(0,f.register)("beaker-stop",60385),graphLine:(0,f.register)("graph-line",60386),graphScatter:(0,f.register)("graph-scatter",60387),pieChart:(0,f.register)("pie-chart",60388),bracket:(0,f.register)("bracket",60175),bracketDot:(0,f.register)("bracket-dot",60389),bracketError:(0,f.register)("bracket-error",60390),lockSmall:(0,f.register)("lock-small",60391),azureDevops:(0,f.register)("azure-devops",60392),verifiedFilled:(0,f.register)("verified-filled",60393),newline:(0,f.register)("newline",60394),layout:(0,f.register)("layout",60395),layoutActivitybarLeft:(0,f.register)("layout-activitybar-left",60396),layoutActivitybarRight:(0,f.register)("layout-activitybar-right",60397),layoutPanelLeft:(0,f.register)("layout-panel-left",60398),layoutPanelCenter:(0,f.register)("layout-panel-center",60399),layoutPanelJustify:(0,f.register)("layout-panel-justify",60400),layoutPanelRight:(0,f.register)("layout-panel-right",60401),layoutPanel:(0,f.register)("layout-panel",60402),layoutSidebarLeft:(0,f.register)("layout-sidebar-left",60403),layoutSidebarRight:(0,f.register)("layout-sidebar-right",60404),layoutStatusbar:(0,f.register)("layout-statusbar",60405),layoutMenubar:(0,f.register)("layout-menubar",60406),layoutCentered:(0,f.register)("layout-centered",60407),target:(0,f.register)("target",60408),indent:(0,f.register)("indent",60409),recordSmall:(0,f.register)("record-small",60410),errorSmall:(0,f.register)("error-small",60411),terminalDecorationError:(0,f.register)("terminal-decoration-error",60411),arrowCircleDown:(0,f.register)("arrow-circle-down",60412),arrowCircleLeft:(0,f.register)("arrow-circle-left",60413),arrowCircleRight:(0,f.register)("arrow-circle-right",60414),arrowCircleUp:(0,f.register)("arrow-circle-up",60415),layoutSidebarRightOff:(0,f.register)("layout-sidebar-right-off",60416),layoutPanelOff:(0,f.register)("layout-panel-off",60417),layoutSidebarLeftOff:(0,f.register)("layout-sidebar-left-off",60418),blank:(0,f.register)("blank",60419),heartFilled:(0,f.register)("heart-filled",60420),map:(0,f.register)("map",60421),mapHorizontal:(0,f.register)("map-horizontal",60421),foldHorizontal:(0,f.register)("fold-horizontal",60421),mapFilled:(0,f.register)("map-filled",60422),mapHorizontalFilled:(0,f.register)("map-horizontal-filled",60422),foldHorizontalFilled:(0,f.register)("fold-horizontal-filled",60422),circleSmall:(0,f.register)("circle-small",60423),bellSlash:(0,f.register)("bell-slash",60424),bellSlashDot:(0,f.register)("bell-slash-dot",60425),commentUnresolved:(0,f.register)("comment-unresolved",60426),gitPullRequestGoToChanges:(0,f.register)("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:(0,f.register)("git-pull-request-new-changes",60428),searchFuzzy:(0,f.register)("search-fuzzy",60429),commentDraft:(0,f.register)("comment-draft",60430),send:(0,f.register)("send",60431),sparkle:(0,f.register)("sparkle",60432),insert:(0,f.register)("insert",60433),mic:(0,f.register)("mic",60434),thumbsdownFilled:(0,f.register)("thumbsdown-filled",60435),thumbsupFilled:(0,f.register)("thumbsup-filled",60436),coffee:(0,f.register)("coffee",60437),snake:(0,f.register)("snake",60438),game:(0,f.register)("game",60439),vr:(0,f.register)("vr",60440),chip:(0,f.register)("chip",60441),piano:(0,f.register)("piano",60442),music:(0,f.register)("music",60443),micFilled:(0,f.register)("mic-filled",60444),repoFetch:(0,f.register)("repo-fetch",60445),copilot:(0,f.register)("copilot",60446),lightbulbSparkle:(0,f.register)("lightbulb-sparkle",60447),robot:(0,f.register)("robot",60448),sparkleFilled:(0,f.register)("sparkle-filled",60449),diffSingle:(0,f.register)("diff-single",60450),diffMultiple:(0,f.register)("diff-multiple",60451),surroundWith:(0,f.register)("surround-with",60452),share:(0,f.register)("share",60453),gitStash:(0,f.register)("git-stash",60454),gitStashApply:(0,f.register)("git-stash-apply",60455),gitStashPop:(0,f.register)("git-stash-pop",60456),vscode:(0,f.register)("vscode",60457),vscodeInsiders:(0,f.register)("vscode-insiders",60458),codeOss:(0,f.register)("code-oss",60459),runCoverage:(0,f.register)("run-coverage",60460),runAllCoverage:(0,f.register)("run-all-coverage",60461),coverage:(0,f.register)("coverage",60462),githubProject:(0,f.register)("github-project",60463),mapVertical:(0,f.register)("map-vertical",60464),foldVertical:(0,f.register)("fold-vertical",60464),mapVerticalFilled:(0,f.register)("map-vertical-filled",60465),foldVerticalFilled:(0,f.register)("fold-vertical-filled",60465),goToSearch:(0,f.register)("go-to-search",60466),percentage:(0,f.register)("percentage",60467),sortPercentage:(0,f.register)("sort-percentage",60467),attach:(0,f.register)("attach",60468)}}),define(ne[26],se([1,0,187,439]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.codiconsDerived=void 0,e.codiconsDerived={dialogError:(0,f.register)("dialog-error","error"),dialogWarning:(0,f.register)("dialog-warning","warning"),dialogInfo:(0,f.register)("dialog-info","info"),dialogClose:(0,f.register)("dialog-close","close"),treeItemExpanded:(0,f.register)("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:(0,f.register)("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:(0,f.register)("tree-filter-on-type-off","list-selection"),treeFilterClear:(0,f.register)("tree-filter-clear","close"),treeItemLoading:(0,f.register)("tree-item-loading","loading"),menuSelection:(0,f.register)("menu-selection","check"),menuSubmenu:(0,f.register)("menu-submenu","chevron-right"),menuBarMore:(0,f.register)("menubar-more","more"),scrollbarButtonLeft:(0,f.register)("scrollbar-button-left","triangle-left"),scrollbarButtonRight:(0,f.register)("scrollbar-button-right","triangle-right"),scrollbarButtonUp:(0,f.register)("scrollbar-button-up","triangle-up"),scrollbarButtonDown:(0,f.register)("scrollbar-button-down","triangle-down"),toolBarMore:(0,f.register)("toolbar-more","more"),quickInputBack:(0,f.register)("quick-input-back","arrow-left"),dropDownButton:(0,f.register)("drop-down-button",60084),symbolCustomColor:(0,f.register)("symbol-customcolor",60252),exportIcon:(0,f.register)("export",60332),workspaceUnspecified:(0,f.register)("workspace-unspecified",60355),newLine:(0,f.register)("newline",60394),thumbsDownFilled:(0,f.register)("thumbsdown-filled",60435),thumbsUpFilled:(0,f.register)("thumbsup-filled",60436),gitFetch:(0,f.register)("git-fetch",60445),lightbulbSparkleAutofix:(0,f.register)("lightbulb-sparkle-autofix",60447),debugBreakpointPending:(0,f.register)("debug-breakpoint-pending",60377)},e.Codicon={...k.codiconsLibrary,...e.codiconsDerived}}),define(ne[55],se([1,0,20]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=k,e.deepFreeze=L,e.cloneAndChange=y,e.mixin=w,e.equals=b,e.getAllPropertyNames=C,e.getAllMethodNames=o,e.createProxyObject=n;function k(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const t=Array.isArray(i)?[]:{};return Object.entries(i).forEach(([s,c])=>{t[s]=c&&typeof c=="object"?k(c):c}),t}function L(i){if(!i||typeof i!="object")return i;const t=[i];for(;t.length>0;){const s=t.shift();Object.freeze(s);for(const c in s)if(D.call(s,c)){const g=s[c];typeof g=="object"&&!Object.isFrozen(g)&&!(0,f.isTypedArray)(g)&&t.push(g)}}return i}const D=Object.prototype.hasOwnProperty;function y(i,t){return m(i,t,new Set)}function m(i,t,s){if((0,f.isUndefinedOrNull)(i))return i;const c=t(i);if(typeof c<"u")return c;if(Array.isArray(i)){const g=[];for(const l of i)g.push(m(l,t,s));return g}if((0,f.isObject)(i)){if(s.has(i))throw new Error("Cannot clone recursive data-structure");s.add(i);const g={};for(const l in i)D.call(i,l)&&(g[l]=m(i[l],t,s));return s.delete(i),g}return i}function w(i,t,s=!0){return(0,f.isObject)(i)?((0,f.isObject)(t)&&Object.keys(t).forEach(c=>{c in i?s&&((0,f.isObject)(i[c])&&(0,f.isObject)(t[c])?w(i[c],t[c],s):i[c]=t[c]):i[c]=t[c]}),i):t}function b(i,t){if(i===t)return!0;if(i==null||t===null||t===void 0||typeof i!=typeof t||typeof i!="object"||Array.isArray(i)!==Array.isArray(t))return!1;let s,c;if(Array.isArray(i)){if(i.length!==t.length)return!1;for(s=0;s<i.length;s++)if(!b(i[s],t[s]))return!1}else{const g=[];for(c in i)g.push(c);g.sort();const l=[];for(c in t)l.push(c);if(l.sort(),!b(g,l))return!1;for(s=0;s<g.length;s++)if(!b(i[g[s]],t[g[s]]))return!1}return!0}function C(i){let t=[];for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}function o(i){const t=[];for(const s of C(i))typeof i[s]=="function"&&t.push(s);return t}function n(i,t){const s=g=>function(){const l=Array.prototype.slice.call(arguments,0);return t(g,l)},c={};for(const g of i)c[g]=s(g);return c}}),define(ne[31],se([1,0,26]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(D){function y(m){return m&&typeof m=="object"&&typeof m.id=="string"}D.isThemeColor=y})(k||(e.ThemeColor=k={}));var L;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const y=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function m(g){const l=y.exec(g.id);if(!l)return m(f.Codicon.error);const[,r,d]=l,u=["codicon","codicon-"+r];return d&&u.push("codicon-modifier-"+d.substring(1)),u}D.asClassNameArray=m;function w(g){return m(g).join(" ")}D.asClassName=w;function b(g){return"."+m(g).join(".")}D.asCSSSelector=b;function C(g){return g&&typeof g=="object"&&typeof g.id=="string"&&(typeof g.color>"u"||k.isThemeColor(g.color))}D.isThemeIcon=C;const o=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function n(g){const l=o.exec(g);if(!l)return;const[,r]=l;return{id:r}}D.fromString=n;function i(g){return{id:g}}D.fromId=i;function t(g,l){let r=g.id;const d=r.lastIndexOf("~");return d!==-1&&(r=r.substring(0,d)),l&&(r=`${r}~${l}`),{id:r}}D.modify=t;function s(g){const l=g.id.lastIndexOf("~");if(l!==-1)return g.id.substring(l+1)}D.getModifier=s;function c(g,l){var r,d;return g.id===l.id&&((r=g.color)===null||r===void 0?void 0:r.id)===((d=l.color)===null||d===void 0?void 0:d.id)}D.isEqual=c})(L||(e.ThemeIcon=L={}))}),define(ne[138],se([1,0,78,11,31]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escapeIcons=w,e.markdownEscapeEscapedIcons=C,e.stripIcons=n,e.getCodiconAriaLabel=i,e.parseLabelWithIcons=s,e.matchesFuzzyIconAware=c;const D="$(",y=new RegExp(`\\$\\(${L.ThemeIcon.iconNameExpression}(?:${L.ThemeIcon.iconModifierExpression})?\\)`,"g"),m=new RegExp(`(\\\\)?${y.source}`,"g");function w(g){return g.replace(m,(l,r)=>r?l:`\\${l}`)}const b=new RegExp(`\\\\${y.source}`,"g");function C(g){return g.replace(b,l=>`\\${l}`)}const o=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function n(g){return g.indexOf(D)===-1?g:g.replace(o,(l,r,d,u)=>d?l:r||u||"")}function i(g){return g?g.replace(/\$\((.*?)\)/g,(l,r)=>` ${r} `).trim():""}const t=new RegExp(`\\$\\(${L.ThemeIcon.iconNameCharacter}+\\)`,"g");function s(g){t.lastIndex=0;let l="";const r=[];let d=0;for(;;){const u=t.lastIndex,a=t.exec(g),v=g.substring(u,a?.index);if(v.length>0){l+=v;for(let h=0;h<v.length;h++)r.push(d)}if(!a)break;d+=a[0].length}return{text:l,iconOffsets:r}}function c(g,l,r=!1){const{text:d,iconOffsets:u}=l;if(!u||u.length===0)return(0,f.matchesFuzzy)(g,d,r);const a=(0,k.ltrim)(d," "),v=d.length-a.length,h=(0,f.matchesFuzzy)(g,a,r);if(h)for(const p of h){const _=u[p.start+v]+v;p.start+=_,p.end+=_}return h}}),define(ne[188],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint8=f,e.toUint32=k;function f(L){return L<0?0:L>255?255:L|0}function k(L){return L<0?0:L>4294967295?4294967295:L|0}}),define(ne[189],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let f;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f=crypto.getRandomValues.bind(crypto):f=function(D){for(let y=0;y<D.length;y++)D[y]=Math.floor(Math.random()*256);return D};const k=new Uint8Array(16),L=[];for(let D=0;D<256;D++)L.push(D.toString(16).padStart(2,"0"));return function(){f(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let y=0,m="";return m+=L[k[y++]],m+=L[k[y++]],m+=L[k[y++]],m+=L[k[y++]],m+="-",m+=L[k[y++]],m+=L[k[y++]],m+="-",m+=L[k[y++]],m+=L[k[y++]],m+="-",m+=L[k[y++]],m+=L[k[y++]],m+="-",m+=L[k[y++]],m+=L[k[y++]],m+=L[k[y++]],m+=L[k[y++]],m+=L[k[y++]],m+=L[k[y++]],m}}()}),define(ne[190],se([1,0,13,54,189]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.VSDataTransfer=void 0,e.createStringDataTransferItem=D,e.createFileDataTransferItem=y,e.matchesMimeType=b;function D(o){return{asString:async()=>o,asFile:()=>{},value:typeof o=="string"?o:void 0}}function y(o,n,i){const t={id:(0,L.generateUuid)(),name:o,uri:n,data:i};return{asString:async()=>"",asFile:()=>t,value:void 0}}class m{constructor(){this._entries=new Map}get size(){let n=0;for(const i of this._entries)n++;return n}has(n){return this._entries.has(this.toKey(n))}matches(n){const i=[...this._entries.keys()];return k.Iterable.some(this,([t,s])=>s.asFile())&&i.push("files"),C(w(n),i)}get(n){var i;return(i=this._entries.get(this.toKey(n)))===null||i===void 0?void 0:i[0]}append(n,i){const t=this._entries.get(n);t?t.push(i):this._entries.set(this.toKey(n),[i])}replace(n,i){this._entries.set(this.toKey(n),[i])}delete(n){this._entries.delete(this.toKey(n))}*[Symbol.iterator](){for(const[n,i]of this._entries)for(const t of i)yield[n,t]}toKey(n){return w(n)}}e.VSDataTransfer=m;function w(o){return o.toLowerCase()}function b(o,n){return C(w(o),n.map(w))}function C(o,n){if(o==="*/*")return n.length>0;if(n.includes(o))return!0;const i=o.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[t,s,c]=i;return c==="*"?n.some(g=>g.startsWith(s+"/")):!1}e.UriList=Object.freeze({create:o=>(0,f.distinct)(o.map(n=>n.toString())).join(`\r
`),split:o=>o.split(`\r
`),parse:o=>e.UriList.split(o).filter(n=>!n.startsWith("#"))})}),define(ne[296],se([12]),{}),define(ne[440],se([12]),{}),define(ne[441],se([12]),{}),define(ne[442],se([12]),{}),define(ne[443],se([12]),{}),define(ne[191],se([1,0,442,443]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ne[444],se([12]),{}),define(ne[445],se([12]),{}),define(ne[297],se([12]),{}),define(ne[298],se([12]),{}),define(ne[446],se([12]),{}),define(ne[447],se([12]),{}),define(ne[448],se([12]),{}),define(ne[449],se([12]),{}),define(ne[299],se([12]),{}),define(ne[450],se([12]),{}),define(ne[221],se([1,0,450]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ne[451],se([12]),{}),define(ne[452],se([12]),{}),define(ne[453],se([12]),{}),define(ne[454],se([12]),{}),define(ne[455],se([12]),{}),define(ne[456],se([12]),{}),define(ne[457],se([12]),{}),define(ne[458],se([12]),{}),define(ne[459],se([12]),{}),define(ne[460],se([12]),{}),define(ne[461],se([12]),{}),define(ne[462],se([12]),{}),define(ne[463],se([12]),{}),define(ne[464],se([12]),{}),define(ne[465],se([12]),{}),define(ne[466],se([12]),{}),define(ne[467],se([12]),{}),define(ne[468],se([12]),{}),define(ne[469],se([12]),{}),define(ne[470],se([12]),{}),define(ne[471],se([12]),{}),define(ne[472],se([12]),{}),define(ne[473],se([12]),{}),define(ne[474],se([12]),{}),define(ne[475],se([12]),{}),define(ne[476],se([12]),{}),define(ne[477],se([12]),{}),define(ne[478],se([12]),{}),define(ne[479],se([12]),{}),define(ne[480],se([12]),{}),define(ne[481],se([12]),{}),define(ne[482],se([12]),{}),define(ne[483],se([12]),{}),define(ne[484],se([12]),{}),define(ne[485],se([12]),{}),define(ne[486],se([12]),{}),define(ne[487],se([12]),{}),define(ne[488],se([12]),{}),define(ne[222],se([12]),{}),define(ne[489],se([12]),{}),define(ne[490],se([12]),{}),define(ne[491],se([12]),{}),define(ne[492],se([12]),{}),define(ne[493],se([12]),{}),define(ne[494],se([12]),{}),define(ne[495],se([12]),{}),define(ne[496],se([12]),{}),define(ne[223],se([12]),{}),define(ne[497],se([12]),{}),define(ne[498],se([12]),{}),define(ne[499],se([12]),{}),define(ne[500],se([12]),{}),define(ne[501],se([12]),{}),define(ne[502],se([12]),{}),define(ne[503],se([12]),{}),define(ne[504],se([12]),{}),define(ne[505],se([12]),{}),define(ne[506],se([12]),{}),define(ne[507],se([12]),{}),define(ne[508],se([12]),{}),define(ne[509],se([12]),{}),define(ne[510],se([12]),{}),define(ne[511],se([12]),{}),define(ne[512],se([12]),{}),define(ne[513],se([12]),{}),define(ne[514],se([12]),{}),define(ne[515],se([12]),{}),define(ne[516],se([12]),{}),define(ne[517],se([12]),{}),define(ne[518],se([12]),{}),define(ne[519],se([12]),{}),define(ne[520],se([12]),{}),define(ne[300],se([12]),{}),define(ne[521],se([12]),{}),define(ne[522],se([12]),{}),define(ne[224],se([12]),{}),define(ne[523],se([12]),{}),define(ne[72],se([1,0,40]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=k;function k(L,D){L instanceof f.FastDomNode?(L.setFontFamily(D.getMassagedFontFamily()),L.setFontWeight(D.fontWeight),L.setFontSize(D.fontSize),L.setFontFeatureSettings(D.fontFeatureSettings),L.setFontVariationSettings(D.fontVariationSettings),L.setLineHeight(D.lineHeight),L.setLetterSpacing(D.letterSpacing)):(L.style.fontFamily=D.getMassagedFontFamily(),L.style.fontWeight=D.fontWeight,L.style.fontSize=D.fontSize+"px",L.style.fontFeatureSettings=D.fontFeatureSettings,L.style.fontVariationSettings=D.fontVariationSettings,L.style.lineHeight=D.lineHeight+"px",L.style.letterSpacing=D.letterSpacing+"px")}}),define(ne[524],se([1,0,72]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharWidthRequest=void 0,e.readCharWidths=D;class k{constructor(m,w){this.chr=m,this.type=w,this.width=0}fulfill(m){this.width=m}}e.CharWidthRequest=k;class L{constructor(m,w){this._bareFontInfo=m,this._requests=w,this._container=null,this._testElements=null}read(m){this._createDomElements(),m.document.body.appendChild(this._container),this._readFromDomElements(),m.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const m=document.createElement("div");m.style.position="absolute",m.style.top="-50000px",m.style.width="50000px";const w=document.createElement("div");(0,f.applyFontInfo)(w,this._bareFontInfo),m.appendChild(w);const b=document.createElement("div");(0,f.applyFontInfo)(b,this._bareFontInfo),b.style.fontWeight="bold",m.appendChild(b);const C=document.createElement("div");(0,f.applyFontInfo)(C,this._bareFontInfo),C.style.fontStyle="italic",m.appendChild(C);const o=[];for(const n of this._requests){let i;n.type===0&&(i=w),n.type===2&&(i=b),n.type===1&&(i=C),i.appendChild(document.createElement("br"));const t=document.createElement("span");L._render(t,n),i.appendChild(t),o.push(t)}this._container=m,this._testElements=o}static _render(m,w){if(w.chr===" "){let b="\xA0";for(let C=0;C<8;C++)b+=b;m.innerText=b}else{let b=w.chr;for(let C=0;C<8;C++)b+=b;m.textContent=b}}_readFromDomElements(){for(let m=0,w=this._requests.length;m<w;m++){const b=this._requests[m],C=this._testElements[m];b.fulfill(C.offsetWidth/256)}}}function D(y,m,w){new L(m,w).read(y)}}),define(ne[525],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSettingMigration=void 0,e.migrateOptions=D;class f{constructor(w,b){this.key=w,this.migrate=b}apply(w){const b=f._read(w,this.key),C=n=>f._read(w,n),o=(n,i)=>f._write(w,n,i);this.migrate(b,C,o)}static _read(w,b){if(typeof w>"u")return;const C=b.indexOf(".");if(C>=0){const o=b.substring(0,C);return this._read(w[o],b.substring(C+1))}return w[b]}static _write(w,b,C){const o=b.indexOf(".");if(o>=0){const n=b.substring(0,o);w[n]=w[n]||{},this._write(w[n],b.substring(o+1),C);return}w[b]=C}}e.EditorSettingMigration=f,f.items=[];function k(m,w){f.items.push(new f(m,w))}function L(m,w){k(m,(b,C,o)=>{if(typeof b<"u"){for(const[n,i]of w)if(b===n){o(m,i);return}}})}function D(m){f.items.forEach(w=>w.apply(m))}L("wordWrap",[[!0,"on"],[!1,"off"]]),L("lineNumbers",[[!0,"on"],[!1,"off"]]),L("cursorBlinking",[["visible","solid"]]),L("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),L("renderLineHighlight",[[!0,"line"],[!1,"none"]]),L("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),L("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),L("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),L("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),L("autoIndent",[[!1,"advanced"],[!0,"full"]]),L("matchBrackets",[[!0,"always"],[!1,"never"]]),L("renderFinalNewline",[[!0,"on"],[!1,"off"]]),L("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),L("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),L("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),k("autoClosingBrackets",(m,w,b)=>{m===!1&&(b("autoClosingBrackets","never"),typeof w("autoClosingQuotes")>"u"&&b("autoClosingQuotes","never"),typeof w("autoSurround")>"u"&&b("autoSurround","never"))}),k("renderIndentGuides",(m,w,b)=>{typeof m<"u"&&(b("renderIndentGuides",void 0),typeof w("guides.indentation")>"u"&&b("guides.indentation",!!m))}),k("highlightActiveIndentGuide",(m,w,b)=>{typeof m<"u"&&(b("highlightActiveIndentGuide",void 0),typeof w("guides.highlightActiveIndentation")>"u"&&b("guides.highlightActiveIndentation",!!m))});const y={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(m,w,b)=>{if(m&&typeof m=="object"){for(const C of Object.entries(y))m[C[0]]===!1&&typeof w(`suggest.${C[1]}`)>"u"&&b(`suggest.${C[1]}`,!1);b("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(m,w,b)=>{if(typeof m=="boolean"){const C=m?"on":"off";b("quickSuggestions",{comments:C,strings:C,other:C})}}),k("experimental.stickyScroll.enabled",(m,w,b)=>{typeof m=="boolean"&&(b("experimental.stickyScroll.enabled",void 0),typeof w("stickyScroll.enabled")>"u"&&b("stickyScroll.enabled",m))}),k("experimental.stickyScroll.maxLineCount",(m,w,b)=>{typeof m=="number"&&(b("experimental.stickyScroll.maxLineCount",void 0),typeof w("stickyScroll.maxLineCount")>"u"&&b("stickyScroll.maxLineCount",m))}),k("codeActionsOnSave",(m,w,b)=>{if(m&&typeof m=="object"){let C=!1;const o={};for(const n of Object.entries(m))typeof n[1]=="boolean"?(C=!0,o[n[0]]=n[1]?"explicit":"never"):o[n[0]]=n[1];C&&b("codeActionsOnSave",o)}}),k("codeActionWidget.includeNearbyQuickfixes",(m,w,b)=>{typeof m=="boolean"&&(b("codeActionWidget.includeNearbyQuickfixes",void 0),typeof w("codeActionWidget.includeNearbyQuickFixes")>"u"&&b("codeActionWidget.includeNearbyQuickFixes",m))}),k("lightbulb.enabled",(m,w,b)=>{typeof m=="boolean"&&b("lightbulb.enabled",m?void 0:"off")})}),define(ne[225],se([1,0,7]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new f.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus)}}e.TabFocus=new k}),define(ne[526],se([1,0,30]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.obsCodeEditor=k;function k(D){return L.get(D)}class L{static get(y){let m=L._map.get(y);if(!m){m=new L(y),L._map.set(y,m);const w=y.onDidDispose(()=>{L._map.delete(y),w.dispose()})}return m}constructor(y){this.editor=y,this.model=(0,f.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel())}}L._map=new Map}),define(ne[139],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class f{static capture(L){if(L.getScrollTop()===0||L.hasPendingScrollAnimation())return new f(L.getScrollTop(),L.getContentHeight(),null,0,null);let D=null,y=0;const m=L.getVisibleRanges();if(m.length>0){D=m[0].getStartPosition();const w=L.getTopForPosition(D.lineNumber,D.column);y=L.getScrollTop()-w}return new f(L.getScrollTop(),L.getContentHeight(),D,y,L.getPosition())}constructor(L,D,y,m,w){this._initialScrollTop=L,this._initialContentHeight=D,this._visiblePosition=y,this._visiblePositionScrollDelta=m,this._cursorPosition=w}restore(L){if(!(this._initialContentHeight===L.getContentHeight()&&this._initialScrollTop===L.getScrollTop())&&this._visiblePosition){const D=L.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);L.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(L){if(this._initialContentHeight===L.getContentHeight()&&this._initialScrollTop===L.getScrollTop())return;const D=L.getPosition();if(!this._cursorPosition||!D)return;const y=L.getTopForLineNumber(D.lineNumber)-L.getTopForLineNumber(this._cursorPosition.lineNumber);L.setScrollTop(L.getScrollTop()+y,1)}}e.StableEditorScrollState=f}),define(ne[159],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class f{constructor(C,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=C,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(C){return C-this.scrollTop}getVerticalOffsetForLineNumber(C,o){return this._viewLayout.getVerticalOffsetForLineNumber(C,o)}getVerticalOffsetAfterLineNumber(C,o){return this._viewLayout.getVerticalOffsetAfterLineNumber(C,o)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=f;class k extends f{constructor(C,o,n){super(C,o),this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(C,o){return this._viewLines.linesVisibleRangesForRange(C,o)}visibleRangeForPosition(C){return this._viewLines.visibleRangeForPosition(C)}}e.RenderingContext=k;class L{constructor(C,o,n,i){this.outsideRenderedLine=C,this.lineNumber=o,this.ranges=n,this.continuesOnNextLine=i}}e.LineVisibleRanges=L;class D{static from(C){const o=new Array(C.length);for(let n=0,i=C.length;n<i;n++){const t=C[n];o[n]=new D(t.left,t.width)}return o}constructor(C,o){this._horizontalRangeBrand=void 0,this.left=Math.round(C),this.width=Math.round(o)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class y{constructor(C,o){this._floatHorizontalRangeBrand=void 0,this.left=C,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(C,o){return C.left-o.left}}e.FloatHorizontalRange=y;class m{constructor(C,o){this.outsideRenderedLine=C,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=m;class w{constructor(C,o){this.outsideRenderedLine=C,this.ranges=o}}e.VisibleRanges=w}),define(ne[527],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class f{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const L=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=L.left,this._clientRectScale=L.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(L,D){this._domNode=L,this.endNode=D,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=f}),define(ne[528],se([1,0,159]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,y){D.selectNodeContents(y)}static _readClientRects(D,y,m,w,b){const C=this._createRange();try{return C.setStart(D,y),C.setEnd(m,w),C.getClientRects()}catch{return null}finally{this._detachRange(C,b)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(f.FloatHorizontalRange.compare);const y=[];let m=0,w=D[0];for(let b=1,C=D.length;b<C;b++){const o=D[b];w.left+w.width+.9>=o.left?w.width=Math.max(w.width,o.left+o.width-w.left):(y[m++]=w,w=o)}return y[m++]=w,y}static _createHorizontalRangesFromClientRects(D,y,m){if(!D||D.length===0)return null;const w=[];for(let b=0,C=D.length;b<C;b++){const o=D[b];w[b]=new f.FloatHorizontalRange(Math.max(0,(o.left-y)/m),o.width/m)}return this._mergeAdjacentRanges(w)}static readHorizontalRanges(D,y,m,w,b,C){const n=D.children.length-1;if(0>n)return null;if(y=Math.min(n,Math.max(0,y)),w=Math.min(n,Math.max(0,w)),y===w&&m===b&&m===0&&!D.children[y].firstChild){const c=D.children[y].getClientRects();return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(c,C.clientRectDeltaLeft,C.clientRectScale)}y!==w&&w>0&&b===0&&(w--,b=1073741824);let i=D.children[y].firstChild,t=D.children[w].firstChild;if((!i||!t)&&(!i&&m===0&&y>0&&(i=D.children[y-1].firstChild,m=1073741824),!t&&b===0&&w>0&&(t=D.children[w-1].firstChild,b=1073741824)),!i||!t)return null;m=Math.min(i.textContent.length,Math.max(0,m)),b=Math.min(t.textContent.length,Math.max(0,b));const s=this._readClientRects(i,m,t,b,C.endNode);return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(s,C.clientRectDeltaLeft,C.clientRectScale)}}e.RangeUtil=k}),define(ne[301],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let L=32;L<=126;L++)k.push(L);return k.push(65533),k})();const f=(k,L)=>(k-=32,k<0||k>96?L<=2?(k+96)%96:95:k);e.getCharIndex=f}),define(ne[529],se([1,0,301,188]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class L{constructor(y,m){this.scale=m,this._minimapCharRendererBrand=void 0,this.charDataNormal=L.soften(y,12/15),this.charDataLight=L.soften(y,50/60)}static soften(y,m){const w=new Uint8ClampedArray(y.length);for(let b=0,C=y.length;b<C;b++)w[b]=(0,k.toUint8)(y[b]*m);return w}renderChar(y,m,w,b,C,o,n,i,t,s,c){const g=1*this.scale,l=2*this.scale,r=c?1:l;if(m+g>y.width||w+r>y.height){console.warn("bad render request outside image data");return}const d=s?this.charDataLight:this.charDataNormal,u=(0,f.getCharIndex)(b,t),a=y.width*4,v=n.r,h=n.g,p=n.b,_=C.r-v,S=C.g-h,E=C.b-p,I=Math.max(o,i),T=y.data;let N=u*g*l,A=w*a+m*4;for(let R=0;R<r;R++){let M=A;for(let P=0;P<g;P++){const F=d[N++]/255*(o/255);T[M++]=v+_*F,T[M++]=h+S*F,T[M++]=p+E*F,T[M++]=I}A+=a}}blockRenderChar(y,m,w,b,C,o,n,i){const t=1*this.scale,s=2*this.scale,c=i?1:s;if(m+t>y.width||w+c>y.height){console.warn("bad render request outside image data");return}const g=y.width*4,l=.5*(C/255),r=o.r,d=o.g,u=o.b,a=b.r-r,v=b.g-d,h=b.b-u,p=r+a*l,_=d+v*l,S=u+h*l,E=Math.max(C,n),I=y.data;let T=w*g+m*4;for(let N=0;N<c;N++){let A=T;for(let R=0;R<t;R++)I[A++]=p,I[A++]=_,I[A++]=S,I[A++]=E;T+=g}}}e.MinimapCharRenderer=L}),define(ne[530],se([1,0,123]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},L=D=>{const y=new Uint8ClampedArray(D.length/2);for(let m=0;m<D.length;m+=2)y[m>>1]=k[D[m]]<<4|k[D[m+1]]&15;return y};e.prebakedMiniMaps={1:(0,f.createSingleCallFunction)(()=>L("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,f.createSingleCallFunction)(()=>L("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ne[531],se([1,0,529,301,530,188]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class y{static create(w,b){if(this.lastCreated&&w===this.lastCreated.scale&&b===this.lastFontFamily)return this.lastCreated;let C;return L.prebakedMiniMaps[w]?C=new f.MinimapCharRenderer(L.prebakedMiniMaps[w](),w):C=y.createFromSampleData(y.createSampleData(b).data,w),this.lastFontFamily=b,this.lastCreated=C,C}static createSampleData(w){const b=document.createElement("canvas"),C=b.getContext("2d");b.style.height="16px",b.height=16,b.width=96*10,b.style.width=96*10+"px",C.fillStyle="#ffffff",C.font=`bold 16px ${w}`,C.textBaseline="middle";let o=0;for(const n of k.allCharCodes)C.fillText(String.fromCharCode(n),o,16/2),o+=10;return C.getImageData(0,0,96*10,16)}static createFromSampleData(w,b){if(w.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const o=y._downsample(w,b);return new f.MinimapCharRenderer(o,b)}static _downsampleChar(w,b,C,o,n){const i=1*n,t=2*n;let s=o,c=0;for(let g=0;g<t;g++){const l=g/t*16,r=(g+1)/t*16;for(let d=0;d<i;d++){const u=d/i*10,a=(d+1)/i*10;let v=0,h=0;for(let _=l;_<r;_++){const S=b+Math.floor(_)*3840,E=1-(_-Math.floor(_));for(let I=u;I<a;I++){const T=1-(I-Math.floor(I)),N=S+Math.floor(I)*4,A=T*E;h+=A,v+=w[N]*w[N+3]/255*A}}const p=v/h;c=Math.max(c,p),C[s++]=(0,D.toUint8)(p)}}return c}static _downsample(w,b){const C=2*b*1*b,o=C*96,n=new Uint8ClampedArray(o);let i=0,t=0,s=0;for(let c=0;c<96;c++)s=Math.max(s,this._downsampleChar(w,t,n,i,b)),i+=C,t+=10*4;if(s>0){const c=255/s;for(let g=0;g<o;g++)n[g]*=c}return n}}e.MinimapCharRendererFactory=y}),define(ne[532],se([1,0,7,2]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class L extends k.Disposable{constructor(){super(...arguments),this._id=++L.idCounter,this._onDidDispose=this._register(new f.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(y){return this._targetEditor.getVisibleColumnFromPosition(y)}getPosition(){return this._targetEditor.getPosition()}setPosition(y,m="api"){this._targetEditor.setPosition(y,m)}revealLine(y,m=0){this._targetEditor.revealLine(y,m)}revealLineInCenter(y,m=0){this._targetEditor.revealLineInCenter(y,m)}revealLineInCenterIfOutsideViewport(y,m=0){this._targetEditor.revealLineInCenterIfOutsideViewport(y,m)}revealLineNearTop(y,m=0){this._targetEditor.revealLineNearTop(y,m)}revealPosition(y,m=0){this._targetEditor.revealPosition(y,m)}revealPositionInCenter(y,m=0){this._targetEditor.revealPositionInCenter(y,m)}revealPositionInCenterIfOutsideViewport(y,m=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(y,m)}revealPositionNearTop(y,m=0){this._targetEditor.revealPositionNearTop(y,m)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(y,m="api"){this._targetEditor.setSelection(y,m)}setSelections(y,m="api"){this._targetEditor.setSelections(y,m)}revealLines(y,m,w=0){this._targetEditor.revealLines(y,m,w)}revealLinesInCenter(y,m,w=0){this._targetEditor.revealLinesInCenter(y,m,w)}revealLinesInCenterIfOutsideViewport(y,m,w=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(y,m,w)}revealLinesNearTop(y,m,w=0){this._targetEditor.revealLinesNearTop(y,m,w)}revealRange(y,m=0,w=!1,b=!0){this._targetEditor.revealRange(y,m,w,b)}revealRangeInCenter(y,m=0){this._targetEditor.revealRangeInCenter(y,m)}revealRangeInCenterIfOutsideViewport(y,m=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(y,m)}revealRangeNearTop(y,m=0){this._targetEditor.revealRangeNearTop(y,m)}revealRangeNearTopIfOutsideViewport(y,m=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(y,m)}revealRangeAtTop(y,m=0){this._targetEditor.revealRangeAtTop(y,m)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(y,m,w){this._targetEditor.trigger(y,m,w)}createDecorationsCollection(y){return this._targetEditor.createDecorationsCollection(y)}changeDecorations(y){return this._targetEditor.changeDecorations(y)}}e.DelegatingEditor=L,L.idCounter=0}),define(ne[533],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectPool=void 0;class f{constructor(L){this._create=L,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(L){var D;let y;if(this._unused.size===0)y=this._create(L),this._itemData.set(y,L);else{const m=[...this._unused.values()];y=(D=m.find(w=>this._itemData.get(w).getId()===L.getId()))!==null&&D!==void 0?D:m[0],this._unused.delete(y),this._itemData.set(y,L),y.setData(L)}return this._used.add(y),{object:y,dispose:()=>{this._used.delete(y),this._unused.size>5?y.dispose():this._unused.add(y)}}}dispose(){for(const L of this._used)L.dispose();for(const L of this._unused)L.dispose();this._used.clear(),this._unused.clear()}}e.ObjectPool=f}),define(ne[302],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(ne[160],se([1,0,7]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new f.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ne[140],se([1,0,188]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(y){const m=(0,f.toUint8)(y);this._defaultValue=m,this._asciiMap=k._createAsciiMap(m),this._map=new Map}static _createAsciiMap(y){const m=new Uint8Array(256);return m.fill(y),m}set(y,m){const w=(0,f.toUint8)(m);y>=0&&y<256?this._asciiMap[y]=w:this._map.set(y,w)}get(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class L{constructor(){this._actual=new k(0)}add(y){this._actual.set(y,1)}has(y){return this._actual.get(y)===1}clear(){return this._actual.clear()}}e.CharacterSet=L}),define(ne[90],se([1,0,11]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(D,y,m){return D===9?k.nextRenderTabStop(y,m):f.isFullWidthCharacter(D)||f.isEmojiImprecise(D)?y+2:y+1}static visibleColumnFromColumn(D,y,m){const w=Math.min(y-1,D.length),b=D.substring(0,w),C=new f.GraphemeIterator(b);let o=0;for(;!C.eol();){const n=f.getNextCodePoint(b,w,C.offset);C.nextGraphemeLength(),o=this._nextVisibleColumn(n,o,m)}return o}static columnFromVisibleColumn(D,y,m){if(y<=0)return 1;const w=D.length,b=new f.GraphemeIterator(D);let C=0,o=1;for(;!b.eol();){const n=f.getNextCodePoint(D,w,b.offset);b.nextGraphemeLength();const i=this._nextVisibleColumn(n,C,m),t=b.offset+1;if(i>=y){const s=y-C;return i-y<s?t:o}C=i,o=t}return w+1}static nextRenderTabStop(D,y){return D+y-D%y}static nextIndentTabStop(D,y){return D+y-D%y}static prevRenderTabStop(D,y){return Math.max(0,D-1-(D-1)%y)}static prevIndentTabStop(D,y){return Math.max(0,D-1-(D-1)%y)}}e.CursorColumns=k}),define(ne[141],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=f;function f(k){let L=0,D=0,y=0,m=0;for(let w=0,b=k.length;w<b;w++){const C=k.charCodeAt(w);C===13?(L===0&&(D=w),L++,w+1<b&&k.charCodeAt(w+1)===10?(m|=2,w++):m|=3,y=w+1):C===10&&(m|=1,L===0&&(D=w),L++,y=w+1)}return L===0&&(D=k.length),[L,D,k.length-y,m]}}),define(ne[226],se([1,0,11,90]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=D;function L(y,m,w){let b=0;for(let o=0;o<y.length;o++)y.charAt(o)==="	"?b=k.CursorColumns.nextIndentTabStop(b,m):b++;let C="";if(!w){const o=Math.floor(b/m);b=b%m;for(let n=0;n<o;n++)C+="	"}for(let o=0;o<b;o++)C+=" ";return C}function D(y,m,w){let b=f.firstNonWhitespaceIndex(y);return b===-1&&(b=y.length),L(y.substring(0,b),m,w)+y.substring(b)}}),define(ne[67],se([1,0,9]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class k{static addRange(y,m){let w=0;for(;w<m.length&&m[w].endExclusive<y.start;)w++;let b=w;for(;b<m.length&&m[b].start<=y.endExclusive;)b++;if(w===b)m.splice(w,0,y);else{const C=Math.min(y.start,m[w].start),o=Math.max(y.endExclusive,m[b-1].endExclusive);m.splice(w,b-w,new k(C,o))}}static tryCreate(y,m){if(!(y>m))return new k(y,m)}static ofLength(y){return new k(0,y)}static ofStartAndLength(y,m){return new k(y,y+m)}constructor(y,m){if(this.start=y,this.endExclusive=m,y>m)throw new f.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(y){return new k(this.start+y,this.endExclusive+y)}deltaStart(y){return new k(this.start+y,this.endExclusive)}deltaEnd(y){return new k(this.start,this.endExclusive+y)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(y){return this.start<=y&&y<this.endExclusive}join(y){return new k(Math.min(this.start,y.start),Math.max(this.endExclusive,y.endExclusive))}intersect(y){const m=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);if(m<=w)return new k(m,w)}intersects(y){const m=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);return m<w}isBefore(y){return this.endExclusive<=y.start}isAfter(y){return this.start>=y.endExclusive}slice(y){return y.slice(this.start,this.endExclusive)}substring(y){return y.substring(this.start,this.endExclusive)}clip(y){if(this.isEmpty)throw new f.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,y))}clipCyclic(y){if(this.isEmpty)throw new f.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return y<this.start?this.endExclusive-(this.start-y)%this.length:y>=this.endExclusive?this.start+(y-this.start)%this.length:y}forEach(y){for(let m=this.start;m<this.endExclusive;m++)y(m)}}e.OffsetRange=k;class L{constructor(){this._sortedRanges=[]}addRange(y){let m=0;for(;m<this._sortedRanges.length&&this._sortedRanges[m].endExclusive<y.start;)m++;let w=m;for(;w<this._sortedRanges.length&&this._sortedRanges[w].start<=y.endExclusive;)w++;if(m===w)this._sortedRanges.splice(m,0,y);else{const b=Math.min(y.start,this._sortedRanges[m].start),C=Math.max(y.endExclusive,this._sortedRanges[w-1].endExclusive);this._sortedRanges.splice(m,w-m,new k(b,C))}}toString(){return this._sortedRanges.map(y=>y.toString()).join(", ")}intersectsStrict(y){let m=0;for(;m<this._sortedRanges.length&&this._sortedRanges[m].endExclusive<=y.start;)m++;return m<this._sortedRanges.length&&this._sortedRanges[m].start<y.endExclusive}intersectWithRange(y){const m=new L;for(const w of this._sortedRanges){const b=w.intersect(y);b&&m.addRange(b)}return m}intersectWithRangeLength(y){return this.intersectWithRange(y).length}get length(){return this._sortedRanges.reduce((y,m)=>y+m.length,0)}}e.OffsetRangeSet=L}),define(ne[10],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class f{constructor(L,D){this.lineNumber=L,this.column=D}with(L=this.lineNumber,D=this.column){return L===this.lineNumber&&D===this.column?this:new f(L,D)}delta(L=0,D=0){return this.with(this.lineNumber+L,this.column+D)}equals(L){return f.equals(this,L)}static equals(L,D){return!L&&!D?!0:!!L&&!!D&&L.lineNumber===D.lineNumber&&L.column===D.column}isBefore(L){return f.isBefore(this,L)}static isBefore(L,D){return L.lineNumber<D.lineNumber?!0:D.lineNumber<L.lineNumber?!1:L.column<D.column}isBeforeOrEqual(L){return f.isBeforeOrEqual(this,L)}static isBeforeOrEqual(L,D){return L.lineNumber<D.lineNumber?!0:D.lineNumber<L.lineNumber?!1:L.column<=D.column}static compare(L,D){const y=L.lineNumber|0,m=D.lineNumber|0;if(y===m){const w=L.column|0,b=D.column|0;return w-b}return y-m}clone(){return new f(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(L){return new f(L.lineNumber,L.column)}static isIPosition(L){return L&&typeof L.lineNumber=="number"&&typeof L.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}e.Position=f}),define(ne[303],se([1,0,10]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(D){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=D}emitKeyDown(D){var y;(y=this.onKeyDown)===null||y===void 0||y.call(this,D)}emitKeyUp(D){var y;(y=this.onKeyUp)===null||y===void 0||y.call(this,D)}emitContextMenu(D){var y;(y=this.onContextMenu)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseMove(D){var y;(y=this.onMouseMove)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseLeave(D){var y;(y=this.onMouseLeave)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDown(D){var y;(y=this.onMouseDown)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseUp(D){var y;(y=this.onMouseUp)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrag(D){var y;(y=this.onMouseDrag)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrop(D){var y;(y=this.onMouseDrop)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDropCanceled(){var D;(D=this.onMouseDropCanceled)===null||D===void 0||D.call(this)}emitMouseWheel(D){var y;(y=this.onMouseWheel)===null||y===void 0||y.call(this,D)}_convertViewToModelMouseEvent(D){return D.target?{event:D.event,target:this._convertViewToModelMouseTarget(D.target)}:D}_convertViewToModelMouseTarget(D){return k.convertViewToModelMouseTarget(D,this._coordinatesConverter)}static convertViewToModelMouseTarget(D,y){const m={...D};return m.position&&(m.position=y.convertViewPositionToModelPosition(m.position)),m.range&&(m.range=y.convertViewRangeToModelRange(m.range)),(m.type===5||m.type===8)&&(m.detail=this.convertViewToModelViewZoneData(m.detail,y)),m}static convertViewToModelViewZoneData(D,y){return{viewZoneId:D.viewZoneId,positionBefore:D.positionBefore?y.convertViewPositionToModelPosition(D.positionBefore):D.positionBefore,positionAfter:D.positionAfter?y.convertViewPositionToModelPosition(D.positionAfter):D.positionAfter,position:y.convertViewPositionToModelPosition(D.position),afterLineNumber:y.convertViewPositionToModelPosition(new f.Position(D.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(ne[5],se([1,0,10]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(D,y,m,w){D>m||D===m&&y>w?(this.startLineNumber=m,this.startColumn=w,this.endLineNumber=D,this.endColumn=y):(this.startLineNumber=D,this.startColumn=y,this.endLineNumber=m,this.endColumn=w)}isEmpty(){return k.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return k.containsPosition(this,D)}static containsPosition(D,y){return!(y.lineNumber<D.startLineNumber||y.lineNumber>D.endLineNumber||y.lineNumber===D.startLineNumber&&y.column<D.startColumn||y.lineNumber===D.endLineNumber&&y.column>D.endColumn)}static strictContainsPosition(D,y){return!(y.lineNumber<D.startLineNumber||y.lineNumber>D.endLineNumber||y.lineNumber===D.startLineNumber&&y.column<=D.startColumn||y.lineNumber===D.endLineNumber&&y.column>=D.endColumn)}containsRange(D){return k.containsRange(this,D)}static containsRange(D,y){return!(y.startLineNumber<D.startLineNumber||y.endLineNumber<D.startLineNumber||y.startLineNumber>D.endLineNumber||y.endLineNumber>D.endLineNumber||y.startLineNumber===D.startLineNumber&&y.startColumn<D.startColumn||y.endLineNumber===D.endLineNumber&&y.endColumn>D.endColumn)}strictContainsRange(D){return k.strictContainsRange(this,D)}static strictContainsRange(D,y){return!(y.startLineNumber<D.startLineNumber||y.endLineNumber<D.startLineNumber||y.startLineNumber>D.endLineNumber||y.endLineNumber>D.endLineNumber||y.startLineNumber===D.startLineNumber&&y.startColumn<=D.startColumn||y.endLineNumber===D.endLineNumber&&y.endColumn>=D.endColumn)}plusRange(D){return k.plusRange(this,D)}static plusRange(D,y){let m,w,b,C;return y.startLineNumber<D.startLineNumber?(m=y.startLineNumber,w=y.startColumn):y.startLineNumber===D.startLineNumber?(m=y.startLineNumber,w=Math.min(y.startColumn,D.startColumn)):(m=D.startLineNumber,w=D.startColumn),y.endLineNumber>D.endLineNumber?(b=y.endLineNumber,C=y.endColumn):y.endLineNumber===D.endLineNumber?(b=y.endLineNumber,C=Math.max(y.endColumn,D.endColumn)):(b=D.endLineNumber,C=D.endColumn),new k(m,w,b,C)}intersectRanges(D){return k.intersectRanges(this,D)}static intersectRanges(D,y){let m=D.startLineNumber,w=D.startColumn,b=D.endLineNumber,C=D.endColumn;const o=y.startLineNumber,n=y.startColumn,i=y.endLineNumber,t=y.endColumn;return m<o?(m=o,w=n):m===o&&(w=Math.max(w,n)),b>i?(b=i,C=t):b===i&&(C=Math.min(C,t)),m>b||m===b&&w>C?null:new k(m,w,b,C)}equalsRange(D){return k.equalsRange(this,D)}static equalsRange(D,y){return!D&&!y?!0:!!D&&!!y&&D.startLineNumber===y.startLineNumber&&D.startColumn===y.startColumn&&D.endLineNumber===y.endLineNumber&&D.endColumn===y.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(D){return new f.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(D){return new f.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,y){return new k(this.startLineNumber,this.startColumn,D,y)}setStartPosition(D,y){return new k(D,y,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(D){return new k(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(D){return new k(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new k(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,y=D){return new k(D.lineNumber,D.column,y.lineNumber,y.column)}static lift(D){return D?new k(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,y){return!(D.endLineNumber<y.startLineNumber||D.endLineNumber===y.startLineNumber&&D.endColumn<y.startColumn||y.endLineNumber<D.startLineNumber||y.endLineNumber===D.startLineNumber&&y.endColumn<D.startColumn)}static areIntersecting(D,y){return!(D.endLineNumber<y.startLineNumber||D.endLineNumber===y.startLineNumber&&D.endColumn<=y.startColumn||y.endLineNumber<D.startLineNumber||y.endLineNumber===D.startLineNumber&&y.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,y){if(D&&y){const b=D.startLineNumber|0,C=y.startLineNumber|0;if(b===C){const o=D.startColumn|0,n=y.startColumn|0;if(o===n){const i=D.endLineNumber|0,t=y.endLineNumber|0;if(i===t){const s=D.endColumn|0,c=y.endColumn|0;return s-c}return i-t}return o-n}return b-C}return(D?1:0)-(y?1:0)}static compareRangesUsingEnds(D,y){return D.endLineNumber===y.endLineNumber?D.endColumn===y.endColumn?D.startLineNumber===y.startLineNumber?D.startColumn-y.startColumn:D.startLineNumber-y.startLineNumber:D.endColumn-y.endColumn:D.endLineNumber-y.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=k}),define(ne[304],se([1,0,11,5]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class L{constructor(m,w,b,C,o){this.value=m,this.selectionStart=w,this.selectionEnd=b,this.selection=C,this.newlineCountBeforeSelection=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(m,w){const b=m.getValue(),C=m.getSelectionStart(),o=m.getSelectionEnd();let n;if(w){const i=b.substring(0,C),t=w.value.substring(0,w.selectionStart);i===t&&(n=w.newlineCountBeforeSelection)}return new L(b,C,o,null,n)}collapseSelection(){return this.selectionStart===this.value.length?this:new L(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(m,w,b){e._debugComposition&&console.log(`writeToTextArea ${m}: ${this.toString()}`),w.setValue(m,this.value),b&&w.setSelectionRange(m,this.selectionStart,this.selectionEnd)}deduceEditorPosition(m){var w,b,C,o,n,i,t,s;if(m<=this.selectionStart){const l=this.value.substring(m,this.selectionStart);return this._finishDeduceEditorPosition((b=(w=this.selection)===null||w===void 0?void 0:w.getStartPosition())!==null&&b!==void 0?b:null,l,-1)}if(m>=this.selectionEnd){const l=this.value.substring(this.selectionEnd,m);return this._finishDeduceEditorPosition((o=(C=this.selection)===null||C===void 0?void 0:C.getEndPosition())!==null&&o!==void 0?o:null,l,1)}const c=this.value.substring(this.selectionStart,m);if(c.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition((i=(n=this.selection)===null||n===void 0?void 0:n.getStartPosition())!==null&&i!==void 0?i:null,c,1);const g=this.value.substring(m,this.selectionEnd);return this._finishDeduceEditorPosition((s=(t=this.selection)===null||t===void 0?void 0:t.getEndPosition())!==null&&s!==void 0?s:null,g,-1)}_finishDeduceEditorPosition(m,w,b){let C=0,o=-1;for(;(o=w.indexOf(`
`,o+1))!==-1;)C++;return[m,b*w.length,C]}static deduceInput(m,w,b){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`));const C=Math.min(f.commonPrefixLength(m.value,w.value),m.selectionStart,w.selectionStart),o=Math.min(f.commonSuffixLength(m.value,w.value),m.value.length-m.selectionEnd,w.value.length-w.selectionEnd),n=m.value.substring(C,m.value.length-o),i=w.value.substring(C,w.value.length-o),t=m.selectionStart-C,s=m.selectionEnd-C,c=w.selectionStart-C,g=w.selectionEnd-C;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${t}, selectionEnd: ${s}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${c}, selectionEnd: ${g}`)),c===g){const r=m.selectionStart-C;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${r} chars`),{text:i,replacePrevCharCnt:r,replaceNextCharCnt:0,positionDelta:0}}const l=s-t;return{text:i,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(m,w){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`)),m.value===w.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:w.selectionEnd-m.selectionEnd};const b=Math.min(f.commonPrefixLength(m.value,w.value),m.selectionEnd),C=Math.min(f.commonSuffixLength(m.value,w.value),m.value.length-m.selectionEnd),o=m.value.substring(b,m.value.length-C),n=w.value.substring(b,w.value.length-C),i=m.selectionStart-b,t=m.selectionEnd-b,s=w.selectionStart-b,c=w.selectionEnd-b;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${o}>, selectionStart: ${i}, selectionEnd: ${t}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${s}, selectionEnd: ${c}`)),{text:n,replacePrevCharCnt:t,replaceNextCharCnt:o.length-t,positionDelta:c-n.length}}}e.TextAreaState=L,L.EMPTY=new L("",0,0,null,void 0);class D{static _getPageOfLine(m,w){return Math.floor((m-1)/w)}static _getRangeForPage(m,w){const b=m*w,C=b+1,o=b+w;return new k.Range(C,1,o+1,1)}static fromEditorSelection(m,w,b,C){const n=D._getPageOfLine(w.startLineNumber,b),i=D._getRangeForPage(n,b),t=D._getPageOfLine(w.endLineNumber,b),s=D._getRangeForPage(t,b);let c=i.intersectRanges(new k.Range(1,1,w.startLineNumber,w.startColumn));if(C&&m.getValueLengthInRange(c,1)>500){const v=m.modifyPosition(c.getEndPosition(),-500);c=k.Range.fromPositions(v,c.getEndPosition())}const g=m.getValueInRange(c,1),l=m.getLineCount(),r=m.getLineMaxColumn(l);let d=s.intersectRanges(new k.Range(w.endLineNumber,w.endColumn,l,r));if(C&&m.getValueLengthInRange(d,1)>500){const v=m.modifyPosition(d.getStartPosition(),500);d=k.Range.fromPositions(d.getStartPosition(),v)}const u=m.getValueInRange(d,1);let a;if(n===t||n+1===t)a=m.getValueInRange(w,1);else{const v=i.intersectRanges(w),h=s.intersectRanges(w);a=m.getValueInRange(v,1)+"\u2026"+m.getValueInRange(h,1)}return C&&a.length>2*500&&(a=a.substring(0,500)+"\u2026"+a.substring(a.length-500,a.length)),new L(g+a+u,g.length,g.length+a.length,w,c.endLineNumber-c.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(ne[73],se([1,0,5]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(D,y){return{range:new f.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:y,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,y){return{range:D,text:y}}static replaceMove(D,y){return{range:D,text:y,forceMoveMarkers:!0}}}e.EditOperation=k}),define(ne[534],se([1,0,11,73,5]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrimTrailingWhitespaceCommand=void 0,e.trimTrailingWhitespace=y;class D{constructor(w,b,C){this._selection=w,this._cursors=b,this._selectionId=null,this._trimInRegexesAndStrings=C}getEditOperations(w,b){const C=y(w,this._cursors,this._trimInRegexesAndStrings);for(let o=0,n=C.length;o<n;o++){const i=C[o];b.addEditOperation(i.range,i.text)}this._selectionId=b.trackSelection(this._selection)}computeCursorState(w,b){return b.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function y(m,w,b){w.sort((t,s)=>t.lineNumber===s.lineNumber?t.column-s.column:t.lineNumber-s.lineNumber);for(let t=w.length-2;t>=0;t--)w[t].lineNumber===w[t+1].lineNumber&&w.splice(t,1);const C=[];let o=0,n=0;const i=w.length;for(let t=1,s=m.getLineCount();t<=s;t++){const c=m.getLineContent(t),g=c.length+1;let l=0;if(n<i&&w[n].lineNumber===t&&(l=w[n].column,n++,l===g)||c.length===0)continue;const r=f.lastNonWhitespaceIndex(c);let d=0;if(r===-1)d=1;else if(r!==c.length-1)d=r+2;else continue;if(!b){if(!m.tokenization.hasAccurateTokensForLine(t))continue;const u=m.tokenization.getLineTokens(t),a=u.getStandardTokenType(u.findTokenIndexAtOffset(d));if(a===2||a===3)continue}d=Math.max(l,d),C[o++]=k.EditOperation.delete(new L.Range(t,d,t,g))}return C}}),define(ne[61],se([1,0,9,67,5,68]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeSet=e.LineRange=void 0;class y{static fromRangeInclusive(b){return new y(b.startLineNumber,b.endLineNumber+1)}static joinMany(b){if(b.length===0)return[];let C=new m(b[0].slice());for(let o=1;o<b.length;o++)C=C.getUnion(new m(b[o].slice()));return C.ranges}static join(b){if(b.length===0)throw new f.BugIndicatingError("lineRanges cannot be empty");let C=b[0].startLineNumber,o=b[0].endLineNumberExclusive;for(let n=1;n<b.length;n++)C=Math.min(C,b[n].startLineNumber),o=Math.max(o,b[n].endLineNumberExclusive);return new y(C,o)}static ofLength(b,C){return new y(b,b+C)}static deserialize(b){return new y(b[0],b[1])}constructor(b,C){if(b>C)throw new f.BugIndicatingError(`startLineNumber ${b} cannot be after endLineNumberExclusive ${C}`);this.startLineNumber=b,this.endLineNumberExclusive=C}contains(b){return this.startLineNumber<=b&&b<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(b){return new y(this.startLineNumber+b,this.endLineNumberExclusive+b)}deltaLength(b){return new y(this.startLineNumber,this.endLineNumberExclusive+b)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(b){return new y(Math.min(this.startLineNumber,b.startLineNumber),Math.max(this.endLineNumberExclusive,b.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(b){const C=Math.max(this.startLineNumber,b.startLineNumber),o=Math.min(this.endLineNumberExclusive,b.endLineNumberExclusive);if(C<=o)return new y(C,o)}intersectsStrict(b){return this.startLineNumber<b.endLineNumberExclusive&&b.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(b){return this.startLineNumber<=b.endLineNumberExclusive&&b.startLineNumber<=this.endLineNumberExclusive}equals(b){return this.startLineNumber===b.startLineNumber&&this.endLineNumberExclusive===b.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new L.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new L.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(b){const C=[];for(let o=this.startLineNumber;o<this.endLineNumberExclusive;o++)C.push(b(o));return C}forEach(b){for(let C=this.startLineNumber;C<this.endLineNumberExclusive;C++)b(C)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(b){return this.startLineNumber<=b&&b<this.endLineNumberExclusive}toOffsetRange(){return new k.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=y;class m{constructor(b=[]){this._normalizedRanges=b}get ranges(){return this._normalizedRanges}addRange(b){if(b.length===0)return;const C=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,n=>n.endLineNumberExclusive>=b.startLineNumber),o=(0,D.findLastIdxMonotonous)(this._normalizedRanges,n=>n.startLineNumber<=b.endLineNumberExclusive)+1;if(C===o)this._normalizedRanges.splice(C,0,b);else if(C===o-1){const n=this._normalizedRanges[C];this._normalizedRanges[C]=n.join(b)}else{const n=this._normalizedRanges[C].join(this._normalizedRanges[o-1]).join(b);this._normalizedRanges.splice(C,o-C,n)}}contains(b){const C=(0,D.findLastMonotonous)(this._normalizedRanges,o=>o.startLineNumber<=b);return!!C&&C.endLineNumberExclusive>b}intersects(b){const C=(0,D.findLastMonotonous)(this._normalizedRanges,o=>o.startLineNumber<b.endLineNumberExclusive);return!!C&&C.endLineNumberExclusive>b.startLineNumber}getUnion(b){if(this._normalizedRanges.length===0)return b;if(b._normalizedRanges.length===0)return this;const C=[];let o=0,n=0,i=null;for(;o<this._normalizedRanges.length||n<b._normalizedRanges.length;){let t=null;if(o<this._normalizedRanges.length&&n<b._normalizedRanges.length){const s=this._normalizedRanges[o],c=b._normalizedRanges[n];s.startLineNumber<c.startLineNumber?(t=s,o++):(t=c,n++)}else o<this._normalizedRanges.length?(t=this._normalizedRanges[o],o++):(t=b._normalizedRanges[n],n++);i===null?i=t:i.endLineNumberExclusive>=t.startLineNumber?i=new y(i.startLineNumber,Math.max(i.endLineNumberExclusive,t.endLineNumberExclusive)):(C.push(i),i=t)}return i!==null&&C.push(i),new m(C)}subtractFrom(b){const C=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=b.startLineNumber),o=(0,D.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=b.endLineNumberExclusive)+1;if(C===o)return new m([b]);const n=[];let i=b.startLineNumber;for(let t=C;t<o;t++){const s=this._normalizedRanges[t];s.startLineNumber>i&&n.push(new y(i,s.startLineNumber)),i=s.endLineNumberExclusive}return i<b.endLineNumberExclusive&&n.push(new y(i,b.endLineNumberExclusive)),new m(n)}toString(){return this._normalizedRanges.map(b=>b.toString()).join(", ")}getIntersection(b){const C=[];let o=0,n=0;for(;o<this._normalizedRanges.length&&n<b._normalizedRanges.length;){const i=this._normalizedRanges[o],t=b._normalizedRanges[n],s=i.intersect(t);s&&!s.isEmpty&&C.push(s),i.endLineNumberExclusive<t.endLineNumberExclusive?o++:n++}return new m(C)}getWithDelta(b){return new m(this._normalizedRanges.map(C=>C.delta(b)))}}e.LineRangeSet=m}),define(ne[305],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class f{constructor(L,D,y,m){this._rgba8Brand=void 0,this.r=f._clamp(L),this.g=f._clamp(D),this.b=f._clamp(y),this.a=f._clamp(m)}equals(L){return this.r===L.r&&this.g===L.g&&this.b===L.b&&this.a===L.a}static _clamp(L){return L<0?0:L>255?255:L|0}}e.RGBA8=f,f.Empty=new f(0,0,0,0)}),define(ne[24],se([1,0,10,5]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class L extends k.Range{constructor(y,m,w,b){super(y,m,w,b),this.selectionStartLineNumber=y,this.selectionStartColumn=m,this.positionLineNumber=w,this.positionColumn=b}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return L.selectionsEqual(this,y)}static selectionsEqual(y,m){return y.selectionStartLineNumber===m.selectionStartLineNumber&&y.selectionStartColumn===m.selectionStartColumn&&y.positionLineNumber===m.positionLineNumber&&y.positionColumn===m.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,m){return this.getDirection()===0?new L(this.startLineNumber,this.startColumn,y,m):new L(y,m,this.startLineNumber,this.startColumn)}getPosition(){return new f.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new f.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(y,m){return this.getDirection()===0?new L(y,m,this.endLineNumber,this.endColumn):new L(this.endLineNumber,this.endColumn,y,m)}static fromPositions(y,m=y){return new L(y.lineNumber,y.column,m.lineNumber,m.column)}static fromRange(y,m){return m===0?new L(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):new L(y.endLineNumber,y.endColumn,y.startLineNumber,y.startColumn)}static liftSelection(y){return new L(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,m){if(y&&!m||!y&&m)return!1;if(!y&&!m)return!0;if(y.length!==m.length)return!1;for(let w=0,b=y.length;w<b;w++)if(!this.selectionsEqual(y[w],m[w]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,m,w,b,C){return C===0?new L(y,m,w,b):new L(w,b,y,m)}}e.Selection=L}),define(ne[142],se([1,0,24]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(b,C,o=!1){this._range=b,this._text=C,this.insertsAutoWhitespace=o}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,C){const n=C.getInverseEditOperations()[0].range;return f.Selection.fromPositions(n.getEndPosition())}}e.ReplaceCommand=k;class L{constructor(b,C){this._range=b,this._text=C}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,C){const n=C.getInverseEditOperations()[0].range;return f.Selection.fromRange(n,0)}}e.ReplaceCommandThatSelectsText=L;class D{constructor(b,C,o=!1){this._range=b,this._text=C,this.insertsAutoWhitespace=o}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,C){const n=C.getInverseEditOperations()[0].range;return f.Selection.fromPositions(n.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class y{constructor(b,C,o,n,i=!1){this._range=b,this._text=C,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=o,this.insertsAutoWhitespace=i}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,C){const n=C.getInverseEditOperations()[0].range;return f.Selection.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=y;class m{constructor(b,C,o,n=!1){this._range=b,this._text=C,this._initialSelection=o,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=C.trackSelection(this._initialSelection)}computeCursorState(b,C){return C.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=m}),define(ne[535],se([1,0,5,24]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class L{constructor(m,w,b){this._range=m,this._charBeforeSelection=w,this._charAfterSelection=b}getEditOperations(m,w){w.addTrackedEditOperation(new f.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),w.addTrackedEditOperation(new f.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(m,w){const b=w.getInverseEditOperations(),C=b[0].range,o=b[1].range;return new k.Selection(C.endLineNumber,C.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=L;class D{constructor(m,w,b){this._position=m,this._text=w,this._charAfter=b}getEditOperations(m,w){w.addTrackedEditOperation(new f.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(m,w){const C=w.getInverseEditOperations()[0].range;return new k.Selection(C.endLineNumber,C.startColumn,C.endLineNumber,C.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(ne[108],se([1,0,10,5]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextLength=void 0;class L{static betweenPositions(y,m){return y.lineNumber===m.lineNumber?new L(0,m.column-y.column):new L(m.lineNumber-y.lineNumber,m.column-1)}static ofRange(y){return L.betweenPositions(y.getStartPosition(),y.getEndPosition())}static ofText(y){let m=0,w=0;for(const b of y)b===`
`?(m++,w=0):w++;return new L(m,w)}constructor(y,m){this.lineCount=y,this.columnCount=m}isGreaterThanOrEqualTo(y){return this.lineCount!==y.lineCount?this.lineCount>y.lineCount:this.columnCount>=y.columnCount}createRange(y){return this.lineCount===0?new k.Range(y.lineNumber,y.column,y.lineNumber,y.column+this.columnCount):new k.Range(y.lineNumber,y.column,y.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(y){return this.lineCount===0?new f.Position(y.lineNumber,y.column+this.columnCount):new f.Position(y.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}e.TextLength=L,L.zero=new L(0,0)}),define(ne[536],se([1,0,67,108]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PositionOffsetTransformer=void 0;class L{constructor(y){this.text=y,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let m=0;m<y.length;m++)y.charAt(m)===`
`&&this.lineStartOffsetByLineIdx.push(m+1)}getOffset(y){return this.lineStartOffsetByLineIdx[y.lineNumber-1]+y.column-1}getOffsetRange(y){return new f.OffsetRange(this.getOffset(y.getStartPosition()),this.getOffset(y.getEndPosition()))}get textLength(){const y=this.lineStartOffsetByLineIdx.length-1;return new k.TextLength(y,this.text.length-this.lineStartOffsetByLineIdx[y])}}e.PositionOffsetTransformer=L}),define(ne[109],se([1,0,87,9,10,536,5,108]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringText=e.AbstractText=e.SingleTextEdit=e.TextEdit=void 0;class w{constructor(t){this.edits=t,(0,f.assertFn)(()=>(0,f.checkAdjacentItems)(t,(s,c)=>s.range.getEndPosition().isBeforeOrEqual(c.range.getStartPosition())))}apply(t){let s="",c=new L.Position(1,1);for(const l of this.edits){const r=l.range,d=r.getStartPosition(),u=r.getEndPosition(),a=C(c,d);a.isEmpty()||(s+=t.getValueOfRange(a)),s+=l.text,c=u}const g=C(c,t.endPositionExclusive);return g.isEmpty()||(s+=t.getValueOfRange(g)),s}applyToString(t){const s=new n(t);return this.apply(s)}getNewRanges(){const t=[];let s=0,c=0,g=0;for(const l of this.edits){const r=m.TextLength.ofText(l.text),d=L.Position.lift({lineNumber:l.range.startLineNumber+c,column:l.range.startColumn+(l.range.startLineNumber===s?g:0)}),u=r.createRange(d);t.push(u),c=u.endLineNumber-l.range.endLineNumber,g=u.endColumn-l.range.endColumn,s=l.range.endLineNumber}return t}}e.TextEdit=w;class b{constructor(t,s){this.range=t,this.text=s}}e.SingleTextEdit=b;function C(i,t){if(i.lineNumber===t.lineNumber&&i.column===Number.MAX_SAFE_INTEGER)return y.Range.fromPositions(t,t);if(!i.isBeforeOrEqual(t))throw new k.BugIndicatingError("start must be before end");return new y.Range(i.lineNumber,i.column,t.lineNumber,t.column)}class o{get endPositionExclusive(){return this.length.addToPosition(new L.Position(1,1))}}e.AbstractText=o;class n extends o{constructor(t){super(),this.value=t,this._t=new D.PositionOffsetTransformer(this.value)}getValueOfRange(t){return this._t.getOffsetRange(t).substring(this.value)}get length(){return this._t.textLength}}e.StringText=n}),define(ne[192],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ne[161],se([1,0,45,140]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordCharacterClassifier=void 0,e.getMapForWordSeparators=y;class L extends k.CharacterClassifier{constructor(w,b){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=b,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let C=0,o=w.length;C<o;C++)this.set(w.charCodeAt(C),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(w,b){let C=null;for(const o of this._getIntlSegmenterWordsOnLine(w)){if(o.index>b)break;C=o}return C}findNextIntlWordAtOrAfterOffset(w,b){for(const C of this._getIntlSegmenterWordsOnLine(w))if(!(C.index<b))return C;return null}_getIntlSegmenterWordsOnLine(w){return this._segmenter?this._cachedLine===w?this._cachedSegments:(this._cachedLine=w,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(w)),this._cachedSegments):[]}_filterWordSegments(w){const b=[];for(const C of w)this._isWordLike(C)&&b.push(C);return b}_isWordLike(w){return!!w.isWordLike}}e.WordCharacterClassifier=L;const D=new f.LRUCache(10);function y(m,w){const b=`${m}/${w.join(",")}`;let C=D.get(b);return C||(C=new L(m,w),D.set(b,C)),C}}),define(ne[162],se([1,0,54,71]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.ensureValidWordDefinition=D,e.getWordAtText=m,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function L(b=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const o of e.USUAL_WORD_SEPARATORS)b.indexOf(o)>=0||(C+="\\"+o);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=L();function D(b){let C=e.DEFAULT_WORD_REGEXP;if(b&&b instanceof RegExp)if(b.global)C=b;else{let o="g";b.ignoreCase&&(o+="i"),b.multiline&&(o+="m"),b.unicode&&(o+="u"),C=new RegExp(b.source,o)}return C.lastIndex=0,C}const y=new k.LinkedList;y.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function m(b,C,o,n,i){if(C=D(C),i||(i=f.Iterable.first(y)),o.length>i.maxLen){let l=b-i.maxLen/2;return l<0?l=0:n+=l,o=o.substring(l,b+i.maxLen/2),m(b,C,o,n,i)}const t=Date.now(),s=b-1-n;let c=-1,g=null;for(let l=1;!(Date.now()-t>=i.timeBudget);l++){const r=s-i.windowSize*l;C.lastIndex=Math.max(0,r);const d=w(C,o,s,c);if(!d&&g||(g=d,r<=0))break;c=r}if(g){const l={word:g[0],startColumn:n+1+g.index,endColumn:n+1+g.index+g[0].length};return C.lastIndex=0,l}return null}function w(b,C,o,n){let i;for(;i=b.exec(C);){const t=i.index||0;if(t<=o&&b.lastIndex>=o)return i;if(n>0&&t>n)return null}return null}}),define(ne[306],se([1,0,90]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(D,y,m){const w=D.length;let b=0,C=-1,o=-1;for(let n=0;n<w;n++){if(n===y)return[C,o,b];switch(b%m===0&&(C=n,o=b),D.charCodeAt(n)){case 32:b+=1;break;case 9:b=f.CursorColumns.nextRenderTabStop(b,m);break;default:return[-1,-1,-1]}}return y===w?[C,o,b]:[-1,-1,-1]}static atomicPosition(D,y,m,w){const b=D.length,[C,o,n]=k.whitespaceVisibleColumn(D,y,m);if(n===-1)return-1;let i;switch(w){case 0:i=!0;break;case 1:i=!1;break;case 2:if(n%m===0)return y;i=n%m<=m/2;break}if(i){if(C===-1)return-1;let c=o;for(let g=C;g<b;++g){if(c===o+m)return C;switch(D.charCodeAt(g)){case 32:c+=1;break;case 9:c=f.CursorColumns.nextRenderTabStop(c,m);break;default:return-1}}return c===o+m?C:-1}const t=f.CursorColumns.nextRenderTabStop(n,m);let s=n;for(let c=y;c<b;c++){if(s===t)return c;switch(D.charCodeAt(c)){case 32:s+=1;break;case 9:s=f.CursorColumns.nextRenderTabStop(s,m);break;default:return-1}}return s===t?b:-1}}e.AtomicTabMoveOperations=k}),define(ne[537],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class f{constructor(L,D,y,m){this._cursorContextBrand=void 0,this.model=L,this.viewModel=D,this.coordinatesConverter=y,this.cursorConfig=m}}e.CursorContext=f}),define(ne[163],se([1,0,13,9,67]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.OffsetPair=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class D{static trivial(o,n){return new D([new y(L.OffsetRange.ofLength(o.length),L.OffsetRange.ofLength(n.length))],!1)}static trivialTimedOut(o,n){return new D([new y(L.OffsetRange.ofLength(o.length),L.OffsetRange.ofLength(n.length))],!0)}constructor(o,n){this.diffs=o,this.hitTimeout=n}}e.DiffAlgorithmResult=D;class y{static invert(o,n){const i=[];return(0,f.forEachAdjacent)(o,(t,s)=>{i.push(y.fromOffsetPairs(t?t.getEndExclusives():m.zero,s?s.getStarts():new m(n,(t?t.seq2Range.endExclusive-t.seq1Range.endExclusive:0)+n)))}),i}static fromOffsetPairs(o,n){return new y(new L.OffsetRange(o.offset1,n.offset1),new L.OffsetRange(o.offset2,n.offset2))}constructor(o,n){this.seq1Range=o,this.seq2Range=n}swap(){return new y(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(o){return new y(this.seq1Range.join(o.seq1Range),this.seq2Range.join(o.seq2Range))}delta(o){return o===0?this:new y(this.seq1Range.delta(o),this.seq2Range.delta(o))}deltaStart(o){return o===0?this:new y(this.seq1Range.deltaStart(o),this.seq2Range.deltaStart(o))}deltaEnd(o){return o===0?this:new y(this.seq1Range.deltaEnd(o),this.seq2Range.deltaEnd(o))}intersect(o){const n=this.seq1Range.intersect(o.seq1Range),i=this.seq2Range.intersect(o.seq2Range);if(!(!n||!i))return new y(n,i)}getStarts(){return new m(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new m(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}e.SequenceDiff=y;class m{constructor(o,n){this.offset1=o,this.offset2=n}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(o){return o===0?this:new m(this.offset1+o,this.offset2+o)}equals(o){return this.offset1===o.offset1&&this.offset2===o.offset2}}e.OffsetPair=m,m.zero=new m(0,0),m.max=new m(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class w{isValid(){return!0}}e.InfiniteTimeout=w,w.instance=new w;class b{constructor(o){if(this.timeout=o,this.startTime=Date.now(),this.valid=!0,o<=0)throw new k.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=b}),define(ne[307],se([1,0,67,163]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class L{compute(b,C,o=k.InfiniteTimeout.instance){if(b.length===0||C.length===0)return k.DiffAlgorithmResult.trivial(b,C);const n=b,i=C;function t(v,h){for(;v<n.length&&h<i.length&&n.getElement(v)===i.getElement(h);)v++,h++;return v}let s=0;const c=new y;c.set(0,t(0,0));const g=new m;g.set(0,c.get(0)===0?null:new D(null,0,0,c.get(0)));let l=0;e:for(;;){if(s++,!o.isValid())return k.DiffAlgorithmResult.trivialTimedOut(n,i);const v=-Math.min(s,i.length+s%2),h=Math.min(s,n.length+s%2);for(l=v;l<=h;l+=2){let p=0;const _=l===h?-1:c.get(l+1),S=l===v?-1:c.get(l-1)+1;p++;const E=Math.min(Math.max(_,S),n.length),I=E-l;if(p++,E>n.length||I>i.length)continue;const T=t(E,I);c.set(l,T);const N=E===_?g.get(l+1):g.get(l-1);if(g.set(l,T!==E?new D(N,E,I,T-E):N),c.get(l)===n.length&&c.get(l)-l===i.length)break e}}let r=g.get(l);const d=[];let u=n.length,a=i.length;for(;;){const v=r?r.x+r.length:0,h=r?r.y+r.length:0;if((v!==u||h!==a)&&d.push(new k.SequenceDiff(new f.OffsetRange(v,u),new f.OffsetRange(h,a))),!r)break;u=r.x,a=r.y,r=r.prev}return d.reverse(),new k.DiffAlgorithmResult(d,!1)}}e.MyersDiffAlgorithm=L;class D{constructor(b,C,o,n){this.prev=b,this.x=C,this.y=o,this.length=n}}class y{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(b){return b<0?(b=-b-1,this.negativeArr[b]):this.positiveArr[b]}set(b,C){if(b<0){if(b=-b-1,b>=this.negativeArr.length){const o=this.negativeArr;this.negativeArr=new Int32Array(o.length*2),this.negativeArr.set(o)}this.negativeArr[b]=C}else{if(b>=this.positiveArr.length){const o=this.positiveArr;this.positiveArr=new Int32Array(o.length*2),this.positiveArr.set(o)}this.positiveArr[b]=C}}}class m{constructor(){this.positiveArr=[],this.negativeArr=[]}get(b){return b<0?(b=-b-1,this.negativeArr[b]):this.positiveArr[b]}set(b,C){b<0?(b=-b-1,this.negativeArr[b]=C):this.positiveArr[b]=C}}}),define(ne[308],se([1,0,13,67,163]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optimizeSequenceDiffs=D,e.removeShortMatches=b,e.extendDiffsToEntireWordIfAppropriate=C,e.removeVeryShortMatchingLinesBetweenDiffs=n,e.removeVeryShortMatchingTextBetweenLongDiffs=i;function D(t,s,c){let g=c;return g=y(t,s,g),g=y(t,s,g),g=m(t,s,g),g}function y(t,s,c){if(c.length===0)return c;const g=[];g.push(c[0]);for(let r=1;r<c.length;r++){const d=g[g.length-1];let u=c[r];if(u.seq1Range.isEmpty||u.seq2Range.isEmpty){const a=u.seq1Range.start-d.seq1Range.endExclusive;let v;for(v=1;v<=a&&!(t.getElement(u.seq1Range.start-v)!==t.getElement(u.seq1Range.endExclusive-v)||s.getElement(u.seq2Range.start-v)!==s.getElement(u.seq2Range.endExclusive-v));v++);if(v--,v===a){g[g.length-1]=new L.SequenceDiff(new k.OffsetRange(d.seq1Range.start,u.seq1Range.endExclusive-a),new k.OffsetRange(d.seq2Range.start,u.seq2Range.endExclusive-a));continue}u=u.delta(-v)}g.push(u)}const l=[];for(let r=0;r<g.length-1;r++){const d=g[r+1];let u=g[r];if(u.seq1Range.isEmpty||u.seq2Range.isEmpty){const a=d.seq1Range.start-u.seq1Range.endExclusive;let v;for(v=0;v<a&&!(!t.isStronglyEqual(u.seq1Range.start+v,u.seq1Range.endExclusive+v)||!s.isStronglyEqual(u.seq2Range.start+v,u.seq2Range.endExclusive+v));v++);if(v===a){g[r+1]=new L.SequenceDiff(new k.OffsetRange(u.seq1Range.start+a,d.seq1Range.endExclusive),new k.OffsetRange(u.seq2Range.start+a,d.seq2Range.endExclusive));continue}v>0&&(u=u.delta(v))}l.push(u)}return g.length>0&&l.push(g[g.length-1]),l}function m(t,s,c){if(!t.getBoundaryScore||!s.getBoundaryScore)return c;for(let g=0;g<c.length;g++){const l=g>0?c[g-1]:void 0,r=c[g],d=g+1<c.length?c[g+1]:void 0,u=new k.OffsetRange(l?l.seq1Range.endExclusive+1:0,d?d.seq1Range.start-1:t.length),a=new k.OffsetRange(l?l.seq2Range.endExclusive+1:0,d?d.seq2Range.start-1:s.length);r.seq1Range.isEmpty?c[g]=w(r,t,s,u,a):r.seq2Range.isEmpty&&(c[g]=w(r.swap(),s,t,a,u).swap())}return c}function w(t,s,c,g,l){let d=1;for(;t.seq1Range.start-d>=g.start&&t.seq2Range.start-d>=l.start&&c.isStronglyEqual(t.seq2Range.start-d,t.seq2Range.endExclusive-d)&&d<100;)d++;d--;let u=0;for(;t.seq1Range.start+u<g.endExclusive&&t.seq2Range.endExclusive+u<l.endExclusive&&c.isStronglyEqual(t.seq2Range.start+u,t.seq2Range.endExclusive+u)&&u<100;)u++;if(d===0&&u===0)return t;let a=0,v=-1;for(let h=-d;h<=u;h++){const p=t.seq2Range.start+h,_=t.seq2Range.endExclusive+h,S=t.seq1Range.start+h,E=s.getBoundaryScore(S)+c.getBoundaryScore(p)+c.getBoundaryScore(_);E>v&&(v=E,a=h)}return t.delta(a)}function b(t,s,c){const g=[];for(const l of c){const r=g[g.length-1];if(!r){g.push(l);continue}l.seq1Range.start-r.seq1Range.endExclusive<=2||l.seq2Range.start-r.seq2Range.endExclusive<=2?g[g.length-1]=new L.SequenceDiff(r.seq1Range.join(l.seq1Range),r.seq2Range.join(l.seq2Range)):g.push(l)}return g}function C(t,s,c){const g=L.SequenceDiff.invert(c,t.length),l=[];let r=new L.OffsetPair(0,0);function d(a,v){if(a.offset1<r.offset1||a.offset2<r.offset2)return;const h=t.findWordContaining(a.offset1),p=s.findWordContaining(a.offset2);if(!h||!p)return;let _=new L.SequenceDiff(h,p);const S=_.intersect(v);let E=S.seq1Range.length,I=S.seq2Range.length;for(;g.length>0;){const T=g[0];if(!(T.seq1Range.intersects(_.seq1Range)||T.seq2Range.intersects(_.seq2Range)))break;const A=t.findWordContaining(T.seq1Range.start),R=s.findWordContaining(T.seq2Range.start),M=new L.SequenceDiff(A,R),P=M.intersect(T);if(E+=P.seq1Range.length,I+=P.seq2Range.length,_=_.join(M),_.seq1Range.endExclusive>=T.seq1Range.endExclusive)g.shift();else break}E+I<(_.seq1Range.length+_.seq2Range.length)*2/3&&l.push(_),r=_.getEndExclusives()}for(;g.length>0;){const a=g.shift();a.seq1Range.isEmpty||(d(a.getStarts(),a),d(a.getEndExclusives().delta(-1),a))}return o(c,l)}function o(t,s){const c=[];for(;t.length>0||s.length>0;){const g=t[0],l=s[0];let r;g&&(!l||g.seq1Range.start<l.seq1Range.start)?r=t.shift():r=s.shift(),c.length>0&&c[c.length-1].seq1Range.endExclusive>=r.seq1Range.start?c[c.length-1]=c[c.length-1].join(r):c.push(r)}return c}function n(t,s,c){let g=c;if(g.length===0)return g;let l=0,r;do{r=!1;const d=[g[0]];for(let u=1;u<g.length;u++){let h=function(_,S){const E=new k.OffsetRange(v.seq1Range.endExclusive,a.seq1Range.start);return t.getText(E).replace(/\s/g,"").length<=4&&(_.seq1Range.length+_.seq2Range.length>5||S.seq1Range.length+S.seq2Range.length>5)};const a=g[u],v=d[d.length-1];h(v,a)?(r=!0,d[d.length-1]=d[d.length-1].join(a)):d.push(a)}g=d}while(l++<10&&r);return g}function i(t,s,c){let g=c;if(g.length===0)return g;let l=0,r;do{r=!1;const u=[g[0]];for(let a=1;a<g.length;a++){let p=function(S,E){const I=new k.OffsetRange(h.seq1Range.endExclusive,v.seq1Range.start);if(t.countLinesIn(I)>5||I.length>500)return!1;const N=t.getText(I).trim();if(N.length>20||N.split(/\r\n|\r|\n/).length>1)return!1;const A=t.countLinesIn(S.seq1Range),R=S.seq1Range.length,M=s.countLinesIn(S.seq2Range),P=S.seq2Range.length,F=t.countLinesIn(E.seq1Range),O=E.seq1Range.length,B=s.countLinesIn(E.seq2Range),V=E.seq2Range.length,K=2*40+50;function U(G){return Math.min(G,K)}return Math.pow(Math.pow(U(A*40+R),1.5)+Math.pow(U(M*40+P),1.5),1.5)+Math.pow(Math.pow(U(F*40+O),1.5)+Math.pow(U(B*40+V),1.5),1.5)>(K**1.5)**1.5*1.3};const v=g[a],h=u[u.length-1];p(h,v)?(r=!0,u[u.length-1]=u[u.length-1].join(v)):u.push(v)}g=u}while(l++<10&&r);const d=[];return(0,f.forEachWithNeighbors)(g,(u,a,v)=>{let h=a;function p(N){return N.length>0&&N.trim().length<=3&&a.seq1Range.length+a.seq2Range.length>100}const _=t.extendToFullLines(a.seq1Range),S=t.getText(new k.OffsetRange(_.start,a.seq1Range.start));p(S)&&(h=h.deltaStart(-S.length));const E=t.getText(new k.OffsetRange(a.seq1Range.endExclusive,_.endExclusive));p(E)&&(h=h.deltaEnd(E.length));const I=L.SequenceDiff.fromOffsetPairs(u?u.getEndExclusives():L.OffsetPair.zero,v?v.getStarts():L.OffsetPair.max),T=h.intersect(I);d.length>0&&T.getStarts().equals(d[d.length-1].getEndExclusives())?d[d.length-1]=d[d.length-1].join(T):d.push(T)}),d}}),define(ne[538],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=void 0;class f{constructor(D,y){this.trimmedHash=D,this.lines=y}getElement(D){return this.trimmedHash[D]}get length(){return this.trimmedHash.length}getBoundaryScore(D){const y=D===0?0:k(this.lines[D-1]),m=D===this.lines.length?0:k(this.lines[D]);return 1e3-(y+m)}getText(D){return this.lines.slice(D.start,D.endExclusive).join(`
`)}isStronglyEqual(D,y){return this.lines[D]===this.lines[y]}}e.LineSequence=f;function k(L){let D=0;for(;D<L.length&&(L.charCodeAt(D)===32||L.charCodeAt(D)===9);)D++;return D}}),define(ne[227],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeFragment=e.Array2D=void 0,e.isSpace=k;class f{constructor(y,m){this.width=y,this.height=m,this.array=[],this.array=new Array(y*m)}get(y,m){return this.array[y+m*this.width]}set(y,m,w){this.array[y+m*this.width]=w}}e.Array2D=f;function k(D){return D===32||D===9}class L{static getKey(y){let m=this.chrKeys.get(y);return m===void 0&&(m=this.chrKeys.size,this.chrKeys.set(y,m)),m}constructor(y,m,w){this.range=y,this.lines=m,this.source=w,this.histogram=[];let b=0;for(let C=y.startLineNumber-1;C<y.endLineNumberExclusive-1;C++){const o=m[C];for(let i=0;i<o.length;i++){b++;const t=o[i],s=L.getKey(t);this.histogram[s]=(this.histogram[s]||0)+1}b++;const n=L.getKey(`
`);this.histogram[n]=(this.histogram[n]||0)+1}this.totalCount=b}computeSimilarity(y){var m,w;let b=0;const C=Math.max(this.histogram.length,y.histogram.length);for(let o=0;o<C;o++)b+=Math.abs(((m=this.histogram[o])!==null&&m!==void 0?m:0)-((w=y.histogram[o])!==null&&w!==void 0?w:0));return 1-b/(this.totalCount+y.totalCount)}}e.LineRangeFragment=L,L.chrKeys=new Map}),define(ne[539],se([1,0,67,163,227]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class D{compute(m,w,b=k.InfiniteTimeout.instance,C){if(m.length===0||w.length===0)return k.DiffAlgorithmResult.trivial(m,w);const o=new L.Array2D(m.length,w.length),n=new L.Array2D(m.length,w.length),i=new L.Array2D(m.length,w.length);for(let d=0;d<m.length;d++)for(let u=0;u<w.length;u++){if(!b.isValid())return k.DiffAlgorithmResult.trivialTimedOut(m,w);const a=d===0?0:o.get(d-1,u),v=u===0?0:o.get(d,u-1);let h;m.getElement(d)===w.getElement(u)?(d===0||u===0?h=0:h=o.get(d-1,u-1),d>0&&u>0&&n.get(d-1,u-1)===3&&(h+=i.get(d-1,u-1)),h+=C?C(d,u):1):h=-1;const p=Math.max(a,v,h);if(p===h){const _=d>0&&u>0?i.get(d-1,u-1):0;i.set(d,u,_+1),n.set(d,u,3)}else p===a?(i.set(d,u,0),n.set(d,u,1)):p===v&&(i.set(d,u,0),n.set(d,u,2));o.set(d,u,p)}const t=[];let s=m.length,c=w.length;function g(d,u){(d+1!==s||u+1!==c)&&t.push(new k.SequenceDiff(new f.OffsetRange(d+1,s),new f.OffsetRange(u+1,c))),s=d,c=u}let l=m.length-1,r=w.length-1;for(;l>=0&&r>=0;)n.get(l,r)===3?(g(l,r),l--,r--):n.get(l,r)===1?l--:r--;return g(-1,-1),t.reverse(),new k.DiffAlgorithmResult(t,!1)}}e.DynamicProgrammingDiffing=D}),define(ne[309],se([1,0,68,67,10,5,227]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=void 0;class m{constructor(i,t,s){this.lines=i,this.considerWhitespaceChanges=s,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let c=!1;t.start>0&&t.endExclusive>=i.length&&(t=new k.OffsetRange(t.start-1,t.endExclusive),c=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let g=this.lineRange.start;g<this.lineRange.endExclusive;g++){let l=i[g],r=0;if(c)r=l.length,l="",c=!1;else if(!s){const d=l.trimStart();r=l.length-d.length,l=d.trimEnd()}this.additionalOffsetByLine.push(r);for(let d=0;d<l.length;d++)this.elements.push(l.charCodeAt(d));g<i.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[g-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new k.OffsetRange(0,this.length))}getText(i){return this.elements.slice(i.start,i.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(i){return this.elements[i]}get length(){return this.elements.length}getBoundaryScore(i){const t=o(i>0?this.elements[i-1]:-1),s=o(i<this.elements.length?this.elements[i]:-1);if(t===7&&s===8)return 0;if(t===8)return 150;let c=0;return t!==s&&(c+=10,t===0&&s===1&&(c+=1)),c+=C(t),c+=C(s),c}translateOffset(i){if(this.lineRange.isEmpty)return new L.Position(this.lineRange.start+1,1);const t=(0,f.findLastIdxMonotonous)(this.firstCharOffsetByLine,s=>s<=i);return new L.Position(this.lineRange.start+t+1,i-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(i){return D.Range.fromPositions(this.translateOffset(i.start),this.translateOffset(i.endExclusive))}findWordContaining(i){if(i<0||i>=this.elements.length||!w(this.elements[i]))return;let t=i;for(;t>0&&w(this.elements[t-1]);)t--;let s=i;for(;s<this.elements.length&&w(this.elements[s]);)s++;return new k.OffsetRange(t,s)}countLinesIn(i){return this.translateOffset(i.endExclusive).lineNumber-this.translateOffset(i.start).lineNumber}isStronglyEqual(i,t){return this.elements[i]===this.elements[t]}extendToFullLines(i){var t,s;const c=(t=(0,f.findLastMonotonous)(this.firstCharOffsetByLine,l=>l<=i.start))!==null&&t!==void 0?t:0,g=(s=(0,f.findFirstMonotonous)(this.firstCharOffsetByLine,l=>i.endExclusive<=l))!==null&&s!==void 0?s:this.elements.length;return new k.OffsetRange(c,g)}}e.LinesSliceCharSequence=m;function w(n){return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57}const b={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function C(n){return b[n]}function o(n){return n===10?8:n===13?7:(0,y.isSpace)(n)?6:n>=97&&n<=122?0:n>=65&&n<=90?1:n>=48&&n<=57?2:n===-1?3:n===44||n===59?5:4}}),define(ne[228],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.LinesDiff=void 0;class f{constructor(D,y,m){this.changes=D,this.moves=y,this.hitTimeout=m}}e.LinesDiff=f;class k{constructor(D,y){this.lineRangeMapping=D,this.changes=y}}e.MovedText=k}),define(ne[101],se([1,0,9,61,5,109]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMapping=e.DetailedLineRangeMapping=e.LineRangeMapping=void 0;class y{static inverse(C,o,n){const i=[];let t=1,s=1;for(const g of C){const l=new y(new k.LineRange(t,g.original.startLineNumber),new k.LineRange(s,g.modified.startLineNumber));l.modified.isEmpty||i.push(l),t=g.original.endLineNumberExclusive,s=g.modified.endLineNumberExclusive}const c=new y(new k.LineRange(t,o+1),new k.LineRange(s,n+1));return c.modified.isEmpty||i.push(c),i}static clip(C,o,n){const i=[];for(const t of C){const s=t.original.intersect(o),c=t.modified.intersect(n);s&&!s.isEmpty&&c&&!c.isEmpty&&i.push(new y(s,c))}return i}constructor(C,o){this.original=C,this.modified=o}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new y(this.modified,this.original)}join(C){return new y(this.original.join(C.original),this.modified.join(C.modified))}toRangeMapping(){const C=this.original.toInclusiveRange(),o=this.modified.toInclusiveRange();if(C&&o)return new w(C,o);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new f.BugIndicatingError("not a valid diff");return new w(new L.Range(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new L.Range(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new w(new L.Range(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new L.Range(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}}e.LineRangeMapping=y;class m extends y{static fromRangeMappings(C){const o=k.LineRange.join(C.map(i=>k.LineRange.fromRangeInclusive(i.originalRange))),n=k.LineRange.join(C.map(i=>k.LineRange.fromRangeInclusive(i.modifiedRange)));return new m(o,n,C)}constructor(C,o,n){super(C,o),this.innerChanges=n}flip(){var C;return new m(this.modified,this.original,(C=this.innerChanges)===null||C===void 0?void 0:C.map(o=>o.flip()))}withInnerChangesFromLineRanges(){return new m(this.original,this.modified,[this.toRangeMapping()])}}e.DetailedLineRangeMapping=m;class w{constructor(C,o){this.originalRange=C,this.modifiedRange=o}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new w(this.modifiedRange,this.originalRange)}toTextEdit(C){const o=C.getValueOfRange(this.modifiedRange);return new D.SingleTextEdit(this.originalRange,o)}}e.RangeMapping=w}),define(ne[540],se([1,0,163,101,13,68,45,61,67,309,227,307]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMovedLines=n;function n(r,d,u,a,v,h){let{moves:p,excludedChanges:_}=t(r,d,u,h);if(!h.isValid())return[];const S=r.filter(I=>!_.has(I)),E=s(S,a,v,d,u,h);return(0,L.pushMany)(p,E),p=g(p),p=p.filter(I=>{const T=I.original.toOffsetRange().slice(d).map(A=>A.trim());return T.join(`
`).length>=15&&i(T,A=>A.length>=2)>=2}),p=l(r,p),p}function i(r,d){let u=0;for(const a of r)d(a)&&u++;return u}function t(r,d,u,a){const v=[],h=r.filter(S=>S.modified.isEmpty&&S.original.length>=3).map(S=>new C.LineRangeFragment(S.original,d,S)),p=new Set(r.filter(S=>S.original.isEmpty&&S.modified.length>=3).map(S=>new C.LineRangeFragment(S.modified,u,S))),_=new Set;for(const S of h){let E=-1,I;for(const T of p){const N=S.computeSimilarity(T);N>E&&(E=N,I=T)}if(E>.9&&I&&(p.delete(I),v.push(new k.LineRangeMapping(S.range,I.range)),_.add(S.source),_.add(I.source)),!a.isValid())return{moves:v,excludedChanges:_}}return{moves:v,excludedChanges:_}}function s(r,d,u,a,v,h){const p=[],_=new y.SetMap;for(const N of r)for(let A=N.original.startLineNumber;A<N.original.endLineNumberExclusive-2;A++){const R=`${d[A-1]}:${d[A+1-1]}:${d[A+2-1]}`;_.add(R,{range:new m.LineRange(A,A+3)})}const S=[];r.sort((0,L.compareBy)(N=>N.modified.startLineNumber,L.numberComparator));for(const N of r){let A=[];for(let R=N.modified.startLineNumber;R<N.modified.endLineNumberExclusive-2;R++){const M=`${u[R-1]}:${u[R+1-1]}:${u[R+2-1]}`,P=new m.LineRange(R,R+3),F=[];_.forEach(M,({range:O})=>{for(const V of A)if(V.originalLineRange.endLineNumberExclusive+1===O.endLineNumberExclusive&&V.modifiedLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive){V.originalLineRange=new m.LineRange(V.originalLineRange.startLineNumber,O.endLineNumberExclusive),V.modifiedLineRange=new m.LineRange(V.modifiedLineRange.startLineNumber,P.endLineNumberExclusive),F.push(V);return}const B={modifiedLineRange:P,originalLineRange:O};S.push(B),F.push(B)}),A=F}if(!h.isValid())return[]}S.sort((0,L.reverseOrder)((0,L.compareBy)(N=>N.modifiedLineRange.length,L.numberComparator)));const E=new m.LineRangeSet,I=new m.LineRangeSet;for(const N of S){const A=N.modifiedLineRange.startLineNumber-N.originalLineRange.startLineNumber,R=E.subtractFrom(N.modifiedLineRange),M=I.subtractFrom(N.originalLineRange).getWithDelta(A),P=R.getIntersection(M);for(const F of P.ranges){if(F.length<3)continue;const O=F,B=F.delta(-A);p.push(new k.LineRangeMapping(B,O)),E.addRange(O),I.addRange(B)}}p.sort((0,L.compareBy)(N=>N.original.startLineNumber,L.numberComparator));const T=new D.MonotonousArray(r);for(let N=0;N<p.length;N++){const A=p[N],R=T.findLastMonotonous(U=>U.original.startLineNumber<=A.original.startLineNumber),M=(0,D.findLastMonotonous)(r,U=>U.modified.startLineNumber<=A.modified.startLineNumber),P=Math.max(A.original.startLineNumber-R.original.startLineNumber,A.modified.startLineNumber-M.modified.startLineNumber),F=T.findLastMonotonous(U=>U.original.startLineNumber<A.original.endLineNumberExclusive),O=(0,D.findLastMonotonous)(r,U=>U.modified.startLineNumber<A.modified.endLineNumberExclusive),B=Math.max(F.original.endLineNumberExclusive-A.original.endLineNumberExclusive,O.modified.endLineNumberExclusive-A.modified.endLineNumberExclusive);let V;for(V=0;V<P;V++){const U=A.original.startLineNumber-V-1,G=A.modified.startLineNumber-V-1;if(U>a.length||G>v.length||E.contains(G)||I.contains(U)||!c(a[U-1],v[G-1],h))break}V>0&&(I.addRange(new m.LineRange(A.original.startLineNumber-V,A.original.startLineNumber)),E.addRange(new m.LineRange(A.modified.startLineNumber-V,A.modified.startLineNumber)));let K;for(K=0;K<B;K++){const U=A.original.endLineNumberExclusive+K,G=A.modified.endLineNumberExclusive+K;if(U>a.length||G>v.length||E.contains(G)||I.contains(U)||!c(a[U-1],v[G-1],h))break}K>0&&(I.addRange(new m.LineRange(A.original.endLineNumberExclusive,A.original.endLineNumberExclusive+K)),E.addRange(new m.LineRange(A.modified.endLineNumberExclusive,A.modified.endLineNumberExclusive+K))),(V>0||K>0)&&(p[N]=new k.LineRangeMapping(new m.LineRange(A.original.startLineNumber-V,A.original.endLineNumberExclusive+K),new m.LineRange(A.modified.startLineNumber-V,A.modified.endLineNumberExclusive+K)))}return p}function c(r,d,u){if(r.trim()===d.trim())return!0;if(r.length>300&&d.length>300)return!1;const v=new o.MyersDiffAlgorithm().compute(new b.LinesSliceCharSequence([r],new w.OffsetRange(0,1),!1),new b.LinesSliceCharSequence([d],new w.OffsetRange(0,1),!1),u);let h=0;const p=f.SequenceDiff.invert(v.diffs,r.length);for(const I of p)I.seq1Range.forEach(T=>{(0,C.isSpace)(r.charCodeAt(T))||h++});function _(I){let T=0;for(let N=0;N<r.length;N++)(0,C.isSpace)(I.charCodeAt(N))||T++;return T}const S=_(r.length>d.length?r:d);return h/S>.6&&S>10}function g(r){if(r.length===0)return r;r.sort((0,L.compareBy)(u=>u.original.startLineNumber,L.numberComparator));const d=[r[0]];for(let u=1;u<r.length;u++){const a=d[d.length-1],v=r[u],h=v.original.startLineNumber-a.original.endLineNumberExclusive,p=v.modified.startLineNumber-a.modified.endLineNumberExclusive;if(h>=0&&p>=0&&h+p<=2){d[d.length-1]=a.join(v);continue}d.push(v)}return d}function l(r,d){const u=new D.MonotonousArray(r);return d=d.filter(a=>{const v=u.findLastMonotonous(_=>_.original.startLineNumber<a.original.endLineNumberExclusive)||new k.LineRangeMapping(new m.LineRange(1,1),new m.LineRange(1,1)),h=(0,D.findLastMonotonous)(r,_=>_.modified.startLineNumber<a.modified.endLineNumberExclusive);return v!==h}),d}}),define(ne[310],se([1,0,13,87,61,67,5,163,539,307,540,308,538,309,228,101]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLinesDiffComputer=void 0,e.lineRangeMappingFromRangeMappings=g,e.getLineRangeMapping=l;class c{constructor(){this.dynamicProgrammingDiffing=new w.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new b.MyersDiffAlgorithm}computeDiff(d,u,a){if(d.length<=1&&(0,f.equals)(d,u,(K,U)=>K===U))return new t.LinesDiff([],[],!1);if(d.length===1&&d[0].length===0||u.length===1&&u[0].length===0)return new t.LinesDiff([new s.DetailedLineRangeMapping(new L.LineRange(1,d.length+1),new L.LineRange(1,u.length+1),[new s.RangeMapping(new y.Range(1,1,d.length,d[d.length-1].length+1),new y.Range(1,1,u.length,u[u.length-1].length+1))])],[],!1);const v=a.maxComputationTimeMs===0?m.InfiniteTimeout.instance:new m.DateTimeout(a.maxComputationTimeMs),h=!a.ignoreTrimWhitespace,p=new Map;function _(K){let U=p.get(K);return U===void 0&&(U=p.size,p.set(K,U)),U}const S=d.map(K=>_(K.trim())),E=u.map(K=>_(K.trim())),I=new n.LineSequence(S,d),T=new n.LineSequence(E,u),N=I.length+T.length<1700?this.dynamicProgrammingDiffing.compute(I,T,v,(K,U)=>d[K]===u[U]?u[U].length===0?.1:1+Math.log(1+u[U].length):.99):this.myersDiffingAlgorithm.compute(I,T,v);let A=N.diffs,R=N.hitTimeout;A=(0,o.optimizeSequenceDiffs)(I,T,A),A=(0,o.removeVeryShortMatchingLinesBetweenDiffs)(I,T,A);const M=[],P=K=>{if(h)for(let U=0;U<K;U++){const G=F+U,z=O+U;if(d[G]!==u[z]){const $=this.refineDiff(d,u,new m.SequenceDiff(new D.OffsetRange(G,G+1),new D.OffsetRange(z,z+1)),v,h);for(const J of $.mappings)M.push(J);$.hitTimeout&&(R=!0)}}};let F=0,O=0;for(const K of A){(0,k.assertFn)(()=>K.seq1Range.start-F===K.seq2Range.start-O);const U=K.seq1Range.start-F;P(U),F=K.seq1Range.endExclusive,O=K.seq2Range.endExclusive;const G=this.refineDiff(d,u,K,v,h);G.hitTimeout&&(R=!0);for(const z of G.mappings)M.push(z)}P(d.length-F);const B=g(M,d,u);let V=[];return a.computeMoves&&(V=this.computeMoves(B,d,u,S,E,v,h)),(0,k.assertFn)(()=>{function K(G,z){if(G.lineNumber<1||G.lineNumber>z.length)return!1;const $=z[G.lineNumber-1];return!(G.column<1||G.column>$.length+1)}function U(G,z){return!(G.startLineNumber<1||G.startLineNumber>z.length+1||G.endLineNumberExclusive<1||G.endLineNumberExclusive>z.length+1)}for(const G of B){if(!G.innerChanges)return!1;for(const z of G.innerChanges)if(!(K(z.modifiedRange.getStartPosition(),u)&&K(z.modifiedRange.getEndPosition(),u)&&K(z.originalRange.getStartPosition(),d)&&K(z.originalRange.getEndPosition(),d)))return!1;if(!U(G.modified,u)||!U(G.original,d))return!1}return!0}),new t.LinesDiff(B,V,R)}computeMoves(d,u,a,v,h,p,_){return(0,C.computeMovedLines)(d,u,a,v,h,p).map(I=>{const T=this.refineDiff(u,a,new m.SequenceDiff(I.original.toOffsetRange(),I.modified.toOffsetRange()),p,_),N=g(T.mappings,u,a,!0);return new t.MovedText(I,N)})}refineDiff(d,u,a,v,h){const p=new i.LinesSliceCharSequence(d,a.seq1Range,h),_=new i.LinesSliceCharSequence(u,a.seq2Range,h),S=p.length+_.length<500?this.dynamicProgrammingDiffing.compute(p,_,v):this.myersDiffingAlgorithm.compute(p,_,v);let E=S.diffs;return E=(0,o.optimizeSequenceDiffs)(p,_,E),E=(0,o.extendDiffsToEntireWordIfAppropriate)(p,_,E),E=(0,o.removeShortMatches)(p,_,E),E=(0,o.removeVeryShortMatchingTextBetweenLongDiffs)(p,_,E),{mappings:E.map(T=>new s.RangeMapping(p.translateRange(T.seq1Range),_.translateRange(T.seq2Range))),hitTimeout:S.hitTimeout}}}e.DefaultLinesDiffComputer=c;function g(r,d,u,a=!1){const v=[];for(const h of(0,f.groupAdjacentBy)(r.map(p=>l(p,d,u)),(p,_)=>p.original.overlapOrTouch(_.original)||p.modified.overlapOrTouch(_.modified))){const p=h[0],_=h[h.length-1];v.push(new s.DetailedLineRangeMapping(p.original.join(_.original),p.modified.join(_.modified),h.map(S=>S.innerChanges[0])))}return(0,k.assertFn)(()=>!a&&v.length>0&&(v[0].modified.startLineNumber!==v[0].original.startLineNumber||u.length-v[v.length-1].modified.endLineNumberExclusive!==d.length-v[v.length-1].original.endLineNumberExclusive)?!1:(0,k.checkAdjacentItems)(v,(h,p)=>p.original.startLineNumber-h.original.endLineNumberExclusive===p.modified.startLineNumber-h.modified.endLineNumberExclusive&&h.original.endLineNumberExclusive<p.original.startLineNumber&&h.modified.endLineNumberExclusive<p.modified.startLineNumber)),v}function l(r,d,u){let a=0,v=0;r.modifiedRange.endColumn===1&&r.originalRange.endColumn===1&&r.originalRange.startLineNumber+a<=r.originalRange.endLineNumber&&r.modifiedRange.startLineNumber+a<=r.modifiedRange.endLineNumber&&(v=-1),r.modifiedRange.startColumn-1>=u[r.modifiedRange.startLineNumber-1].length&&r.originalRange.startColumn-1>=d[r.originalRange.startLineNumber-1].length&&r.originalRange.startLineNumber<=r.originalRange.endLineNumber+v&&r.modifiedRange.startLineNumber<=r.modifiedRange.endLineNumber+v&&(a=1);const h=new L.LineRange(r.originalRange.startLineNumber+a,r.originalRange.endLineNumber+1+v),p=new L.LineRange(r.modifiedRange.startLineNumber+a,r.modifiedRange.endLineNumber+1+v);return new s.DetailedLineRangeMapping(h,p,[r])}}),define(ne[541],se([1,0,186,228,101,11,5,87,61]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const b=3;class C{computeDiff(a,v,h){var p;const S=new g(a,v,{maxComputationTime:h.maxComputationTimeMs,shouldIgnoreTrimWhitespace:h.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),E=[];let I=null;for(const T of S.changes){let N;T.originalEndLineNumber===0?N=new w.LineRange(T.originalStartLineNumber+1,T.originalStartLineNumber+1):N=new w.LineRange(T.originalStartLineNumber,T.originalEndLineNumber+1);let A;T.modifiedEndLineNumber===0?A=new w.LineRange(T.modifiedStartLineNumber+1,T.modifiedStartLineNumber+1):A=new w.LineRange(T.modifiedStartLineNumber,T.modifiedEndLineNumber+1);let R=new L.DetailedLineRangeMapping(N,A,(p=T.charChanges)===null||p===void 0?void 0:p.map(M=>new L.RangeMapping(new y.Range(M.originalStartLineNumber,M.originalStartColumn,M.originalEndLineNumber,M.originalEndColumn),new y.Range(M.modifiedStartLineNumber,M.modifiedStartColumn,M.modifiedEndLineNumber,M.modifiedEndColumn))));I&&(I.modified.endLineNumberExclusive===R.modified.startLineNumber||I.original.endLineNumberExclusive===R.original.startLineNumber)&&(R=new L.DetailedLineRangeMapping(I.original.join(R.original),I.modified.join(R.modified),I.innerChanges&&R.innerChanges?I.innerChanges.concat(R.innerChanges):void 0),E.pop()),E.push(R),I=R}return(0,m.assertFn)(()=>(0,m.checkAdjacentItems)(E,(T,N)=>N.original.startLineNumber-T.original.endLineNumberExclusive===N.modified.startLineNumber-T.modified.endLineNumberExclusive&&T.original.endLineNumberExclusive<N.original.startLineNumber&&T.modified.endLineNumberExclusive<N.modified.startLineNumber)),new k.LinesDiff(E,[],S.quitEarly)}}e.LegacyLinesDiffComputer=C;function o(u,a,v,h){return new f.LcsDiff(u,a,v).ComputeDiff(h)}class n{constructor(a){const v=[],h=[];for(let p=0,_=a.length;p<_;p++)v[p]=l(a[p],1),h[p]=r(a[p],1);this.lines=a,this._startColumns=v,this._endColumns=h}getElements(){const a=[];for(let v=0,h=this.lines.length;v<h;v++)a[v]=this.lines[v].substring(this._startColumns[v]-1,this._endColumns[v]-1);return a}getStrictElement(a){return this.lines[a]}getStartLineNumber(a){return a+1}getEndLineNumber(a){return a+1}createCharSequence(a,v,h){const p=[],_=[],S=[];let E=0;for(let I=v;I<=h;I++){const T=this.lines[I],N=a?this._startColumns[I]:1,A=a?this._endColumns[I]:T.length+1;for(let R=N;R<A;R++)p[E]=T.charCodeAt(R-1),_[E]=I+1,S[E]=R,E++;!a&&I<h&&(p[E]=10,_[E]=I+1,S[E]=T.length+1,E++)}return new i(p,_,S)}}class i{constructor(a,v,h){this._charCodes=a,this._lineNumbers=v,this._columns=h}toString(){return"["+this._charCodes.map((a,v)=>(a===10?"\\n":String.fromCharCode(a))+`-(${this._lineNumbers[v]},${this._columns[v]})`).join(", ")+"]"}_assertIndex(a,v){if(a<0||a>=v.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(a){return a>0&&a===this._lineNumbers.length?this.getEndLineNumber(a-1):(this._assertIndex(a,this._lineNumbers),this._lineNumbers[a])}getEndLineNumber(a){return a===-1?this.getStartLineNumber(a+1):(this._assertIndex(a,this._lineNumbers),this._charCodes[a]===10?this._lineNumbers[a]+1:this._lineNumbers[a])}getStartColumn(a){return a>0&&a===this._columns.length?this.getEndColumn(a-1):(this._assertIndex(a,this._columns),this._columns[a])}getEndColumn(a){return a===-1?this.getStartColumn(a+1):(this._assertIndex(a,this._columns),this._charCodes[a]===10?1:this._columns[a]+1)}}class t{constructor(a,v,h,p,_,S,E,I){this.originalStartLineNumber=a,this.originalStartColumn=v,this.originalEndLineNumber=h,this.originalEndColumn=p,this.modifiedStartLineNumber=_,this.modifiedStartColumn=S,this.modifiedEndLineNumber=E,this.modifiedEndColumn=I}static createFromDiffChange(a,v,h){const p=v.getStartLineNumber(a.originalStart),_=v.getStartColumn(a.originalStart),S=v.getEndLineNumber(a.originalStart+a.originalLength-1),E=v.getEndColumn(a.originalStart+a.originalLength-1),I=h.getStartLineNumber(a.modifiedStart),T=h.getStartColumn(a.modifiedStart),N=h.getEndLineNumber(a.modifiedStart+a.modifiedLength-1),A=h.getEndColumn(a.modifiedStart+a.modifiedLength-1);return new t(p,_,S,E,I,T,N,A)}}function s(u){if(u.length<=1)return u;const a=[u[0]];let v=a[0];for(let h=1,p=u.length;h<p;h++){const _=u[h],S=_.originalStart-(v.originalStart+v.originalLength),E=_.modifiedStart-(v.modifiedStart+v.modifiedLength);Math.min(S,E)<b?(v.originalLength=_.originalStart+_.originalLength-v.originalStart,v.modifiedLength=_.modifiedStart+_.modifiedLength-v.modifiedStart):(a.push(_),v=_)}return a}class c{constructor(a,v,h,p,_){this.originalStartLineNumber=a,this.originalEndLineNumber=v,this.modifiedStartLineNumber=h,this.modifiedEndLineNumber=p,this.charChanges=_}static createFromDiffResult(a,v,h,p,_,S,E){let I,T,N,A,R;if(v.originalLength===0?(I=h.getStartLineNumber(v.originalStart)-1,T=0):(I=h.getStartLineNumber(v.originalStart),T=h.getEndLineNumber(v.originalStart+v.originalLength-1)),v.modifiedLength===0?(N=p.getStartLineNumber(v.modifiedStart)-1,A=0):(N=p.getStartLineNumber(v.modifiedStart),A=p.getEndLineNumber(v.modifiedStart+v.modifiedLength-1)),S&&v.originalLength>0&&v.originalLength<20&&v.modifiedLength>0&&v.modifiedLength<20&&_()){const M=h.createCharSequence(a,v.originalStart,v.originalStart+v.originalLength-1),P=p.createCharSequence(a,v.modifiedStart,v.modifiedStart+v.modifiedLength-1);if(M.getElements().length>0&&P.getElements().length>0){let F=o(M,P,_,!0).changes;E&&(F=s(F)),R=[];for(let O=0,B=F.length;O<B;O++)R.push(t.createFromDiffChange(F[O],M,P))}}return new c(I,T,N,A,R)}}class g{constructor(a,v,h){this.shouldComputeCharChanges=h.shouldComputeCharChanges,this.shouldPostProcessCharChanges=h.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=h.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=h.shouldMakePrettyDiff,this.originalLines=a,this.modifiedLines=v,this.original=new n(a),this.modified=new n(v),this.continueLineDiff=d(h.maxComputationTime),this.continueCharDiff=d(h.maxComputationTime===0?0:Math.min(h.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const a=o(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),v=a.changes,h=a.quitEarly;if(this.shouldIgnoreTrimWhitespace){const E=[];for(let I=0,T=v.length;I<T;I++)E.push(c.createFromDiffResult(this.shouldIgnoreTrimWhitespace,v[I],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:h,changes:E}}const p=[];let _=0,S=0;for(let E=-1,I=v.length;E<I;E++){const T=E+1<I?v[E+1]:null,N=T?T.originalStart:this.originalLines.length,A=T?T.modifiedStart:this.modifiedLines.length;for(;_<N&&S<A;){const R=this.originalLines[_],M=this.modifiedLines[S];if(R!==M){{let P=l(R,1),F=l(M,1);for(;P>1&&F>1;){const O=R.charCodeAt(P-2),B=M.charCodeAt(F-2);if(O!==B)break;P--,F--}(P>1||F>1)&&this._pushTrimWhitespaceCharChange(p,_+1,1,P,S+1,1,F)}{let P=r(R,1),F=r(M,1);const O=R.length+1,B=M.length+1;for(;P<O&&F<B;){const V=R.charCodeAt(P-1),K=R.charCodeAt(F-1);if(V!==K)break;P++,F++}(P<O||F<B)&&this._pushTrimWhitespaceCharChange(p,_+1,P,O,S+1,F,B)}}_++,S++}T&&(p.push(c.createFromDiffResult(this.shouldIgnoreTrimWhitespace,T,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),_+=T.originalLength,S+=T.modifiedLength)}return{quitEarly:h,changes:p}}_pushTrimWhitespaceCharChange(a,v,h,p,_,S,E){if(this._mergeTrimWhitespaceCharChange(a,v,h,p,_,S,E))return;let I;this.shouldComputeCharChanges&&(I=[new t(v,h,v,p,_,S,_,E)]),a.push(new c(v,v,_,_,I))}_mergeTrimWhitespaceCharChange(a,v,h,p,_,S,E){const I=a.length;if(I===0)return!1;const T=a[I-1];return T.originalEndLineNumber===0||T.modifiedEndLineNumber===0?!1:T.originalEndLineNumber===v&&T.modifiedEndLineNumber===_?(this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(v,h,v,p,_,S,_,E)),!0):T.originalEndLineNumber+1===v&&T.modifiedEndLineNumber+1===_?(T.originalEndLineNumber=v,T.modifiedEndLineNumber=_,this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(v,h,v,p,_,S,_,E)),!0):!1}}e.DiffComputer=g;function l(u,a){const v=D.firstNonWhitespaceIndex(u);return v===-1?a:v+1}function r(u,a){const v=D.lastNonWhitespaceIndex(u);return v===-1?a:v+2}function d(u){if(u===0)return()=>!0;const a=Date.now();return()=>Date.now()-a<u}}),define(ne[542],se([1,0,541,310]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new f.LegacyLinesDiffComputer,getDefault:()=>new k.DefaultLinesDiffComputer}}),define(ne[311],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class f{constructor(L,D,y,m,w,b,C){this.id=L,this.label=D,this.alias=y,this.metadata=m,this._precondition=w,this._run=b,this._contextKeyService=C}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(L){return this.isSupported()?this._run(L):Promise.resolve(void 0)}}e.InternalEditorAction=f}),define(ne[193],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ne[164],se([1,0,193]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCodeEditor=k,e.isDiffEditor=L,e.isCompositeEditor=D,e.getCodeEditor=y;function k(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===f.EditorType.ICodeEditor:!1}function L(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===f.EditorType.IDiffEditor:!1}function D(m){return!!m&&typeof m=="object"&&typeof m.onDidChangeActiveEditor=="function"}function y(m){return k(m)?m:L(m)?m.getModifiedEditor():D(m)&&k(m.activeCodeEditor)?m.activeCodeEditor:null}}),define(ne[143],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerEditorFeature=k,e.getEditorFeatures=L;const f=[];function k(D){f.push(D)}function L(){return f.slice(0)}}),define(ne[543],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class f{get type(){return this._theme.type}get value(){return this._theme}constructor(L){this._theme=L}update(L){this._theme=L}getColor(L){return this._theme.getColor(L)}}e.EditorTheme=f}),define(ne[144],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class f{static getLanguageId(L){return(L&255)>>>0}static getTokenType(L){return(L&768)>>>8}static containsBalancedBrackets(L){return(L&1024)!==0}static getFontStyle(L){return(L&30720)>>>11}static getForeground(L){return(L&16744448)>>>15}static getBackground(L){return(L&4278190080)>>>24}static getClassNameFromMetadata(L){let y="mtk"+this.getForeground(L);const m=this.getFontStyle(L);return m&1&&(y+=" mtki"),m&2&&(y+=" mtkb"),m&4&&(y+=" mtku"),m&8&&(y+=" mtks"),y}static getInlineStyleFromMetadata(L,D){const y=this.getForeground(L),m=this.getFontStyle(L);let w=`color: ${D[y]};`;m&1&&(w+="font-style: italic;"),m&2&&(w+="font-weight: bold;");let b="";return m&4&&(b+=" underline"),m&8&&(b+=" line-through"),b&&(w+=`text-decoration:${b};`),w}static getPresentationFromMetadata(L){const D=this.getForeground(L),y=this.getFontStyle(L);return{foreground:D,italic:!!(y&1),bold:!!(y&2),underline:!!(y&4),strikethrough:!!(y&8)}}}e.TokenMetadata=f}),define(ne[544],se([1,0,34]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=o;function k(n){const i=[];for(const t of n){const s=Number(t);(s||s===0&&t.replace(/\s/g,"")!=="")&&i.push(s)}return i}function L(n,i,t,s){return{red:n/255,blue:t/255,green:i/255,alpha:s}}function D(n,i){const t=i.index,s=i[0].length;if(!t)return;const c=n.positionAt(t);return{startLineNumber:c.lineNumber,startColumn:c.column,endLineNumber:c.lineNumber,endColumn:c.column+s}}function y(n,i){if(!n)return;const t=f.Color.Format.CSS.parseHex(i);if(t)return{range:n,color:L(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function m(n,i,t){if(!n||i.length!==1)return;const c=i[0].values(),g=k(c);return{range:n,color:L(g[0],g[1],g[2],t?g[3]:1)}}function w(n,i,t){if(!n||i.length!==1)return;const c=i[0].values(),g=k(c),l=new f.Color(new f.HSLA(g[0],g[1]/100,g[2]/100,t?g[3]:1));return{range:n,color:L(l.rgba.r,l.rgba.g,l.rgba.b,l.rgba.a)}}function b(n,i){return typeof n=="string"?[...n.matchAll(i)]:n.findMatches(i)}function C(n){const i=[],s=b(n,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(s.length>0)for(const c of s){const g=c.filter(u=>u!==void 0),l=g[1],r=g[2];if(!r)continue;let d;if(l==="rgb"){const u=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;d=m(D(n,c),b(r,u),!1)}else if(l==="rgba"){const u=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;d=m(D(n,c),b(r,u),!0)}else if(l==="hsl"){const u=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;d=w(D(n,c),b(r,u),!1)}else if(l==="hsla"){const u=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;d=w(D(n,c),b(r,u),!0)}else l==="#"&&(d=y(D(n,c),l+r));d&&i.push(d)}return i}function o(n){return!n||typeof n.getValue!="function"||typeof n.positionAt!="function"?[]:C(n)}}),define(ne[128],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var f;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(f||(e.IndentAction=f={}));class k{constructor(m){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=m.open,this.close=m.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(m.notIn))for(let w=0,b=m.notIn.length;w<b;w++)switch(m.notIn[w]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(m){switch(m){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(m,w){if(m.getTokenCount()===0)return!0;const b=m.findTokenIndexAtOffset(w-2),C=m.getStandardTokenType(b);return this.isOK(C)}_findNeutralCharacterInRange(m,w){for(let b=m;b<=w;b++){const C=String.fromCharCode(b);if(!this.open.includes(C)&&!this.close.includes(C))return C}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class L{constructor(m){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const w of m)D(this.autoClosingPairsOpenByStart,w.open.charAt(0),w),D(this.autoClosingPairsOpenByEnd,w.open.charAt(w.open.length-1),w),D(this.autoClosingPairsCloseByStart,w.close.charAt(0),w),D(this.autoClosingPairsCloseByEnd,w.close.charAt(w.close.length-1),w),w.close.length===1&&w.open.length===1&&D(this.autoClosingPairsCloseSingleChar,w.close,w)}}e.AutoClosingPairs=L;function D(y,m,w){y.has(m)?y.get(m).push(w):y.set(m,[w])}}),define(ne[545],se([1,0,140]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkComputer=e.StateMachine=void 0,e.computeLinks=C;class k{constructor(n,i,t){const s=new Uint8Array(n*i);for(let c=0,g=n*i;c<g;c++)s[c]=t;this._data=s,this.rows=n,this.cols=i}get(n,i){return this._data[n*this.cols+i]}set(n,i,t){this._data[n*this.cols+i]=t}}class L{constructor(n){let i=0,t=0;for(let c=0,g=n.length;c<g;c++){const[l,r,d]=n[c];r>i&&(i=r),l>t&&(t=l),d>t&&(t=d)}i++,t++;const s=new k(t,i,0);for(let c=0,g=n.length;c<g;c++){const[l,r,d]=n[c];s.set(l,r,d)}this._states=s,this._maxCharCode=i}nextState(n,i){return i<0||i>=this._maxCharCode?0:this._states.get(n,i)}}e.StateMachine=L;let D=null;function y(){return D===null&&(D=new L([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let m=null;function w(){if(m===null){m=new f.CharacterClassifier(0);const o=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<o.length;i++)m.set(o.charCodeAt(i),1);const n=".,;:";for(let i=0;i<n.length;i++)m.set(n.charCodeAt(i),2)}return m}class b{static _createLink(n,i,t,s,c){let g=c-1;do{const l=i.charCodeAt(g);if(n.get(l)!==2)break;g--}while(g>s);if(s>0){const l=i.charCodeAt(s-1),r=i.charCodeAt(g);(l===40&&r===41||l===91&&r===93||l===123&&r===125)&&g--}return{range:{startLineNumber:t,startColumn:s+1,endLineNumber:t,endColumn:g+2},url:i.substring(s,g+1)}}static computeLinks(n,i=y()){const t=w(),s=[];for(let c=1,g=n.getLineCount();c<=g;c++){const l=n.getLineContent(c),r=l.length;let d=0,u=0,a=0,v=1,h=!1,p=!1,_=!1,S=!1;for(;d<r;){let E=!1;const I=l.charCodeAt(d);if(v===13){let T;switch(I){case 40:h=!0,T=0;break;case 41:T=h?0:1;break;case 91:_=!0,p=!0,T=0;break;case 93:_=!1,T=p?0:1;break;case 123:S=!0,T=0;break;case 125:T=S?0:1;break;case 39:case 34:case 96:a===I?T=1:a===39||a===34||a===96?T=0:T=1;break;case 42:T=a===42?1:0;break;case 124:T=a===124?1:0;break;case 32:T=_?0:1;break;default:T=t.get(I)}T===1&&(s.push(b._createLink(t,l,c,u,d)),E=!0)}else if(v===12){let T;I===91?(p=!0,T=0):T=t.get(I),T===1?E=!0:v=13}else v=i.nextState(v,I),v===0&&(E=!0);E&&(v=1,h=!1,p=!1,S=!1,u=d+1,a=I),d++}v===13&&s.push(b._createLink(t,l,c,u,r))}return s}}e.LinkComputer=b;function C(o){return!o||typeof o.getLineCount!="function"||typeof o.getLineContent!="function"?[]:b.computeLinks(o)}}),define(ne[165],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedLineTokens=void 0,e.createScopedLineTokens=f,e.ignoreBracketsInToken=L;function f(D,y){const m=D.getCount(),w=D.findTokenIndexAtOffset(y),b=D.getLanguageId(w);let C=w;for(;C+1<m&&D.getLanguageId(C+1)===b;)C++;let o=w;for(;o>0&&D.getLanguageId(o-1)===b;)o--;return new k(D,b,o,C+1,D.getStartOffset(o),D.getEndOffset(C))}class k{constructor(y,m,w,b,C,o){this._scopedLineTokensBrand=void 0,this._actual=y,this.languageId=m,this._firstTokenIndex=w,this._lastTokenIndex=b,this.firstCharOffset=C,this._lastCharOffset=o,this.languageIdCodec=y.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(y){return this._actual.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}e.ScopedLineTokens=k;function L(D){return(D&3)!==0}}),define(ne[79],se([1,0,10,5,24,165,90,226]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0,e.isQuote=g;const w=()=>!0,b=()=>!1,C=l=>l===" "||l==="	";class o{static shouldRecreate(r){return r.hasChanged(145)||r.hasChanged(131)||r.hasChanged(37)||r.hasChanged(77)||r.hasChanged(79)||r.hasChanged(80)||r.hasChanged(6)||r.hasChanged(7)||r.hasChanged(11)||r.hasChanged(9)||r.hasChanged(10)||r.hasChanged(14)||r.hasChanged(128)||r.hasChanged(50)||r.hasChanged(91)||r.hasChanged(130)}constructor(r,d,u,a){var v;this.languageConfigurationService=a,this._cursorMoveConfigurationBrand=void 0,this._languageId=r;const h=u.options,p=h.get(145),_=h.get(50);this.readOnly=h.get(91),this.tabSize=d.tabSize,this.indentSize=d.indentSize,this.insertSpaces=d.insertSpaces,this.stickyTabStops=h.get(116),this.lineHeight=_.lineHeight,this.typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(p.height/this.lineHeight)-2),this.useTabStops=h.get(128),this.wordSeparators=h.get(131),this.emptySelectionClipboard=h.get(37),this.copyWithSyntaxHighlighting=h.get(25),this.multiCursorMergeOverlapping=h.get(77),this.multiCursorPaste=h.get(79),this.multiCursorLimit=h.get(80),this.autoClosingBrackets=h.get(6),this.autoClosingComments=h.get(7),this.autoClosingQuotes=h.get(11),this.autoClosingDelete=h.get(9),this.autoClosingOvertype=h.get(10),this.autoSurround=h.get(14),this.autoIndent=h.get(12),this.wordSegmenterLocales=h.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(r,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(r,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(r,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(r).getAutoClosingPairs();const S=this.languageConfigurationService.getLanguageConfiguration(r).getSurroundingPairs();if(S)for(const I of S)this.surroundingPairs[I.open]=I.close;const E=this.languageConfigurationService.getLanguageConfiguration(r).comments;this.blockCommentStartToken=(v=E?.blockCommentStartToken)!==null&&v!==void 0?v:null}get electricChars(){var r;if(!this._electricChars){this._electricChars={};const d=(r=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||r===void 0?void 0:r.getElectricCharacters();if(d)for(const u of d)this._electricChars[u]=!0}return this._electricChars}onElectricCharacter(r,d,u){const a=(0,D.createScopedLineTokens)(d,u-1),v=this.languageConfigurationService.getLanguageConfiguration(a.languageId).electricCharacter;return v?v.onElectricCharacter(r,a,u-a.firstCharOffset):null}normalizeIndentation(r){return(0,m.normalizeIndentation)(r,this.indentSize,this.insertSpaces)}_getShouldAutoClose(r,d,u){switch(d){case"beforeWhitespace":return C;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(r,u);case"always":return w;case"never":return b}}_getLanguageDefinedShouldAutoClose(r,d){const u=this.languageConfigurationService.getLanguageConfiguration(r).getAutoCloseBeforeSet(d);return a=>u.indexOf(a)!==-1}visibleColumnFromColumn(r,d){return y.CursorColumns.visibleColumnFromColumn(r.getLineContent(d.lineNumber),d.column,this.tabSize)}columnFromVisibleColumn(r,d,u){const a=y.CursorColumns.columnFromVisibleColumn(r.getLineContent(d),u,this.tabSize),v=r.getLineMinColumn(d);if(a<v)return v;const h=r.getLineMaxColumn(d);return a>h?h:a}}e.CursorConfiguration=o;class n{static fromModelState(r){return new i(r)}static fromViewState(r){return new t(r)}static fromModelSelection(r){const d=L.Selection.liftSelection(r),u=new s(k.Range.fromPositions(d.getSelectionStart()),0,0,d.getPosition(),0);return n.fromModelState(u)}static fromModelSelections(r){const d=[];for(let u=0,a=r.length;u<a;u++)d[u]=this.fromModelSelection(r[u]);return d}constructor(r,d){this._cursorStateBrand=void 0,this.modelState=r,this.viewState=d}equals(r){return this.viewState.equals(r.viewState)&&this.modelState.equals(r.modelState)}}e.CursorState=n;class i{constructor(r){this.modelState=r,this.viewState=null}}e.PartialModelCursorState=i;class t{constructor(r){this.modelState=null,this.viewState=r}}e.PartialViewCursorState=t;class s{constructor(r,d,u,a,v){this.selectionStart=r,this.selectionStartKind=d,this.selectionStartLeftoverVisibleColumns=u,this.position=a,this.leftoverVisibleColumns=v,this._singleCursorStateBrand=void 0,this.selection=s._computeSelection(this.selectionStart,this.position)}equals(r){return this.selectionStartLeftoverVisibleColumns===r.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===r.leftoverVisibleColumns&&this.selectionStartKind===r.selectionStartKind&&this.position.equals(r.position)&&this.selectionStart.equalsRange(r.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(r,d,u,a){return r?new s(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new f.Position(d,u),a):new s(new k.Range(d,u,d,u),0,a,new f.Position(d,u),a)}static _computeSelection(r,d){return r.isEmpty()||!d.isBeforeOrEqual(r.getStartPosition())?L.Selection.fromPositions(r.getStartPosition(),d):L.Selection.fromPositions(r.getEndPosition(),d)}}e.SingleCursorState=s;class c{constructor(r,d,u){this._editOperationResultBrand=void 0,this.type=r,this.commands=d,this.shouldPushStackElementBefore=u.shouldPushStackElementBefore,this.shouldPushStackElementAfter=u.shouldPushStackElementAfter}}e.EditOperationResult=c;function g(l){return l==="'"||l==='"'||l==="`"}}),define(ne[546],se([1,0,79,10,5]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(m,w,b,C,o,n){const i=Math.abs(o-b)+1,t=b>o,s=C>n,c=C<n,g=[];for(let l=0;l<i;l++){const r=b+(t?-l:l),d=m.columnFromVisibleColumn(w,r,C),u=m.columnFromVisibleColumn(w,r,n),a=m.visibleColumnFromColumn(w,new k.Position(r,d)),v=m.visibleColumnFromColumn(w,new k.Position(r,u));c&&(a>n||v<C)||s&&(v>C||a<n)||g.push(new f.SingleCursorState(new L.Range(r,d,r,d),0,0,new k.Position(r,u),0))}if(g.length===0)for(let l=0;l<i;l++){const r=b+(t?-l:l),d=w.getLineMaxColumn(r);g.push(new f.SingleCursorState(new L.Range(r,d,r,d),0,0,new k.Position(r,d),0))}return{viewStates:g,reversed:t,fromLineNumber:b,fromVisualColumn:C,toLineNumber:o,toVisualColumn:n}}static columnSelectLeft(m,w,b){let C=b.toViewVisualColumn;return C>0&&C--,D.columnSelect(m,w,b.fromViewLineNumber,b.fromViewVisualColumn,b.toViewLineNumber,C)}static columnSelectRight(m,w,b){let C=0;const o=Math.min(b.fromViewLineNumber,b.toViewLineNumber),n=Math.max(b.fromViewLineNumber,b.toViewLineNumber);for(let t=o;t<=n;t++){const s=w.getLineMaxColumn(t),c=m.visibleColumnFromColumn(w,new k.Position(t,s));C=Math.max(C,c)}let i=b.toViewVisualColumn;return i<C&&i++,this.columnSelect(m,w,b.fromViewLineNumber,b.fromViewVisualColumn,b.toViewLineNumber,i)}static columnSelectUp(m,w,b,C){const o=C?m.pageSize:1,n=Math.max(1,b.toViewLineNumber-o);return this.columnSelect(m,w,b.fromViewLineNumber,b.fromViewVisualColumn,n,b.toViewVisualColumn)}static columnSelectDown(m,w,b,C){const o=C?m.pageSize:1,n=Math.min(w.getLineCount(),b.toViewLineNumber+o);return this.columnSelect(m,w,b.fromViewLineNumber,b.fromViewVisualColumn,n,b.toViewVisualColumn)}}e.ColumnSelection=D}),define(ne[229],se([1,0,11,90,10,5,306,79]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class w{constructor(o,n,i){this._cursorPositionBrand=void 0,this.lineNumber=o,this.column=n,this.leftoverVisibleColumns=i}}e.CursorPosition=w;class b{static leftPosition(o,n){if(n.column>o.getLineMinColumn(n.lineNumber))return n.delta(void 0,-f.prevCharLength(o.getLineContent(n.lineNumber),n.column-1));if(n.lineNumber>1){const i=n.lineNumber-1;return new L.Position(i,o.getLineMaxColumn(i))}else return n}static leftPositionAtomicSoftTabs(o,n,i){if(n.column<=o.getLineIndentColumn(n.lineNumber)){const t=o.getLineMinColumn(n.lineNumber),s=o.getLineContent(n.lineNumber),c=y.AtomicTabMoveOperations.atomicPosition(s,n.column-1,i,0);if(c!==-1&&c+1>=t)return new L.Position(n.lineNumber,c+1)}return this.leftPosition(o,n)}static left(o,n,i){const t=o.stickyTabStops?b.leftPositionAtomicSoftTabs(n,i,o.tabSize):b.leftPosition(n,i);return new w(t.lineNumber,t.column,0)}static moveLeft(o,n,i,t,s){let c,g;if(i.hasSelection()&&!t)c=i.selection.startLineNumber,g=i.selection.startColumn;else{const l=i.position.delta(void 0,-(s-1)),r=n.normalizePosition(b.clipPositionColumn(l,n),0),d=b.left(o,n,r);c=d.lineNumber,g=d.column}return i.move(t,c,g,0)}static clipPositionColumn(o,n){return new L.Position(o.lineNumber,b.clipRange(o.column,n.getLineMinColumn(o.lineNumber),n.getLineMaxColumn(o.lineNumber)))}static clipRange(o,n,i){return o<n?n:o>i?i:o}static rightPosition(o,n,i){return i<o.getLineMaxColumn(n)?i=i+f.nextCharLength(o.getLineContent(n),i-1):n<o.getLineCount()&&(n=n+1,i=o.getLineMinColumn(n)),new L.Position(n,i)}static rightPositionAtomicSoftTabs(o,n,i,t,s){if(i<o.getLineIndentColumn(n)){const c=o.getLineContent(n),g=y.AtomicTabMoveOperations.atomicPosition(c,i-1,t,1);if(g!==-1)return new L.Position(n,g+1)}return this.rightPosition(o,n,i)}static right(o,n,i){const t=o.stickyTabStops?b.rightPositionAtomicSoftTabs(n,i.lineNumber,i.column,o.tabSize,o.indentSize):b.rightPosition(n,i.lineNumber,i.column);return new w(t.lineNumber,t.column,0)}static moveRight(o,n,i,t,s){let c,g;if(i.hasSelection()&&!t)c=i.selection.endLineNumber,g=i.selection.endColumn;else{const l=i.position.delta(void 0,s-1),r=n.normalizePosition(b.clipPositionColumn(l,n),1),d=b.right(o,n,r);c=d.lineNumber,g=d.column}return i.move(t,c,g,0)}static vertical(o,n,i,t,s,c,g,l){const r=k.CursorColumns.visibleColumnFromColumn(n.getLineContent(i),t,o.tabSize)+s,d=n.getLineCount(),u=i===1&&t===1,a=i===d&&t===n.getLineMaxColumn(i),v=c<i?u:a;if(i=c,i<1?(i=1,g?t=n.getLineMinColumn(i):t=Math.min(n.getLineMaxColumn(i),t)):i>d?(i=d,g?t=n.getLineMaxColumn(i):t=Math.min(n.getLineMaxColumn(i),t)):t=o.columnFromVisibleColumn(n,i,r),v?s=0:s=r-k.CursorColumns.visibleColumnFromColumn(n.getLineContent(i),t,o.tabSize),l!==void 0){const h=new L.Position(i,t),p=n.normalizePosition(h,l);s=s+(t-p.column),i=p.lineNumber,t=p.column}return new w(i,t,s)}static down(o,n,i,t,s,c,g){return this.vertical(o,n,i,t,s,i+c,g,4)}static moveDown(o,n,i,t,s){let c,g;i.hasSelection()&&!t?(c=i.selection.endLineNumber,g=i.selection.endColumn):(c=i.position.lineNumber,g=i.position.column);let l=0,r;do if(r=b.down(o,n,c+l,g,i.leftoverVisibleColumns,s,!0),n.normalizePosition(new L.Position(r.lineNumber,r.column),2).lineNumber>c)break;while(l++<10&&c+l<n.getLineCount());return i.move(t,r.lineNumber,r.column,r.leftoverVisibleColumns)}static translateDown(o,n,i){const t=i.selection,s=b.down(o,n,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),c=b.down(o,n,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new D.Range(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new L.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static up(o,n,i,t,s,c,g){return this.vertical(o,n,i,t,s,i-c,g,3)}static moveUp(o,n,i,t,s){let c,g;i.hasSelection()&&!t?(c=i.selection.startLineNumber,g=i.selection.startColumn):(c=i.position.lineNumber,g=i.position.column);const l=b.up(o,n,c,g,i.leftoverVisibleColumns,s,!0);return i.move(t,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(o,n,i){const t=i.selection,s=b.up(o,n,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),c=b.up(o,n,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new D.Range(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new L.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static _isBlankLine(o,n){return o.getLineFirstNonWhitespaceColumn(n)===0}static moveToPrevBlankLine(o,n,i,t){let s=i.position.lineNumber;for(;s>1&&this._isBlankLine(n,s);)s--;for(;s>1&&!this._isBlankLine(n,s);)s--;return i.move(t,s,n.getLineMinColumn(s),0)}static moveToNextBlankLine(o,n,i,t){const s=n.getLineCount();let c=i.position.lineNumber;for(;c<s&&this._isBlankLine(n,c);)c++;for(;c<s&&!this._isBlankLine(n,c);)c++;return i.move(t,c,n.getLineMinColumn(c),0)}static moveToBeginningOfLine(o,n,i,t){const s=i.position.lineNumber,c=n.getLineMinColumn(s),g=n.getLineFirstNonWhitespaceColumn(s)||c;let l;return i.position.column===g?l=c:l=g,i.move(t,s,l,0)}static moveToEndOfLine(o,n,i,t,s){const c=i.position.lineNumber,g=n.getLineMaxColumn(c);return i.move(t,c,g,s?1073741824-g:0)}static moveToBeginningOfBuffer(o,n,i,t){return i.move(t,1,1,0)}static moveToEndOfBuffer(o,n,i,t){const s=n.getLineCount(),c=n.getLineMaxColumn(s);return i.move(t,s,c,0)}}e.MoveOperations=b}),define(ne[230],se([1,0,11,142,79,90,229,5,10]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class b{static deleteRight(o,n,i,t){const s=[];let c=o!==3;for(let g=0,l=t.length;g<l;g++){const r=t[g];let d=r;if(d.isEmpty()){const u=r.getPosition(),a=y.MoveOperations.right(n,i,u);d=new m.Range(a.lineNumber,a.column,u.lineNumber,u.column)}if(d.isEmpty()){s[g]=null;continue}d.startLineNumber!==d.endLineNumber&&(c=!0),s[g]=new k.ReplaceCommand(d,"")}return[c,s]}static isAutoClosingPairDelete(o,n,i,t,s,c,g){if(n==="never"&&i==="never"||o==="never")return!1;for(let l=0,r=c.length;l<r;l++){const d=c[l],u=d.getPosition();if(!d.isEmpty())return!1;const a=s.getLineContent(u.lineNumber);if(u.column<2||u.column>=a.length+1)return!1;const v=a.charAt(u.column-2),h=t.get(v);if(!h)return!1;if((0,L.isQuote)(v)){if(i==="never")return!1}else if(n==="never")return!1;const p=a.charAt(u.column-1);let _=!1;for(const S of h)S.open===v&&S.close===p&&(_=!0);if(!_)return!1;if(o==="auto"){let S=!1;for(let E=0,I=g.length;E<I;E++){const T=g[E];if(u.lineNumber===T.startLineNumber&&u.column===T.startColumn){S=!0;break}}if(!S)return!1}}return!0}static _runAutoClosingPairDelete(o,n,i){const t=[];for(let s=0,c=i.length;s<c;s++){const g=i[s].getPosition(),l=new m.Range(g.lineNumber,g.column-1,g.lineNumber,g.column+1);t[s]=new k.ReplaceCommand(l,"")}return[!0,t]}static deleteLeft(o,n,i,t,s){if(this.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,i,t,s))return this._runAutoClosingPairDelete(n,i,t);const c=[];let g=o!==2;for(let l=0,r=t.length;l<r;l++){const d=b.getDeleteRange(t[l],i,n);if(d.isEmpty()){c[l]=null;continue}d.startLineNumber!==d.endLineNumber&&(g=!0),c[l]=new k.ReplaceCommand(d,"")}return[g,c]}static getDeleteRange(o,n,i){if(!o.isEmpty())return o;const t=o.getPosition();if(i.useTabStops&&t.column>1){const s=n.getLineContent(t.lineNumber),c=f.firstNonWhitespaceIndex(s),g=c===-1?s.length+1:c+1;if(t.column<=g){const l=i.visibleColumnFromColumn(n,t),r=D.CursorColumns.prevIndentTabStop(l,i.indentSize),d=i.columnFromVisibleColumn(n,t.lineNumber,r);return new m.Range(t.lineNumber,d,t.lineNumber,t.column)}}return m.Range.fromPositions(b.getPositionAfterDeleteLeft(t,n),t)}static getPositionAfterDeleteLeft(o,n){if(o.column>1){const i=f.getLeftDeleteOffset(o.column-1,n.getLineContent(o.lineNumber));return o.with(void 0,i+1)}else if(o.lineNumber>1){const i=o.lineNumber-1;return new w.Position(i,n.getLineMaxColumn(i))}else return o}static cut(o,n,i){const t=[];let s=null;i.sort((c,g)=>w.Position.compare(c.getStartPosition(),g.getEndPosition()));for(let c=0,g=i.length;c<g;c++){const l=i[c];if(l.isEmpty())if(o.emptySelectionClipboard){const r=l.getPosition();let d,u,a,v;r.lineNumber<n.getLineCount()?(d=r.lineNumber,u=1,a=r.lineNumber+1,v=1):r.lineNumber>1&&s?.endLineNumber!==r.lineNumber?(d=r.lineNumber-1,u=n.getLineMaxColumn(r.lineNumber-1),a=r.lineNumber,v=n.getLineMaxColumn(r.lineNumber)):(d=r.lineNumber,u=1,a=r.lineNumber,v=n.getLineMaxColumn(r.lineNumber));const h=new m.Range(d,u,a,v);s=h,h.isEmpty()?t[c]=null:t[c]=new k.ReplaceCommand(h,"")}else t[c]=null;else t[c]=new k.ReplaceCommand(l,"")}return new L.EditOperationResult(0,t,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=b}),define(ne[194],se([1,0,11,79,230,161,10,5]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class w{static _createWord(n,i,t,s,c){return{start:s,end:c,wordType:i,nextCharClass:t}}static _createIntlWord(n,i){return{start:n.index,end:n.index+n.segment.length,wordType:1,nextCharClass:i}}static _findPreviousWordOnLine(n,i,t){const s=i.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(s,n,t)}static _doFindPreviousWordOnLine(n,i,t){let s=0;const c=i.findPrevIntlWordBeforeOrAtOffset(n,t.column-2);for(let g=t.column-2;g>=0;g--){const l=n.charCodeAt(g),r=i.get(l);if(c&&g===c.index)return this._createIntlWord(c,r);if(r===0){if(s===2)return this._createWord(n,s,r,g+1,this._findEndOfWord(n,i,s,g+1));s=1}else if(r===2){if(s===1)return this._createWord(n,s,r,g+1,this._findEndOfWord(n,i,s,g+1));s=2}else if(r===1&&s!==0)return this._createWord(n,s,r,g+1,this._findEndOfWord(n,i,s,g+1))}return s!==0?this._createWord(n,s,1,0,this._findEndOfWord(n,i,s,0)):null}static _findEndOfWord(n,i,t,s){const c=i.findNextIntlWordAtOrAfterOffset(n,s),g=n.length;for(let l=s;l<g;l++){const r=n.charCodeAt(l),d=i.get(r);if(c&&l===c.index+c.segment.length||d===1||t===1&&d===2||t===2&&d===0)return l}return g}static _findNextWordOnLine(n,i,t){const s=i.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(s,n,t)}static _doFindNextWordOnLine(n,i,t){let s=0;const c=n.length,g=i.findNextIntlWordAtOrAfterOffset(n,t.column-1);for(let l=t.column-1;l<c;l++){const r=n.charCodeAt(l),d=i.get(r);if(g&&l===g.index)return this._createIntlWord(g,d);if(d===0){if(s===2)return this._createWord(n,s,d,this._findStartOfWord(n,i,s,l-1),l);s=1}else if(d===2){if(s===1)return this._createWord(n,s,d,this._findStartOfWord(n,i,s,l-1),l);s=2}else if(d===1&&s!==0)return this._createWord(n,s,d,this._findStartOfWord(n,i,s,l-1),l)}return s!==0?this._createWord(n,s,1,this._findStartOfWord(n,i,s,c-1),c):null}static _findStartOfWord(n,i,t,s){const c=i.findPrevIntlWordBeforeOrAtOffset(n,s);for(let g=s;g>=0;g--){const l=n.charCodeAt(g),r=i.get(l);if(c&&g===c.index)return g;if(r===1||t===1&&r===2||t===2&&r===0)return g+1}return 0}static moveWordLeft(n,i,t,s){let c=t.lineNumber,g=t.column;g===1&&c>1&&(c=c-1,g=i.getLineMaxColumn(c));let l=w._findPreviousWordOnLine(n,i,new y.Position(c,g));if(s===0)return new y.Position(c,l?l.start+1:1);if(s===1)return l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=w._findPreviousWordOnLine(n,i,new y.Position(c,l.start+1))),new y.Position(c,l?l.start+1:1);if(s===3){for(;l&&l.wordType===2;)l=w._findPreviousWordOnLine(n,i,new y.Position(c,l.start+1));return new y.Position(c,l?l.start+1:1)}return l&&g<=l.end+1&&(l=w._findPreviousWordOnLine(n,i,new y.Position(c,l.start+1))),new y.Position(c,l?l.end+1:1)}static _moveWordPartLeft(n,i){const t=i.lineNumber,s=n.getLineMaxColumn(t);if(i.column===1)return t>1?new y.Position(t-1,n.getLineMaxColumn(t-1)):i;const c=n.getLineContent(t);for(let g=i.column-1;g>1;g--){const l=c.charCodeAt(g-2),r=c.charCodeAt(g-1);if(l===95&&r!==95)return new y.Position(t,g);if(l===45&&r!==45)return new y.Position(t,g);if((f.isLowerAsciiLetter(l)||f.isAsciiDigit(l))&&f.isUpperAsciiLetter(r))return new y.Position(t,g);if(f.isUpperAsciiLetter(l)&&f.isUpperAsciiLetter(r)&&g+1<s){const d=c.charCodeAt(g);if(f.isLowerAsciiLetter(d)||f.isAsciiDigit(d))return new y.Position(t,g)}}return new y.Position(t,1)}static moveWordRight(n,i,t,s){let c=t.lineNumber,g=t.column,l=!1;g===i.getLineMaxColumn(c)&&c<i.getLineCount()&&(l=!0,c=c+1,g=1);let r=w._findNextWordOnLine(n,i,new y.Position(c,g));if(s===2)r&&r.wordType===2&&r.end-r.start===1&&r.nextCharClass===0&&(r=w._findNextWordOnLine(n,i,new y.Position(c,r.end+1))),r?g=r.end+1:g=i.getLineMaxColumn(c);else if(s===3){for(l&&(g=0);r&&(r.wordType===2||r.start+1<=g);)r=w._findNextWordOnLine(n,i,new y.Position(c,r.end+1));r?g=r.start+1:g=i.getLineMaxColumn(c)}else r&&!l&&g>=r.start+1&&(r=w._findNextWordOnLine(n,i,new y.Position(c,r.end+1))),r?g=r.start+1:g=i.getLineMaxColumn(c);return new y.Position(c,g)}static _moveWordPartRight(n,i){const t=i.lineNumber,s=n.getLineMaxColumn(t);if(i.column===s)return t<n.getLineCount()?new y.Position(t+1,1):i;const c=n.getLineContent(t);for(let g=i.column+1;g<s;g++){const l=c.charCodeAt(g-2),r=c.charCodeAt(g-1);if(l!==95&&r===95)return new y.Position(t,g);if(l!==45&&r===45)return new y.Position(t,g);if((f.isLowerAsciiLetter(l)||f.isAsciiDigit(l))&&f.isUpperAsciiLetter(r))return new y.Position(t,g);if(f.isUpperAsciiLetter(l)&&f.isUpperAsciiLetter(r)&&g+1<s){const d=c.charCodeAt(g);if(f.isLowerAsciiLetter(d)||f.isAsciiDigit(d))return new y.Position(t,g)}}return new y.Position(t,s)}static _deleteWordLeftWhitespace(n,i){const t=n.getLineContent(i.lineNumber),s=i.column-2,c=f.lastNonWhitespaceIndex(t,s);return c+1<s?new m.Range(i.lineNumber,c+2,i.lineNumber,i.column):null}static deleteWordLeft(n,i){const t=n.wordSeparators,s=n.model,c=n.selection,g=n.whitespaceHeuristics;if(!c.isEmpty())return c;if(L.DeleteOperations.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,n.model,[n.selection],n.autoClosedCharacters)){const a=n.selection.getPosition();return new m.Range(a.lineNumber,a.column-1,a.lineNumber,a.column+1)}const l=new y.Position(c.positionLineNumber,c.positionColumn);let r=l.lineNumber,d=l.column;if(r===1&&d===1)return null;if(g){const a=this._deleteWordLeftWhitespace(s,l);if(a)return a}let u=w._findPreviousWordOnLine(t,s,l);return i===0?u?d=u.start+1:d>1?d=1:(r--,d=s.getLineMaxColumn(r)):(u&&d<=u.end+1&&(u=w._findPreviousWordOnLine(t,s,new y.Position(r,u.start+1))),u?d=u.end+1:d>1?d=1:(r--,d=s.getLineMaxColumn(r))),new m.Range(r,d,l.lineNumber,l.column)}static deleteInsideWord(n,i,t){if(!t.isEmpty())return t;const s=new y.Position(t.positionLineNumber,t.positionColumn),c=this._deleteInsideWordWhitespace(i,s);return c||this._deleteInsideWordDetermineDeleteRange(n,i,s)}static _charAtIsWhitespace(n,i){const t=n.charCodeAt(i);return t===32||t===9}static _deleteInsideWordWhitespace(n,i){const t=n.getLineContent(i.lineNumber),s=t.length;if(s===0)return null;let c=Math.max(i.column-2,0);if(!this._charAtIsWhitespace(t,c))return null;let g=Math.min(i.column-1,s-1);if(!this._charAtIsWhitespace(t,g))return null;for(;c>0&&this._charAtIsWhitespace(t,c-1);)c--;for(;g+1<s&&this._charAtIsWhitespace(t,g+1);)g++;return new m.Range(i.lineNumber,c+1,i.lineNumber,g+2)}static _deleteInsideWordDetermineDeleteRange(n,i,t){const s=i.getLineContent(t.lineNumber),c=s.length;if(c===0)return t.lineNumber>1?new m.Range(t.lineNumber-1,i.getLineMaxColumn(t.lineNumber-1),t.lineNumber,1):t.lineNumber<i.getLineCount()?new m.Range(t.lineNumber,1,t.lineNumber+1,1):new m.Range(t.lineNumber,1,t.lineNumber,1);const g=a=>a.start+1<=t.column&&t.column<=a.end+1,l=(a,v)=>(a=Math.min(a,t.column),v=Math.max(v,t.column),new m.Range(t.lineNumber,a,t.lineNumber,v)),r=a=>{let v=a.start+1,h=a.end+1,p=!1;for(;h-1<c&&this._charAtIsWhitespace(s,h-1);)p=!0,h++;if(!p)for(;v>1&&this._charAtIsWhitespace(s,v-2);)v--;return l(v,h)},d=w._findPreviousWordOnLine(n,i,t);if(d&&g(d))return r(d);const u=w._findNextWordOnLine(n,i,t);return u&&g(u)?r(u):d&&u?l(d.end+1,u.start+1):d?l(d.start+1,d.end+1):u?l(u.start+1,u.end+1):l(1,c+1)}static _deleteWordPartLeft(n,i){if(!i.isEmpty())return i;const t=i.getPosition(),s=w._moveWordPartLeft(n,t);return new m.Range(t.lineNumber,t.column,s.lineNumber,s.column)}static _findFirstNonWhitespaceChar(n,i){const t=n.length;for(let s=i;s<t;s++){const c=n.charAt(s);if(c!==" "&&c!=="	")return s}return t}static _deleteWordRightWhitespace(n,i){const t=n.getLineContent(i.lineNumber),s=i.column-1,c=this._findFirstNonWhitespaceChar(t,s);return s+1<c?new m.Range(i.lineNumber,i.column,i.lineNumber,c+1):null}static deleteWordRight(n,i){const t=n.wordSeparators,s=n.model,c=n.selection,g=n.whitespaceHeuristics;if(!c.isEmpty())return c;const l=new y.Position(c.positionLineNumber,c.positionColumn);let r=l.lineNumber,d=l.column;const u=s.getLineCount(),a=s.getLineMaxColumn(r);if(r===u&&d===a)return null;if(g){const h=this._deleteWordRightWhitespace(s,l);if(h)return h}let v=w._findNextWordOnLine(t,s,l);return i===2?v?d=v.end+1:d<a||r===u?d=a:(r++,v=w._findNextWordOnLine(t,s,new y.Position(r,1)),v?d=v.start+1:d=s.getLineMaxColumn(r)):(v&&d>=v.start+1&&(v=w._findNextWordOnLine(t,s,new y.Position(r,v.end+1))),v?d=v.start+1:d<a||r===u?d=a:(r++,v=w._findNextWordOnLine(t,s,new y.Position(r,1)),v?d=v.start+1:d=s.getLineMaxColumn(r))),new m.Range(r,d,l.lineNumber,l.column)}static _deleteWordPartRight(n,i){if(!i.isEmpty())return i;const t=i.getPosition(),s=w._moveWordPartRight(n,t);return new m.Range(t.lineNumber,t.column,s.lineNumber,s.column)}static _createWordAtPosition(n,i,t){const s=new m.Range(i,t.start+1,i,t.end+1);return{word:n.getValueInRange(s),startColumn:s.startColumn,endColumn:s.endColumn}}static getWordAtPosition(n,i,t,s){const c=(0,D.getMapForWordSeparators)(i,t),g=w._findPreviousWordOnLine(c,n,s);if(g&&g.wordType===1&&g.start<=s.column-1&&s.column-1<=g.end)return w._createWordAtPosition(n,s.lineNumber,g);const l=w._findNextWordOnLine(c,n,s);return l&&l.wordType===1&&l.start<=s.column-1&&s.column-1<=l.end?w._createWordAtPosition(n,s.lineNumber,l):null}static word(n,i,t,s,c){const g=(0,D.getMapForWordSeparators)(n.wordSeparators,n.wordSegmenterLocales),l=w._findPreviousWordOnLine(g,i,c),r=w._findNextWordOnLine(g,i,c);if(!s){let h,p;return l&&l.wordType===1&&l.start<=c.column-1&&c.column-1<=l.end?(h=l.start+1,p=l.end+1):r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end?(h=r.start+1,p=r.end+1):(l?h=l.end+1:h=1,r?p=r.start+1:p=i.getLineMaxColumn(c.lineNumber)),new k.SingleCursorState(new m.Range(c.lineNumber,h,c.lineNumber,p),1,0,new y.Position(c.lineNumber,p),0)}let d,u;l&&l.wordType===1&&l.start<c.column-1&&c.column-1<l.end?(d=l.start+1,u=l.end+1):r&&r.wordType===1&&r.start<c.column-1&&c.column-1<r.end?(d=r.start+1,u=r.end+1):(d=c.column,u=c.column);const a=c.lineNumber;let v;if(t.selectionStart.containsPosition(c))v=t.selectionStart.endColumn;else if(c.isBeforeOrEqual(t.selectionStart.getStartPosition())){v=d;const h=new y.Position(a,v);t.selectionStart.containsPosition(h)&&(v=t.selectionStart.endColumn)}else{v=u;const h=new y.Position(a,v);t.selectionStart.containsPosition(h)&&(v=t.selectionStart.startColumn)}return t.move(!0,a,v,0)}}e.WordOperations=w;class b extends w{static deleteWordPartLeft(n){const i=C([w.deleteWordLeft(n,0),w.deleteWordLeft(n,2),w._deleteWordPartLeft(n.model,n.selection)]);return i.sort(m.Range.compareRangesUsingEnds),i[2]}static deleteWordPartRight(n){const i=C([w.deleteWordRight(n,0),w.deleteWordRight(n,2),w._deleteWordPartRight(n.model,n.selection)]);return i.sort(m.Range.compareRangesUsingStarts),i[0]}static moveWordPartLeft(n,i,t){const s=C([w.moveWordLeft(n,i,t,0),w.moveWordLeft(n,i,t,2),w._moveWordPartLeft(i,t)]);return s.sort(y.Position.compare),s[2]}static moveWordPartRight(n,i,t){const s=C([w.moveWordRight(n,i,t,0),w.moveWordRight(n,i,t,2),w._moveWordPartRight(i,t)]);return s.sort(y.Position.compare),s[0]}}e.WordPartOperations=b;function C(o){return o.filter(n=>!!n)}}),define(ne[231],se([1,0,20,79,229,194,10,5]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class w{static addCursorDown(o,n,i){const t=[];let s=0;for(let c=0,g=n.length;c<g;c++){const l=n[c];t[s++]=new k.CursorState(l.modelState,l.viewState),i?t[s++]=k.CursorState.fromModelState(L.MoveOperations.translateDown(o.cursorConfig,o.model,l.modelState)):t[s++]=k.CursorState.fromViewState(L.MoveOperations.translateDown(o.cursorConfig,o,l.viewState))}return t}static addCursorUp(o,n,i){const t=[];let s=0;for(let c=0,g=n.length;c<g;c++){const l=n[c];t[s++]=new k.CursorState(l.modelState,l.viewState),i?t[s++]=k.CursorState.fromModelState(L.MoveOperations.translateUp(o.cursorConfig,o.model,l.modelState)):t[s++]=k.CursorState.fromViewState(L.MoveOperations.translateUp(o.cursorConfig,o,l.viewState))}return t}static moveToBeginningOfLine(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s];t[s]=this._moveToLineStart(o,g,i)}return t}static _moveToLineStart(o,n,i){const t=n.viewState.position.column,s=n.modelState.position.column,c=t===s,g=n.viewState.position.lineNumber,l=o.getLineFirstNonWhitespaceColumn(g);return!c&&!(t===l)?this._moveToLineStartByView(o,n,i):this._moveToLineStartByModel(o,n,i)}static _moveToLineStartByView(o,n,i){return k.CursorState.fromViewState(L.MoveOperations.moveToBeginningOfLine(o.cursorConfig,o,n.viewState,i))}static _moveToLineStartByModel(o,n,i){return k.CursorState.fromModelState(L.MoveOperations.moveToBeginningOfLine(o.cursorConfig,o.model,n.modelState,i))}static moveToEndOfLine(o,n,i,t){const s=[];for(let c=0,g=n.length;c<g;c++){const l=n[c];s[c]=this._moveToLineEnd(o,l,i,t)}return s}static _moveToLineEnd(o,n,i,t){const s=n.viewState.position,c=o.getLineMaxColumn(s.lineNumber),g=s.column===c,l=n.modelState.position,r=o.model.getLineMaxColumn(l.lineNumber),d=c-s.column===r-l.column;return g||d?this._moveToLineEndByModel(o,n,i,t):this._moveToLineEndByView(o,n,i,t)}static _moveToLineEndByView(o,n,i,t){return k.CursorState.fromViewState(L.MoveOperations.moveToEndOfLine(o.cursorConfig,o,n.viewState,i,t))}static _moveToLineEndByModel(o,n,i,t){return k.CursorState.fromModelState(L.MoveOperations.moveToEndOfLine(o.cursorConfig,o.model,n.modelState,i,t))}static expandLineSelection(o,n){const i=[];for(let t=0,s=n.length;t<s;t++){const c=n[t],g=c.modelState.selection.startLineNumber,l=o.model.getLineCount();let r=c.modelState.selection.endLineNumber,d;r===l?d=o.model.getLineMaxColumn(l):(r++,d=1),i[t]=k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(g,1,g,1),0,0,new y.Position(r,d),0))}return i}static moveToBeginningOfBuffer(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s];t[s]=k.CursorState.fromModelState(L.MoveOperations.moveToBeginningOfBuffer(o.cursorConfig,o.model,g.modelState,i))}return t}static moveToEndOfBuffer(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s];t[s]=k.CursorState.fromModelState(L.MoveOperations.moveToEndOfBuffer(o.cursorConfig,o.model,g.modelState,i))}return t}static selectAll(o,n){const i=o.model.getLineCount(),t=o.model.getLineMaxColumn(i);return k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(1,1,1,1),0,0,new y.Position(i,t),0))}static line(o,n,i,t,s){const c=o.model.validatePosition(t),g=s?o.coordinatesConverter.validateViewPosition(new y.Position(s.lineNumber,s.column),c):o.coordinatesConverter.convertModelPositionToViewPosition(c);if(!i){const r=o.model.getLineCount();let d=c.lineNumber+1,u=1;return d>r&&(d=r,u=o.model.getLineMaxColumn(d)),k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(c.lineNumber,1,d,u),2,0,new y.Position(d,u),0))}const l=n.modelState.selectionStart.getStartPosition().lineNumber;if(c.lineNumber<l)return k.CursorState.fromViewState(n.viewState.move(!0,g.lineNumber,1,0));if(c.lineNumber>l){const r=o.getLineCount();let d=g.lineNumber+1,u=1;return d>r&&(d=r,u=o.getLineMaxColumn(d)),k.CursorState.fromViewState(n.viewState.move(!0,d,u,0))}else{const r=n.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(n.modelState.move(!0,r.lineNumber,r.column,0))}}static word(o,n,i,t){const s=o.model.validatePosition(t);return k.CursorState.fromModelState(D.WordOperations.word(o.cursorConfig,o.model,n.modelState,i,s))}static cancelSelection(o,n){if(!n.modelState.hasSelection())return new k.CursorState(n.modelState,n.viewState);const i=n.viewState.position.lineNumber,t=n.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new m.Range(i,t,i,t),0,0,new y.Position(i,t),0))}static moveTo(o,n,i,t,s){if(i){if(n.modelState.selectionStartKind===1)return this.word(o,n,i,t);if(n.modelState.selectionStartKind===2)return this.line(o,n,i,t,s)}const c=o.model.validatePosition(t),g=s?o.coordinatesConverter.validateViewPosition(new y.Position(s.lineNumber,s.column),c):o.coordinatesConverter.convertModelPositionToViewPosition(c);return k.CursorState.fromViewState(n.viewState.move(i,g.lineNumber,g.column,0))}static simpleMove(o,n,i,t,s,c){switch(i){case 0:return c===4?this._moveHalfLineLeft(o,n,t):this._moveLeft(o,n,t,s);case 1:return c===4?this._moveHalfLineRight(o,n,t):this._moveRight(o,n,t,s);case 2:return c===2?this._moveUpByViewLines(o,n,t,s):this._moveUpByModelLines(o,n,t,s);case 3:return c===2?this._moveDownByViewLines(o,n,t,s):this._moveDownByModelLines(o,n,t,s);case 4:return c===2?n.map(g=>k.CursorState.fromViewState(L.MoveOperations.moveToPrevBlankLine(o.cursorConfig,o,g.viewState,t))):n.map(g=>k.CursorState.fromModelState(L.MoveOperations.moveToPrevBlankLine(o.cursorConfig,o.model,g.modelState,t)));case 5:return c===2?n.map(g=>k.CursorState.fromViewState(L.MoveOperations.moveToNextBlankLine(o.cursorConfig,o,g.viewState,t))):n.map(g=>k.CursorState.fromModelState(L.MoveOperations.moveToNextBlankLine(o.cursorConfig,o.model,g.modelState,t)));case 6:return this._moveToViewMinColumn(o,n,t);case 7:return this._moveToViewFirstNonWhitespaceColumn(o,n,t);case 8:return this._moveToViewCenterColumn(o,n,t);case 9:return this._moveToViewMaxColumn(o,n,t);case 10:return this._moveToViewLastNonWhitespaceColumn(o,n,t);default:return null}}static viewportMove(o,n,i,t,s){const c=o.getCompletelyVisibleViewRange(),g=o.coordinatesConverter.convertViewRangeToModelRange(c);switch(i){case 11:{const l=this._firstLineNumberInRange(o.model,g,s),r=o.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(o,n[0],t,l,r)]}case 13:{const l=this._lastLineNumberInRange(o.model,g,s),r=o.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(o,n[0],t,l,r)]}case 12:{const l=Math.round((g.startLineNumber+g.endLineNumber)/2),r=o.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(o,n[0],t,l,r)]}case 14:{const l=[];for(let r=0,d=n.length;r<d;r++){const u=n[r];l[r]=this.findPositionInViewportIfOutside(o,u,c,t)}return l}default:return null}}static findPositionInViewportIfOutside(o,n,i,t){const s=n.viewState.position.lineNumber;if(i.startLineNumber<=s&&s<=i.endLineNumber-1)return new k.CursorState(n.modelState,n.viewState);{let c;s>i.endLineNumber-1?c=i.endLineNumber-1:s<i.startLineNumber?c=i.startLineNumber:c=s;const g=L.MoveOperations.vertical(o.cursorConfig,o,s,n.viewState.position.column,n.viewState.leftoverVisibleColumns,c,!1);return k.CursorState.fromViewState(n.viewState.move(t,g.lineNumber,g.column,g.leftoverVisibleColumns))}}static _firstLineNumberInRange(o,n,i){let t=n.startLineNumber;return n.startColumn!==o.getLineMinColumn(t)&&t++,Math.min(n.endLineNumber,t+i-1)}static _lastLineNumberInRange(o,n,i){let t=n.startLineNumber;return n.startColumn!==o.getLineMinColumn(t)&&t++,Math.max(t,n.endLineNumber-i+1)}static _moveLeft(o,n,i,t){return n.map(s=>k.CursorState.fromViewState(L.MoveOperations.moveLeft(o.cursorConfig,o,s.viewState,i,t)))}static _moveHalfLineLeft(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s],l=g.viewState.position.lineNumber,r=Math.round(o.getLineLength(l)/2);t[s]=k.CursorState.fromViewState(L.MoveOperations.moveLeft(o.cursorConfig,o,g.viewState,i,r))}return t}static _moveRight(o,n,i,t){return n.map(s=>k.CursorState.fromViewState(L.MoveOperations.moveRight(o.cursorConfig,o,s.viewState,i,t)))}static _moveHalfLineRight(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s],l=g.viewState.position.lineNumber,r=Math.round(o.getLineLength(l)/2);t[s]=k.CursorState.fromViewState(L.MoveOperations.moveRight(o.cursorConfig,o,g.viewState,i,r))}return t}static _moveDownByViewLines(o,n,i,t){const s=[];for(let c=0,g=n.length;c<g;c++){const l=n[c];s[c]=k.CursorState.fromViewState(L.MoveOperations.moveDown(o.cursorConfig,o,l.viewState,i,t))}return s}static _moveDownByModelLines(o,n,i,t){const s=[];for(let c=0,g=n.length;c<g;c++){const l=n[c];s[c]=k.CursorState.fromModelState(L.MoveOperations.moveDown(o.cursorConfig,o.model,l.modelState,i,t))}return s}static _moveUpByViewLines(o,n,i,t){const s=[];for(let c=0,g=n.length;c<g;c++){const l=n[c];s[c]=k.CursorState.fromViewState(L.MoveOperations.moveUp(o.cursorConfig,o,l.viewState,i,t))}return s}static _moveUpByModelLines(o,n,i,t){const s=[];for(let c=0,g=n.length;c<g;c++){const l=n[c];s[c]=k.CursorState.fromModelState(L.MoveOperations.moveUp(o.cursorConfig,o.model,l.modelState,i,t))}return s}static _moveToViewPosition(o,n,i,t,s){return k.CursorState.fromViewState(n.viewState.move(i,t,s,0))}static _moveToModelPosition(o,n,i,t,s){return k.CursorState.fromModelState(n.modelState.move(i,t,s,0))}static _moveToViewMinColumn(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s],l=g.viewState.position.lineNumber,r=o.getLineMinColumn(l);t[s]=this._moveToViewPosition(o,g,i,l,r)}return t}static _moveToViewFirstNonWhitespaceColumn(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s],l=g.viewState.position.lineNumber,r=o.getLineFirstNonWhitespaceColumn(l);t[s]=this._moveToViewPosition(o,g,i,l,r)}return t}static _moveToViewCenterColumn(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s],l=g.viewState.position.lineNumber,r=Math.round((o.getLineMaxColumn(l)+o.getLineMinColumn(l))/2);t[s]=this._moveToViewPosition(o,g,i,l,r)}return t}static _moveToViewMaxColumn(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s],l=g.viewState.position.lineNumber,r=o.getLineMaxColumn(l);t[s]=this._moveToViewPosition(o,g,i,l,r)}return t}static _moveToViewLastNonWhitespaceColumn(o,n,i){const t=[];for(let s=0,c=n.length;s<c;s++){const g=n[s],l=g.viewState.position.lineNumber,r=o.getLineLastNonWhitespaceColumn(l);t[s]=this._moveToViewPosition(o,g,i,l,r)}return t}}e.CursorMoveCommands=w;var b;(function(C){const o=function(i){if(!f.isObject(i))return!1;const t=i;return!(!f.isString(t.to)||!f.isUndefined(t.select)&&!f.isBoolean(t.select)||!f.isUndefined(t.by)&&!f.isString(t.by)||!f.isUndefined(t.value)&&!f.isNumber(t.value))};C.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:o,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},C.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},C.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function n(i){if(!i.to)return null;let t;switch(i.to){case C.RawDirection.Left:t=0;break;case C.RawDirection.Right:t=1;break;case C.RawDirection.Up:t=2;break;case C.RawDirection.Down:t=3;break;case C.RawDirection.PrevBlankLine:t=4;break;case C.RawDirection.NextBlankLine:t=5;break;case C.RawDirection.WrappedLineStart:t=6;break;case C.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case C.RawDirection.WrappedLineColumnCenter:t=8;break;case C.RawDirection.WrappedLineEnd:t=9;break;case C.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case C.RawDirection.ViewPortTop:t=11;break;case C.RawDirection.ViewPortBottom:t=13;break;case C.RawDirection.ViewPortCenter:t=12;break;case C.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let s=0;switch(i.by){case C.RawUnit.Line:s=1;break;case C.RawUnit.WrappedLine:s=2;break;case C.RawUnit.Character:s=3;break;case C.RawUnit.HalfLine:s=4;break}return{direction:t,unit:s,select:!!i.select,value:i.value||1}}C.parse=n})(b||(e.CursorMove=b={}))}),define(ne[547],se([1,0,79,10,5,24]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class y{constructor(w){this._selTrackedRange=null,this._trackSelection=!0,this._setState(w,new f.SingleCursorState(new L.Range(1,1,1,1),0,0,new k.Position(1,1),0),new f.SingleCursorState(new L.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(w){this._removeTrackedRange(w)}startTrackingSelection(w){this._trackSelection=!0,this._updateTrackedRange(w)}stopTrackingSelection(w){this._trackSelection=!1,this._removeTrackedRange(w)}_updateTrackedRange(w){this._trackSelection&&(this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(w){this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new f.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(w){const b=w.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!b.isEmpty()?D.Selection.fromRange(b.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(b,this.modelState.selection.getDirection())}ensureValidState(w){this._setState(w,this.modelState,this.viewState)}setState(w,b,C){this._setState(w,b,C)}static _validatePositionWithCache(w,b,C,o){return b.equals(C)?o:w.normalizePosition(b,2)}static _validateViewState(w,b){const C=b.position,o=b.selectionStart.getStartPosition(),n=b.selectionStart.getEndPosition(),i=w.normalizePosition(C,2),t=this._validatePositionWithCache(w,o,C,i),s=this._validatePositionWithCache(w,n,o,t);return C.equals(i)&&o.equals(t)&&n.equals(s)?b:new f.SingleCursorState(L.Range.fromPositions(t,s),b.selectionStartKind,b.selectionStartLeftoverVisibleColumns+o.column-t.column,i,b.leftoverVisibleColumns+C.column-i.column)}_setState(w,b,C){if(C&&(C=y._validateViewState(w.viewModel,C)),b){const o=w.model.validateRange(b.selectionStart),n=b.selectionStart.equalsRange(o)?b.selectionStartLeftoverVisibleColumns:0,i=w.model.validatePosition(b.position),t=b.position.equals(i)?b.leftoverVisibleColumns:0;b=new f.SingleCursorState(o,b.selectionStartKind,n,i,t)}else{if(!C)return;const o=w.model.validateRange(w.coordinatesConverter.convertViewRangeToModelRange(C.selectionStart)),n=w.model.validatePosition(w.coordinatesConverter.convertViewPositionToModelPosition(C.position));b=new f.SingleCursorState(o,C.selectionStartKind,C.selectionStartLeftoverVisibleColumns,n,C.leftoverVisibleColumns)}if(C){const o=w.coordinatesConverter.validateViewRange(C.selectionStart,b.selectionStart),n=w.coordinatesConverter.validateViewPosition(C.position,b.position);C=new f.SingleCursorState(o,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,n,b.leftoverVisibleColumns)}else{const o=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(b.selectionStart.startLineNumber,b.selectionStart.startColumn)),n=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(b.selectionStart.endLineNumber,b.selectionStart.endColumn)),i=new L.Range(o.lineNumber,o.column,n.lineNumber,n.column),t=w.coordinatesConverter.convertModelPositionToViewPosition(b.position);C=new f.SingleCursorState(i,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,t,b.leftoverVisibleColumns)}this.modelState=b,this.viewState=C,this._updateTrackedRange(w)}}e.Cursor=y}),define(ne[548],se([1,0,13,68,79,547,10,5,24]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class b{constructor(o){this.context=o,this.cursors=[new D.Cursor(o)],this.lastAddedCursorIndex=0}dispose(){for(const o of this.cursors)o.dispose(this.context)}startTrackingSelections(){for(const o of this.cursors)o.startTrackingSelection(this.context)}stopTrackingSelections(){for(const o of this.cursors)o.stopTrackingSelection(this.context)}updateContext(o){this.context=o}ensureValidState(){for(const o of this.cursors)o.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(o=>o.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(o=>o.asCursorState())}getViewPositions(){return this.cursors.map(o=>o.viewState.position)}getTopMostViewPosition(){return(0,k.findFirstMin)(this.cursors,(0,f.compareBy)(o=>o.viewState.position,y.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,k.findLastMax)(this.cursors,(0,f.compareBy)(o=>o.viewState.position,y.Position.compare)).viewState.position}getSelections(){return this.cursors.map(o=>o.modelState.selection)}getViewSelections(){return this.cursors.map(o=>o.viewState.selection)}setSelections(o){this.setStates(L.CursorState.fromModelSelections(o))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(o){o!==null&&(this.cursors[0].setState(this.context,o[0].modelState,o[0].viewState),this._setSecondaryStates(o.slice(1)))}_setSecondaryStates(o){const n=this.cursors.length-1,i=o.length;if(n<i){const t=i-n;for(let s=0;s<t;s++)this._addSecondaryCursor()}else if(n>i){const t=n-i;for(let s=0;s<t;s++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,o[t].modelState,o[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new D.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(o){this.lastAddedCursorIndex>=o+1&&this.lastAddedCursorIndex--,this.cursors[o+1].dispose(this.context),this.cursors.splice(o+1,1)}normalize(){if(this.cursors.length===1)return;const o=this.cursors.slice(0),n=[];for(let i=0,t=o.length;i<t;i++)n.push({index:i,selection:o[i].modelState.selection});n.sort((0,f.compareBy)(i=>i.selection,m.Range.compareRangesUsingStarts));for(let i=0;i<n.length-1;i++){const t=n[i],s=n[i+1],c=t.selection,g=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(g.isEmpty()||c.isEmpty()?l=g.getStartPosition().isBeforeOrEqual(c.getEndPosition()):l=g.getStartPosition().isBefore(c.getEndPosition()),l){const r=t.index<s.index?i:i+1,d=t.index<s.index?i+1:i,u=n[d].index,a=n[r].index,v=n[d].selection,h=n[r].selection;if(!v.equalsSelection(h)){const p=v.plusRange(h),_=v.selectionStartLineNumber===v.startLineNumber&&v.selectionStartColumn===v.startColumn,S=h.selectionStartLineNumber===h.startLineNumber&&h.selectionStartColumn===h.startColumn;let E;u===this.lastAddedCursorIndex?(E=_,this.lastAddedCursorIndex=a):E=S;let I;E?I=new w.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):I=new w.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),n[r].selection=I;const T=L.CursorState.fromModelSelection(I);o[a].setState(this.context,T.modelState,T.viewState)}for(const p of n)p.index>u&&p.index--;o.splice(u,1),n.splice(d,1),this._removeSecondaryCursor(u-1),i--}}}}e.CursorCollection=b}),define(ne[549],se([1,0,128]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(y=>new f.StandardAutoClosingPairConditional(y)):D.brackets?this._autoClosingPairs=D.brackets.map(y=>new f.StandardAutoClosingPairConditional({open:y[0],close:y[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const y=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new f.StandardAutoClosingPairConditional({open:y.open,close:y.close||""}))}this._autoCloseBeforeForQuotes=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(D){return D?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(ne[550],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function f(L){return L.global&&(L.lastIndex=0),!0}class k{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&f(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&f(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&f(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&f(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let y=0;return this.shouldIncrease(D)&&(y+=1),this.shouldDecrease(D)&&(y+=2),this.shouldIndentNextLine(D)&&(y+=4),this.shouldIgnore(D)&&(y+=8),y}}e.IndentRulesSupport=k}),define(ne[551],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class f{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(L,D,y,m,w){if(L&&D){const b=this.doNavigateValueSet(D,w);if(b)return{range:L,value:b}}if(y&&m){const b=this.doNavigateValueSet(m,w);if(b)return{range:y,value:b}}return null}doNavigateValueSet(L,D){const y=this.numberReplace(L,D);return y!==null?y:this.textReplace(L,D)}numberReplace(L,D){const y=Math.pow(10,L.length-(L.lastIndexOf(".")+1));let m=Number(L);const w=parseFloat(L);return!isNaN(m)&&!isNaN(w)&&m===w?m===0&&!D?null:(m=Math.floor(m*y),m+=D?y:-y,String(m/y)):null}textReplace(L,D){return this.valueSetsReplace(this._defaultValueSet,L,D)}valueSetsReplace(L,D,y){let m=null;for(let w=0,b=L.length;m===null&&w<b;w++)m=this.valueSetReplace(L[w],D,y);return m}valueSetReplace(L,D,y){let m=L.indexOf(D);return m>=0?(m+=y?1:-1,m<0?m=L.length-1:m%=L.length,L[m]):null}}e.BasicInplaceReplace=f,f.INSTANCE=new f}),define(ne[552],se([1,0,9,11,128]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(w=>{const b=D._createOpenBracketRegExp(w[0]),C=D._createCloseBracketRegExp(w[1]);b&&C&&this._brackets.push({open:w[0],openRegExp:b,close:w[1],closeRegExp:C})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,w,b,C){if(m>=3)for(let o=0,n=this._regExpRules.length;o<n;o++){const i=this._regExpRules[o];if([{reg:i.beforeText,text:b},{reg:i.afterText,text:C},{reg:i.previousLineText,text:w}].every(s=>s.reg?(s.reg.lastIndex=0,s.reg.test(s.text)):!0))return i.action}if(m>=2&&b.length>0&&C.length>0)for(let o=0,n=this._brackets.length;o<n;o++){const i=this._brackets[o];if(i.openRegExp.test(b)&&i.closeRegExp.test(C))return{indentAction:L.IndentAction.IndentOutdent}}if(m>=2&&b.length>0){for(let o=0,n=this._brackets.length;o<n;o++)if(this._brackets[o].openRegExp.test(b))return{indentAction:L.IndentAction.Indent}}return null}static _createOpenBracketRegExp(m){let w=k.escapeRegExpCharacters(m);return/\B/.test(w.charAt(0))||(w="\\b"+w),w+="\\s*$",D._safeRegExp(w)}static _createCloseBracketRegExp(m){let w=k.escapeRegExpCharacters(m);return/\B/.test(w.charAt(w.length-1))||(w=w+"\\b"),w="^\\s*"+w,D._safeRegExp(w)}static _safeRegExp(m){try{return new RegExp(m)}catch(w){return(0,f.onUnexpectedError)(w),null}}}e.OnEnterSupport=D}),define(ne[553],se([1,0,34]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeTrieElement=e.ThemeTrieElementRule=e.TokenTheme=e.ColorMap=e.ParsedTokenThemeRule=void 0,e.parseTokenTheme=L,e.toStandardTokenType=C,e.strcmp=o,e.generateTokensCSSForColorMap=t;class k{constructor(c,g,l,r,d){this._parsedThemeRuleBrand=void 0,this.token=c,this.index=g,this.fontStyle=l,this.foreground=r,this.background=d}}e.ParsedTokenThemeRule=k;function L(s){if(!s||!Array.isArray(s))return[];const c=[];let g=0;for(let l=0,r=s.length;l<r;l++){const d=s[l];let u=-1;if(typeof d.fontStyle=="string"){u=0;const h=d.fontStyle.split(" ");for(let p=0,_=h.length;p<_;p++)switch(h[p]){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break;case"strikethrough":u=u|8;break}}let a=null;typeof d.foreground=="string"&&(a=d.foreground);let v=null;typeof d.background=="string"&&(v=d.background),c[g++]=new k(d.token||"",l,u,a,v)}return c}function D(s,c){s.sort((p,_)=>{const S=o(p.token,_.token);return S!==0?S:p.index-_.index});let g=0,l="000000",r="ffffff";for(;s.length>=1&&s[0].token==="";){const p=s.shift();p.fontStyle!==-1&&(g=p.fontStyle),p.foreground!==null&&(l=p.foreground),p.background!==null&&(r=p.background)}const d=new m;for(const p of c)d.getId(p);const u=d.getId(l),a=d.getId(r),v=new n(g,u,a),h=new i(v);for(let p=0,_=s.length;p<_;p++){const S=s[p];h.insert(S.token,S.fontStyle,d.getId(S.foreground),d.getId(S.background))}return new w(d,h)}const y=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class m{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(c){if(c===null)return 0;const g=c.match(y);if(!g)throw new Error("Illegal value for token color: "+c);c=g[1].toUpperCase();let l=this._color2id.get(c);return l||(l=++this._lastColorId,this._color2id.set(c,l),this._id2color[l]=f.Color.fromHex("#"+c),l)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=m;class w{static createFromRawTokenTheme(c,g){return this.createFromParsedTokenTheme(L(c),g)}static createFromParsedTokenTheme(c,g){return D(c,g)}constructor(c,g){this._colorMap=c,this._root=g,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(c){return this._root.match(c)}match(c,g){let l=this._cache.get(g);if(typeof l>"u"){const r=this._match(g),d=C(g);l=(r.metadata|d<<8)>>>0,this._cache.set(g,l)}return(l|c<<0)>>>0}}e.TokenTheme=w;const b=/\b(comment|string|regex|regexp)\b/;function C(s){const c=s.match(b);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function o(s,c){return s<c?-1:s>c?1:0}class n{constructor(c,g,l){this._themeTrieElementRuleBrand=void 0,this._fontStyle=c,this._foreground=g,this._background=l,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new n(this._fontStyle,this._foreground,this._background)}acceptOverwrite(c,g,l){c!==-1&&(this._fontStyle=c),g!==0&&(this._foreground=g),l!==0&&(this._background=l),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=n;class i{constructor(c){this._themeTrieElementBrand=void 0,this._mainRule=c,this._children=new Map}match(c){if(c==="")return this._mainRule;const g=c.indexOf(".");let l,r;g===-1?(l=c,r=""):(l=c.substring(0,g),r=c.substring(g+1));const d=this._children.get(l);return typeof d<"u"?d.match(r):this._mainRule}insert(c,g,l,r){if(c===""){this._mainRule.acceptOverwrite(g,l,r);return}const d=c.indexOf(".");let u,a;d===-1?(u=c,a=""):(u=c.substring(0,d),a=c.substring(d+1));let v=this._children.get(u);typeof v>"u"&&(v=new i(this._mainRule.clone()),this._children.set(u,v)),v.insert(a,g,l,r)}}e.ThemeTrieElement=i;function t(s){const c=[];for(let g=1,l=s.length;g<l;g++){const r=s[g];c[g]=`.mtk${g} { color: ${r}; }`}return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join(`
`)}}),define(ne[42],se([1,0,55]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.GlyphMarginLane=e.OverviewRulerLane=void 0,e.isITextSnapshot=w,e.shouldSynchronizeModel=n;var k;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var L;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=3]="Right"})(L||(e.GlyphMarginLane=L={}));var D;(function(i){i[i.Both=0]="Both",i[i.Right=1]="Right",i[i.Left=2]="Left",i[i.None=3]="None"})(D||(e.InjectedTextCursorStops=D={}));class y{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),t.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,t.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!t.insertSpaces,this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=!!t.trimAutoWhitespace,this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this._indentSizeIsTabSize===t._indentSizeIsTabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,f.equals)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}e.TextModelResolvedOptions=y;class m{constructor(t,s){this._findMatchBrand=void 0,this.range=t,this.matches=s}}e.FindMatch=m;function w(i){return i&&typeof i.read=="function"}class b{constructor(t,s,c,g,l,r){this.identifier=t,this.range=s,this.text=c,this.forceMoveMarkers=g,this.isAutoWhitespaceEdit=l,this._isTracked=r}}e.ValidAnnotatedEditOperation=b;class C{constructor(t,s,c){this.regex=t,this.wordSeparators=s,this.simpleSearch=c}}e.SearchData=C;class o{constructor(t,s,c){this.reverseEdits=t,this.changes=s,this.trimAutoWhitespaceLineNumbers=c}}e.ApplyEditsResult=o;function n(i){return!i.isTooLargeForSyncing()&&!i.isForSimpleWidget}}),define(ne[102],se([1,0,11,5,108]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthZero=void 0,e.lengthDiff=D,e.lengthIsZero=y,e.toLength=w,e.lengthToObj=b,e.lengthGetLineCount=C,e.lengthGetColumnCountIfZeroLineCount=o,e.lengthAdd=n,e.sumLengths=i,e.lengthEquals=t,e.lengthDiffNonNegative=s,e.lengthLessThan=c,e.lengthLessThanEqual=g,e.lengthGreaterThanEqual=l,e.positionToLength=r,e.lengthsToRange=d,e.lengthOfString=u;function D(a,v,h,p){return a!==h?w(h-a,p):w(0,p-v)}e.lengthZero=0;function y(a){return a===0}const m=2**26;function w(a,v){return a*m+v}function b(a){const v=a,h=Math.floor(v/m),p=v-h*m;return new L.TextLength(h,p)}function C(a){return Math.floor(a/m)}function o(a){return a}function n(a,v){let h=a+v;return v>=m&&(h=h-a%m),h}function i(a,v){return a.reduce((h,p)=>n(h,v(p)),e.lengthZero)}function t(a,v){return a===v}function s(a,v){const h=a,p=v;if(p-h<=0)return e.lengthZero;const S=Math.floor(h/m),E=Math.floor(p/m),I=p-E*m;if(S===E){const T=h-S*m;return w(0,I-T)}else return w(E-S,I)}function c(a,v){return a<v}function g(a,v){return a<=v}function l(a,v){return a>=v}function r(a){return w(a.lineNumber-1,a.column-1)}function d(a,v){const h=a,p=Math.floor(h/m),_=h-p*m,S=v,E=Math.floor(S/m),I=S-E*m;return new k.Range(p+1,_+1,E+1,I+1)}function u(a){const v=(0,f.splitLines)(a);return w(v.length-1,v[v.length-1].length)}}),define(ne[195],se([1,0,5,102]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class L{static fromModelContentChanges(w){return w.map(C=>{const o=f.Range.lift(C.range);return new L((0,k.positionToLength)(o.getStartPosition()),(0,k.positionToLength)(o.getEndPosition()),(0,k.lengthOfString)(C.text))}).reverse()}constructor(w,b,C){this.startOffset=w,this.endOffset=b,this.newLength=C}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=L;class D{constructor(w){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=w.map(b=>y.from(b))}getOffsetBeforeChange(w){return this.adjustNextEdit(w),this.translateCurToOld(w)}getDistanceToNextChange(w){this.adjustNextEdit(w);const b=this.edits[this.nextEditIdx],C=b?this.translateOldToCur(b.offsetObj):null;return C===null?null:(0,k.lengthDiffNonNegative)(w,C)}translateOldToCur(w){return w.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount)}translateCurToOld(w){const b=(0,k.lengthToObj)(w);return b.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount)}adjustNextEdit(w){for(;this.nextEditIdx<this.edits.length;){const b=this.edits[this.nextEditIdx],C=this.translateOldToCur(b.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(C,w)){this.nextEditIdx++;const o=(0,k.lengthToObj)(C),n=(0,k.lengthToObj)(this.translateOldToCur(b.endOffsetBeforeObj)),i=o.lineCount-n.lineCount;this.deltaOldToNewLineCount+=i;const t=this.deltaLineIdxInOld===b.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,s=o.columnCount-n.columnCount;this.deltaOldToNewColumnCount=t+s,this.deltaLineIdxInOld=b.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=D;class y{static from(w){return new y(w.startOffset,w.endOffset,w.newLength)}constructor(w,b,C){this.endOffsetBeforeObj=(0,k.lengthToObj)(b),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(w,C)),this.offsetObj=(0,k.lengthToObj)(w)}}}),define(ne[312],se([1,0,13,195,102]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=D;function D(w,b){if(w.length===0)return b;if(b.length===0)return w;const C=new f.ArrayQueue(m(w)),o=m(b);o.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let n=C.dequeue();function i(g){if(g===void 0){const r=C.takeWhile(d=>!0)||[];return n&&r.unshift(n),r}const l=[];for(;n&&!(0,L.lengthIsZero)(g);){const[r,d]=n.splitAt(g);l.push(r),g=(0,L.lengthDiffNonNegative)(r.lengthAfter,g),n=d??C.dequeue()}return(0,L.lengthIsZero)(g)||l.push(new y(!1,g,g)),l}const t=[];function s(g,l,r){if(t.length>0&&(0,L.lengthEquals)(t[t.length-1].endOffset,g)){const d=t[t.length-1];t[t.length-1]=new k.TextEditInfo(d.startOffset,l,(0,L.lengthAdd)(d.newLength,r))}else t.push({startOffset:g,endOffset:l,newLength:r})}let c=L.lengthZero;for(const g of o){const l=i(g.lengthBefore);if(g.modified){const r=(0,L.sumLengths)(l,u=>u.lengthBefore),d=(0,L.lengthAdd)(c,r);s(c,d,g.lengthAfter),c=d}else for(const r of l){const d=c;c=(0,L.lengthAdd)(c,r.lengthBefore),r.modified&&s(d,c,r.lengthAfter)}}return t}class y{constructor(b,C,o){this.modified=b,this.lengthBefore=C,this.lengthAfter=o}splitAt(b){const C=(0,L.lengthDiffNonNegative)(b,this.lengthAfter);return(0,L.lengthEquals)(C,L.lengthZero)?[this,void 0]:this.modified?[new y(this.modified,this.lengthBefore,b),new y(this.modified,L.lengthZero,C)]:[new y(this.modified,b,b),new y(this.modified,C,C)]}toString(){return`${this.modified?"M":"U"}:${(0,L.lengthToObj)(this.lengthBefore)} -> ${(0,L.lengthToObj)(this.lengthAfter)}`}}function m(w){const b=[];let C=L.lengthZero;for(const o of w){const n=(0,L.lengthDiffNonNegative)(C,o.startOffset);(0,L.lengthIsZero)(n)||b.push(new y(!1,n,n));const i=(0,L.lengthDiffNonNegative)(o.startOffset,o.endOffset);b.push(new y(!0,i,o.newLength)),C=o.endOffset}return b}}),define(ne[554],se([1,0,102]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(m){this.lastOffset=f.lengthZero,this.nextNodes=[m],this.offsets=[f.lengthZero],this.idxs=[]}readLongestNodeAt(m,w){if((0,f.lengthLessThan)(m,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=m;;){const b=D(this.nextNodes);if(!b)return;const C=D(this.offsets);if((0,f.lengthLessThan)(m,C))return;if((0,f.lengthLessThan)(C,m))if((0,f.lengthAdd)(C,b.length)<=m)this.nextNodeAfterCurrent();else{const o=L(b);o!==-1?(this.nextNodes.push(b.getChild(o)),this.offsets.push(C),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(w(b))return this.nextNodeAfterCurrent(),b;{const o=L(b);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(b.getChild(o)),this.offsets.push(C),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){const m=D(this.offsets),w=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const b=D(this.nextNodes),C=L(b,this.idxs[this.idxs.length-1]);if(C!==-1){this.nextNodes.push(b.getChild(C)),this.offsets.push((0,f.lengthAdd)(m,w.length)),this.idxs[this.idxs.length-1]=C;break}else this.idxs.pop()}}}e.NodeReader=k;function L(y,m=-1){for(;;){if(m++,m>=y.childrenLength)return-1;if(y.getChild(m))return m}}function D(y){return y.length>0?y[y.length-1]:void 0}}),define(ne[145],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const f=[];class k{static create(y,m){if(y<=128&&m.length===0){let w=k.cache[y];return w||(w=new k(y,m),k.cache[y]=w),w}return new k(y,m)}static getEmpty(){return this.empty}constructor(y,m){this.items=y,this.additionalItems=m}add(y,m){const w=m.getKey(y);let b=w>>5;if(b===0){const o=1<<w|this.items;return o===this.items?this:k.create(o,this.additionalItems)}b--;const C=this.additionalItems.slice(0);for(;C.length<b;)C.push(0);return C[b]|=1<<(w&31),k.create(this.items,C)}merge(y){const m=this.items|y.items;if(this.additionalItems===f&&y.additionalItems===f)return m===this.items?this:m===y.items?y:k.create(m,f);const w=[];for(let b=0;b<Math.max(this.additionalItems.length,y.additionalItems.length);b++){const C=this.additionalItems[b]||0,o=y.additionalItems[b]||0;w.push(C|o)}return k.create(m,w)}intersects(y){if(this.items&y.items)return!0;for(let m=0;m<Math.min(this.additionalItems.length,y.additionalItems.length);m++)if(this.additionalItems[m]&y.additionalItems[m])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,f),e.identityKeyProvider={getKey(D){return D}};class L{constructor(){this.items=new Map}getKey(y){let m=this.items.get(y);return m===void 0&&(m=this.items.size,this.items.set(y,m)),m}}e.DenseKeyProvider=L}),define(ne[196],se([1,0,9,90,102,145]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class y{get length(){return this._length}constructor(r){this._length=r}}class m extends y{static create(r,d,u){let a=r.length;return d&&(a=(0,L.lengthAdd)(a,d.length)),u&&(a=(0,L.lengthAdd)(a,u.length)),new m(a,r,d,u,d?d.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(r){switch(r){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const r=[];return r.push(this.openingBracket),this.child&&r.push(this.child),this.closingBracket&&r.push(this.closingBracket),r}constructor(r,d,u,a,v){super(r),this.openingBracket=d,this.child=u,this.closingBracket=a,this.missingOpeningBracketIds=v}canBeReused(r){return!(this.closingBracket===null||r.intersects(this.missingOpeningBracketIds))}deepClone(){return new m(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(r,d){return this.child?this.child.computeMinIndentation((0,L.lengthAdd)(r,this.openingBracket.length),d):Number.MAX_SAFE_INTEGER}}e.PairAstNode=m;class w extends y{static create23(r,d,u,a=!1){let v=r.length,h=r.missingOpeningBracketIds;if(r.listHeight!==d.listHeight)throw new Error("Invalid list heights");if(v=(0,L.lengthAdd)(v,d.length),h=h.merge(d.missingOpeningBracketIds),u){if(r.listHeight!==u.listHeight)throw new Error("Invalid list heights");v=(0,L.lengthAdd)(v,u.length),h=h.merge(u.missingOpeningBracketIds)}return a?new C(v,r.listHeight+1,r,d,u,h):new b(v,r.listHeight+1,r,d,u,h)}static getEmpty(){return new n(L.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(r,d,u){super(r),this.listHeight=d,this._missingOpeningBracketIds=u,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const r=this.childrenLength;if(r===0)return;const d=this.getChild(r-1),u=d.kind===4?d.toMutable():d;return d!==u&&this.setChild(r-1,u),u}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const d=this.getChild(0),u=d.kind===4?d.toMutable():d;return d!==u&&this.setChild(0,u),u}canBeReused(r){if(r.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let d=this;for(;d.kind===4;){const u=d.childrenLength;if(u===0)throw new f.BugIndicatingError;d=d.getChild(u-1)}return d.canBeReused(r)}handleChildrenChanged(){this.throwIfImmutable();const r=this.childrenLength;let d=this.getChild(0).length,u=this.getChild(0).missingOpeningBracketIds;for(let a=1;a<r;a++){const v=this.getChild(a);d=(0,L.lengthAdd)(d,v.length),u=u.merge(v.missingOpeningBracketIds)}this._length=d,this._missingOpeningBracketIds=u,this.cachedMinIndentation=-1}computeMinIndentation(r,d){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let u=Number.MAX_SAFE_INTEGER,a=r;for(let v=0;v<this.childrenLength;v++){const h=this.getChild(v);h&&(u=Math.min(u,h.computeMinIndentation(a,d)),a=(0,L.lengthAdd)(a,h.length))}return this.cachedMinIndentation=u,u}}e.ListAstNode=w;class b extends w{get childrenLength(){return this._item3!==null?3:2}getChild(r){switch(r){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(r,d){switch(r){case 0:this._item1=d;return;case 1:this._item2=d;return;case 2:this._item3=d;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(r,d,u,a,v,h){super(r,d,h),this._item1=u,this._item2=a,this._item3=v}deepClone(){return new b(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(r){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=r,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const r=this._item3;return this._item3=null,this.handleChildrenChanged(),r}prependChildOfSameHeight(r){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=r,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const r=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),r}toMutable(){return this}}class C extends b{toMutable(){return new b(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class o extends w{get childrenLength(){return this._children.length}getChild(r){return this._children[r]}setChild(r,d){this._children[r]=d}get children(){return this._children}constructor(r,d,u,a){super(r,d,a),this._children=u}deepClone(){const r=new Array(this._children.length);for(let d=0;d<this._children.length;d++)r[d]=this._children[d].deepClone();return new o(this.length,this.listHeight,r,this.missingOpeningBracketIds)}appendChildOfSameHeight(r){this.throwIfImmutable(),this._children.push(r),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const r=this._children.pop();return this.handleChildrenChanged(),r}prependChildOfSameHeight(r){this.throwIfImmutable(),this._children.unshift(r),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const r=this._children.shift();return this.handleChildrenChanged(),r}toMutable(){return this}}class n extends o{toMutable(){return new o(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class t extends y{get listHeight(){return 0}get childrenLength(){return 0}getChild(r){return null}get children(){return i}deepClone(){return this}}class s extends t{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(r){return!0}computeMinIndentation(r,d){const u=(0,L.lengthToObj)(r),a=(u.columnCount===0?u.lineCount:u.lineCount+1)+1,v=(0,L.lengthGetLineCount)((0,L.lengthAdd)(r,this.length))+1;let h=Number.MAX_SAFE_INTEGER;for(let p=a;p<=v;p++){const _=d.getLineFirstNonWhitespaceColumn(p),S=d.getLineContent(p);if(_===0)continue;const E=k.CursorColumns.visibleColumnFromColumn(S,_,d.getOptions().tabSize);h=Math.min(h,E)}return h}}e.TextAstNode=s;class c extends t{static create(r,d,u){return new c(r,d,u)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(r,d,u){super(r),this.bracketInfo=d,this.bracketIds=u}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(r){return!1}computeMinIndentation(r,d){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=c;class g extends t{get kind(){return 3}constructor(r,d){super(d),this.missingOpeningBracketIds=r}canBeReused(r){return!r.intersects(this.missingOpeningBracketIds)}computeMinIndentation(r,d){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=g}),define(ne[555],se([1,0,196]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23Trees=k,e.concat23TreesOfSameHeight=L;function k(b){if(b.length===0)return null;if(b.length===1)return b[0];let C=0;function o(){if(C>=b.length)return null;const s=C,c=b[s].listHeight;for(C++;C<b.length&&b[C].listHeight===c;)C++;return C-s>=2?L(s===0&&C===b.length?b:b.slice(s,C),!1):b[s]}let n=o(),i=o();if(!i)return n;for(let s=o();s;s=o())D(n,i)<=D(i,s)?(n=y(n,i),i=s):i=y(i,s);return y(n,i)}function L(b,C=!1){if(b.length===0)return null;if(b.length===1)return b[0];let o=b.length;for(;o>3;){const n=o>>1;for(let i=0;i<n;i++){const t=i<<1;b[i]=f.ListAstNode.create23(b[t],b[t+1],t+3===o?b[t+2]:null,C)}o=n}return f.ListAstNode.create23(b[0],b[1],o>=3?b[2]:null,C)}function D(b,C){return Math.abs(b.listHeight-C.listHeight)}function y(b,C){return b.listHeight===C.listHeight?f.ListAstNode.create23(b,C,null,!1):b.listHeight>C.listHeight?m(b,C):w(C,b)}function m(b,C){b=b.toMutable();let o=b;const n=[];let i;for(;;){if(C.listHeight===o.listHeight){i=C;break}if(o.kind!==4)throw new Error("unexpected");n.push(o),o=o.makeLastElementMutable()}for(let t=n.length-1;t>=0;t--){const s=n[t];i?s.childrenLength>=3?i=f.ListAstNode.create23(s.unappendChild(),i,null,!1):(s.appendChildOfSameHeight(i),i=void 0):s.handleChildrenChanged()}return i?f.ListAstNode.create23(b,i,null,!1):b}function w(b,C){b=b.toMutable();let o=b;const n=[];for(;C.listHeight!==o.listHeight;){if(o.kind!==4)throw new Error("unexpected");n.push(o),o=o.makeFirstElementMutable()}let i=C;for(let t=n.length-1;t>=0;t--){const s=n[t];i?s.childrenLength>=3?i=f.ListAstNode.create23(i,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(i),i=void 0):s.handleChildrenChanged()}return i?f.ListAstNode.create23(i,b,null,!1):b}}),define(ne[313],se([1,0,196,195,145,102,555,554]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=w;function w(C,o,n,i){return new b(C,o,n,i).parseDocument()}class b{constructor(o,n,i,t){if(this.tokenizer=o,this.createImmutableLists=t,this._itemsConstructed=0,this._itemsFromCache=0,i&&t)throw new Error("Not supported");this.oldNodeReader=i?new m.NodeReader(i):void 0,this.positionMapper=new k.BeforeEditPositionMapper(n)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let o=this.parseList(L.SmallImmutableSet.getEmpty(),0);return o||(o=f.ListAstNode.getEmpty()),o}parseList(o,n){const i=[];for(;;){let s=this.tryReadChildFromCache(o);if(!s){const c=this.tokenizer.peek();if(!c||c.kind===2&&c.bracketIds.intersects(o))break;s=this.parseChild(o,n+1)}s.kind===4&&s.childrenLength===0||i.push(s)}return this.oldNodeReader?(0,y.concat23Trees)(i):(0,y.concat23TreesOfSameHeight)(i,this.createImmutableLists)}tryReadChildFromCache(o){if(this.oldNodeReader){const n=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(n===null||!(0,D.lengthIsZero)(n)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>n!==null&&!(0,D.lengthLessThan)(t.length,n)?!1:t.canBeReused(o));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(o,n){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new f.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(n>300)return new f.TextAstNode(i.length);const t=o.merge(i.bracketIds),s=this.parseList(t,n+1),c=this.tokenizer.peek();return c&&c.kind===2&&(c.bracketId===i.bracketId||c.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),f.PairAstNode.create(i.astNode,s,c.astNode)):f.PairAstNode.create(i.astNode,s,null)}default:throw new Error("unexpected")}}}}),define(ne[232],se([1,0,9,144,196,102,145]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class m{constructor(n,i,t,s,c){this.length=n,this.kind=i,this.bracketId=t,this.bracketIds=s,this.astNode=c}}e.Token=m;class w{constructor(n,i){this.textModel=n,this.bracketTokens=i,this.reader=new b(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(n){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,n);const i=(0,D.lengthToObj)(this._offset);this.reader.setPosition(i.lineCount,i.columnCount)}read(){let n;return this.peeked?(this.didPeek=!1,n=this.peeked):n=this.reader.read(),n&&(this._offset=(0,D.lengthAdd)(this._offset,n.length)),n}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=w;class b{constructor(n,i){this.textModel=n,this.bracketTokens=i,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}setPosition(n,i){n===this.lineIdx?(this.lineCharOffset=i,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=n,this.lineCharOffset=i,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const c=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(c.length),c}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const n=this.lineIdx,i=this.lineCharOffset;let t=0;for(;;){const c=this.lineTokens,g=c.getCount();let l=null;if(this.lineTokenOffset<g){const r=c.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<g&&r===c.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const d=k.TokenMetadata.getTokenType(r)===0,u=k.TokenMetadata.containsBalancedBrackets(r),a=c.getEndOffset(this.lineTokenOffset);if(u&&d&&this.lineCharOffset<a){const v=c.getLanguageId(this.lineTokenOffset),h=this.line.substring(this.lineCharOffset,a),p=this.bracketTokens.getSingleLanguageBracketTokens(v),_=p.regExpGlobal;if(_){_.lastIndex=0;const S=_.exec(h);S&&(l=p.getToken(S[0]),l&&(this.lineCharOffset+=S.index))}}if(t+=a-this.lineCharOffset,l)if(n!==this.lineIdx||i!==this.lineCharOffset){this.peekedToken=l;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(l.length),l;else this.lineTokenOffset++,this.lineCharOffset=a}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,t+=33,t>1e3))break;if(t>1500)break}const s=(0,D.lengthDiff)(n,i,this.lineIdx,this.lineCharOffset);return new m(s,0,-1,y.SmallImmutableSet.getEmpty(),new L.TextAstNode(s))}}class C{constructor(n,i){this.text=n,this._offset=D.lengthZero,this.idx=0;const t=i.getRegExpStr(),s=t?new RegExp(t+`|
`,"gi"):null,c=[];let g,l=0,r=0,d=0,u=0;const a=[];for(let p=0;p<60;p++)a.push(new m((0,D.toLength)(0,p),0,-1,y.SmallImmutableSet.getEmpty(),new L.TextAstNode((0,D.toLength)(0,p))));const v=[];for(let p=0;p<60;p++)v.push(new m((0,D.toLength)(1,p),0,-1,y.SmallImmutableSet.getEmpty(),new L.TextAstNode((0,D.toLength)(1,p))));if(s)for(s.lastIndex=0;(g=s.exec(n))!==null;){const p=g.index,_=g[0];if(_===`
`)l++,r=p+1;else{if(d!==p){let S;if(u===l){const E=p-d;if(E<a.length)S=a[E];else{const I=(0,D.toLength)(0,E);S=new m(I,0,-1,y.SmallImmutableSet.getEmpty(),new L.TextAstNode(I))}}else{const E=l-u,I=p-r;if(E===1&&I<v.length)S=v[I];else{const T=(0,D.toLength)(E,I);S=new m(T,0,-1,y.SmallImmutableSet.getEmpty(),new L.TextAstNode(T))}}c.push(S)}c.push(i.getToken(_)),d=p+_.length,u=l}}const h=n.length;if(d!==h){const p=u===l?(0,D.toLength)(0,h-d):(0,D.toLength)(l-u,h-r);c.push(new m(p,0,-1,y.SmallImmutableSet.getEmpty(),new L.TextAstNode(p)))}this.length=(0,D.toLength)(l,h-r),this.tokens=c}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(n){throw new f.NotSupportedError}}e.FastTokenizer=C}),define(ne[314],se([1,0,11,196,102,145,232]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class m{static createFromLanguage(o,n){function i(s){return n.getKey(`${s.languageId}:::${s.bracketText}`)}const t=new Map;for(const s of o.bracketsNew.openingBrackets){const c=(0,L.toLength)(0,s.bracketText.length),g=i(s),l=D.SmallImmutableSet.getEmpty().add(g,D.identityKeyProvider);t.set(s.bracketText,new y.Token(c,1,g,l,k.BracketAstNode.create(c,s,l)))}for(const s of o.bracketsNew.closingBrackets){const c=(0,L.toLength)(0,s.bracketText.length);let g=D.SmallImmutableSet.getEmpty();const l=s.getOpeningBrackets();for(const r of l)g=g.add(i(r),D.identityKeyProvider);t.set(s.bracketText,new y.Token(c,2,i(l[0]),g,k.BracketAstNode.create(c,s,g)))}return new m(t)}constructor(o){this.map=o,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const o=[...this.map.keys()];return o.sort(),o.reverse(),o.map(n=>w(n)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const o=this.getRegExpStr();this._regExpGlobal=o?new RegExp(o,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(o){return this.map.get(o.toLowerCase())}findClosingTokenText(o){for(const[n,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(o))return n}get isEmpty(){return this.map.size===0}}e.BracketTokens=m;function w(C){let o=(0,f.escapeRegExpCharacters)(C);return/^[\w ]+/.test(C)&&(o=`\\b${o}`),/[\w ]+$/.test(C)&&(o=`${o}\\b`),o}class b{constructor(o,n){this.denseKeyProvider=o,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}didLanguageChange(o){return this.languageIdToBracketTokens.has(o)}getSingleLanguageBracketTokens(o){let n=this.languageIdToBracketTokens.get(o);return n||(n=m.createFromLanguage(this.getLanguageConfiguration(o),this.denseKeyProvider),this.languageIdToBracketTokens.set(o,n)),n}}e.LanguageAgnosticBracketTokens=b}),define(ne[556],se([1,0,314,102,313,145,232]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=m;function m(b,C){const o=new D.DenseKeyProvider,n=new f.LanguageAgnosticBracketTokens(o,l=>C.getLanguageConfiguration(l)),i=new y.TextBufferTokenizer(new w([b]),n),t=(0,L.parseDocument)(i,[],void 0,!0);let s="";const c=b.getLineContent();function g(l,r){if(l.kind===2)if(g(l.openingBracket,r),r=(0,k.lengthAdd)(r,l.openingBracket.length),l.child&&(g(l.child,r),r=(0,k.lengthAdd)(r,l.child.length)),l.closingBracket)g(l.closingBracket,r),r=(0,k.lengthAdd)(r,l.closingBracket.length);else{const u=n.getSingleLanguageBracketTokens(l.openingBracket.languageId).findClosingTokenText(l.openingBracket.bracketIds);s+=u}else if(l.kind!==3){if(l.kind===0||l.kind===1)s+=c.substring((0,k.lengthGetColumnCountIfZeroLineCount)(r),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(r,l.length)));else if(l.kind===4)for(const d of l.children)g(d,r),r=(0,k.lengthAdd)(r,d.length)}}return g(t,k.lengthZero),s}class w{constructor(C){this.lines=C,this.tokenization={getLineTokens:o=>this.lines[o-1]}}getLineCount(){return this.lines.length}getLineLength(C){return this.lines[C-1].getLineContent().length}}}),define(ne[557],se([1,0,13]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(y){this._default=y,this._store=[]}get(y){return y<this._store.length?this._store[y]:this._default}set(y,m){for(;y>=this._store.length;)this._store[this._store.length]=this._default;this._store[y]=m}replace(y,m,w){if(y>=this._store.length)return;if(m===0){this.insert(y,w);return}else if(w===0){this.delete(y,m);return}const b=this._store.slice(0,y),C=this._store.slice(y+m),o=L(w,this._default);this._store=b.concat(o,C)}delete(y,m){m===0||y>=this._store.length||this._store.splice(y,m)}insert(y,m){if(m===0||y>=this._store.length)return;const w=[];for(let b=0;b<m;b++)w[b]=this._default;this._store=(0,f.arrayInsert)(this._store,y,w)}}e.FixedArray=k;function L(D,y){const m=[];for(let w=0;w<D;w++)m[w]=y;return m}}),define(ne[558],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=L;class f{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(D,y,m,w,b){b.spacesDiff=0,b.looksLikeAlignment=!1;let C;for(C=0;C<y&&C<w;C++){const g=D.charCodeAt(C),l=m.charCodeAt(C);if(g!==l)break}let o=0,n=0;for(let g=C;g<y;g++)D.charCodeAt(g)===32?o++:n++;let i=0,t=0;for(let g=C;g<w;g++)m.charCodeAt(g)===32?i++:t++;if(o>0&&n>0||i>0&&t>0)return;const s=Math.abs(n-t),c=Math.abs(o-i);if(s===0){b.spacesDiff=c,c>0&&0<=i-1&&i-1<D.length&&i<m.length&&m.charCodeAt(i)!==32&&D.charCodeAt(i-1)===32&&D.charCodeAt(D.length-1)===44&&(b.looksLikeAlignment=!0);return}if(c%s===0){b.spacesDiff=c/s;return}}function L(D,y,m){const w=Math.min(D.getLineCount(),1e4);let b=0,C=0,o="",n=0;const i=[2,4,6,8,3,5,7],t=8,s=[0,0,0,0,0,0,0,0,0],c=new f;for(let r=1;r<=w;r++){const d=D.getLineLength(r),u=D.getLineContent(r),a=d<=65536;let v=!1,h=0,p=0,_=0;for(let E=0,I=d;E<I;E++){const T=a?u.charCodeAt(E):D.getLineCharCode(r,E);if(T===9)_++;else if(T===32)p++;else{v=!0,h=E;break}}if(!v||(_>0?b++:p>1&&C++,k(o,n,u,h,c),c.looksLikeAlignment&&!(m&&y===c.spacesDiff)))continue;const S=c.spacesDiff;S<=t&&s[S]++,o=u,n=h}let g=m;b!==C&&(g=b<C);let l=y;if(g){let r=g?0:.1*w;i.forEach(d=>{const u=s[d];u>r&&(r=u,l=d)}),l===4&&s[4]>0&&s[2]>0&&s[2]>=s[4]/2&&(l=2)}return{insertSpaces:g,tabSize:l}}}),define(ne[559],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalTree=e.SENTINEL=e.IntervalNode=void 0,e.getNodeColor=f,e.nodeAcceptEdit=l,e.recomputeMaxEnd=R,e.intervalCompare=P;function f(F){return(F.metadata&1)>>>0}function k(F,O){F.metadata=F.metadata&254|O<<0}function L(F){return(F.metadata&2)>>>1===1}function D(F,O){F.metadata=F.metadata&253|(O?1:0)<<1}function y(F){return(F.metadata&4)>>>2===1}function m(F,O){F.metadata=F.metadata&251|(O?1:0)<<2}function w(F){return(F.metadata&64)>>>6===1}function b(F,O){F.metadata=F.metadata&191|(O?1:0)<<6}function C(F){return(F.metadata&24)>>>3}function o(F,O){F.metadata=F.metadata&231|O<<3}function n(F){return(F.metadata&32)>>>5===1}function i(F,O){F.metadata=F.metadata&223|(O?1:0)<<5}class t{constructor(O,B,V){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=B,this.end=V,this.delta=0,this.maxEnd=V,this.id=O,this.ownerId=0,this.options=null,m(this,!1),b(this,!1),o(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=V,this.range=null,D(this,!1)}reset(O,B,V,K){this.start=B,this.end=V,this.maxEnd=V,this.cachedVersionId=O,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=V,this.range=K}setOptions(O){this.options=O;const B=this.options.className;m(this,B==="squiggly-error"||B==="squiggly-warning"||B==="squiggly-info"),b(this,this.options.glyphMarginClassName!==null),o(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(O,B,V){this.cachedVersionId!==V&&(this.range=null),this.cachedVersionId=V,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=B}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class s{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(O,B,V,K,U,G){return this.root===e.SENTINEL?[]:h(this,O,B,V,K,U,G)}search(O,B,V,K){return this.root===e.SENTINEL?[]:v(this,O,B,V,K)}collectNodesFromOwner(O){return u(this,O)}collectNodesPostOrder(){return a(this)}insert(O){p(this,O),this._normalizeDeltaIfNecessary()}delete(O){S(this,O),this._normalizeDeltaIfNecessary()}resolveNode(O,B){const V=O;let K=0;for(;O!==this.root;)O===O.parent.right&&(K+=O.parent.delta),O=O.parent;const U=V.start+K,G=V.end+K;V.setCachedOffsets(U,G,B)}acceptReplace(O,B,V,K){const U=r(this,O,O+B);for(let G=0,z=U.length;G<z;G++){const $=U[G];S(this,$)}this._normalizeDeltaIfNecessary(),d(this,O,O+B,V),this._normalizeDeltaIfNecessary();for(let G=0,z=U.length;G<z;G++){const $=U[G];$.start=$.cachedAbsoluteStart,$.end=$.cachedAbsoluteEnd,l($,O,O+B,V,K),$.maxEnd=$.end,p(this,$)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,c(this))}}e.IntervalTree=s;function c(F){let O=F.root,B=0;for(;O!==e.SENTINEL;){if(O.left!==e.SENTINEL&&!L(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!L(O.right)){B+=O.delta,O=O.right;continue}O.start=B+O.start,O.end=B+O.end,O.delta=0,R(O),D(O,!0),D(O.left,!1),D(O.right,!1),O===O.parent.right&&(B-=O.parent.delta),O=O.parent}D(F.root,!1)}function g(F,O,B,V){return F<B?!0:F>B||V===1?!1:V===2?!0:O}function l(F,O,B,V,K){const U=C(F),G=U===0||U===2,z=U===1||U===2,$=B-O,J=V,ee=Math.min($,J),Z=F.start;let x=!1;const Y=F.end;let ae=!1;O<=Z&&Y<=B&&n(F)&&(F.start=O,x=!0,F.end=O,ae=!0);{const he=K?1:$>0?2:0;!x&&g(Z,G,O,he)&&(x=!0),!ae&&g(Y,z,O,he)&&(ae=!0)}if(ee>0&&!K){const he=$>J?2:0;!x&&g(Z,G,O+ee,he)&&(x=!0),!ae&&g(Y,z,O+ee,he)&&(ae=!0)}{const he=K?1:0;!x&&g(Z,G,B,he)&&(F.start=O+J,x=!0),!ae&&g(Y,z,B,he)&&(F.end=O+J,ae=!0)}const ue=J-$;x||(F.start=Math.max(0,Z+ue)),ae||(F.end=Math.max(0,Y+ue)),F.start>F.end&&(F.end=F.start)}function r(F,O,B){let V=F.root,K=0,U=0,G=0,z=0;const $=[];let J=0;for(;V!==e.SENTINEL;){if(L(V)){D(V.left,!1),D(V.right,!1),V===V.parent.right&&(K-=V.parent.delta),V=V.parent;continue}if(!L(V.left)){if(U=K+V.maxEnd,U<O){D(V,!0);continue}if(V.left!==e.SENTINEL){V=V.left;continue}}if(G=K+V.start,G>B){D(V,!0);continue}if(z=K+V.end,z>=O&&(V.setCachedOffsets(G,z,0),$[J++]=V),D(V,!0),V.right!==e.SENTINEL&&!L(V.right)){K+=V.delta,V=V.right;continue}}return D(F.root,!1),$}function d(F,O,B,V){let K=F.root,U=0,G=0,z=0;const $=V-(B-O);for(;K!==e.SENTINEL;){if(L(K)){D(K.left,!1),D(K.right,!1),K===K.parent.right&&(U-=K.parent.delta),R(K),K=K.parent;continue}if(!L(K.left)){if(G=U+K.maxEnd,G<O){D(K,!0);continue}if(K.left!==e.SENTINEL){K=K.left;continue}}if(z=U+K.start,z>B){K.start+=$,K.end+=$,K.delta+=$,(K.delta<-1073741824||K.delta>1073741824)&&(F.requestNormalizeDelta=!0),D(K,!0);continue}if(D(K,!0),K.right!==e.SENTINEL&&!L(K.right)){U+=K.delta,K=K.right;continue}}D(F.root,!1)}function u(F,O){let B=F.root;const V=[];let K=0;for(;B!==e.SENTINEL;){if(L(B)){D(B.left,!1),D(B.right,!1),B=B.parent;continue}if(B.left!==e.SENTINEL&&!L(B.left)){B=B.left;continue}if(B.ownerId===O&&(V[K++]=B),D(B,!0),B.right!==e.SENTINEL&&!L(B.right)){B=B.right;continue}}return D(F.root,!1),V}function a(F){let O=F.root;const B=[];let V=0;for(;O!==e.SENTINEL;){if(L(O)){D(O.left,!1),D(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!L(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!L(O.right)){O=O.right;continue}B[V++]=O,D(O,!0)}return D(F.root,!1),B}function v(F,O,B,V,K){let U=F.root,G=0,z=0,$=0;const J=[];let ee=0;for(;U!==e.SENTINEL;){if(L(U)){D(U.left,!1),D(U.right,!1),U===U.parent.right&&(G-=U.parent.delta),U=U.parent;continue}if(U.left!==e.SENTINEL&&!L(U.left)){U=U.left;continue}z=G+U.start,$=G+U.end,U.setCachedOffsets(z,$,V);let Z=!0;if(O&&U.ownerId&&U.ownerId!==O&&(Z=!1),B&&y(U)&&(Z=!1),K&&!w(U)&&(Z=!1),Z&&(J[ee++]=U),D(U,!0),U.right!==e.SENTINEL&&!L(U.right)){G+=U.delta,U=U.right;continue}}return D(F.root,!1),J}function h(F,O,B,V,K,U,G){let z=F.root,$=0,J=0,ee=0,Z=0;const x=[];let Y=0;for(;z!==e.SENTINEL;){if(L(z)){D(z.left,!1),D(z.right,!1),z===z.parent.right&&($-=z.parent.delta),z=z.parent;continue}if(!L(z.left)){if(J=$+z.maxEnd,J<O){D(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if(ee=$+z.start,ee>B){D(z,!0);continue}if(Z=$+z.end,Z>=O){z.setCachedOffsets(ee,Z,U);let ae=!0;V&&z.ownerId&&z.ownerId!==V&&(ae=!1),K&&y(z)&&(ae=!1),G&&!w(z)&&(ae=!1),ae&&(x[Y++]=z)}if(D(z,!0),z.right!==e.SENTINEL&&!L(z.right)){$+=z.delta,z=z.right;continue}}return D(F.root,!1),x}function p(F,O){if(F.root===e.SENTINEL)return O.parent=e.SENTINEL,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,0),F.root=O,F.root;_(F,O),M(O.parent);let B=O;for(;B!==F.root&&f(B.parent)===1;)if(B.parent===B.parent.parent.left){const V=B.parent.parent.right;f(V)===1?(k(B.parent,0),k(V,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.right&&(B=B.parent,T(F,B)),k(B.parent,0),k(B.parent.parent,1),N(F,B.parent.parent))}else{const V=B.parent.parent.left;f(V)===1?(k(B.parent,0),k(V,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.left&&(B=B.parent,N(F,B)),k(B.parent,0),k(B.parent.parent,1),T(F,B.parent.parent))}return k(F.root,0),O}function _(F,O){let B=0,V=F.root;const K=O.start,U=O.end;for(;;)if(P(K,U,V.start+B,V.end+B)<0)if(V.left===e.SENTINEL){O.start-=B,O.end-=B,O.maxEnd-=B,V.left=O;break}else V=V.left;else if(V.right===e.SENTINEL){O.start-=B+V.delta,O.end-=B+V.delta,O.maxEnd-=B+V.delta,V.right=O;break}else B+=V.delta,V=V.right;O.parent=V,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,1)}function S(F,O){let B,V;if(O.left===e.SENTINEL?(B=O.right,V=O,B.delta+=O.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),B.start+=O.delta,B.end+=O.delta):O.right===e.SENTINEL?(B=O.left,V=O):(V=E(O.right),B=V.right,B.start+=V.delta,B.end+=V.delta,B.delta+=V.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),V.start+=O.delta,V.end+=O.delta,V.delta=O.delta,(V.delta<-1073741824||V.delta>1073741824)&&(F.requestNormalizeDelta=!0)),V===F.root){F.root=B,k(B,0),O.detach(),I(),R(B),F.root.parent=e.SENTINEL;return}const K=f(V)===1;if(V===V.parent.left?V.parent.left=B:V.parent.right=B,V===O?B.parent=V.parent:(V.parent===O?B.parent=V:B.parent=V.parent,V.left=O.left,V.right=O.right,V.parent=O.parent,k(V,f(O)),O===F.root?F.root=V:O===O.parent.left?O.parent.left=V:O.parent.right=V,V.left!==e.SENTINEL&&(V.left.parent=V),V.right!==e.SENTINEL&&(V.right.parent=V)),O.detach(),K){M(B.parent),V!==O&&(M(V),M(V.parent)),I();return}M(B),M(B.parent),V!==O&&(M(V),M(V.parent));let U;for(;B!==F.root&&f(B)===0;)B===B.parent.left?(U=B.parent.right,f(U)===1&&(k(U,0),k(B.parent,1),T(F,B.parent),U=B.parent.right),f(U.left)===0&&f(U.right)===0?(k(U,1),B=B.parent):(f(U.right)===0&&(k(U.left,0),k(U,1),N(F,U),U=B.parent.right),k(U,f(B.parent)),k(B.parent,0),k(U.right,0),T(F,B.parent),B=F.root)):(U=B.parent.left,f(U)===1&&(k(U,0),k(B.parent,1),N(F,B.parent),U=B.parent.left),f(U.left)===0&&f(U.right)===0?(k(U,1),B=B.parent):(f(U.left)===0&&(k(U.right,0),k(U,1),T(F,U),U=B.parent.left),k(U,f(B.parent)),k(B.parent,0),k(U.left,0),N(F,B.parent),B=F.root));k(B,0),I()}function E(F){for(;F.left!==e.SENTINEL;)F=F.left;return F}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function T(F,O){const B=O.right;B.delta+=O.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),B.start+=O.delta,B.end+=O.delta,O.right=B.left,B.left!==e.SENTINEL&&(B.left.parent=O),B.parent=O.parent,O.parent===e.SENTINEL?F.root=B:O===O.parent.left?O.parent.left=B:O.parent.right=B,B.left=O,O.parent=B,R(O),R(B)}function N(F,O){const B=O.left;O.delta-=B.delta,(O.delta<-1073741824||O.delta>1073741824)&&(F.requestNormalizeDelta=!0),O.start-=B.delta,O.end-=B.delta,O.left=B.right,B.right!==e.SENTINEL&&(B.right.parent=O),B.parent=O.parent,O.parent===e.SENTINEL?F.root=B:O===O.parent.right?O.parent.right=B:O.parent.left=B,B.right=O,O.parent=B,R(O),R(B)}function A(F){let O=F.end;if(F.left!==e.SENTINEL){const B=F.left.maxEnd;B>O&&(O=B)}if(F.right!==e.SENTINEL){const B=F.right.maxEnd+F.delta;B>O&&(O=B)}return O}function R(F){F.maxEnd=A(F)}function M(F){for(;F!==e.SENTINEL;){const O=A(F);if(F.maxEnd===O)return;F.maxEnd=O,F=F.parent}}function P(F,O,B,V){return F===B?O-V:F-B}}),define(ne[560],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SENTINEL=e.TreeNode=void 0,e.leftest=k,e.righttest=L,e.leftRotate=w,e.rightRotate=b,e.rbDelete=C,e.fixInsert=o,e.updateTreeMetadata=n,e.recomputeTreeMetadata=i;class f{constructor(s,c){this.piece=s,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let s=this;for(;s.parent!==e.SENTINEL&&s.parent.left!==s;)s=s.parent;return s.parent===e.SENTINEL?e.SENTINEL:s.parent}prev(){if(this.left!==e.SENTINEL)return L(this.left);let s=this;for(;s.parent!==e.SENTINEL&&s.parent.right!==s;)s=s.parent;return s.parent===e.SENTINEL?e.SENTINEL:s.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=f,e.SENTINEL=new f(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(t){for(;t.left!==e.SENTINEL;)t=t.left;return t}function L(t){for(;t.right!==e.SENTINEL;)t=t.right;return t}function D(t){return t===e.SENTINEL?0:t.size_left+t.piece.length+D(t.right)}function y(t){return t===e.SENTINEL?0:t.lf_left+t.piece.lineFeedCnt+y(t.right)}function m(){e.SENTINEL.parent=e.SENTINEL}function w(t,s){const c=s.right;c.size_left+=s.size_left+(s.piece?s.piece.length:0),c.lf_left+=s.lf_left+(s.piece?s.piece.lineFeedCnt:0),s.right=c.left,c.left!==e.SENTINEL&&(c.left.parent=s),c.parent=s.parent,s.parent===e.SENTINEL?t.root=c:s.parent.left===s?s.parent.left=c:s.parent.right=c,c.left=s,s.parent=c}function b(t,s){const c=s.left;s.left=c.right,c.right!==e.SENTINEL&&(c.right.parent=s),c.parent=s.parent,s.size_left-=c.size_left+(c.piece?c.piece.length:0),s.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),s.parent===e.SENTINEL?t.root=c:s===s.parent.right?s.parent.right=c:s.parent.left=c,c.right=s,s.parent=c}function C(t,s){let c,g;if(s.left===e.SENTINEL?(g=s,c=g.right):s.right===e.SENTINEL?(g=s,c=g.left):(g=k(s.right),c=g.right),g===t.root){t.root=c,c.color=0,s.detach(),m(),t.root.parent=e.SENTINEL;return}const l=g.color===1;if(g===g.parent.left?g.parent.left=c:g.parent.right=c,g===s?(c.parent=g.parent,i(t,c)):(g.parent===s?c.parent=g:c.parent=g.parent,i(t,c),g.left=s.left,g.right=s.right,g.parent=s.parent,g.color=s.color,s===t.root?t.root=g:s===s.parent.left?s.parent.left=g:s.parent.right=g,g.left!==e.SENTINEL&&(g.left.parent=g),g.right!==e.SENTINEL&&(g.right.parent=g),g.size_left=s.size_left,g.lf_left=s.lf_left,i(t,g)),s.detach(),c.parent.left===c){const d=D(c),u=y(c);if(d!==c.parent.size_left||u!==c.parent.lf_left){const a=d-c.parent.size_left,v=u-c.parent.lf_left;c.parent.size_left=d,c.parent.lf_left=u,n(t,c.parent,a,v)}}if(i(t,c.parent),l){m();return}let r;for(;c!==t.root&&c.color===0;)c===c.parent.left?(r=c.parent.right,r.color===1&&(r.color=0,c.parent.color=1,w(t,c.parent),r=c.parent.right),r.left.color===0&&r.right.color===0?(r.color=1,c=c.parent):(r.right.color===0&&(r.left.color=0,r.color=1,b(t,r),r=c.parent.right),r.color=c.parent.color,c.parent.color=0,r.right.color=0,w(t,c.parent),c=t.root)):(r=c.parent.left,r.color===1&&(r.color=0,c.parent.color=1,b(t,c.parent),r=c.parent.left),r.left.color===0&&r.right.color===0?(r.color=1,c=c.parent):(r.left.color===0&&(r.right.color=0,r.color=1,w(t,r),r=c.parent.left),r.color=c.parent.color,c.parent.color=0,r.left.color=0,b(t,c.parent),c=t.root));c.color=0,m()}function o(t,s){for(i(t,s);s!==t.root&&s.parent.color===1;)if(s.parent===s.parent.parent.left){const c=s.parent.parent.right;c.color===1?(s.parent.color=0,c.color=0,s.parent.parent.color=1,s=s.parent.parent):(s===s.parent.right&&(s=s.parent,w(t,s)),s.parent.color=0,s.parent.parent.color=1,b(t,s.parent.parent))}else{const c=s.parent.parent.left;c.color===1?(s.parent.color=0,c.color=0,s.parent.parent.color=1,s=s.parent.parent):(s===s.parent.left&&(s=s.parent,b(t,s)),s.parent.color=0,s.parent.parent.color=1,w(t,s.parent.parent))}t.root.color=0}function n(t,s,c,g){for(;s!==t.root&&s!==e.SENTINEL;)s.parent.left===s&&(s.parent.size_left+=c,s.parent.lf_left+=g),s=s.parent}function i(t,s){let c=0,g=0;if(s!==t.root){for(;s!==t.root&&s===s.parent.right;)s=s.parent;if(s!==t.root)for(s=s.parent,c=D(s.left)-s.size_left,g=y(s.left)-s.lf_left,s.size_left+=c,s.lf_left+=g;s!==t.root&&(c!==0||g!==0);)s.parent.left===s&&(s.parent.size_left+=c,s.parent.lf_left+=g),s=s.parent}}}),define(ne[315],se([1,0,13,188]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class L{constructor(w){this.values=w,this.prefixSum=new Uint32Array(w.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(w,b){w=(0,k.toUint32)(w);const C=this.values,o=this.prefixSum,n=b.length;return n===0?!1:(this.values=new Uint32Array(C.length+n),this.values.set(C.subarray(0,w),0),this.values.set(C.subarray(w),w+n),this.values.set(b,w),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(w,b){return w=(0,k.toUint32)(w),b=(0,k.toUint32)(b),this.values[w]===b?!1:(this.values[w]=b,w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),!0)}removeValues(w,b){w=(0,k.toUint32)(w),b=(0,k.toUint32)(b);const C=this.values,o=this.prefixSum;if(w>=C.length)return!1;const n=C.length-w;return b>=n&&(b=n),b===0?!1:(this.values=new Uint32Array(C.length-b),this.values.set(C.subarray(0,w),0),this.values.set(C.subarray(w+b),w),this.prefixSum=new Uint32Array(this.values.length),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(w){return w<0?0:(w=(0,k.toUint32)(w),this._getPrefixSum(w))}_getPrefixSum(w){if(w<=this.prefixSumValidIndex[0])return this.prefixSum[w];let b=this.prefixSumValidIndex[0]+1;b===0&&(this.prefixSum[0]=this.values[0],b++),w>=this.values.length&&(w=this.values.length-1);for(let C=b;C<=w;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],w),this.prefixSum[w]}getIndexOf(w){w=Math.floor(w),this.getTotalSum();let b=0,C=this.values.length-1,o=0,n=0,i=0;for(;b<=C;)if(o=b+(C-b)/2|0,n=this.prefixSum[o],i=n-this.values[o],w<i)C=o-1;else if(w>=n)b=o+1;else break;return new y(o,w-i)}}e.PrefixSumComputer=L;class D{constructor(w){this._values=w,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(w){return this._ensureValid(),w===0?0:this._prefixSum[w-1]}getIndexOf(w){this._ensureValid();const b=this._indexBySum[w],C=b>0?this._prefixSum[b-1]:0;return new y(b,w-C)}removeValues(w,b){this._values.splice(w,b),this._invalidate(w)}insertValues(w,b){this._values=(0,f.arrayInsert)(this._values,w,b),this._invalidate(w)}_invalidate(w){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,w-1)}_ensureValid(){if(!this._isValid){for(let w=this._validEndIndex+1,b=this._values.length;w<b;w++){const C=this._values[w],o=w>0?this._prefixSum[w-1]:0;this._prefixSum[w]=o+C;for(let n=0;n<C;n++)this._indexBySum[o+n]=w}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(w,b){this._values[w]!==b&&(this._values[w]=b,this._invalidate(w))}}e.ConstantTimePrefixSumComputer=D;class y{constructor(w,b){this.index=w,this.remainder=b,this._prefixSumIndexOfResultBrand=void 0,this.index=w,this.remainder=b}}e.PrefixSumIndexOfResult=y}),define(ne[561],se([1,0,11,10,315]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(m,w,b,C){this._uri=m,this._lines=w,this._eol=b,this._versionId=C,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const w=m.changes;for(const b of w)this._acceptDeleteRange(b.range),this._acceptInsertText(new k.Position(b.range.startLineNumber,b.range.startColumn),b.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,w=this._lines.length,b=new Uint32Array(w);for(let C=0;C<w;C++)b[C]=this._lines[C].length+m;this._lineStarts=new L.PrefixSumComputer(b)}}_setLineText(m,w){this._lines[m]=w,this._lineStarts&&this._lineStarts.setValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber){if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1));return}this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber)}_acceptInsertText(m,w){if(w.length===0)return;const b=(0,f.splitLines)(w);if(b.length===1){this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+b[0]+this._lines[m.lineNumber-1].substring(m.column-1));return}b[b.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+b[0]);const C=new Uint32Array(b.length-1);for(let o=1;o<b.length;o++)this._lines.splice(m.lineNumber+o-1,0,b[o]),C[o-1]=b[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,C)}}e.MirrorTextModel=D}),define(ne[316],se([1,0,2]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends f.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(ne[197],se([1,0,11,161,10,5,42]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.TextModelSearch=e.SearchParams=void 0,e.isMultilineRegexSource=b,e.createFindMatch=C,e.isValidMatch=s;const m=999;class w{constructor(l,r,d,u){this.searchString=l,this.isRegex=r,this.matchCase=d,this.wordSeparators=u}parseSearchRequest(){if(this.searchString==="")return null;let l;this.isRegex?l=b(this.searchString):l=this.searchString.indexOf(`
`)>=0;let r=null;try{r=f.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:l,global:!0,unicode:!0})}catch{return null}if(!r)return null;let d=!this.isRegex&&!l;return d&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(d=this.matchCase),new y.SearchData(r,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators,[]):null,d?this.searchString:null)}}e.SearchParams=w;function b(g){if(!g||g.length===0)return!1;for(let l=0,r=g.length;l<r;l++){const d=g.charCodeAt(l);if(d===10)return!0;if(d===92){if(l++,l>=r)break;const u=g.charCodeAt(l);if(u===110||u===114||u===87)return!0}}return!1}function C(g,l,r){if(!r)return new y.FindMatch(g,null);const d=[];for(let u=0,a=l.length;u<a;u++)d[u]=l[u];return new y.FindMatch(g,d)}class o{constructor(l){const r=[];let d=0;for(let u=0,a=l.length;u<a;u++)l.charCodeAt(u)===10&&(r[d++]=u);this._lineFeedsOffsets=r}findLineFeedCountBeforeOffset(l){const r=this._lineFeedsOffsets;let d=0,u=r.length-1;if(u===-1||l<=r[0])return 0;for(;d<u;){const a=d+((u-d)/2>>0);r[a]>=l?u=a-1:r[a+1]>=l?(d=a,u=a):d=a+1}return d+1}}class n{static findMatches(l,r,d,u,a){const v=r.parseSearchRequest();return v?v.regex.multiline?this._doFindMatchesMultiline(l,d,new c(v.wordSeparators,v.regex),u,a):this._doFindMatchesLineByLine(l,d,v,u,a):[]}static _getMultilineMatchRange(l,r,d,u,a,v){let h,p=0;u?(p=u.findLineFeedCountBeforeOffset(a),h=r+a+p):h=r+a;let _;if(u){const T=u.findLineFeedCountBeforeOffset(a+v.length)-p;_=h+v.length+T}else _=h+v.length;const S=l.getPositionAt(h),E=l.getPositionAt(_);return new D.Range(S.lineNumber,S.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(l,r,d,u,a){const v=l.getOffsetAt(r.getStartPosition()),h=l.getValueInRange(r,1),p=l.getEOL()===`\r
`?new o(h):null,_=[];let S=0,E;for(d.reset(0);E=d.next(h);)if(_[S++]=C(this._getMultilineMatchRange(l,v,h,p,E.index,E[0]),E,u),S>=a)return _;return _}static _doFindMatchesLineByLine(l,r,d,u,a){const v=[];let h=0;if(r.startLineNumber===r.endLineNumber){const _=l.getLineContent(r.startLineNumber).substring(r.startColumn-1,r.endColumn-1);return h=this._findMatchesInLine(d,_,r.startLineNumber,r.startColumn-1,h,v,u,a),v}const p=l.getLineContent(r.startLineNumber).substring(r.startColumn-1);h=this._findMatchesInLine(d,p,r.startLineNumber,r.startColumn-1,h,v,u,a);for(let _=r.startLineNumber+1;_<r.endLineNumber&&h<a;_++)h=this._findMatchesInLine(d,l.getLineContent(_),_,0,h,v,u,a);if(h<a){const _=l.getLineContent(r.endLineNumber).substring(0,r.endColumn-1);h=this._findMatchesInLine(d,_,r.endLineNumber,0,h,v,u,a)}return v}static _findMatchesInLine(l,r,d,u,a,v,h,p){const _=l.wordSeparators;if(!h&&l.simpleSearch){const I=l.simpleSearch,T=I.length,N=r.length;let A=-T;for(;(A=r.indexOf(I,A+T))!==-1;)if((!_||s(_,r,N,A,T))&&(v[a++]=new y.FindMatch(new D.Range(d,A+1+u,d,A+1+T+u),null),a>=p))return a;return a}const S=new c(l.wordSeparators,l.regex);let E;S.reset(0);do if(E=S.next(r),E&&(v[a++]=C(new D.Range(d,E.index+1+u,d,E.index+1+E[0].length+u),E,h),a>=p))return a;while(E);return a}static findNextMatch(l,r,d,u){const a=r.parseSearchRequest();if(!a)return null;const v=new c(a.wordSeparators,a.regex);return a.regex.multiline?this._doFindNextMatchMultiline(l,d,v,u):this._doFindNextMatchLineByLine(l,d,v,u)}static _doFindNextMatchMultiline(l,r,d,u){const a=new L.Position(r.lineNumber,1),v=l.getOffsetAt(a),h=l.getLineCount(),p=l.getValueInRange(new D.Range(a.lineNumber,a.column,h,l.getLineMaxColumn(h)),1),_=l.getEOL()===`\r
`?new o(p):null;d.reset(r.column-1);const S=d.next(p);return S?C(this._getMultilineMatchRange(l,v,p,_,S.index,S[0]),S,u):r.lineNumber!==1||r.column!==1?this._doFindNextMatchMultiline(l,new L.Position(1,1),d,u):null}static _doFindNextMatchLineByLine(l,r,d,u){const a=l.getLineCount(),v=r.lineNumber,h=l.getLineContent(v),p=this._findFirstMatchInLine(d,h,v,r.column,u);if(p)return p;for(let _=1;_<=a;_++){const S=(v+_-1)%a,E=l.getLineContent(S+1),I=this._findFirstMatchInLine(d,E,S+1,1,u);if(I)return I}return null}static _findFirstMatchInLine(l,r,d,u,a){l.reset(u-1);const v=l.next(r);return v?C(new D.Range(d,v.index+1,d,v.index+1+v[0].length),v,a):null}static findPreviousMatch(l,r,d,u){const a=r.parseSearchRequest();if(!a)return null;const v=new c(a.wordSeparators,a.regex);return a.regex.multiline?this._doFindPreviousMatchMultiline(l,d,v,u):this._doFindPreviousMatchLineByLine(l,d,v,u)}static _doFindPreviousMatchMultiline(l,r,d,u){const a=this._doFindMatchesMultiline(l,new D.Range(1,1,r.lineNumber,r.column),d,u,10*m);if(a.length>0)return a[a.length-1];const v=l.getLineCount();return r.lineNumber!==v||r.column!==l.getLineMaxColumn(v)?this._doFindPreviousMatchMultiline(l,new L.Position(v,l.getLineMaxColumn(v)),d,u):null}static _doFindPreviousMatchLineByLine(l,r,d,u){const a=l.getLineCount(),v=r.lineNumber,h=l.getLineContent(v).substring(0,r.column-1),p=this._findLastMatchInLine(d,h,v,u);if(p)return p;for(let _=1;_<=a;_++){const S=(a+v-_-1)%a,E=l.getLineContent(S+1),I=this._findLastMatchInLine(d,E,S+1,u);if(I)return I}return null}static _findLastMatchInLine(l,r,d,u){let a=null,v;for(l.reset(0);v=l.next(r);)a=C(new D.Range(d,v.index+1,d,v.index+1+v[0].length),v,u);return a}}e.TextModelSearch=n;function i(g,l,r,d,u){if(d===0)return!0;const a=l.charCodeAt(d-1);if(g.get(a)!==0||a===13||a===10)return!0;if(u>0){const v=l.charCodeAt(d);if(g.get(v)!==0)return!0}return!1}function t(g,l,r,d,u){if(d+u===r)return!0;const a=l.charCodeAt(d+u);if(g.get(a)!==0||a===13||a===10)return!0;if(u>0){const v=l.charCodeAt(d+u-1);if(g.get(v)!==0)return!0}return!1}function s(g,l,r,d,u){return i(g,l,r,d,u)&&t(g,l,r,d,u)}class c{constructor(l,r){this._wordSeparators=l,this._searchRegex=r,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(l){this._searchRegex.lastIndex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(l){const r=l.length;let d;do{if(this._prevMatchStartIndex+this._prevMatchLength===r||(d=this._searchRegex.exec(l),!d))return null;const u=d.index,a=d[0].length;if(u===this._prevMatchStartIndex&&a===this._prevMatchLength){if(a===0){f.getNextCodePoint(l,r,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=u,this._prevMatchLength=a,!this._wordSeparators||s(this._wordSeparators,l,r,u,a))return d}while(d);return null}}e.Searcher=c}),define(ne[317],se([1,0,10,5,42,560,197]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=void 0,e.createLineStartsFast=C,e.createLineStarts=o;const m=65535;function w(g){let l;return g[g.length-1]<65536?l=new Uint16Array(g.length):l=new Uint32Array(g.length),l.set(g,0),l}class b{constructor(l,r,d,u,a){this.lineStarts=l,this.cr=r,this.lf=d,this.crlf=u,this.isBasicASCII=a}}function C(g,l=!0){const r=[0];let d=1;for(let u=0,a=g.length;u<a;u++){const v=g.charCodeAt(u);v===13?u+1<a&&g.charCodeAt(u+1)===10?(r[d++]=u+2,u++):r[d++]=u+1:v===10&&(r[d++]=u+1)}return l?w(r):r}function o(g,l){g.length=0,g[0]=0;let r=1,d=0,u=0,a=0,v=!0;for(let p=0,_=l.length;p<_;p++){const S=l.charCodeAt(p);S===13?p+1<_&&l.charCodeAt(p+1)===10?(a++,g[r++]=p+2,p++):(d++,g[r++]=p+1):S===10?(u++,g[r++]=p+1):v&&S!==9&&(S<32||S>126)&&(v=!1)}const h=new b(w(g),d,u,a,v);return g.length=0,h}class n{constructor(l,r,d,u,a){this.bufferIndex=l,this.start=r,this.end=d,this.lineFeedCnt=u,this.length=a}}e.Piece=n;class i{constructor(l,r){this.buffer=l,this.lineStarts=r}}e.StringBuffer=i;class t{constructor(l,r){this._pieces=[],this._tree=l,this._BOM=r,this._index=0,l.root!==D.SENTINEL&&l.iterate(l.root,d=>(d!==D.SENTINEL&&this._pieces.push(d.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class s{constructor(l){this._limit=l,this._cache=[]}get(l){for(let r=this._cache.length-1;r>=0;r--){const d=this._cache[r];if(d.nodeStartOffset<=l&&d.nodeStartOffset+d.node.piece.length>=l)return d}return null}get2(l){for(let r=this._cache.length-1;r>=0;r--){const d=this._cache[r];if(d.nodeStartLineNumber&&d.nodeStartLineNumber<l&&d.nodeStartLineNumber+d.node.piece.lineFeedCnt>=l)return d}return null}set(l){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(l)}validate(l){let r=!1;const d=this._cache;for(let u=0;u<d.length;u++){const a=d[u];if(a.node.parent===null||a.nodeStartOffset>=l){d[u]=null,r=!0;continue}}if(r){const u=[];for(const a of d)a!==null&&u.push(a);this._cache=u}}}class c{constructor(l,r,d){this.create(l,r,d)}create(l,r,d){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=r,this._EOLLength=r.length,this._EOLNormalized=d;let u=null;for(let a=0,v=l.length;a<v;a++)if(l[a].buffer.length>0){l[a].lineStarts||(l[a].lineStarts=C(l[a].buffer));const h=new n(a+1,{line:0,column:0},{line:l[a].lineStarts.length-1,column:l[a].buffer.length-l[a].lineStarts[l[a].lineStarts.length-1]},l[a].lineStarts.length-1,l[a].buffer.length);this._buffers.push(l[a]),u=this.rbInsertRight(u,h)}this._searchCache=new s(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(l){const r=m,d=r-Math.floor(r/3),u=d*2;let a="",v=0;const h=[];if(this.iterate(this.root,p=>{const _=this.getNodeContent(p),S=_.length;if(v<=d||v+S<u)return a+=_,v+=S,!0;const E=a.replace(/\r\n|\r|\n/g,l);return h.push(new i(E,C(E))),a=_,v=S,!0}),v>0){const p=a.replace(/\r\n|\r|\n/g,l);h.push(new i(p,C(p)))}this.create(h,l,!0)}getEOL(){return this._EOL}setEOL(l){this._EOL=l,this._EOLLength=this._EOL.length,this.normalizeEOL(l)}createSnapshot(l){return new t(this,l)}getOffsetAt(l,r){let d=0,u=this.root;for(;u!==D.SENTINEL;)if(u.left!==D.SENTINEL&&u.lf_left+1>=l)u=u.left;else if(u.lf_left+u.piece.lineFeedCnt+1>=l){d+=u.size_left;const a=this.getAccumulatedValue(u,l-u.lf_left-2);return d+=a+r-1}else l-=u.lf_left+u.piece.lineFeedCnt,d+=u.size_left+u.piece.length,u=u.right;return d}getPositionAt(l){l=Math.floor(l),l=Math.max(0,l);let r=this.root,d=0;const u=l;for(;r!==D.SENTINEL;)if(r.size_left!==0&&r.size_left>=l)r=r.left;else if(r.size_left+r.piece.length>=l){const a=this.getIndexOf(r,l-r.size_left);if(d+=r.lf_left+a.index,a.index===0){const v=this.getOffsetAt(d+1,1),h=u-v;return new f.Position(d+1,h+1)}return new f.Position(d+1,a.remainder+1)}else if(l-=r.size_left+r.piece.length,d+=r.lf_left+r.piece.lineFeedCnt,r.right===D.SENTINEL){const a=this.getOffsetAt(d+1,1),v=u-l-a;return new f.Position(d+1,v+1)}else r=r.right;return new f.Position(1,1)}getValueInRange(l,r){if(l.startLineNumber===l.endLineNumber&&l.startColumn===l.endColumn)return"";const d=this.nodeAt2(l.startLineNumber,l.startColumn),u=this.nodeAt2(l.endLineNumber,l.endColumn),a=this.getValueInRange2(d,u);return r?r!==this._EOL||!this._EOLNormalized?a.replace(/\r\n|\r|\n/g,r):r===this.getEOL()&&this._EOLNormalized?a:a.replace(/\r\n|\r|\n/g,r):a}getValueInRange2(l,r){if(l.node===r.node){const h=l.node,p=this._buffers[h.piece.bufferIndex].buffer,_=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start);return p.substring(_+l.remainder,_+r.remainder)}let d=l.node;const u=this._buffers[d.piece.bufferIndex].buffer,a=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);let v=u.substring(a+l.remainder,a+d.piece.length);for(d=d.next();d!==D.SENTINEL;){const h=this._buffers[d.piece.bufferIndex].buffer,p=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);if(d===r.node){v+=h.substring(p,p+r.remainder);break}else v+=h.substr(p,d.piece.length);d=d.next()}return v}getLinesContent(){const l=[];let r=0,d="",u=!1;return this.iterate(this.root,a=>{if(a===D.SENTINEL)return!0;const v=a.piece;let h=v.length;if(h===0)return!0;const p=this._buffers[v.bufferIndex].buffer,_=this._buffers[v.bufferIndex].lineStarts,S=v.start.line,E=v.end.line;let I=_[S]+v.start.column;if(u&&(p.charCodeAt(I)===10&&(I++,h--),l[r++]=d,d="",u=!1,h===0))return!0;if(S===E)return!this._EOLNormalized&&p.charCodeAt(I+h-1)===13?(u=!0,d+=p.substr(I,h-1)):d+=p.substr(I,h),!0;d+=this._EOLNormalized?p.substring(I,Math.max(I,_[S+1]-this._EOLLength)):p.substring(I,_[S+1]).replace(/(\r\n|\r|\n)$/,""),l[r++]=d;for(let T=S+1;T<E;T++)d=this._EOLNormalized?p.substring(_[T],_[T+1]-this._EOLLength):p.substring(_[T],_[T+1]).replace(/(\r\n|\r|\n)$/,""),l[r++]=d;return!this._EOLNormalized&&p.charCodeAt(_[E]+v.end.column-1)===13?(u=!0,v.end.column===0?r--:d=p.substr(_[E],v.end.column-1)):d=p.substr(_[E],v.end.column),!0}),u&&(l[r++]=d,d=""),l[r++]=d,l}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(l){return this._lastVisitedLine.lineNumber===l?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=l,l===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(l):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(l,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(l).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(l){if(l.remainder===l.node.piece.length){const r=l.node.next();if(!r)return 0;const d=this._buffers[r.piece.bufferIndex],u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return d.buffer.charCodeAt(u)}else{const r=this._buffers[l.node.piece.bufferIndex],u=this.offsetInBuffer(l.node.piece.bufferIndex,l.node.piece.start)+l.remainder;return r.buffer.charCodeAt(u)}}getLineCharCode(l,r){const d=this.nodeAt2(l,r+1);return this._getCharCode(d)}getLineLength(l){if(l===this.getLineCount()){const r=this.getOffsetAt(l,1);return this.getLength()-r}return this.getOffsetAt(l+1,1)-this.getOffsetAt(l,1)-this._EOLLength}findMatchesInNode(l,r,d,u,a,v,h,p,_,S,E){const I=this._buffers[l.piece.bufferIndex],T=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start),N=this.offsetInBuffer(l.piece.bufferIndex,a),A=this.offsetInBuffer(l.piece.bufferIndex,v);let R;const M={line:0,column:0};let P,F;r._wordSeparators?(P=I.buffer.substring(N,A),F=O=>O+N,r.reset(0)):(P=I.buffer,F=O=>O,r.reset(N));do if(R=r.next(P),R){if(F(R.index)>=A)return S;this.positionInBuffer(l,F(R.index)-T,M);const O=this.getLineFeedCnt(l.piece.bufferIndex,a,M),B=M.line===a.line?M.column-a.column+u:M.column+1,V=B+R[0].length;if(E[S++]=(0,y.createFindMatch)(new k.Range(d+O,B,d+O,V),R,p),F(R.index)+R[0].length>=A||S>=_)return S}while(R);return S}findMatchesLineByLine(l,r,d,u){const a=[];let v=0;const h=new y.Searcher(r.wordSeparators,r.regex);let p=this.nodeAt2(l.startLineNumber,l.startColumn);if(p===null)return[];const _=this.nodeAt2(l.endLineNumber,l.endColumn);if(_===null)return[];let S=this.positionInBuffer(p.node,p.remainder);const E=this.positionInBuffer(_.node,_.remainder);if(p.node===_.node)return this.findMatchesInNode(p.node,h,l.startLineNumber,l.startColumn,S,E,r,d,u,v,a),a;let I=l.startLineNumber,T=p.node;for(;T!==_.node;){const A=this.getLineFeedCnt(T.piece.bufferIndex,S,T.piece.end);if(A>=1){const M=this._buffers[T.piece.bufferIndex].lineStarts,P=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),F=M[S.line+A],O=I===l.startLineNumber?l.startColumn:1;if(v=this.findMatchesInNode(T,h,I,O,S,this.positionInBuffer(T,F-P),r,d,u,v,a),v>=u)return a;I+=A}const R=I===l.startLineNumber?l.startColumn-1:0;if(I===l.endLineNumber){const M=this.getLineContent(I).substring(R,l.endColumn-1);return v=this._findMatchesInLine(r,h,M,l.endLineNumber,R,v,a,d,u),a}if(v=this._findMatchesInLine(r,h,this.getLineContent(I).substr(R),I,R,v,a,d,u),v>=u)return a;I++,p=this.nodeAt2(I,1),T=p.node,S=this.positionInBuffer(p.node,p.remainder)}if(I===l.endLineNumber){const A=I===l.startLineNumber?l.startColumn-1:0,R=this.getLineContent(I).substring(A,l.endColumn-1);return v=this._findMatchesInLine(r,h,R,l.endLineNumber,A,v,a,d,u),a}const N=I===l.startLineNumber?l.startColumn:1;return v=this.findMatchesInNode(_.node,h,I,N,S,E,r,d,u,v,a),a}_findMatchesInLine(l,r,d,u,a,v,h,p,_){const S=l.wordSeparators;if(!p&&l.simpleSearch){const I=l.simpleSearch,T=I.length,N=d.length;let A=-T;for(;(A=d.indexOf(I,A+T))!==-1;)if((!S||(0,y.isValidMatch)(S,d,N,A,T))&&(h[v++]=new L.FindMatch(new k.Range(u,A+1+a,u,A+1+T+a),null),v>=_))return v;return v}let E;r.reset(0);do if(E=r.next(d),E&&(h[v++]=(0,y.createFindMatch)(new k.Range(u,E.index+1+a,u,E.index+1+E[0].length+a),E,p),v>=_))return v;while(E);return v}insert(l,r,d=!1){if(this._EOLNormalized=this._EOLNormalized&&d,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:u,remainder:a,nodeStartOffset:v}=this.nodeAt(l),h=u.piece,p=h.bufferIndex,_=this.positionInBuffer(u,a);if(u.piece.bufferIndex===0&&h.end.line===this._lastChangeBufferPos.line&&h.end.column===this._lastChangeBufferPos.column&&v+h.length===l&&r.length<m){this.appendToNode(u,r),this.computeBufferMetadata();return}if(v===l)this.insertContentToNodeLeft(r,u),this._searchCache.validate(l);else if(v+u.piece.length>l){const S=[];let E=new n(h.bufferIndex,_,h.end,this.getLineFeedCnt(h.bufferIndex,_,h.end),this.offsetInBuffer(p,h.end)-this.offsetInBuffer(p,_));if(this.shouldCheckCRLF()&&this.endWithCR(r)&&this.nodeCharCodeAt(u,a)===10){const A={line:E.start.line+1,column:0};E=new n(E.bufferIndex,A,E.end,this.getLineFeedCnt(E.bufferIndex,A,E.end),E.length-1),r+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(r))if(this.nodeCharCodeAt(u,a-1)===13){const A=this.positionInBuffer(u,a-1);this.deleteNodeTail(u,A),r="\r"+r,u.piece.length===0&&S.push(u)}else this.deleteNodeTail(u,_);else this.deleteNodeTail(u,_);const I=this.createNewPieces(r);E.length>0&&this.rbInsertRight(u,E);let T=u;for(let N=0;N<I.length;N++)T=this.rbInsertRight(T,I[N]);this.deleteNodes(S)}else this.insertContentToNodeRight(r,u)}else{const u=this.createNewPieces(r);let a=this.rbInsertLeft(null,u[0]);for(let v=1;v<u.length;v++)a=this.rbInsertRight(a,u[v])}this.computeBufferMetadata()}delete(l,r){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",r<=0||this.root===D.SENTINEL)return;const d=this.nodeAt(l),u=this.nodeAt(l+r),a=d.node,v=u.node;if(a===v){const I=this.positionInBuffer(a,d.remainder),T=this.positionInBuffer(a,u.remainder);if(d.nodeStartOffset===l){if(r===a.piece.length){const N=a.next();(0,D.rbDelete)(this,a),this.validateCRLFWithPrevNode(N),this.computeBufferMetadata();return}this.deleteNodeHead(a,T),this._searchCache.validate(l),this.validateCRLFWithPrevNode(a),this.computeBufferMetadata();return}if(d.nodeStartOffset+a.piece.length===l+r){this.deleteNodeTail(a,I),this.validateCRLFWithNextNode(a),this.computeBufferMetadata();return}this.shrinkNode(a,I,T),this.computeBufferMetadata();return}const h=[],p=this.positionInBuffer(a,d.remainder);this.deleteNodeTail(a,p),this._searchCache.validate(l),a.piece.length===0&&h.push(a);const _=this.positionInBuffer(v,u.remainder);this.deleteNodeHead(v,_),v.piece.length===0&&h.push(v);const S=a.next();for(let I=S;I!==D.SENTINEL&&I!==v;I=I.next())h.push(I);const E=a.piece.length===0?a.prev():a;this.deleteNodes(h),this.validateCRLFWithNextNode(E),this.computeBufferMetadata()}insertContentToNodeLeft(l,r){const d=[];if(this.shouldCheckCRLF()&&this.endWithCR(l)&&this.startWithLF(r)){const v=r.piece,h={line:v.start.line+1,column:0},p=new n(v.bufferIndex,h,v.end,this.getLineFeedCnt(v.bufferIndex,h,v.end),v.length-1);r.piece=p,l+=`
`,(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&d.push(r)}const u=this.createNewPieces(l);let a=this.rbInsertLeft(r,u[u.length-1]);for(let v=u.length-2;v>=0;v--)a=this.rbInsertLeft(a,u[v]);this.validateCRLFWithPrevNode(a),this.deleteNodes(d)}insertContentToNodeRight(l,r){this.adjustCarriageReturnFromNext(l,r)&&(l+=`
`);const d=this.createNewPieces(l),u=this.rbInsertRight(r,d[0]);let a=u;for(let v=1;v<d.length;v++)a=this.rbInsertRight(a,d[v]);this.validateCRLFWithPrevNode(u)}positionInBuffer(l,r,d){const u=l.piece,a=l.piece.bufferIndex,v=this._buffers[a].lineStarts,p=v[u.start.line]+u.start.column+r;let _=u.start.line,S=u.end.line,E=0,I=0,T=0;for(;_<=S&&(E=_+(S-_)/2|0,T=v[E],E!==S);)if(I=v[E+1],p<T)S=E-1;else if(p>=I)_=E+1;else break;return d?(d.line=E,d.column=p-T,null):{line:E,column:p-T}}getLineFeedCnt(l,r,d){if(d.column===0)return d.line-r.line;const u=this._buffers[l].lineStarts;if(d.line===u.length-1)return d.line-r.line;const a=u[d.line+1],v=u[d.line]+d.column;if(a>v+1)return d.line-r.line;const h=v-1;return this._buffers[l].buffer.charCodeAt(h)===13?d.line-r.line+1:d.line-r.line}offsetInBuffer(l,r){return this._buffers[l].lineStarts[r.line]+r.column}deleteNodes(l){for(let r=0;r<l.length;r++)(0,D.rbDelete)(this,l[r])}createNewPieces(l){if(l.length>m){const S=[];for(;l.length>m;){const I=l.charCodeAt(m-1);let T;I===13||I>=55296&&I<=56319?(T=l.substring(0,m-1),l=l.substring(m-1)):(T=l.substring(0,m),l=l.substring(m));const N=C(T);S.push(new n(this._buffers.length,{line:0,column:0},{line:N.length-1,column:T.length-N[N.length-1]},N.length-1,T.length)),this._buffers.push(new i(T,N))}const E=C(l);return S.push(new n(this._buffers.length,{line:0,column:0},{line:E.length-1,column:l.length-E[E.length-1]},E.length-1,l.length)),this._buffers.push(new i(l,E)),S}let r=this._buffers[0].buffer.length;const d=C(l,!1);let u=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===r&&r!==0&&this.startWithLF(l)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},u=this._lastChangeBufferPos;for(let S=0;S<d.length;S++)d[S]+=r+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(d.slice(1)),this._buffers[0].buffer+="_"+l,r+=1}else{if(r!==0)for(let S=0;S<d.length;S++)d[S]+=r;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(d.slice(1)),this._buffers[0].buffer+=l}const a=this._buffers[0].buffer.length,v=this._buffers[0].lineStarts.length-1,h=a-this._buffers[0].lineStarts[v],p={line:v,column:h},_=new n(0,u,p,this.getLineFeedCnt(0,u,p),a-r);return this._lastChangeBufferPos=p,[_]}getLineRawContent(l,r=0){let d=this.root,u="";const a=this._searchCache.get2(l);if(a){d=a.node;const v=this.getAccumulatedValue(d,l-a.nodeStartLineNumber-1),h=this._buffers[d.piece.bufferIndex].buffer,p=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);if(a.nodeStartLineNumber+d.piece.lineFeedCnt===l)u=h.substring(p+v,p+d.piece.length);else{const _=this.getAccumulatedValue(d,l-a.nodeStartLineNumber);return h.substring(p+v,p+_-r)}}else{let v=0;const h=l;for(;d!==D.SENTINEL;)if(d.left!==D.SENTINEL&&d.lf_left>=l-1)d=d.left;else if(d.lf_left+d.piece.lineFeedCnt>l-1){const p=this.getAccumulatedValue(d,l-d.lf_left-2),_=this.getAccumulatedValue(d,l-d.lf_left-1),S=this._buffers[d.piece.bufferIndex].buffer,E=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return v+=d.size_left,this._searchCache.set({node:d,nodeStartOffset:v,nodeStartLineNumber:h-(l-1-d.lf_left)}),S.substring(E+p,E+_-r)}else if(d.lf_left+d.piece.lineFeedCnt===l-1){const p=this.getAccumulatedValue(d,l-d.lf_left-2),_=this._buffers[d.piece.bufferIndex].buffer,S=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);u=_.substring(S+p,S+d.piece.length);break}else l-=d.lf_left+d.piece.lineFeedCnt,v+=d.size_left+d.piece.length,d=d.right}for(d=d.next();d!==D.SENTINEL;){const v=this._buffers[d.piece.bufferIndex].buffer;if(d.piece.lineFeedCnt>0){const h=this.getAccumulatedValue(d,0),p=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return u+=v.substring(p,p+h-r),u}else{const h=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);u+=v.substr(h,d.piece.length)}d=d.next()}return u}computeBufferMetadata(){let l=this.root,r=1,d=0;for(;l!==D.SENTINEL;)r+=l.lf_left+l.piece.lineFeedCnt,d+=l.size_left+l.piece.length,l=l.right;this._lineCnt=r,this._length=d,this._searchCache.validate(this._length)}getIndexOf(l,r){const d=l.piece,u=this.positionInBuffer(l,r),a=u.line-d.start.line;if(this.offsetInBuffer(d.bufferIndex,d.end)-this.offsetInBuffer(d.bufferIndex,d.start)===r){const v=this.getLineFeedCnt(l.piece.bufferIndex,d.start,u);if(v!==a)return{index:v,remainder:0}}return{index:a,remainder:u.column}}getAccumulatedValue(l,r){if(r<0)return 0;const d=l.piece,u=this._buffers[d.bufferIndex].lineStarts,a=d.start.line+r+1;return a>d.end.line?u[d.end.line]+d.end.column-u[d.start.line]-d.start.column:u[a]-u[d.start.line]-d.start.column}deleteNodeTail(l,r){const d=l.piece,u=d.lineFeedCnt,a=this.offsetInBuffer(d.bufferIndex,d.end),v=r,h=this.offsetInBuffer(d.bufferIndex,v),p=this.getLineFeedCnt(d.bufferIndex,d.start,v),_=p-u,S=h-a,E=d.length+S;l.piece=new n(d.bufferIndex,d.start,v,p,E),(0,D.updateTreeMetadata)(this,l,S,_)}deleteNodeHead(l,r){const d=l.piece,u=d.lineFeedCnt,a=this.offsetInBuffer(d.bufferIndex,d.start),v=r,h=this.getLineFeedCnt(d.bufferIndex,v,d.end),p=this.offsetInBuffer(d.bufferIndex,v),_=h-u,S=a-p,E=d.length+S;l.piece=new n(d.bufferIndex,v,d.end,h,E),(0,D.updateTreeMetadata)(this,l,S,_)}shrinkNode(l,r,d){const u=l.piece,a=u.start,v=u.end,h=u.length,p=u.lineFeedCnt,_=r,S=this.getLineFeedCnt(u.bufferIndex,u.start,_),E=this.offsetInBuffer(u.bufferIndex,r)-this.offsetInBuffer(u.bufferIndex,a);l.piece=new n(u.bufferIndex,u.start,_,S,E),(0,D.updateTreeMetadata)(this,l,E-h,S-p);const I=new n(u.bufferIndex,d,v,this.getLineFeedCnt(u.bufferIndex,d,v),this.offsetInBuffer(u.bufferIndex,v)-this.offsetInBuffer(u.bufferIndex,d)),T=this.rbInsertRight(l,I);this.validateCRLFWithPrevNode(T)}appendToNode(l,r){this.adjustCarriageReturnFromNext(r,l)&&(r+=`
`);const d=this.shouldCheckCRLF()&&this.startWithLF(r)&&this.endWithCR(l),u=this._buffers[0].buffer.length;this._buffers[0].buffer+=r;const a=C(r,!1);for(let T=0;T<a.length;T++)a[T]+=u;if(d){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:u-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1));const v=this._buffers[0].lineStarts.length-1,h=this._buffers[0].buffer.length-this._buffers[0].lineStarts[v],p={line:v,column:h},_=l.piece.length+r.length,S=l.piece.lineFeedCnt,E=this.getLineFeedCnt(0,l.piece.start,p),I=E-S;l.piece=new n(l.piece.bufferIndex,l.piece.start,p,E,_),this._lastChangeBufferPos=p,(0,D.updateTreeMetadata)(this,l,r.length,I)}nodeAt(l){let r=this.root;const d=this._searchCache.get(l);if(d)return{node:d.node,nodeStartOffset:d.nodeStartOffset,remainder:l-d.nodeStartOffset};let u=0;for(;r!==D.SENTINEL;)if(r.size_left>l)r=r.left;else if(r.size_left+r.piece.length>=l){u+=r.size_left;const a={node:r,remainder:l-r.size_left,nodeStartOffset:u};return this._searchCache.set(a),a}else l-=r.size_left+r.piece.length,u+=r.size_left+r.piece.length,r=r.right;return null}nodeAt2(l,r){let d=this.root,u=0;for(;d!==D.SENTINEL;)if(d.left!==D.SENTINEL&&d.lf_left>=l-1)d=d.left;else if(d.lf_left+d.piece.lineFeedCnt>l-1){const a=this.getAccumulatedValue(d,l-d.lf_left-2),v=this.getAccumulatedValue(d,l-d.lf_left-1);return u+=d.size_left,{node:d,remainder:Math.min(a+r-1,v),nodeStartOffset:u}}else if(d.lf_left+d.piece.lineFeedCnt===l-1){const a=this.getAccumulatedValue(d,l-d.lf_left-2);if(a+r-1<=d.piece.length)return{node:d,remainder:a+r-1,nodeStartOffset:u};r-=d.piece.length-a;break}else l-=d.lf_left+d.piece.lineFeedCnt,u+=d.size_left+d.piece.length,d=d.right;for(d=d.next();d!==D.SENTINEL;){if(d.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(d,0),v=this.offsetOfNode(d);return{node:d,remainder:Math.min(r-1,a),nodeStartOffset:v}}else if(d.piece.length>=r-1){const a=this.offsetOfNode(d);return{node:d,remainder:r-1,nodeStartOffset:a}}else r-=d.piece.length;d=d.next()}return null}nodeCharCodeAt(l,r){if(l.piece.lineFeedCnt<1)return-1;const d=this._buffers[l.piece.bufferIndex],u=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start)+r;return d.buffer.charCodeAt(u)}offsetOfNode(l){if(!l)return 0;let r=l.size_left;for(;l!==this.root;)l.parent.right===l&&(r+=l.parent.size_left+l.parent.piece.length),l=l.parent;return r}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(l){if(typeof l=="string")return l.charCodeAt(0)===10;if(l===D.SENTINEL||l.piece.lineFeedCnt===0)return!1;const r=l.piece,d=this._buffers[r.bufferIndex].lineStarts,u=r.start.line,a=d[u]+r.start.column;return u===d.length-1||d[u+1]>a+1?!1:this._buffers[r.bufferIndex].buffer.charCodeAt(a)===10}endWithCR(l){return typeof l=="string"?l.charCodeAt(l.length-1)===13:l===D.SENTINEL||l.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(l,l.piece.length-1)===13}validateCRLFWithPrevNode(l){if(this.shouldCheckCRLF()&&this.startWithLF(l)){const r=l.prev();this.endWithCR(r)&&this.fixCRLF(r,l)}}validateCRLFWithNextNode(l){if(this.shouldCheckCRLF()&&this.endWithCR(l)){const r=l.next();this.startWithLF(r)&&this.fixCRLF(l,r)}}fixCRLF(l,r){const d=[],u=this._buffers[l.piece.bufferIndex].lineStarts;let a;l.piece.end.column===0?a={line:l.piece.end.line-1,column:u[l.piece.end.line]-u[l.piece.end.line-1]-1}:a={line:l.piece.end.line,column:l.piece.end.column-1};const v=l.piece.length-1,h=l.piece.lineFeedCnt-1;l.piece=new n(l.piece.bufferIndex,l.piece.start,a,h,v),(0,D.updateTreeMetadata)(this,l,-1,-1),l.piece.length===0&&d.push(l);const p={line:r.piece.start.line+1,column:0},_=r.piece.length-1,S=this.getLineFeedCnt(r.piece.bufferIndex,p,r.piece.end);r.piece=new n(r.piece.bufferIndex,p,r.piece.end,S,_),(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&d.push(r);const E=this.createNewPieces(`\r
`);this.rbInsertRight(l,E[0]);for(let I=0;I<d.length;I++)(0,D.rbDelete)(this,d[I])}adjustCarriageReturnFromNext(l,r){if(this.shouldCheckCRLF()&&this.endWithCR(l)){const d=r.next();if(this.startWithLF(d)){if(l+=`
`,d.piece.length===1)(0,D.rbDelete)(this,d);else{const u=d.piece,a={line:u.start.line+1,column:0},v=u.length-1,h=this.getLineFeedCnt(u.bufferIndex,a,u.end);d.piece=new n(u.bufferIndex,a,u.end,h,v),(0,D.updateTreeMetadata)(this,d,-1,-1)}return!0}}return!1}iterate(l,r){if(l===D.SENTINEL)return r(D.SENTINEL);const d=this.iterate(l.left,r);return d&&r(l)&&this.iterate(l.right,r)}getNodeContent(l){if(l===D.SENTINEL)return"";const r=this._buffers[l.piece.bufferIndex],d=l.piece,u=this.offsetInBuffer(d.bufferIndex,d.start),a=this.offsetInBuffer(d.bufferIndex,d.end);return r.buffer.substring(u,a)}getPieceContent(l){const r=this._buffers[l.bufferIndex],d=this.offsetInBuffer(l.bufferIndex,l.start),u=this.offsetInBuffer(l.bufferIndex,l.end);return r.buffer.substring(d,u)}rbInsertRight(l,r){const d=new D.TreeNode(r,1);if(d.left=D.SENTINEL,d.right=D.SENTINEL,d.parent=D.SENTINEL,d.size_left=0,d.lf_left=0,this.root===D.SENTINEL)this.root=d,d.color=0;else if(l.right===D.SENTINEL)l.right=d,d.parent=l;else{const a=(0,D.leftest)(l.right);a.left=d,d.parent=a}return(0,D.fixInsert)(this,d),d}rbInsertLeft(l,r){const d=new D.TreeNode(r,1);if(d.left=D.SENTINEL,d.right=D.SENTINEL,d.parent=D.SENTINEL,d.size_left=0,d.lf_left=0,this.root===D.SENTINEL)this.root=d,d.color=0;else if(l.left===D.SENTINEL)l.left=d,d.parent=l;else{const u=(0,D.righttest)(l.left);u.right=d,d.parent=u}return(0,D.fixInsert)(this,d),d}}e.PieceTreeBase=c}),define(ne[562],se([1,0,109,108]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelText=void 0;class L extends f.AbstractText{constructor(y){super(),this._textModel=y}getValueOfRange(y){return this._textModel.getValueInRange(y)}get length(){const y=this._textModel.getLineCount(),m=this._textModel.getLineLength(y);return new k.TextLength(y-1,m)}}e.TextModelText=L}),define(ne[233],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=f;function f(k,L){let D=0,y=0;const m=k.length;for(;y<m;){const w=k.charCodeAt(y);if(w===32)D++;else if(w===9)D=D-D%L+L;else break;y++}return y===m?-1:D}}),define(ne[318],se([1,0,87,10,42]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(o,n,i,t,s){this.injectionOffsets=o,this.injectionOptions=n,this.breakOffsets=i,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(o){return o>0?this.wrappedTextIndentLength:0}getLineLength(o){const n=o>0?this.breakOffsets[o-1]:0;let t=this.breakOffsets[o]-n;return o>0&&(t+=this.wrappedTextIndentLength),t}getMaxOutputOffset(o){return this.getLineLength(o)}translateToInputOffset(o,n){o>0&&(n=Math.max(0,n-this.wrappedTextIndentLength));let t=o===0?n:this.breakOffsets[o-1]+n;if(this.injectionOffsets!==null)for(let s=0;s<this.injectionOffsets.length&&t>this.injectionOffsets[s];s++)t<this.injectionOffsets[s]+this.injectionOptions[s].content.length?t=this.injectionOffsets[s]:t-=this.injectionOptions[s].content.length;return t}translateToOutputPosition(o,n=2){let i=o;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(o<this.injectionOffsets[t]||n!==1&&o===this.injectionOffsets[t]);t++)i+=this.injectionOptions[t].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,n)}offsetInInputWithInjectionsToOutputPosition(o,n=2){let i=0,t=this.breakOffsets.length-1,s=0,c=0;for(;i<=t;){s=i+(t-i)/2|0;const l=this.breakOffsets[s];if(c=s>0?this.breakOffsets[s-1]:0,n===0)if(o<=c)t=s-1;else if(o>l)i=s+1;else break;else if(o<c)t=s-1;else if(o>=l)i=s+1;else break}let g=o-c;return s>0&&(g+=this.wrappedTextIndentLength),new b(s,g)}normalizeOutputPosition(o,n,i){if(this.injectionOffsets!==null){const t=this.outputPositionToOffsetInInputWithInjections(o,n),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(t,i);if(s!==t)return this.offsetInInputWithInjectionsToOutputPosition(s,i)}if(i===0){if(o>0&&n===this.getMinOutputOffset(o))return new b(o-1,this.getMaxOutputOffset(o-1))}else if(i===1){const t=this.getOutputLineCount()-1;if(o<t&&n===this.getMaxOutputOffset(o))return new b(o+1,this.getMinOutputOffset(o+1))}return new b(o,n)}outputPositionToOffsetInInputWithInjections(o,n){return o>0&&(n=Math.max(0,n-this.wrappedTextIndentLength)),(o>0?this.breakOffsets[o-1]:0)+n}normalizeOffsetInInputWithInjectionsAroundInjections(o,n){const i=this.getInjectedTextAtOffset(o);if(!i)return o;if(n===2){if(o===i.offsetInInputWithInjections+i.length&&y(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let t=i.offsetInInputWithInjections;if(m(this.injectionOptions[i.injectedTextIndex].cursorStops))return t;let s=i.injectedTextIndex-1;for(;s>=0&&this.injectionOffsets[s]===this.injectionOffsets[i.injectedTextIndex]&&!(y(this.injectionOptions[s].cursorStops)||(t-=this.injectionOptions[s].content.length,m(this.injectionOptions[s].cursorStops)));)s--;return t}}else if(n===1||n===4){let t=i.offsetInInputWithInjections+i.length,s=i.injectedTextIndex;for(;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)t+=this.injectionOptions[s+1].content.length,s++;return t}else if(n===0||n===3){let t=i.offsetInInputWithInjections,s=i.injectedTextIndex;for(;s-1>=0&&this.injectionOffsets[s-1]===this.injectionOffsets[s];)t-=this.injectionOptions[s-1].content.length,s--;return t}(0,f.assertNever)(n)}getInjectedText(o,n){const i=this.outputPositionToOffsetInInputWithInjections(o,n),t=this.getInjectedTextAtOffset(i);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(o){const n=this.injectionOffsets,i=this.injectionOptions;if(n!==null){let t=0;for(let s=0;s<n.length;s++){const c=i[s].content.length,g=n[s]+t,l=n[s]+t+c;if(g>o)break;if(o<=l)return{injectedTextIndex:s,offsetInInputWithInjections:g,length:c};t+=c}}}}e.ModelLineProjectionData=D;function y(C){return C==null?!0:C===L.InjectedTextCursorStops.Right||C===L.InjectedTextCursorStops.Both}function m(C){return C==null?!0:C===L.InjectedTextCursorStops.Left||C===L.InjectedTextCursorStops.Both}class w{constructor(o){this.options=o}}e.InjectedText=w;class b{constructor(o,n){this.outputLineIndex=o,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(o){return new k.Position(o+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=b}),define(ne[563],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findSectionHeaders=L;const f=new RegExp("\\bMARK:\\s*(.*)$","d"),k=/^-+|-+$/g;function L(b,C){var o;let n=[];if(C.findRegionSectionHeaders&&(!((o=C.foldingRules)===null||o===void 0)&&o.markers)){const i=D(b,C);n=n.concat(i)}if(C.findMarkSectionHeaders){const i=y(b);n=n.concat(i)}return n}function D(b,C){const o=[],n=b.getLineCount();for(let i=1;i<=n;i++){const t=b.getLineContent(i),s=t.match(C.foldingRules.markers.start);if(s){const c={startLineNumber:i,startColumn:s[0].length+1,endLineNumber:i,endColumn:t.length+1};if(c.endColumn>c.startColumn){const g={range:c,...w(t.substring(s[0].length)),shouldBeInComments:!1};(g.text||g.hasSeparatorLine)&&o.push(g)}}}return o}function y(b){const C=[],o=b.getLineCount();for(let n=1;n<=o;n++){const i=b.getLineContent(n);m(i,n,C)}return C}function m(b,C,o){f.lastIndex=0;const n=f.exec(b);if(n){const i=n.indices[1][0]+1,t=n.indices[1][1]+1,s={startLineNumber:C,startColumn:i,endLineNumber:C,endColumn:t};if(s.endColumn>s.startColumn){const c={range:s,...w(n[1]),shouldBeInComments:!0};(c.text||c.hasSeparatorLine)&&o.push(c)}}}function w(b){b=b.trim();const C=b.startsWith("-");return b=b.replace(k,""),{text:b,hasSeparatorLine:C}}}),define(ne[319],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class f{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const y=this._dragOperations.get(D);return this._dragOperations.delete(D),y}}}e.TreeViewsDnDService=f;class k{constructor(D){this.identifier=D}}e.DraggedTreeItemsIdentifier=k}),define(ne[320],se([1,0,5,197,11,87,162]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class m{static computeUnicodeHighlights(n,i,t){const s=t?t.startLineNumber:1,c=t?t.endLineNumber:n.getLineCount(),g=new b(i),l=g.getCandidateCodePoints();let r;l==="allNonBasicAscii"?r=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):r=new RegExp(`${w(Array.from(l))}`,"g");const d=new k.Searcher(null,r),u=[];let a=!1,v,h=0,p=0,_=0;e:for(let S=s,E=c;S<=E;S++){const I=n.getLineContent(S),T=I.length;d.reset(0);do if(v=d.next(I),v){let N=v.index,A=v.index+v[0].length;if(N>0){const F=I.charCodeAt(N-1);L.isHighSurrogate(F)&&N--}if(A+1<T){const F=I.charCodeAt(A-1);L.isHighSurrogate(F)&&A++}const R=I.substring(N,A);let M=(0,y.getWordAtText)(N+1,y.DEFAULT_WORD_REGEXP,I,0);M&&M.endColumn<=N+1&&(M=null);const P=g.shouldHighlightNonBasicASCII(R,M?M.word:null);if(P!==0){if(P===3?h++:P===2?p++:P===1?_++:(0,D.assertNever)(P),u.length>=1e3){a=!0;break e}u.push(new f.Range(S,N+1,S,A+1))}}while(v)}return{ranges:u,hasMore:a,ambiguousCharacterCount:h,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(n,i){const t=new b(i);switch(t.shouldHighlightNonBasicASCII(n,null)){case 0:return null;case 2:return{kind:1};case 3:{const c=n.codePointAt(0),g=t.ambiguousCharacters.getPrimaryConfusable(c),l=L.AmbiguousCharacters.getLocales().filter(r=>!L.AmbiguousCharacters.getInstance(new Set([...i.allowedLocales,r])).isAmbiguous(c));return{kind:0,confusableWith:String.fromCodePoint(g),notAmbiguousInLocales:l}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=m;function w(o,n){return`[${L.escapeRegExpCharacters(o.map(t=>String.fromCodePoint(t)).join(""))}]`}class b{constructor(n){this.options=n,this.allowedCodePoints=new Set(n.allowedCodePoints),this.ambiguousCharacters=L.AmbiguousCharacters.getInstance(new Set(n.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const n=new Set;if(this.options.invisibleCharacters)for(const i of L.InvisibleCharacters.codePoints)C(String.fromCodePoint(i))||n.add(i);if(this.options.ambiguousCharacters)for(const i of this.ambiguousCharacters.getConfusableCodePoints())n.add(i);for(const i of this.allowedCodePoints)n.delete(i);return n}shouldHighlightNonBasicASCII(n,i){const t=n.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;let s=!1,c=!1;if(i)for(const g of i){const l=g.codePointAt(0),r=L.isBasicASCII(g);s=s||r,!r&&!this.ambiguousCharacters.isAmbiguous(l)&&!L.InvisibleCharacters.isInvisibleCharacter(l)&&(c=!0)}return!s&&c?0:this.options.invisibleCharacters&&!C(n)&&L.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}function C(o){return o===" "||o===`
`||o==="	"}}),define(ne[234],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.ShowLightbulbIconMode=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.PartialAcceptTriggerKind=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.NewSymbolNameTriggerKind=e.NewSymbolNameTag=e.MouseTargetType=e.MinimapSectionHeaderStyle=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineEditTriggerKind=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.HoverVerbosityAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var f;(function(x){x[x.Unknown=0]="Unknown",x[x.Disabled=1]="Disabled",x[x.Enabled=2]="Enabled"})(f||(e.AccessibilitySupport=f={}));var k;(function(x){x[x.Invoke=1]="Invoke",x[x.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var L;(function(x){x[x.None=0]="None",x[x.KeepWhitespace=1]="KeepWhitespace",x[x.InsertAsSnippet=4]="InsertAsSnippet"})(L||(e.CompletionItemInsertTextRule=L={}));var D;(function(x){x[x.Method=0]="Method",x[x.Function=1]="Function",x[x.Constructor=2]="Constructor",x[x.Field=3]="Field",x[x.Variable=4]="Variable",x[x.Class=5]="Class",x[x.Struct=6]="Struct",x[x.Interface=7]="Interface",x[x.Module=8]="Module",x[x.Property=9]="Property",x[x.Event=10]="Event",x[x.Operator=11]="Operator",x[x.Unit=12]="Unit",x[x.Value=13]="Value",x[x.Constant=14]="Constant",x[x.Enum=15]="Enum",x[x.EnumMember=16]="EnumMember",x[x.Keyword=17]="Keyword",x[x.Text=18]="Text",x[x.Color=19]="Color",x[x.File=20]="File",x[x.Reference=21]="Reference",x[x.Customcolor=22]="Customcolor",x[x.Folder=23]="Folder",x[x.TypeParameter=24]="TypeParameter",x[x.User=25]="User",x[x.Issue=26]="Issue",x[x.Snippet=27]="Snippet"})(D||(e.CompletionItemKind=D={}));var y;(function(x){x[x.Deprecated=1]="Deprecated"})(y||(e.CompletionItemTag=y={}));var m;(function(x){x[x.Invoke=0]="Invoke",x[x.TriggerCharacter=1]="TriggerCharacter",x[x.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(m||(e.CompletionTriggerKind=m={}));var w;(function(x){x[x.EXACT=0]="EXACT",x[x.ABOVE=1]="ABOVE",x[x.BELOW=2]="BELOW"})(w||(e.ContentWidgetPositionPreference=w={}));var b;(function(x){x[x.NotSet=0]="NotSet",x[x.ContentFlush=1]="ContentFlush",x[x.RecoverFromMarkers=2]="RecoverFromMarkers",x[x.Explicit=3]="Explicit",x[x.Paste=4]="Paste",x[x.Undo=5]="Undo",x[x.Redo=6]="Redo"})(b||(e.CursorChangeReason=b={}));var C;(function(x){x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(C||(e.DefaultEndOfLine=C={}));var o;(function(x){x[x.Text=0]="Text",x[x.Read=1]="Read",x[x.Write=2]="Write"})(o||(e.DocumentHighlightKind=o={}));var n;(function(x){x[x.None=0]="None",x[x.Keep=1]="Keep",x[x.Brackets=2]="Brackets",x[x.Advanced=3]="Advanced",x[x.Full=4]="Full"})(n||(e.EditorAutoIndentStrategy=n={}));var i;(function(x){x[x.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",x[x.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",x[x.accessibilitySupport=2]="accessibilitySupport",x[x.accessibilityPageSize=3]="accessibilityPageSize",x[x.ariaLabel=4]="ariaLabel",x[x.ariaRequired=5]="ariaRequired",x[x.autoClosingBrackets=6]="autoClosingBrackets",x[x.autoClosingComments=7]="autoClosingComments",x[x.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",x[x.autoClosingDelete=9]="autoClosingDelete",x[x.autoClosingOvertype=10]="autoClosingOvertype",x[x.autoClosingQuotes=11]="autoClosingQuotes",x[x.autoIndent=12]="autoIndent",x[x.automaticLayout=13]="automaticLayout",x[x.autoSurround=14]="autoSurround",x[x.bracketPairColorization=15]="bracketPairColorization",x[x.guides=16]="guides",x[x.codeLens=17]="codeLens",x[x.codeLensFontFamily=18]="codeLensFontFamily",x[x.codeLensFontSize=19]="codeLensFontSize",x[x.colorDecorators=20]="colorDecorators",x[x.colorDecoratorsLimit=21]="colorDecoratorsLimit",x[x.columnSelection=22]="columnSelection",x[x.comments=23]="comments",x[x.contextmenu=24]="contextmenu",x[x.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",x[x.cursorBlinking=26]="cursorBlinking",x[x.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",x[x.cursorStyle=28]="cursorStyle",x[x.cursorSurroundingLines=29]="cursorSurroundingLines",x[x.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",x[x.cursorWidth=31]="cursorWidth",x[x.disableLayerHinting=32]="disableLayerHinting",x[x.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",x[x.domReadOnly=34]="domReadOnly",x[x.dragAndDrop=35]="dragAndDrop",x[x.dropIntoEditor=36]="dropIntoEditor",x[x.emptySelectionClipboard=37]="emptySelectionClipboard",x[x.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",x[x.extraEditorClassName=39]="extraEditorClassName",x[x.fastScrollSensitivity=40]="fastScrollSensitivity",x[x.find=41]="find",x[x.fixedOverflowWidgets=42]="fixedOverflowWidgets",x[x.folding=43]="folding",x[x.foldingStrategy=44]="foldingStrategy",x[x.foldingHighlight=45]="foldingHighlight",x[x.foldingImportsByDefault=46]="foldingImportsByDefault",x[x.foldingMaximumRegions=47]="foldingMaximumRegions",x[x.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",x[x.fontFamily=49]="fontFamily",x[x.fontInfo=50]="fontInfo",x[x.fontLigatures=51]="fontLigatures",x[x.fontSize=52]="fontSize",x[x.fontWeight=53]="fontWeight",x[x.fontVariations=54]="fontVariations",x[x.formatOnPaste=55]="formatOnPaste",x[x.formatOnType=56]="formatOnType",x[x.glyphMargin=57]="glyphMargin",x[x.gotoLocation=58]="gotoLocation",x[x.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",x[x.hover=60]="hover",x[x.inDiffEditor=61]="inDiffEditor",x[x.inlineSuggest=62]="inlineSuggest",x[x.inlineEdit=63]="inlineEdit",x[x.letterSpacing=64]="letterSpacing",x[x.lightbulb=65]="lightbulb",x[x.lineDecorationsWidth=66]="lineDecorationsWidth",x[x.lineHeight=67]="lineHeight",x[x.lineNumbers=68]="lineNumbers",x[x.lineNumbersMinChars=69]="lineNumbersMinChars",x[x.linkedEditing=70]="linkedEditing",x[x.links=71]="links",x[x.matchBrackets=72]="matchBrackets",x[x.minimap=73]="minimap",x[x.mouseStyle=74]="mouseStyle",x[x.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",x[x.mouseWheelZoom=76]="mouseWheelZoom",x[x.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",x[x.multiCursorModifier=78]="multiCursorModifier",x[x.multiCursorPaste=79]="multiCursorPaste",x[x.multiCursorLimit=80]="multiCursorLimit",x[x.occurrencesHighlight=81]="occurrencesHighlight",x[x.overviewRulerBorder=82]="overviewRulerBorder",x[x.overviewRulerLanes=83]="overviewRulerLanes",x[x.padding=84]="padding",x[x.pasteAs=85]="pasteAs",x[x.parameterHints=86]="parameterHints",x[x.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",x[x.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",x[x.quickSuggestions=89]="quickSuggestions",x[x.quickSuggestionsDelay=90]="quickSuggestionsDelay",x[x.readOnly=91]="readOnly",x[x.readOnlyMessage=92]="readOnlyMessage",x[x.renameOnType=93]="renameOnType",x[x.renderControlCharacters=94]="renderControlCharacters",x[x.renderFinalNewline=95]="renderFinalNewline",x[x.renderLineHighlight=96]="renderLineHighlight",x[x.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",x[x.renderValidationDecorations=98]="renderValidationDecorations",x[x.renderWhitespace=99]="renderWhitespace",x[x.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",x[x.roundedSelection=101]="roundedSelection",x[x.rulers=102]="rulers",x[x.scrollbar=103]="scrollbar",x[x.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",x[x.scrollBeyondLastLine=105]="scrollBeyondLastLine",x[x.scrollPredominantAxis=106]="scrollPredominantAxis",x[x.selectionClipboard=107]="selectionClipboard",x[x.selectionHighlight=108]="selectionHighlight",x[x.selectOnLineNumbers=109]="selectOnLineNumbers",x[x.showFoldingControls=110]="showFoldingControls",x[x.showUnused=111]="showUnused",x[x.snippetSuggestions=112]="snippetSuggestions",x[x.smartSelect=113]="smartSelect",x[x.smoothScrolling=114]="smoothScrolling",x[x.stickyScroll=115]="stickyScroll",x[x.stickyTabStops=116]="stickyTabStops",x[x.stopRenderingLineAfter=117]="stopRenderingLineAfter",x[x.suggest=118]="suggest",x[x.suggestFontSize=119]="suggestFontSize",x[x.suggestLineHeight=120]="suggestLineHeight",x[x.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",x[x.suggestSelection=122]="suggestSelection",x[x.tabCompletion=123]="tabCompletion",x[x.tabIndex=124]="tabIndex",x[x.unicodeHighlighting=125]="unicodeHighlighting",x[x.unusualLineTerminators=126]="unusualLineTerminators",x[x.useShadowDOM=127]="useShadowDOM",x[x.useTabStops=128]="useTabStops",x[x.wordBreak=129]="wordBreak",x[x.wordSegmenterLocales=130]="wordSegmenterLocales",x[x.wordSeparators=131]="wordSeparators",x[x.wordWrap=132]="wordWrap",x[x.wordWrapBreakAfterCharacters=133]="wordWrapBreakAfterCharacters",x[x.wordWrapBreakBeforeCharacters=134]="wordWrapBreakBeforeCharacters",x[x.wordWrapColumn=135]="wordWrapColumn",x[x.wordWrapOverride1=136]="wordWrapOverride1",x[x.wordWrapOverride2=137]="wordWrapOverride2",x[x.wrappingIndent=138]="wrappingIndent",x[x.wrappingStrategy=139]="wrappingStrategy",x[x.showDeprecated=140]="showDeprecated",x[x.inlayHints=141]="inlayHints",x[x.editorClassName=142]="editorClassName",x[x.pixelRatio=143]="pixelRatio",x[x.tabFocusMode=144]="tabFocusMode",x[x.layoutInfo=145]="layoutInfo",x[x.wrappingInfo=146]="wrappingInfo",x[x.defaultColorDecorators=147]="defaultColorDecorators",x[x.colorDecoratorsActivatedOn=148]="colorDecoratorsActivatedOn",x[x.inlineCompletionsAccessibilityVerbose=149]="inlineCompletionsAccessibilityVerbose"})(i||(e.EditorOption=i={}));var t;(function(x){x[x.TextDefined=0]="TextDefined",x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(t||(e.EndOfLinePreference=t={}));var s;(function(x){x[x.LF=0]="LF",x[x.CRLF=1]="CRLF"})(s||(e.EndOfLineSequence=s={}));var c;(function(x){x[x.Left=1]="Left",x[x.Center=2]="Center",x[x.Right=3]="Right"})(c||(e.GlyphMarginLane=c={}));var g;(function(x){x[x.Increase=0]="Increase",x[x.Decrease=1]="Decrease"})(g||(e.HoverVerbosityAction=g={}));var l;(function(x){x[x.None=0]="None",x[x.Indent=1]="Indent",x[x.IndentOutdent=2]="IndentOutdent",x[x.Outdent=3]="Outdent"})(l||(e.IndentAction=l={}));var r;(function(x){x[x.Both=0]="Both",x[x.Right=1]="Right",x[x.Left=2]="Left",x[x.None=3]="None"})(r||(e.InjectedTextCursorStops=r={}));var d;(function(x){x[x.Type=1]="Type",x[x.Parameter=2]="Parameter"})(d||(e.InlayHintKind=d={}));var u;(function(x){x[x.Automatic=0]="Automatic",x[x.Explicit=1]="Explicit"})(u||(e.InlineCompletionTriggerKind=u={}));var a;(function(x){x[x.Invoke=0]="Invoke",x[x.Automatic=1]="Automatic"})(a||(e.InlineEditTriggerKind=a={}));var v;(function(x){x[x.DependsOnKbLayout=-1]="DependsOnKbLayout",x[x.Unknown=0]="Unknown",x[x.Backspace=1]="Backspace",x[x.Tab=2]="Tab",x[x.Enter=3]="Enter",x[x.Shift=4]="Shift",x[x.Ctrl=5]="Ctrl",x[x.Alt=6]="Alt",x[x.PauseBreak=7]="PauseBreak",x[x.CapsLock=8]="CapsLock",x[x.Escape=9]="Escape",x[x.Space=10]="Space",x[x.PageUp=11]="PageUp",x[x.PageDown=12]="PageDown",x[x.End=13]="End",x[x.Home=14]="Home",x[x.LeftArrow=15]="LeftArrow",x[x.UpArrow=16]="UpArrow",x[x.RightArrow=17]="RightArrow",x[x.DownArrow=18]="DownArrow",x[x.Insert=19]="Insert",x[x.Delete=20]="Delete",x[x.Digit0=21]="Digit0",x[x.Digit1=22]="Digit1",x[x.Digit2=23]="Digit2",x[x.Digit3=24]="Digit3",x[x.Digit4=25]="Digit4",x[x.Digit5=26]="Digit5",x[x.Digit6=27]="Digit6",x[x.Digit7=28]="Digit7",x[x.Digit8=29]="Digit8",x[x.Digit9=30]="Digit9",x[x.KeyA=31]="KeyA",x[x.KeyB=32]="KeyB",x[x.KeyC=33]="KeyC",x[x.KeyD=34]="KeyD",x[x.KeyE=35]="KeyE",x[x.KeyF=36]="KeyF",x[x.KeyG=37]="KeyG",x[x.KeyH=38]="KeyH",x[x.KeyI=39]="KeyI",x[x.KeyJ=40]="KeyJ",x[x.KeyK=41]="KeyK",x[x.KeyL=42]="KeyL",x[x.KeyM=43]="KeyM",x[x.KeyN=44]="KeyN",x[x.KeyO=45]="KeyO",x[x.KeyP=46]="KeyP",x[x.KeyQ=47]="KeyQ",x[x.KeyR=48]="KeyR",x[x.KeyS=49]="KeyS",x[x.KeyT=50]="KeyT",x[x.KeyU=51]="KeyU",x[x.KeyV=52]="KeyV",x[x.KeyW=53]="KeyW",x[x.KeyX=54]="KeyX",x[x.KeyY=55]="KeyY",x[x.KeyZ=56]="KeyZ",x[x.Meta=57]="Meta",x[x.ContextMenu=58]="ContextMenu",x[x.F1=59]="F1",x[x.F2=60]="F2",x[x.F3=61]="F3",x[x.F4=62]="F4",x[x.F5=63]="F5",x[x.F6=64]="F6",x[x.F7=65]="F7",x[x.F8=66]="F8",x[x.F9=67]="F9",x[x.F10=68]="F10",x[x.F11=69]="F11",x[x.F12=70]="F12",x[x.F13=71]="F13",x[x.F14=72]="F14",x[x.F15=73]="F15",x[x.F16=74]="F16",x[x.F17=75]="F17",x[x.F18=76]="F18",x[x.F19=77]="F19",x[x.F20=78]="F20",x[x.F21=79]="F21",x[x.F22=80]="F22",x[x.F23=81]="F23",x[x.F24=82]="F24",x[x.NumLock=83]="NumLock",x[x.ScrollLock=84]="ScrollLock",x[x.Semicolon=85]="Semicolon",x[x.Equal=86]="Equal",x[x.Comma=87]="Comma",x[x.Minus=88]="Minus",x[x.Period=89]="Period",x[x.Slash=90]="Slash",x[x.Backquote=91]="Backquote",x[x.BracketLeft=92]="BracketLeft",x[x.Backslash=93]="Backslash",x[x.BracketRight=94]="BracketRight",x[x.Quote=95]="Quote",x[x.OEM_8=96]="OEM_8",x[x.IntlBackslash=97]="IntlBackslash",x[x.Numpad0=98]="Numpad0",x[x.Numpad1=99]="Numpad1",x[x.Numpad2=100]="Numpad2",x[x.Numpad3=101]="Numpad3",x[x.Numpad4=102]="Numpad4",x[x.Numpad5=103]="Numpad5",x[x.Numpad6=104]="Numpad6",x[x.Numpad7=105]="Numpad7",x[x.Numpad8=106]="Numpad8",x[x.Numpad9=107]="Numpad9",x[x.NumpadMultiply=108]="NumpadMultiply",x[x.NumpadAdd=109]="NumpadAdd",x[x.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",x[x.NumpadSubtract=111]="NumpadSubtract",x[x.NumpadDecimal=112]="NumpadDecimal",x[x.NumpadDivide=113]="NumpadDivide",x[x.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",x[x.ABNT_C1=115]="ABNT_C1",x[x.ABNT_C2=116]="ABNT_C2",x[x.AudioVolumeMute=117]="AudioVolumeMute",x[x.AudioVolumeUp=118]="AudioVolumeUp",x[x.AudioVolumeDown=119]="AudioVolumeDown",x[x.BrowserSearch=120]="BrowserSearch",x[x.BrowserHome=121]="BrowserHome",x[x.BrowserBack=122]="BrowserBack",x[x.BrowserForward=123]="BrowserForward",x[x.MediaTrackNext=124]="MediaTrackNext",x[x.MediaTrackPrevious=125]="MediaTrackPrevious",x[x.MediaStop=126]="MediaStop",x[x.MediaPlayPause=127]="MediaPlayPause",x[x.LaunchMediaPlayer=128]="LaunchMediaPlayer",x[x.LaunchMail=129]="LaunchMail",x[x.LaunchApp2=130]="LaunchApp2",x[x.Clear=131]="Clear",x[x.MAX_VALUE=132]="MAX_VALUE"})(v||(e.KeyCode=v={}));var h;(function(x){x[x.Hint=1]="Hint",x[x.Info=2]="Info",x[x.Warning=4]="Warning",x[x.Error=8]="Error"})(h||(e.MarkerSeverity=h={}));var p;(function(x){x[x.Unnecessary=1]="Unnecessary",x[x.Deprecated=2]="Deprecated"})(p||(e.MarkerTag=p={}));var _;(function(x){x[x.Inline=1]="Inline",x[x.Gutter=2]="Gutter"})(_||(e.MinimapPosition=_={}));var S;(function(x){x[x.Normal=1]="Normal",x[x.Underlined=2]="Underlined"})(S||(e.MinimapSectionHeaderStyle=S={}));var E;(function(x){x[x.UNKNOWN=0]="UNKNOWN",x[x.TEXTAREA=1]="TEXTAREA",x[x.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",x[x.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",x[x.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",x[x.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",x[x.CONTENT_TEXT=6]="CONTENT_TEXT",x[x.CONTENT_EMPTY=7]="CONTENT_EMPTY",x[x.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",x[x.CONTENT_WIDGET=9]="CONTENT_WIDGET",x[x.OVERVIEW_RULER=10]="OVERVIEW_RULER",x[x.SCROLLBAR=11]="SCROLLBAR",x[x.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",x[x.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(E||(e.MouseTargetType=E={}));var I;(function(x){x[x.AIGenerated=1]="AIGenerated"})(I||(e.NewSymbolNameTag=I={}));var T;(function(x){x[x.Invoke=0]="Invoke",x[x.Automatic=1]="Automatic"})(T||(e.NewSymbolNameTriggerKind=T={}));var N;(function(x){x[x.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",x[x.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",x[x.TOP_CENTER=2]="TOP_CENTER"})(N||(e.OverlayWidgetPositionPreference=N={}));var A;(function(x){x[x.Left=1]="Left",x[x.Center=2]="Center",x[x.Right=4]="Right",x[x.Full=7]="Full"})(A||(e.OverviewRulerLane=A={}));var R;(function(x){x[x.Word=0]="Word",x[x.Line=1]="Line",x[x.Suggest=2]="Suggest"})(R||(e.PartialAcceptTriggerKind=R={}));var M;(function(x){x[x.Left=0]="Left",x[x.Right=1]="Right",x[x.None=2]="None",x[x.LeftOfInjectedText=3]="LeftOfInjectedText",x[x.RightOfInjectedText=4]="RightOfInjectedText"})(M||(e.PositionAffinity=M={}));var P;(function(x){x[x.Off=0]="Off",x[x.On=1]="On",x[x.Relative=2]="Relative",x[x.Interval=3]="Interval",x[x.Custom=4]="Custom"})(P||(e.RenderLineNumbersType=P={}));var F;(function(x){x[x.None=0]="None",x[x.Text=1]="Text",x[x.Blocks=2]="Blocks"})(F||(e.RenderMinimap=F={}));var O;(function(x){x[x.Smooth=0]="Smooth",x[x.Immediate=1]="Immediate"})(O||(e.ScrollType=O={}));var B;(function(x){x[x.Auto=1]="Auto",x[x.Hidden=2]="Hidden",x[x.Visible=3]="Visible"})(B||(e.ScrollbarVisibility=B={}));var V;(function(x){x[x.LTR=0]="LTR",x[x.RTL=1]="RTL"})(V||(e.SelectionDirection=V={}));var K;(function(x){x.Off="off",x.OnCode="onCode",x.On="on"})(K||(e.ShowLightbulbIconMode=K={}));var U;(function(x){x[x.Invoke=1]="Invoke",x[x.TriggerCharacter=2]="TriggerCharacter",x[x.ContentChange=3]="ContentChange"})(U||(e.SignatureHelpTriggerKind=U={}));var G;(function(x){x[x.File=0]="File",x[x.Module=1]="Module",x[x.Namespace=2]="Namespace",x[x.Package=3]="Package",x[x.Class=4]="Class",x[x.Method=5]="Method",x[x.Property=6]="Property",x[x.Field=7]="Field",x[x.Constructor=8]="Constructor",x[x.Enum=9]="Enum",x[x.Interface=10]="Interface",x[x.Function=11]="Function",x[x.Variable=12]="Variable",x[x.Constant=13]="Constant",x[x.String=14]="String",x[x.Number=15]="Number",x[x.Boolean=16]="Boolean",x[x.Array=17]="Array",x[x.Object=18]="Object",x[x.Key=19]="Key",x[x.Null=20]="Null",x[x.EnumMember=21]="EnumMember",x[x.Struct=22]="Struct",x[x.Event=23]="Event",x[x.Operator=24]="Operator",x[x.TypeParameter=25]="TypeParameter"})(G||(e.SymbolKind=G={}));var z;(function(x){x[x.Deprecated=1]="Deprecated"})(z||(e.SymbolTag=z={}));var $;(function(x){x[x.Hidden=0]="Hidden",x[x.Blink=1]="Blink",x[x.Smooth=2]="Smooth",x[x.Phase=3]="Phase",x[x.Expand=4]="Expand",x[x.Solid=5]="Solid"})($||(e.TextEditorCursorBlinkingStyle=$={}));var J;(function(x){x[x.Line=1]="Line",x[x.Block=2]="Block",x[x.Underline=3]="Underline",x[x.LineThin=4]="LineThin",x[x.BlockOutline=5]="BlockOutline",x[x.UnderlineThin=6]="UnderlineThin"})(J||(e.TextEditorCursorStyle=J={}));var ee;(function(x){x[x.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",x[x.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",x[x.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",x[x.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(ee||(e.TrackedRangeStickiness=ee={}));var Z;(function(x){x[x.None=0]="None",x[x.Same=1]="Same",x[x.Indent=2]="Indent",x[x.DeepIndent=3]="DeepIndent"})(Z||(e.WrappingIndent=Z={}))}),define(ne[564],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class f{constructor(y,m,w,b){this.range=y,this.nestingLevel=m,this.nestingLevelOfEqualBracketType=w,this.isInvalid=b}}e.BracketInfo=f;class k{constructor(y,m,w,b,C,o){this.range=y,this.openingBracketRange=m,this.closingBracketRange=w,this.nestingLevel=b,this.nestingLevelOfEqualBracketType=C,this.bracketPairNode=o}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class L extends k{constructor(y,m,w,b,C,o,n){super(y,m,w,b,C,o),this.minVisibleColumnIndentation=n}}e.BracketPairWithMinIndentationInfo=L}),define(ne[565],se([1,0,7,2,564,195,314,102,313,145,232,13,312]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends k.Disposable{didLanguageChange(d){return this.brackets.didLanguageChange(d)}constructor(d,u){if(super(),this.textModel=d,this.getLanguageConfiguration=u,this.didChangeEmitter=new f.Emitter,this.denseKeyProvider=new b.DenseKeyProvider,this.brackets=new y.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],d.tokenization.hasTokens)d.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const a=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),v=new C.FastTokenizer(this.textModel.getValue(),a);this.initialAstWithoutTokens=(0,w.parseDocument)(v,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const d=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,d||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:d}){const u=d.map(a=>new D.TextEditInfo((0,m.toLength)(a.fromLineNumber-1,0),(0,m.toLength)(a.toLineNumber,0),(0,m.toLength)(a.toLineNumber-a.fromLineNumber+1,0)));this.handleEdits(u,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(d){const u=D.TextEditInfo.fromModelContentChanges(d.changes);this.handleEdits(u,!1)}handleEdits(d,u){const a=(0,n.combineTextEditInfos)(this.queuedTextEdits,d);this.queuedTextEdits=a,this.initialAstWithoutTokens&&!u&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,n.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,d))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(d,u,a){const h=u,p=new C.TextBufferTokenizer(this.textModel,this.brackets);return(0,w.parseDocument)(p,d,h,a)}getBracketsInRange(d,u){this.flushQueue();const a=(0,m.toLength)(d.startLineNumber-1,d.startColumn-1),v=(0,m.toLength)(d.endLineNumber-1,d.endColumn-1);return new o.CallbackIterable(h=>{const p=this.initialAstWithoutTokens||this.astWithTokens;c(p,m.lengthZero,p.length,a,v,h,0,0,new Map,u)})}getBracketPairsInRange(d,u){this.flushQueue();const a=(0,m.positionToLength)(d.getStartPosition()),v=(0,m.positionToLength)(d.getEndPosition());return new o.CallbackIterable(h=>{const p=this.initialAstWithoutTokens||this.astWithTokens,_=new g(h,u,this.textModel);l(p,m.lengthZero,p.length,a,v,_,0,new Map)})}getFirstBracketAfter(d){this.flushQueue();const u=this.initialAstWithoutTokens||this.astWithTokens;return s(u,m.lengthZero,u.length,(0,m.positionToLength)(d))}getFirstBracketBefore(d){this.flushQueue();const u=this.initialAstWithoutTokens||this.astWithTokens;return t(u,m.lengthZero,u.length,(0,m.positionToLength)(d))}}e.BracketPairsTree=i;function t(r,d,u,a){if(r.kind===4||r.kind===2){const v=[];for(const h of r.children)u=(0,m.lengthAdd)(d,h.length),v.push({nodeOffsetStart:d,nodeOffsetEnd:u}),d=u;for(let h=v.length-1;h>=0;h--){const{nodeOffsetStart:p,nodeOffsetEnd:_}=v[h];if((0,m.lengthLessThan)(p,a)){const S=t(r.children[h],p,_,a);if(S)return S}}return null}else{if(r.kind===3)return null;if(r.kind===1){const v=(0,m.lengthsToRange)(d,u);return{bracketInfo:r.bracketInfo,range:v}}}return null}function s(r,d,u,a){if(r.kind===4||r.kind===2){for(const v of r.children){if(u=(0,m.lengthAdd)(d,v.length),(0,m.lengthLessThan)(a,u)){const h=s(v,d,u,a);if(h)return h}d=u}return null}else{if(r.kind===3)return null;if(r.kind===1){const v=(0,m.lengthsToRange)(d,u);return{bracketInfo:r.bracketInfo,range:v}}}return null}function c(r,d,u,a,v,h,p,_,S,E,I=!1){if(p>200)return!0;e:for(;;)switch(r.kind){case 4:{const T=r.childrenLength;for(let N=0;N<T;N++){const A=r.getChild(N);if(A){if(u=(0,m.lengthAdd)(d,A.length),(0,m.lengthLessThanEqual)(d,v)&&(0,m.lengthGreaterThanEqual)(u,a)){if((0,m.lengthGreaterThanEqual)(u,v)){r=A;continue e}if(!c(A,d,u,a,v,h,p,0,S,E))return!1}d=u}}return!0}case 2:{const T=!E||!r.closingBracket||r.closingBracket.bracketInfo.closesColorized(r.openingBracket.bracketInfo);let N=0;if(S){let R=S.get(r.openingBracket.text);R===void 0&&(R=0),N=R,T&&(R++,S.set(r.openingBracket.text,R))}const A=r.childrenLength;for(let R=0;R<A;R++){const M=r.getChild(R);if(M){if(u=(0,m.lengthAdd)(d,M.length),(0,m.lengthLessThanEqual)(d,v)&&(0,m.lengthGreaterThanEqual)(u,a)){if((0,m.lengthGreaterThanEqual)(u,v)&&M.kind!==1){r=M,T?(p++,_=N+1):_=N;continue e}if((T||M.kind!==1||!r.closingBracket)&&!c(M,d,u,a,v,h,T?p+1:p,T?N+1:N,S,E,!r.closingBracket))return!1}d=u}}return S?.set(r.openingBracket.text,N),!0}case 3:{const T=(0,m.lengthsToRange)(d,u);return h(new L.BracketInfo(T,p-1,0,!0))}case 1:{const T=(0,m.lengthsToRange)(d,u);return h(new L.BracketInfo(T,p-1,_-1,I))}case 0:return!0}}class g{constructor(d,u,a){this.push=d,this.includeMinIndentation=u,this.textModel=a}}function l(r,d,u,a,v,h,p,_){var S;if(p>200)return!0;let E=!0;if(r.kind===2){let I=0;if(_){let A=_.get(r.openingBracket.text);A===void 0&&(A=0),I=A,A++,_.set(r.openingBracket.text,A)}const T=(0,m.lengthAdd)(d,r.openingBracket.length);let N=-1;if(h.includeMinIndentation&&(N=r.computeMinIndentation(d,h.textModel)),E=h.push(new L.BracketPairWithMinIndentationInfo((0,m.lengthsToRange)(d,u),(0,m.lengthsToRange)(d,T),r.closingBracket?(0,m.lengthsToRange)((0,m.lengthAdd)(T,((S=r.child)===null||S===void 0?void 0:S.length)||m.lengthZero),u):void 0,p,I,r,N)),d=T,E&&r.child){const A=r.child;if(u=(0,m.lengthAdd)(d,A.length),(0,m.lengthLessThanEqual)(d,v)&&(0,m.lengthGreaterThanEqual)(u,a)&&(E=l(A,d,u,a,v,h,p+1,_),!E))return!1}_?.set(r.openingBracket.text,I)}else{let I=d;for(const T of r.children){const N=I;if(I=(0,m.lengthAdd)(I,T.length),(0,m.lengthLessThanEqual)(N,v)&&(0,m.lengthLessThanEqual)(a,I)&&(E=l(T,N,I,a,v,h,p,_),!E))return!1}}return E}}),define(ne[129],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class f{constructor(){this.changeType=1}}e.ModelRawFlush=f;class k{static applyInjectedText(n,i){if(!i||i.length===0)return n;let t="",s=0;for(const c of i)t+=n.substring(s,c.column-1),s=c.column-1,t+=c.options.content;return t+=n.substring(s),t}static fromDecorations(n){const i=[];for(const t of n)t.options.before&&t.options.before.content.length>0&&i.push(new k(t.ownerId,t.range.startLineNumber,t.range.startColumn,t.options.before,0)),t.options.after&&t.options.after.content.length>0&&i.push(new k(t.ownerId,t.range.endLineNumber,t.range.endColumn,t.options.after,1));return i.sort((t,s)=>t.lineNumber===s.lineNumber?t.column===s.column?t.order-s.order:t.column-s.column:t.lineNumber-s.lineNumber),i}constructor(n,i,t,s,c){this.ownerId=n,this.lineNumber=i,this.column=t,this.options=s,this.order=c}}e.LineInjectedText=k;class L{constructor(n,i,t){this.changeType=2,this.lineNumber=n,this.detail=i,this.injectedText=t}}e.ModelRawLineChanged=L;class D{constructor(n,i){this.changeType=3,this.fromLineNumber=n,this.toLineNumber=i}}e.ModelRawLinesDeleted=D;class y{constructor(n,i,t,s){this.changeType=4,this.injectedTexts=s,this.fromLineNumber=n,this.toLineNumber=i,this.detail=t}}e.ModelRawLinesInserted=y;class m{constructor(){this.changeType=5}}e.ModelRawEOLChanged=m;class w{constructor(n,i,t,s){this.changes=n,this.versionId=i,this.isUndoing=t,this.isRedoing=s,this.resultingSelection=null}containsEvent(n){for(let i=0,t=this.changes.length;i<t;i++)if(this.changes[i].changeType===n)return!0;return!1}static merge(n,i){const t=[].concat(n.changes).concat(i.changes),s=i.versionId,c=n.isUndoing||i.isUndoing,g=n.isRedoing||i.isRedoing;return new w(t,s,c,g)}}e.ModelRawContentChangedEvent=w;class b{constructor(n){this.changes=n}}e.ModelInjectedTextChangedEvent=b;class C{constructor(n,i){this.rawContentChangedEvent=n,this.contentChangedEvent=i}merge(n){const i=w.merge(this.rawContentChangedEvent,n.rawContentChangedEvent),t=C._mergeChangeEvents(this.contentChangedEvent,n.contentChangedEvent);return new C(i,t)}static _mergeChangeEvents(n,i){const t=[].concat(n.changes).concat(i.changes),s=i.eol,c=i.versionId,g=n.isUndoing||i.isUndoing,l=n.isRedoing||i.isRedoing,r=n.isFlush||i.isFlush,d=n.isEolChange&&i.isEolChange;return{changes:t,eol:s,isEolChange:d,versionId:c,isUndoing:g,isRedoing:l,isFlush:r}}}e.InternalModelContentChangeEvent=C}),define(ne[235],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var f;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(f||(e.HorizontalGuidesState=f={}));class k{constructor(y,m,w,b,C,o){if(this.visibleColumn=y,this.column=m,this.className=w,this.horizontalLine=b,this.forWrappedLinesAfterColumn=C,this.forWrappedLinesBeforeOrAtColumn=o,y!==-1==(m!==-1))throw new Error}}e.IndentGuide=k;class L{constructor(y,m){this.top=y,this.endColumn=m}}e.IndentGuideHorizontalLine=L}),define(ne[321],se([1,0,68,11,90,5,316,233,235,9]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class C extends y.TextModelPart{constructor(i,t){super(),this.textModel=i,this.languageConfigurationService=t}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,m.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,t,s){this.assertNotDisposed();const c=this.textModel.getLineCount();if(i<1||i>c)throw new b.BugIndicatingError("Illegal value for lineNumber");const g=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,l=!!(g&&g.offSide);let r=-2,d=-1,u=-2,a=-1;const v=P=>{if(r!==-1&&(r===-2||r>P-1)){r=-1,d=-1;for(let F=P-2;F>=0;F--){const O=this._computeIndentLevel(F);if(O>=0){r=F,d=O;break}}}if(u===-2){u=-1,a=-1;for(let F=P;F<c;F++){const O=this._computeIndentLevel(F);if(O>=0){u=F,a=O;break}}}};let h=-2,p=-1,_=-2,S=-1;const E=P=>{if(h===-2){h=-1,p=-1;for(let F=P-2;F>=0;F--){const O=this._computeIndentLevel(F);if(O>=0){h=F,p=O;break}}}if(_!==-1&&(_===-2||_<P-1)){_=-1,S=-1;for(let F=P;F<c;F++){const O=this._computeIndentLevel(F);if(O>=0){_=F,S=O;break}}}};let I=0,T=!0,N=0,A=!0,R=0,M=0;for(let P=0;T||A;P++){const F=i-P,O=i+P;P>1&&(F<1||F<t)&&(T=!1),P>1&&(O>c||O>s)&&(A=!1),P>5e4&&(T=!1,A=!1);let B=-1;if(T&&F>=1){const K=this._computeIndentLevel(F-1);K>=0?(u=F-1,a=K,B=Math.ceil(K/this.textModel.getOptions().indentSize)):(v(F),B=this._getIndentLevelForWhitespaceLine(l,d,a))}let V=-1;if(A&&O<=c){const K=this._computeIndentLevel(O-1);K>=0?(h=O-1,p=K,V=Math.ceil(K/this.textModel.getOptions().indentSize)):(E(O),V=this._getIndentLevelForWhitespaceLine(l,p,S))}if(P===0){M=B;continue}if(P===1){if(O<=c&&V>=0&&M+1===V){T=!1,I=O,N=O,R=V;continue}if(F>=1&&B>=0&&B-1===M){A=!1,I=F,N=F,R=B;continue}if(I=i,N=i,R=M,R===0)return{startLineNumber:I,endLineNumber:N,indent:R}}T&&(B>=R?I=F:T=!1),A&&(V>=R?N=O:A=!1)}return{startLineNumber:I,endLineNumber:N,indent:R}}getLinesBracketGuides(i,t,s,c){var g;const l=[];for(let h=i;h<=t;h++)l.push([]);const r=!0,d=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(i,1,t,this.textModel.getLineMaxColumn(t))).toArray();let u;if(s&&d.length>0){const h=(i<=s.lineNumber&&s.lineNumber<=t?d:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(s)).toArray()).filter(p=>D.Range.strictContainsPosition(p.range,s));u=(g=(0,f.findLast)(h,p=>r||p.range.startLineNumber!==p.range.endLineNumber))===null||g===void 0?void 0:g.range}const a=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,v=new o;for(const h of d){if(!h.closingBracketRange)continue;const p=u&&h.range.equalsRange(u);if(!p&&!c.includeInactive)continue;const _=v.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,a)+(c.highlightActive&&p?" "+v.activeClassName:""),S=h.openingBracketRange.getStartPosition(),E=h.closingBracketRange.getStartPosition(),I=c.horizontalGuides===w.HorizontalGuidesState.Enabled||c.horizontalGuides===w.HorizontalGuidesState.EnabledForActive&&p;if(h.range.startLineNumber===h.range.endLineNumber){r&&I&&l[h.range.startLineNumber-i].push(new w.IndentGuide(-1,h.openingBracketRange.getEndPosition().column,_,new w.IndentGuideHorizontalLine(!1,E.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(E),N=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),A=Math.min(N,T,h.minVisibleColumnIndentation+1);let R=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(R=!0);const F=Math.max(S.lineNumber,i),O=Math.min(E.lineNumber,t),B=R?1:0;for(let V=F;V<O+B;V++)l[V-i].push(new w.IndentGuide(A,-1,_,null,V===S.lineNumber?S.column:-1,V===E.lineNumber?E.column:-1));I&&(S.lineNumber>=i&&N>A&&l[S.lineNumber-i].push(new w.IndentGuide(A,-1,_,new w.IndentGuideHorizontalLine(!1,S.column),-1,-1)),E.lineNumber<=t&&T>A&&l[E.lineNumber-i].push(new w.IndentGuide(A,-1,_,new w.IndentGuideHorizontalLine(!R,E.column),-1,-1)))}for(const h of l)h.sort((p,_)=>p.visibleColumn-_.visibleColumn);return l}getVisibleColumnFromPosition(i){return L.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,t){this.assertNotDisposed();const s=this.textModel.getLineCount();if(i<1||i>s)throw new Error("Illegal value for startLineNumber");if(t<1||t>s)throw new Error("Illegal value for endLineNumber");const c=this.textModel.getOptions(),g=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,l=!!(g&&g.offSide),r=new Array(t-i+1);let d=-2,u=-1,a=-2,v=-1;for(let h=i;h<=t;h++){const p=h-i,_=this._computeIndentLevel(h-1);if(_>=0){d=h-1,u=_,r[p]=Math.ceil(_/c.indentSize);continue}if(d===-2){d=-1,u=-1;for(let S=h-2;S>=0;S--){const E=this._computeIndentLevel(S);if(E>=0){d=S,u=E;break}}}if(a!==-1&&(a===-2||a<h-1)){a=-1,v=-1;for(let S=h;S<s;S++){const E=this._computeIndentLevel(S);if(E>=0){a=S,v=E;break}}}r[p]=this._getIndentLevelForWhitespaceLine(l,u,v)}return r}_getIndentLevelForWhitespaceLine(i,t,s){const c=this.textModel.getOptions();return t===-1||s===-1?0:t<s?1+Math.floor(t/c.indentSize):t===s||i?Math.ceil(s/c.indentSize):1+Math.floor(s/c.indentSize)}}e.GuidesTextModelPart=C;class o{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,t,s){return this.getInlineClassNameOfLevel(s?t:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=o}),define(ne[566],se([1,0,7,2]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class L{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(m){this._onDidChange.fire({changedLanguages:m,changedColorMap:!1})}register(m,w){return this._tokenizationSupports.set(m,w),this.handleChange([m]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(m)===w&&(this._tokenizationSupports.delete(m),this.handleChange([m]))})}get(m){return this._tokenizationSupports.get(m)||null}registerFactory(m,w){var b;(b=this._factories.get(m))===null||b===void 0||b.dispose();const C=new D(this,m,w);return this._factories.set(m,C),(0,k.toDisposable)(()=>{const o=this._factories.get(m);!o||o!==C||(this._factories.delete(m),o.dispose())})}async getOrCreate(m){const w=this.get(m);if(w)return w;const b=this._factories.get(m);return!b||b.isResolved?null:(await b.resolve(),this.get(m))}isResolved(m){if(this.get(m))return!0;const b=this._factories.get(m);return!!(!b||b.isResolved)}setColorMap(m){this._colorMap=m,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=L;class D extends k.Disposable{get isResolved(){return this._isResolved}constructor(m,w,b){super(),this._registry=m,this._languageId=w,this._factory=b,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const m=await this._factory.tokenizationSupport;this._isResolved=!0,m&&!this._isDisposed&&this._register(this._registry.register(this._languageId,m))}}}),define(ne[567],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class f{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(L,D){this._startLineNumber=L,this._tokens=D}getLineTokens(L){return this._tokens[L-this._startLineNumber]}appendLineTokens(L){this._tokens.push(L)}}e.ContiguousMultilineTokens=f}),define(ne[322],se([1,0,567]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(D,y){if(this._tokens.length>0){const m=this._tokens[this._tokens.length-1];if(m.endLineNumber+1===D){m.appendLineTokens(y);return}}this._tokens.push(new f.ContiguousMultilineTokens(D,[y]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(ne[91],se([1,0,144]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0,e.getStandardTokenTypeAtPosition=D;class k{static createEmpty(m,w){const b=k.defaultTokenMetadata,C=new Uint32Array(2);return C[0]=m.length,C[1]=b,new k(C,m,w)}static createFromTextAndMetadata(m,w){let b=0,C="";const o=new Array;for(const{text:n,metadata:i}of m)o.push(b+n.length,i),b+=n.length,C+=n;return new k(new Uint32Array(o),C,w)}constructor(m,w,b){this._lineTokensBrand=void 0,this._tokens=m,this._tokensCount=this._tokens.length>>>1,this._text=w,this.languageIdCodec=b}equals(m){return m instanceof k?this.slicedEquals(m,0,this._tokensCount):!1}slicedEquals(m,w,b){if(this._text!==m._text||this._tokensCount!==m._tokensCount)return!1;const C=w<<1,o=C+(b<<1);for(let n=C;n<o;n++)if(this._tokens[n]!==m._tokens[n])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(m){return m>0?this._tokens[m-1<<1]:0}getMetadata(m){return this._tokens[(m<<1)+1]}getLanguageId(m){const w=this._tokens[(m<<1)+1],b=f.TokenMetadata.getLanguageId(w);return this.languageIdCodec.decodeLanguageId(b)}getStandardTokenType(m){const w=this._tokens[(m<<1)+1];return f.TokenMetadata.getTokenType(w)}getForeground(m){const w=this._tokens[(m<<1)+1];return f.TokenMetadata.getForeground(w)}getClassName(m){const w=this._tokens[(m<<1)+1];return f.TokenMetadata.getClassNameFromMetadata(w)}getInlineStyle(m,w){const b=this._tokens[(m<<1)+1];return f.TokenMetadata.getInlineStyleFromMetadata(b,w)}getPresentation(m){const w=this._tokens[(m<<1)+1];return f.TokenMetadata.getPresentationFromMetadata(w)}getEndOffset(m){return this._tokens[m<<1]}findTokenIndexAtOffset(m){return k.findIndexInTokensArray(this._tokens,m)}inflate(){return this}sliceAndInflate(m,w,b){return new L(this,m,w,b)}static convertToEndOffset(m,w){const C=(m.length>>>1)-1;for(let o=0;o<C;o++)m[o<<1]=m[o+1<<1];m[C<<1]=w}static findIndexInTokensArray(m,w){if(m.length<=2)return 0;let b=0,C=(m.length>>>1)-1;for(;b<C;){const o=b+Math.floor((C-b)/2),n=m[o<<1];if(n===w)return o+1;n<w?b=o+1:n>w&&(C=o)}return b}withInserted(m){if(m.length===0)return this;let w=0,b=0,C="";const o=new Array;let n=0;for(;;){const i=w<this._tokensCount?this._tokens[w<<1]:-1,t=b<m.length?m[b]:null;if(i!==-1&&(t===null||i<=t.offset)){C+=this._text.substring(n,i);const s=this._tokens[(w<<1)+1];o.push(C.length,s),w++,n=i}else if(t){if(t.offset>n){C+=this._text.substring(n,t.offset);const s=this._tokens[(w<<1)+1];o.push(C.length,s),n=t.offset}C+=t.text,o.push(C.length,t.tokenMetadata),b++}else break}return new k(new Uint32Array(o),C,this.languageIdCodec)}getTokenText(m){const w=this.getStartOffset(m),b=this.getEndOffset(m);return this._text.substring(w,b)}forEach(m){const w=this.getCount();for(let b=0;b<w;b++)m(b)}}e.LineTokens=k,k.defaultTokenMetadata=(32768|2<<24)>>>0;class L{constructor(m,w,b,C){this._source=m,this._startOffset=w,this._endOffset=b,this._deltaOffset=C,this._firstTokenIndex=m.findTokenIndexAtOffset(w),this.languageIdCodec=m.languageIdCodec,this._tokensCount=0;for(let o=this._firstTokenIndex,n=m.getCount();o<n&&!(m.getStartOffset(o)>=b);o++)this._tokensCount++}getMetadata(m){return this._source.getMetadata(this._firstTokenIndex+m)}getLanguageId(m){return this._source.getLanguageId(this._firstTokenIndex+m)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(m){return m instanceof L?this._startOffset===m._startOffset&&this._endOffset===m._endOffset&&this._deltaOffset===m._deltaOffset&&this._source.slicedEquals(m._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(m){return this._source.getStandardTokenType(this._firstTokenIndex+m)}getForeground(m){return this._source.getForeground(this._firstTokenIndex+m)}getEndOffset(m){const w=this._source.getEndOffset(this._firstTokenIndex+m);return Math.min(this._endOffset,w)-this._startOffset+this._deltaOffset}getClassName(m){return this._source.getClassName(this._firstTokenIndex+m)}getInlineStyle(m,w){return this._source.getInlineStyle(this._firstTokenIndex+m,w)}getPresentation(m){return this._source.getPresentation(this._firstTokenIndex+m)}findTokenIndexAtOffset(m){return this._source.findTokenIndexAtOffset(m+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(m){const w=this._firstTokenIndex+m,b=this._source.getStartOffset(w),C=this._source.getEndOffset(w);let o=this._source.getTokenText(w);return b<this._startOffset&&(o=o.substring(this._startOffset-b)),C>this._endOffset&&(o=o.substring(0,o.length-(C-this._endOffset))),o}forEach(m){for(let w=0;w<this.getCount();w++)m(w)}}function D(y,m){const w=m.lineNumber;if(!y.tokenization.isCheapToTokenize(w))return;y.tokenization.forceTokenization(w);const b=y.tokenization.getLineTokens(w),C=b.findTokenIndexAtOffset(m.column-1);return b.getStandardTokenType(C)}}),define(ne[236],se([1,0,11,165,91]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationContextProcessor=e.ProcessedIndentRulesSupport=void 0,e.isLanguageDifferentFromLineStart=w;class D{constructor(C,o,n){this._indentRulesSupport=o,this._indentationLineProcessor=new m(C,n)}shouldIncrease(C,o){const n=this._indentationLineProcessor.getProcessedLine(C,o);return this._indentRulesSupport.shouldIncrease(n)}shouldDecrease(C,o){const n=this._indentationLineProcessor.getProcessedLine(C,o);return this._indentRulesSupport.shouldDecrease(n)}shouldIgnore(C,o){const n=this._indentationLineProcessor.getProcessedLine(C,o);return this._indentRulesSupport.shouldIgnore(n)}shouldIndentNextLine(C,o){const n=this._indentationLineProcessor.getProcessedLine(C,o);return this._indentRulesSupport.shouldIndentNextLine(n)}}e.ProcessedIndentRulesSupport=D;class y{constructor(C,o){this.model=C,this.indentationLineProcessor=new m(C,o)}getProcessedTokenContextAroundRange(C){const o=this._getProcessedTokensBeforeRange(C),n=this._getProcessedTokensAfterRange(C),i=this._getProcessedPreviousLineTokens(C);return{beforeRangeProcessedTokens:o,afterRangeProcessedTokens:n,previousLineProcessedTokens:i}}_getProcessedTokensBeforeRange(C){this.model.tokenization.forceTokenization(C.startLineNumber);const o=this.model.tokenization.getLineTokens(C.startLineNumber),n=(0,k.createScopedLineTokens)(o,C.startColumn-1);let i;if(w(this.model,C.getStartPosition())){const s=C.startColumn-1-n.firstCharOffset,c=n.firstCharOffset,g=c+s;i=o.sliceAndInflate(c,g,0)}else{const s=C.startColumn-1;i=o.sliceAndInflate(0,s,0)}return this.indentationLineProcessor.getProcessedTokens(i)}_getProcessedTokensAfterRange(C){const o=C.isEmpty()?C.getStartPosition():C.getEndPosition();this.model.tokenization.forceTokenization(o.lineNumber);const n=this.model.tokenization.getLineTokens(o.lineNumber),i=(0,k.createScopedLineTokens)(n,o.column-1),t=o.column-1-i.firstCharOffset,s=i.firstCharOffset+t,c=i.firstCharOffset+i.getLineLength(),g=n.sliceAndInflate(s,c,0);return this.indentationLineProcessor.getProcessedTokens(g)}_getProcessedPreviousLineTokens(C){const o=a=>{this.model.tokenization.forceTokenization(a);const v=this.model.tokenization.getLineTokens(a),h=this.model.getLineMaxColumn(a)-1;return(0,k.createScopedLineTokens)(v,h)};this.model.tokenization.forceTokenization(C.startLineNumber);const n=this.model.tokenization.getLineTokens(C.startLineNumber),i=(0,k.createScopedLineTokens)(n,C.startColumn-1),t=L.LineTokens.createEmpty("",i.languageIdCodec),s=C.startLineNumber-1;if(s===0||!(i.firstCharOffset===0))return t;const l=o(s);if(!(i.languageId===l.languageId))return t;const d=l.toIViewLineTokens();return this.indentationLineProcessor.getProcessedTokens(d)}}e.IndentationContextProcessor=y;class m{constructor(C,o){this.model=C,this.languageConfigurationService=o}getProcessedLine(C,o){var n,i;const t=(g,l)=>{const r=f.getLeadingWhitespace(g);return l+g.substring(r.length)};(i=(n=this.model.tokenization).forceTokenization)===null||i===void 0||i.call(n,C);const s=this.model.tokenization.getLineTokens(C);let c=this.getProcessedTokens(s).getLineContent();return o!==void 0&&(c=t(c,o)),c}getProcessedTokens(C){const o=g=>g===2||g===3||g===1,n=C.getLanguageId(0),t=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew.getBracketRegExp({global:!0}),s=[];return C.forEach(g=>{const l=C.getStandardTokenType(g);let r=C.getTokenText(g);o(l)&&(r=r.replace(t,""));const d=C.getMetadata(g);s.push({text:r,metadata:d})}),L.LineTokens.createFromTextAndMetadata(s,C.languageIdCodec)}}function w(b,C){b.tokenization.forceTokenization(C.lineNumber);const o=b.tokenization.getLineTokens(C.lineNumber),n=(0,k.createScopedLineTokens)(o,C.column-1),i=n.firstCharOffset===0,t=o.getLanguageId(0)===n.languageId;return!i&&!t}}),define(ne[237],se([1,0,11,128,236]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInheritIndentForLine=y,e.getGoodIndentForLine=m,e.getIndentForEnter=w,e.getIndentActionForType=b,e.getIndentMetadata=C;function D(n,i,t){const s=n.tokenization.getLanguageIdAtPosition(i,0);if(i>1){let c,g=-1;for(c=i-1;c>=1;c--){if(n.tokenization.getLanguageIdAtPosition(c,0)!==s)return g;const l=n.getLineContent(c);if(t.shouldIgnore(c)||/^\s+$/.test(l)||l===""){g=c;continue}return c}}return-1}function y(n,i,t,s=!0,c){if(n<4)return null;const g=c.getLanguageConfiguration(i.tokenization.getLanguageId()).indentRulesSupport;if(!g)return null;const l=new L.ProcessedIndentRulesSupport(i,g,c);if(t<=1)return{indentation:"",action:null};for(let d=t-1;d>0&&i.getLineContent(d)==="";d--)if(d===1)return{indentation:"",action:null};const r=D(i,t,l);if(r<0)return null;if(r<1)return{indentation:"",action:null};if(l.shouldIncrease(r)||l.shouldIndentNextLine(r)){const d=i.getLineContent(r);return{indentation:f.getLeadingWhitespace(d),action:k.IndentAction.Indent,line:r}}else if(l.shouldDecrease(r)){const d=i.getLineContent(r);return{indentation:f.getLeadingWhitespace(d),action:null,line:r}}else{if(r===1)return{indentation:f.getLeadingWhitespace(i.getLineContent(r)),action:null,line:r};const d=r-1,u=g.getIndentMetadata(i.getLineContent(d));if(!(u&3)&&u&4){let a=0;for(let v=d-1;v>0;v--)if(!l.shouldIndentNextLine(v)){a=v;break}return{indentation:f.getLeadingWhitespace(i.getLineContent(a+1)),action:null,line:a+1}}if(s)return{indentation:f.getLeadingWhitespace(i.getLineContent(r)),action:null,line:r};for(let a=r;a>0;a--){if(l.shouldIncrease(a))return{indentation:f.getLeadingWhitespace(i.getLineContent(a)),action:k.IndentAction.Indent,line:a};if(l.shouldIndentNextLine(a)){let v=0;for(let h=a-1;h>0;h--)if(!l.shouldIndentNextLine(a)){v=h;break}return{indentation:f.getLeadingWhitespace(i.getLineContent(v+1)),action:null,line:v+1}}else if(l.shouldDecrease(a))return{indentation:f.getLeadingWhitespace(i.getLineContent(a)),action:null,line:a}}return{indentation:f.getLeadingWhitespace(i.getLineContent(1)),action:null,line:1}}}function m(n,i,t,s,c,g){if(n<4)return null;const l=g.getLanguageConfiguration(t);if(!l)return null;const r=g.getLanguageConfiguration(t).indentRulesSupport;if(!r)return null;const d=new L.ProcessedIndentRulesSupport(i,r,g),u=y(n,i,s,void 0,g);if(u){const a=u.line;if(a!==void 0){let v=!0;for(let h=a;h<s-1;h++)if(!/^\s*$/.test(i.getLineContent(h))){v=!1;break}if(v){const h=l.onEnter(n,"",i.getLineContent(a),"");if(h){let p=f.getLeadingWhitespace(i.getLineContent(a));return h.removeText&&(p=p.substring(0,p.length-h.removeText)),h.indentAction===k.IndentAction.Indent||h.indentAction===k.IndentAction.IndentOutdent?p=c.shiftIndent(p):h.indentAction===k.IndentAction.Outdent&&(p=c.unshiftIndent(p)),d.shouldDecrease(s)&&(p=c.unshiftIndent(p)),h.appendText&&(p+=h.appendText),f.getLeadingWhitespace(p)}}}return d.shouldDecrease(s)?u.action===k.IndentAction.Indent?u.indentation:c.unshiftIndent(u.indentation):u.action===k.IndentAction.Indent?c.shiftIndent(u.indentation):u.indentation}return null}function w(n,i,t,s,c){if(n<4)return null;const g=i.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),l=c.getLanguageConfiguration(g).indentRulesSupport;if(!l)return null;i.tokenization.forceTokenization(t.startLineNumber);const d=new L.IndentationContextProcessor(i,c).getProcessedTokenContextAroundRange(t),u=d.afterRangeProcessedTokens,a=d.beforeRangeProcessedTokens,v=f.getLeadingWhitespace(a.getLineContent()),h=o(i,t.startLineNumber,a),p=(0,L.isLanguageDifferentFromLineStart)(i,t.getStartPosition()),_=i.getLineContent(t.startLineNumber),S=f.getLeadingWhitespace(_),E=y(n,h,t.startLineNumber+1,void 0,c);if(!E){const T=p?S:v;return{beforeEnter:T,afterEnter:T}}let I=p?S:E.indentation;return E.action===k.IndentAction.Indent&&(I=s.shiftIndent(I)),l.shouldDecrease(u.getLineContent())&&(I=s.unshiftIndent(I)),{beforeEnter:p?S:v,afterEnter:I}}function b(n,i,t,s,c,g){if(n<4||(0,L.isLanguageDifferentFromLineStart)(i,t.getStartPosition()))return null;const r=i.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),d=g.getLanguageConfiguration(r).indentRulesSupport;if(!d)return null;const a=new L.IndentationContextProcessor(i,g).getProcessedTokenContextAroundRange(t),v=a.beforeRangeProcessedTokens.getLineContent(),h=a.afterRangeProcessedTokens.getLineContent(),p=v+h,_=v+s+h;if(!d.shouldDecrease(p)&&d.shouldDecrease(_)){const S=y(n,i,t.startLineNumber,!1,g);if(!S)return null;let E=S.indentation;return S.action!==k.IndentAction.Indent&&(E=c.unshiftIndent(E)),E}return null}function C(n,i,t){const s=t.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!s||i<1||i>n.getLineCount()?null:s.getIndentMetadata(n.getLineContent(i))}function o(n,i,t){return{tokenization:{getLineTokens:c=>c===i?t:n.tokenization.getLineTokens(c),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(c,g)=>n.getLanguageIdAtPosition(c,g)},getLineContent:c=>c===i?t.getLineContent():n.getLineContent(c)}}}),define(ne[568],se([1,0,91]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.toUint32Array=L,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(y,m){return y===null||y===e.EMPTY_LINE_TOKENS?y:k.delete(y,0,m)}static deleteEnding(y,m){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const w=L(y),b=w[w.length-2];return k.delete(y,m,b)}static delete(y,m,w){if(y===null||y===e.EMPTY_LINE_TOKENS||m===w)return y;const b=L(y),C=b.length>>>1;if(m===0&&b[b.length-2]===w)return e.EMPTY_LINE_TOKENS;const o=f.LineTokens.findIndexInTokensArray(b,m),n=o>0?b[o-1<<1]:0,i=b[o<<1];if(w<i){const l=w-m;for(let r=o;r<C;r++)b[r<<1]-=l;return y}let t,s;n!==m?(b[o<<1]=m,t=o+1<<1,s=m):(t=o<<1,s=n);const c=w-m;for(let l=o+1;l<C;l++){const r=b[l<<1]-c;r>s&&(b[t++]=r,b[t++]=b[(l<<1)+1],s=r)}if(t===b.length)return y;const g=new Uint32Array(t);return g.set(b.subarray(0,t),0),g.buffer}static append(y,m){if(m===e.EMPTY_LINE_TOKENS)return y;if(y===e.EMPTY_LINE_TOKENS)return m;if(y===null)return y;if(m===null)return null;const w=L(y),b=L(m),C=b.length>>>1,o=new Uint32Array(w.length+b.length);o.set(w,0);let n=w.length;const i=w[w.length-2];for(let t=0;t<C;t++)o[n++]=b[t<<1]+i,o[n++]=b[(t<<1)+1];return o.buffer}static insert(y,m,w){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const b=L(y),C=b.length>>>1;let o=f.LineTokens.findIndexInTokensArray(b,m);o>0&&b[o-1<<1]===m&&o--;for(let n=o;n<C;n++)b[n<<1]+=w;return y}}e.ContiguousTokensEditing=k;function L(D){return D instanceof Uint32Array?D:new Uint32Array(D)}}),define(ne[569],se([1,0,13,10,568,91,144]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class m{constructor(C){this._lineTokens=[],this._len=0,this._languageIdCodec=C}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(C,o,n){let i=null;if(o<this._len&&(i=this._lineTokens[o]),i!==null&&i!==L.EMPTY_LINE_TOKENS)return new D.LineTokens((0,L.toUint32Array)(i),n,this._languageIdCodec);const t=new Uint32Array(2);return t[0]=n.length,t[1]=w(this._languageIdCodec.encodeLanguageId(C)),new D.LineTokens(t,n,this._languageIdCodec)}static _massageTokens(C,o,n){const i=n?(0,L.toUint32Array)(n):null;if(o===0){let t=!1;if(i&&i.length>1&&(t=y.TokenMetadata.getLanguageId(i[1])!==C),!t)return L.EMPTY_LINE_TOKENS}if(!i||i.length===0){const t=new Uint32Array(2);return t[0]=o,t[1]=w(C),t.buffer}return i[i.length-2]=o,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(C){for(;C>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(C,o){o!==0&&(C+o>this._len&&(o=this._len-C),this._lineTokens.splice(C,o),this._len-=o)}_insertLines(C,o){if(o===0)return;const n=[];for(let i=0;i<o;i++)n[i]=null;this._lineTokens=f.arrayInsert(this._lineTokens,C,n),this._len+=o}setTokens(C,o,n,i,t){const s=m._massageTokens(this._languageIdCodec.encodeLanguageId(C),n,i);this._ensureLine(o);const c=this._lineTokens[o];return this._lineTokens[o]=s,t?!m._equals(c,s):!1}static _equals(C,o){if(!C||!o)return!C&&!o;const n=(0,L.toUint32Array)(C),i=(0,L.toUint32Array)(o);if(n.length!==i.length)return!1;for(let t=0,s=n.length;t<s;t++)if(n[t]!==i[t])return!1;return!0}acceptEdit(C,o,n){this._acceptDeleteRange(C),this._acceptInsertText(new k.Position(C.startLineNumber,C.startColumn),o,n)}_acceptDeleteRange(C){const o=C.startLineNumber-1;if(o>=this._len)return;if(C.startLineNumber===C.endLineNumber){if(C.startColumn===C.endColumn)return;this._lineTokens[o]=L.ContiguousTokensEditing.delete(this._lineTokens[o],C.startColumn-1,C.endColumn-1);return}this._lineTokens[o]=L.ContiguousTokensEditing.deleteEnding(this._lineTokens[o],C.startColumn-1);const n=C.endLineNumber-1;let i=null;n<this._len&&(i=L.ContiguousTokensEditing.deleteBeginning(this._lineTokens[n],C.endColumn-1)),this._lineTokens[o]=L.ContiguousTokensEditing.append(this._lineTokens[o],i),this._deleteLines(C.startLineNumber,C.endLineNumber-C.startLineNumber)}_acceptInsertText(C,o,n){if(o===0&&n===0)return;const i=C.lineNumber-1;if(!(i>=this._len)){if(o===0){this._lineTokens[i]=L.ContiguousTokensEditing.insert(this._lineTokens[i],C.column-1,n);return}this._lineTokens[i]=L.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],C.column-1),this._lineTokens[i]=L.ContiguousTokensEditing.insert(this._lineTokens[i],C.column-1,n),this._insertLines(C.lineNumber,o)}}setMultilineTokens(C,o){if(C.length===0)return{changes:[]};const n=[];for(let i=0,t=C.length;i<t;i++){const s=C[i];let c=0,g=0,l=!1;for(let r=s.startLineNumber;r<=s.endLineNumber;r++)l?(this.setTokens(o.getLanguageId(),r-1,o.getLineLength(r),s.getLineTokens(r),!1),g=r):this.setTokens(o.getLanguageId(),r-1,o.getLineLength(r),s.getLineTokens(r),!0)&&(l=!0,c=r,g=r);l&&n.push({fromLineNumber:c,toLineNumber:g})}return{changes:n}}}e.ContiguousTokensStore=m;function w(b){return(b<<0|0|0|32768|2<<24|1024)>>>0}}),define(ne[570],se([1,0,10,5,141]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(b,C){return new D(b,new y(C))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(b,C){this._startLineNumber=b,this._tokens=C,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(b){return this._startLineNumber<=b&&b<=this._endLineNumber?this._tokens.getLineTokens(b-this._startLineNumber):null}getRange(){const b=this._tokens.getRange();return b&&new k.Range(this._startLineNumber+b.startLineNumber,b.startColumn,this._startLineNumber+b.endLineNumber,b.endColumn)}removeTokens(b){const C=b.startLineNumber-this._startLineNumber,o=b.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(C,b.startColumn-1,o,b.endColumn-1),this._updateEndLineNumber()}split(b){const C=b.startLineNumber-this._startLineNumber,o=b.endLineNumber-this._startLineNumber,[n,i,t]=this._tokens.split(C,b.startColumn-1,o,b.endColumn-1);return[new D(this._startLineNumber,n),new D(this._startLineNumber+t,i)]}applyEdit(b,C){const[o,n,i]=(0,L.countEOL)(C);this.acceptEdit(b,o,n,i,C.length>0?C.charCodeAt(0):0)}acceptEdit(b,C,o,n,i){this._acceptDeleteRange(b),this._acceptInsertText(new f.Position(b.startLineNumber,b.startColumn),C,o,n,i),this._updateEndLineNumber()}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber&&b.startColumn===b.endColumn)return;const C=b.startLineNumber-this._startLineNumber,o=b.endLineNumber-this._startLineNumber;if(o<0){const i=o-C;this._startLineNumber-=i;return}const n=this._tokens.getMaxDeltaLine();if(!(C>=n+1)){if(C<0&&o>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(C<0){const i=-C;this._startLineNumber-=i,this._tokens.acceptDeleteRange(b.startColumn-1,0,0,o,b.endColumn-1)}else this._tokens.acceptDeleteRange(0,C,b.startColumn-1,o,b.endColumn-1)}}_acceptInsertText(b,C,o,n,i){if(C===0&&o===0)return;const t=b.lineNumber-this._startLineNumber;if(t<0){this._startLineNumber+=C;return}const s=this._tokens.getMaxDeltaLine();t>=s+1||this._tokens.acceptInsertText(t,b.column-1,C,o,n,i)}}e.SparseMultilineTokens=D;class y{constructor(b){this._tokens=b,this._tokenCount=b.length/4}toString(b){const C=[];for(let o=0;o<this._tokenCount;o++)C.push(`(${this._getDeltaLine(o)+b},${this._getStartCharacter(o)}-${this._getEndCharacter(o)})`);return`[${C.join(",")}]`}getMaxDeltaLine(){const b=this._getTokenCount();return b===0?-1:this._getDeltaLine(b-1)}getRange(){const b=this._getTokenCount();if(b===0)return null;const C=this._getStartCharacter(0),o=this._getDeltaLine(b-1),n=this._getEndCharacter(b-1);return new k.Range(0,C+1,o,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(b){return this._tokens[4*b]}_getStartCharacter(b){return this._tokens[4*b+1]}_getEndCharacter(b){return this._tokens[4*b+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(b){let C=0,o=this._getTokenCount()-1;for(;C<o;){const n=C+Math.floor((o-C)/2),i=this._getDeltaLine(n);if(i<b)C=n+1;else if(i>b)o=n-1;else{let t=n;for(;t>C&&this._getDeltaLine(t-1)===b;)t--;let s=n;for(;s<o&&this._getDeltaLine(s+1)===b;)s++;return new m(this._tokens.subarray(4*t,4*s+4))}}return this._getDeltaLine(C)===b?new m(this._tokens.subarray(4*C,4*C+4)):null}clear(){this._tokenCount=0}removeTokens(b,C,o,n){const i=this._tokens,t=this._tokenCount;let s=0,c=!1,g=0;for(let l=0;l<t;l++){const r=4*l,d=i[r],u=i[r+1],a=i[r+2],v=i[r+3];if((d>b||d===b&&a>=C)&&(d<o||d===o&&u<=n))c=!0;else{if(s===0&&(g=d),c){const h=4*s;i[h]=d-g,i[h+1]=u,i[h+2]=a,i[h+3]=v}s++}}return this._tokenCount=s,g}split(b,C,o,n){const i=this._tokens,t=this._tokenCount,s=[],c=[];let g=s,l=0,r=0;for(let d=0;d<t;d++){const u=4*d,a=i[u],v=i[u+1],h=i[u+2],p=i[u+3];if(a>b||a===b&&h>=C){if(a<o||a===o&&v<=n)continue;g!==c&&(g=c,l=0,r=a)}g[l++]=a-r,g[l++]=v,g[l++]=h,g[l++]=p}return[new y(new Uint32Array(s)),new y(new Uint32Array(c)),r]}acceptDeleteRange(b,C,o,n,i){const t=this._tokens,s=this._tokenCount,c=n-C;let g=0,l=!1;for(let r=0;r<s;r++){const d=4*r;let u=t[d],a=t[d+1],v=t[d+2];const h=t[d+3];if(u<C||u===C&&v<=o){g++;continue}else if(u===C&&a<o)u===n&&v>i?v-=i-o:v=o;else if(u===C&&a===o)if(u===n&&v>i)v-=i-o;else{l=!0;continue}else if(u<n||u===n&&a<i)if(u===n&&v>i)u=C,a=o,v=a+(v-i);else{l=!0;continue}else if(u>n){if(c===0&&!l){g=s;break}u-=c}else if(u===n&&a>=i)b&&u===0&&(a+=b,v+=b),u-=c,a-=i-o,v-=i-o;else throw new Error("Not possible!");const p=4*g;t[p]=u,t[p+1]=a,t[p+2]=v,t[p+3]=h,g++}this._tokenCount=g}acceptInsertText(b,C,o,n,i,t){const s=o===0&&n===1&&(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122),c=this._tokens,g=this._tokenCount;for(let l=0;l<g;l++){const r=4*l;let d=c[r],u=c[r+1],a=c[r+2];if(!(d<b||d===b&&a<C)){if(d===b&&a===C)if(s)a+=1;else continue;else if(d===b&&u<C&&C<a)o===0?a+=n:a=C;else{if(d===b&&u===C&&s)continue;if(d===b)if(d+=o,o===0)u+=n,a+=n;else{const v=a-u;u=i+(u-C),a=u+v}else d+=o}c[r]=d,c[r+1]=u,c[r+2]=a}}}}class m{constructor(b){this._tokens=b}getCount(){return this._tokens.length/4}getStartCharacter(b){return this._tokens[4*b+1]}getEndCharacter(b){return this._tokens[4*b+2]}getMetadata(b){return this._tokens[4*b+3]}}e.SparseLineTokens=m}),define(ne[571],se([1,0,13,91]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class L{constructor(y){this._pieces=[],this._isComplete=!1,this._languageIdCodec=y}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(y,m){this._pieces=y||[],this._isComplete=m}setPartial(y,m){let w=y;if(m.length>0){const C=m[0].getRange(),o=m[m.length-1].getRange();if(!C||!o)return y;w=y.plusRange(C).plusRange(o)}let b=null;for(let C=0,o=this._pieces.length;C<o;C++){const n=this._pieces[C];if(n.endLineNumber<w.startLineNumber)continue;if(n.startLineNumber>w.endLineNumber){b=b||{index:C};break}if(n.removeTokens(w),n.isEmpty()){this._pieces.splice(C,1),C--,o--;continue}if(n.endLineNumber<w.startLineNumber)continue;if(n.startLineNumber>w.endLineNumber){b=b||{index:C};continue}const[i,t]=n.split(w);if(i.isEmpty()){b=b||{index:C};continue}t.isEmpty()||(this._pieces.splice(C,1,i,t),C++,o++,b=b||{index:C})}return b=b||{index:this._pieces.length},m.length>0&&(this._pieces=f.arrayInsert(this._pieces,b.index,m)),w}isComplete(){return this._isComplete}addSparseTokens(y,m){if(m.getLineContent().length===0)return m;const w=this._pieces;if(w.length===0)return m;const b=L._findFirstPieceWithLine(w,y),C=w[b].getLineTokens(y);if(!C)return m;const o=m.getCount(),n=C.getCount();let i=0;const t=[];let s=0,c=0;const g=(l,r)=>{l!==c&&(c=l,t[s++]=l,t[s++]=r)};for(let l=0;l<n;l++){const r=C.getStartCharacter(l),d=C.getEndCharacter(l),u=C.getMetadata(l),a=((u&1?2048:0)|(u&2?4096:0)|(u&4?8192:0)|(u&8?16384:0)|(u&16?16744448:0)|(u&32?4278190080:0))>>>0,v=~a>>>0;for(;i<o&&m.getEndOffset(i)<=r;)g(m.getEndOffset(i),m.getMetadata(i)),i++;for(i<o&&m.getStartOffset(i)<r&&g(r,m.getMetadata(i));i<o&&m.getEndOffset(i)<d;)g(m.getEndOffset(i),m.getMetadata(i)&v|u&a),i++;if(i<o)g(d,m.getMetadata(i)&v|u&a),m.getEndOffset(i)===d&&i++;else{const h=Math.min(Math.max(0,i-1),o-1);g(d,m.getMetadata(h)&v|u&a)}}for(;i<o;)g(m.getEndOffset(i),m.getMetadata(i)),i++;return new k.LineTokens(new Uint32Array(t),m.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(y,m){let w=0,b=y.length-1;for(;w<b;){let C=w+Math.floor((b-w)/2);if(y[C].endLineNumber<m)w=C+1;else if(y[C].startLineNumber>m)b=C-1;else{for(;C>w&&y[C-1].startLineNumber<=m&&m<=y[C-1].endLineNumber;)C--;return C}}return w}acceptEdit(y,m,w,b,C){for(const o of this._pieces)o.acceptEdit(y,m,w,b,C)}}e.SparseTokensStore=L}),define(ne[166],se([1,0,2]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends f.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let y=!1;for(let m=0,w=D.length;m<w;m++){const b=D[m];switch(b.type){case 0:this.onCompositionStart(b)&&(y=!0);break;case 1:this.onCompositionEnd(b)&&(y=!0);break;case 2:this.onConfigurationChanged(b)&&(y=!0);break;case 3:this.onCursorStateChanged(b)&&(y=!0);break;case 4:this.onDecorationsChanged(b)&&(y=!0);break;case 5:this.onFlushed(b)&&(y=!0);break;case 6:this.onFocusChanged(b)&&(y=!0);break;case 7:this.onLanguageConfigurationChanged(b)&&(y=!0);break;case 8:this.onLineMappingChanged(b)&&(y=!0);break;case 9:this.onLinesChanged(b)&&(y=!0);break;case 10:this.onLinesDeleted(b)&&(y=!0);break;case 11:this.onLinesInserted(b)&&(y=!0);break;case 12:this.onRevealRangeRequest(b)&&(y=!0);break;case 13:this.onScrollChanged(b)&&(y=!0);break;case 15:this.onTokensChanged(b)&&(y=!0);break;case 14:this.onThemeChanged(b)&&(y=!0);break;case 16:this.onTokensColorsChanged(b)&&(y=!0);break;case 17:this.onZonesChanged(b)&&(y=!0);break;default:console.info("View received unknown event: "),console.info(b)}}y&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(ne[130],se([1,0,166]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends f.ViewEventHandler{}e.DynamicViewOverlay=k}),define(ne[56],se([1,0,166]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends f.ViewEventHandler{constructor(y){super(),this._context=y,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class L{static write(y,m){y.setAttribute("data-mprt",String(m))}static read(y){const m=y.getAttribute("data-mprt");return m===null?0:parseInt(m,10)}static collect(y,m){const w=[];let b=0;for(;y&&y!==y.ownerDocument.body&&y!==m;)y.nodeType===y.ELEMENT_NODE&&(w[b++]=this.read(y)),y=y.parentElement;const C=new Uint8Array(b);for(let o=0;o<b;o++)C[o]=w[b-o-1];return C}}e.PartFingerprints=L}),define(ne[572],se([1,0,40,56,463]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class L extends k.ViewPart{constructor(y){super(y),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let y=!1;const w=this._context.configuration.options.get(145),b=w.contentWidth-w.verticalScrollbarWidth;this.contentWidth!==b&&(this.contentWidth=b,y=!0);const C=w.contentLeft;return this.contentLeft!==C&&(this.contentLeft=C,y=!0),y}dispose(){super.dispose()}onConfigurationChanged(y){return this.update()}onScrollChanged(y){return y.scrollTopChanged||y.scrollLeftChanged}onDecorationsChanged(y){return!0}onZonesChanged(y){return!0}prepareRender(y){}render(y){var m;let w=0;const b=y.getDecorationsInViewport();for(const C of b){if(!C.options.blockClassName)continue;let o=this.blocks[w];o||(o=this.blocks[w]=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(o));let n,i;C.options.blockIsAfterEnd?(n=y.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!1),i=y.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0)):(n=y.getVerticalOffsetForLineNumber(C.range.startLineNumber,!0),i=C.range.isEmpty()&&!C.options.blockDoesNotCollapse?y.getVerticalOffsetForLineNumber(C.range.startLineNumber,!1):y.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0));const[t,s,c,g]=(m=C.options.blockPadding)!==null&&m!==void 0?m:[0,0,0,0];o.setClassName("blockDecorations-block "+C.options.blockClassName),o.setLeft(this.contentLeft-g),o.setWidth(this.contentWidth+g+s),o.setTop(n-y.scrollTop-t),o.setHeight(i-n+t+c),w++}for(let C=w;C<this.blocks.length;C++)this.blocks[C].domNode.remove();this.blocks.length=w}}e.BlockDecorations=L}),define(ne[573],se([1,0,130,159,5,465]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends f.DynamicViewOverlay{constructor(m){super(),this._context=m;const w=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(m){const w=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return m.scrollTopChanged||m.scrollWidthChanged}onZonesChanged(m){return!0}prepareRender(m){const w=m.getDecorationsInViewport();let b=[],C=0;for(let t=0,s=w.length;t<s;t++){const c=w[t];c.options.className&&(b[C++]=c)}b=b.sort((t,s)=>{if(t.options.zIndex<s.options.zIndex)return-1;if(t.options.zIndex>s.options.zIndex)return 1;const c=t.options.className,g=s.options.className;return c<g?-1:c>g?1:L.Range.compareRangesUsingStarts(t.range,s.range)});const o=m.visibleRange.startLineNumber,n=m.visibleRange.endLineNumber,i=[];for(let t=o;t<=n;t++){const s=t-o;i[s]=""}this._renderWholeLineDecorations(m,b,i),this._renderNormalDecorations(m,b,i),this._renderResult=i}_renderWholeLineDecorations(m,w,b){const C=m.visibleRange.startLineNumber,o=m.visibleRange.endLineNumber;for(let n=0,i=w.length;n<i;n++){const t=w[n];if(!t.options.isWholeLine)continue;const s='<div class="cdr '+t.options.className+'" style="left:0;width:100%;"></div>',c=Math.max(t.range.startLineNumber,C),g=Math.min(t.range.endLineNumber,o);for(let l=c;l<=g;l++){const r=l-C;b[r]+=s}}}_renderNormalDecorations(m,w,b){var C;const o=m.visibleRange.startLineNumber;let n=null,i=!1,t=null,s=!1;for(let c=0,g=w.length;c<g;c++){const l=w[c];if(l.options.isWholeLine)continue;const r=l.options.className,d=!!l.options.showIfCollapsed;let u=l.range;if(d&&u.endColumn===1&&u.endLineNumber!==u.startLineNumber&&(u=new L.Range(u.startLineNumber,u.startColumn,u.endLineNumber-1,this._context.viewModel.getLineMaxColumn(u.endLineNumber-1))),n===r&&i===d&&L.Range.areIntersectingOrTouching(t,u)){t=L.Range.plusRange(t,u);continue}n!==null&&this._renderNormalDecoration(m,t,n,s,i,o,b),n=r,i=d,t=u,s=(C=l.options.shouldFillLineOnLineBreak)!==null&&C!==void 0?C:!1}n!==null&&this._renderNormalDecoration(m,t,n,s,i,o,b)}_renderNormalDecoration(m,w,b,C,o,n,i){const t=m.linesVisibleRangesForRange(w,b==="findMatch");if(t)for(let s=0,c=t.length;s<c;s++){const g=t[s];if(g.outsideRenderedLine)continue;const l=g.lineNumber-n;if(o&&g.ranges.length===1){const r=g.ranges[0];if(r.width<this._typicalHalfwidthCharacterWidth){const d=Math.round(r.left+r.width/2),u=Math.max(0,Math.round(d-this._typicalHalfwidthCharacterWidth/2));g.ranges[0]=new k.HorizontalRange(u,this._typicalHalfwidthCharacterWidth)}}for(let r=0,d=g.ranges.length;r<d;r++){const u=C&&g.continuesOnNextLine&&d===1,a=g.ranges[r],v='<div class="cdr '+b+'" style="left:'+String(a.left)+"px;width:"+(u?"100%;":String(a.width)+"px;")+'"></div>';i[l]+=v}}}render(m,w){if(!this._renderResult)return"";const b=w-m;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}e.DecorationsOverlay=D}),define(ne[238],se([1,0,40,13,130,56,10,5,42,466]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class b{constructor(l,r,d,u,a){this.startLineNumber=l,this.endLineNumber=r,this.className=d,this.tooltip=u,this._decorationToRenderBrand=void 0,this.zIndex=a??0}}e.DecorationToRender=b;class C{constructor(l,r,d){this.className=l,this.zIndex=r,this.tooltip=d}}e.LineDecorationToRender=C;class o{constructor(){this.decorations=[]}add(l){this.decorations.push(l)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=o;class n extends L.DynamicViewOverlay{_render(l,r,d){const u=[];for(let h=l;h<=r;h++){const p=h-l;u[p]=new o}if(d.length===0)return u;d.sort((h,p)=>h.className===p.className?h.startLineNumber===p.startLineNumber?h.endLineNumber-p.endLineNumber:h.startLineNumber-p.startLineNumber:h.className<p.className?-1:1);let a=null,v=0;for(let h=0,p=d.length;h<p;h++){const _=d[h],S=_.className,E=_.zIndex;let I=Math.max(_.startLineNumber,l)-l;const T=Math.min(_.endLineNumber,r)-l;a===S?(I=Math.max(v+1,I),v=Math.max(v,T)):(a=S,v=T);for(let N=I;N<=v;N++)u[N].add(new C(S,E,_.tooltip))}return u}}e.DedupOverlay=n;class i extends D.ViewPart{constructor(l){super(l),this._widgets={},this._context=l;const r=this._context.configuration.options,d=r.get(145);this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=r.get(67),this._glyphMargin=r.get(57),this._glyphMarginLeft=d.glyphMarginLeft,this._glyphMarginWidth=d.glyphMarginWidth,this._glyphMarginDecorationLaneCount=d.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(l){const r=this._context.configuration.options,d=r.get(145);return this._lineHeight=r.get(67),this._glyphMargin=r.get(57),this._glyphMarginLeft=d.glyphMarginLeft,this._glyphMarginWidth=d.glyphMarginWidth,this._glyphMarginDecorationLaneCount=d.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(l){return!0}onFlushed(l){return!0}onLinesChanged(l){return!0}onLinesDeleted(l){return!0}onLinesInserted(l){return!0}onScrollChanged(l){return l.scrollTopChanged}onZonesChanged(l){return!0}addWidget(l){const r=(0,f.createFastDomNode)(l.getDomNode());this._widgets[l.getId()]={widget:l,preference:l.getPosition(),domNode:r,renderInfo:null},r.setPosition("absolute"),r.setDisplay("none"),r.setAttribute("widgetId",l.getId()),this.domNode.appendChild(r),this.setShouldRender()}setWidgetPosition(l,r){const d=this._widgets[l.getId()];return d.preference.lane===r.lane&&d.preference.zIndex===r.zIndex&&m.Range.equalsRange(d.preference.range,r.range)?!1:(d.preference=r,this.setShouldRender(),!0)}removeWidget(l){var r;const d=l.getId();if(this._widgets[d]){const a=this._widgets[d].domNode.domNode;delete this._widgets[d],(r=a.parentNode)===null||r===void 0||r.removeChild(a),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(l,r){var d,u,a;const v=l.visibleRange.startLineNumber,h=l.visibleRange.endLineNumber,p=l.getDecorationsInViewport();for(const _ of p){const S=_.options.glyphMarginClassName;if(!S)continue;const E=Math.max(_.range.startLineNumber,v),I=Math.min(_.range.endLineNumber,h),T=(u=(d=_.options.glyphMargin)===null||d===void 0?void 0:d.position)!==null&&u!==void 0?u:w.GlyphMarginLane.Center,N=(a=_.options.zIndex)!==null&&a!==void 0?a:0;for(let A=E;A<=I;A++){const R=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(A,0)),M=this._context.viewModel.glyphLanes.getLanesAtLine(R.lineNumber).indexOf(T);r.push(new t(A,M,N,S))}}}_collectWidgetBasedGlyphRenderRequest(l,r){const d=l.visibleRange.startLineNumber,u=l.visibleRange.endLineNumber;for(const a of Object.values(this._widgets)){const v=a.preference.range,{startLineNumber:h,endLineNumber:p}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(m.Range.lift(v));if(!h||!p||p<d||h>u)continue;const _=Math.max(h,d),S=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(_,0)),E=this._context.viewModel.glyphLanes.getLanesAtLine(S.lineNumber).indexOf(a.preference.lane);r.push(new s(_,E,a.preference.zIndex,a))}}_collectSortedGlyphRenderRequests(l){const r=[];return this._collectDecorationBasedGlyphRenderRequest(l,r),this._collectWidgetBasedGlyphRenderRequest(l,r),r.sort((d,u)=>d.lineNumber===u.lineNumber?d.laneIndex===u.laneIndex?d.zIndex===u.zIndex?u.type===d.type?d.type===0&&u.type===0?d.className<u.className?-1:1:0:u.type-d.type:u.zIndex-d.zIndex:d.laneIndex-u.laneIndex:d.lineNumber-u.lineNumber),r}prepareRender(l){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const u of Object.values(this._widgets))u.renderInfo=null;const r=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(l)),d=[];for(;r.length>0;){const u=r.peek();if(!u)break;const a=r.takeWhile(h=>h.lineNumber===u.lineNumber&&h.laneIndex===u.laneIndex);if(!a||a.length===0)break;const v=a[0];if(v.type===0){const h=[];for(const p of a){if(p.zIndex!==v.zIndex||p.type!==v.type)break;(h.length===0||h[h.length-1]!==p.className)&&h.push(p.className)}d.push(v.accept(h.join(" ")))}else v.widget.renderInfo={lineNumber:v.lineNumber,laneIndex:v.laneIndex}}this._decorationGlyphsToRender=d}render(l){if(!this._glyphMargin){for(const d of Object.values(this._widgets))d.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const d=this._managedDomNodes.pop();d?.domNode.remove()}return}const r=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const d of Object.values(this._widgets))if(!d.renderInfo)d.domNode.setDisplay("none");else{const u=l.viewportData.relativeVerticalOffset[d.renderInfo.lineNumber-l.viewportData.startLineNumber],a=this._glyphMarginLeft+d.renderInfo.laneIndex*this._lineHeight;d.domNode.setDisplay("block"),d.domNode.setTop(u),d.domNode.setLeft(a),d.domNode.setWidth(r),d.domNode.setHeight(this._lineHeight)}for(let d=0;d<this._decorationGlyphsToRender.length;d++){const u=this._decorationGlyphsToRender[d],a=l.viewportData.relativeVerticalOffset[u.lineNumber-l.viewportData.startLineNumber],v=this._glyphMarginLeft+u.laneIndex*this._lineHeight;let h;d<this._managedDomNodes.length?h=this._managedDomNodes[d]:(h=(0,f.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(h),this.domNode.appendChild(h)),h.setClassName("cgmr codicon "+u.combinedClassName),h.setPosition("absolute"),h.setTop(a),h.setLeft(v),h.setWidth(r),h.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const d=this._managedDomNodes.pop();d?.domNode.remove()}}}e.GlyphMarginWidgets=i;class t{constructor(l,r,d,u){this.lineNumber=l,this.laneIndex=r,this.zIndex=d,this.className=u,this.type=0}accept(l){return new c(this.lineNumber,this.laneIndex,l)}}class s{constructor(l,r,d,u){this.lineNumber=l,this.laneIndex=r,this.zIndex=d,this.widget=u,this.type=1}}class c{constructor(l,r,d){this.lineNumber=l,this.laneIndex=r,this.combinedClassName=d}}}),define(ne[574],se([1,0,238,470]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends f.DedupOverlay{constructor(D){super(),this._context=D;const m=this._context.configuration.options.get(145);this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const m=this._context.configuration.options.get(145);return this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){var y,m;const w=D.getDecorationsInViewport(),b=[];let C=0;for(let o=0,n=w.length;o<n;o++){const i=w[o],t=i.options.linesDecorationsClassName,s=i.options.zIndex;t&&(b[C++]=new f.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t,(y=i.options.linesDecorationsTooltip)!==null&&y!==void 0?y:null,s));const c=i.options.firstLineDecorationClassName;c&&(b[C++]=new f.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,c,(m=i.options.linesDecorationsTooltip)!==null&&m!==void 0?m:null,s))}return b}prepareRender(D){const y=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,w=this._render(y,m,this._getDecorations(D)),b=this._decorationsLeft.toString(),C=this._decorationsWidth.toString(),o='" style="left:'+b+"px;width:"+C+'px;"></div>',n=[];for(let i=y;i<=m;i++){const t=i-y,s=w[t].getDecorations();let c="";for(const g of s){let l='<div class="cldr '+g.className;g.tooltip!==null&&(l+='" title="'+g.tooltip),l+=o,c+=l}n[t]=c}this._renderResult=n}render(D,y){return this._renderResult?this._renderResult[y-D]:""}}e.LinesDecorationsOverlay=k}),define(ne[323],se([1,0,40,56,471]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class L extends k.ViewPart{constructor(y){super(y);const m=this._context.configuration.options,w=m.get(145);this._canUseLayerHinting=!m.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(L.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,f.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(L.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(y){const m=this._context.configuration.options,w=m.get(145);return this._canUseLayerHinting=!m.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,!0}onScrollChanged(y){return super.onScrollChanged(y)||y.scrollTopChanged}prepareRender(y){}render(y){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const m=y.scrollTop-y.bigNumbersDelta;this._domNode.setTop(-m);const w=Math.min(y.scrollHeight,1e6);this._domNode.setHeight(w),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(w)}}e.Margin=L,L.CLASS_NAME="glyph-margin",L.OUTER_CLASS_NAME="margin"}),define(ne[575],se([1,0,238,472]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends f.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const y=D.getDecorationsInViewport(),m=[];let w=0;for(let b=0,C=y.length;b<C;b++){const o=y[b],n=o.options.marginClassName,i=o.options.zIndex;n&&(m[w++]=new f.DecorationToRender(o.range.startLineNumber,o.range.endLineNumber,n,null,i))}return m}prepareRender(D){const y=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,w=this._render(y,m,this._getDecorations(D)),b=[];for(let C=y;C<=m;C++){const o=C-y,n=w[o].getDecorations();let i="";for(const t of n)i+='<div class="cmdr '+t.className+'" style=""></div>';b[o]=i}this._renderResult=b}render(D,y){return this._renderResult?this._renderResult[y-D]:""}}e.MarginViewLineDecorationsOverlay=k}),define(ne[576],se([1,0,40,56,475]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class L extends k.ViewPart{constructor(y){super(y),this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const m=this._context.configuration.options;this._rulers=m.get(102),this._typicalHalfwidthCharacterWidth=m.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(y){const m=this._context.configuration.options;return this._rulers=m.get(102),this._typicalHalfwidthCharacterWidth=m.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(y){return y.scrollHeightChanged}prepareRender(y){}_ensureRulersCount(){const y=this._renderedRulers.length,m=this._rulers.length;if(y===m)return;if(y<m){const{tabSize:b}=this._context.viewModel.model.getOptions(),C=b;let o=m-y;for(;o>0;){const n=(0,f.createFastDomNode)(document.createElement("div"));n.setClassName("view-ruler"),n.setWidth(C),this.domNode.appendChild(n),this._renderedRulers.push(n),o--}return}let w=y-m;for(;w>0;){const b=this._renderedRulers.pop();this.domNode.removeChild(b),w--}}render(y){this._ensureRulersCount();for(let m=0,w=this._rulers.length;m<w;m++){const b=this._renderedRulers[m],C=this._rulers[m];b.setBoxShadow(C.color?`1px 0 0 0 ${C.color} inset`:""),b.setHeight(Math.min(y.scrollHeight,1e6)),b.setLeft(C.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=L}),define(ne[577],se([1,0,40,56,476]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class L extends k.ViewPart{constructor(y){super(y),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const w=this._context.configuration.options.get(103);this._useShadows=w.useShadows,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const y=this._useShadows&&this._scrollTop>0;return this._shouldShow!==y?(this._shouldShow=y,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const m=this._context.configuration.options.get(145);m.minimap.renderMinimap===0||m.minimap.minimapWidth>0&&m.minimap.minimapLeft===0?this._width=m.width:this._width=m.width-m.verticalScrollbarWidth}onConfigurationChanged(y){const w=this._context.configuration.options.get(103);return this._useShadows=w.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(y){return this._scrollTop=y.scrollTop,this._updateShouldShow()}prepareRender(y){}render(y){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=L}),define(ne[578],se([1,0,40,9,56,10]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const y=()=>{throw new Error("Invalid change accessor")};class m extends L.ViewPart{constructor(C){super(C);const o=this._context.configuration.options,n=o.get(145);this._lineHeight=o.get(67),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,f.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const C=this._context.viewLayout.getWhitespaces(),o=new Map;for(const i of C)o.set(i.id,i);let n=!1;return this._context.viewModel.changeWhitespace(i=>{const t=Object.keys(this._zones);for(let s=0,c=t.length;s<c;s++){const g=t[s],l=this._zones[g],r=this._computeWhitespaceProps(l.delegate);l.isInHiddenArea=r.isInHiddenArea;const d=o.get(g);d&&(d.afterLineNumber!==r.afterViewLineNumber||d.height!==r.heightInPx)&&(i.changeOneWhitespace(g,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(l.delegate,r.heightInPx),n=!0)}}),n}onConfigurationChanged(C){const o=this._context.configuration.options,n=o.get(145);return this._lineHeight=o.get(67),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,C.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(C){return this._recomputeWhitespacesProps()}onLinesDeleted(C){return!0}onScrollChanged(C){return C.scrollTopChanged||C.scrollWidthChanged}onZonesChanged(C){return!0}onLinesInserted(C){return!0}_getZoneOrdinal(C){var o,n;return(n=(o=C.ordinal)!==null&&o!==void 0?o:C.afterColumn)!==null&&n!==void 0?n:1e4}_computeWhitespaceProps(C){if(C.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(C),minWidthInPx:this._minWidthInPixels(C)};let o;if(typeof C.afterColumn<"u")o=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:C.afterColumn});else{const s=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:1}).lineNumber;o=new D.Position(s,this._context.viewModel.model.getLineMaxColumn(s))}let n;o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?n=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):n=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,C.afterColumnAffinity,!0),t=C.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!t,afterViewLineNumber:i.lineNumber,heightInPx:t?this._heightInPixels(C):0,minWidthInPx:this._minWidthInPixels(C)}}changeViewZones(C){let o=!1;return this._context.viewModel.changeWhitespace(n=>{const i={addZone:t=>(o=!0,this._addZone(n,t)),removeZone:t=>{t&&(o=this._removeZone(n,t)||o)},layoutZone:t=>{t&&(o=this._layoutZone(n,t)||o)}};w(C,i),i.addZone=y,i.removeZone=y,i.layoutZone=y}),o}_addZone(C,o){const n=this._computeWhitespaceProps(o),t={whitespaceId:C.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(o),n.heightInPx,n.minWidthInPx),delegate:o,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:(0,f.createFastDomNode)(o.domNode),marginDomNode:o.marginDomNode?(0,f.createFastDomNode)(o.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,n.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId]=t,this.setShouldRender(),t.whitespaceId}_removeZone(C,o){if(this._zones.hasOwnProperty(o)){const n=this._zones[o];return delete this._zones[o],C.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(C,o){if(this._zones.hasOwnProperty(o)){const n=this._zones[o],i=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=i.isInHiddenArea,C.changeOneWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(C){return this._zones.hasOwnProperty(C)?!!this._zones[C].delegate.suppressMouseDown:!1}_heightInPixels(C){return typeof C.heightInPx=="number"?C.heightInPx:typeof C.heightInLines=="number"?this._lineHeight*C.heightInLines:this._lineHeight}_minWidthInPixels(C){return typeof C.minWidthInPx=="number"?C.minWidthInPx:0}_safeCallOnComputedHeight(C,o){if(typeof C.onComputedHeight=="function")try{C.onComputedHeight(o)}catch(n){(0,k.onUnexpectedError)(n)}}_safeCallOnDomNodeTop(C,o){if(typeof C.onDomNodeTop=="function")try{C.onDomNodeTop(o)}catch(n){(0,k.onUnexpectedError)(n)}}prepareRender(C){}render(C){const o=C.viewportData.whitespaceViewportData,n={};let i=!1;for(const s of o)this._zones[s.id].isInHiddenArea||(n[s.id]=s,i=!0);const t=Object.keys(this._zones);for(let s=0,c=t.length;s<c;s++){const g=t[s],l=this._zones[g];let r=0,d=0,u="none";n.hasOwnProperty(g)?(r=n[g].verticalOffset-C.bigNumbersDelta,d=n[g].height,u="block",l.isVisible||(l.domNode.setAttribute("monaco-visible-view-zone","true"),l.isVisible=!0),this._safeCallOnDomNodeTop(l.delegate,C.getScrolledTopFromAbsoluteTop(n[g].verticalOffset))):(l.isVisible&&(l.domNode.removeAttribute("monaco-visible-view-zone"),l.isVisible=!1),this._safeCallOnDomNodeTop(l.delegate,C.getScrolledTopFromAbsoluteTop(-1e6))),l.domNode.setTop(r),l.domNode.setHeight(d),l.domNode.setDisplay(u),l.marginDomNode&&(l.marginDomNode.setTop(r),l.marginDomNode.setHeight(d),l.marginDomNode.setDisplay(u))}i&&(this.domNode.setWidth(Math.max(C.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=m;function w(b,C){try{return b(C)}catch(o){(0,k.onUnexpectedError)(o)}}}),define(ne[239],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class f{constructor(){this.type=0}}e.ViewCompositionStartEvent=f;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class L{constructor(u){this.type=2,this._source=u}hasChanged(u){return this._source.hasChanged(u)}}e.ViewConfigurationChangedEvent=L;class D{constructor(u,a,v){this.selections=u,this.modelSelections=a,this.reason=v,this.type=3}}e.ViewCursorStateChangedEvent=D;class y{constructor(u){this.type=4,u?(this.affectsMinimap=u.affectsMinimap,this.affectsOverviewRuler=u.affectsOverviewRuler,this.affectsGlyphMargin=u.affectsGlyphMargin,this.affectsLineNumber=u.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}e.ViewDecorationsChangedEvent=y;class m{constructor(){this.type=5}}e.ViewFlushedEvent=m;class w{constructor(u){this.type=6,this.isFocused=u}}e.ViewFocusChangedEvent=w;class b{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=b;class C{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=C;class o{constructor(u,a){this.fromLineNumber=u,this.count=a,this.type=9}}e.ViewLinesChangedEvent=o;class n{constructor(u,a){this.type=10,this.fromLineNumber=u,this.toLineNumber=a}}e.ViewLinesDeletedEvent=n;class i{constructor(u,a){this.type=11,this.fromLineNumber=u,this.toLineNumber=a}}e.ViewLinesInsertedEvent=i;class t{constructor(u,a,v,h,p,_,S){this.source=u,this.minimalReveal=a,this.range=v,this.selections=h,this.verticalType=p,this.revealHorizontal=_,this.scrollType=S,this.type=12}}e.ViewRevealRangeRequestEvent=t;class s{constructor(u){this.type=13,this.scrollWidth=u.scrollWidth,this.scrollLeft=u.scrollLeft,this.scrollHeight=u.scrollHeight,this.scrollTop=u.scrollTop,this.scrollWidthChanged=u.scrollWidthChanged,this.scrollLeftChanged=u.scrollLeftChanged,this.scrollHeightChanged=u.scrollHeightChanged,this.scrollTopChanged=u.scrollTopChanged}}e.ViewScrollChangedEvent=s;class c{constructor(u){this.theme=u,this.type=14}}e.ViewThemeChangedEvent=c;class g{constructor(u){this.type=15,this.ranges=u}}e.ViewTokensChangedEvent=g;class l{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=l;class r{constructor(){this.type=17}}e.ViewZonesChangedEvent=r}),define(ne[146],se([1,0,11]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(w,b,C,o){this.startColumn=w,this.endColumn=b,this.className=C,this.type=o,this._lineDecorationBrand=void 0}static _equals(w,b){return w.startColumn===b.startColumn&&w.endColumn===b.endColumn&&w.className===b.className&&w.type===b.type}static equalsArr(w,b){const C=w.length,o=b.length;if(C!==o)return!1;for(let n=0;n<C;n++)if(!k._equals(w[n],b[n]))return!1;return!0}static extractWrapped(w,b,C){if(w.length===0)return w;const o=b+1,n=C+1,i=C-b,t=[];let s=0;for(const c of w)c.endColumn<=o||c.startColumn>=n||(t[s++]=new k(Math.max(1,c.startColumn-o+1),Math.min(i+1,c.endColumn-o+1),c.className,c.type));return t}static filter(w,b,C,o){if(w.length===0)return[];const n=[];let i=0;for(let t=0,s=w.length;t<s;t++){const c=w[t],g=c.range;if(g.endLineNumber<b||g.startLineNumber>b||g.isEmpty()&&(c.type===0||c.type===3))continue;const l=g.startLineNumber===b?g.startColumn:C,r=g.endLineNumber===b?g.endColumn:o;n[i++]=new k(l,r,c.inlineClassName,c.type)}return n}static _typeCompare(w,b){const C=[2,0,1,3];return C[w]-C[b]}static compare(w,b){if(w.startColumn!==b.startColumn)return w.startColumn-b.startColumn;if(w.endColumn!==b.endColumn)return w.endColumn-b.endColumn;const C=k._typeCompare(w.type,b.type);return C!==0?C:w.className!==b.className?w.className<b.className?-1:1:0}}e.LineDecoration=k;class L{constructor(w,b,C,o){this.startOffset=w,this.endOffset=b,this.className=C,this.metadata=o}}e.DecorationSegment=L;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(w){let b=0;for(let C=0,o=w.length;C<o;C++)b|=w[C];return b}consumeLowerThan(w,b,C){for(;this.count>0&&this.stopOffsets[0]<w;){let o=0;for(;o+1<this.count&&this.stopOffsets[o]===this.stopOffsets[o+1];)o++;C.push(new L(b,this.stopOffsets[o],this.classNames.join(" "),D._metadata(this.metadata))),b=this.stopOffsets[o]+1,this.stopOffsets.splice(0,o+1),this.classNames.splice(0,o+1),this.metadata.splice(0,o+1),this.count-=o+1}return this.count>0&&b<w&&(C.push(new L(b,w-1,this.classNames.join(" "),D._metadata(this.metadata))),b=w),b}insert(w,b,C){if(this.count===0||this.stopOffsets[this.count-1]<=w)this.stopOffsets.push(w),this.classNames.push(b),this.metadata.push(C);else for(let o=0;o<this.count;o++)if(this.stopOffsets[o]>=w){this.stopOffsets.splice(o,0,w),this.classNames.splice(o,0,b),this.metadata.splice(o,0,C);break}this.count++}}class y{static normalize(w,b){if(b.length===0)return[];const C=[],o=new D;let n=0;for(let i=0,t=b.length;i<t;i++){const s=b[i];let c=s.startColumn,g=s.endColumn;const l=s.className,r=s.type===1?2:s.type===2?4:0;if(c>1){const a=w.charCodeAt(c-2);f.isHighSurrogate(a)&&c--}if(g>1){const a=w.charCodeAt(g-2);f.isHighSurrogate(a)&&g--}const d=c-1,u=g-2;n=o.consumeLowerThan(d,n,C),o.count===0&&(n=d),o.insert(u,l,r)}return o.consumeLowerThan(1073741824,n,C),C}}e.LineDecorationsNormalizer=y}),define(ne[579],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class f{constructor(L,D,y,m){this.endIndex=L,this.type=D,this.metadata=y,this.containsRTL=m,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=f}),define(ne[580],se([1,0,11]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(m){this._hasPending=!0,this._inserts.push(m)}change(m){this._hasPending=!0,this._changes.push(m)}remove(m){this._hasPending=!0,this._removes.push(m)}mustCommit(){return this._hasPending}commit(m){if(!this._hasPending)return;const w=this._inserts,b=this._changes,C=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],m._commitPendingChanges(w,b,C)}}class L{constructor(m,w,b,C,o){this.id=m,this.afterLineNumber=w,this.ordinal=b,this.height=C,this.minWidth=o,this.prefixSum=0}}e.EditorWhitespace=L;class D{constructor(m,w,b,C){this._instanceId=f.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=m,this._lineHeight=w,this._paddingTop=b,this._paddingBottom=C}static findInsertionIndex(m,w,b){let C=0,o=m.length;for(;C<o;){const n=C+o>>>1;w===m[n].afterLineNumber?b<m[n].ordinal?o=n:C=n+1:w<m[n].afterLineNumber?o=n:C=n+1}return C}setLineHeight(m){this._checkPendingChanges(),this._lineHeight=m}setPadding(m,w){this._paddingTop=m,this._paddingBottom=w}onFlushed(m){this._checkPendingChanges(),this._lineCount=m}changeWhitespace(m){let w=!1;try{m({insertWhitespace:(C,o,n,i)=>{w=!0,C=C|0,o=o|0,n=n|0,i=i|0;const t=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new L(t,C,o,n,i)),t},changeOneWhitespace:(C,o,n)=>{w=!0,o=o|0,n=n|0,this._pendingChanges.change({id:C,newAfterLineNumber:o,newHeight:n})},removeWhitespace:C=>{w=!0,this._pendingChanges.remove({id:C})}})}finally{this._pendingChanges.commit(this)}return w}_commitPendingChanges(m,w,b){if((m.length>0||b.length>0)&&(this._minWidth=-1),m.length+w.length+b.length<=1){for(const t of m)this._insertWhitespace(t);for(const t of w)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of b){const s=this._findWhitespaceIndex(t.id);s!==-1&&this._removeWhitespace(s)}return}const C=new Set;for(const t of b)C.add(t.id);const o=new Map;for(const t of w)o.set(t.id,t);const n=t=>{const s=[];for(const c of t)if(!C.has(c.id)){if(o.has(c.id)){const g=o.get(c.id);c.afterLineNumber=g.newAfterLineNumber,c.height=g.newHeight}s.push(c)}return s},i=n(this._arr).concat(n(m));i.sort((t,s)=>t.afterLineNumber===s.afterLineNumber?t.ordinal-s.ordinal:t.afterLineNumber-s.afterLineNumber),this._arr=i,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(m){const w=D.findInsertionIndex(this._arr,m.afterLineNumber,m.ordinal);this._arr.splice(w,0,m),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,w-1)}_findWhitespaceIndex(m){const w=this._arr;for(let b=0,C=w.length;b<C;b++)if(w[b].id===m)return b;return-1}_changeOneWhitespace(m,w,b){const C=this._findWhitespaceIndex(m);if(C!==-1&&(this._arr[C].height!==b&&(this._arr[C].height=b,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)),this._arr[C].afterLineNumber!==w)){const o=this._arr[C];this._removeWhitespace(C),o.afterLineNumber=w,this._insertWhitespace(o)}}_removeWhitespace(m){this._arr.splice(m,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}onLinesDeleted(m,w){this._checkPendingChanges(),m=m|0,w=w|0,this._lineCount-=w-m+1;for(let b=0,C=this._arr.length;b<C;b++){const o=this._arr[b].afterLineNumber;m<=o&&o<=w?this._arr[b].afterLineNumber=m-1:o>w&&(this._arr[b].afterLineNumber-=w-m+1)}}onLinesInserted(m,w){this._checkPendingChanges(),m=m|0,w=w|0,this._lineCount+=w-m+1;for(let b=0,C=this._arr.length;b<C;b++){const o=this._arr[b].afterLineNumber;m<=o&&(this._arr[b].afterLineNumber+=w-m+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(m){this._checkPendingChanges(),m=m|0;let w=Math.max(0,this._prefixSumValidIndex+1);w===0&&(this._arr[0].prefixSum=this._arr[0].height,w++);for(let b=w;b<=m;b++)this._arr[b].prefixSum=this._arr[b-1].prefixSum+this._arr[b].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,m),this._arr[m].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const m=this._lineHeight*this._lineCount,w=this.getWhitespacesTotalHeight();return m+w+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(m){this._checkPendingChanges(),m=m|0;const w=this._findLastWhitespaceBeforeLineNumber(m);return w===-1?0:this.getWhitespacesAccumulatedHeight(w)}_findLastWhitespaceBeforeLineNumber(m){m=m|0;const w=this._arr;let b=0,C=w.length-1;for(;b<=C;){const n=(C-b|0)/2|0,i=b+n|0;if(w[i].afterLineNumber<m){if(i+1>=w.length||w[i+1].afterLineNumber>=m)return i;b=i+1|0}else C=i-1|0}return-1}_findFirstWhitespaceAfterLineNumber(m){m=m|0;const b=this._findLastWhitespaceBeforeLineNumber(m)+1;return b<this._arr.length?b:-1}getFirstWhitespaceIndexAfterLineNumber(m){return this._checkPendingChanges(),m=m|0,this._findFirstWhitespaceAfterLineNumber(m)}getVerticalOffsetForLineNumber(m,w=!1){this._checkPendingChanges(),m=m|0;let b;m>1?b=this._lineHeight*(m-1):b=0;const C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m-(w?1:0));return b+C+this._paddingTop}getVerticalOffsetAfterLineNumber(m,w=!1){this._checkPendingChanges(),m=m|0;const b=this._lineHeight*m,C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m+(w?1:0));return b+C+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let m=0;for(let w=0,b=this._arr.length;w<b;w++)m=Math.max(m,this._arr[w].minWidth);this._minWidth=m}return this._minWidth}isAfterLines(m){this._checkPendingChanges();const w=this.getLinesTotalHeight();return m>w}isInTopPadding(m){return this._paddingTop===0?!1:(this._checkPendingChanges(),m<this._paddingTop)}isInBottomPadding(m){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const w=this.getLinesTotalHeight();return m>=w-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(m){if(this._checkPendingChanges(),m=m|0,m<0)return 1;const w=this._lineCount|0,b=this._lineHeight;let C=1,o=w;for(;C<o;){const n=(C+o)/2|0,i=this.getVerticalOffsetForLineNumber(n)|0;if(m>=i+b)C=n+1;else{if(m>=i)return n;o=n}}return C>w?w:C}getLinesViewportData(m,w){this._checkPendingChanges(),m=m|0,w=w|0;const b=this._lineHeight,C=this.getLineNumberAtOrAfterVerticalOffset(m)|0,o=this.getVerticalOffsetForLineNumber(C)|0;let n=this._lineCount|0,i=this.getFirstWhitespaceIndexAfterLineNumber(C)|0;const t=this.getWhitespacesCount()|0;let s,c;i===-1?(i=t,c=n+1,s=0):(c=this.getAfterLineNumberForWhitespaceIndex(i)|0,s=this.getHeightForWhitespaceIndex(i)|0);let g=o,l=g;const r=5e5;let d=0;o>=r&&(d=Math.floor(o/r)*r,d=Math.floor(d/b)*b,l-=d);const u=[],a=m+(w-m)/2;let v=-1;for(let S=C;S<=n;S++){if(v===-1){const E=g,I=g+b;(E<=a&&a<I||E>a)&&(v=S)}for(g+=b,u[S-C]=l,l+=b;c===S;)l+=s,g+=s,i++,i>=t?c=n+1:(c=this.getAfterLineNumberForWhitespaceIndex(i)|0,s=this.getHeightForWhitespaceIndex(i)|0);if(g>=w){n=S;break}}v===-1&&(v=n);const h=this.getVerticalOffsetForLineNumber(n)|0;let p=C,_=n;return p<_&&o<m&&p++,p<_&&h+b>w&&_--,{bigNumbersDelta:d,startLineNumber:C,endLineNumber:n,relativeVerticalOffset:u,centeredLineNumber:v,completelyVisibleStartLineNumber:p,completelyVisibleEndLineNumber:_,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(m){this._checkPendingChanges(),m=m|0;const w=this.getAfterLineNumberForWhitespaceIndex(m);let b;w>=1?b=this._lineHeight*w:b=0;let C;return m>0?C=this.getWhitespacesAccumulatedHeight(m-1):C=0,b+C+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(m){this._checkPendingChanges(),m=m|0;let w=0,b=this.getWhitespacesCount()-1;if(b<0)return-1;const C=this.getVerticalOffsetForWhitespaceIndex(b),o=this.getHeightForWhitespaceIndex(b);if(m>=C+o)return-1;for(;w<b;){const n=Math.floor((w+b)/2),i=this.getVerticalOffsetForWhitespaceIndex(n),t=this.getHeightForWhitespaceIndex(n);if(m>=i+t)w=n+1;else{if(m>=i)return n;b=n}}return w}getWhitespaceAtVerticalOffset(m){this._checkPendingChanges(),m=m|0;const w=this.getWhitespaceIndexAtOrAfterVerticallOffset(m);if(w<0||w>=this.getWhitespacesCount())return null;const b=this.getVerticalOffsetForWhitespaceIndex(w);if(b>m)return null;const C=this.getHeightForWhitespaceIndex(w),o=this.getIdForWhitespaceIndex(w),n=this.getAfterLineNumberForWhitespaceIndex(w);return{id:o,afterLineNumber:n,verticalOffset:b,height:C}}getWhitespaceViewportData(m,w){this._checkPendingChanges(),m=m|0,w=w|0;const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(m),C=this.getWhitespacesCount()-1;if(b<0)return[];const o=[];for(let n=b;n<=C;n++){const i=this.getVerticalOffsetForWhitespaceIndex(n),t=this.getHeightForWhitespaceIndex(n);if(i>=w)break;o.push({id:this.getIdForWhitespaceIndex(n),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(n),verticalOffset:i,height:t})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].id}getAfterLineNumberForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].afterLineNumber}getHeightForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(ne[581],se([1,0,5]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(D,y,m,w){this.selections=D,this.startLineNumber=y.startLineNumber|0,this.endLineNumber=y.endLineNumber|0,this.relativeVerticalOffset=y.relativeVerticalOffset,this.bigNumbersDelta=y.bigNumbersDelta|0,this.lineHeight=y.lineHeight|0,this.whitespaceViewportData=m,this._model=w,this.visibleRange=new f.Range(y.startLineNumber,this._model.getLineMinColumn(y.startLineNumber),y.endLineNumber,this._model.getLineMaxColumn(y.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(ne[92],se([1,0,13,11,5]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class D{constructor(t,s,c,g){this._viewportBrand=void 0,this.top=t|0,this.left=s|0,this.width=c|0,this.height=g|0}}e.Viewport=D;class y{constructor(t,s){this.tabSize=t,this.data=s}}e.MinimapLinesRenderingData=y;class m{constructor(t,s,c,g,l,r,d){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=s,this.minColumn=c,this.maxColumn=g,this.startVisibleColumn=l,this.tokens=r,this.inlineDecorations=d}}e.ViewLineData=m;class w{constructor(t,s,c,g,l,r,d,u,a,v){this.minColumn=t,this.maxColumn=s,this.content=c,this.continuesWithWrappedLine=g,this.isBasicASCII=w.isBasicASCII(c,r),this.containsRTL=w.containsRTL(c,this.isBasicASCII,l),this.tokens=d,this.inlineDecorations=u,this.tabSize=a,this.startVisibleColumn=v}static isBasicASCII(t,s){return s?k.isBasicASCII(t):!0}static containsRTL(t,s,c){return!s&&c?k.containsRTL(t):!1}}e.ViewLineRenderingData=w;class b{constructor(t,s,c){this.range=t,this.inlineClassName=s,this.type=c}}e.InlineDecoration=b;class C{constructor(t,s,c,g){this.startOffset=t,this.endOffset=s,this.inlineClassName=c,this.inlineClassNameAffectsLetterSpacing=g}toInlineDecoration(t){return new b(new L.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=C;class o{constructor(t,s){this._viewModelDecorationBrand=void 0,this.range=t,this.options=s}}e.ViewModelDecoration=o;class n{constructor(t,s,c){this.color=t,this.zIndex=s,this.data=c}static compareByRenderingProps(t,s){return t.zIndex===s.zIndex?t.color<s.color?-1:t.color>s.color?1:0:t.zIndex-s.zIndex}static equals(t,s){return t.color===s.color&&t.zIndex===s.zIndex&&f.equals(t.data,s.data)}static equalsArr(t,s){return f.equals(t,s,n.equals)}}e.OverviewRulerDecorationsGroup=n}),define(ne[582],se([1,0,42]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginLanesModel=void 0;const k=f.GlyphMarginLane.Right;class L{constructor(y){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((y+1)*k/8))}reset(y){const m=Math.ceil((y+1)*k/8);this.lanes.length<m?this.lanes=new Uint8Array(m):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(y,m,w){w&&(this.persist|=1<<y-1);for(let b=m.startLineNumber;b<=m.endLineNumber;b++){const C=k*b+(y-1);this.lanes[C>>>3]|=1<<C%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(b))}}getLanesAtLine(y){const m=[];let w=k*y;for(let b=0;b<k;b++)(this.persist&1<<b||this.lanes[w>>>3]&1<<w%8)&&m.push(b+1),w++;return m.length?m:[f.GlyphMarginLane.Center]}countAtLine(y){let m=k*y,w=0;for(let b=0;b<k;b++)(this.persist&1<<b||this.lanes[m>>>3]&1<<m%8)&&w++,m++;return w}}e.GlyphMarginLanesModel=L}),define(ne[583],se([1,0,91,10,129,92]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=y;function y(i,t){return i===null?t?w.INSTANCE:b.INSTANCE:new m(i,t)}class m{constructor(t,s){this._projectionData=t,this._isVisible=s}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,s,c){this._assertVisible();const g=c>0?this._projectionData.breakOffsets[c-1]:0,l=this._projectionData.breakOffsets[c];let r;if(this._projectionData.injectionOffsets!==null){const d=this._projectionData.injectionOffsets.map((a,v)=>new L.LineInjectedText(0,0,a+1,this._projectionData.injectionOptions[v],0));r=L.LineInjectedText.applyInjectedText(t.getLineContent(s),d).substring(g,l)}else r=t.getValueInRange({startLineNumber:s,startColumn:g+1,endLineNumber:s,endColumn:l+1});return c>0&&(r=o(this._projectionData.wrappedTextIndentLength)+r),r}getViewLineLength(t,s,c){return this._assertVisible(),this._projectionData.getLineLength(c)}getViewLineMinColumn(t,s,c){return this._assertVisible(),this._projectionData.getMinOutputOffset(c)+1}getViewLineMaxColumn(t,s,c){return this._assertVisible(),this._projectionData.getMaxOutputOffset(c)+1}getViewLineData(t,s,c){const g=new Array;return this.getViewLinesData(t,s,c,1,0,[!0],g),g[0]}getViewLinesData(t,s,c,g,l,r,d){this._assertVisible();const u=this._projectionData,a=u.injectionOffsets,v=u.injectionOptions;let h=null;if(a){h=[];let _=0,S=0;for(let E=0;E<u.getOutputLineCount();E++){const I=new Array;h[E]=I;const T=E>0?u.breakOffsets[E-1]:0,N=u.breakOffsets[E];for(;S<a.length;){const A=v[S].content.length,R=a[S]+_,M=R+A;if(R>N)break;if(T<M){const P=v[S];if(P.inlineClassName){const F=E>0?u.wrappedTextIndentLength:0,O=F+Math.max(R-T,0),B=F+Math.min(M-T,N-T);O!==B&&I.push(new D.SingleLineInlineDecoration(O,B,P.inlineClassName,P.inlineClassNameAffectsLetterSpacing))}}if(M<=N)_+=A,S++;else break}}}let p;a?p=t.tokenization.getLineTokens(s).withInserted(a.map((_,S)=>({offset:_,text:v[S].content,tokenMetadata:f.LineTokens.defaultTokenMetadata}))):p=t.tokenization.getLineTokens(s);for(let _=c;_<c+g;_++){const S=l+_-c;if(!r[S]){d[S]=null;continue}d[S]=this._getViewLineData(p,h?h[_]:null,_)}}_getViewLineData(t,s,c){this._assertVisible();const g=this._projectionData,l=c>0?g.wrappedTextIndentLength:0,r=c>0?g.breakOffsets[c-1]:0,d=g.breakOffsets[c],u=t.sliceAndInflate(r,d,l);let a=u.getLineContent();c>0&&(a=o(g.wrappedTextIndentLength)+a);const v=this._projectionData.getMinOutputOffset(c)+1,h=a.length+1,p=c+1<this.getViewLineCount(),_=c===0?0:g.breakOffsetsVisibleColumn[c-1];return new D.ViewLineData(a,p,v,h,_,u,s)}getModelColumnOfViewPosition(t,s){return this._assertVisible(),this._projectionData.translateToInputOffset(t,s-1)+1}getViewPositionOfModelPosition(t,s,c=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(s-1,c).toPosition(t)}getViewLineNumberOfModelPosition(t,s){this._assertVisible();const c=this._projectionData.translateToOutputPosition(s-1);return t+c.outputLineIndex}normalizePosition(t,s,c){const g=s.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,s.column-1,c).toPosition(g)}getInjectedTextAt(t,s){return this._projectionData.getInjectedText(t,s-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class w{constructor(){}isVisible(){return!0}setVisible(t){return t?this:b.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,s,c){return t.getLineContent(s)}getViewLineLength(t,s,c){return t.getLineLength(s)}getViewLineMinColumn(t,s,c){return t.getLineMinColumn(s)}getViewLineMaxColumn(t,s,c){return t.getLineMaxColumn(s)}getViewLineData(t,s,c){const g=t.tokenization.getLineTokens(s),l=g.getLineContent();return new D.ViewLineData(l,!1,1,l.length+1,0,g.inflate(),null)}getViewLinesData(t,s,c,g,l,r,d){if(!r[l]){d[l]=null;return}d[l]=this.getViewLineData(t,s,0)}getModelColumnOfViewPosition(t,s){return s}getViewPositionOfModelPosition(t,s){return new k.Position(t,s)}getViewLineNumberOfModelPosition(t,s){return t}normalizePosition(t,s,c){return s}getInjectedTextAt(t,s){return null}}w.INSTANCE=new w;class b{constructor(){}isVisible(){return!1}setVisible(t){return t?w.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,s,c){throw new Error("Not supported")}getViewLineLength(t,s,c){throw new Error("Not supported")}getViewLineMinColumn(t,s,c){throw new Error("Not supported")}getViewLineMaxColumn(t,s,c){throw new Error("Not supported")}getViewLineData(t,s,c){throw new Error("Not supported")}getViewLinesData(t,s,c,g,l,r,d){throw new Error("Not supported")}getModelColumnOfViewPosition(t,s){throw new Error("Not supported")}getViewPositionOfModelPosition(t,s){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,s){throw new Error("Not supported")}normalizePosition(t,s,c){throw new Error("Not supported")}getInjectedTextAt(t,s){throw new Error("Not supported")}}b.INSTANCE=new b;const C=[""];function o(i){if(i>=C.length)for(let t=1;t<=i;t++)C[t]=n(t);return C[i]}function n(i){return new Array(i+1).join(" ")}}),define(ne[584],se([1,0,11,140,129,318]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class y{static create(g){return new y(g.get(134),g.get(133))}constructor(g,l){this.classifier=new m(g,l)}createLineBreaksComputer(g,l,r,d,u){const a=[],v=[],h=[];return{addRequest:(p,_,S)=>{a.push(p),v.push(_),h.push(S)},finalize:()=>{const p=g.typicalFullwidthCharacterWidth/g.typicalHalfwidthCharacterWidth,_=[];for(let S=0,E=a.length;S<E;S++){const I=v[S],T=h[S];T&&!T.injectionOptions&&!I?_[S]=C(this.classifier,T,a[S],l,r,p,d,u):_[S]=o(this.classifier,a[S],I,l,r,p,d,u)}return w.length=0,b.length=0,_}}}}e.MonospaceLineBreaksComputerFactory=y;class m extends k.CharacterClassifier{constructor(g,l){super(0);for(let r=0;r<g.length;r++)this.set(g.charCodeAt(r),1);for(let r=0;r<l.length;r++)this.set(l.charCodeAt(r),2)}get(g){return g>=0&&g<256?this._asciiMap[g]:g>=12352&&g<=12543||g>=13312&&g<=19903||g>=19968&&g<=40959?3:this._map.get(g)||this._defaultValue}}let w=[],b=[];function C(c,g,l,r,d,u,a,v){if(d===-1)return null;const h=l.length;if(h<=1)return null;const p=v==="keepAll",_=g.breakOffsets,S=g.breakOffsetsVisibleColumn,E=s(l,r,d,u,a),I=d-E,T=w,N=b;let A=0,R=0,M=0,P=d;const F=_.length;let O=0;if(O>=0){let B=Math.abs(S[O]-P);for(;O+1<F;){const V=Math.abs(S[O+1]-P);if(V>=B)break;B=V,O++}}for(;O<F;){let B=O<0?0:_[O],V=O<0?0:S[O];R>B&&(B=R,V=M);let K=0,U=0,G=0,z=0;if(V<=P){let J=V,ee=B===0?0:l.charCodeAt(B-1),Z=B===0?0:c.get(ee),x=!0;for(let Y=B;Y<h;Y++){const ae=Y,ue=l.charCodeAt(Y);let he,pe;if(f.isHighSurrogate(ue)?(Y++,he=0,pe=2):(he=c.get(ue),pe=n(ue,J,r,u)),ae>R&&t(ee,Z,ue,he,p)&&(K=ae,U=J),J+=pe,J>P){ae>R?(G=ae,z=J-pe):(G=Y+1,z=J),J-U>I&&(K=0),x=!1;break}ee=ue,Z=he}if(x){A>0&&(T[A]=_[_.length-1],N[A]=S[_.length-1],A++);break}}if(K===0){let J=V,ee=l.charCodeAt(B),Z=c.get(ee),x=!1;for(let Y=B-1;Y>=R;Y--){const ae=Y+1,ue=l.charCodeAt(Y);if(ue===9){x=!0;break}let he,pe;if(f.isLowSurrogate(ue)?(Y--,he=0,pe=2):(he=c.get(ue),pe=f.isFullWidthCharacter(ue)?u:1),J<=P){if(G===0&&(G=ae,z=J),J<=P-I)break;if(t(ue,he,ee,Z,p)){K=ae,U=J;break}}J-=pe,ee=ue,Z=he}if(K!==0){const Y=I-(z-U);if(Y<=r){const ae=l.charCodeAt(G);let ue;f.isHighSurrogate(ae)?ue=2:ue=n(ae,z,r,u),Y-ue<0&&(K=0)}}if(x){O--;continue}}if(K===0&&(K=G,U=z),K<=R){const J=l.charCodeAt(R);f.isHighSurrogate(J)?(K=R+2,U=M+2):(K=R+1,U=M+n(J,M,r,u))}for(R=K,T[A]=K,M=U,N[A]=U,A++,P=U+I;O<0||O<F&&S[O]<U;)O++;let $=Math.abs(S[O]-P);for(;O+1<F;){const J=Math.abs(S[O+1]-P);if(J>=$)break;$=J,O++}}return A===0?null:(T.length=A,N.length=A,w=g.breakOffsets,b=g.breakOffsetsVisibleColumn,g.breakOffsets=T,g.breakOffsetsVisibleColumn=N,g.wrappedTextIndentLength=E,g)}function o(c,g,l,r,d,u,a,v){const h=L.LineInjectedText.applyInjectedText(g,l);let p,_;if(l&&l.length>0?(p=l.map(U=>U.options),_=l.map(U=>U.column-1)):(p=null,_=null),d===-1)return p?new D.ModelLineProjectionData(_,p,[h.length],[],0):null;const S=h.length;if(S<=1)return p?new D.ModelLineProjectionData(_,p,[h.length],[],0):null;const E=v==="keepAll",I=s(h,r,d,u,a),T=d-I,N=[],A=[];let R=0,M=0,P=0,F=d,O=h.charCodeAt(0),B=c.get(O),V=n(O,0,r,u),K=1;f.isHighSurrogate(O)&&(V+=1,O=h.charCodeAt(1),B=c.get(O),K++);for(let U=K;U<S;U++){const G=U,z=h.charCodeAt(U);let $,J;f.isHighSurrogate(z)?(U++,$=0,J=2):($=c.get(z),J=n(z,V,r,u)),t(O,B,z,$,E)&&(M=G,P=V),V+=J,V>F&&((M===0||V-P>T)&&(M=G,P=V-J),N[R]=M,A[R]=P,R++,F=P+T,M=0),O=z,B=$}return R===0&&(!l||l.length===0)?null:(N[R]=S,A[R]=V,new D.ModelLineProjectionData(_,p,N,A,I))}function n(c,g,l,r){return c===9?l-g%l:f.isFullWidthCharacter(c)||c<32?r:1}function i(c,g){return g-c%g}function t(c,g,l,r,d){return l!==32&&(g===2&&r!==2||g!==1&&r===1||!d&&g===3&&r!==2||!d&&r===3&&g!==1)}function s(c,g,l,r,d){let u=0;if(d!==0){const a=f.firstNonWhitespaceIndex(c);if(a!==-1){for(let h=0;h<a;h++){const p=c.charCodeAt(h)===9?i(u,g):1;u+=p}const v=d===3?2:d===2?1:0;for(let h=0;h<v;h++){const p=i(u,g);u+=p}u+r>l&&(u=0)}}return u}}),define(ne[324],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class f{constructor(y,m,w){this._colorZoneBrand=void 0,this.from=y|0,this.to=m|0,this.colorId=w|0}static compare(y,m){return y.colorId===m.colorId?y.from===m.from?y.to-m.to:y.from-m.from:y.colorId-m.colorId}}e.ColorZone=f;class k{constructor(y,m,w,b){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=m,this.heightInLines=w,this.color=b,this._colorZone=null}static compare(y,m){return y.color===m.color?y.startLineNumber===m.startLineNumber?y.heightInLines===m.heightInLines?y.endLineNumber-m.endLineNumber:y.heightInLines-m.heightInLines:y.startLineNumber-m.startLineNumber:y.color<m.color?-1:1}setColorZone(y){this._colorZone=y}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class L{constructor(y){this._getVerticalOffsetForLine=y,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(y){this._zones=y,this._zones.sort(k.compare)}setLineHeight(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}setPixelRatio(y){this._pixelRatio=y,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const y=this._colorZonesInvalid,m=Math.floor(this._lineHeight),w=Math.floor(this.getCanvasHeight()),b=Math.floor(this._outerHeight),C=w/b,o=Math.floor(4*this._pixelRatio/2),n=[];for(let i=0,t=this._zones.length;i<t;i++){const s=this._zones[i];if(!y){const p=s.getColorZones();if(p){n.push(p);continue}}const c=this._getVerticalOffsetForLine(s.startLineNumber),g=s.heightInLines===0?this._getVerticalOffsetForLine(s.endLineNumber)+m:c+s.heightInLines*m,l=Math.floor(C*c),r=Math.floor(C*g);let d=Math.floor((l+r)/2),u=r-d;u<o&&(u=o),d-u<0&&(d=u),d+u>w&&(d=w-u);const a=s.color;let v=this._color2Id[a];v||(v=++this._lastAssignedId,this._color2Id[a]=v,this._id2Color[v]=a);const h=new f(d-u,d+u,v);s.setColorZone(h),n.push(h)}return this._colorZonesInvalid=!1,n.sort(f.compare),n}}e.OverviewZoneManager=L}),define(ne[585],se([1,0,40,324,166]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends L.ViewEventHandler{constructor(m,w){super(),this._context=m;const b=this._context.configuration.options;this._domNode=(0,f.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(w),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(C=>this._context.viewLayout.getVerticalOffsetForLineNumber(C)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(b.get(67)),this._zoneManager.setPixelRatio(b.get(143)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(m){const w=this._context.configuration.options;return m.hasChanged(67)&&(this._zoneManager.setLineHeight(w.get(67)),this._render()),m.hasChanged(143)&&(this._zoneManager.setPixelRatio(w.get(143)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(m){return this._render(),!0}onScrollChanged(m){return m.scrollHeightChanged&&(this._zoneManager.setOuterHeight(m.scrollHeight),this._render()),!0}onZonesChanged(m){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(m){this._domNode.setTop(m.top),this._domNode.setRight(m.right);let w=!1;w=this._zoneManager.setDOMWidth(m.width)||w,w=this._zoneManager.setDOMHeight(m.height)||w,w&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(m){this._zoneManager.setZones(m),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const m=this._zoneManager.getCanvasWidth(),w=this._zoneManager.getCanvasHeight(),b=this._zoneManager.resolveColorZones(),C=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,m,w),b.length>0&&this._renderOneLane(o,b,C,m),!0}_renderOneLane(m,w,b,C){let o=0,n=0,i=0;for(const t of w){const s=t.colorId,c=t.from,g=t.to;s!==o?(m.fillRect(0,n,C,i-n),o=s,m.fillStyle=b[o],n=c,i=g):i>=c?i=Math.max(i,g):(m.fillRect(0,n,C,i-n),n=c,i=g)}m.fillRect(0,n,C,i-n)}}e.OverviewRuler=D}),define(ne[586],se([1,0,543]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(D,y,m){this.configuration=D,this.theme=new f.EditorTheme(y),this.viewModel=m,this.viewLayout=m.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=k}),define(ne[240],se([1,0,7,2]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class L extends k.Disposable{constructor(){super(),this._onEvent=this._register(new f.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(d){this._addOutgoingEvent(d),this._emitOutgoingEvents()}_addOutgoingEvent(d){for(let u=0,a=this._outgoingEvents.length;u<a;u++){const v=this._outgoingEvents[u].kind===d.kind?this._outgoingEvents[u].attemptToMerge(d):null;if(v){this._outgoingEvents[u]=v;return}}this._outgoingEvents.push(d)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const d=this._outgoingEvents.shift();d.isNoOp()||this._onEvent.fire(d)}}addViewEventHandler(d){for(let u=0,a=this._eventHandlers.length;u<a;u++)this._eventHandlers[u]===d&&console.warn("Detected duplicate listener in ViewEventDispatcher",d);this._eventHandlers.push(d)}removeViewEventHandler(d){for(let u=0;u<this._eventHandlers.length;u++)if(this._eventHandlers[u]===d){this._eventHandlers.splice(u,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const d=this._collector.outgoingEvents,u=this._collector.viewEvents;this._collector=null;for(const a of d)this._addOutgoingEvent(a);u.length>0&&this._emitMany(u)}this._emitOutgoingEvents()}emitSingleViewEvent(d){try{this.beginEmitViewEvents().emitViewEvent(d)}finally{this.endEmitViewEvents()}}_emitMany(d){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(d):this._viewEventQueue=d,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const d=this._viewEventQueue;this._viewEventQueue=null;const u=this._eventHandlers.slice(0);for(const a of u)a.handleEvents(d)}}}e.ViewModelEventDispatcher=L;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(d){this.viewEvents.push(d)}emitOutgoingEvent(d){this.outgoingEvents.push(d)}}e.ViewModelEventsCollector=D;class y{constructor(d,u,a,v){this.kind=0,this._oldContentWidth=d,this._oldContentHeight=u,this.contentWidth=a,this.contentHeight=v,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(d){return d.kind!==this.kind?null:new y(this._oldContentWidth,this._oldContentHeight,d.contentWidth,d.contentHeight)}}e.ContentSizeChangedEvent=y;class m{constructor(d,u){this.kind=1,this.oldHasFocus=d,this.hasFocus=u}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(d){return d.kind!==this.kind?null:new m(this.oldHasFocus,d.hasFocus)}}e.FocusChangedEvent=m;class w{constructor(d,u,a,v,h,p,_,S){this.kind=2,this._oldScrollWidth=d,this._oldScrollLeft=u,this._oldScrollHeight=a,this._oldScrollTop=v,this.scrollWidth=h,this.scrollLeft=p,this.scrollHeight=_,this.scrollTop=S,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(d){return d.kind!==this.kind?null:new w(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,d.scrollWidth,d.scrollLeft,d.scrollHeight,d.scrollTop)}}e.ScrollChangedEvent=w;class b{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(d){return d.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=b;class C{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(d){return d.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=C;class o{constructor(d,u,a,v,h,p,_){this.kind=6,this.oldSelections=d,this.selections=u,this.oldModelVersionId=a,this.modelVersionId=v,this.source=h,this.reason=p,this.reachedMaxCursorCount=_}static _selectionsAreEqual(d,u){if(!d&&!u)return!0;if(!d||!u)return!1;const a=d.length,v=u.length;if(a!==v)return!1;for(let h=0;h<a;h++)if(!d[h].equalsSelection(u[h]))return!1;return!0}isNoOp(){return o._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(d){return d.kind!==this.kind?null:new o(this.oldSelections,d.selections,this.oldModelVersionId,d.modelVersionId,d.source,d.reason,this.reachedMaxCursorCount||d.reachedMaxCursorCount)}}e.CursorStateChangedEvent=o;class n{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(d){return d.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=n;class i{constructor(d){this.event=d,this.kind=7}isNoOp(){return!1}attemptToMerge(d){return null}}e.ModelDecorationsChangedEvent=i;class t{constructor(d){this.event=d,this.kind=8}isNoOp(){return!1}attemptToMerge(d){return null}}e.ModelLanguageChangedEvent=t;class s{constructor(d){this.event=d,this.kind=9}isNoOp(){return!1}attemptToMerge(d){return null}}e.ModelLanguageConfigurationChangedEvent=s;class c{constructor(d){this.event=d,this.kind=10}isNoOp(){return!1}attemptToMerge(d){return null}}e.ModelContentChangedEvent=c;class g{constructor(d){this.event=d,this.kind=11}isNoOp(){return!1}attemptToMerge(d){return null}}e.ModelOptionsChangedEvent=g;class l{constructor(d){this.event=d,this.kind=12}isNoOp(){return!1}attemptToMerge(d){return null}}e.ModelTokensChangedEvent=l}),define(ne[587],se([1,0,7,2,158,580,92,240]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const w=125;class b{constructor(i,t,s,c){i=i|0,t=t|0,s=s|0,c=c|0,i<0&&(i=0),t<0&&(t=0),s<0&&(s=0),c<0&&(c=0),this.width=i,this.contentWidth=t,this.scrollWidth=Math.max(i,t),this.height=s,this.contentHeight=c,this.scrollHeight=Math.max(s,c)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class C extends k.Disposable{constructor(i,t){super(),this._onDidContentSizeChange=this._register(new f.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new b(0,0,0,0),this._scrollable=this._register(new L.Scrollable({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const t=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const s=t.contentWidth!==i.contentWidth,c=t.contentHeight!==i.contentHeight;(s||c)&&this._onDidContentSizeChange.fire(new m.ContentSizeChangedEvent(t.contentWidth,t.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class o extends k.Disposable{constructor(i,t,s){super(),this._configuration=i;const c=this._configuration.options,g=c.get(145),l=c.get(84);this._linesLayout=new D.LinesLayout(t,c.get(67),l.top,l.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new C(0,s)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new b(g.contentWidth,0,g.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?w:0)}onConfigurationChanged(i){const t=this._configuration.options;if(i.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),i.hasChanged(84)){const s=t.get(84);this._linesLayout.setPadding(s.top,s.bottom)}if(i.hasChanged(145)){const s=t.get(145),c=s.contentWidth,g=s.height,l=this._scrollable.getScrollDimensions(),r=l.contentWidth;this._scrollable.setScrollDimensions(new b(c,l.contentWidth,g,this._getContentHeight(c,g,r)))}else this._updateHeight();i.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,t){this._linesLayout.onLinesDeleted(i,t)}onLinesInserted(i,t){this._linesLayout.onLinesInserted(i,t)}_getHorizontalScrollbarHeight(i,t){const c=this._configuration.options.get(103);return c.horizontal===2||i>=t?0:c.horizontalScrollbarSize}_getContentHeight(i,t,s){const c=this._configuration.options;let g=this._linesLayout.getLinesTotalHeight();return c.get(105)?g+=Math.max(0,t-c.get(67)-c.get(84).bottom):c.get(103).ignoreHorizontalScrollbarInContentHeight||(g+=this._getHorizontalScrollbarHeight(i,s)),g}_updateHeight(){const i=this._scrollable.getScrollDimensions(),t=i.width,s=i.height,c=i.contentWidth;this._scrollable.setScrollDimensions(new b(t,i.contentWidth,s,this._getContentHeight(t,s,c)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new y.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new y.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}_computeContentWidth(){const i=this._configuration.options,t=this._maxLineWidth,s=i.get(146),c=i.get(50),g=i.get(145);if(s.isViewportWrapping){const l=i.get(73);return t>g.contentWidth+c.typicalHalfwidthCharacterWidth&&l.enabled&&l.side==="right"?t+g.verticalScrollbarWidth:t}else{const l=i.get(104)*c.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+l+g.verticalScrollbarWidth,r,this._overlayWidgetsMinWidth)}}setMaxLineWidth(i){this._maxLineWidth=i,this._updateContentWidth()}setOverlayWidgetsMinWidth(i){this._overlayWidgetsMinWidth=i,this._updateContentWidth()}_updateContentWidth(){const i=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new b(i.width,this._computeContentWidth(),i.height,i.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),t=i.scrollTop,s=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),c=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(s);return{scrollTop:t,scrollTopWithoutViewZones:t-c,scrollLeft:i.scrollLeft}}changeWhitespace(i){const t=this._linesLayout.changeWhitespace(i);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,t)}getVerticalOffsetAfterLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,t)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const t=this._scrollable.getScrollDimensions();return i+t.height>t.scrollHeight&&(i=t.scrollHeight-t.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+t.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,t){t===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(i,t){const s=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:s.scrollLeft+i,scrollTop:s.scrollTop+t})}}e.ViewLayout=o}),define(ne[588],se([1,0,5,24]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class L{constructor(y,m){this._selection=y,this._isMovingLeft=m}getEditOperations(y,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const w=this._selection.startLineNumber,b=this._selection.startColumn,C=this._selection.endColumn;if(!(this._isMovingLeft&&b===1)&&!(!this._isMovingLeft&&C===y.getLineMaxColumn(w)))if(this._isMovingLeft){const o=new f.Range(w,b-1,w,b),n=y.getValueInRange(o);m.addEditOperation(o,null),m.addEditOperation(new f.Range(w,C,w,C),n)}else{const o=new f.Range(w,C,w,C+1),n=y.getValueInRange(o);m.addEditOperation(o,null),m.addEditOperation(new f.Range(w,b,w,b),n)}}computeCursorState(y,m){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=L}),define(ne[131],se([1,0,9,88]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.CodeActionTriggerSource=e.CodeActionKind=void 0,e.mayIncludeActionsOfKind=D,e.filtersAction=y,e.CodeActionKind=new class{constructor(){this.QuickFix=new k.HierarchicalKind("quickfix"),this.Refactor=new k.HierarchicalKind("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new k.HierarchicalKind("notebook"),this.Source=new k.HierarchicalKind("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var L;(function(C){C.Refactor="refactor",C.RefactorPreview="refactor preview",C.Lightbulb="lightbulb",C.Default="other (default)",C.SourceAction="source action",C.QuickFix="quick fix action",C.FixAll="fix all",C.OrganizeImports="organize imports",C.AutoFix="auto fix",C.QuickFixHover="quick fix hover window",C.OnSave="save participants",C.ProblemsView="problems view"})(L||(e.CodeActionTriggerSource=L={}));function D(C,o){return!(C.include&&!C.include.intersects(o)||C.excludes&&C.excludes.some(n=>m(o,n,C.include))||!C.includeSourceActions&&e.CodeActionKind.Source.contains(o))}function y(C,o){const n=o.kind?new k.HierarchicalKind(o.kind):void 0;return!(C.include&&(!n||!C.include.contains(n))||C.excludes&&n&&C.excludes.some(i=>m(n,i,C.include))||!C.includeSourceActions&&n&&e.CodeActionKind.Source.contains(n)||C.onlyIncludePreferredActions&&!o.isPreferred)}function m(C,o,n){return!(!o.contains(C)||n&&o.contains(n))}class w{static fromUser(o,n){return!o||typeof o!="object"?new w(n.kind,n.apply,!1):new w(w.getKindFromUser(o,n.kind),w.getApplyFromUser(o,n.apply),w.getPreferredUser(o))}static getApplyFromUser(o,n){switch(typeof o.apply=="string"?o.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return n}}static getKindFromUser(o,n){return typeof o.kind=="string"?new k.HierarchicalKind(o.kind):n}static getPreferredUser(o){return typeof o.preferred=="boolean"?o.preferred:!1}constructor(o,n,i){this.kind=o,this.apply=n,this.preferred=i}}e.CodeActionCommandArgs=w;class b{constructor(o,n,i){this.action=o,this.provider=n,this.highlightRange=i}async resolve(o){var n;if(!((n=this.provider)===null||n===void 0)&&n.resolveCodeAction&&!this.action.edit){let i;try{i=await this.provider.resolveCodeAction(this.action,o)}catch(t){(0,f.onUnexpectedExternalError)(t)}i&&(this.action.edit=i.edit)}return this}}e.CodeActionItem=b}),define(ne[589],se([1,0,7]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,y,m){this.presentationIndex=m,this._onColorFlushed=new f.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new f.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new f.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=y}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,y){let m=-1;for(let w=0;w<this.colorPresentations.length;w++)if(y.toLowerCase()===this.colorPresentations[w].label){m=w;break}if(m===-1){const w=y.split("(")[0].toLowerCase();for(let b=0;b<this.colorPresentations.length;b++)if(this.colorPresentations[b].label.toLowerCase().startsWith(w)){m=b;break}}m!==-1&&m!==this.presentationIndex&&(this.presentationIndex=m,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(ne[325],se([1,0,73,10,5,24]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class y{constructor(w,b,C){this.languageConfigurationService=C,this._selection=w,this._insertSpace=b,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,b,C){if(C<0)return!1;const o=b.length,n=w.length;if(C+o>n)return!1;for(let i=0;i<o;i++){const t=w.charCodeAt(C+i),s=b.charCodeAt(i);if(t!==s&&!(t>=65&&t<=90&&t+32===s)&&!(s>=65&&s<=90&&s+32===t))return!1}return!0}_createOperationsForBlockComment(w,b,C,o,n,i){const t=w.startLineNumber,s=w.startColumn,c=w.endLineNumber,g=w.endColumn,l=n.getLineContent(t),r=n.getLineContent(c);let d=l.lastIndexOf(b,s-1+b.length),u=r.indexOf(C,g-1-C.length);if(d!==-1&&u!==-1)if(t===c)l.substring(d+b.length,u).indexOf(C)>=0&&(d=-1,u=-1);else{const v=l.substring(d+b.length),h=r.substring(0,u);(v.indexOf(C)>=0||h.indexOf(C)>=0)&&(d=-1,u=-1)}let a;d!==-1&&u!==-1?(o&&d+b.length<l.length&&l.charCodeAt(d+b.length)===32&&(b=b+" "),o&&u>0&&r.charCodeAt(u-1)===32&&(C=" "+C,u-=1),a=y._createRemoveBlockCommentOperations(new L.Range(t,d+b.length+1,c,u+1),b,C)):(a=y._createAddBlockCommentOperations(w,b,C,this._insertSpace),this._usedEndToken=a.length===1?C:null);for(const v of a)i.addTrackedEditOperation(v.range,v.text)}static _createRemoveBlockCommentOperations(w,b,C){const o=[];return L.Range.isEmpty(w)?o.push(f.EditOperation.delete(new L.Range(w.startLineNumber,w.startColumn-b.length,w.endLineNumber,w.endColumn+C.length))):(o.push(f.EditOperation.delete(new L.Range(w.startLineNumber,w.startColumn-b.length,w.startLineNumber,w.startColumn))),o.push(f.EditOperation.delete(new L.Range(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+C.length)))),o}static _createAddBlockCommentOperations(w,b,C,o){const n=[];return L.Range.isEmpty(w)?n.push(f.EditOperation.replace(new L.Range(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),b+"  "+C)):(n.push(f.EditOperation.insert(new k.Position(w.startLineNumber,w.startColumn),b+(o?" ":""))),n.push(f.EditOperation.insert(new k.Position(w.endLineNumber,w.endColumn),(o?" ":"")+C))),n}getEditOperations(w,b){const C=this._selection.startLineNumber,o=this._selection.startColumn;w.tokenization.tokenizeIfCheap(C);const n=w.getLanguageIdAtPosition(C,o),i=this.languageConfigurationService.getLanguageConfiguration(n).comments;!i||!i.blockCommentStartToken||!i.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,i.blockCommentStartToken,i.blockCommentEndToken,this._insertSpace,w,b)}computeCursorState(w,b){const C=b.getInverseEditOperations();if(C.length===2){const o=C[0],n=C[1];return new D.Selection(o.range.endLineNumber,o.range.endColumn,n.range.startLineNumber,n.range.startColumn)}else{const o=C[0].range,n=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(o.endLineNumber,o.endColumn+n,o.endLineNumber,o.endColumn+n)}}}e.BlockCommentCommand=y}),define(ne[590],se([1,0,11,73,10,5,24,325]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class w{constructor(C,o,n,i,t,s,c){this.languageConfigurationService=C,this._selection=o,this._indentSize=n,this._type=i,this._insertSpace=t,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=c||!1}static _gatherPreflightCommentStrings(C,o,n,i){C.tokenization.tokenizeIfCheap(o);const t=C.getLanguageIdAtPosition(o,1),s=i.getLanguageConfiguration(t).comments,c=s?s.lineCommentToken:null;if(!c)return null;const g=[];for(let l=0,r=n-o+1;l<r;l++)g[l]={ignore:!1,commentStr:c,commentStrOffset:0,commentStrLength:c.length};return g}static _analyzeLines(C,o,n,i,t,s,c,g){let l=!0,r;C===0?r=!0:C===1?r=!1:r=!0;for(let d=0,u=i.length;d<u;d++){const a=i[d],v=t+d;if(v===t&&c){a.ignore=!0;continue}const h=n.getLineContent(v),p=f.firstNonWhitespaceIndex(h);if(p===-1){a.ignore=s,a.commentStrOffset=h.length;continue}if(l=!1,a.ignore=!1,a.commentStrOffset=p,r&&!m.BlockCommentCommand._haystackHasNeedleAtOffset(h,a.commentStr,p)&&(C===0?r=!1:C===1||(a.ignore=!0)),r&&o){const _=p+a.commentStrLength;_<h.length&&h.charCodeAt(_)===32&&(a.commentStrLength+=1)}}if(C===0&&l){r=!1;for(let d=0,u=i.length;d<u;d++)i[d].ignore=!1}return{supported:!0,shouldRemoveComments:r,lines:i}}static _gatherPreflightData(C,o,n,i,t,s,c,g){const l=w._gatherPreflightCommentStrings(n,i,t,g);return l===null?{supported:!1}:w._analyzeLines(C,o,n,l,i,s,c,g)}_executeLineComments(C,o,n,i){let t;n.shouldRemoveComments?t=w._createRemoveLineCommentsOperations(n.lines,i.startLineNumber):(w._normalizeInsertionPoint(C,n.lines,i.startLineNumber,this._indentSize),t=this._createAddLineCommentsOperations(n.lines,i.startLineNumber));const s=new L.Position(i.positionLineNumber,i.positionColumn);for(let c=0,g=t.length;c<g;c++)o.addEditOperation(t[c].range,t[c].text),D.Range.isEmpty(t[c].range)&&D.Range.getStartPosition(t[c].range).equals(s)&&C.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(t[c].text||"").length);this._selectionId=o.trackSelection(i)}_attemptRemoveBlockComment(C,o,n,i){let t=o.startLineNumber,s=o.endLineNumber;const c=i.length+Math.max(C.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.startColumn);let g=C.getLineContent(t).lastIndexOf(n,c-1),l=C.getLineContent(s).indexOf(i,o.endColumn-1-n.length);return g!==-1&&l===-1&&(l=C.getLineContent(t).indexOf(i,g+n.length),s=t),g===-1&&l!==-1&&(g=C.getLineContent(s).lastIndexOf(n,l),t=s),o.isEmpty()&&(g===-1||l===-1)&&(g=C.getLineContent(t).indexOf(n),g!==-1&&(l=C.getLineContent(t).indexOf(i,g+n.length))),g!==-1&&C.getLineContent(t).charCodeAt(g+n.length)===32&&(n+=" "),l!==-1&&C.getLineContent(s).charCodeAt(l-1)===32&&(i=" "+i,l-=1),g!==-1&&l!==-1?m.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(t,g+n.length+1,s,l+1),n,i):null}_executeBlockComment(C,o,n){C.tokenization.tokenizeIfCheap(n.startLineNumber);const i=C.getLanguageIdAtPosition(n.startLineNumber,1),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;if(!t||!t.blockCommentStartToken||!t.blockCommentEndToken)return;const s=t.blockCommentStartToken,c=t.blockCommentEndToken;let g=this._attemptRemoveBlockComment(C,n,s,c);if(!g){if(n.isEmpty()){const l=C.getLineContent(n.startLineNumber);let r=f.firstNonWhitespaceIndex(l);r===-1&&(r=l.length),g=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,r+1,n.startLineNumber,l.length+1),s,c,this._insertSpace)}else g=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,C.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,C.getLineMaxColumn(n.endLineNumber)),s,c,this._insertSpace);g.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=o.trackSelection(n);for(const l of g)o.addEditOperation(l.range,l.text)}getEditOperations(C,o){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){o.addEditOperation(new D.Range(n.startLineNumber,C.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===C.getLineCount()?"":`
`),this._selectionId=o.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,C.getLineMaxColumn(n.endLineNumber-1)));const i=w._gatherPreflightData(this._type,this._insertSpace,C,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return i.supported?this._executeLineComments(C,o,i,n):this._executeBlockComment(C,o,n)}computeCursorState(C,o){let n=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new y.Selection(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(C,o){const n=[];for(let i=0,t=C.length;i<t;i++){const s=C[i];s.ignore||n.push(k.EditOperation.delete(new D.Range(o+i,s.commentStrOffset+1,o+i,s.commentStrOffset+s.commentStrLength+1)))}return n}_createAddLineCommentsOperations(C,o){const n=[],i=this._insertSpace?" ":"";for(let t=0,s=C.length;t<s;t++){const c=C[t];c.ignore||n.push(k.EditOperation.insert(new L.Position(o+t,c.commentStrOffset+1),c.commentStr+i))}return n}static nextVisibleColumn(C,o,n,i){return n?C+(o-C%o):C+i}static _normalizeInsertionPoint(C,o,n,i){let t=1073741824,s,c;for(let g=0,l=o.length;g<l;g++){if(o[g].ignore)continue;const r=C.getLineContent(n+g);let d=0;for(let u=0,a=o[g].commentStrOffset;d<t&&u<a;u++)d=w.nextVisibleColumn(d,i,r.charCodeAt(u)===9,1);d<t&&(t=d)}t=Math.floor(t/i)*i;for(let g=0,l=o.length;g<l;g++){if(o[g].ignore)continue;const r=C.getLineContent(n+g);let d=0;for(s=0,c=o[g].commentStrOffset;d<t&&s<c;s++)d=w.nextVisibleColumn(d,i,r.charCodeAt(s)===9,1);d>t?o[g].commentStrOffset=s-1:o[g].commentStrOffset=s}}}e.LineCommentCommand=w}),define(ne[591],se([1,0,5,24]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class L{constructor(y,m,w){this.selection=y,this.targetPosition=m,this.copy=w,this.targetSelection=null}getEditOperations(y,m){const w=y.getValueInRange(this.selection);if(this.copy||m.addEditOperation(this.selection,null),m.addEditOperation(new f.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),w),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(y,m){return this.targetSelection}}e.DragAndDropCommand=L}),define(ne[592],se([1,0,5]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(D,y,m){this._editorSelection=D,this._ranges=y,this._replaceStrings=m,this._trackedEditorSelectionId=null}getEditOperations(D,y){if(this._ranges.length>0){const m=[];for(let C=0;C<this._ranges.length;C++)m.push({range:this._ranges[C],text:this._replaceStrings[C]});m.sort((C,o)=>f.Range.compareRangesUsingStarts(C.range,o.range));const w=[];let b=m[0];for(let C=1;C<m.length;C++)b.range.endLineNumber===m[C].range.startLineNumber&&b.range.endColumn===m[C].range.startColumn?(b.range=b.range.plusRange(m[C].range),b.text=b.text+m[C].text):(w.push(b),b=m[C]);w.push(b);for(const C of w)y.addEditOperation(C.range,C.text)}this._trackedEditorSelectionId=y.trackSelection(this._editorSelection)}computeCursorState(D,y){return y.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(ne[593],se([1,0,437]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplacePiece=e.ReplacePattern=void 0,e.parseReplaceString=w;class k{constructor(C){this.staticValue=C,this.kind=0}}class L{constructor(C){this.pieces=C,this.kind=1}}class D{static fromStaticValue(C){return new D([y.staticValue(C)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(C){!C||C.length===0?this._state=new k(""):C.length===1&&C[0].staticValue!==null?this._state=new k(C[0].staticValue):this._state=new L(C)}buildReplaceString(C,o){if(this._state.kind===0)return o?(0,f.buildReplaceStringWithCasePreserved)(C,this._state.staticValue):this._state.staticValue;let n="";for(let i=0,t=this._state.pieces.length;i<t;i++){const s=this._state.pieces[i];if(s.staticValue!==null){n+=s.staticValue;continue}let c=D._substitute(s.matchIndex,C);if(s.caseOps!==null&&s.caseOps.length>0){const g=[],l=s.caseOps.length;let r=0;for(let d=0,u=c.length;d<u;d++){if(r>=l){g.push(c.slice(d));break}switch(s.caseOps[r]){case"U":g.push(c[d].toUpperCase());break;case"u":g.push(c[d].toUpperCase()),r++;break;case"L":g.push(c[d].toLowerCase());break;case"l":g.push(c[d].toLowerCase()),r++;break;default:g.push(c[d])}}c=g.join("")}n+=c}return n}static _substitute(C,o){if(o===null)return"";if(C===0)return o[0];let n="";for(;C>0;){if(C<o.length)return(o[C]||"")+n;n=String(C%10)+n,C=Math.floor(C/10)}return"$"+n}}e.ReplacePattern=D;class y{static staticValue(C){return new y(C,-1,null)}static caseOps(C,o){return new y(null,C,o)}constructor(C,o,n){this.staticValue=C,this.matchIndex=o,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}}e.ReplacePiece=y;class m{constructor(C){this._source=C,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(C){this._emitStatic(this._source.substring(this._lastCharIndex,C)),this._lastCharIndex=C}emitStatic(C,o){this._emitStatic(C),this._lastCharIndex=o}_emitStatic(C){C.length!==0&&(this._currentStaticPiece+=C)}emitMatchIndex(C,o,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=y.caseOps(C,n),this._lastCharIndex=o}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function w(b){if(!b||b.length===0)return new D(null);const C=[],o=new m(b);for(let n=0,i=b.length;n<i;n++){const t=b.charCodeAt(n);if(t===92){if(n++,n>=i)break;const s=b.charCodeAt(n);switch(s){case 92:o.emitUnchanged(n-1),o.emitStatic("\\",n+1);break;case 110:o.emitUnchanged(n-1),o.emitStatic(`
`,n+1);break;case 116:o.emitUnchanged(n-1),o.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:o.emitUnchanged(n-1),o.emitStatic("",n+1),C.push(String.fromCharCode(s));break}continue}if(t===36){if(n++,n>=i)break;const s=b.charCodeAt(n);if(s===36){o.emitUnchanged(n-1),o.emitStatic("$",n+1);continue}if(s===48||s===38){o.emitUnchanged(n-1),o.emitMatchIndex(0,n+1,C),C.length=0;continue}if(49<=s&&s<=57){let c=s-48;if(n+1<i){const g=b.charCodeAt(n+1);if(48<=g&&g<=57){n++,c=c*10+(g-48),o.emitUnchanged(n-2),o.emitMatchIndex(c,n+1,C),C.length=0;continue}}o.emitUnchanged(n-1),o.emitMatchIndex(c,n+1,C),C.length=0;continue}}}return o.finalize()}}),define(ne[198],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={0:" ",1:"u",2:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const f=4278190080;class k{constructor(m){const w=Math.ceil(m/32);this._states=new Uint32Array(w)}get(m){const w=m/32|0,b=m%32;return(this._states[w]&1<<b)!==0}set(m,w){const b=m/32|0,C=m%32,o=this._states[b];w?this._states[b]=o|1<<C:this._states[b]=o&~(1<<C)}}class L{constructor(m,w,b){if(m.length!==w.length||m.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=m,this._endIndexes=w,this._collapseStates=new k(m.length),this._userDefinedStates=new k(m.length),this._recoveredStates=new k(m.length),this._types=b,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const m=[],w=(b,C)=>{const o=m[m.length-1];return this.getStartLineNumber(o)<=b&&this.getEndLineNumber(o)>=C};for(let b=0,C=this._startIndexes.length;b<C;b++){const o=this._startIndexes[b],n=this._endIndexes[b];if(o>e.MAX_LINE_NUMBER||n>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;m.length>0&&!w(o,n);)m.pop();const i=m.length>0?m[m.length-1]:-1;m.push(b),this._startIndexes[b]=o+((i&255)<<24),this._endIndexes[b]=n+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(m){return this._startIndexes[m]&e.MAX_LINE_NUMBER}getEndLineNumber(m){return this._endIndexes[m]&e.MAX_LINE_NUMBER}getType(m){return this._types?this._types[m]:void 0}hasTypes(){return!!this._types}isCollapsed(m){return this._collapseStates.get(m)}setCollapsed(m,w){this._collapseStates.set(m,w)}isUserDefined(m){return this._userDefinedStates.get(m)}setUserDefined(m,w){return this._userDefinedStates.set(m,w)}isRecovered(m){return this._recoveredStates.get(m)}setRecovered(m,w){return this._recoveredStates.set(m,w)}getSource(m){return this.isUserDefined(m)?1:this.isRecovered(m)?2:0}setSource(m,w){w===1?(this.setUserDefined(m,!0),this.setRecovered(m,!1)):w===2?(this.setUserDefined(m,!1),this.setRecovered(m,!0)):(this.setUserDefined(m,!1),this.setRecovered(m,!1))}setCollapsedAllOfType(m,w){let b=!1;if(this._types)for(let C=0;C<this._types.length;C++)this._types[C]===m&&(this.setCollapsed(C,w),b=!0);return b}toRegion(m){return new D(this,m)}getParentIndex(m){this.ensureParentIndices();const w=((this._startIndexes[m]&f)>>>24)+((this._endIndexes[m]&f)>>>16);return w===e.MAX_FOLDING_REGIONS?-1:w}contains(m,w){return this.getStartLineNumber(m)<=w&&this.getEndLineNumber(m)>=w}findIndex(m){let w=0,b=this._startIndexes.length;if(b===0)return-1;for(;w<b;){const C=Math.floor((w+b)/2);m<this.getStartLineNumber(C)?b=C:w=C+1}return w-1}findRange(m){let w=this.findIndex(m);if(w>=0){if(this.getEndLineNumber(w)>=m)return w;for(w=this.getParentIndex(w);w!==-1;){if(this.contains(w,m))return w;w=this.getParentIndex(w)}}return-1}toString(){const m=[];for(let w=0;w<this.length;w++)m[w]=`[${e.foldSourceAbbr[this.getSource(w)]}${this.isCollapsed(w)?"+":"-"}] ${this.getStartLineNumber(w)}/${this.getEndLineNumber(w)}`;return m.join(", ")}toFoldRange(m){return{startLineNumber:this._startIndexes[m]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[m]&e.MAX_LINE_NUMBER,type:this._types?this._types[m]:void 0,isCollapsed:this.isCollapsed(m),source:this.getSource(m)}}static fromFoldRanges(m){const w=m.length,b=new Uint32Array(w),C=new Uint32Array(w);let o=[],n=!1;for(let t=0;t<w;t++){const s=m[t];b[t]=s.startLineNumber,C[t]=s.endLineNumber,o.push(s.type),s.type&&(n=!0)}n||(o=void 0);const i=new L(b,C,o);for(let t=0;t<w;t++)m[t].isCollapsed&&i.setCollapsed(t,!0),i.setSource(t,m[t].source);return i}static sanitizeAndMerge(m,w,b){b=b??Number.MAX_VALUE;const C=(u,a)=>Array.isArray(u)?v=>v<a?u[v]:void 0:v=>v<a?u.toFoldRange(v):void 0,o=C(m,m.length),n=C(w,w.length);let i=0,t=0,s=o(0),c=n(0);const g=[];let l,r=0;const d=[];for(;s||c;){let u;if(c&&(!s||s.startLineNumber>=c.startLineNumber))s&&s.startLineNumber===c.startLineNumber?(c.source===1?u=c:(u=s,u.isCollapsed=c.isCollapsed&&s.endLineNumber===c.endLineNumber,u.source=0),s=o(++i)):(u=c,c.isCollapsed&&c.source===0&&(u.source=2)),c=n(++t);else{let a=t,v=c;for(;;){if(!v||v.startLineNumber>s.endLineNumber){u=s;break}if(v.source===1&&v.endLineNumber>s.endLineNumber)break;v=n(++a)}s=o(++i)}if(u){for(;l&&l.endLineNumber<u.startLineNumber;)l=g.pop();u.endLineNumber>u.startLineNumber&&u.startLineNumber>r&&u.endLineNumber<=b&&(!l||l.endLineNumber>=u.endLineNumber)&&(d.push(u),r=u.startLineNumber,l&&g.push(l),l=u)}}return d}}e.FoldingRegions=L;class D{constructor(m,w){this.ranges=m,this.index=w}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(m){return m.startLineNumber<=this.startLineNumber&&m.endLineNumber>=this.endLineNumber}containsLine(m){return this.startLineNumber<=m&&m<=this.endLineNumber}}e.FoldingRegion=D}),define(ne[326],se([1,0,7,198,127]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingModel=void 0,e.toggleCollapseState=y,e.setCollapseStateLevelsDown=m,e.setCollapseStateLevelsUp=w,e.setCollapseStateUp=b,e.setCollapseStateAtLevel=C,e.setCollapseStateForRest=o,e.setCollapseStateForMatchingLines=n,e.setCollapseStateForType=i,e.getParentFoldLine=t,e.getPreviousFoldLine=s,e.getNextFoldLine=c;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(l,r){this._updateEventEmitter=new f.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=l,this._decorationProvider=r,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(l){if(!l.length)return;l=l.sort((d,u)=>d.regionIndex-u.regionIndex);const r={};this._decorationProvider.changeDecorations(d=>{let u=0,a=-1,v=-1;const h=p=>{for(;u<p;){const _=this._regions.getEndLineNumber(u),S=this._regions.isCollapsed(u);if(_<=a){const E=this.regions.getSource(u)!==0;d.changeDecorationOptions(this._editorDecorationIds[u],this._decorationProvider.getDecorationOption(S,_<=v,E))}S&&_>v&&(v=_),u++}};for(const p of l){const _=p.regionIndex,S=this._editorDecorationIds[_];if(S&&!r[S]){r[S]=!0,h(_);const E=!this._regions.isCollapsed(_);this._regions.setCollapsed(_,E),a=Math.max(a,this._regions.getEndLineNumber(_))}}h(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:l})}removeManualRanges(l){const r=new Array,d=u=>{for(const a of l)if(!(a.startLineNumber>u.endLineNumber||u.startLineNumber>a.endLineNumber))return!0;return!1};for(let u=0;u<this._regions.length;u++){const a=this._regions.toFoldRange(u);(a.source===0||!d(a))&&r.push(a)}this.updatePost(k.FoldingRegions.fromFoldRanges(r))}update(l,r=[]){const d=this._currentFoldedOrManualRanges(r),u=k.FoldingRegions.sanitizeAndMerge(l,d,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(u))}updatePost(l){const r=[];let d=-1;for(let u=0,a=l.length;u<a;u++){const v=l.getStartLineNumber(u),h=l.getEndLineNumber(u),p=l.isCollapsed(u),_=l.getSource(u)!==0,S={startLineNumber:v,startColumn:this._textModel.getLineMaxColumn(v),endLineNumber:h,endColumn:this._textModel.getLineMaxColumn(h)+1};r.push({range:S,options:this._decorationProvider.getDecorationOption(p,h<=d,_)}),p&&h>d&&(d=h)}this._decorationProvider.changeDecorations(u=>this._editorDecorationIds=u.deltaDecorations(this._editorDecorationIds,r)),this._regions=l,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(l=[]){const r=(u,a)=>{for(const v of l)if(u<v&&v<=a)return!0;return!1},d=[];for(let u=0,a=this._regions.length;u<a;u++){let v=this.regions.isCollapsed(u);const h=this.regions.getSource(u);if(v||h!==0){const p=this._regions.toFoldRange(u),_=this._textModel.getDecorationRange(this._editorDecorationIds[u]);_&&(v&&r(_.startLineNumber,_.endLineNumber)&&(v=!1),d.push({startLineNumber:_.startLineNumber,endLineNumber:_.endLineNumber,type:p.type,isCollapsed:v,source:h}))}}return d}getMemento(){const l=this._currentFoldedOrManualRanges(),r=[],d=this._textModel.getLineCount();for(let u=0,a=l.length;u<a;u++){const v=l[u];if(v.startLineNumber>=v.endLineNumber||v.startLineNumber<1||v.endLineNumber>d)continue;const h=this._getLinesChecksum(v.startLineNumber+1,v.endLineNumber);r.push({startLineNumber:v.startLineNumber,endLineNumber:v.endLineNumber,isCollapsed:v.isCollapsed,source:v.source,checksum:h})}return r.length>0?r:void 0}applyMemento(l){var r,d;if(!Array.isArray(l))return;const u=[],a=this._textModel.getLineCount();for(const h of l){if(h.startLineNumber>=h.endLineNumber||h.startLineNumber<1||h.endLineNumber>a)continue;const p=this._getLinesChecksum(h.startLineNumber+1,h.endLineNumber);(!h.checksum||p===h.checksum)&&u.push({startLineNumber:h.startLineNumber,endLineNumber:h.endLineNumber,type:void 0,isCollapsed:(r=h.isCollapsed)!==null&&r!==void 0?r:!0,source:(d=h.source)!==null&&d!==void 0?d:0})}const v=k.FoldingRegions.sanitizeAndMerge(this._regions,u,a);this.updatePost(k.FoldingRegions.fromFoldRanges(v))}_getLinesChecksum(l,r){return(0,L.hash)(this._textModel.getLineContent(l)+this._textModel.getLineContent(r))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(l,r){const d=[];if(this._regions){let u=this._regions.findRange(l),a=1;for(;u>=0;){const v=this._regions.toRegion(u);(!r||r(v,a))&&d.push(v),a++,u=v.parentIndex}}return d}getRegionAtLine(l){if(this._regions){const r=this._regions.findRange(l);if(r>=0)return this._regions.toRegion(r)}return null}getRegionsInside(l,r){const d=[],u=l?l.regionIndex+1:0,a=l?l.endLineNumber:Number.MAX_VALUE;if(r&&r.length===2){const v=[];for(let h=u,p=this._regions.length;h<p;h++){const _=this._regions.toRegion(h);if(this._regions.getStartLineNumber(h)<a){for(;v.length>0&&!_.containedBy(v[v.length-1]);)v.pop();v.push(_),r(_,v.length)&&d.push(_)}else break}}else for(let v=u,h=this._regions.length;v<h;v++){const p=this._regions.toRegion(v);if(this._regions.getStartLineNumber(v)<a)(!r||r(p))&&d.push(p);else break}return d}}e.FoldingModel=D;function y(g,l,r){const d=[];for(const u of r){const a=g.getRegionAtLine(u);if(a){const v=!a.isCollapsed;if(d.push(a),l>1){const h=g.getRegionsInside(a,(p,_)=>p.isCollapsed!==v&&_<l);d.push(...h)}}}g.toggleCollapseState(d)}function m(g,l,r=Number.MAX_VALUE,d){const u=[];if(d&&d.length>0)for(const a of d){const v=g.getRegionAtLine(a);if(v&&(v.isCollapsed!==l&&u.push(v),r>1)){const h=g.getRegionsInside(v,(p,_)=>p.isCollapsed!==l&&_<r);u.push(...h)}}else{const a=g.getRegionsInside(null,(v,h)=>v.isCollapsed!==l&&h<r);u.push(...a)}g.toggleCollapseState(u)}function w(g,l,r,d){const u=[];for(const a of d){const v=g.getAllRegionsAtLine(a,(h,p)=>h.isCollapsed!==l&&p<=r);u.push(...v)}g.toggleCollapseState(u)}function b(g,l,r){const d=[];for(const u of r){const a=g.getAllRegionsAtLine(u,v=>v.isCollapsed!==l);a.length>0&&d.push(a[0])}g.toggleCollapseState(d)}function C(g,l,r,d){const u=(v,h)=>h===l&&v.isCollapsed!==r&&!d.some(p=>v.containsLine(p)),a=g.getRegionsInside(null,u);g.toggleCollapseState(a)}function o(g,l,r){const d=[];for(const v of r){const h=g.getAllRegionsAtLine(v,void 0);h.length>0&&d.push(h[0])}const u=v=>d.every(h=>!h.containedBy(v)&&!v.containedBy(h))&&v.isCollapsed!==l,a=g.getRegionsInside(null,u);g.toggleCollapseState(a)}function n(g,l,r){const d=g.textModel,u=g.regions,a=[];for(let v=u.length-1;v>=0;v--)if(r!==u.isCollapsed(v)){const h=u.getStartLineNumber(v);l.test(d.getLineContent(h))&&a.push(u.toRegion(v))}g.toggleCollapseState(a)}function i(g,l,r){const d=g.regions,u=[];for(let a=d.length-1;a>=0;a--)r!==d.isCollapsed(a)&&l===d.getType(a)&&u.push(d.toRegion(a));g.toggleCollapseState(u)}function t(g,l){let r=null;const d=l.getRegionAtLine(g);if(d!==null&&(r=d.startLineNumber,g===r)){const u=d.parentIndex;u!==-1?r=l.regions.getStartLineNumber(u):r=null}return r}function s(g,l){let r=l.getRegionAtLine(g);if(r!==null&&r.startLineNumber===g){if(g!==r.startLineNumber)return r.startLineNumber;{const d=r.parentIndex;let u=0;for(d!==-1&&(u=l.regions.getStartLineNumber(r.parentIndex));r!==null;)if(r.regionIndex>0){if(r=l.regions.toRegion(r.regionIndex-1),r.startLineNumber<=u)return null;if(r.parentIndex===d)return r.startLineNumber}else return null}}else if(l.regions.length>0)for(r=l.regions.toRegion(l.regions.length-1);r!==null;){if(r.startLineNumber<g)return r.startLineNumber;r.regionIndex>0?r=l.regions.toRegion(r.regionIndex-1):r=null}return null}function c(g,l){let r=l.getRegionAtLine(g);if(r!==null&&r.startLineNumber===g){const d=r.parentIndex;let u=0;if(d!==-1)u=l.regions.getEndLineNumber(r.parentIndex);else{if(l.regions.length===0)return null;u=l.regions.getEndLineNumber(l.regions.length-1)}for(;r!==null;)if(r.regionIndex<l.regions.length){if(r=l.regions.toRegion(r.regionIndex+1),r.startLineNumber>=u)return null;if(r.parentIndex===d)return r.startLineNumber}else return null}else if(l.regions.length>0)for(r=l.regions.toRegion(0);r!==null;){if(r.startLineNumber>g)return r.startLineNumber;r.regionIndex<l.regions.length?r=l.regions.toRegion(r.regionIndex+1):r=null}return null}}),define(ne[594],se([1,0,68,7,5,141]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class y{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(C){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=C,this._foldingModelListener=C.onDidChange(o=>this.updateHiddenRanges()),this._hiddenRanges=[],C.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(C){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=C.changes.some(o=>o.range.endLineNumber!==o.range.startLineNumber||(0,D.countEOL)(o.text)[0]!==0))}updateHiddenRanges(){let C=!1;const o=[];let n=0,i=0,t=Number.MAX_VALUE,s=-1;const c=this._foldingModel.regions;for(;n<c.length;n++){if(!c.isCollapsed(n))continue;const g=c.getStartLineNumber(n)+1,l=c.getEndLineNumber(n);t<=g&&l<=s||(!C&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===g&&this._hiddenRanges[i].endLineNumber===l?(o.push(this._hiddenRanges[i]),i++):(C=!0,o.push(new L.Range(g,1,l,1))),t=g,s=l)}(this._hasLineChanges||C||i<this._hiddenRanges.length)&&this.applyHiddenRanges(o)}applyHiddenRanges(C){this._hiddenRanges=C,this._hasLineChanges=!1,this._updateEventEmitter.fire(C)}hasRanges(){return this._hiddenRanges.length>0}isHidden(C){return w(this._hiddenRanges,C)!==null}adjustSelections(C){let o=!1;const n=this._foldingModel.textModel;let i=null;const t=s=>((!i||!m(s,i))&&(i=w(this._hiddenRanges,s)),i?i.startLineNumber-1:null);for(let s=0,c=C.length;s<c;s++){let g=C[s];const l=t(g.startLineNumber);l&&(g=g.setStartPosition(l,n.getLineMaxColumn(l)),o=!0);const r=t(g.endLineNumber);r&&(g=g.setEndPosition(r,n.getLineMaxColumn(r)),o=!0),C[s]=g}return o}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=y;function m(b,C){return b>=C.startLineNumber&&b<=C.endLineNumber}function w(b,C){const o=(0,f.findFirstIdxMonotonousOrArrLen)(b,n=>C<n.startLineNumber)-1;return o>=0&&b[o].endLineNumber>=C?b[o]:null}}),define(ne[327],se([1,0,233,198]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangesCollector=e.IndentRangeProvider=void 0,e.computeRanges=b;const L=5e3,D="indent";class y{constructor(o,n,i){this.editorModel=o,this.languageConfigurationService=n,this.foldingRangesLimit=i,this.id=D}dispose(){}compute(o){const n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=n&&!!n.offSide,t=n&&n.markers;return Promise.resolve(b(this.editorModel,i,t,this.foldingRangesLimit))}}e.IndentRangeProvider=y;class m{constructor(o){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=o}insertFirst(o,n,i){if(o>k.MAX_LINE_NUMBER||n>k.MAX_LINE_NUMBER)return;const t=this._length;this._startIndexes[t]=o,this._endIndexes[t]=n,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(o){const n=this._foldingRangesLimit.limit;if(this._length<=n){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let s=this._length-1,c=0;s>=0;s--,c++)i[c]=this._startIndexes[s],t[c]=this._endIndexes[s];return new k.FoldingRegions(i,t)}else{this._foldingRangesLimit.update(this._length,n);let i=0,t=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){const r=this._indentOccurrences[l];if(r){if(r+i>n){t=l;break}i+=r}}const s=o.getOptions().tabSize,c=new Uint32Array(n),g=new Uint32Array(n);for(let l=this._length-1,r=0;l>=0;l--){const d=this._startIndexes[l],u=o.getLineContent(d),a=(0,f.computeIndentLevel)(u,s);(a<t||a===t&&i++<n)&&(c[r]=d,g[r]=this._endIndexes[l],r++)}return new k.FoldingRegions(c,g)}}}e.RangesCollector=m;const w={limit:L,update:()=>{}};function b(C,o,n,i=w){const t=C.getOptions().tabSize,s=new m(i);let c;n&&(c=new RegExp(`(${n.start.source})|(?:${n.end.source})`));const g=[],l=C.getLineCount()+1;g.push({indent:-1,endAbove:l,line:l});for(let r=C.getLineCount();r>0;r--){const d=C.getLineContent(r),u=(0,f.computeIndentLevel)(d,t);let a=g[g.length-1];if(u===-1){o&&(a.endAbove=r);continue}let v;if(c&&(v=d.match(c)))if(v[1]){let h=g.length-1;for(;h>0&&g[h].indent!==-2;)h--;if(h>0){g.length=h+1,a=g[h],s.insertFirst(r,a.line,u),a.line=r,a.indent=u,a.endAbove=r;continue}}else{g.push({indent:-2,endAbove:r,line:r});continue}if(a.indent>u){do g.pop(),a=g[g.length-1];while(a.indent>u);const h=a.endAbove-1;h-r>=1&&s.insertFirst(r,h,u)}a.indent===u?a.endAbove=r:g.push({indent:u,endAbove:r,line:r})}return s.toIndentRanges(C)}}),define(ne[328],se([1,0,9,2,198]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyntaxRangeProvider=void 0,e.sanitizeRanges=C;const D={},y="syntax";class m{constructor(n,i,t,s,c){this.editorModel=n,this.providers=i,this.handleFoldingRangesChange=t,this.foldingRangesLimit=s,this.fallbackRangeProvider=c,this.id=y,this.disposables=new k.DisposableStore,c&&this.disposables.add(c);for(const g of i)typeof g.onDidChange=="function"&&this.disposables.add(g.onDidChange(t))}compute(n){return w(this.providers,this.editorModel,n).then(i=>{var t,s;return i?C(i,this.foldingRangesLimit):(s=(t=this.fallbackRangeProvider)===null||t===void 0?void 0:t.compute(n))!==null&&s!==void 0?s:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=m;function w(o,n,i){let t=null;const s=o.map((c,g)=>Promise.resolve(c.provideFoldingRanges(n,D,i)).then(l=>{if(!i.isCancellationRequested&&Array.isArray(l)){Array.isArray(t)||(t=[]);const r=n.getLineCount();for(const d of l)d.start>0&&d.end>d.start&&d.end<=r&&t.push({start:d.start,end:d.end,rank:g,kind:d.kind})}},f.onUnexpectedExternalError));return Promise.all(s).then(c=>t)}class b{constructor(n){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=n}add(n,i,t,s){if(n>L.MAX_LINE_NUMBER||i>L.MAX_LINE_NUMBER)return;const c=this._length;this._startIndexes[c]=n,this._endIndexes[c]=i,this._nestingLevels[c]=s,this._types[c]=t,this._length++,s<30&&(this._nestingLevelCounts[s]=(this._nestingLevelCounts[s]||0)+1)}toIndentRanges(){const n=this._foldingRangesLimit.limit;if(this._length<=n){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let s=0;s<this._length;s++)i[s]=this._startIndexes[s],t[s]=this._endIndexes[s];return new L.FoldingRegions(i,t,this._types)}else{this._foldingRangesLimit.update(this._length,n);let i=0,t=this._nestingLevelCounts.length;for(let l=0;l<this._nestingLevelCounts.length;l++){const r=this._nestingLevelCounts[l];if(r){if(r+i>n){t=l;break}i+=r}}const s=new Uint32Array(n),c=new Uint32Array(n),g=[];for(let l=0,r=0;l<this._length;l++){const d=this._nestingLevels[l];(d<t||d===t&&i++<n)&&(s[r]=this._startIndexes[l],c[r]=this._endIndexes[l],g[r]=this._types[l],r++)}return new L.FoldingRegions(s,c,g)}}}function C(o,n){const i=o.sort((g,l)=>{let r=g.start-l.start;return r===0&&(r=g.rank-l.rank),r}),t=new b(n);let s;const c=[];for(const g of i)if(!s)s=g,t.add(g.start,g.end,g.kind&&g.kind.value,c.length);else if(g.start>s.start)if(g.end<=s.end)c.push(s),s=g,t.add(g.start,g.end,g.kind&&g.kind.value,c.length);else{if(g.start>s.end){do s=c.pop();while(s&&g.start>s.end);s&&c.push(s),s=g}t.add(g.start,g.end,g.kind&&g.kind.value,c.length)}return t.toIndentRanges()}}),define(ne[329],se([1,0,73,5,139]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static _handleEolEdits(m,w){let b;const C=[];for(const o of w)typeof o.eol=="number"&&(b=o.eol),o.range&&typeof o.text=="string"&&C.push(o);return typeof b=="number"&&m.hasModel()&&m.getModel().pushEOL(b),C}static _isFullModelReplaceEdit(m,w){if(!m.hasModel())return!1;const b=m.getModel(),C=b.validateRange(w.range);return b.getFullModelRange().equalsRange(C)}static execute(m,w,b){b&&m.pushUndoStop();const C=L.StableEditorScrollState.capture(m),o=D._handleEolEdits(m,w);o.length===1&&D._isFullModelReplaceEdit(m,o[0])?m.executeEdits("formatEditsCommand",o.map(n=>f.EditOperation.replace(k.Range.lift(n.range),n.text))):m.executeEdits("formatEditsCommand",o.map(n=>f.EditOperation.replaceMove(k.Range.lift(n.range),n.text))),b&&m.pushUndoStop(),C.restoreRelativeVerticalPositionOfCursor(m)}}e.FormattingEdit=D}),define(ne[595],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverVisibleData=e.FilteredHoverResult=e.HoverResult=void 0;class f{constructor(y,m,w){this.anchor=y,this.messages=m,this.isComplete=w}filter(y){const m=this.messages.filter(w=>w.isValidForHoverAnchor(y));return m.length===this.messages.length?this:new k(this,this.anchor,m,this.isComplete)}}e.HoverResult=f;class k extends f{constructor(y,m,w,b){super(m,w,b),this.original=y}filter(y){return this.original.filter(y)}}e.FilteredHoverResult=k;class L{constructor(y,m,w,b,C,o,n,i,t,s){this.initialMousePosX=y,this.initialMousePosY=m,this.colorPicker=w,this.showAtPosition=b,this.showAtSecondaryPosition=C,this.preferAbove=o,this.stoleFocus=n,this.source=i,this.isBeforeContent=t,this.disposables=s,this.closestMouseDistance=void 0}}e.ContentHoverVisibleData=L}),define(ne[97],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class f{constructor(D,y,m,w){this.priority=D,this.range=y,this.initialMousePosX=m,this.initialMousePosY=w,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,y){return D.type===1&&y.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=f;class k{constructor(D,y,m,w,b,C){this.priority=D,this.owner=y,this.range=m,this.initialMousePosX=w,this.initialMousePosY=b,this.supportsMarkerHover=C,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,y){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(ne[596],se([1,0,24]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(D,y,m){this._editRange=D,this._originalSelection=y,this._text=m}getEditOperations(D,y){y.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,y){const w=y.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new f.Selection(w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn),w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn)):new f.Selection(w.endLineNumber,w.endColumn-this._text.length,w.endLineNumber,w.endColumn)}}e.InPlaceReplaceCommand=k}),define(ne[330],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpaceCnt=f,e.generateIndent=k;function f(L,D){let y=0;for(let m=0;m<L.length;m++)L.charAt(m)==="	"?y+=D:y++;return y}function k(L,D,y){L=L<0?0:L;let m="";if(!y){const w=Math.floor(L/D);L=L%D;for(let b=0;b<w;b++)m+="	"}for(let w=0;w<L;w++)m+=" ";return m}}),define(ne[241],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(ne[199],se([1,0,13,11,10,5,109]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0,e.ghostTextsOrReplacementsEqual=C,e.ghostTextOrReplacementEquals=o;class m{constructor(i,t){this.lineNumber=i,this.parts=t}equals(i){return this.lineNumber===i.lineNumber&&this.parts.length===i.parts.length&&this.parts.every((t,s)=>t.equals(i.parts[s]))}renderForScreenReader(i){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],s=i.substr(0,t.column-1);return new y.TextEdit([...this.parts.map(g=>new y.SingleTextEdit(D.Range.fromPositions(new L.Position(1,g.column)),g.lines.join(`
`)))]).applyToString(s).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(i=>i.lines.length===0)}get lineCount(){return 1+this.parts.reduce((i,t)=>i+t.lines.length-1,0)}}e.GhostText=m;class w{constructor(i,t,s){this.column=i,this.text=t,this.preview=s,this.lines=(0,k.splitLines)(this.text)}equals(i){return this.column===i.column&&this.lines.length===i.lines.length&&this.lines.every((t,s)=>t===i.lines[s])}}e.GhostTextPart=w;class b{constructor(i,t,s,c=0){this.lineNumber=i,this.columnRange=t,this.text=s,this.additionalReservedLineCount=c,this.parts=[new w(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=(0,k.splitLines)(this.text)}renderForScreenReader(i){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(i=>i.lines.length===0)}equals(i){return this.lineNumber===i.lineNumber&&this.columnRange.equals(i.columnRange)&&this.newLines.length===i.newLines.length&&this.newLines.every((t,s)=>t===i.newLines[s])&&this.additionalReservedLineCount===i.additionalReservedLineCount}}e.GhostTextReplacement=b;function C(n,i){return(0,f.equals)(n,i,o)}function o(n,i){return n===i?!0:!n||!i?!1:n instanceof m&&i instanceof m||n instanceof b&&i instanceof b?n.equals(i):!1}}),define(ne[597],se([1,0,2]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsAccessibleView=void 0;class k extends f.Disposable{constructor(){super()}}e.InlineCompletionsAccessibleView=k}),define(ne[242],se([1,0,186,11,5,108,109,199]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleTextRemoveCommonPrefix=w,e.singleTextEditAugments=b,e.computeGhostText=C;function w(c,g,l){const r=l?c.range.intersectRanges(l):c.range;if(!r)return c;const d=g.getValueInRange(r,1),u=(0,k.commonPrefixLength)(d,c.text),a=D.TextLength.ofText(d.substring(0,u)).addToPosition(c.range.getStartPosition()),v=c.text.substring(u),h=L.Range.fromPositions(a,c.range.getEndPosition());return new y.SingleTextEdit(h,v)}function b(c,g){return c.text.startsWith(g.text)&&o(c.range,g.range)}function C(c,g,l,r,d=0){let u=w(c,g);if(u.range.endLineNumber!==u.range.startLineNumber)return;const a=g.getLineContent(u.range.startLineNumber),v=(0,k.getLeadingWhitespace)(a).length;if(u.range.startColumn-1<=v){const T=(0,k.getLeadingWhitespace)(u.text).length,N=a.substring(u.range.startColumn-1,v),[A,R]=[u.range.getStartPosition(),u.range.getEndPosition()],M=A.column+N.length<=R.column?A.delta(0,N.length):R,P=L.Range.fromPositions(M,R),F=u.text.startsWith(N)?u.text.substring(N.length):u.text.substring(T);u=new y.SingleTextEdit(P,F)}const p=g.getValueInRange(u.range),_=i(p,u.text);if(!_)return;const S=u.range.startLineNumber,E=new Array;if(l==="prefix"){const T=_.filter(N=>N.originalLength===0);if(T.length>1||T.length===1&&T[0].originalStart!==p.length)return}const I=u.text.length-d;for(const T of _){const N=u.range.startColumn+T.originalStart+T.originalLength;if(l==="subwordSmart"&&r&&r.lineNumber===u.range.startLineNumber&&N<r.column||T.originalLength>0)return;if(T.modifiedLength===0)continue;const A=T.modifiedStart+T.modifiedLength,R=Math.max(T.modifiedStart,Math.min(A,I)),M=u.text.substring(T.modifiedStart,R),P=u.text.substring(R,Math.max(T.modifiedStart,A));M.length>0&&E.push(new m.GhostTextPart(N,M,!1)),P.length>0&&E.push(new m.GhostTextPart(N,P,!0))}return new m.GhostText(S,E)}function o(c,g){return g.getStartPosition().equals(c.getStartPosition())&&g.getEndPosition().isBeforeOrEqual(c.getEndPosition())}let n;function i(c,g){if(n?.originalValue===c&&n?.newValue===g)return n?.changes;{let l=s(c,g,!0);if(l){const r=t(l);if(r>0){const d=s(c,g,!1);d&&t(d)<r&&(l=d)}}return n={originalValue:c,newValue:g,changes:l},l}}function t(c){let g=0;for(const l of c)g+=l.originalLength;return g}function s(c,g,l){if(c.length>5e3||g.length>5e3)return;function r(p){let _=0;for(let S=0,E=p.length;S<E;S++){const I=p.charCodeAt(S);I>_&&(_=I)}return _}const d=Math.max(r(c),r(g));function u(p){if(p<0)throw new Error("unexpected");return d+p+1}function a(p){let _=0,S=0;const E=new Int32Array(p.length);for(let I=0,T=p.length;I<T;I++)if(l&&p[I]==="("){const N=S*100+_;E[I]=u(2*N),_++}else if(l&&p[I]===")"){_=Math.max(_-1,0);const N=S*100+_;E[I]=u(2*N+1),_===0&&S++}else E[I]=p.charCodeAt(I);return E}const v=a(c),h=a(g);return new f.LcsDiff({getElements:()=>v},{getElements:()=>h}).ComputeDiff(!1).changes}}),define(ne[200],se([1,0,9,2,30,10,5]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnRange=void 0,e.getReadonlyEmptyArray=w,e.applyObservableDecorations=C,e.addPositions=o,e.subtractPositions=n;const m=[];function w(){return m}class b{constructor(t,s){if(this.startColumn=t,this.endColumnExclusive=s,t>s)throw new f.BugIndicatingError(`startColumn ${t} cannot be after endColumnExclusive ${s}`)}toRange(t){return new y.Range(t,this.startColumn,t,this.endColumnExclusive)}equals(t){return this.startColumn===t.startColumn&&this.endColumnExclusive===t.endColumnExclusive}}e.ColumnRange=b;function C(i,t){const s=new k.DisposableStore,c=i.createDecorationsCollection();return s.add((0,L.autorunOpts)({debugName:()=>`Apply decorations from ${t.debugName}`},g=>{const l=t.read(g);c.set(l)})),s.add({dispose:()=>{c.clear()}}),s}function o(i,t){return new D.Position(i.lineNumber+t.lineNumber-1,t.lineNumber===1?i.column+t.column-1:t.column)}function n(i,t){return new D.Position(i.lineNumber-t.lineNumber+1,i.lineNumber-t.lineNumber===0?i.column-t.column+1:i.column)}}),define(ne[598],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineEditJumpBackId=e.inlineEditJumpToId=e.inlineEditRejectId=e.inlineEditAcceptId=void 0,e.inlineEditAcceptId="editor.action.inlineEdit.accept",e.inlineEditRejectId="editor.action.inlineEdit.reject",e.inlineEditJumpToId="editor.action.inlineEdit.jumpTo",e.inlineEditJumpBackId="editor.action.inlineEdit.jumpBack"}),define(ne[599],se([1,0,5,24]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class L{constructor(y,m,w){this._selection=y,this._isCopyingDown=m,this._noop=w||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(y,m){let w=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,w.startLineNumber<w.endLineNumber&&w.endColumn===1&&(this._endLineNumberDelta=1,w=w.setEndPosition(w.endLineNumber-1,y.getLineMaxColumn(w.endLineNumber-1)));const b=[];for(let o=w.startLineNumber;o<=w.endLineNumber;o++)b.push(y.getLineContent(o));const C=b.join(`
`);C===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?m.addEditOperation(new f.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber+1,1),w.endLineNumber===y.getLineCount()?"":`
`):this._isCopyingDown?m.addEditOperation(new f.Range(w.startLineNumber,1,w.startLineNumber,1),C+`
`):m.addEditOperation(new f.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber,y.getLineMaxColumn(w.endLineNumber)),`
`+C),this._selectionId=m.trackSelection(w),this._selectionDirection=this._selection.getDirection()}computeCursorState(y,m){let w=m.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let b=w.startLineNumber,C=w.startColumn,o=w.endLineNumber,n=w.endColumn;this._startLineNumberDelta!==0&&(b=b+this._startLineNumberDelta,C=1),this._endLineNumberDelta!==0&&(o=o+this._endLineNumberDelta,n=1),w=k.Selection.createWithDirection(b,C,o,n,this._selectionDirection)}return w}}e.CopyLinesCommand=L}),define(ne[600],se([1,0,73,5]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class L{static getCollator(){return L._COLLATOR||(L._COLLATOR=new Intl.Collator),L._COLLATOR}constructor(w,b){this.selection=w,this.descending=b,this.selectionId=null}getEditOperations(w,b){const C=y(w,this.selection,this.descending);C&&b.addEditOperation(C.range,C.text),this.selectionId=b.trackSelection(this.selection)}computeCursorState(w,b){return b.getTrackedSelection(this.selectionId)}static canRun(w,b,C){if(w===null)return!1;const o=D(w,b,C);if(!o)return!1;for(let n=0,i=o.before.length;n<i;n++)if(o.before[n]!==o.after[n])return!0;return!1}}e.SortLinesCommand=L,L._COLLATOR=null;function D(m,w,b){const C=w.startLineNumber;let o=w.endLineNumber;if(w.endColumn===1&&o--,C>=o)return null;const n=[];for(let t=C;t<=o;t++)n.push(m.getLineContent(t));let i=n.slice(0);return i.sort(L.getCollator().compare),b===!0&&(i=i.reverse()),{startLineNumber:C,endLineNumber:o,before:n,after:i}}function y(m,w,b){const C=D(m,w,b);return C?f.EditOperation.replace(new k.Range(C.startLineNumber,1,C.endLineNumber,m.getLineMaxColumn(C.endLineNumber)),C.after.join(`
`)):null}}),define(ne[331],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.isSemanticColoringEnabled=f,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function f(k,L,D){var y;const m=(y=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||y===void 0?void 0:y.enabled;return typeof m=="boolean"?m:L.getColorTheme().semanticHighlighting}}),define(ne[332],se([1,0,71,10,5]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{async provideSelectionRanges(m,w){const b=[];for(const C of w){const o=[];b.push(o);const n=new Map;await new Promise(i=>D._bracketsRightYield(i,0,m,C,n)),await new Promise(i=>D._bracketsLeftYield(i,0,m,C,n,o))}return b}static _bracketsRightYield(m,w,b,C,o){const n=new Map,i=Date.now();for(;;){if(w>=D._maxRounds){m();break}if(!C){m();break}const t=b.bracketPairs.findNextBracket(C);if(!t){m();break}if(Date.now()-i>D._maxDuration){setTimeout(()=>D._bracketsRightYield(m,w+1,b,C,o));break}if(t.bracketInfo.isOpeningBracket){const c=t.bracketInfo.bracketText,g=n.has(c)?n.get(c):0;n.set(c,g+1)}else{const c=t.bracketInfo.getOpeningBrackets()[0].bracketText;let g=n.has(c)?n.get(c):0;if(g-=1,n.set(c,Math.max(0,g)),g<0){let l=o.get(c);l||(l=new f.LinkedList,o.set(c,l)),l.push(t.range)}}C=t.range.getEndPosition()}}static _bracketsLeftYield(m,w,b,C,o,n){const i=new Map,t=Date.now();for(;;){if(w>=D._maxRounds&&o.size===0){m();break}if(!C){m();break}const s=b.bracketPairs.findPrevBracket(C);if(!s){m();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(m,w+1,b,C,o,n));break}if(s.bracketInfo.isOpeningBracket){const g=s.bracketInfo.bracketText;let l=i.has(g)?i.get(g):0;if(l-=1,i.set(g,Math.max(0,l)),l<0){const r=o.get(g);if(r){const d=r.shift();r.size===0&&o.delete(g);const u=L.Range.fromPositions(s.range.getEndPosition(),d.getStartPosition()),a=L.Range.fromPositions(s.range.getStartPosition(),d.getEndPosition());n.push({range:u}),n.push({range:a}),D._addBracketLeading(b,a,n)}}}else{const g=s.bracketInfo.getOpeningBrackets()[0].bracketText,l=i.has(g)?i.get(g):0;i.set(g,l+1)}C=s.range.getStartPosition()}}static _addBracketLeading(m,w,b){if(w.startLineNumber===w.endLineNumber)return;const C=w.startLineNumber,o=m.getLineFirstNonWhitespaceColumn(C);o!==0&&o!==w.startColumn&&(b.push({range:L.Range.fromPositions(new k.Position(C,o),w.getEndPosition())}),b.push({range:L.Range.fromPositions(new k.Position(C,1),w.getEndPosition())}));const n=C-1;if(n>0){const i=m.getLineFirstNonWhitespaceColumn(n);i===w.startColumn&&i!==m.getLineLastNonWhitespaceColumn(n)&&(b.push({range:L.Range.fromPositions(new k.Position(n,i),w.getEndPosition())}),b.push({range:L.Range.fromPositions(new k.Position(n,1),w.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(ne[601],se([1,0,11,5]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class L{constructor(y=!0){this.selectSubwords=y}provideSelectionRanges(y,m){const w=[];for(const b of m){const C=[];w.push(C),this.selectSubwords&&this._addInWordRanges(C,y,b),this._addWordRanges(C,y,b),this._addWhitespaceLine(C,y,b),C.push({range:y.getFullModelRange()})}return w}_addInWordRanges(y,m,w){const b=m.getWordAtPosition(w);if(!b)return;const{word:C,startColumn:o}=b,n=w.column-o;let i=n,t=n,s=0;for(;i>=0;i--){const c=C.charCodeAt(i);if(i!==n&&(c===95||c===45))break;if((0,f.isLowerAsciiLetter)(c)&&(0,f.isUpperAsciiLetter)(s))break;s=c}for(i+=1;t<C.length;t++){const c=C.charCodeAt(t);if((0,f.isUpperAsciiLetter)(c)&&(0,f.isLowerAsciiLetter)(s))break;if(c===95||c===45)break;s=c}i<t&&y.push({range:new k.Range(w.lineNumber,o+i,w.lineNumber,o+t)})}_addWordRanges(y,m,w){const b=m.getWordAtPosition(w);b&&y.push({range:new k.Range(w.lineNumber,b.startColumn,w.lineNumber,b.endColumn)})}_addWhitespaceLine(y,m,w){m.getLineLength(w.lineNumber)>0&&m.getLineFirstNonWhitespaceColumn(w.lineNumber)===0&&m.getLineLastNonWhitespaceColumn(w.lineNumber)===0&&y.push({range:new k.Range(w.lineNumber,1,w.lineNumber,m.getLineMaxColumn(w.lineNumber))})}}e.WordSelectionRangeProvider=L}),define(ne[132],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class f{constructor(){this.value="",this.pos=0}static isDigitCharacter(s){return s>=48&&s<=57}static isVariableCharacter(s){return s===95||s>=97&&s<=122||s>=65&&s<=90}text(s){this.value=s,this.pos=0}tokenText(s){return this.value.substr(s.pos,s.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const s=this.pos;let c=0,g=this.value.charCodeAt(s),l;if(l=f._table[g],typeof l=="number")return this.pos+=1,{type:l,pos:s,len:1};if(f.isDigitCharacter(g)){l=8;do c+=1,g=this.value.charCodeAt(s+c);while(f.isDigitCharacter(g));return this.pos+=c,{type:l,pos:s,len:c}}if(f.isVariableCharacter(g)){l=9;do g=this.value.charCodeAt(s+ ++c);while(f.isVariableCharacter(g)||f.isDigitCharacter(g));return this.pos+=c,{type:l,pos:s,len:c}}l=10;do c+=1,g=this.value.charCodeAt(s+c);while(!isNaN(g)&&typeof f._table[g]>"u"&&!f.isDigitCharacter(g)&&!f.isVariableCharacter(g));return this.pos+=c,{type:l,pos:s,len:c}}}e.Scanner=f,f._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class k{constructor(){this._children=[]}appendChild(s){return s instanceof L&&this._children[this._children.length-1]instanceof L?this._children[this._children.length-1].value+=s.value:(s.parent=this,this._children.push(s)),this}replace(s,c){const{parent:g}=s,l=g.children.indexOf(s),r=g.children.slice(0);r.splice(l,1,...c),g._children=r,function d(u,a){for(const v of u)v.parent=a,d(v.children,v)}(c,g)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let s=this;for(;;){if(!s)return;if(s instanceof n)return s;s=s.parent}}toString(){return this.children.reduce((s,c)=>s+c.toString(),"")}len(){return 0}}e.Marker=k;class L extends k{constructor(s){super(),this.value=s}toString(){return this.value}len(){return this.value.length}clone(){return new L(this.value)}}e.Text=L;class D extends k{}e.TransformableMarker=D;class y extends D{static compareByIndex(s,c){return s.index===c.index?0:s.isFinalTabstop?1:c.isFinalTabstop||s.index<c.index?-1:s.index>c.index?1:0}constructor(s){super(),this.index=s}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof m?this._children[0]:void 0}clone(){const s=new y(this.index);return this.transform&&(s.transform=this.transform.clone()),s._children=this.children.map(c=>c.clone()),s}}e.Placeholder=y;class m extends k{constructor(){super(...arguments),this.options=[]}appendChild(s){return s instanceof L&&(s.parent=this,this.options.push(s)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const s=new m;return this.options.forEach(s.appendChild,s),s}}e.Choice=m;class w extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(s){const c=this;let g=!1,l=s.replace(this.regexp,function(){return g=!0,c._replace(Array.prototype.slice.call(arguments,0,-2))});return!g&&this._children.some(r=>r instanceof b&&!!r.elseValue)&&(l=this._replace([])),l}_replace(s){let c="";for(const g of this._children)if(g instanceof b){let l=s[g.index]||"";l=g.resolve(l),c+=l}else c+=g.toString();return c}toString(){return""}clone(){const s=new w;return s.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),s._children=this.children.map(c=>c.clone()),s}}e.Transform=w;class b extends k{constructor(s,c,g,l){super(),this.index=s,this.shorthandName=c,this.ifValue=g,this.elseValue=l}resolve(s){return this.shorthandName==="upcase"?s?s.toLocaleUpperCase():"":this.shorthandName==="downcase"?s?s.toLocaleLowerCase():"":this.shorthandName==="capitalize"?s?s[0].toLocaleUpperCase()+s.substr(1):"":this.shorthandName==="pascalcase"?s?this._toPascalCase(s):"":this.shorthandName==="camelcase"?s?this._toCamelCase(s):"":s&&typeof this.ifValue=="string"?this.ifValue:!s&&typeof this.elseValue=="string"?this.elseValue:s||""}_toPascalCase(s){const c=s.match(/[a-z0-9]+/gi);return c?c.map(g=>g.charAt(0).toUpperCase()+g.substr(1)).join(""):s}_toCamelCase(s){const c=s.match(/[a-z0-9]+/gi);return c?c.map((g,l)=>l===0?g.charAt(0).toLowerCase()+g.substr(1):g.charAt(0).toUpperCase()+g.substr(1)).join(""):s}clone(){return new b(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=b;class C extends D{constructor(s){super(),this.name=s}resolve(s){let c=s.resolve(this);return this.transform&&(c=this.transform.resolve(c||"")),c!==void 0?(this._children=[new L(c)],!0):!1}clone(){const s=new C(this.name);return this.transform&&(s.transform=this.transform.clone()),s._children=this.children.map(c=>c.clone()),s}}e.Variable=C;function o(t,s){const c=[...t];for(;c.length>0;){const g=c.shift();if(!s(g))break;c.unshift(...g.children)}}class n extends k{get placeholderInfo(){if(!this._placeholders){const s=[];let c;this.walk(function(g){return g instanceof y&&(s.push(g),c=!c||c.index<g.index?g:c),!0}),this._placeholders={all:s,last:c}}return this._placeholders}get placeholders(){const{all:s}=this.placeholderInfo;return s}offset(s){let c=0,g=!1;return this.walk(l=>l===s?(g=!0,!1):(c+=l.len(),!0)),g?c:-1}fullLen(s){let c=0;return o([s],g=>(c+=g.len(),!0)),c}enclosingPlaceholders(s){const c=[];let{parent:g}=s;for(;g;)g instanceof y&&c.push(g),g=g.parent;return c}resolveVariables(s){return this.walk(c=>(c instanceof C&&c.resolve(s)&&(this._placeholders=void 0),!0)),this}appendChild(s){return this._placeholders=void 0,super.appendChild(s)}replace(s,c){return this._placeholders=void 0,super.replace(s,c)}clone(){const s=new n;return this._children=this.children.map(c=>c.clone()),s}walk(s){o(this.children,s)}}e.TextmateSnippet=n;class i{constructor(){this._scanner=new f,this._token={type:14,pos:0,len:0}}static escape(s){return s.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(s){return/\${?CLIPBOARD/.test(s)}parse(s,c,g){const l=new n;return this.parseFragment(s,l),this.ensureFinalTabstop(l,g??!1,c??!1),l}parseFragment(s,c){const g=c.children.length;for(this._scanner.text(s),this._token=this._scanner.next();this._parse(c););const l=new Map,r=[];c.walk(a=>(a instanceof y&&(a.isFinalTabstop?l.set(0,void 0):!l.has(a.index)&&a.children.length>0?l.set(a.index,a.children):r.push(a)),!0));const d=(a,v)=>{const h=l.get(a.index);if(!h)return;const p=new y(a.index);p.transform=a.transform;for(const _ of h){const S=_.clone();p.appendChild(S),S instanceof y&&l.has(S.index)&&!v.has(S.index)&&(v.add(S.index),d(S,v),v.delete(S.index))}c.replace(a,[p])},u=new Set;for(const a of r)d(a,u);return c.children.slice(g)}ensureFinalTabstop(s,c,g){(c||g&&s.placeholders.length>0)&&(s.placeholders.find(r=>r.index===0)||s.appendChild(new y(0)))}_accept(s,c){if(s===void 0||this._token.type===s){const g=c?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),g}return!1}_backTo(s){return this._scanner.pos=s.pos+s.len,this._token=s,!1}_until(s){const c=this._token;for(;this._token.type!==s;){if(this._token.type===14)return!1;if(this._token.type===5){const l=this._scanner.next();if(l.type!==0&&l.type!==4&&l.type!==5)return!1}this._token=this._scanner.next()}const g=this._scanner.value.substring(c.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),g}_parse(s){return this._parseEscaped(s)||this._parseTabstopOrVariableName(s)||this._parseComplexPlaceholder(s)||this._parseComplexVariable(s)||this._parseAnything(s)}_parseEscaped(s){let c;return(c=this._accept(5,!0))?(c=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||c,s.appendChild(new L(c)),!0):!1}_parseTabstopOrVariableName(s){let c;const g=this._token;return this._accept(0)&&(c=this._accept(9,!0)||this._accept(8,!0))?(s.appendChild(/^\d+$/.test(c)?new y(Number(c)):new C(c)),!0):this._backTo(g)}_parseComplexPlaceholder(s){let c;const g=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(8,!0))))return this._backTo(g);const r=new y(Number(c));if(this._accept(1))for(;;){if(this._accept(4))return s.appendChild(r),!0;if(!this._parse(r))return s.appendChild(new L("${"+c+":")),r.children.forEach(s.appendChild,s),!0}else if(r.index>0&&this._accept(7)){const d=new m;for(;;){if(this._parseChoiceElement(d)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(d),this._accept(4)))return s.appendChild(r),!0}return this._backTo(g),!1}}else return this._accept(6)?this._parseTransform(r)?(s.appendChild(r),!0):(this._backTo(g),!1):this._accept(4)?(s.appendChild(r),!0):this._backTo(g)}_parseChoiceElement(s){const c=this._token,g=[];for(;!(this._token.type===2||this._token.type===7);){let l;if((l=this._accept(5,!0))?l=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||l:l=this._accept(void 0,!0),!l)return this._backTo(c),!1;g.push(l)}return g.length===0?(this._backTo(c),!1):(s.appendChild(new L(g.join(""))),!0)}_parseComplexVariable(s){let c;const g=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(9,!0))))return this._backTo(g);const r=new C(c);if(this._accept(1))for(;;){if(this._accept(4))return s.appendChild(r),!0;if(!this._parse(r))return s.appendChild(new L("${"+c+":")),r.children.forEach(s.appendChild,s),!0}else return this._accept(6)?this._parseTransform(r)?(s.appendChild(r),!0):(this._backTo(g),!1):this._accept(4)?(s.appendChild(r),!0):this._backTo(g)}_parseTransform(s){const c=new w;let g="",l="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,g+=r;continue}if(this._token.type!==14){g+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,c.appendChild(new L(r));continue}if(!(this._parseFormatString(c)||this._parseAnything(c)))return!1}for(;!this._accept(4);){if(this._token.type!==14){l+=this._accept(void 0,!0);continue}return!1}try{c.regexp=new RegExp(g,l)}catch{return!1}return s.transform=c,!0}_parseFormatString(s){const c=this._token;if(!this._accept(0))return!1;let g=!1;this._accept(3)&&(g=!0);const l=this._accept(8,!0);if(l)if(g){if(this._accept(4))return s.appendChild(new b(Number(l))),!0;if(!this._accept(1))return this._backTo(c),!1}else return s.appendChild(new b(Number(l))),!0;else return this._backTo(c),!1;if(this._accept(6)){const r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(c),!1):(s.appendChild(new b(Number(l),r)),!0)}else if(this._accept(11)){const r=this._until(4);if(r)return s.appendChild(new b(Number(l),void 0,r,void 0)),!0}else if(this._accept(12)){const r=this._until(4);if(r)return s.appendChild(new b(Number(l),void 0,void 0,r)),!0}else if(this._accept(13)){const r=this._until(1);if(r){const d=this._until(4);if(d)return s.appendChild(new b(Number(l),void 0,r,d)),!0}}else{const r=this._until(4);if(r)return s.appendChild(new b(Number(l),void 0,void 0,r)),!0}return this._backTo(c),!1}_parseAnything(s){return this._token.type!==14?(s.appendChild(new L(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=i}),define(ne[333],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class f{constructor(y,m){this.startLineNumber=y,this.endLineNumber=m}}e.StickyRange=f;class k{constructor(y,m,w){this.range=y,this.children=m,this.parent=w}}e.StickyElement=k;class L{constructor(y,m,w,b){this.uri=y,this.version=m,this.element=w,this.outlineProviderId=b}}e.StickyModel=L}),define(ne[334],se([1,0,13,78,11]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(w,b){this.leadingLineContent=w,this.characterCountDelta=b}}e.LineContext=D;class y{constructor(w,b,C,o,n,i,t=k.FuzzyScoreOptions.default,s=void 0){this.clipboardText=s,this._snippetCompareFn=y._compareCompletionItems,this._items=w,this._column=b,this._wordDistance=o,this._options=n,this._refilterKind=1,this._lineContext=C,this._fuzzyScoreOptions=t,i==="top"?this._snippetCompareFn=y._compareCompletionItemsSnippetsUp:i==="bottom"&&(this._snippetCompareFn=y._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(w){(this._lineContext.leadingLineContent!==w.leadingLineContent||this._lineContext.characterCountDelta!==w.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<w.characterCountDelta&&this._filteredItems?2:1,this._lineContext=w)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const w=new Set;for(const[b,C]of this.getItemsByProvider())C.length>0&&C[0].container.incomplete&&w.add(b);return w}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const w=[],{leadingLineContent:b,characterCountDelta:C}=this._lineContext;let o="",n="";const i=this._refilterKind===1?this._items:this._filteredItems,t=[],s=!this._options.filterGraceful||i.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let c=0;c<i.length;c++){const g=i[c];if(g.isInvalid)continue;const l=this._itemsByProvider.get(g.provider);l?l.push(g):this._itemsByProvider.set(g.provider,[g]);const r=g.position.column-g.editStart.column,d=r+C-(g.position.column-this._column);if(o.length!==d&&(o=d===0?"":b.slice(-d),n=o.toLowerCase()),g.word=o,d===0)g.score=k.FuzzyScore.Default;else{let u=0;for(;u<r;){const a=o.charCodeAt(u);if(a===32||a===9)u+=1;else break}if(u>=d)g.score=k.FuzzyScore.Default;else if(typeof g.completion.filterText=="string"){const a=s(o,n,u,g.completion.filterText,g.filterTextLow,0,this._fuzzyScoreOptions);if(!a)continue;(0,L.compareIgnoreCase)(g.completion.filterText,g.textLabel)===0?g.score=a:(g.score=(0,k.anyScore)(o,n,u,g.textLabel,g.labelLow,0),g.score[0]=a[0])}else{const a=s(o,n,u,g.textLabel,g.labelLow,0,this._fuzzyScoreOptions);if(!a)continue;g.score=a}}g.idx=c,g.distance=this._wordDistance.distance(g.position,g.completion),t.push(g),w.push(g.textLabel.length)}this._filteredItems=t.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:w.length?(0,f.quickSelect)(w.length-.85,w,(c,g)=>c-g):0}}static _compareCompletionItems(w,b){return w.score[0]>b.score[0]?-1:w.score[0]<b.score[0]?1:w.distance<b.distance?-1:w.distance>b.distance?1:w.idx<b.idx?-1:w.idx>b.idx?1:0}static _compareCompletionItemsSnippetsDown(w,b){if(w.completion.kind!==b.completion.kind){if(w.completion.kind===27)return 1;if(b.completion.kind===27)return-1}return y._compareCompletionItems(w,b)}static _compareCompletionItemsSnippetsUp(w,b){if(w.completion.kind!==b.completion.kind){if(w.completion.kind===27)return-1;if(b.completion.kind===27)return 1}return y._compareCompletionItems(w,b)}}e.CompletionModel=y}),define(ne[602],se([1,0,13,2,140]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(m,w,b,C){this._disposables=new k.DisposableStore,this._disposables.add(b.onDidSuggest(o=>{o.completionModel.items.length===0&&this.reset()})),this._disposables.add(b.onDidCancel(o=>{this.reset()})),this._disposables.add(w.onDidShow(()=>this._onItem(w.getFocusedItem()))),this._disposables.add(w.onDidFocus(this._onItem,this)),this._disposables.add(w.onDidHide(this.reset,this)),this._disposables.add(m.onWillType(o=>{if(this._active&&!w.isFrozen()&&b.state!==0){const n=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(n)&&m.getOption(0)&&C(this._active.item)}}))}_onItem(m){if(!m||!(0,f.isNonEmptyArray)(m.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===m.item)return;const w=new L.CharacterSet;for(const b of m.item.completion.commitCharacters)b.length>0&&w.add(b.charCodeAt(0));this._active={acceptCharacters:w,item:m}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(ne[603],se([1,0,2]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(D,y){this._disposables=new f.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(D.onWillType(()=>{if(this._locked||!D.hasModel())return;const m=D.getSelections(),w=m.length;let b=!1;for(let o=0;o<w;o++)if(!m[o].isEmpty()){b=!0;break}if(!b){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const C=D.getModel();for(let o=0;o<w;o++){const n=m[o];if(C.getValueLengthInRange(n)>k._maxSelectionLength)return;this._lastOvertyped[o]={value:C.getValueInRange(n),multiline:n.startLineNumber!==n.endLineNumber}}})),this._disposables.add(y.onDidTrigger(m=>{this._locked=!0})),this._disposables.add(y.onDidCancel(m=>{this._locked=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(ne[335],se([1,0,13,5,332]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static async create(m,w){if(!w.getOption(118).localityBonus||!w.hasModel())return D.None;const b=w.getModel(),C=w.getPosition();if(!m.canComputeWordRanges(b.uri))return D.None;const[o]=await new L.BracketSelectionRangeProvider().provideSelectionRanges(b,[C]);if(o.length===0)return D.None;const n=await m.computeWordRanges(b.uri,o[0].range);if(!n)return D.None;const i=b.getWordUntilPosition(C);return delete n[i.word],new class extends D{distance(t,s){if(!C.equals(w.getPosition()))return 0;if(s.kind===17)return 2<<20;const c=typeof s.label=="string"?s.label:s.label.label,g=n[c];if((0,f.isFalsyOrEmpty)(g))return 2<<20;const l=(0,f.binarySearch)(g,k.Range.fromPositions(t),k.Range.compareRangesUsingStarts),r=l>=0?g[l]:g[Math.max(0,~l-1)];let d=o.length;for(const u of o){if(!k.Range.containsRange(u.range,r))break;d-=1}return d}}}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(ne[336],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFuzzyActionArr=f,e.isFuzzyAction=k,e.isString=L,e.isIAction=D,e.empty=y,e.fixCase=m,e.sanitize=w,e.log=b,e.createError=C,e.substituteMatches=o,e.substituteMatchesRe=n,e.findRules=i,e.stateExists=t;function f(s){return Array.isArray(s)}function k(s){return!f(s)}function L(s){return typeof s=="string"}function D(s){return!L(s)}function y(s){return!s}function m(s,c){return s.ignoreCase&&c?c.toLowerCase():c}function w(s){return s.replace(/[&<>'"_]/g,"-")}function b(s,c){console.log(`${s.languageId}: ${c}`)}function C(s,c){return new Error(`${s.languageId}: ${c}`)}function o(s,c,g,l,r){const d=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let u=null;return c.replace(d,function(a,v,h,p,_,S,E,I,T){return y(h)?y(p)?!y(_)&&_<l.length?m(s,l[_]):!y(E)&&s&&typeof s[E]=="string"?s[E]:(u===null&&(u=r.split("."),u.unshift(r)),!y(S)&&S<u.length?m(s,u[S]):""):m(s,g):"$"})}function n(s,c,g){const l=/\$[sS](\d\d?)/g;let r=null;return c.replace(l,function(d,u){return r===null&&(r=g.split("."),r.unshift(g)),!y(u)&&u<r.length?m(s,r[u]):""})}function i(s,c){let g=c;for(;g&&g.length>0;){const l=s.tokenizer[g];if(l)return l;const r=g.lastIndexOf(".");r<0?g=null:g=g.substr(0,r)}return null}function t(s,c){let g=c;for(;g&&g.length>0;){if(s.stateNames[g])return!0;const r=g.lastIndexOf(".");r<0?g=null:g=g.substr(0,r)}return!1}}),define(ne[604],se([1,0,336]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=i;function k(t,s){if(!s||!Array.isArray(s))return!1;for(const c of s)if(!t(c))return!1;return!0}function L(t,s){return typeof t=="boolean"?t:s}function D(t,s){return typeof t=="string"?t:s}function y(t){const s={};for(const c of t)s[c]=!0;return s}function m(t,s=!1){s&&(t=t.map(function(g){return g.toLowerCase()}));const c=y(t);return s?function(g){return c[g.toLowerCase()]!==void 0&&c.hasOwnProperty(g.toLowerCase())}:function(g){return c[g]!==void 0&&c.hasOwnProperty(g)}}function w(t,s,c){s=s.replace(/@@/g,"");let g=0,l;do l=!1,s=s.replace(/@(\w+)/g,function(d,u){l=!0;let a="";if(typeof t[u]=="string")a=t[u];else if(t[u]&&t[u]instanceof RegExp)a=t[u].source;else throw t[u]===void 0?f.createError(t,"language definition does not contain attribute '"+u+"', used at: "+s):f.createError(t,"attribute reference '"+u+"' must be a string, used at: "+s);return f.empty(a)?"":"(?:"+a+")"}),g++;while(l&&g<5);s=s.replace(/\x01/g,"@");const r=(t.ignoreCase?"i":"")+(t.unicode?"u":"");if(c&&s.match(/\$[sS](\d\d?)/g)){let u=null,a=null;return v=>(a&&u===v||(u=v,a=new RegExp(f.substituteMatchesRe(t,s,v),r)),a)}return new RegExp(s,r)}function b(t,s,c,g){if(g<0)return t;if(g<s.length)return s[g];if(g>=100){g=g-100;const l=c.split(".");if(l.unshift(c),g<l.length)return l[g]}return null}function C(t,s,c,g){let l=-1,r=c,d=c.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);d&&(d[3]&&(l=parseInt(d[3]),d[2]&&(l=l+100)),r=d[4]);let u="~",a=r;!r||r.length===0?(u="!=",a=""):/^\w*$/.test(a)?u="==":(d=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),d&&(u=d[1],a=d[2]));let v;if((u==="~"||u==="!~")&&/^(\w|\|)*$/.test(a)){const h=m(a.split("|"),t.ignoreCase);v=function(p){return u==="~"?h(p):!h(p)}}else if(u==="@"||u==="!@"){const h=t[a];if(!h)throw f.createError(t,"the @ match target '"+a+"' is not defined, in rule: "+s);if(!k(function(_){return typeof _=="string"},h))throw f.createError(t,"the @ match target '"+a+"' must be an array of strings, in rule: "+s);const p=m(h,t.ignoreCase);v=function(_){return u==="@"?p(_):!p(_)}}else if(u==="~"||u==="!~")if(a.indexOf("$")<0){const h=w(t,"^"+a+"$",!1);v=function(p){return u==="~"?h.test(p):!h.test(p)}}else v=function(h,p,_,S){return w(t,"^"+f.substituteMatches(t,a,p,_,S)+"$",!1).test(h)};else if(a.indexOf("$")<0){const h=f.fixCase(t,a);v=function(p){return u==="=="?p===h:p!==h}}else{const h=f.fixCase(t,a);v=function(p,_,S,E,I){const T=f.substituteMatches(t,h,_,S,E);return u==="=="?p===T:p!==T}}return l===-1?{name:c,value:g,test:function(h,p,_,S){return v(h,h,p,_,S)}}:{name:c,value:g,test:function(h,p,_,S){const E=b(h,p,_,l);return v(E||"",h,p,_,S)}}}function o(t,s,c){if(c){if(typeof c=="string")return c;if(c.token||c.token===""){if(typeof c.token!="string")throw f.createError(t,"a 'token' attribute must be of type string, in rule: "+s);{const g={token:c.token};if(c.token.indexOf("$")>=0&&(g.tokenSubst=!0),typeof c.bracket=="string")if(c.bracket==="@open")g.bracket=1;else if(c.bracket==="@close")g.bracket=-1;else throw f.createError(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+s);if(c.next){if(typeof c.next!="string")throw f.createError(t,"the next state must be a string value in rule: "+s);{let l=c.next;if(!/^(@pop|@push|@popall)$/.test(l)&&(l[0]==="@"&&(l=l.substr(1)),l.indexOf("$")<0&&!f.stateExists(t,f.substituteMatches(t,l,"",[],""))))throw f.createError(t,"the next state '"+c.next+"' is not defined in rule: "+s);g.next=l}}return typeof c.goBack=="number"&&(g.goBack=c.goBack),typeof c.switchTo=="string"&&(g.switchTo=c.switchTo),typeof c.log=="string"&&(g.log=c.log),typeof c.nextEmbedded=="string"&&(g.nextEmbedded=c.nextEmbedded,t.usesEmbedded=!0),g}}else if(Array.isArray(c)){const g=[];for(let l=0,r=c.length;l<r;l++)g[l]=o(t,s,c[l]);return{group:g}}else if(c.cases){const g=[];for(const r in c.cases)if(c.cases.hasOwnProperty(r)){const d=o(t,s,c.cases[r]);r==="@default"||r==="@"||r===""?g.push({test:void 0,value:d,name:r}):r==="@eos"?g.push({test:function(u,a,v,h){return h},value:d,name:r}):g.push(C(t,s,r,d))}const l=t.defaultToken;return{test:function(r,d,u,a){for(const v of g)if(!v.test||v.test(r,d,u,a))return v.value;return l}}}else throw f.createError(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+s)}else return{token:""}}class n{constructor(s){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=s}setRegex(s,c){let g;if(typeof c=="string")g=c;else if(c instanceof RegExp)g=c.source;else throw f.createError(s,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=g.length>0&&g[0]==="^",this.name=this.name+": "+g,this.regex=w(s,"^(?:"+(this.matchOnlyAtLineStart?g.substr(1):g)+")",!0)}setAction(s,c){this.action=o(s,this.name,c)}resolveRegex(s){return this.regex instanceof RegExp?this.regex:this.regex(s)}}function i(t,s){if(!s||typeof s!="object")throw new Error("Monarch: expecting a language definition object");const c={};c.languageId=t,c.includeLF=L(s.includeLF,!1),c.noThrow=!1,c.maxStack=100,c.start=typeof s.start=="string"?s.start:null,c.ignoreCase=L(s.ignoreCase,!1),c.unicode=L(s.unicode,!1),c.tokenPostfix=D(s.tokenPostfix,"."+c.languageId),c.defaultToken=D(s.defaultToken,"source"),c.usesEmbedded=!1;const g=s;g.languageId=t,g.includeLF=c.includeLF,g.ignoreCase=c.ignoreCase,g.unicode=c.unicode,g.noThrow=c.noThrow,g.usesEmbedded=c.usesEmbedded,g.stateNames=s.tokenizer,g.defaultToken=c.defaultToken;function l(d,u,a){for(const v of a){let h=v.include;if(h){if(typeof h!="string")throw f.createError(c,"an 'include' attribute must be a string at: "+d);if(h[0]==="@"&&(h=h.substr(1)),!s.tokenizer[h])throw f.createError(c,"include target '"+h+"' is not defined at: "+d);l(d+"."+h,u,s.tokenizer[h])}else{const p=new n(d);if(Array.isArray(v)&&v.length>=1&&v.length<=3)if(p.setRegex(g,v[0]),v.length>=3)if(typeof v[1]=="string")p.setAction(g,{token:v[1],next:v[2]});else if(typeof v[1]=="object"){const _=v[1];_.next=v[2],p.setAction(g,_)}else throw f.createError(c,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+d);else p.setAction(g,v[1]);else{if(!v.regex)throw f.createError(c,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+d);v.name&&typeof v.name=="string"&&(p.name=v.name),v.matchOnlyAtStart&&(p.matchOnlyAtLineStart=L(v.matchOnlyAtLineStart,!1)),p.setRegex(g,v.regex),p.setAction(g,v.action)}u.push(p)}}}if(!s.tokenizer||typeof s.tokenizer!="object")throw f.createError(c,"a language definition must define the 'tokenizer' attribute as an object");c.tokenizer=[];for(const d in s.tokenizer)if(s.tokenizer.hasOwnProperty(d)){c.start||(c.start=d);const u=s.tokenizer[d];c.tokenizer[d]=new Array,l("tokenizer."+d,c.tokenizer[d],u)}if(c.usesEmbedded=g.usesEmbedded,s.brackets){if(!Array.isArray(s.brackets))throw f.createError(c,"the 'brackets' attribute must be defined as an array")}else s.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const r=[];for(const d of s.brackets){let u=d;if(u&&Array.isArray(u)&&u.length===3&&(u={token:u[2],open:u[0],close:u[1]}),u.open===u.close)throw f.createError(c,"open and close brackets in a 'brackets' attribute must be different: "+u.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof u.open=="string"&&typeof u.token=="string"&&typeof u.close=="string")r.push({token:u.token+c.tokenPostfix,open:f.fixCase(c,u.open),close:f.fixCase(c,u.close)});else throw f.createError(c,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return c.brackets=r,c.noThrow=!0,c}}),define(ne[605],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ne[606],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/findinput/findInput",e)}),define(ne[607],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(ne[608],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ne[609],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/hover/hoverWidget",e)}),define(ne[610],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ne[611],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ne[612],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(ne[613],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(ne[614],se([3,4]),function(X,e){return X.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ne[615],se([3,4]),function(X,e){return X.create("vs/base/common/actions",e)}),define(ne[41],se([1,0,7,2,615]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0,e.toAction=C;class D extends k.Disposable{constructor(n,i="",t="",s=!0,c){super(),this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=n,this._label=i,this._cssClass=t,this._enabled=s,this._actionCallback=c}get id(){return this._id}get label(){return this._label}set label(n){this._setLabel(n)}_setLabel(n){this._label!==n&&(this._label=n,this._onDidChange.fire({label:n}))}get tooltip(){return this._tooltip||""}set tooltip(n){this._setTooltip(n)}_setTooltip(n){this._tooltip!==n&&(this._tooltip=n,this._onDidChange.fire({tooltip:n}))}get class(){return this._cssClass}set class(n){this._setClass(n)}_setClass(n){this._cssClass!==n&&(this._cssClass=n,this._onDidChange.fire({class:n}))}get enabled(){return this._enabled}set enabled(n){this._setEnabled(n)}_setEnabled(n){this._enabled!==n&&(this._enabled=n,this._onDidChange.fire({enabled:n}))}get checked(){return this._checked}set checked(n){this._setChecked(n)}_setChecked(n){this._checked!==n&&(this._checked=n,this._onDidChange.fire({checked:n}))}async run(n,i){this._actionCallback&&await this._actionCallback(n)}}e.Action=D;class y extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new f.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new f.Emitter),this.onDidRun=this._onDidRun.event}async run(n,i){if(!n.enabled)return;this._onWillRun.fire({action:n});let t;try{await this.runAction(n,i)}catch(s){t=s}this._onDidRun.fire({action:n,error:t})}async runAction(n,i){await n.run(i)}}e.ActionRunner=y;class m{constructor(){this.id=m.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...n){let i=[];for(const t of n)t.length&&(i.length?i=[...i,new m,...t]:i=t);return i}async run(){}}e.Separator=m,m.ID="vs.actions.separator";class w{get actions(){return this._actions}constructor(n,i,t,s){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=n,this.label=i,this.class=s,this._actions=t}async run(){}}e.SubmenuAction=w;class b extends D{constructor(){super(b.ID,L.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=b,b.ID="vs.actions.empty";function C(o){var n,i;return{id:o.id,label:o.label,tooltip:(n=o.tooltip)!==null&&n!==void 0?n:o.label,class:o.class,enabled:(i=o.enabled)!==null&&i!==void 0?i:!0,checked:o.checked,run:async(...t)=>o.run(...t)}}}),define(ne[337],se([1,0,41]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionRunnerWithContext=void 0;class k extends f.ActionRunner{constructor(D){super(),this._getContext=D}runAction(D,y){const m=this._getContext();return super.runAction(D,m)}}e.ActionRunnerWithContext=k}),define(ne[616],se([3,4]),function(X,e){return X.create("vs/base/common/errorMessage",e)}),define(ne[338],se([1,0,13,20,616]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=w;function D(b,C){return C&&(b.stack||b.stacktrace)?L.localize(0,null,m(b),y(b.stack)||y(b.stacktrace)):m(b)}function y(b){return Array.isArray(b)?b.join(`
`):b}function m(b){return b.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${b.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof b.code=="string"&&typeof b.errno=="number"&&typeof b.syscall=="string"?L.localize(1,null,b.message):b.message||L.localize(2,null)}function w(b=null,C=!1){if(!b)return L.localize(3,null);if(Array.isArray(b)){const o=f.coalesce(b),n=w(o[0],C);return o.length>1?L.localize(4,null,n,o.length):n}if(k.isString(b))return b;if(b.detail){const o=b.detail;if(o.error)return D(o.error,C);if(o.exception)return D(o.exception,C)}return b.stack?D(b,C):b.message?b.message:L.localize(5,null)}}),define(ne[617],se([3,4]),function(X,e){return X.create("vs/base/common/keybindingLabels",e)}),define(ne[243],se([1,0,617]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(y,m,w=m){this.modifierLabels=[null],this.modifierLabels[2]=y,this.modifierLabels[1]=m,this.modifierLabels[3]=w}toLabel(y,m,w){if(m.length===0)return null;const b=[];for(let C=0,o=m.length;C<o;C++){const n=m[C],i=w(n);if(i===null)return null;b[C]=L(n,i,this.modifierLabels[y])}return b.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:f.localize(0,null),shiftKey:f.localize(1,null),altKey:f.localize(2,null),metaKey:f.localize(3,null),separator:"+"},{ctrlKey:f.localize(4,null),shiftKey:f.localize(5,null),altKey:f.localize(6,null),metaKey:f.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:f.localize(8,null),shiftKey:f.localize(9,null),altKey:f.localize(10,null),metaKey:f.localize(11,null),separator:"+"},{ctrlKey:f.localize(12,null),shiftKey:f.localize(13,null),altKey:f.localize(14,null),metaKey:f.localize(15,null),separator:"+"},{ctrlKey:f.localize(16,null),shiftKey:f.localize(17,null),altKey:f.localize(18,null),metaKey:f.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function L(D,y,m){if(y===null)return"";const w=[];return D.ctrlKey&&w.push(m.ctrlKey),D.shiftKey&&w.push(m.shiftKey),D.altKey&&w.push(m.altKey),D.metaKey&&w.push(m.metaKey),y!==""&&w.push(y),w.join(m.separator)}}),define(ne[618],se([3,4]),function(X,e){return X.create("vs/base/common/platform",e)}),define(ne[17],se([1,0,618]),function(X,e,f){"use strict";var k,L;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.webWorkerOrigin=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.LANGUAGE_DEFAULT=void 0,e.isLittleEndian=S,e.LANGUAGE_DEFAULT="en";let D=!1,y=!1,m=!1,w=!1,b=!1,C=!1,o=!1,n=!1,i=!1,t=!1,s,c=e.LANGUAGE_DEFAULT,g=e.LANGUAGE_DEFAULT,l,r;const d=globalThis;let u;typeof d.vscode<"u"&&typeof d.vscode.process<"u"?u=d.vscode.process:typeof process<"u"&&typeof((k=process==null?void 0:process.versions)===null||k===void 0?void 0:k.node)=="string"&&(u=process);const a=typeof((L=u?.versions)===null||L===void 0?void 0:L.electron)=="string",v=a&&u?.type==="renderer";if(typeof u=="object"){D=u.platform==="win32",y=u.platform==="darwin",m=u.platform==="linux",w=m&&!!u.env.SNAP&&!!u.env.SNAP_REVISION,o=a,i=!!u.env.CI||!!u.env.BUILD_ARTIFACTSTAGINGDIRECTORY,s=e.LANGUAGE_DEFAULT,c=e.LANGUAGE_DEFAULT;const E=u.env.VSCODE_NLS_CONFIG;if(E)try{const I=JSON.parse(E),T=I.availableLanguages["*"];s=I.locale,g=I.osLocale,c=T||e.LANGUAGE_DEFAULT,l=I._translationsConfigFile}catch{}b=!0}else typeof navigator=="object"&&!v?(r=navigator.userAgent,D=r.indexOf("Windows")>=0,y=r.indexOf("Macintosh")>=0,n=(r.indexOf("Macintosh")>=0||r.indexOf("iPad")>=0||r.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,m=r.indexOf("Linux")>=0,t=r?.indexOf("Mobi")>=0,C=!0,s=f.getConfiguredDefaultLocale(f.localize(0,null))||e.LANGUAGE_DEFAULT,c=s,g=navigator.language):console.error("Unable to resolve platform.");let h=0;y?h=1:D?h=3:m&&(h=2),e.isWindows=D,e.isMacintosh=y,e.isLinux=m,e.isNative=b,e.isWeb=C,e.isWebWorker=C&&typeof d.importScripts=="function",e.webWorkerOrigin=e.isWebWorker?d.origin:void 0,e.isIOS=n,e.isMobile=t,e.userAgent=r,e.language=c,e.setTimeout0IsFaster=typeof d.postMessage=="function"&&!d.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const E=[];d.addEventListener("message",T=>{if(T.data&&T.data.vscodeScheduleAsyncWork)for(let N=0,A=E.length;N<A;N++){const R=E[N];if(R.id===T.data.vscodeScheduleAsyncWork){E.splice(N,1),R.callback();return}}});let I=0;return T=>{const N=++I;E.push({id:N,callback:T}),d.postMessage({vscodeScheduleAsyncWork:N},"*")}}return E=>setTimeout(E)})(),e.OS=y||n?2:D?1:3;let p=!0,_=!1;function S(){if(!_){_=!0;const E=new Uint8Array(2);E[0]=1,E[1]=2,p=new Uint16Array(E.buffer)[0]===513}return p}e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ne[244],se([1,0,66,52,17]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:L.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:L.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:L.isNative||f.isStandalone()?0:navigator.keyboard||f.isSafari?1:2,touch:"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0,pointerEvents:k.mainWindow.PointerEvent&&("ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0)}}),define(ne[619],se([1,0,17]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FONT_FAMILY=void 0,e.DEFAULT_FONT_FAMILY=f.isWindows?'"Segoe WPC", "Segoe UI", sans-serif':f.isMacintosh?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif'}),define(ne[46],se([1,0,66,70,136,17]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function y(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return k.KeyCodeUtils.fromString(t)}const i=n.keyCode;if(i===3)return 7;if(f.isFirefox)switch(i){case 59:return 85;case 60:if(D.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(D.isMacintosh)return 57;break}else if(f.isWebKit){if(D.isMacintosh&&i===93)return 57;if(!D.isMacintosh&&i===92)return 57}return k.EVENT_KEY_CODE_MAP[i]||0}const m=D.isMacintosh?256:2048,w=512,b=1024,C=D.isMacintosh?2048:256;class o{constructor(i){var t;this._standardKeyboardEventBrand=!0;const s=i;this.browserEvent=s,this.target=s.target,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.altKey=s.altKey,this.metaKey=s.metaKey,this.altGraphKey=(t=s.getModifierState)===null||t===void 0?void 0:t.call(s,"AltGraph"),this.keyCode=y(s),this.code=s.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(i){return this._asKeybinding===i}_computeKeybinding(){let i=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode);let t=0;return this.ctrlKey&&(t|=m),this.altKey&&(t|=w),this.shiftKey&&(t|=b),this.metaKey&&(t|=C),t|=i,t}_computeKeyCodeChord(){let i=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode),new L.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,i)}}e.StandardKeyboardEvent=o}),define(ne[74],se([1,0,66,425,17]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(w,b){this.timestamp=Date.now(),this.browserEvent=b,this.leftButton=b.button===0,this.middleButton=b.button===1,this.rightButton=b.button===2,this.buttons=b.buttons,this.target=b.target,this.detail=b.detail||1,b.type==="dblclick"&&(this.detail=2),this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,typeof b.pageX=="number"?(this.posx=b.pageX,this.posy=b.pageY):(this.posx=b.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=b.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const C=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(w,b.view);this.posx-=C.left,this.posy-=C.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class y{constructor(w,b=0,C=0){var o;this.browserEvent=w||null,this.target=w?w.target||w.targetNode||w.srcElement:null,this.deltaY=C,this.deltaX=b;let n=!1;if(f.isChrome){const i=navigator.userAgent.match(/Chrome\/(\d+)/);n=(i?parseInt(i[1]):123)<=122}if(w){const i=w,t=w,s=((o=w.view)===null||o===void 0?void 0:o.devicePixelRatio)||1;if(typeof i.wheelDeltaY<"u")n?this.deltaY=i.wheelDeltaY/(120*s):this.deltaY=i.wheelDeltaY/120;else if(typeof t.VERTICAL_AXIS<"u"&&t.axis===t.VERTICAL_AXIS)this.deltaY=-t.detail/3;else if(w.type==="wheel"){const c=w;c.deltaMode===c.DOM_DELTA_LINE?f.isFirefox&&!L.isMacintosh?this.deltaY=-w.deltaY/3:this.deltaY=-w.deltaY:this.deltaY=-w.deltaY/40}if(typeof i.wheelDeltaX<"u")f.isSafari&&L.isWindows?this.deltaX=-(i.wheelDeltaX/120):n?this.deltaX=i.wheelDeltaX/(120*s):this.deltaX=i.wheelDeltaX/120;else if(typeof t.HORIZONTAL_AXIS<"u"&&t.axis===t.HORIZONTAL_AXIS)this.deltaX=-w.detail/3;else if(w.type==="wheel"){const c=w;c.deltaMode===c.DOM_DELTA_LINE?f.isFirefox&&!L.isMacintosh?this.deltaX=-w.deltaX/3:this.deltaX=-w.deltaX:this.deltaX=-w.deltaX/40}this.deltaY===0&&this.deltaX===0&&w.wheelDelta&&(n?this.deltaY=w.wheelDelta/(120*s):this.deltaY=w.wheelDelta/120)}}preventDefault(){var w;(w=this.browserEvent)===null||w===void 0||w.preventDefault()}stopPropagation(){var w;(w=this.browserEvent)===null||w===void 0||w.stopPropagation()}}e.StandardWheelEvent=y}),define(ne[15],se([1,0,19,9,7,2,17,295]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.GlobalIdleValue=e.AbstractIdleValue=e._runWhenIdle=e.runWhenGlobalIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ThrottledDelayer=e.Delayer=e.Throttler=void 0,e.isThenable=w,e.createCancelablePromise=b,e.raceCancellation=C,e.timeout=c,e.disposableTimeout=g,e.first=l,e.createCancelableAsyncIterable=E;function w(I){return!!I&&typeof I.then=="function"}function b(I){const T=new f.CancellationTokenSource,N=I(T.token),A=new Promise((R,M)=>{const P=T.token.onCancellationRequested(()=>{P.dispose(),M(new k.CancellationError)});Promise.resolve(N).then(F=>{P.dispose(),T.dispose(),R(F)},F=>{P.dispose(),T.dispose(),M(F)})});return new class{cancel(){T.cancel(),T.dispose()}then(R,M){return A.then(R,M)}catch(R){return this.then(void 0,R)}finally(R){return A.finally(R)}}}function C(I,T,N){return new Promise((A,R)=>{const M=T.onCancellationRequested(()=>{M.dispose(),A(N)});I.then(A,R).finally(()=>M.dispose())})}class o{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(T){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=T,!this.queuedPromise){const N=()=>{if(this.queuedPromise=null,this.isDisposed)return;const A=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,A};this.queuedPromise=new Promise(A=>{this.activePromise.then(N,N).then(A)})}return new Promise((N,A)=>{this.queuedPromise.then(N,A)})}return this.activePromise=T(),new Promise((N,A)=>{this.activePromise.then(R=>{this.activePromise=null,N(R)},R=>{this.activePromise=null,A(R)})})}dispose(){this.isDisposed=!0}}e.Throttler=o;const n=(I,T)=>{let N=!0;const A=setTimeout(()=>{N=!1,T()},I);return{isTriggered:()=>N,dispose:()=>{clearTimeout(A),N=!1}}},i=I=>{let T=!0;return queueMicrotask(()=>{T&&(T=!1,I())}),{isTriggered:()=>T,dispose:()=>{T=!1}}};class t{constructor(T){this.defaultDelay=T,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(T,N=this.defaultDelay){this.task=T,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((R,M)=>{this.doResolve=R,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const R=this.task;return this.task=null,R()}}));const A=()=>{var R;this.deferred=null,(R=this.doResolve)===null||R===void 0||R.call(this,null)};return this.deferred=N===m.MicrotaskDelay?i(A):n(N,A),this.completionPromise}isTriggered(){var T;return!!(!((T=this.deferred)===null||T===void 0)&&T.isTriggered())}cancel(){var T;this.cancelTimeout(),this.completionPromise&&((T=this.doReject)===null||T===void 0||T.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var T;(T=this.deferred)===null||T===void 0||T.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class s{constructor(T){this.delayer=new t(T),this.throttler=new o}trigger(T,N){return this.delayer.trigger(()=>this.throttler.queue(T),N)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=s;function c(I,T){return T?new Promise((N,A)=>{const R=setTimeout(()=>{M.dispose(),N()},I),M=T.onCancellationRequested(()=>{clearTimeout(R),M.dispose(),A(new k.CancellationError)})}):b(N=>c(I,N))}function g(I,T=0,N){const A=setTimeout(()=>{I(),N&&R.dispose()},T),R=(0,D.toDisposable)(()=>{clearTimeout(A),N?.deleteAndLeak(R)});return N?.add(R),R}function l(I,T=A=>!!A,N=null){let A=0;const R=I.length,M=()=>{if(A>=R)return Promise.resolve(N);const P=I[A++];return Promise.resolve(P()).then(O=>T(O)?Promise.resolve(O):M())};return M()}class r{constructor(T,N){this._isDisposed=!1,this._token=-1,typeof T=="function"&&typeof N=="number"&&this.setIfNotSet(T,N)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(T,N){if(this._isDisposed)throw new k.BugIndicatingError("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,T()},N)}setIfNotSet(T,N){if(this._isDisposed)throw new k.BugIndicatingError("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,T()},N))}}e.TimeoutTimer=r;class d{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var T;(T=this.disposable)===null||T===void 0||T.dispose(),this.disposable=void 0}cancelAndSet(T,N,A=globalThis){if(this.isDisposed)throw new k.BugIndicatingError("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const R=A.setInterval(()=>{T()},N);this.disposable=(0,D.toDisposable)(()=>{A.clearInterval(R),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}e.IntervalTimer=d;class u{constructor(T,N){this.timeoutToken=-1,this.runner=T,this.timeout=N,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(T=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,T)}get delay(){return this.timeout}set delay(T){this.timeout=T}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var T;(T=this.runner)===null||T===void 0||T.call(this)}}e.RunOnceScheduler=u,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e._runWhenIdle=(I,T)=>{(0,y.setTimeout0)(()=>{if(N)return;const A=Date.now()+15;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,A-Date.now())}}))});let N=!1;return{dispose(){N||(N=!0)}}}:e._runWhenIdle=(I,T,N)=>{const A=I.requestIdleCallback(T,typeof N=="number"?{timeout:N}:void 0);let R=!1;return{dispose(){R||(R=!0,I.cancelIdleCallback(A))}}},e.runWhenGlobalIdle=I=>(0,e._runWhenIdle)(globalThis,I)}();class a{constructor(T,N){this._didRun=!1,this._executor=()=>{try{this._value=N()}catch(A){this._error=A}finally{this._didRun=!0}},this._handle=(0,e._runWhenIdle)(T,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.AbstractIdleValue=a;class v extends a{constructor(T){super(globalThis,T)}}e.GlobalIdleValue=v;class h{get isRejected(){var T;return((T=this.outcome)===null||T===void 0?void 0:T.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((T,N)=>{this.completeCallback=T,this.errorCallback=N})}complete(T){return new Promise(N=>{this.completeCallback(T),this.outcome={outcome:0,value:T},N()})}error(T){return new Promise(N=>{this.errorCallback(T),this.outcome={outcome:1,value:T},N()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=h;var p;(function(I){async function T(A){let R;const M=await Promise.all(A.map(P=>P.then(F=>F,F=>{R||(R=F)})));if(typeof R<"u")throw R;return M}I.settled=T;function N(A){return new Promise(async(R,M)=>{try{await A(R,M)}catch(P){M(P)}})}I.withAsyncBody=N})(p||(e.Promises=p={}));class _{static fromArray(T){return new _(N=>{N.emitMany(T)})}static fromPromise(T){return new _(async N=>{N.emitMany(await T)})}static fromPromises(T){return new _(async N=>{await Promise.all(T.map(async A=>N.emitOne(await A)))})}static merge(T){return new _(async N=>{await Promise.all(T.map(async A=>{for await(const R of A)N.emitOne(R)}))})}constructor(T,N){this._state=0,this._results=[],this._error=null,this._onReturn=N,this._onStateChanged=new L.Emitter,queueMicrotask(async()=>{const A={emitOne:R=>this.emitOne(R),emitMany:R=>this.emitMany(R),reject:R=>this.reject(R)};try{await Promise.resolve(T(A)),this.resolve()}catch(R){this.reject(R)}finally{A.emitOne=void 0,A.emitMany=void 0,A.reject=void 0}})}[Symbol.asyncIterator](){let T=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(T<this._results.length)return{done:!1,value:this._results[T++]};if(this._state===1)return{done:!0,value:void 0};await L.Event.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var N;return(N=this._onReturn)===null||N===void 0||N.call(this),{done:!0,value:void 0}}}}static map(T,N){return new _(async A=>{for await(const R of T)A.emitOne(N(R))})}map(T){return _.map(this,T)}static filter(T,N){return new _(async A=>{for await(const R of T)N(R)&&A.emitOne(R)})}filter(T){return _.filter(this,T)}static coalesce(T){return _.filter(T,N=>!!N)}coalesce(){return _.coalesce(this)}static async toPromise(T){const N=[];for await(const A of T)N.push(A);return N}toPromise(){return _.toPromise(this)}emitOne(T){this._state===0&&(this._results.push(T),this._onStateChanged.fire())}emitMany(T){this._state===0&&(this._results=this._results.concat(T),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(T){this._state===0&&(this._state=2,this._error=T,this._onStateChanged.fire())}}e.AsyncIterableObject=_,_.EMPTY=_.fromArray([]);class S extends _{constructor(T,N){super(N),this._source=T}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=S;function E(I){const T=new f.CancellationTokenSource,N=I(T.token);return new S(T,async A=>{const R=T.token.onCancellationRequested(()=>{R.dispose(),T.dispose(),A.reject(new k.CancellationError)});try{for await(const M of N){if(T.token.isCancellationRequested)return;A.emitOne(M)}R.dispose(),T.dispose()}catch(M){R.dispose(),T.dispose(),A.reject(M)}})}}),define(ne[620],se([1,0,15,2]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class L extends k.Disposable{constructor(y,m,w){super(),this._visibility=y,this._visibleClassName=m,this._invisibleClassName=w,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new f.TimeoutTimer)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this._updateShouldBeVisible())}setShouldBeVisible(y){this._rawShouldBeVisible=y,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const y=this._applyVisibilitySetting();this._shouldBeVisible!==y&&(this._shouldBeVisible=y,this.ensureVisibility())}setIsNeeded(y){this._isNeeded!==y&&(this._isNeeded=y,this.ensureVisibility())}setDomNode(y){this._domNode=y,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var y;(y=this._domNode)===null||y===void 0||y.setClassName(this._visibleClassName)},0))}_hide(y){var m;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(m=this._domNode)===null||m===void 0||m.setClassName(this._invisibleClassName+(y?" fade":"")))}}e.ScrollbarVisibilityController=L}),define(ne[245],se([1,0,154,13,15,295,186,7,54]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=void 0,e.isFilterResult=b,e.getVisibleState=C;function b(i){return typeof i=="object"&&"visibility"in i&&"data"in i}function C(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}function o(i){return typeof i.collapsible=="boolean"}class n{constructor(t,s,c,g={}){var l;this.user=t,this.list=s,this.rootRef=[],this.eventBufferer=new m.EventBufferer,this._onDidChangeCollapseState=new m.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new m.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new m.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new L.Delayer(D.MicrotaskDelay),this.collapseByDefault=typeof g.collapseByDefault>"u"?!1:g.collapseByDefault,this.allowNonCollapsibleParents=(l=g.allowNonCollapsibleParents)!==null&&l!==void 0?l:!1,this.filter=g.filter,this.autoExpandSingleChildren=typeof g.autoExpandSingleChildren>"u"?!1:g.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,s,c=w.Iterable.empty(),g={}){if(t.length===0)throw new f.TreeError(this.user,"Invalid tree location");g.diffIdentityProvider?this.spliceSmart(g.diffIdentityProvider,t,s,c,g):this.spliceSimple(t,s,c,g)}spliceSmart(t,s,c,g,l,r){var d;g===void 0&&(g=w.Iterable.empty()),r===void 0&&(r=(d=l.diffDepth)!==null&&d!==void 0?d:0);const{parentNode:u}=this.getParentNodeWithListIndex(s);if(!u.lastDiffIds)return this.spliceSimple(s,c,g,l);const a=[...g],v=s[s.length-1],h=new y.LcsDiff({getElements:()=>u.lastDiffIds},{getElements:()=>[...u.children.slice(0,v),...a,...u.children.slice(v+c)].map(I=>t.getId(I.element).toString())}).ComputeDiff(!1);if(h.quitEarly)return u.lastDiffIds=void 0,this.spliceSimple(s,c,a,l);const p=s.slice(0,-1),_=(I,T,N)=>{if(r>0)for(let A=0;A<N;A++)I--,T--,this.spliceSmart(t,[...p,I,0],Number.MAX_SAFE_INTEGER,a[T].children,l,r-1)};let S=Math.min(u.children.length,v+c),E=a.length;for(const I of h.changes.sort((T,N)=>N.originalStart-T.originalStart))_(S,E,S-(I.originalStart+I.originalLength)),S=I.originalStart,E=I.modifiedStart-v,this.spliceSimple([...p,S],I.originalLength,w.Iterable.slice(a,E,E+I.modifiedLength),l);_(S,E,S)}spliceSimple(t,s,c=w.Iterable.empty(),{onDidCreateNode:g,onDidDeleteNode:l,diffIdentityProvider:r}){const{parentNode:d,listIndex:u,revealed:a,visible:v}=this.getParentNodeWithListIndex(t),h=[],p=w.Iterable.map(c,M=>this.createTreeNode(M,d,d.visible?1:0,a,h,g)),_=t[t.length-1];let S=0;for(let M=_;M>=0&&M<d.children.length;M--){const P=d.children[M];if(P.visible){S=P.visibleChildIndex;break}}const E=[];let I=0,T=0;for(const M of p)E.push(M),T+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=S+I++);const N=(0,k.splice)(d.children,_,s,E);r?d.lastDiffIds?(0,k.splice)(d.lastDiffIds,_,s,E.map(M=>r.getId(M.element).toString())):d.lastDiffIds=d.children.map(M=>r.getId(M.element).toString()):d.lastDiffIds=void 0;let A=0;for(const M of N)M.visible&&A++;if(A!==0)for(let M=_+E.length;M<d.children.length;M++){const P=d.children[M];P.visible&&(P.visibleChildIndex-=A)}if(d.visibleChildrenCount+=I-A,a&&v){const M=N.reduce((P,F)=>P+(F.visible?F.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(d,T-M),this.list.splice(u,M,h)}if(N.length>0&&l){const M=P=>{l(P),P.children.forEach(M)};N.forEach(M)}this._onDidSplice.fire({insertedNodes:E,deletedNodes:N});let R=d;for(;R;){if(R.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(t){if(t.length===0)throw new f.TreeError(this.user,"Invalid tree location");const{node:s,listIndex:c,revealed:g}=this.getTreeNodeWithListIndex(t);s.visible&&g&&this.list.splice(c,1,[s])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:s,visible:c,revealed:g}=this.getTreeNodeWithListIndex(t);return c&&g?s:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,s){const c=this.getTreeNode(t);typeof s>"u"&&(s=!c.collapsible);const g={collapsible:s};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,g))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,s,c){const g=this.getTreeNode(t);typeof s>"u"&&(s=!g.collapsed);const l={collapsed:s,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,l))}_setCollapseState(t,s){const{node:c,listIndex:g,revealed:l}=this.getTreeNodeWithListIndex(t),r=this._setListNodeCollapseState(c,g,l,s);if(c!==this.root&&this.autoExpandSingleChildren&&r&&!o(s)&&c.collapsible&&!c.collapsed&&!s.recursive){let d=-1;for(let u=0;u<c.children.length;u++)if(c.children[u].visible)if(d>-1){d=-1;break}else d=u;d>-1&&this._setCollapseState([...t,d],s)}return r}_setListNodeCollapseState(t,s,c,g){const l=this._setNodeCollapseState(t,g,!1);if(!c||!t.visible||!l)return l;const r=t.renderNodeCount,d=this.updateNodeAfterCollapseChange(t),u=r-(s===-1?0:1);return this.list.splice(s+1,u,d.slice(1)),l}_setNodeCollapseState(t,s,c){let g;if(t===this.root?g=!1:(o(s)?(g=t.collapsible!==s.collapsible,t.collapsible=s.collapsible):t.collapsible?(g=t.collapsed!==s.collapsed,t.collapsed=s.collapsed):g=!1,g&&this._onDidChangeCollapseState.fire({node:t,deep:c})),!o(s)&&s.recursive)for(const l of t.children)g=this._setNodeCollapseState(l,s,!0)||g;return g}expandTo(t){this.eventBufferer.bufferEvents(()=>{let s=this.getTreeNode(t);for(;s.parent;)s=s.parent,t=t.slice(0,t.length-1),s.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,s=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,s),this.refilterDelayer.cancel()}createTreeNode(t,s,c,g,l,r){const d={parent:s,element:t.element,children:[],depth:s.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},u=this._filterNode(d,c);d.visibility=u,g&&l.push(d);const a=t.children||w.Iterable.empty(),v=g&&u!==0&&!d.collapsed;let h=0,p=1;for(const _ of a){const S=this.createTreeNode(_,d,u,v,l,r);d.children.push(S),p+=S.renderNodeCount,S.visible&&(S.visibleChildIndex=h++)}return this.allowNonCollapsibleParents||(d.collapsible=d.collapsible||d.children.length>0),d.visibleChildrenCount=h,d.visible=u===2?h>0:u===1,d.visible?d.collapsed||(d.renderNodeCount=p):(d.renderNodeCount=0,g&&l.pop()),r?.(d),d}updateNodeAfterCollapseChange(t){const s=t.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(t,c),this._updateAncestorsRenderNodeCount(t.parent,c.length-s),c}_updateNodeAfterCollapseChange(t,s){if(t.visible===!1)return 0;if(s.push(t),t.renderNodeCount=1,!t.collapsed)for(const c of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(c,s);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const s=t.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,c),this._updateAncestorsRenderNodeCount(t.parent,c.length-s),c}_updateNodeAfterFilterChange(t,s,c,g=!0){let l;if(t!==this.root){if(l=this._filterNode(t,s),l===0)return t.visible=!1,t.renderNodeCount=0,!1;g&&c.push(t)}const r=c.length;t.renderNodeCount=t===this.root?0:1;let d=!1;if(!t.collapsed||l!==0){let u=0;for(const a of t.children)d=this._updateNodeAfterFilterChange(a,l,c,g&&!t.collapsed)||d,a.visible&&(a.visibleChildIndex=u++);t.visibleChildrenCount=u}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=l===2?d:l===1,t.visibility=l),t.visible?t.collapsed||(t.renderNodeCount+=c.length-r):(t.renderNodeCount=0,g&&c.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,s){if(s!==0)for(;t;)t.renderNodeCount+=s,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,s){const c=this.filter?this.filter.filter(t.element,s):1;return typeof c=="boolean"?(t.filterData=void 0,c?1:0):b(c)?(t.filterData=c.data,C(c.visibility)):(t.filterData=void 0,C(c))}hasTreeNode(t,s=this.root){if(!t||t.length===0)return!0;const[c,...g]=t;return c<0||c>s.children.length?!1:this.hasTreeNode(g,s.children[c])}getTreeNode(t,s=this.root){if(!t||t.length===0)return s;const[c,...g]=t;if(c<0||c>s.children.length)throw new f.TreeError(this.user,"Invalid tree location");return this.getTreeNode(g,s.children[c])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:s,listIndex:c,revealed:g,visible:l}=this.getParentNodeWithListIndex(t),r=t[t.length-1];if(r<0||r>s.children.length)throw new f.TreeError(this.user,"Invalid tree location");const d=s.children[r];return{node:d,listIndex:c,revealed:g,visible:l&&d.visible}}getParentNodeWithListIndex(t,s=this.root,c=0,g=!0,l=!0){const[r,...d]=t;if(r<0||r>s.children.length)throw new f.TreeError(this.user,"Invalid tree location");for(let u=0;u<r;u++)c+=s.children[u].renderNodeCount;return g=g&&!s.collapsed,l=l&&s.visible,d.length===0?{parentNode:s,listIndex:c,revealed:g,visible:l}:this.getParentNodeWithListIndex(d,s.children[r],c+1,g,l)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const s=[];let c=t;for(;c.parent;)s.push(c.parent.children.indexOf(c)),c=c.parent;return s.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,k.tail2)(t)[0]}getFirstElementChild(t){const s=this.getTreeNode(t);if(s.children.length!==0)return s.children[0].element}}e.IndexTreeModel=n}),define(ne[246],se([1,0,245,154,54]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(m,w,b={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new f.IndexTreeModel(m,w,null,b),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,b.sorter&&(this.sorter={compare(C,o){return b.sorter.compare(C.element,o.element)}}),this.identityProvider=b.identityProvider}setChildren(m,w=L.Iterable.empty(),b={}){const C=this.getElementLocation(m);this._setChildren(C,this.preserveCollapseState(w),b)}_setChildren(m,w=L.Iterable.empty(),b){const C=new Set,o=new Set,n=t=>{var s;if(t.element===null)return;const c=t;if(C.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const g=this.identityProvider.getId(c.element).toString();o.add(g),this.nodesByIdentity.set(g,c)}(s=b.onDidCreateNode)===null||s===void 0||s.call(b,c)},i=t=>{var s;if(t.element===null)return;const c=t;if(C.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const g=this.identityProvider.getId(c.element).toString();o.has(g)||this.nodesByIdentity.delete(g)}(s=b.onDidDeleteNode)===null||s===void 0||s.call(b,c)};this.model.splice([...m,0],Number.MAX_VALUE,w,{...b,onDidCreateNode:n,onDidDeleteNode:i})}preserveCollapseState(m=L.Iterable.empty()){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),L.Iterable.map(m,w=>{let b=this.nodes.get(w.element);if(!b&&this.identityProvider){const n=this.identityProvider.getId(w.element).toString();b=this.nodesByIdentity.get(n)}if(!b){let n;return typeof w.collapsed>"u"?n=void 0:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?n=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?n=!1:n=!!w.collapsed,{...w,children:this.preserveCollapseState(w.children),collapsed:n}}const C=typeof w.collapsible=="boolean"?w.collapsible:b.collapsible;let o;return typeof w.collapsed>"u"||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?o=b.collapsed:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed?o=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded?o=!1:o=!!w.collapsed,{...w,collapsible:C,collapsed:o,children:this.preserveCollapseState(w.children)}})}rerender(m){const w=this.getElementLocation(m);this.model.rerender(w)}getFirstElementChild(m=null){const w=this.getElementLocation(m);return this.model.getFirstElementChild(w)}has(m){return this.nodes.has(m)}getListIndex(m){const w=this.getElementLocation(m);return this.model.getListIndex(w)}getListRenderCount(m){const w=this.getElementLocation(m);return this.model.getListRenderCount(w)}isCollapsible(m){const w=this.getElementLocation(m);return this.model.isCollapsible(w)}setCollapsible(m,w){const b=this.getElementLocation(m);return this.model.setCollapsible(b,w)}isCollapsed(m){const w=this.getElementLocation(m);return this.model.isCollapsed(w)}setCollapsed(m,w,b){const C=this.getElementLocation(m);return this.model.setCollapsed(C,w,b)}expandTo(m){const w=this.getElementLocation(m);this.model.expandTo(w)}refilter(){this.model.refilter()}getNode(m=null){if(m===null)return this.model.getNode(this.model.rootRef);const w=this.nodes.get(m);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return w}getNodeLocation(m){return m.element}getParentNodeLocation(m){if(m===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const w=this.nodes.get(m);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${m}`);const b=this.model.getNodeLocation(w),C=this.model.getParentNodeLocation(b);return this.model.getNode(C).element}getElementLocation(m){if(m===null)return[];const w=this.nodes.get(m);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return this.model.getNodeLocation(w)}}e.ObjectTreeModel=D}),define(ne[621],se([1,0,246,154,13,7,54]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=void 0,e.compress=w,e.decompress=C;function m(r){const d=[r.element],u=r.incompressible||!1;return{element:{elements:d,incompressible:u},children:y.Iterable.map(y.Iterable.from(r.children),m),collapsible:r.collapsible,collapsed:r.collapsed}}function w(r){const d=[r.element],u=r.incompressible||!1;let a,v;for(;[v,a]=y.Iterable.consume(y.Iterable.from(r.children),2),!(v.length!==1||v[0].incompressible);)r=v[0],d.push(r.element);return{element:{elements:d,incompressible:u},children:y.Iterable.map(y.Iterable.concat(v,a),w),collapsible:r.collapsible,collapsed:r.collapsed}}function b(r,d=0){let u;return d<r.element.elements.length-1?u=[b(r,d+1)]:u=y.Iterable.map(y.Iterable.from(r.children),a=>b(a,0)),d===0&&r.element.incompressible?{element:r.element.elements[d],children:u,incompressible:!0,collapsible:r.collapsible,collapsed:r.collapsed}:{element:r.element.elements[d],children:u,collapsible:r.collapsible,collapsed:r.collapsed}}function C(r){return b(r,0)}function o(r,d,u){return r.element===d?{...r,children:u}:{...r,children:y.Iterable.map(y.Iterable.from(r.children),a=>o(a,d,u))}}const n=r=>({getId(d){return d.elements.map(u=>r.getId(u).toString()).join("\0")}});class i{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(d,u,a={}){this.user=d,this.rootRef=null,this.nodes=new Map,this.model=new f.ObjectTreeModel(d,u,a),this.enabled=typeof a.compressionEnabled>"u"?!0:a.compressionEnabled,this.identityProvider=a.identityProvider}setChildren(d,u=y.Iterable.empty(),a){const v=a.diffIdentityProvider&&n(a.diffIdentityProvider);if(d===null){const R=y.Iterable.map(u,this.enabled?w:m);this._setChildren(null,R,{diffIdentityProvider:v,diffDepth:1/0});return}const h=this.nodes.get(d);if(!h)throw new k.TreeError(this.user,"Unknown compressed tree node");const p=this.model.getNode(h),_=this.model.getParentNodeLocation(h),S=this.model.getNode(_),E=C(p),I=o(E,d,u),T=(this.enabled?w:m)(I),N=a.diffIdentityProvider?(R,M)=>a.diffIdentityProvider.getId(R)===a.diffIdentityProvider.getId(M):void 0;if((0,L.equals)(T.element.elements,p.element.elements,N)){this._setChildren(h,T.children||y.Iterable.empty(),{diffIdentityProvider:v,diffDepth:1});return}const A=S.children.map(R=>R===p?T:R);this._setChildren(S.element,A,{diffIdentityProvider:v,diffDepth:p.depth-S.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(d){if(d===this.enabled)return;this.enabled=d;const a=this.model.getNode().children,v=y.Iterable.map(a,C),h=y.Iterable.map(v,d?w:m);this._setChildren(null,h,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(d,u,a){const v=new Set,h=_=>{for(const S of _.element.elements)v.add(S),this.nodes.set(S,_.element)},p=_=>{for(const S of _.element.elements)v.has(S)||this.nodes.delete(S)};this.model.setChildren(d,u,{...a,onDidCreateNode:h,onDidDeleteNode:p})}has(d){return this.nodes.has(d)}getListIndex(d){const u=this.getCompressedNode(d);return this.model.getListIndex(u)}getListRenderCount(d){const u=this.getCompressedNode(d);return this.model.getListRenderCount(u)}getNode(d){if(typeof d>"u")return this.model.getNode();const u=this.getCompressedNode(d);return this.model.getNode(u)}getNodeLocation(d){const u=this.model.getNodeLocation(d);return u===null?null:u.elements[u.elements.length-1]}getParentNodeLocation(d){const u=this.getCompressedNode(d),a=this.model.getParentNodeLocation(u);return a===null?null:a.elements[a.elements.length-1]}getFirstElementChild(d){const u=this.getCompressedNode(d);return this.model.getFirstElementChild(u)}isCollapsible(d){const u=this.getCompressedNode(d);return this.model.isCollapsible(u)}setCollapsible(d,u){const a=this.getCompressedNode(d);return this.model.setCollapsible(a,u)}isCollapsed(d){const u=this.getCompressedNode(d);return this.model.isCollapsed(u)}setCollapsed(d,u,a){const v=this.getCompressedNode(d);return this.model.setCollapsed(v,u,a)}expandTo(d){const u=this.getCompressedNode(d);this.model.expandTo(u)}rerender(d){const u=this.getCompressedNode(d);this.model.rerender(u)}refilter(){this.model.refilter()}getCompressedNode(d){if(d===null)return null;const u=this.nodes.get(d);if(!u)throw new k.TreeError(this.user,`Tree element not found: ${d}`);return u}}e.CompressedObjectTreeModel=i;const t=r=>r[r.length-1];e.DefaultElementMapper=t;class s{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(d=>new s(this.unwrapper,d))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(d,u){this.unwrapper=d,this.node=u}}function c(r,d){return{splice(u,a,v){d.splice(u,a,v.map(h=>r.map(h)))},updateElementHeight(u,a){d.updateElementHeight(u,a)}}}function g(r,d){return{...d,identityProvider:d.identityProvider&&{getId(u){return d.identityProvider.getId(r(u))}},sorter:d.sorter&&{compare(u,a){return d.sorter.compare(u.elements[0],a.elements[0])}},filter:d.filter&&{filter(u,a){return d.filter.filter(r(u),a)}}}}class l{get onDidSplice(){return D.Event.map(this.model.onDidSplice,({insertedNodes:d,deletedNodes:u})=>({insertedNodes:d.map(a=>this.nodeMapper.map(a)),deletedNodes:u.map(a=>this.nodeMapper.map(a))}))}get onDidChangeCollapseState(){return D.Event.map(this.model.onDidChangeCollapseState,({node:d,deep:u})=>({node:this.nodeMapper.map(d),deep:u}))}get onDidChangeRenderNodeCount(){return D.Event.map(this.model.onDidChangeRenderNodeCount,d=>this.nodeMapper.map(d))}constructor(d,u,a={}){this.rootRef=null,this.elementMapper=a.elementMapper||e.DefaultElementMapper;const v=h=>this.elementMapper(h.elements);this.nodeMapper=new k.WeakMapper(h=>new s(v,h)),this.model=new i(d,c(this.nodeMapper,u),g(v,a))}setChildren(d,u=y.Iterable.empty(),a={}){this.model.setChildren(d,u,a)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(d){this.model.setCompressionEnabled(d)}has(d){return this.model.has(d)}getListIndex(d){return this.model.getListIndex(d)}getListRenderCount(d){return this.model.getListRenderCount(d)}getNode(d){return this.nodeMapper.map(this.model.getNode(d))}getNodeLocation(d){return d.element}getParentNodeLocation(d){return this.model.getParentNodeLocation(d)}getFirstElementChild(d){const u=this.model.getFirstElementChild(d);return u===null||typeof u>"u"?u:this.elementMapper(u.elements)}isCollapsible(d){return this.model.isCollapsible(d)}setCollapsible(d,u){return this.model.setCollapsible(d,u)}isCollapsed(d){return this.model.isCollapsed(d)}setCollapsed(d,u,a){return this.model.setCollapsed(d,u,a)}expandTo(d){return this.model.expandTo(d)}rerender(d){return this.model.rerender(d)}refilter(){return this.model.refilter()}getCompressedTreeNode(d=null){return this.model.getNode(d)}}e.CompressibleObjectTreeModel=l}),define(ne[339],se([1,0,17]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;const L=globalThis.vscode;if(typeof L<"u"&&typeof L.process<"u"){const D=L.process;k={get platform(){return D.platform},get arch(){return D.arch},get env(){return D.env},cwd(){return D.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return f.isWindows?"win32":f.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(ne[622],se([1,0,339]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHotReloadEnabled=k,e.registerHotReloadHandler=L;function k(){return f.env&&!!f.env.VSCODE_DEV}function L(m){if(k()){const w=D();return w.add(m),{dispose(){w.delete(m)}}}else return{dispose(){}}}function D(){y||(y=new Set);const m=globalThis;return m.$hotReload_applyNewExports||(m.$hotReload_applyNewExports=w=>{const b={config:{mode:void 0},...w};for(const C of y){const o=C(b);if(o)return o}}),y}let y;k()&&L(({oldExports:m,newSrc:w,config:b})=>{if(b.mode==="patch-prototype")return C=>{var o,n;for(const i in C){const t=C[i];if(console.log(`[hot-reload] Patching prototype methods of '${i}'`,{exportedItem:t}),typeof t=="function"&&t.prototype){const s=m[i];if(s){for(const c of Object.getOwnPropertyNames(t.prototype)){const g=Object.getOwnPropertyDescriptor(t.prototype,c),l=Object.getOwnPropertyDescriptor(s.prototype,c);((o=g?.value)===null||o===void 0?void 0:o.toString())!==((n=l?.value)===null||n===void 0?void 0:n.toString())&&console.log(`[hot-reload] Patching prototype method '${i}.${c}'`),Object.defineProperty(s.prototype,c,g)}C[i]=s}}}return!0}})}),define(ne[98],se([1,0,339]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,L=97,D=90,y=122,m=46,w=47,b=92,C=58,o=63;class n extends Error{constructor(v,h,p){let _;typeof h=="string"&&h.indexOf("not ")===0?(_="must not be",h=h.replace(/^not /,"")):_="must be";const S=v.indexOf(".")!==-1?"property":"argument";let E=`The "${v}" ${S} ${_} of type ${h}`;E+=`. Received type ${typeof p}`,super(E),this.code="ERR_INVALID_ARG_TYPE"}}function i(a,v){if(a===null||typeof a!="object")throw new n(v,"Object",a)}function t(a,v){if(typeof a!="string")throw new n(v,"string",a)}const s=f.platform==="win32";function c(a){return a===w||a===b}function g(a){return a===w}function l(a){return a>=k&&a<=D||a>=L&&a<=y}function r(a,v,h,p){let _="",S=0,E=-1,I=0,T=0;for(let N=0;N<=a.length;++N){if(N<a.length)T=a.charCodeAt(N);else{if(p(T))break;T=w}if(p(T)){if(!(E===N-1||I===1))if(I===2){if(_.length<2||S!==2||_.charCodeAt(_.length-1)!==m||_.charCodeAt(_.length-2)!==m){if(_.length>2){const A=_.lastIndexOf(h);A===-1?(_="",S=0):(_=_.slice(0,A),S=_.length-1-_.lastIndexOf(h)),E=N,I=0;continue}else if(_.length!==0){_="",S=0,E=N,I=0;continue}}v&&(_+=_.length>0?`${h}..`:"..",S=2)}else _.length>0?_+=`${h}${a.slice(E+1,N)}`:_=a.slice(E+1,N),S=N-E-1;E=N,I=0}else T===m&&I!==-1?++I:I=-1}return _}function d(a,v){i(v,"pathObject");const h=v.dir||v.root,p=v.base||`${v.name||""}${v.ext||""}`;return h?h===v.root?`${h}${p}`:`${h}${a}${p}`:p}e.win32={resolve(...a){let v="",h="",p=!1;for(let _=a.length-1;_>=-1;_--){let S;if(_>=0){if(S=a[_],t(S,"path"),S.length===0)continue}else v.length===0?S=f.cwd():(S=f.env[`=${v}`]||f.cwd(),(S===void 0||S.slice(0,2).toLowerCase()!==v.toLowerCase()&&S.charCodeAt(2)===b)&&(S=`${v}\\`));const E=S.length;let I=0,T="",N=!1;const A=S.charCodeAt(0);if(E===1)c(A)&&(I=1,N=!0);else if(c(A))if(N=!0,c(S.charCodeAt(1))){let R=2,M=R;for(;R<E&&!c(S.charCodeAt(R));)R++;if(R<E&&R!==M){const P=S.slice(M,R);for(M=R;R<E&&c(S.charCodeAt(R));)R++;if(R<E&&R!==M){for(M=R;R<E&&!c(S.charCodeAt(R));)R++;(R===E||R!==M)&&(T=`\\\\${P}\\${S.slice(M,R)}`,I=R)}}}else I=1;else l(A)&&S.charCodeAt(1)===C&&(T=S.slice(0,2),I=2,E>2&&c(S.charCodeAt(2))&&(N=!0,I=3));if(T.length>0)if(v.length>0){if(T.toLowerCase()!==v.toLowerCase())continue}else v=T;if(p){if(v.length>0)break}else if(h=`${S.slice(I)}\\${h}`,p=N,N&&v.length>0)break}return h=r(h,!p,"\\",c),p?`${v}\\${h}`:`${v}${h}`||"."},normalize(a){t(a,"path");const v=a.length;if(v===0)return".";let h=0,p,_=!1;const S=a.charCodeAt(0);if(v===1)return g(S)?"\\":a;if(c(S))if(_=!0,c(a.charCodeAt(1))){let I=2,T=I;for(;I<v&&!c(a.charCodeAt(I));)I++;if(I<v&&I!==T){const N=a.slice(T,I);for(T=I;I<v&&c(a.charCodeAt(I));)I++;if(I<v&&I!==T){for(T=I;I<v&&!c(a.charCodeAt(I));)I++;if(I===v)return`\\\\${N}\\${a.slice(T)}\\`;I!==T&&(p=`\\\\${N}\\${a.slice(T,I)}`,h=I)}}}else h=1;else l(S)&&a.charCodeAt(1)===C&&(p=a.slice(0,2),h=2,v>2&&c(a.charCodeAt(2))&&(_=!0,h=3));let E=h<v?r(a.slice(h),!_,"\\",c):"";return E.length===0&&!_&&(E="."),E.length>0&&c(a.charCodeAt(v-1))&&(E+="\\"),p===void 0?_?`\\${E}`:E:_?`${p}\\${E}`:`${p}${E}`},isAbsolute(a){t(a,"path");const v=a.length;if(v===0)return!1;const h=a.charCodeAt(0);return c(h)||v>2&&l(h)&&a.charCodeAt(1)===C&&c(a.charCodeAt(2))},join(...a){if(a.length===0)return".";let v,h;for(let S=0;S<a.length;++S){const E=a[S];t(E,"path"),E.length>0&&(v===void 0?v=h=E:v+=`\\${E}`)}if(v===void 0)return".";let p=!0,_=0;if(typeof h=="string"&&c(h.charCodeAt(0))){++_;const S=h.length;S>1&&c(h.charCodeAt(1))&&(++_,S>2&&(c(h.charCodeAt(2))?++_:p=!1))}if(p){for(;_<v.length&&c(v.charCodeAt(_));)_++;_>=2&&(v=`\\${v.slice(_)}`)}return e.win32.normalize(v)},relative(a,v){if(t(a,"from"),t(v,"to"),a===v)return"";const h=e.win32.resolve(a),p=e.win32.resolve(v);if(h===p||(a=h.toLowerCase(),v=p.toLowerCase(),a===v))return"";let _=0;for(;_<a.length&&a.charCodeAt(_)===b;)_++;let S=a.length;for(;S-1>_&&a.charCodeAt(S-1)===b;)S--;const E=S-_;let I=0;for(;I<v.length&&v.charCodeAt(I)===b;)I++;let T=v.length;for(;T-1>I&&v.charCodeAt(T-1)===b;)T--;const N=T-I,A=E<N?E:N;let R=-1,M=0;for(;M<A;M++){const F=a.charCodeAt(_+M);if(F!==v.charCodeAt(I+M))break;F===b&&(R=M)}if(M!==A){if(R===-1)return p}else{if(N>A){if(v.charCodeAt(I+M)===b)return p.slice(I+M+1);if(M===2)return p.slice(I+M)}E>A&&(a.charCodeAt(_+M)===b?R=M:M===2&&(R=3)),R===-1&&(R=0)}let P="";for(M=_+R+1;M<=S;++M)(M===S||a.charCodeAt(M)===b)&&(P+=P.length===0?"..":"\\..");return I+=R,P.length>0?`${P}${p.slice(I,T)}`:(p.charCodeAt(I)===b&&++I,p.slice(I,T))},toNamespacedPath(a){if(typeof a!="string"||a.length===0)return a;const v=e.win32.resolve(a);if(v.length<=2)return a;if(v.charCodeAt(0)===b){if(v.charCodeAt(1)===b){const h=v.charCodeAt(2);if(h!==o&&h!==m)return`\\\\?\\UNC\\${v.slice(2)}`}}else if(l(v.charCodeAt(0))&&v.charCodeAt(1)===C&&v.charCodeAt(2)===b)return`\\\\?\\${v}`;return a},dirname(a){t(a,"path");const v=a.length;if(v===0)return".";let h=-1,p=0;const _=a.charCodeAt(0);if(v===1)return c(_)?a:".";if(c(_)){if(h=p=1,c(a.charCodeAt(1))){let I=2,T=I;for(;I<v&&!c(a.charCodeAt(I));)I++;if(I<v&&I!==T){for(T=I;I<v&&c(a.charCodeAt(I));)I++;if(I<v&&I!==T){for(T=I;I<v&&!c(a.charCodeAt(I));)I++;if(I===v)return a;I!==T&&(h=p=I+1)}}}}else l(_)&&a.charCodeAt(1)===C&&(h=v>2&&c(a.charCodeAt(2))?3:2,p=h);let S=-1,E=!0;for(let I=v-1;I>=p;--I)if(c(a.charCodeAt(I))){if(!E){S=I;break}}else E=!1;if(S===-1){if(h===-1)return".";S=h}return a.slice(0,S)},basename(a,v){v!==void 0&&t(v,"ext"),t(a,"path");let h=0,p=-1,_=!0,S;if(a.length>=2&&l(a.charCodeAt(0))&&a.charCodeAt(1)===C&&(h=2),v!==void 0&&v.length>0&&v.length<=a.length){if(v===a)return"";let E=v.length-1,I=-1;for(S=a.length-1;S>=h;--S){const T=a.charCodeAt(S);if(c(T)){if(!_){h=S+1;break}}else I===-1&&(_=!1,I=S+1),E>=0&&(T===v.charCodeAt(E)?--E===-1&&(p=S):(E=-1,p=I))}return h===p?p=I:p===-1&&(p=a.length),a.slice(h,p)}for(S=a.length-1;S>=h;--S)if(c(a.charCodeAt(S))){if(!_){h=S+1;break}}else p===-1&&(_=!1,p=S+1);return p===-1?"":a.slice(h,p)},extname(a){t(a,"path");let v=0,h=-1,p=0,_=-1,S=!0,E=0;a.length>=2&&a.charCodeAt(1)===C&&l(a.charCodeAt(0))&&(v=p=2);for(let I=a.length-1;I>=v;--I){const T=a.charCodeAt(I);if(c(T)){if(!S){p=I+1;break}continue}_===-1&&(S=!1,_=I+1),T===m?h===-1?h=I:E!==1&&(E=1):h!==-1&&(E=-1)}return h===-1||_===-1||E===0||E===1&&h===_-1&&h===p+1?"":a.slice(h,_)},format:d.bind(null,"\\"),parse(a){t(a,"path");const v={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return v;const h=a.length;let p=0,_=a.charCodeAt(0);if(h===1)return c(_)?(v.root=v.dir=a,v):(v.base=v.name=a,v);if(c(_)){if(p=1,c(a.charCodeAt(1))){let R=2,M=R;for(;R<h&&!c(a.charCodeAt(R));)R++;if(R<h&&R!==M){for(M=R;R<h&&c(a.charCodeAt(R));)R++;if(R<h&&R!==M){for(M=R;R<h&&!c(a.charCodeAt(R));)R++;R===h?p=R:R!==M&&(p=R+1)}}}}else if(l(_)&&a.charCodeAt(1)===C){if(h<=2)return v.root=v.dir=a,v;if(p=2,c(a.charCodeAt(2))){if(h===3)return v.root=v.dir=a,v;p=3}}p>0&&(v.root=a.slice(0,p));let S=-1,E=p,I=-1,T=!0,N=a.length-1,A=0;for(;N>=p;--N){if(_=a.charCodeAt(N),c(_)){if(!T){E=N+1;break}continue}I===-1&&(T=!1,I=N+1),_===m?S===-1?S=N:A!==1&&(A=1):S!==-1&&(A=-1)}return I!==-1&&(S===-1||A===0||A===1&&S===I-1&&S===E+1?v.base=v.name=a.slice(E,I):(v.name=a.slice(E,S),v.base=a.slice(E,I),v.ext=a.slice(S,I))),E>0&&E!==p?v.dir=a.slice(0,E-1):v.dir=v.root,v},sep:"\\",delimiter:";",win32:null,posix:null};const u=(()=>{if(s){const a=/\\/g;return()=>{const v=f.cwd().replace(a,"/");return v.slice(v.indexOf("/"))}}return()=>f.cwd()})();e.posix={resolve(...a){let v="",h=!1;for(let p=a.length-1;p>=-1&&!h;p--){const _=p>=0?a[p]:u();t(_,"path"),_.length!==0&&(v=`${_}/${v}`,h=_.charCodeAt(0)===w)}return v=r(v,!h,"/",g),h?`/${v}`:v.length>0?v:"."},normalize(a){if(t(a,"path"),a.length===0)return".";const v=a.charCodeAt(0)===w,h=a.charCodeAt(a.length-1)===w;return a=r(a,!v,"/",g),a.length===0?v?"/":h?"./":".":(h&&(a+="/"),v?`/${a}`:a)},isAbsolute(a){return t(a,"path"),a.length>0&&a.charCodeAt(0)===w},join(...a){if(a.length===0)return".";let v;for(let h=0;h<a.length;++h){const p=a[h];t(p,"path"),p.length>0&&(v===void 0?v=p:v+=`/${p}`)}return v===void 0?".":e.posix.normalize(v)},relative(a,v){if(t(a,"from"),t(v,"to"),a===v||(a=e.posix.resolve(a),v=e.posix.resolve(v),a===v))return"";const h=1,p=a.length,_=p-h,S=1,E=v.length-S,I=_<E?_:E;let T=-1,N=0;for(;N<I;N++){const R=a.charCodeAt(h+N);if(R!==v.charCodeAt(S+N))break;R===w&&(T=N)}if(N===I)if(E>I){if(v.charCodeAt(S+N)===w)return v.slice(S+N+1);if(N===0)return v.slice(S+N)}else _>I&&(a.charCodeAt(h+N)===w?T=N:N===0&&(T=0));let A="";for(N=h+T+1;N<=p;++N)(N===p||a.charCodeAt(N)===w)&&(A+=A.length===0?"..":"/..");return`${A}${v.slice(S+T)}`},toNamespacedPath(a){return a},dirname(a){if(t(a,"path"),a.length===0)return".";const v=a.charCodeAt(0)===w;let h=-1,p=!0;for(let _=a.length-1;_>=1;--_)if(a.charCodeAt(_)===w){if(!p){h=_;break}}else p=!1;return h===-1?v?"/":".":v&&h===1?"//":a.slice(0,h)},basename(a,v){v!==void 0&&t(v,"ext"),t(a,"path");let h=0,p=-1,_=!0,S;if(v!==void 0&&v.length>0&&v.length<=a.length){if(v===a)return"";let E=v.length-1,I=-1;for(S=a.length-1;S>=0;--S){const T=a.charCodeAt(S);if(T===w){if(!_){h=S+1;break}}else I===-1&&(_=!1,I=S+1),E>=0&&(T===v.charCodeAt(E)?--E===-1&&(p=S):(E=-1,p=I))}return h===p?p=I:p===-1&&(p=a.length),a.slice(h,p)}for(S=a.length-1;S>=0;--S)if(a.charCodeAt(S)===w){if(!_){h=S+1;break}}else p===-1&&(_=!1,p=S+1);return p===-1?"":a.slice(h,p)},extname(a){t(a,"path");let v=-1,h=0,p=-1,_=!0,S=0;for(let E=a.length-1;E>=0;--E){const I=a.charCodeAt(E);if(I===w){if(!_){h=E+1;break}continue}p===-1&&(_=!1,p=E+1),I===m?v===-1?v=E:S!==1&&(S=1):v!==-1&&(S=-1)}return v===-1||p===-1||S===0||S===1&&v===p-1&&v===h+1?"":a.slice(v,p)},format:d.bind(null,"/"),parse(a){t(a,"path");const v={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return v;const h=a.charCodeAt(0)===w;let p;h?(v.root="/",p=1):p=0;let _=-1,S=0,E=-1,I=!0,T=a.length-1,N=0;for(;T>=p;--T){const A=a.charCodeAt(T);if(A===w){if(!I){S=T+1;break}continue}E===-1&&(I=!1,E=T+1),A===m?_===-1?_=T:N!==1&&(N=1):_!==-1&&(N=-1)}if(E!==-1){const A=S===0&&h?1:S;_===-1||N===0||N===1&&_===E-1&&_===S+1?v.base=v.name=a.slice(A,E):(v.name=a.slice(A,_),v.base=a.slice(A,E),v.ext=a.slice(_,E))}return S>0?v.dir=a.slice(0,S-1):h&&(v.dir="/"),v},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=s?e.win32.normalize:e.posix.normalize,e.resolve=s?e.win32.resolve:e.posix.resolve,e.relative=s?e.win32.relative:e.posix.relative,e.dirname=s?e.win32.dirname:e.posix.dirname,e.basename=s?e.win32.basename:e.posix.basename,e.extname=s?e.win32.extname:e.posix.extname,e.sep=s?e.win32.sep:e.posix.sep}),define(ne[247],se([1,0,98,17,11]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSeparator=D,e.toSlashes=y,e.toPosixPath=m,e.getRoot=w,e.isEqualOrParent=b,e.isWindowsDriveLetter=C,e.hasDriveLetter=o;function D(n){return n===47||n===92}function y(n){return n.replace(/[\\/]/g,f.posix.sep)}function m(n){return n.indexOf("/")===-1&&(n=y(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function w(n,i=f.posix.sep){if(!n)return"";const t=n.length,s=n.charCodeAt(0);if(D(s)){if(D(n.charCodeAt(1))&&!D(n.charCodeAt(2))){let g=3;const l=g;for(;g<t&&!D(n.charCodeAt(g));g++);if(l!==g&&!D(n.charCodeAt(g+1))){for(g+=1;g<t;g++)if(D(n.charCodeAt(g)))return n.slice(0,g+1).replace(/[\\/]/g,i)}}return i}else if(C(s)&&n.charCodeAt(1)===58)return D(n.charCodeAt(2))?n.slice(0,2)+i:n.slice(0,2);let c=n.indexOf("://");if(c!==-1){for(c+=3;c<t;c++)if(D(n.charCodeAt(c)))return n.slice(0,c+1)}return""}function b(n,i,t,s=f.sep){if(n===i)return!0;if(!n||!i||i.length>n.length)return!1;if(t){if(!(0,L.startsWithIgnoreCase)(n,i))return!1;if(i.length===n.length)return!0;let g=i.length;return i.charAt(i.length-1)===s&&g--,n.charAt(g)===s}return i.charAt(i.length-1)!==s&&(i+=s),n.indexOf(i)===0}function C(n){return n>=65&&n<=90||n>=97&&n<=122}function o(n,i=k.isWindows){return i?C(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}}),define(ne[623],se([1,0,78,98,17,11]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scoreFuzzy2=m,e.prepareQuery=s,e.pieceToQuery=g;const y=[void 0,[]];function m(l,r,d=0,u=0){const a=r;return a.values&&a.values.length>1?w(l,a.values,d,u):b(l,r,d,u)}function w(l,r,d,u){let a=0;const v=[];for(const h of r){const[p,_]=b(l,h,d,u);if(typeof p!="number")return y;a+=p,v.push(..._)}return[a,o(v)]}function b(l,r,d,u){const a=(0,f.fuzzyScore)(r.original,r.originalLowercase,d,l,l.toLowerCase(),u,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return a?[a[0],(0,f.createMatches)(a)]:y}const C=Object.freeze({score:0});function o(l){const r=l.sort((a,v)=>a.start-v.start),d=[];let u;for(const a of r)!u||!n(u,a)?(u=a,d.push(a)):(u.start=Math.min(u.start,a.start),u.end=Math.max(u.end,a.end));return d}function n(l,r){return!(l.end<r.start||r.end<l.start)}function i(l){return l.startsWith('"')&&l.endsWith('"')}const t=" ";function s(l){typeof l!="string"&&(l="");const r=l.toLowerCase(),{pathNormalized:d,normalized:u,normalizedLowercase:a}=c(l),v=d.indexOf(k.sep)>=0,h=i(l);let p;const _=l.split(t);if(_.length>1)for(const S of _){const E=i(S),{pathNormalized:I,normalized:T,normalizedLowercase:N}=c(S);T&&(p||(p=[]),p.push({original:S,originalLowercase:S.toLowerCase(),pathNormalized:I,normalized:T,normalizedLowercase:N,expectContiguousMatch:E}))}return{original:l,originalLowercase:r,pathNormalized:d,normalized:u,normalizedLowercase:a,values:p,containsPathSeparator:v,expectContiguousMatch:h}}function c(l){let r;L.isWindows?r=l.replace(/\//g,k.sep):r=l.replace(/\\/g,k.sep);const d=(0,D.stripWildcards)(r).replace(/\s|"/g,"");return{pathNormalized:r,normalized:d,normalizedLowercase:d.toLowerCase()}}function g(l){return Array.isArray(l)?s(l.map(r=>r.original).join(t)):s(l.original)}}),define(ne[340],se([1,0,15,247,45,98,17,11]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.splitGlobAware=n,e.match=N,e.parse=A,e.isRelativePattern=R,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const w="[/\\\\]",b="[^/\\\\]",C=/\//g;function o(O,B){switch(O){case 0:return"";case 1:return`${b}*?`;default:return`(?:${w}|${b}+${w}${B?`|${w}${b}+`:""})*?`}}function n(O,B){if(!O)return[];const V=[];let K=!1,U=!1,G="";for(const z of O){switch(z){case B:if(!K&&!U){V.push(G),G="";continue}break;case"{":K=!0;break;case"}":K=!1;break;case"[":U=!0;break;case"]":U=!1;break}G+=z}return G&&V.push(G),V}function i(O){if(!O)return"";let B="";const V=n(O,e.GLOB_SPLIT);if(V.every(K=>K===e.GLOBSTAR))B=".*";else{let K=!1;V.forEach((U,G)=>{if(U===e.GLOBSTAR){if(K)return;B+=o(2,G===V.length-1)}else{let z=!1,$="",J=!1,ee="";for(const Z of U){if(Z!=="}"&&z){$+=Z;continue}if(J&&(Z!=="]"||!ee)){let x;Z==="-"?x=Z:(Z==="^"||Z==="!")&&!ee?x="^":Z===e.GLOB_SPLIT?x="":x=(0,m.escapeRegExpCharacters)(Z),ee+=x;continue}switch(Z){case"{":z=!0;continue;case"[":J=!0;continue;case"}":{const Y=`(?:${n($,",").map(ae=>i(ae)).join("|")})`;B+=Y,z=!1,$="";break}case"]":{B+="["+ee+"]",J=!1,ee="";break}case"?":B+=b;continue;case"*":B+=o(1);continue;default:B+=(0,m.escapeRegExpCharacters)(Z)}}G<V.length-1&&(V[G+1]!==e.GLOBSTAR||G+2<V.length)&&(B+=w)}K=U===e.GLOBSTAR})}return B}const t=/^\*\*\/\*\.[\w\.-]+$/,s=/^\*\*\/([\w\.-]+)\/?$/,c=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,g=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,l=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,d=new L.LRUCache(1e4),u=function(){return!1},a=function(){return null};function v(O,B){if(!O)return a;let V;typeof O!="string"?V=O.pattern:V=O,V=V.trim();const K=`${V}_${!!B.trimForExclusions}`;let U=d.get(K);if(U)return h(U,O);let G;return t.test(V)?U=_(V.substr(4),V):(G=s.exec(p(V,B)))?U=S(G[1],V):(B.trimForExclusions?g:c).test(V)?U=E(V,B):(G=l.exec(p(V,B)))?U=I(G[1].substr(1),V,!0):(G=r.exec(p(V,B)))?U=I(G[1],V,!1):U=T(V),d.set(K,U),h(U,O)}function h(O,B){if(typeof B=="string")return O;const V=function(K,U){return(0,k.isEqualOrParent)(K,B.base,!y.isLinux)?O((0,m.ltrim)(K.substr(B.base.length),D.sep),U):null};return V.allBasenames=O.allBasenames,V.allPaths=O.allPaths,V.basenames=O.basenames,V.patterns=O.patterns,V}function p(O,B){return B.trimForExclusions&&O.endsWith("/**")?O.substr(0,O.length-2):O}function _(O,B){return function(V,K){return typeof V=="string"&&V.endsWith(O)?B:null}}function S(O,B){const V=`/${O}`,K=`\\${O}`,U=function(z,$){return typeof z!="string"?null:$?$===O?B:null:z===O||z.endsWith(V)||z.endsWith(K)?B:null},G=[O];return U.basenames=G,U.patterns=[B],U.allBasenames=G,U}function E(O,B){const V=F(O.slice(1,-1).split(",").map($=>v($,B)).filter($=>$!==a),O),K=V.length;if(!K)return a;if(K===1)return V[0];const U=function($,J){for(let ee=0,Z=V.length;ee<Z;ee++)if(V[ee]($,J))return O;return null},G=V.find($=>!!$.allBasenames);G&&(U.allBasenames=G.allBasenames);const z=V.reduce(($,J)=>J.allPaths?$.concat(J.allPaths):$,[]);return z.length&&(U.allPaths=z),U}function I(O,B,V){const K=D.sep===D.posix.sep,U=K?O:O.replace(C,D.sep),G=D.sep+U,z=D.posix.sep+O;let $;return V?$=function(J,ee){return typeof J=="string"&&(J===U||J.endsWith(G)||!K&&(J===O||J.endsWith(z)))?B:null}:$=function(J,ee){return typeof J=="string"&&(J===U||!K&&J===O)?B:null},$.allPaths=[(V?"*/":"./")+O],$}function T(O){try{const B=new RegExp(`^${i(O)}$`);return function(V){return B.lastIndex=0,typeof V=="string"&&B.test(V)?O:null}}catch{return a}}function N(O,B,V){return!O||typeof B!="string"?!1:A(O)(B,void 0,V)}function A(O,B={}){if(!O)return u;if(typeof O=="string"||R(O)){const V=v(O,B);if(V===a)return u;const K=function(U,G){return!!V(U,G)};return V.allBasenames&&(K.allBasenames=V.allBasenames),V.allPaths&&(K.allPaths=V.allPaths),K}return M(O,B)}function R(O){const B=O;return B?typeof B.base=="string"&&typeof B.pattern=="string":!1}function M(O,B){const V=F(Object.getOwnPropertyNames(O).map($=>P($,O[$],B)).filter($=>$!==a)),K=V.length;if(!K)return a;if(!V.some($=>!!$.requiresSiblings)){if(K===1)return V[0];const $=function(Z,x){let Y;for(let ae=0,ue=V.length;ae<ue;ae++){const he=V[ae](Z,x);if(typeof he=="string")return he;(0,f.isThenable)(he)&&(Y||(Y=[]),Y.push(he))}return Y?(async()=>{for(const ae of Y){const ue=await ae;if(typeof ue=="string")return ue}return null})():null},J=V.find(Z=>!!Z.allBasenames);J&&($.allBasenames=J.allBasenames);const ee=V.reduce((Z,x)=>x.allPaths?Z.concat(x.allPaths):Z,[]);return ee.length&&($.allPaths=ee),$}const U=function($,J,ee){let Z,x;for(let Y=0,ae=V.length;Y<ae;Y++){const ue=V[Y];ue.requiresSiblings&&ee&&(J||(J=(0,D.basename)($)),Z||(Z=J.substr(0,J.length-(0,D.extname)($).length)));const he=ue($,J,Z,ee);if(typeof he=="string")return he;(0,f.isThenable)(he)&&(x||(x=[]),x.push(he))}return x?(async()=>{for(const Y of x){const ae=await Y;if(typeof ae=="string")return ae}return null})():null},G=V.find($=>!!$.allBasenames);G&&(U.allBasenames=G.allBasenames);const z=V.reduce(($,J)=>J.allPaths?$.concat(J.allPaths):$,[]);return z.length&&(U.allPaths=z),U}function P(O,B,V){if(B===!1)return a;const K=v(O,V);if(K===a)return a;if(typeof B=="boolean")return K;if(B){const U=B.when;if(typeof U=="string"){const G=(z,$,J,ee)=>{if(!ee||!K(z,$))return null;const Z=U.replace("$(basename)",()=>J),x=ee(Z);return(0,f.isThenable)(x)?x.then(Y=>Y?O:null):x?O:null};return G.requiresSiblings=!0,G}}return K}function F(O,B){const V=O.filter($=>!!$.basenames);if(V.length<2)return O;const K=V.reduce(($,J)=>{const ee=J.basenames;return ee?$.concat(ee):$},[]);let U;if(B){U=[];for(let $=0,J=K.length;$<J;$++)U.push(B)}else U=V.reduce(($,J)=>{const ee=J.patterns;return ee?$.concat(ee):$},[]);const G=function($,J){if(typeof $!="string")return null;if(!J){let Z;for(Z=$.length;Z>0;Z--){const x=$.charCodeAt(Z-1);if(x===47||x===92)break}J=$.substr(Z)}const ee=K.indexOf(J);return ee!==-1?U[ee]:null};G.basenames=K,G.patterns=U,G.allBasenames=K;const z=O.filter($=>!$.basenames);return z.push(G),z}}),define(ne[624],se([1,0,247,17]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=L;function L(y,m=k.isWindows){return(0,f.hasDriveLetter)(y,m)?y.charAt(0).toUpperCase()+y.slice(1):y}let D=Object.create(null)}),define(ne[22],se([1,0,98,17]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URI=void 0,e.uriToFsPath=r;const L=/^\w[\w\d+.-]*$/,D=/^\//,y=/^\/\//;function m(h,p){if(!h.scheme&&p)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${h.authority}", path: "${h.path}", query: "${h.query}", fragment: "${h.fragment}"}`);if(h.scheme&&!L.test(h.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(h.path){if(h.authority){if(!D.test(h.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(h.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function w(h,p){return!h&&!p?"file":h}function b(h,p){switch(h){case"https":case"http":case"file":p?p[0]!==o&&(p=o+p):p=o;break}return p}const C="",o="/",n=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class i{static isUri(p){return p instanceof i?!0:p?typeof p.authority=="string"&&typeof p.fragment=="string"&&typeof p.path=="string"&&typeof p.query=="string"&&typeof p.scheme=="string"&&typeof p.fsPath=="string"&&typeof p.with=="function"&&typeof p.toString=="function":!1}constructor(p,_,S,E,I,T=!1){typeof p=="object"?(this.scheme=p.scheme||C,this.authority=p.authority||C,this.path=p.path||C,this.query=p.query||C,this.fragment=p.fragment||C):(this.scheme=w(p,T),this.authority=_||C,this.path=b(this.scheme,S||C),this.query=E||C,this.fragment=I||C,m(this,T))}get fsPath(){return r(this,!1)}with(p){if(!p)return this;let{scheme:_,authority:S,path:E,query:I,fragment:T}=p;return _===void 0?_=this.scheme:_===null&&(_=C),S===void 0?S=this.authority:S===null&&(S=C),E===void 0?E=this.path:E===null&&(E=C),I===void 0?I=this.query:I===null&&(I=C),T===void 0?T=this.fragment:T===null&&(T=C),_===this.scheme&&S===this.authority&&E===this.path&&I===this.query&&T===this.fragment?this:new s(_,S,E,I,T)}static parse(p,_=!1){const S=n.exec(p);return S?new s(S[2]||C,v(S[4]||C),v(S[5]||C),v(S[7]||C),v(S[9]||C),_):new s(C,C,C,C,C)}static file(p){let _=C;if(k.isWindows&&(p=p.replace(/\\/g,o)),p[0]===o&&p[1]===o){const S=p.indexOf(o,2);S===-1?(_=p.substring(2),p=o):(_=p.substring(2,S),p=p.substring(S)||o)}return new s("file",_,p,C,C)}static from(p,_){return new s(p.scheme,p.authority,p.path,p.query,p.fragment,_)}static joinPath(p,..._){if(!p.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let S;return k.isWindows&&p.scheme==="file"?S=i.file(f.win32.join(r(p,!0),..._)).path:S=f.posix.join(p.path,..._),p.with({path:S})}toString(p=!1){return d(this,p)}toJSON(){return this}static revive(p){var _,S;if(p){if(p instanceof i)return p;{const E=new s(p);return E._formatted=(_=p.external)!==null&&_!==void 0?_:null,E._fsPath=p._sep===t&&(S=p.fsPath)!==null&&S!==void 0?S:null,E}}else return p}}e.URI=i;const t=k.isWindows?1:void 0;class s extends i{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=r(this,!1)),this._fsPath}toString(p=!1){return p?d(this,!0):(this._formatted||(this._formatted=d(this,!1)),this._formatted)}toJSON(){const p={$mid:1};return this._fsPath&&(p.fsPath=this._fsPath,p._sep=t),this._formatted&&(p.external=this._formatted),this.path&&(p.path=this.path),this.scheme&&(p.scheme=this.scheme),this.authority&&(p.authority=this.authority),this.query&&(p.query=this.query),this.fragment&&(p.fragment=this.fragment),p}}const c={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function g(h,p,_){let S,E=-1;for(let I=0;I<h.length;I++){const T=h.charCodeAt(I);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||p&&T===47||_&&T===91||_&&T===93||_&&T===58)E!==-1&&(S+=encodeURIComponent(h.substring(E,I)),E=-1),S!==void 0&&(S+=h.charAt(I));else{S===void 0&&(S=h.substr(0,I));const N=c[T];N!==void 0?(E!==-1&&(S+=encodeURIComponent(h.substring(E,I)),E=-1),S+=N):E===-1&&(E=I)}}return E!==-1&&(S+=encodeURIComponent(h.substring(E))),S!==void 0?S:h}function l(h){let p;for(let _=0;_<h.length;_++){const S=h.charCodeAt(_);S===35||S===63?(p===void 0&&(p=h.substr(0,_)),p+=c[S]):p!==void 0&&(p+=h[_])}return p!==void 0?p:h}function r(h,p){let _;return h.authority&&h.path.length>1&&h.scheme==="file"?_=`//${h.authority}${h.path}`:h.path.charCodeAt(0)===47&&(h.path.charCodeAt(1)>=65&&h.path.charCodeAt(1)<=90||h.path.charCodeAt(1)>=97&&h.path.charCodeAt(1)<=122)&&h.path.charCodeAt(2)===58?p?_=h.path.substr(1):_=h.path[1].toLowerCase()+h.path.substr(2):_=h.path,k.isWindows&&(_=_.replace(/\//g,"\\")),_}function d(h,p){const _=p?l:g;let S="",{scheme:E,authority:I,path:T,query:N,fragment:A}=h;if(E&&(S+=E,S+=":"),(I||E==="file")&&(S+=o,S+=o),I){let R=I.indexOf("@");if(R!==-1){const M=I.substr(0,R);I=I.substr(R+1),R=M.lastIndexOf(":"),R===-1?S+=_(M,!1,!1):(S+=_(M.substr(0,R),!1,!1),S+=":",S+=_(M.substr(R+1),!1,!0)),S+="@"}I=I.toLowerCase(),R=I.lastIndexOf(":"),R===-1?S+=_(I,!1,!0):(S+=_(I.substr(0,R),!1,!0),S+=I.substr(R))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const R=T.charCodeAt(1);R>=65&&R<=90&&(T=`/${String.fromCharCode(R+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const R=T.charCodeAt(0);R>=65&&R<=90&&(T=`${String.fromCharCode(R+32)}:${T.substr(2)}`)}S+=_(T,!0,!1)}return N&&(S+="?",S+=_(N,!1,!1)),A&&(S+="#",S+=p?A:g(A,!1,!1)),S}function u(h){try{return decodeURIComponent(h)}catch{return h.length>3?h.substr(0,3)+u(h.substr(3)):h}}const a=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function v(h){return h.match(a)?h.replace(a,p=>u(p)):h}}),define(ne[248],se([1,0,156,22]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=L,e.parse=D,e.revive=m;function L(w){return JSON.stringify(w,y)}function D(w){let b=JSON.parse(w);return b=m(b),b}function y(w,b){return b instanceof RegExp?{$mid:2,source:b.source,flags:b.flags}:b}function m(w,b=0){if(!w||b>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return k.URI.revive(w);case 2:return new RegExp(w.source,w.flags);case 17:return new Date(w.source)}if(w instanceof f.VSBuffer||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let C=0;C<w.length;++C)w[C]=m(w[C],b+1);else for(const C in w)Object.hasOwnProperty.call(w,C)&&(w[C]=m(w[C],b+1))}return w}}),define(ne[47],se([1,0,9,17,11,22,98]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.VSCODE_AUTHORITY=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0,e.matchesScheme=w,e.matchesSomeScheme=b;var m;(function(i){i.inMemory="inmemory",i.vscode="vscode",i.internal="private",i.walkThrough="walkThrough",i.walkThroughSnippet="walkThroughSnippet",i.http="http",i.https="https",i.file="file",i.mailto="mailto",i.untitled="untitled",i.data="data",i.command="command",i.vscodeRemote="vscode-remote",i.vscodeRemoteResource="vscode-remote-resource",i.vscodeManagedRemoteResource="vscode-managed-remote-resource",i.vscodeUserData="vscode-userdata",i.vscodeCustomEditor="vscode-custom-editor",i.vscodeNotebookCell="vscode-notebook-cell",i.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",i.vscodeNotebookCellOutput="vscode-notebook-cell-output",i.vscodeInteractiveInput="vscode-interactive-input",i.vscodeSettings="vscode-settings",i.vscodeWorkspaceTrust="vscode-workspace-trust",i.vscodeTerminal="vscode-terminal",i.vscodeChatCodeBlock="vscode-chat-code-block",i.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",i.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",i.vscodeChatSesssion="vscode-chat-editor",i.webviewPanel="webview-panel",i.vscodeWebview="vscode-webview",i.extension="extension",i.vscodeFileResource="vscode-file",i.tmp="tmp",i.vsls="vsls",i.vscodeSourceControl="vscode-scm",i.commentsInput="comment",i.codeSetting="code-setting"})(m||(e.Schemas=m={}));function w(i,t){return D.URI.isUri(i)?(0,L.equalsIgnoreCase)(i.scheme,t):(0,L.startsWithIgnoreCase)(i,t+":")}function b(i,...t){return t.some(s=>w(i,s))}e.connectionTokenQueryName="tkn";class C{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(t){this._preferredWebSchema=t}get _remoteResourcesPath(){return y.posix.join(this._serverRootPath,m.vscodeRemoteResource)}rewrite(t){if(this._delegate)try{return this._delegate(t)}catch(d){return f.onUnexpectedError(d),t}const s=t.authority;let c=this._hosts[s];c&&c.indexOf(":")!==-1&&c.indexOf("[")===-1&&(c=`[${c}]`);const g=this._ports[s],l=this._connectionTokens[s];let r=`path=${encodeURIComponent(t.path)}`;return typeof l=="string"&&(r+=`&${e.connectionTokenQueryName}=${encodeURIComponent(l)}`),D.URI.from({scheme:k.isWeb?this._preferredWebSchema:m.vscodeRemoteResource,authority:`${c}:${g}`,path:this._remoteResourcesPath,query:r})}}e.RemoteAuthorities=new C,e.VSCODE_AUTHORITY="vscode-app";class o{uriToBrowserUri(t){return t.scheme===m.vscodeRemote?e.RemoteAuthorities.rewrite(t):t.scheme===m.file&&(k.isNative||k.webWorkerOrigin===`${m.vscodeFileResource}://${o.FALLBACK_AUTHORITY}`)?t.with({scheme:m.vscodeFileResource,authority:t.authority||o.FALLBACK_AUTHORITY,query:null,fragment:null}):t}}o.FALLBACK_AUTHORITY=e.VSCODE_AUTHORITY,e.FileAccess=new o;var n;(function(i){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);i.CoopAndCoep=Object.freeze(t.get("3"));const s="vscode-coi";function c(l){let r;typeof l=="string"?r=new URL(l).searchParams:l instanceof URL?r=l.searchParams:D.URI.isUri(l)&&(r=new URL(l.toString(!0)).searchParams);const d=r?.get(s);if(d)return t.get(d)}i.getHeadersFromQuery=c;function g(l,r,d){if(!globalThis.crossOriginIsolated)return;const u=r&&d?"3":d?"2":"1";l instanceof URLSearchParams?l.set(s,u):l[s]=u}i.addSearchParam=g})(n||(e.COI=n={}))}),define(ne[6],se([1,0,66,244,46,74,15,9,7,341,2,47,17,127,52]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.Namespace=e.EventHelper=e.EventType=e.sharedMutationObserver=e.Dimension=e.WindowIntervalTimer=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.WindowIdleValue=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.onDidUnregisterWindow=e.onWillUnregisterWindow=e.onDidRegisterWindow=e.hasWindow=e.getWindowById=e.getWindowId=e.getWindowsCount=e.getWindows=e.getDocument=e.getWindow=e.registerWindow=void 0,e.clearNode=c,e.addDisposableListener=l,e.addDisposableGenericMouseDownListener=h,e.addDisposableGenericMouseUpListener=p,e.runWhenWindowIdle=_,e.getComputedStyle=T,e.getClientArea=N,e.getTopLeftOffset=M,e.size=P,e.getDomNodePagePosition=F,e.getDomNodeZoomLevel=O,e.getTotalWidth=B,e.getContentWidth=V,e.getContentHeight=K,e.getTotalHeight=U,e.isAncestor=G,e.findParentWithClass=z,e.hasParentWithClass=$,e.isShadowRoot=J,e.isInShadowDOM=ee,e.getShadowRoot=Z,e.getActiveElement=x,e.isActiveElement=Y,e.isAncestorOfActiveElement=ae,e.getActiveDocument=ue,e.getActiveWindow=he,e.createStyleSheet2=ce,e.createStyleSheet=oe,e.createCSSRule=j,e.removeCSSRulesContainingSelector=Q,e.isHTMLElement=le,e.isHTMLAnchorElement=de,e.isMouseEvent=me,e.isKeyboardEvent=ve,e.isEventLike=Ce,e.saveParentsScrollTop=ye,e.restoreParentsScrollTop=Se,e.trackFocus=De,e.after=Me,e.append=Ae,e.prepend=Pe,e.reset=Re,e.$=_e,e.setVisibility=Oe,e.show=Be,e.hide=Ke,e.computeScreenAwareSize=je,e.windowOpenNoOpener=Ze,e.animate=et,e.asCSSUrl=it,e.asCSSPropertyValue=rt,e.asCssValueWithDefault=ut,e.hookDomPurifyHrefAndSrcSanitizer=ot,e.h=Ct,s=function(){const Le=new Map;(0,t.ensureCodeWindow)(t.mainWindow,1);const we={window:t.mainWindow,disposables:new C.DisposableStore};Le.set(t.mainWindow.vscodeWindowId,we);const be=new w.Emitter,Ie=new w.Emitter,xe=new w.Emitter;function Ve(We,qe){const Ue=typeof We=="number"?Le.get(We):void 0;return Ue??(qe?we:void 0)}return{onDidRegisterWindow:be.event,onWillUnregisterWindow:xe.event,onDidUnregisterWindow:Ie.event,registerWindow(We){if(Le.has(We.vscodeWindowId))return C.Disposable.None;const qe=new C.DisposableStore,Ue={window:We,disposables:qe.add(new C.DisposableStore)};return Le.set(We.vscodeWindowId,Ue),qe.add((0,C.toDisposable)(()=>{Le.delete(We.vscodeWindowId),Ie.fire(We)})),qe.add(l(We,e.EventType.BEFORE_UNLOAD,()=>{xe.fire(We)})),be.fire(Ue),qe},getWindows(){return Le.values()},getWindowsCount(){return Le.size},getWindowId(We){return We.vscodeWindowId},hasWindow(We){return Le.has(We)},getWindowById:Ve,getWindow(We){var qe;const Ue=We;if(!((qe=Ue?.ownerDocument)===null||qe===void 0)&&qe.defaultView)return Ue.ownerDocument.defaultView.window;const Ye=We;return Ye?.view?Ye.view.window:t.mainWindow},getDocument(We){const qe=We;return(0,e.getWindow)(qe).document}}}(),e.registerWindow=s.registerWindow,e.getWindow=s.getWindow,e.getDocument=s.getDocument,e.getWindows=s.getWindows,e.getWindowsCount=s.getWindowsCount,e.getWindowId=s.getWindowId,e.getWindowById=s.getWindowById,e.hasWindow=s.hasWindow,e.onDidRegisterWindow=s.onDidRegisterWindow,e.onWillUnregisterWindow=s.onWillUnregisterWindow,e.onDidUnregisterWindow=s.onDidUnregisterWindow;function c(Le){for(;Le.firstChild;)Le.firstChild.remove()}class g{constructor(we,be,Ie,xe){this._node=we,this._type=be,this._handler=Ie,this._options=xe||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function l(Le,we,be,Ie){return new g(Le,we,be,Ie)}function r(Le,we){return function(be){return we(new D.StandardMouseEvent(Le,be))}}function d(Le){return function(we){return Le(new L.StandardKeyboardEvent(we))}}const u=function(we,be,Ie,xe){let Ve=Ie;return be==="click"||be==="mousedown"||be==="contextmenu"?Ve=r((0,e.getWindow)(we),Ie):(be==="keydown"||be==="keypress"||be==="keyup")&&(Ve=d(Ie)),l(we,be,Ve,xe)};e.addStandardDisposableListener=u;const a=function(we,be,Ie){const xe=r((0,e.getWindow)(we),be);return h(we,xe,Ie)};e.addStandardDisposableGenericMouseDownListener=a;const v=function(we,be,Ie){const xe=r((0,e.getWindow)(we),be);return p(we,xe,Ie)};e.addStandardDisposableGenericMouseUpListener=v;function h(Le,we,be){return l(Le,n.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,we,be)}function p(Le,we,be){return l(Le,n.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,we,be)}function _(Le,we,be){return(0,y._runWhenIdle)(Le,we,be)}class S extends y.AbstractIdleValue{constructor(we,be){super(we,be)}}e.WindowIdleValue=S;class E extends y.IntervalTimer{constructor(we){super(),this.defaultTarget=we&&(0,e.getWindow)(we)}cancelAndSet(we,be,Ie){return super.cancelAndSet(we,be,Ie??this.defaultTarget)}}e.WindowIntervalTimer=E;class I{constructor(we,be=0){this._runner=we,this.priority=be,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(we){(0,m.onUnexpectedError)(we)}}static sort(we,be){return be.priority-we.priority}}(function(){const Le=new Map,we=new Map,be=new Map,Ie=new Map,xe=Ve=>{var We;be.set(Ve,!1);const qe=(We=Le.get(Ve))!==null&&We!==void 0?We:[];for(we.set(Ve,qe),Le.set(Ve,[]),Ie.set(Ve,!0);qe.length>0;)qe.sort(I.sort),qe.shift().execute();Ie.set(Ve,!1)};e.scheduleAtNextAnimationFrame=(Ve,We,qe=0)=>{const Ue=(0,e.getWindowId)(Ve),Ye=new I(We,qe);let Ge=Le.get(Ue);return Ge||(Ge=[],Le.set(Ue,Ge)),Ge.push(Ye),be.get(Ue)||(be.set(Ue,!0),Ve.requestAnimationFrame(()=>xe(Ue))),Ye},e.runAtThisOrScheduleAtNextAnimationFrame=(Ve,We,qe)=>{const Ue=(0,e.getWindowId)(Ve);if(Ie.get(Ue)){const Ye=new I(We,qe);let Ge=we.get(Ue);return Ge||(Ge=[],we.set(Ue,Ge)),Ge.push(Ye),Ye}else return(0,e.scheduleAtNextAnimationFrame)(Ve,We,qe)}})();function T(Le){return(0,e.getWindow)(Le).getComputedStyle(Le,null)}function N(Le,we){const be=(0,e.getWindow)(Le),Ie=be.document;if(Le!==Ie.body)return new R(Le.clientWidth,Le.clientHeight);if(n.isIOS&&be?.visualViewport)return new R(be.visualViewport.width,be.visualViewport.height);if(be?.innerWidth&&be.innerHeight)return new R(be.innerWidth,be.innerHeight);if(Ie.body&&Ie.body.clientWidth&&Ie.body.clientHeight)return new R(Ie.body.clientWidth,Ie.body.clientHeight);if(Ie.documentElement&&Ie.documentElement.clientWidth&&Ie.documentElement.clientHeight)return new R(Ie.documentElement.clientWidth,Ie.documentElement.clientHeight);if(we)return N(we);throw new Error("Unable to figure out browser width and height")}class A{static convertToPixels(we,be){return parseFloat(be)||0}static getDimension(we,be,Ie){const xe=T(we),Ve=xe?xe.getPropertyValue(be):"0";return A.convertToPixels(we,Ve)}static getBorderLeftWidth(we){return A.getDimension(we,"border-left-width","borderLeftWidth")}static getBorderRightWidth(we){return A.getDimension(we,"border-right-width","borderRightWidth")}static getBorderTopWidth(we){return A.getDimension(we,"border-top-width","borderTopWidth")}static getBorderBottomWidth(we){return A.getDimension(we,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(we){return A.getDimension(we,"padding-left","paddingLeft")}static getPaddingRight(we){return A.getDimension(we,"padding-right","paddingRight")}static getPaddingTop(we){return A.getDimension(we,"padding-top","paddingTop")}static getPaddingBottom(we){return A.getDimension(we,"padding-bottom","paddingBottom")}static getMarginLeft(we){return A.getDimension(we,"margin-left","marginLeft")}static getMarginTop(we){return A.getDimension(we,"margin-top","marginTop")}static getMarginRight(we){return A.getDimension(we,"margin-right","marginRight")}static getMarginBottom(we){return A.getDimension(we,"margin-bottom","marginBottom")}}class R{constructor(we,be){this.width=we,this.height=be}with(we=this.width,be=this.height){return we!==this.width||be!==this.height?new R(we,be):this}static is(we){return typeof we=="object"&&typeof we.height=="number"&&typeof we.width=="number"}static lift(we){return we instanceof R?we:new R(we.width,we.height)}static equals(we,be){return we===be?!0:!we||!be?!1:we.width===be.width&&we.height===be.height}}e.Dimension=R,R.None=new R(0,0);function M(Le){let we=Le.offsetParent,be=Le.offsetTop,Ie=Le.offsetLeft;for(;(Le=Le.parentNode)!==null&&Le!==Le.ownerDocument.body&&Le!==Le.ownerDocument.documentElement;){be-=Le.scrollTop;const xe=J(Le)?null:T(Le);xe&&(Ie-=xe.direction!=="rtl"?Le.scrollLeft:-Le.scrollLeft),Le===we&&(Ie+=A.getBorderLeftWidth(Le),be+=A.getBorderTopWidth(Le),be+=Le.offsetTop,Ie+=Le.offsetLeft,we=Le.offsetParent)}return{left:Ie,top:be}}function P(Le,we,be){typeof we=="number"&&(Le.style.width=`${we}px`),typeof be=="number"&&(Le.style.height=`${be}px`)}function F(Le){const we=Le.getBoundingClientRect(),be=(0,e.getWindow)(Le);return{left:we.left+be.scrollX,top:we.top+be.scrollY,width:we.width,height:we.height}}function O(Le){let we=Le,be=1;do{const Ie=T(we).zoom;Ie!=null&&Ie!=="1"&&(be*=Ie),we=we.parentElement}while(we!==null&&we!==we.ownerDocument.documentElement);return be}function B(Le){const we=A.getMarginLeft(Le)+A.getMarginRight(Le);return Le.offsetWidth+we}function V(Le){const we=A.getBorderLeftWidth(Le)+A.getBorderRightWidth(Le),be=A.getPaddingLeft(Le)+A.getPaddingRight(Le);return Le.offsetWidth-we-be}function K(Le){const we=A.getBorderTopWidth(Le)+A.getBorderBottomWidth(Le),be=A.getPaddingTop(Le)+A.getPaddingBottom(Le);return Le.offsetHeight-we-be}function U(Le){const we=A.getMarginTop(Le)+A.getMarginBottom(Le);return Le.offsetHeight+we}function G(Le,we){return!!we?.contains(Le)}function z(Le,we,be){for(;Le&&Le.nodeType===Le.ELEMENT_NODE;){if(Le.classList.contains(we))return Le;if(be){if(typeof be=="string"){if(Le.classList.contains(be))return null}else if(Le===be)return null}Le=Le.parentNode}return null}function $(Le,we,be){return!!z(Le,we,be)}function J(Le){return Le&&!!Le.host&&!!Le.mode}function ee(Le){return!!Z(Le)}function Z(Le){for(var we;Le.parentNode;){if(Le===((we=Le.ownerDocument)===null||we===void 0?void 0:we.body))return null;Le=Le.parentNode}return J(Le)?Le:null}function x(){let Le=ue().activeElement;for(;Le?.shadowRoot;)Le=Le.shadowRoot.activeElement;return Le}function Y(Le){return x()===Le}function ae(Le){return G(x(),Le)}function ue(){var Le;return(0,e.getWindowsCount)()<=1?t.mainWindow.document:(Le=Array.from((0,e.getWindows)()).map(({window:be})=>be.document).find(be=>be.hasFocus()))!==null&&Le!==void 0?Le:t.mainWindow.document}function he(){var Le,we;return(we=(Le=ue().defaultView)===null||Le===void 0?void 0:Le.window)!==null&&we!==void 0?we:t.mainWindow}const pe=new Map;function ce(){return new ie}class ie{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(we){we!==this._currentCssStyle&&(this._currentCssStyle=we,this._styleSheet?this._styleSheet.innerText=we:this._styleSheet=oe(t.mainWindow.document.head,be=>be.innerText=we))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function oe(Le=t.mainWindow.document.head,we,be){const Ie=document.createElement("style");if(Ie.type="text/css",Ie.media="screen",we?.(Ie),Le.appendChild(Ie),be&&be.add((0,C.toDisposable)(()=>Le.removeChild(Ie))),Le===t.mainWindow.document.head){const xe=new Set;pe.set(Ie,xe);for(const{window:Ve,disposables:We}of(0,e.getWindows)()){if(Ve===t.mainWindow)continue;const qe=We.add(re(Ie,xe,Ve));be?.add(qe)}}return Ie}function re(Le,we,be){var Ie,xe;const Ve=new C.DisposableStore,We=Le.cloneNode(!0);be.document.head.appendChild(We),Ve.add((0,C.toDisposable)(()=>be.document.head.removeChild(We)));for(const qe of H(Le))(Ie=We.sheet)===null||Ie===void 0||Ie.insertRule(qe.cssText,(xe=We.sheet)===null||xe===void 0?void 0:xe.cssRules.length);return Ve.add(e.sharedMutationObserver.observe(Le,Ve,{childList:!0})(()=>{We.textContent=Le.textContent})),we.add(We),Ve.add((0,C.toDisposable)(()=>we.delete(We))),Ve}e.sharedMutationObserver=new class{constructor(){this.mutationObservers=new Map}observe(Le,we,be){let Ie=this.mutationObservers.get(Le);Ie||(Ie=new Map,this.mutationObservers.set(Le,Ie));const xe=(0,i.hash)(be);let Ve=Ie.get(xe);if(Ve)Ve.users+=1;else{const We=new w.Emitter,qe=new MutationObserver(Ye=>We.fire(Ye));qe.observe(Le,be);const Ue=Ve={users:1,observer:qe,onDidMutate:We.event};we.add((0,C.toDisposable)(()=>{Ue.users-=1,Ue.users===0&&(We.dispose(),qe.disconnect(),Ie?.delete(xe),Ie?.size===0&&this.mutationObservers.delete(Le))})),Ie.set(xe,Ve)}return Ve.onDidMutate}};let W=null;function q(){return W||(W=oe()),W}function H(Le){var we,be;return!((we=Le?.sheet)===null||we===void 0)&&we.rules?Le.sheet.rules:!((be=Le?.sheet)===null||be===void 0)&&be.cssRules?Le.sheet.cssRules:[]}function j(Le,we,be=q()){var Ie,xe;if(!(!be||!we)){(Ie=be.sheet)===null||Ie===void 0||Ie.insertRule(`${Le} {${we}}`,0);for(const Ve of(xe=pe.get(be))!==null&&xe!==void 0?xe:[])j(Le,we,Ve)}}function Q(Le,we=q()){var be,Ie;if(!we)return;const xe=H(we),Ve=[];for(let We=0;We<xe.length;We++){const qe=xe[We];te(qe)&&qe.selectorText.indexOf(Le)!==-1&&Ve.push(We)}for(let We=Ve.length-1;We>=0;We--)(be=we.sheet)===null||be===void 0||be.deleteRule(Ve[We]);for(const We of(Ie=pe.get(we))!==null&&Ie!==void 0?Ie:[])Q(Le,We)}function te(Le){return typeof Le.selectorText=="string"}function le(Le){return Le instanceof HTMLElement||Le instanceof(0,e.getWindow)(Le).HTMLElement}function de(Le){return Le instanceof HTMLAnchorElement||Le instanceof(0,e.getWindow)(Le).HTMLAnchorElement}function me(Le){return Le instanceof MouseEvent||Le instanceof(0,e.getWindow)(Le).MouseEvent}function ve(Le){return Le instanceof KeyboardEvent||Le instanceof(0,e.getWindow)(Le).KeyboardEvent}e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:f.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:f.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:f.isWebKit?"webkitAnimationIteration":"animationiteration"};function Ce(Le){const we=Le;return!!(we&&typeof we.preventDefault=="function"&&typeof we.stopPropagation=="function")}e.EventHelper={stop:(Le,we)=>(Le.preventDefault(),we&&Le.stopPropagation(),Le)};function ye(Le){const we=[];for(let be=0;Le&&Le.nodeType===Le.ELEMENT_NODE;be++)we[be]=Le.scrollTop,Le=Le.parentNode;return we}function Se(Le,we){for(let be=0;Le&&Le.nodeType===Le.ELEMENT_NODE;be++)Le.scrollTop!==we[be]&&(Le.scrollTop=we[be]),Le=Le.parentNode}class Te extends C.Disposable{static hasFocusWithin(we){if(le(we)){const be=Z(we),Ie=be?be.activeElement:we.ownerDocument.activeElement;return G(Ie,we)}else{const be=we;return G(be.document.activeElement,be.document)}}constructor(we){super(),this._onDidFocus=this._register(new w.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new w.Emitter),this.onDidBlur=this._onDidBlur.event;let be=Te.hasFocusWithin(we),Ie=!1;const xe=()=>{Ie=!1,be||(be=!0,this._onDidFocus.fire())},Ve=()=>{be&&(Ie=!0,(le(we)?(0,e.getWindow)(we):we).setTimeout(()=>{Ie&&(Ie=!1,be=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Te.hasFocusWithin(we)!==be&&(be?Ve():xe())},this._register(l(we,e.EventType.FOCUS,xe,!0)),this._register(l(we,e.EventType.BLUR,Ve,!0)),le(we)&&(this._register(l(we,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(l(we,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler())))}}function De(Le){return new Te(Le)}function Me(Le,we){return Le.after(we),we}function Ae(Le,...we){if(Le.append(...we),we.length===1&&typeof we[0]!="string")return we[0]}function Pe(Le,we){return Le.insertBefore(we,Le.firstChild),we}function Re(Le,...we){Le.innerText="",Ae(Le,...we)}const Ee=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Ne;(function(Le){Le.HTML="http://www.w3.org/1999/xhtml",Le.SVG="http://www.w3.org/2000/svg"})(Ne||(e.Namespace=Ne={}));function fe(Le,we,be,...Ie){const xe=Ee.exec(we);if(!xe)throw new Error("Bad use of emmet");const Ve=xe[1]||"div";let We;return Le!==Ne.HTML?We=document.createElementNS(Le,Ve):We=document.createElement(Ve),xe[3]&&(We.id=xe[3]),xe[4]&&(We.className=xe[4].replace(/\./g," ").trim()),be&&Object.entries(be).forEach(([qe,Ue])=>{typeof Ue>"u"||(/^on\w+$/.test(qe)?We[qe]=Ue:qe==="selected"?Ue&&We.setAttribute(qe,"true"):We.setAttribute(qe,Ue))}),We.append(...Ie),We}function _e(Le,we,...be){return fe(Ne.HTML,Le,we,...be)}_e.SVG=function(Le,we,...be){return fe(Ne.SVG,Le,we,...be)};function Oe(Le,...we){Le?Be(...we):Ke(...we)}function Be(...Le){for(const we of Le)we.style.display="",we.removeAttribute("aria-hidden")}function Ke(...Le){for(const we of Le)we.style.display="none",we.setAttribute("aria-hidden","true")}function je(Le,we){const be=Le.devicePixelRatio*we;return Math.max(1,Math.floor(be))/Le.devicePixelRatio}function Ze(Le){t.mainWindow.open(Le,"_blank","noopener")}function et(Le,we){const be=()=>{we(),Ie=(0,e.scheduleAtNextAnimationFrame)(Le,be)};let Ie=(0,e.scheduleAtNextAnimationFrame)(Le,be);return(0,C.toDisposable)(()=>Ie.dispose())}o.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(t.mainWindow.location.href)?"https":"http");function it(Le){return Le?`url('${o.FileAccess.uriToBrowserUri(Le).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function rt(Le){return`'${Le.replace(/'/g,"%27")}'`}function ut(Le,we){if(Le!==void 0){const be=Le.match(/^\s*var\((.+)\)$/);if(be){const Ie=be[1].split(",",2);return Ie.length===2&&(we=ut(Ie[1].trim(),we)),`var(${Ie[0]}, ${we})`}return Le}return we}function ot(Le,we=!1){const be=document.createElement("a");return b.addHook("afterSanitizeAttributes",Ie=>{for(const xe of["href","src"])if(Ie.hasAttribute(xe)){const Ve=Ie.getAttribute(xe);if(xe==="href"&&Ve.startsWith("#"))continue;if(be.href=Ve,!Le.includes(be.protocol.replace(/:$/,""))){if(we&&xe==="src"&&be.href.startsWith("data:"))continue;Ie.removeAttribute(xe)}}}),(0,C.toDisposable)(()=>{b.removeHook("afterSanitizeAttributes")})}e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const ht=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Xe extends w.Emitter{constructor(){super(),this._subscriptions=new C.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(w.Event.runAndSubscribe(e.onDidRegisterWindow,({window:we,disposables:be})=>this.registerListeners(we,be),{window:t.mainWindow,disposables:this._subscriptions}))}registerListeners(we,be){be.add(l(we,"keydown",Ie=>{if(Ie.defaultPrevented)return;const xe=new L.StandardKeyboardEvent(Ie);if(!(xe.keyCode===6&&Ie.repeat)){if(Ie.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Ie.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Ie.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Ie.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(xe.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Ie.altKey,this._keyStatus.ctrlKey=Ie.ctrlKey,this._keyStatus.metaKey=Ie.metaKey,this._keyStatus.shiftKey=Ie.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Ie,this.fire(this._keyStatus))}},!0)),be.add(l(we,"keyup",Ie=>{Ie.defaultPrevented||(!Ie.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Ie.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Ie.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Ie.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Ie.altKey,this._keyStatus.ctrlKey=Ie.ctrlKey,this._keyStatus.metaKey=Ie.metaKey,this._keyStatus.shiftKey=Ie.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Ie,this.fire(this._keyStatus)))},!0)),be.add(l(we.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),be.add(l(we.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),be.add(l(we.document.body,"mousemove",Ie=>{Ie.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),be.add(l(we,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Xe.instance||(Xe.instance=new Xe),Xe.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Xe;class _t extends C.Disposable{constructor(we,be){super(),this.element=we,this.callbacks=be,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(l(this.element,e.EventType.DRAG_START,we=>{var be,Ie;(Ie=(be=this.callbacks).onDragStart)===null||Ie===void 0||Ie.call(be,we)})),this.callbacks.onDrag&&this._register(l(this.element,e.EventType.DRAG,we=>{var be,Ie;(Ie=(be=this.callbacks).onDrag)===null||Ie===void 0||Ie.call(be,we)})),this._register(l(this.element,e.EventType.DRAG_ENTER,we=>{var be,Ie;this.counter++,this.dragStartTime=we.timeStamp,(Ie=(be=this.callbacks).onDragEnter)===null||Ie===void 0||Ie.call(be,we)})),this._register(l(this.element,e.EventType.DRAG_OVER,we=>{var be,Ie;we.preventDefault(),(Ie=(be=this.callbacks).onDragOver)===null||Ie===void 0||Ie.call(be,we,we.timeStamp-this.dragStartTime)})),this._register(l(this.element,e.EventType.DRAG_LEAVE,we=>{var be,Ie;this.counter--,this.counter===0&&(this.dragStartTime=0,(Ie=(be=this.callbacks).onDragLeave)===null||Ie===void 0||Ie.call(be,we))})),this._register(l(this.element,e.EventType.DRAG_END,we=>{var be,Ie;this.counter=0,this.dragStartTime=0,(Ie=(be=this.callbacks).onDragEnd)===null||Ie===void 0||Ie.call(be,we)})),this._register(l(this.element,e.EventType.DROP,we=>{var be,Ie;this.counter=0,this.dragStartTime=0,(Ie=(be=this.callbacks).onDrop)===null||Ie===void 0||Ie.call(be,we)}))}}e.DragAndDropObserver=_t;const vt=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Ct(Le,...we){let be,Ie;Array.isArray(we[0])?(be={},Ie=we[0]):(be=we[0]||{},Ie=we[1]);const xe=vt.exec(Le);if(!xe||!xe.groups)throw new Error("Bad use of h");const Ve=xe.groups.tag||"div",We=document.createElement(Ve);xe.groups.id&&(We.id=xe.groups.id);const qe=[];if(xe.groups.class)for(const Ye of xe.groups.class.split("."))Ye!==""&&qe.push(Ye);if(be.className!==void 0)for(const Ye of be.className.split("."))Ye!==""&&qe.push(Ye);qe.length>0&&(We.className=qe.join(" "));const Ue={};if(xe.groups.name&&(Ue[xe.groups.name]=We),Ie)for(const Ye of Ie)le(Ye)?We.appendChild(Ye):typeof Ye=="string"?We.append(Ye):"root"in Ye&&(Object.assign(Ue,Ye),We.appendChild(Ye.root));for(const[Ye,Ge]of Object.entries(be))if(Ye!=="className")if(Ye==="style")for(const[Fe,He]of Object.entries(Ge))We.style.setProperty(gt(Fe),typeof He=="number"?He+"px":""+He);else Ye==="tabIndex"?We.tabIndex=Ge:We.setAttribute(gt(Ye),Ge.toString());return Ue.root=We,Ue}function gt(Le){return Le.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(ne[342],se([1,0,6]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderText=k,e.renderFormattedText=L,e.createElement=D;function k(o,n={}){const i=D(n);return i.textContent=o,i}function L(o,n={}){const i=D(n);return m(i,w(o,!!n.renderCodeSegments),n.actionHandler,n.renderCodeSegments),i}function D(o){const n=o.inline?"span":"div",i=document.createElement(n);return o.className&&(i.className=o.className),i}class y{constructor(n){this.source=n,this.index=0}eos(){return this.index>=this.source.length}next(){const n=this.peek();return this.advance(),n}peek(){return this.source[this.index]}advance(){this.index++}}function m(o,n,i,t){let s;if(n.type===2)s=document.createTextNode(n.content||"");else if(n.type===3)s=document.createElement("b");else if(n.type===4)s=document.createElement("i");else if(n.type===7&&t)s=document.createElement("code");else if(n.type===5&&i){const c=document.createElement("a");i.disposables.add(f.addStandardDisposableListener(c,"click",g=>{i.callback(String(n.index),g)})),s=c}else n.type===8?s=document.createElement("br"):n.type===1&&(s=o);s&&o!==s&&o.appendChild(s),s&&Array.isArray(n.children)&&n.children.forEach(c=>{m(s,c,i,t)})}function w(o,n){const i={type:1,children:[]};let t=0,s=i;const c=[],g=new y(o);for(;!g.eos();){let l=g.next();const r=l==="\\"&&C(g.peek(),n)!==0;if(r&&(l=g.next()),!r&&b(l,n)&&l===g.peek()){g.advance(),s.type===2&&(s=c.pop());const d=C(l,n);if(s.type===d||s.type===5&&d===6)s=c.pop();else{const u={type:d,children:[]};d===5&&(u.index=t,t++),s.children.push(u),c.push(s),s=u}}else if(l===`
`)s.type===2&&(s=c.pop()),s.children.push({type:8});else if(s.type!==2){const d={type:2,content:l};s.children.push(d),c.push(s),s=d}else s.content+=l}return s.type===2&&(s=c.pop()),c.length,i}function b(o,n){return C(o,n)!==0}function C(o,n){switch(o){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return n?7:0;default:return 0}}}),define(ne[167],se([1,0,6,2]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class L{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(y,m){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const w=this._onStopCallback;this._onStopCallback=null,y&&w&&w(m)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(y,m,w,b,C){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=b,this._onStopCallback=C;let o=y;try{y.setPointerCapture(m),this._hooks.add((0,k.toDisposable)(()=>{try{y.releasePointerCapture(m)}catch{}}))}catch{o=f.getWindow(y)}this._hooks.add(f.addDisposableListener(o,f.EventType.POINTER_MOVE,n=>{if(n.buttons!==w){this.stopMonitoring(!0);return}n.preventDefault(),this._pointerMoveCallback(n)})),this._hooks.add(f.addDisposableListener(o,f.EventType.POINTER_UP,n=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=L}),define(ne[249],se([1,0,6,7,2]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PixelRatio=void 0;class D extends L.Disposable{constructor(b){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(b,!0),this._mediaQueryList=null,this._handleChange(b,!1)}_handleChange(b,C){var o;(o=this._mediaQueryList)===null||o===void 0||o.removeEventListener("change",this._listener),this._mediaQueryList=b.matchMedia(`(resolution: ${b.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),C&&this._onDidChange.fire()}}class y extends L.Disposable{get value(){return this._value}constructor(b){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(b);const C=this._register(new D(b));this._register(C.onDidChange(()=>{this._value=this._getPixelRatio(b),this._onDidChange.fire(this._value)}))}_getPixelRatio(b){const C=document.createElement("canvas").getContext("2d"),o=b.devicePixelRatio||1,n=C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1;return o/n}}class m{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(b){const C=(0,f.getWindowId)(b);let o=this.mapWindowIdToPixelRatioMonitor.get(C);return o||(o=(0,L.markAsSingleton)(new y(b)),this.mapWindowIdToPixelRatioMonitor.set(C,o),(0,L.markAsSingleton)(k.Event.once(f.onDidUnregisterWindow)(({vscodeWindowId:n})=>{n===C&&(o?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(C))}))),o}getInstance(b){return this._getOrCreatePixelRatioMonitor(b)}}e.PixelRatio=new m}),define(ne[69],se([1,0,6,52,13,122,7,2,71]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var b;(function(o){o.Tap="-monaco-gesturetap",o.Change="-monaco-gesturechange",o.Start="-monaco-gesturestart",o.End="-monaco-gesturesend",o.Contextmenu="-monaco-gesturecontextmenu"})(b||(e.EventType=b={}));class C extends m.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new w.LinkedList,this.ignoreTargets=new w.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(y.Event.runAndSubscribe(f.onDidRegisterWindow,({window:n,disposables:i})=>{i.add(f.addDisposableListener(n.document,"touchstart",t=>this.onTouchStart(t),{passive:!1})),i.add(f.addDisposableListener(n.document,"touchend",t=>this.onTouchEnd(n,t))),i.add(f.addDisposableListener(n.document,"touchmove",t=>this.onTouchMove(t),{passive:!1}))},{window:k.mainWindow,disposables:this._store}))}static addTarget(n){if(!C.isTouchDevice())return m.Disposable.None;C.INSTANCE||(C.INSTANCE=(0,m.markAsSingleton)(new C));const i=C.INSTANCE.targets.push(n);return(0,m.toDisposable)(i)}static ignoreTarget(n){if(!C.isTouchDevice())return m.Disposable.None;C.INSTANCE||(C.INSTANCE=(0,m.markAsSingleton)(new C));const i=C.INSTANCE.ignoreTargets.push(n);return(0,m.toDisposable)(i)}static isTouchDevice(){return"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(n){const i=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let t=0,s=n.targetTouches.length;t<s;t++){const c=n.targetTouches.item(t);this.activeTouches[c.identifier]={id:c.identifier,initialTarget:c.target,initialTimeStamp:i,initialPageX:c.pageX,initialPageY:c.pageY,rollingTimestamps:[i],rollingPageX:[c.pageX],rollingPageY:[c.pageY]};const g=this.newGestureEvent(b.Start,c.target);g.pageX=c.pageX,g.pageY=c.pageY,this.dispatchEvent(g)}this.dispatched&&(n.preventDefault(),n.stopPropagation(),this.dispatched=!1)}onTouchEnd(n,i){const t=Date.now(),s=Object.keys(this.activeTouches).length;for(let c=0,g=i.changedTouches.length;c<g;c++){const l=i.changedTouches.item(c);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("move of an UNKNOWN touch",l);continue}const r=this.activeTouches[l.identifier],d=Date.now()-r.initialTimeStamp;if(d<C.HOLD_DELAY&&Math.abs(r.initialPageX-L.tail(r.rollingPageX))<30&&Math.abs(r.initialPageY-L.tail(r.rollingPageY))<30){const u=this.newGestureEvent(b.Tap,r.initialTarget);u.pageX=L.tail(r.rollingPageX),u.pageY=L.tail(r.rollingPageY),this.dispatchEvent(u)}else if(d>=C.HOLD_DELAY&&Math.abs(r.initialPageX-L.tail(r.rollingPageX))<30&&Math.abs(r.initialPageY-L.tail(r.rollingPageY))<30){const u=this.newGestureEvent(b.Contextmenu,r.initialTarget);u.pageX=L.tail(r.rollingPageX),u.pageY=L.tail(r.rollingPageY),this.dispatchEvent(u)}else if(s===1){const u=L.tail(r.rollingPageX),a=L.tail(r.rollingPageY),v=L.tail(r.rollingTimestamps)-r.rollingTimestamps[0],h=u-r.rollingPageX[0],p=a-r.rollingPageY[0],_=[...this.targets].filter(S=>r.initialTarget instanceof Node&&S.contains(r.initialTarget));this.inertia(n,_,t,Math.abs(h)/v,h>0?1:-1,u,Math.abs(p)/v,p>0?1:-1,a)}this.dispatchEvent(this.newGestureEvent(b.End,r.initialTarget)),delete this.activeTouches[l.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(n,i){const t=document.createEvent("CustomEvent");return t.initEvent(n,!1,!0),t.initialTarget=i,t.tapCount=0,t}dispatchEvent(n){if(n.type===b.Tap){const i=new Date().getTime();let t=0;i-this._lastSetTapCountTime>C.CLEAR_TAP_COUNT_TIME?t=1:t=2,this._lastSetTapCountTime=i,n.tapCount=t}else(n.type===b.Change||n.type===b.Contextmenu)&&(this._lastSetTapCountTime=0);if(n.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(n.initialTarget))return;const i=[];for(const t of this.targets)if(t.contains(n.initialTarget)){let s=0,c=n.initialTarget;for(;c&&c!==t;)s++,c=c.parentElement;i.push([s,t])}i.sort((t,s)=>t[0]-s[0]);for(const[t,s]of i)s.dispatchEvent(n),this.dispatched=!0}}inertia(n,i,t,s,c,g,l,r,d){this.handle=f.scheduleAtNextAnimationFrame(n,()=>{const u=Date.now(),a=u-t;let v=0,h=0,p=!0;s+=C.SCROLL_FRICTION*a,l+=C.SCROLL_FRICTION*a,s>0&&(p=!1,v=c*s*a),l>0&&(p=!1,h=r*l*a);const _=this.newGestureEvent(b.Change);_.translationX=v,_.translationY=h,i.forEach(S=>S.dispatchEvent(_)),p||this.inertia(n,i,u,s,c,g+v,l,r,d+h)})}onTouchMove(n){const i=Date.now();for(let t=0,s=n.changedTouches.length;t<s;t++){const c=n.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("end of an UNKNOWN touch",c);continue}const g=this.activeTouches[c.identifier],l=this.newGestureEvent(b.Change,g.initialTarget);l.translationX=c.pageX-L.tail(g.rollingPageX),l.translationY=c.pageY-L.tail(g.rollingPageY),l.pageX=c.pageX,l.pageY=c.pageY,this.dispatchEvent(l),g.rollingPageX.length>3&&(g.rollingPageX.shift(),g.rollingPageY.shift(),g.rollingTimestamps.shift()),g.rollingPageX.push(c.pageX),g.rollingPageY.push(c.pageY),g.rollingTimestamps.push(i)}this.dispatched&&(n.preventDefault(),n.stopPropagation(),this.dispatched=!1)}}e.Gesture=C,C.SCROLL_FRICTION=-.005,C.HOLD_DELAY=700,C.CLEAR_TAP_COUNT_TIME=400,ke([D.memoize],C,"isTouchDevice",null)}),define(ne[48],se([1,0,6,440]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setARIAContainer=b,e.alert=C,e.status=o;const k=2e4;let L,D,y,m,w;function b(i){L=document.createElement("div"),L.className="monaco-aria-container";const t=()=>{const c=document.createElement("div");return c.className="monaco-alert",c.setAttribute("role","alert"),c.setAttribute("aria-atomic","true"),L.appendChild(c),c};D=t(),y=t();const s=()=>{const c=document.createElement("div");return c.className="monaco-status",c.setAttribute("aria-live","polite"),c.setAttribute("aria-atomic","true"),L.appendChild(c),c};m=s(),w=s(),i.appendChild(L)}function C(i){L&&(D.textContent!==i?(f.clearNode(y),n(D,i)):(f.clearNode(D),n(y,i)))}function o(i){L&&(m.textContent!==i?(f.clearNode(w),n(m,i)):(f.clearNode(m),n(w,i)))}function n(i,t){f.clearNode(i),t.length>k&&(t=t.substr(0,k)),i.textContent=t,i.style.visibility="hidden",i.style.visibility="visible"}}),define(ne[343],se([1,0,244,6,2,17,185,444]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.LayoutAnchorMode=void 0,e.isAnchor=m,e.layout=b;function m(n){const i=n;return!!i&&typeof i.x=="number"&&typeof i.y=="number"}var w;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(w||(e.LayoutAnchorMode=w={}));function b(n,i,t){const s=t.mode===w.ALIGN?t.offset:t.offset+t.size,c=t.mode===w.ALIGN?t.offset+t.size:t.offset;return t.position===0?i<=n-s?s:i<=c?c-i:Math.max(n-i,0):i<=c?c-i:i<=n-s?s:0}class C extends L.Disposable{constructor(i,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=L.Disposable.None,this.toDisposeOnSetContainer=L.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),k.hide(this.view),this.setContainer(i,t),this._register((0,L.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,t){var s;this.useFixedPosition=t!==1;const c=this.useShadowDOM;if(this.useShadowDOM=t===3,!(i===this.container&&c===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(s=this.shadowRootHostElement)===null||s===void 0||s.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i)){if(this.container=i,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const l=document.createElement("style");l.textContent=o,this.shadowRoot.appendChild(l),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const g=new L.DisposableStore;C.BUBBLE_UP_EVENTS.forEach(l=>{g.add(k.addStandardDisposableListener(this.container,l,r=>{this.onDOMEvent(r,!1)}))}),C.BUBBLE_DOWN_EVENTS.forEach(l=>{g.add(k.addStandardDisposableListener(this.container,l,r=>{this.onDOMEvent(r,!0)},!0))}),this.toDisposeOnSetContainer=g}}show(i){var t,s,c;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+((t=i.layer)!==null&&t!==void 0?t:0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=i.render(this.view)||L.Disposable.None,this.delegate=i,this.doLayout(),(c=(s=this.delegate).focus)===null||c===void 0||c.call(s)}getViewElement(){return this.view}layout(){var i,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&f.BrowserFeatures.pointerEvents)){this.hide();return}(t=(i=this.delegate)===null||i===void 0?void 0:i.layout)===null||t===void 0||t.call(i),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let t;if(k.isHTMLElement(i)){const h=k.getDomNodePagePosition(i),p=k.getDomNodeZoomLevel(i);t={top:h.top*p,left:h.left*p,width:h.width*p,height:h.height*p}}else m(i)?t={top:i.y,left:i.x,width:i.width||1,height:i.height||2}:t={top:i.posy,left:i.posx,width:2,height:2};const s=k.getTotalWidth(this.view),c=k.getTotalHeight(this.view),g=this.delegate.anchorPosition||0,l=this.delegate.anchorAlignment||0,r=this.delegate.anchorAxisAlignment||0;let d,u;const a=k.getActiveWindow();if(r===0){const h={offset:t.top-a.pageYOffset,size:t.height,position:g===0?0:1},p={offset:t.left,size:t.width,position:l===0?0:1,mode:w.ALIGN};d=b(a.innerHeight,c,h)+a.pageYOffset,y.Range.intersects({start:d,end:d+c},{start:h.offset,end:h.offset+h.size})&&(p.mode=w.AVOID),u=b(a.innerWidth,s,p)}else{const h={offset:t.left,size:t.width,position:l===0?0:1},p={offset:t.top,size:t.height,position:g===0?0:1,mode:w.ALIGN};u=b(a.innerWidth,s,h),y.Range.intersects({start:u,end:u+s},{start:h.offset,end:h.offset+h.size})&&(p.mode=w.AVOID),d=b(a.innerHeight,c,p)+a.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(g===0?"bottom":"top"),this.view.classList.add(l===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const v=k.getDomNodePagePosition(this.container);this.view.style.top=`${d-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:v.top)}px`,this.view.style.left=`${u-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:v.left)}px`,this.view.style.width="initial"}hide(i){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(i),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,k.getWindow(i).document.activeElement):t&&!k.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=C,C.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],C.BUBBLE_DOWN_EVENTS=["click"];const o=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ne[344],se([1,0,6,11,445]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class L{constructor(y,m,w){this.options=m,this.styles=w,this.count=0,this.element=(0,f.append)(y,(0,f.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(y){this.count=y,this.render()}setTitleFormat(y){this.titleFormat=y,this.render()}render(){var y,m;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(y=this.styles.badgeBackground)!==null&&y!==void 0?y:"",this.element.style.color=(m=this.styles.badgeForeground)!==null&&m!==void 0?m:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=L}),define(ne[625],se([1,0,6,46,69,41,7,297]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class m extends D.ActionRunner{constructor(C,o){super(),this._onDidChangeVisibility=this._register(new y.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,f.append)(C,(0,f.$)(".monaco-dropdown")),this._label=(0,f.append)(this._element,(0,f.$)(".dropdown-label"));let n=o.labelRenderer;n||(n=t=>(t.textContent=o.label||"",null));for(const t of[f.EventType.CLICK,f.EventType.MOUSE_DOWN,L.EventType.Tap])this._register((0,f.addDisposableListener)(this.element,t,s=>f.EventHelper.stop(s,!0)));for(const t of[f.EventType.MOUSE_DOWN,L.EventType.Tap])this._register((0,f.addDisposableListener)(this._label,t,s=>{(0,f.isMouseEvent)(s)&&(s.detail>1||s.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,f.addDisposableListener)(this._label,f.EventType.KEY_UP,t=>{const s=new k.StandardKeyboardEvent(t);(s.equals(3)||s.equals(10))&&(f.EventHelper.stop(t,!0),this.visible?this.hide():this.show())}));const i=n(this._label);i&&this._register(i),this._register(L.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class w extends m{constructor(C,o){super(C,o),this._options=o,this._actions=[],this.actions=o.actions||[]}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(C,o)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C,o):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=w}),define(ne[110],se([1,0,6,31]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderLabelWithIcons=D,e.renderIcon=y;const L=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(m){const w=new Array;let b,C=0,o=0;for(;(b=L.exec(m))!==null;){o=b.index||0,C<o&&w.push(m.substring(C,o)),C=(b.index||0)+b[0].length;const[,n,i]=b;w.push(n?`$(${i})`:y({id:i}))}return C<m.length&&w.push(m.substring(C)),w}function y(m){const w=f.$("span");return w.classList.add(...k.ThemeIcon.asClassNameArray(m)),w}}),define(ne[345],se([1,0,6,77,44,110,2,55]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class w extends y.Disposable{constructor(C,o){var n;super(),this.options=o,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(n=o?.supportIcons)!==null&&n!==void 0?n:!1,this.domNode=f.append(C,f.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(C,o=[],n="",i){C||(C=""),i&&(C=w.escapeNewLines(C,o)),!(this.didEverRender&&this.text===C&&this.title===n&&m.equals(this.highlights,o))&&(this.text=C,this.title=n,this.highlights=o,this.render())}render(){var C,o,n,i;const t=[];let s=0;for(const c of this.highlights){if(c.end===c.start)continue;if(s<c.start){const r=this.text.substring(s,c.start);this.supportIcons?t.push(...(0,D.renderLabelWithIcons)(r)):t.push(r),s=c.start}const g=this.text.substring(s,c.end),l=f.$("span.highlight",void 0,...this.supportIcons?(0,D.renderLabelWithIcons)(g):[g]);c.extraClasses&&l.classList.add(...c.extraClasses),t.push(l),s=c.end}if(s<this.text.length){const c=this.text.substring(s);this.supportIcons?t.push(...(0,D.renderLabelWithIcons)(c)):t.push(c)}if(f.reset(this.domNode,...t),!((o=(C=this.options)===null||C===void 0?void 0:C.hoverDelegate)===null||o===void 0)&&o.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const c=(i=(n=this.options)===null||n===void 0?void 0:n.hoverDelegate)!==null&&i!==void 0?i:(0,L.getDefaultHoverDelegate)("mouse");this.customHover=this._register((0,k.getBaseLayerHoverDelegate)().setupUpdatableHover(c,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(C,o){let n=0,i=0;return C.replace(/\r\n|\r|\n/g,(t,s)=>{i=t===`\r
`?-1:0,s+=n;for(const c of o)c.end<=s||(c.start>=s&&(c.start+=i),c.end>=s&&(c.end+=i));return n+=i,"\u23CE"})}}e.HighlightedLabel=w}),define(ne[250],se([1,0,6,345,2,55,185,44,77,20,138,447]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class o{constructor(g){this._element=g}get element(){return this._element}set textContent(g){this.disposed||g===this._textContent||(this._textContent=g,this._element.textContent=g)}set className(g){this.disposed||g===this._className||(this._className=g,this._element.className=g)}set empty(g){this.disposed||g===this._empty||(this._empty=g,this._element.style.marginLeft=g?"0":"")}dispose(){this.disposed=!0}}class n extends L.Disposable{constructor(g,l){var r;super(),this.customHovers=new Map,this.creationOptions=l,this.domNode=this._register(new o(f.append(g,f.$(".monaco-icon-label")))),this.labelContainer=f.append(this.domNode.element,f.$(".monaco-icon-label-container")),this.nameContainer=f.append(this.labelContainer,f.$("span.monaco-icon-name-container")),l?.supportHighlights||l?.supportIcons?this.nameNode=this._register(new s(this.nameContainer,!!l.supportIcons)):this.nameNode=new i(this.nameContainer),this.hoverDelegate=(r=l?.hoverDelegate)!==null&&r!==void 0?r:(0,m.getDefaultHoverDelegate)("mouse")}get element(){return this.domNode.element}setLabel(g,l,r){var d;const u=["monaco-icon-label"],a=["monaco-icon-label-container"];let v="";r&&(r.extraClasses&&u.push(...r.extraClasses),r.italic&&u.push("italic"),r.strikethrough&&u.push("strikethrough"),r.disabledCommand&&a.push("disabled"),r.title&&(typeof r.title=="string"?v+=r.title:v+=g));const h=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(r?.iconPath){let p;!h||!f.isHTMLElement(h)?(p=f.$(".monaco-icon-label-iconpath"),this.domNode.element.prepend(p)):p=h,p.style.backgroundImage=f.asCSSUrl(r?.iconPath)}else h&&h.remove();if(this.domNode.className=u.join(" "),this.domNode.element.setAttribute("aria-label",v),this.labelContainer.className=a.join(" "),this.setupHover(r?.descriptionTitle?this.labelContainer:this.element,r?.title),this.nameNode.setLabel(g,r),l||this.descriptionNode){const p=this.getOrCreateDescriptionNode();p instanceof k.HighlightedLabel?(p.set(l||"",r?r.descriptionMatches:void 0,void 0,r?.labelEscapeNewLines),this.setupHover(p.element,r?.descriptionTitle)):(p.textContent=l&&r?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(l,[]):l||"",this.setupHover(p.element,r?.descriptionTitle||""),p.empty=!l)}if(r?.suffix||this.suffixNode){const p=this.getOrCreateSuffixNode();p.textContent=(d=r?.suffix)!==null&&d!==void 0?d:""}}setupHover(g,l){const r=this.customHovers.get(g);if(r&&(r.dispose(),this.customHovers.delete(g)),!l){g.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(function(u,a){(0,b.isString)(a)?u.title=(0,C.stripIcons)(a):a?.markdownNotSupportedFallback?u.title=a.markdownNotSupportedFallback:u.removeAttribute("title")})(g,l);else{const d=(0,w.getBaseLayerHoverDelegate)().setupUpdatableHover(this.hoverDelegate,g,l);d&&this.customHovers.set(g,d)}}dispose(){super.dispose();for(const g of this.customHovers.values())g.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const g=this._register(new o(f.after(this.nameContainer,f.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new o(f.append(g.element,f.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var g;if(!this.descriptionNode){const l=this._register(new o(f.append(this.labelContainer,f.$("span.monaco-icon-description-container"))));!((g=this.creationOptions)===null||g===void 0)&&g.supportDescriptionHighlights?this.descriptionNode=this._register(new k.HighlightedLabel(f.append(l.element,f.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new o(f.append(l.element,f.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=n;class i{constructor(g){this.container=g,this.label=void 0,this.singleLabel=void 0}setLabel(g,l){if(!(this.label===g&&(0,D.equals)(this.options,l)))if(this.label=g,this.options=l,typeof g=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=f.append(this.container,f.$("a.label-name",{id:l?.domId}))),this.singleLabel.textContent=g;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let r=0;r<g.length;r++){const d=g[r],u=l?.domId&&`${l?.domId}_${r}`;f.append(this.container,f.$("a.label-name",{id:u,"data-icon-label-count":g.length,"data-icon-label-index":r,role:"treeitem"},d)),r<g.length-1&&f.append(this.container,f.$("span.label-separator",void 0,l?.separator||"/"))}}}}function t(c,g,l){if(!l)return;let r=0;return c.map(d=>{const u={start:r,end:r+d.length},a=l.map(v=>y.Range.intersect(u,v)).filter(v=>!y.Range.isEmpty(v)).map(({start:v,end:h})=>({start:v-r,end:h-r}));return r=u.end+g.length,a})}class s extends L.Disposable{constructor(g,l){super(),this.container=g,this.supportIcons=l,this.label=void 0,this.singleLabel=void 0}setLabel(g,l){if(!(this.label===g&&(0,D.equals)(this.options,l)))if(this.label=g,this.options=l,typeof g=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new k.HighlightedLabel(f.append(this.container,f.$("a.label-name",{id:l?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(g,l?.matches,void 0,l?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const r=l?.separator||"/",d=t(g,r,l?.matches);for(let u=0;u<g.length;u++){const a=g[u],v=d?d[u]:void 0,h=l?.domId&&`${l?.domId}_${u}`,p=f.$("a.label-name",{id:h,"data-icon-label-count":g.length,"data-icon-label-index":u,role:"treeitem"});this._register(new k.HighlightedLabel(f.append(this.container,p),{supportIcons:this.supportIcons})).set(a,v,void 0,l?.labelEscapeNewLines),u<g.length-1&&f.append(p,f.$("span.label-separator",void 0,r))}}}}}),define(ne[201],se([1,0,6,77,44,243,2,55,611,449]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const b=f.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class C extends y.Disposable{constructor(n,i,t){super(),this.os=i,this.keyElements=new Set,this.options=t||Object.create(null);const s=this.options.keybindingLabelForeground;this.domNode=f.append(n,b(".monaco-keybinding")),s&&(this.domNode.style.color=s),this.hover=this._register((0,k.getBaseLayerHoverDelegate)().setupUpdatableHover((0,L.getDefaultHoverDelegate)("mouse"),this.domNode,"")),this.didEverRender=!1,n.appendChild(this.domNode)}get element(){return this.domNode}set(n,i){this.didEverRender&&this.keybinding===n&&C.areSame(this.matches,i)||(this.keybinding=n,this.matches=i,this.render())}render(){var n;if(this.clear(),this.keybinding){const i=this.keybinding.getChords();i[0]&&this.renderChord(this.domNode,i[0],this.matches?this.matches.firstPart:null);for(let s=1;s<i.length;s++)f.append(this.domNode,b("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,i[s],this.matches?this.matches.chordPart:null);const t=(n=this.options.disableTitle)!==null&&n!==void 0&&n?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(t),this.domNode.setAttribute("aria-label",t||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){f.clearNode(this.domNode),this.keyElements.clear()}renderChord(n,i,t){const s=D.UILabelProvider.modifierLabels[this.os];i.ctrlKey&&this.renderKey(n,s.ctrlKey,!!t?.ctrlKey,s.separator),i.shiftKey&&this.renderKey(n,s.shiftKey,!!t?.shiftKey,s.separator),i.altKey&&this.renderKey(n,s.altKey,!!t?.altKey,s.separator),i.metaKey&&this.renderKey(n,s.metaKey,!!t?.metaKey,s.separator);const c=i.keyLabel;c&&this.renderKey(n,c,!!t?.keyCode,"")}renderKey(n,i,t,s){f.append(n,this.createKeyElement(i,t?".highlight":"")),s&&f.append(n,b("span.monaco-keybinding-key-separator",void 0,s))}renderUnbound(n){f.append(n,this.createKeyElement((0,w.localize)(0,null)))}createKeyElement(n,i=""){const t=b("span.monaco-keybinding-key"+i,void 0,n);return this.keyElements.add(t),this.options.keybindingLabelBackground&&(t.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(t.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(t.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),t}static areSame(n,i){return n===i||!n&&!i?!0:!!n&&!!i&&(0,m.equals)(n.firstPart,i.firstPart)&&(0,m.equals)(n.chordPart,i.chordPart)}}e.KeybindingLabel=C}),define(ne[626],se([1,0,6]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(D){var y;try{(y=D.parentElement)===null||y===void 0||y.removeChild(D)}catch{}}class L{constructor(y){this.renderers=y,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(y){let m=this.getTemplateCache(y).pop(),w=!1;if(m)w=this.transactionNodesPendingRemoval.has(m.domNode),w&&this.transactionNodesPendingRemoval.delete(m.domNode);else{const b=(0,f.$)(".monaco-list-row"),o=this.getRenderer(y).renderTemplate(b);m={domNode:b,templateId:y,templateData:o}}return{row:m,isReusingConnectedDomNode:w}}release(y){y&&this.releaseRow(y)}transact(y){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{y()}finally{for(const m of this.transactionNodesPendingRemoval)this.doRemoveNode(m);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(y){const{domNode:m,templateId:w}=y;m&&(this.inTransaction?this.transactionNodesPendingRemoval.add(m):this.doRemoveNode(m)),this.getTemplateCache(w).push(y)}doRemoveNode(y){y.classList.remove("scrolling"),k(y)}getTemplateCache(y){let m=this.cache.get(y);return m||(m=[],this.cache.set(y,m)),m}dispose(){this.cache.forEach((y,m)=>{for(const w of y)this.getRenderer(m).disposeTemplate(w.templateData),w.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(y){const m=this.renderers.get(y);if(!m)throw new Error(`No renderer found for ${y}`);return m}}e.RowCache=L}),define(ne[627],se([1,0,6,15,2,451]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",y="active",m="infinite",w="infinite-long-running",b="discrete";class C extends L.Disposable{constructor(n,i){super(),this.progressSignal=this._register(new L.MutableDisposable),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,f.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),C.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(n,i)}create(n,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),n.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=i?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(y,m,w,b),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(n){return this.element.classList.add(D),this.element.classList.contains(m)?(this.bit.style.opacity="0",n?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",n?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(b,D,w),this.element.classList.add(y,m),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(w)}getContainer(){return this.element}}e.ProgressBar=C,C.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(ne[168],se([1,0,6,89,69,15,122,7,2,17,452]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const C=!1;var o;(function(u){u.North="north",u.South="south",u.East="east",u.West="west"})(o||(e.OrthogonalEdge=o={}));let n=4;const i=new m.Emitter;let t=300;const s=new m.Emitter;class c{constructor(a){this.el=a,this.disposables=new w.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter((0,f.getWindow)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter((0,f.getWindow)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}ke([y.memoize],c.prototype,"onPointerMove",null),ke([y.memoize],c.prototype,"onPointerUp",null);class g{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,L.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,L.EventType.End)).event}constructor(a){this.el=a,this.disposables=new w.DisposableStore}dispose(){this.disposables.dispose()}}ke([y.memoize],g.prototype,"onPointerMove",null),ke([y.memoize],g.prototype,"onPointerUp",null);class l{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(a){this.factory=a}dispose(){}}ke([y.memoize],l.prototype,"onPointerMove",null),ke([y.memoize],l.prototype,"onPointerUp",null);const r="pointer-events-disabled";class d extends w.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(a){this._state!==a&&(this.el.classList.toggle("disabled",a===0),this.el.classList.toggle("minimum",a===1),this.el.classList.toggle("maximum",a===2),this._state=a,this.onDidEnablementChange.fire(a))}set orthogonalStartSash(a){if(this._orthogonalStartSash!==a){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),a){const v=h=>{this.orthogonalStartDragHandleDisposables.clear(),h!==0&&(this._orthogonalStartDragHandle=(0,f.append)(this.el,(0,f.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>d.onMouseEnter(a),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>d.onMouseLeave(a),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(a.onDidEnablementChange.event(v,this)),v(a.state)}this._orthogonalStartSash=a}}set orthogonalEndSash(a){if(this._orthogonalEndSash!==a){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),a){const v=h=>{this.orthogonalEndDragHandleDisposables.clear(),h!==0&&(this._orthogonalEndDragHandle=(0,f.append)(this.el,(0,f.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>d.onMouseEnter(a),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>d.onMouseLeave(a),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(a.onDidEnablementChange.event(v,this)),v(a.state)}this._orthogonalEndSash=a}}constructor(a,v,h){super(),this.hoverDelay=t,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new m.Emitter),this._onDidStart=this._register(new m.Emitter),this._onDidChange=this._register(new m.Emitter),this._onDidReset=this._register(new m.Emitter),this._onDidEnd=this._register(new m.Emitter),this.orthogonalStartSashDisposables=this._register(new w.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new w.DisposableStore),this.orthogonalEndSashDisposables=this._register(new w.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new w.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,f.append)(a,(0,f.$)(".monaco-sash")),h.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${h.orthogonalEdge}`),b.isMacintosh&&this.el.classList.add("mac");const p=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(p(A=>this.onPointerStart(A,new c(a)),this));const _=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(_(this.onPointerDoublePress,this));const S=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(S(()=>d.onMouseEnter(this)));const E=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>d.onMouseLeave(this))),this._register(L.Gesture.addTarget(this.el));const I=this._register(new k.DomEmitter(this.el,L.EventType.Start)).event;this._register(I(A=>this.onPointerStart(A,new g(this.el)),this));const T=this._register(new k.DomEmitter(this.el,L.EventType.Tap)).event;let N;this._register(T(A=>{if(N){clearTimeout(N),N=void 0,this.onPointerDoublePress(A);return}clearTimeout(N),N=setTimeout(()=>N=void 0,250)},this)),typeof h.size=="number"?(this.size=h.size,h.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=n,this._register(i.event(A=>{this.size=A,this.layout()}))),this._register(s.event(A=>this.hoverDelay=A)),this.layoutProvider=v,this.orthogonalStartSash=h.orthogonalStartSash,this.orthogonalEndSash=h.orthogonalEndSash,this.orientation=h.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",C),this.layout()}onPointerStart(a,v){f.EventHelper.stop(a);let h=!1;if(!a.__orthogonalSashEvent){const P=this.getOrthogonalSash(a);P&&(h=!0,a.__orthogonalSashEvent=!0,P.onPointerStart(a,new l(v)))}if(this.linkedSash&&!a.__linkedSashEvent&&(a.__linkedSashEvent=!0,this.linkedSash.onPointerStart(a,new l(v))),!this.state)return;const p=this.el.ownerDocument.getElementsByTagName("iframe");for(const P of p)P.classList.add(r);const _=a.pageX,S=a.pageY,E=a.altKey,I={startX:_,currentX:_,startY:S,currentY:S,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,f.createStyleSheet)(this.el),N=()=>{let P="";h?P="all-scroll":this.orientation===1?this.state===1?P="s-resize":this.state===2?P="n-resize":P=b.isMacintosh?"row-resize":"ns-resize":this.state===1?P="e-resize":this.state===2?P="w-resize":P=b.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${P} !important; }`},A=new w.DisposableStore;N(),h||this.onDidEnablementChange.event(N,null,A);const R=P=>{f.EventHelper.stop(P,!1);const F={startX:_,currentX:P.pageX,startY:S,currentY:P.pageY,altKey:E};this._onDidChange.fire(F)},M=P=>{f.EventHelper.stop(P,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),A.dispose();for(const F of p)F.classList.remove(r)};v.onPointerMove(R,null,A),v.onPointerUp(M,null,A),A.add(v)}onPointerDoublePress(a){const v=this.getOrthogonalSash(a);v&&v._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(a,v=!1){a.el.classList.contains("active")?(a.hoverDelayer.cancel(),a.el.classList.add("hover")):a.hoverDelayer.trigger(()=>a.el.classList.add("hover"),a.hoverDelay).then(void 0,()=>{}),!v&&a.linkedSash&&d.onMouseEnter(a.linkedSash,!0)}static onMouseLeave(a,v=!1){a.hoverDelayer.cancel(),a.el.classList.remove("hover"),!v&&a.linkedSash&&d.onMouseLeave(a.linkedSash,!0)}clearSashHoverState(){d.onMouseLeave(this)}layout(){if(this.orientation===0){const a=this.layoutProvider;this.el.style.left=a.getVerticalSashLeft(this)-this.size/2+"px",a.getVerticalSashTop&&(this.el.style.top=a.getVerticalSashTop(this)+"px"),a.getVerticalSashHeight&&(this.el.style.height=a.getVerticalSashHeight(this)+"px")}else{const a=this.layoutProvider;this.el.style.top=a.getHorizontalSashTop(this)-this.size/2+"px",a.getHorizontalSashLeft&&(this.el.style.left=a.getHorizontalSashLeft(this)+"px"),a.getHorizontalSashWidth&&(this.el.style.width=a.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(a){var v;const h=(v=a.initialTarget)!==null&&v!==void 0?v:a.target;if(!(!h||!(0,f.isHTMLElement)(h))&&h.classList.contains("orthogonal-drag-handle"))return h.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=d}),define(ne[251],se([1,0,6,168,7,2]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class y{constructor(){this._onDidWillResize=new L.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new L.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new f.Dimension(0,0),this._minSize=new f.Dimension(0,0),this._maxSize=new f.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let w,b=0,C=0;this._sashListener.add(L.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{w===void 0&&(this._onDidWillResize.fire(),w=this._size,b=0,C=0)})),this._sashListener.add(L.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{w!==void 0&&(w=void 0,b=0,C=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{w&&(C=o.currentX-o.startX,this.layout(w.height+b,w.width+C),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{w&&(C=-(o.currentX-o.startX),this.layout(w.height+b,w.width+C),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{w&&(b=-(o.currentY-o.startY),this.layout(w.height+b,w.width+C),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{w&&(b=o.currentY-o.startY,this.layout(w.height+b,w.width+C),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(L.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(L.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(w,b,C,o){this._northSash.state=w?3:0,this._eastSash.state=b?3:0,this._southSash.state=C?3:0,this._westSash.state=o?3:0}layout(w=this.size.height,b=this.size.width){const{height:C,width:o}=this._minSize,{height:n,width:i}=this._maxSize;w=Math.max(C,Math.min(n,w)),b=Math.max(o,Math.min(i,b));const t=new f.Dimension(b,w);f.Dimension.equals(t,this._size)||(this.domNode.style.height=w+"px",this.domNode.style.width=b+"px",this._size=t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(w){this._maxSize=w}get maxSize(){return this._maxSize}set minSize(w){this._minSize=w}get minSize(){return this._minSize}set preferredSize(w){this._preferredSize=w}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=y}),define(ne[628],se([1,0,6,69,13,7,2,17]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class w extends y.Disposable{constructor(C,o,n,i){super(),this.selected=0,this.selectBoxOptions=i||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=n,this.registerListeners(),this.setOptions(C,o)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(C=>{this._register(f.addDisposableListener(this.selectElement,C,o=>{this.selectElement.focus()}))}),this._register(f.addStandardDisposableListener(this.selectElement,"click",C=>{f.EventHelper.stop(C,!0)})),this._register(f.addStandardDisposableListener(this.selectElement,"change",C=>{this.selectElement.title=C.target.value,this._onDidSelect.fire({index:C.target.selectedIndex,selected:C.target.value})})),this._register(f.addStandardDisposableListener(this.selectElement,"keydown",C=>{let o=!1;m.isMacintosh?(C.keyCode===18||C.keyCode===16||C.keyCode===10)&&(o=!0):(C.keyCode===18&&C.altKey||C.keyCode===10||C.keyCode===3)&&(o=!0),o&&C.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(C,o){(!this.options||!L.equals(this.options,C))&&(this.options=C,this.selectElement.options.length=0,this.options.forEach((n,i)=>{this.selectElement.add(this.createOption(n.text,i,n.isDisabled))})),o!==void 0&&this.select(o)}select(C){this.options.length===0?this.selected=0:C>=0&&C<this.options.length?this.selected=C:C>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(C){this.selectElement.tabIndex=C?0:-1}render(C){C.classList.add("select-container"),C.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var C,o,n;this.selectElement&&(this.selectElement.style.backgroundColor=(C=this.styles.selectBackground)!==null&&C!==void 0?C:"",this.selectElement.style.color=(o=this.styles.selectForeground)!==null&&o!==void 0?o:"",this.selectElement.style.borderColor=(n=this.styles.selectBorder)!==null&&n!==void 0?n:"")}createOption(C,o,n){const i=document.createElement("option");return i.value=C,i.text=C,i.disabled=!!n,i}}e.SelectBoxNative=w}),define(ne[80],se([1,0,6,46,74,69,2]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class m extends y.Disposable{onclick(b,C){this._register(f.addDisposableListener(b,f.EventType.CLICK,o=>C(new L.StandardMouseEvent(f.getWindow(b),o))))}onmousedown(b,C){this._register(f.addDisposableListener(b,f.EventType.MOUSE_DOWN,o=>C(new L.StandardMouseEvent(f.getWindow(b),o))))}onmouseover(b,C){this._register(f.addDisposableListener(b,f.EventType.MOUSE_OVER,o=>C(new L.StandardMouseEvent(f.getWindow(b),o))))}onmouseleave(b,C){this._register(f.addDisposableListener(b,f.EventType.MOUSE_LEAVE,o=>C(new L.StandardMouseEvent(f.getWindow(b),o))))}onkeydown(b,C){this._register(f.addDisposableListener(b,f.EventType.KEY_DOWN,o=>C(new k.StandardKeyboardEvent(o))))}onkeyup(b,C){this._register(f.addDisposableListener(b,f.EventType.KEY_UP,o=>C(new k.StandardKeyboardEvent(o))))}oninput(b,C){this._register(f.addDisposableListener(b,f.EventType.INPUT,C))}onblur(b,C){this._register(f.addDisposableListener(b,f.EventType.BLUR,C))}onfocus(b,C){this._register(f.addDisposableListener(b,f.EventType.FOCUS,C))}ignoreGesture(b){return D.Gesture.ignoreTarget(b)}}e.Widget=m}),define(ne[252],se([1,0,167,80,15,31,6]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class m extends k.Widget{constructor(b){super(),this._onActivate=b.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=b.bgWidth+"px",this.bgDomNode.style.height=b.bgHeight+"px",typeof b.top<"u"&&(this.bgDomNode.style.top="0px"),typeof b.left<"u"&&(this.bgDomNode.style.left="0px"),typeof b.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof b.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=b.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(b.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof b.top<"u"&&(this.domNode.style.top=b.top+"px"),typeof b.left<"u"&&(this.domNode.style.left=b.left+"px"),typeof b.bottom<"u"&&(this.domNode.style.bottom=b.bottom+"px"),typeof b.right<"u"&&(this.domNode.style.right=b.right+"px"),this._pointerMoveMonitor=this._register(new f.GlobalPointerMoveMonitor),this._register(y.addStandardDisposableListener(this.bgDomNode,y.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._register(y.addStandardDisposableListener(this.domNode,y.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._pointerdownRepeatTimer=this._register(new y.WindowIntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new L.TimeoutTimer)}_arrowPointerDown(b){if(!b.target||!(b.target instanceof Element))return;const C=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,y.getWindow(b))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(C,200),this._pointerMoveMonitor.startMonitoring(b.target,b.pointerId,b.buttons,o=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),b.preventDefault()}}e.ScrollbarArrow=m}),define(ne[346],se([1,0,6,40,167,252,620,80,17]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const b=140;class C extends m.Widget{constructor(n){super(),this._lazyRender=n.lazyRender,this._host=n.host,this._scrollable=n.scrollable,this._scrollByPage=n.scrollByPage,this._scrollbarState=n.scrollbarState,this._visibilityController=this._register(new y.ScrollbarVisibilityController(n.visibility,"visible scrollbar "+n.extraScrollbarClassName,"invisible scrollbar "+n.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new L.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(f.addDisposableListener(this.domNode.domNode,f.EventType.POINTER_DOWN,i=>this._domNodePointerDown(i)))}_createArrow(n){const i=this._register(new D.ScrollbarArrow(n));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)}_createSlider(n,i,t,s){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(n),this.slider.setLeft(i),typeof t=="number"&&this.slider.setWidth(t),typeof s=="number"&&this.slider.setHeight(s),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(f.addDisposableListener(this.slider.domNode,f.EventType.POINTER_DOWN,c=>{c.button===0&&(c.preventDefault(),this._sliderPointerDown(c))})),this.onclick(this.slider.domNode,c=>{c.leftButton&&c.stopPropagation()})}_onElementSize(n){return this._scrollbarState.setVisibleSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(n){return this._scrollbarState.setScrollSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(n){return this._scrollbarState.setScrollPosition(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(n){n.target===this.domNode.domNode&&this._onPointerDown(n)}delegatePointerDown(n){const i=this.domNode.domNode.getClientRects()[0].top,t=i+this._scrollbarState.getSliderPosition(),s=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),c=this._sliderPointerPosition(n);t<=c&&c<=s?n.button===0&&(n.preventDefault(),this._sliderPointerDown(n)):this._onPointerDown(n)}_onPointerDown(n){let i,t;if(n.target===this.domNode.domNode&&typeof n.offsetX=="number"&&typeof n.offsetY=="number")i=n.offsetX,t=n.offsetY;else{const c=f.getDomNodePagePosition(this.domNode.domNode);i=n.pageX-c.left,t=n.pageY-c.top}const s=this._pointerDownRelativePosition(i,t);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(s):this._scrollbarState.getDesiredScrollPositionFromOffset(s)),n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))}_sliderPointerDown(n){if(!n.target||!(n.target instanceof Element))return;const i=this._sliderPointerPosition(n),t=this._sliderOrthogonalPointerPosition(n),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(n.target,n.pointerId,n.buttons,c=>{const g=this._sliderOrthogonalPointerPosition(c),l=Math.abs(g-t);if(w.isWindows&&l>b){this._setDesiredScrollPositionNow(s.getScrollPosition());return}const d=this._sliderPointerPosition(c)-i;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(d))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(n){const i={};this.writeScrollPosition(i,n),this._scrollable.setScrollPositionNow(i)}updateScrollbarSize(n){this._updateScrollbarSize(n),this._scrollbarState.setScrollbarSize(n),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=C}),define(ne[629],se([1,0,74,346,252,218,26]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(b,C,o){const n=b.getScrollDimensions(),i=b.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:o,scrollbarState:new D.ScrollbarState(C.horizontalHasArrows?C.arrowSize:0,C.horizontal===2?0:C.horizontalScrollbarSize,C.vertical===2?0:C.verticalScrollbarSize,n.width,n.scrollWidth,i.scrollLeft),visibility:C.horizontal,extraScrollbarClassName:"horizontal",scrollable:b,scrollByPage:C.scrollByPage}),C.horizontalHasArrows){const t=(C.arrowSize-L.ARROW_IMG_SIZE)/2,s=(C.horizontalScrollbarSize-L.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonLeft,top:s,left:t,bottom:void 0,right:void 0,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonRight,top:s,left:void 0,bottom:void 0,right:t,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((C.horizontalScrollbarSize-C.horizontalSliderSize)/2),0,void 0,C.horizontalSliderSize)}_updateSlider(b,C){this.slider.setWidth(b),this.slider.setLeft(C)}_renderDomNode(b,C){this.domNode.setWidth(b),this.domNode.setHeight(C),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(b){return this._shouldRender=this._onElementScrollSize(b.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(b.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(b,C){return b}_sliderPointerPosition(b){return b.pageX}_sliderOrthogonalPointerPosition(b){return b.pageY}_updateScrollbarSize(b){this.slider.setHeight(b)}writeScrollPosition(b,C){b.scrollLeft=C}updateOptions(b){this.updateScrollbarSize(b.horizontal===2?0:b.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(b.vertical===2?0:b.verticalScrollbarSize),this._visibilityController.setVisibility(b.horizontal),this._scrollByPage=b.scrollByPage}}e.HorizontalScrollbar=m}),define(ne[630],se([1,0,74,346,252,218,26]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(b,C,o){const n=b.getScrollDimensions(),i=b.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:o,scrollbarState:new D.ScrollbarState(C.verticalHasArrows?C.arrowSize:0,C.vertical===2?0:C.verticalScrollbarSize,0,n.height,n.scrollHeight,i.scrollTop),visibility:C.vertical,extraScrollbarClassName:"vertical",scrollable:b,scrollByPage:C.scrollByPage}),C.verticalHasArrows){const t=(C.arrowSize-L.ARROW_IMG_SIZE)/2,s=(C.verticalScrollbarSize-L.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonUp,top:t,left:s,bottom:void 0,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonDown,top:void 0,left:s,bottom:t,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((C.verticalScrollbarSize-C.verticalSliderSize)/2),C.verticalSliderSize,void 0)}_updateSlider(b,C){this.slider.setHeight(b),this.slider.setTop(C)}_renderDomNode(b,C){this.domNode.setWidth(C),this.domNode.setHeight(b),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(b){return this._shouldRender=this._onElementScrollSize(b.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(b.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(b,C){return C}_sliderPointerPosition(b){return b.pageY}_sliderOrthogonalPointerPosition(b){return b.pageX}_updateScrollbarSize(b){this.slider.setWidth(b)}writeScrollPosition(b,C){b.scrollTop=C}updateOptions(b){this.updateScrollbarSize(b.vertical===2?0:b.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(b.vertical),this._scrollByPage=b.scrollByPage}}e.VerticalScrollbar=m}),define(ne[81],se([1,0,66,6,40,74,629,630,80,15,7,2,17,158,453]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const t=500,s=50,c=!0;class g{constructor(p,_,S){this.timestamp=p,this.deltaX=_,this.deltaY=S,this.score=0}}class l{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let p=1,_=0,S=1,E=this._rear;do{const I=E===this._front?p:Math.pow(2,-S);if(p-=I,_+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,S++}while(!0);return _<=.5}acceptStandardWheelEvent(p){if(f.isChrome){const _=k.getWindow(p.browserEvent),S=(0,f.getZoomFactor)(_);this.accept(Date.now(),p.deltaX*S,p.deltaY*S)}else this.accept(Date.now(),p.deltaX,p.deltaY)}accept(p,_,S){let E=null;const I=new g(p,_,S);this._front===-1&&this._rear===-1?(this._memory[0]=I,this._front=0,this._rear=0):(E=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=I),I.score=this._computeScore(I,E)}_computeScore(p,_){if(Math.abs(p.deltaX)>0&&Math.abs(p.deltaY)>0)return 1;let S=.5;if((!this._isAlmostInt(p.deltaX)||!this._isAlmostInt(p.deltaY))&&(S+=.25),_){const E=Math.abs(p.deltaX),I=Math.abs(p.deltaY),T=Math.abs(_.deltaX),N=Math.abs(_.deltaY),A=Math.max(Math.min(E,T),1),R=Math.max(Math.min(I,N),1),M=Math.max(E,T),P=Math.max(I,N);M%A===0&&P%R===0&&(S-=.5)}return Math.min(Math.max(S,0),1)}_isAlmostInt(p){return Math.abs(Math.round(p)-p)<.01}}e.MouseWheelClassifier=l,l.INSTANCE=new l;class r extends w.Widget{get options(){return this._options}constructor(p,_,S){super(),this._onScroll=this._register(new C.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new C.Emitter),p.style.overflow="hidden",this._options=v(_),this._scrollable=S,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new m.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new y.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(p),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onmouseleave(this._listenOnDomNode,I=>this._onMouseLeave(I)),this._hideTimeout=this._register(new b.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,o.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(p){this._verticalScrollbar.delegatePointerDown(p)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(p){this._scrollable.setScrollDimensions(p,!1)}updateClassName(p){this._options.className=p,n.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(p){typeof p.handleMouseWheel<"u"&&(this._options.handleMouseWheel=p.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof p.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=p.mouseWheelScrollSensitivity),typeof p.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=p.fastScrollSensitivity),typeof p.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=p.scrollPredominantAxis),typeof p.horizontal<"u"&&(this._options.horizontal=p.horizontal),typeof p.vertical<"u"&&(this._options.vertical=p.vertical),typeof p.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=p.horizontalScrollbarSize),typeof p.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=p.verticalScrollbarSize),typeof p.scrollByPage<"u"&&(this._options.scrollByPage=p.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(p){this._onMouseWheel(new D.StandardWheelEvent(p))}_setListeningToMouseWheel(p){if(this._mouseWheelToDispose.length>0!==p&&(this._mouseWheelToDispose=(0,o.dispose)(this._mouseWheelToDispose),p)){const S=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,S,{passive:!1}))}}_onMouseWheel(p){var _;if(!((_=p.browserEvent)===null||_===void 0)&&_.defaultPrevented)return;const S=l.INSTANCE;c&&S.acceptStandardWheelEvent(p);let E=!1;if(p.deltaY||p.deltaX){let T=p.deltaY*this._options.mouseWheelScrollSensitivity,N=p.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&N+T===0?N=T=0:Math.abs(T)>=Math.abs(N)?N=0:T=0),this._options.flipAxes&&([T,N]=[N,T]);const A=!n.isMacintosh&&p.browserEvent&&p.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!N&&(N=T,T=0),p.browserEvent&&p.browserEvent.altKey&&(N=N*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const R=this._scrollable.getFutureScrollPosition();let M={};if(T){const P=s*T,F=R.scrollTop-(P<0?Math.floor(P):Math.ceil(P));this._verticalScrollbar.writeScrollPosition(M,F)}if(N){const P=s*N,F=R.scrollLeft-(P<0?Math.floor(P):Math.ceil(P));this._horizontalScrollbar.writeScrollPosition(M,F)}M=this._scrollable.validateScrollPosition(M),(R.scrollLeft!==M.scrollLeft||R.scrollTop!==M.scrollTop)&&(c&&this._options.mouseWheelSmoothScroll&&S.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(M):this._scrollable.setScrollPositionNow(M),E=!0)}let I=E;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(p.preventDefault(),p.stopPropagation())}_onDidScroll(p){this._shouldRender=this._horizontalScrollbar.onDidScroll(p)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(p)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const p=this._scrollable.getCurrentScrollPosition(),_=p.scrollTop>0,S=p.scrollLeft>0,E=S?" left":"",I=_?" top":"",T=S||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(p){this._mouseIsOver=!1,this._hide()}_onMouseOver(p){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),t)}}e.AbstractScrollableElement=r;class d extends r{constructor(p,_){_=_||{},_.mouseWheelSmoothScroll=!1;const S=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(k.getWindow(p),E)});super(p,_,S),this._register(S)}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}}e.ScrollableElement=d;class u extends r{constructor(p,_,S){super(p,_,S)}setScrollPosition(p){p.reuseAnimation?this._scrollable.setScrollPositionSmooth(p,p.reuseAnimation):this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=u;class a extends r{constructor(p,_){_=_||{},_.mouseWheelSmoothScroll=!1;const S=new i.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(k.getWindow(p),E)});super(p,_,S),this._register(S),this._element=p,this._register(this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)})),this.scanDomNode()}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=a;function v(h){const p={lazyRender:typeof h.lazyRender<"u"?h.lazyRender:!1,className:typeof h.className<"u"?h.className:"",useShadows:typeof h.useShadows<"u"?h.useShadows:!0,handleMouseWheel:typeof h.handleMouseWheel<"u"?h.handleMouseWheel:!0,flipAxes:typeof h.flipAxes<"u"?h.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof h.consumeMouseWheelIfScrollbarIsNeeded<"u"?h.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof h.alwaysConsumeMouseWheel<"u"?h.alwaysConsumeMouseWheel:!1,scrollYToX:typeof h.scrollYToX<"u"?h.scrollYToX:!1,mouseWheelScrollSensitivity:typeof h.mouseWheelScrollSensitivity<"u"?h.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof h.fastScrollSensitivity<"u"?h.fastScrollSensitivity:5,scrollPredominantAxis:typeof h.scrollPredominantAxis<"u"?h.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof h.mouseWheelSmoothScroll<"u"?h.mouseWheelSmoothScroll:!0,arrowSize:typeof h.arrowSize<"u"?h.arrowSize:11,listenOnDomNode:typeof h.listenOnDomNode<"u"?h.listenOnDomNode:null,horizontal:typeof h.horizontal<"u"?h.horizontal:1,horizontalScrollbarSize:typeof h.horizontalScrollbarSize<"u"?h.horizontalScrollbarSize:10,horizontalSliderSize:typeof h.horizontalSliderSize<"u"?h.horizontalSliderSize:0,horizontalHasArrows:typeof h.horizontalHasArrows<"u"?h.horizontalHasArrows:!1,vertical:typeof h.vertical<"u"?h.vertical:1,verticalScrollbarSize:typeof h.verticalScrollbarSize<"u"?h.verticalScrollbarSize:10,verticalHasArrows:typeof h.verticalHasArrows<"u"?h.verticalHasArrows:!1,verticalSliderSize:typeof h.verticalSliderSize<"u"?h.verticalSliderSize:0,scrollByPage:typeof h.scrollByPage<"u"?h.scrollByPage:!1};return p.horizontalSliderSize=typeof h.horizontalSliderSize<"u"?h.horizontalSliderSize:p.horizontalScrollbarSize,p.verticalSliderSize=typeof h.verticalSliderSize<"u"?h.verticalSliderSize:p.verticalScrollbarSize,n.isMacintosh&&(p.className+=" mac"),p}}),define(ne[169],se([1,0,6,46,81,2,609,446]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDownAction=e.ClickAction=e.HoverAction=e.HoverWidget=void 0,e.getHoverAccessibleViewHint=C;const m=f.$;class w extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new L.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=w;class b extends D.Disposable{static render(t,s,c){return new b(t,s,c)}constructor(t,s,c){super(),this.actionContainer=f.append(t,m("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=f.append(this.actionContainer,m("a.action")),this.action.setAttribute("role","button"),s.iconClass&&f.append(this.action,m(`span.icon.${s.iconClass}`));const g=f.append(this.action,m("span"));g.textContent=c?`${s.label} (${c})`:s.label,this._store.add(new o(this.actionContainer,s.run)),this._store.add(new n(this.actionContainer,s.run,[3,10])),this.setEnabled(!0)}setEnabled(t){t?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=b;function C(i,t){return i&&t?(0,y.localize)(0,null,t):i?(0,y.localize)(1,null):""}class o extends D.Disposable{constructor(t,s){super(),this._register(f.addDisposableListener(t,f.EventType.CLICK,c=>{c.stopPropagation(),c.preventDefault(),s(t)}))}}e.ClickAction=o;class n extends D.Disposable{constructor(t,s,c){super(),this._register(f.addDisposableListener(t,f.EventType.KEY_DOWN,g=>{const l=new k.StandardKeyboardEvent(g);c.some(r=>l.equals(r))&&(g.stopPropagation(),g.preventDefault(),s(t))}))}}e.KeyDownAction=n}),define(ne[253],se([1,0,219,6,89,69,81,13,15,122,7,2,185,158,436,626,9,137]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const l={CurrentDragAndDropData:void 0},r={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(_){return[_]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class d{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=d;class u{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=u;class a{constructor(){this.types=[],this.files=[]}update(S){if(S.types&&this.types.splice(0,this.types.length,...S.types),S.files){this.files.splice(0,this.files.length);for(let E=0;E<S.files.length;E++){const I=S.files.item(E);I&&(I.size||I.type)&&this.files.push(I)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=a;function v(_,S){return Array.isArray(_)&&Array.isArray(S)?(0,m.equals)(_,S):_===S}class h{constructor(S){S?.getSetSize?this.getSetSize=S.getSetSize.bind(S):this.getSetSize=(E,I,T)=>T,S?.getPosInSet?this.getPosInSet=S.getPosInSet.bind(S):this.getPosInSet=(E,I)=>I+1,S?.getRole?this.getRole=S.getRole.bind(S):this.getRole=E=>"listitem",S?.isChecked?this.isChecked=S.isChecked.bind(S):this.isChecked=E=>{}}}class p{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(S){if(S!==this._horizontalScrolling){if(S&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=S,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const E of this.items)this.measureItemWidth(E);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(S,E,I,T=r){var N,A,R,M,P,F,O,B,V,K,U,G,z;if(this.virtualDelegate=E,this.domId=`list_id_${++p.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new w.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=o.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=o.Disposable.None,this.onDragLeaveTimeout=o.Disposable.None,this.disposables=new o.DisposableStore,this._onDidChangeContentHeight=new C.Emitter,this._onDidChangeContentWidth=new C.Emitter,this.onDidChangeContentHeight=C.Event.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((N=T.paddingTop)!==null&&N!==void 0?N:0);for(const J of I)this.renderers.set(J.templateId,J);this.cache=this.disposables.add(new s.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(A=T.horizontalScrolling)!==null&&A!==void 0?A:r.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof T.paddingBottom>"u"?0:T.paddingBottom,this.accessibilityProvider=new h(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((R=T.transformOptimization)!==null&&R!==void 0?R:r.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(M=T.smoothScrolling)!==null&&M!==void 0&&M?125:0,scheduleAtNextAnimationFrame:J=>(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),J)})),this.scrollableElement=this.disposables.add(new y.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(P=T.alwaysConsumeMouseWheel)!==null&&P!==void 0?P:r.alwaysConsumeMouseWheel,horizontal:1,vertical:(F=T.verticalScrollMode)!==null&&F!==void 0?F:r.verticalScrollMode,useShadows:(O=T.useShadows)!==null&&O!==void 0?O:r.useShadows,mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity,scrollByPage:T.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),S.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,D.EventType.Change,J=>this.onTouchChange(J))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",J=>J.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",J=>this.onDragOver(this.toDragEvent(J)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",J=>this.onDrop(this.toDragEvent(J)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",J=>this.onDragLeave(this.toDragEvent(J)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",J=>this.onDragEnd(J))),this.setRowLineHeight=(B=T.setRowLineHeight)!==null&&B!==void 0?B:r.setRowLineHeight,this.setRowHeight=(V=T.setRowHeight)!==null&&V!==void 0?V:r.setRowHeight,this.supportDynamicHeights=(K=T.supportDynamicHeights)!==null&&K!==void 0?K:r.supportDynamicHeights,this.dnd=(U=T.dnd)!==null&&U!==void 0?U:this.disposables.add(r.dnd),this.layout((G=T.initialSize)===null||G===void 0?void 0:G.height,(z=T.initialSize)===null||z===void 0?void 0:z.width)}updateOptions(S){S.paddingBottom!==void 0&&(this.paddingBottom=S.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),S.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(S.smoothScrolling?125:0),S.horizontalScrolling!==void 0&&(this.horizontalScrolling=S.horizontalScrolling);let E;if(S.scrollByPage!==void 0&&(E={...E??{},scrollByPage:S.scrollByPage}),S.mouseWheelScrollSensitivity!==void 0&&(E={...E??{},mouseWheelScrollSensitivity:S.mouseWheelScrollSensitivity}),S.fastScrollSensitivity!==void 0&&(E={...E??{},fastScrollSensitivity:S.fastScrollSensitivity}),E&&this.scrollableElement.updateOptions(E),S.paddingTop!==void 0&&S.paddingTop!==this.rangeMap.paddingTop){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T=S.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=S.paddingTop,this.render(I,Math.max(0,this.lastRenderTop+T),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(S){return new t.RangeMap(S)}splice(S,E,I=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(S,E,I)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(S,E,I=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:S,end:S+E},A=n.Range.intersect(T,N),R=new Map;for(let Z=A.end-1;Z>=A.start;Z--){const x=this.items[Z];if(x.dragStartDisposable.dispose(),x.checkedDisposable.dispose(),x.row){let Y=R.get(x.templateId);Y||(Y=[],R.set(x.templateId,Y));const ae=this.renderers.get(x.templateId);ae&&ae.disposeElement&&ae.disposeElement(x.element,Z,x.row.templateData,x.size),Y.unshift(x.row)}x.row=null,x.stale=!0}const M={start:S+E,end:this.items.length},P=n.Range.intersect(M,T),F=n.Range.relativeComplement(M,T),O=I.map(Z=>({id:String(this.itemId++),element:Z,templateId:this.virtualDelegate.getTemplateId(Z),size:this.virtualDelegate.getHeight(Z),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Z),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:o.Disposable.None,checkedDisposable:o.Disposable.None,stale:!1}));let B;S===0&&E>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,O),B=this.items,this.items=O):(this.rangeMap.splice(S,E,O),B=this.items.splice(S,E,...O));const V=I.length-E,K=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),U=(0,t.shift)(P,V),G=n.Range.intersect(K,U);for(let Z=G.start;Z<G.end;Z++)this.updateItemInDOM(this.items[Z],Z);const z=n.Range.relativeComplement(U,K);for(const Z of z)for(let x=Z.start;x<Z.end;x++)this.removeItemFromDOM(x);const $=F.map(Z=>(0,t.shift)(Z,V)),ee=[{start:S,end:S+I.length},...$].map(Z=>n.Range.intersect(K,Z)).reverse();for(const Z of ee)for(let x=Z.end-1;x>=Z.start;x--){const Y=this.items[x],ae=R.get(Y.templateId),ue=ae?.pop();this.insertItemInDOM(x,ue)}for(const Z of R.values())for(const x of Z)this.cache.release(x);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),B.map(Z=>Z.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let S=0;for(const E of this.items)typeof E.width<"u"&&(S=Math.max(S,E.width));this.scrollWidth=S,this.scrollableElement.setScrollDimensions({scrollWidth:S===0?0:S+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const S of this.items)S.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(S){return this.items[S].element}indexOf(S){return this.items.findIndex(E=>E.element===S)}domElement(S){const E=this.items[S].row;return E&&E.domNode}elementHeight(S){return this.items[S].size}elementTop(S){return this.rangeMap.positionAt(S)}indexAt(S){return this.rangeMap.indexAt(S)}indexAfter(S){return this.rangeMap.indexAfter(S)}layout(S,E){const I={height:typeof S=="number"?S:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,I.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(I),typeof E<"u"&&(this.renderWidth=E,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof E=="number"?E:(0,k.getContentWidth)(this.domNode)})}render(S,E,I,T,N,A=!1){const R=this.getRenderRange(E,I),M=n.Range.relativeComplement(R,S).reverse(),P=n.Range.relativeComplement(S,R);if(A){const F=n.Range.intersect(S,R);for(let O=F.start;O<F.end;O++)this.updateItemInDOM(this.items[O],O)}this.cache.transact(()=>{for(const F of P)for(let O=F.start;O<F.end;O++)this.removeItemFromDOM(O);for(const F of M)for(let O=F.end-1;O>=F.start;O--)this.insertItemInDOM(O)}),T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${E}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=E,this.lastRenderHeight=I}insertItemInDOM(S,E){var I,T,N;const A=this.items[S];if(!A.row)if(E)A.row=E,A.stale=!0;else{const O=this.cache.alloc(A.templateId);A.row=O.row,A.stale||(A.stale=O.isReusingConnectedDomNode)}const R=this.accessibilityProvider.getRole(A.element)||"listitem";A.row.domNode.setAttribute("role",R);const M=this.accessibilityProvider.isChecked(A.element);if(typeof M=="boolean")A.row.domNode.setAttribute("aria-checked",String(!!M));else if(M){const O=B=>A.row.domNode.setAttribute("aria-checked",String(!!B));O(M.value),A.checkedDisposable=M.onDidChange(()=>O(M.value))}if(A.stale||!A.row.domNode.parentElement){const O=(N=(T=(I=this.items.at(S+1))===null||I===void 0?void 0:I.row)===null||T===void 0?void 0:T.domNode)!==null&&N!==void 0?N:null;(A.row.domNode.parentElement!==this.rowsContainer||A.row.domNode.nextElementSibling!==O)&&this.rowsContainer.insertBefore(A.row.domNode,O),A.stale=!1}this.updateItemInDOM(A,S);const P=this.renderers.get(A.templateId);if(!P)throw new Error(`No renderer found for template id ${A.templateId}`);P?.renderElement(A.element,S,A.row.templateData,A.size);const F=this.dnd.getDragURI(A.element);A.dragStartDisposable.dispose(),A.row.domNode.draggable=!!F,F&&(A.dragStartDisposable=(0,k.addDisposableListener)(A.row.domNode,"dragstart",O=>this.onDragStart(A.element,F,O))),this.horizontalScrolling&&(this.measureItemWidth(A),this.eventuallyUpdateScrollWidth())}measureItemWidth(S){if(!S.row||!S.row.domNode)return;S.row.domNode.style.width="fit-content",S.width=(0,k.getContentWidth)(S.row.domNode);const E=(0,k.getWindow)(S.row.domNode).getComputedStyle(S.row.domNode);E.paddingLeft&&(S.width+=parseFloat(E.paddingLeft)),E.paddingRight&&(S.width+=parseFloat(E.paddingRight)),S.row.domNode.style.width=""}updateItemInDOM(S,E){S.row.domNode.style.top=`${this.elementTop(E)}px`,this.setRowHeight&&(S.row.domNode.style.height=`${S.size}px`),this.setRowLineHeight&&(S.row.domNode.style.lineHeight=`${S.size}px`),S.row.domNode.setAttribute("data-index",`${E}`),S.row.domNode.setAttribute("data-last-element",E===this.length-1?"true":"false"),S.row.domNode.setAttribute("data-parity",E%2===0?"even":"odd"),S.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(S.element,E,this.length))),S.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(S.element,E))),S.row.domNode.setAttribute("id",this.getElementDomId(E)),S.row.domNode.classList.toggle("drop-target",S.dropTarget)}removeItemFromDOM(S){const E=this.items[S];if(E.dragStartDisposable.dispose(),E.checkedDisposable.dispose(),E.row){const I=this.renderers.get(E.templateId);I&&I.disposeElement&&I.disposeElement(E.element,S,E.row.templateData,E.size),this.cache.release(E.row),E.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(S,E){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:S,reuseAnimation:E})}get scrollTop(){return this.getScrollTop()}set scrollTop(S){this.setScrollTop(S)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"click")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseDblClick(){return C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"dblclick")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseMiddleClick(){return C.Event.filter(C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"auxclick")).event,S=>this.toMouseEvent(S),this.disposables),S=>S.browserEvent.button===1,this.disposables)}get onMouseDown(){return C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"mousedown")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseOver(){return C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"mouseover")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseOut(){return C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"mouseout")).event,S=>this.toMouseEvent(S),this.disposables)}get onContextMenu(){return C.Event.any(C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"contextmenu")).event,S=>this.toMouseEvent(S),this.disposables),C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,S=>this.toGestureEvent(S),this.disposables))}get onTouchStart(){return C.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"touchstart")).event,S=>this.toTouchEvent(S),this.disposables)}get onTap(){return C.Event.map(this.disposables.add(new L.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,S=>this.toGestureEvent(S),this.disposables)}toMouseEvent(S){const E=this.getItemIndexFromEventTarget(S.target||null),I=typeof E>"u"?void 0:this.items[E],T=I&&I.element;return{browserEvent:S,index:E,element:T}}toTouchEvent(S){const E=this.getItemIndexFromEventTarget(S.target||null),I=typeof E>"u"?void 0:this.items[E],T=I&&I.element;return{browserEvent:S,index:E,element:T}}toGestureEvent(S){const E=this.getItemIndexFromEventTarget(S.initialTarget||null),I=typeof E>"u"?void 0:this.items[E],T=I&&I.element;return{browserEvent:S,index:E,element:T}}toDragEvent(S){const E=this.getItemIndexFromEventTarget(S.target||null),I=typeof E>"u"?void 0:this.items[E],T=I&&I.element,N=this.getTargetSector(S,E);return{browserEvent:S,index:E,element:T,sector:N}}onScroll(S){try{const E=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(E,S.scrollTop,S.height,S.scrollLeft,S.scrollWidth),this.supportDynamicHeights&&this._rerender(S.scrollTop,S.height,S.inSmoothScrolling)}catch(E){throw console.error("Got bad scroll event:",S),E}}onTouchChange(S){S.preventDefault(),S.stopPropagation(),this.scrollTop-=S.translationY}onDragStart(S,E,I){var T,N;if(!I.dataTransfer)return;const A=this.dnd.getDragElements(S);if(I.dataTransfer.effectAllowed="copyMove",I.dataTransfer.setData(f.DataTransfers.TEXT,E),I.dataTransfer.setDragImage){let R;this.dnd.getDragLabel&&(R=this.dnd.getDragLabel(A,I)),typeof R>"u"&&(R=String(A.length));const M=(0,k.$)(".monaco-drag-image");M.textContent=R;const F=(O=>{for(;O&&!O.classList.contains("monaco-workbench");)O=O.parentElement;return O||this.domNode.ownerDocument})(this.domNode);F.appendChild(M),I.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>F.removeChild(M),0)}this.domNode.classList.add("dragging"),this.currentDragData=new d(A),l.CurrentDragAndDropData=new u(A),(N=(T=this.dnd).onDragStart)===null||N===void 0||N.call(T,this.currentDragData,I)}onDragOver(S){var E,I;if(S.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),l.CurrentDragAndDropData&&l.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(S.browserEvent),!S.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(l.CurrentDragAndDropData)this.currentDragData=l.CurrentDragAndDropData;else{if(!S.browserEvent.dataTransfer.types)return!1;this.currentDragData=new a}const T=this.dnd.onDragOver(this.currentDragData,S.element,S.index,S.sector,S.browserEvent);if(this.canDrop=typeof T=="boolean"?T:T.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;S.browserEvent.dataTransfer.dropEffect=typeof T!="boolean"&&((E=T.effect)===null||E===void 0?void 0:E.type)===0?"copy":"move";let N;typeof T!="boolean"&&T.feedback?N=T.feedback:typeof S.index>"u"?N=[-1]:N=[S.index],N=(0,m.distinct)(N).filter(R=>R>=-1&&R<this.length).sort((R,M)=>R-M),N=N[0]===-1?[-1]:N;let A=typeof T!="boolean"&&T.effect&&T.effect.position?T.effect.position:"drop-target";if(v(this.currentDragFeedback,N)&&this.currentDragFeedbackPosition===A)return!0;if(this.currentDragFeedback=N,this.currentDragFeedbackPosition=A,this.currentDragFeedbackDisposable.dispose(),N[0]===-1)this.domNode.classList.add(A),this.rowsContainer.classList.add(A),this.currentDragFeedbackDisposable=(0,o.toDisposable)(()=>{this.domNode.classList.remove(A),this.rowsContainer.classList.remove(A)});else{if(N.length>1&&A!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");A==="drop-target-after"&&N[0]<this.length-1&&(N[0]+=1,A="drop-target-before");for(const R of N){const M=this.items[R];M.dropTarget=!0,(I=M.row)===null||I===void 0||I.domNode.classList.add(A)}this.currentDragFeedbackDisposable=(0,o.toDisposable)(()=>{var R;for(const M of N){const P=this.items[M];P.dropTarget=!1,(R=P.row)===null||R===void 0||R.domNode.classList.remove(A)}})}return!0}onDragLeave(S){var E,I;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,w.disposableTimeout)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((I=(E=this.dnd).onDragLeave)===null||I===void 0||I.call(E,this.currentDragData,S.element,S.index,S.browserEvent))}onDrop(S){if(!this.canDrop)return;const E=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,l.CurrentDragAndDropData=void 0,!(!E||!S.browserEvent.dataTransfer)&&(S.browserEvent.preventDefault(),E.update(S.browserEvent.dataTransfer),this.dnd.drop(E,S.element,S.index,S.sector,S.browserEvent))}onDragEnd(S){var E,I;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,l.CurrentDragAndDropData=void 0,(I=(E=this.dnd).onDragEnd)===null||I===void 0||I.call(E,S)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=o.Disposable.None}setupDragAndDropScrollTopAnimation(S){if(!this.dragOverAnimationDisposable){const E=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)((0,k.getWindow)(this.domNode),this.animateDragAndDropScrollTop.bind(this,E))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,w.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=S.pageY}animateDragAndDropScrollTop(S){if(this.dragOverMouseY===void 0)return;const E=this.dragOverMouseY-S,I=this.renderHeight-35;E<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(E-35))):E>I&&(this.scrollTop+=Math.min(14,Math.floor(.3*(E-I))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(S,E){if(E===void 0)return;const I=S.offsetY/this.items[E].size,T=Math.floor(I/.25);return(0,g.clamp)(T,0,3)}getItemIndexFromEventTarget(S){const E=this.scrollableElement.getDomNode();let I=S;for(;(0,k.isHTMLElement)(I)&&I!==this.rowsContainer&&E.contains(I);){const T=I.getAttribute("data-index");if(T){const N=Number(T);if(!isNaN(N))return N}I=I.parentElement}}getRenderRange(S,E){return{start:this.rangeMap.indexAt(S),end:this.rangeMap.indexAfter(S+E-1)}}_rerender(S,E,I){const T=this.getRenderRange(S,E);let N,A;S===this.elementTop(T.start)?(N=T.start,A=0):T.end-T.start>1&&(N=T.start+1,A=this.elementTop(N)-S);let R=0;for(;;){const M=this.getRenderRange(S,E);let P=!1;for(let F=M.start;F<M.end;F++){const O=this.probeDynamicHeight(F);O!==0&&this.rangeMap.splice(F,1,[this.items[F]]),R+=O,P=P||O!==0}if(!P){R!==0&&this.eventuallyUpdateScrollDimensions();const F=n.Range.relativeComplement(T,M);for(const B of F)for(let V=B.start;V<B.end;V++)this.items[V].row&&this.removeItemFromDOM(V);const O=n.Range.relativeComplement(M,T).reverse();for(const B of O)for(let V=B.end-1;V>=B.start;V--)this.insertItemInDOM(V);for(let B=M.start;B<M.end;B++)this.items[B].row&&this.updateItemInDOM(this.items[B],B);if(typeof N=="number"){const B=this.scrollable.getFutureScrollPosition().scrollTop-S,V=this.elementTop(N)-A+B;this.setScrollTop(V,I)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(S){var E,I,T;const N=this.items[S];if(this.virtualDelegate.getDynamicHeight){const P=this.virtualDelegate.getDynamicHeight(N.element);if(P!==null){const F=N.size;return N.size=P,N.lastDynamicHeightWidth=this.renderWidth,P-F}}if(!N.hasDynamicHeight||N.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(N.element))return 0;const A=N.size;if(N.row)return N.row.domNode.style.height="",N.size=N.row.domNode.offsetHeight,N.size===0&&!(0,k.isAncestor)(N.row.domNode,(0,k.getWindow)(N.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!"),N.lastDynamicHeightWidth=this.renderWidth,N.size-A;const{row:R}=this.cache.alloc(N.templateId);R.domNode.style.height="",this.rowsContainer.appendChild(R.domNode);const M=this.renderers.get(N.templateId);if(!M)throw new c.BugIndicatingError("Missing renderer for templateId: "+N.templateId);return M.renderElement(N.element,S,R.templateData,void 0),N.size=R.domNode.offsetHeight,(E=M.disposeElement)===null||E===void 0||E.call(M,N.element,S,R.templateData,void 0),(T=(I=this.virtualDelegate).setDynamicHeight)===null||T===void 0||T.call(I,N.element,N.size),N.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(R.domNode),this.cache.release(R),N.size-A}getElementDomId(S){return`${this.domId}_${S}`}dispose(){var S,E;for(const I of this.items)if(I.dragStartDisposable.dispose(),I.checkedDisposable.dispose(),I.row){const T=this.renderers.get(I.row.templateId);T&&((S=T.disposeElement)===null||S===void 0||S.call(T,I.element,-1,I.row.templateData,void 0),T.disposeTemplate(I.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(E=this.dragOverAnimationDisposable)===null||E===void 0||E.dispose(),this.disposables.dispose()}}e.ListView=p,p.InstanceCount=0,ke([b.memoize],p.prototype,"onMouseClick",null),ke([b.memoize],p.prototype,"onMouseDblClick",null),ke([b.memoize],p.prototype,"onMouseMiddleClick",null),ke([b.memoize],p.prototype,"onMouseDown",null),ke([b.memoize],p.prototype,"onMouseOver",null),ke([b.memoize],p.prototype,"onMouseOut",null),ke([b.memoize],p.prototype,"onContextMenu",null),ke([b.memoize],p.prototype,"onTouchStart",null),ke([b.memoize],p.prototype,"onTap",null)}),define(ne[111],se([1,0,6,89,46,69,48,427,13,15,34,122,7,78,2,137,17,20,426,253,74,30,299]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=void 0,e.isInputElement=_,e.isMonacoEditor=E,e.isMonacoCustomToggle=I,e.isActionItem=T,e.isStickyScrollElement=N,e.isStickyScrollContainer=A,e.isButton=R,e.isSelectionSingleChangeEvent=V,e.isSelectionRangeChangeEvent=K;class a{constructor(ie){this.trait=ie,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ie){return ie}renderElement(ie,oe,re){const W=this.renderedElements.findIndex(q=>q.templateData===re);if(W>=0){const q=this.renderedElements[W];this.trait.unrender(re),q.index=oe}else{const q={index:oe,templateData:re};this.renderedElements.push(q)}this.trait.renderIndex(oe,re)}splice(ie,oe,re){const W=[];for(const q of this.renderedElements)q.index<ie?W.push(q):q.index>=ie+oe&&W.push({index:q.index+re-oe,templateData:q.templateData});this.renderedElements=W}renderIndexes(ie){for(const{index:oe,templateData:re}of this.renderedElements)ie.indexOf(oe)>-1&&this.trait.renderIndex(oe,re)}disposeTemplate(ie){const oe=this.renderedElements.findIndex(re=>re.templateData===ie);oe<0||this.renderedElements.splice(oe,1)}}class v{get name(){return this._trait}get renderer(){return new a(this)}constructor(ie){this._trait=ie,this.indexes=[],this.sortedIndexes=[],this._onChange=new n.Emitter,this.onChange=this._onChange.event}splice(ie,oe,re){const W=re.length-oe,q=ie+oe,H=[];let j=0;for(;j<this.sortedIndexes.length&&this.sortedIndexes[j]<ie;)H.push(this.sortedIndexes[j++]);for(let Q=0;Q<re.length;Q++)re[Q]&&H.push(Q+ie);for(;j<this.sortedIndexes.length&&this.sortedIndexes[j]>=q;)H.push(this.sortedIndexes[j++]+W);this.renderer.splice(ie,oe,re.length),this._set(H,H)}renderIndex(ie,oe){oe.classList.toggle(this._trait,this.contains(ie))}unrender(ie){ie.classList.remove(this._trait)}set(ie,oe){return this._set(ie,[...ie].sort(Y),oe)}_set(ie,oe,re){const W=this.indexes,q=this.sortedIndexes;this.indexes=ie,this.sortedIndexes=oe;const H=Z(q,ie);return this.renderer.renderIndexes(H),this._onChange.fire({indexes:ie,browserEvent:re}),W}get(){return this.indexes}contains(ie){return(0,w.binarySearch)(this.sortedIndexes,ie,Y)>=0}dispose(){(0,t.dispose)(this._onChange)}}ke([o.memoize],v.prototype,"renderer",null);class h extends v{constructor(ie){super("selected"),this.setAriaSelected=ie}renderIndex(ie,oe){super.renderIndex(ie,oe),this.setAriaSelected&&(this.contains(ie)?oe.setAttribute("aria-selected","true"):oe.setAttribute("aria-selected","false"))}}class p{constructor(ie,oe,re){this.trait=ie,this.view=oe,this.identityProvider=re}splice(ie,oe,re){if(!this.identityProvider)return this.trait.splice(ie,oe,new Array(re.length).fill(!1));const W=this.trait.get().map(j=>this.identityProvider.getId(this.view.element(j)).toString());if(W.length===0)return this.trait.splice(ie,oe,new Array(re.length).fill(!1));const q=new Set(W),H=re.map(j=>q.has(this.identityProvider.getId(j).toString()));this.trait.splice(ie,oe,H)}}function _(ce){return ce.tagName==="INPUT"||ce.tagName==="TEXTAREA"}function S(ce,ie){return ce.classList.contains(ie)?!0:ce.classList.contains("monaco-list")||!ce.parentElement?!1:S(ce.parentElement,ie)}function E(ce){return S(ce,"monaco-editor")}function I(ce){return S(ce,"monaco-custom-toggle")}function T(ce){return S(ce,"action-item")}function N(ce){return S(ce,"monaco-tree-sticky-row")}function A(ce){return ce.classList.contains("monaco-tree-sticky-container")}function R(ce){return ce.tagName==="A"&&ce.classList.contains("monaco-button")||ce.tagName==="DIV"&&ce.classList.contains("monaco-button-dropdown")?!0:ce.classList.contains("monaco-list")||!ce.parentElement?!1:R(ce.parentElement)}class M{get onKeyDown(){return n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,ie=>ie.filter(oe=>!_(oe.target)).map(oe=>new L.StandardKeyboardEvent(oe)))}constructor(ie,oe,re){this.list=ie,this.view=oe,this.disposables=new t.DisposableStore,this.multipleSelectionDisposables=new t.DisposableStore,this.multipleSelectionSupport=re.multipleSelectionSupport,this.disposables.add(this.onKeyDown(W=>{switch(W.keyCode){case 3:return this.onEnter(W);case 16:return this.onUpArrow(W);case 18:return this.onDownArrow(W);case 11:return this.onPageUpArrow(W);case 12:return this.onPageDownArrow(W);case 9:return this.onEscape(W);case 31:this.multipleSelectionSupport&&(c.isMacintosh?W.metaKey:W.ctrlKey)&&this.onCtrlA(W)}}))}updateOptions(ie){ie.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=ie.multipleSelectionSupport)}onEnter(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection(this.list.getFocus(),ie.browserEvent)}onUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPrevious(1,!1,ie.browserEvent);const oe=this.list.getFocus()[0];this.list.setAnchor(oe),this.list.reveal(oe),this.view.domNode.focus()}onDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNext(1,!1,ie.browserEvent);const oe=this.list.getFocus()[0];this.list.setAnchor(oe),this.list.reveal(oe),this.view.domNode.focus()}onPageUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPreviousPage(ie.browserEvent);const oe=this.list.getFocus()[0];this.list.setAnchor(oe),this.list.reveal(oe),this.view.domNode.focus()}onPageDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNextPage(ie.browserEvent);const oe=this.list.getFocus()[0];this.list.setAnchor(oe),this.list.reveal(oe),this.view.domNode.focus()}onCtrlA(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection((0,w.range)(this.list.length),ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ie){this.list.getSelection().length&&(ie.preventDefault(),ie.stopPropagation(),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}ke([o.memoize],M.prototype,"onKeyDown",null);var P;(function(ce){ce[ce.Automatic=0]="Automatic",ce[ce.Trigger=1]="Trigger"})(P||(e.TypeNavigationMode=P={}));var F;(function(ce){ce[ce.Idle=0]="Idle",ce[ce.Typing=1]="Typing"})(F||(F={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(ce){return ce.ctrlKey||ce.metaKey||ce.altKey?!1:ce.keyCode>=31&&ce.keyCode<=56||ce.keyCode>=21&&ce.keyCode<=30||ce.keyCode>=98&&ce.keyCode<=107||ce.keyCode>=85&&ce.keyCode<=95}};class O{constructor(ie,oe,re,W,q){this.list=ie,this.view=oe,this.keyboardNavigationLabelProvider=re,this.keyboardNavigationEventFilter=W,this.delegate=q,this.enabled=!1,this.state=F.Idle,this.mode=P.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new t.DisposableStore,this.disposables=new t.DisposableStore,this.updateOptions(ie.options)}updateOptions(ie){var oe,re;!((oe=ie.typeNavigationEnabled)!==null&&oe!==void 0)||oe?this.enable():this.disable(),this.mode=(re=ie.typeNavigationMode)!==null&&re!==void 0?re:P.Automatic}enable(){if(this.enabled)return;let ie=!1;const oe=n.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,q=>q.filter(H=>!_(H.target)).filter(()=>this.mode===P.Automatic||this.triggered).map(H=>new L.StandardKeyboardEvent(H)).filter(H=>ie||this.keyboardNavigationEventFilter(H)).filter(H=>this.delegate.mightProducePrintableCharacter(H)).forEach(H=>f.EventHelper.stop(H,!0)).map(H=>H.browserEvent.key)),re=n.Event.debounce(oe,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);n.Event.reduce(n.Event.any(oe,re),(q,H)=>H===null?null:(q||"")+H,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),re(this.onClear,this,this.enabledDisposables),oe(()=>ie=!0,void 0,this.enabledDisposables),re(()=>ie=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ie;const oe=this.list.getFocus();if(oe.length>0&&oe[0]===this.previouslyFocused){const re=(ie=this.list.options.accessibilityProvider)===null||ie===void 0?void 0:ie.getAriaLabel(this.list.element(oe[0]));typeof re=="string"?(0,y.alert)(re):re&&(0,y.alert)(re.get())}this.previouslyFocused=-1}onInput(ie){if(!ie){this.state=F.Idle,this.triggered=!1;return}const oe=this.list.getFocus(),re=oe.length>0?oe[0]:0,W=this.state===F.Idle?1:0;this.state=F.Typing;for(let q=0;q<this.list.length;q++){const H=(re+q+W)%this.list.length,j=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(H)),Q=j&&j.toString();if(this.list.options.typeNavigationEnabled){if(typeof Q<"u"){if((0,i.matchesPrefix)(ie,Q)){this.previouslyFocused=re,this.list.setFocus([H]),this.list.reveal(H);return}const te=(0,i.matchesFuzzy2)(ie,Q);if(te&&te[0].end-te[0].start>1&&te.length===1){this.previouslyFocused=re,this.list.setFocus([H]),this.list.reveal(H);return}}}else if(typeof Q>"u"||(0,i.matchesPrefix)(ie,Q)){this.previouslyFocused=re,this.list.setFocus([H]),this.list.reveal(H);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class B{constructor(ie,oe){this.list=ie,this.view=oe,this.disposables=new t.DisposableStore;const re=n.Event.chain(this.disposables.add(new k.DomEmitter(oe.domNode,"keydown")).event,q=>q.filter(H=>!_(H.target)).map(H=>new L.StandardKeyboardEvent(H)));n.Event.chain(re,q=>q.filter(H=>H.keyCode===2&&!H.ctrlKey&&!H.metaKey&&!H.shiftKey&&!H.altKey))(this.onTab,this,this.disposables)}onTab(ie){if(ie.target!==this.view.domNode)return;const oe=this.list.getFocus();if(oe.length===0)return;const re=this.view.domElement(oe[0]);if(!re)return;const W=re.querySelector("[tabIndex]");if(!W||!(0,f.isHTMLElement)(W)||W.tabIndex===-1)return;const q=(0,f.getWindow)(W).getComputedStyle(W);q.visibility==="hidden"||q.display==="none"||(ie.preventDefault(),ie.stopPropagation(),W.focus())}dispose(){this.disposables.dispose()}}function V(ce){return c.isMacintosh?ce.browserEvent.metaKey:ce.browserEvent.ctrlKey}function K(ce){return ce.browserEvent.shiftKey}function U(ce){return(0,f.isMouseEvent)(ce)&&ce.button===2}const G={isSelectionSingleChangeEvent:V,isSelectionRangeChangeEvent:K};class z{constructor(ie){this.list=ie,this.disposables=new t.DisposableStore,this._onPointer=new n.Emitter,this.onPointer=this._onPointer.event,ie.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||G),this.mouseSupport=typeof ie.options.mouseSupport>"u"||!!ie.options.mouseSupport,this.mouseSupport&&(ie.onMouseDown(this.onMouseDown,this,this.disposables),ie.onContextMenu(this.onContextMenu,this,this.disposables),ie.onMouseDblClick(this.onDoubleClick,this,this.disposables),ie.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(ie.getHTMLElement()))),n.Event.any(ie.onMouseClick,ie.onMouseMiddleClick,ie.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ie){ie.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,ie.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||G))}isSelectionSingleChangeEvent(ie){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(ie):!1}isSelectionRangeChangeEvent(ie){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(ie):!1}isSelectionChangeEvent(ie){return this.isSelectionSingleChangeEvent(ie)||this.isSelectionRangeChangeEvent(ie)}onMouseDown(ie){E(ie.browserEvent.target)||(0,f.getActiveElement)()!==ie.browserEvent.target&&this.list.domFocus()}onContextMenu(ie){if(_(ie.browserEvent.target)||E(ie.browserEvent.target))return;const oe=typeof ie.index>"u"?[]:[ie.index];this.list.setFocus(oe,ie.browserEvent)}onViewPointer(ie){if(!this.mouseSupport||_(ie.browserEvent.target)||E(ie.browserEvent.target)||ie.browserEvent.isHandledByList)return;ie.browserEvent.isHandledByList=!0;const oe=ie.index;if(typeof oe>"u"){this.list.setFocus([],ie.browserEvent),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(ie))return this.changeSelection(ie);this.list.setFocus([oe],ie.browserEvent),this.list.setAnchor(oe),U(ie.browserEvent)||this.list.setSelection([oe],ie.browserEvent),this._onPointer.fire(ie)}onDoubleClick(ie){if(_(ie.browserEvent.target)||E(ie.browserEvent.target)||this.isSelectionChangeEvent(ie)||ie.browserEvent.isHandledByList)return;ie.browserEvent.isHandledByList=!0;const oe=this.list.getFocus();this.list.setSelection(oe,ie.browserEvent)}changeSelection(ie){const oe=ie.index;let re=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ie)){if(typeof re>"u"){const le=this.list.getFocus()[0];re=le??oe,this.list.setAnchor(re)}const W=Math.min(re,oe),q=Math.max(re,oe),H=(0,w.range)(W,q+1),j=this.list.getSelection(),Q=ee(Z(j,[re]),re);if(Q.length===0)return;const te=Z(H,x(j,Q));this.list.setSelection(te,ie.browserEvent),this.list.setFocus([oe],ie.browserEvent)}else if(this.isSelectionSingleChangeEvent(ie)){const W=this.list.getSelection(),q=W.filter(H=>H!==oe);this.list.setFocus([oe]),this.list.setAnchor(oe),W.length===q.length?this.list.setSelection([...q,oe],ie.browserEvent):this.list.setSelection(q,ie.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=z;class ${constructor(ie,oe){this.styleElement=ie,this.selectorSuffix=oe}style(ie){var oe,re;const W=this.selectorSuffix&&`.${this.selectorSuffix}`,q=[];ie.listBackground&&q.push(`.monaco-list${W} .monaco-list-rows { background: ${ie.listBackground}; }`),ie.listFocusBackground&&(q.push(`.monaco-list${W}:focus .monaco-list-row.focused { background-color: ${ie.listFocusBackground}; }`),q.push(`.monaco-list${W}:focus .monaco-list-row.focused:hover { background-color: ${ie.listFocusBackground}; }`)),ie.listFocusForeground&&q.push(`.monaco-list${W}:focus .monaco-list-row.focused { color: ${ie.listFocusForeground}; }`),ie.listActiveSelectionBackground&&(q.push(`.monaco-list${W}:focus .monaco-list-row.selected { background-color: ${ie.listActiveSelectionBackground}; }`),q.push(`.monaco-list${W}:focus .monaco-list-row.selected:hover { background-color: ${ie.listActiveSelectionBackground}; }`)),ie.listActiveSelectionForeground&&q.push(`.monaco-list${W}:focus .monaco-list-row.selected { color: ${ie.listActiveSelectionForeground}; }`),ie.listActiveSelectionIconForeground&&q.push(`.monaco-list${W}:focus .monaco-list-row.selected .codicon { color: ${ie.listActiveSelectionIconForeground}; }`),ie.listFocusAndSelectionBackground&&q.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { background-color: ${ie.listFocusAndSelectionBackground}; }
			`),ie.listFocusAndSelectionForeground&&q.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { color: ${ie.listFocusAndSelectionForeground}; }
			`),ie.listInactiveFocusForeground&&(q.push(`.monaco-list${W} .monaco-list-row.focused { color:  ${ie.listInactiveFocusForeground}; }`),q.push(`.monaco-list${W} .monaco-list-row.focused:hover { color:  ${ie.listInactiveFocusForeground}; }`)),ie.listInactiveSelectionIconForeground&&q.push(`.monaco-list${W} .monaco-list-row.focused .codicon { color:  ${ie.listInactiveSelectionIconForeground}; }`),ie.listInactiveFocusBackground&&(q.push(`.monaco-list${W} .monaco-list-row.focused { background-color:  ${ie.listInactiveFocusBackground}; }`),q.push(`.monaco-list${W} .monaco-list-row.focused:hover { background-color:  ${ie.listInactiveFocusBackground}; }`)),ie.listInactiveSelectionBackground&&(q.push(`.monaco-list${W} .monaco-list-row.selected { background-color:  ${ie.listInactiveSelectionBackground}; }`),q.push(`.monaco-list${W} .monaco-list-row.selected:hover { background-color:  ${ie.listInactiveSelectionBackground}; }`)),ie.listInactiveSelectionForeground&&q.push(`.monaco-list${W} .monaco-list-row.selected { color: ${ie.listInactiveSelectionForeground}; }`),ie.listHoverBackground&&q.push(`.monaco-list${W}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ie.listHoverBackground}; }`),ie.listHoverForeground&&q.push(`.monaco-list${W}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ie.listHoverForeground}; }`);const H=(0,f.asCssValueWithDefault)(ie.listFocusAndSelectionOutline,(0,f.asCssValueWithDefault)(ie.listSelectionOutline,(oe=ie.listFocusOutline)!==null&&oe!==void 0?oe:""));H&&q.push(`.monaco-list${W}:focus .monaco-list-row.focused.selected { outline: 1px solid ${H}; outline-offset: -1px;}`),ie.listFocusOutline&&q.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${W}.last-focused .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }
			`);const j=(0,f.asCssValueWithDefault)(ie.listSelectionOutline,(re=ie.listInactiveFocusOutline)!==null&&re!==void 0?re:"");j&&q.push(`.monaco-list${W} .monaco-list-row.focused.selected { outline: 1px dotted ${j}; outline-offset: -1px; }`),ie.listSelectionOutline&&q.push(`.monaco-list${W} .monaco-list-row.selected { outline: 1px dotted ${ie.listSelectionOutline}; outline-offset: -1px; }`),ie.listInactiveFocusOutline&&q.push(`.monaco-list${W} .monaco-list-row.focused { outline: 1px dotted ${ie.listInactiveFocusOutline}; outline-offset: -1px; }`),ie.listHoverOutline&&q.push(`.monaco-list${W} .monaco-list-row:hover { outline: 1px dashed ${ie.listHoverOutline}; outline-offset: -1px; }`),ie.listDropOverBackground&&q.push(`
				.monaco-list${W}.drop-target,
				.monaco-list${W} .monaco-list-rows.drop-target,
				.monaco-list${W} .monaco-list-row.drop-target { background-color: ${ie.listDropOverBackground} !important; color: inherit !important; }
			`),ie.listDropBetweenBackground&&(q.push(`
			.monaco-list${W} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${W} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${ie.listDropBetweenBackground};
			}`),q.push(`
			.monaco-list${W} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${W} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${ie.listDropBetweenBackground};
			}`)),ie.tableColumnsBorder&&q.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${ie.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),ie.tableOddRowsBackgroundColor&&q.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${ie.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=q.join(`
`)}}e.DefaultStyleController=$,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:C.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:C.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:C.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0};const J={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function ee(ce,ie){const oe=ce.indexOf(ie);if(oe===-1)return[];const re=[];let W=oe-1;for(;W>=0&&ce[W]===ie-(oe-W);)re.push(ce[W--]);for(re.reverse(),W=oe;W<ce.length&&ce[W]===ie+(W-oe);)re.push(ce[W++]);return re}function Z(ce,ie){const oe=[];let re=0,W=0;for(;re<ce.length||W<ie.length;)if(re>=ce.length)oe.push(ie[W++]);else if(W>=ie.length)oe.push(ce[re++]);else if(ce[re]===ie[W]){oe.push(ce[re]),re++,W++;continue}else ce[re]<ie[W]?oe.push(ce[re++]):oe.push(ie[W++]);return oe}function x(ce,ie){const oe=[];let re=0,W=0;for(;re<ce.length||W<ie.length;)if(re>=ce.length)oe.push(ie[W++]);else if(W>=ie.length)oe.push(ce[re++]);else if(ce[re]===ie[W]){re++,W++;continue}else ce[re]<ie[W]?oe.push(ce[re++]):W++;return oe}const Y=(ce,ie)=>ce-ie;class ae{constructor(ie,oe){this._templateId=ie,this.renderers=oe}get templateId(){return this._templateId}renderTemplate(ie){return this.renderers.map(oe=>oe.renderTemplate(ie))}renderElement(ie,oe,re,W){let q=0;for(const H of this.renderers)H.renderElement(ie,oe,re[q++],W)}disposeElement(ie,oe,re,W){var q;let H=0;for(const j of this.renderers)(q=j.disposeElement)===null||q===void 0||q.call(j,ie,oe,re[H],W),H+=1}disposeTemplate(ie){let oe=0;for(const re of this.renderers)re.disposeTemplate(ie[oe++])}}class ue{constructor(ie){this.accessibilityProvider=ie,this.templateId="a18n"}renderTemplate(ie){return{container:ie,disposables:new t.DisposableStore}}renderElement(ie,oe,re){const W=this.accessibilityProvider.getAriaLabel(ie),q=W&&typeof W!="string"?W:(0,u.constObservable)(W);re.disposables.add((0,u.autorun)(j=>{this.setAriaLabel(j.readObservable(q),re.container)}));const H=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ie);typeof H=="number"?re.container.setAttribute("aria-level",`${H}`):re.container.removeAttribute("aria-level")}setAriaLabel(ie,oe){ie?oe.setAttribute("aria-label",ie):oe.removeAttribute("aria-label")}disposeElement(ie,oe,re,W){re.disposables.clear()}disposeTemplate(ie){ie.disposables.dispose()}}class he{constructor(ie,oe){this.list=ie,this.dnd=oe}getDragElements(ie){const oe=this.list.getSelectedElements();return oe.indexOf(ie)>-1?oe:[ie]}getDragURI(ie){return this.dnd.getDragURI(ie)}getDragLabel(ie,oe){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ie,oe)}onDragStart(ie,oe){var re,W;(W=(re=this.dnd).onDragStart)===null||W===void 0||W.call(re,ie,oe)}onDragOver(ie,oe,re,W,q){return this.dnd.onDragOver(ie,oe,re,W,q)}onDragLeave(ie,oe,re,W){var q,H;(H=(q=this.dnd).onDragLeave)===null||H===void 0||H.call(q,ie,oe,re,W)}onDragEnd(ie){var oe,re;(re=(oe=this.dnd).onDragEnd)===null||re===void 0||re.call(oe,ie)}drop(ie,oe,re,W,q){this.dnd.drop(ie,oe,re,W,q)}dispose(){this.dnd.dispose()}}class pe{get onDidChangeFocus(){return n.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),ie=>this.toListEvent(ie),this.disposables)}get onDidChangeSelection(){return n.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),ie=>this.toListEvent(ie),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ie=!1;const oe=n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,q=>q.map(H=>new L.StandardKeyboardEvent(H)).filter(H=>ie=H.keyCode===58||H.shiftKey&&H.keyCode===68).map(H=>f.EventHelper.stop(H,!0)).filter(()=>!1)),re=n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event,q=>q.forEach(()=>ie=!1).map(H=>new L.StandardKeyboardEvent(H)).filter(H=>H.keyCode===58||H.shiftKey&&H.keyCode===68).map(H=>f.EventHelper.stop(H,!0)).map(({browserEvent:H})=>{const j=this.getFocus(),Q=j.length?j[0]:void 0,te=typeof Q<"u"?this.view.element(Q):void 0,le=typeof Q<"u"?this.view.domElement(Q):this.view.domNode;return{index:Q,element:te,anchor:le,browserEvent:H}})),W=n.Event.chain(this.view.onContextMenu,q=>q.filter(H=>!ie).map(({element:H,index:j,browserEvent:Q})=>({element:H,index:j,anchor:new d.StandardMouseEvent((0,f.getWindow)(this.view.domNode),Q),browserEvent:Q})));return n.Event.any(oe,re,W)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return n.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return n.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"blur",!0)).event)}constructor(ie,oe,re,W,q=J){var H,j,Q,te;this.user=ie,this._options=q,this.focus=new v("focused"),this.anchor=new v("anchor"),this.eventBufferer=new n.EventBufferer,this._ariaLabel="",this.disposables=new t.DisposableStore,this._onDidDispose=new n.Emitter,this.onDidDispose=this._onDidDispose.event;const le=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(H=this._options.accessibilityProvider)===null||H===void 0?void 0:H.getWidgetRole():"list";this.selection=new h(le!=="listbox");const de=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=q.accessibilityProvider,this.accessibilityProvider&&(de.push(new ue(this.accessibilityProvider)),(Q=(j=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Q===void 0||Q.call(j,this.onDidChangeActiveDescendant,this,this.disposables)),W=W.map(ve=>new ae(ve.templateId,[...de,ve]));const me={...q,dnd:q.dnd&&new he(this,q.dnd)};if(this.view=this.createListView(oe,re,W,me),this.view.domNode.setAttribute("role",le),q.styleController)this.styleController=q.styleController(this.view.domId);else{const ve=(0,f.createStyleSheet)(this.view.domNode);this.styleController=new $(ve,this.view.domId)}if(this.spliceable=new m.CombinedSpliceable([new p(this.focus,this.view,q.identityProvider),new p(this.selection,this.view,q.identityProvider),new p(this.anchor,this.view,q.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new B(this,this.view)),(typeof q.keyboardSupport!="boolean"||q.keyboardSupport)&&(this.keyboardController=new M(this,this.view,q),this.disposables.add(this.keyboardController)),q.keyboardNavigationLabelProvider){const ve=q.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new O(this,this.view,q.keyboardNavigationLabelProvider,(te=q.keyboardNavigationEventFilter)!==null&&te!==void 0?te:()=>!0,ve),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(q),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(ie,oe,re,W){return new r.ListView(ie,oe,re,W)}createMouseController(ie){return new z(this)}updateOptions(ie={}){var oe,re;this._options={...this._options,...ie},(oe=this.typeNavigationController)===null||oe===void 0||oe.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ie),(re=this.keyboardController)===null||re===void 0||re.updateOptions(ie),this.view.updateOptions(ie)}get options(){return this._options}splice(ie,oe,re=[]){if(ie<0||ie>this.view.length)throw new l.ListError(this.user,`Invalid start index: ${ie}`);if(oe<0)throw new l.ListError(this.user,`Invalid delete count: ${oe}`);oe===0&&re.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ie,oe,re))}rerender(){this.view.rerender()}element(ie){return this.view.element(ie)}indexOf(ie){return this.view.indexOf(ie)}indexAt(ie){return this.view.indexAt(ie)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ie){this.view.setScrollTop(ie)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(ie){this._ariaLabel=ie,this.view.domNode.setAttribute("aria-label",ie)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ie,oe){this.view.layout(ie,oe)}setSelection(ie,oe){for(const re of ie)if(re<0||re>=this.length)throw new l.ListError(this.user,`Invalid index ${re}`);this.selection.set(ie,oe)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ie=>this.view.element(ie))}setAnchor(ie){if(typeof ie>"u"){this.anchor.set([]);return}if(ie<0||ie>=this.length)throw new l.ListError(this.user,`Invalid index ${ie}`);this.anchor.set([ie])}getAnchor(){return(0,w.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const ie=this.getAnchor();return typeof ie>"u"?void 0:this.element(ie)}setFocus(ie,oe){for(const re of ie)if(re<0||re>=this.length)throw new l.ListError(this.user,`Invalid index ${re}`);this.focus.set(ie,oe)}focusNext(ie=1,oe=!1,re,W){if(this.length===0)return;const q=this.focus.get(),H=this.findNextIndex(q.length>0?q[0]+ie:0,oe,W);H>-1&&this.setFocus([H],re)}focusPrevious(ie=1,oe=!1,re,W){if(this.length===0)return;const q=this.focus.get(),H=this.findPreviousIndex(q.length>0?q[0]-ie:0,oe,W);H>-1&&this.setFocus([H],re)}async focusNextPage(ie,oe){let re=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);re=re===0?0:re-1;const W=this.getFocus()[0];if(W!==re&&(W===void 0||re>W)){const q=this.findPreviousIndex(re,!1,oe);q>-1&&W!==q?this.setFocus([q],ie):this.setFocus([re],ie)}else{const q=this.view.getScrollTop();let H=q+this.view.renderHeight;re>W&&(H-=this.view.elementHeight(re)),this.view.setScrollTop(H),this.view.getScrollTop()!==q&&(this.setFocus([]),await(0,b.timeout)(0),await this.focusNextPage(ie,oe))}}async focusPreviousPage(ie,oe,re=()=>0){let W;const q=re(),H=this.view.getScrollTop()+q;H===0?W=this.view.indexAt(H):W=this.view.indexAfter(H-1);const j=this.getFocus()[0];if(j!==W&&(j===void 0||j>=W)){const Q=this.findNextIndex(W,!1,oe);Q>-1&&j!==Q?this.setFocus([Q],ie):this.setFocus([W],ie)}else{const Q=H;this.view.setScrollTop(H-this.view.renderHeight-q),this.view.getScrollTop()+re()!==Q&&(this.setFocus([]),await(0,b.timeout)(0),await this.focusPreviousPage(ie,oe,re))}}focusLast(ie,oe){if(this.length===0)return;const re=this.findPreviousIndex(this.length-1,!1,oe);re>-1&&this.setFocus([re],ie)}focusFirst(ie,oe){this.focusNth(0,ie,oe)}focusNth(ie,oe,re){if(this.length===0)return;const W=this.findNextIndex(ie,!1,re);W>-1&&this.setFocus([W],oe)}findNextIndex(ie,oe=!1,re){for(let W=0;W<this.length;W++){if(ie>=this.length&&!oe)return-1;if(ie=ie%this.length,!re||re(this.element(ie)))return ie;ie++}return-1}findPreviousIndex(ie,oe=!1,re){for(let W=0;W<this.length;W++){if(ie<0&&!oe)return-1;if(ie=(this.length+ie%this.length)%this.length,!re||re(this.element(ie)))return ie;ie--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ie=>this.view.element(ie))}reveal(ie,oe,re=0){if(ie<0||ie>=this.length)throw new l.ListError(this.user,`Invalid index ${ie}`);const W=this.view.getScrollTop(),q=this.view.elementTop(ie),H=this.view.elementHeight(ie);if((0,g.isNumber)(oe)){const j=H-this.view.renderHeight+re;this.view.setScrollTop(j*(0,s.clamp)(oe,0,1)+q-re)}else{const j=q+H,Q=W+this.view.renderHeight;q<W+re&&j>=Q||(q<W+re||j>=Q&&H>=this.view.renderHeight?this.view.setScrollTop(q-re):j>=Q&&this.view.setScrollTop(j-this.view.renderHeight))}}getRelativeTop(ie,oe=0){if(ie<0||ie>=this.length)throw new l.ListError(this.user,`Invalid index ${ie}`);const re=this.view.getScrollTop(),W=this.view.elementTop(ie),q=this.view.elementHeight(ie);if(W<re+oe||W+q>re+this.view.renderHeight)return null;const H=q-this.view.renderHeight+oe;return Math.abs((re+oe-W)/H)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(ie){return this.view.getElementDomId(ie)}getElementTop(ie){return this.view.elementTop(ie)}style(ie){this.styleController.style(ie)}toListEvent({indexes:ie,browserEvent:oe}){return{indexes:ie,elements:ie.map(re=>this.view.element(re)),browserEvent:oe}}_onFocusChange(){const ie=this.focus.get();this.view.domNode.classList.toggle("element-focused",ie.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ie;const oe=this.focus.get();if(oe.length>0){let re;!((ie=this.accessibilityProvider)===null||ie===void 0)&&ie.getActiveDescendantId&&(re=this.accessibilityProvider.getActiveDescendantId(this.view.element(oe[0]))),this.view.domNode.setAttribute("aria-activedescendant",re||this.view.getElementDomId(oe[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ie=this.selection.get();this.view.domNode.classList.toggle("selection-none",ie.length===0),this.view.domNode.classList.toggle("selection-single",ie.length===1),this.view.domNode.classList.toggle("selection-multiple",ie.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=pe,ke([o.memoize],pe.prototype,"onDidChangeFocus",null),ke([o.memoize],pe.prototype,"onDidChangeSelection",null),ke([o.memoize],pe.prototype,"onContextMenu",null),ke([o.memoize],pe.prototype,"onKeyDown",null),ke([o.memoize],pe.prototype,"onDidFocus",null),ke([o.memoize],pe.prototype,"onDidBlur",null)}),define(ne[631],se([1,0,13,19,7,2,111,299]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class m{get templateId(){return this.renderer.templateId}constructor(n,i){this.renderer=n,this.modelProvider=i}renderTemplate(n){return{data:this.renderer.renderTemplate(n),disposable:D.Disposable.None}}renderElement(n,i,t,s){var c;if((c=t.disposable)===null||c===void 0||c.dispose(),!t.data)return;const g=this.modelProvider();if(g.isResolved(n))return this.renderer.renderElement(g.get(n),n,t.data,s);const l=new k.CancellationTokenSource,r=g.resolve(n,l.token);t.disposable={dispose:()=>l.cancel()},this.renderer.renderPlaceholder(n,t.data),r.then(d=>this.renderer.renderElement(d,n,t.data,s))}disposeTemplate(n){n.disposable&&(n.disposable.dispose(),n.disposable=void 0),n.data&&(this.renderer.disposeTemplate(n.data),n.data=void 0)}}class w{constructor(n,i){this.modelProvider=n,this.accessibilityProvider=i}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(n){const i=this.modelProvider();return i.isResolved(n)?this.accessibilityProvider.getAriaLabel(i.get(n)):null}}function b(o,n){return{...n,accessibilityProvider:n.accessibilityProvider&&new w(o,n.accessibilityProvider)}}class C{constructor(n,i,t,s,c={}){const g=()=>this.model,l=s.map(r=>new m(r,g));this.list=new y.List(n,i,t,l,b(g,c))}updateOptions(n){this.list.updateOptions(n)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return L.Event.map(this.list.onMouseDblClick,({element:n,index:i,browserEvent:t})=>({element:n===void 0?void 0:this._model.get(n),index:i,browserEvent:t}))}get onPointer(){return L.Event.map(this.list.onPointer,({element:n,index:i,browserEvent:t})=>({element:n===void 0?void 0:this._model.get(n),index:i,browserEvent:t}))}get onDidChangeSelection(){return L.Event.map(this.list.onDidChangeSelection,({elements:n,indexes:i,browserEvent:t})=>({elements:n.map(s=>this._model.get(s)),indexes:i,browserEvent:t}))}get model(){return this._model}set model(n){this._model=n,this.list.splice(0,this.list.length,(0,f.range)(n.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(n=>this.model.get(n))}style(n){this.list.style(n)}dispose(){this.list.dispose()}}e.PagedList=C}),define(ne[347],se([1,0,6,89,168,81,13,34,7,2,137,158,20,456]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:m.Color.transparent};class t{set size(u){this._size=u}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(u,a){var v,h;if(u!==this.visible){u?(this.size=(0,C.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof a=="number"?a:this.size,this.size=0),this.container.classList.toggle("visible",u);try{(h=(v=this.view).setVisible)===null||h===void 0||h.call(v,u)}catch(p){console.error("Splitview: Failed to set visible view"),console.error(p)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var u;return(u=this.view.proportionalLayout)!==null&&u!==void 0?u:!0}get snap(){return!!this.view.snap}set enabled(u){this.container.style.pointerEvents=u?"":"none"}constructor(u,a,v,h){this.container=u,this.view=a,this.disposable=h,this._cachedVisibleSize=void 0,typeof v=="number"?(this._size=v,this._cachedVisibleSize=void 0,u.classList.add("visible")):(this._size=0,this._cachedVisibleSize=v.cachedVisibleSize)}layout(u,a){this.layoutContainer(u);try{this.view.layout(this.size,u,a)}catch(v){console.error("Splitview: Failed to layout view"),console.error(v)}}dispose(){this.disposable.dispose()}}class s extends t{layoutContainer(u){this.container.style.top=`${u}px`,this.container.style.height=`${this.size}px`}}class c extends t{layoutContainer(u){this.container.style.left=`${u}px`,this.container.style.width=`${this.size}px`}}var g;(function(d){d[d.Idle=0]="Idle",d[d.Busy=1]="Busy"})(g||(g={}));var l;(function(d){d.Distribute={type:"distribute"};function u(h){return{type:"split",index:h}}d.Split=u;function a(h){return{type:"auto",index:h}}d.Auto=a;function v(h){return{type:"invisible",cachedVisibleSize:h}}d.Invisible=v})(l||(e.Sizing=l={}));class r extends b.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(u){for(const a of this.sashItems)a.sash.orthogonalStartSash=u;this._orthogonalStartSash=u}set orthogonalEndSash(u){for(const a of this.sashItems)a.sash.orthogonalEndSash=u;this._orthogonalEndSash=u}set startSnappingEnabled(u){this._startSnappingEnabled!==u&&(this._startSnappingEnabled=u,this.updateSashEnablement())}set endSnappingEnabled(u){this._endSnappingEnabled!==u&&(this._endSnappingEnabled=u,this.updateSashEnablement())}constructor(u,a={}){var v,h,p,_,S;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=g.Idle,this._onDidSashChange=this._register(new w.Emitter),this._onDidSashReset=this._register(new w.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(v=a.orientation)!==null&&v!==void 0?v:0,this.inverseAltBehavior=(h=a.inverseAltBehavior)!==null&&h!==void 0?h:!1,this.proportionalLayout=(p=a.proportionalLayout)!==null&&p!==void 0?p:!0,this.getSashOrthogonalSize=a.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),u.appendChild(this.el),this.sashContainer=(0,f.append)(this.el,(0,f.$)(".sash-container")),this.viewContainer=(0,f.$)(".split-view-container"),this.scrollable=this._register(new o.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:I=>(0,f.scheduleAtNextAnimationFrame)((0,f.getWindow)(this.el),I)})),this.scrollableElement=this._register(new D.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(_=a.scrollbarVisibility)!==null&&_!==void 0?_:1:2,horizontal:this.orientation===1?(S=a.scrollbarVisibility)!==null&&S!==void 0?S:1:2},this.scrollable));const E=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(E(I=>{const T=this.scrollableElement.getScrollPosition(),N=Math.abs(this.viewContainer.scrollLeft-T.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,A=Math.abs(this.viewContainer.scrollTop-T.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(N!==void 0||A!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:N,scrollTop:A})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{I.scrollTopChanged&&(this.viewContainer.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.viewContainer.scrollLeft=I.scrollLeft)})),(0,f.append)(this.el,this.scrollableElement.getDomNode()),this.style(a.styles||i),a.descriptor&&(this.size=a.descriptor.size,a.descriptor.views.forEach((I,T)=>{const N=n.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},A=I.view;this.doAddView(A,N,T,!0)}),this._contentSize=this.viewItems.reduce((I,T)=>I+T.size,0),this.saveProportions())}style(u){u.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",u.separatorBorder.toString()))}addView(u,a,v=this.viewItems.length,h){this.doAddView(u,a,v,h)}layout(u,a){const v=Math.max(this.size,this._contentSize);if(this.size=u,this.layoutContext=a,this.proportions){let h=0;for(let p=0;p<this.viewItems.length;p++){const _=this.viewItems[p],S=this.proportions[p];typeof S=="number"?h+=S:u-=_.size}for(let p=0;p<this.viewItems.length;p++){const _=this.viewItems[p],S=this.proportions[p];typeof S=="number"&&h>0&&(_.size=(0,C.clamp)(Math.round(S*u/h),_.minimumSize,_.maximumSize))}}else{const h=(0,y.range)(this.viewItems.length),p=h.filter(S=>this.viewItems[S].priority===1),_=h.filter(S=>this.viewItems[S].priority===2);this.resize(this.viewItems.length-1,u-v,void 0,p,_)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(u=>u.proportionalLayout&&u.visible?u.size/this._contentSize:void 0))}onSashStart({sash:u,start:a,alt:v}){for(const S of this.viewItems)S.enabled=!1;const h=this.sashItems.findIndex(S=>S.sash===u),p=(0,b.combinedDisposable)((0,f.addDisposableListener)(this.el.ownerDocument.body,"keydown",S=>_(this.sashDragState.current,S.altKey)),(0,f.addDisposableListener)(this.el.ownerDocument.body,"keyup",()=>_(this.sashDragState.current,!1))),_=(S,E)=>{const I=this.viewItems.map(M=>M.size);let T=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(E=!E),E)if(h===this.sashItems.length-1){const P=this.viewItems[h];T=(P.minimumSize-P.size)/2,N=(P.maximumSize-P.size)/2}else{const P=this.viewItems[h+1];T=(P.size-P.maximumSize)/2,N=(P.size-P.minimumSize)/2}let A,R;if(!E){const M=(0,y.range)(h,-1),P=(0,y.range)(h+1,this.viewItems.length),F=M.reduce(($,J)=>$+(this.viewItems[J].minimumSize-I[J]),0),O=M.reduce(($,J)=>$+(this.viewItems[J].viewMaximumSize-I[J]),0),B=P.length===0?Number.POSITIVE_INFINITY:P.reduce(($,J)=>$+(I[J]-this.viewItems[J].minimumSize),0),V=P.length===0?Number.NEGATIVE_INFINITY:P.reduce(($,J)=>$+(I[J]-this.viewItems[J].viewMaximumSize),0),K=Math.max(F,V),U=Math.min(B,O),G=this.findFirstSnapIndex(M),z=this.findFirstSnapIndex(P);if(typeof G=="number"){const $=this.viewItems[G],J=Math.floor($.viewMinimumSize/2);A={index:G,limitDelta:$.visible?K-J:K+J,size:$.size}}if(typeof z=="number"){const $=this.viewItems[z],J=Math.floor($.viewMinimumSize/2);R={index:z,limitDelta:$.visible?U+J:U-J,size:$.size}}}this.sashDragState={start:S,current:S,index:h,sizes:I,minDelta:T,maxDelta:N,alt:E,snapBefore:A,snapAfter:R,disposable:p}};_(a,v)}onSashChange({current:u}){const{index:a,start:v,sizes:h,alt:p,minDelta:_,maxDelta:S,snapBefore:E,snapAfter:I}=this.sashDragState;this.sashDragState.current=u;const T=u-v,N=this.resize(a,T,h,void 0,void 0,_,S,E,I);if(p){const A=a===this.sashItems.length-1,R=this.viewItems.map(V=>V.size),M=A?a:a+1,P=this.viewItems[M],F=P.size-P.maximumSize,O=P.size-P.minimumSize,B=A?a-1:a+1;this.resize(B,-N,R,void 0,void 0,F,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(u){this._onDidSashChange.fire(u),this.sashDragState.disposable.dispose(),this.saveProportions();for(const a of this.viewItems)a.enabled=!0}onViewChange(u,a){const v=this.viewItems.indexOf(u);v<0||v>=this.viewItems.length||(a=typeof a=="number"?a:u.size,a=(0,C.clamp)(a,u.minimumSize,u.maximumSize),this.inverseAltBehavior&&v>0?(this.resize(v-1,Math.floor((u.size-a)/2)),this.distributeEmptySpace(),this.layoutViews()):(u.size=a,this.relayout([v],void 0)))}resizeView(u,a){if(!(u<0||u>=this.viewItems.length)){if(this.state!==g.Idle)throw new Error("Cant modify splitview");this.state=g.Busy;try{const v=(0,y.range)(this.viewItems.length).filter(S=>S!==u),h=[...v.filter(S=>this.viewItems[S].priority===1),u],p=v.filter(S=>this.viewItems[S].priority===2),_=this.viewItems[u];a=Math.round(a),a=(0,C.clamp)(a,_.minimumSize,Math.min(_.maximumSize,this.size)),_.size=a,this.relayout(h,p)}finally{this.state=g.Idle}}}distributeViewSizes(){const u=[];let a=0;for(const S of this.viewItems)S.maximumSize-S.minimumSize>0&&(u.push(S),a+=S.size);const v=Math.floor(a/u.length);for(const S of u)S.size=(0,C.clamp)(v,S.minimumSize,S.maximumSize);const h=(0,y.range)(this.viewItems.length),p=h.filter(S=>this.viewItems[S].priority===1),_=h.filter(S=>this.viewItems[S].priority===2);this.relayout(p,_)}getViewSize(u){return u<0||u>=this.viewItems.length?-1:this.viewItems[u].size}doAddView(u,a,v=this.viewItems.length,h){if(this.state!==g.Idle)throw new Error("Cant modify splitview");this.state=g.Busy;try{const p=(0,f.$)(".split-view-view");v===this.viewItems.length?this.viewContainer.appendChild(p):this.viewContainer.insertBefore(p,this.viewContainer.children.item(v));const _=u.onDidChange(A=>this.onViewChange(T,A)),S=(0,b.toDisposable)(()=>this.viewContainer.removeChild(p)),E=(0,b.combinedDisposable)(_,S);let I;typeof a=="number"?I=a:(a.type==="auto"&&(this.areViewsDistributed()?a={type:"distribute"}:a={type:"split",index:a.index}),a.type==="split"?I=this.getViewSize(a.index)/2:a.type==="invisible"?I={cachedVisibleSize:a.cachedVisibleSize}:I=u.minimumSize);const T=this.orientation===0?new s(p,u,I,E):new c(p,u,I,E);if(this.viewItems.splice(v,0,T),this.viewItems.length>1){const A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},R=this.orientation===0?new L.Sash(this.sashContainer,{getHorizontalSashTop:$=>this.getSashPosition($),getHorizontalSashWidth:this.getSashOrthogonalSize},{...A,orientation:1}):new L.Sash(this.sashContainer,{getVerticalSashLeft:$=>this.getSashPosition($),getVerticalSashHeight:this.getSashOrthogonalSize},{...A,orientation:0}),M=this.orientation===0?$=>({sash:R,start:$.startY,current:$.currentY,alt:$.altKey}):$=>({sash:R,start:$.startX,current:$.currentX,alt:$.altKey}),F=w.Event.map(R.onDidStart,M)(this.onSashStart,this),B=w.Event.map(R.onDidChange,M)(this.onSashChange,this),K=w.Event.map(R.onDidEnd,()=>this.sashItems.findIndex($=>$.sash===R))(this.onSashEnd,this),U=R.onDidReset(()=>{const $=this.sashItems.findIndex(Y=>Y.sash===R),J=(0,y.range)($,-1),ee=(0,y.range)($+1,this.viewItems.length),Z=this.findFirstSnapIndex(J),x=this.findFirstSnapIndex(ee);typeof Z=="number"&&!this.viewItems[Z].visible||typeof x=="number"&&!this.viewItems[x].visible||this._onDidSashReset.fire($)}),G=(0,b.combinedDisposable)(F,B,K,U,R),z={sash:R,disposable:G};this.sashItems.splice(v-1,0,z)}p.appendChild(u.element);let N;typeof a!="number"&&a.type==="split"&&(N=[a.index]),h||this.relayout([v],N),!h&&typeof a!="number"&&a.type==="distribute"&&this.distributeViewSizes()}finally{this.state=g.Idle}}relayout(u,a){const v=this.viewItems.reduce((h,p)=>h+p.size,0);this.resize(this.viewItems.length-1,this.size-v,void 0,u,a),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(u,a,v=this.viewItems.map(T=>T.size),h,p,_=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,E,I){if(u<0||u>=this.viewItems.length)return 0;const T=(0,y.range)(u,-1),N=(0,y.range)(u+1,this.viewItems.length);if(p)for(const z of p)(0,y.pushToStart)(T,z),(0,y.pushToStart)(N,z);if(h)for(const z of h)(0,y.pushToEnd)(T,z),(0,y.pushToEnd)(N,z);const A=T.map(z=>this.viewItems[z]),R=T.map(z=>v[z]),M=N.map(z=>this.viewItems[z]),P=N.map(z=>v[z]),F=T.reduce((z,$)=>z+(this.viewItems[$].minimumSize-v[$]),0),O=T.reduce((z,$)=>z+(this.viewItems[$].maximumSize-v[$]),0),B=N.length===0?Number.POSITIVE_INFINITY:N.reduce((z,$)=>z+(v[$]-this.viewItems[$].minimumSize),0),V=N.length===0?Number.NEGATIVE_INFINITY:N.reduce((z,$)=>z+(v[$]-this.viewItems[$].maximumSize),0),K=Math.max(F,V,_),U=Math.min(B,O,S);let G=!1;if(E){const z=this.viewItems[E.index],$=a>=E.limitDelta;G=$!==z.visible,z.setVisible($,E.size)}if(!G&&I){const z=this.viewItems[I.index],$=a<I.limitDelta;G=$!==z.visible,z.setVisible($,I.size)}if(G)return this.resize(u,a,v,h,p,_,S);a=(0,C.clamp)(a,K,U);for(let z=0,$=a;z<A.length;z++){const J=A[z],ee=(0,C.clamp)(R[z]+$,J.minimumSize,J.maximumSize),Z=ee-R[z];$-=Z,J.size=ee}for(let z=0,$=a;z<M.length;z++){const J=M[z],ee=(0,C.clamp)(P[z]-$,J.minimumSize,J.maximumSize),Z=ee-P[z];$+=Z,J.size=ee}return a}distributeEmptySpace(u){const a=this.viewItems.reduce((S,E)=>S+E.size,0);let v=this.size-a;const h=(0,y.range)(this.viewItems.length-1,-1),p=h.filter(S=>this.viewItems[S].priority===1),_=h.filter(S=>this.viewItems[S].priority===2);for(const S of _)(0,y.pushToStart)(h,S);for(const S of p)(0,y.pushToEnd)(h,S);typeof u=="number"&&(0,y.pushToEnd)(h,u);for(let S=0;v!==0&&S<h.length;S++){const E=this.viewItems[h[S]],I=(0,C.clamp)(E.size+v,E.minimumSize,E.maximumSize),T=I-E.size;v-=T,E.size=I}}layoutViews(){this._contentSize=this.viewItems.reduce((a,v)=>a+v.size,0);let u=0;for(const a of this.viewItems)a.layout(u,this.layoutContext),u+=a.size;this.sashItems.forEach(a=>a.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let u=!1;const a=this.viewItems.map(E=>u=E.size-E.minimumSize>0||u);u=!1;const v=this.viewItems.map(E=>u=E.maximumSize-E.size>0||u),h=[...this.viewItems].reverse();u=!1;const p=h.map(E=>u=E.size-E.minimumSize>0||u).reverse();u=!1;const _=h.map(E=>u=E.maximumSize-E.size>0||u).reverse();let S=0;for(let E=0;E<this.sashItems.length;E++){const{sash:I}=this.sashItems[E],T=this.viewItems[E];S+=T.size;const N=!(a[E]&&_[E+1]),A=!(v[E]&&p[E+1]);if(N&&A){const R=(0,y.range)(E,-1),M=(0,y.range)(E+1,this.viewItems.length),P=this.findFirstSnapIndex(R),F=this.findFirstSnapIndex(M),O=typeof P=="number"&&!this.viewItems[P].visible,B=typeof F=="number"&&!this.viewItems[F].visible;O&&p[E]&&(S>0||this.startSnappingEnabled)?I.state=1:B&&a[E]&&(S<this._contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else N&&!A?I.state=1:!N&&A?I.state=2:I.state=3}}getSashPosition(u){let a=0;for(let v=0;v<this.sashItems.length;v++)if(a+=this.viewItems[v].size,this.sashItems[v].sash===u)return a;return 0}findFirstSnapIndex(u){for(const a of u){const v=this.viewItems[a];if(v.visible&&v.snap)return a}for(const a of u){const v=this.viewItems[a];if(v.visible&&v.maximumSize-v.minimumSize>0)return;if(!v.visible&&v.snap)return a}}areViewsDistributed(){let u,a;for(const v of this.viewItems)if(u=u===void 0?v.size:Math.min(u,v.size),a=a===void 0?v.size:Math.max(a,v.size),a-u>2)return!1;return!0}dispose(){var u;(u=this.sashDragState)===null||u===void 0||u.disposable.dispose(),(0,b.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(a=>a.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=r}),define(ne[632],se([1,0,6,77,44,111,347,7,2,457]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(t,s,c){this.columns=t,this.getColumnSize=c,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const g=new Map(s.map(l=>[l.templateId,l]));this.renderers=[];for(const l of t){const r=g.get(l.templateId);if(!r)throw new Error(`Table cell renderer for template id ${l.templateId} not found.`);this.renderers.push(r)}}renderTemplate(t){const s=(0,f.append)(t,(0,f.$)(".monaco-table-tr")),c=[],g=[];for(let r=0;r<this.columns.length;r++){const d=this.renderers[r],u=(0,f.append)(s,(0,f.$)(".monaco-table-td",{"data-col-index":r}));u.style.width=`${this.getColumnSize(r)}px`,c.push(u),g.push(d.renderTemplate(u))}const l={container:t,cellContainers:c,cellTemplateData:g};return this.renderedTemplates.add(l),l}renderElement(t,s,c,g){for(let l=0;l<this.columns.length;l++){const d=this.columns[l].project(t);this.renderers[l].renderElement(d,s,c.cellTemplateData[l],g)}}disposeElement(t,s,c,g){for(let l=0;l<this.columns.length;l++){const r=this.renderers[l];if(r.disposeElement){const u=this.columns[l].project(t);r.disposeElement(u,s,c.cellTemplateData[l],g)}}}disposeTemplate(t){for(let s=0;s<this.columns.length;s++)this.renderers[s].disposeTemplate(t.cellTemplateData[s]);(0,f.clearNode)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,s){for(const{cellContainers:c}of this.renderedTemplates)c[t].style.width=`${s}px`}}b.TemplateId="row";function C(i){return{getHeight(t){return i.getHeight(t)},getTemplateId(){return b.TemplateId}}}class o extends w.Disposable{get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:m.Event.None}constructor(t,s){super(),this.column=t,this.index=s,this._onDidLayout=new m.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,f.$)(".monaco-table-th",{"data-col-index":s},t.label),t.tooltip&&this._register((0,k.getBaseLayerHoverDelegate)().setupUpdatableHover((0,L.getDefaultHoverDelegate)("mouse"),this.element,t.tooltip))}layout(t){this._onDidLayout.fire([this.index,t])}}class n{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(t,s,c,g,l,r){this.virtualDelegate=c,this.domId=`table_id_${++n.InstanceCount}`,this.disposables=new w.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,f.append)(s,(0,f.$)(`.monaco-table.${this.domId}`));const d=g.map((v,h)=>this.disposables.add(new o(v,h))),u={size:d.reduce((v,h)=>v+h.column.weight,0),views:d.map(v=>({size:v.column.weight,view:v}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:u})),this.splitview.el.style.height=`${c.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${c.headerRowHeight}px`;const a=new b(g,l,v=>this.splitview.getViewSize(v));this.list=this.disposables.add(new D.List(t,this.domNode,C(c),[a],r)),m.Event.any(...d.map(v=>v.onDidLayout))(([v,h])=>a.layoutColumn(v,h),null,this.disposables),this.splitview.onDidSashReset(v=>{const h=g.reduce((_,S)=>_+S.weight,0),p=g[v].weight/h*this.cachedWidth;this.splitview.resizeView(v,p)},null,this.disposables),this.styleElement=(0,f.createStyleSheet)(this.domNode),this.style(D.unthemedListStyles)}updateOptions(t){this.list.updateOptions(t)}splice(t,s,c=[]){this.list.splice(t,s,c)}getHTMLElement(){return this.domNode}style(t){const s=[];s.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=s.join(`
`),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=n,n.InstanceCount=0}),define(ne[170],se([1,0,80,31,7,44,77,458]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class m extends f.Widget{constructor(b){var C;super(),this._onChange=this._register(new L.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=b,this._checked=this._opts.isChecked;const o=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,o.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&o.push(...this._opts.actionClassName.split(" ")),this._checked&&o.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,y.getBaseLayerHoverDelegate)().setupUpdatableHover((C=b.hoverDelegate)!==null&&C!==void 0?C:(0,D.getDefaultHoverDelegate)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...o),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,n=>{if(n.keyCode===10||n.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),n.preventDefault(),n.stopPropagation();return}this._onKeyDown.fire(n)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(b){this._checked=b,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=m}),define(ne[348],se([1,0,44,170,26,607]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const y=D.localize(0,null),m=D.localize(1,null),w=D.localize(2,null);class b extends k.Toggle{constructor(i){var t;super({icon:L.Codicon.caseSensitive,title:y+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=b;class C extends k.Toggle{constructor(i){var t;super({icon:L.Codicon.wholeWord,title:m+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=C;class o extends k.Toggle{constructor(i){var t;super({icon:L.Codicon.regex,title:w+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=o}),define(ne[51],se([1,0,247,47,98,17,11,22]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=void 0,e.originalFSPath=w;function w(o){return(0,m.uriToFsPath)(o,!0)}class b{constructor(n){this._ignorePathCasing=n}compare(n,i,t=!1){return n===i?0:(0,y.compare)(this.getComparisonKey(n,t),this.getComparisonKey(i,t))}isEqual(n,i,t=!1){return n===i?!0:!n||!i?!1:this.getComparisonKey(n,t)===this.getComparisonKey(i,t)}getComparisonKey(n,i=!1){return n.with({path:this._ignorePathCasing(n)?n.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}isEqualOrParent(n,i,t=!1){if(n.scheme===i.scheme){if(n.scheme===k.Schemas.file)return f.isEqualOrParent(w(n),w(i),this._ignorePathCasing(n))&&n.query===i.query&&(t||n.fragment===i.fragment);if((0,e.isEqualAuthority)(n.authority,i.authority))return f.isEqualOrParent(n.path,i.path,this._ignorePathCasing(n),"/")&&n.query===i.query&&(t||n.fragment===i.fragment)}return!1}joinPath(n,...i){return m.URI.joinPath(n,...i)}basenameOrAuthority(n){return(0,e.basename)(n)||n.authority}basename(n){return L.posix.basename(n.path)}extname(n){return L.posix.extname(n.path)}dirname(n){if(n.path.length===0)return n;let i;return n.scheme===k.Schemas.file?i=m.URI.file(L.dirname(w(n))).path:(i=L.posix.dirname(n.path),n.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${n.toString})) resulted in a relative path`),i="/")),n.with({path:i})}normalizePath(n){if(!n.path.length)return n;let i;return n.scheme===k.Schemas.file?i=m.URI.file(L.normalize(w(n))).path:i=L.posix.normalize(n.path),n.with({path:i})}relativePath(n,i){if(n.scheme!==i.scheme||!(0,e.isEqualAuthority)(n.authority,i.authority))return;if(n.scheme===k.Schemas.file){const c=L.relative(w(n),w(i));return D.isWindows?f.toSlashes(c):c}let t=n.path||"/";const s=i.path||"/";if(this._ignorePathCasing(n)){let c=0;for(const g=Math.min(t.length,s.length);c<g&&!(t.charCodeAt(c)!==s.charCodeAt(c)&&t.charAt(c).toLowerCase()!==s.charAt(c).toLowerCase());c++);t=s.substr(0,c)+t.substr(c)}return L.posix.relative(t,s)}resolvePath(n,i){if(n.scheme===k.Schemas.file){const t=m.URI.file(L.resolve(w(n),i));return n.with({authority:t.authority,path:t.path})}return i=f.toPosixPath(i),n.with({path:L.posix.resolve(n.path,i)})}isAbsolutePath(n){return!!n.path&&n.path[0]==="/"}isEqualAuthority(n,i){return n===i||n!==void 0&&i!==void 0&&(0,y.equalsIgnoreCase)(n,i)}hasTrailingPathSeparator(n,i=L.sep){if(n.scheme===k.Schemas.file){const t=w(n);return t.length>f.getRoot(t).length&&t[t.length-1]===i}else{const t=n.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(n.fsPath)}}removeTrailingPathSeparator(n,i=L.sep){return(0,e.hasTrailingPathSeparator)(n,i)?n.with({path:n.path.substr(0,n.path.length-1)}):n}addTrailingPathSeparator(n,i=L.sep){let t=!1;if(n.scheme===k.Schemas.file){const s=w(n);t=s!==void 0&&s.length===f.getRoot(s).length&&s[s.length-1]===i}else{i="/";const s=n.path;t=s.length===1&&s.charCodeAt(s.length-1)===47}return!t&&!(0,e.hasTrailingPathSeparator)(n,i)?n.with({path:n.path+"/"}):n}}e.ExtUri=b,e.extUri=new b(()=>!1),e.extUriBiasedIgnorePathCase=new b(o=>o.scheme===k.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new b(o=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var C;(function(o){o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function n(i){const t=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(g=>{const[l,r]=g.split(":");l&&r&&t.set(l,r)});const c=i.path.substring(0,i.path.indexOf(";"));return c&&t.set(o.META_DATA_MIME,c),t}o.parseMetaData=n})(C||(e.DataUri=C={}))}),define(ne[57],se([1,0,9,138,51,11,22]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownString=void 0,e.isEmptyMarkdownString=w,e.isMarkdownString=b,e.markdownStringEqual=C,e.escapeMarkdownSyntaxTokens=o,e.appendEscapedMarkdownCodeBlockFence=n,e.escapeDoubleQuotes=i,e.removeMarkdownEscapes=t,e.parseHrefAndDimensions=s;class m{constructor(g="",l=!1){var r,d,u;if(this.value=g,typeof this.value!="string")throw(0,f.illegalArgument)("value");typeof l=="boolean"?(this.isTrusted=l,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(r=l.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(d=l.supportThemeIcons)!==null&&d!==void 0?d:!1,this.supportHtml=(u=l.supportHtml)!==null&&u!==void 0?u:!1)}appendText(g,l=0){return this.value+=o(this.supportThemeIcons?(0,k.escapeIcons)(g):g).replace(/([ \t]+)/g,(r,d)=>"&nbsp;".repeat(d.length)).replace(/\>/gm,"\\>").replace(/\n/g,l===1?`\\
`:`

`),this}appendMarkdown(g){return this.value+=g,this}appendCodeblock(g,l){return this.value+=`
${n(l,g)}
`,this}appendLink(g,l,r){return this.value+="[",this.value+=this._escape(l,"]"),this.value+="](",this.value+=this._escape(String(g),")"),r&&(this.value+=` "${this._escape(this._escape(r,'"'),")")}"`),this.value+=")",this}_escape(g,l){const r=new RegExp((0,D.escapeRegExpCharacters)(l),"g");return g.replace(r,(d,u)=>g.charAt(u-1)!=="\\"?`\\${d}`:d)}}e.MarkdownString=m;function w(c){return b(c)?!c.value:Array.isArray(c)?c.every(w):!0}function b(c){return c instanceof m?!0:c&&typeof c=="object"?typeof c.value=="string"&&(typeof c.isTrusted=="boolean"||typeof c.isTrusted=="object"||c.isTrusted===void 0)&&(typeof c.supportThemeIcons=="boolean"||c.supportThemeIcons===void 0):!1}function C(c,g){return c===g?!0:!c||!g?!1:c.value===g.value&&c.isTrusted===g.isTrusted&&c.supportThemeIcons===g.supportThemeIcons&&c.supportHtml===g.supportHtml&&(c.baseUri===g.baseUri||!!c.baseUri&&!!g.baseUri&&(0,L.isEqual)(y.URI.from(c.baseUri),y.URI.from(g.baseUri)))}function o(c){return c.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function n(c,g){var l,r;const d=(r=(l=c.match(/^`+/gm))===null||l===void 0?void 0:l.reduce((a,v)=>a.length>v.length?a:v).length)!==null&&r!==void 0?r:0,u=d>=3?d+1:3;return[`${"`".repeat(u)}${g}`,c,`${"`".repeat(u)}`].join(`
`)}function i(c){return c.replace(/"/g,"&quot;")}function t(c){return c&&c.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function s(c){const g=[],l=c.split("|").map(d=>d.trim());c=l[0];const r=l[1];if(r){const d=/height=(\d+)/.exec(r),u=/width=(\d+)/.exec(r),a=d?d[1]:"",v=u?u[1]:"",h=isFinite(parseInt(v)),p=isFinite(parseInt(a));h&&g.push(`width="${v}"`),p&&g.push(`height="${a}"`)}return{href:c,dimensions:g}}}),define(ne[202],se([1,0,6,341,89,342,46,74,110,9,7,57,138,183,96,2,431,248,47,55,51,11,22]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allowedMarkdownAttr=void 0,e.renderMarkdown=h,e.renderStringAsPlaintext=T,e.renderMarkdownAsPlaintext=N,e.fillInIncompleteTokens=G;const v=Object.freeze({image:(oe,re,W)=>{let q=[],H=[];return oe&&({href:oe,dimensions:q}=(0,o.parseHrefAndDimensions)(oe),H.push(`src="${(0,o.escapeDoubleQuotes)(oe)}"`)),W&&H.push(`alt="${(0,o.escapeDoubleQuotes)(W)}"`),re&&H.push(`title="${(0,o.escapeDoubleQuotes)(re)}"`),q.length&&(H=H.concat(q)),"<img "+H.join(" ")+">"},paragraph:oe=>`<p>${oe}</p>`,link:(oe,re,W)=>typeof oe!="string"?"":(oe===W&&(W=(0,o.removeMarkdownEscapes)(W)),re=typeof re=="string"?(0,o.escapeDoubleQuotes)((0,o.removeMarkdownEscapes)(re)):"",oe=(0,o.removeMarkdownEscapes)(oe),oe=oe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${oe}" title="${re||oe}" draggable="false">${W}</a>`)});function h(oe,re={},W={}){var q,H;const j=new s.DisposableStore;let Q=!1;const te=(0,D.createElement)(re),le=function(Me){let Ae;try{Ae=(0,g.parse)(decodeURIComponent(Me))}catch{}return Ae?(Ae=(0,r.cloneAndChange)(Ae,Pe=>{if(oe.uris&&oe.uris[Pe])return a.URI.revive(oe.uris[Pe])}),encodeURIComponent(JSON.stringify(Ae))):Me},de=function(Me,Ae){const Pe=oe.uris&&oe.uris[Me];let Re=a.URI.revive(Pe);return Ae?Me.startsWith(l.Schemas.data+":")?Me:(Re||(Re=a.URI.parse(Me)),l.FileAccess.uriToBrowserUri(Re).toString(!0)):!Re||a.URI.parse(Me).toString()===Re.toString()?Me:(Re.query&&(Re=Re.with({query:le(Re.query)})),Re.toString())},me=new c.marked.Renderer;me.image=v.image,me.link=v.link,me.paragraph=v.paragraph;const ve=[],Ce=[];if(re.codeBlockRendererSync?me.code=(Me,Ae)=>{const Pe=i.defaultGenerator.nextId(),Re=re.codeBlockRendererSync(p(Ae),Me);return Ce.push([Pe,Re]),`<div class="code" data-code="${Pe}">${(0,u.escape)(Me)}</div>`}:re.codeBlockRenderer&&(me.code=(Me,Ae)=>{const Pe=i.defaultGenerator.nextId(),Re=re.codeBlockRenderer(p(Ae),Me);return ve.push(Re.then(Ee=>[Pe,Ee])),`<div class="code" data-code="${Pe}">${(0,u.escape)(Me)}</div>`}),re.actionHandler){const Me=function(Re){let Ee=Re.target;if(!(Ee.tagName!=="A"&&(Ee=Ee.parentElement,!Ee||Ee.tagName!=="A")))try{let Ne=Ee.dataset.href;Ne&&(oe.baseUri&&(Ne=_(a.URI.from(oe.baseUri),Ne)),re.actionHandler.callback(Ne,Re))}catch(Ne){(0,b.onUnexpectedError)(Ne)}finally{Re.preventDefault()}},Ae=re.actionHandler.disposables.add(new L.DomEmitter(te,"click")),Pe=re.actionHandler.disposables.add(new L.DomEmitter(te,"auxclick"));re.actionHandler.disposables.add(C.Event.any(Ae.event,Pe.event)(Re=>{const Ee=new m.StandardMouseEvent(f.getWindow(te),Re);!Ee.leftButton&&!Ee.middleButton||Me(Ee)})),re.actionHandler.disposables.add(f.addDisposableListener(te,"keydown",Re=>{const Ee=new y.StandardKeyboardEvent(Re);!Ee.equals(10)&&!Ee.equals(3)||Me(Ee)}))}oe.supportHtml||(W.sanitizer=Me=>{var Ae;return!((Ae=re.sanitizerOptions)===null||Ae===void 0)&&Ae.replaceWithPlaintext?(0,u.escape)(Me):(oe.isTrusted?Me.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Me:""},W.sanitize=!0,W.silent=!0),W.renderer=me;let ye=(q=oe.value)!==null&&q!==void 0?q:"";ye.length>1e5&&(ye=`${ye.substr(0,1e5)}\u2026`),oe.supportThemeIcons&&(ye=(0,n.markdownEscapeEscapedIcons)(ye));let Se;if(re.fillInIncompleteTokens){const Me={...c.marked.defaults,...W},Ae=c.marked.lexer(ye,Me),Pe=G(Ae);Se=c.marked.parser(Pe,Me)}else Se=c.marked.parse(ye,W);oe.supportThemeIcons&&(Se=(0,w.renderLabelWithIcons)(Se).map(Ae=>typeof Ae=="string"?Ae:Ae.outerHTML).join(""));const De=new DOMParser().parseFromString(E({isTrusted:oe.isTrusted,...re.sanitizerOptions},Se),"text/html");if(De.body.querySelectorAll("img, audio, video, source").forEach(Me=>{const Ae=Me.getAttribute("src");if(Ae){let Pe=Ae;try{oe.baseUri&&(Pe=_(a.URI.from(oe.baseUri),Pe))}catch{}if(Me.setAttribute("src",de(Pe,!0)),re.remoteImageIsAllowed){const Re=a.URI.parse(Pe);Re.scheme!==l.Schemas.file&&Re.scheme!==l.Schemas.data&&!re.remoteImageIsAllowed(Re)&&Me.replaceWith(f.$("",void 0,Me.outerHTML))}}}),De.body.querySelectorAll("a").forEach(Me=>{const Ae=Me.getAttribute("href");if(Me.setAttribute("href",""),!Ae||/^data:|javascript:/i.test(Ae)||/^command:/i.test(Ae)&&!oe.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Ae))Me.replaceWith(...Me.childNodes);else{let Pe=de(Ae,!1);oe.baseUri&&(Pe=_(a.URI.from(oe.baseUri),Ae)),Me.dataset.href=Pe}}),te.innerHTML=E({isTrusted:oe.isTrusted,...re.sanitizerOptions},De.body.innerHTML),ve.length>0)Promise.all(ve).then(Me=>{var Ae,Pe;if(Q)return;const Re=new Map(Me),Ee=te.querySelectorAll("div[data-code]");for(const Ne of Ee){const fe=Re.get((Ae=Ne.dataset.code)!==null&&Ae!==void 0?Ae:"");fe&&f.reset(Ne,fe)}(Pe=re.asyncRenderCallback)===null||Pe===void 0||Pe.call(re)});else if(Ce.length>0){const Me=new Map(Ce),Ae=te.querySelectorAll("div[data-code]");for(const Pe of Ae){const Re=Me.get((H=Pe.dataset.code)!==null&&H!==void 0?H:"");Re&&f.reset(Pe,Re)}}if(re.asyncRenderCallback)for(const Me of te.getElementsByTagName("img")){const Ae=j.add(f.addDisposableListener(Me,"load",()=>{Ae.dispose(),re.asyncRenderCallback()}))}return{element:te,dispose:()=>{Q=!0,j.dispose()}}}function p(oe){if(!oe)return"";const re=oe.split(/[\s+|:|,|\{|\?]/,1);return re.length?re[0]:oe}function _(oe,re){return/^\w[\w\d+.-]*:/.test(re)?re:oe.path.endsWith("/")?(0,d.resolvePath)(oe,re).toString():(0,d.resolvePath)((0,d.dirname)(oe),re).toString()}const S=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function E(oe,re){const{config:W,allowedSchemes:q}=I(oe),H=new s.DisposableStore;H.add(ie("uponSanitizeAttribute",(j,Q)=>{var te;if(Q.attrName==="style"||Q.attrName==="class"){if(j.tagName==="SPAN"){if(Q.attrName==="style"){Q.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(Q.attrValue);return}else if(Q.attrName==="class"){Q.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Q.attrValue);return}}Q.keepAttr=!1;return}else if(j.tagName==="INPUT"&&((te=j.attributes.getNamedItem("type"))===null||te===void 0?void 0:te.value)==="checkbox"){if(Q.attrName==="type"&&Q.attrValue==="checkbox"||Q.attrName==="disabled"||Q.attrName==="checked"){Q.keepAttr=!0;return}Q.keepAttr=!1}})),H.add(ie("uponSanitizeElement",(j,Q)=>{var te,le;if(Q.tagName==="input"&&(((te=j.attributes.getNamedItem("type"))===null||te===void 0?void 0:te.value)==="checkbox"?j.setAttribute("disabled",""):oe.replaceWithPlaintext||(le=j.parentElement)===null||le===void 0||le.removeChild(j)),oe.replaceWithPlaintext&&!Q.allowedTags[Q.tagName]&&Q.tagName!=="body"&&j.parentElement){let de,me;if(Q.tagName==="#comment")de=`<!--${j.textContent}-->`;else{const Se=S.includes(Q.tagName),Te=j.attributes.length?" "+Array.from(j.attributes).map(De=>`${De.name}="${De.value}"`).join(" "):"";de=`<${Q.tagName}${Te}>`,Se||(me=`</${Q.tagName}>`)}const ve=document.createDocumentFragment(),Ce=j.parentElement.ownerDocument.createTextNode(de);ve.appendChild(Ce);const ye=me?j.parentElement.ownerDocument.createTextNode(me):void 0;for(;j.firstChild;)ve.appendChild(j.firstChild);ye&&ve.appendChild(ye),j.parentElement.replaceChild(ve,j)}})),H.add(f.hookDomPurifyHrefAndSrcSanitizer(q));try{return k.sanitize(re,{...W,RETURN_TRUSTED_TYPE:!0})}finally{H.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function I(oe){var re;const W=[l.Schemas.http,l.Schemas.https,l.Schemas.mailto,l.Schemas.data,l.Schemas.file,l.Schemas.vscodeFileResource,l.Schemas.vscodeRemote,l.Schemas.vscodeRemoteResource];return oe.isTrusted&&W.push(l.Schemas.command),{config:{ALLOWED_TAGS:(re=oe.allowedTags)!==null&&re!==void 0?re:[...f.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:W}}function T(oe){return typeof oe=="string"?oe:N(oe)}function N(oe,re){var W;let q=(W=oe.value)!==null&&W!==void 0?W:"";q.length>1e5&&(q=`${q.substr(0,1e5)}\u2026`);const H=c.marked.parse(q,{renderer:re?P.value:M.value}).replace(/&(#\d+|[a-zA-Z]+);/g,j=>{var Q;return(Q=A.get(j))!==null&&Q!==void 0?Q:j});return E({isTrusted:!1},H).toString()}const A=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function R(){const oe=new c.marked.Renderer;return oe.code=re=>re,oe.blockquote=re=>re,oe.html=re=>"",oe.heading=(re,W,q)=>re+`
`,oe.hr=()=>"",oe.list=(re,W)=>re,oe.listitem=re=>re+`
`,oe.paragraph=re=>re+`
`,oe.table=(re,W)=>re+W+`
`,oe.tablerow=re=>re,oe.tablecell=(re,W)=>re+" ",oe.strong=re=>re,oe.em=re=>re,oe.codespan=re=>re,oe.br=()=>`
`,oe.del=re=>re,oe.image=(re,W,q)=>"",oe.text=re=>re,oe.link=(re,W,q)=>q,oe}const M=new t.Lazy(oe=>R()),P=new t.Lazy(()=>{const oe=R();return oe.code=re=>"\n```"+re+"```\n",oe});function F(oe){let re="";return oe.forEach(W=>{re+=W.raw}),re}function O(oe){var re,W;if(oe.tokens)for(let q=oe.tokens.length-1;q>=0;q--){const H=oe.tokens[q];if(H.type==="text"){const j=H.raw.split(`
`),Q=j[j.length-1];if(Q.includes("`"))return J(oe);if(Q.includes("**"))return ue(oe);if(Q.match(/\*\w/))return ee(oe);if(Q.match(/(^|\s)__\w/))return he(oe);if(Q.match(/(^|\s)_\w/))return Z(oe);if(B(Q)||V(Q)&&oe.tokens.slice(0,q).some(te=>te.type==="text"&&te.raw.match(/\[[^\]]*$/))){const te=oe.tokens.slice(q+1);return((re=te[0])===null||re===void 0?void 0:re.type)==="link"&&((W=te[1])===null||W===void 0?void 0:W.type)==="text"&&te[1].raw.match(/^ *"[^"]*$/)||Q.match(/^[^"]* +"[^"]*$/)?Y(oe):x(oe)}else if(Q.match(/(^|\s)\[\w*/))return ae(oe)}}}function B(oe){return!!oe.match(/(^|\s)\[.*\]\(\w*/)}function V(oe){return!!oe.match(/^[^\[]*\]\([^\)]*$/)}function K(oe){var re;const W=oe.items[oe.items.length-1],q=W.tokens?W.tokens[W.tokens.length-1]:void 0;let H;if(q?.type==="text"&&!("inRawBlock"in W)&&(H=O(q)),!H||H.type!=="paragraph")return;const j=F(oe.items.slice(0,-1)),Q=(re=W.raw.match(/^(\s*(-|\d+\.) +)/))===null||re===void 0?void 0:re[0];if(!Q)return;const te=Q+F(W.tokens.slice(0,-1))+H.raw,le=c.marked.lexer(j+te)[0];if(le.type==="list")return le}const U=3;function G(oe){for(let re=0;re<U;re++){const W=z(oe);if(W)oe=W;else break}return oe}function z(oe){let re,W;for(re=0;re<oe.length;re++){const q=oe[re];let H;if(q.type==="paragraph"&&(H=q.raw.match(/(\n|^)(````*)/))){const j=H[2];W=$(oe.slice(re),j);break}if(q.type==="paragraph"&&q.raw.match(/(\n|^)\|/)){W=ce(oe.slice(re));break}if(re===oe.length-1&&q.type==="list"){const j=K(q);if(j){W=[j];break}}if(re===oe.length-1&&q.type==="paragraph"){const j=O(q);if(j){W=[j];break}}}if(W){const q=[...oe.slice(0,re),...W];return q.links=oe.links,q}return null}function $(oe,re){const W=F(oe);return c.marked.lexer(W+`
${re}`)}function J(oe){return pe(oe,"`")}function ee(oe){return pe(oe,"*")}function Z(oe){return pe(oe,"_")}function x(oe){return pe(oe,")")}function Y(oe){return pe(oe,'")')}function ae(oe){return pe(oe,"](https://microsoft.com)")}function ue(oe){return pe(oe,"**")}function he(oe){return pe(oe,"__")}function pe(oe,re){const W=F(Array.isArray(oe)?oe:[oe]);return c.marked.lexer(W+re)[0]}function ce(oe){const re=F(oe),W=re.split(`
`);let q,H=!1;for(let j=0;j<W.length;j++){const Q=W[j].trim();if(typeof q>"u"&&Q.match(/^\s*\|/)){const te=Q.match(/(\|[^\|]+)(?=\||$)/g);te&&(q=te.length)}else if(typeof q=="number")if(Q.match(/^\s*\|/)){if(j!==W.length-1)return;H=!0}else return}if(typeof q=="number"&&q>0){const j=H?W.slice(0,-1).join(`
`):re,Q=!!j.match(/\|\s*$/),te=j+(Q?"":"|")+`
|${" --- |".repeat(q)}`;return c.marked.lexer(te)}}function ie(oe,re){return k.addHook(oe,re),(0,s.toDisposable)(()=>k.removeHook(oe))}}),define(ne[254],se([1,0,6,341,46,202,69,44,110,34,7,57,2,31,77,441]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:b.Color.white.toString(),buttonForeground:b.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class s extends n.Disposable{get onDidClick(){return this._onDidClick.event}constructor(g,l){super(),this._label="",this._onDidClick=this._register(new C.Emitter),this._onDidEscape=this._register(new C.Emitter),this.options=l,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!l.secondary);const r=l.secondary?l.buttonSecondaryBackground:l.buttonBackground,d=l.secondary?l.buttonSecondaryForeground:l.buttonForeground;this._element.style.color=d||"",this._element.style.backgroundColor=r||"",l.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof l.title=="string"&&this.setTitle(l.title),typeof l.ariaLabel=="string"&&this._element.setAttribute("aria-label",l.ariaLabel),g.appendChild(this._element),this._register(y.Gesture.addTarget(this._element)),[f.EventType.CLICK,y.EventType.Tap].forEach(u=>{this._register((0,f.addDisposableListener)(this._element,u,a=>{if(!this.enabled){f.EventHelper.stop(a);return}this._onDidClick.fire(a)}))}),this._register((0,f.addDisposableListener)(this._element,f.EventType.KEY_DOWN,u=>{const a=new L.StandardKeyboardEvent(u);let v=!1;this.enabled&&(a.equals(3)||a.equals(10))?(this._onDidClick.fire(u),v=!0):a.equals(9)&&(this._onDidEscape.fire(u),this._element.blur(),v=!0),v&&f.EventHelper.stop(a,!0)})),this._register((0,f.addDisposableListener)(this._element,f.EventType.MOUSE_OVER,u=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,f.addDisposableListener)(this._element,f.EventType.MOUSE_OUT,u=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,f.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(g){const l=[];for(let r of(0,w.renderLabelWithIcons)(g))if(typeof r=="string"){if(r=r.trim(),r==="")continue;const d=document.createElement("span");d.textContent=r,l.push(d)}else l.push(r);return l}updateBackground(g){let l;this.options.secondary?l=g?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:l=g?this.options.buttonHoverBackground:this.options.buttonBackground,l&&(this._element.style.backgroundColor=l)}get element(){return this._element}set label(g){var l;if(this._label===g||(0,o.isMarkdownString)(this._label)&&(0,o.isMarkdownString)(g)&&(0,o.markdownStringEqual)(this._label,g))return;this._element.classList.add("monaco-text-button");const r=this.options.supportShortLabel?this._labelElement:this._element;if((0,o.isMarkdownString)(g)){const u=(0,D.renderMarkdown)(g,{inline:!0});u.dispose();const a=(l=u.element.querySelector("p"))===null||l===void 0?void 0:l.innerHTML;if(a){const v=(0,k.sanitize)(a,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});r.innerHTML=v}else(0,f.reset)(r)}else this.options.supportIcons?(0,f.reset)(r,...this.getContentElements(g)):r.textContent=g;let d="";typeof this.options.title=="string"?d=this.options.title:this.options.title&&(d=(0,D.renderStringAsPlaintext)(g)),this.setTitle(d),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",d),this._label=g}get label(){return this._label}set icon(g){this._element.classList.add(...i.ThemeIcon.asClassNameArray(g))}set enabled(g){g?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(g){var l;!this._hover&&g!==""?this._hover=this._register((0,t.getBaseLayerHoverDelegate)().setupUpdatableHover((l=this.options.hoverDelegate)!==null&&l!==void 0?l:(0,m.getDefaultHoverDelegate)("mouse"),this._element,g)):this._hover&&this._hover.update(g)}}e.Button=s}),define(ne[633],se([1,0,6,89,46,202,77,44,111,13,7,70,2,17,612,455]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const s=f.$,c="selectOption.entry.template";class g{get templateId(){return c}renderTemplate(d){const u=Object.create(null);return u.root=d,u.text=f.append(d,s(".option-text")),u.detail=f.append(d,s(".option-detail")),u.decoratorRight=f.append(d,s(".option-decorator-right")),u}renderElement(d,u,a){const v=a,h=d.text,p=d.detail,_=d.decoratorRight,S=d.isDisabled;v.text.textContent=h,v.detail.textContent=p||"",v.decoratorRight.innerText=_||"",S?v.root.classList.add("option-disabled"):v.root.classList.remove("option-disabled")}disposeTemplate(d){}}class l extends n.Disposable{constructor(d,u,a,v,h){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=v,this.selectBoxOptions=h||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=l.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new C.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(a),this.selected=u||0,d&&this.setOptions(d,u),this.initStyleSheet()}setTitle(d){!this._hover&&d?this._hover=this._register((0,y.getBaseLayerHoverDelegate)().setupUpdatableHover((0,m.getDefaultHoverDelegate)("mouse"),this.selectElement,d)):this._hover&&this._hover.update(d)}getHeight(){return 22}getTemplateId(){return c}constructSelectDropDown(d){this.contextViewProvider=d,this.selectDropDownContainer=f.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=f.append(this.selectDropDownContainer,s(".select-box-details-pane"));const u=f.append(this.selectDropDownContainer,s(".select-box-dropdown-container-width-control")),a=f.append(u,s(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",f.append(a,this.widthControlElement),this._dropDownPosition=0,this.styleElement=f.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(f.addDisposableListener(this.selectDropDownContainer,f.EventType.DRAG_START,v=>{f.EventHelper.stop(v,!0)}))}registerListeners(){this._register(f.addStandardDisposableListener(this.selectElement,"change",u=>{this.selected=u.target.selectedIndex,this._onDidSelect.fire({index:u.target.selectedIndex,selected:u.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(f.addDisposableListener(this.selectElement,f.EventType.CLICK,u=>{f.EventHelper.stop(u),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.addDisposableListener(this.selectElement,f.EventType.MOUSE_DOWN,u=>{f.EventHelper.stop(u)}));let d;this._register(f.addDisposableListener(this.selectElement,"touchstart",u=>{d=this._isVisible})),this._register(f.addDisposableListener(this.selectElement,"touchend",u=>{f.EventHelper.stop(u),d?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.addDisposableListener(this.selectElement,f.EventType.KEY_DOWN,u=>{const a=new L.StandardKeyboardEvent(u);let v=!1;i.isMacintosh?(a.keyCode===18||a.keyCode===16||a.keyCode===10||a.keyCode===3)&&(v=!0):(a.keyCode===18&&a.altKey||a.keyCode===16&&a.altKey||a.keyCode===10||a.keyCode===3)&&(v=!0),v&&(this.showSelectDropDown(),f.EventHelper.stop(u,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(d,u){b.equals(this.options,d)||(this.options=d,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((a,v)=>{this.selectElement.add(this.createOption(a.text,v,a.isDisabled)),typeof a.description=="string"&&(this._hasDetails=!0)})),u!==void 0&&(this.select(u),this._currentSelection=this.selected)}setOptionsList(){var d;(d=this.selectList)===null||d===void 0||d.splice(0,this.selectList.length,this.options)}select(d){d>=0&&d<this.options.length?this.selected=d:d>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(d){this.selectElement.tabIndex=d?0:-1}render(d){this.container=d,d.classList.add("select-container"),d.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const d=[];this.styles.listFocusBackground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(d.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),d.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),d.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(d.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),d.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),d.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),d.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=d.join(`
`)}styleSelectElement(){var d,u,a;const v=(d=this.styles.selectBackground)!==null&&d!==void 0?d:"",h=(u=this.styles.selectForeground)!==null&&u!==void 0?u:"",p=(a=this.styles.selectBorder)!==null&&a!==void 0?a:"";this.selectElement.style.backgroundColor=v,this.selectElement.style.color=h,this.selectElement.style.borderColor=p}styleList(){var d,u;const a=(d=this.styles.selectBackground)!==null&&d!==void 0?d:"",v=f.asCssValueWithDefault(this.styles.selectListBackground,a);this.selectDropDownListContainer.style.backgroundColor=v,this.selectionDetailsPane.style.backgroundColor=v;const h=(u=this.styles.focusBorder)!==null&&u!==void 0?u:"";this.selectDropDownContainer.style.outlineColor=h,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(d,u,a){const v=document.createElement("option");return v.value=d,v.text=d,v.disabled=!!a,v}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:d=>this.renderSelectDropDown(d,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:d=>this.renderSelectDropDown(d),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(d){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),d&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(d,u){return d.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(u),{dispose:()=>{try{d.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let d=0;return this.options.forEach((u,a)=>{this.updateDetail(a),this.selectionDetailsPane.offsetHeight>d&&(d=this.selectionDetailsPane.offsetHeight)}),d}layoutSelectDropDown(d){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const u=f.getWindow(this.selectElement),a=f.getDomNodePagePosition(this.selectElement),v=f.getWindow(this.selectElement).getComputedStyle(this.selectElement),h=parseFloat(v.getPropertyValue("--dropdown-padding-top"))+parseFloat(v.getPropertyValue("--dropdown-padding-bottom")),p=u.innerHeight-a.top-a.height-(this.selectBoxOptions.minBottomMargin||0),_=a.top-l.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,S=this.selectElement.offsetWidth,E=this.setWidthControlElement(this.widthControlElement),I=Math.max(E,Math.round(S)).toString()+"px";this.selectDropDownContainer.style.width=I,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let T=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const N=this._hasDetails?this._cachedMaxDetailsHeight:0,A=T+h+N,R=Math.floor((p-h-N)/this.getHeight()),M=Math.floor((_-h-N)/this.getHeight());if(d)return a.top+a.height>u.innerHeight-22||a.top<l.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||R<1&&M<1?!1:(R<l.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&M>R&&this.options.length>R?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(a.top+a.height>u.innerHeight-22||a.top<l.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&R<1||this._dropDownPosition===1&&M<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&R+M<1)return this.hideSelectDropDown(!0),!1;A>p&&(T=R*this.getHeight())}else A>_&&(T=M*this.getHeight());return this.selectList.layout(T),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=T+h+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=T+h+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=I,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(d){let u=0;if(d){let a=0,v=0;this.options.forEach((h,p)=>{const _=h.detail?h.detail.length:0,S=h.decoratorRight?h.decoratorRight.length:0,E=h.text.length+_+S;E>v&&(a=p,v=E)}),d.textContent=this.options[a].text+(this.options[a].decoratorRight?this.options[a].decoratorRight+" ":""),u=f.getTotalWidth(d)}return u}createSelectList(d){if(this.selectList)return;this.selectDropDownListContainer=f.append(d,s(".select-box-dropdown-list-container")),this.listRenderer=new g,this.selectList=new w.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:v=>{let h=v.text;return v.detail&&(h+=`. ${v.detail}`),v.decoratorRight&&(h+=`. ${v.decoratorRight}`),v.description&&(h+=`. ${v.description}`),h},getWidgetAriaLabel:()=>(0,t.localize)(0,null),getRole:()=>i.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const u=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),a=C.Event.chain(u.event,v=>v.filter(()=>this.selectList.length>0).map(h=>new L.StandardKeyboardEvent(h)));this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===3))(this.onEnter,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===2))(this.onEnter,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===9))(this.onEscape,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===16))(this.onUpArrow,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===18))(this.onDownArrow,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===12))(this.onPageDown,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===11))(this.onPageUp,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===14))(this.onHome,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode===13))(this.onEnd,this)),this._register(C.Event.chain(a,v=>v.filter(h=>h.keyCode>=21&&h.keyCode<=56||h.keyCode>=85&&h.keyCode<=113))(this.onCharacter,this)),this._register(f.addDisposableListener(this.selectList.getHTMLElement(),f.EventType.POINTER_UP,v=>this.onPointerUp(v))),this._register(this.selectList.onMouseOver(v=>typeof v.index<"u"&&this.selectList.setFocus([v.index]))),this._register(this.selectList.onDidChangeFocus(v=>this.onListFocus(v))),this._register(f.addDisposableListener(this.selectDropDownContainer,f.EventType.FOCUS_OUT,v=>{!this._isVisible||f.isAncestor(v.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(d){if(!this.selectList.length)return;f.EventHelper.stop(d);const u=d.target;if(!u||u.classList.contains("slider"))return;const a=u.closest(".monaco-list-row");if(!a)return;const v=Number(a.getAttribute("data-index")),h=a.classList.contains("option-disabled");v>=0&&v<this.options.length&&!h&&(this.selected=v,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(d,u){const a=h=>{for(let p=0;p<h.childNodes.length;p++){const _=h.childNodes.item(p);(_.tagName&&_.tagName.toLowerCase())==="img"?h.removeChild(_):a(_)}},v=(0,D.renderMarkdown)({value:d,supportThemeIcons:!0},{actionHandler:u});return v.element.classList.add("select-box-description-markdown"),a(v.element),v.element}onListFocus(d){!this._isVisible||!this._hasDetails||this.updateDetail(d.indexes[0])}updateDetail(d){var u,a;this.selectionDetailsPane.innerText="";const v=this.options[d],h=(u=v?.description)!==null&&u!==void 0?u:"",p=(a=v?.descriptionIsMarkdown)!==null&&a!==void 0?a:!1;if(h){if(p){const _=v.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(h,_))}else this.selectionDetailsPane.innerText=h;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(d){f.EventHelper.stop(d),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(d){f.EventHelper.stop(d),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(d){if(this.selected<this.options.length-1){f.EventHelper.stop(d,!0);const u=this.options[this.selected+1].isDisabled;if(u&&this.options.length>this.selected+2)this.selected+=2;else{if(u)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(d){this.selected>0&&(f.EventHelper.stop(d,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(d){f.EventHelper.stop(d),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(d){f.EventHelper.stop(d),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(d){f.EventHelper.stop(d),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(d){f.EventHelper.stop(d),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(d){const u=o.KeyCodeUtils.toString(d.keyCode);let a=-1;for(let v=0;v<this.options.length-1;v++)if(a=(v+this.selected+1)%this.options.length,this.options[a].text.charAt(0).toUpperCase()===u&&!this.options[a].isDisabled){this.select(a),this.selectList.setFocus([a]),this.selectList.reveal(this.selectList.getFocus()[0]),f.EventHelper.stop(d);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=l,l.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,l.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,l.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(ne[634],se([1,0,633,628,80,17,454]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class y extends L.Widget{constructor(w,b,C,o,n){super(),D.isMacintosh&&!n?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(w,b,o,n):this.selectBoxDelegate=new f.SelectBoxList(w,b,C,o,n),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(w,b){this.selectBoxDelegate.setOptions(w,b)}select(w){this.selectBoxDelegate.select(w)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(w){this.selectBoxDelegate.setFocusable(w)}render(w){this.selectBoxDelegate.render(w)}}e.SelectBox=y}),define(ne[147],se([1,0,66,219,6,69,44,634,41,2,17,20,605,77,296]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends b.Disposable{get action(){return this._action}constructor(l,r,d={}){super(),this.options=d,this._context=l||this,this._action=r,r instanceof w.Action&&this._register(r.onDidChange(u=>{this.element&&this.handleActionChangeEvent(u)}))}handleActionChangeEvent(l){l.enabled!==void 0&&this.updateEnabled(),l.checked!==void 0&&this.updateChecked(),l.class!==void 0&&this.updateClass(),l.label!==void 0&&(this.updateLabel(),this.updateTooltip()),l.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new w.ActionRunner)),this._actionRunner}set actionRunner(l){this._actionRunner=l}isEnabled(){return this._action.enabled}setActionContext(l){this._context=l}render(l){const r=this.element=l;this._register(D.Gesture.addTarget(l));const d=this.options&&this.options.draggable;d&&(l.draggable=!0,f.isFirefox&&this._register((0,L.addDisposableListener)(l,L.EventType.DRAG_START,u=>{var a;return(a=u.dataTransfer)===null||a===void 0?void 0:a.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,L.addDisposableListener)(r,D.EventType.Tap,u=>this.onClick(u,!0))),this._register((0,L.addDisposableListener)(r,L.EventType.MOUSE_DOWN,u=>{d||L.EventHelper.stop(u,!0),this._action.enabled&&u.button===0&&r.classList.add("active")})),C.isMacintosh&&this._register((0,L.addDisposableListener)(r,L.EventType.CONTEXT_MENU,u=>{u.button===0&&u.ctrlKey===!0&&this.onClick(u)})),this._register((0,L.addDisposableListener)(r,L.EventType.CLICK,u=>{L.EventHelper.stop(u,!0),this.options&&this.options.isMenu||this.onClick(u)})),this._register((0,L.addDisposableListener)(r,L.EventType.DBLCLICK,u=>{L.EventHelper.stop(u,!0)})),[L.EventType.MOUSE_UP,L.EventType.MOUSE_OUT].forEach(u=>{this._register((0,L.addDisposableListener)(r,u,a=>{L.EventHelper.stop(a),r.classList.remove("active")}))})}onClick(l,r=!1){var d;L.EventHelper.stop(l,!0);const u=o.isUndefinedOrNull(this._context)?!((d=this.options)===null||d===void 0)&&d.useEventAsContext?l:{preserveFocus:r}:this._context;this.actionRunner.run(this._action,u)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(l){this.element&&(this.element.tabIndex=l?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var l,r,d;if(!this.element)return;const u=(l=this.getTooltip())!==null&&l!==void 0?l:"";if(this.updateAriaLabel(),!((r=this.options.hoverDelegate)===null||r===void 0)&&r.showNativeHover)this.element.title=u;else if(!this.customHover&&u!==""){const a=(d=this.options.hoverDelegate)!==null&&d!==void 0?d:(0,y.getDefaultHoverDelegate)("element");this.customHover=this._store.add((0,i.getBaseLayerHoverDelegate)().setupUpdatableHover(a,this.element,u))}else this.customHover&&this.customHover.update(u)}updateAriaLabel(){var l;if(this.element){const r=(l=this.getTooltip())!==null&&l!==void 0?l:"";this.element.setAttribute("aria-label",r)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=t;class s extends t{constructor(l,r,d){super(l,r,d),this.options=d,this.options.icon=d.icon!==void 0?d.icon:!1,this.options.label=d.label!==void 0?d.label:!0,this.cssClass=""}render(l){super.render(l),o.assertType(this.element);const r=document.createElement("a");if(r.classList.add("action-label"),r.setAttribute("role",this.getDefaultAriaRole()),this.label=r,this.element.appendChild(r),this.options.label&&this.options.keybinding){const d=document.createElement("span");d.classList.add("keybinding"),d.textContent=this.options.keybinding,this.element.appendChild(d)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===w.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(l){this.label&&(this.label.tabIndex=l?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let l=null;return this.action.tooltip?l=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(l=this.action.label,this.options.keybinding&&(l=n.localize(0,null,l,this.options.keybinding))),l??void 0}updateClass(){var l;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(l=this.label)===null||l===void 0||l.classList.remove("codicon")}updateEnabled(){var l,r;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(l=this.element)===null||l===void 0||l.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(r=this.element)===null||r===void 0||r.classList.add("disabled"))}updateAriaLabel(){var l;if(this.label){const r=(l=this.getTooltip())!==null&&l!==void 0?l:"";this.label.setAttribute("aria-label",r)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=s;class c extends t{constructor(l,r,d,u,a,v,h){super(l,r),this.selectBox=new m.SelectBox(d,u,a,v,h),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(l){this.selectBox.select(l)}registerListeners(){this._register(this.selectBox.onDidSelect(l=>this.runAction(l.selected,l.index)))}runAction(l,r){this.actionRunner.run(this._action,this.getActionContext(l,r))}getActionContext(l,r){return l}setFocusable(l){this.selectBox.setFocusable(l)}focus(){var l;(l=this.selectBox)===null||l===void 0||l.focus()}blur(){var l;(l=this.selectBox)===null||l===void 0||l.blur()}render(l){this.selectBox.render(l)}}e.SelectActionViewItem=c}),define(ne[82],se([1,0,6,46,147,44,41,7,2,20,296]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class C extends w.Disposable{constructor(n,i={}){var t,s,c,g,l,r,d;super(),this._actionRunnerDisposables=this._register(new w.DisposableStore),this.viewItemDisposables=this._register(new w.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new m.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new m.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new m.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new m.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(t=i.context)!==null&&t!==void 0?t:null,this._orientation=(s=this.options.orientation)!==null&&s!==void 0?s:0,this._triggerKeys={keyDown:(g=(c=this.options.triggerKeys)===null||c===void 0?void 0:c.keyDown)!==null&&g!==void 0?g:!1,keys:(r=(l=this.options.triggerKeys)===null||l===void 0?void 0:l.keys)!==null&&r!==void 0?r:[3,10]},this._hoverDelegate=(d=i.hoverDelegate)!==null&&d!==void 0?d:this._register((0,D.createInstantHoverDelegate)()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new y.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(v=>this._onDidRun.fire(v))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(v=>this._onWillRun.fire(v))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let u,a;switch(this._orientation){case 0:u=[15],a=[17];break;case 1:u=[16],a=[18],this.domNode.className+=" vertical";break}this._register(f.addDisposableListener(this.domNode,f.EventType.KEY_DOWN,v=>{const h=new k.StandardKeyboardEvent(v);let p=!0;const _=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;u&&(h.equals(u[0])||h.equals(u[1]))?p=this.focusPrevious():a&&(h.equals(a[0])||h.equals(a[1]))?p=this.focusNext():h.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():h.equals(14)?p=this.focusFirst():h.equals(13)?p=this.focusLast():h.equals(2)&&_ instanceof L.BaseActionViewItem&&_.trapsArrowNavigation?p=this.focusNext():this.isTriggerKeyEvent(h)?this._triggerKeys.keyDown?this.doTrigger(h):this.triggerKeyDown=!0:p=!1,p&&(h.preventDefault(),h.stopPropagation())})),this._register(f.addDisposableListener(this.domNode,f.EventType.KEY_UP,v=>{const h=new k.StandardKeyboardEvent(v);this.isTriggerKeyEvent(h)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(h)),h.preventDefault(),h.stopPropagation()):(h.equals(2)||h.equals(1026)||h.equals(16)||h.equals(18)||h.equals(15)||h.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(f.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(f.getActiveElement()===this.domNode||!f.isAncestor(f.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),n.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(n){if(this.focusable=n,this.focusable){const i=this.viewItems.find(t=>t instanceof L.BaseActionViewItem&&t.isEnabled());i instanceof L.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof L.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(n){let i=!1;return this._triggerKeys.keys.forEach(t=>{i=i||n.equals(t)}),i}updateFocusedItem(){var n,i;for(let t=0;t<this.actionsList.children.length;t++){const s=this.actionsList.children[t];if(f.isAncestor(f.getActiveElement(),s)){this.focusedItem=t,(i=(n=this.viewItems[this.focusedItem])===null||n===void 0?void 0:n.showHover)===null||i===void 0||i.call(n);break}}}get context(){return this._context}set context(n){this._context=n,this.viewItems.forEach(i=>i.setActionContext(n))}get actionRunner(){return this._actionRunner}set actionRunner(n){this._actionRunner=n,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=n)}getContainer(){return this.domNode}getAction(n){var i;if(typeof n=="number")return(i=this.viewItems[n])===null||i===void 0?void 0:i.action;if(f.isHTMLElement(n)){for(;n.parentElement!==this.actionsList;){if(!n.parentElement)return;n=n.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===n)return this.viewItems[t].action}}push(n,i={}){const t=Array.isArray(n)?n:[n];let s=b.isNumber(i.index)?i.index:null;t.forEach(c=>{const g=document.createElement("li");g.className="action-item",g.setAttribute("role","presentation");let l;const r={hoverDelegate:this._hoverDelegate,...i};this.options.actionViewItemProvider&&(l=this.options.actionViewItemProvider(c,r)),l||(l=new L.ActionViewItem(this.context,c,r)),this.options.allowContextMenu||this.viewItemDisposables.set(l,f.addDisposableListener(g,f.EventType.CONTEXT_MENU,d=>{f.EventHelper.stop(d,!0)})),l.actionRunner=this._actionRunner,l.setActionContext(this.context),l.render(g),this.focusable&&l instanceof L.BaseActionViewItem&&this.viewItems.length===0&&l.setFocusable(!0),s===null||s<0||s>=this.actionsList.children.length?(this.actionsList.appendChild(g),this.viewItems.push(l)):(this.actionsList.insertBefore(g,this.actionsList.children[s]),this.viewItems.splice(s,0,l),s++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,w.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),f.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(n){let i=!1,t;if(n===void 0?i=!0:typeof n=="number"?t=n:typeof n=="boolean"&&(i=n),i&&typeof this.focusedItem>"u"){const s=this.viewItems.findIndex(c=>c.isEnabled());this.focusedItem=s===-1?void 0:s,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(n){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(!n&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===y.Separator.ID));return this.updateFocus(),!0}focusPrevious(n){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!n&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===y.Separator.ID));return this.updateFocus(!0),!0}updateFocus(n,i,t=!1){var s,c;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((s=this.viewItems[this.previouslyFocusedItem])===null||s===void 0||s.blur());const g=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(g){let l=!0;b.isFunction(g.focus)||(l=!1),this.options.focusOnlyEnabledItems&&b.isFunction(g.isEnabled)&&!g.isEnabled()&&(l=!1),g.action.id===y.Separator.ID&&(l=!1),l?(t||this.previouslyFocusedItem!==this.focusedItem)&&(g.focus(n),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0),l&&((c=g.showHover)===null||c===void 0||c.call(g))}}doTrigger(n){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof L.BaseActionViewItem){const t=i._context===null||i._context===void 0?n:i._context;this.run(i._action,t)}}async run(n,i){await this._actionRunner.run(n,i)}dispose(){this._context=void 0,this.viewItems=(0,w.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=C}),define(ne[349],se([1,0,6,147,625,7,44,77,297]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class w extends k.BaseActionViewItem{constructor(C,o,n,i=Object.create(null)){super(null,C,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=o,this.contextMenuProvider=n,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const o=t=>{var s;this.element=(0,f.append)(t,(0,f.$)("a.action-label"));let c=[];return typeof this.options.classNames=="string"?c=this.options.classNames.split(/\s+/g).filter(g=>!!g):this.options.classNames&&(c=this.options.classNames),c.find(g=>g==="icon")||c.push("codicon"),this.element.classList.add(...c),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register((0,m.getBaseLayerHoverDelegate)().setupUpdatableHover((s=this.options.hoverDelegate)!==null&&s!==void 0?s:(0,y.getDefaultHoverDelegate)("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},n=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:o,menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new L.DropdownMenu(C,i)),this._register(this.dropdownMenu.onDidChangeVisibility(t=>{var s;(s=this.element)===null||s===void 0||s.setAttribute("aria-expanded",`${t}`),this._onDidChangeVisibility.fire(t)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const t=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return t.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let C=null;return this.action.tooltip?C=this.action.tooltip:this.action.label&&(C=this.action.label),C??void 0}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}show(){var C;(C=this.dropdownMenu)===null||C===void 0||C.show()}updateEnabled(){var C,o;const n=!this.action.enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",n),(o=this.element)===null||o===void 0||o.classList.toggle("disabled",n)}}e.DropdownMenuActionViewItem=w}),define(ne[255],se([1,0,6,89,342,82,48,77,44,81,80,7,434,55,610,448]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const s=f.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class c extends C.Widget{constructor(r,d,u){var a;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new o.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new o.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=d,this.options=u,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(a=this.options.tooltip)!==null&&a!==void 0?a:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=f.append(r,s(".monaco-inputbox.idle"));const v=this.options.flexibleHeight?"textarea":"input",h=f.append(this.element,s(".ibwrapper"));if(this.input=f.append(h,s(v+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=f.append(h,s("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),f.append(r,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(S=>this.input.scrollTop=S.scrollTop));const p=this._register(new k.DomEmitter(r.ownerDocument,"selectionchange")),_=o.Event.filter(p.event,()=>{const S=r.ownerDocument.getSelection();return S?.anchorNode===h});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(r){this.placeholder=r,this.input.setAttribute("placeholder",r)}setTooltip(r){this.tooltip=r,this.hover?this.hover.update(r):this.hover=this._register((0,m.getBaseLayerHoverDelegate)().setupUpdatableHover((0,w.getDefaultHoverDelegate)("mouse"),this.input,r))}get inputElement(){return this.input}get value(){return this.input.value}set value(r){this.input.value!==r&&(this.input.value=r,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:f.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return f.isActiveElement(this.input)}select(r=null){this.input.select(),r&&(this.input.setSelectionRange(r.start,r.end),r.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){var r;const d=this.input.selectionStart;if(d===null)return null;const u=(r=this.input.selectionEnd)!==null&&r!==void 0?r:d;return{start:d,end:u}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(r){this.input.style.width=`calc(100% - ${r}px)`,this.mirror&&(this.mirror.style.paddingRight=r+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const r=this.cachedContentHeight,d=this.cachedHeight,u=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:r,height:d}),this.scrollableElement.setScrollPosition({scrollTop:u})}showMessage(r,d){if(this.state==="open"&&(0,i.equals)(this.message,r))return;this.message=r,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(r.type));const u=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${f.asCssValueWithDefault(u.border,"transparent")}`,this.message.content&&(this.hasFocus()||d)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let r=null;return this.validation&&(r=this.validation(this.value),r?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(r)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),r?.type}stylesForType(r){const d=this.options.inputBoxStyles;switch(r){case 1:return{border:d.inputValidationInfoBorder,background:d.inputValidationInfoBackground,foreground:d.inputValidationInfoForeground};case 2:return{border:d.inputValidationWarningBorder,background:d.inputValidationWarningBackground,foreground:d.inputValidationWarningForeground};default:return{border:d.inputValidationErrorBorder,background:d.inputValidationErrorBackground,foreground:d.inputValidationErrorForeground}}}classForType(r){switch(r){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let r;const d=()=>r.style.width=f.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:a=>{var v,h;if(!this.message)return null;r=f.append(a,s(".monaco-inputbox-container")),d();const p={inline:!0,className:"monaco-inputbox-message"},_=this.message.formatContent?(0,L.renderFormattedText)(this.message.content,p):(0,L.renderText)(this.message.content,p);_.classList.add(this.classForType(this.message.type));const S=this.stylesForType(this.message.type);return _.style.backgroundColor=(v=S.background)!==null&&v!==void 0?v:"",_.style.color=(h=S.foreground)!==null&&h!==void 0?h:"",_.style.border=S.border?`1px solid ${S.border}`:"",f.append(r,_),null},onHide:()=>{this.state="closed"},layout:d});let u;this.message.type===3?u=t.localize(0,null,this.message.content):this.message.type===2?u=t.localize(1,null,this.message.content):u=t.localize(2,null,this.message.content),y.alert(u),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const r=this.value,u=r.charCodeAt(r.length-1)===10?" ":"";(r+u).replace(/\u000c/g,"")?this.mirror.textContent=r+u:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var r,d,u;const a=this.options.inputBoxStyles,v=(r=a.inputBackground)!==null&&r!==void 0?r:"",h=(d=a.inputForeground)!==null&&d!==void 0?d:"",p=(u=a.inputBorder)!==null&&u!==void 0?u:"";this.element.style.backgroundColor=v,this.element.style.color=h,this.input.style.backgroundColor="inherit",this.input.style.color=h,this.element.style.border=`1px solid ${f.asCssValueWithDefault(p,"transparent")}`}layout(){if(!this.mirror)return;const r=this.cachedContentHeight;this.cachedContentHeight=f.getTotalHeight(this.mirror),r!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(r){const d=this.inputElement,u=d.selectionStart,a=d.selectionEnd,v=d.value;u!==null&&a!==null&&(this.value=v.substr(0,u)+r+v.substr(a),d.setSelectionRange(u+1,u+1),this.layout())}dispose(){var r;this._hideMessage(),this.message=null,(r=this.actionbar)===null||r===void 0||r.dispose(),super.dispose()}}e.InputBox=c;class g extends c{constructor(r,d,u){const a=t.localize(3,null,"\u21C5"),v=t.localize(4,null,"\u21C5");super(r,d,u),this._onDidFocus=this._register(new o.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new o.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new n.HistoryNavigator(u.history,100);const h=()=>{if(u.showHistoryHint&&u.showHistoryHint()&&!this.placeholder.endsWith(a)&&!this.placeholder.endsWith(v)&&this.history.getHistory().length){const p=this.placeholder.endsWith(")")?a:v,_=this.placeholder+p;u.showPlaceholderOnFocus&&!f.isActiveElement(this.input)?this.placeholder=_:this.setPlaceHolder(_)}};this.observer=new MutationObserver((p,_)=>{p.forEach(S=>{S.target.textContent||h()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>h()),this.onblur(this.input,()=>{const p=_=>{if(this.placeholder.endsWith(_)){const S=this.placeholder.slice(0,this.placeholder.length-_.length);return u.showPlaceholderOnFocus?this.placeholder=S:this.setPlaceHolder(S),!0}else return!1};p(v)||p(a)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(r){this.value&&(r||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let r=this.getNextValue();r&&(r=r===this.value?this.getNextValue():r),this.value=r??"",y.status(this.value?this.value:t.localize(5,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let r=this.getPreviousValue();r&&(r=r===this.value?this.getPreviousValue():r),r&&(this.value=r,y.status(this.value))}setPlaceHolder(r){super.setPlaceHolder(r),this.setTooltip(r)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let r=this.history.current();return r||(r=this.history.last(),this.history.next()),r}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=g}),define(ne[256],se([1,0,6,348,255,80,7,606,2,44,298]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const C=m.localize(0,null);class o extends D.Widget{constructor(i,t,s){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new w.MutableDisposable),this.additionalToggles=[],this._onDidOptionChange=this._register(new y.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new y.Emitter),this._onKeyUp=this._register(new y.Emitter),this._onCaseSensitiveKeyDown=this._register(new y.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new y.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||C,this.showCommonFindToggles=!!s.showCommonFindToggles;const c=s.appendCaseSensitiveLabel||"",g=s.appendWholeWordsLabel||"",l=s.appendRegexLabel||"",r=s.history||[],d=!!s.flexibleHeight,u=!!s.flexibleWidth,a=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new L.HistoryInputBox(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:s.showHistoryHint,flexibleHeight:d,flexibleWidth:u,flexibleMaxHeight:a,inputBoxStyles:s.inputBoxStyles}));const v=this._register((0,b.createInstantHoverDelegate)());if(this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle({appendTitle:l,isChecked:!1,hoverDelegate:v,...s.toggleStyles})),this._register(this.regex.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(p=>{this._onRegexKeyDown.fire(p)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:g,isChecked:!1,hoverDelegate:v,...s.toggleStyles})),this._register(this.wholeWords.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:c,isChecked:!1,hoverDelegate:v,...s.toggleStyles})),this._register(this.caseSensitive.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(p=>{this._onCaseSensitiveKeyDown.fire(p)}));const h=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){const _=h.indexOf(this.domNode.ownerDocument.activeElement);if(_>=0){let S=-1;p.equals(17)?S=(_+1)%h.length:p.equals(15)&&(_===0?S=h.length-1:S=_-1),p.equals(9)?(h[_].blur(),this.inputBox.focus()):S>=0&&h[S].focus(),f.EventHelper.stop(p,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(s?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),i?.appendChild(this.domNode),this._register(f.addDisposableListener(this.inputBox.inputElement,"compositionstart",h=>{this.imeSessionInProgress=!0})),this._register(f.addDisposableListener(this.inputBox.inputElement,"compositionend",h=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}get onDidChange(){return this.inputBox.onDidChange}layout(i){this.inputBox.layout(),this.updateInputBoxPadding(i.collapsedFindWidget)}enable(){var i,t,s;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(i=this.regex)===null||i===void 0||i.enable(),(t=this.wholeWords)===null||t===void 0||t.enable(),(s=this.caseSensitive)===null||s===void 0||s.enable();for(const c of this.additionalToggles)c.enable()}disable(){var i,t,s;this.domNode.classList.add("disabled"),this.inputBox.disable(),(i=this.regex)===null||i===void 0||i.disable(),(t=this.wholeWords)===null||t===void 0||t.disable(),(s=this.caseSensitive)===null||s===void 0||s.disable();for(const c of this.additionalToggles)c.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new w.DisposableStore;for(const t of i??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(s=>{this._onDidOptionChange.fire(s),!s&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(i=!1){var t,s,c,g,l,r;i?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((s=(t=this.caseSensitive)===null||t===void 0?void 0:t.width())!==null&&s!==void 0?s:0)+((g=(c=this.wholeWords)===null||c===void 0?void 0:c.width())!==null&&g!==void 0?g:0)+((r=(l=this.regex)===null||l===void 0?void 0:l.width())!==null&&r!==void 0?r:0)+this.additionalToggles.reduce((d,u)=>d+u.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var i,t;return(t=(i=this.caseSensitive)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setCaseSensitive(i){this.caseSensitive&&(this.caseSensitive.checked=i)}getWholeWords(){var i,t;return(t=(i=this.wholeWords)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setWholeWords(i){this.wholeWords&&(this.wholeWords.checked=i)}getRegex(){var i,t;return(t=(i=this.regex)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setRegex(i){this.regex&&(this.regex.checked=i,this.validate())}focusOnCaseSensitive(){var i;(i=this.caseSensitive)===null||i===void 0||i.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=o}),define(ne[635],se([1,0,6,170,255,80,26,7,608,44,298]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const C=w.localize(0,null),o=w.localize(1,null);class n extends k.Toggle{constructor(s){var c;super({icon:y.Codicon.preserveCase,title:o+s.appendTitle,isChecked:s.isChecked,hoverDelegate:(c=s.hoverDelegate)!==null&&c!==void 0?c:(0,b.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}class i extends D.Widget{constructor(s,c,g,l){super(),this._showOptionButtons=g,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new m.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new m.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new m.Emitter),this._onInput=this._register(new m.Emitter),this._onKeyUp=this._register(new m.Emitter),this._onPreserveCaseKeyDown=this._register(new m.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=c,this.placeholder=l.placeholder||"",this.validation=l.validation,this.label=l.label||C;const r=l.appendPreserveCaseLabel||"",d=l.history||[],u=!!l.flexibleHeight,a=!!l.flexibleWidth,v=l.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new L.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:d,showHistoryHint:l.showHistoryHint,flexibleHeight:u,flexibleWidth:a,flexibleMaxHeight:v,inputBoxStyles:l.inputBoxStyles})),this.preserveCase=this._register(new n({appendTitle:r,isChecked:!1,...l.toggleStyles})),this._register(this.preserveCase.onChange(_=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(_=>{this._onPreserveCaseKeyDown.fire(_)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const h=[this.preserveCase.domNode];this.onkeydown(this.domNode,_=>{if(_.equals(15)||_.equals(17)||_.equals(9)){const S=h.indexOf(this.domNode.ownerDocument.activeElement);if(S>=0){let E=-1;_.equals(17)?E=(S+1)%h.length:_.equals(15)&&(S===0?E=h.length-1:E=S-1),_.equals(9)?(h[S].blur(),this.inputBox.focus()):E>=0&&h[E].focus(),f.EventHelper.stop(_,!0)}}});const p=document.createElement("div");p.className="controls",p.style.display=this._showOptionButtons?"block":"none",p.appendChild(this.preserveCase.domNode),this.domNode.appendChild(p),s?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,_=>this._onKeyDown.fire(_)),this.onkeyup(this.inputBox.inputElement,_=>this._onKeyUp.fire(_)),this.oninput(this.inputBox.inputElement,_=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,_=>this._onMouseDown.fire(_))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(s){s?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(s){this.preserveCase.checked=s}focusOnPreserve(){this.preserveCase.focus()}validate(){var s;(s=this.inputBox)===null||s===void 0||s.validate()}set width(s){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=s+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(ne[636],se([1,0,66,69,6,46,74,82,147,343,81,41,15,26,187,31,138,2,17,11]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=e.VerticalDirection=e.HorizontalDirection=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.cleanMnemonic=_,e.formatRule=S,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var d;(function(I){I[I.Right=0]="Right",I[I.Left=1]="Left"})(d||(e.HorizontalDirection=d={}));var u;(function(I){I[I.Above=0]="Above",I[I.Below=1]="Below"})(u||(e.VerticalDirection=u={}));class a extends m.ActionBar{constructor(T,N,A,R){T.classList.add("monaco-menu-container"),T.setAttribute("role","presentation");const M=document.createElement("div");M.classList.add("monaco-menu"),M.setAttribute("role","presentation"),super(M,{orientation:1,actionViewItemProvider:B=>this.doGetActionViewItem(B,A,P),context:A.context,actionRunner:A.actionRunner,ariaLabel:A.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...l.isMacintosh||l.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=R,this.menuElement=M,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(T,R),this._register(k.Gesture.addTarget(M)),this._register((0,L.addDisposableListener)(M,L.EventType.KEY_DOWN,B=>{new D.StandardKeyboardEvent(B).equals(2)&&B.preventDefault()})),A.enableMnemonics&&this._register((0,L.addDisposableListener)(M,L.EventType.KEY_DOWN,B=>{const V=B.key.toLocaleLowerCase();if(this.mnemonics.has(V)){L.EventHelper.stop(B,!0);const K=this.mnemonics.get(V);if(K.length===1&&(K[0]instanceof h&&K[0].container&&this.focusItemByElement(K[0].container),K[0].onClick(B)),K.length>1){const U=K.shift();U&&U.container&&(this.focusItemByElement(U.container),K.push(U)),this.mnemonics.set(V,K)}}})),l.isLinux&&this._register((0,L.addDisposableListener)(M,L.EventType.KEY_DOWN,B=>{const V=new D.StandardKeyboardEvent(B);V.equals(14)||V.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),L.EventHelper.stop(B,!0)):(V.equals(13)||V.equals(12))&&(this.focusedItem=0,this.focusPrevious(),L.EventHelper.stop(B,!0))})),this._register((0,L.addDisposableListener)(this.domNode,L.EventType.MOUSE_OUT,B=>{const V=B.relatedTarget;(0,L.isAncestor)(V,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),B.stopPropagation())})),this._register((0,L.addDisposableListener)(this.actionsList,L.EventType.MOUSE_OVER,B=>{let V=B.target;if(!(!V||!(0,L.isAncestor)(V,this.actionsList)||V===this.actionsList)){for(;V.parentElement!==this.actionsList&&V.parentElement!==null;)V=V.parentElement;if(V.classList.contains("action-item")){const K=this.focusedItem;this.setFocusedItem(V),K!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,L.addDisposableListener)(this.actionsList,k.EventType.Tap,B=>{let V=B.initialTarget;if(!(!V||!(0,L.isAncestor)(V,this.actionsList)||V===this.actionsList)){for(;V.parentElement!==this.actionsList&&V.parentElement!==null;)V=V.parentElement;if(V.classList.contains("action-item")){const K=this.focusedItem;this.setFocusedItem(V),K!==this.focusedItem&&this.updateFocus()}}}));const P={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new C.DomScrollableElement(M,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const F=this.scrollableElement.getDomNode();F.style.position="",this.styleScrollElement(F,R),this._register((0,L.addDisposableListener)(M,k.EventType.Change,B=>{L.EventHelper.stop(B,!0);const V=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:V-B.translationY})})),this._register((0,L.addDisposableListener)(F,L.EventType.MOUSE_UP,B=>{B.preventDefault()}));const O=(0,L.getWindow)(T);M.style.maxHeight=`${Math.max(10,O.innerHeight-T.getBoundingClientRect().top-35)}px`,N=N.filter((B,V)=>{var K;return!((K=A.submenuIds)===null||K===void 0)&&K.has(B.id)?(console.warn(`Found submenu cycle: ${B.id}`),!1):!(B instanceof o.Separator&&(V===N.length-1||V===0||N[V-1]instanceof o.Separator))}),this.push(N,{icon:!0,label:!0,isMenu:!0}),T.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(B=>!(B instanceof p)).forEach((B,V,K)=>{B.updatePositionInSet(V+1,K.length)})}initializeOrUpdateStyleSheet(T,N){this.styleSheet||((0,L.isInShadowDOM)(T)?this.styleSheet=(0,L.createStyleSheet)(T):(a.globalStyleSheet||(a.globalStyleSheet=(0,L.createStyleSheet)()),this.styleSheet=a.globalStyleSheet)),this.styleSheet.textContent=E(N,(0,L.isInShadowDOM)(T))}styleScrollElement(T,N){var A,R;const M=(A=N.foregroundColor)!==null&&A!==void 0?A:"",P=(R=N.backgroundColor)!==null&&R!==void 0?R:"",F=N.borderColor?`1px solid ${N.borderColor}`:"",O="5px",B=N.shadowColor?`0 2px 8px ${N.shadowColor}`:"";T.style.outline=F,T.style.borderRadius=O,T.style.color=M,T.style.backgroundColor=P,T.style.boxShadow=B}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(T){const N=this.focusedItem;this.setFocusedItem(T),N!==this.focusedItem&&this.updateFocus()}setFocusedItem(T){for(let N=0;N<this.actionsList.children.length;N++){const A=this.actionsList.children[N];if(T===A){this.focusedItem=N;break}}}updateFocus(T){super.updateFocus(T,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(T,N,A){if(T instanceof o.Separator)return new p(N.context,T,{icon:!0},this.menuStyles);if(T instanceof o.SubmenuAction){const R=new h(T,T.actions,A,{...N,submenuIds:new Set([...N.submenuIds||[],T.id])},this.menuStyles);if(N.enableMnemonics){const M=R.getMnemonic();if(M&&R.isEnabled()){let P=[];this.mnemonics.has(M)&&(P=this.mnemonics.get(M)),P.push(R),this.mnemonics.set(M,P)}}return R}else{const R={enableMnemonics:N.enableMnemonics,useEventAsContext:N.useEventAsContext};if(N.getKeyBinding){const P=N.getKeyBinding(T);if(P){const F=P.getLabel();F&&(R.keybinding=F)}}const M=new v(N.context,T,R,this.menuStyles);if(N.enableMnemonics){const P=M.getMnemonic();if(P&&M.isEnabled()){let F=[];this.mnemonics.has(P)&&(F=this.mnemonics.get(P)),F.push(M),this.mnemonics.set(P,F)}}return M}}}e.Menu=a;class v extends w.BaseActionViewItem{constructor(T,N,A,R){if(A.isMenu=!0,super(N,N,A),this.menuStyle=R,this.options=A,this.options.icon=A.icon!==void 0?A.icon:!1,this.options.label=A.label!==void 0?A.label:!0,this.cssClass="",this.options.label&&A.enableMnemonics){const M=this.action.label;if(M){const P=e.MENU_MNEMONIC_REGEX.exec(M);P&&(this.mnemonic=(P[1]?P[1]:P[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new n.RunOnceScheduler(()=>{this.element&&(this._register((0,L.addDisposableListener)(this.element,L.EventType.MOUSE_UP,M=>{if(L.EventHelper.stop(M,!0),f.isFirefox){if(new y.StandardMouseEvent((0,L.getWindow)(this.element),M).rightButton)return;this.onClick(M)}else setTimeout(()=>{this.onClick(M)},0)})),this._register((0,L.addDisposableListener)(this.element,L.EventType.CONTEXT_MENU,M=>{L.EventHelper.stop(M,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(T){super.render(T),this.element&&(this.container=T,this.item=(0,L.append)(this.element,(0,L.$)("a.action-menu-item")),this._action.id===o.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,L.append)(this.item,(0,L.$)("span.menu-item-check"+s.ThemeIcon.asCSSSelector(i.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,L.append)(this.item,(0,L.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,L.append)(this.item,(0,L.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var T;super.focus(),(T=this.item)===null||T===void 0||T.focus(),this.applyStyle()}updatePositionInSet(T,N){this.item&&(this.item.setAttribute("aria-posinset",`${T}`),this.item.setAttribute("aria-setsize",`${N}`))}updateLabel(){var T;if(this.label&&this.options.label){(0,L.clearNode)(this.label);let N=(0,c.stripIcons)(this.action.label);if(N){const A=_(N);this.options.enableMnemonics||(N=A),this.label.setAttribute("aria-label",A.replace(/&&/g,"&"));const R=e.MENU_MNEMONIC_REGEX.exec(N);if(R){N=r.escape(N),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);for(;M&&M[1];)M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);const P=F=>F.replace(/&amp;&amp;/g,"&amp;");M?this.label.append(r.ltrim(P(N.substr(0,M.index))," "),(0,L.$)("u",{"aria-hidden":"true"},M[3]),r.rtrim(P(N.substr(M.index+M[0].length))," ")):this.label.innerText=P(N).trim(),(T=this.item)===null||T===void 0||T.setAttribute("aria-keyshortcuts",(R[1]?R[1]:R[3]).toLocaleLowerCase())}else this.label.innerText=N.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const T=this.action.checked;this.item.classList.toggle("checked",!!T),T!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",T?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const T=this.element&&this.element.classList.contains("focused"),N=T&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,A=T&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,R=T&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",M=T&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=N??"",this.item.style.backgroundColor=A??"",this.item.style.outline=R,this.item.style.outlineOffset=M),this.check&&(this.check.style.color=N??"")}}class h extends v{constructor(T,N,A,R,M){super(T,T,R,M),this.submenuActions=N,this.parentData=A,this.submenuOptions=R,this.mysubmenu=null,this.submenuDisposables=this._register(new g.DisposableStore),this.mouseOver=!1,this.expandDirection=R&&R.expandDirection!==void 0?R.expandDirection:{horizontal:d.Right,vertical:u.Below},this.showScheduler=new n.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new n.RunOnceScheduler(()=>{this.element&&!(0,L.isAncestor)((0,L.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(T){super.render(T),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,L.append)(this.item,(0,L.$)("span.submenu-indicator"+s.ThemeIcon.asCSSSelector(i.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,L.addDisposableListener)(this.element,L.EventType.KEY_UP,N=>{const A=new D.StandardKeyboardEvent(N);(A.equals(17)||A.equals(3))&&(L.EventHelper.stop(N,!0),this.createSubmenu(!0))})),this._register((0,L.addDisposableListener)(this.element,L.EventType.KEY_DOWN,N=>{const A=new D.StandardKeyboardEvent(N);(0,L.getActiveElement)()===this.item&&(A.equals(17)||A.equals(3))&&L.EventHelper.stop(N,!0)})),this._register((0,L.addDisposableListener)(this.element,L.EventType.MOUSE_OVER,N=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,L.addDisposableListener)(this.element,L.EventType.MOUSE_LEAVE,N=>{this.mouseOver=!1})),this._register((0,L.addDisposableListener)(this.element,L.EventType.FOCUS_OUT,N=>{this.element&&!(0,L.isAncestor)((0,L.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(T){L.EventHelper.stop(T,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(T){if(this.parentData.submenu&&(T||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(T,N,A,R){const M={top:0,left:0};return M.left=(0,b.layout)(T.width,N.width,{position:R.horizontal===d.Right?0:1,offset:A.left,size:A.width}),M.left>=A.left&&M.left<A.left+A.width&&(A.left+10+N.width<=T.width&&(M.left=A.left+10),A.top+=10,A.height=0),M.top=(0,b.layout)(T.height,N.height,{position:0,offset:A.top,size:0}),M.top+N.height===A.top&&M.top+A.height+N.height<=T.height&&(M.top+=A.height),M}createSubmenu(T=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,L.append)(this.element,(0,L.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const N=(0,L.getWindow)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),A=parseFloat(N.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new a(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new o.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const R=this.element.getBoundingClientRect(),M={top:R.top-A,left:R.left,height:R.height+2*A,width:R.width},P=this.submenuContainer.getBoundingClientRect(),F=(0,L.getWindow)(this.element),{top:O,left:B}=this.calculateSubmenuMenuLayout(new L.Dimension(F.innerWidth,F.innerHeight),L.Dimension.lift(P),M,this.expandDirection);this.submenuContainer.style.left=`${B-P.left}px`,this.submenuContainer.style.top=`${O-P.top}px`,this.submenuDisposables.add((0,L.addDisposableListener)(this.submenuContainer,L.EventType.KEY_UP,V=>{new D.StandardKeyboardEvent(V).equals(15)&&(L.EventHelper.stop(V,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,L.addDisposableListener)(this.submenuContainer,L.EventType.KEY_DOWN,V=>{new D.StandardKeyboardEvent(V).equals(15)&&L.EventHelper.stop(V,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(T),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(T){var N;this.item&&((N=this.item)===null||N===void 0||N.setAttribute("aria-expanded",T))}applyStyle(){super.applyStyle();const N=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=N??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class p extends w.ActionViewItem{constructor(T,N,A,R){super(T,N,A),this.menuStyles=R}render(T){super.render(T),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function _(I){const T=e.MENU_MNEMONIC_REGEX,N=T.exec(I);if(!N)return I;const A=!N[1];return I.replace(T,A?"$2$3":"").trim()}function S(I){const T=(0,t.getCodiconFontCharacters)()[I.id];return`.codicon-${I.id}:before { content: '\\${T.toString(16)}'; }`}function E(I,T){let N=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${S(i.Codicon.menuSelection)}
${S(i.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(T){N+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const A=I.scrollbarShadow;A&&(N+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${A} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${A} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${A} 6px 6px 6px -6px inset;
				}
			`);const R=I.scrollbarSliderBackground;R&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${R};
				}
			`);const M=I.scrollbarSliderHoverBackground;M&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${M};
				}
			`);const P=I.scrollbarSliderActiveBackground;P&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${P};
				}
			`)}return N}}),define(ne[637],se([1,0,82,349,41,26,31,7,2,613,44,459]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class o extends w.Disposable{constructor(t,s,c={orientation:0}){var g;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new m.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new w.DisposableStore),c.hoverDelegate=(g=c.hoverDelegate)!==null&&g!==void 0?g:this._register((0,C.createInstantHoverDelegate)()),this.options=c,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new n(()=>{var l;return(l=this.toggleMenuActionViewItem)===null||l===void 0?void 0:l.show()},c.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",t.appendChild(this.element),this.actionBar=this._register(new f.ActionBar(this.element,{orientation:c.orientation,ariaLabel:c.ariaLabel,actionRunner:c.actionRunner,allowContextMenu:c.allowContextMenu,highlightToggledItems:c.highlightToggledItems,hoverDelegate:c.hoverDelegate,actionViewItemProvider:(l,r)=>{var d;if(l.id===n.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(l,l.menuActions,s,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:y.ThemeIcon.asClassNameArray((d=c.moreIcon)!==null&&d!==void 0?d:D.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(c.actionViewItemProvider){const u=c.actionViewItemProvider(l,r);if(u)return u}if(l instanceof L.SubmenuAction){const u=new k.DropdownMenuActionViewItem(l,l.actions,s,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:l.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return u.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(u),this.disposables.add(this._onDidChangeDropdownVisibility.add(u.onDidChangeVisibility)),u}}}))}set actionRunner(t){this.actionBar.actionRunner=t}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(t){return this.actionBar.getAction(t)}setActions(t,s){this.clear();const c=t?t.slice(0):[];this.hasSecondaryActions=!!(s&&s.length>0),this.hasSecondaryActions&&s&&(this.toggleMenuAction.menuActions=s.slice(0),c.push(this.toggleMenuAction)),c.forEach(g=>{this.actionBar.push(g,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(g)})})}getKeybindingLabel(t){var s,c,g;const l=this.lookupKeybindings?(c=(s=this.options).getKeyBinding)===null||c===void 0?void 0:c.call(s,t):void 0;return(g=l?.getLabel())!==null&&g!==void 0?g:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}e.ToolBar=o;class n extends L.Action{constructor(t,s){s=s||b.localize(0,null),super(n.ID,s,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=t}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(t){this._menuActions=t}}e.ToggleMenuAction=n,n.ID="toolbar.toggle.more"}),define(ne[171],se([1,0,6,89,46,82,256,255,253,111,170,245,154,41,13,15,26,31,45,7,78,2,137,20,614,44,30,460]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.TreeRenderer=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class S extends w.ElementsDragAndDropData{constructor(W){super(W.elements.map(q=>q.element)),this.data=W}}function E(re){return re instanceof w.ElementsDragAndDropData?new S(re):re}class I{constructor(W,q){this.modelProvider=W,this.dnd=q,this.autoExpandDisposable=u.Disposable.None,this.disposables=new u.DisposableStore}getDragURI(W){return this.dnd.getDragURI(W.element)}getDragLabel(W,q){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W.map(H=>H.element),q)}onDragStart(W,q){var H,j;(j=(H=this.dnd).onDragStart)===null||j===void 0||j.call(H,E(W),q)}onDragOver(W,q,H,j,Q,te=!0){const le=this.dnd.onDragOver(E(W),q&&q.element,H,j,Q),de=this.autoExpandNode!==q;if(de&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=q),typeof q>"u")return le;if(de&&typeof le!="boolean"&&le.autoExpand&&(this.autoExpandDisposable=(0,s.disposableTimeout)(()=>{const Se=this.modelProvider(),Te=Se.getNodeLocation(q);Se.isCollapsed(Te)&&Se.setCollapsed(Te,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof le=="boolean"||!le.accept||typeof le.bubble>"u"||le.feedback){if(!te){const Se=typeof le=="boolean"?le:le.accept,Te=typeof le=="boolean"?void 0:le.effect;return{accept:Se,effect:Te,feedback:[H]}}return le}if(le.bubble===1){const Se=this.modelProvider(),Te=Se.getNodeLocation(q),De=Se.getParentNodeLocation(Te),Me=Se.getNode(De),Ae=De&&Se.getListIndex(De);return this.onDragOver(W,Me,Ae,j,Q,!1)}const me=this.modelProvider(),ve=me.getNodeLocation(q),Ce=me.getListIndex(ve),ye=me.getListRenderCount(ve);return{...le,feedback:(0,t.range)(Ce,Ce+ye)}}drop(W,q,H,j,Q){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(E(W),q&&q.element,H,j,Q)}onDragEnd(W){var q,H;(H=(q=this.dnd).onDragEnd)===null||H===void 0||H.call(q,W)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function T(re,W){return W&&{...W,identityProvider:W.identityProvider&&{getId(q){return W.identityProvider.getId(q.element)}},dnd:W.dnd&&new I(re,W.dnd),multipleSelectionController:W.multipleSelectionController&&{isSelectionSingleChangeEvent(q){return W.multipleSelectionController.isSelectionSingleChangeEvent({...q,element:q.element})},isSelectionRangeChangeEvent(q){return W.multipleSelectionController.isSelectionRangeChangeEvent({...q,element:q.element})}},accessibilityProvider:W.accessibilityProvider&&{...W.accessibilityProvider,getSetSize(q){const H=re(),j=H.getNodeLocation(q),Q=H.getParentNodeLocation(j);return H.getNode(Q).visibleChildrenCount},getPosInSet(q){return q.visibleChildIndex+1},isChecked:W.accessibilityProvider&&W.accessibilityProvider.isChecked?q=>W.accessibilityProvider.isChecked(q.element):void 0,getRole:W.accessibilityProvider&&W.accessibilityProvider.getRole?q=>W.accessibilityProvider.getRole(q.element):()=>"treeitem",getAriaLabel(q){return W.accessibilityProvider.getAriaLabel(q.element)},getWidgetAriaLabel(){return W.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:W.accessibilityProvider&&W.accessibilityProvider.getWidgetRole?()=>W.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:W.accessibilityProvider&&W.accessibilityProvider.getAriaLevel?q=>W.accessibilityProvider.getAriaLevel(q.element):q=>q.depth,getActiveDescendantId:W.accessibilityProvider.getActiveDescendantId&&(q=>W.accessibilityProvider.getActiveDescendantId(q.element))},keyboardNavigationLabelProvider:W.keyboardNavigationLabelProvider&&{...W.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(q){return W.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q.element)}}}}class N{constructor(W){this.delegate=W}getHeight(W){return this.delegate.getHeight(W.element)}getTemplateId(W){return this.delegate.getTemplateId(W.element)}hasDynamicHeight(W){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(W.element)}setDynamicHeight(W,q){var H,j;(j=(H=this.delegate).setDynamicHeight)===null||j===void 0||j.call(H,W.element,q)}}e.ComposedTreeDelegate=N;var A;(function(re){re.None="none",re.OnHover="onHover",re.Always="always"})(A||(e.RenderIndentGuides=A={}));class R{get elements(){return this._elements}constructor(W,q=[]){this._elements=q,this.disposables=new u.DisposableStore,this.onDidChange=r.Event.forEach(W,H=>this._elements=H,this.disposables)}dispose(){this.disposables.dispose()}}class M{constructor(W,q,H,j,Q,te={}){var le;this.renderer=W,this.modelProvider=q,this.activeNodes=j,this.renderedIndentGuides=Q,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=M.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=u.Disposable.None,this.disposables=new u.DisposableStore,this.templateId=W.templateId,this.updateOptions(te),r.Event.map(H,de=>de.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(le=W.onDidChangeTwistieState)===null||le===void 0||le.call(W,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(W={}){if(typeof W.indent<"u"){const q=(0,a.clamp)(W.indent,0,40);if(q!==this.indent){this.indent=q;for(const[H,j]of this.renderedNodes)this.renderTreeElement(H,j)}}if(typeof W.renderIndentGuides<"u"){const q=W.renderIndentGuides!==A.None;if(q!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=q;for(const[H,j]of this.renderedNodes)this._renderIndentGuides(H,j);if(this.indentGuidesDisposable.dispose(),q){const H=new u.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,H),this.indentGuidesDisposable=H,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof W.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=W.hideTwistiesOfChildlessElements)}renderTemplate(W){const q=(0,f.append)(W,(0,f.$)(".monaco-tl-row")),H=(0,f.append)(q,(0,f.$)(".monaco-tl-indent")),j=(0,f.append)(q,(0,f.$)(".monaco-tl-twistie")),Q=(0,f.append)(q,(0,f.$)(".monaco-tl-contents")),te=this.renderer.renderTemplate(Q);return{container:W,indent:H,twistie:j,indentGuidesDisposable:u.Disposable.None,templateData:te}}renderElement(W,q,H,j){this.renderedNodes.set(W,H),this.renderedElements.set(W.element,W),this.renderTreeElement(W,H),this.renderer.renderElement(W,q,H.templateData,j)}disposeElement(W,q,H,j){var Q,te;H.indentGuidesDisposable.dispose(),(te=(Q=this.renderer).disposeElement)===null||te===void 0||te.call(Q,W,q,H.templateData,j),typeof j=="number"&&(this.renderedNodes.delete(W),this.renderedElements.delete(W.element))}disposeTemplate(W){this.renderer.disposeTemplate(W.templateData)}onDidChangeTwistieState(W){const q=this.renderedElements.get(W);q&&this.onDidChangeNodeTwistieState(q)}onDidChangeNodeTwistieState(W){const q=this.renderedNodes.get(W);q&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(W,q))}renderTreeElement(W,q){const H=M.DefaultIndent+(W.depth-1)*this.indent;q.twistie.style.paddingLeft=`${H}px`,q.indent.style.width=`${H+this.indent-16}px`,W.collapsible?q.container.setAttribute("aria-expanded",String(!W.collapsed)):q.container.removeAttribute("aria-expanded"),q.twistie.classList.remove(...g.ThemeIcon.asClassNameArray(c.Codicon.treeItemExpanded));let j=!1;this.renderer.renderTwistie&&(j=this.renderer.renderTwistie(W.element,q.twistie)),W.collapsible&&(!this.hideTwistiesOfChildlessElements||W.visibleChildrenCount>0)?(j||q.twistie.classList.add(...g.ThemeIcon.asClassNameArray(c.Codicon.treeItemExpanded)),q.twistie.classList.add("collapsible"),q.twistie.classList.toggle("collapsed",W.collapsed)):q.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(W,q)}_renderIndentGuides(W,q){if((0,f.clearNode)(q.indent),q.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const H=new u.DisposableStore,j=this.modelProvider();for(;;){const Q=j.getNodeLocation(W),te=j.getParentNodeLocation(Q);if(!te)break;const le=j.getNode(te),de=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(le)&&de.classList.add("active"),q.indent.childElementCount===0?q.indent.appendChild(de):q.indent.insertBefore(de,q.indent.firstElementChild),this.renderedIndentGuides.add(le,de),H.add((0,u.toDisposable)(()=>this.renderedIndentGuides.delete(le,de))),W=le}q.indentGuidesDisposable=H}_onDidChangeActiveNodes(W){if(!this.shouldRenderIndentGuides)return;const q=new Set,H=this.modelProvider();W.forEach(j=>{const Q=H.getNodeLocation(j);try{const te=H.getParentNodeLocation(Q);j.collapsible&&j.children.length>0&&!j.collapsed?q.add(j):te&&q.add(H.getNode(te))}catch{}}),this.activeIndentNodes.forEach(j=>{q.has(j)||this.renderedIndentGuides.forEach(j,Q=>Q.classList.remove("active"))}),q.forEach(j=>{this.activeIndentNodes.has(j)||this.renderedIndentGuides.forEach(j,Q=>Q.classList.add("active"))}),this.activeIndentNodes=q}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,u.dispose)(this.disposables)}}e.TreeRenderer=M,M.DefaultIndent=8;class P{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(W,q,H){this.tree=W,this.keyboardNavigationLabelProvider=q,this._filter=H,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new u.DisposableStore,W.onWillRefilter(this.reset,this,this.disposables)}filter(W,q){let H=1;if(this._filter){const te=this._filter.filter(W,q);if(typeof te=="boolean"?H=te?1:0:(0,o.isFilterResult)(te)?H=(0,o.getVisibleState)(te.visibility):H=te,H===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:d.FuzzyScore.Default,visibility:H};const j=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W),Q=Array.isArray(j)?j:[j];for(const te of Q){const le=te&&te.toString();if(typeof le>"u")return{data:d.FuzzyScore.Default,visibility:H};let de;if(this.tree.findMatchType===K.Contiguous){const me=le.toLowerCase().indexOf(this._lowercasePattern);if(me>-1){de=[Number.MAX_SAFE_INTEGER,0];for(let ve=this._lowercasePattern.length;ve>0;ve--)de.push(me+ve-1)}}else de=(0,d.fuzzyScore)(this._pattern,this._lowercasePattern,0,le,le.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(de)return this._matchCount++,Q.length===1?{data:de,visibility:H}:{data:{label:le,score:de},visibility:H}}return this.tree.findMode===V.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(W):2:{data:d.FuzzyScore.Default,visibility:H}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,u.dispose)(this.disposables)}}class F extends C.Toggle{constructor(W){var q,H;super({icon:c.Codicon.listFilter,title:(0,h.localize)(0,null),isChecked:(q=W.isChecked)!==null&&q!==void 0?q:!1,hoverDelegate:(H=W.hoverDelegate)!==null&&H!==void 0?H:(0,p.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.ModeToggle=F;class O extends C.Toggle{constructor(W){var q,H;super({icon:c.Codicon.searchFuzzy,title:(0,h.localize)(1,null),isChecked:(q=W.isChecked)!==null&&q!==void 0?q:!1,hoverDelegate:(H=W.hoverDelegate)!==null&&H!==void 0?H:(0,p.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.FuzzyToggle=O;const B={inputBoxStyles:m.unthemedInboxStyles,toggleStyles:C.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var V;(function(re){re[re.Highlight=0]="Highlight",re[re.Filter=1]="Filter"})(V||(e.TreeFindMode=V={}));var K;(function(re){re[re.Fuzzy=0]="Fuzzy",re[re.Contiguous=1]="Contiguous"})(K||(e.TreeFindMatchType=K={}));class U extends u.Disposable{set mode(W){this.modeToggle.checked=W===V.Filter,this.findInput.inputBox.setPlaceHolder(W===V.Filter?(0,h.localize)(2,null):(0,h.localize)(3,null))}set matchType(W){this.matchTypeToggle.checked=W===K.Fuzzy}constructor(W,q,H,j,Q,te){var le;super(),this.tree=q,this.elements=(0,f.h)(".monaco-tree-type-filter",[(0,f.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,f.h)(".monaco-tree-type-filter-input@findInput"),(0,f.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new r.Emitter,W.appendChild(this.elements.root),this._register((0,u.toDisposable)(()=>W.removeChild(this.elements.root)));const de=(le=te?.styles)!==null&&le!==void 0?le:B;de.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=de.listFilterWidgetBackground),de.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${de.listFilterWidgetShadow}`);const me=this._register((0,p.createInstantHoverDelegate)());this.modeToggle=this._register(new F({...de.toggleStyles,isChecked:j===V.Filter,hoverDelegate:me})),this.matchTypeToggle=this._register(new O({...de.toggleStyles,isChecked:Q===K.Fuzzy,hoverDelegate:me})),this.onDidChangeMode=r.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?V.Filter:V.Highlight,this._store),this.onDidChangeMatchType=r.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?K.Fuzzy:K.Contiguous,this._store),this.findInput=this._register(new y.FindInput(this.elements.findInput,H,{label:(0,h.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:de.inputBoxStyles,toggleStyles:de.toggleStyles,history:te?.history})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=j;const ve=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),Ce=r.Event.chain(ve.event,De=>De.map(Me=>new L.StandardKeyboardEvent(Me)));this._register(Ce(De=>{if(De.equals(3)){De.preventDefault(),De.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(De.equals(18)){De.preventDefault(),De.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(De.equals(16)){De.preventDefault(),De.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const ye=this._register(new i.Action("close",(0,h.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(ye,{icon:!0,label:!1});const Se=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(Se.event(De=>{const Me=new u.DisposableStore,Ae=Me.add(new k.DomEmitter((0,f.getWindow)(De),"mousemove")),Pe=Me.add(new k.DomEmitter((0,f.getWindow)(De),"mouseup")),Re=this.right,Ee=De.pageX,Ne=this.top,fe=De.pageY;this.elements.grab.classList.add("grabbing");const _e=this.elements.root.style.transition;this.elements.root.style.transition="unset";const Oe=Be=>{const Ke=Be.pageX-Ee;this.right=Re-Ke;const je=Be.pageY-fe;this.top=Ne+je,this.layout()};Me.add(Ae.event(Oe)),Me.add(Pe.event(Be=>{Oe(Be),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=_e,Me.dispose()}))}));const Te=r.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event,De=>De.map(Me=>new L.StandardKeyboardEvent(Me)));this._register(Te(De=>{let Me,Ae;if(De.keyCode===15?Me=Number.POSITIVE_INFINITY:De.keyCode===17?Me=0:De.keyCode===10&&(Me=this.right===0?Number.POSITIVE_INFINITY:0),De.keyCode===16?Ae=0:De.keyCode===18&&(Ae=Number.POSITIVE_INFINITY),Me!==void 0&&(De.preventDefault(),De.stopPropagation(),this.right=Me,this.layout()),Ae!==void 0){De.preventDefault(),De.stopPropagation(),this.top=Ae;const Pe=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=Pe},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(W=this.width){this.width=W,this.right=(0,a.clamp)(this.right,0,Math.max(0,W-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,a.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(W){this.findInput.showMessage(W)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await(0,s.timeout)(300),super.dispose()}}class G{get pattern(){return this._pattern}get mode(){return this._mode}set mode(W){W!==this._mode&&(this._mode=W,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(W))}get matchType(){return this._matchType}set matchType(W){W!==this._matchType&&(this._matchType=W,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(W))}constructor(W,q,H,j,Q,te={}){var le,de;this.tree=W,this.view=H,this.filter=j,this.contextViewProvider=Q,this.options=te,this._pattern="",this.width=0,this._onDidChangeMode=new r.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new r.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new r.Emitter,this._onDidChangeOpenState=new r.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new u.DisposableStore,this.disposables=new u.DisposableStore,this._mode=(le=W.options.defaultFindMode)!==null&&le!==void 0?le:V.Highlight,this._matchType=(de=W.options.defaultFindMatchType)!==null&&de!==void 0?de:K.Fuzzy,q.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(W={}){W.defaultFindMode!==void 0&&(this.mode=W.defaultFindMode),W.defaultFindMatchType!==void 0&&(this.matchType=W.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var W,q,H,j;const Q=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Q?!((W=this.tree.options.showNotFoundMessage)!==null&&W!==void 0)||W?(q=this.widget)===null||q===void 0||q.showMessage({type:2,content:(0,h.localize)(6,null)}):(H=this.widget)===null||H===void 0||H.showMessage({type:2}):(j=this.widget)===null||j===void 0||j.clearMessage()}shouldAllowFocus(W){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!d.FuzzyScore.isDefault(W.filterData)}layout(W){var q;this.width=W,(q=this.widget)===null||q===void 0||q.layout(W)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function z(re,W){return re.position===W.position&&$(re,W)}function $(re,W){return re.node.element===W.node.element&&re.startIndex===W.startIndex&&re.height===W.height&&re.endIndex===W.endIndex}class J{constructor(W=[]){this.stickyNodes=W}get count(){return this.stickyNodes.length}equal(W){return(0,t.equals)(this.stickyNodes,W.stickyNodes,z)}lastNodePartiallyVisible(){if(this.count===0)return!1;const W=this.stickyNodes[this.count-1];if(this.count===1)return W.position!==0;const q=this.stickyNodes[this.count-2];return q.position+q.height!==W.position}animationStateChanged(W){if(!(0,t.equals)(this.stickyNodes,W.stickyNodes,$)||this.count===0)return!1;const q=this.stickyNodes[this.count-1],H=W.stickyNodes[W.count-1];return q.position!==H.position}}class ee{constrainStickyScrollNodes(W,q,H){for(let j=0;j<W.length;j++){const Q=W[j];if(Q.position+Q.height>H||j>=q)return W.slice(0,j)}return W}}class Z extends u.Disposable{constructor(W,q,H,j,Q,te={}){var le;super(),this.tree=W,this.model=q,this.view=H,this.treeDelegate=Q,this.maxWidgetViewRatio=.4;const de=this.validateStickySettings(te);this.stickyScrollMaxItemCount=de.stickyScrollMaxItemCount,this.stickyScrollDelegate=(le=te.stickyScrollDelegate)!==null&&le!==void 0?le:new ee,this._widget=this._register(new x(H.getScrollableElement(),H,W,j,Q,te.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(H.onDidScroll(()=>this.update())),this._register(H.onDidChangeContentHeight(()=>this.update())),this._register(W.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(W){let q;if(W===0?q=this.view.firstVisibleIndex:q=this.view.indexAt(W+this.view.scrollTop),!(q<0||q>=this.view.length))return this.view.element(q)}update(){const W=this.getNodeAtHeight(0);if(!W||this.tree.scrollTop===0){this._widget.setState(void 0);return}const q=this.findStickyState(W);this._widget.setState(q)}findStickyState(W){const q=[];let H=W,j=0,Q=this.getNextStickyNode(H,void 0,j);for(;Q&&(q.push(Q),j+=Q.height,!(q.length<=this.stickyScrollMaxItemCount&&(H=this.getNextVisibleNode(Q),!H)));)Q=this.getNextStickyNode(H,Q.node,j);const te=this.constrainStickyNodes(q);return te.length?new J(te):void 0}getNextVisibleNode(W){return this.getNodeAtHeight(W.position+W.height)}getNextStickyNode(W,q,H){const j=this.getAncestorUnderPrevious(W,q);if(j&&!(j===W&&(!this.nodeIsUncollapsedParent(W)||this.nodeTopAlignsWithStickyNodesBottom(W,H))))return this.createStickyScrollNode(j,H)}nodeTopAlignsWithStickyNodesBottom(W,q){const H=this.getNodeIndex(W),j=this.view.getElementTop(H),Q=q;return this.view.scrollTop===j-Q}createStickyScrollNode(W,q){const H=this.treeDelegate.getHeight(W),{startIndex:j,endIndex:Q}=this.getNodeRange(W),te=this.calculateStickyNodePosition(Q,q,H);return{node:W,position:te,height:H,startIndex:j,endIndex:Q}}getAncestorUnderPrevious(W,q=void 0){let H=W,j=this.getParentNode(H);for(;j;){if(j===q)return H;H=j,j=this.getParentNode(H)}if(q===void 0)return H}calculateStickyNodePosition(W,q,H){let j=this.view.getRelativeTop(W);if(j===null&&this.view.firstVisibleIndex===W&&W+1<this.view.length){const me=this.treeDelegate.getHeight(this.view.element(W)),ve=this.view.getRelativeTop(W+1);j=ve?ve-me/this.view.renderHeight:null}if(j===null)return q;const Q=this.view.element(W),te=this.treeDelegate.getHeight(Q),de=j*this.view.renderHeight+te;return q+H>de&&q<=de?de-H:q}constrainStickyNodes(W){if(W.length===0)return[];const q=this.view.renderHeight*this.maxWidgetViewRatio,H=W[W.length-1];if(W.length<=this.stickyScrollMaxItemCount&&H.position+H.height<=q)return W;const j=this.stickyScrollDelegate.constrainStickyScrollNodes(W,this.stickyScrollMaxItemCount,q);if(!j.length)return[];const Q=j[j.length-1];if(j.length>this.stickyScrollMaxItemCount||Q.position+Q.height>q)throw new Error("stickyScrollDelegate violates constraints");return j}getParentNode(W){const q=this.model.getNodeLocation(W),H=this.model.getParentNodeLocation(q);return H?this.model.getNode(H):void 0}nodeIsUncollapsedParent(W){const q=this.model.getNodeLocation(W);return this.model.getListRenderCount(q)>1}getNodeIndex(W){const q=this.model.getNodeLocation(W);return this.model.getListIndex(q)}getNodeRange(W){const q=this.model.getNodeLocation(W),H=this.model.getListIndex(q);if(H<0)throw new Error("Node not found in tree");const j=this.model.getListRenderCount(q),Q=H+j-1;return{startIndex:H,endIndex:Q}}nodePositionTopBelowWidget(W){const q=[];let H=this.getParentNode(W);for(;H;)q.push(H),H=this.getParentNode(H);let j=0;for(let Q=0;Q<q.length&&Q<this.stickyScrollMaxItemCount;Q++)j+=this.treeDelegate.getHeight(q[Q]);return j}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(W={}){if(!W.stickyScrollMaxItemCount)return;const q=this.validateStickySettings(W);this.stickyScrollMaxItemCount!==q.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=q.stickyScrollMaxItemCount,this.update())}validateStickySettings(W){let q=7;return typeof W.stickyScrollMaxItemCount=="number"&&(q=Math.max(W.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:q}}}class x{constructor(W,q,H,j,Q,te){this.view=q,this.tree=H,this.treeRenderers=j,this.treeDelegate=Q,this.accessibilityProvider=te,this._previousElements=[],this._previousStateDisposables=new u.DisposableStore,this._rootDomNode=(0,f.$)(".monaco-tree-sticky-container.empty"),W.appendChild(this._rootDomNode);const le=(0,f.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(le),this.stickyScrollFocus=new Y(this._rootDomNode,q),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const W=this._previousState.stickyNodes[this._previousState.count-1];return W.position+W.height}setState(W){const q=!!this._previousState&&this._previousState.count>0,H=!!W&&W.count>0;if(!q&&!H||q&&H&&this._previousState.equal(W))return;if(q!==H&&this.setVisible(H),!H){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const j=W.stickyNodes[W.count-1];if(this._previousState&&W.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${j.position}px`;else{this._previousStateDisposables.clear();const Q=Array(W.count);for(let te=W.count-1;te>=0;te--){const le=W.stickyNodes[te],{element:de,disposable:me}=this.createElement(le,te,W.count);Q[te]=de,this._rootDomNode.appendChild(de),this._previousStateDisposables.add(me)}this.stickyScrollFocus.updateElements(Q,W),this._previousElements=Q}this._previousState=W,this._rootDomNode.style.height=`${j.position+j.height}px`}createElement(W,q,H){const j=W.startIndex,Q=document.createElement("div");Q.style.top=`${W.position}px`,this.tree.options.setRowHeight!==!1&&(Q.style.height=`${W.height}px`),this.tree.options.setRowLineHeight!==!1&&(Q.style.lineHeight=`${W.height}px`),Q.classList.add("monaco-tree-sticky-row"),Q.classList.add("monaco-list-row"),Q.setAttribute("data-index",`${j}`),Q.setAttribute("data-parity",j%2===0?"even":"odd"),Q.setAttribute("id",this.view.getElementID(j));const te=this.setAccessibilityAttributes(Q,W.node.element,q,H),le=this.treeDelegate.getTemplateId(W.node),de=this.treeRenderers.find(ye=>ye.templateId===le);if(!de)throw new Error(`No renderer found for template id ${le}`);let me=W.node;me===this.tree.getNode(this.tree.getNodeLocation(W.node))&&(me=new Proxy(W.node,{}));const ve=de.renderTemplate(Q);de.renderElement(me,W.startIndex,ve,W.height);const Ce=(0,u.toDisposable)(()=>{te.dispose(),de.disposeElement(me,W.startIndex,ve,W.height),de.disposeTemplate(ve),Q.remove()});return{element:Q,disposable:Ce}}setAccessibilityAttributes(W,q,H,j){var Q;if(!this.accessibilityProvider)return u.Disposable.None;this.accessibilityProvider.getSetSize&&W.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(q,H,j))),this.accessibilityProvider.getPosInSet&&W.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(q,H))),this.accessibilityProvider.getRole&&W.setAttribute("role",(Q=this.accessibilityProvider.getRole(q))!==null&&Q!==void 0?Q:"treeitem");const te=this.accessibilityProvider.getAriaLabel(q),le=te&&typeof te!="string"?te:(0,_.constObservable)(te),de=(0,_.autorun)(ve=>{const Ce=ve.readObservable(le);Ce?W.setAttribute("aria-label",Ce):W.removeAttribute("aria-label")});typeof te=="string"||te&&W.setAttribute("aria-label",te.get());const me=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(q);return typeof me=="number"&&W.setAttribute("aria-level",`${me}`),W.setAttribute("aria-selected",String(!1)),de}setVisible(W){this._rootDomNode.classList.toggle("empty",!W),W||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class Y extends u.Disposable{get domHasFocus(){return this._domHasFocus}set domHasFocus(W){W!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(W),this._domHasFocus=W)}constructor(W,q){super(),this.container=W,this.view=q,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new r.Emitter,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new r.Emitter,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(H=>this.onKeyDown(H))),this._register(this.view.onMouseDown(H=>this.onMouseDown(H))),this._register(this.view.onContextMenu(H=>this.handleContextMenu(H)))}handleContextMenu(W){const q=W.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){this.focusedLast()&&this.view.domFocus();return}if(!(0,f.isKeyboardEvent)(W.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const te=this.state.stickyNodes.findIndex(le=>{var de;return le.node.element===((de=W.element)===null||de===void 0?void 0:de.element)});if(te===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(te);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const j=this.state.stickyNodes[this.focusedIndex].node.element,Q=this.elements[this.focusedIndex];this._onContextMenu.fire({element:j,anchor:Q,browserEvent:W.browserEvent,isStickyScroll:!0})}onKeyDown(W){if(this.domHasFocus&&this.state){if(W.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),W.preventDefault(),W.stopPropagation();else if(W.key==="ArrowDown"||W.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const q=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([q]),this.scrollNodeUnderWidget(q,this.state)}else this.setFocusedElement(this.focusedIndex+1);W.preventDefault(),W.stopPropagation()}}}onMouseDown(W){const q=W.browserEvent.target;!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)||(W.browserEvent.preventDefault(),W.browserEvent.stopPropagation())}updateElements(W,q){if(q&&q.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(q&&q.count!==W.length)throw new Error("Sticky scroll focus received illigel state");const H=this.focusedIndex;if(this.removeFocus(),this.elements=W,this.state=q,q){const j=(0,a.clamp)(H,0,q.count-1);this.setFocus(j)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=q?0:-1}setFocusedElement(W){const q=this.state;if(!q)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(W),!(W<q.count-1)&&q.lastNodePartiallyVisible()){const H=q.stickyNodes[W];this.scrollNodeUnderWidget(H.endIndex+1,q)}}scrollNodeUnderWidget(W,q){const H=q.stickyNodes[q.count-1],j=q.count>1?q.stickyNodes[q.count-2]:void 0,Q=this.view.getElementTop(W),te=j?j.position+j.height+H.height:H.height;this.view.scrollTop=Q-te}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(W){if(0>W)throw new Error("addFocus() can not remove focus");if(!this.state&&W>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&W>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const q=this.focusedIndex;q>=0&&this.toggleElementFocus(this.elements[q],!1),W>=0&&this.toggleElementFocus(this.elements[W],!0),this.focusedIndex=W}toggleElementFocus(W,q){this.toggleElementActiveFocus(W,q&&this.domHasFocus),this.toggleElementPassiveFocus(W,q)}toggleCurrentElementActiveFocus(W){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],W)}toggleElementActiveFocus(W,q){W.classList.toggle("focused",q)}toggleElementPassiveFocus(W,q){W.classList.toggle("passive-focused",q)}toggleStickyScrollFocused(W){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",W)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function ae(re){let W=n.TreeMouseEventTarget.Unknown;return(0,f.hasParentWithClass)(re.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?W=n.TreeMouseEventTarget.Twistie:(0,f.hasParentWithClass)(re.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?W=n.TreeMouseEventTarget.Element:(0,f.hasParentWithClass)(re.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(W=n.TreeMouseEventTarget.Filter),{browserEvent:re.browserEvent,element:re.element?re.element.element:null,target:W}}function ue(re){const W=(0,b.isStickyScrollContainer)(re.browserEvent.target);return{element:re.element?re.element.element:null,browserEvent:re.browserEvent,anchor:re.anchor,isStickyScroll:W}}function he(re,W){W(re),re.children.forEach(q=>he(q,W))}class pe{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(W,q){this.getFirstViewElementWithTrait=W,this.identityProvider=q,this.nodes=[],this._onDidChange=new r.Emitter,this.onDidChange=this._onDidChange.event}set(W,q){!q?.__forceEvent&&(0,t.equals)(this.nodes,W)||this._set(W,!1,q)}_set(W,q,H){if(this.nodes=[...W],this.elements=void 0,this._nodeSet=void 0,!q){const j=this;this._onDidChange.fire({get elements(){return j.get()},browserEvent:H})}}get(){return this.elements||(this.elements=this.nodes.map(W=>W.element)),[...this.elements]}getNodes(){return this.nodes}has(W){return this.nodeSet.has(W)}onDidModelSplice({insertedNodes:W,deletedNodes:q}){if(!this.identityProvider){const de=this.createNodeSet(),me=ve=>de.delete(ve);q.forEach(ve=>he(ve,me)),this.set([...de.values()]);return}const H=new Set,j=de=>H.add(this.identityProvider.getId(de.element).toString());q.forEach(de=>he(de,j));const Q=new Map,te=de=>Q.set(this.identityProvider.getId(de.element).toString(),de);W.forEach(de=>he(de,te));const le=[];for(const de of this.nodes){const me=this.identityProvider.getId(de.element).toString();if(!H.has(me))le.push(de);else{const Ce=Q.get(me);Ce&&Ce.visible&&le.push(Ce)}}if(this.nodes.length>0&&le.length===0){const de=this.getFirstViewElementWithTrait();de&&le.push(de)}this._set(le,!0)}createNodeSet(){const W=new Set;for(const q of this.nodes)W.add(q);return W}}class ce extends b.MouseController{constructor(W,q,H){super(W),this.tree=q,this.stickyScrollProvider=H}onViewPointer(W){if((0,b.isButton)(W.browserEvent.target)||(0,b.isInputElement)(W.browserEvent.target)||(0,b.isMonacoEditor)(W.browserEvent.target)||W.browserEvent.isHandledByList)return;const q=W.element;if(!q)return super.onViewPointer(W);if(this.isSelectionRangeChangeEvent(W)||this.isSelectionSingleChangeEvent(W))return super.onViewPointer(W);const H=W.browserEvent.target,j=H.classList.contains("monaco-tl-twistie")||H.classList.contains("monaco-icon-label")&&H.classList.contains("folder-icon")&&W.browserEvent.offsetX<16,Q=(0,b.isStickyScrollElement)(W.browserEvent.target);let te=!1;if(Q?te=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?te=this.tree.expandOnlyOnTwistieClick(q.element):te=!!this.tree.expandOnlyOnTwistieClick,Q)this.handleStickyScrollMouseEvent(W,q);else{if(te&&!j&&W.browserEvent.detail!==2)return super.onViewPointer(W);if(!this.tree.expandOnDoubleClick&&W.browserEvent.detail===2)return super.onViewPointer(W)}if(q.collapsible&&(!Q||j)){const le=this.tree.getNodeLocation(q),de=W.browserEvent.altKey;if(this.tree.setFocus([le]),this.tree.toggleCollapsed(le,de),j){W.browserEvent.isHandledByList=!0;return}}Q||super.onViewPointer(W)}handleStickyScrollMouseEvent(W,q){if((0,b.isMonacoCustomToggle)(W.browserEvent.target)||(0,b.isActionItem)(W.browserEvent.target))return;const H=this.stickyScrollProvider();if(!H)throw new Error("Sticky scroll controller not found");const j=this.list.indexOf(q),Q=this.list.getElementTop(j),te=H.nodePositionTopBelowWidget(q);this.tree.scrollTop=Q-te,this.list.domFocus(),this.list.setFocus([j]),this.list.setSelection([j])}onDoubleClick(W){W.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||W.browserEvent.isHandledByList||super.onDoubleClick(W)}onMouseDown(W){const q=W.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){super.onMouseDown(W);return}}onContextMenu(W){const q=W.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){super.onContextMenu(W);return}}}class ie extends b.List{constructor(W,q,H,j,Q,te,le,de){super(W,q,H,j,de),this.focusTrait=Q,this.selectionTrait=te,this.anchorTrait=le}createMouseController(W){return new ce(this,W.tree,W.stickyScrollProvider)}splice(W,q,H=[]){if(super.splice(W,q,H),H.length===0)return;const j=[],Q=[];let te;H.forEach((le,de)=>{this.focusTrait.has(le)&&j.push(W+de),this.selectionTrait.has(le)&&Q.push(W+de),this.anchorTrait.has(le)&&(te=W+de)}),j.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...j])),Q.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...Q])),typeof te=="number"&&super.setAnchor(te)}setFocus(W,q,H=!1){super.setFocus(W,q),H||this.focusTrait.set(W.map(j=>this.element(j)),q)}setSelection(W,q,H=!1){super.setSelection(W,q),H||this.selectionTrait.set(W.map(j=>this.element(j)),q)}setAnchor(W,q=!1){super.setAnchor(W),q||(typeof W>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(W)]))}}class oe{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return r.Event.filter(r.Event.map(this.view.onMouseDblClick,ae),W=>W.target!==n.TreeMouseEventTarget.Filter)}get onMouseOver(){return r.Event.map(this.view.onMouseOver,ae)}get onMouseOut(){return r.Event.map(this.view.onMouseOut,ae)}get onContextMenu(){var W,q;return r.Event.any(r.Event.filter(r.Event.map(this.view.onContextMenu,ue),H=>!H.isStickyScroll),(q=(W=this.stickyScrollController)===null||W===void 0?void 0:W.onContextMenu)!==null&&q!==void 0?q:r.Event.None)}get onPointer(){return r.Event.map(this.view.onPointer,ae)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return r.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var W,q;return(q=(W=this.findController)===null||W===void 0?void 0:W.mode)!==null&&q!==void 0?q:V.Highlight}set findMode(W){this.findController&&(this.findController.mode=W)}get findMatchType(){var W,q;return(q=(W=this.findController)===null||W===void 0?void 0:W.matchType)!==null&&q!==void 0?q:K.Fuzzy}set findMatchType(W){this.findController&&(this.findController.matchType=W)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(W,q,H,j,Q={}){var te;this._user=W,this._options=Q,this.eventBufferer=new r.EventBufferer,this.onDidChangeFindOpenState=r.Event.None,this.onDidChangeStickyScrollFocused=r.Event.None,this.disposables=new u.DisposableStore,this._onWillRefilter=new r.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new r.Emitter,this.treeDelegate=new N(H);const le=new r.Relay,de=new r.Relay,me=this.disposables.add(new R(de.event)),ve=new l.SetMap;this.renderers=j.map(De=>new M(De,()=>this.model,le.event,me,ve,Q));for(const De of this.renderers)this.disposables.add(De);let Ce;Q.keyboardNavigationLabelProvider&&(Ce=new P(this,Q.keyboardNavigationLabelProvider,Q.filter),Q={...Q,filter:Ce},this.disposables.add(Ce)),this.focus=new pe(()=>this.view.getFocusedElements()[0],Q.identityProvider),this.selection=new pe(()=>this.view.getSelectedElements()[0],Q.identityProvider),this.anchor=new pe(()=>this.view.getAnchorElement(),Q.identityProvider),this.view=new ie(W,q,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...T(()=>this.model,Q),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(W,this.view,Q),le.input=this.model.onDidChangeCollapseState;const ye=r.Event.forEach(this.model.onDidSplice,De=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(De),this.selection.onDidModelSplice(De)})},this.disposables);ye(()=>null,null,this.disposables);const Se=this.disposables.add(new r.Emitter),Te=this.disposables.add(new s.Delayer(0));if(this.disposables.add(r.Event.any(ye,this.focus.onDidChange,this.selection.onDidChange)(()=>{Te.trigger(()=>{const De=new Set;for(const Me of this.focus.getNodes())De.add(Me);for(const Me of this.selection.getNodes())De.add(Me);Se.fire([...De.values()])})})),de.input=Se.event,Q.keyboardSupport!==!1){const De=r.Event.chain(this.view.onKeyDown,Me=>Me.filter(Ae=>!(0,b.isInputElement)(Ae.target)).map(Ae=>new L.StandardKeyboardEvent(Ae)));r.Event.chain(De,Me=>Me.filter(Ae=>Ae.keyCode===15))(this.onLeftArrow,this,this.disposables),r.Event.chain(De,Me=>Me.filter(Ae=>Ae.keyCode===17))(this.onRightArrow,this,this.disposables),r.Event.chain(De,Me=>Me.filter(Ae=>Ae.keyCode===10))(this.onSpace,this,this.disposables)}if((!((te=Q.findWidgetEnabled)!==null&&te!==void 0)||te)&&Q.keyboardNavigationLabelProvider&&Q.contextViewProvider){const De=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new G(this,this.model,this.view,Ce,Q.contextViewProvider,De),this.focusNavigationFilter=Me=>this.findController.shouldAllowFocus(Me),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=r.Event.None,this.onDidChangeFindMatchType=r.Event.None;Q.enableStickyScroll&&(this.stickyScrollController=new Z(this,this.model,this.view,this.renderers,this.treeDelegate,Q),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,f.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}updateOptions(W={}){var q;this._options={...this._options,...W};for(const H of this.renderers)H.updateOptions(W);this.view.updateOptions(this._options),(q=this.findController)===null||q===void 0||q.updateOptions(W),this.updateStickyScroll(W),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}get options(){return this._options}updateStickyScroll(W){var q;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Z(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=r.Event.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(q=this.stickyScrollController)===null||q===void 0||q.updateOptions(W)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(W){this.view.scrollTop=W}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(W){this.view.ariaLabel=W}domFocus(){var W;!((W=this.stickyScrollController)===null||W===void 0)&&W.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(W,q){var H;this.view.layout(W,q),(0,v.isNumber)(q)&&((H=this.findController)===null||H===void 0||H.layout(q))}style(W){var q,H;const j=`.${this.view.domId}`,Q=[];W.treeIndentGuidesStroke&&(Q.push(`.monaco-list${j}:hover .monaco-tl-indent > .indent-guide, .monaco-list${j}.always .monaco-tl-indent > .indent-guide  { border-color: ${W.treeInactiveIndentGuidesStroke}; }`),Q.push(`.monaco-list${j} .monaco-tl-indent > .indent-guide.active { border-color: ${W.treeIndentGuidesStroke}; }`));const te=(q=W.treeStickyScrollBackground)!==null&&q!==void 0?q:W.listBackground;te&&(Q.push(`.monaco-list${j} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${te}; }`),Q.push(`.monaco-list${j} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${te}; }`)),W.treeStickyScrollBorder&&Q.push(`.monaco-list${j} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${W.treeStickyScrollBorder}; }`),W.treeStickyScrollShadow&&Q.push(`.monaco-list${j} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${W.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),W.listFocusForeground&&(Q.push(`.monaco-list${j}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${W.listFocusForeground}; }`),Q.push(`.monaco-list${j}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const le=(0,f.asCssValueWithDefault)(W.listFocusAndSelectionOutline,(0,f.asCssValueWithDefault)(W.listSelectionOutline,(H=W.listFocusOutline)!==null&&H!==void 0?H:""));le&&(Q.push(`.monaco-list${j}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${le}; outline-offset: -1px;}`),Q.push(`.monaco-list${j}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),W.listFocusOutline&&(Q.push(`.monaco-list${j}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }`),Q.push(`.monaco-list${j}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),Q.push(`.monaco-workbench.context-menu-visible .monaco-list${j}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }`),Q.push(`.monaco-workbench.context-menu-visible .monaco-list${j}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),Q.push(`.monaco-workbench.context-menu-visible .monaco-list${j}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=Q.join(`
`),this.view.style(W)}getParentElement(W){const q=this.model.getParentNodeLocation(W);return this.model.getNode(q).element}getFirstElementChild(W){return this.model.getFirstElementChild(W)}getNode(W){return this.model.getNode(W)}getNodeLocation(W){return this.model.getNodeLocation(W)}collapse(W,q=!1){return this.model.setCollapsed(W,!0,q)}expand(W,q=!1){return this.model.setCollapsed(W,!1,q)}toggleCollapsed(W,q=!1){return this.model.setCollapsed(W,void 0,q)}isCollapsible(W){return this.model.isCollapsible(W)}setCollapsible(W,q){return this.model.setCollapsible(W,q)}isCollapsed(W){return this.model.isCollapsed(W)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(W,q){this.eventBufferer.bufferEvents(()=>{const H=W.map(Q=>this.model.getNode(Q));this.selection.set(H,q);const j=W.map(Q=>this.model.getListIndex(Q)).filter(Q=>Q>-1);this.view.setSelection(j,q,!0)})}getSelection(){return this.selection.get()}setFocus(W,q){this.eventBufferer.bufferEvents(()=>{const H=W.map(Q=>this.model.getNode(Q));this.focus.set(H,q);const j=W.map(Q=>this.model.getListIndex(Q)).filter(Q=>Q>-1);this.view.setFocus(j,q,!0)})}focusNext(W=1,q=!1,H,j=(0,f.isKeyboardEvent)(H)&&H.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(W,q,H,j)}focusPrevious(W=1,q=!1,H,j=(0,f.isKeyboardEvent)(H)&&H.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(W,q,H,j)}focusNextPage(W,q=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(W,q)}focusPreviousPage(W,q=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(W,q,()=>{var H,j;return(j=(H=this.stickyScrollController)===null||H===void 0?void 0:H.height)!==null&&j!==void 0?j:0})}focusFirst(W,q=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(W,q)}getFocus(){return this.focus.get()}reveal(W,q){this.model.expandTo(W);const H=this.model.getListIndex(W);if(H!==-1)if(!this.stickyScrollController)this.view.reveal(H,q);else{const j=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(W));this.view.reveal(H,q,j)}}onLeftArrow(W){W.preventDefault(),W.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const H=q[0],j=this.model.getNodeLocation(H);if(!this.model.setCollapsed(j,!0)){const te=this.model.getParentNodeLocation(j);if(!te)return;const le=this.model.getListIndex(te);this.view.reveal(le),this.view.setFocus([le])}}onRightArrow(W){W.preventDefault(),W.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const H=q[0],j=this.model.getNodeLocation(H);if(!this.model.setCollapsed(j,!1)){if(!H.children.some(de=>de.visible))return;const[te]=this.view.getFocus(),le=te+1;this.view.reveal(le),this.view.setFocus([le])}}onSpace(W){W.preventDefault(),W.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const H=q[0],j=this.model.getNodeLocation(H),Q=W.browserEvent.altKey;this.model.setCollapsed(j,void 0,Q)}dispose(){var W;(0,u.dispose)(this.disposables),(W=this.stickyScrollController)===null||W===void 0||W.dispose(),this.view.dispose()}}e.AbstractTree=oe}),define(ne[638],se([1,0,171,246]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class L extends f.AbstractTree{constructor(y,m,w,b,C,o={}){super(y,m,w,b,o),this.user=y,this.dataSource=C,this.identityProvider=o.identityProvider}createModel(y,m,w){return new k.ObjectTreeModel(y,m,w)}}e.DataTree=L}),define(ne[350],se([1,0,171,621,246,122,54]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class m extends f.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,t,s,c,g={}){super(i,t,s,c,g),this.user=i}setChildren(i,t=y.Iterable.empty(),s){this.model.setChildren(i,t,s)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,t,s){return new L.ObjectTreeModel(i,t,s)}}e.ObjectTree=m;class w{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,t,s){this._compressedTreeNodeProvider=i,this.stickyScrollDelegate=t,this.renderer=s,this.templateId=s.templateId,s.onDidChangeTwistieState&&(this.onDidChangeTwistieState=s.onDidChangeTwistieState)}renderTemplate(i){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(i)}}renderElement(i,t,s,c){let g=this.stickyScrollDelegate.getCompressedNode(i);g||(g=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element)),g.element.elements.length===1?(s.compressedTreeNode=void 0,this.renderer.renderElement(i,t,s.data,c)):(s.compressedTreeNode=g,this.renderer.renderCompressedElements(g,t,s.data,c))}disposeElement(i,t,s,c){var g,l,r,d;s.compressedTreeNode?(l=(g=this.renderer).disposeCompressedElements)===null||l===void 0||l.call(g,s.compressedTreeNode,t,s.data,c):(d=(r=this.renderer).disposeElement)===null||d===void 0||d.call(r,i,t,s.data,c)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,t):!1}}ke([D.memoize],w.prototype,"compressedTreeNodeProvider",null);class b{constructor(i){this.modelProvider=i,this.compressedStickyNodes=new Map}getCompressedNode(i){return this.compressedStickyNodes.get(i)}constrainStickyScrollNodes(i,t,s){if(this.compressedStickyNodes.clear(),i.length===0)return[];for(let c=0;c<i.length;c++){const g=i[c],l=g.position+g.height;if(c+1<i.length&&l+i[c+1].height>s||c>=t-1&&t<i.length){const d=i.slice(0,c),u=i.slice(c),a=this.compressStickyNodes(u);return[...d,a]}}return i}compressStickyNodes(i){if(i.length===0)throw new Error("Can't compress empty sticky nodes");const t=this.modelProvider();if(!t.isCompressionEnabled())return i[0];const s=[];for(let u=0;u<i.length;u++){const a=i[u],v=t.getCompressedTreeNode(a.node.element);if(v.element){if(u!==0&&v.element.incompressible)break;s.push(...v.element.elements)}}if(s.length<2)return i[0];const c=i[i.length-1],g={elements:s,incompressible:!1},l={...c.node,children:[],element:g},r=new Proxy(i[0].node,{}),d={node:r,startIndex:i[0].startIndex,endIndex:c.endIndex,position:i[0].position,height:i[0].height};return this.compressedStickyNodes.set(r,l),d}}function C(n,i){return i&&{...i,keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let s;try{s=n().getCompressedTreeNode(t)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return s.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(s.element.elements)}}}}class o extends m{constructor(i,t,s,c,g={}){const l=()=>this,r=new b(()=>this.model),d=c.map(u=>new w(l,r,u));super(i,t,s,d,{...C(l,g),stickyScrollDelegate:r})}setChildren(i,t=y.Iterable.empty(),s){this.model.setChildren(i,t,s)}createModel(i,t,s){return new k.CompressibleObjectTreeModel(i,t,s)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=o}),define(ne[639],se([1,0,253,171,245,350,154,15,26,31,9,7,54,2,20]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function s(R){return{...R,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function c(R,M){return M.parent?M.parent===R?!0:c(R,M.parent):!1}function g(R,M){return R===M||c(R,M)||c(M,R)}class l{get element(){return this.node.element.element}get children(){return this.node.children.map(M=>new l(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class r{constructor(M,P,F){this.renderer=M,this.nodeMapper=P,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,P,F,O){this.renderer.renderElement(this.nodeMapper.map(M),P,F.templateData,O)}renderTwistie(M,P){return M.slow?(P.classList.add(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(P.classList.remove(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,P,F,O){var B,V;(V=(B=this.renderer).disposeElement)===null||V===void 0||V.call(B,this.nodeMapper.map(M),P,F.templateData,O)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear()}}function d(R){return{browserEvent:R.browserEvent,elements:R.elements.map(M=>M.element)}}function u(R){return{browserEvent:R.browserEvent,element:R.element&&R.element.element,target:R.target}}class a extends f.ElementsDragAndDropData{constructor(M){super(M.elements.map(P=>P.element)),this.data=M}}function v(R){return R instanceof f.ElementsDragAndDropData?new a(R):R}class h{constructor(M){this.dnd=M}getDragURI(M){return this.dnd.getDragURI(M.element)}getDragLabel(M,P){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(M.map(F=>F.element),P)}onDragStart(M,P){var F,O;(O=(F=this.dnd).onDragStart)===null||O===void 0||O.call(F,v(M),P)}onDragOver(M,P,F,O,B,V=!0){return this.dnd.onDragOver(v(M),P&&P.element,F,O,B)}drop(M,P,F,O,B){this.dnd.drop(v(M),P&&P.element,F,O,B)}onDragEnd(M){var P,F;(F=(P=this.dnd).onDragEnd)===null||F===void 0||F.call(P,M)}dispose(){this.dnd.dispose()}}function p(R){return R&&{...R,collapseByDefault:!0,identityProvider:R.identityProvider&&{getId(M){return R.identityProvider.getId(M.element)}},dnd:R.dnd&&new h(R.dnd),multipleSelectionController:R.multipleSelectionController&&{isSelectionSingleChangeEvent(M){return R.multipleSelectionController.isSelectionSingleChangeEvent({...M,element:M.element})},isSelectionRangeChangeEvent(M){return R.multipleSelectionController.isSelectionRangeChangeEvent({...M,element:M.element})}},accessibilityProvider:R.accessibilityProvider&&{...R.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:R.accessibilityProvider.getRole?M=>R.accessibilityProvider.getRole(M.element):()=>"treeitem",isChecked:R.accessibilityProvider.isChecked?M=>{var P;return!!(!((P=R.accessibilityProvider)===null||P===void 0)&&P.isChecked(M.element))}:void 0,getAriaLabel(M){return R.accessibilityProvider.getAriaLabel(M.element)},getWidgetAriaLabel(){return R.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:R.accessibilityProvider.getWidgetRole?()=>R.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:R.accessibilityProvider.getAriaLevel&&(M=>R.accessibilityProvider.getAriaLevel(M.element)),getActiveDescendantId:R.accessibilityProvider.getActiveDescendantId&&(M=>R.accessibilityProvider.getActiveDescendantId(M.element))},filter:R.filter&&{filter(M,P){return R.filter.filter(M.element,P)}},keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&{...R.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(M){return R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(M.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof R.expandOnlyOnTwistieClick>"u"?void 0:typeof R.expandOnlyOnTwistieClick!="function"?R.expandOnlyOnTwistieClick:M=>R.expandOnlyOnTwistieClick(M.element),defaultFindVisibility:M=>M.hasChildren&&M.stale?1:typeof R.defaultFindVisibility=="number"?R.defaultFindVisibility:typeof R.defaultFindVisibility>"u"?2:R.defaultFindVisibility(M.element)}}function _(R,M){M(R),R.children.forEach(P=>_(P,M))}class S{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return o.Event.map(this.tree.onDidChangeFocus,d)}get onDidChangeSelection(){return o.Event.map(this.tree.onDidChangeSelection,d)}get onMouseDblClick(){return o.Event.map(this.tree.onMouseDblClick,u)}get onPointer(){return o.Event.map(this.tree.onPointer,u)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(M,P,F,O,B,V={}){this.user=M,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new o.Emitter,this._onDidChangeNodeSlowState=new o.Emitter,this.nodeMapper=new y.WeakMapper(K=>new l(K)),this.disposables=new i.DisposableStore,this.identityProvider=V.identityProvider,this.autoExpandSingleChildren=typeof V.autoExpandSingleChildren>"u"?!1:V.autoExpandSingleChildren,this.sorter=V.sorter,this.getDefaultCollapseState=K=>V.collapseByDefault?V.collapseByDefault(K)?y.ObjectTreeElementCollapseState.PreserveOrCollapsed:y.ObjectTreeElementCollapseState.PreserveOrExpanded:void 0,this.tree=this.createTree(M,P,F,O,V),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=s({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(M,P,F,O,B){const V=new k.ComposedTreeDelegate(F),K=O.map(G=>new r(G,this.nodeMapper,this._onDidChangeNodeSlowState.event)),U=p(B)||{};return new D.ObjectTree(M,P,V,K,U)}updateOptions(M={}){this.tree.updateOptions(M)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(M){this.tree.scrollTop=M}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(M,P){this.tree.layout(M,P)}style(M){this.tree.style(M)}getInput(){return this.root.element}async setInput(M,P){this.refreshPromises.forEach(O=>O.cancel()),this.refreshPromises.clear(),this.root.element=M;const F=P&&{viewState:P,focus:[],selection:[]};await this._updateChildren(M,!0,!1,F),F&&(this.tree.setFocus(F.focus),this.tree.setSelection(F.selection)),P&&typeof P.scrollTop=="number"&&(this.scrollTop=P.scrollTop)}async _updateChildren(M=this.root.element,P=!0,F=!1,O,B){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await o.Event.toPromise(this._onDidRender.event));const V=this.getDataNode(M);if(await this.refreshAndRenderNode(V,P,O,B),F)try{this.tree.rerender(V)}catch{}}rerender(M){if(M===void 0||M===this.root.element){this.tree.rerender();return}const P=this.getDataNode(M);this.tree.rerender(P)}getNode(M=this.root.element){const P=this.getDataNode(M),F=this.tree.getNode(P===this.root?null:P);return this.nodeMapper.map(F)}collapse(M,P=!1){const F=this.getDataNode(M);return this.tree.collapse(F===this.root?null:F,P)}async expand(M,P=!1){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await o.Event.toPromise(this._onDidRender.event));const F=this.getDataNode(M);if(this.tree.hasElement(F)&&!this.tree.isCollapsible(F)||(F.refreshPromise&&(await this.root.refreshPromise,await o.Event.toPromise(this._onDidRender.event)),F!==this.root&&!F.refreshPromise&&!this.tree.isCollapsed(F)))return!1;const O=this.tree.expand(F===this.root?null:F,P);return F.refreshPromise&&(await this.root.refreshPromise,await o.Event.toPromise(this._onDidRender.event)),O}setSelection(M,P){const F=M.map(O=>this.getDataNode(O));this.tree.setSelection(F,P)}getSelection(){return this.tree.getSelection().map(P=>P.element)}setFocus(M,P){const F=M.map(O=>this.getDataNode(O));this.tree.setFocus(F,P)}getFocus(){return this.tree.getFocus().map(P=>P.element)}reveal(M,P){this.tree.reveal(this.getDataNode(M),P)}getParentElement(M){const P=this.tree.getParentElement(this.getDataNode(M));return P&&P.element}getFirstElementChild(M=this.root.element){const P=this.getDataNode(M),F=this.tree.getFirstElementChild(P===this.root?null:P);return F&&F.element}getDataNode(M){const P=this.nodes.get(M===this.root.element?null:M);if(!P)throw new y.TreeError(this.user,`Data tree node not found: ${M}`);return P}async refreshAndRenderNode(M,P,F,O){await this.refreshNode(M,P,F),!this.disposables.isDisposed&&this.render(M,F,O)}async refreshNode(M,P,F){let O;if(this.subTreeRefreshPromises.forEach((B,V)=>{!O&&g(V,M)&&(O=B.then(()=>this.refreshNode(M,P,F)))}),O)return O;if(M!==this.root&&this.tree.getNode(M).collapsed){M.hasChildren=!!this.dataSource.hasChildren(M.element),M.stale=!0,this.setChildren(M,[],P,F);return}return this.doRefreshSubTree(M,P,F)}async doRefreshSubTree(M,P,F){let O;M.refreshPromise=new Promise(B=>O=B),this.subTreeRefreshPromises.set(M,M.refreshPromise),M.refreshPromise.finally(()=>{M.refreshPromise=void 0,this.subTreeRefreshPromises.delete(M)});try{const B=await this.doRefreshNode(M,P,F);M.stale=!1,await m.Promises.settled(B.map(V=>this.doRefreshSubTree(V,P,F)))}finally{O()}}async doRefreshNode(M,P,F){M.hasChildren=!!this.dataSource.hasChildren(M.element);let O;if(!M.hasChildren)O=Promise.resolve(n.Iterable.empty());else{const B=this.doGetChildren(M);if((0,t.isIterable)(B))O=Promise.resolve(B);else{const V=(0,m.timeout)(800);V.then(()=>{M.slow=!0,this._onDidChangeNodeSlowState.fire(M)},K=>null),O=B.finally(()=>V.cancel())}}try{const B=await O;return this.setChildren(M,B,P,F)}catch(B){if(M!==this.root&&this.tree.hasElement(M)&&this.tree.collapse(M),(0,C.isCancellationError)(B))return[];throw B}finally{M.slow&&(M.slow=!1,this._onDidChangeNodeSlowState.fire(M))}}doGetChildren(M){let P=this.refreshPromises.get(M);if(P)return P;const F=this.dataSource.getChildren(M.element);return(0,t.isIterable)(F)?this.processChildren(F):(P=(0,m.createCancelablePromise)(async()=>this.processChildren(await F)),this.refreshPromises.set(M,P),P.finally(()=>{this.refreshPromises.delete(M)}))}_onDidChangeCollapseState({node:M,deep:P}){M.element!==null&&!M.collapsed&&M.element.stale&&(P?this.collapse(M.element.element):this.refreshAndRenderNode(M.element,!1).catch(C.onUnexpectedError))}setChildren(M,P,F,O){const B=[...P];if(M.children.length===0&&B.length===0)return[];const V=new Map,K=new Map;for(const z of M.children)V.set(z.element,z),this.identityProvider&&K.set(z.id,{node:z,collapsed:this.tree.hasElement(z)&&this.tree.isCollapsed(z)});const U=[],G=B.map(z=>{const $=!!this.dataSource.hasChildren(z);if(!this.identityProvider){const x=s({element:z,parent:M,hasChildren:$,defaultCollapseState:this.getDefaultCollapseState(z)});return $&&x.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded&&U.push(x),x}const J=this.identityProvider.getId(z).toString(),ee=K.get(J);if(ee){const x=ee.node;return V.delete(x.element),this.nodes.delete(x.element),this.nodes.set(z,x),x.element=z,x.hasChildren=$,F?ee.collapsed?(x.children.forEach(Y=>_(Y,ae=>this.nodes.delete(ae.element))),x.children.splice(0,x.children.length),x.stale=!0):U.push(x):$&&!ee.collapsed&&U.push(x),x}const Z=s({element:z,parent:M,id:J,hasChildren:$,defaultCollapseState:this.getDefaultCollapseState(z)});return O&&O.viewState.focus&&O.viewState.focus.indexOf(J)>-1&&O.focus.push(Z),O&&O.viewState.selection&&O.viewState.selection.indexOf(J)>-1&&O.selection.push(Z),(O&&O.viewState.expanded&&O.viewState.expanded.indexOf(J)>-1||$&&Z.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded)&&U.push(Z),Z});for(const z of V.values())_(z,$=>this.nodes.delete($.element));for(const z of G)this.nodes.set(z.element,z);return M.children.splice(0,M.children.length,...G),M!==this.root&&this.autoExpandSingleChildren&&G.length===1&&U.length===0&&(G[0].forceExpanded=!0,U.push(G[0])),U}render(M,P,F){const O=M.children.map(V=>this.asTreeElement(V,P)),B=F&&{...F,diffIdentityProvider:F.diffIdentityProvider&&{getId(V){return F.diffIdentityProvider.getId(V.element)}}};this.tree.setChildren(M===this.root?null:M,O,B),M!==this.root&&this.tree.setCollapsible(M,M.hasChildren),this._onDidRender.fire()}asTreeElement(M,P){if(M.stale)return{element:M,collapsible:M.hasChildren,collapsed:!0};let F;return P&&P.viewState.expanded&&M.id&&P.viewState.expanded.indexOf(M.id)>-1?F=!1:M.forceExpanded?(F=!1,M.forceExpanded=!1):F=M.defaultCollapseState,{element:M,children:M.hasChildren?n.Iterable.map(M.children,O=>this.asTreeElement(O,P)):[],collapsible:M.hasChildren,collapsed:F}}processChildren(M){return this.sorter&&(M=[...M].sort(this.sorter.compare.bind(this.sorter))),M}dispose(){this.disposables.dispose(),this.tree.dispose()}}e.AsyncDataTree=S;class E{get element(){return{elements:this.node.element.elements.map(M=>M.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(M=>new E(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class I{constructor(M,P,F,O){this.renderer=M,this.nodeMapper=P,this.compressibleNodeMapperProvider=F,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.disposables=[],this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,P,F,O){this.renderer.renderElement(this.nodeMapper.map(M),P,F.templateData,O)}renderCompressedElements(M,P,F,O){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(M),P,F.templateData,O)}renderTwistie(M,P){return M.slow?(P.classList.add(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(P.classList.remove(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,P,F,O){var B,V;(V=(B=this.renderer).disposeElement)===null||V===void 0||V.call(B,this.nodeMapper.map(M),P,F.templateData,O)}disposeCompressedElements(M,P,F,O){var B,V;(V=(B=this.renderer).disposeCompressedElements)===null||V===void 0||V.call(B,this.compressibleNodeMapperProvider().map(M),P,F.templateData,O)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function T(R){const M=R&&p(R);return M&&{...M,keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&{...M.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(P){return R.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(P.map(F=>F.element))}}}}class N extends S{constructor(M,P,F,O,B,V,K={}){super(M,P,F,B,V,K),this.compressionDelegate=O,this.compressibleNodeMapper=new y.WeakMapper(U=>new E(U)),this.filter=K.filter}createTree(M,P,F,O,B){const V=new k.ComposedTreeDelegate(F),K=O.map(G=>new I(G,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),U=T(B)||{};return new D.CompressibleObjectTree(M,P,V,K,U)}asTreeElement(M,P){return{incompressible:this.compressionDelegate.isIncompressible(M.element),...super.asTreeElement(M,P)}}updateOptions(M={}){this.tree.updateOptions(M)}render(M,P,F){if(!this.identityProvider)return super.render(M,P);const O=ee=>this.identityProvider.getId(ee).toString(),B=ee=>{const Z=new Set;for(const x of ee){const Y=this.tree.getCompressedTreeNode(x===this.root?null:x);if(Y.element)for(const ae of Y.element.elements)Z.add(O(ae.element))}return Z},V=B(this.tree.getSelection()),K=B(this.tree.getFocus());super.render(M,P,F);const U=this.getSelection();let G=!1;const z=this.getFocus();let $=!1;const J=ee=>{const Z=ee.element;if(Z)for(let x=0;x<Z.elements.length;x++){const Y=O(Z.elements[x].element),ae=Z.elements[Z.elements.length-1].element;V.has(Y)&&U.indexOf(ae)===-1&&(U.push(ae),G=!0),K.has(Y)&&z.indexOf(ae)===-1&&(z.push(ae),$=!0)}ee.children.forEach(J)};J(this.tree.getCompressedTreeNode(M===this.root?null:M)),G&&this.setSelection(U),$&&this.setFocus(z)}processChildren(M){return this.filter&&(M=n.Iterable.filter(M,P=>{const F=this.filter.filter(P,1),O=A(F);if(O===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return O===1})),super.processChildren(M)}}e.CompressibleAsyncDataTree=N;function A(R){return typeof R=="boolean"?R?1:0:(0,L.isFilterResult)(R)?(0,L.getVisibleState)(R.visibility):(0,L.getVisibleState)(R)}}),define(ne[351],se([1,0,9,7,2,55,17,11]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleWorkerServer=e.SimpleWorkerClient=void 0,e.logOnceWebWorkerWarning=C,e.create=a;const w="$initialize";let b=!1;function C(v){y.isWeb&&(b||(b=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(v.message))}class o{constructor(h,p,_,S){this.vsWorker=h,this.req=p,this.method=_,this.args=S,this.type=0}}class n{constructor(h,p,_,S){this.vsWorker=h,this.seq=p,this.res=_,this.err=S,this.type=1}}class i{constructor(h,p,_,S){this.vsWorker=h,this.req=p,this.eventName=_,this.arg=S,this.type=2}}class t{constructor(h,p,_){this.vsWorker=h,this.req=p,this.event=_,this.type=3}}class s{constructor(h,p){this.vsWorker=h,this.req=p,this.type=4}}class c{constructor(h){this._workerId=-1,this._handler=h,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(h){this._workerId=h}sendMessage(h,p){const _=String(++this._lastSentReq);return new Promise((S,E)=>{this._pendingReplies[_]={resolve:S,reject:E},this._send(new o(this._workerId,_,h,p))})}listen(h,p){let _=null;const S=new k.Emitter({onWillAddFirstListener:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,S),this._send(new i(this._workerId,_,h,p))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(_),this._send(new s(this._workerId,_)),_=null}});return S.event}handleMessage(h){!h||!h.vsWorker||this._workerId!==-1&&h.vsWorker!==this._workerId||this._handleMessage(h)}_handleMessage(h){switch(h.type){case 1:return this._handleReplyMessage(h);case 0:return this._handleRequestMessage(h);case 2:return this._handleSubscribeEventMessage(h);case 3:return this._handleEventMessage(h);case 4:return this._handleUnsubscribeEventMessage(h)}}_handleReplyMessage(h){if(!this._pendingReplies[h.seq]){console.warn("Got reply to unknown seq");return}const p=this._pendingReplies[h.seq];if(delete this._pendingReplies[h.seq],h.err){let _=h.err;h.err.$isError&&(_=new Error,_.name=h.err.name,_.message=h.err.message,_.stack=h.err.stack),p.reject(_);return}p.resolve(h.res)}_handleRequestMessage(h){const p=h.req;this._handler.handleMessage(h.method,h.args).then(S=>{this._send(new n(this._workerId,p,S,void 0))},S=>{S.detail instanceof Error&&(S.detail=(0,f.transformErrorForSerialization)(S.detail)),this._send(new n(this._workerId,p,void 0,(0,f.transformErrorForSerialization)(S)))})}_handleSubscribeEventMessage(h){const p=h.req,_=this._handler.handleEvent(h.eventName,h.arg)(S=>{this._send(new t(this._workerId,p,S))});this._pendingEvents.set(p,_)}_handleEventMessage(h){if(!this._pendingEmitters.has(h.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(h.req).fire(h.event)}_handleUnsubscribeEventMessage(h){if(!this._pendingEvents.has(h.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(h.req).dispose(),this._pendingEvents.delete(h.req)}_send(h){const p=[];if(h.type===0)for(let _=0;_<h.args.length;_++)h.args[_]instanceof ArrayBuffer&&p.push(h.args[_]);else h.type===1&&h.res instanceof ArrayBuffer&&p.push(h.res);this._handler.sendMessage(h,p)}}class g extends L.Disposable{constructor(h,p,_){super();let S=null;this._worker=this._register(h.create("vs/base/common/worker/simpleWorker",R=>{this._protocol.handleMessage(R)},R=>{S?.(R)})),this._protocol=new c({sendMessage:(R,M)=>{this._worker.postMessage(R,M)},handleMessage:(R,M)=>{if(typeof _[R]!="function")return Promise.reject(new Error("Missing method "+R+" on main thread host."));try{return Promise.resolve(_[R].apply(_,M))}catch(P){return Promise.reject(P)}},handleEvent:(R,M)=>{if(r(R)){const P=_[R].call(_,M);if(typeof P!="function")throw new Error(`Missing dynamic event ${R} on main thread host.`);return P}if(l(R)){const P=_[R];if(typeof P!="function")throw new Error(`Missing event ${R} on main thread host.`);return P}throw new Error(`Malformed event name ${R}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;const I=globalThis.require;typeof I<"u"&&typeof I.getConfig=="function"?E=I.getConfig():typeof globalThis.requirejs<"u"&&(E=globalThis.requirejs.s.contexts._.config);const T=(0,D.getAllMethodNames)(_);this._onModuleLoaded=this._protocol.sendMessage(w,[this._worker.getId(),JSON.parse(JSON.stringify(E)),p,T]);const N=(R,M)=>this._request(R,M),A=(R,M)=>this._protocol.listen(R,M);this._lazyProxy=new Promise((R,M)=>{S=M,this._onModuleLoaded.then(P=>{R(d(P,N,A))},P=>{M(P),this._onError("Worker failed to load "+p,P)})})}getProxyObject(){return this._lazyProxy}_request(h,p){return new Promise((_,S)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(h,p).then(_,S)},S)})}_onError(h,p){console.error(h),console.info(p)}}e.SimpleWorkerClient=g;function l(v){return v[0]==="o"&&v[1]==="n"&&m.isUpperAsciiLetter(v.charCodeAt(2))}function r(v){return/^onDynamic/.test(v)&&m.isUpperAsciiLetter(v.charCodeAt(9))}function d(v,h,p){const _=I=>function(){const T=Array.prototype.slice.call(arguments,0);return h(I,T)},S=I=>function(T){return p(I,T)},E={};for(const I of v){if(r(I)){E[I]=S(I);continue}if(l(I)){E[I]=p(I,void 0);continue}E[I]=_(I)}return E}class u{constructor(h,p){this._requestHandlerFactory=p,this._requestHandler=null,this._protocol=new c({sendMessage:(_,S)=>{h(_,S)},handleMessage:(_,S)=>this._handleMessage(_,S),handleEvent:(_,S)=>this._handleEvent(_,S)})}onmessage(h){this._protocol.handleMessage(h)}_handleMessage(h,p){if(h===w)return this.initialize(p[0],p[1],p[2],p[3]);if(!this._requestHandler||typeof this._requestHandler[h]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+h));try{return Promise.resolve(this._requestHandler[h].apply(this._requestHandler,p))}catch(_){return Promise.reject(_)}}_handleEvent(h,p){if(!this._requestHandler)throw new Error("Missing requestHandler");if(r(h)){const _=this._requestHandler[h].call(this._requestHandler,p);if(typeof _!="function")throw new Error(`Missing dynamic event ${h} on request handler.`);return _}if(l(h)){const _=this._requestHandler[h];if(typeof _!="function")throw new Error(`Missing event ${h} on request handler.`);return _}throw new Error(`Malformed event name ${h}`)}initialize(h,p,_,S){this._protocol.setWorkerId(h);const T=d(S,(N,A)=>this._protocol.sendMessage(N,A),(N,A)=>this._protocol.listen(N,A));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(p&&(typeof p.baseUrl<"u"&&delete p.baseUrl,typeof p.paths<"u"&&typeof p.paths.vs<"u"&&delete p.paths.vs,typeof p.trustedTypesPolicy<"u"&&delete p.trustedTypesPolicy,p.catchError=!0,globalThis.require.config(p)),new Promise((N,A)=>{(globalThis.require||X)([_],M=>{if(this._requestHandler=M.create(T),!this._requestHandler){A(new Error("No RequestHandler!"));return}N((0,D.getAllMethodNames)(this._requestHandler))},A)}))}}e.SimpleWorkerServer=u;function a(v){return new u(v,null)}}),define(ne[640],se([1,0,100,9,47,351,2]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=void 0,e.getWorkerBootstrapUrl=b;const m=(0,f.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:i=>i});function w(i){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",i);if(typeof t.getWorkerUrl=="function"){const s=t.getWorkerUrl("workerMain.js",i);return new Worker(m?m.createScriptURL(s):s,{name:i})}}if(typeof X=="function"){const s=X.toUrl("vs/base/worker/workerMain.js"),c=b(s,i);return new Worker(m?m.createScriptURL(c):c,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(i,t){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,globalThis.origin.length)!==globalThis.origin){const r="vs/base/worker/defaultWorkerFactory.js",d=X.toUrl(r).slice(0,-r.length),u=`/*${t}*/globalThis.MonacoEnvironment={baseUrl: '${d}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${t}*/`,a=new Blob([u],{type:"application/javascript"});return URL.createObjectURL(a)}const s=i.lastIndexOf("?"),c=i.lastIndexOf("#",s),g=s>0?new URLSearchParams(i.substring(s+1,~c?c:void 0)):new URLSearchParams;return L.COI.addSearchParam(g,!0,!0),g.toString()?`${i}?${g.toString()}#${t}`:`${i}#${t}`}function C(i){return typeof i.then=="function"}class o extends y.Disposable{constructor(t,s,c,g,l){super(),this.id=s,this.label=c;const r=w(c);C(r)?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(t,[]),this.worker.then(d=>{d.onmessage=function(u){g(u.data)},d.onmessageerror=l,typeof d.addEventListener=="function"&&d.addEventListener("error",l)}),this._register((0,y.toDisposable)(()=>{var d;(d=this.worker)===null||d===void 0||d.then(u=>{u.onmessage=null,u.onmessageerror=null,u.removeEventListener("error",l),u.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(t,s){var c;(c=this.worker)===null||c===void 0||c.then(g=>{try{g.postMessage(t,s)}catch(l){(0,k.onUnexpectedError)(l),(0,k.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:l}))}})}}class n{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,s,c){const g=++n.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new o(t,g,this._label||"anonymous"+g,s,l=>{(0,D.logOnceWebWorkerWarning)(l),this._webWorkerFailedBeforeError=l,c(l)})}}e.DefaultWorkerFactory=n,n.LAST_WORKER_ID=0}),define(ne[641],se([1,0,15,7,2,248,20]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var m;(function(o){o[o.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",o[o.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(m||(e.StorageHint=m={}));var w;(function(o){o[o.None=0]="None",o[o.Initialized=1]="Initialized",o[o.Closed=2]="Closed"})(w||(e.StorageState=w={}));class b extends L.Disposable{constructor(n,i=Object.create(null)){super(),this.database=n,this.options=i,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=w.None,this.cache=new Map,this.flushDelayer=this._register(new f.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(n=>this.onDidChangeItemsExternal(n)))}onDidChangeItemsExternal(n){var i,t;this._onDidChangeStorage.pause();try{(i=n.changed)===null||i===void 0||i.forEach((s,c)=>this.acceptExternal(c,s)),(t=n.deleted)===null||t===void 0||t.forEach(s=>this.acceptExternal(s,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(n,i){if(this.state===w.Closed)return;let t=!1;(0,y.isUndefinedOrNull)(i)?t=this.cache.delete(n):this.cache.get(n)!==i&&(this.cache.set(n,i),t=!0),t&&this._onDidChangeStorage.fire({key:n,external:!0})}get(n,i){const t=this.cache.get(n);return(0,y.isUndefinedOrNull)(t)?i:t}getBoolean(n,i){const t=this.get(n);return(0,y.isUndefinedOrNull)(t)?i:t==="true"}getNumber(n,i){const t=this.get(n);return(0,y.isUndefinedOrNull)(t)?i:parseInt(t,10)}async set(n,i,t=!1){if(this.state===w.Closed)return;if((0,y.isUndefinedOrNull)(i))return this.delete(n,t);const s=(0,y.isObject)(i)||Array.isArray(i)?(0,D.stringify)(i):String(i);if(this.cache.get(n)!==s)return this.cache.set(n,s),this.pendingInserts.set(n,s),this.pendingDeletes.delete(n),this._onDidChangeStorage.fire({key:n,external:t}),this.doFlush()}async delete(n,i=!1){if(!(this.state===w.Closed||!this.cache.delete(n)))return this.pendingDeletes.has(n)||this.pendingDeletes.add(n),this.pendingInserts.delete(n),this._onDidChangeStorage.fire({key:n,external:i}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const n={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(n).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})}async doFlush(n){return this.options.hint===m.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),n)}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}async updateItems(n){var i,t;(i=n.insert)===null||i===void 0||i.forEach((s,c)=>this.items.set(c,s)),(t=n.delete)===null||t===void 0||t.forEach(s=>this.items.delete(s))}}e.InMemoryStorageDatabase=C}),define(ne[352],se([1,0,2,7,6]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class D extends f.Disposable{constructor(m,w){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=m,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,w)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let m=null;const w=()=>{m?this.observe({width:m.width,height:m.height}):this.observe()};let b=!1,C=!1;const o=()=>{if(b&&!C)try{b=!1,C=!0,w()}finally{(0,L.scheduleAtNextAnimationFrame)((0,L.getWindow)(this._referenceDomElement),()=>{C=!1,o()})}};this._resizeObserver=new ResizeObserver(n=>{n&&n[0]&&n[0].contentRect?m={width:n[0].contentRect.width,height:n[0].contentRect.height}:m=null,b=!0,o()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(m){this.measureReferenceDomElement(!0,m)}measureReferenceDomElement(m,w){let b=0,C=0;w?(b=w.width,C=w.height):this._referenceDomElement&&(b=this._referenceDomElement.clientWidth,C=this._referenceDomElement.clientHeight),b=Math.max(5,b),C=Math.max(5,C),(this._width!==b||this._height!==C)&&(this._width=b,this._height=C,m&&this._onDidChange.fire())}}e.ElementSizeObserver=D}),define(ne[642],se([1,0,6,40,56]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends L.ViewPart{constructor(n,i){super(n),this._viewDomNode=i,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),L.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),L.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onConfigurationChanged(n);return!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLineMappingChanged(n){return this._updateAnchorsViewPositions(),!0}onLinesChanged(n){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(n){return this._updateAnchorsViewPositions(),!0}onLinesInserted(n){return this._updateAnchorsViewPositions(),!0}onScrollChanged(n){return!0}onZonesChanged(n){return!0}_updateAnchorsViewPositions(){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].updateAnchorViewPosition()}addWidget(n){const i=new y(this._context,this._viewDomNode,n);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(n,i,t,s,c){this._widgets[n.getId()].setPosition(i,t,s,c),this.setShouldRender()}removeWidget(n){const i=n.getId();if(this._widgets.hasOwnProperty(i)){const t=this._widgets[i];delete this._widgets[i];const s=t.domNode.domNode;s.parentNode.removeChild(s),s.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(n){return this._widgets.hasOwnProperty(n)?this._widgets[n].suppressMouseDown:!1}onBeforeRender(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onBeforeRender(n)}prepareRender(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].prepareRender(n)}render(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].render(n)}}e.ViewContentWidgets=D;class y{constructor(n,i,t){this._primaryAnchor=new m(null,null),this._secondaryAnchor=new m(null,null),this._context=n,this._viewDomNode=i,this._actual=t,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const s=this._context.configuration.options,c=s.get(145);this._fixedOverflowWidgets=s.get(42),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=s.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(n){const i=this._context.configuration.options;if(this._lineHeight=i.get(67),n.hasChanged(145)){const t=i.get(145);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(n,i,t){this._affinity=n,this._primaryAnchor=s(i,this._context.viewModel,this._affinity),this._secondaryAnchor=s(t,this._context.viewModel,this._affinity);function s(c,g,l){if(!c)return new m(null,null);const r=g.model.validatePosition(c);if(g.coordinatesConverter.modelPositionIsVisible(r)){const d=g.coordinatesConverter.convertModelPositionToViewPosition(r,l??void 0);return new m(c,d)}return new m(c,null)}}_getMaxWidth(){const n=this.domNode.domNode.ownerDocument,i=n.defaultView;return this.allowEditorOverflow?i?.innerWidth||n.documentElement.offsetWidth||n.body.offsetWidth:this._contentWidth}setPosition(n,i,t,s){this._setPosition(s,n,i),this._preference=t,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(n,i,t,s){const c=n.top,g=c,l=n.top+n.height,r=s.viewportHeight-l,d=c-t,u=g>=t,a=l,v=r>=t;let h=n.left;return h+i>s.scrollLeft+s.viewportWidth&&(h=s.scrollLeft+s.viewportWidth-i),h<s.scrollLeft&&(h=s.scrollLeft),{fitsAbove:u,aboveTop:d,fitsBelow:v,belowTop:a,left:h}}_layoutHorizontalSegmentInPage(n,i,t,s){var c;const r=Math.max(15,i.left-s),d=Math.min(i.left+i.width+s,n.width-15),a=this._viewDomNode.domNode.ownerDocument.defaultView;let v=i.left+t-((c=a?.scrollX)!==null&&c!==void 0?c:0);if(v+s>d){const h=v-(d-s);v-=h,t-=h}if(v<r){const h=v-r;v-=h,t-=h}return[t,v]}_layoutBoxInPage(n,i,t,s){var c,g;const l=n.top-t,r=n.top+n.height,d=f.getDomNodePagePosition(this._viewDomNode.domNode),u=this._viewDomNode.domNode.ownerDocument,a=u.defaultView,v=d.top+l-((c=a?.scrollY)!==null&&c!==void 0?c:0),h=d.top+r-((g=a?.scrollY)!==null&&g!==void 0?g:0),p=f.getClientArea(u.body),[_,S]=this._layoutHorizontalSegmentInPage(p,d,n.left-s.scrollLeft+this._contentLeft,i),E=22,I=22,T=v>=E,N=h+t<=p.height-I;return this._fixedOverflowWidgets?{fitsAbove:T,aboveTop:Math.max(v,E),fitsBelow:N,belowTop:h,left:S}:{fitsAbove:T,aboveTop:l,fitsBelow:N,belowTop:r,left:_}}_prepareRenderWidgetAtExactPositionOverflowing(n){return new w(n.top,n.left+this._contentLeft)}_getAnchorsCoordinates(n){var i,t;const s=l(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),c=((i=this._secondaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)===((t=this._primaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)?this._secondaryAnchor.viewPosition:null,g=l(c,this._affinity,this._lineHeight);return{primary:s,secondary:g};function l(r,d,u){if(!r)return null;const a=n.visibleRangeForPosition(r);if(!a)return null;const v=r.column===1&&d===3?0:a.left,h=n.getVerticalOffsetForLineNumber(r.lineNumber)-n.scrollTop;return new b(h,v,u)}}_reduceAnchorCoordinates(n,i,t){if(!i)return n;const s=this._context.configuration.options.get(50);let c=i.left;return c<n.left?c=Math.max(c,n.left-t+s.typicalFullwidthCharacterWidth):c=Math.min(c,n.left+t-s.typicalFullwidthCharacterWidth),new b(n.top,c,n.height)}_prepareRenderWidget(n){if(!this._preference||this._preference.length===0)return null;const{primary:i,secondary:t}=this._getAnchorsCoordinates(n);if(!i)return{kind:"offViewport",preserveFocus:this.domNode.domNode.contains(this.domNode.domNode.ownerDocument.activeElement)};if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let g=null;if(typeof this._actual.beforeRender=="function"&&(g=C(this._actual.beforeRender,this._actual)),g)this._cachedDomNodeOffsetWidth=g.width,this._cachedDomNodeOffsetHeight=g.height;else{const r=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(r.width),this._cachedDomNodeOffsetHeight=Math.round(r.height)}}const s=this._reduceAnchorCoordinates(i,t,this._cachedDomNodeOffsetWidth);let c;this.allowEditorOverflow?c=this._layoutBoxInPage(s,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,n):c=this._layoutBoxInViewport(s,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,n);for(let g=1;g<=2;g++)for(const l of this._preference)if(l===1){if(!c)return null;if(g===2||c.fitsAbove)return{kind:"inViewport",coordinate:new w(c.aboveTop,c.left),position:1}}else if(l===2){if(!c)return null;if(g===2||c.fitsBelow)return{kind:"inViewport",coordinate:new w(c.belowTop,c.left),position:2}}else return this.allowEditorOverflow?{kind:"inViewport",coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new w(s.top,s.left)),position:0}:{kind:"inViewport",coordinate:new w(s.top,s.left),position:0};return null}onBeforeRender(n){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<n.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>n.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(n){this._renderData=this._prepareRenderWidget(n)}render(n){var i;if(!this._renderData||this._renderData.kind==="offViewport"){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,((i=this._renderData)===null||i===void 0?void 0:i.kind)==="offViewport"&&this._renderData.preserveFocus?this.domNode.setTop(-1e3):this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+n.scrollTop-n.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}class m{constructor(n,i){this.modelPosition=n,this.viewPosition=i}}class w{constructor(n,i){this.top=n,this.left=i,this._coordinateBrand=void 0}}class b{constructor(n,i,t){this.top=n,this.left=i,this.height=t,this._anchorCoordinateBrand=void 0}}function C(o,n,...i){try{return o.call(n,...i)}catch{return null}}}),define(ne[643],se([1,0,40,56,6,474]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class D extends k.ViewPart{constructor(m,w){super(m),this._viewDomNode=w;const C=this._context.configuration.options.get(145);this._widgets={},this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=(0,f.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=(0,f.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(m){const b=this._context.configuration.options.get(145);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(m){const w=(0,f.createFastDomNode)(m.getDomNode());this._widgets[m.getId()]={widget:m,preference:null,domNode:w},w.setPosition("absolute"),w.setAttribute("widgetId",m.getId()),m.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(w):this._domNode.appendChild(w),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(m,w){const b=this._widgets[m.getId()],C=w?w.preference:null,o=w?.stackOridinal;return b.preference===C&&b.stack===o?(this._updateMaxMinWidth(),!1):(b.preference=C,b.stack=o,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(m){const w=m.getId();if(this._widgets.hasOwnProperty(w)){const C=this._widgets[w].domNode.domNode;delete this._widgets[w],C.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var m,w;let b=0;const C=Object.keys(this._widgets);for(let o=0,n=C.length;o<n;o++){const i=C[o],s=(w=(m=this._widgets[i].widget).getMinContentWidthInPx)===null||w===void 0?void 0:w.call(m);typeof s<"u"&&(b=Math.max(b,s))}this._context.viewLayout.setOverlayWidgetsMinWidth(b)}_renderWidget(m,w){const b=m.domNode;if(m.preference===null){b.setTop("");return}const C=2*this._verticalScrollbarWidth+this._minimapWidth;if(m.preference===0||m.preference===1){if(m.preference===1){const o=b.domNode.clientHeight;b.setTop(this._editorHeight-o-2*this._horizontalScrollbarHeight)}else b.setTop(0);m.stack!==void 0?(b.setTop(w[m.preference]),w[m.preference]+=b.domNode.clientWidth):b.setRight(C)}else if(m.preference===2)b.domNode.style.right="50%",m.stack!==void 0?(b.setTop(w[2]),w[2]+=b.domNode.clientHeight):b.setTop(0);else{const{top:o,left:n}=m.preference;if(this._context.configuration.options.get(42)&&m.widget.allowEditorOverflow){const t=this._viewDomNodeRect;b.setTop(o+t.top),b.setLeft(n+t.left),b.setPosition("fixed")}else b.setTop(o),b.setLeft(n),b.setPosition("absolute")}}prepareRender(m){this._viewDomNodeRect=L.getDomNodePagePosition(this._viewDomNode.domNode)}render(m){this._domNode.setWidth(this._editorWidth);const w=Object.keys(this._widgets),b=Array.from({length:3},()=>0);w.sort((C,o)=>(this._widgets[C].stack||0)-(this._widgets[o].stack||0));for(let C=0,o=w.length;C<o;C++){const n=w[C];this._renderWidget(this._widgets[n],b)}}}e.ViewOverlayWidgets=D}),define(ne[644],se([1,0,6,9,2]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends L.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new L.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(m,w,b){this._editor=m,this._instantiationService=b;for(const C of w){if(this._pending.has(C.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${C.id}`));continue}this._pending.set(C.id,C)}this._instantiateSome(0),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const m={};for(const[w,b]of this._instances)typeof b.saveViewState=="function"&&(m[w]=b.saveViewState());return m}restoreViewState(m){for(const[w,b]of this._instances)typeof b.restoreViewState=="function"&&b.restoreViewState(m[w])}get(m){return this._instantiateById(m),this._instances.get(m)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var m;return(0,f.runWhenWindowIdle)((0,f.getWindow)((m=this._editor)===null||m===void 0?void 0:m.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(m){if(this._finishedInstantiation[m])return;this._finishedInstantiation[m]=!0;const w=this._findPendingContributionsByInstantiation(m);for(const b of w)this._instantiateById(b.id)}_findPendingContributionsByInstantiation(m){const w=[];for(const[,b]of this._pending)b.instantiation===m&&w.push(b);return w}_instantiateById(m){const w=this._pending.get(m);if(w){if(this._pending.delete(m),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const b=this._instantiationService.createInstance(w.ctor,this._editor);this._instances.set(w.id,b),typeof b.restoreViewState=="function"&&w.instantiation!==0&&console.warn(`Editor contribution '${w.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(b){(0,k.onUnexpectedError)(b)}}}}e.CodeEditorContributions=D}),define(ne[353],se([1,0,168,2,30,126]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=e.SashLayout=void 0;class y{resetSash(){this._sashRatio.set(void 0,void 0)}constructor(b,C){this._options=b,this.dimensions=C,this.sashLeft=(0,D.derivedWithSetter)(this,o=>{var n;const i=(n=this._sashRatio.read(o))!==null&&n!==void 0?n:this._options.splitViewDefaultRatio.read(o);return this._computeSashLeft(i,o)},(o,n)=>{const i=this.dimensions.width.get();this._sashRatio.set(o/i,n)}),this._sashRatio=(0,L.observableValue)(this,void 0)}_computeSashLeft(b,C){const o=this.dimensions.width.read(C),n=Math.floor(this._options.splitViewDefaultRatio.read(C)*o),i=this._options.enableSplitViewResizing.read(C)?Math.floor(b*o):n,t=100;return o<=t*2?n:i<t?t:i>o-t?o-t:i}}e.SashLayout=y;class m extends k.Disposable{constructor(b,C,o,n,i,t){super(),this._domNode=b,this._dimensions=C,this._enabled=o,this._boundarySashes=n,this.sashLeft=i,this._resetSash=t,this._sash=this._register(new f.Sash(this._domNode,{getVerticalSashTop:s=>0,getVerticalSashLeft:s=>this.sashLeft.get(),getVerticalSashHeight:s=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(s=>{this.sashLeft.set(this._startSashPosition+(s.currentX-s.startX),void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._resetSash())),this._register((0,L.autorun)(s=>{const c=this._boundarySashes.read(s);c&&(this._sash.orthogonalEndSash=c.bottom)})),this._register((0,L.autorun)(s=>{const c=this._enabled.read(s);this._sash.state=c?3:0,this.sashLeft.read(s),this._dimensions.height.read(s),this._sash.layout()}))}}e.DiffEditorSash=m}),define(ne[83],se([1,0,68,19,622,2,30,352,10,5,108]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCancellationTokenSource=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.ObservableElementSizeObserver=void 0,e.joinCombine=o,e.applyObservableDecorations=n,e.appendRemoveOnDispose=i,e.prependRemoveOnDispose=t,e.animatedObservable=c,e.applyStyle=u,e.readHotReloadableExport=a,e.observeHotReloadableExports=v,e.applyViewZones=h,e.translatePosition=_,e.filterWithPrevious=E;function o(I,T,N,A){if(I.length===0)return T;if(T.length===0)return I;const R=[];let M=0,P=0;for(;M<I.length&&P<T.length;){const F=I[M],O=T[P],B=N(F),V=N(O);B<V?(R.push(F),M++):B>V?(R.push(O),P++):(R.push(A(F,O)),M++,P++)}for(;M<I.length;)R.push(I[M]),M++;for(;P<T.length;)R.push(T[P]),P++;return R}function n(I,T){const N=new D.DisposableStore,A=I.createDecorationsCollection();return N.add((0,y.autorunOpts)({debugName:()=>`Apply decorations from ${T.debugName}`},R=>{const M=T.read(R);A.set(M)})),N.add({dispose:()=>{A.clear()}}),N}function i(I,T){return I.appendChild(T),(0,D.toDisposable)(()=>{I.removeChild(T)})}function t(I,T){return I.prepend(T),(0,D.toDisposable)(()=>{I.removeChild(T)})}class s extends D.Disposable{get width(){return this._width}get height(){return this._height}get automaticLayout(){return this._automaticLayout}constructor(T,N){super(),this._automaticLayout=!1,this.elementSizeObserver=this._register(new m.ElementSizeObserver(T,N)),this._width=(0,y.observableValue)(this,this.elementSizeObserver.getWidth()),this._height=(0,y.observableValue)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(A=>(0,y.transaction)(R=>{this._width.set(this.elementSizeObserver.getWidth(),R),this._height.set(this.elementSizeObserver.getHeight(),R)})))}observe(T){this.elementSizeObserver.observe(T)}setAutomaticLayout(T){this._automaticLayout=T,T?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=s;function c(I,T,N){let A=T.get(),R=A,M=A;const P=(0,y.observableValue)("animatedValue",A);let F=-1;const O=300;let B;N.add((0,y.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(K,U)=>(K.didChange(T)&&(U.animate=U.animate||K.change),!0)},(K,U)=>{B!==void 0&&(I.cancelAnimationFrame(B),B=void 0),R=M,A=T.read(K),F=Date.now()-(U.animate?0:O),V()}));function V(){const K=Date.now()-F;M=Math.floor(g(K,R,A-R,O)),K<O?B=I.requestAnimationFrame(V):M=A,P.set(M,void 0)}return P}function g(I,T,N,A){return I===A?T+N:N*(-Math.pow(2,-10*I/A)+1)+T}class l extends D.Disposable{constructor(T,N,A){super(),this._register(new d(T,A)),this._register(u(A,{height:N.actualHeight,top:N.actualTop}))}}e.ViewZoneOverlayWidget=l;class r{get afterLineNumber(){return this._afterLineNumber.get()}constructor(T,N){this._afterLineNumber=T,this.heightInPx=N,this.domNode=document.createElement("div"),this._actualTop=(0,y.observableValue)(this,void 0),this._actualHeight=(0,y.observableValue)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=A=>{this._actualTop.set(A,void 0)},this.onComputedHeight=A=>{this._actualHeight.set(A,void 0)}}}e.PlaceholderViewZone=r;class d{constructor(T,N){this._editor=T,this._domElement=N,this._overlayWidgetId=`managedOverlayWidget-${d._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=d,d._counter=0;function u(I,T){return(0,y.autorun)(N=>{for(let[A,R]of Object.entries(T))R&&typeof R=="object"&&"read"in R&&(R=R.read(N)),typeof R=="number"&&(R=`${R}px`),A=A.replace(/[A-Z]/g,M=>"-"+M.toLowerCase()),I.style[A]=R})}function a(I,T){return v([I],T),I}function v(I,T){(0,L.isHotReloadEnabled)()&&(0,y.observableSignalFromEvent)("reload",A=>(0,L.registerHotReloadHandler)(({oldExports:R})=>{if([...Object.values(R)].some(M=>I.includes(M)))return M=>(A(void 0),!0)})).read(T)}function h(I,T,N,A){const R=new D.DisposableStore,M=[];return R.add((0,y.autorunWithStore)((P,F)=>{const O=T.read(P),B=new Map,V=new Map;N&&N(!0),I.changeViewZones(K=>{for(const U of M)K.removeZone(U),A?.delete(U);M.length=0;for(const U of O){const G=K.addZone(U);U.setZoneId&&U.setZoneId(G),M.push(G),A?.add(G),B.set(U,G)}}),N&&N(!1),F.add((0,y.autorunHandleChanges)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(K,U){const G=V.get(K.changedObservable);return G!==void 0&&U.zoneIds.push(G),!0}},(K,U)=>{for(const G of O)G.onChange&&(V.set(G.onChange,B.get(G)),G.onChange.read(K));N&&N(!0),I.changeViewZones(G=>{for(const z of U.zoneIds)G.layoutZone(z)}),N&&N(!1)}))})),R.add({dispose(){N&&N(!0),I.changeViewZones(P=>{for(const F of M)P.removeZone(F)}),A?.clear(),N&&N(!1)}}),R}class p extends k.CancellationTokenSource{dispose(){super.dispose(!0)}}e.DisposableCancellationTokenSource=p;function _(I,T){const N=(0,f.findLast)(T,R=>R.original.startLineNumber<=I.lineNumber);if(!N)return b.Range.fromPositions(I);if(N.original.endLineNumberExclusive<=I.lineNumber){const R=I.lineNumber-N.original.endLineNumberExclusive+N.modified.endLineNumberExclusive;return b.Range.fromPositions(new w.Position(R,I.column))}if(!N.innerChanges)return b.Range.fromPositions(new w.Position(N.modified.startLineNumber,1));const A=(0,f.findLast)(N.innerChanges,R=>R.originalRange.getStartPosition().isBeforeOrEqual(I));if(!A){const R=I.lineNumber-N.original.startLineNumber+N.modified.startLineNumber;return b.Range.fromPositions(new w.Position(R,I.column))}if(A.originalRange.containsPosition(I))return A.modifiedRange;{const R=S(A.originalRange.getEndPosition(),I);return b.Range.fromPositions(R.addToPosition(A.modifiedRange.getEndPosition()))}}function S(I,T){return I.lineNumber===T.lineNumber?new C.TextLength(0,T.column-I.column):new C.TextLength(T.lineNumber-I.lineNumber,T.column-1)}function E(I,T){let N;return I.filter(A=>{const R=T(A,N);return N=A,R})}}),define(ne[645],se([1,0,6,2,30,61,67]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorGutter=void 0;class m extends k.Disposable{constructor(C,o,n){super(),this._editor=C,this._domNode=o,this.itemProvider=n,this.scrollTop=(0,L.observableFromEvent)(this._editor.onDidScrollChange,s=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(s=>s===0),this.modelAttached=(0,L.observableFromEvent)(this._editor.onDidChangeModel,s=>this._editor.hasModel()),this.editorOnDidChangeViewZones=(0,L.observableSignalFromEvent)("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=(0,L.observableSignalFromEvent)("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=(0,L.observableSignal)("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const i=this._domNode.appendChild((0,f.h)("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),t=new ResizeObserver(()=>{(0,L.transaction)(s=>{this.domNodeSizeChanged.trigger(s)})});t.observe(this._domNode),this._register((0,k.toDisposable)(()=>t.disconnect())),this._register((0,L.autorun)(s=>{i.className=this.isScrollTopZero.read(s)?"":"scroll-decoration"})),this._register((0,L.autorun)(s=>this.render(s)))}dispose(){super.dispose(),(0,f.reset)(this._domNode)}render(C){if(!this.modelAttached.read(C))return;this.domNodeSizeChanged.read(C),this.editorOnDidChangeViewZones.read(C),this.editorOnDidContentSizeChange.read(C);const o=this.scrollTop.read(C),n=this._editor.getVisibleRanges(),i=new Set(this.views.keys()),t=y.OffsetRange.ofStartAndLength(0,this._domNode.clientHeight);if(!t.isEmpty)for(const s of n){const c=new D.LineRange(s.startLineNumber,s.endLineNumber+1),g=this.itemProvider.getIntersectingGutterItems(c,C);(0,L.transaction)(l=>{for(const r of g){if(!r.range.intersect(c))continue;i.delete(r.id);let d=this.views.get(r.id);if(d)d.item.set(r,l);else{const h=document.createElement("div");this._domNode.appendChild(h);const p=(0,L.observableValue)("item",r),_=this.itemProvider.createView(p,h);d=new w(p,_,h),this.views.set(r.id,d)}const u=r.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(r.range.startLineNumber,!0)-o:this._editor.getBottomForLineNumber(r.range.startLineNumber-1,!1)-o,v=(r.range.isEmpty?u:this._editor.getBottomForLineNumber(r.range.endLineNumberExclusive-1,!0)-o)-u;d.domNode.style.top=`${u}px`,d.domNode.style.height=`${v}px`,d.gutterItemView.layout(y.OffsetRange.ofStartAndLength(u,v),t)}})}for(const s of i){const c=this.views.get(s);c.gutterItemView.dispose(),this._domNode.removeChild(c.domNode),this.views.delete(s)}}}e.EditorGutter=m;class w{constructor(C,o,n){this.item=C,this.gutterItemView=o,this.domNode=n}}}),define(ne[112],se([1,0,11,17,156]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=void 0,e.getPlatformTextDecoder=C,e.decodeUTF16LE=o;let D;function y(){return D||(D=new TextDecoder("UTF-16LE")),D}let m;function w(){return m||(m=new TextDecoder("UTF-16BE")),m}let b;function C(){return b||(b=k.isLittleEndian()?y():w()),b}function o(t,s,c){const g=new Uint16Array(t.buffer,s,c);return c>0&&(g[0]===65279||g[0]===65534)?n(t,s,c):y().decode(g)}function n(t,s,c){const g=[];let l=0;for(let r=0;r<c;r++){const d=L.readUInt16LE(t,s);s+=2,g[l++]=String.fromCharCode(d)}return g.join("")}class i{constructor(s){this._capacity=s|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const s=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return C().decode(s)}_flushBuffer(){const s=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[s]:this._completedStrings[this._completedStrings.length]=s}appendCharCode(s){const c=this._capacity-this._bufferLength;c<=1&&(c===0||f.isHighSurrogate(s))&&this._flushBuffer(),this._buffer[this._bufferLength++]=s}appendASCIICharCode(s){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=s}appendString(s){const c=s.length;if(this._bufferLength+c>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=s;return}for(let g=0;g<c;g++)this._buffer[this._bufferLength++]=s.charCodeAt(g)}}e.StringBuilder=i}),define(ne[646],se([1,0,100,11,20,72,112,318,129]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const b=(0,f.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:c=>c});class C{static create(g){return new C(new WeakRef(g))}constructor(g){this.targetWindow=g}createLineBreaksComputer(g,l,r,d,u){const a=[],v=[];return{addRequest:(h,p,_)=>{a.push(h),v.push(p)},finalize:()=>o((0,L.assertIsDefined)(this.targetWindow.deref()),a,g,l,r,d,u,v)}}}e.DOMLineBreaksComputerFactory=C;function o(c,g,l,r,d,u,a,v){var h;function p(G){const z=v[G];if(z){const $=w.LineInjectedText.applyInjectedText(g[G],z),J=z.map(Z=>Z.options),ee=z.map(Z=>Z.column-1);return new m.ModelLineProjectionData(ee,J,[$.length],[],0)}else return null}if(d===-1){const G=[];for(let z=0,$=g.length;z<$;z++)G[z]=p(z);return G}const _=Math.round(d*l.typicalHalfwidthCharacterWidth),E=Math.round(r*(u===3?2:u===2?1:0)),I=Math.ceil(l.spaceWidth*E),T=document.createElement("div");(0,D.applyFontInfo)(T,l);const N=new y.StringBuilder(1e4),A=[],R=[],M=[],P=[],F=[];for(let G=0;G<g.length;G++){const z=w.LineInjectedText.applyInjectedText(g[G],v[G]);let $=0,J=0,ee=_;if(u!==0)if($=k.firstNonWhitespaceIndex(z),$===-1)$=0;else{for(let ae=0;ae<$;ae++){const ue=z.charCodeAt(ae)===9?r-J%r:1;J+=ue}const Y=Math.ceil(l.spaceWidth*J);Y+l.typicalFullwidthCharacterWidth>_?($=0,J=0):ee=_-Y}const Z=z.substr($),x=n(Z,J,r,ee,N,I);A[G]=$,R[G]=J,M[G]=Z,P[G]=x[0],F[G]=x[1]}const O=N.build(),B=(h=b?.createHTML(O))!==null&&h!==void 0?h:O;T.innerHTML=B,T.style.position="absolute",T.style.top="10000",a==="keepAll"?(T.style.wordBreak="keep-all",T.style.overflowWrap="anywhere"):(T.style.wordBreak="inherit",T.style.overflowWrap="break-word"),c.document.body.appendChild(T);const V=document.createRange(),K=Array.prototype.slice.call(T.children,0),U=[];for(let G=0;G<g.length;G++){const z=K[G],$=i(V,z,M[G],P[G]);if($===null){U[G]=p(G);continue}const J=A[G],ee=R[G]+E,Z=F[G],x=[];for(let he=0,pe=$.length;he<pe;he++)x[he]=Z[$[he]];if(J!==0)for(let he=0,pe=$.length;he<pe;he++)$[he]+=J;let Y,ae;const ue=v[G];ue?(Y=ue.map(he=>he.options),ae=ue.map(he=>he.column-1)):(Y=null,ae=null),U[G]=new m.ModelLineProjectionData(ae,Y,$,x,ee)}return c.document.body.removeChild(T),U}function n(c,g,l,r,d,u){if(u!==0){const E=String(u);d.appendString('<div style="text-indent: -'),d.appendString(E),d.appendString("px; padding-left: "),d.appendString(E),d.appendString("px; box-sizing: border-box; width:")}else d.appendString('<div style="width:');d.appendString(String(r)),d.appendString('px;">');const a=c.length;let v=g,h=0;const p=[],_=[];let S=0<a?c.charCodeAt(0):0;d.appendString("<span>");for(let E=0;E<a;E++){E!==0&&E%16384===0&&d.appendString("</span><span>"),p[E]=h,_[E]=v;const I=S;S=E+1<a?c.charCodeAt(E+1):0;let T=1,N=1;switch(I){case 9:T=l-v%l,N=T;for(let A=1;A<=T;A++)A<T?d.appendCharCode(160):d.appendASCIICharCode(32);break;case 32:S===32?d.appendCharCode(160):d.appendASCIICharCode(32);break;case 60:d.appendString("&lt;");break;case 62:d.appendString("&gt;");break;case 38:d.appendString("&amp;");break;case 0:d.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:d.appendCharCode(65533);break;default:k.isFullWidthCharacter(I)&&N++,I<32?d.appendCharCode(9216+I):d.appendCharCode(I)}h+=T,v+=N}return d.appendString("</span>"),p[c.length]=h,_[c.length]=v,d.appendString("</div>"),[p,_]}function i(c,g,l,r){if(l.length<=1)return null;const d=Array.prototype.slice.call(g.children,0),u=[];try{t(c,d,r,0,null,l.length-1,null,u)}catch(a){return console.log(a),null}return u.length===0?null:(u.push(l.length),u)}function t(c,g,l,r,d,u,a,v){if(r===u||(d=d||s(c,g,l[r],l[r+1]),a=a||s(c,g,l[u],l[u+1]),Math.abs(d[0].top-a[0].top)<=.1))return;if(r+1===u){v.push(u);return}const h=r+(u-r)/2|0,p=s(c,g,l[h],l[h+1]);t(c,g,l,r,d,h,p,v),t(c,g,l,h,p,u,a,v)}function s(c,g,l,r){return c.setStart(g[l/16384|0].firstChild,l%16384),c.setEnd(g[r/16384|0].firstChild,r%16384),c.getClientRects()}}),define(ne[257],se([1,0,40,100,9,112]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class y{constructor(C){this._createLine=C,this._set(1,[])}flush(){this._set(1,[])}_set(C,o){this._lines=o,this._rendLineNumberStart=C}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(C){const o=C-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new L.BugIndicatingError("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(C,o){if(this.getCount()===0)return null;const n=this.getStartLineNumber(),i=this.getEndLineNumber();if(o<n){const g=o-C+1;return this._rendLineNumberStart-=g,null}if(C>i)return null;let t=0,s=0;for(let g=n;g<=i;g++){const l=g-this._rendLineNumberStart;C<=g&&g<=o&&(s===0?(t=l,s=1):s++)}if(C<n){let g=0;o<n?g=o-C+1:g=n-C,this._rendLineNumberStart-=g}return this._lines.splice(t,s)}onLinesChanged(C,o){const n=C+o-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let s=!1;for(let c=C;c<=n;c++)c>=i&&c<=t&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(C,o){if(this.getCount()===0)return null;const n=o-C+1,i=this.getStartLineNumber(),t=this.getEndLineNumber();if(C<=i)return this._rendLineNumberStart+=n,null;if(C>t)return null;if(n+C>t)return this._lines.splice(C-this._rendLineNumberStart,t-C+1);const s=[];for(let d=0;d<n;d++)s[d]=this._createLine();const c=C-this._rendLineNumberStart,g=this._lines.slice(0,c),l=this._lines.slice(c,this._lines.length-n),r=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=g.concat(s).concat(l),r}onTokensChanged(C){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),n=this.getEndLineNumber();let i=!1;for(let t=0,s=C.length;t<s;t++){const c=C[t];if(c.toLineNumber<o||c.fromLineNumber>n)continue;const g=Math.max(o,c.fromLineNumber),l=Math.min(n,c.toLineNumber);for(let r=g;r<=l;r++){const d=r-this._rendLineNumberStart;this._lines[d].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=y;class m{constructor(C){this._host=C,this.domNode=this._createDomNode(),this._linesCollection=new y(()=>this._host.createVisibleLine())}_createDomNode(){const C=(0,f.createFastDomNode)(document.createElement("div"));return C.setClassName("view-layer"),C.setPosition("absolute"),C.domNode.setAttribute("role","presentation"),C.domNode.setAttribute("aria-hidden","true"),C}onConfigurationChanged(C){return!!C.hasChanged(145)}onFlushed(C){return this._linesCollection.flush(),!0}onLinesChanged(C){return this._linesCollection.onLinesChanged(C.fromLineNumber,C.count)}onLinesDeleted(C){const o=this._linesCollection.onLinesDeleted(C.fromLineNumber,C.toLineNumber);if(o)for(let n=0,i=o.length;n<i;n++){const t=o[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(C){const o=this._linesCollection.onLinesInserted(C.fromLineNumber,C.toLineNumber);if(o)for(let n=0,i=o.length;n<i;n++){const t=o[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(C){return C.scrollTopChanged}onTokensChanged(C){return this._linesCollection.onTokensChanged(C.ranges)}onZonesChanged(C){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(C){return this._linesCollection.getLine(C)}renderLines(C){const o=this._linesCollection._get(),n=new w(this.domNode.domNode,this._host,C),i={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},t=n.render(i,C.startLineNumber,C.endLineNumber,C.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=m;class w{constructor(C,o,n){this.domNode=C,this.host=o,this.viewportData=n}render(C,o,n,i){const t={rendLineNumberStart:C.rendLineNumberStart,lines:C.lines.slice(0),linesLength:C.linesLength};if(t.rendLineNumberStart+t.linesLength-1<o||n<t.rendLineNumberStart){t.rendLineNumberStart=o,t.linesLength=n-o+1,t.lines=[];for(let s=o;s<=n;s++)t.lines[s-o]=this.host.createVisibleLine();return this._finishRendering(t,!0,i),t}if(this._renderUntouchedLines(t,Math.max(o-t.rendLineNumberStart,0),Math.min(n-t.rendLineNumberStart,t.linesLength-1),i,o),t.rendLineNumberStart>o){const s=o,c=Math.min(n,t.rendLineNumberStart-1);s<=c&&(this._insertLinesBefore(t,s,c,i,o),t.linesLength+=c-s+1)}else if(t.rendLineNumberStart<o){const s=Math.min(t.linesLength,o-t.rendLineNumberStart);s>0&&(this._removeLinesBefore(t,s),t.linesLength-=s)}if(t.rendLineNumberStart=o,t.rendLineNumberStart+t.linesLength-1<n){const s=t.rendLineNumberStart+t.linesLength,c=n;s<=c&&(this._insertLinesAfter(t,s,c,i,o),t.linesLength+=c-s+1)}else if(t.rendLineNumberStart+t.linesLength-1>n){const s=Math.max(0,n-t.rendLineNumberStart+1),g=t.linesLength-1-s+1;g>0&&(this._removeLinesAfter(t,g),t.linesLength-=g)}return this._finishRendering(t,!1,i),t}_renderUntouchedLines(C,o,n,i,t){const s=C.rendLineNumberStart,c=C.lines;for(let g=o;g<=n;g++){const l=s+g;c[g].layoutLine(l,i[l-t],this.viewportData.lineHeight)}}_insertLinesBefore(C,o,n,i,t){const s=[];let c=0;for(let g=o;g<=n;g++)s[c++]=this.host.createVisibleLine();C.lines=s.concat(C.lines)}_removeLinesBefore(C,o){for(let n=0;n<o;n++){const i=C.lines[n].getDomNode();i&&this.domNode.removeChild(i)}C.lines.splice(0,o)}_insertLinesAfter(C,o,n,i,t){const s=[];let c=0;for(let g=o;g<=n;g++)s[c++]=this.host.createVisibleLine();C.lines=C.lines.concat(s)}_removeLinesAfter(C,o){const n=C.linesLength-o;for(let i=0;i<o;i++){const t=C.lines[n+i].getDomNode();t&&this.domNode.removeChild(t)}C.lines.splice(n,o)}_finishRenderingNewLines(C,o,n,i){w._ttPolicy&&(n=w._ttPolicy.createHTML(n));const t=this.domNode.lastChild;o||!t?this.domNode.innerHTML=n:t.insertAdjacentHTML("afterend",n);let s=this.domNode.lastChild;for(let c=C.linesLength-1;c>=0;c--){const g=C.lines[c];i[c]&&(g.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(C,o,n){const i=document.createElement("div");w._ttPolicy&&(o=w._ttPolicy.createHTML(o)),i.innerHTML=o;for(let t=0;t<C.linesLength;t++){const s=C.lines[t];if(n[t]){const c=i.firstChild,g=s.getDomNode();g.parentNode.replaceChild(c,g),s.setDomNode(c)}}}_finishRendering(C,o,n){const i=w._sb,t=C.linesLength,s=C.lines,c=C.rendLineNumberStart,g=[];{i.reset();let l=!1;for(let r=0;r<t;r++){const d=s[r];g[r]=!1,!(d.getDomNode()||!d.renderLine(r+c,n[r],this.viewportData.lineHeight,this.viewportData,i))&&(g[r]=!0,l=!0)}l&&this._finishRenderingNewLines(C,o,i.build(),g)}{i.reset();let l=!1;const r=[];for(let d=0;d<t;d++){const u=s[d];r[d]=!1,!(g[d]||!u.renderLine(d+c,n[d],this.viewportData.lineHeight,this.viewportData,i))&&(r[d]=!0,l=!0)}l&&this._finishRenderingInvalidLines(C,i.build(),r)}}}w._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:b=>b}),w._sb=new D.StringBuilder(1e5)}),define(ne[647],se([1,0,40,72,257,56]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class y extends D.ViewPart{constructor(o){super(o),this._visibleLines=new L.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);(0,k.applyFontInfo)(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let o=0,n=this._dynamicOverlays.length;o<n;o++)if(this._dynamicOverlays[o].shouldRender())return!0;return!1}dispose(){super.dispose();for(let o=0,n=this._dynamicOverlays.length;o<n;o++)this._dynamicOverlays[o].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new m(this._dynamicOverlays)}addDynamicOverlay(o){this._dynamicOverlays.push(o)}onConfigurationChanged(o){this._visibleLines.onConfigurationChanged(o);const i=this._context.configuration.options.get(50);return(0,k.applyFontInfo)(this.domNode,i),!0}onFlushed(o){return this._visibleLines.onFlushed(o)}onFocusChanged(o){return this._isFocused=o.isFocused,!0}onLinesChanged(o){return this._visibleLines.onLinesChanged(o)}onLinesDeleted(o){return this._visibleLines.onLinesDeleted(o)}onLinesInserted(o){return this._visibleLines.onLinesInserted(o)}onScrollChanged(o){return this._visibleLines.onScrollChanged(o)||!0}onTokensChanged(o){return this._visibleLines.onTokensChanged(o)}onZonesChanged(o){return this._visibleLines.onZonesChanged(o)}prepareRender(o){const n=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,t=n.length;i<t;i++){const s=n[i];s.prepareRender(o),s.onDidRender()}}render(o){this._viewOverlaysRender(o),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(o){this._visibleLines.renderLines(o.viewportData)}}e.ViewOverlays=y;class m{constructor(o){this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(o){this._domNode=(0,f.createFastDomNode)(o)}onContentChanged(){}onTokensChanged(){}renderLine(o,n,i,t,s){let c="";for(let g=0,l=this._dynamicOverlays.length;g<l;g++){const r=this._dynamicOverlays[g];c+=r.render(t.startLineNumber,o)}return this._renderedContent===c?!1:(this._renderedContent=c,s.appendString('<div style="top:'),s.appendString(String(n)),s.appendString("px;height:"),s.appendString(String(i)),s.appendString('px;">'),s.appendString(c),s.appendString("</div>"),!0)}layoutLine(o,n,i){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(i))}}e.ViewOverlayLine=m;class w extends y{constructor(o){super(o);const i=this._context.configuration.options.get(145);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(o){const i=this._context.configuration.options.get(145);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(o)||!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollWidthChanged}_viewOverlaysRender(o){super._viewOverlaysRender(o),this.domNode.setWidth(Math.max(o.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=w;class b extends y{constructor(o){super(o);const n=this._context.configuration.options,i=n.get(145);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,n.get(50))}onConfigurationChanged(o){const n=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,n.get(50));const i=n.get(145);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(o)||!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollHeightChanged}_viewOverlaysRender(o){super._viewOverlaysRender(o);const n=Math.min(o.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=b}),define(ne[354],se([1,0,156,112]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextChange=void 0,e.compressConsecutiveTextChanges=y;function L(w){return w.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(b,C,o,n){this.oldPosition=b,this.oldText=C,this.newPosition=o,this.newText=n}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${L(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${L(this.oldText)}")`:`(replace@${this.oldPosition} "${L(this.oldText)}" with "${L(this.newText)}")`}static _writeStringSize(b){return 4+2*b.length}static _writeString(b,C,o){const n=C.length;f.writeUInt32BE(b,n,o),o+=4;for(let i=0;i<n;i++)f.writeUInt16LE(b,C.charCodeAt(i),o),o+=2;return o}static _readString(b,C){const o=f.readUInt32BE(b,C);return C+=4,(0,k.decodeUTF16LE)(b,C,o)}writeSize(){return 8+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(b,C){return f.writeUInt32BE(b,this.oldPosition,C),C+=4,f.writeUInt32BE(b,this.newPosition,C),C+=4,C=D._writeString(b,this.oldText,C),C=D._writeString(b,this.newText,C),C}static read(b,C,o){const n=f.readUInt32BE(b,C);C+=4;const i=f.readUInt32BE(b,C);C+=4;const t=D._readString(b,C);C+=D._writeStringSize(t);const s=D._readString(b,C);return C+=D._writeStringSize(s),o.push(new D(n,t,i,s)),C}}e.TextChange=D;function y(w,b){return w===null||w.length===0?b:new m(w,b).compress()}class m{constructor(b,C){this._prevEdits=b,this._currEdits=C,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let b=0,C=0,o=this._getPrev(b),n=this._getCurr(C);for(;b<this._prevLen||C<this._currLen;){if(o===null){this._acceptCurr(n),n=this._getCurr(++C);continue}if(n===null){this._acceptPrev(o),o=this._getPrev(++b);continue}if(n.oldEnd<=o.newPosition){this._acceptCurr(n),n=this._getCurr(++C);continue}if(o.newEnd<=n.oldPosition){this._acceptPrev(o),o=this._getPrev(++b);continue}if(n.oldPosition<o.newPosition){const[g,l]=m._splitCurr(n,o.newPosition-n.oldPosition);this._acceptCurr(g),n=l;continue}if(o.newPosition<n.oldPosition){const[g,l]=m._splitPrev(o,n.oldPosition-o.newPosition);this._acceptPrev(g),o=l;continue}let s,c;if(n.oldEnd===o.newEnd)s=o,c=n,o=this._getPrev(++b),n=this._getCurr(++C);else if(n.oldEnd<o.newEnd){const[g,l]=m._splitPrev(o,n.oldLength);s=g,c=n,o=l,n=this._getCurr(++C)}else{const[g,l]=m._splitCurr(n,o.newLength);s=o,c=g,o=this._getPrev(++b),n=l}this._result[this._resultLen++]=new D(s.oldPosition,s.oldText,c.newPosition,c.newText),this._prevDeltaOffset+=s.newLength-s.oldLength,this._currDeltaOffset+=c.newLength-c.oldLength}const i=m._merge(this._result);return m._removeNoOps(i)}_acceptCurr(b){this._result[this._resultLen++]=m._rebaseCurr(this._prevDeltaOffset,b),this._currDeltaOffset+=b.newLength-b.oldLength}_getCurr(b){return b<this._currLen?this._currEdits[b]:null}_acceptPrev(b){this._result[this._resultLen++]=m._rebasePrev(this._currDeltaOffset,b),this._prevDeltaOffset+=b.newLength-b.oldLength}_getPrev(b){return b<this._prevLen?this._prevEdits[b]:null}static _rebaseCurr(b,C){return new D(C.oldPosition-b,C.oldText,C.newPosition,C.newText)}static _rebasePrev(b,C){return new D(C.oldPosition,C.oldText,C.newPosition+b,C.newText)}static _splitPrev(b,C){const o=b.newText.substr(0,C),n=b.newText.substr(C);return[new D(b.oldPosition,b.oldText,b.newPosition,o),new D(b.oldEnd,"",b.newPosition+C,n)]}static _splitCurr(b,C){const o=b.oldText.substr(0,C),n=b.oldText.substr(C);return[new D(b.oldPosition,o,b.newPosition,b.newText),new D(b.oldPosition+C,n,b.newEnd,"")]}static _merge(b){if(b.length===0)return b;const C=[];let o=0,n=b[0];for(let i=1;i<b.length;i++){const t=b[i];n.oldEnd===t.oldPosition?n=new D(n.oldPosition,n.oldText+t.oldText,n.newPosition,n.newText+t.newText):(C[o++]=n,n=t)}return C[o++]=n,C}static _removeNoOps(b){if(b.length===0)return b;const C=[];let o=0;for(let n=0;n<b.length;n++){const i=b[n];i.oldText!==i.newText&&(C[o++]=i)}return C}}}),define(ne[355],se([1,0,340,98]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=L;function L(D,y,m,w,b,C){if(Array.isArray(D)){let o=0;for(const n of D){const i=L(n,y,m,w,b,C);if(i===10)return i;i>o&&(o=i)}return o}else{if(typeof D=="string")return w?D==="*"?5:D===m?10:0:0;if(D){const{language:o,pattern:n,scheme:i,hasAccessToAllModels:t,notebookType:s}=D;if(!w&&!t)return 0;s&&b&&(y=b);let c=0;if(i)if(i===y.scheme)c=10;else if(i==="*")c=5;else return 0;if(o)if(o===m)c=10;else if(o==="*")c=Math.max(c,5);else return 0;if(s)if(s===C)c=10;else if(s==="*"&&C!==void 0)c=Math.max(c,5);else return 0;if(n){let g;if(typeof n=="string"?g=n:g={...n,base:(0,k.normalize)(n.base)},g===y.fsPath||(0,f.match)(g,y.fsPath))c=10;else return 0}return c}else return 0}}}),define(ne[648],se([1,0,7,2,42,355]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function y(C){return typeof C=="string"?!1:Array.isArray(C)?C.every(y):!!C.exclusive}class m{constructor(o,n,i,t){this.uri=o,this.languageId=n,this.notebookUri=i,this.notebookType=t}equals(o){var n,i;return this.notebookType===o.notebookType&&this.languageId===o.languageId&&this.uri.toString()===o.uri.toString()&&((n=this.notebookUri)===null||n===void 0?void 0:n.toString())===((i=o.notebookUri)===null||i===void 0?void 0:i.toString())}}class w{constructor(o){this._notebookInfoResolver=o,this._clock=0,this._entries=[],this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event}register(o,n){let i={selector:o,provider:n,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(i){const t=this._entries.indexOf(i);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(o){return this.all(o).length>0}all(o){if(!o)return[];this._updateScores(o);const n=[];for(const i of this._entries)i._score>0&&n.push(i.provider);return n}ordered(o){const n=[];return this._orderedForEach(o,i=>n.push(i.provider)),n}orderedGroups(o){const n=[];let i,t;return this._orderedForEach(o,s=>{i&&t===s._score?i.push(s.provider):(t=s._score,i=[s.provider],n.push(i))}),n}_orderedForEach(o,n){this._updateScores(o);for(const i of this._entries)i._score>0&&n(i)}_updateScores(o){var n,i;const t=(n=this._notebookInfoResolver)===null||n===void 0?void 0:n.call(this,o.uri),s=t?new m(o.uri,o.getLanguageId(),t.uri,t.type):new m(o.uri,o.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(s))){this._lastCandidate=s;for(const c of this._entries)if(c._score=(0,D.score)(c.selector,s.uri,s.languageId,(0,L.shouldSynchronizeModel)(o),s.notebookUri,s.notebookType),y(c.selector)&&c._score>0){for(const g of this._entries)g._score=0;c._score=1e3;break}this._entries.sort(w._compareByScoreAndTime)}}static _compareByScoreAndTime(o,n){return o._score<n._score?1:o._score>n._score?-1:b(o.selector)&&!b(n.selector)?1:!b(o.selector)&&b(n.selector)?-1:o._time<n._time?1:o._time>n._time?-1:0}}e.LanguageFeatureRegistry=w;function b(C){return typeof C=="string"?!1:Array.isArray(C)?C.some(b):!!C.isBuiltin}}),define(ne[203],se([1,0,11,112,5]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0,e.createBracketOrRegExp=c;class D{constructor(d,u,a,v,h,p){this._richEditBracketBrand=void 0,this.languageId=d,this.index=u,this.open=a,this.close=v,this.forwardRegex=h,this.reversedRegex=p,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(d){return this._openSet.has(d)}isClose(d){return this._closeSet.has(d)}static _toSet(d){const u=new Set;for(const a of d)u.add(a);return u}}e.RichEditBracket=D;function y(r){const d=r.length;r=r.map(p=>[p[0].toLowerCase(),p[1].toLowerCase()]);const u=[];for(let p=0;p<d;p++)u[p]=p;const a=(p,_)=>{const[S,E]=p,[I,T]=_;return S===I||S===T||E===I||E===T},v=(p,_)=>{const S=Math.min(p,_),E=Math.max(p,_);for(let I=0;I<d;I++)u[I]===E&&(u[I]=S)};for(let p=0;p<d;p++){const _=r[p];for(let S=p+1;S<d;S++){const E=r[S];a(_,E)&&v(u[p],u[S])}}const h=[];for(let p=0;p<d;p++){const _=[],S=[];for(let E=0;E<d;E++)if(u[E]===p){const[I,T]=r[E];_.push(I),S.push(T)}_.length>0&&h.push({open:_,close:S})}return h}class m{constructor(d,u){this._richEditBracketsBrand=void 0;const a=y(u);this.brackets=a.map((v,h)=>new D(d,h,v.open,v.close,o(v.open,v.close,a,h),n(v.open,v.close,a,h))),this.forwardRegex=i(this.brackets),this.reversedRegex=t(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const v of this.brackets){for(const h of v.open)this.textIsBracket[h]=v,this.textIsOpenBracket[h]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,h.length);for(const h of v.close)this.textIsBracket[h]=v,this.textIsOpenBracket[h]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,h.length)}}}e.RichEditBrackets=m;function w(r,d,u,a){for(let v=0,h=d.length;v<h;v++){if(v===u)continue;const p=d[v];for(const _ of p.open)_.indexOf(r)>=0&&a.push(_);for(const _ of p.close)_.indexOf(r)>=0&&a.push(_)}}function b(r,d){return r.length-d.length}function C(r){if(r.length<=1)return r;const d=[],u=new Set;for(const a of r)u.has(a)||(d.push(a),u.add(a));return d}function o(r,d,u,a){let v=[];v=v.concat(r),v=v.concat(d);for(let h=0,p=v.length;h<p;h++)w(v[h],u,a,v);return v=C(v),v.sort(b),v.reverse(),c(v)}function n(r,d,u,a){let v=[];v=v.concat(r),v=v.concat(d);for(let h=0,p=v.length;h<p;h++)w(v[h],u,a,v);return v=C(v),v.sort(b),v.reverse(),c(v.map(g))}function i(r){let d=[];for(const u of r){for(const a of u.open)d.push(a);for(const a of u.close)d.push(a)}return d=C(d),c(d)}function t(r){let d=[];for(const u of r){for(const a of u.open)d.push(a);for(const a of u.close)d.push(a)}return d=C(d),c(d.map(g))}function s(r){const d=/^[\w ]+$/.test(r);return r=f.escapeRegExpCharacters(r),d?`\\b${r}\\b`:r}function c(r,d){const u=`(${r.map(s).join(")|(")})`;return f.createRegExp(u,!0,d)}const g=function(){function r(a){const v=new Uint16Array(a.length);let h=0;for(let p=a.length-1;p>=0;p--)v[h++]=a.charCodeAt(p);return k.getPlatformTextDecoder().decode(v)}let d=null,u=null;return function(v){return d!==v&&(d=v,u=r(d)),u}}();class l{static _findPrevBracketInText(d,u,a,v){const h=a.match(d);if(!h)return null;const p=a.length-(h.index||0),_=h[0].length,S=v+p;return new L.Range(u,S-_+1,u,S+1)}static findPrevBracketInRange(d,u,a,v,h){const _=g(a).substring(a.length-h,a.length-v);return this._findPrevBracketInText(d,u,_,v)}static findNextBracketInText(d,u,a,v){const h=a.match(d);if(!h)return null;const p=h.index||0,_=h[0].length;if(_===0)return null;const S=v+p;return new L.Range(u,S+1,u,S+1+_)}static findNextBracketInRange(d,u,a,v,h){const p=a.substring(v,h);return this.findNextBracketInText(d,u,p,v)}}e.BracketsUtils=l}),define(ne[649],se([1,0,13,165,203]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(m){this._richEditBrackets=m}getElectricCharacters(){const m=[];if(this._richEditBrackets)for(const w of this._richEditBrackets.brackets)for(const b of w.close){const C=b.charAt(b.length-1);m.push(C)}return(0,f.distinct)(m)}onElectricCharacter(m,w,b){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const C=w.findTokenIndexAtOffset(b-1);if((0,k.ignoreBracketsInToken)(w.getStandardTokenType(C)))return null;const o=this._richEditBrackets.reversedRegex,n=w.getLineContent().substring(0,b-1)+m,i=L.BracketsUtils.findPrevBracketInRange(o,1,n,0,n.length);if(!i)return null;const t=n.substring(i.startColumn-1,i.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[t])return null;const c=w.getActualLineContentBefore(i.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:t}:null}}e.BracketElectricCharacterSupport=D}),define(ne[650],se([1,0,290,203]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class L{constructor(C,o){this.languageId=C;const n=o.brackets?D(o.brackets):[],i=new f.CachedFunction(c=>{const g=new Set;return{info:new m(this,c,g),closing:g}}),t=new f.CachedFunction(c=>{const g=new Set,l=new Set;return{info:new w(this,c,g,l),opening:g,openingColorized:l}});for(const[c,g]of n){const l=i.get(c),r=t.get(g);l.closing.add(r.info),r.opening.add(l.info)}const s=o.colorizedBracketPairs?D(o.colorizedBracketPairs):n.filter(c=>!(c[0]==="<"&&c[1]===">"));for(const[c,g]of s){const l=i.get(c),r=t.get(g);l.closing.add(r.info),r.openingColorized.add(l.info),r.opening.add(l.info)}this._openingBrackets=new Map([...i.cachedValues].map(([c,g])=>[c,g.info])),this._closingBrackets=new Map([...t.cachedValues].map(([c,g])=>[c,g.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(C){return this._openingBrackets.get(C)}getClosingBracketInfo(C){return this._closingBrackets.get(C)}getBracketInfo(C){return this.getOpeningBracketInfo(C)||this.getClosingBracketInfo(C)}getBracketRegExp(C){const o=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return(0,k.createBracketOrRegExp)(o,C)}}e.LanguageBracketsConfiguration=L;function D(b){return b.filter(([C,o])=>C!==""&&o!=="")}class y{constructor(C,o){this.config=C,this.bracketText=o}get languageId(){return this.config.languageId}}e.BracketKindBase=y;class m extends y{constructor(C,o,n){super(C,o),this.openedBrackets=n,this.isOpeningBracket=!0}}e.OpeningBracketKind=m;class w extends y{constructor(C,o,n,i){super(C,o),this.openingBrackets=n,this.openingColorizedBrackets=i,this.isOpeningBracket=!1}closes(C){return C.config!==this.config?!1:this.openingBrackets.has(C)}closesColorized(C){return C.config!==this.config?!1:this.openingColorizedBrackets.has(C)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=w}),define(ne[651],se([1,0,13,7,2,5,165,203,565]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class b extends L.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(s,c){super(),this.textModel=s,this.languageConfigurationService=c,this.bracketPairsTree=this._register(new L.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(g=>{var l;(!g.languageId||!((l=this.bracketPairsTree.value)===null||l===void 0)&&l.object.didLanguageChange(g.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(s){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(s){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(s){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleContentChanged(s)}handleDidChangeBackgroundTokenizationState(){var s;(s=this.bracketPairsTree.value)===null||s===void 0||s.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(s){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleDidChangeTokens(s)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const s=new L.DisposableStore;this.bracketPairsTree.value=C(s.add(new w.BracketPairsTree(this.textModel,c=>this.languageConfigurationService.getLanguageConfiguration(c))),s),s.add(this.bracketPairsTree.value.object.onDidChange(c=>this.onDidChangeEmitter.fire(c))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(s){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(s,!1))||f.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(s){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(s,!0))||f.CallbackIterable.empty}getBracketsInRange(s,c=!1){var g;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((g=this.bracketPairsTree.value)===null||g===void 0?void 0:g.object.getBracketsInRange(s,c))||f.CallbackIterable.empty}findMatchingBracketUp(s,c,g){const l=this.textModel.validatePosition(c),r=this.textModel.getLanguageIdAtPosition(l.lineNumber,l.column);if(this.canBuildAST){const d=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew.getClosingBracketInfo(s);if(!d)return null;const u=this.getBracketPairsInRange(D.Range.fromPositions(c,c)).findLast(a=>d.closes(a.openingBracketInfo));return u?u.openingBracketRange:null}else{const d=s.toLowerCase(),u=this.languageConfigurationService.getLanguageConfiguration(r).brackets;if(!u)return null;const a=u.textIsBracket[d];return a?i(this._findMatchingBracketUp(a,l,o(g))):null}}matchBracket(s,c){if(this.canBuildAST){const g=this.getBracketPairsInRange(D.Range.fromPositions(s,s)).filter(l=>l.closingBracketRange!==void 0&&(l.openingBracketRange.containsPosition(s)||l.closingBracketRange.containsPosition(s))).findLastMaxBy((0,f.compareBy)(l=>l.openingBracketRange.containsPosition(s)?l.openingBracketRange:l.closingBracketRange,D.Range.compareRangesUsingStarts));return g?[g.openingBracketRange,g.closingBracketRange]:null}else{const g=o(c);return this._matchBracket(this.textModel.validatePosition(s),g)}}_establishBracketSearchOffsets(s,c,g,l){const r=c.getCount(),d=c.getLanguageId(l);let u=Math.max(0,s.column-1-g.maxBracketLength);for(let v=l-1;v>=0;v--){const h=c.getEndOffset(v);if(h<=u)break;if((0,y.ignoreBracketsInToken)(c.getStandardTokenType(v))||c.getLanguageId(v)!==d){u=h;break}}let a=Math.min(c.getLineContent().length,s.column-1+g.maxBracketLength);for(let v=l+1;v<r;v++){const h=c.getStartOffset(v);if(h>=a)break;if((0,y.ignoreBracketsInToken)(c.getStandardTokenType(v))||c.getLanguageId(v)!==d){a=h;break}}return{searchStartOffset:u,searchEndOffset:a}}_matchBracket(s,c){const g=s.lineNumber,l=this.textModel.tokenization.getLineTokens(g),r=this.textModel.getLineContent(g),d=l.findTokenIndexAtOffset(s.column-1);if(d<0)return null;const u=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId(d)).brackets;if(u&&!(0,y.ignoreBracketsInToken)(l.getStandardTokenType(d))){let{searchStartOffset:a,searchEndOffset:v}=this._establishBracketSearchOffsets(s,l,u,d),h=null;for(;;){const p=m.BracketsUtils.findNextBracketInRange(u.forwardRegex,g,r,a,v);if(!p)break;if(p.startColumn<=s.column&&s.column<=p.endColumn){const _=r.substring(p.startColumn-1,p.endColumn-1).toLowerCase(),S=this._matchFoundBracket(p,u.textIsBracket[_],u.textIsOpenBracket[_],c);if(S){if(S instanceof n)return null;h=S}}a=p.endColumn-1}if(h)return h}if(d>0&&l.getStartOffset(d)===s.column-1){const a=d-1,v=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId(a)).brackets;if(v&&!(0,y.ignoreBracketsInToken)(l.getStandardTokenType(a))){const{searchStartOffset:h,searchEndOffset:p}=this._establishBracketSearchOffsets(s,l,v,a),_=m.BracketsUtils.findPrevBracketInRange(v.reversedRegex,g,r,h,p);if(_&&_.startColumn<=s.column&&s.column<=_.endColumn){const S=r.substring(_.startColumn-1,_.endColumn-1).toLowerCase(),E=this._matchFoundBracket(_,v.textIsBracket[S],v.textIsOpenBracket[S],c);if(E)return E instanceof n?null:E}}}return null}_matchFoundBracket(s,c,g,l){if(!c)return null;const r=g?this._findMatchingBracketDown(c,s.getEndPosition(),l):this._findMatchingBracketUp(c,s.getStartPosition(),l);return r?r instanceof n?r:[s,r]:null}_findMatchingBracketUp(s,c,g){const l=s.languageId,r=s.reversedRegex;let d=-1,u=0;const a=(v,h,p,_)=>{for(;;){if(g&&++u%100===0&&!g())return n.INSTANCE;const S=m.BracketsUtils.findPrevBracketInRange(r,v,h,p,_);if(!S)break;const E=h.substring(S.startColumn-1,S.endColumn-1).toLowerCase();if(s.isOpen(E)?d++:s.isClose(E)&&d--,d===0)return S;_=S.startColumn-1}return null};for(let v=c.lineNumber;v>=1;v--){const h=this.textModel.tokenization.getLineTokens(v),p=h.getCount(),_=this.textModel.getLineContent(v);let S=p-1,E=_.length,I=_.length;v===c.lineNumber&&(S=h.findTokenIndexAtOffset(c.column-1),E=c.column-1,I=c.column-1);let T=!0;for(;S>=0;S--){const N=h.getLanguageId(S)===l&&!(0,y.ignoreBracketsInToken)(h.getStandardTokenType(S));if(N)T?E=h.getStartOffset(S):(E=h.getStartOffset(S),I=h.getEndOffset(S));else if(T&&E!==I){const A=a(v,_,E,I);if(A)return A}T=N}if(T&&E!==I){const N=a(v,_,E,I);if(N)return N}}return null}_findMatchingBracketDown(s,c,g){const l=s.languageId,r=s.forwardRegex;let d=1,u=0;const a=(h,p,_,S)=>{for(;;){if(g&&++u%100===0&&!g())return n.INSTANCE;const E=m.BracketsUtils.findNextBracketInRange(r,h,p,_,S);if(!E)break;const I=p.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(s.isOpen(I)?d++:s.isClose(I)&&d--,d===0)return E;_=E.endColumn-1}return null},v=this.textModel.getLineCount();for(let h=c.lineNumber;h<=v;h++){const p=this.textModel.tokenization.getLineTokens(h),_=p.getCount(),S=this.textModel.getLineContent(h);let E=0,I=0,T=0;h===c.lineNumber&&(E=p.findTokenIndexAtOffset(c.column-1),I=c.column-1,T=c.column-1);let N=!0;for(;E<_;E++){const A=p.getLanguageId(E)===l&&!(0,y.ignoreBracketsInToken)(p.getStandardTokenType(E));if(A)N||(I=p.getStartOffset(E)),T=p.getEndOffset(E);else if(N&&I!==T){const R=a(h,S,I,T);if(R)return R}N=A}if(N&&I!==T){const A=a(h,S,I,T);if(A)return A}}return null}findPrevBracket(s){var c;const g=this.textModel.validatePosition(s);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketBefore(g))||null;let l=null,r=null,d=null;for(let u=g.lineNumber;u>=1;u--){const a=this.textModel.tokenization.getLineTokens(u),v=a.getCount(),h=this.textModel.getLineContent(u);let p=v-1,_=h.length,S=h.length;if(u===g.lineNumber){p=a.findTokenIndexAtOffset(g.column-1),_=g.column-1,S=g.column-1;const I=a.getLanguageId(p);l!==I&&(l=I,r=this.languageConfigurationService.getLanguageConfiguration(l).brackets,d=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew)}let E=!0;for(;p>=0;p--){const I=a.getLanguageId(p);if(l!==I){if(r&&d&&E&&_!==S){const N=m.BracketsUtils.findPrevBracketInRange(r.reversedRegex,u,h,_,S);if(N)return this._toFoundBracket(d,N);E=!1}l=I,r=this.languageConfigurationService.getLanguageConfiguration(l).brackets,d=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew}const T=!!r&&!(0,y.ignoreBracketsInToken)(a.getStandardTokenType(p));if(T)E?_=a.getStartOffset(p):(_=a.getStartOffset(p),S=a.getEndOffset(p));else if(d&&r&&E&&_!==S){const N=m.BracketsUtils.findPrevBracketInRange(r.reversedRegex,u,h,_,S);if(N)return this._toFoundBracket(d,N)}E=T}if(d&&r&&E&&_!==S){const I=m.BracketsUtils.findPrevBracketInRange(r.reversedRegex,u,h,_,S);if(I)return this._toFoundBracket(d,I)}}return null}findNextBracket(s){var c;const g=this.textModel.validatePosition(s);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketAfter(g))||null;const l=this.textModel.getLineCount();let r=null,d=null,u=null;for(let a=g.lineNumber;a<=l;a++){const v=this.textModel.tokenization.getLineTokens(a),h=v.getCount(),p=this.textModel.getLineContent(a);let _=0,S=0,E=0;if(a===g.lineNumber){_=v.findTokenIndexAtOffset(g.column-1),S=g.column-1,E=g.column-1;const T=v.getLanguageId(_);r!==T&&(r=T,d=this.languageConfigurationService.getLanguageConfiguration(r).brackets,u=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let I=!0;for(;_<h;_++){const T=v.getLanguageId(_);if(r!==T){if(u&&d&&I&&S!==E){const A=m.BracketsUtils.findNextBracketInRange(d.forwardRegex,a,p,S,E);if(A)return this._toFoundBracket(u,A);I=!1}r=T,d=this.languageConfigurationService.getLanguageConfiguration(r).brackets,u=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const N=!!d&&!(0,y.ignoreBracketsInToken)(v.getStandardTokenType(_));if(N)I||(S=v.getStartOffset(_)),E=v.getEndOffset(_);else if(u&&d&&I&&S!==E){const A=m.BracketsUtils.findNextBracketInRange(d.forwardRegex,a,p,S,E);if(A)return this._toFoundBracket(u,A)}I=N}if(u&&d&&I&&S!==E){const T=m.BracketsUtils.findNextBracketInRange(d.forwardRegex,a,p,S,E);if(T)return this._toFoundBracket(u,T)}}return null}findEnclosingBrackets(s,c){const g=this.textModel.validatePosition(s);if(this.canBuildAST){const S=D.Range.fromPositions(g),E=this.getBracketPairsInRange(D.Range.fromPositions(g,g)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(S));return E?[E.openingBracketRange,E.closingBracketRange]:null}const l=o(c),r=this.textModel.getLineCount(),d=new Map;let u=[];const a=(S,E)=>{if(!d.has(S)){const I=[];for(let T=0,N=E?E.brackets.length:0;T<N;T++)I[T]=0;d.set(S,I)}u=d.get(S)};let v=0;const h=(S,E,I,T,N)=>{for(;;){if(l&&++v%100===0&&!l())return n.INSTANCE;const A=m.BracketsUtils.findNextBracketInRange(S.forwardRegex,E,I,T,N);if(!A)break;const R=I.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),M=S.textIsBracket[R];if(M&&(M.isOpen(R)?u[M.index]++:M.isClose(R)&&u[M.index]--,u[M.index]===-1))return this._matchFoundBracket(A,M,!1,l);T=A.endColumn-1}return null};let p=null,_=null;for(let S=g.lineNumber;S<=r;S++){const E=this.textModel.tokenization.getLineTokens(S),I=E.getCount(),T=this.textModel.getLineContent(S);let N=0,A=0,R=0;if(S===g.lineNumber){N=E.findTokenIndexAtOffset(g.column-1),A=g.column-1,R=g.column-1;const P=E.getLanguageId(N);p!==P&&(p=P,_=this.languageConfigurationService.getLanguageConfiguration(p).brackets,a(p,_))}let M=!0;for(;N<I;N++){const P=E.getLanguageId(N);if(p!==P){if(_&&M&&A!==R){const O=h(_,S,T,A,R);if(O)return i(O);M=!1}p=P,_=this.languageConfigurationService.getLanguageConfiguration(p).brackets,a(p,_)}const F=!!_&&!(0,y.ignoreBracketsInToken)(E.getStandardTokenType(N));if(F)M||(A=E.getStartOffset(N)),R=E.getEndOffset(N);else if(_&&M&&A!==R){const O=h(_,S,T,A,R);if(O)return i(O)}M=F}if(_&&M&&A!==R){const P=h(_,S,T,A,R);if(P)return i(P)}}return null}_toFoundBracket(s,c){if(!c)return null;let g=this.textModel.getValueInRange(c);g=g.toLowerCase();const l=s.getBracketInfo(g);return l?{range:c,bracketInfo:l}:null}}e.BracketPairsTextModelPart=b;function C(t,s){return{object:t,dispose:()=>s?.dispose()}}function o(t){if(typeof t>"u")return()=>!0;{const s=Date.now();return()=>Date.now()-s<=t}}class n{constructor(){this._searchCanceledBrand=void 0}}n.INSTANCE=new n;function i(t){return t instanceof n?null:t}}),define(ne[356],se([1,0,7,11,5,42,317,141,354,2]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class C extends b.Disposable{constructor(n,i,t,s,c,g,l){super(),this._onDidChangeContent=this._register(new f.Emitter),this._BOM=i,this._mightContainNonBasicASCII=!g,this._mightContainRTL=s,this._mightContainUnusualLineTerminators=c,this._pieceTree=new y.PieceTreeBase(n,t,l)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(n){return this._pieceTree.createSnapshot(n?this._BOM:"")}getOffsetAt(n,i){return this._pieceTree.getOffsetAt(n,i)}getPositionAt(n){return this._pieceTree.getPositionAt(n)}getRangeAt(n,i){const t=n+i,s=this.getPositionAt(n),c=this.getPositionAt(t);return new L.Range(s.lineNumber,s.column,c.lineNumber,c.column)}getValueInRange(n,i=0){if(n.isEmpty())return"";const t=this._getEndOfLine(i);return this._pieceTree.getValueInRange(n,t)}getValueLengthInRange(n,i=0){if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;const t=this.getOffsetAt(n.startLineNumber,n.startColumn),s=this.getOffsetAt(n.endLineNumber,n.endColumn);let c=0;const g=this._getEndOfLine(i),l=this.getEOL();if(g.length!==l.length){const r=g.length-l.length,d=n.endLineNumber-n.startLineNumber;c=r*d}return s-t+c}getCharacterCountInRange(n,i=0){if(this._mightContainNonBasicASCII){let t=0;const s=n.startLineNumber,c=n.endLineNumber;for(let g=s;g<=c;g++){const l=this.getLineContent(g),r=g===s?n.startColumn-1:0,d=g===c?n.endColumn-1:l.length;for(let u=r;u<d;u++)k.isHighSurrogate(l.charCodeAt(u))?(t=t+1,u=u+1):t=t+1}return t+=this._getEndOfLine(i).length*(c-s),t}return this.getValueLengthInRange(n,i)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(n){return this._pieceTree.getLineContent(n)}getLineCharCode(n,i){return this._pieceTree.getLineCharCode(n,i)}getLineLength(n){return this._pieceTree.getLineLength(n)}getLineFirstNonWhitespaceColumn(n){const i=k.firstNonWhitespaceIndex(this.getLineContent(n));return i===-1?0:i+1}getLineLastNonWhitespaceColumn(n){const i=k.lastNonWhitespaceIndex(this.getLineContent(n));return i===-1?0:i+2}_getEndOfLine(n){switch(n){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(n){this._pieceTree.setEOL(n)}applyEdits(n,i,t){let s=this._mightContainRTL,c=this._mightContainUnusualLineTerminators,g=this._mightContainNonBasicASCII,l=!0,r=[];for(let _=0;_<n.length;_++){const S=n[_];l&&S._isTracked&&(l=!1);const E=S.range;if(S.text){let R=!0;g||(R=!k.isBasicASCII(S.text),g=R),!s&&R&&(s=k.containsRTL(S.text)),!c&&R&&(c=k.containsUnusualLineTerminators(S.text))}let I="",T=0,N=0,A=0;if(S.text){let R;[T,N,A,R]=(0,m.countEOL)(S.text);const M=this.getEOL();R===0||R===(M===`\r
`?2:1)?I=S.text:I=S.text.replace(/\r\n|\r|\n/g,M)}r[_]={sortIndex:_,identifier:S.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:T,firstLineLength:N,lastLineLength:A,forceMoveMarkers:!!S.forceMoveMarkers,isAutoWhitespaceEdit:S.isAutoWhitespaceEdit||!1}}r.sort(C._sortOpsAscending);let d=!1;for(let _=0,S=r.length-1;_<S;_++){const E=r[_].range.getEndPosition(),I=r[_+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");d=!0}}l&&(r=this._reduceOperations(r));const u=t||i?C._getInverseEditRanges(r):[],a=[];if(i)for(let _=0;_<r.length;_++){const S=r[_],E=u[_];if(S.isAutoWhitespaceEdit&&S.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let T="";I===E.startLineNumber&&(T=this.getLineContent(S.range.startLineNumber),k.firstNonWhitespaceIndex(T)!==-1)||a.push({lineNumber:I,oldContent:T})}}let v=null;if(t){let _=0;v=[];for(let S=0;S<r.length;S++){const E=r[S],I=u[S],T=this.getValueInRange(E.range),N=E.rangeOffset+_;_+=E.text.length-T.length,v[S]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:T,textChange:new w.TextChange(E.rangeOffset,T,N,E.text)}}d||v.sort((S,E)=>S.sortIndex-E.sortIndex)}this._mightContainRTL=s,this._mightContainUnusualLineTerminators=c,this._mightContainNonBasicASCII=g;const h=this._doApplyEdits(r);let p=null;if(i&&a.length>0){a.sort((_,S)=>S.lineNumber-_.lineNumber),p=[];for(let _=0,S=a.length;_<S;_++){const E=a[_].lineNumber;if(_>0&&a[_-1].lineNumber===E)continue;const I=a[_].oldContent,T=this.getLineContent(E);T.length===0||T===I||k.firstNonWhitespaceIndex(T)!==-1||p.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(v,h,p)}_reduceOperations(n){return n.length<1e3?n:[this._toSingleEditOperation(n)]}_toSingleEditOperation(n){let i=!1;const t=n[0].range,s=n[n.length-1].range,c=new L.Range(t.startLineNumber,t.startColumn,s.endLineNumber,s.endColumn);let g=t.startLineNumber,l=t.startColumn;const r=[];for(let h=0,p=n.length;h<p;h++){const _=n[h],S=_.range;i=i||_.forceMoveMarkers,r.push(this.getValueInRange(new L.Range(g,l,S.startLineNumber,S.startColumn))),_.text.length>0&&r.push(_.text),g=S.endLineNumber,l=S.endColumn}const d=r.join(""),[u,a,v]=(0,m.countEOL)(d);return{sortIndex:0,identifier:n[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:d,eolCount:u,firstLineLength:a,lastLineLength:v,forceMoveMarkers:i,isAutoWhitespaceEdit:!1}}_doApplyEdits(n){n.sort(C._sortOpsDescending);const i=[];for(let t=0;t<n.length;t++){const s=n[t],c=s.range.startLineNumber,g=s.range.startColumn,l=s.range.endLineNumber,r=s.range.endColumn;if(c===l&&g===r&&s.text.length===0)continue;s.text?(this._pieceTree.delete(s.rangeOffset,s.rangeLength),this._pieceTree.insert(s.rangeOffset,s.text,!0)):this._pieceTree.delete(s.rangeOffset,s.rangeLength);const d=new L.Range(c,g,l,r);i.push({range:d,rangeLength:s.rangeLength,text:s.text,rangeOffset:s.rangeOffset,forceMoveMarkers:s.forceMoveMarkers})}return i}findMatchesLineByLine(n,i,t,s){return this._pieceTree.findMatchesLineByLine(n,i,t,s)}static _getInverseEditRanges(n){const i=[];let t=0,s=0,c=null;for(let g=0,l=n.length;g<l;g++){const r=n[g];let d,u;c?c.range.endLineNumber===r.range.startLineNumber?(d=t,u=s+(r.range.startColumn-c.range.endColumn)):(d=t+(r.range.startLineNumber-c.range.endLineNumber),u=r.range.startColumn):(d=r.range.startLineNumber,u=r.range.startColumn);let a;if(r.text.length>0){const v=r.eolCount+1;v===1?a=new L.Range(d,u,d,u+r.firstLineLength):a=new L.Range(d,u,d+v-1,r.lastLineLength+1)}else a=new L.Range(d,u,d,u);t=a.endLineNumber,s=a.endColumn,i.push(a),c=r}return i}static _sortOpsAscending(n,i){const t=L.Range.compareRangesUsingEnds(n.range,i.range);return t===0?n.sortIndex-i.sortIndex:t}static _sortOpsDescending(n,i){const t=L.Range.compareRangesUsingEnds(n.range,i.range);return t===0?i.sortIndex-n.sortIndex:-t}}e.PieceTreeTextBuffer=C}),define(ne[652],se([1,0,11,317,356]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(w,b,C,o,n,i,t,s,c){this._chunks=w,this._bom=b,this._cr=C,this._lf=o,this._crlf=n,this._containsRTL=i,this._containsUnusualLineTerminators=t,this._isBasicASCII=s,this._normalizeEOL=c}_getEOL(w){const b=this._cr+this._lf+this._crlf,C=this._cr+this._crlf;return b===0?w===1?`
`:`\r
`:C>b/2?`\r
`:`
`}create(w){const b=this._getEOL(w),C=this._chunks;if(this._normalizeEOL&&(b===`\r
`&&(this._cr>0||this._lf>0)||b===`
`&&(this._cr>0||this._crlf>0)))for(let n=0,i=C.length;n<i;n++){const t=C[n].buffer.replace(/\r\n|\r|\n/g,b),s=(0,k.createLineStartsFast)(t);C[n]=new k.StringBuffer(t,s)}const o=new L.PieceTreeTextBuffer(C,this._bom,b,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:o,disposable:o}}}class y{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(w){if(w.length===0)return;this.chunks.length===0&&f.startsWithUTF8BOM(w)&&(this.BOM=f.UTF8_BOM_CHARACTER,w=w.substr(1));const b=w.charCodeAt(w.length-1);b===13||b>=55296&&b<=56319?(this._acceptChunk1(w.substr(0,w.length-1),!1),this._hasPreviousChar=!0,this._previousChar=b):(this._acceptChunk1(w,!1),this._hasPreviousChar=!1,this._previousChar=b)}_acceptChunk1(w,b){!b&&w.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+w):this._acceptChunk2(w))}_acceptChunk2(w){const b=(0,k.createLineStarts)(this._tmpLineStarts,w);this.chunks.push(new k.StringBuffer(w,b.lineStarts)),this.cr+=b.cr,this.lf+=b.lf,this.crlf+=b.crlf,b.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=f.containsRTL(w)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=f.containsUnusualLineTerminators(w)))}finish(w=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,w)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const w=this.chunks[this.chunks.length-1];w.buffer+=String.fromCharCode(this._previousChar);const b=(0,k.createLineStartsFast)(w.buffer);w.lineStarts=b,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=y}),define(ne[653],se([1,0,156,17]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=y;function L(w){for(let b=0,C=w.length;b<C;b+=4){const o=w[b+0],n=w[b+1],i=w[b+2],t=w[b+3];w[b+0]=t,w[b+1]=i,w[b+2]=n,w[b+3]=o}}function D(w){const b=new Uint8Array(w.buffer,w.byteOffset,w.length*4);return k.isLittleEndian()||L(b),f.VSBuffer.wrap(b)}function y(w){const b=new Uint32Array(m(w));let C=0;if(b[C++]=w.id,w.type==="full")b[C++]=1,b[C++]=w.data.length,b.set(w.data,C),C+=w.data.length;else{b[C++]=2,b[C++]=w.deltas.length;for(const o of w.deltas)b[C++]=o.start,b[C++]=o.deleteCount,o.data?(b[C++]=o.data.length,b.set(o.data,C),C+=o.data.length):b[C++]=0}return D(b)}function m(w){let b=0;if(b+=2,w.type==="full")b+=1+w.data.length;else{b+=1,b+=3*w.deltas.length;for(const C of w.deltas)C.data&&(b+=C.data.length)}return b}}),define(ne[204],se([1,0,7,2,17]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(o,n){return!!o[n]}class y{constructor(n,i){this.target=n.target,this.isLeftClick=n.event.leftButton,this.isMiddleClick=n.event.middleButton,this.isRightClick=n.event.rightButton,this.hasTriggerModifier=D(n.event,i.triggerModifier),this.hasSideBySideModifier=D(n.event,i.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=n.event.detail<=1}}e.ClickLinkMouseEvent=y;class m{constructor(n,i){this.keyCodeIsTriggerKey=n.keyCode===i.triggerKey,this.keyCodeIsSideBySideKey=n.keyCode===i.triggerSideBySideKey,this.hasTriggerModifier=D(n,i.triggerModifier)}}e.ClickLinkKeyboardEvent=m;class w{constructor(n,i,t,s){this.triggerKey=n,this.triggerModifier=i,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=s}equals(n){return this.triggerKey===n.triggerKey&&this.triggerModifier===n.triggerModifier&&this.triggerSideBySideKey===n.triggerSideBySideKey&&this.triggerSideBySideModifier===n.triggerSideBySideModifier}}e.ClickLinkOptions=w;function b(o){return o==="altKey"?L.isMacintosh?new w(57,"metaKey",6,"altKey"):new w(5,"ctrlKey",6,"altKey"):L.isMacintosh?new w(6,"altKey",57,"metaKey"):new w(6,"altKey",5,"ctrlKey")}class C extends k.Disposable{constructor(n,i){var t;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new f.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new f.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new f.Emitter),this.onCancel=this._onCancel.event,this._editor=n,this._extractLineNumberFromMouseEvent=(t=i?.extractLineNumberFromMouseEvent)!==null&&t!==void 0?t:s=>s.target.position?s.target.position.lineNumber:0,this._opts=b(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(s=>{if(s.hasChanged(78)){const c=b(this._editor.getOption(78));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(s=>this._onEditorMouseMove(new y(s,this._opts)))),this._register(this._editor.onMouseDown(s=>this._onEditorMouseDown(new y(s,this._opts)))),this._register(this._editor.onMouseUp(s=>this._onEditorMouseUp(new y(s,this._opts)))),this._register(this._editor.onKeyDown(s=>this._onEditorKeyDown(new m(s,this._opts)))),this._register(this._editor.onKeyUp(s=>this._onEditorKeyUp(new m(s,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(s=>this._onDidChangeCursorSelection(s))),this._register(this._editor.onDidChangeModel(s=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(s=>{(s.scrollTopChanged||s.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(n){n.selection&&n.selection.startColumn!==n.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(n){this._lastMouseMoveEvent=n,this._onMouseMoveOrRelevantKeyDown.fire([n,null])}_onEditorMouseDown(n){this._hasTriggerKeyOnMouseDown=n.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(n)}_onEditorMouseUp(n){const i=this._extractLineNumberFromMouseEvent(n);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===i&&this._onExecute.fire(n)}_onEditorKeyDown(n){this._lastMouseMoveEvent&&(n.keyCodeIsTriggerKey||n.keyCodeIsSideBySideKey&&n.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,n]):n.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(n){n.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=C}),define(ne[654],se([1,0,13,15]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverComputer=void 0;class L{get anchor(){return this._anchor}set anchor(y){this._anchor=y}get shouldFocus(){return this._shouldFocus}set shouldFocus(y){this._shouldFocus=y}get source(){return this._source}set source(y){this._source=y}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(y){this._insistOnKeepingHoverVisible=y}constructor(y,m){this._editor=y,this._participants=m,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(y,m){if(m.type!==1&&!m.supportsMarkerHover)return[];const w=y.getModel(),b=m.range.startLineNumber;if(b>w.getLineCount())return[];const C=w.getLineMaxColumn(b);return y.getLineDecorations(b).filter(o=>{if(o.options.isWholeLine)return!0;const n=o.range.startLineNumber===b?o.range.startColumn:1,i=o.range.endLineNumber===b?o.range.endColumn:C;if(o.options.showIfCollapsed){if(n>m.range.startColumn+1||m.range.endColumn-1>i)return!1}else if(n>m.range.startColumn||m.range.endColumn>i)return!1;return!0})}computeAsync(y){const m=this._anchor;if(!this._editor.hasModel()||!m)return k.AsyncIterableObject.EMPTY;const w=L._getLineDecorations(this._editor,m);return k.AsyncIterableObject.merge(this._participants.map(b=>b.computeAsync?b.computeAsync(m,w,y):k.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const y=L._getLineDecorations(this._editor,this._anchor);let m=[];for(const w of this._participants)m=m.concat(w.computeSync(this._anchor,y));return(0,f.coalesce)(m)}}e.ContentHoverComputer=L}),define(ne[357],se([1,0,15,9,7,2]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class y{constructor(b,C,o){this.value=b,this.isComplete=C,this.hasLoadingMessage=o}}e.HoverResult=y;class m extends D.Disposable{constructor(b,C){super(),this._editor=b,this._computer=C,this._onResult=this._register(new L.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(b,C=!0){this._state=b,C&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,f.createCancelableAsyncIterable)(b=>this._computer.computeAsync(b)),(async()=>{try{for await(const b of this._asyncIterable)b&&(this._result.push(b),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(b){(0,k.onUnexpectedError)(b)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const b=this._state===0,C=this._state===4;this._onResult.fire(new y(this._result.slice(0),b,C))}start(b){if(b===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=m}),define(ne[655],se([1,0,13,57,42]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverComputer=void 0;class D{get lineNumber(){return this._lineNumber}set lineNumber(m){this._lineNumber=m}get lane(){return this._laneOrLine}set lane(m){this._laneOrLine=m}constructor(m){this._editor=m,this._lineNumber=-1,this._laneOrLine=L.GlyphMarginLane.Center}computeSync(){var m,w;const b=i=>({value:i}),C=this._editor.getLineDecorations(this._lineNumber),o=[],n=this._laneOrLine==="lineNo";if(!C)return o;for(const i of C){const t=(w=(m=i.options.glyphMargin)===null||m===void 0?void 0:m.position)!==null&&w!==void 0?w:L.GlyphMarginLane.Center;if(!n&&t!==this._laneOrLine)continue;const s=n?i.options.lineNumberHoverMessage:i.options.glyphMarginHoverMessage;!s||(0,k.isEmptyMarkdownString)(s)||o.push(...(0,f.asArray)(s).map(b))}return o}}e.MarginHoverComputer=D}),define(ne[656],se([1,0,251,2,10,6]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const y=30,m=24;class w extends k.Disposable{constructor(C,o=new D.Dimension(10,10)){super(),this._editor=C,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new f.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=D.Dimension.lift(o),this._resizableNode.layout(o.height,o.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(n=>{this._resize(new D.Dimension(n.dimension.width,n.dimension.height)),n.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var C;return!((C=this._contentPosition)===null||C===void 0)&&C.position?L.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(C){const o=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(C);return!o||!n?void 0:D.getDomNodePagePosition(o).top+n.top-y}_availableVerticalSpaceBelow(C){const o=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(C);if(!o||!n)return;const i=D.getDomNodePagePosition(o),t=D.getClientArea(o.ownerDocument.body),s=i.top+n.top+n.height;return t.height-s-m}_findPositionPreference(C,o){var n,i;const t=Math.min((n=this._availableVerticalSpaceBelow(o))!==null&&n!==void 0?n:1/0,C),s=Math.min((i=this._availableVerticalSpaceAbove(o))!==null&&i!==void 0?i:1/0,C),c=Math.min(Math.max(s,t),C),g=Math.min(C,c);let l;return this._editor.getOption(60).above?l=g<=s?1:2:l=g<=t?2:1,l===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),l}_resize(C){this._resizableNode.layout(C.height,C.width)}}e.ResizableContentWidget=w}),define(ne[358],se([1,0,9,2,10,5,47,22]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0,e.asCommandLink=o;class w{constructor(i,t){this.range=i,this.direction=t}}e.InlayHintAnchor=w;class b{constructor(i,t,s){this.hint=i,this.anchor=t,this.provider=s,this._isResolved=!1}with(i){const t=new b(this.hint,i.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(i){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,i.isCancellationRequested?void 0:this.resolve(i);this._isResolved||(this._currentResolve=this._doResolve(i).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(i){var t,s,c;try{const g=await Promise.resolve(this.provider.resolveInlayHint(this.hint,i));this.hint.tooltip=(t=g?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(s=g?.label)!==null&&s!==void 0?s:this.hint.label,this.hint.textEdits=(c=g?.textEdits)!==null&&c!==void 0?c:this.hint.textEdits,this._isResolved=!0}catch(g){(0,f.onUnexpectedExternalError)(g),this._isResolved=!1}}}e.InlayHintItem=b;class C{static async create(i,t,s,c){const g=[],l=i.ordered(t).reverse().map(r=>s.map(async d=>{try{const u=await r.provideInlayHints(t,d,c);(u?.hints.length||r.onDidChangeInlayHints)&&g.push([u??C._emptyInlayHintList,r])}catch(u){(0,f.onUnexpectedExternalError)(u)}}));if(await Promise.all(l.flat()),c.isCancellationRequested||t.isDisposed())throw new f.CancellationError;return new C(s,g,t)}constructor(i,t,s){this._disposables=new k.DisposableStore,this.ranges=i,this.provider=new Set;const c=[];for(const[g,l]of t){this._disposables.add(g),this.provider.add(l);for(const r of g.hints){const d=s.validatePosition(r.position);let u="before";const a=C._getRangeAtPosition(s,d);let v;a.getStartPosition().isBefore(d)?(v=D.Range.fromPositions(a.getStartPosition(),d),u="after"):(v=D.Range.fromPositions(d,a.getEndPosition()),u="before"),c.push(new b(r,new w(v,u),l))}}this.items=c.sort((g,l)=>L.Position.compare(g.hint.position,l.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(i,t){const s=t.lineNumber,c=i.getWordAtPosition(t);if(c)return new D.Range(s,c.startColumn,s,c.endColumn);i.tokenization.tokenizeIfCheap(s);const g=i.tokenization.getLineTokens(s),l=t.column-1,r=g.findTokenIndexAtOffset(l);let d=g.getStartOffset(r),u=g.getEndOffset(r);return u-d===1&&(d===l&&r>1?(d=g.getStartOffset(r-1),u=g.getEndOffset(r-1)):u===l&&r<g.getCount()-1&&(d=g.getStartOffset(r+1),u=g.getEndOffset(r+1))),new D.Range(s,d+1,s,u+1)}}e.InlayHintsFragments=C,C._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function o(n){return m.URI.from({scheme:y.Schemas.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}}),define(ne[657],se([1,0,87,15,19,45,9,5,556,200,132]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=void 0,e.provideInlineCompletions=o;async function o(g,l,r,d,u=L.CancellationToken.None,a){const v=s(l,r),h=g.all(r),p=new D.SetMap;for(const M of h)M.groupId&&p.add(M.groupId,M);function _(M){if(!M.yieldsToGroupIds)return[];const P=[];for(const F of M.yieldsToGroupIds||[]){const O=p.get(F);for(const B of O)P.push(B)}return P}const S=new Map,E=new Set;function I(M,P){if(P=[...P,M],E.has(M))return P;E.add(M);try{const F=_(M);for(const O of F){const B=I(O,P);if(B)return B}}finally{E.delete(M)}}function T(M){const P=S.get(M);if(P)return P;const F=I(M,[]);F&&(0,y.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${F.map(B=>B.toString?B.toString():""+B).join(" -> ")}`));const O=new k.DeferredPromise;return S.set(M,O.p),(async()=>{if(!F){const B=_(M);for(const V of B){const K=await T(V);if(K&&K.items.length>0)return}}try{return await M.provideInlineCompletions(r,l,d,u)}catch(B){(0,y.onUnexpectedExternalError)(B);return}})().then(B=>O.complete(B),B=>O.error(B)),O.p}const N=await Promise.all(h.map(async M=>({provider:M,completions:await T(M)}))),A=new Map,R=[];for(const M of N){const P=M.completions;if(!P)continue;const F=new i(P,M.provider);R.push(F);for(const O of P.items){const B=t.from(O,F,v,r,a);A.set(B.hash(),B)}}return new n(Array.from(A.values()),new Set(A.keys()),R)}class n{constructor(l,r,d){this.completions=l,this.hashs=r,this.providerResults=d}has(l){return this.hashs.has(l.hash())}dispose(){for(const l of this.providerResults)l.removeRef()}}e.InlineCompletionProviderResult=n;class i{constructor(l,r){this.inlineCompletions=l,this.provider=r,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=i;class t{static from(l,r,d,u,a){let v,h,p=l.range?m.Range.lift(l.range):d;if(typeof l.insertText=="string"){if(v=l.insertText,a&&l.completeBracketPairs){v=c(v,p.getStartPosition(),u,a);const _=v.length-l.insertText.length;_!==0&&(p=new m.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+_))}h=void 0}else if("snippet"in l.insertText){const _=l.insertText.snippet.length;if(a&&l.completeBracketPairs){l.insertText.snippet=c(l.insertText.snippet,p.getStartPosition(),u,a);const E=l.insertText.snippet.length-_;E!==0&&(p=new m.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+E))}const S=new C.SnippetParser().parse(l.insertText.snippet);S.children.length===1&&S.children[0]instanceof C.Text?(v=S.children[0].value,h=void 0):(v=S.toString(),h={snippet:l.insertText.snippet,range:p})}else(0,f.assertNever)(l.insertText);return new t(v,l.command,p,v,h,l.additionalTextEdits||(0,b.getReadonlyEmptyArray)(),l,r)}constructor(l,r,d,u,a,v,h,p){this.filterText=l,this.command=r,this.range=d,this.insertText=u,this.snippetInfo=a,this.additionalTextEdits=v,this.sourceInlineCompletion=h,this.source=p,l=l.replace(/\r\n|\r/g,`
`),u=l.replace(/\r\n|\r/g,`
`)}withRange(l){return new t(this.filterText,this.command,l,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function s(g,l){const r=l.getWordAtPosition(g),d=l.getLineMaxColumn(g.lineNumber);return r?new m.Range(g.lineNumber,r.startColumn,g.lineNumber,d):m.Range.fromPositions(g,g.with(void 0,d))}function c(g,l,r,d){const a=r.getLineContent(l.lineNumber).substring(0,l.column-1)+g,v=r.tokenization.tokenizeLineWithEdit(l,a.length-(l.column-1),g),h=v?.sliceAndInflate(l.column-1,a.length,0);return h?(0,w.fixBracketsInLine)(h,d):g}}),define(ne[658],se([3,4]),function(X,e){return X.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ne[659],se([3,4]),function(X,e){return X.create("vs/editor/browser/coreCommands",e)}),define(ne[660],se([3,4]),function(X,e){return X.create("vs/editor/browser/editorExtensions",e)}),define(ne[661],se([3,4]),function(X,e){return X.create("vs/editor/browser/services/hoverService/hoverWidget",e)}),define(ne[662],se([3,4]),function(X,e){return X.create("vs/editor/browser/services/hoverService/updatableHoverWidget",e)}),define(ne[663],se([1,0,6,19,57,20,662]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpdatableHoverWidget=void 0;class m{constructor(b,C,o){this.hoverDelegate=b,this.target=C,this.fadeInAnimation=o}async update(b,C,o){var n;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let i;if(b===void 0||(0,D.isString)(b)||(0,f.isHTMLElement)(b))i=b;else if(!(0,D.isFunction)(b.markdown))i=(n=b.markdown)!==null&&n!==void 0?n:b.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,y.localize)(0,null),C,o),this._cancellationTokenSource=new k.CancellationTokenSource;const t=this._cancellationTokenSource.token;if(i=await b.markdown(t),i===void 0&&(i=b.markdownNotSupportedFallback),this.isDisposed||t.isCancellationRequested)return}this.show(i,C,o)}show(b,C,o){const n=this._hoverWidget;if(this.hasContent(b)){const i={content:b,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!n},position:{hoverPosition:2},...o};this._hoverWidget=this.hoverDelegate.showHover(i,C)}n?.dispose()}hasContent(b){return b?(0,L.isMarkdownString)(b)?!!b.value:!0:!1}get isDisposed(){var b;return(b=this._hoverWidget)===null||b===void 0?void 0:b.isDisposed}dispose(){var b,C;(b=this._hoverWidget)===null||b===void 0||b.dispose(),(C=this._cancellationTokenSource)===null||C===void 0||C.dispose(!0),this._cancellationTokenSource=void 0}}e.UpdatableHoverWidget=m}),define(ne[664],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/codeEditor/codeEditorWidget",e)}),define(ne[665],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/commands",e)}),define(ne[666],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer",e)}),define(ne[667],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/components/diffEditorEditors",e)}),define(ne[668],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin",e)}),define(ne[669],se([1,0,6,41,26,2,17,31,668]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class b extends D.Disposable{get visibility(){return this._visibility}set visibility(o){this._visibility!==o&&(this._visibility=o,this._diffActions.style.visibility=o?"visible":"hidden")}constructor(o,n,i,t,s,c,g,l,r){super(),this._getViewZoneId=o,this._marginDomNode=n,this._modifiedEditor=i,this._diff=t,this._editor=s,this._viewLineCounts=c,this._originalTextModel=g,this._contextMenuService=l,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=m.ThemeIcon.asClassName(L.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const d=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${d}px`,this._diffActions.style.lineHeight=`${d}px`,this._marginDomNode.appendChild(this._diffActions);let u=0;const a=i.getOption(127)&&!y.isIOS,v=(h,p)=>{var _;this._contextMenuService.showContextMenu({domForShadowRoot:a&&(_=i.getDomNode())!==null&&_!==void 0?_:void 0,getAnchor:()=>({x:h,y:p}),getActions:()=>{const S=[],E=t.modified.isEmpty;return S.push(new k.Action("diff.clipboard.copyDeletedContent",E?t.original.length>1?(0,w.localize)(0,null):(0,w.localize)(1,null):t.original.length>1?(0,w.localize)(2,null):(0,w.localize)(3,null),void 0,!0,async()=>{const T=this._originalTextModel.getValueInRange(t.original.toExclusiveRange());await this._clipboardService.writeText(T)})),t.original.length>1&&S.push(new k.Action("diff.clipboard.copyDeletedLineContent",E?(0,w.localize)(4,null,t.original.startLineNumber+u):(0,w.localize)(5,null,t.original.startLineNumber+u),void 0,!0,async()=>{let T=this._originalTextModel.getLineContent(t.original.startLineNumber+u);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(T)})),i.getOption(91)||S.push(new k.Action("diff.inline.revertChange",(0,w.localize)(6,null),void 0,!0,async()=>{this._editor.revert(this._diff)})),S},autoSelectFirstItem:!0})};this._register((0,f.addStandardDisposableListener)(this._diffActions,"mousedown",h=>{if(!h.leftButton)return;const{top:p,height:_}=(0,f.getDomNodePagePosition)(this._diffActions),S=Math.floor(d/3);h.preventDefault(),v(h.posx,p+_+S)})),this._register(i.onMouseMove(h=>{(h.target.type===8||h.target.type===5)&&h.target.detail.viewZoneId===this._getViewZoneId()?(u=this._updateLightBulbPosition(this._marginDomNode,h.event.browserEvent.y,d),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(h=>{h.event.leftButton&&(h.target.type===8||h.target.type===5)&&h.target.detail.viewZoneId===this._getViewZoneId()&&(h.event.preventDefault(),u=this._updateLightBulbPosition(this._marginDomNode,h.event.browserEvent.y,d),v(h.event.posx,h.event.posy+d))}))}_updateLightBulbPosition(o,n,i){const{top:t}=(0,f.getDomNodePagePosition)(o),s=n-t,c=Math.floor(s/i),g=c*i;if(this._diffActions.style.top=`${g}px`,this._viewLineCounts){let l=0;for(let r=0;r<this._viewLineCounts.length;r++)if(l+=this._viewLineCounts[r],c<l)return r}return c}}e.InlineDiffDeletedCodeMargin=b}),define(ne[670],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/diffEditor.contribution",e)}),define(ne[671],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature",e)}),define(ne[672],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature",e)}),define(ne[359],se([1,0,6,82,41,13,68,26,2,30,31,83,67,672]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesFeature=void 0;class t extends w.Disposable{constructor(l,r,d,u,a){super(),this._rootElement=l,this._diffModel=r,this._originalEditorLayoutInfo=d,this._modifiedEditorLayoutInfo=u,this._editors=a,this._originalScrollTop=(0,b.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,b.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,b.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,b.observableValue)(this,0),this._modifiedViewZonesChangedSignal=(0,b.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,b.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,b.derivedWithStore)(this,(S,E)=>{var I;this._element.replaceChildren();const T=this._diffModel.read(S),N=(I=T?.diff.read(S))===null||I===void 0?void 0:I.movedTexts;if(!N||N.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(S);const A=this._originalEditorLayoutInfo.read(S),R=this._modifiedEditorLayoutInfo.read(S);if(!A||!R){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(S),this._originalViewZonesChangedSignal.read(S);const M=N.map(U=>{function G(ue,he){const pe=he.getTopForLineNumber(ue.startLineNumber,!0),ce=he.getTopForLineNumber(ue.endLineNumberExclusive,!0);return(pe+ce)/2}const z=G(U.lineRangeMapping.original,this._editors.original),$=this._originalScrollTop.read(S),J=G(U.lineRangeMapping.modified,this._editors.modified),ee=this._modifiedScrollTop.read(S),Z=z-$,x=J-ee,Y=Math.min(z,J),ae=Math.max(z,J);return{range:new n.OffsetRange(Y,ae),from:Z,to:x,fromWithoutScroll:z,toWithoutScroll:J,move:U}});M.sort((0,D.tieBreakComparators)((0,D.compareBy)(U=>U.fromWithoutScroll>U.toWithoutScroll,D.booleanComparator),(0,D.compareBy)(U=>U.fromWithoutScroll>U.toWithoutScroll?U.fromWithoutScroll:-U.toWithoutScroll,D.numberComparator)));const P=s.compute(M.map(U=>U.range)),F=10,O=A.verticalScrollbarWidth,B=(P.getTrackCount()-1)*10+F*2,V=O+B+(R.contentLeft-t.movedCodeBlockPadding);let K=0;for(const U of M){const G=P.getTrack(K),z=O+F+G*10,$=15,J=15,ee=V,Z=R.glyphMarginWidth+R.lineNumbersWidth,x=18,Y=document.createElementNS("http://www.w3.org/2000/svg","rect");Y.classList.add("arrow-rectangle"),Y.setAttribute("x",`${ee-Z}`),Y.setAttribute("y",`${U.to-x/2}`),Y.setAttribute("width",`${Z}`),Y.setAttribute("height",`${x}`),this._element.appendChild(Y);const ae=document.createElementNS("http://www.w3.org/2000/svg","g"),ue=document.createElementNS("http://www.w3.org/2000/svg","path");ue.setAttribute("d",`M 0 ${U.from} L ${z} ${U.from} L ${z} ${U.to} L ${ee-J} ${U.to}`),ue.setAttribute("fill","none"),ae.appendChild(ue);const he=document.createElementNS("http://www.w3.org/2000/svg","polygon");he.classList.add("arrow"),E.add((0,b.autorun)(pe=>{ue.classList.toggle("currentMove",U.move===T.activeMovedText.read(pe)),he.classList.toggle("currentMove",U.move===T.activeMovedText.read(pe))})),he.setAttribute("points",`${ee-J},${U.to-$/2} ${ee},${U.to} ${ee-J},${U.to+$/2}`),ae.appendChild(he),this._element.appendChild(ae),K++}this.width.set(B,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,w.toDisposable)(()=>this._element.remove())),this._register((0,b.autorun)(S=>{const E=this._originalEditorLayoutInfo.read(S),I=this._modifiedEditorLayoutInfo.read(S);!E||!I||(this._element.style.left=`${E.width-E.verticalScrollbarWidth}px`,this._element.style.height=`${E.height}px`,this._element.style.width=`${E.verticalScrollbarWidth+E.contentLeft-t.movedCodeBlockPadding+this.width.read(S)}px`)})),this._register((0,b.recomputeInitiallyAndOnChange)(this._state));const v=(0,b.derived)(S=>{const E=this._diffModel.read(S),I=E?.diff.read(S);return I?I.movedTexts.map(T=>({move:T,original:new o.PlaceholderViewZone((0,b.constObservable)(T.lineRangeMapping.original.startLineNumber-1),18),modified:new o.PlaceholderViewZone((0,b.constObservable)(T.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,o.applyViewZones)(this._editors.original,v.map(S=>S.map(E=>E.original)))),this._register((0,o.applyViewZones)(this._editors.modified,v.map(S=>S.map(E=>E.modified)))),this._register((0,b.autorunWithStore)((S,E)=>{const I=v.read(S);for(const T of I)E.add(new c(this._editors.original,T.original,T.move,"original",this._diffModel.get())),E.add(new c(this._editors.modified,T.modified,T.move,"modified",this._diffModel.get()))}));const h=(0,b.observableSignalFromEvent)("original.onDidFocusEditorWidget",S=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>S(void 0),0))),p=(0,b.observableSignalFromEvent)("modified.onDidFocusEditorWidget",S=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>S(void 0),0)));let _="modified";this._register((0,b.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(S,E)=>(S.didChange(h)&&(_="original"),S.didChange(p)&&(_="modified"),!0)},S=>{h.read(S),p.read(S);const E=this._diffModel.read(S);if(!E)return;const I=E.diff.read(S);let T;if(I&&_==="original"){const N=this._editors.originalCursor.read(S);N&&(T=I.movedTexts.find(A=>A.lineRangeMapping.original.contains(N.lineNumber)))}if(I&&_==="modified"){const N=this._editors.modifiedCursor.read(S);N&&(T=I.movedTexts.find(A=>A.lineRangeMapping.modified.contains(N.lineNumber)))}T!==E.movedTextToCompare.get()&&E.movedTextToCompare.set(void 0,void 0),E.setActiveMovedText(T)}))}}e.MovedBlocksLinesFeature=t,t.movedCodeBlockPadding=4;class s{static compute(l){const r=[],d=[];for(const u of l){let a=r.findIndex(v=>!v.intersectsStrict(u));a===-1&&(r.length>=6?a=(0,y.findMaxIdx)(r,(0,D.compareBy)(h=>h.intersectWithRangeLength(u),D.numberComparator)):(a=r.length,r.push(new n.OffsetRangeSet))),r[a].addRange(u),d.push(a)}return new s(r.length,d)}constructor(l,r){this._trackCount=l,this.trackPerLineIdx=r}getTrack(l){return this.trackPerLineIdx[l]}getTrackCount(){return this._trackCount}}class c extends o.ViewZoneOverlayWidget{constructor(l,r,d,u,a){const v=(0,f.h)("div.diff-hidden-lines-widget");super(l,r,v.root),this._editor=l,this._move=d,this._kind=u,this._diffModel=a,this._nodes=(0,f.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,f.h)("div.text-content@textContent"),(0,f.h)("div.action-bar@actionBar")]),v.root.appendChild(this._nodes.root);const h=(0,b.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,o.applyStyle)(this._nodes.root,{paddingRight:h.map(I=>I.verticalScrollbarWidth)}));let p;d.changes.length>0?p=this._kind==="original"?(0,i.localize)(0,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(1,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):p=this._kind==="original"?(0,i.localize)(2,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(3,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const _=this._register(new k.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),S=new L.Action("",p,"",!1);_.push(S,{icon:!1,label:!0});const E=new L.Action("","Compare",C.ThemeIcon.asClassName(m.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===d?void 0:this._move,void 0)});this._register((0,b.autorun)(I=>{const T=this._diffModel.movedTextToCompare.read(I)===d;E.checked=T})),_.push(E,{icon:!1,label:!0})}}}),define(ne[673],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/features/revertButtonsFeature",e)}),define(ne[674],se([1,0,6,110,26,2,30,61,5,101,42,673]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertButton=e.RevertButtonsFeature=void 0;const n=[];class i extends D.Disposable{constructor(c,g,l,r){super(),this._editors=c,this._diffModel=g,this._options=l,this._widget=r,this._selectedDiffs=(0,y.derived)(this,d=>{const u=this._diffModel.read(d),a=u?.diff.read(d);if(!a)return n;const v=this._editors.modifiedSelections.read(d);if(v.every(S=>S.isEmpty()))return n;const h=new m.LineRangeSet(v.map(S=>m.LineRange.fromRangeInclusive(S))),_=a.mappings.filter(S=>S.lineRangeMapping.innerChanges&&h.intersects(S.lineRangeMapping.modified)).map(S=>({mapping:S,rangeMappings:S.lineRangeMapping.innerChanges.filter(E=>v.some(I=>w.Range.areIntersecting(E.modifiedRange,I)))}));return _.length===0||_.every(S=>S.rangeMappings.length===0)?n:_}),this._register((0,y.autorunWithStore)((d,u)=>{if(!this._options.shouldRenderOldRevertArrows.read(d))return;const a=this._diffModel.read(d),v=a?.diff.read(d);if(!a||!v||a.movedTextToCompare.read(d))return;const h=[],p=this._selectedDiffs.read(d),_=new Set(p.map(S=>S.mapping));if(p.length>0){const S=this._editors.modifiedSelections.read(d),E=u.add(new t(S[S.length-1].positionLineNumber,this._widget,p.flatMap(I=>I.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(E),h.push(E)}for(const S of v.mappings)if(!_.has(S)&&!S.lineRangeMapping.modified.isEmpty&&S.lineRangeMapping.innerChanges){const E=u.add(new t(S.lineRangeMapping.modified.startLineNumber,this._widget,S.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(E),h.push(E)}u.add((0,D.toDisposable)(()=>{for(const S of h)this._editors.modified.removeGlyphMarginWidget(S)}))}))}}e.RevertButtonsFeature=i;class t extends D.Disposable{getId(){return this._id}constructor(c,g,l,r){super(),this._lineNumber=c,this._widget=g,this._diffs=l,this._revertSelection=r,this._id=`revertButton${t.counter++}`,this._domNode=(0,f.h)("div.revertButton",{title:this._revertSelection?(0,o.localize)(0,null):(0,o.localize)(1,null)},[(0,k.renderIcon)(L.Codicon.arrowRight)]).root,this._register((0,f.addDisposableListener)(this._domNode,f.EventType.MOUSE_DOWN,d=>{d.button!==2&&(d.stopPropagation(),d.preventDefault())})),this._register((0,f.addDisposableListener)(this._domNode,f.EventType.MOUSE_UP,d=>{d.stopPropagation(),d.preventDefault()})),this._register((0,f.addDisposableListener)(this._domNode,f.EventType.CLICK,d=>{this._diffs instanceof b.LineRangeMapping?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),d.stopPropagation(),d.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:C.GlyphMarginLane.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}e.RevertButton=t,t.counter=0}),define(ne[675],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/diffEditor/registrations.contribution",e)}),define(ne[676],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/multiDiffEditor/colors",e)}),define(ne[677],se([3,4]),function(X,e){return X.create("vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl",e)}),define(ne[678],se([3,4]),function(X,e){return X.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ne[679],se([3,4]),function(X,e){return X.create("vs/editor/common/config/editorOptions",e)}),define(ne[38],se([1,0,13,55,17,192,162,679]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.ShowLightbulbIconMode=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.boolean=s,e.clampedInt=g,e.clampedFloat=r,e.stringSet=a,e.filterValidationDecorations=oe,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(fe){this._values=fe}hasChanged(fe){return this._values[fe]}}e.ConfigurationChangedEvent=w;class b{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=b;class C{constructor(fe,_e,Oe,Be){this.id=fe,this.name=_e,this.defaultValue=Oe,this.schema=Be}applyUpdate(fe,_e){return n(fe,_e)}compute(fe,_e,Oe){return Oe}}class o{constructor(fe,_e){this.newValue=fe,this.didChange=_e}}e.ApplyUpdateResult=o;function n(Ne,fe){if(typeof Ne!="object"||typeof fe!="object"||!Ne||!fe)return new o(fe,Ne!==fe);if(Array.isArray(Ne)||Array.isArray(fe)){const Oe=Array.isArray(Ne)&&Array.isArray(fe)&&f.equals(Ne,fe);return new o(fe,!Oe)}let _e=!1;for(const Oe in fe)if(fe.hasOwnProperty(Oe)){const Be=n(Ne[Oe],fe[Oe]);Be.didChange&&(Ne[Oe]=Be.newValue,_e=!0)}return new o(Ne,_e)}class i{constructor(fe){this.schema=void 0,this.id=fe,this.name="_never_",this.defaultValue=void 0}applyUpdate(fe,_e){return n(fe,_e)}validate(fe){return this.defaultValue}}class t{constructor(fe,_e,Oe,Be){this.id=fe,this.name=_e,this.defaultValue=Oe,this.schema=Be}applyUpdate(fe,_e){return n(fe,_e)}validate(fe){return typeof fe>"u"?this.defaultValue:fe}compute(fe,_e,Oe){return Oe}}function s(Ne,fe){return typeof Ne>"u"?fe:Ne==="false"?!1:!!Ne}class c extends t{constructor(fe,_e,Oe,Be=void 0){typeof Be<"u"&&(Be.type="boolean",Be.default=Oe),super(fe,_e,Oe,Be)}validate(fe){return s(fe,this.defaultValue)}}function g(Ne,fe,_e,Oe){if(typeof Ne>"u")return fe;let Be=parseInt(Ne,10);return isNaN(Be)?fe:(Be=Math.max(_e,Be),Be=Math.min(Oe,Be),Be|0)}class l extends t{static clampedInt(fe,_e,Oe,Be){return g(fe,_e,Oe,Be)}constructor(fe,_e,Oe,Be,Ke,je=void 0){typeof je<"u"&&(je.type="integer",je.default=Oe,je.minimum=Be,je.maximum=Ke),super(fe,_e,Oe,je),this.minimum=Be,this.maximum=Ke}validate(fe){return l.clampedInt(fe,this.defaultValue,this.minimum,this.maximum)}}function r(Ne,fe,_e,Oe){if(typeof Ne>"u")return fe;const Be=d.float(Ne,fe);return d.clamp(Be,_e,Oe)}class d extends t{static clamp(fe,_e,Oe){return fe<_e?_e:fe>Oe?Oe:fe}static float(fe,_e){if(typeof fe=="number")return fe;if(typeof fe>"u")return _e;const Oe=parseFloat(fe);return isNaN(Oe)?_e:Oe}constructor(fe,_e,Oe,Be,Ke){typeof Ke<"u"&&(Ke.type="number",Ke.default=Oe),super(fe,_e,Oe,Ke),this.validationFn=Be}validate(fe){return this.validationFn(d.float(fe,this.defaultValue))}}class u extends t{static string(fe,_e){return typeof fe!="string"?_e:fe}constructor(fe,_e,Oe,Be=void 0){typeof Be<"u"&&(Be.type="string",Be.default=Oe),super(fe,_e,Oe,Be)}validate(fe){return u.string(fe,this.defaultValue)}}function a(Ne,fe,_e,Oe){return typeof Ne!="string"?fe:Oe&&Ne in Oe?Oe[Ne]:_e.indexOf(Ne)===-1?fe:Ne}class v extends t{constructor(fe,_e,Oe,Be,Ke=void 0){typeof Ke<"u"&&(Ke.type="string",Ke.enum=Be,Ke.default=Oe),super(fe,_e,Oe,Ke),this._allowedValues=Be}validate(fe){return a(fe,this.defaultValue,this._allowedValues)}}class h extends C{constructor(fe,_e,Oe,Be,Ke,je,Ze=void 0){typeof Ze<"u"&&(Ze.type="string",Ze.enum=Ke,Ze.default=Be),super(fe,_e,Oe,Ze),this._allowedValues=Ke,this._convert=je}validate(fe){return typeof fe!="string"?this.defaultValue:this._allowedValues.indexOf(fe)===-1?this.defaultValue:this._convert(fe)}}function p(Ne){switch(Ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class _ extends C{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[m.localize(0,null),m.localize(1,null),m.localize(2,null)],default:"auto",tags:["accessibility"],description:m.localize(3,null)})}validate(fe){switch(fe){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(fe,_e,Oe){return Oe===0?fe.accessibilitySupport:Oe}}class S extends C{constructor(){const fe={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",fe,{"editor.comments.insertSpace":{type:"boolean",default:fe.insertSpace,description:m.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:fe.ignoreEmptyLines,description:m.localize(5,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{insertSpace:s(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:s(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function E(Ne){switch(Ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(Ne){Ne[Ne.Line=1]="Line",Ne[Ne.Block=2]="Block",Ne[Ne.Underline=3]="Underline",Ne[Ne.LineThin=4]="LineThin",Ne[Ne.BlockOutline=5]="BlockOutline",Ne[Ne.UnderlineThin=6]="UnderlineThin"})(I||(e.TextEditorCursorStyle=I={}));function T(Ne){switch(Ne){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class N extends i{constructor(){super(142)}compute(fe,_e,Oe){const Be=["monaco-editor"];return _e.get(39)&&Be.push(_e.get(39)),fe.extraEditorClassName&&Be.push(fe.extraEditorClassName),_e.get(74)==="default"?Be.push("mouse-default"):_e.get(74)==="copy"&&Be.push("mouse-copy"),_e.get(111)&&Be.push("showUnused"),_e.get(140)&&Be.push("showDeprecated"),Be.join(" ")}}class A extends c{constructor(){super(37,"emptySelectionClipboard",!0,{description:m.localize(6,null)})}compute(fe,_e,Oe){return Oe&&fe.emptySelectionClipboard}}class R extends C{constructor(){const fe={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",fe,{"editor.find.cursorMoveOnType":{type:"boolean",default:fe.cursorMoveOnType,description:m.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:fe.seedSearchStringFromSelection,enumDescriptions:[m.localize(8,null),m.localize(9,null),m.localize(10,null)],description:m.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:fe.autoFindInSelection,enumDescriptions:[m.localize(12,null),m.localize(13,null),m.localize(14,null)],description:m.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:fe.globalFindClipboard,description:m.localize(16,null),included:L.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:fe.addExtraSpaceOnTop,description:m.localize(17,null)},"editor.find.loop":{type:"boolean",default:fe.loop,description:m.localize(18,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{cursorMoveOnType:s(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof fe.seedSearchStringFromSelection=="boolean"?fe.seedSearchStringFromSelection?"always":"never":a(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof fe.autoFindInSelection=="boolean"?fe.autoFindInSelection?"always":"never":a(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:s(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:s(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:s(_e.loop,this.defaultValue.loop)}}}class M extends C{constructor(){super(51,"fontLigatures",M.OFF,{anyOf:[{type:"boolean",description:m.localize(19,null)},{type:"string",description:m.localize(20,null)}],description:m.localize(21,null),default:!1})}validate(fe){return typeof fe>"u"?this.defaultValue:typeof fe=="string"?fe==="false"||fe.length===0?M.OFF:fe==="true"?M.ON:fe:fe?M.ON:M.OFF}}e.EditorFontLigatures=M,M.OFF='"liga" off, "calt" off',M.ON='"liga" on, "calt" on';class P extends C{constructor(){super(54,"fontVariations",P.OFF,{anyOf:[{type:"boolean",description:m.localize(22,null)},{type:"string",description:m.localize(23,null)}],description:m.localize(24,null),default:!1})}validate(fe){return typeof fe>"u"?this.defaultValue:typeof fe=="string"?fe==="false"?P.OFF:fe==="true"?P.TRANSLATE:fe:fe?P.TRANSLATE:P.OFF}compute(fe,_e,Oe){return fe.fontInfo.fontVariationSettings}}e.EditorFontVariations=P,P.OFF="normal",P.TRANSLATE="translate";class F extends i{constructor(){super(50)}compute(fe,_e,Oe){return fe.fontInfo}}class O extends t{constructor(){super(52,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:m.localize(25,null)})}validate(fe){const _e=d.float(fe,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:d.clamp(_e,6,100)}compute(fe,_e,Oe){return fe.fontInfo.fontSize}}class B extends C{constructor(){super(53,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:B.MINIMUM_VALUE,maximum:B.MAXIMUM_VALUE,errorMessage:m.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:B.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:m.localize(27,null)})}validate(fe){return fe==="normal"||fe==="bold"?fe:String(l.clampedInt(fe,e.EDITOR_FONT_DEFAULTS.fontWeight,B.MINIMUM_VALUE,B.MAXIMUM_VALUE))}}B.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],B.MINIMUM_VALUE=1,B.MAXIMUM_VALUE=1e3;class V extends C{constructor(){const fe={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},_e={type:"string",enum:["peek","gotoAndPeek","goto"],default:fe.multiple,enumDescriptions:[m.localize(28,null),m.localize(29,null),m.localize(30,null)]},Oe=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",fe,{"editor.gotoLocation.multiple":{deprecationMessage:m.localize(31,null)},"editor.gotoLocation.multipleDefinitions":{description:m.localize(32,null),..._e},"editor.gotoLocation.multipleTypeDefinitions":{description:m.localize(33,null),..._e},"editor.gotoLocation.multipleDeclarations":{description:m.localize(34,null),..._e},"editor.gotoLocation.multipleImplementations":{description:m.localize(35,null),..._e},"editor.gotoLocation.multipleReferences":{description:m.localize(36,null),..._e},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:fe.alternativeDefinitionCommand,enum:Oe,description:m.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:fe.alternativeTypeDefinitionCommand,enum:Oe,description:m.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:fe.alternativeDeclarationCommand,enum:Oe,description:m.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:fe.alternativeImplementationCommand,enum:Oe,description:m.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:fe.alternativeReferenceCommand,enum:Oe,description:m.localize(41,null)}})}validate(fe){var _e,Oe,Be,Ke,je;if(!fe||typeof fe!="object")return this.defaultValue;const Ze=fe;return{multiple:a(Ze.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(_e=Ze.multipleDefinitions)!==null&&_e!==void 0?_e:a(Ze.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Oe=Ze.multipleTypeDefinitions)!==null&&Oe!==void 0?Oe:a(Ze.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Be=Ze.multipleDeclarations)!==null&&Be!==void 0?Be:a(Ze.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Ke=Ze.multipleImplementations)!==null&&Ke!==void 0?Ke:a(Ze.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(je=Ze.multipleReferences)!==null&&je!==void 0?je:a(Ze.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:u.string(Ze.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:u.string(Ze.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:u.string(Ze.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:u.string(Ze.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:u.string(Ze.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class K extends C{constructor(){const fe={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",fe,{"editor.hover.enabled":{type:"boolean",default:fe.enabled,description:m.localize(42,null)},"editor.hover.delay":{type:"number",default:fe.delay,minimum:0,maximum:1e4,description:m.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:fe.sticky,description:m.localize(44,null)},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:fe.hidingDelay,description:m.localize(45,null)},"editor.hover.above":{type:"boolean",default:fe.above,description:m.localize(46,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:s(_e.enabled,this.defaultValue.enabled),delay:l.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:s(_e.sticky,this.defaultValue.sticky),hidingDelay:l.clampedInt(_e.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:s(_e.above,this.defaultValue.above)}}}class U extends i{constructor(){super(145)}compute(fe,_e,Oe){return U.computeLayout(_e,{memory:fe.memory,outerWidth:fe.outerWidth,outerHeight:fe.outerHeight,isDominatedByLongLines:fe.isDominatedByLongLines,lineHeight:fe.fontInfo.lineHeight,viewLineCount:fe.viewLineCount,lineNumbersDigitCount:fe.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:fe.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:fe.fontInfo.maxDigitWidth,pixelRatio:fe.pixelRatio,glyphMarginDecorationLaneCount:fe.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(fe){const _e=fe.height/fe.lineHeight,Oe=Math.floor(fe.paddingTop/fe.lineHeight);let Be=Math.floor(fe.paddingBottom/fe.lineHeight);fe.scrollBeyondLastLine&&(Be=Math.max(Be,_e-1));const Ke=(Oe+fe.viewLineCount+Be)/(fe.pixelRatio*fe.height),je=Math.floor(fe.viewLineCount/Ke);return{typicalViewportLineCount:_e,extraLinesBeforeFirstLine:Oe,extraLinesBeyondLastLine:Be,desiredRatio:Ke,minimapLineCount:je}}static _computeMinimapLayout(fe,_e){const Oe=fe.outerWidth,Be=fe.outerHeight,Ke=fe.pixelRatio;if(!fe.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ke*Be),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Be};const je=_e.stableMinimapLayoutInput,Ze=je&&fe.outerHeight===je.outerHeight&&fe.lineHeight===je.lineHeight&&fe.typicalHalfwidthCharacterWidth===je.typicalHalfwidthCharacterWidth&&fe.pixelRatio===je.pixelRatio&&fe.scrollBeyondLastLine===je.scrollBeyondLastLine&&fe.paddingTop===je.paddingTop&&fe.paddingBottom===je.paddingBottom&&fe.minimap.enabled===je.minimap.enabled&&fe.minimap.side===je.minimap.side&&fe.minimap.size===je.minimap.size&&fe.minimap.showSlider===je.minimap.showSlider&&fe.minimap.renderCharacters===je.minimap.renderCharacters&&fe.minimap.maxColumn===je.minimap.maxColumn&&fe.minimap.scale===je.minimap.scale&&fe.verticalScrollbarWidth===je.verticalScrollbarWidth&&fe.isViewportWrapping===je.isViewportWrapping,et=fe.lineHeight,it=fe.typicalHalfwidthCharacterWidth,rt=fe.scrollBeyondLastLine,ut=fe.minimap.renderCharacters;let ot=Ke>=2?Math.round(fe.minimap.scale*2):fe.minimap.scale;const ht=fe.minimap.maxColumn,Xe=fe.minimap.size,_t=fe.minimap.side,vt=fe.verticalScrollbarWidth,Ct=fe.viewLineCount,gt=fe.remainingWidth,Le=fe.isViewportWrapping,we=ut?2:3;let be=Math.floor(Ke*Be);const Ie=be/Ke;let xe=!1,Ve=!1,We=we*ot,qe=ot/Ke,Ue=1;if(Xe==="fill"||Xe==="fit"){const{typicalViewportLineCount:tt,extraLinesBeforeFirstLine:Je,extraLinesBeyondLastLine:at,desiredRatio:nt,minimapLineCount:st}=U.computeContainedMinimapLineCount({viewLineCount:Ct,scrollBeyondLastLine:rt,paddingTop:fe.paddingTop,paddingBottom:fe.paddingBottom,height:Be,lineHeight:et,pixelRatio:Ke});if(Ct/st>1)xe=!0,Ve=!0,ot=1,We=1,qe=ot/Ke;else{let dt=!1,Lt=ot+1;if(Xe==="fit"){const lt=Math.ceil((Je+Ct+at)*We);Le&&Ze&&gt<=_e.stableFitRemainingWidth?(dt=!0,Lt=_e.stableFitMaxMinimapScale):dt=lt>be}if(Xe==="fill"||dt){xe=!0;const lt=ot;We=Math.min(et*Ke,Math.max(1,Math.floor(1/nt))),Le&&Ze&&gt<=_e.stableFitRemainingWidth&&(Lt=_e.stableFitMaxMinimapScale),ot=Math.min(Lt,Math.max(1,Math.floor(We/we))),ot>lt&&(Ue=Math.min(2,ot/lt)),qe=ot/Ke/Ue,be=Math.ceil(Math.max(tt,Je+Ct+at)*We),Le?(_e.stableMinimapLayoutInput=fe,_e.stableFitRemainingWidth=gt,_e.stableFitMaxMinimapScale=ot):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0)}}}const Ye=Math.floor(ht*qe),Ge=Math.min(Ye,Math.max(0,Math.floor((gt-vt-2)*qe/(it+qe)))+e.MINIMAP_GUTTER_WIDTH);let Fe=Math.floor(Ke*Ge);const He=Fe/Ke;Fe=Math.floor(Fe*Ue);const ze=ut?1:2,$e=_t==="left"?0:Oe-Ge-vt;return{renderMinimap:ze,minimapLeft:$e,minimapWidth:Ge,minimapHeightIsEditorHeight:xe,minimapIsSampling:Ve,minimapScale:ot,minimapLineHeight:We,minimapCanvasInnerWidth:Fe,minimapCanvasInnerHeight:be,minimapCanvasOuterWidth:He,minimapCanvasOuterHeight:Ie}}static computeLayout(fe,_e){const Oe=_e.outerWidth|0,Be=_e.outerHeight|0,Ke=_e.lineHeight|0,je=_e.lineNumbersDigitCount|0,Ze=_e.typicalHalfwidthCharacterWidth,et=_e.maxDigitWidth,it=_e.pixelRatio,rt=_e.viewLineCount,ut=fe.get(137),ot=ut==="inherit"?fe.get(136):ut,ht=ot==="inherit"?fe.get(132):ot,Xe=fe.get(135),_t=_e.isDominatedByLongLines,vt=fe.get(57),Ct=fe.get(68).renderType!==0,gt=fe.get(69),Le=fe.get(105),we=fe.get(84),be=fe.get(73),Ie=fe.get(103),xe=Ie.verticalScrollbarSize,Ve=Ie.verticalHasArrows,We=Ie.arrowSize,qe=Ie.horizontalScrollbarSize,Ue=fe.get(43),Ye=fe.get(110)!=="never";let Ge=fe.get(66);Ue&&Ye&&(Ge+=16);let Fe=0;if(Ct){const Et=Math.max(je,gt);Fe=Math.round(Et*et)}let He=0;vt&&(He=Ke*_e.glyphMarginDecorationLaneCount);let ze=0,$e=ze+He,tt=$e+Fe,Je=tt+Ge;const at=Oe-He-Fe-Ge;let nt=!1,st=!1,ct=-1;ot==="inherit"&&_t?(nt=!0,st=!0):ht==="on"||ht==="bounded"?st=!0:ht==="wordWrapColumn"&&(ct=Xe);const dt=U._computeMinimapLayout({outerWidth:Oe,outerHeight:Be,lineHeight:Ke,typicalHalfwidthCharacterWidth:Ze,pixelRatio:it,scrollBeyondLastLine:Le,paddingTop:we.top,paddingBottom:we.bottom,minimap:be,verticalScrollbarWidth:xe,viewLineCount:rt,remainingWidth:at,isViewportWrapping:st},_e.memory||new b);dt.renderMinimap!==0&&dt.minimapLeft===0&&(ze+=dt.minimapWidth,$e+=dt.minimapWidth,tt+=dt.minimapWidth,Je+=dt.minimapWidth);const Lt=at-dt.minimapWidth,lt=Math.max(1,Math.floor((Lt-xe-2)/Ze)),yt=Ve?We:0;return st&&(ct=Math.max(1,lt),ht==="bounded"&&(ct=Math.min(ct,Xe))),{width:Oe,height:Be,glyphMarginLeft:ze,glyphMarginWidth:He,glyphMarginDecorationLaneCount:_e.glyphMarginDecorationLaneCount,lineNumbersLeft:$e,lineNumbersWidth:Fe,decorationsLeft:tt,decorationsWidth:Ge,contentLeft:Je,contentWidth:Lt,minimap:dt,viewportColumn:lt,isWordWrapMinified:nt,isViewportWrapping:st,wrappingColumn:ct,verticalScrollbarWidth:xe,horizontalScrollbarHeight:qe,overviewRuler:{top:yt,width:xe,height:Be-2*yt,right:0}}}}e.EditorLayoutInfoComputer=U;class G extends C{constructor(){super(139,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[m.localize(47,null),m.localize(48,null)],type:"string",enum:["simple","advanced"],default:"simple",description:m.localize(49,null)}})}validate(fe){return a(fe,"simple",["simple","advanced"])}compute(fe,_e,Oe){return _e.get(2)===2?"advanced":Oe}}var z;(function(Ne){Ne.Off="off",Ne.OnCode="onCode",Ne.On="on"})(z||(e.ShowLightbulbIconMode=z={}));class $ extends C{constructor(){const fe={enabled:z.On};super(65,"lightbulb",fe,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[z.Off,z.OnCode,z.On],default:fe.enabled,enumDescriptions:[m.localize(50,null),m.localize(51,null),m.localize(52,null)],description:m.localize(53,null)}})}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:{enabled:a(fe.enabled,this.defaultValue.enabled,[z.Off,z.OnCode,z.On])}}}class J extends C{constructor(){const fe={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(115,"stickyScroll",fe,{"editor.stickyScroll.enabled":{type:"boolean",default:fe.enabled,description:m.localize(54,null),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:fe.maxLineCount,minimum:1,maximum:20,description:m.localize(55,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:fe.defaultModel,description:m.localize(56,null)},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:fe.scrollWithEditor,description:m.localize(57,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:s(_e.enabled,this.defaultValue.enabled),maxLineCount:l.clampedInt(_e.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:a(_e.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:s(_e.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class ee extends C{constructor(){const fe={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(141,"inlayHints",fe,{"editor.inlayHints.enabled":{type:"string",default:fe.enabled,description:m.localize(58,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[m.localize(59,null),m.localize(60,null,L.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(61,null,L.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(62,null)]},"editor.inlayHints.fontSize":{type:"number",default:fe.fontSize,markdownDescription:m.localize(63,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:fe.fontFamily,markdownDescription:m.localize(64,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:fe.padding,description:m.localize(65,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return typeof _e.enabled=="boolean"&&(_e.enabled=_e.enabled?"on":"off"),{enabled:a(_e.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:l.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:u.string(_e.fontFamily,this.defaultValue.fontFamily),padding:s(_e.padding,this.defaultValue.padding)}}}class Z extends C{constructor(){super(66,"lineDecorationsWidth",10)}validate(fe){return typeof fe=="string"&&/^\d+(\.\d+)?ch$/.test(fe)?-parseFloat(fe.substring(0,fe.length-2)):l.clampedInt(fe,this.defaultValue,0,1e3)}compute(fe,_e,Oe){return Oe<0?l.clampedInt(-Oe*fe.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Oe}}class x extends d{constructor(){super(67,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,fe=>d.clamp(fe,0,150),{markdownDescription:m.localize(66,null)})}compute(fe,_e,Oe){return fe.fontInfo.lineHeight}}class Y extends C{constructor(){const fe={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(73,"minimap",fe,{"editor.minimap.enabled":{type:"boolean",default:fe.enabled,description:m.localize(67,null)},"editor.minimap.autohide":{type:"boolean",default:fe.autohide,description:m.localize(68,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[m.localize(69,null),m.localize(70,null),m.localize(71,null)],default:fe.size,description:m.localize(72,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:fe.side,description:m.localize(73,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:fe.showSlider,description:m.localize(74,null)},"editor.minimap.scale":{type:"number",default:fe.scale,minimum:1,maximum:3,enum:[1,2,3],description:m.localize(75,null)},"editor.minimap.renderCharacters":{type:"boolean",default:fe.renderCharacters,description:m.localize(76,null)},"editor.minimap.maxColumn":{type:"number",default:fe.maxColumn,description:m.localize(77,null)},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:fe.showRegionSectionHeaders,description:m.localize(78,null)},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:fe.showMarkSectionHeaders,description:m.localize(79,null)},"editor.minimap.sectionHeaderFontSize":{type:"number",default:fe.sectionHeaderFontSize,description:m.localize(80,null)},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:fe.sectionHeaderLetterSpacing,description:m.localize(81,null)}})}validate(fe){var _e,Oe;if(!fe||typeof fe!="object")return this.defaultValue;const Be=fe;return{enabled:s(Be.enabled,this.defaultValue.enabled),autohide:s(Be.autohide,this.defaultValue.autohide),size:a(Be.size,this.defaultValue.size,["proportional","fill","fit"]),side:a(Be.side,this.defaultValue.side,["right","left"]),showSlider:a(Be.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:s(Be.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(Be.scale,1,1,3),maxColumn:l.clampedInt(Be.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:s(Be.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:s(Be.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:d.clamp((_e=Be.sectionHeaderFontSize)!==null&&_e!==void 0?_e:this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:d.clamp((Oe=Be.sectionHeaderLetterSpacing)!==null&&Oe!==void 0?Oe:this.defaultValue.sectionHeaderLetterSpacing,0,5)}}}function ae(Ne){return Ne==="ctrlCmd"?L.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ue extends C{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(82,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(83,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{top:l.clampedInt(_e.top,0,0,1e3),bottom:l.clampedInt(_e.bottom,0,0,1e3)}}}class he extends C{constructor(){const fe={enabled:!0,cycle:!0};super(86,"parameterHints",fe,{"editor.parameterHints.enabled":{type:"boolean",default:fe.enabled,description:m.localize(84,null)},"editor.parameterHints.cycle":{type:"boolean",default:fe.cycle,description:m.localize(85,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:s(_e.enabled,this.defaultValue.enabled),cycle:s(_e.cycle,this.defaultValue.cycle)}}}class pe extends i{constructor(){super(143)}compute(fe,_e,Oe){return fe.pixelRatio}}class ce extends C{constructor(){const fe={other:"on",comments:"off",strings:"off"},_e=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[m.localize(86,null),m.localize(87,null),m.localize(88,null)]}];super(89,"quickSuggestions",fe,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:_e,default:fe.strings,description:m.localize(89,null)},comments:{anyOf:_e,default:fe.comments,description:m.localize(90,null)},other:{anyOf:_e,default:fe.other,description:m.localize(91,null)}},default:fe,markdownDescription:m.localize(92,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=fe}validate(fe){if(typeof fe=="boolean"){const it=fe?"on":"off";return{comments:it,strings:it,other:it}}if(!fe||typeof fe!="object")return this.defaultValue;const{other:_e,comments:Oe,strings:Be}=fe,Ke=["on","inline","off"];let je,Ze,et;return typeof _e=="boolean"?je=_e?"on":"off":je=a(_e,this.defaultValue.other,Ke),typeof Oe=="boolean"?Ze=Oe?"on":"off":Ze=a(Oe,this.defaultValue.comments,Ke),typeof Be=="boolean"?et=Be?"on":"off":et=a(Be,this.defaultValue.strings,Ke),{other:je,comments:Ze,strings:et}}}class ie extends C{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[m.localize(93,null),m.localize(94,null),m.localize(95,null),m.localize(96,null)],default:"on",description:m.localize(97,null)})}validate(fe){let _e=this.defaultValue.renderType,Oe=this.defaultValue.renderFn;return typeof fe<"u"&&(typeof fe=="function"?(_e=4,Oe=fe):fe==="interval"?_e=3:fe==="relative"?_e=2:fe==="on"?_e=1:_e=0),{renderType:_e,renderFn:Oe}}}function oe(Ne){const fe=Ne.get(98);return fe==="editable"?Ne.get(91):fe!=="on"}class re extends C{constructor(){const fe=[],_e={type:"number",description:m.localize(98,null)};super(102,"rulers",fe,{type:"array",items:{anyOf:[_e,{type:["object"],properties:{column:_e,color:{type:"string",description:m.localize(99,null),format:"color-hex"}}}]},default:fe,description:m.localize(100,null)})}validate(fe){if(Array.isArray(fe)){const _e=[];for(const Oe of fe)if(typeof Oe=="number")_e.push({column:l.clampedInt(Oe,0,0,1e4),color:null});else if(Oe&&typeof Oe=="object"){const Be=Oe;_e.push({column:l.clampedInt(Be.column,0,0,1e4),color:Be.color})}return _e.sort((Oe,Be)=>Oe.column-Be.column),_e}return this.defaultValue}}class W extends C{constructor(){super(92,"readOnlyMessage",void 0)}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:fe}}function q(Ne,fe){if(typeof Ne!="string")return fe;switch(Ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class H extends C{constructor(){const fe={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(103,"scrollbar",fe,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(101,null),m.localize(102,null),m.localize(103,null)],default:"auto",description:m.localize(104,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(105,null),m.localize(106,null),m.localize(107,null)],default:"auto",description:m.localize(108,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:fe.verticalScrollbarSize,description:m.localize(109,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:fe.horizontalScrollbarSize,description:m.localize(110,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:fe.scrollByPage,description:m.localize(111,null)},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:fe.ignoreHorizontalScrollbarInContentHeight,description:m.localize(112,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe,Oe=l.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Be=l.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:q(_e.vertical,this.defaultValue.vertical),horizontal:q(_e.horizontal,this.defaultValue.horizontal),useShadows:s(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:s(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:s(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:s(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:s(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Oe,horizontalSliderSize:l.clampedInt(_e.horizontalSliderSize,Oe,0,1e3),verticalScrollbarSize:Be,verticalSliderSize:l.clampedInt(_e.verticalSliderSize,Be,0,1e3),scrollByPage:s(_e.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:s(_e.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class j extends C{constructor(){const fe={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(125,"unicodeHighlight",fe,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.nonBasicASCII,description:m.localize(113,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:fe.invisibleCharacters,description:m.localize(114,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:fe.ambiguousCharacters,description:m.localize(115,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.includeComments,description:m.localize(116,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.includeStrings,description:m.localize(117,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:fe.allowedCharacters,description:m.localize(118,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:fe.allowedLocales,description:m.localize(119,null)}})}applyUpdate(fe,_e){let Oe=!1;_e.allowedCharacters&&fe&&(k.equals(fe.allowedCharacters,_e.allowedCharacters)||(fe={...fe,allowedCharacters:_e.allowedCharacters},Oe=!0)),_e.allowedLocales&&fe&&(k.equals(fe.allowedLocales,_e.allowedLocales)||(fe={...fe,allowedLocales:_e.allowedLocales},Oe=!0));const Be=super.applyUpdate(fe,_e);return Oe?new o(Be.newValue,!0):Be}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{nonBasicASCII:me(_e.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:s(_e.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:s(_e.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:me(_e.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:me(_e.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(fe.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(fe.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(fe,_e){if(typeof fe!="object"||!fe)return _e;const Oe={};for(const[Be,Ke]of Object.entries(fe))Ke===!0&&(Oe[Be]=!0);return Oe}}class Q extends C{constructor(){const fe={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",fe,{"editor.inlineSuggest.enabled":{type:"boolean",default:fe.enabled,description:m.localize(120,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:fe.showToolbar,enum:["always","onHover","never"],enumDescriptions:[m.localize(121,null),m.localize(122,null),m.localize(123,null)],description:m.localize(124,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:fe.suppressSuggestions,description:m.localize(125,null)},"editor.inlineSuggest.fontFamily":{type:"string",default:fe.fontFamily,description:m.localize(126,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:s(_e.enabled,this.defaultValue.enabled),mode:a(_e.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:a(_e.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:s(_e.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:s(_e.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:u.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class te extends C{constructor(){const fe={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",fe,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:fe.enabled,description:m.localize(127,null)},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:fe.showToolbar,enum:["always","onHover","never"],enumDescriptions:[m.localize(128,null),m.localize(129,null),m.localize(130,null)],description:m.localize(131,null)},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:fe.fontFamily,description:m.localize(132,null)},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:fe.backgroundColoring,description:m.localize(133,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:s(_e.enabled,this.defaultValue.enabled),showToolbar:a(_e.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:u.string(_e.fontFamily,this.defaultValue.fontFamily),keepOnBlur:s(_e.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:s(_e.backgroundColoring,this.defaultValue.backgroundColoring)}}}class le extends C{constructor(){const fe={enabled:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",fe,{"editor.bracketPairColorization.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(134,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:fe.independentColorPoolPerBracketType,description:m.localize(135,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:s(_e.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:s(_e.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class de extends C{constructor(){const fe={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",fe,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(136,null),m.localize(137,null),m.localize(138,null)],default:fe.bracketPairs,description:m.localize(139,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(140,null),m.localize(141,null),m.localize(142,null)],default:fe.bracketPairsHorizontal,description:m.localize(143,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:fe.highlightActiveBracketPair,description:m.localize(144,null)},"editor.guides.indentation":{type:"boolean",default:fe.indentation,description:m.localize(145,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[m.localize(146,null),m.localize(147,null),m.localize(148,null)],default:fe.highlightActiveIndentation,description:m.localize(149,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{bracketPairs:me(_e.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:me(_e.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:s(_e.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:s(_e.indentation,this.defaultValue.indentation),highlightActiveIndentation:me(_e.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function me(Ne,fe,_e){const Oe=_e.indexOf(Ne);return Oe===-1?fe:_e[Oe]}class ve extends C{constructor(){const fe={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(118,"suggest",fe,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[m.localize(150,null),m.localize(151,null)],default:fe.insertMode,description:m.localize(152,null)},"editor.suggest.filterGraceful":{type:"boolean",default:fe.filterGraceful,description:m.localize(153,null)},"editor.suggest.localityBonus":{type:"boolean",default:fe.localityBonus,description:m.localize(154,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:fe.shareSuggestSelections,markdownDescription:m.localize(155,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[m.localize(156,null),m.localize(157,null),m.localize(158,null),m.localize(159,null)],default:fe.selectionMode,markdownDescription:m.localize(160,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:fe.snippetsPreventQuickSuggestions,description:m.localize(161,null)},"editor.suggest.showIcons":{type:"boolean",default:fe.showIcons,description:m.localize(162,null)},"editor.suggest.showStatusBar":{type:"boolean",default:fe.showStatusBar,description:m.localize(163,null)},"editor.suggest.preview":{type:"boolean",default:fe.preview,description:m.localize(164,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:fe.showInlineDetails,description:m.localize(165,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:m.localize(166,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:m.localize(167,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:m.localize(168,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:m.localize(169,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:m.localize(170,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:m.localize(171,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:m.localize(172,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:m.localize(173,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:m.localize(174,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:m.localize(175,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:m.localize(176,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:m.localize(177,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:m.localize(178,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:m.localize(179,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:m.localize(180,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:m.localize(181,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:m.localize(182,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:m.localize(183,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:m.localize(184,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:m.localize(185,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:m.localize(186,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:m.localize(187,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:m.localize(188,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:m.localize(189,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:m.localize(190,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:m.localize(191,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:m.localize(192,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:m.localize(193,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:m.localize(194,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:m.localize(195,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:m.localize(196,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:m.localize(197,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{insertMode:a(_e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:s(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:s(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:s(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:s(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:a(_e.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:s(_e.showIcons,this.defaultValue.showIcons),showStatusBar:s(_e.showStatusBar,this.defaultValue.showStatusBar),preview:s(_e.preview,this.defaultValue.preview),previewMode:a(_e.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:s(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:s(_e.showMethods,this.defaultValue.showMethods),showFunctions:s(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:s(_e.showConstructors,this.defaultValue.showConstructors),showDeprecated:s(_e.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:s(_e.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:s(_e.showFields,this.defaultValue.showFields),showVariables:s(_e.showVariables,this.defaultValue.showVariables),showClasses:s(_e.showClasses,this.defaultValue.showClasses),showStructs:s(_e.showStructs,this.defaultValue.showStructs),showInterfaces:s(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:s(_e.showModules,this.defaultValue.showModules),showProperties:s(_e.showProperties,this.defaultValue.showProperties),showEvents:s(_e.showEvents,this.defaultValue.showEvents),showOperators:s(_e.showOperators,this.defaultValue.showOperators),showUnits:s(_e.showUnits,this.defaultValue.showUnits),showValues:s(_e.showValues,this.defaultValue.showValues),showConstants:s(_e.showConstants,this.defaultValue.showConstants),showEnums:s(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:s(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:s(_e.showKeywords,this.defaultValue.showKeywords),showWords:s(_e.showWords,this.defaultValue.showWords),showColors:s(_e.showColors,this.defaultValue.showColors),showFiles:s(_e.showFiles,this.defaultValue.showFiles),showReferences:s(_e.showReferences,this.defaultValue.showReferences),showFolders:s(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:s(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:s(_e.showSnippets,this.defaultValue.showSnippets),showUsers:s(_e.showUsers,this.defaultValue.showUsers),showIssues:s(_e.showIssues,this.defaultValue.showIssues)}}}class Ce extends C{constructor(){super(113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:m.localize(198,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:m.localize(199,null),default:!0,type:"boolean"}})}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:s(fe.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:s(fe.selectSubwords,this.defaultValue.selectSubwords)}}}class ye extends C{constructor(){const fe=[];super(130,"wordSegmenterLocales",fe,{anyOf:[{description:m.localize(200,null),type:"string"},{description:m.localize(201,null),type:"array",items:{type:"string"}}]})}validate(fe){if(typeof fe=="string"&&(fe=[fe]),Array.isArray(fe)){const _e=[];for(const Oe of fe)if(typeof Oe=="string")try{Intl.Segmenter.supportedLocalesOf(Oe).length>0&&_e.push(Oe)}catch{}return _e}return this.defaultValue}}class Se extends C{constructor(){super(138,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[m.localize(202,null),m.localize(203,null),m.localize(204,null),m.localize(205,null)],description:m.localize(206,null),default:"same"}})}validate(fe){switch(fe){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(fe,_e,Oe){return _e.get(2)===2?0:Oe}}class Te extends i{constructor(){super(146)}compute(fe,_e,Oe){const Be=_e.get(145);return{isDominatedByLongLines:fe.isDominatedByLongLines,isWordWrapMinified:Be.isWordWrapMinified,isViewportWrapping:Be.isViewportWrapping,wrappingColumn:Be.wrappingColumn}}}class De extends C{constructor(){const fe={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",fe,{"editor.dropIntoEditor.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(207,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:m.localize(208,null),enum:["afterDrop","never"],enumDescriptions:[m.localize(209,null),m.localize(210,null)],default:"afterDrop"}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:s(_e.enabled,this.defaultValue.enabled),showDropSelector:a(_e.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Me extends C{constructor(){const fe={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",fe,{"editor.pasteAs.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(211,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:m.localize(212,null),enum:["afterPaste","never"],enumDescriptions:[m.localize(213,null),m.localize(214,null)],default:"afterPaste"}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const _e=fe;return{enabled:s(_e.enabled,this.defaultValue.enabled),showPasteSelector:a(_e.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Ae="Consolas, 'Courier New', monospace",Pe="Menlo, Monaco, 'Courier New', monospace",Re="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:L.isMacintosh?Pe:L.isLinux?Re:Ae,fontWeight:"normal",fontSize:L.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function Ee(Ne){return e.editorOptionsRegistry[Ne.id]=Ne,Ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:Ee(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:m.localize(215,null)})),acceptSuggestionOnEnter:Ee(new v(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",m.localize(216,null),""],markdownDescription:m.localize(217,null)})),accessibilitySupport:Ee(new _),accessibilityPageSize:Ee(new l(3,"accessibilityPageSize",10,1,1073741824,{description:m.localize(218,null),tags:["accessibility"]})),ariaLabel:Ee(new u(4,"ariaLabel",m.localize(219,null))),ariaRequired:Ee(new c(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:Ee(new c(8,"screenReaderAnnounceInlineSuggestion",!0,{description:m.localize(220,null),tags:["accessibility"]})),autoClosingBrackets:Ee(new v(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(221,null),m.localize(222,null),""],description:m.localize(223,null)})),autoClosingComments:Ee(new v(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(224,null),m.localize(225,null),""],description:m.localize(226,null)})),autoClosingDelete:Ee(new v(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",m.localize(227,null),""],description:m.localize(228,null)})),autoClosingOvertype:Ee(new v(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",m.localize(229,null),""],description:m.localize(230,null)})),autoClosingQuotes:Ee(new v(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(231,null),m.localize(232,null),""],description:m.localize(233,null)})),autoIndent:Ee(new h(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],p,{enumDescriptions:[m.localize(234,null),m.localize(235,null),m.localize(236,null),m.localize(237,null),m.localize(238,null)],description:m.localize(239,null)})),automaticLayout:Ee(new c(13,"automaticLayout",!1)),autoSurround:Ee(new v(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[m.localize(240,null),m.localize(241,null),m.localize(242,null),""],description:m.localize(243,null)})),bracketPairColorization:Ee(new le),bracketPairGuides:Ee(new de),stickyTabStops:Ee(new c(116,"stickyTabStops",!1,{description:m.localize(244,null)})),codeLens:Ee(new c(17,"codeLens",!0,{description:m.localize(245,null)})),codeLensFontFamily:Ee(new u(18,"codeLensFontFamily","",{description:m.localize(246,null)})),codeLensFontSize:Ee(new l(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:m.localize(247,null)})),colorDecorators:Ee(new c(20,"colorDecorators",!0,{description:m.localize(248,null)})),colorDecoratorActivatedOn:Ee(new v(148,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[m.localize(249,null),m.localize(250,null),m.localize(251,null)],description:m.localize(252,null)})),colorDecoratorsLimit:Ee(new l(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:m.localize(253,null)})),columnSelection:Ee(new c(22,"columnSelection",!1,{description:m.localize(254,null)})),comments:Ee(new S),contextmenu:Ee(new c(24,"contextmenu",!0)),copyWithSyntaxHighlighting:Ee(new c(25,"copyWithSyntaxHighlighting",!0,{description:m.localize(255,null)})),cursorBlinking:Ee(new h(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],E,{description:m.localize(256,null)})),cursorSmoothCaretAnimation:Ee(new v(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[m.localize(257,null),m.localize(258,null),m.localize(259,null)],description:m.localize(260,null)})),cursorStyle:Ee(new h(28,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:m.localize(261,null)})),cursorSurroundingLines:Ee(new l(29,"cursorSurroundingLines",0,0,1073741824,{description:m.localize(262,null)})),cursorSurroundingLinesStyle:Ee(new v(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[m.localize(263,null),m.localize(264,null)],markdownDescription:m.localize(265,null)})),cursorWidth:Ee(new l(31,"cursorWidth",0,0,1073741824,{markdownDescription:m.localize(266,null)})),disableLayerHinting:Ee(new c(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ee(new c(33,"disableMonospaceOptimizations",!1)),domReadOnly:Ee(new c(34,"domReadOnly",!1)),dragAndDrop:Ee(new c(35,"dragAndDrop",!0,{description:m.localize(267,null)})),emptySelectionClipboard:Ee(new A),dropIntoEditor:Ee(new De),stickyScroll:Ee(new J),experimentalWhitespaceRendering:Ee(new v(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[m.localize(268,null),m.localize(269,null),m.localize(270,null)],description:m.localize(271,null)})),extraEditorClassName:Ee(new u(39,"extraEditorClassName","")),fastScrollSensitivity:Ee(new d(40,"fastScrollSensitivity",5,Ne=>Ne<=0?5:Ne,{markdownDescription:m.localize(272,null)})),find:Ee(new R),fixedOverflowWidgets:Ee(new c(42,"fixedOverflowWidgets",!1)),folding:Ee(new c(43,"folding",!0,{description:m.localize(273,null)})),foldingStrategy:Ee(new v(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[m.localize(274,null),m.localize(275,null)],description:m.localize(276,null)})),foldingHighlight:Ee(new c(45,"foldingHighlight",!0,{description:m.localize(277,null)})),foldingImportsByDefault:Ee(new c(46,"foldingImportsByDefault",!1,{description:m.localize(278,null)})),foldingMaximumRegions:Ee(new l(47,"foldingMaximumRegions",5e3,10,65e3,{description:m.localize(279,null)})),unfoldOnClickAfterEndOfLine:Ee(new c(48,"unfoldOnClickAfterEndOfLine",!1,{description:m.localize(280,null)})),fontFamily:Ee(new u(49,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:m.localize(281,null)})),fontInfo:Ee(new F),fontLigatures2:Ee(new M),fontSize:Ee(new O),fontWeight:Ee(new B),fontVariations:Ee(new P),formatOnPaste:Ee(new c(55,"formatOnPaste",!1,{description:m.localize(282,null)})),formatOnType:Ee(new c(56,"formatOnType",!1,{description:m.localize(283,null)})),glyphMargin:Ee(new c(57,"glyphMargin",!0,{description:m.localize(284,null)})),gotoLocation:Ee(new V),hideCursorInOverviewRuler:Ee(new c(59,"hideCursorInOverviewRuler",!1,{description:m.localize(285,null)})),hover:Ee(new K),inDiffEditor:Ee(new c(61,"inDiffEditor",!1)),letterSpacing:Ee(new d(64,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Ne=>d.clamp(Ne,-5,20),{description:m.localize(286,null)})),lightbulb:Ee(new $),lineDecorationsWidth:Ee(new Z),lineHeight:Ee(new x),lineNumbers:Ee(new ie),lineNumbersMinChars:Ee(new l(69,"lineNumbersMinChars",5,1,300)),linkedEditing:Ee(new c(70,"linkedEditing",!1,{description:m.localize(287,null)})),links:Ee(new c(71,"links",!0,{description:m.localize(288,null)})),matchBrackets:Ee(new v(72,"matchBrackets","always",["always","near","never"],{description:m.localize(289,null)})),minimap:Ee(new Y),mouseStyle:Ee(new v(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ee(new d(75,"mouseWheelScrollSensitivity",1,Ne=>Ne===0?1:Ne,{markdownDescription:m.localize(290,null)})),mouseWheelZoom:Ee(new c(76,"mouseWheelZoom",!1,{markdownDescription:L.isMacintosh?m.localize(291,null):m.localize(292,null)})),multiCursorMergeOverlapping:Ee(new c(77,"multiCursorMergeOverlapping",!0,{description:m.localize(293,null)})),multiCursorModifier:Ee(new h(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],ae,{markdownEnumDescriptions:[m.localize(294,null),m.localize(295,null)],markdownDescription:m.localize(296,null)})),multiCursorPaste:Ee(new v(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[m.localize(297,null),m.localize(298,null)],markdownDescription:m.localize(299,null)})),multiCursorLimit:Ee(new l(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:m.localize(300,null)})),occurrencesHighlight:Ee(new v(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[m.localize(301,null),m.localize(302,null),m.localize(303,null)],markdownDescription:m.localize(304,null)})),overviewRulerBorder:Ee(new c(82,"overviewRulerBorder",!0,{description:m.localize(305,null)})),overviewRulerLanes:Ee(new l(83,"overviewRulerLanes",3,0,3)),padding:Ee(new ue),pasteAs:Ee(new Me),parameterHints:Ee(new he),peekWidgetDefaultFocus:Ee(new v(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[m.localize(306,null),m.localize(307,null)],description:m.localize(308,null)})),definitionLinkOpensInPeek:Ee(new c(88,"definitionLinkOpensInPeek",!1,{description:m.localize(309,null)})),quickSuggestions:Ee(new ce),quickSuggestionsDelay:Ee(new l(90,"quickSuggestionsDelay",10,0,1073741824,{description:m.localize(310,null)})),readOnly:Ee(new c(91,"readOnly",!1)),readOnlyMessage:Ee(new W),renameOnType:Ee(new c(93,"renameOnType",!1,{description:m.localize(311,null),markdownDeprecationMessage:m.localize(312,null)})),renderControlCharacters:Ee(new c(94,"renderControlCharacters",!0,{description:m.localize(313,null),restricted:!0})),renderFinalNewline:Ee(new v(95,"renderFinalNewline",L.isLinux?"dimmed":"on",["off","on","dimmed"],{description:m.localize(314,null)})),renderLineHighlight:Ee(new v(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",m.localize(315,null)],description:m.localize(316,null)})),renderLineHighlightOnlyWhenFocus:Ee(new c(97,"renderLineHighlightOnlyWhenFocus",!1,{description:m.localize(317,null)})),renderValidationDecorations:Ee(new v(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ee(new v(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",m.localize(318,null),m.localize(319,null),m.localize(320,null),""],description:m.localize(321,null)})),revealHorizontalRightPadding:Ee(new l(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Ee(new c(101,"roundedSelection",!0,{description:m.localize(322,null)})),rulers:Ee(new re),scrollbar:Ee(new H),scrollBeyondLastColumn:Ee(new l(104,"scrollBeyondLastColumn",4,0,1073741824,{description:m.localize(323,null)})),scrollBeyondLastLine:Ee(new c(105,"scrollBeyondLastLine",!0,{description:m.localize(324,null)})),scrollPredominantAxis:Ee(new c(106,"scrollPredominantAxis",!0,{description:m.localize(325,null)})),selectionClipboard:Ee(new c(107,"selectionClipboard",!0,{description:m.localize(326,null),included:L.isLinux})),selectionHighlight:Ee(new c(108,"selectionHighlight",!0,{description:m.localize(327,null)})),selectOnLineNumbers:Ee(new c(109,"selectOnLineNumbers",!0)),showFoldingControls:Ee(new v(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[m.localize(328,null),m.localize(329,null),m.localize(330,null)],description:m.localize(331,null)})),showUnused:Ee(new c(111,"showUnused",!0,{description:m.localize(332,null)})),showDeprecated:Ee(new c(140,"showDeprecated",!0,{description:m.localize(333,null)})),inlayHints:Ee(new ee),snippetSuggestions:Ee(new v(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[m.localize(334,null),m.localize(335,null),m.localize(336,null),m.localize(337,null)],description:m.localize(338,null)})),smartSelect:Ee(new Ce),smoothScrolling:Ee(new c(114,"smoothScrolling",!1,{description:m.localize(339,null)})),stopRenderingLineAfter:Ee(new l(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ee(new ve),inlineSuggest:Ee(new Q),inlineEdit:Ee(new te),inlineCompletionsAccessibilityVerbose:Ee(new c(149,"inlineCompletionsAccessibilityVerbose",!1,{description:m.localize(340,null)})),suggestFontSize:Ee(new l(119,"suggestFontSize",0,0,1e3,{markdownDescription:m.localize(341,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:Ee(new l(120,"suggestLineHeight",0,0,1e3,{markdownDescription:m.localize(342,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ee(new c(121,"suggestOnTriggerCharacters",!0,{description:m.localize(343,null)})),suggestSelection:Ee(new v(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[m.localize(344,null),m.localize(345,null),m.localize(346,null)],description:m.localize(347,null)})),tabCompletion:Ee(new v(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[m.localize(348,null),m.localize(349,null),m.localize(350,null)],description:m.localize(351,null)})),tabIndex:Ee(new l(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ee(new j),unusualLineTerminators:Ee(new v(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[m.localize(352,null),m.localize(353,null),m.localize(354,null)],description:m.localize(355,null)})),useShadowDOM:Ee(new c(127,"useShadowDOM",!0)),useTabStops:Ee(new c(128,"useTabStops",!0,{description:m.localize(356,null)})),wordBreak:Ee(new v(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[m.localize(357,null),m.localize(358,null)],description:m.localize(359,null)})),wordSegmenterLocales:Ee(new ye),wordSeparators:Ee(new u(131,"wordSeparators",y.USUAL_WORD_SEPARATORS,{description:m.localize(360,null)})),wordWrap:Ee(new v(132,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[m.localize(361,null),m.localize(362,null),m.localize(363,null),m.localize(364,null)],description:m.localize(365,null)})),wordWrapBreakAfterCharacters:Ee(new u(133,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ee(new u(134,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ee(new l(135,"wordWrapColumn",80,1,1073741824,{markdownDescription:m.localize(366,null)})),wordWrapOverride1:Ee(new v(136,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ee(new v(137,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Ee(new N),defaultColorDecorators:Ee(new c(147,"defaultColorDecorators",!1,{markdownDescription:m.localize(367,null)})),pixelRatio:Ee(new pe),tabFocusMode:Ee(new c(144,"tabFocusMode",!1,{markdownDescription:m.localize(368,null)})),layoutInfo:Ee(new U),wrappingInfo:Ee(new Te),wrappingIndent:Ee(new Se),wrappingStrategy:Ee(new G)}}),define(ne[680],se([1,0,6,40,11,72,38,10,5,221]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=e.CursorPlurality=void 0;class C{constructor(t,s,c,g,l,r,d){this.top=t,this.left=s,this.paddingLeft=c,this.width=g,this.height=l,this.textContent=r,this.textContentClassName=d}}var o;(function(i){i[i.Single=0]="Single",i[i.MultiPrimary=1]="MultiPrimary",i[i.MultiSecondary=2]="MultiSecondary"})(o||(e.CursorPlurality=o={}));class n{constructor(t,s){this._context=t;const c=this._context.configuration.options,g=c.get(50);this._cursorStyle=c.get(28),this._lineHeight=c.get(67),this._typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${b.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,g),this._domNode.setDisplay("none"),this._position=new m.Position(1,1),this._pluralityClass="",this.setPlurality(s),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(t){switch(t){default:case o.Single:this._pluralityClass="";break;case o.MultiPrimary:this._pluralityClass="cursor-primary";break;case o.MultiSecondary:this._pluralityClass="cursor-secondary";break}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const s=this._context.configuration.options,c=s.get(50);return this._cursorStyle=s.get(28),this._lineHeight=s.get(67),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(s.get(31),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,c),!0}onCursorPositionChanged(t,s){return s?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:s}=this._position,c=this._context.viewModel.getLineContent(t),[g,l]=L.getCharContainingOffset(c,s-1);return[new m.Position(t,g+1),c.substring(g,l)]}_prepareRender(t){let s="",c="";const[g,l]=this._getGraphemeAwarePosition();if(this._cursorStyle===y.TextEditorCursorStyle.Line||this._cursorStyle===y.TextEditorCursorStyle.LineThin){const p=t.visibleRangeForPosition(g);if(!p||p.outsideRenderedLine)return null;const _=f.getWindow(this._domNode.domNode);let S;this._cursorStyle===y.TextEditorCursorStyle.Line?(S=f.computeScreenAwareSize(_,this._lineCursorWidth>0?this._lineCursorWidth:2),S>2&&(s=l,c=this._getTokenClassName(g))):S=f.computeScreenAwareSize(_,1);let E=p.left,I=0;S>=2&&E>=1&&(I=1,E-=I);const T=t.getVerticalOffsetForLineNumber(g.lineNumber)-t.bigNumbersDelta;return new C(T,E,I,S,this._lineHeight,s,c)}const r=t.linesVisibleRangesForRange(new w.Range(g.lineNumber,g.column,g.lineNumber,g.column+l.length),!1);if(!r||r.length===0)return null;const d=r[0];if(d.outsideRenderedLine||d.ranges.length===0)return null;const u=d.ranges[0],a=l==="	"?this._typicalHalfwidthCharacterWidth:u.width<1?this._typicalHalfwidthCharacterWidth:u.width;this._cursorStyle===y.TextEditorCursorStyle.Block&&(s=l,c=this._getTokenClassName(g));let v=t.getVerticalOffsetForLineNumber(g.lineNumber)-t.bigNumbersDelta,h=this._lineHeight;return(this._cursorStyle===y.TextEditorCursorStyle.Underline||this._cursorStyle===y.TextEditorCursorStyle.UnderlineThin)&&(v+=this._lineHeight-2,h=2),new C(v,u.left,0,a,h,s,c)}_getTokenClassName(t){const s=this._context.viewModel.getViewLineData(t.lineNumber),c=s.tokens.findTokenIndexAtOffset(t.column-1);return s.tokens.getClassName(c)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${b.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=n}),define(ne[258],se([1,0,17,38,160]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=f.isMacintosh?1.5:1.35,y=8;class m{static createFromValidatedSettings(C,o,n){const i=C.get(49),t=C.get(53),s=C.get(52),c=C.get(51),g=C.get(54),l=C.get(67),r=C.get(64);return m._create(i,t,s,c,g,l,r,o,n)}static _create(C,o,n,i,t,s,c,g,l){s===0?s=D*n:s<y&&(s=s*n),s=Math.round(s),s<y&&(s=y);const r=1+(l?0:L.EditorZoom.getZoomLevel()*.1);return n*=r,s*=r,t===k.EditorFontVariations.TRANSLATE&&(o==="normal"||o==="bold"?t=k.EditorFontVariations.OFF:(t=`'wght' ${parseInt(o,10)}`,o="normal")),new m({pixelRatio:g,fontFamily:C,fontWeight:o,fontSize:n,fontFeatureSettings:i,fontVariationSettings:t,lineHeight:s,letterSpacing:c})}constructor(C){this._bareFontInfoBrand=void 0,this.pixelRatio=C.pixelRatio,this.fontFamily=String(C.fontFamily),this.fontWeight=String(C.fontWeight),this.fontSize=C.fontSize,this.fontFeatureSettings=C.fontFeatureSettings,this.fontVariationSettings=C.fontVariationSettings,this.lineHeight=C.lineHeight|0,this.letterSpacing=C.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const C=k.EDITOR_FONT_DEFAULTS.fontFamily,o=m._wrapInQuotes(this.fontFamily);return C&&this.fontFamily!==C?`${o}, ${C}`:o}static _wrapInQuotes(C){return/[,"']/.test(C)?C:/[+ ]/.test(C)?`"${C}"`:C}}e.BareFontInfo=m,e.SERIALIZED_FONT_INFO_VERSION=2;class w extends m{constructor(C,o){super(C),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=o,this.isMonospace=C.isMonospace,this.typicalHalfwidthCharacterWidth=C.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=C.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.maxDigitWidth=C.maxDigitWidth}equals(C){return this.fontFamily===C.fontFamily&&this.fontWeight===C.fontWeight&&this.fontSize===C.fontSize&&this.fontFeatureSettings===C.fontFeatureSettings&&this.fontVariationSettings===C.fontVariationSettings&&this.lineHeight===C.lineHeight&&this.letterSpacing===C.letterSpacing&&this.typicalHalfwidthCharacterWidth===C.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===C.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.maxDigitWidth===C.maxDigitWidth}}e.FontInfo=w}),define(ne[360],se([1,0,6,249,7,2,524,38,258]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class b extends D.Disposable{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(n){const i=(0,f.getWindowId)(n);let t=this._cache.get(i);return t||(t=new C,this._cache.set(i,t)),t}_writeToCache(n,i,t){this._ensureCache(n).put(i,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=n.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(n)},5e3))}_evictUntrustedReadings(n){const i=this._ensureCache(n),t=i.getValues();let s=!1;for(const c of t)c.isTrusted||(s=!0,i.remove(c));s&&this._onDidChange.fire()}readFontInfo(n,i){const t=this._ensureCache(n);if(!t.has(i)){let s=this._actualReadFontInfo(n,i);(s.typicalHalfwidthCharacterWidth<=2||s.typicalFullwidthCharacterWidth<=2||s.spaceWidth<=2||s.maxDigitWidth<=2)&&(s=new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(n).value,fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,fontVariationSettings:s.fontVariationSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:s.isMonospace,typicalHalfwidthCharacterWidth:Math.max(s.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(s.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:s.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(s.spaceWidth,5),middotWidth:Math.max(s.middotWidth,5),wsmiddotWidth:Math.max(s.wsmiddotWidth,5),maxDigitWidth:Math.max(s.maxDigitWidth,5)},!1)),this._writeToCache(n,i,s)}return t.get(i)}_createRequest(n,i,t,s){const c=new y.CharWidthRequest(n,i);return t.push(c),s?.push(c),c}_actualReadFontInfo(n,i){const t=[],s=[],c=this._createRequest("n",0,t,s),g=this._createRequest("\uFF4D",0,t,null),l=this._createRequest(" ",0,t,s),r=this._createRequest("0",0,t,s),d=this._createRequest("1",0,t,s),u=this._createRequest("2",0,t,s),a=this._createRequest("3",0,t,s),v=this._createRequest("4",0,t,s),h=this._createRequest("5",0,t,s),p=this._createRequest("6",0,t,s),_=this._createRequest("7",0,t,s),S=this._createRequest("8",0,t,s),E=this._createRequest("9",0,t,s),I=this._createRequest("\u2192",0,t,s),T=this._createRequest("\uFFEB",0,t,null),N=this._createRequest("\xB7",0,t,s),A=this._createRequest("\u2E31",0,t,null),R="|/-_ilm%";for(let B=0,V=R.length;B<V;B++)this._createRequest(R.charAt(B),0,t,s),this._createRequest(R.charAt(B),1,t,s),this._createRequest(R.charAt(B),2,t,s);(0,y.readCharWidths)(n,i,t);const M=Math.max(r.width,d.width,u.width,a.width,v.width,h.width,p.width,_.width,S.width,E.width);let P=i.fontFeatureSettings===m.EditorFontLigatures.OFF;const F=s[0].width;for(let B=1,V=s.length;P&&B<V;B++){const K=F-s[B].width;if(K<-.001||K>.001){P=!1;break}}let O=!0;return P&&T.width!==F&&(O=!1),T.width>I.width&&(O=!1),new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(n).value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:P,typicalHalfwidthCharacterWidth:c.width,typicalFullwidthCharacterWidth:g.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:l.width,middotWidth:N.width,wsmiddotWidth:A.width,maxDigitWidth:M},!0)}}e.FontMeasurementsImpl=b;class C{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const i=n.getId();return!!this._values[i]}get(n){const i=n.getId();return this._values[i]}put(n,i){const t=n.getId();this._keys[t]=n,this._values[t]=i}remove(n){const i=n.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}e.FontMeasurements=new b}),define(ne[361],se([1,0,10,5,92,38]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0,e.isModelDecorationVisible=m,e.isModelDecorationInComment=w,e.isModelDecorationInString=b;class y{constructor(n,i,t,s,c){this.editorId=n,this.model=i,this.configuration=t,this._linesCollection=s,this._coordinatesConverter=c,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(n){const i=n.id;let t=this._decorationsCache[i];if(!t){const s=n.range,c=n.options;let g;if(c.isWholeLine){const l=this._coordinatesConverter.convertModelPositionToViewPosition(new f.Position(s.startLineNumber,1),0,!1,!0),r=this._coordinatesConverter.convertModelPositionToViewPosition(new f.Position(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber)),1);g=new k.Range(l.lineNumber,l.column,r.lineNumber,r.column)}else g=this._coordinatesConverter.convertModelRangeToViewRange(s,1);t=new L.ViewModelDecoration(g,c),this._decorationsCache[i]=t}return t}getMinimapDecorationsInRange(n){return this._getDecorationsInRange(n,!0,!1).decorations}getDecorationsViewportData(n){let i=this._cachedModelDecorationsResolver!==null;return i=i&&n.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(n,!1,!1),this._cachedModelDecorationsResolverViewRange=n),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(n,i=!1,t=!1){const s=new k.Range(n,this._linesCollection.getViewLineMinColumn(n),n,this._linesCollection.getViewLineMaxColumn(n));return this._getDecorationsInRange(s,i,t).inlineDecorations[0]}_getDecorationsInRange(n,i,t){const s=this._linesCollection.getDecorationsInRange(n,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),i,t),c=n.startLineNumber,g=n.endLineNumber,l=[];let r=0;const d=[];for(let u=c;u<=g;u++)d[u-c]=[];for(let u=0,a=s.length;u<a;u++){const v=s[u],h=v.options;if(!m(this.model,v))continue;const p=this._getOrCreateViewModelDecoration(v),_=p.range;if(l[r++]=p,h.inlineClassName){const S=new L.InlineDecoration(_,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),E=Math.max(c,_.startLineNumber),I=Math.min(g,_.endLineNumber);for(let T=E;T<=I;T++)d[T-c].push(S)}if(h.beforeContentClassName&&c<=_.startLineNumber&&_.startLineNumber<=g){const S=new L.InlineDecoration(new k.Range(_.startLineNumber,_.startColumn,_.startLineNumber,_.startColumn),h.beforeContentClassName,1);d[_.startLineNumber-c].push(S)}if(h.afterContentClassName&&c<=_.endLineNumber&&_.endLineNumber<=g){const S=new L.InlineDecoration(new k.Range(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn),h.afterContentClassName,2);d[_.endLineNumber-c].push(S)}}return{decorations:l,inlineDecorations:d}}}e.ViewModelDecorations=y;function m(o,n){return!(n.options.hideInCommentTokens&&w(o,n)||n.options.hideInStringTokens&&b(o,n))}function w(o,n){return C(o,n.range,i=>i===1)}function b(o,n){return C(o,n.range,i=>i===2)}function C(o,n,i){for(let t=n.startLineNumber;t<=n.endLineNumber;t++){const s=o.tokenization.getLineTokens(t),c=t===n.startLineNumber,g=t===n.endLineNumber;let l=c?s.findTokenIndexAtOffset(n.startColumn-1):0;for(;l<s.getCount()&&!(g&&s.getStartOffset(l)>n.endColumn-1);){if(!i(s.getStandardTokenType(l)))return!1;l++}}return!0}}),define(ne[681],se([3,4]),function(X,e){return X.create("vs/editor/common/core/editorColorRegistry",e)}),define(ne[682],se([3,4]),function(X,e){return X.create("vs/editor/common/editorContextKeys",e)}),define(ne[683],se([3,4]),function(X,e){return X.create("vs/editor/common/languages",e)}),define(ne[27],se([1,0,26,22,5,566,683]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditTriggerKind=e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.NewSymbolNameTriggerKind=e.NewSymbolNameTag=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.symbolKindNames=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.DocumentPasteTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.HoverVerbosityAction=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0,e.isLocationLink=g,e.getAriaLabelForSymbol=l;class m{constructor(I,T,N){this.offset=I,this.type=T,this.language=N,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=m;class w{constructor(I,T){this.tokens=I,this.endState=T,this._tokenizationResultBrand=void 0}}e.TokenizationResult=w;class b{constructor(I,T){this.tokens=I,this.endState=T,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=b;var C;(function(E){E[E.Increase=0]="Increase",E[E.Decrease=1]="Decrease"})(C||(e.HoverVerbosityAction=C={}));var o;(function(E){const I=new Map;I.set(0,f.Codicon.symbolMethod),I.set(1,f.Codicon.symbolFunction),I.set(2,f.Codicon.symbolConstructor),I.set(3,f.Codicon.symbolField),I.set(4,f.Codicon.symbolVariable),I.set(5,f.Codicon.symbolClass),I.set(6,f.Codicon.symbolStruct),I.set(7,f.Codicon.symbolInterface),I.set(8,f.Codicon.symbolModule),I.set(9,f.Codicon.symbolProperty),I.set(10,f.Codicon.symbolEvent),I.set(11,f.Codicon.symbolOperator),I.set(12,f.Codicon.symbolUnit),I.set(13,f.Codicon.symbolValue),I.set(15,f.Codicon.symbolEnum),I.set(14,f.Codicon.symbolConstant),I.set(15,f.Codicon.symbolEnum),I.set(16,f.Codicon.symbolEnumMember),I.set(17,f.Codicon.symbolKeyword),I.set(27,f.Codicon.symbolSnippet),I.set(18,f.Codicon.symbolText),I.set(19,f.Codicon.symbolColor),I.set(20,f.Codicon.symbolFile),I.set(21,f.Codicon.symbolReference),I.set(22,f.Codicon.symbolCustomColor),I.set(23,f.Codicon.symbolFolder),I.set(24,f.Codicon.symbolTypeParameter),I.set(25,f.Codicon.account),I.set(26,f.Codicon.issues);function T(R){let M=I.get(R);return M||(console.info("No codicon found for CompletionItemKind "+R),M=f.Codicon.symbolProperty),M}E.toIcon=T;const N=new Map;N.set("method",0),N.set("function",1),N.set("constructor",2),N.set("field",3),N.set("variable",4),N.set("class",5),N.set("struct",6),N.set("interface",7),N.set("module",8),N.set("property",9),N.set("event",10),N.set("operator",11),N.set("unit",12),N.set("value",13),N.set("constant",14),N.set("enum",15),N.set("enum-member",16),N.set("enumMember",16),N.set("keyword",17),N.set("snippet",27),N.set("text",18),N.set("color",19),N.set("file",20),N.set("reference",21),N.set("customcolor",22),N.set("folder",23),N.set("type-parameter",24),N.set("typeParameter",24),N.set("account",25),N.set("issue",26);function A(R,M){let P=N.get(R);return typeof P>"u"&&!M&&(P=9),P}E.fromString=A})(o||(e.CompletionItemKinds=o={}));var n;(function(E){E[E.Automatic=0]="Automatic",E[E.Explicit=1]="Explicit"})(n||(e.InlineCompletionTriggerKind=n={}));class i{constructor(I,T,N,A){this.range=I,this.text=T,this.completionKind=N,this.isSnippetText=A}equals(I){return L.Range.lift(this.range).equalsRange(I.range)&&this.text===I.text&&this.completionKind===I.completionKind&&this.isSnippetText===I.isSnippetText}}e.SelectedSuggestionInfo=i;var t;(function(E){E[E.Automatic=0]="Automatic",E[E.PasteAs=1]="PasteAs"})(t||(e.DocumentPasteTriggerKind=t={}));var s;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(s||(e.SignatureHelpTriggerKind=s={}));var c;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(c||(e.DocumentHighlightKind=c={}));function g(E){return E&&k.URI.isUri(E.uri)&&L.Range.isIRange(E.range)&&(L.Range.isIRange(E.originSelectionRange)||L.Range.isIRange(E.targetSelectionRange))}e.symbolKindNames={17:(0,y.localize)(0,null),16:(0,y.localize)(1,null),4:(0,y.localize)(2,null),13:(0,y.localize)(3,null),8:(0,y.localize)(4,null),9:(0,y.localize)(5,null),21:(0,y.localize)(6,null),23:(0,y.localize)(7,null),7:(0,y.localize)(8,null),0:(0,y.localize)(9,null),11:(0,y.localize)(10,null),10:(0,y.localize)(11,null),19:(0,y.localize)(12,null),5:(0,y.localize)(13,null),1:(0,y.localize)(14,null),2:(0,y.localize)(15,null),20:(0,y.localize)(16,null),15:(0,y.localize)(17,null),18:(0,y.localize)(18,null),24:(0,y.localize)(19,null),3:(0,y.localize)(20,null),6:(0,y.localize)(21,null),14:(0,y.localize)(22,null),22:(0,y.localize)(23,null),25:(0,y.localize)(24,null),12:(0,y.localize)(25,null)};function l(E,I){return(0,y.localize)(26,null,E,e.symbolKindNames[I])}var r;(function(E){const I=new Map;I.set(0,f.Codicon.symbolFile),I.set(1,f.Codicon.symbolModule),I.set(2,f.Codicon.symbolNamespace),I.set(3,f.Codicon.symbolPackage),I.set(4,f.Codicon.symbolClass),I.set(5,f.Codicon.symbolMethod),I.set(6,f.Codicon.symbolProperty),I.set(7,f.Codicon.symbolField),I.set(8,f.Codicon.symbolConstructor),I.set(9,f.Codicon.symbolEnum),I.set(10,f.Codicon.symbolInterface),I.set(11,f.Codicon.symbolFunction),I.set(12,f.Codicon.symbolVariable),I.set(13,f.Codicon.symbolConstant),I.set(14,f.Codicon.symbolString),I.set(15,f.Codicon.symbolNumber),I.set(16,f.Codicon.symbolBoolean),I.set(17,f.Codicon.symbolArray),I.set(18,f.Codicon.symbolObject),I.set(19,f.Codicon.symbolKey),I.set(20,f.Codicon.symbolNull),I.set(21,f.Codicon.symbolEnumMember),I.set(22,f.Codicon.symbolStruct),I.set(23,f.Codicon.symbolEvent),I.set(24,f.Codicon.symbolOperator),I.set(25,f.Codicon.symbolTypeParameter);function T(N){let A=I.get(N);return A||(console.info("No codicon found for SymbolKind "+N),A=f.Codicon.symbolProperty),A}E.toIcon=T})(r||(e.SymbolKinds=r={}));class d{}e.TextEdit=d;class u{static fromValue(I){switch(I){case"comment":return u.Comment;case"imports":return u.Imports;case"region":return u.Region}return new u(I)}constructor(I){this.value=I}}e.FoldingRangeKind=u,u.Comment=new u("comment"),u.Imports=new u("imports"),u.Region=new u("region");var a;(function(E){E[E.AIGenerated=1]="AIGenerated"})(a||(e.NewSymbolNameTag=a={}));var v;(function(E){E[E.Invoke=0]="Invoke",E[E.Automatic=1]="Automatic"})(v||(e.NewSymbolNameTriggerKind=v={}));var h;(function(E){function I(T){return!T||typeof T!="object"?!1:typeof T.id=="string"&&typeof T.title=="string"}E.is=I})(h||(e.Command=h={}));var p;(function(E){E[E.Type=1]="Type",E[E.Parameter=2]="Parameter"})(p||(e.InlayHintKind=p={}));class _{constructor(I){this.createSupport=I,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(I=>{I&&I.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=_,e.TokenizationRegistry=new D.TokenizationRegistry;var S;(function(E){E[E.Invoke=0]="Invoke",E[E.Automatic=1]="Automatic"})(S||(e.InlineEditTriggerKind=S={}))}),define(ne[172],se([1,0,27]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullState=void 0,e.nullTokenize=k,e.nullTokenizeEncoded=L,e.NullState=new class{clone(){return this}equals(D){return this===D}};function k(D,y){return new f.TokenizationResult([new f.Token(0,"",D)],y)}function L(D,y){const m=new Uint32Array(2);return m[0]=0,m[1]=(D<<0|0|0|32768|2<<24)>>>0,new f.EncodedTokenizationResult(m,y===null?e.NullState:y)}}),define(ne[362],se([1,0,11,91,27,172]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeToString=m,e.tokenizeLineToHTML=w,e._tokenizeToString=b;const y={getInitialState:()=>D.NullState,tokenizeEncoded:(C,o,n)=>(0,D.nullTokenizeEncoded)(0,n)};async function m(C,o,n){if(!n)return b(o,C.languageIdCodec,y);const i=await L.TokenizationRegistry.getOrCreate(n);return b(o,C.languageIdCodec,i||y)}function w(C,o,n,i,t,s,c){let g="<div>",l=i,r=0,d=!0;for(let u=0,a=o.getCount();u<a;u++){const v=o.getEndOffset(u);if(v<=i)continue;let h="";for(;l<v&&l<t;l++){const p=C.charCodeAt(l);switch(p){case 9:{let _=s-(l+r)%s;for(r+=_-1;_>0;)c&&d?(h+="&#160;",d=!1):(h+=" ",d=!0),_--;break}case 60:h+="&lt;",d=!1;break;case 62:h+="&gt;",d=!1;break;case 38:h+="&amp;",d=!1;break;case 0:h+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:h+="\uFFFD",d=!1;break;case 13:h+="&#8203",d=!1;break;case 32:c&&d?(h+="&#160;",d=!1):(h+=" ",d=!0);break;default:h+=String.fromCharCode(p),d=!1}}if(g+=`<span style="${o.getInlineStyle(u,n)}">${h}</span>`,v>t||l>=t)break}return g+="</div>",g}function b(C,o,n){let i='<div class="monaco-tokenized-source">';const t=f.splitLines(C);let s=n.getInitialState();for(let c=0,g=t.length;c<g;c++){const l=t[c];c>0&&(i+="<br/>");const r=n.tokenizeEncoded(l,!0,s);k.LineTokens.convertToEndOffset(r.tokens,l.length);const u=new k.LineTokens(r.tokens,l,o).inflate();let a=0;for(let v=0,h=u.getCount();v<h;v++){const p=u.getClassName(v),_=u.getEndOffset(v);i+=`<span class="${p}">${f.escape(l.substring(a,_))}</span>`,a=_}s=r.endState}return i+="</div>",i}}),define(ne[684],se([1,0,15,9,17,60,141,61,67,172,557,322,91]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class i{constructor(u,a){this.tokenizationSupport=a,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new s(u)}getStartState(u){return this.store.getStartState(u,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=i;class t extends i{constructor(u,a,v,h){super(u,a),this._textModel=v,this._languageIdCodec=h}updateTokensUntilLine(u,a){const v=this._textModel.getLanguageId();for(;;){const h=this.getFirstInvalidLine();if(!h||h.lineNumber>a)break;const p=this._textModel.getLineContent(h.lineNumber),_=l(this._languageIdCodec,v,this.tokenizationSupport,p,!0,h.startState);u.add(h.lineNumber,_.tokens),this.store.setEndState(h.lineNumber,_.endState)}}getTokenTypeIfInsertingCharacter(u,a){const v=this.getStartState(u.lineNumber);if(!v)return 0;const h=this._textModel.getLanguageId(),p=this._textModel.getLineContent(u.lineNumber),_=p.substring(0,u.column-1)+a+p.substring(u.column-1),S=l(this._languageIdCodec,h,this.tokenizationSupport,_,!0,v),E=new n.LineTokens(S.tokens,_,this._languageIdCodec);if(E.getCount()===0)return 0;const I=E.findTokenIndexAtOffset(u.column-1);return E.getStandardTokenType(I)}tokenizeLineWithEdit(u,a,v){const h=u.lineNumber,p=u.column,_=this.getStartState(h);if(!_)return null;const S=this._textModel.getLineContent(h),E=S.substring(0,p-1)+v+S.substring(p-1+a),I=this._textModel.getLanguageIdAtPosition(h,0),T=l(this._languageIdCodec,I,this.tokenizationSupport,E,!0,_);return new n.LineTokens(T.tokens,E,this._languageIdCodec)}hasAccurateTokensForLine(u){const a=this.store.getFirstInvalidEndStateLineNumberOrMax();return u<a}isCheapToTokenize(u){const a=this.store.getFirstInvalidEndStateLineNumberOrMax();return u<a||u===a&&this._textModel.getLineLength(u)<2048}tokenizeHeuristically(u,a,v){if(v<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(a<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(u,v),{heuristicTokens:!1};let h=this.guessStartState(a);const p=this._textModel.getLanguageId();for(let _=a;_<=v;_++){const S=this._textModel.getLineContent(_),E=l(this._languageIdCodec,p,this.tokenizationSupport,S,!0,h);u.add(_,E.tokens),h=E.endState}return{heuristicTokens:!0}}guessStartState(u){let a=this._textModel.getLineFirstNonWhitespaceColumn(u);const v=[];let h=null;for(let S=u-1;a>1&&S>=1;S--){const E=this._textModel.getLineFirstNonWhitespaceColumn(S);if(E!==0&&E<a&&(v.push(this._textModel.getLineContent(S)),a=E,h=this.getStartState(S),h))break}h||(h=this.tokenizationSupport.getInitialState()),v.reverse();const p=this._textModel.getLanguageId();let _=h;for(const S of v)_=l(this._languageIdCodec,p,this.tokenizationSupport,S,!1,_).endState;return _}}e.TokenizerWithStateStoreAndTextModel=t;class s{constructor(u){this.lineCount=u,this._tokenizationStateStore=new c,this._invalidEndStatesLineNumbers=new g,this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(1,u+1))}getEndState(u){return this._tokenizationStateStore.getEndState(u)}setEndState(u,a){if(!a)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(u);const v=this._tokenizationStateStore.setEndState(u,a);return v&&u<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(u+1,u+2)),v}acceptChange(u,a){this.lineCount+=a-u.length,this._tokenizationStateStore.acceptChange(u,a),this._invalidEndStatesLineNumbers.addRangeAndResize(new w.OffsetRange(u.startLineNumber,u.endLineNumberExclusive),a)}acceptChanges(u){for(const a of u){const[v]=(0,y.countEOL)(a.text);this.acceptChange(new m.LineRange(a.range.startLineNumber,a.range.endLineNumber+1),v+1)}}invalidateEndStateRange(u){this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(u.startLineNumber,u.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(u,a){return u===1?a:this.getEndState(u-1)}getFirstInvalidLine(u){const a=this.getFirstInvalidEndStateLineNumber();if(a===null)return null;const v=this.getStartState(a,u);if(!v)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:a,startState:v}}}e.TrackingTokenizationStateStore=s;class c{constructor(){this._lineEndStates=new C.FixedArray(null)}getEndState(u){return this._lineEndStates.get(u)}setEndState(u,a){const v=this._lineEndStates.get(u);return v&&v.equals(a)?!1:(this._lineEndStates.set(u,a),!0)}acceptChange(u,a){let v=u.length;a>0&&v>0&&(v--,a--),this._lineEndStates.replace(u.startLineNumber,v,a)}}e.TokenizationStateStore=c;class g{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(u){const a=this._ranges.findIndex(v=>v.contains(u));if(a!==-1){const v=this._ranges[a];v.start===u?v.endExclusive===u+1?this._ranges.splice(a,1):this._ranges[a]=new w.OffsetRange(u+1,v.endExclusive):v.endExclusive===u+1?this._ranges[a]=new w.OffsetRange(v.start,u):this._ranges.splice(a,1,new w.OffsetRange(v.start,u),new w.OffsetRange(u+1,v.endExclusive))}}addRange(u){w.OffsetRange.addRange(u,this._ranges)}addRangeAndResize(u,a){let v=0;for(;!(v>=this._ranges.length||u.start<=this._ranges[v].endExclusive);)v++;let h=v;for(;!(h>=this._ranges.length||u.endExclusive<this._ranges[h].start);)h++;const p=a-u.length;for(let _=h;_<this._ranges.length;_++)this._ranges[_]=this._ranges[_].delta(p);if(v===h){const _=new w.OffsetRange(u.start,u.start+a);_.isEmpty||this._ranges.splice(v,0,_)}else{const _=Math.min(u.start,this._ranges[v].start),S=Math.max(u.endExclusive,this._ranges[h-1].endExclusive),E=new w.OffsetRange(_,S+p);E.isEmpty?this._ranges.splice(v,h-v):this._ranges.splice(v,h-v,E)}}toString(){return this._ranges.map(u=>u.toString()).join(" + ")}}e.RangePriorityQueueImpl=g;function l(d,u,a,v,h,p){let _=null;if(a)try{_=a.tokenizeEncoded(v,h,p.clone())}catch(S){(0,k.onUnexpectedError)(S)}return _||(_=(0,b.nullTokenizeEncoded)(d.encodeLanguageId(u),p)),n.LineTokens.convertToEndOffset(_.tokens,v.length),_}class r{constructor(u,a){this._tokenizerWithStateStore=u,this._backgroundTokenStore=a,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,f.runWhenGlobalIdle)(u=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(u)}))}_backgroundTokenizeWithDeadline(u){const a=Date.now()+u.timeRemaining(),v=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<a?(0,L.setTimeout0)(v):this._beginBackgroundTokenization())};v()}_backgroundTokenizeForAtLeast1ms(){const u=this._tokenizerWithStateStore._textModel.getLineCount(),a=new o.ContiguousMultilineTokensBuilder,v=D.StopWatch.create(!1);do if(v.elapsed()>1||this._tokenizeOneInvalidLine(a)>=u)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(a.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(u){var a;const v=(a=this._tokenizerWithStateStore)===null||a===void 0?void 0:a.getFirstInvalidLine();return v?(this._tokenizerWithStateStore.updateTokensUntilLine(u,v.lineNumber),v.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(u,a){this._tokenizerWithStateStore.store.invalidateEndStateRange(new m.LineRange(u,a))}}e.DefaultBackgroundTokenizer=r}),define(ne[685],se([1,0,13,15,9,7,2,141,61,10,162,27,316,684,322,569,571]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class g extends n.TextModelPart{constructor(u,a,v,h,p,_){super(),this._languageService=u,this._languageConfigurationService=a,this._textModel=v,this._bracketPairsTextModelPart=h,this._languageId=p,this._attachedViews=_,this._semanticTokens=new c.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new l(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(S=>{S.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(S=>{this._emitModelTokensChangedEvent(S)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(S=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(u){if(u.isFlush)this._semanticTokens.flush();else if(!u.isEolChange)for(const a of u.changes){const[v,h,p]=(0,m.countEOL)(a.text);this._semanticTokens.acceptEdit(a.range,v,h,p,a.text.length>0?a.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(u)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(u){this.validateLineNumber(u);const a=this.grammarTokens.getLineTokens(u);return this._semanticTokens.addSparseTokens(u,a)}_emitModelTokensChangedEvent(u){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(u),this._onDidChangeTokens.fire(u))}validateLineNumber(u){if(u<1||u>this._textModel.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(u){this.validateLineNumber(u),this.grammarTokens.forceTokenization(u)}hasAccurateTokensForLine(u){return this.validateLineNumber(u),this.grammarTokens.hasAccurateTokensForLine(u)}isCheapToTokenize(u){return this.validateLineNumber(u),this.grammarTokens.isCheapToTokenize(u)}tokenizeIfCheap(u){this.validateLineNumber(u),this.grammarTokens.tokenizeIfCheap(u)}getTokenTypeIfInsertingCharacter(u,a,v){return this.grammarTokens.getTokenTypeIfInsertingCharacter(u,a,v)}tokenizeLineWithEdit(u,a,v){return this.grammarTokens.tokenizeLineWithEdit(u,a,v)}setSemanticTokens(u,a){this._semanticTokens.set(u,a),this._emitModelTokensChangedEvent({semanticTokensApplied:u!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(u,a){if(this.hasCompleteSemanticTokens())return;const v=this._textModel.validateRange(this._semanticTokens.setPartial(u,a));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:v.startLineNumber,toLineNumber:v.endLineNumber}]})}getWordAtPosition(u){this.assertNotDisposed();const a=this._textModel.validatePosition(u),v=this._textModel.getLineContent(a.lineNumber),h=this.getLineTokens(a.lineNumber),p=h.findTokenIndexAtOffset(a.column-1),[_,S]=g._findLanguageBoundaries(h,p),E=(0,C.getWordAtText)(a.column,this.getLanguageConfiguration(h.getLanguageId(p)).getWordDefinition(),v.substring(_,S),_);if(E&&E.startColumn<=u.column&&u.column<=E.endColumn)return E;if(p>0&&_===a.column-1){const[I,T]=g._findLanguageBoundaries(h,p-1),N=(0,C.getWordAtText)(a.column,this.getLanguageConfiguration(h.getLanguageId(p-1)).getWordDefinition(),v.substring(I,T),I);if(N&&N.startColumn<=u.column&&u.column<=N.endColumn)return N}return null}getLanguageConfiguration(u){return this._languageConfigurationService.getLanguageConfiguration(u)}static _findLanguageBoundaries(u,a){const v=u.getLanguageId(a);let h=0;for(let _=a;_>=0&&u.getLanguageId(_)===v;_--)h=u.getStartOffset(_);let p=u.getLineContent().length;for(let _=a,S=u.getCount();_<S&&u.getLanguageId(_)===v;_++)p=u.getEndOffset(_);return[h,p]}getWordUntilPosition(u){const a=this.getWordAtPosition(u);return a?{word:a.word.substr(0,u.column-a.startColumn),startColumn:a.startColumn,endColumn:u.column}:{word:"",startColumn:u.column,endColumn:u.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(u,a){const v=this._textModel.validatePosition(new b.Position(u,a)),h=this.getLineTokens(v.lineNumber);return h.getLanguageId(h.findTokenIndexAtOffset(v.column-1))}setLanguageId(u,a="api"){if(this._languageId===u)return;const v={oldLanguage:this._languageId,newLanguage:u,source:a};this._languageId=u,this._bracketPairsTextModelPart.handleDidChangeLanguage(v),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(v),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=g;class l extends y.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(u,a,v,h){super(),this._languageIdCodec=u,this._textModel=a,this.getLanguageId=v,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new y.MutableDisposable),this._tokens=new s.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new y.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new D.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new y.DisposableMap),this._register(o.TokenizationRegistry.onDidChange(p=>{const _=this.getLanguageId();p.changedLanguages.indexOf(_)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(h.onDidChangeVisibleRanges(({view:p,state:_})=>{if(_){let S=this._attachedViewStates.get(p);S||(S=new r(()=>this.refreshRanges(S.lineRanges)),this._attachedViewStates.set(p,S)),S.handleStateChange(_)}else this._attachedViewStates.deleteAndDispose(p)}))}resetTokenization(u=!0){var a;this._tokens.flush(),(a=this._debugBackgroundTokens)===null||a===void 0||a.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount())),u&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const v=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const _=o.TokenizationRegistry.get(this.getLanguageId());if(!_)return[null,null];let S;try{S=_.getInitialState()}catch(E){return(0,L.onUnexpectedError)(E),[null,null]}return[_,S]},[h,p]=v();if(h&&p?this._tokenizer=new i.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),h,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const _={setTokens:S=>{this.setTokens(S)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const S=2;this._backgroundTokenizationState=S,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(S,E)=>{var I;if(!this._tokenizer)return;const T=this._tokenizer.store.getFirstInvalidEndStateLineNumber();T!==null&&S>=T&&((I=this._tokenizer)===null||I===void 0||I.store.setEndState(S,E))}};h&&h.createBackgroundTokenizer&&!h.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=h.createBackgroundTokenizer(this._textModel,_)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new i.DefaultBackgroundTokenizer(this._tokenizer,_),this._defaultBackgroundTokenizer.handleChanges()),h?.backgroundTokenizerShouldOnlyVerifyTokens&&h.createBackgroundTokenizer?(this._debugBackgroundTokens=new s.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=h.createBackgroundTokenizer(this._textModel,{setTokens:S=>{var E;(E=this._debugBackgroundTokens)===null||E===void 0||E.setMultilineTokens(S,this._textModel)},backgroundTokenizationFinished(){},setEndState:(S,E)=>{var I;(I=this._debugBackgroundStates)===null||I===void 0||I.setEndState(S,E)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var u;(u=this._defaultBackgroundTokenizer)===null||u===void 0||u.handleChanges()}handleDidChangeContent(u){var a,v,h;if(u.isFlush)this.resetTokenization(!1);else if(!u.isEolChange){for(const p of u.changes){const[_,S]=(0,m.countEOL)(p.text);this._tokens.acceptEdit(p.range,_,S),(a=this._debugBackgroundTokens)===null||a===void 0||a.acceptEdit(p.range,_,S)}(v=this._debugBackgroundStates)===null||v===void 0||v.acceptChanges(u.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(u.changes),(h=this._defaultBackgroundTokenizer)===null||h===void 0||h.handleChanges()}}setTokens(u){const{changes:a}=this._tokens.setMultilineTokens(u,this._textModel);return a.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:a}),{changes:a}}refreshAllVisibleLineTokens(){const u=w.LineRange.joinMany([...this._attachedViewStates].map(([a,v])=>v.lineRanges));this.refreshRanges(u)}refreshRanges(u){for(const a of u)this.refreshRange(a.startLineNumber,a.endLineNumberExclusive-1)}refreshRange(u,a){var v,h;if(!this._tokenizer)return;u=Math.max(1,Math.min(this._textModel.getLineCount(),u)),a=Math.min(this._textModel.getLineCount(),a);const p=new t.ContiguousMultilineTokensBuilder,{heuristicTokens:_}=this._tokenizer.tokenizeHeuristically(p,u,a),S=this.setTokens(p.finalize());if(_)for(const E of S.changes)(v=this._backgroundTokenizer.value)===null||v===void 0||v.requestTokens(E.fromLineNumber,E.toLineNumber+1);(h=this._defaultBackgroundTokenizer)===null||h===void 0||h.checkFinished()}forceTokenization(u){var a,v;const h=new t.ContiguousMultilineTokensBuilder;(a=this._tokenizer)===null||a===void 0||a.updateTokensUntilLine(h,u),this.setTokens(h.finalize()),(v=this._defaultBackgroundTokenizer)===null||v===void 0||v.checkFinished()}hasAccurateTokensForLine(u){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(u):!0}isCheapToTokenize(u){return this._tokenizer?this._tokenizer.isCheapToTokenize(u):!0}tokenizeIfCheap(u){this.isCheapToTokenize(u)&&this.forceTokenization(u)}getLineTokens(u){var a;const v=this._textModel.getLineContent(u),h=this._tokens.getTokens(this._textModel.getLanguageId(),u-1,v);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>u&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>u){const p=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),u-1,v);!h.equals(p)&&(!((a=this._debugBackgroundTokenizer.value)===null||a===void 0)&&a.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(u)}return h}getTokenTypeIfInsertingCharacter(u,a,v){if(!this._tokenizer)return 0;const h=this._textModel.validatePosition(new b.Position(u,a));return this.forceTokenization(h.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(h,v)}tokenizeLineWithEdit(u,a,v){if(!this._tokenizer)return null;const h=this._textModel.validatePosition(u);return this.forceTokenization(h.lineNumber),this._tokenizer.tokenizeLineWithEdit(h,a,v)}get hasTokens(){return this._tokens.hasTokens}}class r extends y.Disposable{get lineRanges(){return this._lineRanges}constructor(u){super(),this._refreshTokens=u,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,f.equals)(this._computedLineRanges,this._lineRanges,(u,a)=>u.equals(a))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(u){this._lineRanges=u.visibleLineRanges,u.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(ne[363],se([1,0,19,7,70,22,10,5,24,27,234]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyMod=void 0,e.createMonacoBaseAPI=n;class o{static chord(t,s){return(0,L.KeyChord)(t,s)}}e.KeyMod=o,o.CtrlCmd=2048,o.Shift=1024,o.Alt=512,o.WinCtrl=256;function n(){return{editor:void 0,languages:void 0,CancellationTokenSource:f.CancellationTokenSource,Emitter:k.Emitter,KeyCode:C.KeyCode,KeyMod:o,Position:y.Position,Range:m.Range,Selection:w.Selection,SelectionDirection:C.SelectionDirection,MarkerSeverity:C.MarkerSeverity,MarkerTag:C.MarkerTag,Uri:D.URI,Token:b.Token}}}),define(ne[686],se([1,0,186,22,10,5,561,162,545,551,363,60,320,542,55,544,563]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSimpleWorker=void 0,e.create=r;class g extends y.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(u){const a=[];for(let v=0;v<this._lines.length;v++){const h=this._lines[v],p=this.offsetAt(new L.Position(v+1,1)),_=h.matchAll(u);for(const S of _)(S.index||S.index===0)&&(S.index=S.index+p),a.push(S)}return a}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(u){return this._lines[u-1]}getWordAtPosition(u,a){const v=(0,m.getWordAtText)(u.column,(0,m.ensureValidWordDefinition)(a),this._lines[u.lineNumber-1],0);return v?new D.Range(u.lineNumber,v.startColumn,u.lineNumber,v.endColumn):null}words(u){const a=this._lines,v=this._wordenize.bind(this);let h=0,p="",_=0,S=[];return{*[Symbol.iterator](){for(;;)if(_<S.length){const E=p.substring(S[_].start,S[_].end);_+=1,yield E}else if(h<a.length)p=a[h],S=v(p,u),_=0,h+=1;else break}}}getLineWords(u,a){const v=this._lines[u-1],h=this._wordenize(v,a),p=[];for(const _ of h)p.push({word:v.substring(_.start,_.end),startColumn:_.start+1,endColumn:_.end+1});return p}_wordenize(u,a){const v=[];let h;for(a.lastIndex=0;(h=a.exec(u))&&h[0].length!==0;)v.push({start:h.index,end:h.index+h[0].length});return v}getValueInRange(u){if(u=this._validateRange(u),u.startLineNumber===u.endLineNumber)return this._lines[u.startLineNumber-1].substring(u.startColumn-1,u.endColumn-1);const a=this._eol,v=u.startLineNumber-1,h=u.endLineNumber-1,p=[];p.push(this._lines[v].substring(u.startColumn-1));for(let _=v+1;_<h;_++)p.push(this._lines[_]);return p.push(this._lines[h].substring(0,u.endColumn-1)),p.join(a)}offsetAt(u){return u=this._validatePosition(u),this._ensureLineStarts(),this._lineStarts.getPrefixSum(u.lineNumber-2)+(u.column-1)}positionAt(u){u=Math.floor(u),u=Math.max(0,u),this._ensureLineStarts();const a=this._lineStarts.getIndexOf(u),v=this._lines[a.index].length;return{lineNumber:1+a.index,column:1+Math.min(a.remainder,v)}}_validateRange(u){const a=this._validatePosition({lineNumber:u.startLineNumber,column:u.startColumn}),v=this._validatePosition({lineNumber:u.endLineNumber,column:u.endColumn});return a.lineNumber!==u.startLineNumber||a.column!==u.startColumn||v.lineNumber!==u.endLineNumber||v.column!==u.endColumn?{startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:v.lineNumber,endColumn:v.column}:u}_validatePosition(u){if(!L.Position.isIPosition(u))throw new Error("bad position");let{lineNumber:a,column:v}=u,h=!1;if(a<1)a=1,v=1,h=!0;else if(a>this._lines.length)a=this._lines.length,v=this._lines[a-1].length+1,h=!0;else{const p=this._lines[a-1].length+1;v<1?(v=1,h=!0):v>p&&(v=p,h=!0)}return h?{lineNumber:a,column:v}:u}}class l{constructor(u,a){this._host=u,this._models=Object.create(null),this._foreignModuleFactory=a,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(u){return this._models[u]}_getModels(){const u=[];return Object.keys(this._models).forEach(a=>u.push(this._models[a])),u}acceptNewModel(u){this._models[u.url]=new g(k.URI.parse(u.url),u.lines,u.EOL,u.versionId)}acceptModelChanged(u,a){if(!this._models[u])return;this._models[u].onEvents(a)}acceptRemovedModel(u){this._models[u]&&delete this._models[u]}async computeUnicodeHighlights(u,a,v){const h=this._getModel(u);return h?n.UnicodeTextModelHighlighter.computeUnicodeHighlights(h,a,v):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async findSectionHeaders(u,a){const v=this._getModel(u);return v?(0,c.findSectionHeaders)(v,a):[]}async computeDiff(u,a,v,h){const p=this._getModel(u),_=this._getModel(a);return!p||!_?null:l.computeDiff(p,_,v,h)}static computeDiff(u,a,v,h){const p=h==="advanced"?i.linesDiffComputers.getDefault():i.linesDiffComputers.getLegacy(),_=u.getLinesContent(),S=a.getLinesContent(),E=p.computeDiff(_,S,v),I=E.changes.length>0?!1:this._modelsAreIdentical(u,a);function T(N){return N.map(A=>{var R;return[A.original.startLineNumber,A.original.endLineNumberExclusive,A.modified.startLineNumber,A.modified.endLineNumberExclusive,(R=A.innerChanges)===null||R===void 0?void 0:R.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:I,quitEarly:E.hitTimeout,changes:T(E.changes),moves:E.moves.map(N=>[N.lineRangeMapping.original.startLineNumber,N.lineRangeMapping.original.endLineNumberExclusive,N.lineRangeMapping.modified.startLineNumber,N.lineRangeMapping.modified.endLineNumberExclusive,T(N.changes)])}}static _modelsAreIdentical(u,a){const v=u.getLineCount(),h=a.getLineCount();if(v!==h)return!1;for(let p=1;p<=v;p++){const _=u.getLineContent(p),S=a.getLineContent(p);if(_!==S)return!1}return!0}async computeMoreMinimalEdits(u,a,v){const h=this._getModel(u);if(!h)return a;const p=[];let _;a=a.slice(0).sort((E,I)=>{if(E.range&&I.range)return D.Range.compareRangesUsingStarts(E.range,I.range);const T=E.range?0:1,N=I.range?0:1;return T-N});let S=0;for(let E=1;E<a.length;E++)D.Range.getEndPosition(a[S].range).equals(D.Range.getStartPosition(a[E].range))?(a[S].range=D.Range.fromPositions(D.Range.getStartPosition(a[S].range),D.Range.getEndPosition(a[E].range)),a[S].text+=a[E].text):(S++,a[S]=a[E]);a.length=S+1;for(let{range:E,text:I,eol:T}of a){if(typeof T=="number"&&(_=T),D.Range.isEmpty(E)&&!I)continue;const N=h.getValueInRange(E);if(I=I.replace(/\r\n|\n|\r/g,h.eol),N===I)continue;if(Math.max(I.length,N.length)>l._diffLimit){p.push({range:E,text:I});continue}const A=(0,f.stringDiff)(N,I,v),R=h.offsetAt(D.Range.lift(E).getStartPosition());for(const M of A){const P=h.positionAt(R+M.originalStart),F=h.positionAt(R+M.originalStart+M.originalLength),O={text:I.substr(M.modifiedStart,M.modifiedLength),range:{startLineNumber:P.lineNumber,startColumn:P.column,endLineNumber:F.lineNumber,endColumn:F.column}};h.getValueInRange(O.range)!==O.text&&p.push(O)}}return typeof _=="number"&&p.push({eol:_,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),p}async computeLinks(u){const a=this._getModel(u);return a?(0,w.computeLinks)(a):null}async computeDefaultDocumentColors(u){const a=this._getModel(u);return a?(0,s.computeDefaultDocumentColors)(a):null}async textualSuggest(u,a,v,h){const p=new o.StopWatch,_=new RegExp(v,h),S=new Set;e:for(const E of u){const I=this._getModel(E);if(I){for(const T of I.words(_))if(!(T===a||!isNaN(Number(T)))&&(S.add(T),S.size>l._suggestionsLimit))break e}}return{words:Array.from(S),duration:p.elapsed()}}async computeWordRanges(u,a,v,h){const p=this._getModel(u);if(!p)return Object.create(null);const _=new RegExp(v,h),S=Object.create(null);for(let E=a.startLineNumber;E<a.endLineNumber;E++){const I=p.getLineWords(E,_);for(const T of I){if(!isNaN(Number(T.word)))continue;let N=S[T.word];N||(N=[],S[T.word]=N),N.push({startLineNumber:E,startColumn:T.startColumn,endLineNumber:E,endColumn:T.endColumn})}}return S}async navigateValueSet(u,a,v,h,p){const _=this._getModel(u);if(!_)return null;const S=new RegExp(h,p);a.startColumn===a.endColumn&&(a={startLineNumber:a.startLineNumber,startColumn:a.startColumn,endLineNumber:a.endLineNumber,endColumn:a.endColumn+1});const E=_.getValueInRange(a),I=_.getWordAtPosition({lineNumber:a.startLineNumber,column:a.startColumn},S);if(!I)return null;const T=_.getValueInRange(I);return b.BasicInplaceReplace.INSTANCE.navigateValueSet(a,E,I,T,v)}loadForeignModule(u,a,v){const h=(S,E)=>this._host.fhr(S,E),_={host:(0,t.createProxyObject)(v,h),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(_,a),Promise.resolve((0,t.getAllMethodNames)(this._foreignModule))):new Promise((S,E)=>{X([u],I=>{this._foreignModule=I.create(_,a),S((0,t.getAllMethodNames)(this._foreignModule))},E)})}fmr(u,a){if(!this._foreignModule||typeof this._foreignModule[u]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+u));try{return Promise.resolve(this._foreignModule[u].apply(this._foreignModule,a))}catch(v){return Promise.reject(v)}}}e.EditorSimpleWorker=l,l._diffLimit=1e5,l._suggestionsLimit=1e4;function r(d){return new l(d,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,C.createMonacoBaseAPI)())}),define(ne[364],se([1,0,7,2,305,27]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class y extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new y)),this._INSTANCE}constructor(){super(),this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(w=>{w.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const w=D.TokenizationRegistry.getColorMap();if(!w){this._colors=[L.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[L.RGBA8.Empty];for(let C=1;C<w.length;C++){const o=w[C].rgba;this._colors[C]=new L.RGBA8(o.r,o.g,o.b,Math.round(o.a*255))}const b=w[2].getRelativeLuminance();this._backgroundIsLight=b>=.5,this._onDidChange.fire(void 0)}getColor(w){return(w<1||w>=this._colors.length)&&(w=2),this._colors[w]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=y,y._INSTANCE=null}),define(ne[687],se([3,4]),function(X,e){return X.create("vs/editor/common/languages/modesRegistry",e)}),define(ne[688],se([3,4]),function(X,e){return X.create("vs/editor/common/model/editStack",e)}),define(ne[365],se([1,0,688,9,24,22,354,156,51]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0,e.isEditStackElement=t;function b(c){return c.toString()}class C{static create(g,l){const r=g.getAlternativeVersionId(),d=i(g);return new C(r,r,d,d,l,l,[])}constructor(g,l,r,d,u,a,v){this.beforeVersionId=g,this.afterVersionId=l,this.beforeEOL=r,this.afterEOL=d,this.beforeCursorState=u,this.afterCursorState=a,this.changes=v}append(g,l,r,d,u){l.length>0&&(this.changes=(0,y.compressConsecutiveTextChanges)(this.changes,l)),this.afterEOL=r,this.afterVersionId=d,this.afterCursorState=u}static _writeSelectionsSize(g){return 4+4*4*(g?g.length:0)}static _writeSelections(g,l,r){if(m.writeUInt32BE(g,l?l.length:0,r),r+=4,l)for(const d of l)m.writeUInt32BE(g,d.selectionStartLineNumber,r),r+=4,m.writeUInt32BE(g,d.selectionStartColumn,r),r+=4,m.writeUInt32BE(g,d.positionLineNumber,r),r+=4,m.writeUInt32BE(g,d.positionColumn,r),r+=4;return r}static _readSelections(g,l,r){const d=m.readUInt32BE(g,l);l+=4;for(let u=0;u<d;u++){const a=m.readUInt32BE(g,l);l+=4;const v=m.readUInt32BE(g,l);l+=4;const h=m.readUInt32BE(g,l);l+=4;const p=m.readUInt32BE(g,l);l+=4,r.push(new L.Selection(a,v,h,p))}return l}serialize(){let g=10+C._writeSelectionsSize(this.beforeCursorState)+C._writeSelectionsSize(this.afterCursorState)+4;for(const d of this.changes)g+=d.writeSize();const l=new Uint8Array(g);let r=0;m.writeUInt32BE(l,this.beforeVersionId,r),r+=4,m.writeUInt32BE(l,this.afterVersionId,r),r+=4,m.writeUInt8(l,this.beforeEOL,r),r+=1,m.writeUInt8(l,this.afterEOL,r),r+=1,r=C._writeSelections(l,this.beforeCursorState,r),r=C._writeSelections(l,this.afterCursorState,r),m.writeUInt32BE(l,this.changes.length,r),r+=4;for(const d of this.changes)r=d.write(l,r);return l.buffer}static deserialize(g){const l=new Uint8Array(g);let r=0;const d=m.readUInt32BE(l,r);r+=4;const u=m.readUInt32BE(l,r);r+=4;const a=m.readUInt8(l,r);r+=1;const v=m.readUInt8(l,r);r+=1;const h=[];r=C._readSelections(l,r,h);const p=[];r=C._readSelections(l,r,p);const _=m.readUInt32BE(l,r);r+=4;const S=[];for(let E=0;E<_;E++)r=y.TextChange.read(l,r,S);return new C(d,u,a,v,h,p,S)}}e.SingleModelEditStackData=C;class o{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(g,l,r,d){this.label=g,this.code=l,this.model=r,this._data=C.create(r,d)}toString(){return(this._data instanceof C?this._data:C.deserialize(this._data)).changes.map(l=>l.toString()).join(", ")}matchesResource(g){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===g.toString()}setModel(g){this.model=g}canAppend(g){return this.model===g&&this._data instanceof C}append(g,l,r,d,u){this._data instanceof C&&this._data.append(g,l,r,d,u)}close(){this._data instanceof C&&(this._data=this._data.serialize())}open(){this._data instanceof C||(this._data=C.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const g=C.deserialize(this._data);this.model._applyUndo(g.changes,g.beforeEOL,g.beforeVersionId,g.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const g=C.deserialize(this._data);this.model._applyRedo(g.changes,g.afterEOL,g.afterVersionId,g.afterCursorState)}heapSize(){return this._data instanceof C&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=o;class n{get resources(){return this._editStackElementsArr.map(g=>g.resource)}constructor(g,l,r){this.label=g,this.code=l,this.type=1,this._isOpen=!0,this._editStackElementsArr=r.slice(0),this._editStackElementsMap=new Map;for(const d of this._editStackElementsArr){const u=b(d.resource);this._editStackElementsMap.set(u,d)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(g){const l=b(g);return this._editStackElementsMap.has(l)}setModel(g){const l=b(D.URI.isUri(g)?g:g.uri);this._editStackElementsMap.has(l)&&this._editStackElementsMap.get(l).setModel(g)}canAppend(g){if(!this._isOpen)return!1;const l=b(g.uri);return this._editStackElementsMap.has(l)?this._editStackElementsMap.get(l).canAppend(g):!1}append(g,l,r,d,u){const a=b(g.uri);this._editStackElementsMap.get(a).append(g,l,r,d,u)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const g of this._editStackElementsArr)g.undo()}redo(){for(const g of this._editStackElementsArr)g.redo()}heapSize(g){const l=b(g);return this._editStackElementsMap.has(l)?this._editStackElementsMap.get(l).heapSize():0}split(){return this._editStackElementsArr}toString(){const g=[];for(const l of this._editStackElementsArr)g.push(`${(0,w.basename)(l.resource)}: ${l}`);return`{${g.join(", ")}}`}}e.MultiModelEditStackElement=n;function i(c){return c.getEOL()===`
`?0:1}function t(c){return c?c instanceof o||c instanceof n:!1}class s{constructor(g,l){this._model=g,this._undoRedoService=l}pushStackElement(){const g=this._undoRedoService.getLastElement(this._model.uri);t(g)&&g.close()}popStackElement(){const g=this._undoRedoService.getLastElement(this._model.uri);t(g)&&g.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(g,l){const r=this._undoRedoService.getLastElement(this._model.uri);if(t(r)&&r.canAppend(this._model))return r;const d=new o(f.localize(0,null),"undoredo.textBufferEdit",this._model,g);return this._undoRedoService.pushElement(d,l),d}pushEOL(g){const l=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(g),l.append(this._model,[],i(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(g,l,r,d){const u=this._getOrCreateEditStackElement(g,d),a=this._model.applyEdits(l,!0),v=s._computeCursorState(r,a),h=a.map((p,_)=>({index:_,textChange:p.textChange}));return h.sort((p,_)=>p.textChange.oldPosition===_.textChange.oldPosition?p.index-_.index:p.textChange.oldPosition-_.textChange.oldPosition),u.append(this._model,h.map(p=>p.textChange),i(this._model),this._model.getAlternativeVersionId(),v),v}static _computeCursorState(g,l){try{return g?g(l):null}catch(r){return(0,k.onUnexpectedError)(r),null}}}e.EditStack=s}),define(ne[689],se([3,4]),function(X,e){return X.create("vs/editor/common/standaloneStrings",e)}),define(ne[103],se([1,0,689]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(o){o.inspectTokensAction=f.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var L;(function(o){o.gotoLineActionLabel=f.localize(1,null)})(L||(e.GoToLineNLS=L={}));var D;(function(o){o.helpQuickAccessActionLabel=f.localize(2,null)})(D||(e.QuickHelpNLS=D={}));var y;(function(o){o.quickCommandActionLabel=f.localize(3,null),o.quickCommandHelp=f.localize(4,null)})(y||(e.QuickCommandNLS=y={}));var m;(function(o){o.quickOutlineActionLabel=f.localize(5,null),o.quickOutlineByCategoryActionLabel=f.localize(6,null)})(m||(e.QuickOutlineNLS=m={}));var w;(function(o){o.editorViewAccessibleLabel=f.localize(7,null),o.accessibilityHelpMessage=f.localize(8,null)})(w||(e.StandaloneCodeEditorNLS=w={}));var b;(function(o){o.toggleHighContrast=f.localize(9,null)})(b||(e.ToggleHighContrastNLS=b={}));var C;(function(o){o.bulkEditServiceSummary=f.localize(10,null)})(C||(e.StandaloneServicesNLS=C={}))}),define(ne[690],se([3,4]),function(X,e){return X.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(ne[133],se([1,0,690,11,112,146,579]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLineOutput2=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0,e.renderViewLine=n,e.renderViewLine2=t;class m{constructor(S,E){this.startOffset=S,this.endOffset=E}equals(S){return this.startOffset===S.startOffset&&this.endOffset===S.endOffset}}e.LineRange=m;class w{constructor(S,E,I,T,N,A,R,M,P,F,O,B,V,K,U,G,z,$,J){this.useMonospaceOptimizations=S,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.continuesWithWrappedLine=T,this.isBasicASCII=N,this.containsRTL=A,this.fauxIndentLength=R,this.lineTokens=M,this.lineDecorations=P.sort(D.LineDecoration.compare),this.tabSize=F,this.startVisibleColumn=O,this.spaceWidth=B,this.stopRenderingLineAfter=U,this.renderWhitespace=G==="all"?4:G==="boundary"?1:G==="selection"?2:G==="trailing"?3:0,this.renderControlCharacters=z,this.fontLigatures=$,this.selectionsOnLine=J&&J.sort((x,Y)=>x.startOffset<Y.startOffset?-1:1);const ee=Math.abs(K-B),Z=Math.abs(V-B);ee<Z?(this.renderSpaceWidth=K,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=V,this.renderSpaceCharCode=183)}sameSelection(S){if(this.selectionsOnLine===null)return S===null;if(S===null||S.length!==this.selectionsOnLine.length)return!1;for(let E=0;E<this.selectionsOnLine.length;E++)if(!this.selectionsOnLine[E].equals(S[E]))return!1;return!0}equals(S){return this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineContent===S.lineContent&&this.continuesWithWrappedLine===S.continuesWithWrappedLine&&this.isBasicASCII===S.isBasicASCII&&this.containsRTL===S.containsRTL&&this.fauxIndentLength===S.fauxIndentLength&&this.tabSize===S.tabSize&&this.startVisibleColumn===S.startVisibleColumn&&this.spaceWidth===S.spaceWidth&&this.renderSpaceWidth===S.renderSpaceWidth&&this.renderSpaceCharCode===S.renderSpaceCharCode&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.fontLigatures===S.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,S.lineDecorations)&&this.lineTokens.equals(S.lineTokens)&&this.sameSelection(S.selectionsOnLine)}}e.RenderLineInput=w;class b{constructor(S,E){this.partIndex=S,this.charIndex=E}}e.DomPosition=b;class C{static getPartIndex(S){return(S&4294901760)>>>16}static getCharIndex(S){return(S&65535)>>>0}constructor(S,E){this.length=S,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(S,E,I,T){const N=(E<<16|I<<0)>>>0;this._data[S-1]=N,this._horizontalOffset[S-1]=T}getHorizontalOffset(S){return this._horizontalOffset.length===0?0:this._horizontalOffset[S-1]}charOffsetToPartData(S){return this.length===0?0:S<0?this._data[0]:S>=this.length?this._data[this.length-1]:this._data[S]}getDomPosition(S){const E=this.charOffsetToPartData(S-1),I=C.getPartIndex(E),T=C.getCharIndex(E);return new b(I,T)}getColumn(S,E){return this.partDataToCharOffset(S.partIndex,E,S.charIndex)+1}partDataToCharOffset(S,E,I){if(this.length===0)return 0;const T=(S<<16|I<<0)>>>0;let N=0,A=this.length-1;for(;N+1<A;){const U=N+A>>>1,G=this._data[U];if(G===T)return U;G>T?A=U:N=U}if(N===A)return N;const R=this._data[N],M=this._data[A];if(R===T)return N;if(M===T)return A;const P=C.getPartIndex(R),F=C.getCharIndex(R),O=C.getPartIndex(M);let B;P!==O?B=E:B=C.getCharIndex(M);const V=I-F,K=B-I;return V<=K?N:A}}e.CharacterMapping=C;class o{constructor(S,E,I){this._renderLineOutputBrand=void 0,this.characterMapping=S,this.containsRTL=E,this.containsForeignElements=I}}e.RenderLineOutput=o;function n(_,S){if(_.lineContent.length===0){if(_.lineDecorations.length>0){S.appendString("<span>");let E=0,I=0,T=0;for(const A of _.lineDecorations)(A.type===1||A.type===2)&&(S.appendString('<span class="'),S.appendString(A.className),S.appendString('"></span>'),A.type===1&&(T|=1,E++),A.type===2&&(T|=2,I++));S.appendString("</span>");const N=new C(1,E+I);return N.setColumnInfo(1,E,0,0),new o(N,!1,T)}return S.appendString("<span><span></span></span>"),new o(new C(0,0),!1,0)}return v(c(_),S)}class i{constructor(S,E,I,T){this.characterMapping=S,this.html=E,this.containsRTL=I,this.containsForeignElements=T}}e.RenderLineOutput2=i;function t(_){const S=new L.StringBuilder(1e4),E=n(_,S);return new i(E.characterMapping,S.build(),E.containsRTL,E.containsForeignElements)}class s{constructor(S,E,I,T,N,A,R,M,P,F,O,B,V,K,U,G){this.fontIsMonospace=S,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.len=T,this.isOverflowing=N,this.overflowingCharCount=A,this.parts=R,this.containsForeignElements=M,this.fauxIndentLength=P,this.tabSize=F,this.startVisibleColumn=O,this.containsRTL=B,this.spaceWidth=V,this.renderSpaceCharCode=K,this.renderWhitespace=U,this.renderControlCharacters=G}}function c(_){const S=_.lineContent;let E,I,T;_.stopRenderingLineAfter!==-1&&_.stopRenderingLineAfter<S.length?(E=!0,I=S.length-_.stopRenderingLineAfter,T=_.stopRenderingLineAfter):(E=!1,I=0,T=S.length);let N=g(S,_.containsRTL,_.lineTokens,_.fauxIndentLength,T);_.renderControlCharacters&&!_.isBasicASCII&&(N=d(S,N)),(_.renderWhitespace===4||_.renderWhitespace===1||_.renderWhitespace===2&&_.selectionsOnLine||_.renderWhitespace===3&&!_.continuesWithWrappedLine)&&(N=u(_,S,T,N));let A=0;if(_.lineDecorations.length>0){for(let R=0,M=_.lineDecorations.length;R<M;R++){const P=_.lineDecorations[R];P.type===3||P.type===1?A|=1:P.type===2&&(A|=2)}N=a(S,T,N,_.lineDecorations)}return _.containsRTL||(N=l(S,N,!_.isBasicASCII||_.fontLigatures)),new s(_.useMonospaceOptimizations,_.canUseHalfwidthRightwardsArrow,S,T,E,I,N,A,_.fauxIndentLength,_.tabSize,_.startVisibleColumn,_.containsRTL,_.spaceWidth,_.renderSpaceCharCode,_.renderWhitespace,_.renderControlCharacters)}function g(_,S,E,I,T){const N=[];let A=0;I>0&&(N[A++]=new y.LinePart(I,"",0,!1));let R=I;for(let M=0,P=E.getCount();M<P;M++){const F=E.getEndOffset(M);if(F<=I)continue;const O=E.getClassName(M);if(F>=T){const V=S?k.containsRTL(_.substring(R,T)):!1;N[A++]=new y.LinePart(T,O,0,V);break}const B=S?k.containsRTL(_.substring(R,F)):!1;N[A++]=new y.LinePart(F,O,0,B),R=F}return N}function l(_,S,E){let I=0;const T=[];let N=0;if(E)for(let A=0,R=S.length;A<R;A++){const M=S[A],P=M.endIndex;if(I+50<P){const F=M.type,O=M.metadata,B=M.containsRTL;let V=-1,K=I;for(let U=I;U<P;U++)_.charCodeAt(U)===32&&(V=U),V!==-1&&U-K>=50&&(T[N++]=new y.LinePart(V+1,F,O,B),K=V+1,V=-1);K!==P&&(T[N++]=new y.LinePart(P,F,O,B))}else T[N++]=M;I=P}else for(let A=0,R=S.length;A<R;A++){const M=S[A],P=M.endIndex,F=P-I;if(F>50){const O=M.type,B=M.metadata,V=M.containsRTL,K=Math.ceil(F/50);for(let U=1;U<K;U++){const G=I+U*50;T[N++]=new y.LinePart(G,O,B,V)}T[N++]=new y.LinePart(P,O,B,V)}else T[N++]=M;I=P}return T}function r(_){return _<32?_!==9:_===127||_>=8234&&_<=8238||_>=8294&&_<=8297||_>=8206&&_<=8207||_===1564}function d(_,S){const E=[];let I=new y.LinePart(0,"",0,!1),T=0;for(const N of S){const A=N.endIndex;for(;T<A;T++){const R=_.charCodeAt(T);r(R)&&(T>I.endIndex&&(I=new y.LinePart(T,N.type,N.metadata,N.containsRTL),E.push(I)),I=new y.LinePart(T+1,"mtkcontrol",N.metadata,!1),E.push(I))}T>I.endIndex&&(I=new y.LinePart(A,N.type,N.metadata,N.containsRTL),E.push(I))}return E}function u(_,S,E,I){const T=_.continuesWithWrappedLine,N=_.fauxIndentLength,A=_.tabSize,R=_.startVisibleColumn,M=_.useMonospaceOptimizations,P=_.selectionsOnLine,F=_.renderWhitespace===1,O=_.renderWhitespace===3,B=_.renderSpaceWidth!==_.spaceWidth,V=[];let K=0,U=0,G=I[U].type,z=I[U].containsRTL,$=I[U].endIndex;const J=I.length;let ee=!1,Z=k.firstNonWhitespaceIndex(S),x;Z===-1?(ee=!0,Z=E,x=E):x=k.lastNonWhitespaceIndex(S);let Y=!1,ae=0,ue=P&&P[ae],he=R%A;for(let ce=N;ce<E;ce++){const ie=S.charCodeAt(ce);ue&&ce>=ue.endOffset&&(ae++,ue=P&&P[ae]);let oe;if(ce<Z||ce>x)oe=!0;else if(ie===9)oe=!0;else if(ie===32)if(F)if(Y)oe=!0;else{const re=ce+1<E?S.charCodeAt(ce+1):0;oe=re===32||re===9}else oe=!0;else oe=!1;if(oe&&P&&(oe=!!ue&&ue.startOffset<=ce&&ue.endOffset>ce),oe&&O&&(oe=ee||ce>x),oe&&z&&ce>=Z&&ce<=x&&(oe=!1),Y){if(!oe||!M&&he>=A){if(B){const re=K>0?V[K-1].endIndex:N;for(let W=re+1;W<=ce;W++)V[K++]=new y.LinePart(W,"mtkw",1,!1)}else V[K++]=new y.LinePart(ce,"mtkw",1,!1);he=he%A}}else(ce===$||oe&&ce>N)&&(V[K++]=new y.LinePart(ce,G,0,z),he=he%A);for(ie===9?he=A:k.isFullWidthCharacter(ie)?he+=2:he++,Y=oe;ce===$&&(U++,U<J);)G=I[U].type,z=I[U].containsRTL,$=I[U].endIndex}let pe=!1;if(Y)if(T&&F){const ce=E>0?S.charCodeAt(E-1):0,ie=E>1?S.charCodeAt(E-2):0;ce===32&&ie!==32&&ie!==9||(pe=!0)}else pe=!0;if(pe)if(B){const ce=K>0?V[K-1].endIndex:N;for(let ie=ce+1;ie<=E;ie++)V[K++]=new y.LinePart(ie,"mtkw",1,!1)}else V[K++]=new y.LinePart(E,"mtkw",1,!1);else V[K++]=new y.LinePart(E,G,0,z);return V}function a(_,S,E,I){I.sort(D.LineDecoration.compare);const T=D.LineDecorationsNormalizer.normalize(_,I),N=T.length;let A=0;const R=[];let M=0,P=0;for(let O=0,B=E.length;O<B;O++){const V=E[O],K=V.endIndex,U=V.type,G=V.metadata,z=V.containsRTL;for(;A<N&&T[A].startOffset<K;){const $=T[A];if($.startOffset>P&&(P=$.startOffset,R[M++]=new y.LinePart(P,U,G,z)),$.endOffset+1<=K)P=$.endOffset+1,R[M++]=new y.LinePart(P,U+" "+$.className,G|$.metadata,z),A++;else{P=K,R[M++]=new y.LinePart(P,U+" "+$.className,G|$.metadata,z);break}}K>P&&(P=K,R[M++]=new y.LinePart(P,U,G,z))}const F=E[E.length-1].endIndex;if(A<N&&T[A].startOffset===F)for(;A<N&&T[A].startOffset===F;){const O=T[A];R[M++]=new y.LinePart(P,O.className,O.metadata,!1),A++}return R}function v(_,S){const E=_.fontIsMonospace,I=_.canUseHalfwidthRightwardsArrow,T=_.containsForeignElements,N=_.lineContent,A=_.len,R=_.isOverflowing,M=_.overflowingCharCount,P=_.parts,F=_.fauxIndentLength,O=_.tabSize,B=_.startVisibleColumn,V=_.containsRTL,K=_.spaceWidth,U=_.renderSpaceCharCode,G=_.renderWhitespace,z=_.renderControlCharacters,$=new C(A+1,P.length);let J=!1,ee=0,Z=B,x=0,Y=0,ae=0;V?S.appendString('<span dir="ltr">'):S.appendString("<span>");for(let ue=0,he=P.length;ue<he;ue++){const pe=P[ue],ce=pe.endIndex,ie=pe.type,oe=pe.containsRTL,re=G!==0&&pe.isWhitespace(),W=re&&!E&&(ie==="mtkw"||!T),q=ee===ce&&pe.isPseudoAfter();if(x=0,S.appendString("<span "),oe&&S.appendString('style="unicode-bidi:isolate" '),S.appendString('class="'),S.appendString(W?"mtkz":ie),S.appendASCIICharCode(34),re){let H=0;{let j=ee,Q=Z;for(;j<ce;j++){const le=(N.charCodeAt(j)===9?O-Q%O:1)|0;H+=le,j>=F&&(Q+=le)}}for(W&&(S.appendString(' style="width:'),S.appendString(String(K*H)),S.appendString('px"')),S.appendASCIICharCode(62);ee<ce;ee++){$.setColumnInfo(ee+1,ue-ae,x,Y),ae=0;const j=N.charCodeAt(ee);let Q,te;if(j===9){Q=O-Z%O|0,te=Q,!I||te>1?S.appendCharCode(8594):S.appendCharCode(65515);for(let le=2;le<=te;le++)S.appendCharCode(160)}else Q=2,te=1,S.appendCharCode(U),S.appendCharCode(8204);x+=Q,Y+=te,ee>=F&&(Z+=te)}}else for(S.appendASCIICharCode(62);ee<ce;ee++){$.setColumnInfo(ee+1,ue-ae,x,Y),ae=0;const H=N.charCodeAt(ee);let j=1,Q=1;switch(H){case 9:j=O-Z%O,Q=j;for(let te=1;te<=j;te++)S.appendCharCode(160);break;case 32:S.appendCharCode(160);break;case 60:S.appendString("&lt;");break;case 62:S.appendString("&gt;");break;case 38:S.appendString("&amp;");break;case 0:z?S.appendCharCode(9216):S.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:S.appendCharCode(65533);break;default:k.isFullWidthCharacter(H)&&Q++,z&&H<32?S.appendCharCode(9216+H):z&&H===127?S.appendCharCode(9249):z&&r(H)?(S.appendString("[U+"),S.appendString(h(H)),S.appendString("]"),j=8,Q=j):S.appendCharCode(H)}x+=j,Y+=Q,ee>=F&&(Z+=Q)}q?ae++:ae=0,ee>=A&&!J&&pe.isPseudoAfter()&&(J=!0,$.setColumnInfo(ee+1,ue,x,Y)),S.appendString("</span>")}return J||$.setColumnInfo(A+1,P.length-1,x,Y),R&&(S.appendString('<span class="mtkoverflow">'),S.appendString(f.localize(0,null,p(M))),S.appendString("</span>")),S.appendString("</span>"),new o($,V,T)}function h(_){return _.toString(16).toUpperCase().padStart(4,"0")}function p(_){return _<1024?f.localize(1,null,_):_<1024*1024?`${(_/1024).toFixed(1)} KB`:`${(_/1024/1024).toFixed(1)} MB`}}),define(ne[691],se([1,0,100,72,38,112,146,133,92]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=void 0,e.renderLines=C;const b=(0,f.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:t=>t});function C(t,s,c,g){(0,k.applyFontInfo)(g,s.fontInfo);const l=c.length>0,r=new D.StringBuilder(1e4);let d=0,u=0;const a=[];for(let _=0;_<t.lineTokens.length;_++){const S=_+1,E=t.lineTokens[_],I=t.lineBreakData[_],T=y.LineDecoration.filter(c,S,1,Number.MAX_SAFE_INTEGER);if(I){let N=0;for(const A of I.breakOffsets){const R=E.sliceAndInflate(N,A,0);d=Math.max(d,i(u,R,y.LineDecoration.extractWrapped(T,N,A),l,t.mightContainNonBasicASCII,t.mightContainRTL,s,r)),u++,N=A}a.push(I.breakOffsets.length)}else a.push(1),d=Math.max(d,i(u,E,T,l,t.mightContainNonBasicASCII,t.mightContainRTL,s,r)),u++}d+=s.scrollBeyondLastColumn;const v=r.build(),h=b?b.createHTML(v):v;g.innerHTML=h;const p=d*s.typicalHalfwidthCharacterWidth;return{heightInLines:u,minWidthInPx:p,viewLineCounts:a}}class o{constructor(s,c,g,l){this.lineTokens=s,this.lineBreakData=c,this.mightContainNonBasicASCII=g,this.mightContainRTL=l}}e.LineSource=o;class n{static fromEditor(s){var c;const g=s.getOptions(),l=g.get(50),r=g.get(145);return new n(((c=s.getModel())===null||c===void 0?void 0:c.getOptions().tabSize)||0,l,g.get(33),l.typicalHalfwidthCharacterWidth,g.get(104),g.get(67),r.decorationsWidth,g.get(117),g.get(99),g.get(94),g.get(51))}constructor(s,c,g,l,r,d,u,a,v,h,p){this.tabSize=s,this.fontInfo=c,this.disableMonospaceOptimizations=g,this.typicalHalfwidthCharacterWidth=l,this.scrollBeyondLastColumn=r,this.lineHeight=d,this.lineDecorationsWidth=u,this.stopRenderingLineAfter=a,this.renderWhitespace=v,this.renderControlCharacters=h,this.fontLigatures=p}}e.RenderOptions=n;function i(t,s,c,g,l,r,d,u){u.appendString('<div class="view-line'),g||u.appendString(" char-delete"),u.appendString('" style="top:'),u.appendString(String(t*d.lineHeight)),u.appendString('px;width:1000000px;">');const a=s.getLineContent(),v=w.ViewLineRenderingData.isBasicASCII(a,l),h=w.ViewLineRenderingData.containsRTL(a,v,r),p=(0,m.renderViewLine)(new m.RenderLineInput(d.fontInfo.isMonospace&&!d.disableMonospaceOptimizations,d.fontInfo.canUseHalfwidthRightwardsArrow,a,!1,v,h,0,s,c,d.tabSize,0,d.fontInfo.spaceWidth,d.fontInfo.middotWidth,d.fontInfo.wsmiddotWidth,d.stopRenderingLineAfter,d.renderWhitespace,d.renderControlCharacters,d.fontLigatures!==L.EditorFontLigatures.OFF,null),u);return u.appendString("</div>"),p.characterMapping.getHorizontalOffset(p.characterMapping.length)}}),define(ne[692],se([3,4]),function(X,e){return X.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(ne[693],se([3,4]),function(X,e){return X.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(ne[694],se([3,4]),function(X,e){return X.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(ne[695],se([3,4]),function(X,e){return X.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(ne[696],se([3,4]),function(X,e){return X.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(ne[697],se([3,4]),function(X,e){return X.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(ne[698],se([3,4]),function(X,e){return X.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(ne[699],se([3,4]),function(X,e){return X.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(ne[700],se([3,4]),function(X,e){return X.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(ne[701],se([3,4]),function(X,e){return X.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(ne[702],se([3,4]),function(X,e){return X.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(ne[703],se([3,4]),function(X,e){return X.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(ne[704],se([3,4]),function(X,e){return X.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(ne[705],se([3,4]),function(X,e){return X.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(ne[706],se([3,4]),function(X,e){return X.create("vs/editor/contrib/comment/browser/comment",e)}),define(ne[707],se([3,4]),function(X,e){return X.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(ne[708],se([3,4]),function(X,e){return X.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(ne[709],se([3,4]),function(X,e){return X.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(ne[710],se([3,4]),function(X,e){return X.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(ne[711],se([3,4]),function(X,e){return X.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(ne[712],se([3,4]),function(X,e){return X.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution",e)}),define(ne[713],se([3,4]),function(X,e){return X.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(ne[714],se([3,4]),function(X,e){return X.create("vs/editor/contrib/dropOrPasteInto/browser/postEditWidget",e)}),define(ne[715],se([3,4]),function(X,e){return X.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(ne[716],se([3,4]),function(X,e){return X.create("vs/editor/contrib/find/browser/findController",e)}),define(ne[717],se([3,4]),function(X,e){return X.create("vs/editor/contrib/find/browser/findWidget",e)}),define(ne[718],se([3,4]),function(X,e){return X.create("vs/editor/contrib/folding/browser/folding",e)}),define(ne[719],se([3,4]),function(X,e){return X.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(ne[720],se([3,4]),function(X,e){return X.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(ne[721],se([3,4]),function(X,e){return X.create("vs/editor/contrib/format/browser/formatActions",e)}),define(ne[722],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(ne[723],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(ne[724],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(ne[725],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(ne[726],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(ne[727],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(ne[728],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(ne[729],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(ne[173],se([1,0,9,7,183,2,45,51,11,5,729]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class o{constructor(c,g,l,r){this.isProviderFirst=c,this.parent=g,this.link=l,this._rangeCallback=r,this.id=L.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var c,g;return(g=(c=this._range)!==null&&c!==void 0?c:this.link.targetSelectionRange)!==null&&g!==void 0?g:this.link.range}set range(c){this._range=c,this._rangeCallback(this)}get ariaMessage(){var c;const g=(c=this.parent.getPreview(this))===null||c===void 0?void 0:c.preview(this.range);return g?(0,C.localize)(1,null,g.value,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,C.localize)(0,null,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=o;class n{constructor(c){this._modelReference=c}dispose(){this._modelReference.dispose()}preview(c,g=8){const l=this._modelReference.object.textEditorModel;if(!l)return;const{startLineNumber:r,startColumn:d,endLineNumber:u,endColumn:a}=c,v=l.getWordUntilPosition({lineNumber:r,column:d-g}),h=new b.Range(r,v.startColumn,r,d),p=new b.Range(u,a,u,1073741824),_=l.getValueInRange(h).replace(/^\s+/,""),S=l.getValueInRange(c),E=l.getValueInRange(p).replace(/\s+$/,"");return{value:_+S+E,highlight:{start:_.length,end:_.length+S.length}}}}e.FilePreview=n;class i{constructor(c,g){this.parent=c,this.uri=g,this.children=[],this._previews=new y.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(c){return this._previews.get(c.uri)}get ariaMessage(){const c=this.children.length;return c===1?(0,C.localize)(2,null,(0,m.basename)(this.uri),this.uri.fsPath):(0,C.localize)(3,null,c,(0,m.basename)(this.uri),this.uri.fsPath)}async resolve(c){if(this._previews.size!==0)return this;for(const g of this.children)if(!this._previews.has(g.uri))try{const l=await c.createModelReference(g.uri);this._previews.set(g.uri,new n(l))}catch(l){(0,f.onUnexpectedError)(l)}return this}}e.FileReferences=i;class t{constructor(c,g){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=c,this._title=g;const[l]=c;c.sort(t._compareReferences);let r;for(const d of c)if((!r||!m.extUri.isEqual(r.uri,d.uri,!0))&&(r=new i(this,d.uri),this.groups.push(r)),r.children.length===0||t._compareReferences(d,r.children[r.children.length-1])!==0){const u=new o(l===d,r,d,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(u),r.children.push(u)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,C.localize)(4,null):this.references.length===1?(0,C.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,C.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,C.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(c,g){const{parent:l}=c;let r=l.children.indexOf(c);const d=l.children.length,u=l.parent.groups.length;return u===1||g&&r+1<d||!g&&r>0?(g?r=(r+1)%d:r=(r+d-1)%d,l.children[r]):(r=l.parent.groups.indexOf(l),g?(r=(r+1)%u,l.parent.groups[r].children[0]):(r=(r+u-1)%u,l.parent.groups[r].children[l.parent.groups[r].children.length-1]))}nearestReference(c,g){const l=this.references.map((r,d)=>({idx:d,prefixLen:w.commonPrefixLength(r.uri.toString(),c.toString()),offsetDist:Math.abs(r.range.startLineNumber-g.lineNumber)*100+Math.abs(r.range.startColumn-g.column)})).sort((r,d)=>r.prefixLen>d.prefixLen?-1:r.prefixLen<d.prefixLen?1:r.offsetDist<d.offsetDist?-1:r.offsetDist>d.offsetDist?1:0)[0];if(l)return this.references[l.idx]}referenceAt(c,g){for(const l of this.references)if(l.uri.toString()===c.toString()&&b.Range.containsPosition(l.range,g))return l}firstReference(){for(const c of this.references)if(c.isProviderFirst)return c;return this.references[0]}static _compareReferences(c,g){return m.extUri.compare(c.uri,g.uri)||b.Range.compareRangesUsingStarts(c.range,g.range)}}e.ReferencesModel=t}),define(ne[730],se([3,4]),function(X,e){return X.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(ne[731],se([3,4]),function(X,e){return X.create("vs/editor/contrib/hover/browser/hoverAccessibleViews",e)}),define(ne[732],se([3,4]),function(X,e){return X.create("vs/editor/contrib/hover/browser/hoverActionIds",e)}),define(ne[205],se([1,0,732]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DECREASE_HOVER_VERBOSITY_ACTION_LABEL=e.DECREASE_HOVER_VERBOSITY_ACTION_ID=e.INCREASE_HOVER_VERBOSITY_ACTION_LABEL=e.INCREASE_HOVER_VERBOSITY_ACTION_ID=e.GO_TO_BOTTOM_HOVER_ACTION_ID=e.GO_TO_TOP_HOVER_ACTION_ID=e.PAGE_DOWN_HOVER_ACTION_ID=e.PAGE_UP_HOVER_ACTION_ID=e.SCROLL_RIGHT_HOVER_ACTION_ID=e.SCROLL_LEFT_HOVER_ACTION_ID=e.SCROLL_DOWN_HOVER_ACTION_ID=e.SCROLL_UP_HOVER_ACTION_ID=e.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID=e.SHOW_OR_FOCUS_HOVER_ACTION_ID=void 0,e.SHOW_OR_FOCUS_HOVER_ACTION_ID="editor.action.showHover",e.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID="editor.action.showDefinitionPreviewHover",e.SCROLL_UP_HOVER_ACTION_ID="editor.action.scrollUpHover",e.SCROLL_DOWN_HOVER_ACTION_ID="editor.action.scrollDownHover",e.SCROLL_LEFT_HOVER_ACTION_ID="editor.action.scrollLeftHover",e.SCROLL_RIGHT_HOVER_ACTION_ID="editor.action.scrollRightHover",e.PAGE_UP_HOVER_ACTION_ID="editor.action.pageUpHover",e.PAGE_DOWN_HOVER_ACTION_ID="editor.action.pageDownHover",e.GO_TO_TOP_HOVER_ACTION_ID="editor.action.goToTopHover",e.GO_TO_BOTTOM_HOVER_ACTION_ID="editor.action.goToBottomHover",e.INCREASE_HOVER_VERBOSITY_ACTION_ID="editor.action.increaseHoverVerbosityLevel",e.INCREASE_HOVER_VERBOSITY_ACTION_LABEL=f.localize(0,null),e.DECREASE_HOVER_VERBOSITY_ACTION_ID="editor.action.decreaseHoverVerbosityLevel",e.DECREASE_HOVER_VERBOSITY_ACTION_LABEL=f.localize(1,null)}),define(ne[733],se([1,0,731,27,205,2]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHoverAccessibleView=e.HoverAccessibleViewProvider=e.HoverAccessibilityHelpProvider=e.HoverAccessibilityHelp=e.HoverAccessibleView=void 0;var y;(function(i){i.intro=(0,f.localize)(0,null),i.increaseVerbosity=(0,f.localize)(1,null,L.INCREASE_HOVER_VERBOSITY_ACTION_ID),i.decreaseVerbosity=(0,f.localize)(2,null,L.DECREASE_HOVER_VERBOSITY_ACTION_ID),i.hoverContent=(0,f.localize)(3,null)})(y||(y={}));class m{dispose(){var t;(t=this._provider)===null||t===void 0||t.dispose()}}e.HoverAccessibleView=m;class w{dispose(){var t;(t=this._provider)===null||t===void 0||t.dispose()}}e.HoverAccessibilityHelp=w;class b extends D.Disposable{constructor(t){super(),this._hoverController=t,this._markdownHoverFocusedIndex=-1}}class C extends b{constructor(t){super(t),this.options={type:"help"}}provideContentAtIndex(t){const s=[];return s.push(y.intro),s.push(...this._descriptionsOfVerbosityActionsForIndex(t)),s.push(...this._descriptionOfFocusedMarkdownHoverAtIndex(t)),s.join(`
`)}_descriptionsOfVerbosityActionsForIndex(t){const s=[],c=this._descriptionOfVerbosityActionForIndex(k.HoverVerbosityAction.Increase,t);c!==void 0&&s.push(c);const g=this._descriptionOfVerbosityActionForIndex(k.HoverVerbosityAction.Decrease,t);return g!==void 0&&s.push(g),s}_descriptionOfVerbosityActionForIndex(t,s){if(this._hoverController.doesMarkdownHoverAtIndexSupportVerbosityAction(s,t))switch(t){case k.HoverVerbosityAction.Increase:return y.increaseVerbosity;case k.HoverVerbosityAction.Decrease:return y.decreaseVerbosity}}_descriptionOfFocusedMarkdownHoverAtIndex(t){const s=[],c=this._hoverController.markdownHoverContentAtIndex(t);return c&&(s.push(`
`+y.hoverContent),s.push(`
`+c)),s}}e.HoverAccessibilityHelpProvider=C;class o extends b{constructor(t,s,c){super(c),this._keybindingService=t,this._editor=s,this.options={type:"view"},this._initializeOptions(this._editor,c)}_initializeOptions(t,s){var c;const g=this._register(new C(s));this.options.language=(c=t.getModel())===null||c===void 0?void 0:c.getLanguageId(),this.options.customHelp=()=>g.provideContentAtIndex(this._markdownHoverFocusedIndex)}}e.HoverAccessibleViewProvider=o;class n{dispose(){}}e.ExtHoverAccessibleView=n}),define(ne[734],se([3,4]),function(X,e){return X.create("vs/editor/contrib/hover/browser/hoverActions",e)}),define(ne[735],se([3,4]),function(X,e){return X.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(ne[736],se([3,4]),function(X,e){return X.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(ne[737],se([3,4]),function(X,e){return X.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(ne[738],se([3,4]),function(X,e){return X.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(ne[739],se([3,4]),function(X,e){return X.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(ne[740],se([3,4]),function(X,e){return X.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(ne[741],se([3,4]),function(X,e){return X.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(ne[742],se([3,4]),function(X,e){return X.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(ne[743],se([3,4]),function(X,e){return X.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController",e)}),define(ne[744],se([3,4]),function(X,e){return X.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(ne[745],se([3,4]),function(X,e){return X.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(ne[746],se([3,4]),function(X,e){return X.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(ne[747],se([3,4]),function(X,e){return X.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(ne[748],se([3,4]),function(X,e){return X.create("vs/editor/contrib/links/browser/links",e)}),define(ne[749],se([3,4]),function(X,e){return X.create("vs/editor/contrib/message/browser/messageController",e)}),define(ne[750],se([3,4]),function(X,e){return X.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(ne[751],se([3,4]),function(X,e){return X.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(ne[752],se([3,4]),function(X,e){return X.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(ne[753],se([3,4]),function(X,e){return X.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(ne[754],se([3,4]),function(X,e){return X.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(ne[755],se([3,4]),function(X,e){return X.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(ne[756],se([3,4]),function(X,e){return X.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(ne[757],se([3,4]),function(X,e){return X.create("vs/editor/contrib/rename/browser/rename",e)}),define(ne[366],se([3,4]),function(X,e){return X.create("vs/editor/contrib/rename/browser/renameWidget",e)}),define(ne[758],se([3,4]),function(X,e){return X.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(ne[759],se([3,4]),function(X,e){return X.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(ne[760],se([3,4]),function(X,e){return X.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(ne[761],se([3,4]),function(X,e){return X.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(ne[762],se([3,4]),function(X,e){return X.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(ne[763],se([3,4]),function(X,e){return X.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(ne[764],se([3,4]),function(X,e){return X.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(ne[765],se([3,4]),function(X,e){return X.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(ne[766],se([3,4]),function(X,e){return X.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(ne[767],se([3,4]),function(X,e){return X.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(ne[768],se([3,4]),function(X,e){return X.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(ne[769],se([3,4]),function(X,e){return X.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(ne[770],se([3,4]),function(X,e){return X.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(ne[771],se([3,4]),function(X,e){return X.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(ne[772],se([3,4]),function(X,e){return X.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(ne[773],se([3,4]),function(X,e){return X.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(ne[774],se([3,4]),function(X,e){return X.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(ne[775],se([3,4]),function(X,e){return X.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(ne[776],se([3,4]),function(X,e){return X.create("vs/platform/accessibilitySignal/browser/accessibilitySignalService",e)}),define(ne[777],se([3,4]),function(X,e){return X.create("vs/platform/action/common/actionCommonCategories",e)}),define(ne[778],se([3,4]),function(X,e){return X.create("vs/platform/actionWidget/browser/actionList",e)}),define(ne[779],se([3,4]),function(X,e){return X.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(ne[780],se([3,4]),function(X,e){return X.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ne[781],se([3,4]),function(X,e){return X.create("vs/platform/actions/browser/toolbar",e)}),define(ne[782],se([3,4]),function(X,e){return X.create("vs/platform/actions/common/menuService",e)}),define(ne[783],se([3,4]),function(X,e){return X.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ne[784],se([3,4]),function(X,e){return X.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ne[785],se([3,4]),function(X,e){return X.create("vs/platform/contextkey/common/contextkey",e)}),define(ne[786],se([3,4]),function(X,e){return X.create("vs/platform/contextkey/common/contextkeys",e)}),define(ne[787],se([3,4]),function(X,e){return X.create("vs/platform/contextkey/common/scanner",e)}),define(ne[788],se([3,4]),function(X,e){return X.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(ne[789],se([3,4]),function(X,e){return X.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ne[790],se([3,4]),function(X,e){return X.create("vs/platform/list/browser/listService",e)}),define(ne[791],se([3,4]),function(X,e){return X.create("vs/platform/markers/common/markers",e)}),define(ne[792],se([3,4]),function(X,e){return X.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ne[793],se([3,4]),function(X,e){return X.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ne[794],se([3,4]),function(X,e){return X.create("vs/platform/quickinput/browser/quickInput",e)}),define(ne[795],se([3,4]),function(X,e){return X.create("vs/platform/quickinput/browser/quickInputActions",e)}),define(ne[796],se([3,4]),function(X,e){return X.create("vs/platform/quickinput/browser/quickInputController",e)}),define(ne[797],se([3,4]),function(X,e){return X.create("vs/platform/quickinput/browser/quickInputTree",e)}),define(ne[798],se([3,4]),function(X,e){return X.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(ne[799],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/baseColors",e)}),define(ne[800],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/chartsColors",e)}),define(ne[801],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/editorColors",e)}),define(ne[802],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/inputColors",e)}),define(ne[803],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/listColors",e)}),define(ne[804],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/menuColors",e)}),define(ne[805],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/minimapColors",e)}),define(ne[806],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/miscColors",e)}),define(ne[807],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/quickpickColors",e)}),define(ne[808],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/colors/searchColors",e)}),define(ne[809],se([3,4]),function(X,e){return X.create("vs/platform/theme/common/iconRegistry",e)}),define(ne[810],se([3,4]),function(X,e){return X.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ne[811],se([3,4]),function(X,e){return X.create("vs/platform/workspace/common/workspace",e)}),define(ne[367],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleViewRegistry=void 0,e.AccessibleViewRegistry=new class{constructor(){this._implementations=[]}register(k){return this._implementations.push(k),{dispose:()=>{const L=this._implementations.indexOf(k);L!==-1&&this._implementations.splice(L,1),k.dispose()}}}getImplementations(){return this._implementations}}}),define(ne[368],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLocalizedString=f,e.isICommandActionToggleInfo=k;function f(L){return L&&typeof L=="object"&&typeof L.original=="string"&&typeof L.value=="string"}function k(L){return L?L.condition!==void 0:!1}}),define(ne[812],se([1,0,777]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:(0,f.localize2)(0,"View"),Help:(0,f.localize2)(1,"Help"),Test:(0,f.localize2)(2,"Test"),File:(0,f.localize2)(3,"File"),Preferences:(0,f.localize2)(4,"Preferences"),Developer:(0,f.localize2)(5,"Developer")})}),define(ne[813],se([1,0,9,787]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function L(...w){switch(w.length){case 1:return(0,k.localize)(0,null,w[0]);case 2:return(0,k.localize)(1,null,w[0],w[1]);case 3:return(0,k.localize)(2,null,w[0],w[1],w[2]);default:return}}const D=(0,k.localize)(3,null),y=(0,k.localize)(4,null);class m{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,f.illegalState)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}reset(b){return this._input=b,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const C=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:C})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const C=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:C})}else this._match(126)?this._addToken(9):this._error(L("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(L("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(L("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(b){return this._isAtEnd()||this._input.charCodeAt(this._current)!==b?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(b){this._tokens.push({type:b,offset:this._start})}_error(b){const C=this._start,o=this._input.substring(this._start,this._current),n={type:19,offset:this._start,lexeme:o};this._errors.push({offset:C,lexeme:o,additionalInfo:b}),this._tokens.push(n)}_string(){this.stringRe.lastIndex=this._start;const b=this.stringRe.exec(this._input);if(b){this._current=this._start+b[0].length;const C=this._input.substring(this._start,this._current),o=m._keywords.get(C);o?this._addToken(o):this._tokens.push({type:17,lexeme:C,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(D);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let b=this._current,C=!1,o=!1;for(;;){if(b>=this._input.length){this._current=b,this._error(y);return}const i=this._input.charCodeAt(b);if(C)C=!1;else if(i===47&&!o){b++;break}else i===91?o=!0:i===92?C=!0:i===93&&(o=!1);b++}for(;b<this._input.length&&m._regexFlags.has(this._input.charCodeAt(b));)b++;this._current=b;const n=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:n,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=m,m._regexFlags=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0))),m._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(ne[814],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var f;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(f||(e.EditorOpenSource=f={}))}),define(ne[815],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class f{constructor(D){this.value=D,this._lower=D.toLowerCase()}static toKey(D){return typeof D=="string"?D.toLowerCase():D._lower}}e.ExtensionIdentifier=f;class k{constructor(D){if(this._set=new Set,D)for(const y of D)this.add(y)}add(D){this._set.add(f.toKey(D))}has(D){return this._set.has(f.toKey(D))}}e.ExtensionIdentifierSet=k}),define(ne[369],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var f;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(f||(e.FileKind=f={}))}),define(ne[816],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=f;function f(k){var L,D;return((L=k.lookupKeybinding("history.showPrevious"))===null||L===void 0?void 0:L.getElectronAccelerator())==="Up"&&((D=k.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}}),define(ne[259],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class f{constructor(L,D=[],y=!1){this.ctor=L,this.staticArguments=D,this.supportsDelayedInstantiation=y}}e.SyncDescriptor=f}),define(ne[49],se([1,0,259]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerSingleton=L,e.getSingletonServiceDescriptors=D;const k=[];function L(y,m,w){m instanceof f.SyncDescriptor||(m=new f.SyncDescriptor(m,[],!!w)),k.push([y,m])}function D(){return k}}),define(ne[817],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class f{constructor(D,y){this.key=D,this.data=y,this.incoming=new Map,this.outgoing=new Map}}e.Node=f;class k{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const y of this._nodes.values())y.outgoing.size===0&&D.push(y);return D}insertEdge(D,y){const m=this.lookupOrInsertNode(D),w=this.lookupOrInsertNode(y);m.outgoing.set(w.key,w),w.incoming.set(m.key,m)}removeNode(D){const y=this._hashFn(D);this._nodes.delete(y);for(const m of this._nodes.values())m.outgoing.delete(y),m.incoming.delete(y)}lookupOrInsertNode(D){const y=this._hashFn(D);let m=this._nodes.get(y);return m||(m=new f(y,D),this._nodes.set(y,m)),m}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[y,m]of this._nodes)D.push(`${y}
	(-> incoming)[${[...m.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...m.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,y]of this._nodes){const m=new Set([D]),w=this._findCycle(y,m);if(w)return w}}_findCycle(D,y){for(const[m,w]of D.outgoing){if(y.has(m))return[...y,m].join(" -> ");y.add(m);const b=this._findCycle(w,y);if(b)return b;y.delete(m)}}}e.Graph=k}),define(ne[8],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IInstantiationService=e._util=void 0,e.createDecorator=L;var f;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function y(m){return m[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=y})(f||(e._util=f={})),e.IInstantiationService=L("instantiationService");function k(D,y,m){y[f.DI_TARGET]===y?y[f.DI_DEPENDENCIES].push({id:D,index:m}):(y[f.DI_DEPENDENCIES]=[{id:D,index:m}],y[f.DI_TARGET]=y)}function L(D){if(f.serviceIds.has(D))return f.serviceIds.get(D);const y=function(m,w,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(y,m,b)};return y.toString=()=>D,f.serviceIds.set(D,y),y}}),define(ne[148],se([1,0,8,22,20]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,f.createDecorator)("IWorkspaceEditService");class D{constructor(b){this.metadata=b}static convert(b){return b.edits.map(C=>{if(y.is(C))return y.lift(C);if(m.is(C))return m.lift(C);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class y extends D{static is(b){return b instanceof y?!0:(0,L.isObject)(b)&&k.URI.isUri(b.resource)&&(0,L.isObject)(b.textEdit)}static lift(b){return b instanceof y?b:new y(b.resource,b.textEdit,b.versionId,b.metadata)}constructor(b,C,o=void 0,n){super(n),this.resource=b,this.textEdit=C,this.versionId=o}}e.ResourceTextEdit=y;class m extends D{static is(b){return b instanceof m?!0:(0,L.isObject)(b)&&(!!b.newResource||!!b.oldResource)}static lift(b){return b instanceof m?b:new m(b.oldResource,b.newResource,b.options,b.metadata)}constructor(b,C,o={},n){super(n),this.oldResource=b,this.newResource=C,this.options=o}}e.ResourceFileEdit=m}),define(ne[36],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,f.createDecorator)("codeEditorService")});var ge=this&&this.__param||function(X,e){return function(f,k){e(f,k,X)}};define(ne[370],se([1,0,6,110,26,57,2,30,126,31,20,83,61,10,5,27,671,8]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.HideUnchangedRegionsFeature=void 0;let r=l=class extends y.Disposable{static setBreadcrumbsSourceFactory(a){this._breadcrumbsSourceFactory.set(a,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(a,v,h,p){super(),this._editors=a,this._diffModel=v,this._options=h,this._instantiationService=p,this._modifiedOutlineSource=(0,w.derivedDisposable)(this,I=>{const T=this._editors.modifiedModel.read(I),N=l._breadcrumbsSourceFactory.read(I);return!T||!N?void 0:N(T,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(I=>{if(I.reason===1)return;const T=this._diffModel.get();(0,m.transaction)(N=>{for(const A of this._editors.original.getSelections()||[])T?.ensureOriginalLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureOriginalLineIsVisible(A.getEndPosition().lineNumber,0,N)})})),this._register(this._editors.modified.onDidChangeCursorPosition(I=>{if(I.reason===1)return;const T=this._diffModel.get();(0,m.transaction)(N=>{for(const A of this._editors.modified.getSelections()||[])T?.ensureModifiedLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureModifiedLineIsVisible(A.getEndPosition().lineNumber,0,N)})}));const _=this._diffModel.map((I,T)=>{var N,A;const R=(N=I?.unchangedRegions.read(T))!==null&&N!==void 0?N:[];return R.length===1&&R[0].modifiedLineNumber===1&&R[0].lineCount===((A=this._editors.modifiedModel.read(T))===null||A===void 0?void 0:A.getLineCount())?[]:R});this.viewZones=(0,m.derivedWithStore)(this,(I,T)=>{const N=this._modifiedOutlineSource.read(I);if(!N)return{origViewZones:[],modViewZones:[]};const A=[],R=[],M=this._options.renderSideBySide.read(I),P=_.read(I);for(const F of P)if(!F.shouldHideControls(I)){{const O=(0,m.derived)(this,V=>F.getHiddenOriginalRange(V).startLineNumber-1),B=new o.PlaceholderViewZone(O,24);A.push(B),T.add(new d(this._editors.original,B,F,F.originalUnchangedRange,!M,N,V=>this._diffModel.get().ensureModifiedLineIsVisible(V,2,void 0),this._options))}{const O=(0,m.derived)(this,V=>F.getHiddenModifiedRange(V).startLineNumber-1),B=new o.PlaceholderViewZone(O,24);R.push(B),T.add(new d(this._editors.modified,B,F,F.modifiedUnchangedRange,!1,N,V=>this._diffModel.get().ensureModifiedLineIsVisible(V,2,void 0),this._options))}}return{origViewZones:A,modViewZones:R}});const S={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},E={description:"Fold Unchanged",glyphMarginHoverMessage:new D.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,c.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+b.ThemeIcon.asClassName(L.Codicon.fold),zIndex:10001};this._register((0,o.applyObservableDecorations)(this._editors.original,(0,m.derived)(this,I=>{const T=_.read(I),N=T.map(A=>({range:A.originalUnchangedRange.toInclusiveRange(),options:S}));for(const A of T)A.shouldHideControls(I)&&N.push({range:t.Range.fromPositions(new i.Position(A.originalLineNumber,1)),options:E});return N}))),this._register((0,o.applyObservableDecorations)(this._editors.modified,(0,m.derived)(this,I=>{const T=_.read(I),N=T.map(A=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:S}));for(const A of T)A.shouldHideControls(I)&&N.push({range:n.LineRange.ofLength(A.modifiedLineNumber,1).toInclusiveRange(),options:E});return N}))),this._register((0,m.autorun)(I=>{const T=_.read(I);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(T.map(N=>N.getHiddenOriginalRange(I).toInclusiveRange()).filter(C.isDefined)),this._editors.modified.setHiddenAreas(T.map(N=>N.getHiddenModifiedRange(I).toInclusiveRange()).filter(C.isDefined))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(I=>{var T;if(!I.event.rightButton&&I.target.position&&(!((T=I.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=I.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const R=A.unchangedRegions.get().find(M=>M.modifiedUnchangedRange.includes(N));if(!R)return;R.collapseAll(void 0),I.event.stopPropagation(),I.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(I=>{var T;if(!I.event.rightButton&&I.target.position&&(!((T=I.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=I.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const R=A.unchangedRegions.get().find(M=>M.originalUnchangedRange.includes(N));if(!R)return;R.collapseAll(void 0),I.event.stopPropagation(),I.event.preventDefault()}}))}};e.HideUnchangedRegionsFeature=r,r._breadcrumbsSourceFactory=(0,m.observableValue)("breadcrumbsSourceFactory",void 0),e.HideUnchangedRegionsFeature=r=l=ke([ge(3,g.IInstantiationService)],r);class d extends o.ViewZoneOverlayWidget{constructor(a,v,h,p,_,S,E,I){const T=(0,f.h)("div.diff-hidden-lines-widget");super(a,v,T.root),this._editor=a,this._unchangedRegion=h,this._unchangedRegionRange=p,this._hide=_,this._modifiedOutlineSource=S,this._revealModifiedHiddenLine=E,this._options=I,this._nodes=(0,f.h)("div.diff-hidden-lines",[(0,f.h)("div.top@top",{title:(0,c.localize)(1,null)}),(0,f.h)("div.center@content",{style:{display:"flex"}},[(0,f.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,f.$)("a",{title:(0,c.localize)(2,null),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,f.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,f.h)("div.bottom@bottom",{title:(0,c.localize)(3,null),role:"button"})]),T.root.appendChild(this._nodes.root);const N=(0,m.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,f.reset)(this._nodes.first):this._register((0,o.applyStyle)(this._nodes.first,{width:N.map(R=>R.contentLeft)})),this._register((0,m.autorun)(R=>{const M=this._unchangedRegion.visibleLineCountTop.read(R)+this._unchangedRegion.visibleLineCountBottom.read(R)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!M),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(R)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(R)>0),this._nodes.top.classList.toggle("canMoveBottom",!M);const P=this._unchangedRegion.isDragged.read(R),F=this._editor.getDomNode();F&&(F.classList.toggle("draggingUnchangedRegion",!!P),P==="top"?(F.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(R)>0),F.classList.toggle("canMoveBottom",!M)):P==="bottom"?(F.classList.toggle("canMoveTop",!M),F.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(R)>0)):(F.classList.toggle("canMoveTop",!1),F.classList.toggle("canMoveBottom",!1)))}));const A=this._editor;this._register((0,f.addDisposableListener)(this._nodes.top,"mousedown",R=>{if(R.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),R.preventDefault();const M=R.clientY;let P=!1;const F=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const O=(0,f.getWindow)(this._nodes.top),B=(0,f.addDisposableListener)(O,"mousemove",K=>{const G=K.clientY-M;P=P||Math.abs(G)>2;const z=Math.round(G/A.getOption(67)),$=Math.max(0,Math.min(F+z,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set($,void 0)}),V=(0,f.addDisposableListener)(O,"mouseup",K=>{P||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),B.dispose(),V.dispose()})})),this._register((0,f.addDisposableListener)(this._nodes.bottom,"mousedown",R=>{if(R.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),R.preventDefault();const M=R.clientY;let P=!1;const F=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const O=(0,f.getWindow)(this._nodes.bottom),B=(0,f.addDisposableListener)(O,"mousemove",K=>{const G=K.clientY-M;P=P||Math.abs(G)>2;const z=Math.round(G/A.getOption(67)),$=Math.max(0,Math.min(F-z,this._unchangedRegion.getMaxVisibleLineCountBottom())),J=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set($,void 0);const ee=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(ee-J))}),V=(0,f.addDisposableListener)(O,"mouseup",K=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!P){const U=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const G=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(G-U))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),B.dispose(),V.dispose()})})),this._register((0,m.autorun)(R=>{const M=[];if(!this._hide){const P=h.getHiddenModifiedRange(R).length,F=(0,c.localize)(4,null,P),O=(0,f.$)("span",{title:(0,c.localize)(5,null)},F);O.addEventListener("dblclick",K=>{K.button===0&&(K.preventDefault(),this._unchangedRegion.showAll(void 0))}),M.push(O);const B=this._unchangedRegion.getHiddenModifiedRange(R),V=this._modifiedOutlineSource.getBreadcrumbItems(B,R);if(V.length>0){M.push((0,f.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let K=0;K<V.length;K++){const U=V[K],G=s.SymbolKinds.toIcon(U.kind),z=(0,f.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,k.renderIcon)(G),"\xA0",U.name,...K===V.length-1?[]:[(0,k.renderIcon)(L.Codicon.chevronRight)]]).root;M.push(z),z.onclick=()=>{this._revealModifiedHiddenLine(U.startLineNumber)}}}}(0,f.reset)(this._nodes.others,...M)}))}}}),define(ne[43],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,f.createDecorator)("languageService")}),define(ne[113],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,f.createDecorator)("editorWorkerService")}),define(ne[18],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,f.createDecorator)("ILanguageFeaturesService")}),define(ne[818],se([1,0,648,18,49]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.newSymbolNamesProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.multiDocumentHighlightProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlineEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentDropEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this))}_score(m){var w;return(w=this._notebookTypeResolver)===null||w===void 0?void 0:w.call(this,m)}}e.LanguageFeaturesService=D,(0,L.registerSingleton)(k.ILanguageFeaturesService,D,1)}),define(ne[260],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,f.createDecorator)("markerDecorationsService")}),define(ne[53],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,f.createDecorator)("modelService")}),define(ne[75],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,f.createDecorator)("textModelService")}),define(ne[261],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,f.createDecorator)("semanticTokensStylingService")}),define(ne[206],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,f.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,f.createDecorator)("textResourcePropertiesService")}),define(ne[819],se([1,0,49,8,319]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,f.registerSingleton)(e.ITreeViewsDnDService,L.TreeViewsDnDService,1)}),define(ne[262],se([1,0,148,132]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCombinedWorkspaceEdit=L,e.sortEditsByYieldTo=D;function L(y,m,w){var b,C,o,n;return(typeof w.insertText=="string"?w.insertText==="":w.insertText.snippet==="")?{edits:(C=(b=w.additionalEdit)===null||b===void 0?void 0:b.edits)!==null&&C!==void 0?C:[]}:{edits:[...m.map(i=>new f.ResourceTextEdit(y,{range:i,text:typeof w.insertText=="string"?k.SnippetParser.escape(w.insertText)+"$0":w.insertText.snippet,insertAsSnippet:!0})),...(n=(o=w.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&n!==void 0?n:[]]}}function D(y){var m;function w(i,t){return"mimeType"in i?i.mimeType===t.handledMimeType:!!t.kind&&i.kind.contains(t.kind)}const b=new Map;for(const i of y)for(const t of(m=i.yieldTo)!==null&&m!==void 0?m:[])for(const s of y)if(s!==i&&w(t,s)){let c=b.get(i);c||(c=[],b.set(i,c)),c.push(s)}if(!b.size)return Array.from(y);const C=new Set,o=[];function n(i){if(!i.length)return[];const t=i[0];if(o.includes(t))return console.warn("Yield to cycle detected",t),i;if(C.has(t))return n(i.slice(1));let s=[];const c=b.get(t);return c&&(o.push(t),s=n(c),o.pop()),C.add(t),[...s,t,...n(i.slice(1))]}return n(Array.from(y))}}),define(ne[371],se([1,0,100,7,2,30,11,72,38,10,5,112,43,42,91,146,133,199,200,498]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ttPolicy=e.AdditionalLinesWidget=e.GhostTextWidget=e.GHOST_TEXT_DESCRIPTION=void 0,e.GHOST_TEXT_DESCRIPTION="ghost-text";let r=class extends L.Disposable{constructor(v,h,p){super(),this.editor=v,this.model=h,this.languageService=p,this.isDisposed=(0,D.observableValue)(this,!1),this.currentTextModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,D.derived)(this,_=>{if(this.isDisposed.read(_))return;const S=this.currentTextModel.read(_);if(S!==this.model.targetTextModel.read(_))return;const E=this.model.ghostText.read(_);if(!E)return;const I=E instanceof g.GhostTextReplacement?E.columnRange:void 0,T=[],N=[];function A(O,B){if(N.length>0){const V=N[N.length-1];B&&V.decorations.push(new s.LineDecoration(V.content.length+1,V.content.length+1+O[0].length,B,0)),V.content+=O[0],O=O.slice(1)}for(const V of O)N.push({content:V,decorations:B?[new s.LineDecoration(1,V.length+1,B,0)]:[]})}const R=S.getLineContent(E.lineNumber);let M,P=0;for(const O of E.parts){let B=O.lines;M===void 0?(T.push({column:O.column,text:B[0],preview:O.preview}),B=B.slice(1)):A([R.substring(P,O.column-1)],void 0),B.length>0&&(A(B,e.GHOST_TEXT_DESCRIPTION),M===void 0&&O.column<=R.length&&(M=O.column)),P=O.column-1}M!==void 0&&A([R.substring(P)],void 0);const F=M!==void 0?new l.ColumnRange(M,R.length+1):void 0;return{replacedRange:I,inlineTexts:T,additionalLines:N,hiddenRange:F,lineNumber:E.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(_),targetTextModel:S}}),this.decorations=(0,D.derived)(this,_=>{const S=this.uiState.read(_);if(!S)return[];const E=[];S.replacedRange&&E.push({range:S.replacedRange.toRange(S.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),S.hiddenRange&&E.push({range:S.hiddenRange.toRange(S.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const I of S.inlineTexts)E.push({range:C.Range.fromPositions(new b.Position(S.lineNumber,I.column)),options:{description:e.GHOST_TEXT_DESCRIPTION,after:{content:I.text,inlineClassName:I.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return E}),this.additionalLinesWidget=this._register(new d(this.editor,this.languageService.languageIdCodec,(0,D.derived)(_=>{const S=this.uiState.read(_);return S?{lineNumber:S.lineNumber,additionalLines:S.additionalLines,minReservedLineCount:S.additionalReservedLineCount,targetTextModel:S.targetTextModel}:void 0}))),this._register((0,L.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,l.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(v){return this.additionalLinesWidget.viewZoneId===v}};e.GhostTextWidget=r,e.GhostTextWidget=r=ke([ge(2,n.ILanguageService)],r);class d extends L.Disposable{get viewZoneId(){return this._viewZoneId}constructor(v,h,p){super(),this.editor=v,this.languageIdCodec=h,this.lines=p,this._viewZoneId=void 0,this.editorOptionsChanged=(0,D.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,_=>_.hasChanged(33)||_.hasChanged(117)||_.hasChanged(99)||_.hasChanged(94)||_.hasChanged(51)||_.hasChanged(50)||_.hasChanged(67))),this._register((0,D.autorun)(_=>{const S=this.lines.read(_);this.editorOptionsChanged.read(_),S?this.updateLines(S.lineNumber,S.additionalLines,S.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(v=>{this._viewZoneId&&(v.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(v,h,p){const _=this.editor.getModel();if(!_)return;const{tabSize:S}=_.getOptions();this.editor.changeViewZones(E=>{this._viewZoneId&&(E.removeZone(this._viewZoneId),this._viewZoneId=void 0);const I=Math.max(h.length,p);if(I>0){const T=document.createElement("div");u(T,S,h,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=E.addZone({afterLineNumber:v,heightInLines:I,domNode:T,afterColumnAffinity:1})}})}}e.AdditionalLinesWidget=d;function u(a,v,h,p,_){const S=p.get(33),E=p.get(117),I="none",T=p.get(94),N=p.get(51),A=p.get(50),R=p.get(67),M=new o.StringBuilder(1e4);M.appendString('<div class="suggest-preview-text">');for(let O=0,B=h.length;O<B;O++){const V=h[O],K=V.content;M.appendString('<div class="view-line'),M.appendString('" style="top:'),M.appendString(String(O*R)),M.appendString('px;width:1000000px;">');const U=y.isBasicASCII(K),G=y.containsRTL(K),z=t.LineTokens.createEmpty(K,_);(0,c.renderViewLine)(new c.RenderLineInput(A.isMonospace&&!S,A.canUseHalfwidthRightwardsArrow,K,!1,U,G,0,z,V.decorations,v,0,A.spaceWidth,A.middotWidth,A.wsmiddotWidth,E,I,T,N!==w.EditorFontLigatures.OFF,null),M),M.appendString("</div>")}M.appendString("</div>"),(0,m.applyFontInfo)(a,A);const P=M.build(),F=e.ttPolicy?e.ttPolicy.createHTML(P):P;a.innerHTML=F}e.ttPolicy=(0,f.createTrustedTypesPolicy)("editorGhostText",{createHTML:a=>a})}),define(ne[820],se([1,0,2,30,10,5,43,42,146,371,200,500]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=e.INLINE_EDIT_DESCRIPTION=void 0,e.INLINE_EDIT_DESCRIPTION="inline-edit";let o=class extends f.Disposable{constructor(i,t,s){super(),this.editor=i,this.model=t,this.languageService=s,this.isDisposed=(0,k.observableValue)(this,!1),this.currentTextModel=(0,k.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,k.derived)(this,c=>{var g;if(this.isDisposed.read(c))return;const l=this.currentTextModel.read(c);if(l!==this.model.targetTextModel.read(c))return;const r=this.model.ghostText.read(c);if(!r)return;let d=(g=this.model.range)===null||g===void 0?void 0:g.read(c);d&&d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn&&(d=void 0);const u=(d?d.startLineNumber===d.endLineNumber:!0)&&r.parts.length===1&&r.parts[0].lines.length===1,a=r.parts.length===1&&r.parts[0].lines.every(N=>N.length===0),v=[],h=[];function p(N,A){if(h.length>0){const R=h[h.length-1];A&&R.decorations.push(new w.LineDecoration(R.content.length+1,R.content.length+1+N[0].length,A,0)),R.content+=N[0],N=N.slice(1)}for(const R of N)h.push({content:R,decorations:A?[new w.LineDecoration(1,R.length+1,A,0)]:[]})}const _=l.getLineContent(r.lineNumber);let S,E=0;if(!a){for(const N of r.parts){let A=N.lines;d&&!u&&(p(A,e.INLINE_EDIT_DESCRIPTION),A=[]),S===void 0?(v.push({column:N.column,text:A[0],preview:N.preview}),A=A.slice(1)):p([_.substring(E,N.column-1)],void 0),A.length>0&&(p(A,e.INLINE_EDIT_DESCRIPTION),S===void 0&&N.column<=_.length&&(S=N.column)),E=N.column-1}S!==void 0&&p([_.substring(E)],void 0)}const I=S!==void 0?new C.ColumnRange(S,_.length+1):void 0,T=u||!d?r.lineNumber:d.endLineNumber-1;return{inlineTexts:v,additionalLines:h,hiddenRange:I,lineNumber:T,additionalReservedLineCount:this.model.minReservedLineCount.read(c),targetTextModel:l,range:d,isSingleLine:u,isPureRemove:a,backgroundColoring:this.model.backgroundColoring.read(c)}}),this.decorations=(0,k.derived)(this,c=>{const g=this.uiState.read(c);if(!g)return[];const l=[];if(g.hiddenRange&&l.push({range:g.hiddenRange.toRange(g.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),g.range){const r=[];if(g.isSingleLine)r.push(g.range);else if(g.isPureRemove){const u=g.range.endLineNumber-g.range.startLineNumber;for(let a=0;a<u;a++){const v=g.range.startLineNumber+a,h=g.targetTextModel.getLineFirstNonWhitespaceColumn(v),p=g.targetTextModel.getLineLastNonWhitespaceColumn(v),_=new D.Range(v,h,v,p);r.push(_)}}else{const u=g.range.endLineNumber-g.range.startLineNumber;for(let a=0;a<u;a++){const v=g.range.startLineNumber+a,h=g.targetTextModel.getLineFirstNonWhitespaceColumn(v),p=g.targetTextModel.getLineLastNonWhitespaceColumn(v),_=new D.Range(v,h,v,p);r.push(_)}}const d=g.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const u of r)l.push({range:u,options:{inlineClassName:d,description:"inline-edit-remove"}})}for(const r of g.inlineTexts)l.push({range:D.Range.fromPositions(new L.Position(g.lineNumber,r.column)),options:{description:e.INLINE_EDIT_DESCRIPTION,after:{content:r.text,inlineClassName:r.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:m.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return l}),this.additionalLinesWidget=this._register(new b.AdditionalLinesWidget(this.editor,this.languageService.languageIdCodec,(0,k.derived)(c=>{const g=this.uiState.read(c);return g&&!g.isPureRemove?{lineNumber:g.lineNumber,additionalLines:g.additionalLines,minReservedLineCount:g.additionalReservedLineCount,targetTextModel:g.targetTextModel}:void 0}))),this._register((0,f.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,C.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(i){return this.additionalLinesWidget.viewZoneId===i}};e.GhostTextWidget=o,e.GhostTextWidget=o=ke([ge(2,y.ILanguageService)],o)}),define(ne[149],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,f.createDecorator)("themeService")}),define(ne[134],se([1,0,776,8]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilitySignal=e.SoundSource=e.Sound=e.AcknowledgeDocCommentsToken=e.IAccessibilitySignalService=void 0,e.IAccessibilitySignalService=(0,k.createDecorator)("accessibilitySignalService"),e.AcknowledgeDocCommentsToken=Symbol("AcknowledgeDocCommentsToken");class L{static register(w){return new L(w.fileName)}constructor(w){this.fileName=w}}e.Sound=L,L.error=L.register({fileName:"error.mp3"}),L.warning=L.register({fileName:"warning.mp3"}),L.success=L.register({fileName:"success.mp3"}),L.foldedArea=L.register({fileName:"foldedAreas.mp3"}),L.break=L.register({fileName:"break.mp3"}),L.quickFixes=L.register({fileName:"quickFixes.mp3"}),L.taskCompleted=L.register({fileName:"taskCompleted.mp3"}),L.taskFailed=L.register({fileName:"taskFailed.mp3"}),L.terminalBell=L.register({fileName:"terminalBell.mp3"}),L.diffLineInserted=L.register({fileName:"diffLineInserted.mp3"}),L.diffLineDeleted=L.register({fileName:"diffLineDeleted.mp3"}),L.diffLineModified=L.register({fileName:"diffLineModified.mp3"}),L.chatRequestSent=L.register({fileName:"chatRequestSent.mp3"}),L.chatResponseReceived1=L.register({fileName:"chatResponseReceived1.mp3"}),L.chatResponseReceived2=L.register({fileName:"chatResponseReceived2.mp3"}),L.chatResponseReceived3=L.register({fileName:"chatResponseReceived3.mp3"}),L.chatResponseReceived4=L.register({fileName:"chatResponseReceived4.mp3"}),L.clear=L.register({fileName:"clear.mp3"}),L.save=L.register({fileName:"save.mp3"}),L.format=L.register({fileName:"format.mp3"}),L.voiceRecordingStarted=L.register({fileName:"voiceRecordingStarted.mp3"}),L.voiceRecordingStopped=L.register({fileName:"voiceRecordingStopped.mp3"}),L.progress=L.register({fileName:"progress.mp3"});class D{constructor(w){this.randomOneOf=w}}e.SoundSource=D;class y{constructor(w,b,C,o,n,i,t){this.sound=w,this.name=b,this.legacySoundSettingsKey=C,this.settingsKey=o,this.legacyAnnouncementSettingsKey=n,this.announcementMessage=i,this.delaySettingsKey=t}static register(w){const b=new D("randomOneOf"in w.sound?w.sound.randomOneOf:[w.sound]),C=new y(b,w.name,w.legacySoundSettingsKey,w.settingsKey,w.legacyAnnouncementSettingsKey,w.announcementMessage,w.delaySettingsKey);return y._signals.add(C),C}}e.AccessibilitySignal=y,y._signals=new Set,y.errorAtPosition=y.register({name:(0,f.localize)(0,null),sound:L.error,announcementMessage:(0,f.localize)(1,null),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"}),y.warningAtPosition=y.register({name:(0,f.localize)(2,null),sound:L.warning,announcementMessage:(0,f.localize)(3,null),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"}),y.errorOnLine=y.register({name:(0,f.localize)(4,null),sound:L.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,f.localize)(5,null),settingsKey:"accessibility.signals.lineHasError"}),y.warningOnLine=y.register({name:(0,f.localize)(6,null),sound:L.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,f.localize)(7,null),settingsKey:"accessibility.signals.lineHasWarning"}),y.foldedArea=y.register({name:(0,f.localize)(8,null),sound:L.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,f.localize)(9,null),settingsKey:"accessibility.signals.lineHasFoldedArea"}),y.break=y.register({name:(0,f.localize)(10,null),sound:L.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,f.localize)(11,null),settingsKey:"accessibility.signals.lineHasBreakpoint"}),y.inlineSuggestion=y.register({name:(0,f.localize)(12,null),sound:L.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),y.terminalQuickFix=y.register({name:(0,f.localize)(13,null),sound:L.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,f.localize)(14,null),settingsKey:"accessibility.signals.terminalQuickFix"}),y.onDebugBreak=y.register({name:(0,f.localize)(15,null),sound:L.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,f.localize)(16,null),settingsKey:"accessibility.signals.onDebugBreak"}),y.noInlayHints=y.register({name:(0,f.localize)(17,null),sound:L.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,f.localize)(18,null),settingsKey:"accessibility.signals.noInlayHints"}),y.taskCompleted=y.register({name:(0,f.localize)(19,null),sound:L.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,f.localize)(20,null),settingsKey:"accessibility.signals.taskCompleted"}),y.taskFailed=y.register({name:(0,f.localize)(21,null),sound:L.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,f.localize)(22,null),settingsKey:"accessibility.signals.taskFailed"}),y.terminalCommandFailed=y.register({name:(0,f.localize)(23,null),sound:L.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,f.localize)(24,null),settingsKey:"accessibility.signals.terminalCommandFailed"}),y.terminalCommandSucceeded=y.register({name:(0,f.localize)(25,null),sound:L.success,announcementMessage:(0,f.localize)(26,null),settingsKey:"accessibility.signals.terminalCommandSucceeded"}),y.terminalBell=y.register({name:(0,f.localize)(27,null),sound:L.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,f.localize)(28,null),settingsKey:"accessibility.signals.terminalBell"}),y.notebookCellCompleted=y.register({name:(0,f.localize)(29,null),sound:L.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,f.localize)(30,null),settingsKey:"accessibility.signals.notebookCellCompleted"}),y.notebookCellFailed=y.register({name:(0,f.localize)(31,null),sound:L.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,f.localize)(32,null),settingsKey:"accessibility.signals.notebookCellFailed"}),y.diffLineInserted=y.register({name:(0,f.localize)(33,null),sound:L.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),y.diffLineDeleted=y.register({name:(0,f.localize)(34,null),sound:L.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),y.diffLineModified=y.register({name:(0,f.localize)(35,null),sound:L.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),y.chatRequestSent=y.register({name:(0,f.localize)(36,null),sound:L.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,f.localize)(37,null),settingsKey:"accessibility.signals.chatRequestSent"}),y.chatResponseReceived=y.register({name:(0,f.localize)(38,null),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[L.chatResponseReceived1,L.chatResponseReceived2,L.chatResponseReceived3,L.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),y.progress=y.register({name:(0,f.localize)(39,null),sound:L.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:(0,f.localize)(40,null),settingsKey:"accessibility.signals.progress"}),y.clear=y.register({name:(0,f.localize)(41,null),sound:L.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,f.localize)(42,null),settingsKey:"accessibility.signals.clear"}),y.save=y.register({name:(0,f.localize)(43,null),sound:L.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,f.localize)(44,null),settingsKey:"accessibility.signals.save"}),y.format=y.register({name:(0,f.localize)(45,null),sound:L.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,f.localize)(46,null),settingsKey:"accessibility.signals.format"}),y.voiceRecordingStarted=y.register({name:(0,f.localize)(47,null),sound:L.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),y.voiceRecordingStopped=y.register({name:(0,f.localize)(48,null),sound:L.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})}),define(ne[114],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,f.createDecorator)("clipboardService")}),define(ne[25],se([1,0,7,54,2,71,20,8]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,m.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new f.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,b){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!b)throw new Error("invalid command");return this.registerCommand({id:w,handler:b})}if(w.metadata&&Array.isArray(w.metadata.args)){const t=[];for(const c of w.metadata.args)t.push(c.constraint);const s=w.handler;w.handler=function(c,...g){return(0,y.validateConstraints)(g,t),s(c,...g)}}const{id:C}=w;let o=this._commands.get(C);o||(o=new D.LinkedList,this._commands.set(C,o));const n=o.unshift(w),i=(0,L.toDisposable)(()=>{n();const t=this._commands.get(C);t?.isEmpty()&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),i}registerCommandAlias(w,b){return e.CommandsRegistry.registerCommand(w,(C,...o)=>C.get(e.ICommandService).executeCommand(b,...o))}getCommand(w){const b=this._commands.get(w);if(!(!b||b.isEmpty()))return k.Iterable.first(b)}getCommands(){const w=new Map;for(const b of this._commands.keys()){const C=this.getCommand(b);C&&w.set(b,C)}return w}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ne[372],se([1,0,19,9,2,20,22,53,25,18]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensModel=void 0,e.getCodeLensModel=o;class C{constructor(){this.lenses=[],this._disposables=new L.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(i,t){this._disposables.add(i);for(const s of i.lenses)this.lenses.push({symbol:s,provider:t})}}e.CodeLensModel=C;async function o(n,i,t){const s=n.ordered(i),c=new Map,g=new C,l=s.map(async(r,d)=>{c.set(r,d);try{const u=await Promise.resolve(r.provideCodeLenses(i,t));u&&g.add(u,r)}catch(u){(0,k.onUnexpectedExternalError)(u)}});return await Promise.all(l),g.lenses=g.lenses.sort((r,d)=>r.symbol.range.startLineNumber<d.symbol.range.startLineNumber?-1:r.symbol.range.startLineNumber>d.symbol.range.startLineNumber?1:c.get(r.provider)<c.get(d.provider)?-1:c.get(r.provider)>c.get(d.provider)?1:r.symbol.range.startColumn<d.symbol.range.startColumn?-1:r.symbol.range.startColumn>d.symbol.range.startColumn?1:0),g}w.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(n,...i){let[t,s]=i;(0,D.assertType)(y.URI.isUri(t)),(0,D.assertType)(typeof s=="number"||!s);const{codeLensProvider:c}=n.get(b.ILanguageFeaturesService),g=n.get(m.IModelService).getModel(t);if(!g)throw(0,k.illegalArgument)();const l=[],r=new L.DisposableStore;return o(c,g,f.CancellationToken.None).then(d=>{r.add(d);const u=[];for(const a of d.lenses)s==null||a.symbol.command?l.push(a.symbol):s-- >0&&a.provider.resolveCodeLens&&u.push(Promise.resolve(a.provider.resolveCodeLens(g,a.symbol,f.CancellationToken.None)).then(v=>l.push(v||a.symbol)));return Promise.all(u)}).then(()=>l).finally(()=>{setTimeout(()=>r.dispose(),100)})})}),define(ne[821],se([1,0,13,19,9,2,20,22,5,53,25,18]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinksList=e.Link=void 0,e.getLinks=t;class n{constructor(c,g){this._link=c,this._provider=g}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(c){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,c)).then(g=>(this._link=g||this._link,this._link.url?this.resolve(c):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}}e.Link=n;class i{constructor(c){this._disposables=new D.DisposableStore;let g=[];for(const[l,r]of c){const d=l.links.map(u=>new n(u,r));g=i._union(g,d),(0,D.isDisposable)(l)&&this._disposables.add(l)}this.links=g}dispose(){this._disposables.dispose(),this.links.length=0}static _union(c,g){const l=[];let r,d,u,a;for(r=0,u=0,d=c.length,a=g.length;r<d&&u<a;){const v=c[r],h=g[u];if(w.Range.areIntersectingOrTouching(v.range,h.range)){r++;continue}w.Range.compareRangesUsingStarts(v.range,h.range)<0?(l.push(v),r++):(l.push(h),u++)}for(;r<d;r++)l.push(c[r]);for(;u<a;u++)l.push(g[u]);return l}}e.LinksList=i;function t(s,c,g){const l=[],r=s.ordered(c).reverse().map((d,u)=>Promise.resolve(d.provideLinks(c,g)).then(a=>{a&&(l[u]=[a,d])},L.onUnexpectedExternalError));return Promise.all(r).then(()=>{const d=new i((0,f.coalesce)(l));return g.isCancellationRequested?(d.dispose(),new i([])):d})}C.CommandsRegistry.registerCommand("_executeLinkProvider",async(s,...c)=>{let[g,l]=c;(0,y.assertType)(g instanceof m.URI),typeof l!="number"&&(l=0);const{linkProvider:r}=s.get(o.ILanguageFeaturesService),d=s.get(b.IModelService).getModel(g);if(!d)return[];const u=await t(r,d,k.CancellationToken.None);if(!u)return[];for(let v=0;v<Math.min(l,u.links.length);v++)await u.links[v].resolve(k.CancellationToken.None);const a=u.links.slice(0);return u.dispose(),a})}),define(ne[373],se([1,0,19,9,22,53,25,20,653,5,18]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensResult=void 0,e.isSemanticTokens=o,e.isSemanticTokensEdits=n,e.hasDocumentSemanticTokensProvider=t,e.getDocumentSemanticTokens=c,e.hasDocumentRangeSemanticTokensProvider=r,e.getDocumentRangeSemanticTokens=u;function o(a){return a&&!!a.data}function n(a){return a&&Array.isArray(a.edits)}class i{constructor(v,h,p){this.provider=v,this.tokens=h,this.error=p}}e.DocumentSemanticTokensResult=i;function t(a,v){return a.has(v)}function s(a,v){const h=a.orderedGroups(v);return h.length>0?h[0]:[]}async function c(a,v,h,p,_){const S=s(a,v),E=await Promise.all(S.map(async I=>{let T,N=null;try{T=await I.provideDocumentSemanticTokens(v,I===h?p:null,_)}catch(A){N=A,T=null}return(!T||!o(T)&&!n(T))&&(T=null),new i(I,T,N)}));for(const I of E){if(I.error)throw I.error;if(I.tokens)return I}return E.length>0?E[0]:null}function g(a,v){const h=a.orderedGroups(v);return h.length>0?h[0]:null}class l{constructor(v,h){this.provider=v,this.tokens=h}}function r(a,v){return a.has(v)}function d(a,v){const h=a.orderedGroups(v);return h.length>0?h[0]:[]}async function u(a,v,h,p){const _=d(a,v),S=await Promise.all(_.map(async E=>{let I;try{I=await E.provideDocumentRangeSemanticTokens(v,h,p)}catch(T){(0,k.onUnexpectedExternalError)(T),I=null}return(!I||!o(I))&&(I=null),new l(E,I)}));for(const E of S)if(E.tokens)return E;return S.length>0?S[0]:null}y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",async(a,...v)=>{const[h]=v;(0,m.assertType)(h instanceof L.URI);const p=a.get(D.IModelService).getModel(h);if(!p)return;const{documentSemanticTokensProvider:_}=a.get(C.ILanguageFeaturesService),S=g(_,p);return S?S[0].getLegend():a.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",h)}),y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",async(a,...v)=>{const[h]=v;(0,m.assertType)(h instanceof L.URI);const p=a.get(D.IModelService).getModel(h);if(!p)return;const{documentSemanticTokensProvider:_}=a.get(C.ILanguageFeaturesService);if(!t(_,p))return a.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",h,p.getFullModelRange());const S=await c(_,p,null,null,f.CancellationToken.None);if(!S)return;const{provider:E,tokens:I}=S;if(!I||!o(I))return;const T=(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&E.releaseDocumentSemanticTokens(I.resultId),T}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(a,...v)=>{const[h,p]=v;(0,m.assertType)(h instanceof L.URI);const _=a.get(D.IModelService).getModel(h);if(!_)return;const{documentRangeSemanticTokensProvider:S}=a.get(C.ILanguageFeaturesService),E=d(S,_);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!p||!b.Range.isIRange(p))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const I=await u(S,_,b.Range.lift(p),f.CancellationToken.None);if(I)return I.provider.getLegend()}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",async(a,...v)=>{const[h,p]=v;(0,m.assertType)(h instanceof L.URI),(0,m.assertType)(b.Range.isIRange(p));const _=a.get(D.IModelService).getModel(h);if(!_)return;const{documentRangeSemanticTokensProvider:S}=a.get(C.ILanguageFeaturesService),E=await u(S,_,b.Range.lift(p),f.CancellationToken.None);if(!(!E||!E.tokens))return(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})})}),define(ne[28],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IConfigurationService=void 0,e.toValuesTree=k,e.addToValueTree=L,e.removeFromValueTree=D,e.getConfigurationValue=m,e.getLanguageTagSettingPlainKey=w,e.IConfigurationService=(0,f.createDecorator)("configurationService");function k(b,C){const o=Object.create(null);for(const n in b)L(o,n,b[n],C);return o}function L(b,C,o,n){const i=C.split("."),t=i.pop();let s=b;for(let c=0;c<i.length;c++){const g=i[c];let l=s[g];switch(typeof l){case"undefined":l=s[g]=Object.create(null);break;case"object":if(l===null){n(`Ignoring ${C} as ${i.slice(0,c+1).join(".")} is null`);return}break;default:n(`Ignoring ${C} as ${i.slice(0,c+1).join(".")} is ${JSON.stringify(l)}`);return}s=l}if(typeof s=="object"&&s!==null)try{s[t]=o}catch{n(`Ignoring ${C} as ${i.join(".")} is ${JSON.stringify(s)}`)}else n(`Ignoring ${C} as ${i.join(".")} is ${JSON.stringify(s)}`)}function D(b,C){const o=C.split(".");y(b,o)}function y(b,C){const o=C.shift();if(C.length===0){delete b[o];return}if(Object.keys(b).indexOf(o)!==-1){const n=b[o];typeof n=="object"&&!Array.isArray(n)&&(y(n,C),Object.keys(n).length===0&&delete b[o])}}function m(b,C,o){function n(s,c){let g=s;for(const l of c){if(typeof g!="object"||g===null)return;g=g[l]}return g}const i=C.split("."),t=n(b,i);return typeof t>"u"?o:t}function w(b){return b.replace(/[\[\]]/g,"")}}),define(ne[374],se([1,0,2,27,172,336,28]),function(X,e,f,k,L,D,y){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const w=5;class b{static create(r,d){return this._INSTANCE.create(r,d)}constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}create(r,d){if(r!==null&&r.depth>=this._maxCacheDepth)return new C(r,d);let u=C.getStackElementId(r);u.length>0&&(u+="|"),u+=d;let a=this._entries[u];return a||(a=new C(r,d),this._entries[u]=a,a)}}b._INSTANCE=new b(w);class C{constructor(r,d){this.parent=r,this.state=d,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(r){let d="";for(;r!==null;)d.length>0&&(d+="|"),d+=r.state,r=r.parent;return d}static _equals(r,d){for(;r!==null&&d!==null;){if(r===d)return!0;if(r.state!==d.state)return!1;r=r.parent,d=d.parent}return r===null&&d===null}equals(r){return C._equals(this,r)}push(r){return b.create(this,r)}pop(){return this.parent}popall(){let r=this;for(;r.parent;)r=r.parent;return r}switchTo(r){return b.create(this.parent,r)}}class o{constructor(r,d){this.languageId=r,this.state=d}equals(r){return this.languageId===r.languageId&&this.state.equals(r.state)}clone(){return this.state.clone()===this.state?this:new o(this.languageId,this.state)}}class n{static create(r,d){return this._INSTANCE.create(r,d)}constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}create(r,d){if(d!==null)return new i(r,d);if(r!==null&&r.depth>=this._maxCacheDepth)return new i(r,d);const u=C.getStackElementId(r);let a=this._entries[u];return a||(a=new i(r,null),this._entries[u]=a,a)}}n._INSTANCE=new n(w);class i{constructor(r,d){this.stack=r,this.embeddedLanguageData=d}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:n.create(this.stack,this.embeddedLanguageData)}equals(r){return!(r instanceof i)||!this.stack.equals(r.stack)?!1:this.embeddedLanguageData===null&&r.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||r.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(r.embeddedLanguageData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(r){this._languageId=r}emit(r,d){this._lastTokenType===d&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=d,this._lastTokenLanguage=this._languageId,this._tokens.push(new k.Token(r,d,this._languageId)))}nestedLanguageTokenize(r,d,u,a){const v=u.languageId,h=u.state,p=k.TokenizationRegistry.get(v);if(!p)return this.enterLanguage(v),this.emit(a,""),h;const _=p.tokenize(r,d,h);if(a!==0)for(const S of _.tokens)this._tokens.push(new k.Token(S.offset+a,S.type,S.language));else this._tokens=this._tokens.concat(_.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,_.endState}finalize(r){return new k.TokenizationResult(this._tokens,r)}}class s{constructor(r,d){this._languageService=r,this._theme=d,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(r){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(r)}emit(r,d){const u=this._theme.match(this._currentLanguageId,d)|1024;this._lastTokenMetadata!==u&&(this._lastTokenMetadata=u,this._tokens.push(r),this._tokens.push(u))}static _merge(r,d,u){const a=r!==null?r.length:0,v=d.length,h=u!==null?u.length:0;if(a===0&&v===0&&h===0)return new Uint32Array(0);if(a===0&&v===0)return u;if(v===0&&h===0)return r;const p=new Uint32Array(a+v+h);r!==null&&p.set(r);for(let _=0;_<v;_++)p[a+_]=d[_];return u!==null&&p.set(u,a+v),p}nestedLanguageTokenize(r,d,u,a){const v=u.languageId,h=u.state,p=k.TokenizationRegistry.get(v);if(!p)return this.enterLanguage(v),this.emit(a,""),h;const _=p.tokenizeEncoded(r,d,h);if(a!==0)for(let S=0,E=_.tokens.length;S<E;S+=2)_.tokens[S]+=a;return this._prependTokens=s._merge(this._prependTokens,this._tokens,_.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,_.endState}finalize(r){return new k.EncodedTokenizationResult(s._merge(this._prependTokens,this._tokens,null),r)}}let c=m=class extends f.Disposable{constructor(r,d,u,a,v){super(),this._configurationService=v,this._languageService=r,this._standaloneThemeService=d,this._languageId=u,this._lexer=a,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let h=!1;this._register(k.TokenizationRegistry.onDidChange(p=>{if(h)return;let _=!1;for(let S=0,E=p.changedLanguages.length;S<E;S++){const I=p.changedLanguages[S];if(this._embeddedLanguages[I]){_=!0;break}}_&&(h=!0,k.TokenizationRegistry.handleChange([this._languageId]),h=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(p=>{p.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const r=[];for(const d in this._embeddedLanguages){const u=k.TokenizationRegistry.get(d);if(u){if(u instanceof m){const a=u.getLoadStatus();a.loaded===!1&&r.push(a.promise)}continue}k.TokenizationRegistry.isResolved(d)||r.push(k.TokenizationRegistry.getOrCreate(d))}return r.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(r).then(d=>{})}}getInitialState(){const r=b.create(null,this._lexer.start);return n.create(r,null)}tokenize(r,d,u){if(r.length>=this._maxTokenizationLineLength)return(0,L.nullTokenize)(this._languageId,u);const a=new t,v=this._tokenize(r,d,u,a);return a.finalize(v)}tokenizeEncoded(r,d,u){if(r.length>=this._maxTokenizationLineLength)return(0,L.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),u);const a=new s(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),v=this._tokenize(r,d,u,a);return a.finalize(v)}_tokenize(r,d,u,a){return u.embeddedLanguageData?this._nestedTokenize(r,d,u,0,a):this._myTokenize(r,d,u,0,a)}_findLeavingNestedLanguageOffset(r,d){let u=this._lexer.tokenizer[d.stack.state];if(!u&&(u=D.findRules(this._lexer,d.stack.state),!u))throw D.createError(this._lexer,"tokenizer state is not defined: "+d.stack.state);let a=-1,v=!1;for(const h of u){if(!D.isIAction(h.action)||h.action.nextEmbedded!=="@pop")continue;v=!0;let p=h.resolveRegex(d.stack.state);const _=p.source;if(_.substr(0,4)==="^(?:"&&_.substr(_.length-1,1)===")"){const E=(p.ignoreCase?"i":"")+(p.unicode?"u":"");p=new RegExp(_.substr(4,_.length-5),E)}const S=r.search(p);S===-1||S!==0&&h.matchOnlyAtLineStart||(a===-1||S<a)&&(a=S)}if(!v)throw D.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+d.stack.state);return a}_nestedTokenize(r,d,u,a,v){const h=this._findLeavingNestedLanguageOffset(r,u);if(h===-1){const S=v.nestedLanguageTokenize(r,d,u.embeddedLanguageData,a);return n.create(u.stack,new o(u.embeddedLanguageData.languageId,S))}const p=r.substring(0,h);p.length>0&&v.nestedLanguageTokenize(p,!1,u.embeddedLanguageData,a);const _=r.substring(h);return this._myTokenize(_,d,u,a+h,v)}_safeRuleName(r){return r?r.name:"(unknown)"}_myTokenize(r,d,u,a,v){v.enterLanguage(this._languageId);const h=r.length,p=d&&this._lexer.includeLF?r+`
`:r,_=p.length;let S=u.embeddedLanguageData,E=u.stack,I=0,T=null,N=!0;for(;N||I<_;){const A=I,R=E.depth,M=T?T.groups.length:0,P=E.state;let F=null,O=null,B=null,V=null,K=null;if(T){F=T.matches;const z=T.groups.shift();O=z.matched,B=z.action,V=T.rule,T.groups.length===0&&(T=null)}else{if(!N&&I>=_)break;N=!1;let z=this._lexer.tokenizer[P];if(!z&&(z=D.findRules(this._lexer,P),!z))throw D.createError(this._lexer,"tokenizer state is not defined: "+P);const $=p.substr(I);for(const J of z)if((I===0||!J.matchOnlyAtLineStart)&&(F=$.match(J.resolveRegex(P)),F)){O=F[0],B=J.action;break}}if(F||(F=[""],O=""),B||(I<_&&(F=[p.charAt(I)],O=F[0]),B=this._lexer.defaultToken),O===null)break;for(I+=O.length;D.isFuzzyAction(B)&&D.isIAction(B)&&B.test;)B=B.test(O,F,P,I===_);let U=null;if(typeof B=="string"||Array.isArray(B))U=B;else if(B.group)U=B.group;else if(B.token!==null&&B.token!==void 0){if(B.tokenSubst?U=D.substituteMatches(this._lexer,B.token,O,F,P):U=B.token,B.nextEmbedded)if(B.nextEmbedded==="@pop"){if(!S)throw D.createError(this._lexer,"cannot pop embedded language if not inside one");S=null}else{if(S)throw D.createError(this._lexer,"cannot enter embedded language from within an embedded language");K=D.substituteMatches(this._lexer,B.nextEmbedded,O,F,P)}if(B.goBack&&(I=Math.max(0,I-B.goBack)),B.switchTo&&typeof B.switchTo=="string"){let z=D.substituteMatches(this._lexer,B.switchTo,O,F,P);if(z[0]==="@"&&(z=z.substr(1)),D.findRules(this._lexer,z))E=E.switchTo(z);else throw D.createError(this._lexer,"trying to switch to a state '"+z+"' that is undefined in rule: "+this._safeRuleName(V))}else{if(B.transform&&typeof B.transform=="function")throw D.createError(this._lexer,"action.transform not supported");if(B.next)if(B.next==="@push"){if(E.depth>=this._lexer.maxStack)throw D.createError(this._lexer,"maximum tokenizer stack size reached: ["+E.state+","+E.parent.state+",...]");E=E.push(P)}else if(B.next==="@pop"){if(E.depth<=1)throw D.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(V));E=E.pop()}else if(B.next==="@popall")E=E.popall();else{let z=D.substituteMatches(this._lexer,B.next,O,F,P);if(z[0]==="@"&&(z=z.substr(1)),D.findRules(this._lexer,z))E=E.push(z);else throw D.createError(this._lexer,"trying to set a next state '"+z+"' that is undefined in rule: "+this._safeRuleName(V))}}B.log&&typeof B.log=="string"&&D.log(this._lexer,this._lexer.languageId+": "+D.substituteMatches(this._lexer,B.log,O,F,P))}if(U===null)throw D.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(V));const G=z=>{const $=this._languageService.getLanguageIdByLanguageName(z)||this._languageService.getLanguageIdByMimeType(z)||z,J=this._getNestedEmbeddedLanguageData($);if(I<_){const ee=r.substr(I);return this._nestedTokenize(ee,d,n.create(E,J),a+I,v)}else return n.create(E,J)};if(Array.isArray(U)){if(T&&T.groups.length>0)throw D.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(V));if(F.length!==U.length+1)throw D.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(V));let z=0;for(let $=1;$<F.length;$++)z+=F[$].length;if(z!==O.length)throw D.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(V));T={rule:V,matches:F,groups:[]};for(let $=0;$<U.length;$++)T.groups[$]={action:U[$],matched:F[$+1]};I-=O.length;continue}else{if(U==="@rematch"&&(I-=O.length,O="",F=null,U="",K!==null))return G(K);if(O.length===0){if(_===0||R!==E.depth||P!==E.state||(T?T.groups.length:0)!==M)continue;throw D.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(V))}let z=null;if(D.isString(U)&&U.indexOf("@brackets")===0){const $=U.substr(9),J=g(this._lexer,O);if(!J)throw D.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);z=D.sanitize(J.token+$)}else{const $=U===""?"":U+this._lexer.tokenPostfix;z=D.sanitize($)}A<h&&v.emit(A+a,z)}if(K!==null)return G(K)}return n.create(E,S)}_getNestedEmbeddedLanguageData(r){if(!this._languageService.isRegisteredLanguageId(r))return new o(r,L.NullState);r!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(r),k.TokenizationRegistry.getOrCreate(r),this._embeddedLanguages[r]=!0);const d=k.TokenizationRegistry.get(r);return d?new o(r,d.getInitialState()):new o(r,L.NullState)}};e.MonarchTokenizer=c,e.MonarchTokenizer=c=m=ke([ge(4,y.IConfigurationService)],c);function g(l,r){if(!r)return null;r=D.fixCase(l,r);const d=l.brackets;for(const u of d){if(u.open===r)return{token:u.token,bracketType:1};if(u.close===r)return{token:u.token,bracketType:-1}}return null}}),define(ne[822],se([1,0,100,11,27,91,133,92,374]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const b=(0,f.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:t=>t});class C{static colorizeElement(s,c,g,l){l=l||{};const r=l.theme||"vs",d=l.mimeType||g.getAttribute("lang")||g.getAttribute("data-lang");if(!d)return console.error("Mode not detected"),Promise.resolve();const u=c.getLanguageIdByMimeType(d)||d;s.setTheme(r);const a=g.firstChild?g.firstChild.nodeValue:"";g.className+=" "+r;const v=h=>{var p;const _=(p=b?.createHTML(h))!==null&&p!==void 0?p:h;g.innerHTML=_};return this.colorize(c,a||"",u,l).then(v,h=>console.error(h))}static async colorize(s,c,g,l){const r=s.languageIdCodec;let d=4;l&&typeof l.tabSize=="number"&&(d=l.tabSize),k.startsWithUTF8BOM(c)&&(c=c.substr(1));const u=k.splitLines(c);if(!s.isRegisteredLanguageId(g))return n(u,d,r);const a=await L.TokenizationRegistry.getOrCreate(g);return a?o(u,d,a,r):n(u,d,r)}static colorizeLine(s,c,g,l,r=4){const d=m.ViewLineRenderingData.isBasicASCII(s,c),u=m.ViewLineRenderingData.containsRTL(s,d,g);return(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,s,!1,d,u,0,l,[],r,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(s,c,g=4){const l=s.getLineContent(c);s.tokenization.forceTokenization(c);const d=s.tokenization.getLineTokens(c).inflate();return this.colorizeLine(l,s.mightContainNonBasicASCII(),s.mightContainRTL(),d,g)}}e.Colorizer=C;function o(t,s,c,g){return new Promise((l,r)=>{const d=()=>{const u=i(t,s,c,g);if(c instanceof w.MonarchTokenizer){const a=c.getLoadStatus();if(a.loaded===!1){a.promise.then(d,r);return}}l(u)};d()})}function n(t,s,c){let g=[];const r=new Uint32Array(2);r[0]=0,r[1]=33587200;for(let d=0,u=t.length;d<u;d++){const a=t[d];r[0]=a.length;const v=new D.LineTokens(r,a,c),h=m.ViewLineRenderingData.isBasicASCII(a,!0),p=m.ViewLineRenderingData.containsRTL(a,h,!0),_=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,a,!1,h,p,0,v,[],s,0,0,0,0,-1,"none",!1,!1,null));g=g.concat(_.html),g.push("<br/>")}return g.join("")}function i(t,s,c,g){let l=[],r=c.getInitialState();for(let d=0,u=t.length;d<u;d++){const a=t[d],v=c.tokenizeEncoded(a,!0,r);D.LineTokens.convertToEndOffset(v.tokens,a.length);const h=new D.LineTokens(v.tokens,a,g),p=m.ViewLineRenderingData.isBasicASCII(a,!0),_=m.ViewLineRenderingData.containsRTL(a,p,!0),S=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,a,!1,p,_,0,h.inflate(),[],s,0,0,0,0,-1,"none",!1,!1,null));l=l.concat(S.html),l.push("<br/>"),r=v.endState}return l.join("")}}),define(ne[14],se([1,0,17,11,813,8,785]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=e.Parser=void 0,e.expressionsAreEqualWithConstantSubstitution=d,e.implies=z;const m=new Map;m.set("false",!1),m.set("true",!0),m.set("isMac",f.isMacintosh),m.set("isLinux",f.isLinux),m.set("isWindows",f.isWindows),m.set("isWeb",f.isWeb),m.set("isMacNative",f.isMacintosh&&!f.isWeb),m.set("isEdge",f.isEdge),m.set("isFirefox",f.isFirefox),m.set("isChrome",f.isChrome),m.set("isSafari",f.isSafari);const w=Object.prototype.hasOwnProperty,b={regexParsingWithErrorRecovery:!0},C=(0,y.localize)(0,null),o=(0,y.localize)(1,null),n=(0,y.localize)(2,null),i=(0,y.localize)(3,null),t=(0,y.localize)(4,null),s=(0,y.localize)(5,null),c=(0,y.localize)(6,null),g=(0,y.localize)(7,null);class l{constructor(Z=b){this._config=Z,this._scanner=new L.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(Z){if(Z===""){this._parsingErrors.push({message:C,offset:0,lexeme:"",additionalInfo:o});return}this._tokens=this._scanner.reset(Z).scan(),this._current=0,this._parsingErrors=[];try{const x=this._expr();if(!this._isAtEnd()){const Y=this._peek(),ae=Y.type===17?s:void 0;throw this._parsingErrors.push({message:t,offset:Y.offset,lexeme:L.Scanner.getLexeme(Y),additionalInfo:ae}),l._parseError}return x}catch(x){if(x!==l._parseError)throw x;return}}_expr(){return this._or()}_or(){const Z=[this._and()];for(;this._matchOne(16);){const x=this._and();Z.push(x)}return Z.length===1?Z[0]:r.or(...Z)}_and(){const Z=[this._term()];for(;this._matchOne(15);){const x=this._term();Z.push(x)}return Z.length===1?Z[0]:r.and(...Z)}_term(){if(this._matchOne(2)){const Z=this._peek();switch(Z.type){case 11:return this._advance(),a.INSTANCE;case 12:return this._advance(),v.INSTANCE;case 0:{this._advance();const x=this._expr();return this._consume(1,i),x?.negate()}case 17:return this._advance(),I.create(Z.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",Z)}}return this._primary()}_primary(){const Z=this._peek();switch(Z.type){case 11:return this._advance(),r.true();case 12:return this._advance(),r.false();case 0:{this._advance();const x=this._expr();return this._consume(1,i),x}case 17:{const x=Z.lexeme;if(this._advance(),this._matchOne(9)){const ae=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),ae.type!==10)throw this._errExpectedButGot("REGEX",ae);const ue=ae.lexeme,he=ue.lastIndexOf("/"),pe=he===ue.length-1?void 0:this._removeFlagsGY(ue.substring(he+1));let ce;try{ce=new RegExp(ue.substring(1,he),pe)}catch{throw this._errExpectedButGot("REGEX",ae)}return P.create(x,ce)}switch(ae.type){case 10:case 19:{const ue=[ae.lexeme];this._advance();let he=this._peek(),pe=0;for(let W=0;W<ae.lexeme.length;W++)ae.lexeme.charCodeAt(W)===40?pe++:ae.lexeme.charCodeAt(W)===41&&pe--;for(;!this._isAtEnd()&&he.type!==15&&he.type!==16;){switch(he.type){case 0:pe++;break;case 1:pe--;break;case 10:case 18:for(let W=0;W<he.lexeme.length;W++)he.lexeme.charCodeAt(W)===40?pe++:ae.lexeme.charCodeAt(W)===41&&pe--}if(pe<0)break;ue.push(L.Scanner.getLexeme(he)),this._advance(),he=this._peek()}const ce=ue.join(""),ie=ce.lastIndexOf("/"),oe=ie===ce.length-1?void 0:this._removeFlagsGY(ce.substring(ie+1));let re;try{re=new RegExp(ce.substring(1,ie),oe)}catch{throw this._errExpectedButGot("REGEX",ae)}return r.regex(x,re)}case 18:{const ue=ae.lexeme;this._advance();let he=null;if(!(0,k.isFalsyOrWhitespace)(ue)){const pe=ue.indexOf("/"),ce=ue.lastIndexOf("/");if(pe!==ce&&pe>=0){const ie=ue.slice(pe+1,ce),oe=ue[ce+1]==="i"?"i":"";try{he=new RegExp(ie,oe)}catch{throw this._errExpectedButGot("REGEX",ae)}}}if(he===null)throw this._errExpectedButGot("REGEX",ae);return P.create(x,he)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,n);const ae=this._value();return r.notIn(x,ae)}switch(this._peek().type){case 3:{this._advance();const ae=this._value();if(this._previous().type===18)return r.equals(x,ae);switch(ae){case"true":return r.has(x);case"false":return r.not(x);default:return r.equals(x,ae)}}case 4:{this._advance();const ae=this._value();if(this._previous().type===18)return r.notEquals(x,ae);switch(ae){case"true":return r.not(x);case"false":return r.has(x);default:return r.notEquals(x,ae)}}case 5:return this._advance(),R.create(x,this._value());case 6:return this._advance(),M.create(x,this._value());case 7:return this._advance(),N.create(x,this._value());case 8:return this._advance(),A.create(x,this._value());case 13:return this._advance(),r.in(x,this._value());default:return r.has(x)}}case 20:throw this._parsingErrors.push({message:c,offset:Z.offset,lexeme:"",additionalInfo:g}),l._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const Z=this._peek();switch(Z.type){case 17:case 18:return this._advance(),Z.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(Z){return Z.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(Z){return this._check(Z)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(Z,x){if(this._check(Z))return this._advance();throw this._errExpectedButGot(x,this._peek())}_errExpectedButGot(Z,x,Y){const ae=(0,y.localize)(8,null,Z,L.Scanner.getLexeme(x)),ue=x.offset,he=L.Scanner.getLexeme(x);return this._parsingErrors.push({message:ae,offset:ue,lexeme:he,additionalInfo:Y}),l._parseError}_check(Z){return this._peek().type===Z}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=l,l._parseError=new Error;class r{static false(){return a.INSTANCE}static true(){return v.INSTANCE}static has(Z){return h.create(Z)}static equals(Z,x){return p.create(Z,x)}static notEquals(Z,x){return E.create(Z,x)}static regex(Z,x){return P.create(Z,x)}static in(Z,x){return _.create(Z,x)}static notIn(Z,x){return S.create(Z,x)}static not(Z){return I.create(Z)}static and(...Z){return B.create(Z,null,!0)}static or(...Z){return V.create(Z,null,!0)}static deserialize(Z){return Z==null?void 0:this._parser.parse(Z)}}e.ContextKeyExpr=r,r._parser=new l({regexParsingWithErrorRecovery:!1});function d(ee,Z){const x=ee?ee.substituteConstants():void 0,Y=Z?Z.substituteConstants():void 0;return!x&&!Y?!0:!x||!Y?!1:x.equals(Y)}function u(ee,Z){return ee.cmp(Z)}class a{constructor(){this.type=0}cmp(Z){return this.type-Z.type}equals(Z){return Z.type===this.type}substituteConstants(){return this}evaluate(Z){return!1}serialize(){return"false"}keys(){return[]}negate(){return v.INSTANCE}}e.ContextKeyFalseExpr=a,a.INSTANCE=new a;class v{constructor(){this.type=1}cmp(Z){return this.type-Z.type}equals(Z){return Z.type===this.type}substituteConstants(){return this}evaluate(Z){return!0}serialize(){return"true"}keys(){return[]}negate(){return a.INSTANCE}}e.ContextKeyTrueExpr=v,v.INSTANCE=new v;class h{static create(Z,x=null){const Y=m.get(Z);return typeof Y=="boolean"?Y?v.INSTANCE:a.INSTANCE:new h(Z,x)}constructor(Z,x){this.key=Z,this.negated=x,this.type=2}cmp(Z){return Z.type!==this.type?this.type-Z.type:U(this.key,Z.key)}equals(Z){return Z.type===this.type?this.key===Z.key:!1}substituteConstants(){const Z=m.get(this.key);return typeof Z=="boolean"?Z?v.INSTANCE:a.INSTANCE:this}evaluate(Z){return!!Z.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=h;class p{static create(Z,x,Y=null){if(typeof x=="boolean")return x?h.create(Z,Y):I.create(Z,Y);const ae=m.get(Z);return typeof ae=="boolean"?x===(ae?"true":"false")?v.INSTANCE:a.INSTANCE:new p(Z,x,Y)}constructor(Z,x,Y){this.key=Z,this.value=x,this.negated=Y,this.type=4}cmp(Z){return Z.type!==this.type?this.type-Z.type:G(this.key,this.value,Z.key,Z.value)}equals(Z){return Z.type===this.type?this.key===Z.key&&this.value===Z.value:!1}substituteConstants(){const Z=m.get(this.key);if(typeof Z=="boolean"){const x=Z?"true":"false";return this.value===x?v.INSTANCE:a.INSTANCE}return this}evaluate(Z){return Z.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=p;class _{static create(Z,x){return new _(Z,x)}constructor(Z,x){this.key=Z,this.valueKey=x,this.type=10,this.negated=null}cmp(Z){return Z.type!==this.type?this.type-Z.type:G(this.key,this.valueKey,Z.key,Z.valueKey)}equals(Z){return Z.type===this.type?this.key===Z.key&&this.valueKey===Z.valueKey:!1}substituteConstants(){return this}evaluate(Z){const x=Z.getValue(this.valueKey),Y=Z.getValue(this.key);return Array.isArray(x)?x.includes(Y):typeof Y=="string"&&typeof x=="object"&&x!==null?w.call(x,Y):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=S.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=_;class S{static create(Z,x){return new S(Z,x)}constructor(Z,x){this.key=Z,this.valueKey=x,this.type=11,this._negated=_.create(Z,x)}cmp(Z){return Z.type!==this.type?this.type-Z.type:this._negated.cmp(Z._negated)}equals(Z){return Z.type===this.type?this._negated.equals(Z._negated):!1}substituteConstants(){return this}evaluate(Z){return!this._negated.evaluate(Z)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=S;class E{static create(Z,x,Y=null){if(typeof x=="boolean")return x?I.create(Z,Y):h.create(Z,Y);const ae=m.get(Z);return typeof ae=="boolean"?x===(ae?"true":"false")?a.INSTANCE:v.INSTANCE:new E(Z,x,Y)}constructor(Z,x,Y){this.key=Z,this.value=x,this.negated=Y,this.type=5}cmp(Z){return Z.type!==this.type?this.type-Z.type:G(this.key,this.value,Z.key,Z.value)}equals(Z){return Z.type===this.type?this.key===Z.key&&this.value===Z.value:!1}substituteConstants(){const Z=m.get(this.key);if(typeof Z=="boolean"){const x=Z?"true":"false";return this.value===x?a.INSTANCE:v.INSTANCE}return this}evaluate(Z){return Z.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=E;class I{static create(Z,x=null){const Y=m.get(Z);return typeof Y=="boolean"?Y?a.INSTANCE:v.INSTANCE:new I(Z,x)}constructor(Z,x){this.key=Z,this.negated=x,this.type=3}cmp(Z){return Z.type!==this.type?this.type-Z.type:U(this.key,Z.key)}equals(Z){return Z.type===this.type?this.key===Z.key:!1}substituteConstants(){const Z=m.get(this.key);return typeof Z=="boolean"?Z?a.INSTANCE:v.INSTANCE:this}evaluate(Z){return!Z.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=I;function T(ee,Z){if(typeof ee=="string"){const x=parseFloat(ee);isNaN(x)||(ee=x)}return typeof ee=="string"||typeof ee=="number"?Z(ee):a.INSTANCE}class N{static create(Z,x,Y=null){return T(x,ae=>new N(Z,ae,Y))}constructor(Z,x,Y){this.key=Z,this.value=x,this.negated=Y,this.type=12}cmp(Z){return Z.type!==this.type?this.type-Z.type:G(this.key,this.value,Z.key,Z.value)}equals(Z){return Z.type===this.type?this.key===Z.key&&this.value===Z.value:!1}substituteConstants(){return this}evaluate(Z){return typeof this.value=="string"?!1:parseFloat(Z.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=N;class A{static create(Z,x,Y=null){return T(x,ae=>new A(Z,ae,Y))}constructor(Z,x,Y){this.key=Z,this.value=x,this.negated=Y,this.type=13}cmp(Z){return Z.type!==this.type?this.type-Z.type:G(this.key,this.value,Z.key,Z.value)}equals(Z){return Z.type===this.type?this.key===Z.key&&this.value===Z.value:!1}substituteConstants(){return this}evaluate(Z){return typeof this.value=="string"?!1:parseFloat(Z.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=A;class R{static create(Z,x,Y=null){return T(x,ae=>new R(Z,ae,Y))}constructor(Z,x,Y){this.key=Z,this.value=x,this.negated=Y,this.type=14}cmp(Z){return Z.type!==this.type?this.type-Z.type:G(this.key,this.value,Z.key,Z.value)}equals(Z){return Z.type===this.type?this.key===Z.key&&this.value===Z.value:!1}substituteConstants(){return this}evaluate(Z){return typeof this.value=="string"?!1:parseFloat(Z.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=R;class M{static create(Z,x,Y=null){return T(x,ae=>new M(Z,ae,Y))}constructor(Z,x,Y){this.key=Z,this.value=x,this.negated=Y,this.type=15}cmp(Z){return Z.type!==this.type?this.type-Z.type:G(this.key,this.value,Z.key,Z.value)}equals(Z){return Z.type===this.type?this.key===Z.key&&this.value===Z.value:!1}substituteConstants(){return this}evaluate(Z){return typeof this.value=="string"?!1:parseFloat(Z.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=M;class P{static create(Z,x){return new P(Z,x)}constructor(Z,x){this.key=Z,this.regexp=x,this.type=7,this.negated=null}cmp(Z){if(Z.type!==this.type)return this.type-Z.type;if(this.key<Z.key)return-1;if(this.key>Z.key)return 1;const x=this.regexp?this.regexp.source:"",Y=Z.regexp?Z.regexp.source:"";return x<Y?-1:x>Y?1:0}equals(Z){if(Z.type===this.type){const x=this.regexp?this.regexp.source:"",Y=Z.regexp?Z.regexp.source:"";return this.key===Z.key&&x===Y}return!1}substituteConstants(){return this}evaluate(Z){const x=Z.getValue(this.key);return this.regexp?this.regexp.test(x):!1}serialize(){const Z=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${Z}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this)),this.negated}}e.ContextKeyRegexExpr=P;class F{static create(Z){return new F(Z)}constructor(Z){this._actual=Z,this.type=8}cmp(Z){return Z.type!==this.type?this.type-Z.type:this._actual.cmp(Z._actual)}equals(Z){return Z.type===this.type?this._actual.equals(Z._actual):!1}substituteConstants(){return this}evaluate(Z){return!this._actual.evaluate(Z)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=F;function O(ee){let Z=null;for(let x=0,Y=ee.length;x<Y;x++){const ae=ee[x].substituteConstants();if(ee[x]!==ae&&Z===null){Z=[];for(let ue=0;ue<x;ue++)Z[ue]=ee[ue]}Z!==null&&(Z[x]=ae)}return Z===null?ee:Z}class B{static create(Z,x,Y){return B._normalizeArr(Z,x,Y)}constructor(Z,x){this.expr=Z,this.negated=x,this.type=6}cmp(Z){if(Z.type!==this.type)return this.type-Z.type;if(this.expr.length<Z.expr.length)return-1;if(this.expr.length>Z.expr.length)return 1;for(let x=0,Y=this.expr.length;x<Y;x++){const ae=u(this.expr[x],Z.expr[x]);if(ae!==0)return ae}return 0}equals(Z){if(Z.type===this.type){if(this.expr.length!==Z.expr.length)return!1;for(let x=0,Y=this.expr.length;x<Y;x++)if(!this.expr[x].equals(Z.expr[x]))return!1;return!0}return!1}substituteConstants(){const Z=O(this.expr);return Z===this.expr?this:B.create(Z,this.negated,!1)}evaluate(Z){for(let x=0,Y=this.expr.length;x<Y;x++)if(!this.expr[x].evaluate(Z))return!1;return!0}static _normalizeArr(Z,x,Y){const ae=[];let ue=!1;for(const he of Z)if(he){if(he.type===1){ue=!0;continue}if(he.type===0)return a.INSTANCE;if(he.type===6){ae.push(...he.expr);continue}ae.push(he)}if(ae.length===0&&ue)return v.INSTANCE;if(ae.length!==0){if(ae.length===1)return ae[0];ae.sort(u);for(let he=1;he<ae.length;he++)ae[he-1].equals(ae[he])&&(ae.splice(he,1),he--);if(ae.length===1)return ae[0];for(;ae.length>1;){const he=ae[ae.length-1];if(he.type!==9)break;ae.pop();const pe=ae.pop(),ce=ae.length===0,ie=V.create(he.expr.map(oe=>B.create([oe,pe],null,Y)),null,ce);ie&&(ae.push(ie),ae.sort(u))}if(ae.length===1)return ae[0];if(Y){for(let he=0;he<ae.length;he++)for(let pe=he+1;pe<ae.length;pe++)if(ae[he].negate().equals(ae[pe]))return a.INSTANCE;if(ae.length===1)return ae[0]}return new B(ae,x)}}serialize(){return this.expr.map(Z=>Z.serialize()).join(" && ")}keys(){const Z=[];for(const x of this.expr)Z.push(...x.keys());return Z}negate(){if(!this.negated){const Z=[];for(const x of this.expr)Z.push(x.negate());this.negated=V.create(Z,this,!0)}return this.negated}}e.ContextKeyAndExpr=B;class V{static create(Z,x,Y){return V._normalizeArr(Z,x,Y)}constructor(Z,x){this.expr=Z,this.negated=x,this.type=9}cmp(Z){if(Z.type!==this.type)return this.type-Z.type;if(this.expr.length<Z.expr.length)return-1;if(this.expr.length>Z.expr.length)return 1;for(let x=0,Y=this.expr.length;x<Y;x++){const ae=u(this.expr[x],Z.expr[x]);if(ae!==0)return ae}return 0}equals(Z){if(Z.type===this.type){if(this.expr.length!==Z.expr.length)return!1;for(let x=0,Y=this.expr.length;x<Y;x++)if(!this.expr[x].equals(Z.expr[x]))return!1;return!0}return!1}substituteConstants(){const Z=O(this.expr);return Z===this.expr?this:V.create(Z,this.negated,!1)}evaluate(Z){for(let x=0,Y=this.expr.length;x<Y;x++)if(this.expr[x].evaluate(Z))return!0;return!1}static _normalizeArr(Z,x,Y){let ae=[],ue=!1;if(Z){for(let he=0,pe=Z.length;he<pe;he++){const ce=Z[he];if(ce){if(ce.type===0){ue=!0;continue}if(ce.type===1)return v.INSTANCE;if(ce.type===9){ae=ae.concat(ce.expr);continue}ae.push(ce)}}if(ae.length===0&&ue)return a.INSTANCE;ae.sort(u)}if(ae.length!==0){if(ae.length===1)return ae[0];for(let he=1;he<ae.length;he++)ae[he-1].equals(ae[he])&&(ae.splice(he,1),he--);if(ae.length===1)return ae[0];if(Y){for(let he=0;he<ae.length;he++)for(let pe=he+1;pe<ae.length;pe++)if(ae[he].negate().equals(ae[pe]))return v.INSTANCE;if(ae.length===1)return ae[0]}return new V(ae,x)}}serialize(){return this.expr.map(Z=>Z.serialize()).join(" || ")}keys(){const Z=[];for(const x of this.expr)Z.push(...x.keys());return Z}negate(){if(!this.negated){const Z=[];for(const x of this.expr)Z.push(x.negate());for(;Z.length>1;){const x=Z.shift(),Y=Z.shift(),ae=[];for(const ue of J(x))for(const he of J(Y))ae.push(B.create([ue,he],null,!1));Z.unshift(V.create(ae,null,!1))}this.negated=V.create(Z,this,!0)}return this.negated}}e.ContextKeyOrExpr=V;class K extends h{static all(){return K._info.values()}constructor(Z,x,Y){super(Z,null),this._defaultValue=x,typeof Y=="object"?K._info.push({...Y,key:Z}):Y!==!0&&K._info.push({key:Z,description:Y,type:x!=null?typeof x:void 0})}bindTo(Z){return Z.createKey(this.key,this._defaultValue)}getValue(Z){return Z.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(Z){return p.create(this.key,Z)}}e.RawContextKey=K,K._info=[],e.IContextKeyService=(0,D.createDecorator)("contextKeyService");function U(ee,Z){return ee<Z?-1:ee>Z?1:0}function G(ee,Z,x,Y){return ee<x?-1:ee>x?1:Z<Y?-1:Z>Y?1:0}function z(ee,Z){if(ee.type===0||Z.type===1)return!0;if(ee.type===9)return Z.type===9?$(ee.expr,Z.expr):!1;if(Z.type===9){for(const x of Z.expr)if(z(ee,x))return!0;return!1}if(ee.type===6){if(Z.type===6)return $(Z.expr,ee.expr);for(const x of ee.expr)if(z(x,Z))return!0;return!1}return ee.equals(Z)}function $(ee,Z){let x=0,Y=0;for(;x<ee.length&&Y<Z.length;){const ae=ee[x].cmp(Z[Y]);if(ae<0)return!1;ae===0&&x++,Y++}return x===ee.length}function J(ee){return ee.type===9?ee.expr:[ee]}}),define(ne[21],se([1,0,682,14]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var L;(function(D){D.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,f.localize(0,null)),D.focus=new k.RawContextKey("editorFocus",!1,f.localize(1,null)),D.textInputFocus=new k.RawContextKey("textInputFocus",!1,f.localize(2,null)),D.readOnly=new k.RawContextKey("editorReadonly",!1,f.localize(3,null)),D.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,f.localize(4,null)),D.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,f.localize(5,null)),D.inMultiDiffEditor=new k.RawContextKey("inMultiDiffEditor",!1,f.localize(6,null)),D.multiDiffEditorAllCollapsed=new k.RawContextKey("multiDiffEditorAllCollapsed",void 0,f.localize(7,null)),D.hasChanges=new k.RawContextKey("diffEditorHasChanges",!1,f.localize(8,null)),D.comparingMovedCode=new k.RawContextKey("comparingMovedCode",!1,f.localize(9,null)),D.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,f.localize(10,null)),D.diffEditorRenderSideBySideInlineBreakpointReached=new k.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,f.localize(11,null)),D.diffEditorInlineMode=new k.RawContextKey("diffEditorInlineMode",!1,f.localize(12,null)),D.diffEditorOriginalWritable=new k.RawContextKey("diffEditorOriginalWritable",!1,f.localize(13,null)),D.diffEditorModifiedWritable=new k.RawContextKey("diffEditorModifiedWritable",!1,f.localize(14,null)),D.diffEditorOriginalUri=new k.RawContextKey("diffEditorOriginalUri","",f.localize(15,null)),D.diffEditorModifiedUri=new k.RawContextKey("diffEditorModifiedUri","",f.localize(16,null)),D.columnSelection=new k.RawContextKey("editorColumnSelection",!1,f.localize(17,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,f.localize(18,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,f.localize(19,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,f.localize(20,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInEmbeddedEditor=new k.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new k.RawContextKey("canUndo",!1,!0),D.canRedo=new k.RawContextKey("canRedo",!1,!0),D.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,f.localize(21,null)),D.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,f.localize(22,null)),D.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,f.localize(23,null)),D.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,f.localize(24,null)),D.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,f.localize(25,null)),D.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,f.localize(26,null)),D.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,f.localize(27,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new k.RawContextKey("editorLangId","",f.localize(28,null)),D.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,f.localize(29,null)),D.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,f.localize(30,null)),D.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,f.localize(31,null)),D.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,f.localize(32,null)),D.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,f.localize(33,null)),D.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,f.localize(34,null)),D.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,f.localize(35,null)),D.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,f.localize(36,null)),D.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,f.localize(37,null)),D.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,f.localize(38,null)),D.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,f.localize(39,null)),D.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,f.localize(40,null)),D.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,f.localize(41,null)),D.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,f.localize(42,null)),D.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,f.localize(43,null)),D.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,f.localize(44,null)),D.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,f.localize(45,null)),D.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,f.localize(46,null))})(L||(e.EditorContextKeys=L={}))}),define(ne[263],se([1,0,30,11,90,14,2,742]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class w extends y.Disposable{constructor(C,o){super(),this.contextKeyService=C,this.model=o,this.inlineCompletionVisible=w.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=w.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=w.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=w.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,f.autorun)(n=>{const i=this.model.read(n),t=i?.state.read(n),s=!!t?.inlineCompletion&&t?.primaryGhostText!==void 0&&!t?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(s),t?.primaryGhostText&&t?.inlineCompletion&&this.suppressSuggestions.set(t.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,f.autorun)(n=>{const i=this.model.read(n);let t=!1,s=!0;const c=i?.primaryGhostText.read(n);if(i?.selectedSuggestItem&&c&&c.parts.length>0){const{column:g,lines:l}=c.parts[0],r=l[0],d=i.textModel.getLineIndentColumn(c.lineNumber);if(g<=d){let a=(0,k.firstNonWhitespaceIndex)(r);a===-1&&(a=r.length-1),t=a>0;const v=i.textModel.getOptions().tabSize;s=L.CursorColumns.visibleColumnFromColumn(r,a+1,v)<v}}this.inlineCompletionSuggestsIndentation.set(t),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(s)}))}}e.InlineCompletionContextKeys=w,w.inlineSuggestionVisible=new D.RawContextKey("inlineSuggestionVisible",!1,(0,m.localize)(0,null)),w.inlineSuggestionHasIndentation=new D.RawContextKey("inlineSuggestionHasIndentation",!1,(0,m.localize)(1,null)),w.inlineSuggestionHasIndentationLessThanTabSize=new D.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,m.localize)(2,null)),w.suppressSuggestions=new D.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,m.localize)(3,null))}),define(ne[264],se([1,0,19,9,20,22,10,27,18,75,25,14]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0,e.provideSignatureHelp=n,e.Context={Visible:new o.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new o.RawContextKey("parameterHintsMultipleSignatures",!1)};async function n(i,t,s,c,g){const l=i.ordered(t);for(const r of l)try{const d=await r.provideSignatureHelp(t,s,g,c);if(d)return d}catch(d){(0,k.onUnexpectedExternalError)(d)}}C.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",async(i,...t)=>{const[s,c,g]=t;(0,L.assertType)(D.URI.isUri(s)),(0,L.assertType)(y.Position.isIPosition(c)),(0,L.assertType)(typeof g=="string"||!g);const l=i.get(w.ILanguageFeaturesService),r=await i.get(b.ITextModelService).createModelReference(s);try{const d=await n(l.signatureHelpProvider,r.object.textEditorModel,y.Position.lift(c),{triggerKind:m.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:g},f.CancellationToken.None);return d?(setTimeout(()=>d.dispose(),0),d.value):void 0}finally{r.dispose()}})}),define(ne[823],se([1,0,15,9,7,2,140,27,264]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var b;(function(n){n.Default={type:0};class i{constructor(c,g){this.request=c,this.previouslyActiveHints=g,this.type=2}}n.Pending=i;class t{constructor(c){this.hints=c,this.type=1}}n.Active=t})(b||(b={}));class C extends D.Disposable{constructor(i,t,s=C.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new L.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=b.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new y.CharacterSet,this.retriggerChars=new y.CharacterSet,this.triggerId=0,this.editor=i,this.providers=t,this.throttledDelayer=new f.Delayer(s),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(c=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(c=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(c=>this.onCursorChange(c))),this._register(this.editor.onDidChangeModelContent(c=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(c=>this.onDidType(c))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(i){this._state.type===2&&this._state.request.cancel(),this._state=i}cancel(i=!1){this.state=b.Default,this.throttledDelayer.cancel(),i||this._onChangedHints.fire(void 0)}trigger(i,t){const s=this.editor.getModel();if(!s||!this.providers.has(s))return;const c=++this.triggerId;this._pendingTriggers.push(i),this.throttledDelayer.trigger(()=>this.doTrigger(c),t).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,s=t%i===i-1,c=this.editor.getOption(86).cycle;if((i<2||s)&&!c){this.cancel();return}this.updateActiveSignature(s&&c?0:t+1)}previous(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,s=t===0,c=this.editor.getOption(86).cycle;if((i<2||s)&&!c){this.cancel();return}this.updateActiveSignature(s&&c?i-1:t-1)}updateActiveSignature(i){this.state.type===1&&(this.state=new b.Active({...this.state.hints,activeSignature:i}),this._onChangedHints.fire(this.state.hints))}async doTrigger(i){const t=this.state.type===1||this.state.type===2,s=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const c=this._pendingTriggers.reduce(o);this._pendingTriggers=[];const g={triggerKind:c.triggerKind,triggerCharacter:c.triggerCharacter,isRetrigger:t,activeSignatureHelp:s};if(!this.editor.hasModel())return!1;const l=this.editor.getModel(),r=this.editor.getPosition();this.state=new b.Pending((0,f.createCancelablePromise)(d=>(0,w.provideSignatureHelp)(this.providers,l,r,g,d)),s);try{const d=await this.state.request;return i!==this.triggerId?(d?.dispose(),!1):!d||!d.value.signatures||d.value.signatures.length===0?(d?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new b.Active(d.value),this._lastSignatureHelpResult.value=d,this._onChangedHints.fire(this.state.hints),!0)}catch(d){return i===this.triggerId&&(this.state=b.Default),(0,k.onUnexpectedError)(d),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const i=this.editor.getModel();if(i)for(const t of this.providers.ordered(i)){for(const s of t.signatureHelpTriggerCharacters||[])if(s.length){const c=s.charCodeAt(0);this.triggerChars.add(c),this.retriggerChars.add(c)}for(const s of t.signatureHelpRetriggerCharacters||[])s.length&&this.retriggerChars.add(s.charCodeAt(0))}}onDidType(i){if(!this.triggerOnType)return;const t=i.length-1,s=i.charCodeAt(t);(this.triggerChars.has(s)||this.isTriggered&&this.retriggerChars.has(s))&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:i.charAt(t)})}onCursorChange(i){i.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=C,C.DEFAULT_DELAY=120;function o(n,i){switch(i.triggerKind){case m.SignatureHelpTriggerKind.Invoke:return i;case m.SignatureHelpTriggerKind.ContentChange:return n;case m.SignatureHelpTriggerKind.TriggerCharacter:default:return i}}}),define(ne[824],se([1,0,14]),function(X,e,f){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let L=k=class{constructor(y,m){this._editor=y,this._index=0,this._ckOtherSuggestions=k.OtherSuggestions.bindTo(m)}dispose(){this.reset()}reset(){var y;this._ckOtherSuggestions.reset(),(y=this._listener)===null||y===void 0||y.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:y,index:m},w){if(y.items.length===0){this.reset();return}if(k._moveIndex(!0,y,m)===m){this.reset();return}this._acceptNext=w,this._model=y,this._index=m,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(y,m,w){let b=w;for(let C=m.items.length;C>0&&(b=(b+m.items.length+(y?1:-1))%m.items.length,!(b===w||!m.items[b].completion.additionalTextEdits));C--);return b}next(){this._move(!0)}prev(){this._move(!1)}_move(y){if(this._model)try{this._ignore=!0,this._index=k._moveIndex(y,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=L,L.OtherSuggestions=new f.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=L=k=ke([ge(1,f.IContextKeyService)],L)}),define(ne[825],se([1,0,14]),function(X,e,f){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let L=k=class{constructor(y,m){this._editor=y,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(m),this._configListener=this._editor.onDidChangeConfiguration(w=>w.hasChanged(123)&&this._update()),this._update()}dispose(){var y;this._configListener.dispose(),(y=this._selectionListener)===null||y===void 0||y.dispose(),this._ckAtEnd.reset()}_update(){const y=this._editor.getOption(123)==="on";if(this._enabled!==y)if(this._enabled=y,this._enabled){const m=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const w=this._editor.getModel(),b=this._editor.getSelection(),C=w.getWordAtPosition(b.getStartPosition());if(!C){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(C.endColumn===b.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(m),m()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=L,L.AtEnd=new f.RawContextKey("atEndOfWord",!1),e.WordContextKey=L=k=ke([ge(1,f.IContextKeyService)],L)}),define(ne[62],se([1,0,14,8]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new f.RawContextKey("accessibilityModeEnabled",!1)}),define(ne[826],se([1,0,66,13,7,2,55,17,352,360,525,225,38,160,258,62,6,249]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let l=class extends D.Disposable{constructor(_,S,E,I,T){super(),this._accessibilityService=T,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new L.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new n.ComputeOptionsMemory,this.isSimpleWidget=_,this.contextMenuId=S,this._containerObserver=this._register(new w.ElementSizeObserver(I,E.dimension)),this._targetWindowId=(0,c.getWindow)(I).vscodeWindowId,this._rawOptions=h(E),this._validatedOptions=v.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(i.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(o.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(b.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(g.PixelRatio.getInstance((0,c.getWindow)(I)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const _=this._computeOptions(),S=v.checkEquals(this.options,_);S!==null&&(this.options=_,this._onDidChangeFast.fire(S),this._onDidChange.fire(S))}_computeOptions(){const _=this._readEnvConfiguration(),S=t.BareFontInfo.createFromValidatedSettings(this._validatedOptions,_.pixelRatio,this.isSimpleWidget),E=this._readFontInfo(S),I={memory:this._computeOptionsMemory,outerWidth:_.outerWidth,outerHeight:_.outerHeight-this._reservedHeight,fontInfo:E,extraEditorClassName:_.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:_.emptySelectionClipboard,pixelRatio:_.pixelRatio,tabFocusMode:o.TabFocus.getTabFocusMode(),accessibilitySupport:_.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return v.computeOptions(this._validatedOptions,I)}_readEnvConfiguration(){return{extraEditorClassName:d(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:f.isWebKit||f.isFirefox,pixelRatio:g.PixelRatio.getInstance((0,c.getWindowById)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(_){return b.FontMeasurements.readFontInfo((0,c.getWindowById)(this._targetWindowId,!0).window,_)}getRawOptions(){return this._rawOptions}updateOptions(_){const S=h(_);v.applyUpdate(this._rawOptions,S)&&(this._validatedOptions=v.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(_){this._containerObserver.observe(_)}setIsDominatedByLongLines(_){this._isDominatedByLongLines!==_&&(this._isDominatedByLongLines=_,this._recomputeOptions())}setModelLineCount(_){const S=r(_);this._lineNumbersDigitCount!==S&&(this._lineNumbersDigitCount=S,this._recomputeOptions())}setViewLineCount(_){this._viewLineCount!==_&&(this._viewLineCount=_,this._recomputeOptions())}setReservedHeight(_){this._reservedHeight!==_&&(this._reservedHeight=_,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(_){this._glyphMarginDecorationLaneCount!==_&&(this._glyphMarginDecorationLaneCount=_,this._recomputeOptions())}};e.EditorConfiguration=l,e.EditorConfiguration=l=ke([ge(4,s.IAccessibilityService)],l);function r(p){let _=0;for(;p;)p=Math.floor(p/10),_++;return _||1}function d(){let p="";return!f.isSafari&&!f.isWebkitWebView&&(p+="no-user-select "),f.isSafari&&(p+="no-minimap-shadow ",p+="enable-user-select "),m.isMacintosh&&(p+="mac "),p}class u{constructor(){this._values=[]}_read(_){return this._values[_]}get(_){return this._values[_]}_write(_,S){this._values[_]=S}}class a{constructor(){this._values=[]}_read(_){if(_>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[_]}get(_){return this._read(_)}_write(_,S){this._values[_]=S}}e.ComputedEditorOptions=a;class v{static validateOptions(_){const S=new u;for(const E of n.editorOptionsRegistry){const I=E.name==="_never_"?void 0:_[E.name];S._write(E.id,E.validate(I))}return S}static computeOptions(_,S){const E=new a;for(const I of n.editorOptionsRegistry)E._write(I.id,I.compute(S,E,_._read(I.id)));return E}static _deepEquals(_,S){if(typeof _!="object"||typeof S!="object"||!_||!S)return _===S;if(Array.isArray(_)||Array.isArray(S))return Array.isArray(_)&&Array.isArray(S)?k.equals(_,S):!1;if(Object.keys(_).length!==Object.keys(S).length)return!1;for(const E in _)if(!v._deepEquals(_[E],S[E]))return!1;return!0}static checkEquals(_,S){const E=[];let I=!1;for(const T of n.editorOptionsRegistry){const N=!v._deepEquals(_._read(T.id),S._read(T.id));E[T.id]=N,N&&(I=!0)}return I?new n.ConfigurationChangedEvent(E):null}static applyUpdate(_,S){let E=!1;for(const I of n.editorOptionsRegistry)if(S.hasOwnProperty(I.name)){const T=I.applyUpdate(_[I.name],S[I.name]);_[I.name]=T.newValue,E=E||T.didChange}return E}}function h(p){const _=y.deepClone(p);return(0,C.migrateOptions)(_),_}}),define(ne[827],se([1,0,30,302,38,62]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;let y=class{get editorOptions(){return this._options}constructor(b,C){this._accessibilityService=C,this._diffEditorWidth=(0,f.observableValue)(this,0),this._screenReaderMode=(0,f.observableFromEvent)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=(0,f.derived)(this,n=>this._options.read(n).renderSideBySide&&this._diffEditorWidth.read(n)<=this._options.read(n).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,f.derived)(this,n=>this._options.read(n).renderOverviewRuler),this.renderSideBySide=(0,f.derived)(this,n=>this._options.read(n).renderSideBySide&&!(this._options.read(n).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(n)&&!this._screenReaderMode.read(n))),this.readOnly=(0,f.derived)(this,n=>this._options.read(n).readOnly),this.shouldRenderOldRevertArrows=(0,f.derived)(this,n=>!(!this._options.read(n).renderMarginRevertIcon||!this.renderSideBySide.read(n)||this.readOnly.read(n)||this.shouldRenderGutterMenu.read(n))),this.shouldRenderGutterMenu=(0,f.derived)(this,n=>this._options.read(n).renderGutterMenu),this.renderIndicators=(0,f.derived)(this,n=>this._options.read(n).renderIndicators),this.enableSplitViewResizing=(0,f.derived)(this,n=>this._options.read(n).enableSplitViewResizing),this.splitViewDefaultRatio=(0,f.derived)(this,n=>this._options.read(n).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,f.derived)(this,n=>this._options.read(n).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,f.derived)(this,n=>this._options.read(n).maxComputationTime),this.showMoves=(0,f.derived)(this,n=>this._options.read(n).experimental.showMoves&&this.renderSideBySide.read(n)),this.isInEmbeddedEditor=(0,f.derived)(this,n=>this._options.read(n).isInEmbeddedEditor),this.diffWordWrap=(0,f.derived)(this,n=>this._options.read(n).diffWordWrap),this.originalEditable=(0,f.derived)(this,n=>this._options.read(n).originalEditable),this.diffCodeLens=(0,f.derived)(this,n=>this._options.read(n).diffCodeLens),this.accessibilityVerbose=(0,f.derived)(this,n=>this._options.read(n).accessibilityVerbose),this.diffAlgorithm=(0,f.derived)(this,n=>this._options.read(n).diffAlgorithm),this.showEmptyDecorations=(0,f.derived)(this,n=>this._options.read(n).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,f.derived)(this,n=>this._options.read(n).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,f.derived)(this,n=>this._options.read(n).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,f.derived)(this,n=>this._options.read(n).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,f.derived)(this,n=>this._options.read(n).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,f.derived)(this,n=>this._options.read(n).hideUnchangedRegions.minimumLineCount);const o={...b,...m(b,k.diffEditorDefaultOptions)};this._options=(0,f.observableValue)(this,o)}updateOptions(b){const C=m(b,this._options.get()),o={...this._options.get(),...b,...C};this._options.set(o,void 0,{changedOptions:b})}setWidth(b){this._diffEditorWidth.set(b,void 0)}};e.DiffEditorOptions=y,e.DiffEditorOptions=y=ke([ge(1,D.IAccessibilityService)],y);function m(w,b){var C,o,n,i,t,s,c,g;return{enableSplitViewResizing:(0,L.boolean)(w.enableSplitViewResizing,b.enableSplitViewResizing),splitViewDefaultRatio:(0,L.clampedFloat)(w.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,L.boolean)(w.renderSideBySide,b.renderSideBySide),renderMarginRevertIcon:(0,L.boolean)(w.renderMarginRevertIcon,b.renderMarginRevertIcon),maxComputationTime:(0,L.clampedInt)(w.maxComputationTime,b.maxComputationTime,0,1073741824),maxFileSize:(0,L.clampedInt)(w.maxFileSize,b.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,L.boolean)(w.ignoreTrimWhitespace,b.ignoreTrimWhitespace),renderIndicators:(0,L.boolean)(w.renderIndicators,b.renderIndicators),originalEditable:(0,L.boolean)(w.originalEditable,b.originalEditable),diffCodeLens:(0,L.boolean)(w.diffCodeLens,b.diffCodeLens),renderOverviewRuler:(0,L.boolean)(w.renderOverviewRuler,b.renderOverviewRuler),diffWordWrap:(0,L.stringSet)(w.diffWordWrap,b.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,L.stringSet)(w.diffAlgorithm,b.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,L.boolean)(w.accessibilityVerbose,b.accessibilityVerbose),experimental:{showMoves:(0,L.boolean)((C=w.experimental)===null||C===void 0?void 0:C.showMoves,b.experimental.showMoves),showEmptyDecorations:(0,L.boolean)((o=w.experimental)===null||o===void 0?void 0:o.showEmptyDecorations,b.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,L.boolean)((i=(n=w.hideUnchangedRegions)===null||n===void 0?void 0:n.enabled)!==null&&i!==void 0?i:(t=w.experimental)===null||t===void 0?void 0:t.collapseUnchangedRegions,b.hideUnchangedRegions.enabled),contextLineCount:(0,L.clampedInt)((s=w.hideUnchangedRegions)===null||s===void 0?void 0:s.contextLineCount,b.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,L.clampedInt)((c=w.hideUnchangedRegions)===null||c===void 0?void 0:c.minimumLineCount,b.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,L.clampedInt)((g=w.hideUnchangedRegions)===null||g===void 0?void 0:g.revealLineCount,b.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,L.boolean)(w.isInEmbeddedEditor,b.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,L.boolean)(w.onlyShowAccessibleDiffViewer,b.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,L.clampedInt)(w.renderSideBySideInlineBreakpoint,b.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,L.boolean)(w.useInlineViewWhenSpaceIsLimited,b.useInlineViewWhenSpaceIsLimited),renderGutterMenu:(0,L.boolean)(w.renderGutterMenu,b.renderGutterMenu)}}}),define(ne[828],se([1,0,7,54,2,55,220,22,784,25,28,14]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0,e.setContext=p;const n="data-keybinding-context";class i{constructor(E,I){this._id=E,this._parent=I,this._value=Object.create(null),this._value._contextId=E}get value(){return{...this._value}}setValue(E,I){return this._value[E]!==I?(this._value[E]=I,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const I=this._value[E];return typeof I>"u"&&this._parent?this._parent.getValue(E):I}}e.Context=i;class t extends i{constructor(){super(-1,null)}setValue(E,I){return!1}removeValue(E){return!1}getValue(E){}}t.INSTANCE=new t;class s extends i{constructor(E,I,T){super(E,null),this._configurationService=I,this._values=y.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(N=>{if(N.source===7){const A=Array.from(this._values,([R])=>R);this._values.clear(),T.fire(new l(A))}else{const A=[];for(const R of N.affectedKeys){const M=`config.${R}`,P=this._values.findSuperstr(M);P!==void 0&&(A.push(...k.Iterable.map(P,([F])=>F)),this._values.deleteSuperstr(M)),this._values.has(M)&&(A.push(M),this._values.delete(M))}T.fire(new l(A))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(s._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const I=E.substr(s._keyPrefix.length),T=this._configurationService.getValue(I);let N;switch(typeof T){case"number":case"boolean":case"string":N=T;break;default:Array.isArray(T)?N=JSON.stringify(T):N=T}return this._values.set(E,N),N}setValue(E,I){return super.setValue(E,I)}removeValue(E){return super.removeValue(E)}}s._keyPrefix="config.";class c{constructor(E,I,T){this._service=E,this._key=I,this._defaultValue=T,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class g{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class l{constructor(E){this.keys=E}affectsSome(E){for(const I of this.keys)if(E.has(I))return!0;return!1}allKeysContainedIn(E){return this.keys.every(I=>E.has(I))}}class r{constructor(E){this.events=E}affectsSome(E){for(const I of this.events)if(I.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(I=>I.allKeysContainedIn(E))}}function d(S,E){return S.allKeysContainedIn(new Set(Object.keys(E)))}class u extends L.Disposable{constructor(E){super(),this._onDidChangeContext=this._register(new f.PauseableEmitter({merge:I=>new r(I)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new c(this,E,I)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new v(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(I):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,I){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);T&&T.setValue(E,I)&&this._onDidChangeContext.fire(new g(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new g(E))}getContext(E){return this._isDisposed?t.INSTANCE:this.getContextValuesContainer(h(E))}dispose(){super.dispose(),this._isDisposed=!0}}e.AbstractContextKeyService=u;let a=class extends u{constructor(E){super(0),this._contexts=new Map,this._lastContextId=0;const I=this._register(new s(this._myContextId,E,this._onDidChangeContext));this._contexts.set(this._myContextId,I)}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._contexts.get(E)||t.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const I=++this._lastContextId;return this._contexts.set(I,new i(I,this.getContextValuesContainer(E))),I}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};e.ContextKeyService=a,e.ContextKeyService=a=ke([ge(0,C.IConfigurationService)],a);class v extends u{constructor(E,I){if(super(E.createChildContext()),this._parentChangeListener=this._register(new L.MutableDisposable),this._parent=E,this._updateParentChangeListener(),this._domNode=I,this._domNode.hasAttribute(n)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(n,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;d(E,T)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(n),super.dispose())}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function h(S){for(;S;){if(S.hasAttribute(n)){const E=S.getAttribute(n);return E?parseInt(E,10):NaN}S=S.parentElement}return 0}function p(S,E,I){S.get(o.IContextKeyService).createKey(String(E),_(I))}function _(S){return(0,D.cloneAndChange)(S,E=>{if(typeof E=="object"&&E.$mid===1)return m.URI.revive(E).toString();if(E instanceof m.URI)return E.toString()})}b.CommandsRegistry.registerCommand("_setContext",p),b.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...o.RawContextKey.all()].sort((S,E)=>S.key.localeCompare(E.key))},metadata:{description:(0,w.localize)(0,null),args:[]}}),b.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const S=[],E=new Set;for(const I of o.RawContextKey.all())E.has(I.key)||(E.add(I.key),S.push(I));S.sort((I,T)=>I.key.localeCompare(T.key)),console.log(JSON.stringify(S,void 0,2))})}),define(ne[174],se([1,0,17,786,14]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new L.RawContextKey("isMac",f.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new L.RawContextKey("isLinux",f.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new L.RawContextKey("isWindows",f.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new L.RawContextKey("isWeb",f.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new L.RawContextKey("isMacNative",f.isMacintosh&&!f.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new L.RawContextKey("isIOS",f.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new L.RawContextKey("isMobile",f.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new L.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new L.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new L.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(ne[58],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,f.createDecorator)("contextViewService"),e.IContextMenuService=(0,f.createDecorator)("contextMenuService")}),define(ne[175],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,f.createDecorator)("dialogService")}),define(ne[265],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,f.createDecorator)("environmentService")}),define(ne[115],se([1,0,8,2,28,6]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nativeHoverDelegate=e.WorkbenchHoverDelegate=e.IHoverService=void 0,e.IHoverService=(0,f.createDecorator)("hoverService");let y=class extends k.Disposable{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(w,b,C={},o,n){super(),this.placement=w,this.instantHover=b,this.overrideOptions=C,this.configurationService=o,this.hoverService=n,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new k.DisposableStore),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(w,b){const C=typeof this.overrideOptions=="function"?this.overrideOptions(w,b):this.overrideOptions;this.hoverDisposables.clear();const o=(0,D.isHTMLElement)(w.target)?[w.target]:w.target.targetElements;for(const i of o)this.hoverDisposables.add((0,D.addStandardDisposableListener)(i,"keydown",t=>{t.equals(9)&&this.hoverService.hideHover()}));const n=(0,D.isHTMLElement)(w.content)?void 0:w.content.toString();return this.hoverService.showHover({...w,...C,persistence:{hideOnKeyDown:!0,...C.persistence},id:n,appearance:{...w.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...C.appearance}},b)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};e.WorkbenchHoverDelegate=y,e.WorkbenchHoverDelegate=y=ke([ge(3,L.IConfigurationService),ge(4,e.IHoverService)],y),e.nativeHoverDelegate={showHover:function(){throw new Error("Native hover function not implemented.")},delay:0,showNativeHover:!0}}),define(ne[176],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class f{constructor(...L){this._entries=new Map;for(const[D,y]of L)this.set(D,y)}set(L,D){const y=this._entries.get(L);return this._entries.set(L,D),y}get(L){return this._entries.get(L)}}e.ServiceCollection=f}),define(ne[829],se([1,0,15,9,2,259,817,8,176,71]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const C=!1;class o extends Error{constructor(s){var c;super("cyclic dependency between services"),this.message=(c=s.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${s.toString()}`}}class n{constructor(s=new w.ServiceCollection,c=!1,g,l=C){var r;this._services=s,this._strict=c,this._parent=g,this._enableTracing=l,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(m.IInstantiationService,this),this._globalGraph=l?(r=g?._globalGraph)!==null&&r!==void 0?r:new y.Graph(d=>d):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,(0,L.dispose)(this._children),this._children.clear();for(const s of this._servicesToMaybeDispose)(0,L.isDisposable)(s)&&s.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(s,c){this._throwIfDisposed();const g=this,l=new class extends n{dispose(){g._children.delete(l),super.dispose()}}(s,this._strict,this,this._enableTracing);return this._children.add(l),c?.add(l),l}invokeFunction(s,...c){this._throwIfDisposed();const g=i.traceInvocation(this._enableTracing,s);let l=!1;try{return s({get:d=>{if(l)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const u=this._getOrCreateServiceInstance(d,g);if(!u)throw new Error(`[invokeFunction] unknown service '${d}'`);return u}},...c)}finally{l=!0,g.stop()}}createInstance(s,...c){this._throwIfDisposed();let g,l;return s instanceof D.SyncDescriptor?(g=i.traceCreation(this._enableTracing,s.ctor),l=this._createInstance(s.ctor,s.staticArguments.concat(c),g)):(g=i.traceCreation(this._enableTracing,s),l=this._createInstance(s,c,g)),g.stop(),l}_createInstance(s,c=[],g){const l=m._util.getServiceDependencies(s).sort((u,a)=>u.index-a.index),r=[];for(const u of l){const a=this._getOrCreateServiceInstance(u.id,g);a||this._throwIfStrict(`[createInstance] ${s.name} depends on UNKNOWN service ${u.id}.`,!1),r.push(a)}const d=l.length>0?l[0].index:c.length;if(c.length!==d){console.trace(`[createInstance] First service dependency of ${s.name} at position ${d+1} conflicts with ${c.length} static arguments`);const u=d-c.length;u>0?c=c.concat(new Array(u)):c=c.slice(0,d)}return Reflect.construct(s,c.concat(r))}_setCreatedServiceInstance(s,c){if(this._services.get(s)instanceof D.SyncDescriptor)this._services.set(s,c);else if(this._parent)this._parent._setCreatedServiceInstance(s,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(s){const c=this._services.get(s);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(s):c}_getOrCreateServiceInstance(s,c){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(s));const g=this._getServiceInstanceOrDescriptor(s);return g instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(s,g,c.branch(s,!0)):(c.branch(s,!1),g)}_safeCreateAndCacheServiceInstance(s,c,g){if(this._activeInstantiations.has(s))throw new Error(`illegal state - RECURSIVELY instantiating service '${s}'`);this._activeInstantiations.add(s);try{return this._createAndCacheServiceInstance(s,c,g)}finally{this._activeInstantiations.delete(s)}}_createAndCacheServiceInstance(s,c,g){var l;const r=new y.Graph(a=>a.id.toString());let d=0;const u=[{id:s,desc:c,_trace:g}];for(;u.length;){const a=u.pop();if(r.lookupOrInsertNode(a),d++>1e3)throw new o(r);for(const v of m._util.getServiceDependencies(a.desc.ctor)){const h=this._getServiceInstanceOrDescriptor(v.id);if(h||this._throwIfStrict(`[createInstance] ${s} depends on ${v.id} which is NOT registered.`,!0),(l=this._globalGraph)===null||l===void 0||l.insertEdge(String(a.id),String(v.id)),h instanceof D.SyncDescriptor){const p={id:v.id,desc:h,_trace:a._trace.branch(v.id,!0)};r.insertEdge(a,p),u.push(p)}}}for(;;){const a=r.roots();if(a.length===0){if(!r.isEmpty())throw new o(r);break}for(const{data:v}of a){if(this._getServiceInstanceOrDescriptor(v.id)instanceof D.SyncDescriptor){const p=this._createServiceInstanceWithOwner(v.id,v.desc.ctor,v.desc.staticArguments,v.desc.supportsDelayedInstantiation,v._trace);this._setCreatedServiceInstance(v.id,p)}r.removeNode(v)}}return this._getServiceInstanceOrDescriptor(s)}_createServiceInstanceWithOwner(s,c,g=[],l,r){if(this._services.get(s)instanceof D.SyncDescriptor)return this._createServiceInstance(s,c,g,l,r,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(s,c,g,l,r);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(s,c,g=[],l,r,d){if(l){const u=new n(void 0,this._strict,this,this._enableTracing);u._globalGraphImplicitDependency=String(s);const a=new Map,v=new f.GlobalIdleValue(()=>{const h=u._createInstance(c,g,r);for(const[p,_]of a){const S=h[p];if(typeof S=="function")for(const E of _)E.disposable=S.apply(h,E.listener)}return a.clear(),d.add(h),h});return new Proxy(Object.create(null),{get(h,p){if(!v.isInitialized&&typeof p=="string"&&(p.startsWith("onDid")||p.startsWith("onWill"))){let E=a.get(p);return E||(E=new b.LinkedList,a.set(p,E)),(T,N,A)=>{if(v.isInitialized)return v.value[p](T,N,A);{const R={listener:[T,N,A],disposable:void 0},M=E.push(R);return(0,L.toDisposable)(()=>{var F;M(),(F=R.disposable)===null||F===void 0||F.dispose()})}}}if(p in h)return h[p];const _=v.value;let S=_[p];return typeof S!="function"||(S=S.bind(_),h[p]=S),S},set(h,p,_){return v.value[p]=_,!0},getPrototypeOf(h){return c.prototype}})}else{const u=this._createInstance(c,g,r);return d.add(u),u}}_throwIfStrict(s,c){if(c&&console.warn(s),this._strict)throw new Error(s)}}e.InstantiationService=n;class i{static traceInvocation(s,c){return s?new i(2,c.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):i._None}static traceCreation(s,c){return s?new i(1,c.name):i._None}constructor(s,c){this.type=s,this.name=c,this._start=Date.now(),this._dep=[]}branch(s,c){const g=new i(3,s.toString());return this._dep.push([s,c,g]),g}stop(){const s=Date.now()-this._start;i._totals+=s;let c=!1;function g(r,d){const u=[],a=new Array(r+1).join("	");for(const[v,h,p]of d._dep)if(h&&p){c=!0,u.push(`${a}CREATES -> ${v}`);const _=g(r+1,p);_&&u.push(_)}else u.push(`${a}uses -> ${v}`);return u.join(`
`)}const l=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${g(1,this)}`,`DONE, took ${s.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(s>2||c)&&i.all.add(l.join(`
`))}}e.Trace=i,i.all=new Set,i._None=new class extends i{constructor(){super(0,null)}stop(){}branch(){return this}},i._totals=0}),define(ne[830],se([1,0,9,243,136]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends L.ResolvedKeybinding{constructor(m,w){if(super(),w.length===0)throw(0,f.illegalArgument)("chords");this._os=m,this._chords=w}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,m=>this._getLabel(m))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,m=>this._getAriaLabel(m))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,m=>this._getElectronAccelerator(m))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,m=>this._getUserSettingsLabel(m))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(m=>this._getChord(m))}_getChord(m){return new L.ResolvedChord(m.ctrlKey,m.shiftKey,m.altKey,m.metaKey,this._getLabel(m),this._getAriaLabel(m))}getDispatchChords(){return this._chords.map(m=>this._getChordDispatch(m))}getSingleModifierDispatchChords(){return this._chords.map(m=>this._getSingleModifierChordDispatch(m))}}e.BaseResolvedKeybinding=D}),define(ne[32],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,f.createDecorator)("keybindingService")}),define(ne[375],se([1,0,6,169,2,32]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=void 0;const y=f.$;let m=class extends L.Disposable{get hasContent(){return this._hasContent}constructor(b){super(),this._keybindingService=b,this._hasContent=!1,this.hoverElement=y("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=f.append(this.hoverElement,y("div.actions"))}addAction(b){const C=this._keybindingService.lookupKeybinding(b.commandId),o=C?C.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,b,o))}append(b){const C=f.append(this.actionsElement,b);return this._hasContent=!0,C}};e.EditorHoverStatusBar=m,e.EditorHoverStatusBar=m=ke([ge(0,D.IKeybindingService)],m)}),define(ne[376],se([1,0,6,32,656,14,28,62,21,169]),function(X,e,f,k,L,D,y,m,w,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=void 0;const o=30,n=6;let i=C=class extends L.ResizableContentWidget{get isColorPickerVisible(){var c;return!!(!((c=this._visibleData)===null||c===void 0)&&c.colorPicker)}get isVisibleFromKeyboard(){var c;return((c=this._visibleData)===null||c===void 0?void 0:c.source)===1}get isVisible(){var c;return(c=this._hoverVisibleKey.get())!==null&&c!==void 0?c:!1}get isFocused(){var c;return(c=this._hoverFocusedKey.get())!==null&&c!==void 0?c:!1}constructor(c,g,l,r,d){const u=c.getOption(67)+8,a=150,v=new f.Dimension(a,u);super(c,v),this._configurationService=l,this._accessibilityService=r,this._keybindingService=d,this._hover=this._register(new b.HoverWidget),this._minimumSize=v,this._hoverVisibleKey=w.EditorContextKeys.hoverVisible.bindTo(g),this._hoverFocusedKey=w.EditorContextKeys.hoverFocused.bindTo(g),f.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(p=>{p.hasChanged(50)&&this._updateFont()}));const h=this._register(f.trackFocus(this._resizableNode.domNode));this._register(h.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(h.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var c;super.dispose(),(c=this._visibleData)===null||c===void 0||c.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return C.ID}static _applyDimensions(c,g,l){const r=typeof g=="number"?`${g}px`:g,d=typeof l=="number"?`${l}px`:l;c.style.width=r,c.style.height=d}_setContentsDomNodeDimensions(c,g){const l=this._hover.contentsDomNode;return C._applyDimensions(l,c,g)}_setContainerDomNodeDimensions(c,g){const l=this._hover.containerDomNode;return C._applyDimensions(l,c,g)}_setHoverWidgetDimensions(c,g){this._setContentsDomNodeDimensions(c,g),this._setContainerDomNodeDimensions(c,g),this._layoutContentWidget()}static _applyMaxDimensions(c,g,l){const r=typeof g=="number"?`${g}px`:g,d=typeof l=="number"?`${l}px`:l;c.style.maxWidth=r,c.style.maxHeight=d}_setHoverWidgetMaxDimensions(c,g){C._applyMaxDimensions(this._hover.contentsDomNode,c,g),C._applyMaxDimensions(this._hover.containerDomNode,c,g),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof c=="number"?`${c}px`:c),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions(c){this._setHoverWidgetMaxDimensions("none","none");const g=c.width,l=c.height;this._setHoverWidgetDimensions(g,l)}_updateResizableNodeMaxDimensions(){var c,g;const l=(c=this._findMaximumRenderingWidth())!==null&&c!==void 0?c:1/0,r=(g=this._findMaximumRenderingHeight())!==null&&g!==void 0?g:1/0;this._resizableNode.maxSize=new f.Dimension(l,r),this._setHoverWidgetMaxDimensions(l,r)}_resize(c){var g,l;C._lastDimensions=new f.Dimension(c.width,c.height),this._setAdjustedHoverWidgetDimensions(c),this._resizableNode.layout(c.height,c.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(l=(g=this._visibleData)===null||g===void 0?void 0:g.colorPicker)===null||l===void 0||l.layout()}_findAvailableSpaceVertically(){var c;const g=(c=this._visibleData)===null||c===void 0?void 0:c.showAtPosition;if(g)return this._positionPreference===1?this._availableVerticalSpaceAbove(g):this._availableVerticalSpaceBelow(g)}_findMaximumRenderingHeight(){const c=this._findAvailableSpaceVertically();if(!c)return;let g=n;return Array.from(this._hover.contentsDomNode.children).forEach(l=>{g+=l.clientHeight}),Math.min(c,g)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const c=Array.from(this._hover.contentsDomNode.children).some(g=>g.scrollWidth>g.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),c}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const c=this._isHoverTextOverflowing(),g=typeof this._contentWidth>"u"?0:this._contentWidth-2;return c||this._hover.containerDomNode.clientWidth<g?f.getClientArea(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(c,g){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=c,this._visibleData.initialMousePosY=g,!1;const l=f.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=t(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,l.left,l.top,l.width,l.height));const r=t(c,g,l.left,l.top,l.width,l.height);return r>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,r),!0)}_setHoverData(c){var g;(g=this._visibleData)===null||g===void 0||g.disposables.dispose(),this._visibleData=c,this._hoverVisibleKey.set(!!c),this._hover.containerDomNode.classList.toggle("hidden",!c)}_updateFont(){const{fontSize:c,lineHeight:g}=this._editor.getOption(50),l=this._hover.contentsDomNode;l.style.fontSize=`${c}px`,l.style.lineHeight=`${g/c}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(d=>this._editor.applyFontInfo(d))}_updateContent(c){const g=this._hover.contentsDomNode;g.style.paddingBottom="",g.textContent="",g.appendChild(c)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const c=Math.max(this._editor.getLayoutInfo().height/4,250,C._lastDimensions.height),g=Math.max(this._editor.getLayoutInfo().width*.66,500,C._lastDimensions.width);this._setHoverWidgetMaxDimensions(g,c)}_render(c,g){this._setHoverData(g),this._updateFont(),this._updateContent(c),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var c;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(c=this._positionPreference)!==null&&c!==void 0?c:1]}:null}showAt(c,g){var l,r,d,u;if(!this._editor||!this._editor.hasModel())return;this._render(c,g);const a=f.getTotalHeight(this._hover.containerDomNode),v=g.showAtPosition;this._positionPreference=(l=this._findPositionPreference(a,v))!==null&&l!==void 0?l:1,this.onContentsChanged(),g.stoleFocus&&this._hover.containerDomNode.focus(),(r=g.colorPicker)===null||r===void 0||r.layout();const p=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,b.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(u=(d=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||d===void 0?void 0:d.getAriaLabel())!==null&&u!==void 0?u:"");p&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+p)}hide(){if(!this._visibleData)return;const c=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new f.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),c&&this._editor.focus()}_removeConstraintsRenderNormally(){const c=this._editor.getLayoutInfo();this._resizableNode.layout(c.height,c.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions(c){this._minimumSize=new f.Dimension(Math.max(this._minimumSize.width,c.width),Math.max(this._minimumSize.height,c.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const c=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new f.Dimension(c,this._minimumSize.height)}onContentsChanged(){var c;this._removeConstraintsRenderNormally();const g=this._hover.containerDomNode;let l=f.getTotalHeight(g),r=f.getTotalWidth(g);if(this._resizableNode.layout(l,r),this._setHoverWidgetDimensions(r,l),l=f.getTotalHeight(g),r=f.getTotalWidth(g),this._contentWidth=r,this._updateMinimumWidth(),this._resizableNode.layout(l,r),!((c=this._visibleData)===null||c===void 0)&&c.showAtPosition){const d=f.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(d,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const c=this._hover.scrollbar.getScrollPosition().scrollTop,g=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:c-g.lineHeight})}scrollDown(){const c=this._hover.scrollbar.getScrollPosition().scrollTop,g=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:c+g.lineHeight})}scrollLeft(){const c=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:c-o})}scrollRight(){const c=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:c+o})}pageUp(){const c=this._hover.scrollbar.getScrollPosition().scrollTop,g=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:c-g})}pageDown(){const c=this._hover.scrollbar.getScrollPosition().scrollTop,g=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:c+g})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=i,i.ID="editor.contrib.resizableContentHoverWidget",i._lastDimensions=new f.Dimension(0,0),e.ContentHoverWidget=i=C=ke([ge(1,D.IContextKeyService),ge(2,y.IConfigurationService),ge(3,m.IAccessibilityService),ge(4,k.IKeybindingService)],i);function t(s,c,g,l,r,d){const u=g+r/2,a=l+d/2,v=Math.max(Math.abs(s-u)-r/2,0),h=Math.max(Math.abs(c-a)-d/2,0);return Math.sqrt(v*v+h*h)}}),define(ne[377],se([1,0,14]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function L(w,b,C){return{kind:2,commandId:w,commandArgs:b,isBubble:C}}class D{constructor(b,C,o){var n;this._log=o,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(const i of b){const t=i.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=D.handleRemovals([].concat(b).concat(C));for(let i=0,t=this._keybindings.length;i<t;i++){const s=this._keybindings[i];if(s.chords.length===0)continue;const c=(n=s.when)===null||n===void 0?void 0:n.substituteConstants();c&&c.type===0||this._addKeyPress(s.chords[0],s)}}static _isTargetedForRemoval(b,C,o){if(C){for(let n=0;n<C.length;n++)if(C[n]!==b.chords[n])return!1}return!(o&&o.type!==1&&(!b.when||!(0,f.expressionsAreEqualWithConstantSubstitution)(o,b.when)))}static handleRemovals(b){const C=new Map;for(let n=0,i=b.length;n<i;n++){const t=b[n];if(t.command&&t.command.charAt(0)==="-"){const s=t.command.substring(1);C.has(s)?C.get(s).push(t):C.set(s,[t])}}if(C.size===0)return b;const o=[];for(let n=0,i=b.length;n<i;n++){const t=b[n];if(!t.command||t.command.length===0){o.push(t);continue}if(t.command.charAt(0)==="-")continue;const s=C.get(t.command);if(!s||!t.isDefault){o.push(t);continue}let c=!1;for(const g of s){const l=g.when;if(this._isTargetedForRemoval(t,g.chords,l)){c=!0;break}}if(!c){o.push(t);continue}}return o}_addKeyPress(b,C){const o=this._map.get(b);if(typeof o>"u"){this._map.set(b,[C]),this._addToLookupMap(C);return}for(let n=o.length-1;n>=0;n--){const i=o[n];if(i.command===C.command)continue;let t=!0;for(let s=1;s<i.chords.length&&s<C.chords.length;s++)if(i.chords[s]!==C.chords[s]){t=!1;break}t&&D.whenIsEntirelyIncluded(i.when,C.when)&&this._removeFromLookupMap(i)}o.push(C),this._addToLookupMap(C)}_addToLookupMap(b){if(!b.command)return;let C=this._lookupMap.get(b.command);typeof C>"u"?(C=[b],this._lookupMap.set(b.command,C)):C.push(b)}_removeFromLookupMap(b){if(!b.command)return;const C=this._lookupMap.get(b.command);if(!(typeof C>"u")){for(let o=0,n=C.length;o<n;o++)if(C[o]===b){C.splice(o,1);return}}}static whenIsEntirelyIncluded(b,C){return!C||C.type===1?!0:!b||b.type===1?!1:(0,f.implies)(b,C)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,C){const o=this._lookupMap.get(b);if(typeof o>"u"||o.length===0)return null;if(o.length===1)return o[0];for(let n=o.length-1;n>=0;n--){const i=o[n];if(C.contextMatchesRules(i.when))return i}return o[o.length-1]}resolve(b,C,o){const n=[...C,o];this._log(`| Resolving ${n}`);const i=this._map.get(n[0]);if(i===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let t=null;if(n.length<2)t=i;else{t=[];for(let c=0,g=i.length;c<g;c++){const l=i[c];if(n.length>l.chords.length)continue;let r=!0;for(let d=1;d<n.length;d++)if(l.chords[d]!==n[d]){r=!1;break}r&&t.push(l)}}const s=this._findCommand(b,t);return s?n.length<s.chords.length?(this._log(`\\ From ${t.length} keybinding entries, awaiting ${s.chords.length-n.length} more chord(s), when: ${y(s.when)}, source: ${m(s)}.`),k):(this._log(`\\ From ${t.length} keybinding entries, matched ${s.command}, when: ${y(s.when)}, source: ${m(s)}.`),L(s.command,s.commandArgs,s.bubble)):(this._log(`\\ From ${t.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(b,C){for(let o=C.length-1;o>=0;o--){const n=C[o];if(D._contextMatchesRules(b,n.when))return n}return null}static _contextMatchesRules(b,C){return C?C.evaluate(b):!0}}e.KeybindingResolver=D;function y(w){return w?`${w.serialize()}`:"no when condition"}function m(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(ne[831],se([1,0,15,9,7,293,2,789,377]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const b=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class C extends y.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:L.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(i,t,s,c,g){super(),this._contextKeyService=i,this._commandService=t,this._telemetryService=s,this._notificationService=c,this._logService=g,this._onDidUpdateKeybindings=this._register(new L.Emitter),this._currentChords=[],this._currentChordChecker=new f.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new f.TimeoutTimer,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,t){const s=this._getResolver().lookupPrimaryKeybinding(i,t||this._contextKeyService);if(s)return s.resolvedKeybinding}dispatchEvent(i,t){return this._dispatch(i,t)}softDispatch(i,t){this._log("/ Soft dispatching keyboard event");const s=this.resolveKeyboardEvent(i);if(s.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),w.NoMatchingKb;const[c]=s.getDispatchChords();if(c===null)return this._log("\\ Keyboard event cannot be dispatched"),w.NoMatchingKb;const g=this._contextKeyService.getContext(t),l=this._currentChords.map(({keypress:r})=>r);return this._getResolver().resolve(g,l,c)}_scheduleLeaveChordMode(){const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(i,t){switch(this._currentChords.push({keypress:i,label:t}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(m.localize(0,null,t));break;default:{const s=this._currentChords.map(({label:c})=>c).join(", ");this._currentChordStatusMessage=this._notificationService.status(m.localize(1,null,s))}}this._scheduleLeaveChordMode(),D.IME.enabled&&D.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],D.IME.enable()}_dispatch(i,t){return this._doDispatch(this.resolveKeyboardEvent(i),t,!1)}_singleModifierDispatch(i,t){const s=this.resolveKeyboardEvent(i),[c]=s.getSingleModifierDispatchChords();if(c)return this._ignoreSingleModifiers.has(c)?(this._log(`+ Ignoring single modifier ${c} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${c}.`),this._currentSingleModifier=c,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):c===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${c} ${c}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(s,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${c}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[g]=s.getChords();return this._ignoreSingleModifiers=new o(g),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,t,s=!1){var c;let g=!1;if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let l=null,r=null;if(s){const[v]=i.getSingleModifierDispatchChords();l=v,r=v?[v]:[]}else[l]=i.getDispatchChords(),r=this._currentChords.map(({keypress:v})=>v);if(l===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),g;const d=this._contextKeyService.getContext(t),u=i.getLabel(),a=this._getResolver().resolve(d,r,l);switch(a.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",u,"[ No matching keybinding ]"),this.inChordMode){const v=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${v}, ${u}".`),this._notificationService.status(m.localize(2,null,v,u),{hideAfter:10*1e3}),this._leaveChordMode(),g=!0}return g}case 1:return this._logService.trace("KeybindingService#dispatch",u,"[ Several keybindings match - more chords needed ]"),g=!0,this._expectAnotherChord(l,u),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),g;case 2:{if(this._logService.trace("KeybindingService#dispatch",u,`[ Will dispatch command ${a.commandId} ]`),a.commandId===null||a.commandId===""){if(this.inChordMode){const v=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${v}, ${u}".`),this._notificationService.status(m.localize(3,null,v,u),{hideAfter:10*1e3}),this._leaveChordMode(),g=!0}}else{this.inChordMode&&this._leaveChordMode(),a.isBubble||(g=!0),this._log(`+ Invoking command ${a.commandId}.`),this._currentlyDispatchingCommandId=a.commandId;try{typeof a.commandArgs>"u"?this._commandService.executeCommand(a.commandId).then(void 0,v=>this._notificationService.warn(v)):this._commandService.executeCommand(a.commandId,a.commandArgs).then(void 0,v=>this._notificationService.warn(v))}finally{this._currentlyDispatchingCommandId=null}b.test(a.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:a.commandId,from:"keybinding",detail:(c=i.getUserSettingsLabel())!==null&&c!==void 0?c:void 0})}return g}}}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=C;class o{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}o.EMPTY=new o(null)}),define(ne[378],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybindingItem=void 0,e.toEmptyArrayIfContainsNull=k;class f{constructor(D,y,m,w,b,C,o){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?k(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=k(D.getSingleModifierDispatchChords())),this.bubble=y?y.charCodeAt(0)===94:!1,this.command=this.bubble?y.substr(1):y,this.commandArgs=m,this.when=w,this.isDefault=b,this.extensionId=C,this.isBuiltinExtension=o}}e.ResolvedKeybindingItem=f;function k(L){const D=[];for(let y=0,m=L.length;y<m;y++){const w=L[y];if(!w)return[];D.push(w)}return D}}),define(ne[832],se([1,0,70,136,830,378]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class y extends L.BaseResolvedKeybinding{constructor(w,b){super(b,w)}_keyCodeToUILabel(w){if(this._os===2)switch(w){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return f.KeyCodeUtils.toString(w)}_getLabel(w){return w.isDuplicateModifierCase()?"":this._keyCodeToUILabel(w.keyCode)}_getAriaLabel(w){return w.isDuplicateModifierCase()?"":f.KeyCodeUtils.toString(w.keyCode)}_getElectronAccelerator(w){return f.KeyCodeUtils.toElectronAccelerator(w.keyCode)}_getUserSettingsLabel(w){if(w.isDuplicateModifierCase())return"";const b=f.KeyCodeUtils.toUserSettingsUS(w.keyCode);return b&&b.toLowerCase()}_getChordDispatch(w){return y.getDispatchStr(w)}static getDispatchStr(w){if(w.isModifierKey())return null;let b="";return w.ctrlKey&&(b+="ctrl+"),w.shiftKey&&(b+="shift+"),w.altKey&&(b+="alt+"),w.metaKey&&(b+="meta+"),b+=f.KeyCodeUtils.toString(w.keyCode),b}_getSingleModifierChordDispatch(w){return w.keyCode===5&&!w.shiftKey&&!w.altKey&&!w.metaKey?"ctrl":w.keyCode===4&&!w.ctrlKey&&!w.altKey&&!w.metaKey?"shift":w.keyCode===6&&!w.ctrlKey&&!w.shiftKey&&!w.metaKey?"alt":w.keyCode===57&&!w.ctrlKey&&!w.shiftKey&&!w.altKey?"meta":null}static _scanCodeToKeyCode(w){const b=f.IMMUTABLE_CODE_TO_KEY_CODE[w];if(b!==-1)return b;switch(w){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(w){if(!w)return null;if(w instanceof k.KeyCodeChord)return w;const b=this._scanCodeToKeyCode(w.scanCode);return b===0?null:new k.KeyCodeChord(w.ctrlKey,w.shiftKey,w.altKey,w.metaKey,b)}static resolveKeybinding(w,b){const C=(0,D.toEmptyArrayIfContainsNull)(w.chords.map(o=>this._toKeyCodeChord(o)));return C.length>0?[new y(C,b)]:[]}}e.USLayoutResolvedKeybinding=y}),define(ne[177],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,f.createDecorator)("labelService")}),define(ne[116],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,f.createDecorator)("layoutService")}),define(ne[379],se([1,0,6,52,13,7,36,49,116]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{get mainContainer(){var n,i;return(i=(n=(0,L.firstOrDefault)(this._codeEditorService.listCodeEditors()))===null||n===void 0?void 0:n.getContainerDomNode())!==null&&i!==void 0?i:k.mainWindow.document.body}get activeContainer(){var n,i;const t=(n=this._codeEditorService.getFocusedCodeEditor())!==null&&n!==void 0?n:this._codeEditorService.getActiveCodeEditor();return(i=t?.getContainerDomNode())!==null&&i!==void 0?i:this.mainContainer}get mainContainerDimension(){return f.getClientArea(this.mainContainer)}get activeContainerDimension(){return f.getClientArea(this.activeContainer)}get containers(){return(0,L.coalesce)(this._codeEditorService.listCodeEditors().map(n=>n.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var n;(n=this._codeEditorService.getFocusedCodeEditor())===null||n===void 0||n.focus()}constructor(n){this._codeEditorService=n,this.onDidLayoutMainContainer=D.Event.None,this.onDidLayoutActiveContainer=D.Event.None,this.onDidLayoutContainer=D.Event.None,this.onDidChangeActiveContainer=D.Event.None,this.onDidAddContainer=D.Event.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};b=ke([ge(0,y.ICodeEditorService)],b);let C=class extends b{get mainContainer(){return this._container}constructor(n,i){super(i),this._container=n}};e.EditorScopedLayoutService=C,e.EditorScopedLayoutService=C=ke([ge(1,y.ICodeEditorService)],C),(0,m.registerSingleton)(w.ILayoutService,b,1)}),define(ne[833],se([1,0,6,52,7,2,62,28,14,116]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let C=class extends D.Disposable{constructor(n,i,t){super(),this._contextKeyService=n,this._layoutService=i,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new L.Emitter,this._onDidChangeReducedMotion=new L.Emitter,this._accessibilityModeEnabledContext=y.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const s=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(g=>{g.affectsConfiguration("editor.accessibilitySupport")&&(s(),this._onDidChangeScreenReaderOptimized.fire()),g.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),s(),this._register(this.onDidChangeScreenReaderOptimized(()=>s()));const c=k.mainWindow.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=c.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(c)}initReducedMotionListeners(n){this._register((0,f.addDisposableListener)(n,"change",()=>{this._systemMotionReduced=n.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const t=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",t),this._layoutService.mainContainer.classList.toggle("enable-motion",!t)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const n=this._configurationService.getValue("editor.accessibilitySupport");return n==="on"||n==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const n=this._configMotionReduced;return n==="on"||n==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=C,e.AccessibilityService=C=ke([ge(0,w.IContextKeyService),ge(1,b.ILayoutService),ge(2,m.IConfigurationService)],C)}),define(ne[380],se([1,0,343,2,116,6]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=e.ContextViewHandler=void 0;let y=class extends k.Disposable{constructor(b){super(),this.layoutService=b,this.contextView=this._register(new f.ContextView(this.layoutService.mainContainer,1)),this.layout(),this._register(b.onDidLayoutContainer(()=>this.layout()))}showContextView(b,C,o){let n;C?C===this.layoutService.getContainer((0,D.getWindow)(C))?n=1:o?n=3:n=2:n=1,this.contextView.setContainer(C??this.layoutService.activeContainer,n),this.contextView.show(b);const i={close:()=>{this.openContextView===i&&this.hideContextView()}};return this.openContextView=i,i}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b),this.openContextView=void 0}};e.ContextViewHandler=y,e.ContextViewHandler=y=ke([ge(0,L.ILayoutService)],y);class m extends y{getContextViewElement(){return this.contextView.getViewElement()}}e.ContextViewService=m}),define(ne[63],se([1,0,7,2,14,8]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.LogLevelToString=C,e.ILogService=(0,D.createDecorator)("logService");var y;(function(o){o[o.Off=0]="Off",o[o.Trace=1]="Trace",o[o.Debug=2]="Debug",o[o.Info=3]="Info",o[o.Warning=4]="Warning",o[o.Error=5]="Error"})(y||(e.LogLevel=y={})),e.DEFAULT_LOG_LEVEL=y.Info;class m extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new f.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(n){this.level!==n&&(this.level=n,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(n){return this.level!==y.Off&&this.level<=n}}e.AbstractLogger=m;class w extends m{constructor(n=e.DEFAULT_LOG_LEVEL,i=!0){super(),this.useColors=i,this.setLevel(n)}trace(n,...i){this.checkLogLevel(y.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",n,...i):console.log(n,...i))}debug(n,...i){this.checkLogLevel(y.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",n,...i):console.log(n,...i))}info(n,...i){this.checkLogLevel(y.Info)&&(this.useColors?console.log("%c INFO","color: #33f",n,...i):console.log(n,...i))}warn(n,...i){this.checkLogLevel(y.Warning)&&(this.useColors?console.log("%c WARN","color: #993",n,...i):console.log(n,...i))}error(n,...i){this.checkLogLevel(y.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",n,...i):console.error(n,...i))}}e.ConsoleLogger=w;class b extends m{constructor(n){super(),this.loggers=n,n.length&&this.setLevel(n[0].getLevel())}setLevel(n){for(const i of this.loggers)i.setLevel(n);super.setLevel(n)}trace(n,...i){for(const t of this.loggers)t.trace(n,...i)}debug(n,...i){for(const t of this.loggers)t.debug(n,...i)}info(n,...i){for(const t of this.loggers)t.info(n,...i)}warn(n,...i){for(const t of this.loggers)t.warn(n,...i)}error(n,...i){for(const t of this.loggers)t.error(n,...i)}dispose(){for(const n of this.loggers)n.dispose();super.dispose()}}e.MultiplexLogger=b;function C(o){switch(o){case y.Trace:return"trace";case y.Debug:return"debug";case y.Info:return"info";case y.Warning:return"warn";case y.Error:return"error";case y.Off:return"off"}}e.CONTEXT_LOG_LEVEL=new L.RawContextKey("logLevel",C(y.Info))}),define(ne[207],se([1,0,66,6,89,46,289,15,7,2,124,11,304,24,62,63]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var c;(function(u){u.Tap="-monaco-textarea-synthetic-tap"})(c||(e.TextAreaSyntethicEvents=c={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class g{constructor(){this._lastState=null}set(a,v){this._lastState={lastCopiedValue:a,data:v}}get(a){return this._lastState&&this._lastState.lastCopiedValue===a?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=g,g.INSTANCE=new g;class l{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(a){a=a||"";const v={text:a,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=a.length,v}}let r=class extends b.Disposable{get textAreaState(){return this._textAreaState}constructor(a,v,h,p,_,S){super(),this._host=a,this._textArea=v,this._OS=h,this._browser=p,this._accessibilityService=_,this._logService=S,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new b.MutableDisposable),this._asyncTriggerCut=this._register(new m.RunOnceScheduler(()=>this._onCut.fire(),0)),this._textAreaState=n.TextAreaState.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(w.Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new m.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let E=null;this._register(this._textArea.onKeyDown(I=>{const T=new D.StandardKeyboardEvent(I);(T.keyCode===114||this._currentComposition&&T.keyCode===1)&&T.stopPropagation(),T.equals(9)&&T.preventDefault(),E=T,this._onKeyDown.fire(T)})),this._register(this._textArea.onKeyUp(I=>{const T=new D.StandardKeyboardEvent(I);this._onKeyUp.fire(T)})),this._register(this._textArea.onCompositionStart(I=>{n._debugComposition&&console.log("[compositionstart]",I);const T=new l;if(this._currentComposition){this._currentComposition=T;return}if(this._currentComposition=T,this._OS===2&&E&&E.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===I.data&&(E.code==="ArrowRight"||E.code==="ArrowLeft")){n._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",I),T.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:I.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:I.data});return}this._onCompositionStart.fire({data:I.data})})),this._register(this._textArea.onCompositionUpdate(I=>{n._debugComposition&&console.log("[compositionupdate]",I);const T=this._currentComposition;if(!T)return;if(this._browser.isAndroid){const A=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),R=n.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(R),this._onCompositionUpdate.fire(I);return}const N=T.handleCompositionUpdate(I.data);this._textAreaState=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionUpdate.fire(I)})),this._register(this._textArea.onCompositionEnd(I=>{n._debugComposition&&console.log("[compositionend]",I);const T=this._currentComposition;if(!T)return;if(this._currentComposition=null,this._browser.isAndroid){const A=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),R=n.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(R),this._onCompositionEnd.fire();return}const N=T.handleCompositionUpdate(I.data);this._textAreaState=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(I=>{if(n._debugComposition&&console.log("[input]",I),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const T=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),N=n.TextAreaState.deduceInput(this._textAreaState,T,this._OS===2);N.replacePrevCharCnt===0&&N.text.length===1&&(o.isHighSurrogate(N.text.charCodeAt(0))||N.text.charCodeAt(0)===127)||(this._textAreaState=T,(N.text!==""||N.replacePrevCharCnt!==0||N.replaceNextCharCnt!==0||N.positionDelta!==0)&&this._onType.fire(N))})),this._register(this._textArea.onCut(I=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(I),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(I=>{this._ensureClipboardGetsEditorSelection(I)})),this._register(this._textArea.onPaste(I=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),I.preventDefault(),!I.clipboardData)return;let[T,N]=e.ClipboardEventUtils.getTextData(I.clipboardData);T&&(N=N||g.INSTANCE.get(T),this._onPaste.fire({text:T,metadata:N}))})),this._register(this._textArea.onFocus(()=>{const I=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!I&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new m.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let a=0;return k.addDisposableListener(this._textArea.ownerDocument,"selectionchange",v=>{if(y.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const h=Date.now(),p=h-a;if(a=h,p<5)return;const _=h-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),_<100||!this._textAreaState.selection)return;const S=this._textArea.getValue();if(this._textAreaState.value!==S)return;const E=this._textArea.getSelectionStart(),I=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===E&&this._textAreaState.selectionEnd===I)return;const T=this._textAreaState.deduceEditorPosition(E),N=this._host.deduceModelPosition(T[0],T[1],T[2]),A=this._textAreaState.deduceEditorPosition(I),R=this._host.deduceModelPosition(A[0],A[1],A[2]),M=new i.Selection(N.lineNumber,N.column,R.lineNumber,R.column);this._onSelectionChangeRequest.fire(M)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(a){this._hasFocus!==a&&(this._hasFocus=a,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(a,v){this._hasFocus||(v=v.collapseSelection()),v.writeToTextArea(a,this._textArea,this._hasFocus),this._textAreaState=v}writeNativeTextAreaContent(a){!this._accessibilityService.isScreenReaderOptimized()&&a==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${a})`),this._setAndWriteTextAreaState(a,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(a){const v=this._host.getDataToCopy(),h={version:1,isFromEmptySelection:v.isFromEmptySelection,multicursorText:v.multicursorText,mode:v.mode};g.INSTANCE.set(this._browser.isFirefox?v.text.replace(/\r\n/g,`
`):v.text,h),a.preventDefault(),a.clipboardData&&e.ClipboardEventUtils.setTextData(a.clipboardData,v.text,v.html,h)}};e.TextAreaInput=r,e.TextAreaInput=r=ke([ge(4,t.IAccessibilityService),ge(5,s.ILogService)],r),e.ClipboardEventUtils={getTextData(u){const a=u.getData(C.Mimes.text);let v=null;const h=u.getData("vscode-editor-data");if(typeof h=="string")try{v=JSON.parse(h),v.version!==1&&(v=null)}catch{}return a.length===0&&v===null&&u.files.length>0?[Array.prototype.slice.call(u.files,0).map(_=>_.name).join(`
`),null]:[a,v]},setTextData(u,a,v,h){u.setData(C.Mimes.text,a),typeof v=="string"&&u.setData("text/html",v),u.setData("vscode-editor-data",JSON.stringify(h))}};class d extends b.Disposable{get ownerDocument(){return this._actual.ownerDocument}constructor(a){super(),this._actual=a,this.onKeyDown=this._register(new L.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new L.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new L.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new L.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new L.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new L.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new L.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new L.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new L.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new L.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new L.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new L.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new w.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>y.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>y.inputLatency.onBeforeInput())),this._register(this.onInput(()=>y.inputLatency.onInput())),this._register(this.onKeyUp(()=>y.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,c.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const a=k.getShadowRoot(this._actual);return a?a.activeElement===this._actual:this._actual.isConnected?k.getActiveElement()===this._actual:!1}setIgnoreSelectionChangeTime(a){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(a,v){const h=this._actual;h.value!==v&&(this.setIgnoreSelectionChangeTime("setValue"),h.value=v)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(a,v,h){const p=this._actual;let _=null;const S=k.getShadowRoot(p);S?_=S.activeElement:_=k.getActiveElement();const E=k.getWindow(_),I=_===p,T=p.selectionStart,N=p.selectionEnd;if(I&&T===v&&N===h){f.isFirefox&&E.parent!==E&&p.focus();return}if(I){this.setIgnoreSelectionChangeTime("setSelectionRange"),p.setSelectionRange(v,h),f.isFirefox&&E.parent!==E&&p.focus();return}try{const A=k.saveParentsScrollTop(p);this.setIgnoreSelectionChangeTime("setSelectionRange"),p.focus(),p.setSelectionRange(v,h),k.restoreParentsScrollTop(p,A)}catch{}}}e.TextAreaWrapper=d}),define(ne[84],se([1,0,127,45,137,265,49,8,63,47]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,m.createDecorator)("ILanguageFeatureDebounceService");var C;(function(t){const s=new WeakMap;let c=0;function g(l){let r=s.get(l);return r===void 0&&(r=++c,s.set(l,r)),r}t.of=g})(C||(C={}));class o{constructor(s){this._default=s}get(s){return this._default}update(s,c){return this._default}default(){return this._default}}class n{constructor(s,c,g,l,r,d){this._logService=s,this._name=c,this._registry=g,this._default=l,this._min=r,this._max=d,this._cache=new k.LRUCache(50,.7)}_key(s){return s.id+this._registry.all(s).reduce((c,g)=>(0,f.doHash)(C.of(g),c),0)}get(s){const c=this._key(s),g=this._cache.get(c);return g?(0,L.clamp)(g.value,this._min,this._max):this.default()}update(s,c){const g=this._key(s);let l=this._cache.get(g);l||(l=new L.SlidingWindowAverage(6),this._cache.set(g,l));const r=(0,L.clamp)(l.update(c),this._min,this._max);return(0,b.matchesScheme)(s.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${s.uri.toString()} is ${r}ms`),r}_overall(){const s=new L.MovingAverage;for(const[,c]of this._cache)s.update(c.value);return s.value}default(){const s=this._overall()|0||this._default;return(0,L.clamp)(s,this._min,this._max)}}let i=class{constructor(s,c){this._logService=s,this._data=new Map,this._isDev=c.isExtensionDevelopment||!c.isBuilt}for(s,c,g){var l,r,d;const u=(l=g?.min)!==null&&l!==void 0?l:50,a=(r=g?.max)!==null&&r!==void 0?r:u**2,v=(d=g?.key)!==null&&d!==void 0?d:void 0,h=`${C.of(s)},${u}${v?","+v:""}`;let p=this._data.get(h);return p||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${c}] is disabled in developed mode`),p=new o(u*1.5)):p=new n(this._logService,c,s,this._overallAverage()|0||u*1.5,u,a),this._data.set(h,p)),p}_overallAverage(){const s=new L.MovingAverage;for(const c of this._data.values())s.update(c.default());return s.value}};e.LanguageFeatureDebounceService=i,e.LanguageFeatureDebounceService=i=ke([ge(0,w.ILogService),ge(1,D.IEnvironmentService)],i),(0,y.registerSingleton)(e.ILanguageFeatureDebounceService,i,1)}),define(ne[178],se([1,0,13,19,9,54,45,10,5,84,8,49,53,2,18]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class s{remove(){var u;(u=this.parent)===null||u===void 0||u.children.delete(this.id)}static findId(u,a){let v;typeof u=="string"?v=`${a.id}/${u}`:(v=`${a.id}/${u.name}`,a.children.get(v)!==void 0&&(v=`${a.id}/${u.name}_${u.range.startLineNumber}_${u.range.startColumn}`));let h=v;for(let p=0;a.children.get(h)!==void 0;p++)h=`${v}_${p}`;return h}static empty(u){return u.children.size===0}}e.TreeElement=s;class c extends s{constructor(u,a,v){super(),this.id=u,this.parent=a,this.symbol=v,this.children=new Map}}e.OutlineElement=c;class g extends s{constructor(u,a,v,h){super(),this.id=u,this.parent=a,this.label=v,this.order=h,this.children=new Map}}e.OutlineGroup=g;class l extends s{static create(u,a,v){const h=new k.CancellationTokenSource(v),p=new l(a.uri),_=u.ordered(a),S=_.map((I,T)=>{var N;const A=s.findId(`provider_${T}`,p),R=new g(A,p,(N=I.displayName)!==null&&N!==void 0?N:"Unknown Outline Provider",T);return Promise.resolve(I.provideDocumentSymbols(a,h.token)).then(M=>{for(const P of M||[])l._makeOutlineElement(P,R);return R},M=>((0,L.onUnexpectedExternalError)(M),R)).then(M=>{s.empty(M)?M.remove():p._groups.set(A,M)})}),E=u.onDidChange(()=>{const I=u.ordered(a);(0,f.equals)(I,_)||h.cancel()});return Promise.all(S).then(()=>h.token.isCancellationRequested&&!v.isCancellationRequested?l.create(u,a,v):p._compact()).finally(()=>{h.dispose(),E.dispose(),h.dispose()})}static _makeOutlineElement(u,a){const v=s.findId(u,a),h=new c(v,a,u);if(u.children)for(const p of u.children)l._makeOutlineElement(p,h);a.children.set(h.id,h)}constructor(u){super(),this.uri=u,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let u=0;for(const[a,v]of this._groups)v.children.size===0?this._groups.delete(a):u+=1;if(u!==1)this.children=this._groups;else{const a=D.Iterable.first(this._groups.values());for(const[,v]of a.children)v.parent=this,this.children.set(v.id,v)}return this}getTopLevelSymbols(){const u=[];for(const a of this.children.values())a instanceof c?u.push(a.symbol):u.push(...D.Iterable.map(a.children.values(),v=>v.symbol));return u.sort((a,v)=>w.Range.compareRangesUsingStarts(a.range,v.range))}asListOfDocumentSymbols(){const u=this.getTopLevelSymbols(),a=[];return l._flattenDocumentSymbols(a,u,""),a.sort((v,h)=>m.Position.compare(w.Range.getStartPosition(v.range),w.Range.getStartPosition(h.range))||m.Position.compare(w.Range.getEndPosition(h.range),w.Range.getEndPosition(v.range)))}static _flattenDocumentSymbols(u,a,v){for(const h of a)u.push({kind:h.kind,tags:h.tags,name:h.name,detail:h.detail,containerName:h.containerName||v,range:h.range,selectionRange:h.selectionRange,children:void 0}),h.children&&l._flattenDocumentSymbols(u,h.children,h.name)}}e.OutlineModel=l,e.IOutlineModelService=(0,C.createDecorator)("IOutlineModelService");let r=class{constructor(u,a,v){this._languageFeaturesService=u,this._disposables=new i.DisposableStore,this._cache=new y.LRUCache(10,.7),this._debounceInformation=a.for(u.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(v.onModelRemoved(h=>{this._cache.delete(h.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(u,a){const v=this._languageFeaturesService.documentSymbolProvider,h=v.ordered(u);let p=this._cache.get(u.id);if(!p||p.versionId!==u.getVersionId()||!(0,f.equals)(p.provider,h)){const S=new k.CancellationTokenSource;p={versionId:u.getVersionId(),provider:h,promiseCnt:0,source:S,promise:l.create(v,u,S.token),model:void 0},this._cache.set(u.id,p);const E=Date.now();p.promise.then(I=>{p.model=I,this._debounceInformation.update(u,Date.now()-E)}).catch(I=>{this._cache.delete(u.id)})}if(p.model)return p.model;p.promiseCnt+=1;const _=a.onCancellationRequested(()=>{--p.promiseCnt===0&&(p.source.cancel(),this._cache.delete(u.id))});try{return await p.promise}finally{_.dispose()}}};e.OutlineModelService=r,e.OutlineModelService=r=ke([ge(0,t.ILanguageFeaturesService),ge(1,b.ILanguageFeatureDebounceService),ge(2,n.IModelService)],r),(0,o.registerSingleton)(e.IOutlineModelService,r,1)}),define(ne[834],se([1,0,13,30,370,83,18,178,2,7]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let C=class extends w.Disposable{constructor(n,i,t){super(),this._textModel=n,this._languageFeaturesService=i,this._outlineModelService=t,this._currentModel=(0,k.observableValue)(this,void 0);const s=(0,k.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),c=(0,k.observableSignalFromEvent)("_textModel.onDidChangeContent",b.Event.debounce(g=>this._textModel.onDidChangeContent(g),()=>{},100));this._register((0,k.autorunWithStore)(async(g,l)=>{s.read(g),c.read(g);const r=l.add(new D.DisposableCancellationTokenSource),d=await this._outlineModelService.getOrCreate(this._textModel,r.token);l.isDisposed||this._currentModel.set(d,void 0)}))}getBreadcrumbItems(n,i){const t=this._currentModel.read(i);if(!t)return[];const s=t.asListOfDocumentSymbols().filter(c=>n.contains(c.range.startLineNumber)&&!n.contains(c.range.endLineNumber));return s.sort((0,f.reverseOrder)((0,f.compareBy)(c=>c.range.endLineNumber-c.range.startLineNumber,f.numberComparator))),s.map(c=>({name:c.name,kind:c.kind,startLineNumber:c.range.startLineNumber}))}};C=ke([ge(1,y.ILanguageFeaturesService),ge(2,m.IOutlineModelService)],C),L.HideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((o,n)=>n.createInstance(C,o))}),define(ne[835],se([1,0,19,20,22,75,178,25]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),m.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",async function(w,...b){const[C]=b;(0,k.assertType)(L.URI.isUri(C));const o=w.get(y.IOutlineModelService),i=await w.get(D.ITextModelService).createModelReference(C);try{return(await o.getOrCreate(i.object.textEditorModel,f.CancellationToken.None)).getTopLevelSymbols()}finally{i.dispose()}})}),define(ne[836],se([1,0,66,6,52,15,7,127,2,116,63]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let n=o=class extends w.Disposable{constructor(t,s){super(),this.layoutService=t,this.logService=s,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(f.isSafari||f.isWebkitWebView)&&this.installWebKitWriteTextWorkaround(),this._register(y.Event.runAndSubscribe(k.onDidRegisterWindow,({window:c,disposables:g})=>{g.add((0,k.addDisposableListener)(c.document,"copy",()=>this.clearResources()))},{window:L.mainWindow,disposables:this._store}))}installWebKitWriteTextWorkaround(){const t=()=>{const s=new D.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,(0,k.getActiveWindow)().navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(async c=>{(!(c instanceof Error)||c.name!=="NotAllowedError"||!s.isRejected)&&this.logService.error(c)})};this._register(y.Event.runAndSubscribe(this.layoutService.onDidAddContainer,({container:s,disposables:c})=>{c.add((0,k.addDisposableListener)(s,"click",t)),c.add((0,k.addDisposableListener)(s,"keydown",t))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(t,s){if(this.writeResources([]),s){this.mapTextToType.set(s,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return await(0,k.getActiveWindow)().navigator.clipboard.writeText(t)}catch(c){console.error(c)}this.fallbackWriteText(t)}fallbackWriteText(t){const s=(0,k.getActiveDocument)(),c=s.activeElement,g=s.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));g.style.height="1px",g.style.width="1px",g.style.position="absolute",g.value=t,g.focus(),g.select(),s.execCommand("copy"),(0,k.isHTMLElement)(c)&&c.focus(),s.body.removeChild(g)}async readText(t){if(t)return this.mapTextToType.get(t)||"";try{return await(0,k.getActiveWindow)().navigator.clipboard.readText()}catch(s){console.error(s)}return""}async readFindText(){return this.findText}async writeFindText(t){this.findText=t}async writeResources(t){t.length===0?this.clearResources():(this.resources=t,this.resourcesStateHash=await this.computeResourcesStateHash())}async readResources(){const t=await this.computeResourcesStateHash();return this.resourcesStateHash!==t&&this.clearResources(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const t=await this.readText();return(0,m.hash)(t.substring(0,o.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};e.BrowserClipboardService=n,n.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,e.BrowserClipboardService=n=o=ke([ge(0,b.ILayoutService),ge(1,C.ILogService)],n)}),define(ne[837],se([1,0,2,63]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class L extends f.Disposable{constructor(y,m=[]){super(),this.logger=new k.MultiplexLogger([y,...m]),this._register(y.onDidChangeLogLevel(w=>this.setLevel(w)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(y){this.logger.setLevel(y)}getLevel(){return this.logger.getLevel()}trace(y,...m){this.logger.trace(y,...m)}debug(y,...m){this.logger.debug(y,...m)}info(y,...m){this.logger.info(y,...m)}warn(y,...m){this.logger.warn(y,...m)}error(y,...m){this.logger.error(y,...m)}}e.LogService=L}),define(ne[104],se([1,0,107,791,8]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(D||(e.MarkerSeverity=D={})),function(m){function w(i,t){return t-i}m.compare=w;const b=Object.create(null);b[m.Error]=(0,k.localize)(0,null),b[m.Warning]=(0,k.localize)(1,null),b[m.Info]=(0,k.localize)(2,null);function C(i){return b[i]||""}m.toString=C;function o(i){switch(i){case f.default.Error:return m.Error;case f.default.Warning:return m.Warning;case f.default.Info:return m.Info;case f.default.Ignore:return m.Hint}}m.fromSeverity=o;function n(i){switch(i){case m.Error:return f.default.Error;case m.Warning:return f.default.Warning;case m.Info:return f.default.Info;case m.Hint:return f.default.Ignore}}m.toSeverity=n}(D||(e.MarkerSeverity=D={}));var y;(function(m){const w="";function b(o){return C(o,!0)}m.makeKey=b;function C(o,n){const i=[w];return o.source?i.push(o.source.replace("\xA6","\\\xA6")):i.push(w),o.code?typeof o.code=="string"?i.push(o.code.replace("\xA6","\\\xA6")):i.push(o.code.value.replace("\xA6","\\\xA6")):i.push(w),o.severity!==void 0&&o.severity!==null?i.push(D.toString(o.severity)):i.push(w),o.message&&n?i.push(o.message.replace("\xA6","\\\xA6")):i.push(w),o.startLineNumber!==void 0&&o.startLineNumber!==null?i.push(o.startLineNumber.toString()):i.push(w),o.startColumn!==void 0&&o.startColumn!==null?i.push(o.startColumn.toString()):i.push(w),o.endLineNumber!==void 0&&o.endLineNumber!==null?i.push(o.endLineNumber.toString()):i.push(w),o.endColumn!==void 0&&o.endColumn!==null?i.push(o.endColumn.toString()):i.push(w),i.push(w),i.join("\xA6")}m.makeKeyOptionalMessage=C})(y||(e.IMarkerData=y={})),e.IMarkerService=(0,L.createDecorator)("markerService")}),define(ne[838],se([1,0,13,7,2,71,11,22,5,49,8,104,28]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class i{constructor(g,l,r){this.marker=g,this.index=l,this.total=r}}e.MarkerCoordinate=i;let t=class{constructor(g,l,r){this._markerService=l,this._configService=r,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new L.DisposableStore,this._markers=[],this._nextIdx=-1,m.URI.isUri(g)?this._resourceFilter=v=>v.toString()===g.toString():g&&(this._resourceFilter=g);const d=this._configService.getValue("problems.sortOrder"),u=(v,h)=>{let p=(0,y.compare)(v.resource.toString(),h.resource.toString());return p===0&&(d==="position"?p=w.Range.compareRangesUsingStarts(v,h)||o.MarkerSeverity.compare(v.severity,h.severity):p=o.MarkerSeverity.compare(v.severity,h.severity)||w.Range.compareRangesUsingStarts(v,h)),p},a=()=>{this._markers=this._markerService.read({resource:m.URI.isUri(g)?g:void 0,severities:o.MarkerSeverity.Error|o.MarkerSeverity.Warning|o.MarkerSeverity.Info}),typeof g=="function"&&(this._markers=this._markers.filter(v=>this._resourceFilter(v.resource))),this._markers.sort(u)};a(),this._dispoables.add(l.onMarkerChanged(v=>{(!this._resourceFilter||v.some(h=>this._resourceFilter(h)))&&(a(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(g){return!this._resourceFilter&&!g?!0:!this._resourceFilter||!g?!1:this._resourceFilter(g)}get selected(){const g=this._markers[this._nextIdx];return g&&new i(g,this._nextIdx+1,this._markers.length)}_initIdx(g,l,r){let d=!1,u=this._markers.findIndex(a=>a.resource.toString()===g.uri.toString());u<0&&(u=(0,f.binarySearch)(this._markers,{resource:g.uri},(a,v)=>(0,y.compare)(a.resource.toString(),v.resource.toString())),u<0&&(u=~u));for(let a=u;a<this._markers.length;a++){let v=w.Range.lift(this._markers[a]);if(v.isEmpty()){const h=g.getWordAtPosition(v.getStartPosition());h&&(v=new w.Range(v.startLineNumber,h.startColumn,v.startLineNumber,h.endColumn))}if(l&&(v.containsPosition(l)||l.isBeforeOrEqual(v.getStartPosition()))){this._nextIdx=a,d=!0;break}if(this._markers[a].resource.toString()!==g.uri.toString())break}d||(this._nextIdx=r?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(g,l,r){if(this._markers.length===0)return!1;const d=this._nextIdx;return this._nextIdx===-1?this._initIdx(l,r,g):g?this._nextIdx=(this._nextIdx+1)%this._markers.length:g||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),d!==this._nextIdx}find(g,l){let r=this._markers.findIndex(d=>d.resource.toString()===g.toString());if(!(r<0)){for(;r<this._markers.length;r++)if(w.Range.containsPosition(this._markers[r],l))return new i(this._markers[r],r+1,this._markers.length)}}};e.MarkerList=t,e.MarkerList=t=ke([ge(1,o.IMarkerService),ge(2,n.IConfigurationService)],t),e.IMarkerNavigationService=(0,C.createDecorator)("IMarkerNavigationService");let s=class{constructor(g,l){this._markerService=g,this._configService=l,this._provider=new D.LinkedList}getMarkerList(g){for(const l of this._provider){const r=l.getMarkerList(g);if(r)return r}return new t(g,this._markerService,this._configService)}};s=ke([ge(0,o.IMarkerService),ge(1,n.IConfigurationService)],s),(0,b.registerSingleton)(e.IMarkerNavigationService,s,1)}),define(ne[839],se([1,0,13,7,54,45,47,22,104]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([y.Schemas.inMemory,y.Schemas.vscodeSourceControl,y.Schemas.walkThrough,y.Schemas.walkThroughSnippet,y.Schemas.vscodeChatCodeBlock,y.Schemas.vscodeCopilotBackingChatCodeBlock]);class b{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(i,t,s){let c=this._byResource.get(i);c||(c=new Map,this._byResource.set(i,c)),c.set(t,s);let g=this._byOwner.get(t);g||(g=new D.ResourceMap,this._byOwner.set(t,g)),g.set(i,s)}get(i,t){const s=this._byResource.get(i);return s?.get(t)}delete(i,t){let s=!1,c=!1;const g=this._byResource.get(i);g&&(s=g.delete(t));const l=this._byOwner.get(t);if(l&&(c=l.delete(i)),s!==c)throw new Error("illegal state");return s&&c}values(i){var t,s,c,g;return typeof i=="string"?(s=(t=this._byOwner.get(i))===null||t===void 0?void 0:t.values())!==null&&s!==void 0?s:L.Iterable.empty():m.URI.isUri(i)?(g=(c=this._byResource.get(i))===null||c===void 0?void 0:c.values())!==null&&g!==void 0?g:L.Iterable.empty():L.Iterable.map(L.Iterable.concat(...this._byOwner.values()),l=>l[1])}}class C{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const t of i){const s=this._data.get(t);s&&this._substract(s);const c=this._resourceStats(t);this._add(c),this._data.set(t,c)}}_resourceStats(i){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(i.scheme))return t;for(const{severity:s}of this._service.read({resource:i}))s===w.MarkerSeverity.Error?t.errors+=1:s===w.MarkerSeverity.Warning?t.warnings+=1:s===w.MarkerSeverity.Info?t.infos+=1:t.unknowns+=1;return t}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class o{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:o._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new b,this._stats=new C(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,t){for(const s of t||[])this.changeOne(i,s,[])}changeOne(i,t,s){if((0,f.isFalsyOrEmpty)(s))this._data.delete(t,i)&&this._onMarkerChanged.fire([t]);else{const c=[];for(const g of s){const l=o._toMarker(i,t,g);l&&c.push(l)}this._data.set(t,i,c),this._onMarkerChanged.fire([t])}}static _toMarker(i,t,s){let{code:c,severity:g,message:l,source:r,startLineNumber:d,startColumn:u,endLineNumber:a,endColumn:v,relatedInformation:h,tags:p}=s;if(l)return d=d>0?d:1,u=u>0?u:1,a=a>=d?a:d,v=v>0?v:u,{resource:t,owner:i,code:c,severity:g,message:l,source:r,startLineNumber:d,startColumn:u,endLineNumber:a,endColumn:v,relatedInformation:h,tags:p}}changeAll(i,t){const s=[],c=this._data.values(i);if(c)for(const g of c){const l=L.Iterable.first(g);l&&(s.push(l.resource),this._data.delete(l.resource,i))}if((0,f.isNonEmptyArray)(t)){const g=new D.ResourceMap;for(const{resource:l,marker:r}of t){const d=o._toMarker(i,l,r);if(!d)continue;const u=g.get(l);u?u.push(d):(g.set(l,[d]),s.push(l))}for(const[l,r]of g)this._data.set(l,i,r)}s.length>0&&this._onMarkerChanged.fire(s)}read(i=Object.create(null)){let{owner:t,resource:s,severities:c,take:g}=i;if((!g||g<0)&&(g=-1),t&&s){const l=this._data.get(s,t);if(l){const r=[];for(const d of l)if(o._accept(d,c)){const u=r.push(d);if(g>0&&u===g)break}return r}else return[]}else if(!t&&!s){const l=[];for(const r of this._data.values())for(const d of r)if(o._accept(d,c)){const u=l.push(d);if(g>0&&u===g)return l}return l}else{const l=this._data.values(s??t),r=[];for(const d of l)for(const u of d)if(o._accept(u,c)){const a=r.push(u);if(g>0&&a===g)return r}return r}}static _accept(i,t){return t===void 0||(t&i.severity)===i.severity}static _merge(i){const t=new D.ResourceMap;for(const s of i)for(const c of s)t.set(c,!0);return Array.from(t.keys())}}e.MarkerService=o}),define(ne[50],se([1,0,107,8]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=f.default,e.INotificationService=(0,k.createDecorator)("notificationService");class L{}e.NoOpNotification=L}),define(ne[381],se([1,0,6,254,41,338,9,7,2,148,262,714,14,58,8,32,50,490]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let l=g=class extends w.Disposable{constructor(u,a,v,h,p,_,S,E,I,T){super(),this.typeId=u,this.editor=a,this.showCommand=h,this.range=p,this.edits=_,this.onSelectNewEdit=S,this._contextMenuService=E,this._keybindingService=T,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=v.bindTo(I),this.visibleContext.set(!0),this._register((0,w.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,w.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(N=>{p.containsPosition(N.position)||this.dispose()})),this._register(m.Event.runAndSubscribe(T.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var u;const a=(u=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||u===void 0?void 0:u.getLabel();this.button.element.title=this.showCommand.label+(a?` (${a})`:"")}create(){this.domNode=f.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(f.addDisposableListener(this.domNode,f.EventType.CLICK,()=>this.showSelector()))}getId(){return g.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const u=f.getDomNodePagePosition(this.button.element);return{x:u.left+u.width,y:u.top+u.height}},getActions:()=>this.edits.allEdits.map((u,a)=>(0,L.toAction)({id:"",label:u.title,checked:a===this.edits.activeEditIndex,run:()=>{if(a!==this.edits.activeEditIndex)return this.onSelectNewEdit(a)}}))})}};l.baseId="editor.widget.postEditWidget",l=g=ke([ge(7,i.IContextMenuService),ge(8,n.IContextKeyService),ge(9,s.IKeybindingService)],l);let r=class extends w.Disposable{constructor(u,a,v,h,p,_,S){super(),this._id=u,this._editor=a,this._visibleContext=v,this._showCommand=h,this._instantiationService=p,this._bulkEditService=_,this._notificationService=S,this._currentWidget=this._register(new w.MutableDisposable),this._register(m.Event.any(a.onDidChangeModel,a.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(u,a,v,h,p){const _=this._editor.getModel();if(!_||!u.length)return;const S=a.allEdits.at(a.activeEditIndex);if(!S)return;const E=async F=>{const O=this._editor.getModel();O&&(await O.undo(),this.applyEditAndShowIfNeeded(u,{activeEditIndex:F,allEdits:a.allEdits},v,h,p))},I=(F,O)=>{(0,y.isCancellationError)(F)||(this._notificationService.error(O),v&&this.show(u[0],a,E))};let T;try{T=await h(S,p)}catch(F){return I(F,(0,o.localize)(0,null,S.title,(0,D.toErrorMessage)(F)))}if(p.isCancellationRequested)return;const N=(0,C.createCombinedWorkspaceEdit)(_.uri,u,T),A=u[0],R=_.deltaDecorations([],[{range:A,options:{description:"paste-line-suffix",stickiness:0}}]);this._editor.focus();let M,P;try{M=await this._bulkEditService.apply(N,{editor:this._editor,token:p}),P=_.getDecorationRange(R[0])}catch(F){return I(F,(0,o.localize)(1,null,S.title,(0,D.toErrorMessage)(F)))}finally{_.deltaDecorations(R,[])}p.isCancellationRequested||v&&M.isApplied&&a.allEdits.length>1&&this.show(P??A,a,E)}show(u,a,v){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(l,this._id,this._editor,this._visibleContext,this._showCommand,u,a,v))}clear(){this._currentWidget.clear()}tryShowSelector(){var u;(u=this._currentWidget.value)===null||u===void 0||u.showSelector()}};e.PostEditWidgetManager=r,e.PostEditWidgetManager=r=ke([ge(4,t.IInstantiationService),ge(5,b.IBulkEditService),ge(6,c.INotificationService)],r)}),define(ne[840],se([1,0,30]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bindContextKey=k;function k(L,D,y){const m=L.bindTo(D);return(0,f.autorunOpts)({debugName:()=>`Set Context Key "${L.key}"`},w=>{m.set(y(w))})}}),define(ne[64],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IOpenerService=void 0,e.extractSelection=k,e.IOpenerService=(0,f.createDecorator)("openerService");function k(L){let D;const y=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(L.fragment);return y&&(D={startLineNumber:parseInt(y[1]),startColumn:y[2]?parseInt(y[2]):1,endLineNumber:y[4]?parseInt(y[4]):void 0,endColumn:y[4]?y[5]?parseInt(y[5]):1:void 0},L=L.with({fragment:""})),{selection:D,uri:L}}}),define(ne[841],se([1,0,6,52,19,71,45,248,47,51,22,36,25,814,64]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let s=class{constructor(r){this._commandService=r}async open(r,d){if(!(0,w.matchesScheme)(r,w.Schemas.command))return!1;if(!d?.allowCommands||(typeof r=="string"&&(r=C.URI.parse(r)),Array.isArray(d.allowCommands)&&!d.allowCommands.includes(r.path)))return!0;let u=[];try{u=(0,m.parse)(decodeURIComponent(r.query))}catch{try{u=(0,m.parse)(r.query)}catch{}}return Array.isArray(u)||(u=[u]),await this._commandService.executeCommand(r.path,...u),!0}};s=ke([ge(0,n.ICommandService)],s);let c=class{constructor(r){this._editorService=r}async open(r,d){typeof r=="string"&&(r=C.URI.parse(r));const{selection:u,uri:a}=(0,t.extractSelection)(r);return r=a,r.scheme===w.Schemas.file&&(r=(0,b.normalizePath)(r)),await this._editorService.openCodeEditor({resource:r,options:{selection:u,source:d?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API,...d?.editorOptions}},this._editorService.getFocusedCodeEditor(),d?.openToSide),!0}};c=ke([ge(0,o.ICodeEditorService)],c);let g=class{constructor(r,d){this._openers=new D.LinkedList,this._validators=new D.LinkedList,this._resolvers=new D.LinkedList,this._resolvedUriTargets=new y.ResourceMap(u=>u.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new D.LinkedList,this._defaultExternalOpener={openExternal:async u=>((0,w.matchesSomeScheme)(u,w.Schemas.http,w.Schemas.https)?f.windowOpenNoOpener(u):k.mainWindow.location.href=u,!0)},this._openers.push({open:async(u,a)=>a?.openExternal||(0,w.matchesSomeScheme)(u,w.Schemas.mailto,w.Schemas.http,w.Schemas.https,w.Schemas.vsls)?(await this._doOpenExternal(u,a),!0):!1}),this._openers.push(new s(d)),this._openers.push(new c(r))}registerOpener(r){return{dispose:this._openers.unshift(r)}}async open(r,d){var u;const a=typeof r=="string"?C.URI.parse(r):r,v=(u=this._resolvedUriTargets.get(a))!==null&&u!==void 0?u:r;for(const h of this._validators)if(!await h.shouldOpen(v,d))return!1;for(const h of this._openers)if(await h.open(r,d))return!0;return!1}async resolveExternalUri(r,d){for(const u of this._resolvers)try{const a=await u.resolveExternalUri(r,d);if(a)return this._resolvedUriTargets.has(a.resolved)||this._resolvedUriTargets.set(a.resolved,r),a}catch{}throw new Error("Could not resolve external URI: "+r.toString())}async _doOpenExternal(r,d){const u=typeof r=="string"?C.URI.parse(r):r;let a;try{a=(await this.resolveExternalUri(u,d)).resolved}catch{a=u}let v;if(typeof r=="string"&&u.toString()===a.toString()?v=r:v=encodeURI(a.toString(!0)),d?.allowContributedOpeners){const h=typeof d?.allowContributedOpeners=="string"?d?.allowContributedOpeners:void 0;for(const p of this._externalOpeners)if(await p.openExternal(v,{sourceUri:u,preferredOpenerId:h},L.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(v,{sourceUri:u},L.CancellationToken.None)}dispose(){this._validators.clear()}};e.OpenerService=g,e.OpenerService=g=ke([ge(0,o.ICodeEditorService),ge(1,n.ICommandService)],g)}),define(ne[842],se([1,0,6,89,46,69,7,2,64,44,115,522]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let o=class extends m.Disposable{get enabled(){return this._enabled}set enabled(i){i?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=i}constructor(i,t,s={},c,g){var l,r;super(),this._link=t,this._hoverService=c,this._enabled=!0,this.el=(0,f.append)(i,(0,f.$)("a.monaco-link",{tabIndex:(l=t.tabIndex)!==null&&l!==void 0?l:0,href:t.href},t.label)),this.hoverDelegate=(r=s.hoverDelegate)!==null&&r!==void 0?r:(0,b.getDefaultHoverDelegate)("mouse"),this.setTooltip(t.title),this.el.setAttribute("role","button");const d=this._register(new k.DomEmitter(this.el,"click")),u=this._register(new k.DomEmitter(this.el,"keypress")),a=y.Event.chain(u.event,p=>p.map(_=>new L.StandardKeyboardEvent(_)).filter(_=>_.keyCode===3)),v=this._register(new k.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const h=y.Event.any(d.event,a,v);this._register(h(p=>{this.enabled&&(f.EventHelper.stop(p,!0),s?.opener?s.opener(this._link.href):g.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(i){this.hoverDelegate.showNativeHover?this.el.title=i??"":!this.hover&&i?this.hover=this._register(this._hoverService.setupUpdatableHover(this.hoverDelegate,this.el,i)):this.hover&&this.hover.update(i)}};e.Link=o,e.Link=o=ke([ge(3,C.IHoverService),ge(4,w.IOpenerService)],o)}),define(ne[93],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,f.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,f.createDecorator)("editorProgressService")}),define(ne[843],se([1,0,15,19,2,20]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var y;(function(C){C[C.NO_ACTION=0]="NO_ACTION",C[C.CLOSE_PICKER=1]="CLOSE_PICKER",C[C.REFRESH_PICKER=2]="REFRESH_PICKER",C[C.REMOVE_ITEM=3]="REMOVE_ITEM"})(y||(e.TriggerAction=y={}));function m(C){const o=C;return Array.isArray(o.items)}function w(C){const o=C;return!!o.picks&&o.additionalPicks instanceof Promise}class b extends L.Disposable{constructor(o,n){super(),this.prefix=o,this.options=n}provide(o,n,i){var t;const s=new L.DisposableStore;o.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),o.matchOnLabel=o.matchOnDescription=o.matchOnDetail=o.sortByLabel=!1;let c;const g=s.add(new L.MutableDisposable),l=async()=>{var d;const u=g.value=new L.DisposableStore;c?.dispose(!0),o.busy=!1,c=new k.CancellationTokenSource(n);const a=c.token;let v=o.value.substring(this.prefix.length);!((d=this.options)===null||d===void 0)&&d.shouldSkipTrimPickFilter||(v=v.trim());const h=this._getPicks(v,u,a,i),p=(S,E)=>{var I;let T,N;if(m(S)?(T=S.items,N=S.active):T=S,T.length===0){if(E)return!1;(v.length>0||o.hideInput)&&(!((I=this.options)===null||I===void 0)&&I.noResultsPick)&&((0,D.isFunction)(this.options.noResultsPick)?T=[this.options.noResultsPick(v)]:T=[this.options.noResultsPick])}return o.items=T,N&&(o.activeItems=[N]),!0},_=async S=>{let E=!1,I=!1;await Promise.all([(async()=>{typeof S.mergeDelay=="number"&&(await(0,f.timeout)(S.mergeDelay),a.isCancellationRequested)||I||(E=p(S.picks,!0))})(),(async()=>{o.busy=!0;try{const T=await S.additionalPicks;if(a.isCancellationRequested)return;let N,A;m(S.picks)?(N=S.picks.items,A=S.picks.active):N=S.picks;let R,M;if(m(T)?(R=T.items,M=T.active):R=T,R.length>0||!E){let P;if(!A&&!M){const F=o.activeItems[0];F&&N.indexOf(F)!==-1&&(P=F)}p({items:[...N,...R],active:A||M||P})}}finally{a.isCancellationRequested||(o.busy=!1),I=!0}})()])};if(h!==null)if(w(h))await _(h);else if(!(h instanceof Promise))p(h);else{o.busy=!0;try{const S=await h;if(a.isCancellationRequested)return;w(S)?await _(S):p(S)}finally{a.isCancellationRequested||(o.busy=!1)}}};s.add(o.onDidChangeValue(()=>l())),l(),s.add(o.onDidAccept(d=>{var u;if(i?.handleAccept){d.inBackground||o.hide(),(u=i.handleAccept)===null||u===void 0||u.call(i,o.activeItems[0]);return}const[a]=o.selectedItems;typeof a?.accept=="function"&&(d.inBackground||o.hide(),a.accept(o.keyMods,d))}));const r=async(d,u)=>{var a,v;if(typeof u.trigger!="function")return;const h=(v=(a=u.buttons)===null||a===void 0?void 0:a.indexOf(d))!==null&&v!==void 0?v:-1;if(h>=0){const p=u.trigger(h,o.keyMods),_=typeof p=="number"?p:await p;if(n.isCancellationRequested)return;switch(_){case y.NO_ACTION:break;case y.CLOSE_PICKER:o.hide();break;case y.REFRESH_PICKER:l();break;case y.REMOVE_ITEM:{const S=o.items.indexOf(u);if(S!==-1){const E=o.items.slice(),I=E.splice(S,1),T=o.activeItems.filter(A=>A!==I[0]),N=o.keepScrollPosition;o.keepScrollPosition=!0,o.items=E,T&&(o.activeItems=T),o.keepScrollPosition=N}break}}}};return s.add(o.onDidTriggerItemButton(({button:d,item:u})=>r(d,u))),s.add(o.onDidTriggerSeparatorButton(({button:d,separator:u})=>r(d,u))),s}}e.PickerQuickAccessProvider=b}),define(ne[844],se([1,0,6,256,2,107,224]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const y=f.$;class m extends L.Disposable{constructor(b,C,o){super(),this.parent=b,this.onKeyDown=i=>f.addStandardDisposableListener(this.findInput.inputBox.inputElement,f.EventType.KEY_DOWN,i),this.onDidChange=i=>this.findInput.onDidChange(i),this.container=f.append(this.parent,y(".quick-input-box")),this.findInput=this._register(new k.FindInput(this.container,void 0,{label:"",inputBoxStyles:C,toggleStyles:o}));const n=this.findInput.inputBox.inputElement;n.role="combobox",n.ariaHasPopup="menu",n.ariaAutoComplete="list",n.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(b){this.findInput.setValue(b)}select(b=null){this.findInput.inputBox.select(b)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(b){this.findInput.inputBox.setPlaceHolder(b)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(b){this.findInput.inputBox.inputElement.type=b?"password":"text"}set enabled(b){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!b)}set toggles(b){this.findInput.setAdditionalToggles(b)}setAttribute(b,C){this.findInput.inputBox.inputElement.setAttribute(b,C)}showDecoration(b){b===D.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:b===D.default.Info?1:b===D.default.Warning?2:3,content:""})}stylesForType(b){return this.findInput.inputBox.stylesForType(b===D.default.Info?1:b===D.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=m}),define(ne[382],se([1,0,6,89,7,46,69,110,183,430,798,224]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputButtonToAction=t,e.renderQuickInputDescription=s;const o={},n=new w.IdGenerator("quick-input-button-icon-");function i(c){if(!c)return;let g;const l=c.dark.toString();return o[l]?g=o[l]:(g=n.nextId(),f.createCSSRule(`.${g}, .hc-light .${g}`,`background-image: ${f.asCSSUrl(c.light||c.dark)}`),f.createCSSRule(`.vs-dark .${g}, .hc-black .${g}`,`background-image: ${f.asCSSUrl(c.dark)}`),o[l]=g),g}function t(c,g,l){let r=c.iconClass||i(c.iconPath);return c.alwaysVisible&&(r=r?`${r} always-visible`:"always-visible"),{id:g,label:"",tooltip:c.tooltip||"",class:r,enabled:!0,run:l}}function s(c,g,l){f.reset(g);const r=(0,b.parseLinkedText)(c);let d=0;for(const u of r.nodes)if(typeof u=="string")g.append(...(0,m.renderLabelWithIcons)(u));else{let a=u.title;!a&&u.href.startsWith("command:")?a=(0,C.localize)(0,null,u.href.substring(8)):a||(a=u.href);const v=f.$("a",{href:u.href,title:a,tabIndex:d++},u.label);v.style.textDecoration="underline";const h=I=>{f.isEventLike(I)&&f.EventHelper.stop(I,!0),l.callback(u.href)},p=l.disposables.add(new k.DomEmitter(v,f.EventType.CLICK)).event,_=l.disposables.add(new k.DomEmitter(v,f.EventType.KEY_DOWN)).event,S=L.Event.chain(_,I=>I.filter(T=>{const N=new D.StandardKeyboardEvent(T);return N.equals(10)||N.equals(3)}));l.disposables.add(y.Gesture.addTarget(v));const E=l.disposables.add(new k.DomEmitter(v,y.EventType.Tap)).event;L.Event.any(p,E,S)(h,null,l.disposables),g.appendChild(v)}}}),define(ne[65],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.QuickPickFocus=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(m){m[m.Blur=1]="Blur",m[m.Gesture=2]="Gesture",m[m.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var L;(function(m){m[m.NONE=0]="NONE",m[m.FIRST=1]="FIRST",m[m.SECOND=2]="SECOND",m[m.LAST=3]="LAST"})(L||(e.ItemActivation=L={}));var D;(function(m){m[m.First=1]="First",m[m.Second=2]="Second",m[m.Last=3]="Last",m[m.Next=4]="Next",m[m.Previous=5]="Previous",m[m.NextPage=6]="NextPage",m[m.PreviousPage=7]="PreviousPage",m[m.NextSeparator=8]="NextSeparator",m[m.PreviousSeparator=9]="PreviousSeparator"})(D||(e.QuickPickFocus=D={}));class y{constructor(w){this.options=w}}e.QuickPickItemScorerAccessor=y,e.quickPickItemScorerAccessor=new y,e.IQuickInputService=(0,f.createDecorator)("quickInputService")}),define(ne[266],se([1,0,6,46,170,13,15,26,7,2,17,107,31,794,65,382,28,115,65,14,224]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputHoverDelegate=e.InputBox=e.QuickPick=e.backButton=e.endOfQuickInputBoxContext=e.EndOfQuickInputBoxContextKey=e.endOfQuickInputBoxContextKeyValue=e.QuickInputTypeContextKey=e.quickInputTypeContextKeyValue=e.inQuickInputContext=e.InQuickInputContextKey=e.inQuickInputContextKeyValue=void 0,e.inQuickInputContextKeyValue="inQuickInput",e.InQuickInputContextKey=new r.RawContextKey(e.inQuickInputContextKeyValue,!1,(0,i.localize)(0,null)),e.inQuickInputContext=r.ContextKeyExpr.has(e.inQuickInputContextKeyValue),e.quickInputTypeContextKeyValue="quickInputType",e.QuickInputTypeContextKey=new r.RawContextKey(e.quickInputTypeContextKeyValue,void 0,(0,i.localize)(1,null)),e.endOfQuickInputBoxContextKeyValue="cursorAtEndOfQuickInputBox",e.EndOfQuickInputBoxContextKey=new r.RawContextKey(e.endOfQuickInputBoxContextKeyValue,!1,(0,i.localize)(2,null)),e.endOfQuickInputBoxContext=r.ContextKeyExpr.has(e.endOfQuickInputBoxContextKeyValue),e.backButton={iconClass:n.ThemeIcon.asClassName(m.Codicon.quickInputBack),tooltip:(0,i.localize)(3,null),handle:-1};class d extends b.Disposable{constructor(p){super(),this.ui=p,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=d.noPromptMessage,this._severity=o.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.onDidHideEmitter=this._register(new w.Emitter),this.onWillHideEmitter=this._register(new w.Emitter),this.onDisposeEmitter=this._register(new w.Emitter),this.visibleDisposables=this._register(new b.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(p){this._title=p,this.update()}get description(){return this._description}set description(p){this._description=p,this.update()}get step(){return this._steps}set step(p){this._steps=p,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(p){this._totalSteps=p,this.update()}get enabled(){return this._enabled}set enabled(p){this._enabled=p,this.update()}get contextKey(){return this._contextKey}set contextKey(p){this._contextKey=p,this.update()}get busy(){return this._busy}set busy(p){this._busy=p,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(p){const _=this._ignoreFocusOut!==p&&!C.isIOS;this._ignoreFocusOut=p&&!C.isIOS,_&&this.update()}get buttons(){return this._buttons}set buttons(p){this._buttons=p,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(p){this._toggles=p??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(p){this._validationMessage=p,this.update()}get severity(){return this._severity}set severity(p){this._severity=p,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(p=>{this.buttons.indexOf(p)!==-1&&this.onDidTriggerButtonEmitter.fire(p)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(p=t.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:p})}willHide(p=t.QuickInputHideReason.Other){this.onWillHideEmitter.fire({reason:p})}update(){var p,_;if(!this.visible)return;const S=this.getTitle();S&&this.ui.title.textContent!==S?this.ui.title.textContent=S:!S&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const E=this.getDescription();if(this.ui.description1.textContent!==E&&(this.ui.description1.textContent=E),this.ui.description2.textContent!==E&&(this.ui.description2.textContent=E),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?f.reset(this.ui.widget,this._widget):f.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new y.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const T=this.buttons.filter(A=>A===e.backButton).map((A,R)=>(0,s.quickInputButtonToAction)(A,`id-${R}`,async()=>this.onDidTriggerButtonEmitter.fire(A)));this.ui.leftActionBar.push(T,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const N=this.buttons.filter(A=>A!==e.backButton).map((A,R)=>(0,s.quickInputButtonToAction)(A,`id-${R}`,async()=>this.onDidTriggerButtonEmitter.fire(A)));this.ui.rightActionBar.push(N,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const T=(_=(p=this.toggles)===null||p===void 0?void 0:p.filter(N=>N instanceof L.Toggle))!==null&&_!==void 0?_:[];this.ui.inputBox.toggles=T}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const I=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==I&&(this._lastValidationMessage=I,f.reset(this.ui.message),(0,s.renderQuickInputDescription)(I,this.ui.message,{callback:T=>{this.ui.linkOpenerDelegate(T)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,i.localize)(5,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(p){if(this.ui.inputBox.showDecoration(p),p!==o.default.Ignore){const _=this.ui.inputBox.stylesForType(p);this.ui.message.style.color=_.foreground?`${_.foreground}`:"",this.ui.message.style.backgroundColor=_.background?`${_.background}`:"",this.ui.message.style.border=_.border?`1px solid ${_.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}d.noPromptMessage=(0,i.localize)(4,null);class u extends d{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new w.Emitter),this.onWillAcceptEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=t.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new w.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new w.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new w.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new w.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new w.EventBufferer,this.type="quickPick",this.filterValue=p=>p,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(p){this._quickNavigate=p,this.update()}get value(){return this._value}set value(p){this.doSetValue(p)}doSetValue(p,_){this._value!==p&&(this._value=p,_||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(p){this._ariaLabel=p,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(p){this._placeholder=p,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(p){this.ui.list.scrollTop=p}set items(p){this._items=p,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(p){this._canSelectMany=p,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(p){this._canAcceptInBackground=p}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(p){this._matchOnDescription=p,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(p){this._matchOnDetail=p,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(p){this._matchOnLabel=p,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(p){this._matchOnLabelMode=p,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(p){this._sortByLabel=p,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(p){this._keepScrollPosition=p}get itemActivation(){return this._itemActivation}set itemActivation(p){this._itemActivation=p}get activeItems(){return this._activeItems}set activeItems(p){this._activeItems=p,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(p){this._selectedItems=p,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?t.NO_KEY_MODS:this.ui.keyMods}get valueSelection(){const p=this.ui.inputBox.getSelection();if(p)return[p.start,p.end]}set valueSelection(p){this._valueSelection=p,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(p){this._customButton=p,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(p){this._customButtonLabel=p,this.update()}get customHover(){return this._customButtonHover}set customHover(p){this._customButtonHover=p,this.update()}get ok(){return this._ok}set ok(p){this._ok=p,this.update()}get hideInput(){return!!this._hideInput}set hideInput(p){this._hideInput=p,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(l.QuickPickFocus.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(p=>{this.doSetValue(p,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(p,_)=>_)(p=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,D.equals)(p,this._activeItems,(_,S)=>_===S)||(this._activeItems=p,this.onDidChangeActiveEmitter.fire(p))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:p,event:_})=>{if(this.canSelectMany){p.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,D.equals)(p,this._selectedItems,(S,E)=>S===E)||(this._selectedItems=p,this.onDidChangeSelectionEmitter.fire(p),p.length&&this.handleAccept(f.isMouseEvent(_)&&_.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(p=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,D.equals)(p,this._selectedItems,(_,S)=>_===S)||(this._selectedItems=p,this.onDidChangeSelectionEmitter.fire(p)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(p=>this.onDidTriggerItemButtonEmitter.fire(p))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(p=>this.onDidTriggerSeparatorButtonEmitter.fire(p))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(p){let _=!1;this.onWillAcceptEmitter.fire({veto:()=>_=!0}),_||this.onDidAcceptEmitter.fire({inBackground:p})}registerQuickNavigation(){return f.addDisposableListener(this.ui.container,f.EventType.KEY_UP,p=>{if(this.canSelectMany||!this._quickNavigate)return;const _=new k.StandardKeyboardEvent(p),S=_.keyCode;this._quickNavigate.keybindings.some(T=>{const N=T.getChords();return N.length>1?!1:N[0].shiftKey&&S===4?!(_.ctrlKey||_.altKey||_.metaKey):!!(N[0].altKey&&S===6||N[0].ctrlKey&&S===5||N[0].metaKey&&S===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const p=this.keepScrollPosition?this.scrollTop:0,_=!!this.description,S={title:!!this.title||!!this.step||!!this.buttons.length,description:_,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||_,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(S),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let E=this.ariaLabel;!E&&S.inputBox&&(E=this.placeholder||u.DEFAULT_ARIA_LABEL,this.title&&(E+=` - ${this.title}`)),this.ui.list.ariaLabel!==E&&(this.ui.list.ariaLabel=E??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case t.ItemActivation.NONE:this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.SECOND:this.ui.list.focus(l.QuickPickFocus.Second),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.LAST:this.ui.list.focus(l.QuickPickFocus.Last),this._itemActivation=t.ItemActivation.FIRST;break;default:this.trySelectFirst();break}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",S.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(l.QuickPickFocus.First)),this.keepScrollPosition&&(this.scrollTop=p)}focus(p){this.ui.list.focus(p),this.canSelectMany&&this.ui.list.domFocus()}accept(p){p&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(p??!1))}}e.QuickPick=u,u.DEFAULT_ARIA_LABEL=(0,i.localize)(6,null);class a extends d{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(p){this._value=p||"",this.update()}get placeholder(){return this._placeholder}set placeholder(p){this._placeholder=p,this.update()}get password(){return this._password}set password(p){this._password=p,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(p=>{p!==this.value&&(this._value=p,this.onDidValueChangeEmitter.fire(p))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const p={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(p),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=a;let v=class extends g.WorkbenchHoverDelegate{constructor(p,_){super("element",!1,S=>this.getOverrideOptions(S),p,_)}getOverrideOptions(p){var _;const S=(f.isHTMLElement(p.content)?(_=p.content.textContent)!==null&&_!==void 0?_:"":typeof p.content=="string"?p.content:p.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:S,skipFadeInAnimation:!0}}}};e.QuickInputHoverDelegate=v,e.QuickInputHoverDelegate=v=ke([ge(0,c.IConfigurationService),ge(1,g.IHoverService)],v)}),define(ne[39],se([1,0,87,20]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class L{constructor(){this.data=new Map}add(y,m){f.ok(k.isString(y)),f.ok(k.isObject(m)),f.ok(!this.data.has(y),"There is already an extension with this id"),this.data.set(y,m)}as(y){return this.data.get(y)||null}}e.Registry=new L}),define(ne[383],se([1,0,39]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},f.Registry.add(e.Extensions.DragAndDropContribution,new k);class L{constructor(){}static getInstance(){return L.INSTANCE}hasData(y){return y&&y===this.proto}getData(y){if(this.hasData(y))return this.data}}e.LocalSelectionTransfer=L,L.INSTANCE=new L}),define(ne[384],se([1,0,219,190,124,22,383]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toVSDataTransfer=m,e.toExternalVSDataTransfer=C;function m(o){const n=new k.VSDataTransfer;for(const i of o.items){const t=i.type;if(i.kind==="string"){const s=new Promise(c=>i.getAsString(c));n.append(t,(0,k.createStringDataTransferItem)(s))}else if(i.kind==="file"){const s=i.getAsFile();s&&n.append(t,w(s))}}return n}function w(o){const n=o.path?D.URI.parse(o.path):void 0;return(0,k.createFileDataTransferItem)(o.name,n,async()=>new Uint8Array(await o.arrayBuffer()))}const b=Object.freeze([y.CodeDataTransfers.EDITORS,y.CodeDataTransfers.FILES,f.DataTransfers.RESOURCES,f.DataTransfers.INTERNAL_URI_LIST]);function C(o,n=!1){const i=m(o),t=i.get(f.DataTransfers.INTERNAL_URI_LIST);if(t)i.replace(L.Mimes.uriList,t);else if(n||!i.has(L.Mimes.uriList)){const s=[];for(const c of o.items){const g=c.getAsFile();if(g){const l=g.path;try{l?s.push(D.URI.file(l).toString()):s.push(D.URI.parse(g.name,!0).toString())}catch{}}}s.length&&i.replace(L.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(s)))}for(const s of b)i.delete(s);return i}}),define(ne[267],se([1,0,7,39]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function L(m){return m.length>0&&m.charAt(m.length-1)==="#"?m.substring(0,m.length-1):m}class D{constructor(){this._onDidChangeSchema=new f.Emitter,this.schemasById={}}registerSchema(w,b){this.schemasById[L(w)]=b,this._onDidChangeSchema.fire(w)}notifySchemaChanged(w){this._onDidChangeSchema.fire(w)}}const y=new D;k.Registry.add(e.Extensions.JSONContribution,y)}),define(ne[105],se([1,0,13,7,20,783,28,267,39]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.overrideIdentifiersFromKey=i,e.getDefaultValue=t,e.validateProperty=c,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const b=w.Registry.as(m.Extensions.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},b.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(l,r=!0){this.registerConfigurations([l],r)}registerConfigurations(l,r=!0){const d=new Set;this.doRegisterConfigurations(l,r,d),b.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:d})}registerDefaultConfigurations(l){const r=new Set;this.doRegisterDefaultConfigurations(l,r),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r,defaultsOverrides:!0})}doRegisterDefaultConfigurations(l,r){var d;const u=[];for(const{overrides:a,source:v}of l)for(const h in a)if(r.add(h),e.OVERRIDE_PROPERTY_REGEX.test(h)){const p=this.configurationDefaultsOverrides.get(h),_=(d=p?.valuesSources)!==null&&d!==void 0?d:new Map;if(v)for(const T of Object.keys(a[h]))_.set(T,v);const S={...p?.value||{},...a[h]};this.configurationDefaultsOverrides.set(h,{source:v,value:S,valuesSources:_});const E=(0,y.getLanguageTagSettingPlainKey)(h),I={type:"object",default:S,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:S,source:L.isString(v)?void 0:v,defaultValueSource:v};u.push(...i(h)),this.configurationProperties[h]=I,this.defaultLanguageConfigurationOverridesNode.properties[h]=I}else{this.configurationDefaultsOverrides.set(h,{value:a[h],source:v});const p=this.configurationProperties[h];p&&(this.updatePropertyDefaultValue(h,p),this.updateSchema(h,p))}this.doRegisterOverrideIdentifiers(u)}registerOverrideIdentifiers(l){this.doRegisterOverrideIdentifiers(l),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(l){for(const r of l)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(l,r,d){l.forEach(u=>{this.validateAndRegisterProperties(u,r,u.extensionInfo,u.restrictedProperties,void 0,d),this.configurationContributors.push(u),this.registerJSONConfiguration(u)})}validateAndRegisterProperties(l,r=!0,d,u,a=3,v){var h;a=L.isUndefinedOrNull(l.scope)?a:l.scope;const p=l.properties;if(p)for(const S in p){const E=p[S];if(r&&c(S,E)){delete p[S];continue}if(E.source=d,E.defaultDefaultValue=p[S].default,this.updatePropertyDefaultValue(S,E),e.OVERRIDE_PROPERTY_REGEX.test(S)?E.scope=void 0:(E.scope=L.isUndefinedOrNull(E.scope)?a:E.scope,E.restricted=L.isUndefinedOrNull(E.restricted)?!!u?.includes(S):E.restricted),p[S].hasOwnProperty("included")&&!p[S].included){this.excludedConfigurationProperties[S]=p[S],delete p[S];continue}else this.configurationProperties[S]=p[S],!((h=p[S].policy)===null||h===void 0)&&h.name&&this.policyConfigurations.set(p[S].policy.name,S);!p[S].deprecationMessage&&p[S].markdownDeprecationMessage&&(p[S].deprecationMessage=p[S].markdownDeprecationMessage),v.add(S)}const _=l.allOf;if(_)for(const S of _)this.validateAndRegisterProperties(S,r,d,u,a,v)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(l){const r=d=>{const u=d.properties;if(u)for(const v in u)this.updateSchema(v,u[v]);const a=d.allOf;a?.forEach(r)};r(l)}updateSchema(l,r){switch(e.allSettings.properties[l]=r,r.scope){case 1:e.applicationSettings.properties[l]=r;break;case 2:e.machineSettings.properties[l]=r;break;case 6:e.machineOverridableSettings.properties[l]=r;break;case 3:e.windowSettings.properties[l]=r;break;case 4:e.resourceSettings.properties[l]=r;break;case 5:e.resourceSettings.properties[l]=r,this.resourceLanguageSettingsSchema.properties[l]=r;break}}updateOverridePropertyPatternKey(){for(const l of this.overrideIdentifiers.values()){const r=`[${l}]`,d={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,d),e.allSettings.properties[r]=d,e.applicationSettings.properties[r]=d,e.machineSettings.properties[r]=d,e.machineOverridableSettings.properties[r]=d,e.windowSettings.properties[r]=d,e.resourceSettings.properties[r]=d}}registerOverridePropertyPatternKey(){const l={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=l,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(l,r){const d=this.configurationDefaultsOverrides.get(l);let u=d?.value,a=d?.source;L.isUndefined(u)&&(u=r.defaultDefaultValue,a=void 0),L.isUndefined(u)&&(u=t(r.type)),r.default=u,r.defaultValueSource=a}}const o="\\[([^\\]]+)\\]",n=new RegExp(o,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${o})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(g){const l=[];if(e.OVERRIDE_PROPERTY_REGEX.test(g)){let r=n.exec(g);for(;r?.length;){const d=r[1].trim();d&&l.push(d),r=n.exec(g)}}return(0,f.distinct)(l)}function t(g){switch(Array.isArray(g)?g[0]:g){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const s=new C;w.Registry.add(e.Extensions.Configuration,s);function c(g,l){var r,d,u,a;return g.trim()?e.OVERRIDE_PROPERTY_REGEX.test(g)?D.localize(7,null,g):s.getConfigurationProperties()[g]!==void 0?D.localize(8,null,g):!((r=l.policy)===null||r===void 0)&&r.name&&s.getPolicyConfigurations().get((d=l.policy)===null||d===void 0?void 0:d.name)!==void 0?D.localize(9,null,g,(u=l.policy)===null||u===void 0?void 0:u.name,s.getPolicyConfigurations().get((a=l.policy)===null||a===void 0?void 0:a.name)):null:D.localize(6,null)}}),define(ne[268],se([1,0,302,38,192,678,105,39]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorConfigurationBaseNode=void 0,e.isEditorConfigurationKey=n,e.isDiffEditorConfigurationKey=i,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:D.localize(0,null),scope:5});const w={...e.editorConfigurationBaseNode,properties:{"editor.tabSize":{type:"number",default:L.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:D.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:D.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:L.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:D.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:L.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:D.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:L.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:D.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:L.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:D.localize(6,null)},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[D.localize(7,null),D.localize(8,null),D.localize(9,null),D.localize(10,null)],description:D.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[D.localize(12,null),D.localize(13,null),D.localize(14,null)],default:"configuredByTheme",description:D.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:D.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:D.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:D.localize(20,null),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:D.localize(21,null),items:{type:"array",items:[{type:"string",description:D.localize(22,null)},{type:"string",description:D.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:D.localize(24,null),items:{type:"array",items:[{type:"string",description:D.localize(25,null)},{type:"string",description:D.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:f.diffEditorDefaultOptions.maxComputationTime,description:D.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:f.diffEditorDefaultOptions.maxFileSize,description:D.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:f.diffEditorDefaultOptions.renderSideBySide,description:D.localize(29,null)},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:f.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:D.localize(30,null)},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:f.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:D.localize(31,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:f.diffEditorDefaultOptions.renderMarginRevertIcon,description:D.localize(32,null)},"diffEditor.renderGutterMenu":{type:"boolean",default:f.diffEditorDefaultOptions.renderGutterMenu,description:D.localize(33,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:f.diffEditorDefaultOptions.ignoreTrimWhitespace,description:D.localize(34,null)},"diffEditor.renderIndicators":{type:"boolean",default:f.diffEditorDefaultOptions.renderIndicators,description:D.localize(35,null)},"diffEditor.codeLens":{type:"boolean",default:f.diffEditorDefaultOptions.diffCodeLens,description:D.localize(36,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:f.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[D.localize(37,null),D.localize(38,null),D.localize(39,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:f.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[D.localize(40,null),D.localize(41,null)],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:f.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:D.localize(42,null)},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:D.localize(43,null),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:D.localize(44,null),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:D.localize(45,null),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:f.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:D.localize(46,null)},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:f.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:D.localize(47,null)}}};function b(s){return typeof s.type<"u"||typeof s.anyOf<"u"}for(const s of k.editorOptionsRegistry){const c=s.schema;if(typeof c<"u")if(b(c))w.properties[`editor.${s.name}`]=c;else for(const g in c)Object.hasOwnProperty.call(c,g)&&(w.properties[g]=c[g])}let C=null;function o(){return C===null&&(C=Object.create(null),Object.keys(w.properties).forEach(s=>{C[s]=!0})),C}function n(s){return o()[`editor.${s}`]||!1}function i(s){return o()[`diffEditor.${s}`]||!1}m.Registry.as(y.Extensions.Configuration).registerConfiguration(w)}),define(ne[85],se([1,0,687,7,39,124,105]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class m{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(b){return this._languages.push(b),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let C=0,o=this._languages.length;C<o;C++)if(this._languages[C]===b){this._languages.splice(C,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=m,e.ModesRegistry=new m,L.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[f.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),L.Registry.as(y.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ne[117],se([1,0,202,100,9,7,2,72,43,85,362,64,483]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0,e.openLinkFromMarkdown=t;let i=n=class{constructor(g,l,r){this._options=g,this._languageService=l,this._openerService=r,this._onDidRenderAsync=new D.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(g,l,r){if(!g)return{element:document.createElement("span"),dispose:()=>{}};const d=new y.DisposableStore,u=d.add((0,f.renderMarkdown)(g,{...this._getRenderOptions(g,d),...l},r));return u.element.classList.add("rendered-markdown"),{element:u.element,dispose:()=>d.dispose()}}_getRenderOptions(g,l){return{codeBlockRenderer:async(r,d)=>{var u,a,v;let h;r?h=this._languageService.getLanguageIdByLanguageName(r):this._options.editor&&(h=(u=this._options.editor.getModel())===null||u===void 0?void 0:u.getLanguageId()),h||(h=b.PLAINTEXT_LANGUAGE_ID);const p=await(0,C.tokenizeToString)(this._languageService,d,h),_=document.createElement("span");if(_.innerHTML=(v=(a=n._ttpTokenizer)===null||a===void 0?void 0:a.createHTML(p))!==null&&v!==void 0?v:p,this._options.editor){const S=this._options.editor.getOption(50);(0,m.applyFontInfo)(_,S)}else this._options.codeBlockFontFamily&&(_.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(_.style.fontSize=this._options.codeBlockFontSize),_},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:r=>t(this._openerService,r,g.isTrusted),disposables:l}}}};e.MarkdownRenderer=i,i._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(c){return c}}),e.MarkdownRenderer=i=n=ke([ge(1,w.ILanguageService),ge(2,o.IOpenerService)],i);async function t(c,g,l){try{return await c.open(g,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:s(l)})}catch(r){return(0,L.onUnexpectedError)(r),!1}}function s(c){return c===!0?!0:c&&Array.isArray(c.enabledCommands)?c.enabledCommands:!1}}),define(ne[845],se([1,0,2,7,6,32,28,38,169,80,64,8,117,57,661,17,62,48,462]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverWidget=void 0;const l=L.$;let r=class extends b.Widget{get _targetWindow(){return L.getWindow(this._target.targetElements[0])}get _targetDocumentElement(){return L.getWindow(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(v){this._isLocked!==v&&(this._isLocked=v,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(v,h,p,_,S,E){var I,T,N,A,R,M,P,F;super(),this._keybindingService=h,this._configurationService=p,this._openerService=_,this._instantiationService=S,this._accessibilityService=E,this._messageListeners=new f.DisposableStore,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new k.Emitter),this._onRequestLayout=this._register(new k.Emitter),this._linkHandler=v.linkHandler||(G=>(0,n.openLinkFromMarkdown)(this._openerService,G,(0,i.isMarkdownString)(v.content)?v.content.isTrusted:void 0)),this._target="targetElements"in v.target?v.target:new u(v.target),this._hoverPointer=!((I=v.appearance)===null||I===void 0)&&I.showPointer?l("div.workbench-hover-pointer"):void 0,this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((T=v.appearance)===null||T===void 0)&&T.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((N=v.appearance)===null||N===void 0)&&N.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),v.additionalClasses&&this._hover.containerDomNode.classList.add(...v.additionalClasses),!((A=v.position)===null||A===void 0)&&A.forcePosition&&(this._forcePosition=!0),v.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(M=(R=v.position)===null||R===void 0?void 0:R.hoverPosition)!==null&&M!==void 0?M:3,this.onmousedown(this._hover.containerDomNode,G=>G.stopPropagation()),this.onkeydown(this._hover.containerDomNode,G=>{G.equals(9)&&this.dispose()}),this._register(L.addDisposableListener(this._targetWindow,"blur",()=>this.dispose()));const O=l("div.hover-row.markdown-hover"),B=l("div.hover-contents");if(typeof v.content=="string")B.textContent=v.content,B.style.whiteSpace="pre-wrap";else if(L.isHTMLElement(v.content))B.appendChild(v.content),B.classList.add("html-hover-contents");else{const G=v.content,z=this._instantiationService.createInstance(n.MarkdownRenderer,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||m.EDITOR_FONT_DEFAULTS.fontFamily}),{element:$}=z.render(G,{actionHandler:{callback:J=>this._linkHandler(J),disposables:this._messageListeners},asyncRenderCallback:()=>{B.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});B.appendChild($)}if(O.appendChild(B),this._hover.contentsDomNode.appendChild(O),v.actions&&v.actions.length>0){const G=l("div.hover-row.status-bar"),z=l("div.actions");v.actions.forEach($=>{const J=this._keybindingService.lookupKeybinding($.commandId),ee=J?J.getLabel():null;w.HoverAction.render(z,{label:$.label,commandId:$.commandId,run:Z=>{$.run(Z),this.dispose()},iconClass:$.iconClass},ee)}),G.appendChild(z),this._hover.containerDomNode.appendChild(G)}this._hoverContainer=l("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let V;if(v.actions&&v.actions.length>0?V=!1:((P=v.persistence)===null||P===void 0?void 0:P.hideOnHover)===void 0?V=typeof v.content=="string"||(0,i.isMarkdownString)(v.content)&&!v.content.value.includes("](")&&!v.content.value.includes("</a>"):V=v.persistence.hideOnHover,V&&(!((F=v.appearance)===null||F===void 0)&&F.showHoverHint)){const G=l("div.hover-row.status-bar"),z=l("div.info");z.textContent=(0,t.localize)(0,null,s.isMacintosh?"Option":"Alt"),G.appendChild(z),this._hover.containerDomNode.appendChild(G)}const K=[...this._target.targetElements];V||K.push(this._hoverContainer);const U=this._register(new d(K));if(this._register(U.onMouseOut(()=>{this._isLocked||this.dispose()})),V){const G=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new d(G)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=U}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const v=this._hover.containerDomNode,h=this.findLastFocusableChild(this._hover.containerDomNode);if(h){const p=L.prepend(this._hoverContainer,l("div")),_=L.append(this._hoverContainer,l("div"));p.tabIndex=0,_.tabIndex=0,this._register(L.addDisposableListener(_,"focus",S=>{v.focus(),S.preventDefault()})),this._register(L.addDisposableListener(p,"focus",S=>{h.focus(),S.preventDefault()}))}}findLastFocusableChild(v){if(v.hasChildNodes())for(let h=0;h<v.childNodes.length;h++){const p=v.childNodes.item(v.childNodes.length-h-1);if(p.nodeType===p.ELEMENT_NODE){const S=p;if(typeof S.tabIndex=="number"&&S.tabIndex>=0)return S}const _=this.findLastFocusableChild(p);if(_)return _}}render(v){var h;v.appendChild(this._hoverContainer);const _=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,w.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(h=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||h===void 0?void 0:h.getAriaLabel());_&&(0,g.status)(_),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const v=A=>{const R=L.getDomNodeZoomLevel(A),M=A.getBoundingClientRect();return{top:M.top*R,bottom:M.bottom*R,right:M.right*R,left:M.left*R}},h=this._target.targetElements.map(A=>v(A)),{top:p,right:_,bottom:S,left:E}=h[0],I=_-E,T=S-p,N={top:p,right:_,bottom:S,left:E,width:I,height:T,center:{x:E+I/2,y:p+T/2}};if(this.adjustHorizontalHoverPosition(N),this.adjustVerticalHoverPosition(N),this.adjustHoverMaxHeight(N),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:N.left+=3,N.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:N.left-=3,N.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:N.top+=3,N.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:N.top-=3,N.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}N.center.x=N.left+I/2,N.center.y=N.top+T/2}this.computeXCordinate(N),this.computeYCordinate(N),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(N)),this._hover.onContentsChanged()}computeXCordinate(v){const h=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=v.right:this._hoverPosition===0?this._x=v.left-h:(this._hoverPointer?this._x=v.center.x-this._hover.containerDomNode.clientWidth/2:this._x=v.left,this._x+h>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-h-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=v.left+2)}computeYCordinate(v){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=v.top:this._hoverPosition===2?this._y=v.bottom-2:this._hoverPointer?this._y=v.center.y+this._hover.containerDomNode.clientHeight/2:this._y=v.bottom,this._y>this._targetWindow.innerHeight&&(this._y=v.bottom)}adjustHorizontalHoverPosition(v){if(this._target.x!==void 0)return;const h=this._hoverPointer?3:0;if(this._forcePosition){const p=h+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-v.right-p}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${v.left-p}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-v.right<this._hover.containerDomNode.clientWidth+h&&(v.left>=this._hover.containerDomNode.clientWidth+h?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(v.left<this._hover.containerDomNode.clientWidth+h&&(this._targetDocumentElement.clientWidth-v.right>=this._hover.containerDomNode.clientWidth+h?this._hoverPosition=1:this._hoverPosition=2),v.left-this._hover.containerDomNode.clientWidth-h<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(v){if(this._target.y!==void 0||this._forcePosition)return;const h=this._hoverPointer?3:0;this._hoverPosition===3?v.top-this._hover.containerDomNode.clientHeight-h<0&&(this._hoverPosition=2):this._hoverPosition===2&&v.bottom+this._hover.containerDomNode.clientHeight+h>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(v){let h=this._targetWindow.innerHeight/2;if(this._forcePosition){const p=(this._hoverPointer?3:0)+2;this._hoverPosition===3?h=Math.min(h,v.top-p):this._hoverPosition===2&&(h=Math.min(h,this._targetWindow.innerHeight-v.bottom-p))}if(this._hover.containerDomNode.style.maxHeight=`${h}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const p=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==p&&(this._hover.contentsDomNode.style.paddingRight=p)}}setHoverPointerPosition(v){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const h=this._hover.containerDomNode.clientHeight;h>v.height?this._hoverPointer.style.top=`${v.center.y-(this._y-h)-3}px`:this._hoverPointer.style.top=`${Math.round(h/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const h=this._hover.containerDomNode.clientWidth;let p=Math.round(h/2)-3;const _=this._x+p;(_<v.left||_>v.right)&&(p=v.center.x-this._x-3),this._hoverPointer.style.left=`${p}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};e.HoverWidget=r,e.HoverWidget=r=ke([ge(1,D.IKeybindingService),ge(2,y.IConfigurationService),ge(3,C.IOpenerService),ge(4,o.IInstantiationService),ge(5,c.IAccessibilityService)],r);class d extends b.Widget{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(v){super(),this._elements=v,this._isMouseIn=!0,this._onMouseOut=this._register(new k.Emitter),this._elements.forEach(h=>this.onmouseover(h,()=>this._onTargetMouseOver(h))),this._elements.forEach(h=>this.onmouseleave(h,()=>this._onTargetMouseLeave(h)))}_onTargetMouseOver(v){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(v)}_onTargetMouseLeave(v){this._isMouseIn=!1,this._evaluateMouseState(v)}_evaluateMouseState(v){this._clearEvaluateMouseStateTimeout(v),this._mouseTimeout=L.getWindow(v).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(v){this._mouseTimeout&&(L.getWindow(v).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class u{constructor(v){this._element=v,this.targetElements=[this._element]}dispose(){}}}),define(ne[35],se([1,0,7,2,11,162,128,549,649,550,552,203,8,28,43,49,85,650]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0,e.getIndentationAtPosition=h;class l{constructor(A){this.languageId=A}affects(A){return this.languageId?this.languageId===A:!0}}e.LanguageConfigurationServiceChangeEvent=l,e.ILanguageConfigurationService=(0,n.createDecorator)("languageConfigurationService");let r=class extends k.Disposable{constructor(A,R){super(),this.configurationService=A,this.languageService=R,this._registry=this._register(new I),this.onDidChangeEmitter=this._register(new f.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const M=new Set(Object.values(u));this._register(this.configurationService.onDidChangeConfiguration(P=>{const F=P.change.keys.some(B=>M.has(B)),O=P.change.overrides.filter(([B,V])=>V.some(K=>M.has(K))).map(([B])=>B);if(F)this.configurations.clear(),this.onDidChangeEmitter.fire(new l(void 0));else for(const B of O)this.languageService.isRegisteredLanguageId(B)&&(this.configurations.delete(B),this.onDidChangeEmitter.fire(new l(B)))})),this._register(this._registry.onDidChange(P=>{this.configurations.delete(P.languageId),this.onDidChangeEmitter.fire(new l(P.languageId))}))}register(A,R,M){return this._registry.register(A,R,M)}getLanguageConfiguration(A){let R=this.configurations.get(A);return R||(R=d(A,this._registry,this.configurationService,this.languageService),this.configurations.set(A,R)),R}};e.LanguageConfigurationService=r,e.LanguageConfigurationService=r=ke([ge(0,i.IConfigurationService),ge(1,t.ILanguageService)],r);function d(N,A,R,M){let P=A.getLanguageConfiguration(N);if(!P){if(!M.isRegisteredLanguageId(N))return new T(N,{});P=new T(N,{})}const F=a(P.languageId,R),O=_([P.underlyingConfig,F]);return new T(P.languageId,O)}const u={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function a(N,A){const R=A.getValue(u.brackets,{overrideIdentifier:N}),M=A.getValue(u.colorizedBracketPairs,{overrideIdentifier:N});return{brackets:v(R),colorizedBracketPairs:v(M)}}function v(N){if(Array.isArray(N))return N.map(A=>{if(!(!Array.isArray(A)||A.length!==2))return[A[0],A[1]]}).filter(A=>!!A)}function h(N,A,R){const M=N.getLineContent(A);let P=L.getLeadingWhitespace(M);return P.length>R-1&&(P=P.substring(0,R-1)),P}class p{constructor(A){this.languageId=A,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(A,R){const M=new S(A,R,++this._order);return this._entries.push(M),this._resolved=null,(0,k.toDisposable)(()=>{for(let P=0;P<this._entries.length;P++)if(this._entries[P]===M){this._entries.splice(P,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const A=this._resolve();A&&(this._resolved=new T(this.languageId,A))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(S.cmp),_(this._entries.map(A=>A.configuration)))}}function _(N){let A={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const R of N)A={comments:R.comments||A.comments,brackets:R.brackets||A.brackets,wordPattern:R.wordPattern||A.wordPattern,indentationRules:R.indentationRules||A.indentationRules,onEnterRules:R.onEnterRules||A.onEnterRules,autoClosingPairs:R.autoClosingPairs||A.autoClosingPairs,surroundingPairs:R.surroundingPairs||A.surroundingPairs,autoCloseBefore:R.autoCloseBefore||A.autoCloseBefore,folding:R.folding||A.folding,colorizedBracketPairs:R.colorizedBracketPairs||A.colorizedBracketPairs,__electricCharacterSupport:R.__electricCharacterSupport||A.__electricCharacterSupport};return A}class S{constructor(A,R,M){this.configuration=A,this.priority=R,this.order=M}static cmp(A,R){return A.priority===R.priority?A.order-R.order:A.priority-R.priority}}class E{constructor(A){this.languageId=A}}e.LanguageConfigurationChangeEvent=E;class I extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(c.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(A,R,M=0){let P=this._entries.get(A);P||(P=new p(A),this._entries.set(A,P));const F=P.register(R,M);return this._onDidChange.fire(new E(A)),(0,k.toDisposable)(()=>{F.dispose(),this._onDidChange.fire(new E(A))})}getLanguageConfiguration(A){const R=this._entries.get(A);return R?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=I;class T{constructor(A,R){this.languageId=A,this.underlyingConfig=R,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new C.OnEnterSupport(this.underlyingConfig):null,this.comments=T._handleComments(this.underlyingConfig),this.characterPair=new m.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new b.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new g.LanguageBracketsConfiguration(A,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new o.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new w.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(A,R,M,P){return this._onEnterSupport?this._onEnterSupport.onEnter(A,R,M,P):null}getAutoClosingPairs(){return new y.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(A){return this.characterPair.getAutoCloseBeforeSet(A)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(A){const R=A.comments;if(!R)return null;const M={};if(R.lineComment&&(M.lineCommentToken=R.lineComment),R.blockComment){const[P,F]=R.blockComment;M.blockCommentStartToken=P,M.blockCommentEndToken=F}return M}}e.ResolvedLanguageConfiguration=T,(0,s.registerSingleton)(e.ILanguageConfigurationService,r,1)}),define(ne[269],se([1,0,15,2,351,640,5,35,686,53,206,13,63,60,9,18,228,101,61,52,6]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const u=60*1e3,a=5*60*1e3;function v(N,A){const R=N.getModel(A);return!(!R||R.isTooLargeForSyncing())}let h=class extends k.Disposable{constructor(A,R,M,P,F){super(),this._modelService=A,this._workerManager=this._register(new _(this._modelService,P)),this._logService=M,this._register(F.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,B)=>v(this._modelService,O.uri)?this._workerManager.withWorker().then(V=>V.computeLinks(O.uri)).then(V=>V&&{links:V}):Promise.resolve({links:[]})})),this._register(F.completionProvider.register("*",new p(this._workerManager,R,this._modelService,P)))}dispose(){super.dispose()}canComputeUnicodeHighlights(A){return v(this._modelService,A)}computedUnicodeHighlights(A,R,M){return this._workerManager.withWorker().then(P=>P.computedUnicodeHighlights(A,R,M))}async computeDiff(A,R,M,P){const F=await this._workerManager.withWorker().then(V=>V.computeDiff(A,R,M,P));if(!F)return null;return{identical:F.identical,quitEarly:F.quitEarly,changes:B(F.changes),moves:F.moves.map(V=>new c.MovedText(new g.LineRangeMapping(new l.LineRange(V[0],V[1]),new l.LineRange(V[2],V[3])),B(V[4])))};function B(V){return V.map(K=>{var U;return new g.DetailedLineRangeMapping(new l.LineRange(K[0],K[1]),new l.LineRange(K[2],K[3]),(U=K[4])===null||U===void 0?void 0:U.map(G=>new g.RangeMapping(new y.Range(G[0],G[1],G[2],G[3]),new y.Range(G[4],G[5],G[6],G[7]))))})}}computeMoreMinimalEdits(A,R,M=!1){if((0,o.isNonEmptyArray)(R)){if(!v(this._modelService,A))return Promise.resolve(R);const P=i.StopWatch.create(),F=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(A,R,M));return F.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",A.toString(!0),P.elapsed())),Promise.race([F,(0,f.timeout)(1e3).then(()=>R)])}else return Promise.resolve(void 0)}canNavigateValueSet(A){return v(this._modelService,A)}navigateValueSet(A,R,M){return this._workerManager.withWorker().then(P=>P.navigateValueSet(A,R,M))}canComputeWordRanges(A){return v(this._modelService,A)}computeWordRanges(A,R){return this._workerManager.withWorker().then(M=>M.computeWordRanges(A,R))}findSectionHeaders(A,R){return this._workerManager.withWorker().then(M=>M.findSectionHeaders(A,R))}};e.EditorWorkerService=h,e.EditorWorkerService=h=ke([ge(0,b.IModelService),ge(1,C.ITextResourceConfigurationService),ge(2,n.ILogService),ge(3,m.ILanguageConfigurationService),ge(4,s.ILanguageFeaturesService)],h);class p{constructor(A,R,M,P){this.languageConfigurationService=P,this._debugDisplayName="wordbasedCompletions",this._workerManager=A,this._configurationService=R,this._modelService=M}async provideCompletionItems(A,R){const M=this._configurationService.getValue(A.uri,R,"editor");if(M.wordBasedSuggestions==="off")return;const P=[];if(M.wordBasedSuggestions==="currentDocument")v(this._modelService,A.uri)&&P.push(A.uri);else for(const G of this._modelService.getModels())v(this._modelService,G.uri)&&(G===A?P.unshift(G.uri):(M.wordBasedSuggestions==="allDocuments"||G.getLanguageId()===A.getLanguageId())&&P.push(G.uri));if(P.length===0)return;const F=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition(),O=A.getWordAtPosition(R),B=O?new y.Range(R.lineNumber,O.startColumn,R.lineNumber,O.endColumn):y.Range.fromPositions(R),V=B.setEndPosition(R.lineNumber,R.column),U=await(await this._workerManager.withWorker()).textualSuggest(P,O?.word,F);if(U)return{duration:U.duration,suggestions:U.words.map(G=>({kind:18,label:G,insertText:G,range:{insert:V,replace:B}}))}}}class _ extends k.Disposable{constructor(A,R){super(),this.languageConfigurationService=R,this._modelService=A,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new d.WindowIntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(a/2),r.mainWindow),this._register(this._modelService.onModelRemoved(P=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>a&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new T(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends k.Disposable{constructor(A,R,M){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=A,this._modelService=R,!M){const P=new f.IntervalTimer;P.cancelAndSet(()=>this._checkStopModelSync(),Math.round(u/2)),this._register(P)}}dispose(){for(const A in this._syncedModels)(0,k.dispose)(this._syncedModels[A]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(A,R){for(const M of A){const P=M.toString();this._syncedModels[P]||this._beginModelSync(M,R),this._syncedModels[P]&&(this._syncedModelsLastUsedTime[P]=new Date().getTime())}}_checkStopModelSync(){const A=new Date().getTime(),R=[];for(const M in this._syncedModelsLastUsedTime)A-this._syncedModelsLastUsedTime[M]>u&&R.push(M);for(const M of R)this._stopModelSync(M)}_beginModelSync(A,R){const M=this._modelService.getModel(A);if(!M||!R&&M.isTooLargeForSyncing())return;const P=A.toString();this._proxy.acceptNewModel({url:M.uri.toString(),lines:M.getLinesContent(),EOL:M.getEOL(),versionId:M.getVersionId()});const F=new k.DisposableStore;F.add(M.onDidChangeContent(O=>{this._proxy.acceptModelChanged(P.toString(),O)})),F.add(M.onWillDispose(()=>{this._stopModelSync(P)})),F.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(P)})),this._syncedModels[P]=F}_stopModelSync(A){const R=this._syncedModels[A];delete this._syncedModels[A],delete this._syncedModelsLastUsedTime[A],(0,k.dispose)(R)}}class E{constructor(A){this._instance=A,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class I{constructor(A){this._workerClient=A}fhr(A,R){return this._workerClient.fhr(A,R)}}e.EditorWorkerHost=I;class T extends k.Disposable{constructor(A,R,M,P){super(),this.languageConfigurationService=P,this._disposed=!1,this._modelService=A,this._keepIdleModels=R,this._workerFactory=new D.DefaultWorkerFactory(M),this._worker=null,this._modelManager=null}fhr(A,R){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new L.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new I(this)))}catch(A){(0,L.logOnceWebWorkerWarning)(A),this._worker=new E(new w.EditorSimpleWorker(new I(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,A=>((0,L.logOnceWebWorkerWarning)(A),this._worker=new E(new w.EditorSimpleWorker(new I(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(A){return this._modelManager||(this._modelManager=this._register(new S(A,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(A,R=!1){return this._disposed?Promise.reject((0,t.canceled)()):this._getProxy().then(M=>(this._getOrCreateModelManager(M).ensureSyncedResources(A,R),M))}computedUnicodeHighlights(A,R,M){return this._withSyncedResources([A]).then(P=>P.computeUnicodeHighlights(A.toString(),R,M))}computeDiff(A,R,M,P){return this._withSyncedResources([A,R],!0).then(F=>F.computeDiff(A.toString(),R.toString(),M,P))}computeMoreMinimalEdits(A,R,M){return this._withSyncedResources([A]).then(P=>P.computeMoreMinimalEdits(A.toString(),R,M))}computeLinks(A){return this._withSyncedResources([A]).then(R=>R.computeLinks(A.toString()))}computeDefaultDocumentColors(A){return this._withSyncedResources([A]).then(R=>R.computeDefaultDocumentColors(A.toString()))}async textualSuggest(A,R,M){const P=await this._withSyncedResources(A),F=M.source,O=M.flags;return P.textualSuggest(A.map(B=>B.toString()),R,F,O)}computeWordRanges(A,R){return this._withSyncedResources([A]).then(M=>{const P=this._modelService.getModel(A);if(!P)return Promise.resolve(null);const F=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition(),O=F.source,B=F.flags;return M.computeWordRanges(A.toString(),R,O,B)})}navigateValueSet(A,R,M){return this._withSyncedResources([A]).then(P=>{const F=this._modelService.getModel(A);if(!F)return null;const O=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition(),B=O.source,V=O.flags;return P.navigateValueSet(A.toString(),R,M,B,V)})}findSectionHeaders(A,R){return this._withSyncedResources([A]).then(M=>M.findSectionHeaders(A.toString(),R))}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=T}),define(ne[846],se([1,0,55,269]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=L;function L(y,m,w){return new D(y,m,w)}class D extends k.EditorWorkerClient{constructor(m,w,b){super(m,b.keepIdleModels||!1,b.label,w),this._foreignModuleId=b.moduleId,this._foreignModuleCreateData=b.createData||null,this._foreignModuleHost=b.host||null,this._foreignProxy=null}fhr(m,w){if(!this._foreignModuleHost||typeof this._foreignModuleHost[m]!="function")return Promise.reject(new Error("Missing method "+m+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[m].apply(this._foreignModuleHost,w))}catch(b){return Promise.reject(b)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(m=>{const w=this._foreignModuleHost?(0,f.getAllMethodNames)(this._foreignModuleHost):[];return m.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,w).then(b=>{this._foreignModuleCreateData=null;const C=(i,t)=>m.fmr(i,t),o=(i,t)=>function(){const s=Array.prototype.slice.call(arguments,0);return t(i,s)},n={};for(const i of b)n[i]=o(i,C);return n})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(m){return this._withSyncedResources(m).then(w=>this.getProxy())}}}),define(ne[270],se([1,0,128,35,236]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=D;function D(y,m,w,b){m.tokenization.forceTokenization(w.startLineNumber);const C=m.getLanguageIdAtPosition(w.startLineNumber,w.startColumn),o=b.getLanguageConfiguration(C);if(!o)return null;const i=new L.IndentationContextProcessor(m,b).getProcessedTokenContextAroundRange(w),t=i.previousLineProcessedTokens.getLineContent(),s=i.beforeRangeProcessedTokens.getLineContent(),c=i.afterRangeProcessedTokens.getLineContent(),g=o.onEnter(y,t,s,c);if(!g)return null;const l=g.indentAction;let r=g.appendText;const d=g.removeText||0;r?l===f.IndentAction.Indent&&(r="	"+r):l===f.IndentAction.Indent||l===f.IndentAction.IndentOutdent?r="	":r="";let u=(0,k.getIndentationAtPosition)(m,w.startLineNumber,w.startColumn);return d&&(u=u.substring(0,u.length-d)),{indentAction:l,appendText:r,removeText:d,indentation:u}}}),define(ne[208],se([1,0,11,90,5,24,270,35]),function(X,e,f,k,L,D,y,m){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const b=Object.create(null);function C(n,i){if(i<=0)return"";b[n]||(b[n]=["",n]);const t=b[n];for(let s=t.length;s<=i;s++)t[s]=t[s-1]+n;return t[i]}let o=w=class{static unshiftIndent(i,t,s,c,g){const l=k.CursorColumns.visibleColumnFromColumn(i,t,s);if(g){const r=C(" ",c),u=k.CursorColumns.prevIndentTabStop(l,c)/c;return C(r,u)}else{const r="	",u=k.CursorColumns.prevRenderTabStop(l,s)/s;return C(r,u)}}static shiftIndent(i,t,s,c,g){const l=k.CursorColumns.visibleColumnFromColumn(i,t,s);if(g){const r=C(" ",c),u=k.CursorColumns.nextIndentTabStop(l,c)/c;return C(r,u)}else{const r="	",u=k.CursorColumns.nextRenderTabStop(l,s)/s;return C(r,u)}}constructor(i,t,s){this._languageConfigurationService=s,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,t,s){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,s):i.addEditOperation(t,s)}getEditOperations(i,t){const s=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&s!==c&&(c=c-1);const{tabSize:g,indentSize:l,insertSpaces:r}=this._opts,d=s===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(s))&&(this._useLastEditRangeForCursorEndPosition=!0);let u=0,a=0;for(let v=s;v<=c;v++,u=a){a=0;const h=i.getLineContent(v);let p=f.firstNonWhitespaceIndex(h);if(this._opts.isUnshift&&(h.length===0||p===0)||!d&&!this._opts.isUnshift&&h.length===0)continue;if(p===-1&&(p=h.length),v>1&&k.CursorColumns.visibleColumnFromColumn(h,p+1,g)%l!==0&&i.tokenization.isCheapToTokenize(v-1)){const E=(0,y.getEnterAction)(this._opts.autoIndent,i,new L.Range(v-1,i.getLineMaxColumn(v-1),v-1,i.getLineMaxColumn(v-1)),this._languageConfigurationService);if(E){if(a=u,E.appendText)for(let I=0,T=E.appendText.length;I<T&&a<l&&E.appendText.charCodeAt(I)===32;I++)a++;E.removeText&&(a=Math.max(0,a-E.removeText));for(let I=0;I<a&&!(p===0||h.charCodeAt(p-1)!==32);I++)p--}}if(this._opts.isUnshift&&p===0)continue;let _;this._opts.isUnshift?_=w.unshiftIndent(h,p+1,g,l,r):_=w.shiftIndent(h,p+1,g,l,r),this._addEditOperation(t,new L.Range(v,1,v,p+1),_),v===s&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=p+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(s)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const u=r?C(" ",l):"	";for(let a=s;a<=c;a++){const v=i.getLineContent(a);let h=f.firstNonWhitespaceIndex(v);if(!(this._opts.isUnshift&&(v.length===0||h===0))&&!(!d&&!this._opts.isUnshift&&v.length===0)&&(h===-1&&(h=v.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,l);for(let p=0;p<h;p++)if(v.charCodeAt(p)===9){h=p+1;break}this._addEditOperation(t,new L.Range(a,1,a,h+1),"")}else this._addEditOperation(t,new L.Range(a,1,a,1),u),a===s&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const c=t.getInverseEditOperations()[0];return new D.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const s=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const c=this._selection.startColumn;return s.startColumn<=c?s:s.getDirection()===0?new D.Selection(s.startLineNumber,c,s.endLineNumber,s.endColumn):new D.Selection(s.endLineNumber,s.endColumn,s.startLineNumber,c)}return s}};e.ShiftCommand=o,e.ShiftCommand=o=w=ke([ge(2,m.ILanguageConfigurationService)],o)}),define(ne[271],se([1,0,9,11,142,208,535,79,161,5,10,128,35,165,237,270]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class c{static indent(h,p,_){if(p===null||_===null)return[];const S=[];for(let E=0,I=_.length;E<I;E++)S[E]=new D.ShiftCommand(_[E],{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent},h.languageConfigurationService);return S}static outdent(h,p,_){const S=[];for(let E=0,I=_.length;E<I;E++)S[E]=new D.ShiftCommand(_[E],{isUnshift:!0,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent},h.languageConfigurationService);return S}static shiftIndent(h,p,_){return _=_||1,D.ShiftCommand.shiftIndent(p,p.length+_,h.tabSize,h.indentSize,h.insertSpaces)}static unshiftIndent(h,p,_){return _=_||1,D.ShiftCommand.unshiftIndent(p,p.length+_,h.tabSize,h.indentSize,h.insertSpaces)}static _distributedPaste(h,p,_,S){const E=[];for(let I=0,T=_.length;I<T;I++)E[I]=new L.ReplaceCommand(_[I],S[I]);return new m.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(h,p,_,S,E){const I=[];for(let T=0,N=_.length;T<N;T++){const A=_[T],R=A.getPosition();if(E&&!A.isEmpty()&&(E=!1),E&&S.indexOf(`
`)!==S.length-1&&(E=!1),E){const M=new b.Range(R.lineNumber,1,R.lineNumber,1);I[T]=new L.ReplaceCommandThatPreservesSelection(M,S,A,!0)}else I[T]=new L.ReplaceCommand(A,S)}return new m.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(h,p,_,S,E){if(S||p.length===1)return null;if(E&&E.length===p.length)return E;if(h.multiCursorPaste==="spread"){_.charCodeAt(_.length-1)===10&&(_=_.substr(0,_.length-1)),_.charCodeAt(_.length-1)===13&&(_=_.substr(0,_.length-1));const I=k.splitLines(_);if(I.length===p.length)return I}return null}static paste(h,p,_,S,E,I){const T=this._distributePasteToCursors(h,_,S,E,I);return T?(_=_.sort(b.Range.compareRangesUsingStarts),this._distributedPaste(h,p,_,T)):this._simplePaste(h,p,_,S,E)}static _goodIndentForLine(h,p,_){let S=null,E="";const I=(0,t.getInheritIndentForLine)(h.autoIndent,p,_,!1,h.languageConfigurationService);if(I)S=I.action,E=I.indentation;else if(_>1){let T;for(T=_-1;T>=1;T--){const R=p.getLineContent(T);if(k.lastNonWhitespaceIndex(R)>=0)break}if(T<1)return null;const N=p.getLineMaxColumn(T),A=(0,s.getEnterAction)(h.autoIndent,p,new b.Range(T,N,T,N),h.languageConfigurationService);A&&(E=A.indentation+A.appendText)}return S&&(S===o.IndentAction.Indent&&(E=c.shiftIndent(h,E)),S===o.IndentAction.Outdent&&(E=c.unshiftIndent(h,E)),E=h.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(h,p,_,S){let E="";const I=_.getStartPosition();if(h.insertSpaces){const T=h.visibleColumnFromColumn(p,I),N=h.indentSize,A=N-T%N;for(let R=0;R<A;R++)E+=" "}else E="	";return new L.ReplaceCommand(_,E,S)}static tab(h,p,_){const S=[];for(let E=0,I=_.length;E<I;E++){const T=_[E];if(T.isEmpty()){const N=p.getLineContent(T.startLineNumber);if(/^\s*$/.test(N)&&p.tokenization.isCheapToTokenize(T.startLineNumber)){let A=this._goodIndentForLine(h,p,T.startLineNumber);A=A||"	";const R=h.normalizeIndentation(A);if(!N.startsWith(R)){S[E]=new L.ReplaceCommand(new b.Range(T.startLineNumber,1,T.startLineNumber,N.length+1),R,!0);continue}}S[E]=this._replaceJumpToNextIndent(h,p,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const N=p.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==N){S[E]=this._replaceJumpToNextIndent(h,p,T,!1);continue}}S[E]=new D.ShiftCommand(T,{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent},h.languageConfigurationService)}}return S}static compositionType(h,p,_,S,E,I,T,N){const A=S.map(R=>this._compositionType(_,R,E,I,T,N));return new m.EditOperationResult(4,A,{shouldPushStackElementBefore:d(h,4),shouldPushStackElementAfter:!1})}static _compositionType(h,p,_,S,E,I){if(!p.isEmpty())return null;const T=p.getPosition(),N=Math.max(1,T.column-S),A=Math.min(h.getLineMaxColumn(T.lineNumber),T.column+E),R=new b.Range(T.lineNumber,N,T.lineNumber,A);return h.getValueInRange(R)===_&&I===0?null:new L.ReplaceCommandWithOffsetCursorState(R,_,0,I)}static _typeCommand(h,p,_){return _?new L.ReplaceCommandWithoutChangingPosition(h,p,!0):new L.ReplaceCommand(h,p,!0)}static _enter(h,p,_,S){if(h.autoIndent===0)return c._typeCommand(S,`
`,_);if(!p.tokenization.isCheapToTokenize(S.getStartPosition().lineNumber)||h.autoIndent===1){const N=p.getLineContent(S.startLineNumber),A=k.getLeadingWhitespace(N).substring(0,S.startColumn-1);return c._typeCommand(S,`
`+h.normalizeIndentation(A),_)}const E=(0,s.getEnterAction)(h.autoIndent,p,S,h.languageConfigurationService);if(E){if(E.indentAction===o.IndentAction.None)return c._typeCommand(S,`
`+h.normalizeIndentation(E.indentation+E.appendText),_);if(E.indentAction===o.IndentAction.Indent)return c._typeCommand(S,`
`+h.normalizeIndentation(E.indentation+E.appendText),_);if(E.indentAction===o.IndentAction.IndentOutdent){const N=h.normalizeIndentation(E.indentation),A=h.normalizeIndentation(E.indentation+E.appendText),R=`
`+A+`
`+N;return _?new L.ReplaceCommandWithoutChangingPosition(S,R,!0):new L.ReplaceCommandWithOffsetCursorState(S,R,-1,A.length-N.length,!0)}else if(E.indentAction===o.IndentAction.Outdent){const N=c.unshiftIndent(h,E.indentation);return c._typeCommand(S,`
`+h.normalizeIndentation(N+E.appendText),_)}}const I=p.getLineContent(S.startLineNumber),T=k.getLeadingWhitespace(I).substring(0,S.startColumn-1);if(h.autoIndent>=4){const N=(0,t.getIndentForEnter)(h.autoIndent,p,S,{unshiftIndent:A=>c.unshiftIndent(h,A),shiftIndent:A=>c.shiftIndent(h,A),normalizeIndentation:A=>h.normalizeIndentation(A)},h.languageConfigurationService);if(N){let A=h.visibleColumnFromColumn(p,S.getEndPosition());const R=S.endColumn,M=p.getLineContent(S.endLineNumber),P=k.firstNonWhitespaceIndex(M);if(P>=0?S=S.setEndPosition(S.endLineNumber,Math.max(S.endColumn,P+1)):S=S.setEndPosition(S.endLineNumber,p.getLineMaxColumn(S.endLineNumber)),_)return new L.ReplaceCommandWithoutChangingPosition(S,`
`+h.normalizeIndentation(N.afterEnter),!0);{let F=0;return R<=P+1&&(h.insertSpaces||(A=Math.ceil(A/h.indentSize)),F=Math.min(A+1-h.normalizeIndentation(N.afterEnter).length-1,0)),new L.ReplaceCommandWithOffsetCursorState(S,`
`+h.normalizeIndentation(N.afterEnter),0,F,!0)}}}return c._typeCommand(S,`
`+h.normalizeIndentation(T),_)}static _isAutoIndentType(h,p,_){if(h.autoIndent<4)return!1;for(let S=0,E=_.length;S<E;S++)if(!p.tokenization.isCheapToTokenize(_[S].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(h,p,_,S){const E=(0,n.getIndentationAtPosition)(p,_.startLineNumber,_.startColumn),I=(0,t.getIndentActionForType)(h.autoIndent,p,_,S,{shiftIndent:T=>c.shiftIndent(h,T),unshiftIndent:T=>c.unshiftIndent(h,T)},h.languageConfigurationService);if(I===null)return null;if(I!==h.normalizeIndentation(E)){const T=p.getLineFirstNonWhitespaceColumn(_.startLineNumber);return T===0?c._typeCommand(new b.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),h.normalizeIndentation(I)+S,!1):c._typeCommand(new b.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),h.normalizeIndentation(I)+p.getLineContent(_.startLineNumber).substring(T-1,_.startColumn-1)+S,!1)}return null}static _isAutoClosingOvertype(h,p,_,S,E){if(h.autoClosingOvertype==="never"||!h.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let I=0,T=_.length;I<T;I++){const N=_[I];if(!N.isEmpty())return!1;const A=N.getPosition(),R=p.getLineContent(A.lineNumber);if(R.charAt(A.column-1)!==E)return!1;const P=(0,m.isQuote)(E);if((A.column>2?R.charCodeAt(A.column-2):0)===92&&P)return!1;if(h.autoClosingOvertype==="auto"){let O=!1;for(let B=0,V=S.length;B<V;B++){const K=S[B];if(A.lineNumber===K.startLineNumber&&A.column===K.startColumn){O=!0;break}}if(!O)return!1}}return!0}static _runAutoClosingOvertype(h,p,_,S,E){const I=[];for(let T=0,N=S.length;T<N;T++){const R=S[T].getPosition(),M=new b.Range(R.lineNumber,R.column,R.lineNumber,R.column+1);I[T]=new L.ReplaceCommand(M,E)}return new m.EditOperationResult(4,I,{shouldPushStackElementBefore:d(h,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(h,p){const _=p.charAt(0),S=h.autoClosingPairs.autoClosingPairsOpenByStart.get(_)||[],E=h.autoClosingPairs.autoClosingPairsCloseByStart.get(_)||[],I=S.some(N=>p.startsWith(N.open)),T=E.some(N=>p.startsWith(N.close));return!I&&T}static _findAutoClosingPairOpen(h,p,_,S){const E=h.autoClosingPairs.autoClosingPairsOpenByEnd.get(S);if(!E)return null;let I=null;for(const T of E)if(I===null||T.open.length>I.open.length){let N=!0;for(const A of _)if(p.getValueInRange(new b.Range(A.lineNumber,A.column-T.open.length+1,A.lineNumber,A.column))+S!==T.open){N=!1;break}N&&(I=T)}return I}static _findContainedAutoClosingPair(h,p){if(p.open.length<=1)return null;const _=p.close.charAt(p.close.length-1),S=h.autoClosingPairs.autoClosingPairsCloseByEnd.get(_)||[];let E=null;for(const I of S)I.open!==p.open&&p.open.includes(I.open)&&p.close.endsWith(I.close)&&(!E||I.open.length>E.open.length)&&(E=I);return E}static _getAutoClosingPairClose(h,p,_,S,E){for(const O of _)if(!O.isEmpty())return null;const I=_.map(O=>{const B=O.getPosition();return E?{lineNumber:B.lineNumber,beforeColumn:B.column-S.length,afterColumn:B.column}:{lineNumber:B.lineNumber,beforeColumn:B.column,afterColumn:B.column}}),T=this._findAutoClosingPairOpen(h,p,I.map(O=>new C.Position(O.lineNumber,O.beforeColumn)),S);if(!T)return null;let N,A;if((0,m.isQuote)(S)?(N=h.autoClosingQuotes,A=h.shouldAutoCloseBefore.quote):(h.blockCommentStartToken?T.open.includes(h.blockCommentStartToken):!1)?(N=h.autoClosingComments,A=h.shouldAutoCloseBefore.comment):(N=h.autoClosingBrackets,A=h.shouldAutoCloseBefore.bracket),N==="never")return null;const M=this._findContainedAutoClosingPair(h,T),P=M?M.close:"";let F=!0;for(const O of I){const{lineNumber:B,beforeColumn:V,afterColumn:K}=O,U=p.getLineContent(B),G=U.substring(0,V-1),z=U.substring(K-1);if(z.startsWith(P)||(F=!1),z.length>0){const Z=z.charAt(0);if(!c._isBeforeClosingBrace(h,z)&&!A(Z))return null}if(T.open.length===1&&(S==="'"||S==='"')&&N!=="always"){const Z=(0,w.getMapForWordSeparators)(h.wordSeparators,[]);if(G.length>0){const x=G.charCodeAt(G.length-1);if(Z.get(x)===0)return null}}if(!p.tokenization.isCheapToTokenize(B))return null;p.tokenization.forceTokenization(B);const $=p.tokenization.getLineTokens(B),J=(0,i.createScopedLineTokens)($,V-1);if(!T.shouldAutoClose(J,V-J.firstCharOffset))return null;const ee=T.findNeutralCharacter();if(ee){const Z=p.tokenization.getTokenTypeIfInsertingCharacter(B,V,ee);if(!T.isOK(Z))return null}}return F?T.close.substring(0,T.close.length-P.length):T.close}static _runAutoClosingOpenCharType(h,p,_,S,E,I,T){const N=[];for(let A=0,R=S.length;A<R;A++){const M=S[A];N[A]=new g(M,E,!I,T)}return new m.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(h,p){return(0,m.isQuote)(p)?h.autoSurround==="quotes"||h.autoSurround==="languageDefined":h.autoSurround==="brackets"||h.autoSurround==="languageDefined"}static _isSurroundSelectionType(h,p,_,S){if(!c._shouldSurroundChar(h,S)||!h.surroundingPairs.hasOwnProperty(S))return!1;const E=(0,m.isQuote)(S);for(const I of _){if(I.isEmpty())return!1;let T=!0;for(let N=I.startLineNumber;N<=I.endLineNumber;N++){const A=p.getLineContent(N),R=N===I.startLineNumber?I.startColumn-1:0,M=N===I.endLineNumber?I.endColumn-1:A.length,P=A.substring(R,M);if(/[^ \t]/.test(P)){T=!1;break}}if(T)return!1;if(E&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const N=p.getValueInRange(I);if((0,m.isQuote)(N))return!1}}return!0}static _runSurroundSelectionType(h,p,_,S,E){const I=[];for(let T=0,N=S.length;T<N;T++){const A=S[T],R=p.surroundingPairs[E];I[T]=new y.SurroundSelectionCommand(A,E,R)}return new m.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(h,p,_){return!!(_.length===1&&p.tokenization.isCheapToTokenize(_[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(h,p,_,S,E){if(!p.electricChars.hasOwnProperty(E)||!S.isEmpty())return null;const I=S.getPosition();_.tokenization.forceTokenization(I.lineNumber);const T=_.tokenization.getLineTokens(I.lineNumber);let N;try{N=p.onElectricCharacter(E,T,I.column)}catch(A){return(0,f.onUnexpectedError)(A),null}if(!N)return null;if(N.matchOpenBracket){const A=(T.getLineContent()+E).lastIndexOf(N.matchOpenBracket)+1,R=_.bracketPairs.findMatchingBracketUp(N.matchOpenBracket,{lineNumber:I.lineNumber,column:A},500);if(R){if(R.startLineNumber===I.lineNumber)return null;const M=_.getLineContent(R.startLineNumber),P=k.getLeadingWhitespace(M),F=p.normalizeIndentation(P),O=_.getLineContent(I.lineNumber),B=_.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,V=O.substring(B-1,I.column-1),K=F+V+E,U=new b.Range(I.lineNumber,1,I.lineNumber,I.column),G=new L.ReplaceCommand(U,K);return new m.EditOperationResult(r(K,h),[G],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(h,p,_,S,E,I){if(!S)return null;let T=null;for(const M of S)if(T===null)T=M.insertedText;else if(T!==M.insertedText)return null;if(!T||T.length!==1)return null;const N=T;let A=!1;for(const M of S)if(M.deletedText.length!==0){A=!0;break}if(A){if(!c._shouldSurroundChar(p,N)||!p.surroundingPairs.hasOwnProperty(N))return null;const M=(0,m.isQuote)(N);for(const O of S)if(O.deletedSelectionStart!==0||O.deletedSelectionEnd!==O.deletedText.length||/^[ \t]+$/.test(O.deletedText)||M&&(0,m.isQuote)(O.deletedText))return null;const P=[];for(const O of E){if(!O.isEmpty())return null;P.push(O.getPosition())}if(P.length!==S.length)return null;const F=[];for(let O=0,B=P.length;O<B;O++)F.push(new y.CompositionSurroundSelectionCommand(P[O],S[O].deletedText,p.surroundingPairs[N]));return new m.EditOperationResult(4,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(p,_,E,I,N)){const M=E.map(P=>new L.ReplaceCommand(new b.Range(P.positionLineNumber,P.positionColumn,P.positionLineNumber,P.positionColumn+1),"",!1));return new m.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const R=this._getAutoClosingPairClose(p,_,E,N,!0);return R!==null?this._runAutoClosingOpenCharType(h,p,_,E,N,!0,R):null}static typeWithInterceptors(h,p,_,S,E,I,T){if(!h&&T===`
`){const R=[];for(let M=0,P=E.length;M<P;M++)R[M]=c._enter(_,S,!1,E[M]);return new m.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!h&&this._isAutoIndentType(_,S,E)){const R=[];let M=!1;for(let P=0,F=E.length;P<F;P++)if(R[P]=this._runAutoIndentType(_,S,E[P],T),!R[P]){M=!0;break}if(!M)return new m.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(_,S,E,I,T))return this._runAutoClosingOvertype(p,_,S,E,T);if(!h){const R=this._getAutoClosingPairClose(_,S,E,T,!1);if(R)return this._runAutoClosingOpenCharType(p,_,S,E,T,!1,R)}if(!h&&this._isSurroundSelectionType(_,S,E,T))return this._runSurroundSelectionType(p,_,S,E,T);if(!h&&this._isTypeInterceptorElectricChar(_,S,E)){const R=this._typeInterceptorElectricChar(p,_,S,E[0],T);if(R)return R}const N=[];for(let R=0,M=E.length;R<M;R++)N[R]=new L.ReplaceCommand(E[R],T);const A=r(T,p);return new m.EditOperationResult(A,N,{shouldPushStackElementBefore:d(p,A),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(h,p,_,S,E){const I=[];for(let N=0,A=S.length;N<A;N++)I[N]=new L.ReplaceCommand(S[N],E);const T=r(E,h);return new m.EditOperationResult(T,I,{shouldPushStackElementBefore:d(h,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(h,p,_){if(p===null||_===null)return[];const S=[];for(let E=0,I=_.length;E<I;E++){let T=_[E].positionLineNumber;if(T===1)S[E]=new L.ReplaceCommandWithoutChangingPosition(new b.Range(1,1,1,1),`
`);else{T--;const N=p.getLineMaxColumn(T);S[E]=this._enter(h,p,!1,new b.Range(T,N,T,N))}}return S}static lineInsertAfter(h,p,_){if(p===null||_===null)return[];const S=[];for(let E=0,I=_.length;E<I;E++){const T=_[E].positionLineNumber,N=p.getLineMaxColumn(T);S[E]=this._enter(h,p,!1,new b.Range(T,N,T,N))}return S}static lineBreakInsert(h,p,_){const S=[];for(let E=0,I=_.length;E<I;E++)S[E]=this._enter(h,p,!0,_[E]);return S}}e.TypeOperations=c;class g extends L.ReplaceCommandWithOffsetCursorState{constructor(h,p,_,S){super(h,(_?p:"")+S,0,-S.length),this._openCharacter=p,this._closeCharacter=S,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(h,p){const S=p.getInverseEditOperations()[0].range;return this.closeCharacterRange=new b.Range(S.startLineNumber,S.endColumn-this._closeCharacter.length,S.endLineNumber,S.endColumn),this.enclosingRange=new b.Range(S.startLineNumber,S.endColumn-this._openCharacter.length-this._closeCharacter.length,S.endLineNumber,S.endColumn),super.computeCursorState(h,p)}}e.TypeWithAutoClosingCommand=g;class l{constructor(h,p,_,S,E,I){this.deletedText=h,this.deletedSelectionStart=p,this.deletedSelectionEnd=_,this.insertedText=S,this.insertedSelectionStart=E,this.insertedSelectionEnd=I}}e.CompositionOutcome=l;function r(v,h){return v===" "?h===5||h===6?6:5:4}function d(v,h){return a(v)&&!a(h)?!0:v===5?!1:u(v)!==u(h)}function u(v){return v===6||v===5?"space":v}function a(v){return v===4||v===5||v===6}}),define(ne[847],se([1,0,9,11,548,79,537,230,271,5,24,129,239,2,240]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class s extends i.Disposable{constructor(a,v,h,p){super(),this._model=a,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=v,this._coordinatesConverter=h,this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,p),this._cursors=new L.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(a){this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,a),this._cursors.updateContext(this.context)}onLineMappingChanged(a){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(a,"viewModel",0,this.getCursorStates())}setHasFocus(a){this._hasFocus=a}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const a=this._cursors.getSelections();for(let v=0;v<this._autoClosedActions.length;v++){const h=this._autoClosedActions[v];h.isValid(a)||(h.dispose(),this._autoClosedActions.splice(v,1),v--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(a,v,h,p){let _=!1;const S=this.context.cursorConfig.multiCursorLimit;p!==null&&p.length>S&&(p=p.slice(0,S),_=!0);const E=c.from(this._model,this);return this._cursors.setStates(p),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(a,v,h,E,_)}setCursorColumnSelectData(a){this._columnSelectData=a}revealAll(a,v,h,p,_,S){const E=this._cursors.getViewPositions();let I=null,T=null;E.length>1?T=this._cursors.getViewSelections():I=b.Range.fromPositions(E[0],E[0]),a.emitViewEvent(new n.ViewRevealRangeRequestEvent(v,h,I,T,p,_,S))}revealPrimary(a,v,h,p,_,S){const I=[this._cursors.getPrimaryCursor().viewState.selection];a.emitViewEvent(new n.ViewRevealRangeRequestEvent(v,h,null,I,p,_,S))}saveState(){const a=[],v=this._cursors.getSelections();for(let h=0,p=v.length;h<p;h++){const _=v[h];a.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return a}restoreState(a,v){const h=[];for(let p=0,_=v.length;p<_;p++){const S=v[p];let E=1,I=1;S.position&&S.position.lineNumber&&(E=S.position.lineNumber),S.position&&S.position.column&&(I=S.position.column);let T=E,N=I;S.selectionStart&&S.selectionStart.lineNumber&&(T=S.selectionStart.lineNumber),S.selectionStart&&S.selectionStart.column&&(N=S.selectionStart.column),h.push({selectionStartLineNumber:T,selectionStartColumn:N,positionLineNumber:E,positionColumn:I})}this.setStates(a,"restoreState",0,D.CursorState.fromModelSelections(h)),this.revealAll(a,"restoreState",!1,0,!0,1)}onModelContentChanged(a,v){if(v instanceof o.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(a,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const h=v.rawContentChangedEvent;if(this._knownModelVersionId=h.versionId,this._isHandling)return;const p=h.containsEvent(1);if(this._prevEditOperationType=0,p)this._cursors.dispose(),this._cursors=new L.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(a,"model",1,null,!1);else if(this._hasFocus&&h.resultingSelection&&h.resultingSelection.length>0){const _=D.CursorState.fromModelSelections(h.resultingSelection);this.setStates(a,"modelChange",h.isUndoing?5:h.isRedoing?6:2,_)&&this.revealAll(a,"modelChange",!1,0,!0,0)}else{const _=this._cursors.readSelectionFromMarkers();this.setStates(a,"modelChange",2,D.CursorState.fromModelSelections(_))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const a=this._cursors.getPrimaryCursor(),v=a.viewState.selectionStart.getStartPosition(),h=a.viewState.position;return{isReal:!1,fromViewLineNumber:v.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,v),toViewLineNumber:h.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,h)}}getSelections(){return this._cursors.getSelections()}setSelections(a,v,h,p){this.setStates(a,v,p,D.CursorState.fromModelSelections(h))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(a){this._prevEditOperationType=a}_pushAutoClosedAction(a,v){const h=[],p=[];for(let E=0,I=a.length;E<I;E++)h.push({range:a[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),p.push({range:v[E],options:{description:"auto-closed-enclosing",stickiness:1}});const _=this._model.deltaDecorations([],h),S=this._model.deltaDecorations([],p);this._autoClosedActions.push(new g(this._model,_,S))}_executeEditOperation(a){if(!a)return;a.shouldPushStackElementBefore&&this._model.pushStackElement();const v=l.executeCommands(this._model,this._cursors.getSelections(),a.commands);if(v){this._interpretCommandResult(v);const h=[],p=[];for(let _=0;_<a.commands.length;_++){const S=a.commands[_];S instanceof w.TypeWithAutoClosingCommand&&S.enclosingRange&&S.closeCharacterRange&&(h.push(S.closeCharacterRange),p.push(S.enclosingRange))}h.length>0&&this._pushAutoClosedAction(h,p),this._prevEditOperationType=a.type}a.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(a){(!a||a.length===0)&&(a=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(a),this._cursors.normalize()}_emitStateChangedIfNecessary(a,v,h,p,_){const S=c.from(this._model,this);if(S.equals(p))return!1;const E=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(a.emitViewEvent(new n.ViewCursorStateChangedEvent(I,E,h)),!p||p.cursorState.length!==S.cursorState.length||S.cursorState.some((T,N)=>!T.modelState.equals(p.cursorState[N].modelState))){const T=p?p.cursorState.map(A=>A.modelState.selection):null,N=p?p.modelVersionId:0;a.emitOutgoingEvent(new t.CursorStateChangedEvent(T,E,N,S.modelVersionId,v||"keyboard",h,_))}return!0}_findAutoClosingPairs(a){if(!a.length)return null;const v=[];for(let h=0,p=a.length;h<p;h++){const _=a[h];if(!_.text||_.text.indexOf(`
`)>=0)return null;const S=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!S)return null;const E=S[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!I||I.length!==1)return null;const T=I[0].open,N=_.text.length-S[2].length-1,A=_.text.lastIndexOf(T,N-1);if(A===-1)return null;v.push([A,N])}return v}executeEdits(a,v,h,p){let _=null;v==="snippet"&&(_=this._findAutoClosingPairs(h)),_&&(h[0]._isTracked=!0);const S=[],E=[],I=this._model.pushEditOperations(this.getSelections(),h,T=>{if(_)for(let A=0,R=_.length;A<R;A++){const[M,P]=_[A],F=T[A],O=F.range.startLineNumber,B=F.range.startColumn-1+M,V=F.range.startColumn-1+P;S.push(new b.Range(O,V+1,O,V+2)),E.push(new b.Range(O,B+1,O,V+2))}const N=p(T);return N&&(this._isHandling=!0),N});I&&(this._isHandling=!1,this.setSelections(a,v,I,0)),S.length>0&&this._pushAutoClosedAction(S,E)}_executeEdit(a,v,h,p=0){if(this.context.cursorConfig.readOnly)return;const _=c.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),a()}catch(S){(0,f.onUnexpectedError)(S)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(v,h,p,_,!1)&&this.revealAll(v,h,!1,0,!0,0)}getAutoClosedCharacters(){return g.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(a){this._compositionState=new d(this._model,this.getSelections())}endComposition(a,v){const h=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{v==="keyboard"&&this._executeEditOperation(w.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,h,this.getSelections(),this.getAutoClosedCharacters()))},a,v)}type(a,v,h){this._executeEdit(()=>{if(h==="keyboard"){const p=v.length;let _=0;for(;_<p;){const S=k.nextCharLength(v,_),E=v.substr(_,S);this._executeEditOperation(w.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),_+=S}}else this._executeEditOperation(w.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),v))},a,h)}compositionType(a,v,h,p,_,S){if(v.length===0&&h===0&&p===0){if(_!==0){const E=this.getSelections().map(I=>{const T=I.getPosition();return new C.Selection(T.lineNumber,T.column+_,T.lineNumber,T.column+_)});this.setSelections(a,S,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),v,h,p,_))},a,S)}paste(a,v,h,p,_){this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),v,h,p||[]))},a,_,4)}cut(a,v){this._executeEdit(()=>{this._executeEditOperation(m.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},a,v)}executeCommand(a,v,h){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[v],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},a,h)}executeCommands(a,v,h){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,v,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},a,h)}}e.CursorsController=s;class c{static from(a,v){return new c(a.getVersionId(),v.getCursorStates())}constructor(a,v){this.modelVersionId=a,this.cursorState=v}equals(a){if(!a||this.modelVersionId!==a.modelVersionId||this.cursorState.length!==a.cursorState.length)return!1;for(let v=0,h=this.cursorState.length;v<h;v++)if(!this.cursorState[v].equals(a.cursorState[v]))return!1;return!0}}class g{static getAllAutoClosedCharacters(a){let v=[];for(const h of a)v=v.concat(h.getAutoClosedCharactersRanges());return v}constructor(a,v,h){this._model=a,this._autoClosedCharactersDecorations=v,this._autoClosedEnclosingDecorations=h}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const a=[];for(let v=0;v<this._autoClosedCharactersDecorations.length;v++){const h=this._model.getDecorationRange(this._autoClosedCharactersDecorations[v]);h&&a.push(h)}return a}isValid(a){const v=[];for(let h=0;h<this._autoClosedEnclosingDecorations.length;h++){const p=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[h]);if(p&&(v.push(p),p.startLineNumber!==p.endLineNumber))return!1}v.sort(b.Range.compareRangesUsingStarts),a.sort(b.Range.compareRangesUsingStarts);for(let h=0;h<a.length;h++)if(h>=v.length||!v[h].strictContainsRange(a[h]))return!1;return!0}}class l{static executeCommands(a,v,h){const p={model:a,selectionsBefore:v,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(p,h);for(let S=0,E=p.trackedRanges.length;S<E;S++)p.model._setTrackedRange(p.trackedRanges[S],null,0);return _}static _innerExecuteCommands(a,v){if(this._arrayIsEmpty(v))return null;const h=this._getEditOperations(a,v);if(h.operations.length===0)return null;const p=h.operations,_=this._getLoserCursorMap(p);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const S=[];for(let T=0,N=p.length;T<N;T++)_.hasOwnProperty(p[T].identifier.major.toString())||S.push(p[T]);h.hadTrackedEditOperation&&S.length>0&&(S[0]._isTracked=!0);let E=a.model.pushEditOperations(a.selectionsBefore,S,T=>{const N=[];for(let M=0;M<a.selectionsBefore.length;M++)N[M]=[];for(const M of T)M.identifier&&N[M.identifier.major].push(M);const A=(M,P)=>M.identifier.minor-P.identifier.minor,R=[];for(let M=0;M<a.selectionsBefore.length;M++)N[M].length>0?(N[M].sort(A),R[M]=v[M].computeCursorState(a.model,{getInverseEditOperations:()=>N[M],getTrackedSelection:P=>{const F=parseInt(P,10),O=a.model._getTrackedRange(a.trackedRanges[F]);return a.trackedRangesDirection[F]===0?new C.Selection(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new C.Selection(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):R[M]=a.selectionsBefore[M];return R});E||(E=a.selectionsBefore);const I=[];for(const T in _)_.hasOwnProperty(T)&&I.push(parseInt(T,10));I.sort((T,N)=>N-T);for(const T of I)E.splice(T,1);return E}static _arrayIsEmpty(a){for(let v=0,h=a.length;v<h;v++)if(a[v])return!1;return!0}static _getEditOperations(a,v){let h=[],p=!1;for(let _=0,S=v.length;_<S;_++){const E=v[_];if(E){const I=this._getEditOperationsFromCommand(a,_,E);h=h.concat(I.operations),p=p||I.hadTrackedEditOperation}}return{operations:h,hadTrackedEditOperation:p}}static _getEditOperationsFromCommand(a,v,h){const p=[];let _=0;const S=(A,R,M=!1)=>{b.Range.isEmpty(A)&&R===""||p.push({identifier:{major:v,minor:_++},range:A,text:R,forceMoveMarkers:M,isAutoWhitespaceEdit:h.insertsAutoWhitespace})};let E=!1;const N={addEditOperation:S,addTrackedEditOperation:(A,R,M)=>{E=!0,S(A,R,M)},trackSelection:(A,R)=>{const M=C.Selection.liftSelection(A);let P;if(M.isEmpty())if(typeof R=="boolean")R?P=2:P=3;else{const B=a.model.getLineMaxColumn(M.startLineNumber);M.startColumn===B?P=2:P=3}else P=1;const F=a.trackedRanges.length,O=a.model._setTrackedRange(null,M,P);return a.trackedRanges[F]=O,a.trackedRangesDirection[F]=M.getDirection(),F.toString()}};try{h.getEditOperations(a.model,N)}catch(A){return(0,f.onUnexpectedError)(A),{operations:[],hadTrackedEditOperation:!1}}return{operations:p,hadTrackedEditOperation:E}}static _getLoserCursorMap(a){a=a.slice(0),a.sort((h,p)=>-b.Range.compareRangesUsingEnds(h.range,p.range));const v={};for(let h=1;h<a.length;h++){const p=a[h-1],_=a[h];if(b.Range.getStartPosition(p.range).isBefore(b.Range.getEndPosition(_.range))){let S;p.identifier.major>_.identifier.major?S=p.identifier.major:S=_.identifier.major,v[S.toString()]=!0;for(let E=0;E<a.length;E++)a[E].identifier.major===S&&(a.splice(E,1),E<h&&h--,E--);h>0&&h--}}return v}}class r{constructor(a,v,h){this.text=a,this.startSelection=v,this.endSelection=h}}class d{static _capture(a,v){const h=[];for(const p of v){if(p.startLineNumber!==p.endLineNumber)return null;h.push(new r(a.getLineContent(p.startLineNumber),p.startColumn-1,p.endColumn-1))}return h}constructor(a,v){this._original=d._capture(a,v)}deduceOutcome(a,v){if(!this._original)return null;const h=d._capture(a,v);if(!h||this._original.length!==h.length)return null;const p=[];for(let _=0,S=this._original.length;_<S;_++)p.push(d._deduceOutcome(this._original[_],h[_]));return p}static _deduceOutcome(a,v){const h=Math.min(a.startSelection,v.startSelection,k.commonPrefixLength(a.text,v.text)),p=Math.min(a.text.length-a.endSelection,v.text.length-v.endSelection,k.commonSuffixLength(a.text,v.text)),_=a.text.substring(h,a.text.length-p),S=v.text.substring(h,v.text.length-p);return new w.CompositionOutcome(_,a.startSelection-h,a.endSelection-h,S,v.startSelection-h,v.endSelection-h)}}}),define(ne[848],se([1,0,47,51,22,85,369,31]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=b;const w=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function b(n,i,t,s,c){if(m.ThemeIcon.isThemeIcon(c))return[`codicon-${c.id}`,"predefined-file-icon"];if(L.URI.isUri(c))return[];const g=s===y.FileKind.ROOT_FOLDER?["rootfolder-icon"]:s===y.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(t){let l;if(t.scheme===f.Schemas.data)l=k.DataUri.parseMetaData(t).get(k.DataUri.META_DATA_LABEL);else{const r=t.path.match(w);r?(l=o(r[2].toLowerCase()),r[1]&&g.push(`${o(r[1].toLowerCase())}-name-dir-icon`)):l=o(t.authority.toLowerCase())}if(s===y.FileKind.ROOT_FOLDER)g.push(`${l}-root-name-folder-icon`);else if(s===y.FileKind.FOLDER)g.push(`${l}-name-folder-icon`);else{if(l){if(g.push(`${l}-name-file-icon`),g.push("name-file-icon"),l.length<=255){const d=l.split(".");for(let u=1;u<d.length;u++)g.push(`${d.slice(u).join(".")}-ext-file-icon`)}g.push("ext-file-icon")}const r=C(n,i,t);r&&g.push(`${o(r)}-lang-file-icon`)}}return g}function C(n,i,t){if(!t)return null;let s=null;if(t.scheme===f.Schemas.data){const g=k.DataUri.parseMetaData(t).get(k.DataUri.META_DATA_MIME);g&&(s=i.getLanguageIdByMimeType(g))}else{const c=n.getModel(t);c&&(s=c.getLanguageId())}return s&&s!==D.PLAINTEXT_LANGUAGE_ID?s:i.guessLanguageIdByFilepathOrFirstLine(t)}function o(n){return n.replace(/[\11\12\14\15\40]/g,"/")}}),define(ne[849],se([1,0,340,124,47,98,51,11,85]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerPlatformLanguageAssociation=n,e.clearPlatformLanguageAssociations=s,e.getLanguageIds=c;let b=[],C=[],o=[];function n(d,u=!1){i(d,!1,u)}function i(d,u,a){const v=t(d,u);b.push(v),v.userConfigured?o.push(v):C.push(v),a&&!v.userConfigured&&b.forEach(h=>{h.mime===v.mime||h.userConfigured||(v.extension&&h.extension===v.extension&&console.warn(`Overwriting extension <<${v.extension}>> to now point to mime <<${v.mime}>>`),v.filename&&h.filename===v.filename&&console.warn(`Overwriting filename <<${v.filename}>> to now point to mime <<${v.mime}>>`),v.filepattern&&h.filepattern===v.filepattern&&console.warn(`Overwriting filepattern <<${v.filepattern}>> to now point to mime <<${v.mime}>>`),v.firstline&&h.firstline===v.firstline&&console.warn(`Overwriting firstline <<${v.firstline}>> to now point to mime <<${v.mime}>>`))})}function t(d,u){return{id:d.id,mime:d.mime,filename:d.filename,extension:d.extension,filepattern:d.filepattern,firstline:d.firstline,userConfigured:u,filenameLowercase:d.filename?d.filename.toLowerCase():void 0,extensionLowercase:d.extension?d.extension.toLowerCase():void 0,filepatternLowercase:d.filepattern?(0,f.parse)(d.filepattern.toLowerCase()):void 0,filepatternOnPath:d.filepattern?d.filepattern.indexOf(D.posix.sep)>=0:!1}}function s(){b=b.filter(d=>d.userConfigured),C=[]}function c(d,u){return g(d,u).map(a=>a.id)}function g(d,u){let a;if(d)switch(d.scheme){case L.Schemas.file:a=d.fsPath;break;case L.Schemas.data:{a=y.DataUri.parseMetaData(d).get(y.DataUri.META_DATA_LABEL);break}case L.Schemas.vscodeNotebookCell:a=void 0;break;default:a=d.path}if(!a)return[{id:"unknown",mime:k.Mimes.unknown}];a=a.toLowerCase();const v=(0,D.basename)(a),h=l(a,v,o);if(h)return[h,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const p=l(a,v,C);if(p)return[p,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(u){const _=r(u);if(_)return[_,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function l(d,u,a){var v;let h,p,_;for(let S=a.length-1;S>=0;S--){const E=a[S];if(u===E.filenameLowercase){h=E;break}if(E.filepattern&&(!p||E.filepattern.length>p.filepattern.length)){const I=E.filepatternOnPath?d:u;!((v=E.filepatternLowercase)===null||v===void 0)&&v.call(E,I)&&(p=E)}E.extension&&(!_||E.extension.length>_.extension.length)&&u.endsWith(E.extensionLowercase)&&(_=E)}if(h)return h;if(p)return p;if(_)return _}function r(d){if((0,m.startsWithUTF8BOM)(d)&&(d=d.substr(1)),d.length>0)for(let u=b.length-1;u>=0;u--){const a=b[u];if(!a.firstline)continue;const v=d.match(a.firstline);if(v&&v.length>0)return a}}}),define(ne[850],se([1,0,7,2,11,849,85,105,39]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const b=Object.prototype.hasOwnProperty,C="vs.editor.nullLanguage";class o{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(C,0),this._register(y.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(t,s){this._languageIdToLanguage[s]=t,this._languageToLanguageId.set(t,s)}register(t){if(this._languageToLanguageId.has(t))return;const s=this._nextLanguageId++;this._register(t,s)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||C}}e.LanguageIdCodec=o;class n extends k.Disposable{constructor(t=!0,s=!1){super(),this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,n.instanceCount++,this._warnOnOverwrite=s,this.languageIdCodec=new o,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(y.ModesRegistry.onDidChangeLanguages(c=>{this._initializeFromRegistry()})))}dispose(){n.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const t=[].concat(y.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const s of t)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{const c=this._languages[s];c.name&&(this._nameMap[c.name]=c.identifier),c.aliases.forEach(g=>{this._lowercaseNameMap[g.toLowerCase()]=c.identifier}),c.mimetypes.forEach(g=>{this._mimeTypesMap[g]=c.identifier})}),w.Registry.as(m.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const s=t.id;let c;b.call(this._languages,s)?c=this._languages[s]:(this.languageIdCodec.register(s),c={identifier:s,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[s]=c),this._mergeLanguage(c,t)}_mergeLanguage(t,s){const c=s.id;let g=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(t.mimetypes.push(...s.mimetypes),g=s.mimetypes[0]),g||(g=`text/x-${c}`,t.mimetypes.push(g)),Array.isArray(s.extensions)){s.configuration?t.extensions=s.extensions.concat(t.extensions):t.extensions=t.extensions.concat(s.extensions);for(const d of s.extensions)(0,D.registerPlatformLanguageAssociation)({id:c,mime:g,extension:d},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(const d of s.filenames)(0,D.registerPlatformLanguageAssociation)({id:c,mime:g,filename:d},this._warnOnOverwrite),t.filenames.push(d);if(Array.isArray(s.filenamePatterns))for(const d of s.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:c,mime:g,filepattern:d},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let d=s.firstLine;d.charAt(0)!=="^"&&(d="^"+d);try{const u=new RegExp(d);(0,L.regExpLeadsToEndlessLoop)(u)||(0,D.registerPlatformLanguageAssociation)({id:c,mime:g,firstline:u},this._warnOnOverwrite)}catch(u){console.warn(`[${s.id}]: Invalid regular expression \`${d}\`: `,u)}}t.aliases.push(c);let l=null;if(typeof s.aliases<"u"&&Array.isArray(s.aliases)&&(s.aliases.length===0?l=[null]:l=s.aliases),l!==null)for(const d of l)!d||d.length===0||t.aliases.push(d);const r=l!==null&&l.length>0;if(!(r&&l[0]===null)){const d=(r?l[0]:null)||c;(r||!t.name)&&(t.name=d)}s.configuration&&t.configurationFiles.push(s.configuration),s.icon&&t.icons.push(s.icon)}isRegisteredLanguageId(t){return t?b.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const s=t.toLowerCase();return b.call(this._lowercaseNameMap,s)?this._lowercaseNameMap[s]:null}getLanguageIdByMimeType(t){return t&&b.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,s){return!t&&!s?[]:(0,D.getLanguageIds)(t,s)}}e.LanguagesRegistry=n,n.instanceCount=0}),define(ne[851],se([1,0,7,2,850,13,27,85]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class w extends k.Disposable{constructor(o=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new f.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new f.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new f.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,w.instanceCount++,this._registry=this._register(new L.LanguagesRegistry(!0,o)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(o){return this._registry.isRegisteredLanguageId(o)}getLanguageIdByLanguageName(o){return this._registry.getLanguageIdByLanguageName(o)}getLanguageIdByMimeType(o){return this._registry.getLanguageIdByMimeType(o)}guessLanguageIdByFilepathOrFirstLine(o,n){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(o,n);return(0,D.firstOrDefault)(i,null)}createById(o){return new b(this.onDidChange,()=>this._createAndGetLanguageIdentifier(o))}createByFilepathOrFirstLine(o,n){return new b(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(o,n);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(o){return(!o||!this.isRegisteredLanguageId(o))&&(o=m.PLAINTEXT_LANGUAGE_ID),o}requestBasicLanguageFeatures(o){this._requestedBasicLanguages.has(o)||(this._requestedBasicLanguages.add(o),this._onDidRequestBasicLanguageFeatures.fire(o))}requestRichLanguageFeatures(o){this._requestedRichLanguages.has(o)||(this._requestedRichLanguages.add(o),this.requestBasicLanguageFeatures(o),y.TokenizationRegistry.getOrCreate(o),this._onDidRequestRichLanguageFeatures.fire(o))}}e.LanguageService=w,w.instanceCount=0;class b{constructor(o,n){this._onDidChangeLanguages=o,this._selector=n,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new f.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var o;const n=this._selector();n!==this.languageId&&(this.languageId=n,(o=this._emitter)===null||o===void 0||o.fire(this.languageId))}}}),define(ne[385],se([1,0,34,269,53,35,2,18,143]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class b{constructor(n,i){this._editorWorkerClient=new k.EditorWorkerClient(n,!1,"editorWorkerService",i)}async provideDocumentColors(n,i){return this._editorWorkerClient.computeDefaultDocumentColors(n.uri)}provideColorPresentations(n,i,t){const s=i.range,c=i.color,g=c.alpha,l=new f.Color(new f.RGBA(Math.round(255*c.red),Math.round(255*c.green),Math.round(255*c.blue),g)),r=g?f.Color.Format.CSS.formatRGB(l):f.Color.Format.CSS.formatRGBA(l),d=g?f.Color.Format.CSS.formatHSL(l):f.Color.Format.CSS.formatHSLA(l),u=g?f.Color.Format.CSS.formatHex(l):f.Color.Format.CSS.formatHexA(l),a=[];return a.push({label:r,textEdit:{range:s,text:r}}),a.push({label:d,textEdit:{range:s,text:d}}),a.push({label:u,textEdit:{range:s,text:u}}),a}}e.DefaultDocumentColorProvider=b;let C=class extends y.Disposable{constructor(n,i,t){super(),this._register(t.colorProvider.register("*",new b(n,i)))}};C=ke([ge(0,L.IModelService),ge(1,D.ILanguageConfigurationService),ge(2,m.ILanguageFeaturesService)],C),(0,w.registerEditorFeature)(C)}),define(ne[386],se([1,0,19,9,22,5,53,25,18,385,28]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColors=o,e.getColorPresentations=n;async function o(l,r,d,u=!0){return c(new i,l,r,d,u)}function n(l,r,d,u){return Promise.resolve(d.provideColorPresentations(l,r,u))}class i{constructor(){}async compute(r,d,u,a){const v=await r.provideDocumentColors(d,u);if(Array.isArray(v))for(const h of v)a.push({colorInfo:h,provider:r});return Array.isArray(v)}}class t{constructor(){}async compute(r,d,u,a){const v=await r.provideDocumentColors(d,u);if(Array.isArray(v))for(const h of v)a.push({range:h.range,color:[h.color.red,h.color.green,h.color.blue,h.color.alpha]});return Array.isArray(v)}}class s{constructor(r){this.colorInfo=r}async compute(r,d,u,a){const v=await r.provideColorPresentations(d,this.colorInfo,f.CancellationToken.None);return Array.isArray(v)&&a.push(...v),Array.isArray(v)}}async function c(l,r,d,u,a){let v=!1,h;const p=[],_=r.ordered(d);for(let S=_.length-1;S>=0;S--){const E=_[S];if(E instanceof b.DefaultDocumentColorProvider)h=E;else try{await l.compute(E,d,u,p)&&(v=!0)}catch(I){(0,k.onUnexpectedExternalError)(I)}}return v?p:h&&a?(await l.compute(h,d,u,p),p):[]}function g(l,r){const{colorProvider:d}=l.get(w.ILanguageFeaturesService),u=l.get(y.IModelService).getModel(r);if(!u)throw(0,k.illegalArgument)();const a=l.get(C.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:r});return{model:u,colorProviderRegistry:d,isDefaultColorDecoratorsEnabled:a}}m.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(l,...r){const[d]=r;if(!(d instanceof L.URI))throw(0,k.illegalArgument)();const{model:u,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:v}=g(l,d);return c(new t,a,u,f.CancellationToken.None,v)}),m.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(l,...r){const[d,u]=r,{uri:a,range:v}=u;if(!(a instanceof L.URI)||!Array.isArray(d)||d.length!==4||!D.Range.isIRange(v))throw(0,k.illegalArgument)();const{model:h,colorProviderRegistry:p,isDefaultColorDecoratorsEnabled:_}=g(l,a),[S,E,I,T]=d;return c(new s({range:v,color:{red:S,green:E,blue:I,alpha:T}}),p,h,f.CancellationToken.None,_)})}),define(ne[852],se([1,0,6,2,117,357,169,655]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const w=f.$;class b extends k.Disposable{constructor(o,n,i){super(),this._renderDisposeables=this._register(new k.DisposableStore),this._editor=o,this._isVisible=!1,this._messages=[],this._hover=this._register(new y.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new L.MarkdownRenderer({editor:this._editor},n,i)),this._computer=new m.MarginHoverComputer(this._editor),this._hoverOperation=this._register(new D.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(t=>{this._withResult(t.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(t=>{t.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow(o){const n=o.target;return n.type===2&&n.detail.glyphMarginLane?(this._startShowingAt(n.position.lineNumber,n.detail.glyphMarginLane),!0):n.type===3?(this._startShowingAt(n.position.lineNumber,"lineNo"),!0):!1}_startShowingAt(o,n){this._computer.lineNumber===o&&this._computer.lane===n||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=o,this._computer.lane=n,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(o){this._messages=o,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(o,n){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const t of n){const s=w("div.hover-row.markdown-hover"),c=f.append(s,w("div.hover-contents")),g=this._renderDisposeables.add(this._markdownRenderer.render(t.value));c.appendChild(g.element),i.appendChild(s)}this._updateContents(i),this._showAt(o)}_updateContents(o){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(o),this._updateFont()}_showAt(o){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const n=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(o),t=this._editor.getScrollTop(),s=this._editor.getOption(67),c=this._hover.containerDomNode.clientHeight,g=i-t-(c-s)/2,l=n.glyphMarginLeft+n.glyphMarginWidth+(this._computer.lane==="lineNo"?n.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${l}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(g),0)}px`}}e.MarginHoverWidget=b,b.ID="editor.contrib.modesGlyphHoverWidget"}),define(ne[853],se([1,0,11,208,73,226,24,236]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReindentEditOperations=w;function w(C,o,n,i){if(C.getLineCount()===1&&C.getLineMaxColumn(1)===1)return[];const t=o.getLanguageConfiguration(C.getLanguageId()).indentRulesSupport;if(!t)return[];const s=new m.ProcessedIndentRulesSupport(C,t,o);for(i=Math.min(i,C.getLineCount());n<=i&&s.shouldIgnore(n);)n++;if(n>i-1)return[];const{tabSize:c,indentSize:g,insertSpaces:l}=C.getOptions(),r=(p,_)=>(_=_||1,k.ShiftCommand.shiftIndent(p,p.length+_,c,g,l)),d=(p,_)=>(_=_||1,k.ShiftCommand.unshiftIndent(p,p.length+_,c,g,l)),u=[],a=C.getLineContent(n);let v=f.getLeadingWhitespace(a),h=v;s.shouldIncrease(n)?(h=r(h),v=r(v)):s.shouldIndentNextLine(n)&&(h=r(h)),n++;for(let p=n;p<=i;p++){if(b(C,p))continue;const _=C.getLineContent(p),S=f.getLeadingWhitespace(_),E=h;s.shouldDecrease(p,E)&&(h=d(h),v=d(v)),S!==h&&u.push(L.EditOperation.replaceMove(new y.Selection(p,1,p,S.length+1),(0,D.normalizeIndentation)(h,g,l))),!s.shouldIgnore(p)&&(s.shouldIncrease(p,E)?(v=r(v),h=v):s.shouldIndentNextLine(p,E)?h=r(h):h=v)}return u}function b(C,o){return C.tokenization.isCheapToTokenize(o)?C.tokenization.getLineTokens(o).getStandardTokenType(0)===2:!1}}),define(ne[854],se([1,0,19,155,78,2,30,5,109,108,27,35,18,657,242]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let s=class extends D.Disposable{constructor(v,h,p,_,S){super(),this.textModel=v,this.versionId=h,this._debounceValue=p,this.languageFeaturesService=_,this.languageConfigurationService=S,this._updateOperation=this._register(new D.MutableDisposable),this.inlineCompletions=(0,y.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,y.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(v,h,p){var _,S;const E=new g(v,h,this.textModel.getVersionId()),I=h.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((_=this._updateOperation.value)===null||_===void 0)&&_.request.satisfies(E))return this._updateOperation.value.promise;if(!((S=I.get())===null||S===void 0)&&S.request.satisfies(E))return Promise.resolve(!0);const T=!!this._updateOperation.value;this._updateOperation.clear();const N=new f.CancellationTokenSource,A=(async()=>{if((T||h.triggerKind===C.InlineCompletionTriggerKind.Automatic)&&await c(this._debounceValue.get(this.textModel),N.token),N.token.isCancellationRequested||this.textModel.getVersionId()!==E.versionId)return!1;const P=new Date,F=await(0,i.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,v,this.textModel,h,N.token,this.languageConfigurationService);if(N.token.isCancellationRequested||this.textModel.getVersionId()!==E.versionId)return!1;const O=new Date;this._debounceValue.update(this.textModel,O.getTime()-P.getTime());const B=new r(F,E,this.textModel,this.versionId);if(p){const V=p.toInlineCompletion(void 0);p.canBeReused(this.textModel,v)&&!F.has(V)&&B.prepend(p.inlineCompletion,V.range,!0)}return this._updateOperation.clear(),(0,y.transaction)(V=>{I.set(B,V)}),!0})(),R=new l(E,N,A);return this._updateOperation.value=R,A}clear(v){this._updateOperation.clear(),this.inlineCompletions.set(void 0,v),this.suggestWidgetInlineCompletions.set(void 0,v)}clearSuggestWidgetInlineCompletions(v){var h;!((h=this._updateOperation.value)===null||h===void 0)&&h.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,v)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=s,e.InlineCompletionsSource=s=ke([ge(3,n.ILanguageFeaturesService),ge(4,o.ILanguageConfigurationService)],s);function c(a,v){return new Promise(h=>{let p;const _=setTimeout(()=>{p&&p.dispose(),h()},a);v&&(p=v.onCancellationRequested(()=>{clearTimeout(_),p&&p.dispose(),h()}))})}class g{constructor(v,h,p){this.position=v,this.context=h,this.versionId=p}satisfies(v){return this.position.equals(v.position)&&(0,k.equalsIfDefined)(this.context.selectedSuggestionInfo,v.context.selectedSuggestionInfo,(0,k.itemEquals)())&&(v.context.triggerKind===C.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===C.InlineCompletionTriggerKind.Explicit)&&this.versionId===v.versionId}}class l{constructor(v,h,p){this.request=v,this.cancellationTokenSource=h,this.promise=p}dispose(){this.cancellationTokenSource.cancel()}}class r{get inlineCompletions(){return this._inlineCompletions}constructor(v,h,p,_){this.inlineCompletionProviderResult=v,this.request=h,this._textModel=p,this._versionId=_,this._refCount=1,this._prependedInlineCompletionItems=[];const S=p.deltaDecorations([],v.completions.map(E=>({range:E.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=v.completions.map((E,I)=>new d(E,S[I],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map(v=>v.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const v of this._prependedInlineCompletionItems)v.source.removeRef()}}prepend(v,h,p){p&&v.source.addRef();const _=this._textModel.deltaDecorations([],[{range:h,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new d(v,_,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(v)}}e.UpToDateInlineCompletions=r;class d{get forwardStable(){var v;return(v=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&v!==void 0?v:!1}constructor(v,h,p,_){this.inlineCompletion=v,this.decorationId=h,this._textModel=p,this._modelVersion=_,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=(0,y.derivedOpts)({owner:this,equalsFn:m.Range.equalsRange},S=>(this._modelVersion.read(S),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(v){var h;return this.inlineCompletion.withRange((h=this._updatedRange.read(v))!==null&&h!==void 0?h:u)}toSingleTextEdit(v){var h;return new w.SingleTextEdit((h=this._updatedRange.read(v))!==null&&h!==void 0?h:u,this.inlineCompletion.insertText)}isVisible(v,h,p){const _=(0,t.singleTextRemoveCommonPrefix)(this._toFilterTextReplacement(p),v),S=this._updatedRange.read(p);if(!S||!this.inlineCompletion.range.getStartPosition().equals(S.getStartPosition())||h.lineNumber!==_.range.startLineNumber)return!1;const E=v.getValueInRange(_.range,1),I=_.text,T=Math.max(0,h.column-_.range.startColumn);let N=I.substring(0,T),A=I.substring(T),R=E.substring(0,T),M=E.substring(T);const P=v.getLineIndentColumn(_.range.startLineNumber);return _.range.startColumn<=P&&(R=R.trimStart(),R.length===0&&(M=M.trimStart()),N=N.trimStart(),N.length===0&&(A=A.trimStart())),N.startsWith(R)&&!!(0,L.matchesSubString)(M,A)}canBeReused(v,h){const p=this._updatedRange.read(void 0);return!!p&&p.containsPosition(h)&&this.isVisible(v,h,void 0)&&b.TextLength.ofRange(p).isGreaterThanOrEqualTo(b.TextLength.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(v){var h;return new w.SingleTextEdit((h=this._updatedRange.read(v))!==null&&h!==void 0?h:u,this.inlineCompletion.filterText)}}e.InlineCompletionWithUpdatedRange=d;const u=new m.Range(1,1,1,1)}),define(ne[855],se([1,0,11,208,5,24,128,35,330,237,270]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let o=class{constructor(i,t,s,c){this._languageConfigurationService=c,this._selection=i,this._isMovingDown=t,this._autoIndent=s,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,t){const s=()=>i.getLanguageId(),c=(v,h)=>i.getLanguageIdAtPosition(v,h),g=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===g){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let l=this._selection;l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._moveEndPositionDown=!0,l=l.setEndPosition(l.endLineNumber-1,i.getLineMaxColumn(l.endLineNumber-1)));const{tabSize:r,indentSize:d,insertSpaces:u}=i.getOptions(),a=this.buildIndentConverter(r,d,u);if(l.startLineNumber===l.endLineNumber&&i.getLineMaxColumn(l.startLineNumber)===1){const v=l.startLineNumber,h=this._isMovingDown?v+1:v-1;i.getLineMaxColumn(h)===1?t.addEditOperation(new L.Range(1,1,1,1),null):(t.addEditOperation(new L.Range(v,1,v,1),i.getLineContent(h)),t.addEditOperation(new L.Range(h,1,h,i.getLineMaxColumn(h)),null)),l=new D.Selection(h,1,h,1)}else{let v,h;if(this._isMovingDown){v=l.endLineNumber+1,h=i.getLineContent(v),t.addEditOperation(new L.Range(v-1,i.getLineMaxColumn(v-1),v,i.getLineMaxColumn(v)),null);let p=h;if(this.shouldAutoIndent(i,l)){const _=this.matchEnterRule(i,a,r,v,l.startLineNumber-1);if(_!==null){const E=f.getLeadingWhitespace(i.getLineContent(v)),I=_+w.getSpaceCnt(E,r);p=w.generateIndent(I,r,u)+this.trimStart(h)}else{const E={tokenization:{getLineTokens:T=>T===l.startLineNumber?i.tokenization.getLineTokens(v):i.tokenization.getLineTokens(T),getLanguageId:s,getLanguageIdAtPosition:c},getLineContent:T=>T===l.startLineNumber?i.getLineContent(v):i.getLineContent(T)},I=(0,b.getGoodIndentForLine)(this._autoIndent,E,i.getLanguageIdAtPosition(v,1),l.startLineNumber,a,this._languageConfigurationService);if(I!==null){const T=f.getLeadingWhitespace(i.getLineContent(v)),N=w.getSpaceCnt(I,r),A=w.getSpaceCnt(T,r);N!==A&&(p=w.generateIndent(N,r,u)+this.trimStart(h))}}t.addEditOperation(new L.Range(l.startLineNumber,1,l.startLineNumber,1),p+`
`);const S=this.matchEnterRuleMovingDown(i,a,r,l.startLineNumber,v,p);if(S!==null)S!==0&&this.getIndentEditsOfMovingBlock(i,t,l,r,u,S);else{const E={tokenization:{getLineTokens:T=>T===l.startLineNumber?i.tokenization.getLineTokens(v):T>=l.startLineNumber+1&&T<=l.endLineNumber+1?i.tokenization.getLineTokens(T-1):i.tokenization.getLineTokens(T),getLanguageId:s,getLanguageIdAtPosition:c},getLineContent:T=>T===l.startLineNumber?p:T>=l.startLineNumber+1&&T<=l.endLineNumber+1?i.getLineContent(T-1):i.getLineContent(T)},I=(0,b.getGoodIndentForLine)(this._autoIndent,E,i.getLanguageIdAtPosition(v,1),l.startLineNumber+1,a,this._languageConfigurationService);if(I!==null){const T=f.getLeadingWhitespace(i.getLineContent(l.startLineNumber)),N=w.getSpaceCnt(I,r),A=w.getSpaceCnt(T,r);if(N!==A){const R=N-A;this.getIndentEditsOfMovingBlock(i,t,l,r,u,R)}}}}else t.addEditOperation(new L.Range(l.startLineNumber,1,l.startLineNumber,1),p+`
`)}else if(v=l.startLineNumber-1,h=i.getLineContent(v),t.addEditOperation(new L.Range(v,1,v+1,1),null),t.addEditOperation(new L.Range(l.endLineNumber,i.getLineMaxColumn(l.endLineNumber),l.endLineNumber,i.getLineMaxColumn(l.endLineNumber)),`
`+h),this.shouldAutoIndent(i,l)){const p={tokenization:{getLineTokens:S=>S===v?i.tokenization.getLineTokens(l.startLineNumber):i.tokenization.getLineTokens(S),getLanguageId:s,getLanguageIdAtPosition:c},getLineContent:S=>S===v?i.getLineContent(l.startLineNumber):i.getLineContent(S)},_=this.matchEnterRule(i,a,r,l.startLineNumber,l.startLineNumber-2);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(i,t,l,r,u,_);else{const S=(0,b.getGoodIndentForLine)(this._autoIndent,p,i.getLanguageIdAtPosition(l.startLineNumber,1),v,a,this._languageConfigurationService);if(S!==null){const E=f.getLeadingWhitespace(i.getLineContent(l.startLineNumber)),I=w.getSpaceCnt(S,r),T=w.getSpaceCnt(E,r);if(I!==T){const N=I-T;this.getIndentEditsOfMovingBlock(i,t,l,r,u,N)}}}}}this._selectionId=t.trackSelection(l)}buildIndentConverter(i,t,s){return{shiftIndent:c=>k.ShiftCommand.shiftIndent(c,c.length+1,i,t,s),unshiftIndent:c=>k.ShiftCommand.unshiftIndent(c,c.length+1,i,t,s)}}parseEnterResult(i,t,s,c,g){if(g){let l=g.indentation;g.indentAction===y.IndentAction.None||g.indentAction===y.IndentAction.Indent?l=g.indentation+g.appendText:g.indentAction===y.IndentAction.IndentOutdent?l=g.indentation:g.indentAction===y.IndentAction.Outdent&&(l=t.unshiftIndent(g.indentation)+g.appendText);const r=i.getLineContent(c);if(this.trimStart(r).indexOf(this.trimStart(l))>=0){const d=f.getLeadingWhitespace(i.getLineContent(c));let u=f.getLeadingWhitespace(l);const a=(0,b.getIndentMetadata)(i,c,this._languageConfigurationService);a!==null&&a&2&&(u=t.unshiftIndent(u));const v=w.getSpaceCnt(u,s),h=w.getSpaceCnt(d,s);return v-h}}return null}matchEnterRuleMovingDown(i,t,s,c,g,l){if(f.lastNonWhitespaceIndex(l)>=0){const r=i.getLineMaxColumn(g),d=(0,C.getEnterAction)(this._autoIndent,i,new L.Range(g,r,g,r),this._languageConfigurationService);return this.parseEnterResult(i,t,s,c,d)}else{let r=c-1;for(;r>=1;){const a=i.getLineContent(r);if(f.lastNonWhitespaceIndex(a)>=0)break;r--}if(r<1||c>i.getLineCount())return null;const d=i.getLineMaxColumn(r),u=(0,C.getEnterAction)(this._autoIndent,i,new L.Range(r,d,r,d),this._languageConfigurationService);return this.parseEnterResult(i,t,s,c,u)}}matchEnterRule(i,t,s,c,g,l){let r=g;for(;r>=1;){let a;if(r===g&&l!==void 0?a=l:a=i.getLineContent(r),f.lastNonWhitespaceIndex(a)>=0)break;r--}if(r<1||c>i.getLineCount())return null;const d=i.getLineMaxColumn(r),u=(0,C.getEnterAction)(this._autoIndent,i,new L.Range(r,d,r,d),this._languageConfigurationService);return this.parseEnterResult(i,t,s,c,u)}trimStart(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,t){if(this._autoIndent<4||!i.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const s=i.getLanguageIdAtPosition(t.startLineNumber,1),c=i.getLanguageIdAtPosition(t.endLineNumber,1);return!(s!==c||this._languageConfigurationService.getLanguageConfiguration(s).indentRulesSupport===null)}getIndentEditsOfMovingBlock(i,t,s,c,g,l){for(let r=s.startLineNumber;r<=s.endLineNumber;r++){const d=i.getLineContent(r),u=f.getLeadingWhitespace(d),v=w.getSpaceCnt(u,c)+l,h=w.generateIndent(v,c,g);h!==u&&(t.addEditOperation(new L.Range(r,1,r,u.length+1),h),r===s.endLineNumber&&s.endColumn<=u.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,t){let s=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(s=s.setEndPosition(s.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&s.startLineNumber<s.endLineNumber&&(s=s.setEndPosition(s.endLineNumber,2)),s}};e.MoveLinesCommand=o,e.MoveLinesCommand=o=ke([ge(3,m.ILanguageConfigurationService)],o)}),define(ne[387],se([1,0,6,81,26,31,7,57,2,117,251,765,8]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=void 0,e.canExpandCompletionItem=i;function i(c){return!!c&&!!(c.completion.documentation||c.completion.detail&&c.completion.detail!==c.completion.label)}let t=class{constructor(g,l){this._editor=g,this._onDidClose=new y.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new y.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new w.DisposableStore,this._renderDisposeable=new w.DisposableStore,this._borderWidth=1,this._size=new f.Dimension(330,0),this.domNode=f.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=l.createInstance(b.MarkdownRenderer,{editor:g}),this._body=f.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),f.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=f.append(this._body,f.$(".header")),this._close=f.append(this._header,f.$("span"+D.ThemeIcon.asCSSSelector(L.Codicon.close))),this._close.title=o.localize(0,null),this._type=f.append(this._header,f.$("p.type")),this._docs=f.append(this._body,f.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const g=this._editor.getOptions(),l=g.get(50),r=l.getMassagedFontFamily(),d=g.get(119)||l.fontSize,u=g.get(120)||l.lineHeight,a=l.fontWeight,v=`${d}px`,h=`${u}px`;this.domNode.style.fontSize=v,this.domNode.style.lineHeight=`${u/d}`,this.domNode.style.fontWeight=a,this.domNode.style.fontFeatureSettings=l.fontFeatureSettings,this._type.style.fontFamily=r,this._close.style.height=h,this._close.style.width=h}getLayoutInfo(){const g=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,l=this._borderWidth,r=l*2;return{lineHeight:g,borderWidth:l,borderHeight:r,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=o.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(g,l){var r,d;this._renderDisposeable.clear();let{detail:u,documentation:a}=g.completion;if(l){let v="";v+=`score: ${g.score[0]}
`,v+=`prefix: ${(r=g.word)!==null&&r!==void 0?r:"(no prefix)"}
`,v+=`word: ${g.completion.filterText?g.completion.filterText+" (filterText)":g.textLabel}
`,v+=`distance: ${g.distance} (localityBonus-setting)
`,v+=`index: ${g.idx}, based on ${g.completion.sortText&&`sortText: "${g.completion.sortText}"`||"label"}
`,v+=`commit_chars: ${(d=g.completion.commitCharacters)===null||d===void 0?void 0:d.join("")}
`,a=new m.MarkdownString().appendCodeblock("empty",v),u=`Provider: ${g.provider._debugDisplayName}`}if(!l&&!i(g)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),u){const v=u.length>1e5?`${u.substr(0,1e5)}\u2026`:u;this._type.textContent=v,this._type.title=v,f.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(v))}else f.clearNode(this._type),this._type.title="",f.hide(this._type),this.domNode.classList.add("no-type");if(f.clearNode(this._docs),typeof a=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=a;else if(a){this._docs.classList.add("markdown-docs"),f.clearNode(this._docs);const v=this._markdownRenderer.render(a);this._docs.appendChild(v.element),this._renderDisposeable.add(v),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=v=>{v.preventDefault(),v.stopPropagation()},this._close.onclick=v=>{v.preventDefault(),v.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(g,l){const r=new f.Dimension(g,l);f.Dimension.equals(r,this._size)||(this._size=r,f.size(this.domNode,g,l)),this._scrollbar.scanDomNode()}scrollDown(g=8){this._body.scrollTop+=g}scrollUp(g=8){this._body.scrollTop-=g}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(g){this._borderWidth=g}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=t,e.SuggestDetailsWidget=t=ke([ge(1,n.IInstantiationService)],t);class s{constructor(g,l){this.widget=g,this._editor=l,this.allowEditorOverflow=!0,this._disposables=new w.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new C.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(g.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let r,d,u=0,a=0;this._disposables.add(this._resizable.onDidWillResize(()=>{r=this._topLeft,d=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(v=>{if(r&&d){this.widget.layout(v.dimension.width,v.dimension.height);let h=!1;v.west&&(a=d.width-v.dimension.width,h=!0),v.north&&(u=d.height-v.dimension.height,h=!0),h&&this._applyTopLeft({top:r.top+u,left:r.left+a})}v.done&&(r=void 0,d=void 0,u=0,a=0,this._userSize=v.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var v;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(v=this._userSize)!==null&&v!==void 0?v:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(g=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),g&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(g,l){var r;const d=g.getBoundingClientRect();this._anchorBox=d,this._preferAlignAtTop=l,this._placeAtAnchor(this._anchorBox,(r=this._userSize)!==null&&r!==void 0?r:this.widget.size,l)}_placeAtAnchor(g,l,r){var d;const u=f.getClientArea(this.getDomNode().ownerDocument.body),a=this.widget.getLayoutInfo(),v=new f.Dimension(220,2*a.lineHeight),h=g.top,p=function(){const B=u.width-(g.left+g.width+a.borderWidth+a.horizontalPadding),V=-a.borderWidth+g.left+g.width,K=new f.Dimension(B,u.height-g.top-a.borderHeight-a.verticalPadding),U=K.with(void 0,g.top+g.height-a.borderHeight-a.verticalPadding);return{top:h,left:V,fit:B-l.width,maxSizeTop:K,maxSizeBottom:U,minSize:v.with(Math.min(B,v.width))}}(),_=function(){const B=g.left-a.borderWidth-a.horizontalPadding,V=Math.max(a.horizontalPadding,g.left-l.width-a.borderWidth),K=new f.Dimension(B,u.height-g.top-a.borderHeight-a.verticalPadding),U=K.with(void 0,g.top+g.height-a.borderHeight-a.verticalPadding);return{top:h,left:V,fit:B-l.width,maxSizeTop:K,maxSizeBottom:U,minSize:v.with(Math.min(B,v.width))}}(),S=function(){const B=g.left,V=-a.borderWidth+g.top+g.height,K=new f.Dimension(g.width-a.borderHeight,u.height-g.top-g.height-a.verticalPadding);return{top:V,left:B,fit:K.height-l.height,maxSizeBottom:K,maxSizeTop:K,minSize:v.with(K.width)}}(),E=[p,_,S],I=(d=E.find(B=>B.fit>=0))!==null&&d!==void 0?d:E.sort((B,V)=>V.fit-B.fit)[0],T=g.top+g.height-a.borderHeight;let N,A=l.height;const R=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);A>R&&(A=R);let M;r?A<=I.maxSizeTop.height?(N=!0,M=I.maxSizeTop):(N=!1,M=I.maxSizeBottom):A<=I.maxSizeBottom.height?(N=!1,M=I.maxSizeBottom):(N=!0,M=I.maxSizeTop);let{top:P,left:F}=I;!N&&A>g.height&&(P=T-A);const O=this._editor.getDomNode();if(O){const B=O.getBoundingClientRect();P-=B.top,F-=B.left}this._applyTopLeft({left:F,top:P}),this._resizable.enableSashes(!N,I===p,N,I!==p),this._resizable.minSize=I.minSize,this._resizable.maxSize=M,this._resizable.layout(A,Math.min(M.width,l.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(g){this._topLeft=g,this._editor.layoutOverlayWidget(this)}}e.SuggestDetailsOverlay=s}),define(ne[388],se([1,0,13,45,55,20,22,28,105,39]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function C(c){return Object.isFrozen(c)?c:L.deepFreeze(c)}class o{static createEmptyModel(g){return new o({},[],[],void 0,g)}constructor(g,l,r,d,u){this._contents=g,this._keys=l,this._overrides=r,this.raw=d,this.logService=u,this.overrideConfigurations=new Map}get rawConfiguration(){var g;if(!this._rawConfiguration)if(!((g=this.raw)===null||g===void 0)&&g.length){const l=this.raw.map(r=>{if(r instanceof o)return r;const d=new n("",this.logService);return d.parseRaw(r),d.configurationModel});this._rawConfiguration=l.reduce((r,d)=>d===r?d:r.merge(d),l[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(g){return g?(0,m.getConfigurationValue)(this.contents,g):this.contents}inspect(g,l){const r=this;return{get value(){return C(r.rawConfiguration.getValue(g))},get override(){return l?C(r.rawConfiguration.getOverrideValue(g,l)):void 0},get merged(){return C(l?r.rawConfiguration.override(l).getValue(g):r.rawConfiguration.getValue(g))},get overrides(){const d=[];for(const{contents:u,identifiers:a,keys:v}of r.rawConfiguration.overrides){const h=new o(u,v,[],void 0,r.logService).getValue(g);h!==void 0&&d.push({identifiers:a,value:h})}return d.length?C(d):void 0}}}getOverrideValue(g,l){const r=this.getContentsForOverrideIdentifer(l);return r?g?(0,m.getConfigurationValue)(r,g):r:void 0}override(g){let l=this.overrideConfigurations.get(g);return l||(l=this.createOverrideConfigurationModel(g),this.overrideConfigurations.set(g,l)),l}merge(...g){var l,r;const d=L.deepClone(this.contents),u=L.deepClone(this.overrides),a=[...this.keys],v=!((l=this.raw)===null||l===void 0)&&l.length?[...this.raw]:[this];for(const h of g)if(v.push(...!((r=h.raw)===null||r===void 0)&&r.length?h.raw:[h]),!h.isEmpty()){this.mergeContents(d,h.contents);for(const p of h.overrides){const[_]=u.filter(S=>f.equals(S.identifiers,p.identifiers));_?(this.mergeContents(_.contents,p.contents),_.keys.push(...p.keys),_.keys=f.distinct(_.keys)):u.push(L.deepClone(p))}for(const p of h.keys)a.indexOf(p)===-1&&a.push(p)}return new o(d,a,u,v.every(h=>h instanceof o)?void 0:v,this.logService)}createOverrideConfigurationModel(g){const l=this.getContentsForOverrideIdentifer(g);if(!l||typeof l!="object"||!Object.keys(l).length)return this;const r={};for(const d of f.distinct([...Object.keys(this.contents),...Object.keys(l)])){let u=this.contents[d];const a=l[d];a&&(typeof u=="object"&&typeof a=="object"?(u=L.deepClone(u),this.mergeContents(u,a)):u=a),r[d]=u}return new o(r,this.keys,this.overrides,void 0,this.logService)}mergeContents(g,l){for(const r of Object.keys(l)){if(r in g&&D.isObject(g[r])&&D.isObject(l[r])){this.mergeContents(g[r],l[r]);continue}g[r]=L.deepClone(l[r])}}getContentsForOverrideIdentifer(g){let l=null,r=null;const d=u=>{u&&(r?this.mergeContents(r,u):r=L.deepClone(u))};for(const u of this.overrides)u.identifiers.length===1&&u.identifiers[0]===g?l=u.contents:u.identifiers.includes(g)&&d(u.contents);return d(l),r}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(g,l){this.updateValue(g,l,!0)}setValue(g,l){this.updateValue(g,l,!1)}removeValue(g){const l=this.keys.indexOf(g);l!==-1&&(this.keys.splice(l,1),(0,m.removeFromValueTree)(this.contents,g),w.OVERRIDE_PROPERTY_REGEX.test(g)&&this.overrides.splice(this.overrides.findIndex(r=>f.equals(r.identifiers,(0,w.overrideIdentifiersFromKey)(g))),1))}updateValue(g,l,r){(0,m.addToValueTree)(this.contents,g,l,d=>this.logService.error(d)),r=r||this.keys.indexOf(g)===-1,r&&this.keys.push(g),w.OVERRIDE_PROPERTY_REGEX.test(g)&&this.overrides.push({identifiers:(0,w.overrideIdentifiersFromKey)(g),keys:Object.keys(this.contents[g]),contents:(0,m.toValuesTree)(this.contents[g],d=>this.logService.error(d))})}}e.ConfigurationModel=o;class n{constructor(g,l){this._name=g,this.logService=l,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||o.createEmptyModel(this.logService)}parseRaw(g,l){this._raw=g;const{contents:r,keys:d,overrides:u,restricted:a,hasExcludedProperties:v}=this.doParseRaw(g,l);this._configurationModel=new o(r,d,u,v?[g]:void 0,this.logService),this._restrictedConfigurations=a||[]}doParseRaw(g,l){const r=b.Registry.as(w.Extensions.Configuration).getConfigurationProperties(),d=this.filter(g,r,!0,l);g=d.raw;const u=(0,m.toValuesTree)(g,h=>this.logService.error(`Conflict in settings file ${this._name}: ${h}`)),a=Object.keys(g),v=this.toOverrides(g,h=>this.logService.error(`Conflict in settings file ${this._name}: ${h}`));return{contents:u,keys:a,overrides:v,restricted:d.restricted,hasExcludedProperties:d.hasExcludedProperties}}filter(g,l,r,d){var u,a,v;let h=!1;if(!d?.scopes&&!d?.skipRestricted&&!(!((u=d?.exclude)===null||u===void 0)&&u.length))return{raw:g,restricted:[],hasExcludedProperties:h};const p={},_=[];for(const S in g)if(w.OVERRIDE_PROPERTY_REGEX.test(S)&&r){const E=this.filter(g[S],l,!1,d);p[S]=E.raw,h=h||E.hasExcludedProperties,_.push(...E.restricted)}else{const E=l[S],I=E?typeof E.scope<"u"?E.scope:3:void 0;E?.restricted&&_.push(S),!(!((a=d.exclude)===null||a===void 0)&&a.includes(S))&&(!((v=d.include)===null||v===void 0)&&v.includes(S)||(I===void 0||d.scopes===void 0||d.scopes.includes(I))&&!(d.skipRestricted&&E?.restricted))?p[S]=g[S]:h=!0}return{raw:p,restricted:_,hasExcludedProperties:h}}toOverrides(g,l){const r=[];for(const d of Object.keys(g))if(w.OVERRIDE_PROPERTY_REGEX.test(d)){const u={};for(const a in g[d])u[a]=g[d][a];r.push({identifiers:(0,w.overrideIdentifiersFromKey)(d),keys:Object.keys(u),contents:(0,m.toValuesTree)(u,l)})}return r}}e.ConfigurationModelParser=n;class i{constructor(g,l,r,d,u,a,v,h,p,_,S,E,I){this.key=g,this.overrides=l,this._value=r,this.overrideIdentifiers=d,this.defaultConfiguration=u,this.policyConfiguration=a,this.applicationConfiguration=v,this.userConfiguration=h,this.localUserConfiguration=p,this.remoteUserConfiguration=_,this.workspaceConfiguration=S,this.folderConfigurationModel=E,this.memoryConfigurationModel=I}toInspectValue(g){return g?.value!==void 0||g?.override!==void 0||g?.overrides!==void 0?g:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class t{constructor(g,l,r,d,u,a,v,h,p,_){this._defaultConfiguration=g,this._policyConfiguration=l,this._applicationConfiguration=r,this._localUserConfiguration=d,this._remoteUserConfiguration=u,this._workspaceConfiguration=a,this._folderConfigurations=v,this._memoryConfiguration=h,this._memoryConfigurationByResource=p,this.logService=_,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(g,l,r){return this.getConsolidatedConfigurationModel(g,l,r).getValue(g)}updateValue(g,l,r={}){let d;r.resource?(d=this._memoryConfigurationByResource.get(r.resource),d||(d=o.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(r.resource,d))):d=this._memoryConfiguration,l===void 0?d.removeValue(g):d.setValue(g,l),r.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(g,l,r){const d=this.getConsolidatedConfigurationModel(g,l,r),u=this.getFolderConfigurationModelForResource(l.resource,r),a=l.resource?this._memoryConfigurationByResource.get(l.resource)||this._memoryConfiguration:this._memoryConfiguration,v=new Set;for(const h of d.overrides)for(const p of h.identifiers)d.getOverrideValue(g,p)!==void 0&&v.add(p);return new i(g,l,d.getValue(g),v.size?[...v]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,r?this._workspaceConfiguration:void 0,u||void 0,a)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(g,l,r){let d=this.getConsolidatedConfigurationModelForResource(l,r);return l.overrideIdentifier&&(d=d.override(l.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(g)!==void 0&&(d=d.merge(this._policyConfiguration)),d}getConsolidatedConfigurationModelForResource({resource:g},l){let r=this.getWorkspaceConsolidatedConfiguration();if(l&&g){const d=l.getFolder(g);d&&(r=this.getFolderConsolidatedConfiguration(d.uri)||r);const u=this._memoryConfigurationByResource.get(g);u&&(r=r.merge(u))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(g){let l=this._foldersConsolidatedConfigurations.get(g);if(!l){const r=this.getWorkspaceConsolidatedConfiguration(),d=this._folderConfigurations.get(g);d?(l=r.merge(d),this._foldersConsolidatedConfigurations.set(g,l)):l=r}return l}getFolderConfigurationModelForResource(g,l){if(l&&g){const r=l.getFolder(g);if(r)return this._folderConfigurations.get(r.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((g,l)=>{const{contents:r,overrides:d,keys:u}=this._folderConfigurations.get(l);return g.push([l,{contents:r,overrides:d,keys:u}]),g},[])}}static parse(g,l){const r=this.parseConfigurationModel(g.defaults,l),d=this.parseConfigurationModel(g.policy,l),u=this.parseConfigurationModel(g.application,l),a=this.parseConfigurationModel(g.user,l),v=this.parseConfigurationModel(g.workspace,l),h=g.folders.reduce((p,_)=>(p.set(y.URI.revive(_[0]),this.parseConfigurationModel(_[1],l)),p),new k.ResourceMap);return new t(r,d,u,a,o.createEmptyModel(l),v,h,o.createEmptyModel(l),new k.ResourceMap,l)}static parseConfigurationModel(g,l){return new o(g.contents,g.keys,g.overrides,void 0,l)}}e.Configuration=t;class s{constructor(g,l,r,d,u){this.change=g,this.previous=l,this.currentConfiguraiton=r,this.currentWorkspace=d,this.logService=u,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const a of g.keys)this.affectedKeys.add(a);for(const[,a]of g.overrides)for(const v of a)this.affectedKeys.add(v);this._affectsConfigStr=this._marker;for(const a of this.affectedKeys)this._affectsConfigStr+=a+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(g,l){var r;const d=this._marker+g,u=this._affectsConfigStr.indexOf(d);if(u<0)return!1;const a=u+d.length;if(a>=this._affectsConfigStr.length)return!1;const v=this._affectsConfigStr.charCodeAt(a);if(v!==this._markerCode1&&v!==this._markerCode2)return!1;if(l){const h=this.previousConfiguration?this.previousConfiguration.getValue(g,l,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,p=this.currentConfiguraiton.getValue(g,l,this.currentWorkspace);return!L.equals(h,p)}return!0}}e.ConfigurationChangeEvent=s}),define(ne[856],se([1,0,2,388,105,39]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class y extends f.Disposable{get configurationModel(){return this._configurationModel}constructor(w){super(),this.logService=w,this._configurationModel=k.ConfigurationModel.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=k.ConfigurationModel.createEmptyModel(this.logService);const w=D.Registry.as(L.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(w),w)}updateConfigurationModel(w,b){const C=this.getConfigurationDefaultOverrides();for(const o of w){const n=C[o],i=b[o];n!==void 0?this._configurationModel.addValue(o,n):i?this._configurationModel.addValue(o,i.default):this._configurationModel.removeValue(o)}}}e.DefaultConfiguration=y}),define(ne[118],se([1,0,136,17,25,39,2,71]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=new m.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(o){if(k.OS===1){if(o&&o.win)return o.win}else if(k.OS===2){if(o&&o.mac)return o.mac}else if(o&&o.linux)return o.linux;return o}registerKeybindingRule(o){const n=w.bindToCurrentPlatform(o),i=new y.DisposableStore;if(n&&n.primary){const t=(0,f.decodeKeybinding)(n.primary,k.OS);t&&i.add(this._registerDefaultKeybinding(t,o.id,o.args,o.weight,0,o.when))}if(n&&Array.isArray(n.secondary))for(let t=0,s=n.secondary.length;t<s;t++){const c=n.secondary[t],g=(0,f.decodeKeybinding)(c,k.OS);g&&i.add(this._registerDefaultKeybinding(g,o.id,o.args,o.weight,-t-1,o.when))}return i}registerCommandAndKeybindingRule(o){return(0,y.combinedDisposable)(this.registerKeybindingRule(o),L.CommandsRegistry.registerCommand(o))}_registerDefaultKeybinding(o,n,i,t,s,c){const g=this._coreKeybindings.push({keybinding:o,command:n,commandArgs:i,when:c,weight1:t,weight2:s,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,y.toDisposable)(()=>{g(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new w,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function b(C,o){if(C.weight1!==o.weight1)return C.weight1-o.weight1;if(C.command&&o.command){if(C.command<o.command)return-1;if(C.command>o.command)return 1}return C.weight2-o.weight2}}),define(ne[29],se([1,0,41,31,7,2,71,25,14,8,118]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=void 0,e.isIMenuItem=n,e.isISubmenuItem=i,e.registerAction2=r;function n(d){return d.command!==void 0}function i(d){return d.submenu!==void 0}class t{constructor(u){if(t._instances.has(u))throw new TypeError(`MenuId with identifier '${u}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(u,this),this.id=u}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.NotebookVariablesContext=new t("NotebookVariablesContext"),t.DebugHoverContext=new t("DebugHoverContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.EditorTabsBarShowTabsSubmenu=new t("EditorTabsBarShowTabsSubmenu"),t.EditorTabsBarShowTabsZenModeSubmenu=new t("EditorTabsBarShowTabsZenModeSubmenu"),t.EditorActionsPositionSubmenu=new t("EditorActionsPositionSubmenu"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.CommandCenterCenter=new t("CommandCenterCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.ActivityBarPositionMenu=new t("ActivityBarPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMInputBox=new t("SCMInputBox"),t.SCMChangesSeparator=new t("SCMChangesSeparator"),t.SCMIncomingChanges=new t("SCMIncomingChanges"),t.SCMIncomingChangesContext=new t("SCMIncomingChangesContext"),t.SCMIncomingChangesSetting=new t("SCMIncomingChangesSetting"),t.SCMOutgoingChanges=new t("SCMOutgoingChanges"),t.SCMOutgoingChangesContext=new t("SCMOutgoingChangesContext"),t.SCMOutgoingChangesSetting=new t("SCMOutgoingChangesSetting"),t.SCMIncomingChangesAllChangesContext=new t("SCMIncomingChangesAllChangesContext"),t.SCMIncomingChangesHistoryItemContext=new t("SCMIncomingChangesHistoryItemContext"),t.SCMOutgoingChangesAllChangesContext=new t("SCMOutgoingChangesAllChangesContext"),t.SCMOutgoingChangesHistoryItemContext=new t("SCMOutgoingChangesHistoryItemContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMSourceControlInline=new t("SCMSourceControlInline"),t.SCMSourceControlTitle=new t("SCMSourceControlTitle"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestMessageContext=new t("TestMessageContext"),t.TestMessageContent=new t("TestMessageContent"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.CommentsViewThreadActions=new t("CommentsViewThreadActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.IssueReporter=new t("IssueReporter"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecuteGoTo=new t("NotebookCellExecuteGoTo"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookOutlineFilter=new t("NotebookOutlineFilter"),t.NotebookOutlineActionMenu=new t("NotebookOutlineActionMenu"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.SidebarTitle=new t("SidebarTitle"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.AuxiliaryBarHeader=new t("AuxiliaryBarHeader"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalStickyScrollContext=new t("TerminalStickyScrollContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.InlineEditActions=new t("InlineEditActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.InlineEditToolbar=new t("InlineEditToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatCompareBlock=new t("ChatCompareBlock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),t.ChatExecuteSecondary=new t("ChatExecuteSecondary"),t.ChatInputSide=new t("ChatInputSide"),t.AccessibleView=new t("AccessibleView"),t.MultiDiffEditorFileToolbar=new t("MultiDiffEditorFileToolbar"),t.DiffEditorHunkToolbar=new t("DiffEditorHunkToolbar"),t.DiffEditorSelectionToolbar=new t("DiffEditorSelectionToolbar"),e.IMenuService=(0,b.createDecorator)("menuService");class s{static for(u){let a=this._all.get(u);return a||(a=new s(u),this._all.set(u,a)),a}static merge(u){const a=new Set;for(const v of u)v instanceof s&&a.add(v.id);return a}constructor(u){this.id=u,this.has=a=>a===u}}s._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new L.MicrotaskEmitter({merge:s.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(d){return this._commands.set(d.id,d),this._onDidChangeMenu.fire(s.for(t.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(d.id)&&this._onDidChangeMenu.fire(s.for(t.CommandPalette))})}getCommand(d){return this._commands.get(d)}getCommands(){const d=new Map;return this._commands.forEach((u,a)=>d.set(a,u)),d}appendMenuItem(d,u){let a=this._menuItems.get(d);a||(a=new y.LinkedList,this._menuItems.set(d,a));const v=a.push(u);return this._onDidChangeMenu.fire(s.for(d)),(0,D.toDisposable)(()=>{v(),this._onDidChangeMenu.fire(s.for(d))})}appendMenuItems(d){const u=new D.DisposableStore;for(const{id:a,item:v}of d)u.add(this.appendMenuItem(a,v));return u}getMenuItems(d){let u;return this._menuItems.has(d)?u=[...this._menuItems.get(d)]:u=[],d===t.CommandPalette&&this._appendImplicitItems(u),u}_appendImplicitItems(d){const u=new Set;for(const a of d)n(a)&&(u.add(a.command.id),a.alt&&u.add(a.alt.id));this._commands.forEach((a,v)=>{u.has(v)||d.push({command:a})})}};class c extends f.SubmenuAction{constructor(u,a,v){super(`submenuitem.${u.submenu.id}`,typeof u.title=="string"?u.title:u.title.value,v,"submenu"),this.item=u,this.hideActions=a}}e.SubmenuItemAction=c;let g=o=class{static label(u,a){return a?.renderShortTitle&&u.shortTitle?typeof u.shortTitle=="string"?u.shortTitle:u.shortTitle.value:typeof u.title=="string"?u.title:u.title.value}constructor(u,a,v,h,p,_,S){var E,I;this.hideActions=h,this.menuKeybinding=p,this._commandService=S,this.id=u.id,this.label=o.label(u,v),this.tooltip=(I=typeof u.tooltip=="string"?u.tooltip:(E=u.tooltip)===null||E===void 0?void 0:E.value)!==null&&I!==void 0?I:"",this.enabled=!u.precondition||_.contextMatchesRules(u.precondition),this.checked=void 0;let T;if(u.toggled){const N=u.toggled.condition?u.toggled:{condition:u.toggled};this.checked=_.contextMatchesRules(N.condition),this.checked&&N.tooltip&&(this.tooltip=typeof N.tooltip=="string"?N.tooltip:N.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(N.icon)&&(T=N.icon),this.checked&&N.title&&(this.label=typeof N.title=="string"?N.title:N.title.value)}T||(T=k.ThemeIcon.isThemeIcon(u.icon)?u.icon:void 0),this.item=u,this.alt=a?new o(a,void 0,v,h,void 0,_,S):void 0,this._options=v,this.class=T&&k.ThemeIcon.asClassName(T)}run(...u){var a,v;let h=[];return!((a=this._options)===null||a===void 0)&&a.arg&&(h=[...h,this._options.arg]),!((v=this._options)===null||v===void 0)&&v.shouldForwardArgs&&(h=[...h,...u]),this._commandService.executeCommand(this.id,...h)}};e.MenuItemAction=g,e.MenuItemAction=g=o=ke([ge(5,w.IContextKeyService),ge(6,m.ICommandService)],g);class l{constructor(u){this.desc=u}}e.Action2=l;function r(d){const u=[],a=new d,{f1:v,menu:h,keybinding:p,..._}=a.desc;if(m.CommandsRegistry.getCommand(_.id))throw new Error(`Cannot register two commands with the same id: ${_.id}`);if(u.push(m.CommandsRegistry.registerCommand({id:_.id,handler:(S,...E)=>a.run(S,...E),metadata:_.metadata})),Array.isArray(h))for(const S of h)u.push(e.MenuRegistry.appendMenuItem(S.id,{command:{..._,precondition:S.precondition===null?void 0:_.precondition},...S}));else h&&u.push(e.MenuRegistry.appendMenuItem(h.id,{command:{..._,precondition:h.precondition===null?void 0:_.precondition},...h}));if(v&&(u.push(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:_,when:_.precondition})),u.push(e.MenuRegistry.addCommand(_))),Array.isArray(p))for(const S of p)u.push(C.KeybindingsRegistry.registerKeybindingRule({...S,id:_.id,when:_.precondition?w.ContextKeyExpr.and(_.precondition,S.when):S.when}));else p&&u.push(C.KeybindingsRegistry.registerKeybindingRule({...p,id:_.id,when:_.precondition?w.ContextKeyExpr.and(_.precondition,p.when):p.when}));return{dispose(){(0,D.dispose)(u)}}}}),define(ne[857],se([1,0,48,225,769,29]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class y extends D.Action2{constructor(){super({id:y.ID,title:L.localize2(2,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:L.localize2(3,"Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){const b=!k.TabFocus.getTabFocusMode();k.TabFocus.setTabFocusMode(b),b?(0,f.alert)(L.localize(0,null)):(0,f.alert)(L.localize(1,null))}}e.ToggleTabFocusModeAction=y,y.ID="editor.action.toggleTabFocusMode",(0,D.registerAction2)(y)}),define(ne[389],se([1,0,256,635,14,118,788,2,6]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.historyNavigationVisible=void 0,e.registerAndCreateHistoryNavigationContext=t,e.historyNavigationVisible=new L.RawContextKey("suggestWidgetVisible",!1,(0,y.localize)(0,null));const b="historyNavigationWidgetFocus",C="historyNavigationForwardsEnabled",o="historyNavigationBackwardsEnabled";let n;const i=[];function t(g,l){if(i.includes(l))throw new Error("Cannot register the same widget multiple times");i.push(l);const r=new m.DisposableStore,d=new L.RawContextKey(b,!1).bindTo(g),u=new L.RawContextKey(C,!0).bindTo(g),a=new L.RawContextKey(o,!0).bindTo(g),v=()=>{d.set(!0),n=l},h=()=>{d.set(!1),n===l&&(n=void 0)};return(0,w.isActiveElement)(l.element)&&v(),r.add(l.onDidFocus(()=>v())),r.add(l.onDidBlur(()=>h())),r.add((0,m.toDisposable)(()=>{i.splice(i.indexOf(l),1),h()})),{historyNavigationForwardsEnablement:u,historyNavigationBackwardsEnablement:a,dispose(){r.dispose()}}}let s=class extends f.FindInput{constructor(l,r,d,u){super(l,r,d);const a=this._register(u.createScoped(this.inputBox.element));this._register(t(a,this.inputBox))}};e.ContextScopedFindInput=s,e.ContextScopedFindInput=s=ke([ge(3,L.IContextKeyService)],s);let c=class extends k.ReplaceInput{constructor(l,r,d,u,a=!1){super(l,r,a,d);const v=this._register(u.createScoped(this.inputBox.element));this._register(t(v,this.inputBox))}};e.ContextScopedReplaceInput=c,e.ContextScopedReplaceInput=c=ke([ge(3,L.IContextKeyService)],c),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:L.ContextKeyExpr.and(L.ContextKeyExpr.has(b),L.ContextKeyExpr.equals(o,!0),L.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:g=>{n?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:L.ContextKeyExpr.and(L.ContextKeyExpr.has(b),L.ContextKeyExpr.equals(C,!0),L.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:g=>{n?.showNextValue()}})}),define(ne[150],se([1,0,19,9,78,2,60,20,22,10,5,75,132,762,29,25,14,18,389]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.CompletionItemModel=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.getSnippetSuggestSupport=a,e.provideSuggestionItems=h,e.getSuggestionComparator=I,e.showSimpleSuggestions=T,e.Context={Visible:l.historyNavigationVisible,HasFocusedSuggestion:new c.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,i.localize)(0,null)),DetailsVisible:new c.RawContextKey("suggestWidgetDetailsVisible",!1,(0,i.localize)(1,null)),MultipleSuggestions:new c.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,i.localize)(2,null)),MakesTextEdit:new c.RawContextKey("suggestionMakesTextEdit",!0,(0,i.localize)(3,null)),AcceptSuggestionsOnEnter:new c.RawContextKey("acceptSuggestionOnEnter",!0,(0,i.localize)(4,null)),HasInsertAndReplaceRange:new c.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,i.localize)(5,null)),InsertMode:new c.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,i.localize)(6,null)}),CanResolve:new c.RawContextKey("suggestionCanResolve",!1,(0,i.localize)(7,null))},e.suggestWidgetStatusbarMenu=new t.MenuId("suggestWidgetStatusBar");class r{constructor(R,M,P,F){var O;this.position=R,this.completion=M,this.container=P,this.provider=F,this.isInvalid=!1,this.score=L.FuzzyScore.Default,this.distance=0,this.textLabel=typeof M.label=="string"?M.label:(O=M.label)===null||O===void 0?void 0:O.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=M.sortText&&M.sortText.toLowerCase(),this.filterTextLow=M.filterText&&M.filterText.toLowerCase(),this.extensionId=M.extensionId,C.Range.isIRange(M.range)?(this.editStart=new b.Position(M.range.startLineNumber,M.range.startColumn),this.editInsertEnd=new b.Position(M.range.endLineNumber,M.range.endColumn),this.editReplaceEnd=new b.Position(M.range.endLineNumber,M.range.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(M.range)||M.range.startLineNumber!==R.lineNumber):(this.editStart=new b.Position(M.range.insert.startLineNumber,M.range.insert.startColumn),this.editInsertEnd=new b.Position(M.range.insert.endLineNumber,M.range.insert.endColumn),this.editReplaceEnd=new b.Position(M.range.replace.endLineNumber,M.range.replace.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(M.range.insert)||C.Range.spansMultipleLines(M.range.replace)||M.range.insert.startLineNumber!==R.lineNumber||M.range.replace.startLineNumber!==R.lineNumber||M.range.insert.startColumn!==M.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(R){if(!this._resolveCache){const M=R.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),P=new y.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,R)).then(F=>{Object.assign(this.completion,F),this._resolveDuration=P.elapsed()},F=>{(0,k.isCancellationError)(F)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{M.dispose()})}return this._resolveCache}}e.CompletionItem=r;class d{constructor(R=2,M=new Set,P=new Set,F=new Map,O=!0){this.snippetSortOrder=R,this.kindFilter=M,this.providerFilter=P,this.providerItemsToReuse=F,this.showDeprecated=O}}e.CompletionOptions=d,d.default=new d;let u;function a(){return u}class v{constructor(R,M,P,F){this.items=R,this.needsClipboard=M,this.durations=P,this.disposable=F}}e.CompletionItemModel=v;async function h(A,R,M,P=d.default,F={triggerKind:0},O=f.CancellationToken.None){const B=new y.StopWatch;M=M.clone();const V=R.getWordAtPosition(M),K=V?new C.Range(M.lineNumber,V.startColumn,M.lineNumber,V.endColumn):C.Range.fromPositions(M),U={replace:K,insert:K.setEndPosition(M.lineNumber,M.column)},G=[],z=new D.DisposableStore,$=[];let J=!1;const ee=(x,Y,ae)=>{var ue,he,pe;let ce=!1;if(!Y)return ce;for(const ie of Y.suggestions)if(!P.kindFilter.has(ie.kind)){if(!P.showDeprecated&&(!((ue=ie?.tags)===null||ue===void 0)&&ue.includes(1)))continue;ie.range||(ie.range=U),ie.sortText||(ie.sortText=typeof ie.label=="string"?ie.label:ie.label.label),!J&&ie.insertTextRules&&ie.insertTextRules&4&&(J=n.SnippetParser.guessNeedsClipboard(ie.insertText)),G.push(new r(M,ie,Y,x)),ce=!0}return(0,D.isDisposable)(Y)&&z.add(Y),$.push({providerName:(he=x._debugDisplayName)!==null&&he!==void 0?he:"unknown_provider",elapsedProvider:(pe=Y.duration)!==null&&pe!==void 0?pe:-1,elapsedOverall:ae.elapsed()}),ce},Z=(async()=>{if(!u||P.kindFilter.has(27))return;const x=P.providerItemsToReuse.get(u);if(x){x.forEach(ue=>G.push(ue));return}if(P.providerFilter.size>0&&!P.providerFilter.has(u))return;const Y=new y.StopWatch,ae=await u.provideCompletionItems(R,M,F,O);ee(u,ae,Y)})();for(const x of A.orderedGroups(R)){let Y=!1;if(await Promise.all(x.map(async ae=>{if(P.providerItemsToReuse.has(ae)){const ue=P.providerItemsToReuse.get(ae);ue.forEach(he=>G.push(he)),Y=Y||ue.length>0;return}if(!(P.providerFilter.size>0&&!P.providerFilter.has(ae)))try{const ue=new y.StopWatch,he=await ae.provideCompletionItems(R,M,F,O);Y=ee(ae,he,ue)||Y}catch(ue){(0,k.onUnexpectedExternalError)(ue)}})),Y||O.isCancellationRequested)break}return await Z,O.isCancellationRequested?(z.dispose(),Promise.reject(new k.CancellationError)):new v(G.sort(I(P.snippetSortOrder)),J,{entries:$,elapsed:B.elapsed()},z)}function p(A,R){if(A.sortTextLow&&R.sortTextLow){if(A.sortTextLow<R.sortTextLow)return-1;if(A.sortTextLow>R.sortTextLow)return 1}return A.textLabel<R.textLabel?-1:A.textLabel>R.textLabel?1:A.completion.kind-R.completion.kind}function _(A,R){if(A.completion.kind!==R.completion.kind){if(A.completion.kind===27)return-1;if(R.completion.kind===27)return 1}return p(A,R)}function S(A,R){if(A.completion.kind!==R.completion.kind){if(A.completion.kind===27)return 1;if(R.completion.kind===27)return-1}return p(A,R)}const E=new Map;E.set(0,_),E.set(2,S),E.set(1,p);function I(A){return E.get(A)}s.CommandsRegistry.registerCommand("_executeCompletionItemProvider",async(A,...R)=>{const[M,P,F,O]=R;(0,m.assertType)(w.URI.isUri(M)),(0,m.assertType)(b.Position.isIPosition(P)),(0,m.assertType)(typeof F=="string"||!F),(0,m.assertType)(typeof O=="number"||!O);const{completionProvider:B}=A.get(g.ILanguageFeaturesService),V=await A.get(o.ITextModelService).createModelReference(M);try{const K={incomplete:!1,suggestions:[]},U=[],G=V.object.textEditorModel.validatePosition(P),z=await h(B,V.object.textEditorModel,G,void 0,{triggerCharacter:F??void 0,triggerKind:F?1:0});for(const $ of z.items)U.length<(O??0)&&U.push($.resolve(f.CancellationToken.None)),K.incomplete=K.incomplete||$.container.incomplete,K.suggestions.push($.completion);try{return await Promise.all(U),K}finally{setTimeout(()=>z.disposable.dispose(),100)}}finally{V.dispose()}});function T(A,R){var M;(M=A.getContribution("editor.contrib.suggestController"))===null||M===void 0||M.triggerSuggest(new Set().add(R),void 0,!0)}class N{static isAllOff(R){return R.other==="off"&&R.comments==="off"&&R.strings==="off"}static isAllOn(R){return R.other==="on"&&R.comments==="on"&&R.strings==="on"}static valueFor(R,M){switch(M){case 1:return R.comments;case 2:return R.strings;default:return R.other}}}e.QuickSuggestionsOptions=N}),define(ne[858],se([1,0,17,795,14,174,118,266,65]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const b={weight:200,when:L.ContextKeyExpr.and(L.ContextKeyExpr.equals(m.quickInputTypeContextKeyValue,"quickPick"),m.inQuickInputContext),metadata:{description:(0,k.localize)(0,null)}};function C(c,g={}){var l;y.KeybindingsRegistry.registerCommandAndKeybindingRule({...b,...c,secondary:n(c.primary,(l=c.secondary)!==null&&l!==void 0?l:[],g)})}const o=f.isMacintosh?256:2048;function n(c,g,l={}){return l.withAltMod&&g.push(512+c),l.withCtrlMod&&(g.push(o+c),l.withAltMod&&g.push(512+o+c)),l.withCmdMod&&f.isMacintosh&&(g.push(2048+c),l.withCtrlMod&&g.push(2304+c),l.withAltMod&&(g.push(2560+c),l.withCtrlMod&&g.push(2816+c))),g}function i(c,g){return l=>{const r=l.get(w.IQuickInputService).currentQuickInput;if(r)return g&&r.quickNavigate?r.focus(g):r.focus(c)}}C({id:"quickInput.pageNext",primary:12,handler:i(w.QuickPickFocus.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),C({id:"quickInput.pagePrevious",primary:11,handler:i(w.QuickPickFocus.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),C({id:"quickInput.first",primary:o+14,handler:i(w.QuickPickFocus.First)},{withAltMod:!0,withCmdMod:!0}),C({id:"quickInput.last",primary:o+13,handler:i(w.QuickPickFocus.Last)},{withAltMod:!0,withCmdMod:!0}),C({id:"quickInput.next",primary:18,handler:i(w.QuickPickFocus.Next)},{withCtrlMod:!0}),C({id:"quickInput.previous",primary:16,handler:i(w.QuickPickFocus.Previous)},{withCtrlMod:!0});const t=(0,k.localize)(1,null),s=(0,k.localize)(2,null);f.isMacintosh?(C({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:i(w.QuickPickFocus.NextSeparator,w.QuickPickFocus.Next),metadata:{description:t}}),C({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:i(w.QuickPickFocus.NextSeparator)},{withCtrlMod:!0}),C({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:i(w.QuickPickFocus.PreviousSeparator,w.QuickPickFocus.Previous),metadata:{description:s}}),C({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:i(w.QuickPickFocus.PreviousSeparator)},{withCtrlMod:!0})):(C({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:i(w.QuickPickFocus.NextSeparator,w.QuickPickFocus.Next),metadata:{description:t}}),C({id:"quickInput.nextSeparator",primary:2578,handler:i(w.QuickPickFocus.NextSeparator)}),C({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:i(w.QuickPickFocus.PreviousSeparator,w.QuickPickFocus.Previous),metadata:{description:s}}),C({id:"quickInput.previousSeparator",primary:2576,handler:i(w.QuickPickFocus.PreviousSeparator)})),C({id:"quickInput.acceptInBackground",when:L.ContextKeyExpr.and(b.when,L.ContextKeyExpr.or(D.InputFocusedContext.negate(),m.endOfQuickInputBoxContext)),primary:17,weight:250,handler:c=>{const g=c.get(w.IQuickInputService).currentQuickInput;g?.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0})}),define(ne[151],se([1,0,13,2,39]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(m){m[m.PRESERVE=0]="PRESERVE",m[m.LAST=1]="LAST"})(D||(e.DefaultQuickAccessFilterValue=D={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class y{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(w){return w.prefix.length===0?this.defaultProvider=w:this.providers.push(w),this.providers.sort((b,C)=>C.prefix.length-b.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(w),1),this.defaultProvider===w&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,f.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(w){return w&&this.providers.find(C=>w.startsWith(C.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=y,L.Registry.add(e.Extensions.Quickaccess,new y)}),define(ne[859],se([1,0,793,39,2,32,151,65]),function(X,e,f,k,L,D,y,m){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let b=w=class{constructor(o,n){this.quickInputService=o,this.keybindingService=n,this.registry=k.Registry.as(y.Extensions.Quickaccess)}provide(o){const n=new L.DisposableStore;return n.add(o.onDidAccept(()=>{const[i]=o.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),n.add(o.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(w.PREFIX.length));t&&t.prefix&&t.prefix!==w.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),o.items=this.getQuickAccessProviders().filter(i=>i.prefix!==w.PREFIX),n}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((n,i)=>n.prefix.localeCompare(i.prefix)).flatMap(n=>this.createPicks(n))}createPicks(o){return o.helpEntries.map(n=>{const i=n.prefix||o.prefix,t=i||"\u2026";return{prefix:i,label:t,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,f.localize)(0,null,t,n.description),description:n.description}})}};e.HelpQuickAccessProvider=b,b.PREFIX="?",e.HelpQuickAccessProvider=b=w=ke([ge(0,m.IQuickInputService),ge(1,D.IKeybindingService)],b)}),define(ne[860],se([1,0,39,151,103,859]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),f.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:L.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(ne[861],se([1,0,15,19,7,2,8,151,65,39]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let C=class extends D.Disposable{constructor(n,i){super(),this.quickInputService=n,this.instantiationService=i,this.registry=b.Registry.as(m.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(n="",i){this.doShowOrPick(n,!1,i)}doShowOrPick(n,i,t){var s,c,g,l;const[r,d]=this.getOrInstantiateProvider(n,t?.enabledProviderPrefixes),u=this.visibleQuickAccess,a=u?.descriptor;if(u&&d&&a===d){n!==d.prefix&&!t?.preserveValue&&(u.picker.value=n),this.adjustValueSelection(u.picker,d,t);return}if(d&&!t?.preserveValue){let I;if(u&&a&&a!==d){const T=u.value.substr(a.prefix.length);T&&(I=`${d.prefix}${T}`)}if(!I){const T=r?.defaultFilterValue;T===m.DefaultQuickAccessFilterValue.LAST?I=this.lastAcceptedPickerValues.get(d):typeof T=="string"&&(I=`${d.prefix}${T}`)}typeof I=="string"&&(n=I)}const v=(s=u?.picker)===null||s===void 0?void 0:s.valueSelection,h=(c=u?.picker)===null||c===void 0?void 0:c.value,p=new D.DisposableStore,_=p.add(this.quickInputService.createQuickPick());_.value=n,this.adjustValueSelection(_,d,t),_.placeholder=(g=t?.placeholder)!==null&&g!==void 0?g:d?.placeholder,_.quickNavigate=t?.quickNavigateConfiguration,_.hideInput=!!_.quickNavigate&&!u,(typeof t?.itemActivation=="number"||t?.quickNavigateConfiguration)&&(_.itemActivation=(l=t?.itemActivation)!==null&&l!==void 0?l:w.ItemActivation.SECOND),_.contextKey=d?.contextKey,_.filterValue=I=>I.substring(d?d.prefix.length:0);let S;i&&(S=new f.DeferredPromise,p.add(L.Event.once(_.onWillAccept)(I=>{I.veto(),_.hide()}))),p.add(this.registerPickerListeners(_,r,d,n,t));const E=p.add(new k.CancellationTokenSource);if(r&&p.add(r.provide(_,E.token,t?.providerOptions)),L.Event.once(_.onDidHide)(()=>{_.selectedItems.length===0&&E.cancel(),p.dispose(),S?.complete(_.selectedItems.slice(0))}),_.show(),v&&h===n&&(_.valueSelection=v),i)return S?.p}adjustValueSelection(n,i,t){var s;let c;t?.preserveValue?c=[n.value.length,n.value.length]:c=[(s=i?.prefix.length)!==null&&s!==void 0?s:0,n.value.length],n.valueSelection=c}registerPickerListeners(n,i,t,s,c){const g=new D.DisposableStore,l=this.visibleQuickAccess={picker:n,descriptor:t,value:s};return g.add((0,D.toDisposable)(()=>{l===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),g.add(n.onDidChangeValue(r=>{const[d]=this.getOrInstantiateProvider(r,c?.enabledProviderPrefixes);d!==i?this.show(r,{enabledProviderPrefixes:c?.enabledProviderPrefixes,preserveValue:!0,providerOptions:c?.providerOptions}):l.value=r})),t&&g.add(n.onDidAccept(()=>{this.lastAcceptedPickerValues.set(t,n.value)})),g}getOrInstantiateProvider(n,i){const t=this.registry.getQuickAccessProvider(n);if(!t||i&&!i?.includes(t.prefix))return[void 0,void 0];let s=this.mapProviderToDescriptor.get(t);return s||(s=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,s)),[s,t]}};e.QuickAccessController=C,e.QuickAccessController=C=ke([ge(0,w.IQuickInputService),ge(1,y.IInstantiationService)],C)}),define(ne[862],se([1,0,26,31,107,523]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(y){function m(w){switch(w){case L.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(f.Codicon.info);case L.default.Info:return k.ThemeIcon.asClassName(f.Codicon.info);case L.default.Warning:return k.ThemeIcon.asClassName(f.Codicon.warning);case L.default.Error:return k.ThemeIcon.asClassName(f.Codicon.error);default:return""}}y.className=m})(D||(e.SeverityIcon=D={}))}),define(ne[99],se([1,0,7,2,20,641,8]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.loadKeyTargets=w,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,y.createDecorator)("storageService");var m;(function(o){o[o.NONE=0]="NONE",o[o.SHUTDOWN=1]="SHUTDOWN"})(m||(e.WillSaveStateReason=m={}));function w(o){const n=o.get(e.TARGET_KEY);if(n)try{return JSON.parse(n)}catch{}return Object.create(null)}class b extends k.Disposable{constructor(n={flushInterval:b.DEFAULT_FLUSH_INTERVAL}){super(),this.options=n,this._onDidChangeValue=this._register(new f.PauseableEmitter),this._onDidChangeTarget=this._register(new f.PauseableEmitter),this._onWillSaveState=this._register(new f.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(n,i,t){return f.Event.filter(this._onDidChangeValue.event,s=>s.scope===n&&(i===void 0||s.key===i),t)}emitDidChangeValue(n,i){const{key:t,external:s}=i;if(t===e.TARGET_KEY){switch(n){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:n})}else this._onDidChangeValue.fire({scope:n,key:t,target:this.getKeyTargets(n)[t],external:s})}get(n,i,t){var s;return(s=this.getStorage(i))===null||s===void 0?void 0:s.get(n,t)}getBoolean(n,i,t){var s;return(s=this.getStorage(i))===null||s===void 0?void 0:s.getBoolean(n,t)}getNumber(n,i,t){var s;return(s=this.getStorage(i))===null||s===void 0?void 0:s.getNumber(n,t)}store(n,i,t,s,c=!1){if((0,L.isUndefinedOrNull)(i)){this.remove(n,t,c);return}this.withPausedEmitters(()=>{var g;this.updateKeyTarget(n,t,s),(g=this.getStorage(t))===null||g===void 0||g.set(n,i,c)})}remove(n,i,t=!1){this.withPausedEmitters(()=>{var s;this.updateKeyTarget(n,i,void 0),(s=this.getStorage(i))===null||s===void 0||s.delete(n,t)})}withPausedEmitters(n){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{n()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(n,i,t,s=!1){var c,g;const l=this.getKeyTargets(i);typeof t=="number"?l[n]!==t&&(l[n]=t,(c=this.getStorage(i))===null||c===void 0||c.set(e.TARGET_KEY,JSON.stringify(l),s)):typeof l[n]=="number"&&(delete l[n],(g=this.getStorage(i))===null||g===void 0||g.set(e.TARGET_KEY,JSON.stringify(l),s))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(n){switch(n){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(n){const i=this.getStorage(n);return i?w(i):Object.create(null)}}e.AbstractStorageService=b,b.DEFAULT_FLUSH_INTERVAL=60*1e3;class C extends b{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(n=>this.emitDidChangeValue(1,n))),this._register(this.profileStorage.onDidChangeStorage(n=>this.emitDidChangeValue(0,n))),this._register(this.applicationStorage.onDidChangeStorage(n=>this.emitDidChangeValue(-1,n)))}getStorage(n){switch(n){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=C}),define(ne[863],se([1,0,7,45,5,372,49,8,99,52,6]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,m.createDecorator)("ICodeLensCache");class o{constructor(t,s){this.lineCount=t,this.data=s}}let n=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const s="codelens/cache";(0,C.runWhenWindowIdle)(b.mainWindow,()=>t.remove(s,1));const c="codelens/cache2",g=t.get(c,1,"{}");this._deserialize(g),f.Event.once(t.onWillSaveState)(l=>{l.reason===w.WillSaveStateReason.SHUTDOWN&&t.store(c,this._serialize(),1,1)})}put(t,s){const c=s.lenses.map(r=>{var d;return{range:r.symbol.range,command:r.symbol.command&&{id:"",title:(d=r.symbol.command)===null||d===void 0?void 0:d.title}}}),g=new D.CodeLensModel;g.add({lenses:c,dispose:()=>{}},this._fakeProvider);const l=new o(t.getLineCount(),g);this._cache.set(t.uri.toString(),l)}get(t){const s=this._cache.get(t.uri.toString());return s&&s.lineCount===t.getLineCount()?s.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[s,c]of this._cache){const g=new Set;for(const l of c.data.lenses)g.add(l.symbol.range.startLineNumber);t[s]={lineCount:c.lineCount,lines:[...g.values()]}}return JSON.stringify(t)}_deserialize(t){try{const s=JSON.parse(t);for(const c in s){const g=s[c],l=[];for(const d of g.lines)l.push({range:new L.Range(d,1,d,11)});const r=new D.CodeLensModel;r.add({lenses:l,dispose(){}},this._fakeProvider),this._cache.set(c,new o(g.lineCount,r))}}catch{}}};e.CodeLensCache=n,e.CodeLensCache=n=ke([ge(0,w.IStorageService)],n),(0,y.registerSingleton)(e.ICodeLensCache,n,1)}),define(ne[390],se([1,0,15,2,45,220,27,28,49,8,99]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class n{constructor(l){this.name=l}select(l,r,d){if(d.length===0)return 0;const u=d[0].score[0];for(let a=0;a<d.length;a++){const{score:v,completion:h}=d[a];if(v[0]!==u)break;if(h.preselect)return a}return 0}}e.Memory=n;class i extends n{constructor(){super("first")}memorize(l,r,d){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends n{constructor(){super("recentlyUsed"),this._cache=new L.LRUCache(300,.66),this._seq=0}memorize(l,r,d){const u=`${l.getLanguageId()}/${d.textLabel}`;this._cache.set(u,{touch:this._seq++,type:d.completion.kind,insertText:d.completion.insertText})}select(l,r,d){if(d.length===0)return 0;const u=l.getLineContent(r.lineNumber).substr(r.column-10,r.column-1);if(/\s$/.test(u))return super.select(l,r,d);const a=d[0].score[0];let v=-1,h=-1,p=-1;for(let _=0;_<d.length&&d[_].score[0]===a;_++){const S=`${l.getLanguageId()}/${d[_].textLabel}`,E=this._cache.peek(S);if(E&&E.touch>p&&E.type===d[_].completion.kind&&E.insertText===d[_].completion.insertText&&(p=E.touch,h=_),d[_].completion.preselect&&v===-1)return v=_}return h!==-1?h:v!==-1?v:0}toJSON(){return this._cache.toJSON()}fromJSON(l){this._cache.clear();const r=0;for(const[d,u]of l)u.touch=r,u.type=typeof u.type=="number"?u.type:y.CompletionItemKinds.fromString(u.type),this._cache.set(d,u);this._seq=this._cache.size}}e.LRUMemory=t;class s extends n{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(l,r,d){const{word:u}=l.getWordUntilPosition(r),a=`${l.getLanguageId()}/${u}`;this._trie.set(a,{type:d.completion.kind,insertText:d.completion.insertText,touch:this._seq++})}select(l,r,d){const{word:u}=l.getWordUntilPosition(r);if(!u)return super.select(l,r,d);const a=`${l.getLanguageId()}/${u}`;let v=this._trie.get(a);if(v||(v=this._trie.findSubstr(a)),v)for(let h=0;h<d.length;h++){const{kind:p,insertText:_}=d[h].completion;if(p===v.type&&_===v.insertText)return h}return super.select(l,r,d)}toJSON(){const l=[];return this._trie.forEach((r,d)=>l.push([d,r])),l.sort((r,d)=>-(r[1].touch-d[1].touch)).forEach((r,d)=>r[1].touch=d),l.slice(0,200)}fromJSON(l){if(this._trie.clear(),l.length>0){this._seq=l[0][1].touch+1;for(const[r,d]of l)d.type=typeof d.type=="number"?d.type:y.CompletionItemKinds.fromString(d.type),this._trie.set(r,d)}}}e.PrefixMemory=s;let c=o=class{constructor(l,r){this._storageService=l,this._configService=r,this._disposables=new k.DisposableStore,this._persistSoon=new f.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(l.onWillSaveState(d=>{d.reason===C.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(l,r,d){this._withStrategy(l,r).memorize(l,r,d),this._persistSoon.schedule()}select(l,r,d){return this._withStrategy(l,r).select(l,r,d)}_withStrategy(l,r){var d;const u=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:l.getLanguageIdAtPosition(r.lineNumber,r.column),resource:l.uri});if(((d=this._strategy)===null||d===void 0?void 0:d.name)!==u){this._saveState();const a=o._strategyCtors.get(u)||i;this._strategy=new a;try{const h=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,p=this._storageService.get(`${o._storagePrefix}/${u}`,h);p&&this._strategy.fromJSON(JSON.parse(p))}catch{}}return this._strategy}_saveState(){if(this._strategy){const r=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,d=JSON.stringify(this._strategy);this._storageService.store(`${o._storagePrefix}/${this._strategy.name}`,d,r,1)}}};e.SuggestMemoryService=c,c._strategyCtors=new Map([["recentlyUsedByPrefix",s],["recentlyUsed",t],["first",i]]),c._storagePrefix="suggest/memories",e.SuggestMemoryService=c=o=ke([ge(0,C.IStorageService),ge(1,m.IConfigurationService)],c),e.ISuggestMemoryService=(0,b.createDecorator)("ISuggestMemories"),(0,w.registerSingleton)(e.ISuggestMemoryService,c,1)}),define(ne[391],se([1,0,15,7,2,29,25,14,41,99,13,782,32]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";var i,t;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0,e.createConfigureKeybindingAction=d;let s=class{constructor(a,v,h){this._commandService=a,this._keybindingService=v,this._hiddenStates=new c(h)}createMenu(a,v,h){return new l(a,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...h},this._commandService,this._keybindingService,v)}resetHiddenStates(a){this._hiddenStates.reset(a)}};e.MenuService=s,e.MenuService=s=ke([ge(0,y.ICommandService),ge(1,n.IKeybindingService),ge(2,b.IStorageService)],s);let c=i=class{constructor(a){this._storageService=a,this._disposables=new L.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const v=a.get(i._key,0,"{}");this._data=JSON.parse(v)}catch{this._data=Object.create(null)}this._disposables.add(a.onDidChangeValue(0,i._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const v=a.get(i._key,0,"{}");this._data=JSON.parse(v)}catch(v){console.log("FAILED to read storage after UPDATE",v)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(a,v){var h;return(h=this._hiddenByDefaultCache.get(`${a.id}/${v}`))!==null&&h!==void 0?h:!1}setDefaultState(a,v,h){this._hiddenByDefaultCache.set(`${a.id}/${v}`,h)}isHidden(a,v){var h,p;const _=this._isHiddenByDefault(a,v),S=(p=(h=this._data[a.id])===null||h===void 0?void 0:h.includes(v))!==null&&p!==void 0?p:!1;return _?!S:S}updateHidden(a,v,h){this._isHiddenByDefault(a,v)&&(h=!h);const _=this._data[a.id];if(h)_?_.indexOf(v)<0&&_.push(v):this._data[a.id]=[v];else if(_){const S=_.indexOf(v);S>=0&&(0,C.removeFastWithoutKeepingOrder)(_,S),_.length===0&&delete this._data[a.id]}this._persist()}reset(a){if(a===void 0)this._data=Object.create(null),this._persist();else{for(const{id:v}of a)this._data[v]&&delete this._data[v];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const a=JSON.stringify(this._data);this._storageService.store(i._key,a,0,0)}finally{this._ignoreChangeEvent=!1}}};c._key="menu.hiddenCommands",c=i=ke([ge(0,b.IStorageService)],c);let g=t=class{constructor(a,v,h,p,_,S){this._id=a,this._hiddenStates=v,this._collectContextKeysForSubmenus=h,this._commandService=p,this._keybindingService=_,this._contextKeyService=S,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const a=D.MenuRegistry.getMenuItems(this._id);let v;a.sort(t._compareMenuItems);for(const h of a){const p=h.group||"";(!v||v[0]!==p)&&(v=[p,[]],this._menuGroups.push(v)),v[1].push(h),this._collectContextKeys(h)}}_collectContextKeys(a){if(t._fillInKbExprKeys(a.when,this._structureContextKeys),(0,D.isIMenuItem)(a)){if(a.command.precondition&&t._fillInKbExprKeys(a.command.precondition,this._preconditionContextKeys),a.command.toggled){const v=a.command.toggled.condition||a.command.toggled;t._fillInKbExprKeys(v,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(a.submenu).forEach(this._collectContextKeys,this)}createActionGroups(a){const v=[];for(const h of this._menuGroups){const[p,_]=h;let S;for(const E of _)if(this._contextKeyService.contextMatchesRules(E.when)){const I=(0,D.isIMenuItem)(E);I&&this._hiddenStates.setDefaultState(this._id,E.command.id,!!E.isHiddenByDefault);const T=r(this._id,I?E.command:E,this._hiddenStates);if(I){const N=d(E.command.id,E.when,this._commandService,this._keybindingService);(S??(S=[])).push(new D.MenuItemAction(E.command,E.alt,a,T,N,this._contextKeyService,this._commandService))}else{const N=new t(E.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(a),A=w.Separator.join(...N.map(R=>R[1]));A.length>0&&(S??(S=[])).push(new D.SubmenuItemAction(E,T,A))}}S&&S.length>0&&v.push([p,S])}return v}static _fillInKbExprKeys(a,v){if(a)for(const h of a.keys())v.add(h)}static _compareMenuItems(a,v){const h=a.group,p=v.group;if(h!==p){if(h){if(!p)return-1}else return 1;if(h==="navigation")return-1;if(p==="navigation")return 1;const E=h.localeCompare(p);if(E!==0)return E}const _=a.order||0,S=v.order||0;return _<S?-1:_>S?1:t._compareTitles((0,D.isIMenuItem)(a)?a.command.title:a.title,(0,D.isIMenuItem)(v)?v.command.title:v.title)}static _compareTitles(a,v){const h=typeof a=="string"?a:a.original,p=typeof v=="string"?v:v.original;return h.localeCompare(p)}};g=t=ke([ge(3,y.ICommandService),ge(4,n.IKeybindingService),ge(5,m.IContextKeyService)],g);let l=class{constructor(a,v,h,p,_,S){this._disposables=new L.DisposableStore,this._menuInfo=new g(a,v,h.emitEventsForSubmenuChanges,p,_,S);const E=new f.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},h.eventDebounceDelay);this._disposables.add(E),this._disposables.add(D.MenuRegistry.onDidChangeMenu(A=>{A.has(a)&&E.schedule()}));const I=this._disposables.add(new L.DisposableStore),T=A=>{let R=!1,M=!1,P=!1;for(const F of A)if(R=R||F.isStructuralChange,M=M||F.isEnablementChange,P=P||F.isToggleChange,R&&M&&P)break;return{menu:this,isStructuralChange:R,isEnablementChange:M,isToggleChange:P}},N=()=>{I.add(S.onDidChangeContext(A=>{const R=A.affectsSome(this._menuInfo.structureContextKeys),M=A.affectsSome(this._menuInfo.preconditionContextKeys),P=A.affectsSome(this._menuInfo.toggledContextKeys);(R||M||P)&&this._onDidChange.fire({menu:this,isStructuralChange:R,isEnablementChange:M,isToggleChange:P})})),I.add(v.onDidChange(A=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:N,onDidRemoveLastListener:I.clear.bind(I),delay:h.eventDebounceDelay,merge:T}),this.onDidChange=this._onDidChange.event}getActions(a){return this._menuInfo.createActionGroups(a)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};l=ke([ge(3,y.ICommandService),ge(4,n.IKeybindingService),ge(5,m.IContextKeyService)],l);function r(u,a,v){const h=(0,D.isISubmenuItem)(a)?a.submenu.id:a.id,p=typeof a.title=="string"?a.title:a.title.value,_=(0,w.toAction)({id:`hide/${u.id}/${h}`,label:(0,o.localize)(0,null,p),run(){v.updateHidden(u,h,!0)}}),S=(0,w.toAction)({id:`toggle/${u.id}/${h}`,label:p,get checked(){return!v.isHidden(u,h)},run(){v.updateHidden(u,h,!!this.checked)}});return{hide:_,toggle:S,get isHidden(){return!S.checked}}}function d(u,a=void 0,v,h){return(0,w.toAction)({id:`configureKeybinding/${u}`,label:(0,o.localize)(1,null),run(){const _=!!!h.lookupKeybinding(u)&&a?a.serialize():void 0;v.executeCommand("workbench.action.openGlobalKeybindings",`@command:${u}`+(_?` +when:${_}`:""))}})}}),define(ne[59],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,f.createDecorator)("telemetryService")}),define(ne[16],se([1,0,660,22,36,10,53,75,29,25,14,8,118,39,59,20,63,6]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0,e.registerModelAndPositionCommand=p,e.registerEditorCommand=_,e.registerEditorAction=S,e.registerMultiEditorAction=E,e.registerInstantiatedEditorAction=I,e.registerEditorContribution=T;class l{constructor(F){this.id=F.id,this.precondition=F.precondition,this._kbOpts=F.kbOpts,this._menuOpts=F.menuOpts,this.metadata=F.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const F=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const O of F){let B=O.kbExpr;this.precondition&&(B?B=C.ContextKeyExpr.and(B,this.precondition):B=this.precondition);const V={id:this.id,weight:O.weight,args:O.args,when:B,primary:O.primary,secondary:O.secondary,win:O.win,linux:O.linux,mac:O.mac};n.KeybindingsRegistry.registerKeybindingRule(V)}}b.CommandsRegistry.registerCommand({id:this.id,handler:(F,O)=>this.runCommand(F,O),metadata:this.metadata})}_registerMenuItem(F){w.MenuRegistry.appendMenuItem(F.menuId,{group:F.group,command:{id:this.id,title:F.title,icon:F.icon,precondition:this.precondition},when:F.when,order:F.order})}}e.Command=l;class r extends l{constructor(){super(...arguments),this._implementations=[]}addImplementation(F,O,B,V){return this._implementations.push({priority:F,name:O,implementation:B,when:V}),this._implementations.sort((K,U)=>U.priority-K.priority),{dispose:()=>{for(let K=0;K<this._implementations.length;K++)if(this._implementations[K].implementation===B){this._implementations.splice(K,1);return}}}}runCommand(F,O){const B=F.get(c.ILogService),V=F.get(C.IContextKeyService);B.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const K of this._implementations){if(K.when){const G=V.getContext((0,g.getActiveElement)());if(!K.when.evaluate(G))continue}const U=K.implementation(F,O);if(U)return B.trace(`Command '${this.id}' was handled by '${K.name}'.`),typeof U=="boolean"?void 0:U}B.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=r;class d extends l{constructor(F,O){super(O),this.command=F}runCommand(F,O){return this.command.runCommand(F,O)}}e.ProxyCommand=d;class u extends l{static bindToContribution(F){return class extends u{constructor(B){super(B),this._callback=B.handler}runEditorCommand(B,V,K){const U=F(V);U&&this._callback(U,K)}}}static runEditorCommand(F,O,B,V){const K=F.get(L.ICodeEditorService),U=K.getFocusedCodeEditor()||K.getActiveCodeEditor();if(U)return U.invokeWithinContext(G=>{if(G.get(C.IContextKeyService).contextMatchesRules(B??void 0))return V(G,U,O)})}runCommand(F,O){return u.runEditorCommand(F,O,this.precondition,(B,V,K)=>this.runEditorCommand(B,V,K))}}e.EditorCommand=u;class a extends u{static convertOptions(F){let O;Array.isArray(F.menuOpts)?O=F.menuOpts:F.menuOpts?O=[F.menuOpts]:O=[];function B(V){return V.menuId||(V.menuId=w.MenuId.EditorContext),V.title||(V.title=F.label),V.when=C.ContextKeyExpr.and(F.precondition,V.when),V}return Array.isArray(F.contextMenuOpts)?O.push(...F.contextMenuOpts.map(B)):F.contextMenuOpts&&O.push(B(F.contextMenuOpts)),F.menuOpts=O,F}constructor(F){super(a.convertOptions(F)),this.label=F.label,this.alias=F.alias}runEditorCommand(F,O,B){return this.reportTelemetry(F,O),this.run(F,O,B||{})}reportTelemetry(F,O){F.get(t.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=a;class v extends a{constructor(){super(...arguments),this._implementations=[]}addImplementation(F,O){return this._implementations.push([F,O]),this._implementations.sort((B,V)=>V[0]-B[0]),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B][1]===O){this._implementations.splice(B,1);return}}}}run(F,O,B){for(const V of this._implementations){const K=V[1](F,O,B);if(K)return typeof K=="boolean"?void 0:K}}}e.MultiEditorAction=v;class h extends w.Action2{run(F,...O){const B=F.get(L.ICodeEditorService),V=B.getFocusedCodeEditor()||B.getActiveCodeEditor();if(V)return V.invokeWithinContext(K=>{var U,G;const z=K.get(C.IContextKeyService),$=K.get(c.ILogService);if(!z.contextMatchesRules((U=this.desc.precondition)!==null&&U!==void 0?U:void 0)){$.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(G=this.desc.precondition)===null||G===void 0?void 0:G.serialize());return}return this.runEditorCommand(K,V,...O)})}}e.EditorAction2=h;function p(P,F){b.CommandsRegistry.registerCommand(P,function(O,...B){const V=O.get(o.IInstantiationService),[K,U]=B;(0,s.assertType)(k.URI.isUri(K)),(0,s.assertType)(D.Position.isIPosition(U));const G=O.get(y.IModelService).getModel(K);if(G){const z=D.Position.lift(U);return V.invokeFunction(F,G,z,...B.slice(2))}return O.get(m.ITextModelService).createModelReference(K).then(z=>new Promise(($,J)=>{try{const ee=V.invokeFunction(F,z.object.textEditorModel,D.Position.lift(U),B.slice(2));$(ee)}catch(ee){J(ee)}}).finally(()=>{z.dispose()}))})}function _(P){return R.INSTANCE.registerEditorCommand(P),P}function S(P){const F=new P;return R.INSTANCE.registerEditorAction(F),F}function E(P){return R.INSTANCE.registerEditorAction(P),P}function I(P){R.INSTANCE.registerEditorAction(P)}function T(P,F,O){R.INSTANCE.registerEditorContribution(P,F,O)}var N;(function(P){function F(U){return R.INSTANCE.getEditorCommand(U)}P.getEditorCommand=F;function O(){return R.INSTANCE.getEditorActions()}P.getEditorActions=O;function B(){return R.INSTANCE.getEditorContributions()}P.getEditorContributions=B;function V(U){return R.INSTANCE.getEditorContributions().filter(G=>U.indexOf(G.id)>=0)}P.getSomeEditorContributions=V;function K(){return R.INSTANCE.getDiffEditorContributions()}P.getDiffEditorContributions=K})(N||(e.EditorExtensionsRegistry=N={}));const A={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(F,O,B){this.editorContributions.push({id:F,ctor:O,instantiation:B})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(F){F.register(),this.editorActions.push(F)}getEditorActions(){return this.editorActions}registerEditorCommand(F){F.register(),this.editorCommands[F.id]=F}getEditorCommand(F){return this.editorCommands[F]||null}}R.INSTANCE=new R,i.Registry.add(A.EditorCommonContributions,R.INSTANCE);function M(P){return P.register(),P}e.UndoCommand=M(new r({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:f.localize(0,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(1,null),order:1}]})),M(new d(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new r({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:f.localize(2,null),order:2},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(3,null),order:1}]})),M(new d(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new r({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:w.MenuId.MenubarSelectionMenu,group:"1_basic",title:f.localize(4,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(5,null),order:1}]}))}),define(ne[209],se([1,0,659,66,20,48,16,36,546,79,230,231,271,10,5,21,14,118,6]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const r=0;class d extends y.EditorCommand{runEditorCommand(A,R,M){const P=R._getViewModel();P&&this.runCoreEditorCommand(P,M||{})}}e.CoreEditorCommand=d;var u;(function(N){const A=function(M){if(!L.isObject(M))return!1;const P=M;return!(!L.isString(P.to)||!L.isUndefined(P.by)&&!L.isString(P.by)||!L.isUndefined(P.value)&&!L.isNumber(P.value)||!L.isUndefined(P.revealCursor)&&!L.isBoolean(P.revealCursor))};N.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:A,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function R(M){let P;switch(M.to){case N.RawDirection.Up:P=1;break;case N.RawDirection.Right:P=2;break;case N.RawDirection.Down:P=3;break;case N.RawDirection.Left:P=4;break;default:return null}let F;switch(M.by){case N.RawUnit.Line:F=1;break;case N.RawUnit.WrappedLine:F=2;break;case N.RawUnit.Page:F=3;break;case N.RawUnit.HalfPage:F=4;break;case N.RawUnit.Editor:F=5;break;case N.RawUnit.Column:F=6;break;default:F=2}const O=Math.floor(M.value||1),B=!!M.revealCursor;return{direction:P,unit:F,value:O,revealCursor:B,select:!!M.select}}N.parse=R})(u||(e.EditorScroll_=u={}));var a;(function(N){const A=function(R){if(!L.isObject(R))return!1;const M=R;return!(!L.isNumber(M.lineNumber)&&!L.isString(M.lineNumber)||!L.isUndefined(M.at)&&!L.isString(M.at))};N.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:A,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(a||(e.RevealLine_=a={}));class v{constructor(A){A.addImplementation(1e4,"code-editor",(R,M)=>{const P=R.get(m.ICodeEditorService).getFocusedCodeEditor();return P&&P.hasTextFocus()?this._runEditorCommand(R,P,M):!1}),A.addImplementation(1e3,"generic-dom-input-textarea",(R,M)=>{const P=(0,l.getActiveElement)();return P&&["input","textarea"].indexOf(P.tagName.toLowerCase())>=0?(this.runDOMCommand(P),!0):!1}),A.addImplementation(0,"generic-dom",(R,M)=>{const P=R.get(m.ICodeEditorService).getActiveCodeEditor();return P?(P.focus(),this._runEditorCommand(R,P,M)):!1})}_runEditorCommand(A,R,M){const P=this.runEditorCommand(A,R,M);return P||!0}}var h;(function(N){class A extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){if(!ae.position)return;Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,[o.CursorMoveCommands.moveTo(Y,Y.getPrimaryCursorState(),this._inSelectionMode,ae.position,ae.viewPosition)])&&ae.revealType!==2&&Y.revealAllCursors(ae.source,!0,!0)}}N.MoveTo=(0,y.registerEditorCommand)(new A({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=(0,y.registerEditorCommand)(new A({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class R extends d{runCoreEditorCommand(Y,ae){Y.model.pushStackElement();const ue=this._getColumnSelectResult(Y,Y.getPrimaryCursorState(),Y.getCursorColumnSelectData(),ae);ue!==null&&(Y.setCursorStates(ae.source,3,ue.viewStates.map(he=>b.CursorState.fromViewState(he))),Y.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ue.fromLineNumber,fromViewVisualColumn:ue.fromVisualColumn,toViewLineNumber:ue.toLineNumber,toViewVisualColumn:ue.toVisualColumn}),ue.reversed?Y.revealTopMostCursor(ae.source):Y.revealBottomMostCursor(ae.source))}}N.ColumnSelect=(0,y.registerEditorCommand)(new class extends R{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(x,Y,ae,ue){if(typeof ue.position>"u"||typeof ue.viewPosition>"u"||typeof ue.mouseColumn>"u")return null;const he=x.model.validatePosition(ue.position),pe=x.coordinatesConverter.validateViewPosition(new i.Position(ue.viewPosition.lineNumber,ue.viewPosition.column),he),ce=ue.doColumnSelect?ae.fromViewLineNumber:pe.lineNumber,ie=ue.doColumnSelect?ae.fromViewVisualColumn:ue.mouseColumn-1;return w.ColumnSelection.columnSelect(x.cursorConfig,x,ce,ie,pe.lineNumber,ue.mouseColumn-1)}}),N.CursorColumnSelectLeft=(0,y.registerEditorCommand)(new class extends R{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(x,Y,ae,ue){return w.ColumnSelection.columnSelectLeft(x.cursorConfig,x,ae)}}),N.CursorColumnSelectRight=(0,y.registerEditorCommand)(new class extends R{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(x,Y,ae,ue){return w.ColumnSelection.columnSelectRight(x.cursorConfig,x,ae)}});class M extends R{constructor(Y){super(Y),this._isPaged=Y.isPaged}_getColumnSelectResult(Y,ae,ue,he){return w.ColumnSelection.columnSelectUp(Y.cursorConfig,Y,ue,this._isPaged)}}N.CursorColumnSelectUp=(0,y.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),N.CursorColumnSelectPageUp=(0,y.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class P extends R{constructor(Y){super(Y),this._isPaged=Y.isPaged}_getColumnSelectResult(Y,ae,ue,he){return w.ColumnSelection.columnSelectDown(Y.cursorConfig,Y,ue,this._isPaged)}}N.CursorColumnSelectDown=(0,y.registerEditorCommand)(new P({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),N.CursorColumnSelectPageDown=(0,y.registerEditorCommand)(new P({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class F extends d{constructor(){super({id:"cursorMove",precondition:void 0,metadata:o.CursorMove.metadata})}runCoreEditorCommand(Y,ae){const ue=o.CursorMove.parse(ae);ue&&this._runCursorMove(Y,ae.source,ue)}_runCursorMove(Y,ae,ue){Y.model.pushStackElement(),Y.setCursorStates(ae,3,F._move(Y,Y.getCursorStates(),ue)),Y.revealAllCursors(ae,!0)}static _move(Y,ae,ue){const he=ue.select,pe=ue.value;switch(ue.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return o.CursorMoveCommands.simpleMove(Y,ae,ue.direction,he,pe,ue.unit);case 11:case 13:case 12:case 14:return o.CursorMoveCommands.viewportMove(Y,ae,ue.direction,he,pe);default:return null}}}N.CursorMoveImpl=F,N.CursorMove=(0,y.registerEditorCommand)(new F);class O extends d{constructor(Y){super(Y),this._staticArgs=Y.args}runCoreEditorCommand(Y,ae){let ue=this._staticArgs;this._staticArgs.value===-1&&(ue={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:ae.pageSize||Y.cursorConfig.pageSize}),Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,o.CursorMoveCommands.simpleMove(Y,Y.getCursorStates(),ue.direction,ue.select,ue.value,ue.unit)),Y.revealAllCursors(ae.source,!0)}}N.CursorLeft=(0,y.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),N.CursorLeftSelect=(0,y.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1039}})),N.CursorRight=(0,y.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),N.CursorRightSelect=(0,y.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1041}})),N.CursorUp=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),N.CursorUpSelect=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),N.CursorPageUp=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1035}})),N.CursorDown=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),N.CursorDownSelect=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),N.CursorPageDown=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1036}})),N.CreateCursor=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(x,Y){if(!Y.position)return;let ae;Y.wholeLine?ae=o.CursorMoveCommands.line(x,x.getPrimaryCursorState(),!1,Y.position,Y.viewPosition):ae=o.CursorMoveCommands.moveTo(x,x.getPrimaryCursorState(),!1,Y.position,Y.viewPosition);const ue=x.getCursorStates();if(ue.length>1){const he=ae.modelState?ae.modelState.position:null,pe=ae.viewState?ae.viewState.position:null;for(let ce=0,ie=ue.length;ce<ie;ce++){const oe=ue[ce];if(!(he&&!oe.modelState.selection.containsPosition(he))&&!(pe&&!oe.viewState.selection.containsPosition(pe))){ue.splice(ce,1),x.model.pushStackElement(),x.setCursorStates(Y.source,3,ue);return}}}ue.push(ae),x.model.pushStackElement(),x.setCursorStates(Y.source,3,ue)}}),N.LastCursorMoveToSelect=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(x,Y){if(!Y.position)return;const ae=x.getLastAddedCursorIndex(),ue=x.getCursorStates(),he=ue.slice(0);he[ae]=o.CursorMoveCommands.moveTo(x,ue[ae],!0,Y.position,Y.viewPosition),x.model.pushStackElement(),x.setCursorStates(Y.source,3,he)}});class B extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,o.CursorMoveCommands.moveToBeginningOfLine(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealAllCursors(ae.source,!0)}}N.CursorHome=(0,y.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),N.CursorHomeSelect=(0,y.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class V extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,this._exec(Y.getCursorStates())),Y.revealAllCursors(ae.source,!0)}_exec(Y){const ae=[];for(let ue=0,he=Y.length;ue<he;ue++){const pe=Y[ue],ce=pe.modelState.position.lineNumber;ae[ue]=b.CursorState.fromModelState(pe.modelState.move(this._inSelectionMode,ce,1,0))}return ae}}N.CursorLineStart=(0,y.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),N.CursorLineStartSelect=(0,y.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class K extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,o.CursorMoveCommands.moveToEndOfLine(Y,Y.getCursorStates(),this._inSelectionMode,ae.sticky||!1)),Y.revealAllCursors(ae.source,!0)}}N.CursorEnd=(0,y.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=(0,y.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.localize(1,null),type:"boolean",default:!1}}}}]}}));class U extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,this._exec(Y,Y.getCursorStates())),Y.revealAllCursors(ae.source,!0)}_exec(Y,ae){const ue=[];for(let he=0,pe=ae.length;he<pe;he++){const ce=ae[he],ie=ce.modelState.position.lineNumber,oe=Y.model.getLineMaxColumn(ie);ue[he]=b.CursorState.fromModelState(ce.modelState.move(this._inSelectionMode,ie,oe,0))}return ue}}N.CursorLineEnd=(0,y.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),N.CursorLineEndSelect=(0,y.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class G extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,o.CursorMoveCommands.moveToBeginningOfBuffer(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealAllCursors(ae.source,!0)}}N.CursorTop=(0,y.registerEditorCommand)(new G({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),N.CursorTopSelect=(0,y.registerEditorCommand)(new G({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class z extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,o.CursorMoveCommands.moveToEndOfBuffer(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealAllCursors(ae.source,!0)}}N.CursorBottom=(0,y.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),N.CursorBottomSelect=(0,y.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class $ extends d{constructor(){super({id:"editorScroll",precondition:void 0,metadata:u.metadata})}determineScrollMethod(Y){const ae=[6],ue=[1,2,3,4,5,6],he=[4,2],pe=[1,3];return ae.includes(Y.unit)&&he.includes(Y.direction)?this._runHorizontalEditorScroll.bind(this):ue.includes(Y.unit)&&pe.includes(Y.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(Y,ae){const ue=u.parse(ae);if(!ue)return;const he=this.determineScrollMethod(ue);he&&he(Y,ae.source,ue)}_runVerticalEditorScroll(Y,ae,ue){const he=this._computeDesiredScrollTop(Y,ue);if(ue.revealCursor){const pe=Y.getCompletelyVisibleViewRangeAtScrollTop(he);Y.setCursorStates(ae,3,[o.CursorMoveCommands.findPositionInViewportIfOutside(Y,Y.getPrimaryCursorState(),pe,ue.select)])}Y.viewLayout.setScrollPosition({scrollTop:he},0)}_computeDesiredScrollTop(Y,ae){if(ae.unit===1){const pe=Y.viewLayout.getFutureViewport(),ce=Y.getCompletelyVisibleViewRangeAtScrollTop(pe.top),ie=Y.coordinatesConverter.convertViewRangeToModelRange(ce);let oe;ae.direction===1?oe=Math.max(1,ie.startLineNumber-ae.value):oe=Math.min(Y.model.getLineCount(),ie.startLineNumber+ae.value);const re=Y.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(oe,1));return Y.viewLayout.getVerticalOffsetForLineNumber(re.lineNumber)}if(ae.unit===5){let pe=0;return ae.direction===3&&(pe=Y.model.getLineCount()-Y.cursorConfig.pageSize),Y.viewLayout.getVerticalOffsetForLineNumber(pe)}let ue;ae.unit===3?ue=Y.cursorConfig.pageSize*ae.value:ae.unit===4?ue=Math.round(Y.cursorConfig.pageSize/2)*ae.value:ue=ae.value;const he=(ae.direction===1?-1:1)*ue;return Y.viewLayout.getCurrentScrollTop()+he*Y.cursorConfig.lineHeight}_runHorizontalEditorScroll(Y,ae,ue){const he=this._computeDesiredScrollLeft(Y,ue);Y.viewLayout.setScrollPosition({scrollLeft:he},0)}_computeDesiredScrollLeft(Y,ae){const ue=(ae.direction===4?-1:1)*ae.value;return Y.viewLayout.getCurrentScrollLeft()+ue*Y.cursorConfig.typicalHalfwidthCharacterWidth}}N.EditorScrollImpl=$,N.EditorScroll=(0,y.registerEditorCommand)(new $),N.ScrollLineUp=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(x,Y){N.EditorScroll.runCoreEditorCommand(x,{to:u.RawDirection.Up,by:u.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollPageUp=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(x,Y){N.EditorScroll.runCoreEditorCommand(x,{to:u.RawDirection.Up,by:u.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollEditorTop=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(x,Y){N.EditorScroll.runCoreEditorCommand(x,{to:u.RawDirection.Up,by:u.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollLineDown=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(x,Y){N.EditorScroll.runCoreEditorCommand(x,{to:u.RawDirection.Down,by:u.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollPageDown=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(x,Y){N.EditorScroll.runCoreEditorCommand(x,{to:u.RawDirection.Down,by:u.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollEditorBottom=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(x,Y){N.EditorScroll.runCoreEditorCommand(x,{to:u.RawDirection.Down,by:u.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollLeft=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(x,Y){N.EditorScroll.runCoreEditorCommand(x,{to:u.RawDirection.Left,by:u.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Y.source})}}),N.ScrollRight=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(x,Y){N.EditorScroll.runCoreEditorCommand(x,{to:u.RawDirection.Right,by:u.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Y.source})}});class J extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){ae.position&&(Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,[o.CursorMoveCommands.word(Y,Y.getPrimaryCursorState(),this._inSelectionMode,ae.position)]),ae.revealType!==2&&Y.revealAllCursors(ae.source,!0,!0))}}N.WordSelect=(0,y.registerEditorCommand)(new J({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=(0,y.registerEditorCommand)(new J({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(x,Y){if(!Y.position)return;const ae=x.getLastAddedCursorIndex(),ue=x.getCursorStates(),he=ue.slice(0),pe=ue[ae];he[ae]=o.CursorMoveCommands.word(x,pe,pe.modelState.hasSelection(),Y.position),x.model.pushStackElement(),x.setCursorStates(Y.source,3,he)}});class ee extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){ae.position&&(Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,[o.CursorMoveCommands.line(Y,Y.getPrimaryCursorState(),this._inSelectionMode,ae.position,ae.viewPosition)]),ae.revealType!==2&&Y.revealAllCursors(ae.source,!1,!0))}}N.LineSelect=(0,y.registerEditorCommand)(new ee({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=(0,y.registerEditorCommand)(new ee({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Z extends d{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,ae){if(!ae.position)return;const ue=Y.getLastAddedCursorIndex(),he=Y.getCursorStates(),pe=he.slice(0);pe[ue]=o.CursorMoveCommands.line(Y,he[ue],this._inSelectionMode,ae.position,ae.viewPosition),Y.model.pushStackElement(),Y.setCursorStates(ae.source,3,pe)}}N.LastCursorLineSelect=(0,y.registerEditorCommand)(new Z({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=(0,y.registerEditorCommand)(new Z({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.CancelSelection=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"cancelSelection",precondition:s.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(x,Y){x.model.pushStackElement(),x.setCursorStates(Y.source,3,[o.CursorMoveCommands.cancelSelection(x,x.getPrimaryCursorState())]),x.revealAllCursors(Y.source,!0)}}),N.RemoveSecondaryCursors=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"removeSecondaryCursors",precondition:s.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:r+1,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(x,Y){x.model.pushStackElement(),x.setCursorStates(Y.source,3,[x.getPrimaryCursorState()]),x.revealAllCursors(Y.source,!0),(0,D.status)(f.localize(2,null))}}),N.RevealLine=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"revealLine",precondition:void 0,metadata:a.metadata})}runCoreEditorCommand(x,Y){const ae=Y,ue=ae.lineNumber||0;let he=typeof ue=="number"?ue+1:parseInt(ue)+1;he<1&&(he=1);const pe=x.model.getLineCount();he>pe&&(he=pe);const ce=new t.Range(he,1,he,x.model.getLineMaxColumn(he));let ie=0;if(ae.at)switch(ae.at){case a.RawAtArgument.Top:ie=3;break;case a.RawAtArgument.Center:ie=1;break;case a.RawAtArgument.Bottom:ie=4;break;default:break}const oe=x.coordinatesConverter.convertModelRangeToViewRange(ce);x.revealRange(Y.source,!1,oe,ie,0)}}),N.SelectAll=new class extends v{constructor(){super(y.SelectAllCommand)}runDOMCommand(x){k.isFirefox&&(x.focus(),x.select()),x.ownerDocument.execCommand("selectAll")}runEditorCommand(x,Y,ae){const ue=Y._getViewModel();ue&&this.runCoreEditorCommand(ue,ae)}runCoreEditorCommand(x,Y){x.model.pushStackElement(),x.setCursorStates("keyboard",3,[o.CursorMoveCommands.selectAll(x,x.getPrimaryCursorState())])}},N.SetSelection=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(x,Y){Y.selection&&(x.model.pushStackElement(),x.setCursorStates(Y.source,3,[b.CursorState.fromModelSelection(Y.selection)]))}})})(h||(e.CoreNavigationCommands=h={}));const p=c.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,s.EditorContextKeys.columnSelection);function _(N,A){g.KeybindingsRegistry.registerKeybindingRule({id:N,primary:A,when:p,weight:r+1})}_(h.CursorColumnSelectLeft.id,1039),_(h.CursorColumnSelectRight.id,1041),_(h.CursorColumnSelectUp.id,1040),_(h.CursorColumnSelectPageUp.id,1035),_(h.CursorColumnSelectDown.id,1042),_(h.CursorColumnSelectPageDown.id,1036);function S(N){return N.register(),N}var E;(function(N){class A extends y.EditorCommand{runEditorCommand(M,P,F){const O=P._getViewModel();O&&this.runCoreEditingCommand(P,O,F||{})}}N.CoreEditingCommand=A,N.LineBreakInsert=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"lineBreakInsert",precondition:s.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(R,M,P){R.pushUndoStop(),R.executeCommands(this.id,n.TypeOperations.lineBreakInsert(M.cursorConfig,M.model,M.getCursorStates().map(F=>F.modelState.selection)))}}),N.Outdent=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"outdent",precondition:s.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:c.ContextKeyExpr.and(s.EditorContextKeys.editorTextFocus,s.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(R,M,P){R.pushUndoStop(),R.executeCommands(this.id,n.TypeOperations.outdent(M.cursorConfig,M.model,M.getCursorStates().map(F=>F.modelState.selection))),R.pushUndoStop()}}),N.Tab=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"tab",precondition:s.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:c.ContextKeyExpr.and(s.EditorContextKeys.editorTextFocus,s.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(R,M,P){R.pushUndoStop(),R.executeCommands(this.id,n.TypeOperations.tab(M.cursorConfig,M.model,M.getCursorStates().map(F=>F.modelState.selection))),R.pushUndoStop()}}),N.DeleteLeft=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(R,M,P){const[F,O]=C.DeleteOperations.deleteLeft(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(B=>B.modelState.selection),M.getCursorAutoClosedCharacters());F&&R.pushUndoStop(),R.executeCommands(this.id,O),M.setPrevEditOperationType(2)}}),N.DeleteRight=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:r,kbExpr:s.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(R,M,P){const[F,O]=C.DeleteOperations.deleteRight(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(B=>B.modelState.selection));F&&R.pushUndoStop(),R.executeCommands(this.id,O),M.setPrevEditOperationType(3)}}),N.Undo=new class extends v{constructor(){super(y.UndoCommand)}runDOMCommand(R){R.ownerDocument.execCommand("undo")}runEditorCommand(R,M,P){if(!(!M.hasModel()||M.getOption(91)===!0))return M.getModel().undo()}},N.Redo=new class extends v{constructor(){super(y.RedoCommand)}runDOMCommand(R){R.ownerDocument.execCommand("redo")}runEditorCommand(R,M,P){if(!(!M.hasModel()||M.getOption(91)===!0))return M.getModel().redo()}}})(E||(e.CoreEditingCommands=E={}));class I extends y.Command{constructor(A,R,M){super({id:A,precondition:void 0,metadata:M}),this._handlerId=R}runCommand(A,R){const M=A.get(m.ICodeEditorService).getFocusedCodeEditor();M&&M.trigger("keyboard",this._handlerId,R)}}function T(N,A){S(new I("default:"+N,N)),S(new I(N,N,A))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(ne[864],se([1,0,260,16]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let L=class{constructor(y,m){}dispose(){}};e.MarkerDecorationsContribution=L,L.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=L=ke([ge(1,f.IMarkerDecorationsService)],L),(0,k.registerEditorContribution)(L.ID,L,0)}),define(ne[865],se([1,0,209,10,17]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(m,w,b,C){this.configuration=m,this.viewModel=w,this.userInputEvents=b,this.commandDelegate=C}paste(m,w,b,C){this.commandDelegate.paste(m,w,b,C)}type(m){this.commandDelegate.type(m)}compositionType(m,w,b,C){this.commandDelegate.compositionType(m,w,b,C)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(m){f.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:m})}_validateViewColumn(m){const w=this.viewModel.getLineMinColumn(m.lineNumber);return m.column<w?new k.Position(m.lineNumber,w):m}_hasMulticursorModifier(m){switch(this.configuration.options.get(78)){case"altKey":return m.altKey;case"ctrlKey":return m.ctrlKey;case"metaKey":return m.metaKey;default:return!1}}_hasNonMulticursorModifier(m){switch(this.configuration.options.get(78)){case"altKey":return m.ctrlKey||m.metaKey;case"ctrlKey":return m.altKey||m.metaKey;case"metaKey":return m.ctrlKey||m.altKey;default:return!1}}dispatchMouse(m){const w=this.configuration.options,b=L.isLinux&&w.get(107),C=w.get(22);m.middleButton&&!b?this._columnSelect(m.position,m.mouseColumn,m.inSelectionMode):m.startedOnLineNumbers?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelect(m.position,m.revealType):this._createCursor(m.position,!0):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount>=4?this._selectAll():m.mouseDownCount===3?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelectDrag(m.position,m.revealType):this._lastCursorLineSelect(m.position,m.revealType):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount===2?m.onInjectedText||(this._hasMulticursorModifier(m)?this._lastCursorWordSelect(m.position,m.revealType):m.inSelectionMode?this._wordSelectDrag(m.position,m.revealType):this._wordSelect(m.position,m.revealType)):this._hasMulticursorModifier(m)?this._hasNonMulticursorModifier(m)||(m.shiftKey?this._columnSelect(m.position,m.mouseColumn,!0):m.inSelectionMode?this._lastCursorMoveToSelect(m.position,m.revealType):this._createCursor(m.position,!1)):m.inSelectionMode?m.altKey?this._columnSelect(m.position,m.mouseColumn,!0):C?this._columnSelect(m.position,m.mouseColumn,!0):this._moveToSelect(m.position,m.revealType):this.moveTo(m.position,m.revealType)}_usualArgs(m,w){return m=this._validateViewColumn(m),{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,revealType:w}}moveTo(m,w){f.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_moveToSelect(m,w){f.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_columnSelect(m,w,b){m=this._validateViewColumn(m),f.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,mouseColumn:w,doColumnSelect:b})}_createCursor(m,w){m=this._validateViewColumn(m),f.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,wholeLine:w})}_lastCursorMoveToSelect(m,w){f.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_wordSelect(m,w){f.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_wordSelectDrag(m,w){f.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lastCursorWordSelect(m,w){f.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lineSelect(m,w){f.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lineSelectDrag(m,w){f.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lastCursorLineSelect(m,w){f.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lastCursorLineSelectDrag(m,w){f.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_selectAll(){f.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(m){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(m)}emitKeyDown(m){this.userInputEvents.emitKeyDown(m)}emitKeyUp(m){this.userInputEvents.emitKeyUp(m)}emitContextMenu(m){this.userInputEvents.emitContextMenu(m)}emitMouseMove(m){this.userInputEvents.emitMouseMove(m)}emitMouseLeave(m){this.userInputEvents.emitMouseLeave(m)}emitMouseUp(m){this.userInputEvents.emitMouseUp(m)}emitMouseDown(m){this.userInputEvents.emitMouseDown(m)}emitMouseDrag(m){this.userInputEvents.emitMouseDrag(m)}emitMouseDrop(m){this.userInputEvents.emitMouseDrop(m)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(m){this.userInputEvents.emitMouseWheel(m)}}e.ViewController=D}),define(ne[866],se([1,0,49,8,7,60,61,101,113,59]),function(X,e,f,k,L,D,y,m,w,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=e.WorkerBasedDiffProviderFactoryService=e.IDiffProviderFactoryService=void 0,e.IDiffProviderFactoryService=(0,k.createDecorator)("diffProviderFactoryService");let o=class{constructor(t){this.instantiationService=t}createDiffProvider(t){return this.instantiationService.createInstance(n,t)}};e.WorkerBasedDiffProviderFactoryService=o,e.WorkerBasedDiffProviderFactoryService=o=ke([ge(0,k.IInstantiationService)],o),(0,f.registerSingleton)(e.IDiffProviderFactoryService,o,1);let n=C=class{constructor(t,s,c){this.editorWorkerService=s,this.telemetryService=c,this.onDidChangeEventEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(t)}dispose(){var t;(t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose()}async computeDiff(t,s,c,g){var l,r;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(t,s,c,g);if(t.isDisposed()||s.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(t.getLineCount()===1&&t.getLineMaxColumn(1)===1)return s.getLineCount()===1&&s.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new m.DetailedLineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,s.getLineCount()+1),[new m.RangeMapping(t.getFullModelRange(),s.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const d=JSON.stringify([t.uri.toString(),s.uri.toString()]),u=JSON.stringify([t.id,s.id,t.getAlternativeVersionId(),s.getAlternativeVersionId(),JSON.stringify(c)]),a=C.diffCache.get(d);if(a&&a.context===u)return a.result;const v=D.StopWatch.create(),h=await this.editorWorkerService.computeDiff(t.uri,s.uri,c,this.diffAlgorithm),p=v.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:p,timedOut:(l=h?.quitEarly)!==null&&l!==void 0?l:!0,detectedMoves:c.computeMoves?(r=h?.moves.length)!==null&&r!==void 0?r:0:-1}),g.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!h)throw new Error("no diff result available");return C.diffCache.size>10&&C.diffCache.delete(C.diffCache.keys().next().value),C.diffCache.set(d,{result:h,context:u}),h}setOptions(t){var s;let c=!1;t.diffAlgorithm&&this.diffAlgorithm!==t.diffAlgorithm&&((s=this.diffAlgorithmOnDidChangeSubscription)===null||s===void 0||s.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=t.diffAlgorithm,typeof t.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=t.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),c=!0),c&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=n,n.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=n=C=ke([ge(1,w.IEditorWorkerService),ge(2,b.ITelemetryService)],n)}),define(ne[392],se([1,0,15,19,2,30,866,83,61,310,101,195,312,308,20,13,87]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;let g=class extends L.Disposable{setActiveMovedText(_){this._activeMovedText.set(_,void 0)}constructor(_,S,E){super(),this.model=_,this._options=S,this._diffProviderFactoryService=E,this._isDiffUpToDate=(0,D.observableValue)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,D.observableValue)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,D.observableValue)(this,void 0),this.unchangedRegions=(0,D.derived)(this,A=>{var R,M;return this._options.hideUnchangedRegions.read(A)?(M=(R=this._unchangedRegions.read(A))===null||R===void 0?void 0:R.regions)!==null&&M!==void 0?M:[]:((0,D.transaction)(P=>{var F;for(const O of((F=this._unchangedRegions.get())===null||F===void 0?void 0:F.regions)||[])O.collapseAll(P)}),[])}),this.movedTextToCompare=(0,D.observableValue)(this,void 0),this._activeMovedText=(0,D.observableValue)(this,void 0),this._hoveredMovedText=(0,D.observableValue)(this,void 0),this.activeMovedText=(0,D.derived)(this,A=>{var R,M;return(M=(R=this.movedTextToCompare.read(A))!==null&&R!==void 0?R:this._hoveredMovedText.read(A))!==null&&M!==void 0?M:this._activeMovedText.read(A)}),this._cancellationTokenSource=new k.CancellationTokenSource,this._diffProvider=(0,D.derived)(this,A=>{const R=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(A)}),M=(0,D.observableSignalFromEvent)("onDidChange",R.onDidChange);return{diffProvider:R,onChangeSignal:M}}),this._register((0,L.toDisposable)(()=>this._cancellationTokenSource.cancel()));const I=(0,D.observableSignal)("contentChangedSignal"),T=this._register(new f.RunOnceScheduler(()=>I.trigger(void 0),200));this._register((0,D.autorun)(A=>{const R=this._unchangedRegions.read(A);if(!R||R.regions.some(V=>V.isDragged.read(A)))return;const M=R.originalDecorationIds.map(V=>_.original.getDecorationRange(V)).map(V=>V?w.LineRange.fromRangeInclusive(V):void 0),P=R.modifiedDecorationIds.map(V=>_.modified.getDecorationRange(V)).map(V=>V?w.LineRange.fromRangeInclusive(V):void 0),F=R.regions.map((V,K)=>!M[K]||!P[K]?void 0:new a(M[K].startLineNumber,P[K].startLineNumber,M[K].length,V.visibleLineCountTop.read(A),V.visibleLineCountBottom.read(A))).filter(t.isDefined),O=[];let B=!1;for(const V of(0,s.groupAdjacentBy)(F,(K,U)=>K.getHiddenModifiedRange(A).endLineNumberExclusive===U.getHiddenModifiedRange(A).startLineNumber))if(V.length>1){B=!0;const K=V.reduce((G,z)=>G+z.lineCount,0),U=new a(V[0].originalLineNumber,V[0].modifiedLineNumber,K,V[0].visibleLineCountTop.get(),V[V.length-1].visibleLineCountBottom.get());O.push(U)}else O.push(V[0]);if(B){const V=_.original.deltaDecorations(R.originalDecorationIds,O.map(U=>({range:U.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),K=_.modified.deltaDecorations(R.modifiedDecorationIds,O.map(U=>({range:U.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,D.transaction)(U=>{this._unchangedRegions.set({regions:O,originalDecorationIds:V,modifiedDecorationIds:K},U)})}}));const N=(A,R,M)=>{const P=a.fromDiffs(A.changes,_.original.getLineCount(),_.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(M),this._options.hideUnchangedRegionsContextLineCount.read(M));let F;const O=this._unchangedRegions.get();if(O){const U=O.originalDecorationIds.map(J=>_.original.getDecorationRange(J)).map(J=>J?w.LineRange.fromRangeInclusive(J):void 0),G=O.modifiedDecorationIds.map(J=>_.modified.getDecorationRange(J)).map(J=>J?w.LineRange.fromRangeInclusive(J):void 0);let $=(0,m.filterWithPrevious)(O.regions.map((J,ee)=>{if(!U[ee]||!G[ee])return;const Z=U[ee].length;return new a(U[ee].startLineNumber,G[ee].startLineNumber,Z,Math.min(J.visibleLineCountTop.get(),Z),Math.min(J.visibleLineCountBottom.get(),Z-J.visibleLineCountTop.get()))}).filter(t.isDefined),(J,ee)=>!ee||J.modifiedLineNumber>=ee.modifiedLineNumber+ee.lineCount&&J.originalLineNumber>=ee.originalLineNumber+ee.lineCount).map(J=>new C.LineRangeMapping(J.getHiddenOriginalRange(M),J.getHiddenModifiedRange(M)));$=C.LineRangeMapping.clip($,w.LineRange.ofLength(1,_.original.getLineCount()),w.LineRange.ofLength(1,_.modified.getLineCount())),F=C.LineRangeMapping.inverse($,_.original.getLineCount(),_.modified.getLineCount())}const B=[];if(F)for(const U of P){const G=F.filter(z=>z.original.intersectsStrict(U.originalUnchangedRange)&&z.modified.intersectsStrict(U.modifiedUnchangedRange));B.push(...U.setVisibleRanges(G,R))}else B.push(...P);const V=_.original.deltaDecorations(O?.originalDecorationIds||[],B.map(U=>({range:U.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),K=_.modified.deltaDecorations(O?.modifiedDecorationIds||[],B.map(U=>({range:U.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:B,originalDecorationIds:V,modifiedDecorationIds:K},R)};this._register(_.modified.onDidChangeContent(A=>{if(this._diff.get()){const M=o.TextEditInfo.fromModelContentChanges(A.changes),P=(this._lastDiff,_.original,_.modified,void 0);P&&(this._lastDiff=P,(0,D.transaction)(F=>{this._diff.set(d.fromDiffResult(this._lastDiff),F),N(P,F);const O=this.movedTextToCompare.get();this.movedTextToCompare.set(O?this._lastDiff.moves.find(B=>B.lineRangeMapping.modified.intersect(O.lineRangeMapping.modified)):void 0,F)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register(_.original.onDidChangeContent(A=>{if(this._diff.get()){const M=o.TextEditInfo.fromModelContentChanges(A.changes),P=(this._lastDiff,_.original,_.modified,void 0);P&&(this._lastDiff=P,(0,D.transaction)(F=>{this._diff.set(d.fromDiffResult(this._lastDiff),F),N(P,F);const O=this.movedTextToCompare.get();this.movedTextToCompare.set(O?this._lastDiff.moves.find(B=>B.lineRangeMapping.modified.intersect(O.lineRangeMapping.modified)):void 0,F)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register((0,D.autorunWithStore)(async(A,R)=>{var M,P;this._options.hideUnchangedRegionsMinimumLineCount.read(A),this._options.hideUnchangedRegionsContextLineCount.read(A),T.cancel(),I.read(A);const F=this._diffProvider.read(A);F.onChangeSignal.read(A),(0,m.readHotReloadableExport)(b.DefaultLinesDiffComputer,A),(0,m.readHotReloadableExport)(i.optimizeSequenceDiffs,A),this._isDiffUpToDate.set(!1,void 0);let O=[];R.add(_.original.onDidChangeContent(K=>{const U=o.TextEditInfo.fromModelContentChanges(K.changes);O=(0,n.combineTextEditInfos)(O,U)}));let B=[];R.add(_.modified.onDidChangeContent(K=>{const U=o.TextEditInfo.fromModelContentChanges(K.changes);B=(0,n.combineTextEditInfos)(B,U)}));let V=await F.diffProvider.computeDiff(_.original,_.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(A),maxComputationTimeMs:this._options.maxComputationTimeMs.read(A),computeMoves:this._options.showMoves.read(A)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||_.original.isDisposed()||_.modified.isDisposed()||(V=l(V,_.original,_.modified),V=(M=(_.original,_.modified,void 0))!==null&&M!==void 0?M:V,V=(P=(_.original,_.modified,void 0))!==null&&P!==void 0?P:V,(0,D.transaction)(K=>{N(V,K),this._lastDiff=V;const U=d.fromDiffResult(V);this._diff.set(U,K),this._isDiffUpToDate.set(!0,K);const G=this.movedTextToCompare.get();this.movedTextToCompare.set(G?this._lastDiff.moves.find(z=>z.lineRangeMapping.modified.intersect(G.lineRangeMapping.modified)):void 0,K)}))}))}ensureModifiedLineIsVisible(_,S,E){var I,T;if(((I=this.diff.get())===null||I===void 0?void 0:I.mappings.length)===0)return;const N=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const A of N)if(A.getHiddenModifiedRange(void 0).contains(_)){A.showModifiedLine(_,S,E);return}}ensureOriginalLineIsVisible(_,S,E){var I,T;if(((I=this.diff.get())===null||I===void 0?void 0:I.mappings.length)===0)return;const N=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const A of N)if(A.getHiddenOriginalRange(void 0).contains(_)){A.showOriginalLine(_,S,E);return}}async waitForDiff(){await(0,D.waitForState)(this.isDiffUpToDate,_=>_)}serializeState(){const _=this._unchangedRegions.get();return{collapsedRegions:_?.regions.map(S=>({range:S.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(_){var S;const E=(S=_.collapsedRegions)===null||S===void 0?void 0:S.map(T=>w.LineRange.deserialize(T.range)),I=this._unchangedRegions.get();!I||!E||(0,D.transaction)(T=>{for(const N of I.regions)for(const A of E)if(N.modifiedUnchangedRange.intersect(A)){N.setHiddenModifiedRange(A,T);break}})}};e.DiffEditorViewModel=g,e.DiffEditorViewModel=g=ke([ge(2,y.IDiffProviderFactoryService)],g);function l(p,_,S){return{changes:p.changes.map(E=>new C.DetailedLineRangeMapping(E.original,E.modified,E.innerChanges?E.innerChanges.map(I=>r(I,_,S)):void 0)),moves:p.moves,identical:p.identical,quitEarly:p.quitEarly}}function r(p,_,S){let E=p.originalRange,I=p.modifiedRange;return(E.endColumn!==1||I.endColumn!==1)&&E.endColumn===_.getLineMaxColumn(E.endLineNumber)&&I.endColumn===S.getLineMaxColumn(I.endLineNumber)&&E.endLineNumber<_.getLineCount()&&I.endLineNumber<S.getLineCount()&&(E=E.setEndPosition(E.endLineNumber+1,1),I=I.setEndPosition(I.endLineNumber+1,1)),new C.RangeMapping(E,I)}class d{static fromDiffResult(_){return new d(_.changes.map(S=>new u(S)),_.moves||[],_.identical,_.quitEarly)}constructor(_,S,E,I){this.mappings=_,this.movedTexts=S,this.identical=E,this.quitEarly=I}}e.DiffState=d;class u{constructor(_){this.lineRangeMapping=_}}e.DiffMapping=u;class a{static fromDiffs(_,S,E,I,T){const N=C.DetailedLineRangeMapping.inverse(_,S,E),A=[];for(const R of N){let M=R.original.startLineNumber,P=R.modified.startLineNumber,F=R.original.length;const O=M===1&&P===1,B=M+F===S+1&&P+F===E+1;(O||B)&&F>=T+I?(O&&!B&&(F-=T),B&&!O&&(M+=T,P+=T,F-=T),A.push(new a(M,P,F,0,0))):F>=T*2+I&&(M+=T,P+=T,F-=T*2,A.push(new a(M,P,F,0,0)))}return A}get originalUnchangedRange(){return w.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return w.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(_,S,E,I,T){this.originalLineNumber=_,this.modifiedLineNumber=S,this.lineCount=E,this._visibleLineCountTop=(0,D.observableValue)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,D.observableValue)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,D.derived)(this,R=>this.visibleLineCountTop.read(R)+this.visibleLineCountBottom.read(R)===this.lineCount&&!this.isDragged.read(R)),this.isDragged=(0,D.observableValue)(this,void 0);const N=Math.max(Math.min(I,this.lineCount),0),A=Math.max(Math.min(T,this.lineCount-I),0);(0,c.softAssert)(I===N),(0,c.softAssert)(T===A),this._visibleLineCountTop.set(N,void 0),this._visibleLineCountBottom.set(A,void 0)}setVisibleRanges(_,S){const E=[],I=new w.LineRangeSet(_.map(R=>R.modified)).subtractFrom(this.modifiedUnchangedRange);let T=this.originalLineNumber,N=this.modifiedLineNumber;const A=this.modifiedLineNumber+this.lineCount;if(I.ranges.length===0)this.showAll(S),E.push(this);else{let R=0;for(const M of I.ranges){const P=R===I.ranges.length-1;R++;const F=(P?A:M.endLineNumberExclusive)-N,O=new a(T,N,F,0,0);O.setHiddenModifiedRange(M,S),E.push(O),T=O.originalUnchangedRange.endLineNumberExclusive,N=O.modifiedUnchangedRange.endLineNumberExclusive}}return E}shouldHideControls(_){return this._shouldHideControls.read(_)}getHiddenOriginalRange(_){return w.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(_),this.lineCount-this._visibleLineCountTop.read(_)-this._visibleLineCountBottom.read(_))}getHiddenModifiedRange(_){return w.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(_),this.lineCount-this._visibleLineCountTop.read(_)-this._visibleLineCountBottom.read(_))}setHiddenModifiedRange(_,S){const E=_.startLineNumber-this.modifiedLineNumber,I=this.modifiedLineNumber+this.lineCount-_.endLineNumberExclusive;this.setState(E,I,S)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(_=10,S){const E=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+_,E),S)}showMoreBelow(_=10,S){const E=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+_,E),S)}showAll(_){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),_)}showModifiedLine(_,S,E){const I=_+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),T=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-_;S===0&&I<T||S===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+I,E):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+T,E)}showOriginalLine(_,S,E){const I=_-this.originalLineNumber,T=this.originalLineNumber+this.lineCount-_;S===0&&I<T||S===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+T-I,this.getMaxVisibleLineCountTop()),E):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+I-T,this.getMaxVisibleLineCountBottom()),E)}collapseAll(_){this._visibleLineCountTop.set(0,_),this._visibleLineCountBottom.set(0,_)}setState(_,S,E){_=Math.max(Math.min(_,this.lineCount),0),S=Math.max(Math.min(S,this.lineCount-_),0),this._visibleLineCountTop.set(_,E),this._visibleLineCountBottom.set(S,E)}}e.UnchangedRegion=a;function v(p,_,S,E){}function h(p,_,S,E){}}),define(ne[867],se([1,0,48,57,70,16,24,21,692,14,485]),function(X,e,f,k,L,D,y,m,w,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new b.RawContextKey("selectionAnchorSet",!1);let o=C=class{static get(g){return g.getContribution(C.ID)}constructor(g,l){this.editor=g,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(l),this.modelChangeListener=g.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const g=this.editor.getPosition();this.editor.changeDecorations(l=>{this.decorationId&&l.removeDecoration(this.decorationId),this.decorationId=l.addDecoration(y.Selection.fromPositions(g,g),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,w.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,f.alert)((0,w.localize)(1,null,g.lineNumber,g.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const g=this.editor.getModel().getDecorationRange(this.decorationId);g&&this.editor.setPosition(g.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const g=this.editor.getModel().getDecorationRange(this.decorationId);if(g){const l=this.editor.getPosition();this.editor.setSelection(y.Selection.fromPositions(g.getStartPosition(),l)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const g=this.decorationId;this.editor.changeDecorations(l=>{l.removeDecoration(g),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};o.ID="editor.contrib.selectionAnchorController",o=C=ke([ge(1,b.IContextKeyService)],o);class n extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,w.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2080),weight:100}})}async run(g,l){var r;(r=o.get(l))===null||r===void 0||r.setSelectionAnchor()}}class i extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,w.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}async run(g,l){var r;(r=o.get(l))===null||r===void 0||r.goToSelectionAnchor()}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,w.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2089),weight:100}})}async run(g,l){var r;(r=o.get(l))===null||r===void 0||r.selectFromAnchorToCursor()}}class s extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,w.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}async run(g,l){var r;(r=o.get(l))===null||r===void 0||r.cancelSelectionAnchor()}}(0,D.registerEditorContribution)(o.ID,o,4),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(s)}),define(ne[868],se([1,0,16,21,588,694]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends f.EditorAction{constructor(C,o){super(o),this.left=C}run(C,o){if(!o.hasModel())return;const n=[],i=o.getSelections();for(const t of i)n.push(new L.MoveCaretCommand(t,this.left));o.pushUndoStop(),o.executeCommands(this.id,n),o.pushUndoStop()}}class m extends y{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class w extends y{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,f.registerEditorAction)(m),(0,f.registerEditorAction)(w)}),define(ne[869],se([1,0,16,142,229,5,21,695]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends f.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:m.localize(0,null),alias:"Transpose Letters",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(C,o){if(!o.hasModel())return;const n=o.getModel(),i=[],t=o.getSelections();for(const s of t){if(!s.isEmpty())continue;const c=s.startLineNumber,g=s.startColumn,l=n.getLineMaxColumn(c);if(c===1&&(g===1||g===2&&l===2))continue;const r=g===l?s.getPosition():L.MoveOperations.rightPosition(n,s.getPosition().lineNumber,s.getPosition().column),d=L.MoveOperations.leftPosition(n,r),u=L.MoveOperations.leftPosition(n,d),a=n.getValueInRange(D.Range.fromPositions(u,d)),v=n.getValueInRange(D.Range.fromPositions(d,r)),h=D.Range.fromPositions(u,r);i.push(new k.ReplaceCommand(h,v+a))}i.length>0&&(o.pushUndoStop(),o.executeCommands(this.id,i),o.pushUndoStop())}}(0,f.registerEditorAction)(w)}),define(ne[870],se([1,0,70,16,5,21,35,325,590,706,29]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class o extends k.EditorAction{constructor(g,l){super(l),this._type=g}run(g,l){const r=g.get(y.ILanguageConfigurationService);if(!l.hasModel())return;const d=l.getModel(),u=[],a=d.getOptions(),v=l.getOption(23),h=l.getSelections().map((_,S)=>({selection:_,index:S,ignoreFirstLine:!1}));h.sort((_,S)=>L.Range.compareRangesUsingStarts(_.selection,S.selection));let p=h[0];for(let _=1;_<h.length;_++){const S=h[_];p.selection.endLineNumber===S.selection.startLineNumber&&(p.index<S.index?S.ignoreFirstLine=!0:(p.ignoreFirstLine=!0,p=S))}for(const _ of h)u.push(new w.LineCommentCommand(r,_.selection,a.indentSize,this._type,v.insertSpace,v.ignoreEmptyLines,_.ignoreFirstLine));l.pushUndoStop(),l.executeCommands(this.id,u),l.pushUndoStop()}}class n extends o{constructor(){super(0,{id:"editor.action.commentLine",label:b.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(1,null),order:1}})}}class i extends o{constructor(){super(1,{id:"editor.action.addCommentLine",label:b.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2081),weight:100}})}}class t extends o{constructor(){super(2,{id:"editor.action.removeCommentLine",label:b.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2099),weight:100}})}}class s extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:b.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(5,null),order:2}})}run(g,l){const r=g.get(y.ILanguageConfigurationService);if(!l.hasModel())return;const d=l.getOption(23),u=[],a=l.getSelections();for(const v of a)u.push(new m.BlockCommentCommand(v,d.insertSpace,r));l.pushUndoStop(),l.executeCommands(this.id,u),l.pushUndoStop()}}(0,k.registerEditorAction)(n),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(s)}),define(ne[871],se([1,0,2,16,21,708]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class y{constructor(n){this.selections=n}equals(n){const i=this.selections.length,t=n.selections.length;if(i!==t)return!1;for(let s=0;s<i;s++)if(!this.selections[s].equalsSelection(n.selections[s]))return!1;return!0}}class m{constructor(n,i,t){this.cursorState=n,this.scrollTop=i,this.scrollLeft=t}}class w extends f.Disposable{static get(n){return n.getContribution(w.ID)}constructor(n){super(),this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;const t=new y(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new m(t,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new m(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new m(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=w,w.ID="editor.contrib.cursorUndoRedoController";class b extends k.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(n,i,t){var s;(s=w.get(i))===null||s===void 0||s.cursorUndo()}}e.CursorUndo=b;class C extends k.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(n,i,t){var s;(s=w.get(i))===null||s===void 0||s.cursorRedo()}}e.CursorRedo=C,(0,k.registerEditorContribution)(w.ID,w,0),(0,k.registerEditorAction)(b),(0,k.registerEditorAction)(C)}),define(ne[872],se([1,0,16,14,19,71,8,49,715]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const b=(0,y.createDecorator)("IEditorCancelService"),C=new k.RawContextKey("cancellableOperation",!1,(0,w.localize)(0,null));(0,m.registerSingleton)(b,class{constructor(){this._tokens=new WeakMap}add(n,i){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(c=>{const g=C.bindTo(c.get(k.IContextKeyService)),l=new D.LinkedList;return{key:g,tokens:l}}),this._tokens.set(n,t));let s;return t.key.set(!0),s=t.tokens.push(i),()=>{s&&(s(),t.key.set(!t.tokens.isEmpty()),s=void 0)}}cancel(n){const i=this._tokens.get(n);if(!i)return;const t=i.tokens.pop();t&&(t.cancel(),i.key.set(!i.tokens.isEmpty()))}},1);class o extends L.CancellationTokenSource{constructor(i,t){super(t),this.editor=i,this._unregister=i.invokeWithinContext(s=>s.get(b).add(i,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=o,(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(n,i){n.get(b).cancel(i)}})}),define(ne[119],se([1,0,11,5,19,2,872]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class m{constructor(o,n){if(this.flags=n,this.flags&1){const i=o.getModel();this.modelVersionId=i?f.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=o.getPosition():this.position=null,this.flags&2?this.selection=o.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=o.getScrollLeft(),this.scrollTop=o.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(o){if(!(o instanceof m))return!1;const n=o;return!(this.modelVersionId!==n.modelVersionId||this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop||!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)||!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))}validate(o){return this._equals(new m(o,this.flags))}}e.EditorState=m;class w extends y.EditorKeybindingCancellationTokenSource{constructor(o,n,i,t){super(o,t),this._listener=new D.DisposableStore,n&4&&this._listener.add(o.onDidChangeCursorPosition(s=>{(!i||!k.Range.containsPosition(i,s.position))&&this.cancel()})),n&2&&this._listener.add(o.onDidChangeCursorSelection(s=>{(!i||!k.Range.containsRange(i,s.selection))&&this.cancel()})),n&8&&this._listener.add(o.onDidScrollChange(s=>this.cancel())),n&1&&(this._listener.add(o.onDidChangeModel(s=>this.cancel())),this._listener.add(o.onDidChangeModelContent(s=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=w;class b extends L.CancellationTokenSource{constructor(o,n){super(n),this._listener=o.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=b}),define(ne[152],se([1,0,13,19,9,2,22,148,5,24,18,53,119,697,25,50,93,59,131,88]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyCodeActionReason=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.getCodeActions=a,e.applyCodeAction=S,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d extends D.Disposable{static codeActionsPreferredComparator(T,N){return T.isPreferred&&!N.isPreferred?-1:!T.isPreferred&&N.isPreferred?1:0}static codeActionsComparator({action:T},{action:N}){return T.isAI&&!N.isAI?1:!T.isAI&&N.isAI?-1:(0,f.isNonEmptyArray)(T.diagnostics)?(0,f.isNonEmptyArray)(N.diagnostics)?d.codeActionsPreferredComparator(T,N):-1:(0,f.isNonEmptyArray)(N.diagnostics)?1:d.codeActionsPreferredComparator(T,N)}constructor(T,N,A){super(),this.documentation=N,this._register(A),this.allActions=[...T].sort(d.codeActionsComparator),this.validActions=this.allActions.filter(({action:R})=>!R.disabled)}get hasAutoFix(){return this.validActions.some(({action:T})=>!!T.kind&&l.CodeActionKind.QuickFix.contains(new r.HierarchicalKind(T.kind))&&!!T.isPreferred)}get hasAIFix(){return this.validActions.some(({action:T})=>!!T.isAI)}get allAIFixes(){return this.validActions.every(({action:T})=>!!T.isAI)}}const u={actions:[],documentation:void 0};async function a(I,T,N,A,R,M){var P;const F=A.filter||{},O={...F,excludes:[...F.excludes||[],l.CodeActionKind.Notebook]},B={only:(P=F.include)===null||P===void 0?void 0:P.value,trigger:A.type},V=new n.TextModelCancellationTokenSource(T,M),K=A.type===2,U=v(I,T,K?O:F),G=new D.DisposableStore,z=U.map(async J=>{try{R.report(J);const ee=await J.provideCodeActions(T,N,B,V.token);if(ee&&G.add(ee),V.token.isCancellationRequested)return u;const Z=(ee?.actions||[]).filter(Y=>Y&&(0,l.filtersAction)(F,Y)),x=p(J,Z,F.include);return{actions:Z.map(Y=>new l.CodeActionItem(Y,J)),documentation:x}}catch(ee){if((0,L.isCancellationError)(ee))throw ee;return(0,L.onUnexpectedExternalError)(ee),u}}),$=I.onDidChange(()=>{const J=I.all(T);(0,f.equals)(J,U)||V.cancel()});try{const J=await Promise.all(z),ee=J.map(x=>x.actions).flat(),Z=[...(0,f.coalesce)(J.map(x=>x.documentation)),...h(I,T,A,ee)];return new d(ee,Z,G)}finally{$.dispose(),V.dispose()}}function v(I,T,N){return I.all(T).filter(A=>A.providedCodeActionKinds?A.providedCodeActionKinds.some(R=>(0,l.mayIncludeActionsOfKind)(N,new r.HierarchicalKind(R))):!0)}function*h(I,T,N,A){var R,M,P;if(T&&A.length)for(const F of I.all(T))F._getAdditionalMenuItems&&(yield*(R=F._getAdditionalMenuItems)===null||R===void 0?void 0:R.call(F,{trigger:N.type,only:(P=(M=N.filter)===null||M===void 0?void 0:M.include)===null||P===void 0?void 0:P.value},A.map(O=>O.action)))}function p(I,T,N){if(!I.documentation)return;const A=I.documentation.map(R=>({kind:new r.HierarchicalKind(R.kind),command:R.command}));if(N){let R;for(const M of A)M.kind.contains(N)&&(R?R.kind.contains(M.kind)&&(R=M):R=M);if(R)return R?.command}for(const R of T)if(R.kind){for(const M of A)if(M.kind.contains(new r.HierarchicalKind(R.kind)))return M.command}}var _;(function(I){I.OnSave="onSave",I.FromProblemsView="fromProblemsView",I.FromCodeActions="fromCodeActions",I.FromAILightbulb="fromAILightbulb"})(_||(e.ApplyCodeActionReason=_={}));async function S(I,T,N,A,R=k.CancellationToken.None){var M;const P=I.get(m.IBulkEditService),F=I.get(t.ICommandService),O=I.get(g.ITelemetryService),B=I.get(s.INotificationService);if(O.publicLog2("codeAction.applyCodeAction",{codeActionTitle:T.action.title,codeActionKind:T.action.kind,codeActionIsPreferred:!!T.action.isPreferred,reason:N}),await T.resolve(R),!R.isCancellationRequested&&!(!((M=T.action.edit)===null||M===void 0)&&M.edits.length&&!(await P.apply(T.action.edit,{editor:A?.editor,label:T.action.title,quotableLabel:T.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:N!==_.OnSave,showPreview:A?.preview})).isApplied)&&T.action.command)try{await F.executeCommand(T.action.command.id,...T.action.command.arguments||[])}catch(V){const K=E(V);B.error(typeof K=="string"?K:i.localize(0,null))}}function E(I){return typeof I=="string"?I:I instanceof Error&&typeof I.message=="string"?I.message:void 0}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",async function(I,T,N,A,R){if(!(T instanceof y.URI))throw(0,L.illegalArgument)();const{codeActionProvider:M}=I.get(C.ILanguageFeaturesService),P=I.get(o.IModelService).getModel(T);if(!P)throw(0,L.illegalArgument)();const F=b.Selection.isISelection(N)?b.Selection.liftSelection(N):w.Range.isIRange(N)?P.validateRange(N):void 0;if(!F)throw(0,L.illegalArgument)();const O=typeof A=="string"?new r.HierarchicalKind(A):void 0,B=await a(M,P,F,{type:1,triggerAction:l.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:O}},c.Progress.None,k.CancellationToken.None),V=[],K=Math.min(B.validActions.length,typeof R=="number"?R:0);for(let U=0;U<K;U++)V.push(B.validActions[U].resolve(k.CancellationToken.None));try{return await Promise.all(V),B.validActions.map(U=>U.action)}finally{setTimeout(()=>B.dispose(),100)}})}),define(ne[873],se([1,0,88,96,152,131,32]),function(X,e,f,k,L,D,y){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let w=m=class{constructor(C){this.keybindingService=C}getResolver(){const C=new k.Lazy(()=>this.keybindingService.getKeybindings().filter(o=>m.codeActionCommands.indexOf(o.command)>=0).filter(o=>o.resolvedKeybinding).map(o=>{let n=o.commandArgs;return o.command===L.organizeImportsCommandId?n={kind:D.CodeActionKind.SourceOrganizeImports.value}:o.command===L.fixAllCommandId&&(n={kind:D.CodeActionKind.SourceFixAll.value}),{resolvedKeybinding:o.resolvedKeybinding,...D.CodeActionCommandArgs.fromUser(n,{kind:f.HierarchicalKind.None,apply:"never"})}}));return o=>{if(o.kind){const n=this.bestKeybindingForCodeAction(o,C.value);return n?.resolvedKeybinding}}}bestKeybindingForCodeAction(C,o){if(!C.kind)return;const n=new f.HierarchicalKind(C.kind);return o.filter(i=>i.kind.contains(n)).filter(i=>i.preferred?C.isPreferred:!0).reduceRight((i,t)=>i?i.kind.contains(t.kind)?t:i:t,void 0)}};e.CodeActionKeybindingResolver=w,w.codeActionCommands=[L.refactorCommandId,L.codeActionCommandId,L.sourceActionCommandId,L.organizeImportsCommandId,L.fixAllCommandId],e.CodeActionKeybindingResolver=w=m=ke([ge(0,y.IKeybindingService)],w)}),define(ne[393],se([1,0,15,9,7,2,51,38,10,24,14,93,131,152,88]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.APPLY_FIX_ALL_COMMAND_ID=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new C.RawContextKey("supportedCodeAction",""),e.APPLY_FIX_ALL_COMMAND_ID="_typescript.applyFixAllCodeAction";class s extends D.Disposable{constructor(d,u,a,v=250){super(),this._editor=d,this._markerService=u,this._signalChange=a,this._delay=v,this._autoTriggerTimer=this._register(new f.TimeoutTimer),this._register(this._markerService.onMarkerChanged(h=>this._onMarkerChanges(h))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(d){const u=this._getRangeOfSelectionUnlessWhitespaceEnclosed(d);this._signalChange(u?{trigger:d,selection:u}:void 0)}_onMarkerChanges(d){const u=this._editor.getModel();u&&d.some(a=>(0,y.isEqual)(a,u.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(d){if(!this._editor.hasModel())return;const u=this._editor.getSelection();if(d.type===1)return u;const a=this._editor.getOption(65).enabled;if(a!==m.ShowLightbulbIconMode.Off){{if(a===m.ShowLightbulbIconMode.On)return u;if(a===m.ShowLightbulbIconMode.OnCode){if(!u.isEmpty())return u;const h=this._editor.getModel(),{lineNumber:p,column:_}=u.getPosition(),S=h.getLineContent(p);if(S.length===0)return;if(_===1){if(/\s/.test(S[0]))return}else if(_===h.getLineMaxColumn(p)){if(/\s/.test(S[S.length-1]))return}else if(/\s/.test(S[_-2])&&/\s/.test(S[_-1]))return}}return u}}}var c;(function(r){r.Empty={type:0};class d{constructor(a,v,h){this.trigger=a,this.position=v,this._cancellablePromise=h,this.type=1,this.actions=h.catch(p=>{if((0,k.isCancellationError)(p))return g;throw p})}cancel(){this._cancellablePromise.cancel()}}r.Triggered=d})(c||(e.CodeActionsState=c={}));const g=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class l extends D.Disposable{constructor(d,u,a,v,h,p){super(),this._editor=d,this._registry=u,this._markerService=a,this._progressService=h,this._configurationService=p,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new L.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(v),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(_=>{_.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(c.Empty,!0))}_settingEnabledNearbyQuickfixes(){var d;const u=(d=this._editor)===null||d===void 0?void 0:d.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:u?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(c.Empty);const d=this._editor.getModel();if(d&&this._registry.has(d)&&!this._editor.getOption(91)){const u=this._registry.all(d).flatMap(a=>{var v;return(v=a.providedCodeActionKinds)!==null&&v!==void 0?v:[]});this._supportedCodeActions.set(u.join(" ")),this._codeActionOracle.value=new s(this._editor,this._markerService,a=>{var v;if(!a){this.setState(c.Empty);return}const h=a.selection.getStartPosition(),p=(0,f.createCancelablePromise)(async E=>{var I,T,N,A,R,M,P,F,O,B;if(this._settingEnabledNearbyQuickfixes()&&a.trigger.type===1&&(a.trigger.triggerAction===n.CodeActionTriggerSource.QuickFix||!((T=(I=a.trigger.filter)===null||I===void 0?void 0:I.include)===null||T===void 0)&&T.contains(n.CodeActionKind.QuickFix))){const V=await(0,i.getCodeActions)(this._registry,d,a.selection,a.trigger,o.Progress.None,E),K=[...V.allActions];if(E.isCancellationRequested)return g;const U=(N=V.validActions)===null||N===void 0?void 0:N.some(z=>z.action.kind?n.CodeActionKind.QuickFix.contains(new t.HierarchicalKind(z.action.kind)):!1),G=this._markerService.read({resource:d.uri});if(U){for(const z of V.validActions)!((R=(A=z.action.command)===null||A===void 0?void 0:A.arguments)===null||R===void 0)&&R.some($=>typeof $=="string"&&$.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(z.action.diagnostics=[...G.filter($=>$.relatedInformation)]);return{validActions:V.validActions,allActions:K,documentation:V.documentation,hasAutoFix:V.hasAutoFix,hasAIFix:V.hasAIFix,allAIFixes:V.allAIFixes,dispose:()=>{V.dispose()}}}else if(!U&&G.length>0){const z=a.selection.getPosition();let $=z,J=Number.MAX_VALUE;const ee=[...V.validActions];for(const x of G){const Y=x.endColumn,ae=x.endLineNumber,ue=x.startLineNumber;if(ae===z.lineNumber||ue===z.lineNumber){$=new w.Position(ae,Y);const he={type:a.trigger.type,triggerAction:a.trigger.triggerAction,filter:{include:!((M=a.trigger.filter)===null||M===void 0)&&M.include?(P=a.trigger.filter)===null||P===void 0?void 0:P.include:n.CodeActionKind.QuickFix},autoApply:a.trigger.autoApply,context:{notAvailableMessage:((F=a.trigger.context)===null||F===void 0?void 0:F.notAvailableMessage)||"",position:$}},pe=new b.Selection($.lineNumber,$.column,$.lineNumber,$.column),ce=await(0,i.getCodeActions)(this._registry,d,pe,he,o.Progress.None,E);if(ce.validActions.length!==0){for(const ie of ce.validActions)!((B=(O=ie.action.command)===null||O===void 0?void 0:O.arguments)===null||B===void 0)&&B.some(oe=>typeof oe=="string"&&oe.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(ie.action.diagnostics=[...G.filter(oe=>oe.relatedInformation)]);V.allActions.length===0&&K.push(...ce.allActions),Math.abs(z.column-Y)<J?ee.unshift(...ce.validActions):ee.push(...ce.validActions)}J=Math.abs(z.column-Y)}}const Z=ee.filter((x,Y,ae)=>ae.findIndex(ue=>ue.action.title===x.action.title)===Y);return Z.sort((x,Y)=>x.action.isPreferred&&!Y.action.isPreferred?-1:!x.action.isPreferred&&Y.action.isPreferred||x.action.isAI&&!Y.action.isAI?1:!x.action.isAI&&Y.action.isAI?-1:0),{validActions:Z,allActions:K,documentation:V.documentation,hasAutoFix:V.hasAutoFix,hasAIFix:V.hasAIFix,allAIFixes:V.allAIFixes,dispose:()=>{V.dispose()}}}}return(0,i.getCodeActions)(this._registry,d,a.selection,a.trigger,o.Progress.None,E)});a.trigger.type===1&&((v=this._progressService)===null||v===void 0||v.showWhile(p,250));const _=new c.Triggered(a.trigger,h,p);let S=!1;this._state.type===1&&(S=this._state.trigger.type===1&&_.type===1&&_.trigger.type===2&&this._state.position!==_.position),S?setTimeout(()=>{this.setState(_)},500):this.setState(_)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(d){var u;(u=this._codeActionOracle.value)===null||u===void 0||u.trigger(d)}setState(d,u){d!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=d,!u&&!this._disposed&&this._onDidChangeState.fire(d))}}e.CodeActionModel=l}),define(ne[394],se([1,0,6,69,26,7,2,31,233,152,702,25,32,487]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var t;(function(c){c.Hidden={type:0};class g{constructor(r,d,u,a){this.actions=r,this.trigger=d,this.editorPosition=u,this.widgetPosition=a,this.type=1}}c.Showing=g})(t||(t={}));let s=i=class extends y.Disposable{constructor(g,l,r){super(),this._editor=g,this._keybindingService=l,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=t.Hidden,this._iconClasses=[],this._domNode=f.$("div.lightBulbWidget"),this._domNode.role="listbox",this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(d=>{const u=this._editor.getModel();(this.state.type!==1||!u||this.state.editorPosition.lineNumber>=u.getLineCount())&&this.hide()})),this._register(f.addStandardDisposableGenericMouseDownListener(this._domNode,d=>{if(this.state.type!==1)return;this._editor.focus(),d.preventDefault();const{top:u,height:a}=f.getDomNodePagePosition(this._domNode),v=this._editor.getOption(67);let h=Math.floor(v/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(h+=v),this._onClick.fire({x:d.posx,y:u+a+h,actions:this.state.actions,trigger:this.state.trigger})})),this._register(f.addDisposableListener(this._domNode,"mouseenter",d=>{(d.buttons&1)===1&&this.hide()})),this._register(D.Event.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var d,u,a,v;this._preferredKbLabel=(u=(d=this._keybindingService.lookupKeybinding(b.autoFixCommandId))===null||d===void 0?void 0:d.getLabel())!==null&&u!==void 0?u:void 0,this._quickFixKbLabel=(v=(a=this._keybindingService.lookupKeybinding(b.quickFixCommandId))===null||a===void 0?void 0:a.getLabel())!==null&&v!==void 0?v:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(g,l,r){if(g.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const u=this._editor.getModel();if(!u)return this.hide();const{lineNumber:a,column:v}=u.validatePosition(r),h=u.getOptions().tabSize,p=this._editor.getOptions().get(50),_=u.getLineContent(a),S=(0,w.computeIndentLevel)(_,h),E=p.spaceWidth*S>22,I=M=>M>2&&this._editor.getTopForLineNumber(M)===this._editor.getTopForLineNumber(M-1);let T=a,N=1;if(!E){if(a>1&&!I(a-1))T-=1;else if(a<u.getLineCount()&&!I(a+1))T+=1;else if(v*p.spaceWidth<22)return this.hide();N=/^\S\s*$/.test(u.getLineContent(T))?2:1}this.state=new t.Showing(g,l,r,{position:{lineNumber:T,column:N},preference:i._posPref});const A=g.validActions,R=g.validActions[0].action.kind;if(A.length!==1||!R){this._editor.layoutContentWidget(this);return}this._editor.layoutContentWidget(this)}hide(){this.state!==t.Hidden&&(this.state=t.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(g){this._state=g,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let g,l=!1;this.state.actions.allAIFixes?(g=L.Codicon.sparkleFilled,this.state.actions.validActions.length===1&&(l=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?g=L.Codicon.lightbulbSparkleAutofix:g=L.Codicon.lightbulbAutofix:this.state.actions.hasAIFix?g=L.Codicon.lightbulbSparkle:g=L.Codicon.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,l),this._iconClasses=m.ThemeIcon.asClassNameArray(g),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(g,l){this.state.type===1&&(l?this.title=C.localize(0,null,this.state.actions.validActions[0].action.title):g&&this._preferredKbLabel?this.title=C.localize(1,null,this._preferredKbLabel):!g&&this._quickFixKbLabel?this.title=C.localize(2,null,this._quickFixKbLabel):g||(this.title=C.localize(3,null)))}set title(g){this._domNode.title=g}};e.LightBulbWidget=s,s.ID="editor.contrib.lightbulbWidget",s._posPref=[0],e.LightBulbWidget=s=i=ke([ge(1,n.IKeybindingService),ge(2,o.ICommandService)],s)}),define(ne[874],se([1,0,16,160,720]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:L.localize(0,null),alias:"Increase Editor Font Size",precondition:void 0})}run(b,C){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class y extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:L.localize(1,null),alias:"Decrease Editor Font Size",precondition:void 0})}run(b,C){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class m extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:L.localize(2,null),alias:"Reset Editor Font Size",precondition:void 0})}run(b,C){k.EditorZoom.setZoomLevel(0)}}(0,f.registerEditorAction)(D),(0,f.registerEditorAction)(y),(0,f.registerEditorAction)(m)}),define(ne[395],se([1,0,13,19,9,54,71,20,22,119,164,10,5,24,113,75,329,25,815,8,18,63,134]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingConflicts=void 0,e.getRealAndSyntheticDocumentFormattersOrdered=v,e.formatDocumentRangesWithSelectedProvider=p,e.formatDocumentRangesWithProvider=_,e.formatDocumentWithSelectedProvider=S,e.formatDocumentWithProvider=E,e.getDocumentRangeFormattingEditsUntilResult=I,e.getDocumentFormattingEditsUntilResult=T,e.getOnTypeFormattingEdits=N;function v(A,R,M){const P=[],F=new l.ExtensionIdentifierSet,O=A.ordered(M);for(const V of O)P.push(V),V.extensionId&&F.add(V.extensionId);const B=R.ordered(M);for(const V of B){if(V.extensionId){if(F.has(V.extensionId))continue;F.add(V.extensionId)}P.push({displayName:V.displayName,extensionId:V.extensionId,provideDocumentFormattingEdits(K,U,G){return V.provideDocumentRangeFormattingEdits(K,K.getFullModelRange(),U,G)}})}return P}class h{static setFormatterSelector(R){return{dispose:h._selectors.unshift(R)}}static async select(R,M,P,F){if(R.length===0)return;const O=D.Iterable.first(h._selectors);if(O)return await O(R,M,P,F)}}e.FormattingConflicts=h,h._selectors=new y.LinkedList;async function p(A,R,M,P,F,O,B){const V=A.get(r.IInstantiationService),{documentRangeFormattingEditProvider:K}=A.get(d.ILanguageFeaturesService),U=(0,C.isCodeEditor)(R)?R.getModel():R,G=K.ordered(U),z=await h.select(G,U,P,2);z&&(F.report(z),await V.invokeFunction(_,z,R,M,O,B))}async function _(A,R,M,P,F,O){var B,V;const K=A.get(t.IEditorWorkerService),U=A.get(u.ILogService),G=A.get(a.IAccessibilitySignalService);let z,$;(0,C.isCodeEditor)(M)?(z=M.getModel(),$=new b.EditorStateCancellationTokenSource(M,5,void 0,F)):(z=M,$=new b.TextModelCancellationTokenSource(M,F));const J=[];let ee=0;for(const ue of(0,f.asArray)(P).sort(n.Range.compareRangesUsingStarts))ee>0&&n.Range.areIntersectingOrTouching(J[ee-1],ue)?J[ee-1]=n.Range.fromPositions(J[ee-1].getStartPosition(),ue.getEndPosition()):ee=J.push(ue);const Z=async ue=>{var he,pe;U.trace("[format][provideDocumentRangeFormattingEdits] (request)",(he=R.extensionId)===null||he===void 0?void 0:he.value,ue);const ce=await R.provideDocumentRangeFormattingEdits(z,ue,z.getFormattingOptions(),$.token)||[];return U.trace("[format][provideDocumentRangeFormattingEdits] (response)",(pe=R.extensionId)===null||pe===void 0?void 0:pe.value,ce),ce},x=(ue,he)=>{if(!ue.length||!he.length)return!1;const pe=ue.reduce((ce,ie)=>n.Range.plusRange(ce,ie.range),ue[0].range);if(!he.some(ce=>n.Range.intersectRanges(pe,ce.range)))return!1;for(const ce of ue)for(const ie of he)if(n.Range.intersectRanges(ce.range,ie.range))return!0;return!1},Y=[],ae=[];try{if(typeof R.provideDocumentRangesFormattingEdits=="function"){U.trace("[format][provideDocumentRangeFormattingEdits] (request)",(B=R.extensionId)===null||B===void 0?void 0:B.value,J);const ue=await R.provideDocumentRangesFormattingEdits(z,J,z.getFormattingOptions(),$.token)||[];U.trace("[format][provideDocumentRangeFormattingEdits] (response)",(V=R.extensionId)===null||V===void 0?void 0:V.value,ue),ae.push(ue)}else{for(const ue of J){if($.token.isCancellationRequested)return!0;ae.push(await Z(ue))}for(let ue=0;ue<J.length;++ue)for(let he=ue+1;he<J.length;++he){if($.token.isCancellationRequested)return!0;if(x(ae[ue],ae[he])){const pe=n.Range.plusRange(J[ue],J[he]),ce=await Z(pe);J.splice(he,1),J.splice(ue,1),J.push(pe),ae.splice(he,1),ae.splice(ue,1),ae.push(ce),ue=0,he=0}}}for(const ue of ae){if($.token.isCancellationRequested)return!0;const he=await K.computeMoreMinimalEdits(z.uri,ue);he&&Y.push(...he)}}finally{$.dispose()}if(Y.length===0)return!1;if((0,C.isCodeEditor)(M))c.FormattingEdit.execute(M,Y,!0),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:ue}]=Y,he=new i.Selection(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn);z.pushEditOperations([he],Y.map(pe=>({text:pe.text,range:n.Range.lift(pe.range),forceMoveMarkers:!0})),pe=>{for(const{range:ce}of pe)if(n.Range.areIntersectingOrTouching(ce,he))return[new i.Selection(ce.startLineNumber,ce.startColumn,ce.endLineNumber,ce.endColumn)];return null})}return G.playSignal(a.AccessibilitySignal.format,{userGesture:O}),!0}async function S(A,R,M,P,F,O){const B=A.get(r.IInstantiationService),V=A.get(d.ILanguageFeaturesService),K=(0,C.isCodeEditor)(R)?R.getModel():R,U=v(V.documentFormattingEditProvider,V.documentRangeFormattingEditProvider,K),G=await h.select(U,K,M,1);G&&(P.report(G),await B.invokeFunction(E,G,R,M,F,O))}async function E(A,R,M,P,F,O){const B=A.get(t.IEditorWorkerService),V=A.get(a.IAccessibilitySignalService);let K,U;(0,C.isCodeEditor)(M)?(K=M.getModel(),U=new b.EditorStateCancellationTokenSource(M,5,void 0,F)):(K=M,U=new b.TextModelCancellationTokenSource(M,F));let G;try{const z=await R.provideDocumentFormattingEdits(K,K.getFormattingOptions(),U.token);if(G=await B.computeMoreMinimalEdits(K.uri,z),U.token.isCancellationRequested)return!0}finally{U.dispose()}if(!G||G.length===0)return!1;if((0,C.isCodeEditor)(M))c.FormattingEdit.execute(M,G,P!==2),P!==2&&M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:z}]=G,$=new i.Selection(z.startLineNumber,z.startColumn,z.endLineNumber,z.endColumn);K.pushEditOperations([$],G.map(J=>({text:J.text,range:n.Range.lift(J.range),forceMoveMarkers:!0})),J=>{for(const{range:ee}of J)if(n.Range.areIntersectingOrTouching(ee,$))return[new i.Selection(ee.startLineNumber,ee.startColumn,ee.endLineNumber,ee.endColumn)];return null})}return V.playSignal(a.AccessibilitySignal.format,{userGesture:O}),!0}async function I(A,R,M,P,F,O){const B=R.documentRangeFormattingEditProvider.ordered(M);for(const V of B){const K=await Promise.resolve(V.provideDocumentRangeFormattingEdits(M,P,F,O)).catch(L.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(K))return await A.computeMoreMinimalEdits(M.uri,K)}}async function T(A,R,M,P,F){const O=v(R.documentFormattingEditProvider,R.documentRangeFormattingEditProvider,M);for(const B of O){const V=await Promise.resolve(B.provideDocumentFormattingEdits(M,P,F)).catch(L.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(V))return await A.computeMoreMinimalEdits(M.uri,V)}}function N(A,R,M,P,F,O,B){const V=R.onTypeFormattingEditProvider.ordered(M);return V.length===0||V[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(V[0].provideOnTypeFormattingEdits(M,P,F,O,B)).catch(L.onUnexpectedExternalError).then(K=>A.computeMoreMinimalEdits(M.uri,K))}g.CommandsRegistry.registerCommand("_executeFormatRangeProvider",async function(A,...R){const[M,P,F]=R;(0,m.assertType)(w.URI.isUri(M)),(0,m.assertType)(n.Range.isIRange(P));const O=A.get(s.ITextModelService),B=A.get(t.IEditorWorkerService),V=A.get(d.ILanguageFeaturesService),K=await O.createModelReference(M);try{return I(B,V,K.object.textEditorModel,n.Range.lift(P),F,k.CancellationToken.None)}finally{K.dispose()}}),g.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",async function(A,...R){const[M,P]=R;(0,m.assertType)(w.URI.isUri(M));const F=A.get(s.ITextModelService),O=A.get(t.IEditorWorkerService),B=A.get(d.ILanguageFeaturesService),V=await F.createModelReference(M);try{return T(O,B,V.object.textEditorModel,P,k.CancellationToken.None)}finally{V.dispose()}}),g.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",async function(A,...R){const[M,P,F,O]=R;(0,m.assertType)(w.URI.isUri(M)),(0,m.assertType)(o.Position.isIPosition(P)),(0,m.assertType)(typeof F=="string");const B=A.get(s.ITextModelService),V=A.get(t.IEditorWorkerService),K=A.get(d.ILanguageFeaturesService),U=await B.createModelReference(M);try{return N(V,K,U.object.textEditorModel,o.Position.lift(P),F,O,k.CancellationToken.None)}finally{U.dispose()}})}),define(ne[875],se([1,0,13,19,9,70,2,16,36,140,5,21,113,18,395,329,721,134,25,14,8,93]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatOnType=void 0;let a=class{constructor(S,E,I,T){this._editor=S,this._languageFeaturesService=E,this._workerService=I,this._accessibilitySignalService=T,this._disposables=new y.DisposableStore,this._sessionDisposables=new y.DisposableStore,this._disposables.add(E.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(S.onDidChangeModel(()=>this._update())),this._disposables.add(S.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(S.onDidChangeConfiguration(N=>{N.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const S=this._editor.getModel(),[E]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(S);if(!E||!E.autoFormatTriggerCharacters)return;const I=new b.CharacterSet;for(const T of E.autoFormatTriggerCharacters)I.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{const N=T.charCodeAt(T.length-1);I.has(N)&&this._trigger(String.fromCharCode(N))}))}_trigger(S){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const E=this._editor.getModel(),I=this._editor.getPosition(),T=new k.CancellationTokenSource,N=this._editor.onDidChangeModelContent(A=>{if(A.isFlush){T.cancel(),N.dispose();return}for(let R=0,M=A.changes.length;R<M;R++)if(A.changes[R].range.endLineNumber<=I.lineNumber){T.cancel(),N.dispose();return}});(0,t.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,E,I,S,E.getFormattingOptions(),T.token).then(A=>{T.token.isCancellationRequested||(0,f.isNonEmptyArray)(A)&&(this._accessibilitySignalService.playSignal(g.AccessibilitySignal.format,{userGesture:!1}),s.FormattingEdit.execute(this._editor,A,!0))}).finally(()=>{N.dispose()})}};e.FormatOnType=a,a.ID="editor.contrib.autoFormat",e.FormatOnType=a=ke([ge(1,i.ILanguageFeaturesService),ge(2,n.IEditorWorkerService),ge(3,g.IAccessibilitySignalService)],a);let v=class{constructor(S,E,I){this.editor=S,this._languageFeaturesService=E,this._instantiationService=I,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._callOnDispose.add(S.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(S.onDidChangeModel(()=>this._update())),this._callOnDispose.add(S.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(E.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:S})=>this._trigger(S)))}_trigger(S){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(t.formatDocumentRangesWithSelectedProvider,this.editor,S,2,u.Progress.None,k.CancellationToken.None,!1).catch(L.onUnexpectedError))}};v.ID="editor.contrib.formatOnPaste",v=ke([ge(1,i.ILanguageFeaturesService),ge(2,d.IInstantiationService)],v);class h extends m.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:c.localize(0,null),alias:"Format Document",precondition:r.ContextKeyExpr.and(o.EditorContextKeys.notInCompositeEditor,o.EditorContextKeys.writable,o.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(S,E){if(E.hasModel()){const I=S.get(d.IInstantiationService);await S.get(u.IEditorProgressService).showWhile(I.invokeFunction(t.formatDocumentWithSelectedProvider,E,1,u.Progress.None,k.CancellationToken.None,!0),250)}}}class p extends m.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:c.localize(1,null),alias:"Format Selection",precondition:r.ContextKeyExpr.and(o.EditorContextKeys.writable,o.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:o.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(S,E){if(!E.hasModel())return;const I=S.get(d.IInstantiationService),T=E.getModel(),N=E.getSelections().map(R=>R.isEmpty()?new C.Range(R.startLineNumber,1,R.startLineNumber,T.getLineMaxColumn(R.startLineNumber)):R);await S.get(u.IEditorProgressService).showWhile(I.invokeFunction(t.formatDocumentRangesWithSelectedProvider,E,N,1,u.Progress.None,k.CancellationToken.None,!0),250)}}(0,m.registerEditorContribution)(a.ID,a,2),(0,m.registerEditorContribution)(v.ID,v,2),(0,m.registerEditorAction)(h),(0,m.registerEditorAction)(p),l.CommandsRegistry.registerCommand("editor.action.format",async _=>{const S=_.get(w.ICodeEditorService).getFocusedCodeEditor();if(!S||!S.hasModel())return;const E=_.get(l.ICommandService);S.getSelection().isEmpty()?await E.executeCommand("editor.action.formatDocument"):await E.executeCommand("editor.action.formatSelection")})}),define(ne[272],se([1,0,13,19,9,47,16,18,173]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefinitionsAtPosition=o,e.getDeclarationsAtPosition=n,e.getImplementationsAtPosition=i,e.getTypeDefinitionsAtPosition=t,e.getReferencesAtPosition=s;function b(g,l){return l.uri.scheme===g.uri.scheme?!0:!(0,D.matchesSomeScheme)(l.uri,D.Schemas.walkThroughSnippet,D.Schemas.vscodeChatCodeBlock,D.Schemas.vscodeChatCodeCompareBlock,D.Schemas.vscodeCopilotBackingChatCodeBlock)}async function C(g,l,r,d){const a=r.ordered(g).map(h=>Promise.resolve(d(h,g,l)).then(void 0,p=>{(0,L.onUnexpectedExternalError)(p)})),v=await Promise.all(a);return(0,f.coalesce)(v.flat()).filter(h=>b(g,h))}function o(g,l,r,d){return C(l,r,g,(u,a,v)=>u.provideDefinition(a,v,d))}function n(g,l,r,d){return C(l,r,g,(u,a,v)=>u.provideDeclaration(a,v,d))}function i(g,l,r,d){return C(l,r,g,(u,a,v)=>u.provideImplementation(a,v,d))}function t(g,l,r,d){return C(l,r,g,(u,a,v)=>u.provideTypeDefinition(a,v,d))}function s(g,l,r,d,u){return C(l,r,g,async(a,v,h)=>{var p,_;const S=(p=await a.provideReferences(v,h,{includeDeclaration:!0},u))===null||p===void 0?void 0:p.filter(I=>b(v,I));if(!d||!S||S.length!==2)return S;const E=(_=await a.provideReferences(v,h,{includeDeclaration:!1},u))===null||_===void 0?void 0:_.filter(I=>b(v,I));return E&&E.length===1?E:S})}async function c(g){const l=await g(),r=new w.ReferencesModel(l,""),d=r.references.map(u=>u.link);return r.dispose(),d}(0,y.registerModelAndPositionCommand)("_executeDefinitionProvider",(g,l,r)=>{const d=g.get(m.ILanguageFeaturesService),u=o(d.definitionProvider,l,r,k.CancellationToken.None);return c(()=>u)}),(0,y.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(g,l,r)=>{const d=g.get(m.ILanguageFeaturesService),u=t(d.typeDefinitionProvider,l,r,k.CancellationToken.None);return c(()=>u)}),(0,y.registerModelAndPositionCommand)("_executeDeclarationProvider",(g,l,r)=>{const d=g.get(m.ILanguageFeaturesService),u=n(d.declarationProvider,l,r,k.CancellationToken.None);return c(()=>u)}),(0,y.registerModelAndPositionCommand)("_executeReferenceProvider",(g,l,r)=>{const d=g.get(m.ILanguageFeaturesService),u=s(d.referenceProvider,l,r,!1,k.CancellationToken.None);return c(()=>u)}),(0,y.registerModelAndPositionCommand)("_executeImplementationProvider",(g,l,r)=>{const d=g.get(m.ILanguageFeaturesService),u=i(d.implementationProvider,l,r,k.CancellationToken.None);return c(()=>u)})}),define(ne[876],se([1,0,7,2,51,16,36,5,730,14,49,8,32,118,50]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new b.RawContextKey("hasSymbols",!1,(0,w.localize)(0,null)),e.ISymbolNavigationService=(0,o.createDecorator)("ISymbolNavigationService");let s=class{constructor(l,r,d,u){this._editorService=r,this._notificationService=d,this._keybindingService=u,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(l)}reset(){var l,r;this._ctxHasSymbols.reset(),(l=this._currentState)===null||l===void 0||l.dispose(),(r=this._currentMessage)===null||r===void 0||r.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(l){const r=l.parent.parent;if(r.references.length<=1){this.reset();return}this._currentModel=r,this._currentIdx=r.references.indexOf(l),this._ctxHasSymbols.set(!0),this._showMessage();const d=new c(this._editorService),u=d.onDidChange(a=>{if(this._ignoreEditorChange)return;const v=this._editorService.getActiveCodeEditor();if(!v)return;const h=v.getModel(),p=v.getPosition();if(!h||!p)return;let _=!1,S=!1;for(const E of r.references)if((0,L.isEqual)(E.uri,h.uri))_=!0,S=S||m.Range.containsPosition(E.range,p);else if(_)break;(!_||!S)&&this.reset()});this._currentState=(0,k.combinedDisposable)(d,u)}revealNext(l){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const r=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:r.uri,options:{selection:m.Range.collapseToStart(r.range),selectionRevealType:3}},l).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var l;(l=this._currentMessage)===null||l===void 0||l.dispose();const r=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),d=r?(0,w.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,r.getLabel()):(0,w.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(d)}};s=ke([ge(0,b.IContextKeyService),ge(1,y.ICodeEditorService),ge(2,t.INotificationService),ge(3,n.IKeybindingService)],s),(0,C.registerSingleton)(e.ISymbolNavigationService,s,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(g,l){return g.get(e.ISymbolNavigationService).revealNext(l)}}),i.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(g){g.get(e.ISymbolNavigationService).reset()}});let c=class{constructor(l){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(l.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(l.onCodeEditorAdd(this._onDidAddEditor,this)),l.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(l){this._listener.set(l,(0,k.combinedDisposable)(l.onDidChangeCursorPosition(r=>this._onDidChange.fire({editor:l})),l.onDidChangeModelContent(r=>this._onDidChange.fire({editor:l}))))}_onDidRemoveEditor(l){var r;(r=this._listener.get(l))===null||r===void 0||r.dispose(),this._listener.delete(l)}};c=ke([ge(0,y.ICodeEditorService)],c)}),define(ne[396],se([1,0,15,19,9,16,18]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverProviderResult=void 0,e.getHoverProviderResultsAsAsyncIterable=b,e.getHoversPromise=C;class m{constructor(i,t,s){this.provider=i,this.hover=t,this.ordinal=s}}e.HoverProviderResult=m;async function w(n,i,t,s,c){const g=await Promise.resolve(n.provideHover(t,s,c)).catch(L.onUnexpectedExternalError);if(!(!g||!o(g)))return new m(n,g,i)}function b(n,i,t,s){const g=n.ordered(i).map((l,r)=>w(l,r,i,t,s));return f.AsyncIterableObject.fromPromises(g).coalesce()}function C(n,i,t,s){return b(n,i,t,s).map(c=>c.hover).toPromise()}(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(n,i,t)=>{const s=n.get(y.ILanguageFeaturesService);return C(s.hoverProvider,i,t,k.CancellationToken.None)});function o(n){const i=typeof n.range<"u",t=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return i&&t}}),define(ne[877],se([1,0,2,11,16,208,5,21,35,53,330,738,65,237,853,91]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=void 0;class c extends L.EditorAction{constructor(){super({id:c.ID,label:o.localize(0,null),alias:"Convert Indentation to Spaces",precondition:m.EditorContextKeys.writable,metadata:{description:o.localize2(12,"Convert the tab indentation to spaces.")}})}run(A,R){const M=R.getModel();if(!M)return;const P=M.getOptions(),F=R.getSelection();if(!F)return;const O=new I(F,P.tabSize);R.pushUndoStop(),R.executeCommands(this.id,[O]),R.pushUndoStop(),M.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=c,c.ID="editor.action.indentationToSpaces";class g extends L.EditorAction{constructor(){super({id:g.ID,label:o.localize(1,null),alias:"Convert Indentation to Tabs",precondition:m.EditorContextKeys.writable,metadata:{description:o.localize2(13,"Convert the spaces indentation to tabs.")}})}run(A,R){const M=R.getModel();if(!M)return;const P=M.getOptions(),F=R.getSelection();if(!F)return;const O=new T(F,P.tabSize);R.pushUndoStop(),R.executeCommands(this.id,[O]),R.pushUndoStop(),M.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=g,g.ID="editor.action.indentationToTabs";class l extends L.EditorAction{constructor(A,R,M){super(M),this.insertSpaces=A,this.displaySizeOnly=R}run(A,R){const M=A.get(n.IQuickInputService),P=A.get(b.IModelService),F=R.getModel();if(!F)return;const O=P.getCreationOptions(F.getLanguageId(),F.uri,F.isForSimpleWidget),B=F.getOptions(),V=[1,2,3,4,5,6,7,8].map(U=>({id:U.toString(),label:U.toString(),description:U===O.tabSize&&U===B.tabSize?o.localize(2,null):U===O.tabSize?o.localize(3,null):U===B.tabSize?o.localize(4,null):void 0})),K=Math.min(F.getOptions().tabSize-1,7);setTimeout(()=>{M.pick(V,{placeHolder:o.localize(5,null),activeItem:V[K]}).then(U=>{if(U&&F&&!F.isDisposed()){const G=parseInt(U.label,10);this.displaySizeOnly?F.updateOptions({tabSize:G}):F.updateOptions({tabSize:G,indentSize:G,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=l;class r extends l{constructor(){super(!1,!1,{id:r.ID,label:o.localize(6,null),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:o.localize2(14,"Use indentation with tabs.")}})}}e.IndentUsingTabs=r,r.ID="editor.action.indentUsingTabs";class d extends l{constructor(){super(!0,!1,{id:d.ID,label:o.localize(7,null),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:o.localize2(15,"Use indentation with spaces.")}})}}e.IndentUsingSpaces=d,d.ID="editor.action.indentUsingSpaces";class u extends l{constructor(){super(!0,!0,{id:u.ID,label:o.localize(8,null),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:o.localize2(16,"Change the space size equivalent of the tab.")}})}}e.ChangeTabDisplaySize=u,u.ID="editor.action.changeTabDisplaySize";class a extends L.EditorAction{constructor(){super({id:a.ID,label:o.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:o.localize2(17,"Detect the indentation from content.")}})}run(A,R){const M=A.get(b.IModelService),P=R.getModel();if(!P)return;const F=M.getCreationOptions(P.getLanguageId(),P.uri,P.isForSimpleWidget);P.detectIndentation(F.insertSpaces,F.tabSize)}}e.DetectIndentation=a,a.ID="editor.action.detectIndentation";class v extends L.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:o.localize(10,null),alias:"Reindent Lines",precondition:m.EditorContextKeys.writable,metadata:{description:o.localize2(18,"Reindent the lines of the editor.")}})}run(A,R){const M=A.get(w.ILanguageConfigurationService),P=R.getModel();if(!P)return;const F=(0,t.getReindentEditOperations)(P,M,1,P.getLineCount());F.length>0&&(R.pushUndoStop(),R.executeEdits(this.id,F),R.pushUndoStop())}}e.ReindentLinesAction=v;class h extends L.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:o.localize(11,null),alias:"Reindent Selected Lines",precondition:m.EditorContextKeys.writable,metadata:{description:o.localize2(19,"Reindent the selected lines of the editor.")}})}run(A,R){const M=A.get(w.ILanguageConfigurationService),P=R.getModel();if(!P)return;const F=R.getSelections();if(F===null)return;const O=[];for(const B of F){let V=B.startLineNumber,K=B.endLineNumber;if(V!==K&&B.endColumn===1&&K--,V===1){if(V===K)continue}else V--;const U=(0,t.getReindentEditOperations)(P,M,V,K);O.push(...U)}O.length>0&&(R.pushUndoStop(),R.executeEdits(this.id,O),R.pushUndoStop())}}e.ReindentSelectedLinesAction=h;class p{constructor(A,R){this._initialSelection=R,this._edits=[],this._selectionId=null;for(const M of A)M.range&&typeof M.text=="string"&&this._edits.push(M)}getEditOperations(A,R){for(const P of this._edits)R.addEditOperation(y.Range.lift(P.range),P.text);let M=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(M=!0,this._selectionId=R.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(M=!0,this._selectionId=R.trackSelection(this._initialSelection,!1))),M||(this._selectionId=R.trackSelection(this._initialSelection))}computeCursorState(A,R){return R.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=p;let _=class{constructor(A,R){this.editor=A,this._languageConfigurationService=R,this.callOnDispose=new f.DisposableStore,this.callOnModel=new f.DisposableStore,this.callOnDispose.add(A.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(A.onDidChangeModel(()=>this.update())),this.callOnDispose.add(A.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:A})=>{this.trigger(A)}))}trigger(A){const R=this.editor.getSelections();if(R===null||R.length>1)return;const M=this.editor.getModel();if(!M||S(M,A)||!M.tokenization.isCheapToTokenize(A.getStartPosition().lineNumber))return;const P=this.editor.getOption(12),{tabSize:F,indentSize:O,insertSpaces:B}=M.getOptions(),V=[],K={shiftIndent:$=>D.ShiftCommand.shiftIndent($,$.length+1,F,O,B),unshiftIndent:$=>D.ShiftCommand.unshiftIndent($,$.length+1,F,O,B)};let U=A.startLineNumber;for(;U<=A.endLineNumber;){if(this.shouldIgnoreLine(M,U)){U++;continue}break}if(U>A.endLineNumber)return;let G=M.getLineContent(U);if(!/\S/.test(G.substring(0,A.startColumn-1))){const $=(0,i.getGoodIndentForLine)(P,M,M.getLanguageId(),U,K,this._languageConfigurationService);if($!==null){const J=k.getLeadingWhitespace(G),ee=C.getSpaceCnt($,F),Z=C.getSpaceCnt(J,F);if(ee!==Z){const x=C.generateIndent(ee,F,B);V.push({range:new y.Range(U,1,U,J.length+1),text:x}),G=x+G.substr(J.length)}else{const x=(0,i.getIndentMetadata)(M,U,this._languageConfigurationService);if(x===0||x===8)return}}}const z=U;for(;U<A.endLineNumber;){if(!/\S/.test(M.getLineContent(U+1))){U++;continue}break}if(U!==A.endLineNumber){const $={tokenization:{getLineTokens:ee=>M.tokenization.getLineTokens(ee),getLanguageId:()=>M.getLanguageId(),getLanguageIdAtPosition:(ee,Z)=>M.getLanguageIdAtPosition(ee,Z)},getLineContent:ee=>ee===z?G:M.getLineContent(ee)},J=(0,i.getGoodIndentForLine)(P,$,M.getLanguageId(),U+1,K,this._languageConfigurationService);if(J!==null){const ee=C.getSpaceCnt(J,F),Z=C.getSpaceCnt(k.getLeadingWhitespace(M.getLineContent(U+1)),F);if(ee!==Z){const x=ee-Z;for(let Y=U+1;Y<=A.endLineNumber;Y++){const ae=M.getLineContent(Y),ue=k.getLeadingWhitespace(ae),pe=C.getSpaceCnt(ue,F)+x,ce=C.generateIndent(pe,F,B);ce!==ue&&V.push({range:new y.Range(Y,1,Y,ue.length+1),text:ce})}}}}if(V.length>0){this.editor.pushUndoStop();const $=new p(V,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",$),this.editor.pushUndoStop()}}shouldIgnoreLine(A,R){A.tokenization.forceTokenization(R);const M=A.getLineFirstNonWhitespaceColumn(R);if(M===0)return!0;const P=A.tokenization.getLineTokens(R);if(P.getCount()>0){const F=P.findTokenIndexAtOffset(M);if(F>=0&&P.getStandardTokenType(F)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=_,_.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=_=ke([ge(1,w.ILanguageConfigurationService)],_);function S(N,A){const R=M=>(0,s.getStandardTokenTypeAtPosition)(N,M)===2;return R(A.getStartPosition())||R(A.getEndPosition())}function E(N,A,R,M){if(N.getLineCount()===1&&N.getLineMaxColumn(1)===1)return;let P="";for(let O=0;O<R;O++)P+=" ";const F=new RegExp(P,"gi");for(let O=1,B=N.getLineCount();O<=B;O++){let V=N.getLineFirstNonWhitespaceColumn(O);if(V===0&&(V=N.getLineMaxColumn(O)),V===1)continue;const K=new y.Range(O,1,O,V),U=N.getValueInRange(K),G=M?U.replace(/\t/ig,P):U.replace(F,"	");A.addEditOperation(K,G)}}class I{constructor(A,R){this.selection=A,this.tabSize=R,this.selectionId=null}getEditOperations(A,R){this.selectionId=R.trackSelection(this.selection),E(A,R,this.tabSize,!0)}computeCursorState(A,R){return R.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=I;class T{constructor(A,R){this.selection=A,this.tabSize=R,this.selectionId=null}getEditOperations(A,R){this.selectionId=R.trackSelection(this.selection),E(A,R,this.tabSize,!1)}computeCursorState(A,R){return R.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=T,(0,L.registerEditorContribution)(_.ID,_,2),(0,L.registerEditorAction)(c),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(r),(0,L.registerEditorAction)(d),(0,L.registerEditorAction)(u),(0,L.registerEditorAction)(a),(0,L.registerEditorAction)(v),(0,L.registerEditorAction)(h)}),define(ne[878],se([1,0,16,231,21,745]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class y extends f.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:L.EditorContextKeys.textInputFocus,primary:2090}})}run(w,b,C){if(C=C||{},!b.hasModel())return;const o=b._getViewModel();o.model.pushStackElement(),o.setCursorStates(C.source,3,k.CursorMoveCommands.expandLineSelection(o,o.getCursorStates())),o.revealAllCursors(C.source,!0)}}e.ExpandLineSelectionAction=y,(0,f.registerEditorAction)(y)}),define(ne[879],se([1,0,70,209,16,142,534,271,73,10,5,24,21,599,855,600,746,29,35,28]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.PascalCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class d extends L.EditorAction{constructor(he,pe){super(pe),this.down=he}run(he,pe){if(!pe.hasModel())return;const ce=pe.getSelections().map((re,W)=>({selection:re,index:W,ignore:!1}));ce.sort((re,W)=>C.Range.compareRangesUsingStarts(re.selection,W.selection));let ie=ce[0];for(let re=1;re<ce.length;re++){const W=ce[re];ie.selection.endLineNumber===W.selection.startLineNumber&&(ie.index<W.index?W.ignore=!0:(ie.ignore=!0,ie=W))}const oe=[];for(const re of ce)oe.push(new i.CopyLinesCommand(re.selection,this.down,re.ignore));pe.pushUndoStop(),pe.executeCommands(this.id,oe),pe.pushUndoStop()}}class u extends d{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:c.localize(0,null),alias:"Copy Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:g.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(1,null),order:1}})}}class a extends d{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:c.localize(2,null),alias:"Copy Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:g.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(3,null),order:2}})}}class v extends L.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:c.localize(4,null),alias:"Duplicate Selection",precondition:n.EditorContextKeys.writable,menuOpts:{menuId:g.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(5,null),order:5}})}run(he,pe,ce){if(!pe.hasModel())return;const ie=[],oe=pe.getSelections(),re=pe.getModel();for(const W of oe)if(W.isEmpty())ie.push(new i.CopyLinesCommand(W,!0));else{const q=new o.Selection(W.endLineNumber,W.endColumn,W.endLineNumber,W.endColumn);ie.push(new D.ReplaceCommandThatSelectsText(q,re.getValueInRange(W)))}pe.pushUndoStop(),pe.executeCommands(this.id,ie),pe.pushUndoStop()}}e.DuplicateSelectionAction=v;class h extends L.EditorAction{constructor(he,pe){super(pe),this.down=he}run(he,pe){const ce=he.get(l.ILanguageConfigurationService),ie=[],oe=pe.getSelections()||[],re=pe.getOption(12);for(const W of oe)ie.push(new t.MoveLinesCommand(W,this.down,re,ce));pe.pushUndoStop(),pe.executeCommands(this.id,ie),pe.pushUndoStop()}}class p extends h{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:c.localize(6,null),alias:"Move Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:g.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(7,null),order:3}})}}class _ extends h{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:c.localize(8,null),alias:"Move Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:g.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(9,null),order:4}})}}class S extends L.EditorAction{constructor(he,pe){super(pe),this.descending=he}run(he,pe){if(!pe.hasModel())return;const ce=pe.getModel();let ie=pe.getSelections();ie.length===1&&ie[0].isEmpty()&&(ie=[new o.Selection(1,1,ce.getLineCount(),ce.getLineMaxColumn(ce.getLineCount()))]);for(const re of ie)if(!s.SortLinesCommand.canRun(pe.getModel(),re,this.descending))return;const oe=[];for(let re=0,W=ie.length;re<W;re++)oe[re]=new s.SortLinesCommand(ie[re],this.descending);pe.pushUndoStop(),pe.executeCommands(this.id,oe),pe.pushUndoStop()}}e.AbstractSortLinesAction=S;class E extends S{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:c.localize(10,null),alias:"Sort Lines Ascending",precondition:n.EditorContextKeys.writable})}}e.SortLinesAscendingAction=E;class I extends S{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:c.localize(11,null),alias:"Sort Lines Descending",precondition:n.EditorContextKeys.writable})}}e.SortLinesDescendingAction=I;class T extends L.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:c.localize(12,null),alias:"Delete Duplicate Lines",precondition:n.EditorContextKeys.writable})}run(he,pe){if(!pe.hasModel())return;const ce=pe.getModel();if(ce.getLineCount()===1&&ce.getLineMaxColumn(1)===1)return;const ie=[],oe=[];let re=0,W=!0,q=pe.getSelections();q.length===1&&q[0].isEmpty()&&(q=[new o.Selection(1,1,ce.getLineCount(),ce.getLineMaxColumn(ce.getLineCount()))],W=!1);for(const H of q){const j=new Set,Q=[];for(let me=H.startLineNumber;me<=H.endLineNumber;me++){const ve=ce.getLineContent(me);j.has(ve)||(Q.push(ve),j.add(ve))}const te=new o.Selection(H.startLineNumber,1,H.endLineNumber,ce.getLineMaxColumn(H.endLineNumber)),le=H.startLineNumber-re,de=new o.Selection(le,1,le+Q.length-1,Q[Q.length-1].length);ie.push(w.EditOperation.replace(te,Q.join(`
`))),oe.push(de),re+=H.endLineNumber-H.startLineNumber+1-Q.length}pe.pushUndoStop(),pe.executeEdits(this.id,ie,W?oe:void 0),pe.pushUndoStop()}}e.DeleteDuplicateLinesAction=T;class N extends L.EditorAction{constructor(){super({id:N.ID,label:c.localize(13,null),alias:"Trim Trailing Whitespace",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2102),weight:100}})}run(he,pe,ce){let ie=[];ce.reason==="auto-save"&&(ie=(pe.getSelections()||[]).map(j=>new b.Position(j.positionLineNumber,j.positionColumn)));const oe=pe.getSelection();if(oe===null)return;const re=he.get(r.IConfigurationService),W=pe.getModel(),q=re.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:W?.getLanguageId(),resource:W?.uri}),H=new y.TrimTrailingWhitespaceCommand(oe,ie,q);pe.pushUndoStop(),pe.executeCommands(this.id,[H]),pe.pushUndoStop()}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class A extends L.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:c.localize(14,null),alias:"Delete Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(he,pe){if(!pe.hasModel())return;const ce=this._getLinesToRemove(pe),ie=pe.getModel();if(ie.getLineCount()===1&&ie.getLineMaxColumn(1)===1)return;let oe=0;const re=[],W=[];for(let q=0,H=ce.length;q<H;q++){const j=ce[q];let Q=j.startLineNumber,te=j.endLineNumber,le=1,de=ie.getLineMaxColumn(te);te<ie.getLineCount()?(te+=1,de=1):Q>1&&(Q-=1,le=ie.getLineMaxColumn(Q)),re.push(w.EditOperation.replace(new o.Selection(Q,le,te,de),"")),W.push(new o.Selection(Q-oe,j.positionColumn,Q-oe,j.positionColumn)),oe+=j.endLineNumber-j.startLineNumber+1}pe.pushUndoStop(),pe.executeEdits(this.id,re,W),pe.pushUndoStop()}_getLinesToRemove(he){const pe=he.getSelections().map(oe=>{let re=oe.endLineNumber;return oe.startLineNumber<oe.endLineNumber&&oe.endColumn===1&&(re-=1),{startLineNumber:oe.startLineNumber,selectionStartColumn:oe.selectionStartColumn,endLineNumber:re,positionColumn:oe.positionColumn}});pe.sort((oe,re)=>oe.startLineNumber===re.startLineNumber?oe.endLineNumber-re.endLineNumber:oe.startLineNumber-re.startLineNumber);const ce=[];let ie=pe[0];for(let oe=1;oe<pe.length;oe++)ie.endLineNumber+1>=pe[oe].startLineNumber?ie.endLineNumber=pe[oe].endLineNumber:(ce.push(ie),ie=pe[oe]);return ce.push(ie),ce}}e.DeleteLinesAction=A;class R extends L.EditorAction{constructor(){super({id:"editor.action.indentLines",label:c.localize(15,null),alias:"Indent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(he,pe){const ce=pe._getViewModel();ce&&(pe.pushUndoStop(),pe.executeCommands(this.id,m.TypeOperations.indent(ce.cursorConfig,pe.getModel(),pe.getSelections())),pe.pushUndoStop())}}e.IndentLinesAction=R;class M extends L.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:c.localize(16,null),alias:"Outdent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(he,pe){k.CoreEditingCommands.Outdent.runEditorCommand(he,pe,null)}}class P extends L.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:c.localize(17,null),alias:"Insert Line Above",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(he,pe){const ce=pe._getViewModel();ce&&(pe.pushUndoStop(),pe.executeCommands(this.id,m.TypeOperations.lineInsertBefore(ce.cursorConfig,pe.getModel(),pe.getSelections())))}}e.InsertLineBeforeAction=P;class F extends L.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:c.localize(18,null),alias:"Insert Line Below",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(he,pe){const ce=pe._getViewModel();ce&&(pe.pushUndoStop(),pe.executeCommands(this.id,m.TypeOperations.lineInsertAfter(ce.cursorConfig,pe.getModel(),pe.getSelections())))}}e.InsertLineAfterAction=F;class O extends L.EditorAction{run(he,pe){if(!pe.hasModel())return;const ce=pe.getSelection(),ie=this._getRangesToDelete(pe),oe=[];for(let q=0,H=ie.length-1;q<H;q++){const j=ie[q],Q=ie[q+1];C.Range.intersectRanges(j,Q)===null?oe.push(j):ie[q+1]=C.Range.plusRange(j,Q)}oe.push(ie[ie.length-1]);const re=this._getEndCursorState(ce,oe),W=oe.map(q=>w.EditOperation.replace(q,""));pe.pushUndoStop(),pe.executeEdits(this.id,W,re),pe.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=O;class B extends O{constructor(){super({id:"deleteAllLeft",label:c.localize(19,null),alias:"Delete All Left",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(he,pe){let ce=null;const ie=[];let oe=0;return pe.forEach(re=>{let W;if(re.endColumn===1&&oe>0){const q=re.startLineNumber-oe;W=new o.Selection(q,re.startColumn,q,re.startColumn)}else W=new o.Selection(re.startLineNumber,re.startColumn,re.startLineNumber,re.startColumn);oe+=re.endLineNumber-re.startLineNumber,re.intersectRanges(he)?ce=W:ie.push(W)}),ce&&ie.unshift(ce),ie}_getRangesToDelete(he){const pe=he.getSelections();if(pe===null)return[];let ce=pe;const ie=he.getModel();return ie===null?[]:(ce.sort(C.Range.compareRangesUsingStarts),ce=ce.map(oe=>{if(oe.isEmpty())if(oe.startColumn===1){const re=Math.max(1,oe.startLineNumber-1),W=oe.startLineNumber===1?1:ie.getLineLength(re)+1;return new C.Range(re,W,oe.startLineNumber,1)}else return new C.Range(oe.startLineNumber,1,oe.startLineNumber,oe.startColumn);else return new C.Range(oe.startLineNumber,1,oe.endLineNumber,oe.endColumn)}),ce)}}e.DeleteAllLeftAction=B;class V extends O{constructor(){super({id:"deleteAllRight",label:c.localize(20,null),alias:"Delete All Right",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(he,pe){let ce=null;const ie=[];for(let oe=0,re=pe.length,W=0;oe<re;oe++){const q=pe[oe],H=new o.Selection(q.startLineNumber-W,q.startColumn,q.startLineNumber-W,q.startColumn);q.intersectRanges(he)?ce=H:ie.push(H)}return ce&&ie.unshift(ce),ie}_getRangesToDelete(he){const pe=he.getModel();if(pe===null)return[];const ce=he.getSelections();if(ce===null)return[];const ie=ce.map(oe=>{if(oe.isEmpty()){const re=pe.getLineMaxColumn(oe.startLineNumber);return oe.startColumn===re?new C.Range(oe.startLineNumber,oe.startColumn,oe.startLineNumber+1,1):new C.Range(oe.startLineNumber,oe.startColumn,oe.startLineNumber,re)}return oe});return ie.sort(C.Range.compareRangesUsingStarts),ie}}e.DeleteAllRightAction=V;class K extends L.EditorAction{constructor(){super({id:"editor.action.joinLines",label:c.localize(21,null),alias:"Join Lines",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(he,pe){const ce=pe.getSelections();if(ce===null)return;let ie=pe.getSelection();if(ie===null)return;ce.sort(C.Range.compareRangesUsingStarts);const oe=[],re=ce.reduce((te,le)=>te.isEmpty()?te.endLineNumber===le.startLineNumber?(ie.equalsSelection(te)&&(ie=le),le):le.startLineNumber>te.endLineNumber+1?(oe.push(te),le):new o.Selection(te.startLineNumber,te.startColumn,le.endLineNumber,le.endColumn):le.startLineNumber>te.endLineNumber?(oe.push(te),le):new o.Selection(te.startLineNumber,te.startColumn,le.endLineNumber,le.endColumn));oe.push(re);const W=pe.getModel();if(W===null)return;const q=[],H=[];let j=ie,Q=0;for(let te=0,le=oe.length;te<le;te++){const de=oe[te],me=de.startLineNumber,ve=1;let Ce=0,ye,Se;const Te=W.getLineLength(de.endLineNumber)-de.endColumn;if(de.isEmpty()||de.startLineNumber===de.endLineNumber){const Ae=de.getStartPosition();Ae.lineNumber<W.getLineCount()?(ye=me+1,Se=W.getLineMaxColumn(ye)):(ye=Ae.lineNumber,Se=W.getLineMaxColumn(Ae.lineNumber))}else ye=de.endLineNumber,Se=W.getLineMaxColumn(ye);let De=W.getLineContent(me);for(let Ae=me+1;Ae<=ye;Ae++){const Pe=W.getLineContent(Ae),Re=W.getLineFirstNonWhitespaceColumn(Ae);if(Re>=1){let Ee=!0;De===""&&(Ee=!1),Ee&&(De.charAt(De.length-1)===" "||De.charAt(De.length-1)==="	")&&(Ee=!1,De=De.replace(/[\s\uFEFF\xA0]+$/g," "));const Ne=Pe.substr(Re-1);De+=(Ee?" ":"")+Ne,Ee?Ce=Ne.length+1:Ce=Ne.length}else Ce=0}const Me=new C.Range(me,ve,ye,Se);if(!Me.isEmpty()){let Ae;de.isEmpty()?(q.push(w.EditOperation.replace(Me,De)),Ae=new o.Selection(Me.startLineNumber-Q,De.length-Ce+1,me-Q,De.length-Ce+1)):de.startLineNumber===de.endLineNumber?(q.push(w.EditOperation.replace(Me,De)),Ae=new o.Selection(de.startLineNumber-Q,de.startColumn,de.endLineNumber-Q,de.endColumn)):(q.push(w.EditOperation.replace(Me,De)),Ae=new o.Selection(de.startLineNumber-Q,de.startColumn,de.startLineNumber-Q,De.length-Te)),C.Range.intersectRanges(Me,ie)!==null?j=Ae:H.push(Ae)}Q+=Me.endLineNumber-Me.startLineNumber}H.unshift(j),pe.pushUndoStop(),pe.executeEdits(this.id,q,H),pe.pushUndoStop()}}e.JoinLinesAction=K;class U extends L.EditorAction{constructor(){super({id:"editor.action.transpose",label:c.localize(22,null),alias:"Transpose Characters around the Cursor",precondition:n.EditorContextKeys.writable})}run(he,pe){const ce=pe.getSelections();if(ce===null)return;const ie=pe.getModel();if(ie===null)return;const oe=[];for(let re=0,W=ce.length;re<W;re++){const q=ce[re];if(!q.isEmpty())continue;const H=q.getStartPosition(),j=ie.getLineMaxColumn(H.lineNumber);if(H.column>=j){if(H.lineNumber===ie.getLineCount())continue;const Q=new C.Range(H.lineNumber,Math.max(1,H.column-1),H.lineNumber+1,1),te=ie.getValueInRange(Q).split("").reverse().join("");oe.push(new D.ReplaceCommand(new o.Selection(H.lineNumber,Math.max(1,H.column-1),H.lineNumber+1,1),te))}else{const Q=new C.Range(H.lineNumber,Math.max(1,H.column-1),H.lineNumber,H.column+1),te=ie.getValueInRange(Q).split("").reverse().join("");oe.push(new D.ReplaceCommandThatPreservesSelection(Q,te,new o.Selection(H.lineNumber,H.column+1,H.lineNumber,H.column+1)))}}pe.pushUndoStop(),pe.executeCommands(this.id,oe),pe.pushUndoStop()}}e.TransposeAction=U;class G extends L.EditorAction{run(he,pe){const ce=pe.getSelections();if(ce===null)return;const ie=pe.getModel();if(ie===null)return;const oe=pe.getOption(131),re=[];for(const W of ce)if(W.isEmpty()){const q=W.getStartPosition(),H=pe.getConfiguredWordAtPosition(q);if(!H)continue;const j=new C.Range(q.lineNumber,H.startColumn,q.lineNumber,H.endColumn),Q=ie.getValueInRange(j);re.push(w.EditOperation.replace(j,this._modifyText(Q,oe)))}else{const q=ie.getValueInRange(W);re.push(w.EditOperation.replace(W,this._modifyText(q,oe)))}pe.pushUndoStop(),pe.executeEdits(this.id,re),pe.pushUndoStop()}}e.AbstractCaseAction=G;class z extends G{constructor(){super({id:"editor.action.transformToUppercase",label:c.localize(23,null),alias:"Transform to Uppercase",precondition:n.EditorContextKeys.writable})}_modifyText(he,pe){return he.toLocaleUpperCase()}}e.UpperCaseAction=z;class $ extends G{constructor(){super({id:"editor.action.transformToLowercase",label:c.localize(24,null),alias:"Transform to Lowercase",precondition:n.EditorContextKeys.writable})}_modifyText(he,pe){return he.toLocaleLowerCase()}}e.LowerCaseAction=$;class J{constructor(he,pe){this._pattern=he,this._flags=pe,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class ee extends G{constructor(){super({id:"editor.action.transformToTitlecase",label:c.localize(25,null),alias:"Transform to Title Case",precondition:n.EditorContextKeys.writable})}_modifyText(he,pe){const ce=ee.titleBoundary.get();return ce?he.toLocaleLowerCase().replace(ce,ie=>ie.toLocaleUpperCase()):he}}e.TitleCaseAction=ee,ee.titleBoundary=new J("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Z extends G{constructor(){super({id:"editor.action.transformToSnakecase",label:c.localize(26,null),alias:"Transform to Snake Case",precondition:n.EditorContextKeys.writable})}_modifyText(he,pe){const ce=Z.caseBoundary.get(),ie=Z.singleLetters.get();return!ce||!ie?he:he.replace(ce,"$1_$2").replace(ie,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=Z,Z.caseBoundary=new J("(\\p{Ll})(\\p{Lu})","gmu"),Z.singleLetters=new J("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class x extends G{constructor(){super({id:"editor.action.transformToCamelcase",label:c.localize(27,null),alias:"Transform to Camel Case",precondition:n.EditorContextKeys.writable})}_modifyText(he,pe){const ce=x.wordBoundary.get();if(!ce)return he;const ie=he.split(ce);return ie.shift()+ie.map(re=>re.substring(0,1).toLocaleUpperCase()+re.substring(1)).join("")}}e.CamelCaseAction=x,x.wordBoundary=new J("[_\\s-]","gm");class Y extends G{constructor(){super({id:"editor.action.transformToPascalcase",label:c.localize(28,null),alias:"Transform to Pascal Case",precondition:n.EditorContextKeys.writable})}_modifyText(he,pe){const ce=Y.wordBoundary.get(),ie=Y.wordBoundaryToMaintain.get();return!ce||!ie?he:he.split(ie).map(W=>W.split(ce)).flat().map(W=>W.substring(0,1).toLocaleUpperCase()+W.substring(1)).join("")}}e.PascalCaseAction=Y,Y.wordBoundary=new J("[_\\s-]","gm"),Y.wordBoundaryToMaintain=new J("(?<=\\.)","gm");class ae extends G{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(pe=>pe.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:c.localize(29,null),alias:"Transform to Kebab Case",precondition:n.EditorContextKeys.writable})}_modifyText(he,pe){const ce=ae.caseBoundary.get(),ie=ae.singleLetters.get(),oe=ae.underscoreBoundary.get();return!ce||!ie||!oe?he:he.replace(oe,"$1-$3").replace(ce,"$1-$2").replace(ie,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=ae,ae.caseBoundary=new J("(\\p{Ll})(\\p{Lu})","gmu"),ae.singleLetters=new J("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),ae.underscoreBoundary=new J("(\\S)(_)(\\S)","gm"),(0,L.registerEditorAction)(u),(0,L.registerEditorAction)(a),(0,L.registerEditorAction)(v),(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(_),(0,L.registerEditorAction)(E),(0,L.registerEditorAction)(I),(0,L.registerEditorAction)(T),(0,L.registerEditorAction)(N),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(R),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(P),(0,L.registerEditorAction)(F),(0,L.registerEditorAction)(B),(0,L.registerEditorAction)(V),(0,L.registerEditorAction)(K),(0,L.registerEditorAction)(U),(0,L.registerEditorAction)(z),(0,L.registerEditorAction)($),Z.caseBoundary.isSupported()&&Z.singleLetters.isSupported()&&(0,L.registerEditorAction)(Z),x.wordBoundary.isSupported()&&(0,L.registerEditorAction)(x),Y.wordBoundary.isSupported()&&(0,L.registerEditorAction)(Y),ee.titleBoundary.isSupported()&&(0,L.registerEditorAction)(ee),ae.isSupported()&&(0,L.registerEditorAction)(ae)}),define(ne[880],se([1,0,2,16]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends f.Disposable{constructor(y){super(),this._editor=y,this._register(this._editor.onMouseDown(m=>{const w=this._editor.getOption(117);w>=0&&m.target.type===6&&m.target.position.column>=w&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}L.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(L.ID,L,2)}),define(ne[179],se([1,0,202,48,7,57,2,16,5,117,749,14,64,6,505]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let s=t=class{static get(r){return r.getContribution(t.ID)}constructor(r,d,u){this._openerService=u,this._messageWidget=new y.MutableDisposable,this._messageListeners=new y.DisposableStore,this._mouseOverMessage=!1,this._editor=r,this._visible=t.MESSAGE_VISIBLE.bindTo(d)}dispose(){var r;(r=this._message)===null||r===void 0||r.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,d){(0,k.alert)((0,D.isMarkdownString)(r)?r.value:r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,D.isMarkdownString)(r)?(0,f.renderMarkdown)(r,{actionHandler:{callback:a=>{this.closeMessage(),(0,b.openLinkFromMarkdown)(this._openerService,a,(0,D.isMarkdownString)(r)?r.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new g(this._editor,d,typeof r=="string"?r:this._message.element),this._messageListeners.add(L.Event.debounce(this._editor.onDidBlurEditorText,(a,v)=>v,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&i.isAncestor(i.getActiveElement(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let u;this._messageListeners.add(this._editor.onMouseMove(a=>{a.target.position&&(u?u.containsPosition(a.target.position)||this.closeMessage():u=new w.Range(d.lineNumber-3,1,a.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(g.fadeOut(this._messageWidget.value))}};e.MessageController=s,s.ID="editor.contrib.messageController",s.MESSAGE_VISIBLE=new o.RawContextKey("messageVisible",!1,C.localize(0,null)),e.MessageController=s=t=ke([ge(1,o.IContextKeyService),ge(2,n.IOpenerService)],s);const c=m.EditorCommand.bindToContribution(s.get);(0,m.registerEditorCommand)(new c({id:"leaveEditorMessage",precondition:s.MESSAGE_VISIBLE,handler:l=>l.closeMessage(),kbOpts:{weight:130,primary:9}}));class g{static fadeOut(r){const d=()=>{r.dispose(),clearTimeout(u),r.getDomNode().removeEventListener("animationend",d)},u=setTimeout(d,110);return r.getDomNode().addEventListener("animationend",d),r.getDomNode().classList.add("fadeOut"),{dispose:d}}constructor(r,{lineNumber:d,column:u},a){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(d,d,0),this._position={lineNumber:d,column:u},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const v=document.createElement("div");v.classList.add("anchor","top"),this._domNode.appendChild(v);const h=document.createElement("div");typeof a=="string"?(h.classList.add("message"),h.textContent=a):(a.classList.add("message"),h.appendChild(a)),this._domNode.appendChild(h);const p=document.createElement("div");p.classList.add("anchor","below"),this._domNode.appendChild(p),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}(0,m.registerEditorContribution)(s.ID,s,4)}),define(ne[881],se([1,0,57,2,16,179,756]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class m extends k.Disposable{constructor(b){super(),this.editor=b,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const b=D.MessageController.get(this.editor);if(b&&this.editor.hasModel()){let C=this.editor.getOptions().get(92);C||(this.editor.isSimpleWidget?C=new f.MarkdownString(y.localize(0,null)):C=new f.MarkdownString(y.localize(1,null))),b.showMessage(C,this.editor.getPosition())}}}e.ReadOnlyMessageController=m,m.ID="editor.contrib.readOnlyMessageController",(0,L.registerEditorContribution)(m.ID,m,2)}),define(ne[882],se([1,0,13,19,9,16,10,5,24,21,332,601,758,29,25,18,75,20,22]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.SmartSelectController=void 0,e.provideSelectionRanges=p;class d{constructor(S,E){this.index=S,this.ranges=E}mov(S){const E=this.index+(S?1:-1);if(E<0||E>=this.ranges.length)return this;const I=new d(E,this.ranges);return I.ranges[E].equalsRange(this.ranges[this.index])?I.mov(S):I}}let u=r=class{static get(S){return S.getContribution(r.ID)}constructor(S,E){this._editor=S,this._languageFeaturesService=E,this._ignoreSelection=!1}dispose(){var S;(S=this._selectionListener)===null||S===void 0||S.dispose()}async run(S){if(!this._editor.hasModel())return;const E=this._editor.getSelections(),I=this._editor.getModel();if(this._state||await p(this._languageFeaturesService.selectionRangeProvider,I,E.map(N=>N.getPosition()),this._editor.getOption(113),k.CancellationToken.None).then(N=>{var A;if(!(!f.isNonEmptyArray(N)||N.length!==E.length)&&!(!this._editor.hasModel()||!f.equals(this._editor.getSelections(),E,(R,M)=>R.equalsSelection(M)))){for(let R=0;R<N.length;R++)N[R]=N[R].filter(M=>M.containsPosition(E[R].getStartPosition())&&M.containsPosition(E[R].getEndPosition())),N[R].unshift(E[R]);this._state=N.map(R=>new d(0,R)),(A=this._selectionListener)===null||A===void 0||A.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var R;this._ignoreSelection||((R=this._selectionListener)===null||R===void 0||R.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(N=>N.mov(S));const T=this._state.map(N=>w.Selection.fromPositions(N.ranges[N.index].getStartPosition(),N.ranges[N.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}}};e.SmartSelectController=u,u.ID="editor.contrib.smartSelectController",e.SmartSelectController=u=r=ke([ge(1,s.ILanguageFeaturesService)],u);class a extends D.EditorAction{constructor(S,E){super(E),this._forward=S}async run(S,E){const I=u.get(E);I&&await I.run(this._forward)}}class v extends a{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:n.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(1,null),order:2}})}}t.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class h extends a{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:n.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(u.ID,u,4),(0,D.registerEditorAction)(v),(0,D.registerEditorAction)(h);async function p(_,S,E,I,T){const N=_.all(S).concat(new o.WordSelectionRangeProvider(I.selectSubwords));N.length===1&&N.unshift(new C.BracketSelectionRangeProvider);const A=[],R=[];for(const M of N)A.push(Promise.resolve(M.provideSelectionRanges(S,E,T)).then(P=>{if(f.isNonEmptyArray(P)&&P.length===E.length)for(let F=0;F<E.length;F++){R[F]||(R[F]=[]);for(const O of P[F])m.Range.isIRange(O.range)&&m.Range.containsPosition(O.range,E[F])&&R[F].push(m.Range.lift(O.range))}},L.onUnexpectedExternalError));return await Promise.all(A),R.map(M=>{if(M.length===0)return[];M.sort((B,V)=>y.Position.isBefore(B.getStartPosition(),V.getStartPosition())?1:y.Position.isBefore(V.getStartPosition(),B.getStartPosition())||y.Position.isBefore(B.getEndPosition(),V.getEndPosition())?-1:y.Position.isBefore(V.getEndPosition(),B.getEndPosition())?1:0);const P=[];let F;for(const B of M)(!F||m.Range.containsRange(B,F)&&!m.Range.equalsRange(B,F))&&(P.push(B),F=B);if(!I.selectLeadingAndTrailingWhitespace)return P;const O=[P[0]];for(let B=1;B<P.length;B++){const V=P[B-1],K=P[B];if(K.startLineNumber!==V.startLineNumber||K.endLineNumber!==V.endLineNumber){const U=new m.Range(V.startLineNumber,S.getLineFirstNonWhitespaceColumn(V.startLineNumber),V.endLineNumber,S.getLineLastNonWhitespaceColumn(V.endLineNumber));U.containsRange(V)&&!U.equalsRange(V)&&K.containsRange(U)&&!K.equalsRange(U)&&O.push(U);const G=new m.Range(V.startLineNumber,1,V.endLineNumber,S.getLineMaxColumn(V.endLineNumber));G.containsRange(V)&&!G.equalsRange(U)&&K.containsRange(G)&&!K.equalsRange(G)&&O.push(G)}O.push(K)}return O})}t.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",async function(_,...S){const[E,I]=S;(0,g.assertType)(l.URI.isUri(E));const T=_.get(s.ILanguageFeaturesService).selectionRangeProvider,N=await _.get(c.ITextModelService).createModelReference(E);try{return p(T,N.object.textEditorModel,I,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{N.dispose()}})}),define(ne[883],se([1,0,60,16,770]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:L.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(m,w){if(!w.hasModel())return;const b=w.getModel();b.tokenization.resetTokenization();const C=new f.StopWatch;b.tokenization.forceTokenization(b.getLineCount()),C.stop(),console.log(`tokenization took ${C.elapsed()}`)}}(0,k.registerEditorAction)(D)}),define(ne[884],se([1,0,2,51,16,36,772,175]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const w="ignoreUnusualLineTerminators";function b(n,i,t){n.setModelProperty(i.uri,w,t)}function C(n,i){return n.getModelProperty(i.uri,w)}let o=class extends f.Disposable{constructor(i,t,s){super(),this._editor=i,this._dialogService=t,this._codeEditorService=s,this._isPresentingDialog=!1,this._config=this._editor.getOption(126),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(126)&&(this._config=this._editor.getOption(126),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(c=>{c.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||C(this._codeEditorService,i)===!0||this._editor.getOption(91))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let s;try{this._isPresentingDialog=!0,s=await this._dialogService.confirm({title:y.localize(0,null),message:y.localize(1,null),detail:y.localize(2,null,(0,k.basename)(i.uri)),primaryButton:y.localize(3,null),cancelButton:y.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!s.confirmed){b(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())}};e.UnusualLineTerminatorsDetector=o,o.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=o=ke([ge(1,m.IDialogService),ge(2,D.ICodeEditorService)],o),(0,L.registerEditorContribution)(o.ID,o,1)}),define(ne[397],se([1,0,16,142,38,79,194,161,10,5,24,21,35,775,62,14,174]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class g extends f.EditorCommand{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,x,Y){if(!x.hasModel())return;const ae=(0,m.getMapForWordSeparators)(x.getOption(131),x.getOption(130)),ue=x.getModel(),pe=x.getSelections().map(ce=>{const ie=new w.Position(ce.positionLineNumber,ce.positionColumn),oe=this._move(ae,ue,ie,this._wordNavigationType);return this._moveTo(ce,oe,this._inSelectionMode)});if(ue.pushStackElement(),x._getViewModel().setCursorStates("moveWordCommand",3,pe.map(ce=>D.CursorState.fromModelSelection(ce))),pe.length===1){const ce=new w.Position(pe[0].positionLineNumber,pe[0].positionColumn);x.revealPosition(ce,0)}}_moveTo(Z,x,Y){return Y?new C.Selection(Z.selectionStartLineNumber,Z.selectionStartColumn,x.lineNumber,x.column):new C.Selection(x.lineNumber,x.column,x.lineNumber,x.column)}}e.MoveWordCommand=g;class l extends g{_move(Z,x,Y,ae){return y.WordOperations.moveWordLeft(Z,x,Y,ae)}}e.WordLeftCommand=l;class r extends g{_move(Z,x,Y,ae){return y.WordOperations.moveWordRight(Z,x,Y,ae)}}e.WordRightCommand=r;class d extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=d;class u extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=u;class a extends l{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:s.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(Z=s.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=a;class v extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=v;class h extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=h;class p extends l{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:s.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(Z=s.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=p;class _ extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Z,x,Y,ae){return super._move((0,m.getMapForWordSeparators)(L.EditorOptions.wordSeparators.defaultValue,Z.intlSegmenterLocales),x,Y,ae)}}e.CursorWordAccessibilityLeft=_;class S extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Z,x,Y,ae){return super._move((0,m.getMapForWordSeparators)(L.EditorOptions.wordSeparators.defaultValue,Z.intlSegmenterLocales),x,Y,ae)}}e.CursorWordAccessibilityLeftSelect=S;class E extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends r{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:s.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(Z=s.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class T extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class N extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=N;class A extends r{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:s.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(Z=s.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=A;class R extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=R;class M extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Z,x,Y,ae){return super._move((0,m.getMapForWordSeparators)(L.EditorOptions.wordSeparators.defaultValue,Z.intlSegmenterLocales),x,Y,ae)}}e.CursorWordAccessibilityRight=M;class P extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Z,x,Y,ae){return super._move((0,m.getMapForWordSeparators)(L.EditorOptions.wordSeparators.defaultValue,Z.intlSegmenterLocales),x,Y,ae)}}e.CursorWordAccessibilityRightSelect=P;class F extends f.EditorCommand{constructor(Z){super(Z),this._whitespaceHeuristics=Z.whitespaceHeuristics,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,x,Y){const ae=Z.get(n.ILanguageConfigurationService);if(!x.hasModel())return;const ue=(0,m.getMapForWordSeparators)(x.getOption(131),x.getOption(130)),he=x.getModel(),pe=x.getSelections(),ce=x.getOption(6),ie=x.getOption(11),oe=ae.getLanguageConfiguration(he.getLanguageId()).getAutoClosingPairs(),re=x._getViewModel(),W=pe.map(q=>{const H=this._delete({wordSeparators:ue,model:he,selection:q,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:x.getOption(9),autoClosingBrackets:ce,autoClosingQuotes:ie,autoClosingPairs:oe,autoClosedCharacters:re.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(H,"")});x.pushUndoStop(),x.executeCommands(this.id,W),x.pushUndoStop()}}e.DeleteWordCommand=F;class O extends F{_delete(Z,x){const Y=y.WordOperations.deleteWordLeft(Z,x);return Y||new b.Range(1,1,1,1)}}e.DeleteWordLeftCommand=O;class B extends F{_delete(Z,x){const Y=y.WordOperations.deleteWordRight(Z,x);if(Y)return Y;const ae=Z.model.getLineCount(),ue=Z.model.getLineMaxColumn(ae);return new b.Range(ae,ue,ae,ue)}}e.DeleteWordRightCommand=B;class V extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:o.EditorContextKeys.writable})}}e.DeleteWordStartLeft=V;class K extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:o.EditorContextKeys.writable})}}e.DeleteWordEndLeft=K;class U extends O{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=U;class G extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:o.EditorContextKeys.writable})}}e.DeleteWordStartRight=G;class z extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:o.EditorContextKeys.writable})}}e.DeleteWordEndRight=z;class $ extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=$;class J extends f.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:o.EditorContextKeys.writable,label:i.localize(0,null),alias:"Delete Word"})}run(Z,x,Y){if(!x.hasModel())return;const ae=(0,m.getMapForWordSeparators)(x.getOption(131),x.getOption(130)),ue=x.getModel(),pe=x.getSelections().map(ce=>{const ie=y.WordOperations.deleteInsideWord(ae,ue,ce);return new k.ReplaceCommand(ie,"")});x.pushUndoStop(),x.executeCommands(this.id,pe),x.pushUndoStop()}}e.DeleteInsideWord=J,(0,f.registerEditorCommand)(new d),(0,f.registerEditorCommand)(new u),(0,f.registerEditorCommand)(new a),(0,f.registerEditorCommand)(new v),(0,f.registerEditorCommand)(new h),(0,f.registerEditorCommand)(new p),(0,f.registerEditorCommand)(new E),(0,f.registerEditorCommand)(new I),(0,f.registerEditorCommand)(new T),(0,f.registerEditorCommand)(new N),(0,f.registerEditorCommand)(new A),(0,f.registerEditorCommand)(new R),(0,f.registerEditorCommand)(new _),(0,f.registerEditorCommand)(new S),(0,f.registerEditorCommand)(new M),(0,f.registerEditorCommand)(new P),(0,f.registerEditorCommand)(new V),(0,f.registerEditorCommand)(new K),(0,f.registerEditorCommand)(new U),(0,f.registerEditorCommand)(new G),(0,f.registerEditorCommand)(new z),(0,f.registerEditorCommand)(new $),(0,f.registerEditorAction)(J)}),define(ne[885],se([1,0,16,194,5,21,397,25]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class w extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(g,l){const r=k.WordPartOperations.deleteWordPartLeft(g);return r||new L.Range(1,1,1,1)}}e.DeleteWordPartLeft=w;class b extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(g,l){const r=k.WordPartOperations.deleteWordPartRight(g);if(r)return r;const d=g.model.getLineCount(),u=g.model.getLineMaxColumn(d);return new L.Range(d,u,d,u)}}e.DeleteWordPartRight=b;class C extends y.MoveWordCommand{_move(g,l,r,d){return k.WordPartOperations.moveWordPartLeft(g,l,r)}}e.WordPartLeftCommand=C;class o extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=o,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class n extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=n,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class i extends y.MoveWordCommand{_move(g,l,r,d){return k.WordPartOperations.moveWordPartRight(g,l,r)}}e.WordPartRightCommand=i;class t extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=t;class s extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=s,(0,f.registerEditorCommand)(new w),(0,f.registerEditorCommand)(new b),(0,f.registerEditorCommand)(new o),(0,f.registerEditorCommand)(new n),(0,f.registerEditorCommand)(new t),(0,f.registerEditorCommand)(new s)}),define(ne[886],se([1,0,6,2,16,17,517]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class y extends k.Disposable{constructor(b){super(),this.editor=b,this.widget=null,D.isIOS&&(this._register(b.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const b=!this.editor.getOption(91);!this.widget&&b?this.widget=new m(this.editor):this.widget&&!b&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=y,y.ID="editor.contrib.iPadShowKeyboard";class m extends k.Disposable{constructor(b){super(),this.editor=b,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(f.addDisposableListener(this._domNode,"touchstart",C=>{this.editor.focus()})),this._register(f.addDisposableListener(this._domNode,"focus",C=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return m.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}m.ID="editor.contrib.ShowKeyboardWidget",(0,L.registerEditorContribution)(y.ID,y,3)}),define(ne[887],se([1,0,6,34,2,16,27,144,172,43,149,103,518]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});let i=n=class extends L.Disposable{static get(r){return r.getContribution(n.ID)}constructor(r,d,u){super(),this._editor=r,this._languageService=u,this._widget=null,this._register(this._editor.onDidChangeModel(a=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(a=>this.stop())),this._register(y.TokenizationRegistry.onDidChange(a=>this.stop())),this._register(this._editor.onKeyUp(a=>a.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new g(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=n=ke([ge(1,C.IStandaloneThemeService),ge(2,b.ILanguageService)],i);class t extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:o.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(r,d){const u=i.get(d);u?.launch()}}function s(l){let r="";for(let d=0,u=l.length;d<u;d++){const a=l.charCodeAt(d);switch(a){case 9:r+="\u2192";break;case 32:r+="\xB7";break;default:r+=String.fromCharCode(a)}}return r}function c(l,r){const d=y.TokenizationRegistry.get(r);if(d)return d;const u=l.encodeLanguageId(r);return{getInitialState:()=>w.NullState,tokenize:(a,v,h)=>(0,w.nullTokenize)(r,h),tokenizeEncoded:(a,v,h)=>(0,w.nullTokenizeEncoded)(u,h)}}class g extends L.Disposable{constructor(r,d){super(),this.allowEditorOverflow=!0,this._editor=r,this._languageService=d,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=c(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(u=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return g._ID}_compute(r){const d=this._getTokensAtLine(r.lineNumber);let u=0;for(let _=d.tokens1.length-1;_>=0;_--){const S=d.tokens1[_];if(r.column-1>=S.offset){u=_;break}}let a=0;for(let _=d.tokens2.length>>>1;_>=0;_--)if(r.column-1>=d.tokens2[_<<1]){a=_;break}const v=this._model.getLineContent(r.lineNumber);let h="";if(u<d.tokens1.length){const _=d.tokens1[u].offset,S=u+1<d.tokens1.length?d.tokens1[u+1].offset:v.length;h=v.substring(_,S)}(0,f.reset)(this._domNode,(0,f.$)("h2.tm-token",void 0,s(h),(0,f.$)("span.tm-token-length",void 0,`${h.length} ${h.length===1?"char":"chars"}`))),(0,f.append)(this._domNode,(0,f.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const p=(a<<1)+1<d.tokens2.length?this._decodeMetadata(d.tokens2[(a<<1)+1]):null;(0,f.append)(this._domNode,(0,f.$)("table.tm-metadata-table",void 0,(0,f.$)("tbody",void 0,(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"language"),(0,f.$)("td.tm-metadata-value",void 0,`${p?p.languageId:"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"token type"),(0,f.$)("td.tm-metadata-value",void 0,`${p?this._tokenTypeToString(p.tokenType):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"font style"),(0,f.$)("td.tm-metadata-value",void 0,`${p?this._fontStyleToString(p.fontStyle):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"foreground"),(0,f.$)("td.tm-metadata-value",void 0,`${p?k.Color.Format.CSS.formatHex(p.foreground):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"background"),(0,f.$)("td.tm-metadata-value",void 0,`${p?k.Color.Format.CSS.formatHex(p.background):"-?-"}`))))),(0,f.append)(this._domNode,(0,f.$)("hr.tokens-inspect-separator")),u<d.tokens1.length&&(0,f.append)(this._domNode,(0,f.$)("span.tm-token-type",void 0,d.tokens1[u].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(r){const d=y.TokenizationRegistry.getColorMap(),u=m.TokenMetadata.getLanguageId(r),a=m.TokenMetadata.getTokenType(r),v=m.TokenMetadata.getFontStyle(r),h=m.TokenMetadata.getForeground(r),p=m.TokenMetadata.getBackground(r);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(u),tokenType:a,fontStyle:v,foreground:d[h],background:d[p]}}_tokenTypeToString(r){switch(r){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(r){let d="";return r&1&&(d+="italic "),r&2&&(d+="bold "),r&4&&(d+="underline "),r&8&&(d+="strikethrough "),d.length===0&&(d="---"),d}_getTokensAtLine(r){const d=this._getStateBeforeLine(r),u=this._tokenizationSupport.tokenize(this._model.getLineContent(r),!0,d),a=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(r),!0,d);return{startState:d,tokens1:u.tokens,tokens2:a.tokens,endState:u.endState}}_getStateBeforeLine(r){let d=this._tokenizationSupport.getInitialState();for(let u=1;u<r;u++)d=this._tokenizationSupport.tokenize(this._model.getLineContent(u),!0,d).endState;return d}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}g._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(i.ID,i,4),(0,D.registerEditorAction)(t)}),define(ne[888],se([1,0,338,9,78,123,2,45,438,792,25,28,175,8,32,63,843,99,59]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";var r,d;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let u=r=class extends c.PickerQuickAccessProvider{constructor(h,p,_,S,E,I){super(r.PREFIX,h),this.instantiationService=p,this.keybindingService=_,this.commandService=S,this.telemetryService=E,this.dialogService=I,this.commandsHistory=this._register(this.instantiationService.createInstance(a)),this.options=h}async _getPicks(h,p,_,S){var E,I,T,N;const A=await this.getCommandPicks(_);if(_.isCancellationRequested)return[];const R=(0,D.createSingleCallFunction)(()=>{const K=new w.TfIdfCalculator;K.updateDocuments(A.map(G=>({key:G.commandId,textChunks:[this.getTfIdfChunk(G)]})));const U=K.calculateScores(h,_);return(0,w.normalizeTfIdfScores)(U).filter(G=>G.score>r.TFIDF_THRESHOLD).slice(0,r.TFIDF_MAX_RESULTS)}),M=[];for(const K of A){const U=(E=r.WORD_FILTER(h,K.label))!==null&&E!==void 0?E:void 0,G=K.commandAlias&&(I=r.WORD_FILTER(h,K.commandAlias))!==null&&I!==void 0?I:void 0;if(U||G)K.highlights={label:U,detail:this.options.showAlias?G:void 0},M.push(K);else if(h===K.commandId)M.push(K);else if(h.length>=3){const z=R();if(_.isCancellationRequested)return[];const $=z.find(J=>J.key===K.commandId);$&&(K.tfIdfScore=$.score,M.push(K))}}const P=new Map;for(const K of M){const U=P.get(K.label);U?(K.description=K.commandId,U.description=U.commandId):P.set(K.label,K)}M.sort((K,U)=>{if(K.tfIdfScore&&U.tfIdfScore)return K.tfIdfScore===U.tfIdfScore?K.label.localeCompare(U.label):U.tfIdfScore-K.tfIdfScore;if(K.tfIdfScore)return 1;if(U.tfIdfScore)return-1;const G=this.commandsHistory.peek(K.commandId),z=this.commandsHistory.peek(U.commandId);if(G&&z)return G>z?-1:1;if(G)return-1;if(z)return 1;if(this.options.suggestedCommandIds){const $=this.options.suggestedCommandIds.has(K.commandId),J=this.options.suggestedCommandIds.has(U.commandId);if($&&J)return 0;if($)return-1;if(J)return 1}return K.label.localeCompare(U.label)});const F=[];let O=!1,B=!0,V=!!this.options.suggestedCommandIds;for(let K=0;K<M.length;K++){const U=M[K];K===0&&this.commandsHistory.peek(U.commandId)&&(F.push({type:"separator",label:(0,b.localize)(0,null)}),O=!0),B&&U.tfIdfScore!==void 0&&(F.push({type:"separator",label:(0,b.localize)(1,null)}),B=!1),V&&U.tfIdfScore===void 0&&!this.commandsHistory.peek(U.commandId)&&(!((T=this.options.suggestedCommandIds)===null||T===void 0)&&T.has(U.commandId))&&(F.push({type:"separator",label:(0,b.localize)(2,null)}),O=!0,V=!1),O&&U.tfIdfScore===void 0&&!this.commandsHistory.peek(U.commandId)&&!(!((N=this.options.suggestedCommandIds)===null||N===void 0)&&N.has(U.commandId))&&(F.push({type:"separator",label:(0,b.localize)(3,null)}),O=!1),F.push(this.toCommandPick(U,S))}return this.hasAdditionalCommandPicks(h,_)?{picks:F,additionalPicks:(async()=>{var K;const U=await this.getAdditionalCommandPicks(A,M,h,_);if(_.isCancellationRequested)return[];const G=U.map(z=>this.toCommandPick(z,S));return B&&((K=G[0])===null||K===void 0?void 0:K.type)!=="separator"&&G.unshift({type:"separator",label:(0,b.localize)(4,null)}),G})()}:F}toCommandPick(h,p){if(h.type==="separator")return h;const _=this.keybindingService.lookupKeybinding(h.commandId),S=_?(0,b.localize)(5,null,h.label,_.getAriaLabel()):h.label;return{...h,ariaLabel:S,detail:this.options.showAlias&&h.commandAlias!==h.label?h.commandAlias:void 0,keybinding:_,accept:async()=>{var E,I;this.commandsHistory.push(h.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:h.commandId,from:(E=p?.from)!==null&&E!==void 0?E:"quick open"});try{!((I=h.args)===null||I===void 0)&&I.length?await this.commandService.executeCommand(h.commandId,...h.args):await this.commandService.executeCommand(h.commandId)}catch(T){(0,k.isCancellationError)(T)||this.dialogService.error((0,b.localize)(6,null,h.label),(0,f.toErrorMessage)(T))}}}}getTfIdfChunk({label:h,commandAlias:p,commandDescription:_}){let S=h;return p&&p!==h&&(S+=` - ${p}`),_&&_.value!==h&&(S+=` - ${_.value===_.original?_.value:`${_.value} (${_.original})`}`),S}};e.AbstractCommandsQuickAccessProvider=u,u.PREFIX=">",u.TFIDF_THRESHOLD=.5,u.TFIDF_MAX_RESULTS=5,u.WORD_FILTER=(0,L.or)(L.matchesPrefix,L.matchesWords,L.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=u=r=ke([ge(1,i.IInstantiationService),ge(2,t.IKeybindingService),ge(3,C.ICommandService),ge(4,l.ITelemetryService),ge(5,n.IDialogService)],u);let a=d=class extends y.Disposable{constructor(h,p,_){super(),this.storageService=h,this.configurationService=p,this.logService=_,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(h=>this.updateConfiguration(h))),this._register(this.storageService.onWillSaveState(h=>{h.reason===g.WillSaveStateReason.SHUTDOWN&&this.saveState()}))}updateConfiguration(h){h&&!h.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=d.getConfiguredCommandHistoryLength(this.configurationService),d.cache&&d.cache.limit!==this.configuredCommandsHistoryLength&&(d.cache.limit=this.configuredCommandsHistoryLength,d.hasChanges=!0))}load(){const h=this.storageService.get(d.PREF_KEY_CACHE,0);let p;if(h)try{p=JSON.parse(h)}catch(S){this.logService.error(`[CommandsHistory] invalid data: ${S}`)}const _=d.cache=new m.LRUCache(this.configuredCommandsHistoryLength,1);if(p){let S;p.usesLRU?S=p.entries:S=p.entries.sort((E,I)=>E.value-I.value),S.forEach(E=>_.set(E.key,E.value))}d.counter=this.storageService.getNumber(d.PREF_KEY_COUNTER,0,d.counter)}push(h){d.cache&&(d.cache.set(h,d.counter++),d.hasChanges=!0)}peek(h){var p;return(p=d.cache)===null||p===void 0?void 0:p.peek(h)}saveState(){if(!d.cache||!d.hasChanges)return;const h={usesLRU:!0,entries:[]};d.cache.forEach((p,_)=>h.entries.push({key:_,value:p})),this.storageService.store(d.PREF_KEY_CACHE,JSON.stringify(h),0,0),this.storageService.store(d.PREF_KEY_COUNTER,d.counter,0,0),d.hasChanges=!1}static getConfiguredCommandHistoryLength(h){var p,_;const E=(_=(p=h.getValue().workbench)===null||p===void 0?void 0:p.commandPalette)===null||_===void 0?void 0:_.history;return typeof E=="number"?E:d.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=a,a.DEFAULT_COMMANDS_HISTORY_LENGTH=50,a.PREF_KEY_CACHE="commandPalette.mru.cache",a.PREF_KEY_COUNTER="commandPalette.mru.counter",a.counter=1,a.hasChanges=!1,e.CommandsHistory=a=d=ke([ge(0,g.IStorageService),ge(1,o.IConfigurationService),ge(2,s.ILogService)],a)}),define(ne[889],se([1,0,138,368,888]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class D extends L.AbstractCommandsQuickAccessProvider{constructor(m,w,b,C,o,n){super(m,w,b,C,o,n)}getCodeEditorCommandPicks(){var m;const w=this.activeTextEditorControl;if(!w)return[];const b=[];for(const C of w.getSupportedActions()){let o;!((m=C.metadata)===null||m===void 0)&&m.description&&((0,k.isLocalizedString)(C.metadata.description)?o=C.metadata.description:o={original:C.metadata.description,value:C.metadata.description}),b.push({commandId:C.id,commandAlias:C.alias,commandDescription:o,label:(0,f.stripIcons)(C.label)||C.id})}return b}}e.AbstractEditorCommandsQuickAccessProvider=D}),define(ne[890],se([1,0,39,151,103,36,889,8,32,25,59,175,16,21,65]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let s=class extends y.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var l;return(l=this.codeEditorService.getFocusedCodeEditor())!==null&&l!==void 0?l:void 0}constructor(l,r,d,u,a,v){super({showAlias:!1},l,d,u,a,v),this.codeEditorService=r}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};e.StandaloneCommandsQuickAccessProvider=s,e.StandaloneCommandsQuickAccessProvider=s=ke([ge(0,m.IInstantiationService),ge(1,D.ICodeEditorService),ge(2,w.IKeybindingService),ge(3,b.ICommandService),ge(4,C.ITelemetryService),ge(5,o.IDialogService)],s);class c extends n.EditorAction{constructor(){super({id:c.ID,label:L.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(l){l.get(t.IQuickInputService).quickAccess.show(s.PREFIX)}}e.GotoLineAction=c,c.ID="editor.action.quickCommand",(0,n.registerEditorAction)(c),f.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:s.PREFIX,helpEntries:[{description:L.QuickCommandNLS.quickCommandHelp,commandId:c.ID}]})}),define(ne[94],se([1,0,87,15,34,7,267,39]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.Extensions=void 0,e.asCssVariableName=w,e.asCssVariable=b,e.asCssVariableWithDefault=C,e.registerColor=i,e.executeTransform=t,e.darken=s,e.lighten=c,e.transparent=g,e.oneOf=l,e.ifDefinedThenElse=r,e.lessProminent=d,e.resolveColorValue=u;function w(h){return`--vscode-${h.replace(/\./g,"-")}`}function b(h){return`var(${w(h)})`}function C(h,p){return`var(${w(h)}, ${p})`}e.Extensions={ColorContribution:"base.contributions.colors"};class o{constructor(){this._onDidChangeSchema=new D.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(p,_,S,E=!1,I){const T={id:p,description:S,defaults:_,needsTransparency:E,deprecationMessage:I};this.colorsById[p]=T;const N={type:"string",description:S,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return I&&(N.deprecationMessage=I),E&&(N.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",N.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[p]=N,this.colorReferenceSchema.enum.push(p),this.colorReferenceSchema.enumDescriptions.push(S),this._onDidChangeSchema.fire(),p}getColors(){return Object.keys(this.colorsById).map(p=>this.colorsById[p])}resolveDefaultColor(p,_){const S=this.colorsById[p];if(S&&S.defaults){const E=S.defaults[_.type];return u(E,_)}}getColorSchema(){return this.colorSchema}toString(){const p=(_,S)=>{const E=_.indexOf(".")===-1?0:1,I=S.indexOf(".")===-1?0:1;return E!==I?E-I:_.localeCompare(S)};return Object.keys(this.colorsById).sort(p).map(_=>`- \`${_}\`: ${this.colorsById[_].description}`).join(`
`)}}const n=new o;m.Registry.add(e.Extensions.ColorContribution,n);function i(h,p,_,S,E){return n.registerColor(h,p,_,S,E)}function t(h,p){var _,S,E,I;switch(h.op){case 0:return(_=u(h.value,p))===null||_===void 0?void 0:_.darken(h.factor);case 1:return(S=u(h.value,p))===null||S===void 0?void 0:S.lighten(h.factor);case 2:return(E=u(h.value,p))===null||E===void 0?void 0:E.transparent(h.factor);case 3:{const T=u(h.background,p);return T?(I=u(h.value,p))===null||I===void 0?void 0:I.makeOpaque(T):u(h.value,p)}case 4:for(const T of h.values){const N=u(T,p);if(N)return N}return;case 6:return u(p.defines(h.if)?h.then:h.else,p);case 5:{const T=u(h.value,p);if(!T)return;const N=u(h.background,p);return N?T.isDarkerThan(N)?L.Color.getLighterColor(T,N,h.factor).transparent(h.transparency):L.Color.getDarkerColor(T,N,h.factor).transparent(h.transparency):T.transparent(h.factor*h.transparency)}default:throw(0,f.assertNever)(h)}}function s(h,p){return{op:0,value:h,factor:p}}function c(h,p){return{op:1,value:h,factor:p}}function g(h,p){return{op:2,value:h,factor:p}}function l(...h){return{op:4,values:h}}function r(h,p,_){return{op:6,if:h,then:p,else:_}}function d(h,p,_,S){return{op:5,value:h,background:p,factor:_,transparency:S}}function u(h,p){if(h!==null){if(typeof h=="string")return h[0]==="#"?L.Color.fromHex(h):p.getColor(h);if(h instanceof L.Color)return h;if(typeof h=="object")return t(h,p)}}e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const a=m.Registry.as(y.Extensions.JSONContribution);a.registerSchema(e.workbenchColorsSchemaId,n.getColorSchema());const v=new k.RunOnceScheduler(()=>a.notifySchemaChanged(e.workbenchColorsSchemaId),200);n.onDidChangeSchema(()=>{v.isScheduled()||v.schedule()})}),define(ne[120],se([1,0,799,34,94]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatBackground=e.textPreformatForeground=e.textSeparatorForeground=e.textLinkActiveForeground=e.textLinkForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=void 0,e.foreground=(0,L.registerColor)("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},f.localize(0,null)),e.disabledForeground=(0,L.registerColor)("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},f.localize(1,null)),e.errorForeground=(0,L.registerColor)("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},f.localize(2,null)),e.descriptionForeground=(0,L.registerColor)("descriptionForeground",{light:"#717171",dark:(0,L.transparent)(e.foreground,.7),hcDark:(0,L.transparent)(e.foreground,.7),hcLight:(0,L.transparent)(e.foreground,.7)},f.localize(3,null)),e.iconForeground=(0,L.registerColor)("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},f.localize(4,null)),e.focusBorder=(0,L.registerColor)("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},f.localize(5,null)),e.contrastBorder=(0,L.registerColor)("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},f.localize(6,null)),e.activeContrastBorder=(0,L.registerColor)("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},f.localize(7,null)),e.selectionBackground=(0,L.registerColor)("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},f.localize(8,null)),e.textLinkForeground=(0,L.registerColor)("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.localize(9,null)),e.textLinkActiveForeground=(0,L.registerColor)("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.localize(10,null)),e.textSeparatorForeground=(0,L.registerColor)("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},f.localize(11,null)),e.textPreformatForeground=(0,L.registerColor)("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},f.localize(12,null)),e.textPreformatBackground=(0,L.registerColor)("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},f.localize(13,null)),e.textBlockQuoteBackground=(0,L.registerColor)("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},f.localize(14,null)),e.textBlockQuoteBorder=(0,L.registerColor)("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},f.localize(15,null)),e.textCodeBlockBackground=(0,L.registerColor)("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},f.localize(16,null))}),define(ne[273],se([1,0,806,34,94,120]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.sashHoverBorder=void 0,e.sashHoverBorder=(0,L.registerColor)("sash.hoverBorder",{dark:D.focusBorder,light:D.focusBorder,hcDark:D.focusBorder,hcLight:D.focusBorder},f.localize(0,null)),e.badgeBackground=(0,L.registerColor)("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},f.localize(1,null)),e.badgeForeground=(0,L.registerColor)("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},f.localize(2,null)),e.scrollbarShadow=(0,L.registerColor)("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},f.localize(3,null)),e.scrollbarSliderBackground=(0,L.registerColor)("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:(0,L.transparent)(D.contrastBorder,.6),hcLight:(0,L.transparent)(D.contrastBorder,.4)},f.localize(4,null)),e.scrollbarSliderHoverBackground=(0,L.registerColor)("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:(0,L.transparent)(D.contrastBorder,.8),hcLight:(0,L.transparent)(D.contrastBorder,.8)},f.localize(5,null)),e.scrollbarSliderActiveBackground=(0,L.registerColor)("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(6,null)),e.progressBarBackground=(0,L.registerColor)("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(7,null))}),define(ne[135],se([1,0,801,34,94,120,273]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.widgetBorder=e.widgetShadow=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.editorLightBulbAiForeground=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlightForeground=e.editorFindMatchHighlight=e.editorFindMatchForeground=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.editorActiveLinkForeground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollShadow=e.editorStickyScrollBorder=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=void 0,e.editorBackground=(0,L.registerColor)("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(0,null)),e.editorForeground=(0,L.registerColor)("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:D.foreground},f.localize(1,null)),e.editorStickyScrollBackground=(0,L.registerColor)("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},f.localize(2,null)),e.editorStickyScrollHoverBackground=(0,L.registerColor)("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(3,null)),e.editorStickyScrollBorder=(0,L.registerColor)("editorStickyScroll.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(4,null)),e.editorStickyScrollShadow=(0,L.registerColor)("editorStickyScroll.shadow",{dark:y.scrollbarShadow,light:y.scrollbarShadow,hcDark:y.scrollbarShadow,hcLight:y.scrollbarShadow},f.localize(5,null)),e.editorWidgetBackground=(0,L.registerColor)("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},f.localize(6,null)),e.editorWidgetForeground=(0,L.registerColor)("editorWidget.foreground",{dark:D.foreground,light:D.foreground,hcDark:D.foreground,hcLight:D.foreground},f.localize(7,null)),e.editorWidgetBorder=(0,L.registerColor)("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(8,null)),e.editorWidgetResizeBorder=(0,L.registerColor)("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},f.localize(9,null)),e.editorErrorBackground=(0,L.registerColor)("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(10,null),!0),e.editorErrorForeground=(0,L.registerColor)("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},f.localize(11,null)),e.editorErrorBorder=(0,L.registerColor)("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},f.localize(12,null)),e.editorWarningBackground=(0,L.registerColor)("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(13,null),!0),e.editorWarningForeground=(0,L.registerColor)("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},f.localize(14,null)),e.editorWarningBorder=(0,L.registerColor)("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},f.localize(15,null)),e.editorInfoBackground=(0,L.registerColor)("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(16,null),!0),e.editorInfoForeground=(0,L.registerColor)("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},f.localize(17,null)),e.editorInfoBorder=(0,L.registerColor)("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},f.localize(18,null)),e.editorHintForeground=(0,L.registerColor)("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},f.localize(19,null)),e.editorHintBorder=(0,L.registerColor)("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},f.localize(20,null)),e.editorActiveLinkForeground=(0,L.registerColor)("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},f.localize(21,null)),e.editorSelectionBackground=(0,L.registerColor)("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},f.localize(22,null)),e.editorSelectionForeground=(0,L.registerColor)("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},f.localize(23,null)),e.editorInactiveSelection=(0,L.registerColor)("editor.inactiveSelectionBackground",{light:(0,L.transparent)(e.editorSelectionBackground,.5),dark:(0,L.transparent)(e.editorSelectionBackground,.5),hcDark:(0,L.transparent)(e.editorSelectionBackground,.7),hcLight:(0,L.transparent)(e.editorSelectionBackground,.5)},f.localize(24,null),!0),e.editorSelectionHighlight=(0,L.registerColor)("editor.selectionHighlightBackground",{light:(0,L.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:(0,L.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},f.localize(25,null),!0),e.editorSelectionHighlightBorder=(0,L.registerColor)("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(26,null)),e.editorFindMatch=(0,L.registerColor)("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},f.localize(27,null)),e.editorFindMatchForeground=(0,L.registerColor)("editor.findMatchForeground",{light:null,dark:null,hcDark:null,hcLight:null},f.localize(28,null)),e.editorFindMatchHighlight=(0,L.registerColor)("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},f.localize(29,null),!0),e.editorFindMatchHighlightForeground=(0,L.registerColor)("editor.findMatchHighlightForeground",{light:null,dark:null,hcDark:null,hcLight:null},f.localize(30,null),!0),e.editorFindRangeHighlight=(0,L.registerColor)("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},f.localize(31,null),!0),e.editorFindMatchBorder=(0,L.registerColor)("editor.findMatchBorder",{light:null,dark:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(32,null)),e.editorFindMatchHighlightBorder=(0,L.registerColor)("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(33,null)),e.editorFindRangeHighlightBorder=(0,L.registerColor)("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:(0,L.transparent)(D.activeContrastBorder,.4),hcLight:(0,L.transparent)(D.activeContrastBorder,.4)},f.localize(34,null),!0),e.editorHoverHighlight=(0,L.registerColor)("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},f.localize(35,null),!0),e.editorHoverBackground=(0,L.registerColor)("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(36,null)),e.editorHoverForeground=(0,L.registerColor)("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},f.localize(37,null)),e.editorHoverBorder=(0,L.registerColor)("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},f.localize(38,null)),e.editorHoverStatusBarBackground=(0,L.registerColor)("editorHoverWidget.statusBarBackground",{dark:(0,L.lighten)(e.editorHoverBackground,.2),light:(0,L.darken)(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(39,null)),e.editorInlayHintForeground=(0,L.registerColor)("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.Color.white,hcLight:k.Color.black},f.localize(40,null)),e.editorInlayHintBackground=(0,L.registerColor)("editorInlayHint.background",{dark:(0,L.transparent)(y.badgeBackground,.1),light:(0,L.transparent)(y.badgeBackground,.1),hcDark:(0,L.transparent)(k.Color.white,.1),hcLight:(0,L.transparent)(y.badgeBackground,.1)},f.localize(41,null)),e.editorInlayHintTypeForeground=(0,L.registerColor)("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},f.localize(42,null)),e.editorInlayHintTypeBackground=(0,L.registerColor)("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},f.localize(43,null)),e.editorInlayHintParameterForeground=(0,L.registerColor)("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},f.localize(44,null)),e.editorInlayHintParameterBackground=(0,L.registerColor)("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},f.localize(45,null)),e.editorLightBulbForeground=(0,L.registerColor)("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},f.localize(46,null)),e.editorLightBulbAutoFixForeground=(0,L.registerColor)("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f.localize(47,null)),e.editorLightBulbAiForeground=(0,L.registerColor)("editorLightBulbAi.foreground",{dark:e.editorLightBulbForeground,light:e.editorLightBulbForeground,hcDark:e.editorLightBulbForeground,hcLight:e.editorLightBulbForeground},f.localize(48,null)),e.snippetTabstopHighlightBackground=(0,L.registerColor)("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},f.localize(49,null)),e.snippetTabstopHighlightBorder=(0,L.registerColor)("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(50,null)),e.snippetFinalTabstopHighlightBackground=(0,L.registerColor)("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(51,null)),e.snippetFinalTabstopHighlightBorder=(0,L.registerColor)("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},f.localize(52,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=(0,L.registerColor)("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},f.localize(53,null),!0),e.diffRemoved=(0,L.registerColor)("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},f.localize(54,null),!0),e.diffInsertedLine=(0,L.registerColor)("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},f.localize(55,null),!0),e.diffRemovedLine=(0,L.registerColor)("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},f.localize(56,null),!0),e.diffInsertedLineGutter=(0,L.registerColor)("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(57,null)),e.diffRemovedLineGutter=(0,L.registerColor)("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(58,null)),e.diffOverviewRulerInserted=(0,L.registerColor)("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(59,null)),e.diffOverviewRulerRemoved=(0,L.registerColor)("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(60,null)),e.diffInsertedOutline=(0,L.registerColor)("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},f.localize(61,null)),e.diffRemovedOutline=(0,L.registerColor)("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},f.localize(62,null)),e.diffBorder=(0,L.registerColor)("diffEditor.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(63,null)),e.diffDiagonalFill=(0,L.registerColor)("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},f.localize(64,null)),e.diffUnchangedRegionBackground=(0,L.registerColor)("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},f.localize(65,null)),e.diffUnchangedRegionForeground=(0,L.registerColor)("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},f.localize(66,null)),e.diffUnchangedTextBackground=(0,L.registerColor)("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},f.localize(67,null)),e.widgetShadow=(0,L.registerColor)("widget.shadow",{dark:(0,L.transparent)(k.Color.black,.36),light:(0,L.transparent)(k.Color.black,.16),hcDark:null,hcLight:null},f.localize(68,null)),e.widgetBorder=(0,L.registerColor)("widget.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(69,null)),e.toolbarHoverBackground=(0,L.registerColor)("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},f.localize(70,null)),e.toolbarHoverOutline=(0,L.registerColor)("toolbar.hoverOutline",{dark:null,light:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(71,null)),e.toolbarActiveBackground=(0,L.registerColor)("toolbar.activeBackground",{dark:(0,L.lighten)(e.toolbarHoverBackground,.1),light:(0,L.darken)(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},f.localize(72,null)),e.breadcrumbsForeground=(0,L.registerColor)("breadcrumb.foreground",{light:(0,L.transparent)(D.foreground,.8),dark:(0,L.transparent)(D.foreground,.8),hcDark:(0,L.transparent)(D.foreground,.8),hcLight:(0,L.transparent)(D.foreground,.8)},f.localize(73,null)),e.breadcrumbsBackground=(0,L.registerColor)("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},f.localize(74,null)),e.breadcrumbsFocusForeground=(0,L.registerColor)("breadcrumb.focusForeground",{light:(0,L.darken)(D.foreground,.2),dark:(0,L.lighten)(D.foreground,.1),hcDark:(0,L.lighten)(D.foreground,.1),hcLight:(0,L.lighten)(D.foreground,.1)},f.localize(75,null)),e.breadcrumbsActiveSelectionForeground=(0,L.registerColor)("breadcrumb.activeSelectionForeground",{light:(0,L.darken)(D.foreground,.2),dark:(0,L.lighten)(D.foreground,.1),hcDark:(0,L.lighten)(D.foreground,.1),hcLight:(0,L.lighten)(D.foreground,.1)},f.localize(76,null)),e.breadcrumbsPickerBackground=(0,L.registerColor)("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(77,null));const m=.5,w=k.Color.fromHex("#40C8AE").transparent(m),b=k.Color.fromHex("#40A6FF").transparent(m),C=k.Color.fromHex("#606060").transparent(.4),o=.4,n=1;e.mergeCurrentHeaderBackground=(0,L.registerColor)("merge.currentHeaderBackground",{dark:w,light:w,hcDark:null,hcLight:null},f.localize(78,null),!0),e.mergeCurrentContentBackground=(0,L.registerColor)("merge.currentContentBackground",{dark:(0,L.transparent)(e.mergeCurrentHeaderBackground,o),light:(0,L.transparent)(e.mergeCurrentHeaderBackground,o),hcDark:(0,L.transparent)(e.mergeCurrentHeaderBackground,o),hcLight:(0,L.transparent)(e.mergeCurrentHeaderBackground,o)},f.localize(79,null),!0),e.mergeIncomingHeaderBackground=(0,L.registerColor)("merge.incomingHeaderBackground",{dark:b,light:b,hcDark:null,hcLight:null},f.localize(80,null),!0),e.mergeIncomingContentBackground=(0,L.registerColor)("merge.incomingContentBackground",{dark:(0,L.transparent)(e.mergeIncomingHeaderBackground,o),light:(0,L.transparent)(e.mergeIncomingHeaderBackground,o),hcDark:(0,L.transparent)(e.mergeIncomingHeaderBackground,o),hcLight:(0,L.transparent)(e.mergeIncomingHeaderBackground,o)},f.localize(81,null),!0),e.mergeCommonHeaderBackground=(0,L.registerColor)("merge.commonHeaderBackground",{dark:C,light:C,hcDark:null,hcLight:null},f.localize(82,null),!0),e.mergeCommonContentBackground=(0,L.registerColor)("merge.commonContentBackground",{dark:(0,L.transparent)(e.mergeCommonHeaderBackground,o),light:(0,L.transparent)(e.mergeCommonHeaderBackground,o),hcDark:(0,L.transparent)(e.mergeCommonHeaderBackground,o),hcLight:(0,L.transparent)(e.mergeCommonHeaderBackground,o)},f.localize(83,null),!0),e.mergeBorder=(0,L.registerColor)("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},f.localize(84,null)),e.overviewRulerCurrentContentForeground=(0,L.registerColor)("editorOverviewRuler.currentContentForeground",{dark:(0,L.transparent)(e.mergeCurrentHeaderBackground,n),light:(0,L.transparent)(e.mergeCurrentHeaderBackground,n),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(85,null)),e.overviewRulerIncomingContentForeground=(0,L.registerColor)("editorOverviewRuler.incomingContentForeground",{dark:(0,L.transparent)(e.mergeIncomingHeaderBackground,n),light:(0,L.transparent)(e.mergeIncomingHeaderBackground,n),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(86,null)),e.overviewRulerCommonContentForeground=(0,L.registerColor)("editorOverviewRuler.commonContentForeground",{dark:(0,L.transparent)(e.mergeCommonHeaderBackground,n),light:(0,L.transparent)(e.mergeCommonHeaderBackground,n),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(87,null)),e.overviewRulerFindMatchForeground=(0,L.registerColor)("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},f.localize(88,null),!0),e.overviewRulerSelectionHighlightForeground=(0,L.registerColor)("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},f.localize(89,null),!0),e.problemsErrorIconForeground=(0,L.registerColor)("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},f.localize(90,null)),e.problemsWarningIconForeground=(0,L.registerColor)("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},f.localize(91,null)),e.problemsInfoIconForeground=(0,L.registerColor)("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},f.localize(92,null))}),define(ne[398],se([1,0,802,34,94,120,135]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=void 0,e.inputBackground=(0,L.registerColor)("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(0,null)),e.inputForeground=(0,L.registerColor)("input.foreground",{dark:D.foreground,light:D.foreground,hcDark:D.foreground,hcLight:D.foreground},f.localize(1,null)),e.inputBorder=(0,L.registerColor)("input.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(2,null)),e.inputActiveOptionBorder=(0,L.registerColor)("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(3,null)),e.inputActiveOptionHoverBackground=(0,L.registerColor)("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},f.localize(4,null)),e.inputActiveOptionBackground=(0,L.registerColor)("inputOption.activeBackground",{dark:(0,L.transparent)(D.focusBorder,.4),light:(0,L.transparent)(D.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},f.localize(5,null)),e.inputActiveOptionForeground=(0,L.registerColor)("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:D.foreground,hcLight:D.foreground},f.localize(6,null)),e.inputPlaceholderForeground=(0,L.registerColor)("input.placeholderForeground",{light:(0,L.transparent)(D.foreground,.5),dark:(0,L.transparent)(D.foreground,.5),hcDark:(0,L.transparent)(D.foreground,.7),hcLight:(0,L.transparent)(D.foreground,.7)},f.localize(7,null)),e.inputValidationInfoBackground=(0,L.registerColor)("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(8,null)),e.inputValidationInfoForeground=(0,L.registerColor)("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:D.foreground},f.localize(9,null)),e.inputValidationInfoBorder=(0,L.registerColor)("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(10,null)),e.inputValidationWarningBackground=(0,L.registerColor)("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(11,null)),e.inputValidationWarningForeground=(0,L.registerColor)("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:D.foreground},f.localize(12,null)),e.inputValidationWarningBorder=(0,L.registerColor)("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(13,null)),e.inputValidationErrorBackground=(0,L.registerColor)("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(14,null)),e.inputValidationErrorForeground=(0,L.registerColor)("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:D.foreground},f.localize(15,null)),e.inputValidationErrorBorder=(0,L.registerColor)("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(16,null)),e.selectBackground=(0,L.registerColor)("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(17,null)),e.selectListBackground=(0,L.registerColor)("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(18,null)),e.selectForeground=(0,L.registerColor)("dropdown.foreground",{dark:"#F0F0F0",light:D.foreground,hcDark:k.Color.white,hcLight:D.foreground},f.localize(19,null)),e.selectBorder=(0,L.registerColor)("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(20,null)),e.buttonForeground=(0,L.registerColor)("button.foreground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:k.Color.white},f.localize(21,null)),e.buttonSeparator=(0,L.registerColor)("button.separator",{dark:(0,L.transparent)(e.buttonForeground,.4),light:(0,L.transparent)(e.buttonForeground,.4),hcDark:(0,L.transparent)(e.buttonForeground,.4),hcLight:(0,L.transparent)(e.buttonForeground,.4)},f.localize(22,null)),e.buttonBackground=(0,L.registerColor)("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},f.localize(23,null)),e.buttonHoverBackground=(0,L.registerColor)("button.hoverBackground",{dark:(0,L.lighten)(e.buttonBackground,.2),light:(0,L.darken)(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},f.localize(24,null)),e.buttonBorder=(0,L.registerColor)("button.border",{dark:D.contrastBorder,light:D.contrastBorder,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(25,null)),e.buttonSecondaryForeground=(0,L.registerColor)("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:D.foreground},f.localize(26,null)),e.buttonSecondaryBackground=(0,L.registerColor)("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},f.localize(27,null)),e.buttonSecondaryHoverBackground=(0,L.registerColor)("button.secondaryHoverBackground",{dark:(0,L.lighten)(e.buttonSecondaryBackground,.2),light:(0,L.darken)(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},f.localize(28,null)),e.checkboxBackground=(0,L.registerColor)("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},f.localize(29,null)),e.checkboxSelectBackground=(0,L.registerColor)("checkbox.selectBackground",{dark:y.editorWidgetBackground,light:y.editorWidgetBackground,hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},f.localize(30,null)),e.checkboxForeground=(0,L.registerColor)("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},f.localize(31,null)),e.checkboxBorder=(0,L.registerColor)("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},f.localize(32,null)),e.checkboxSelectBorder=(0,L.registerColor)("checkbox.selectBorder",{dark:D.iconForeground,light:D.iconForeground,hcDark:D.iconForeground,hcLight:D.iconForeground},f.localize(33,null)),e.keybindingLabelBackground=(0,L.registerColor)("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},f.localize(34,null)),e.keybindingLabelForeground=(0,L.registerColor)("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:D.foreground},f.localize(35,null)),e.keybindingLabelBorder=(0,L.registerColor)("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:D.contrastBorder},f.localize(36,null)),e.keybindingLabelBottomBorder=(0,L.registerColor)("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:D.foreground},f.localize(37,null))}),define(ne[274],se([1,0,803,34,94,120,135]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listDeemphasizedForeground=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBetweenBackground=e.listDropOverBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=void 0,e.listFocusBackground=(0,L.registerColor)("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(0,null)),e.listFocusForeground=(0,L.registerColor)("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(1,null)),e.listFocusOutline=(0,L.registerColor)("list.focusOutline",{dark:D.focusBorder,light:D.focusBorder,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(2,null)),e.listFocusAndSelectionOutline=(0,L.registerColor)("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(3,null)),e.listActiveSelectionBackground=(0,L.registerColor)("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(4,null)),e.listActiveSelectionForeground=(0,L.registerColor)("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},f.localize(5,null)),e.listActiveSelectionIconForeground=(0,L.registerColor)("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(6,null)),e.listInactiveSelectionBackground=(0,L.registerColor)("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(7,null)),e.listInactiveSelectionForeground=(0,L.registerColor)("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(8,null)),e.listInactiveSelectionIconForeground=(0,L.registerColor)("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(9,null)),e.listInactiveFocusBackground=(0,L.registerColor)("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(10,null)),e.listInactiveFocusOutline=(0,L.registerColor)("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(11,null)),e.listHoverBackground=(0,L.registerColor)("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(12,null)),e.listHoverForeground=(0,L.registerColor)("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(13,null)),e.listDropOverBackground=(0,L.registerColor)("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},f.localize(14,null)),e.listDropBetweenBackground=(0,L.registerColor)("list.dropBetweenBackground",{dark:D.iconForeground,light:D.iconForeground,hcDark:null,hcLight:null},f.localize(15,null)),e.listHighlightForeground=(0,L.registerColor)("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:D.focusBorder,hcLight:D.focusBorder},f.localize(16,null)),e.listFocusHighlightForeground=(0,L.registerColor)("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:(0,L.ifDefinedThenElse)(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},f.localize(17,null)),e.listInvalidItemForeground=(0,L.registerColor)("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},f.localize(18,null)),e.listErrorForeground=(0,L.registerColor)("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},f.localize(19,null)),e.listWarningForeground=(0,L.registerColor)("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},f.localize(20,null)),e.listFilterWidgetBackground=(0,L.registerColor)("listFilterWidget.background",{light:(0,L.darken)(y.editorWidgetBackground,0),dark:(0,L.lighten)(y.editorWidgetBackground,0),hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},f.localize(21,null)),e.listFilterWidgetOutline=(0,L.registerColor)("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},f.localize(22,null)),e.listFilterWidgetNoMatchesOutline=(0,L.registerColor)("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(23,null)),e.listFilterWidgetShadow=(0,L.registerColor)("listFilterWidget.shadow",{dark:y.widgetShadow,light:y.widgetShadow,hcDark:y.widgetShadow,hcLight:y.widgetShadow},f.localize(24,null)),e.listFilterMatchHighlight=(0,L.registerColor)("list.filterMatchBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},f.localize(25,null)),e.listFilterMatchHighlightBorder=(0,L.registerColor)("list.filterMatchBorder",{dark:y.editorFindMatchHighlightBorder,light:y.editorFindMatchHighlightBorder,hcDark:D.contrastBorder,hcLight:D.activeContrastBorder},f.localize(26,null)),e.listDeemphasizedForeground=(0,L.registerColor)("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},f.localize(27,null)),e.treeIndentGuidesStroke=(0,L.registerColor)("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},f.localize(28,null)),e.treeInactiveIndentGuidesStroke=(0,L.registerColor)("tree.inactiveIndentGuidesStroke",{dark:(0,L.transparent)(e.treeIndentGuidesStroke,.4),light:(0,L.transparent)(e.treeIndentGuidesStroke,.4),hcDark:(0,L.transparent)(e.treeIndentGuidesStroke,.4),hcLight:(0,L.transparent)(e.treeIndentGuidesStroke,.4)},f.localize(29,null)),e.tableColumnsBorder=(0,L.registerColor)("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},f.localize(30,null)),e.tableOddRowsBackgroundColor=(0,L.registerColor)("tree.tableOddRowsBackground",{dark:(0,L.transparent)(D.foreground,.04),light:(0,L.transparent)(D.foreground,.04),hcDark:null,hcLight:null},f.localize(31,null))}),define(ne[891],se([1,0,804,94,120,398,274]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=void 0,e.menuBorder=(0,k.registerColor)("menu.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(0,null)),e.menuForeground=(0,k.registerColor)("menu.foreground",{dark:D.selectForeground,light:D.selectForeground,hcDark:D.selectForeground,hcLight:D.selectForeground},f.localize(1,null)),e.menuBackground=(0,k.registerColor)("menu.background",{dark:D.selectBackground,light:D.selectBackground,hcDark:D.selectBackground,hcLight:D.selectBackground},f.localize(2,null)),e.menuSelectionForeground=(0,k.registerColor)("menu.selectionForeground",{dark:y.listActiveSelectionForeground,light:y.listActiveSelectionForeground,hcDark:y.listActiveSelectionForeground,hcLight:y.listActiveSelectionForeground},f.localize(3,null)),e.menuSelectionBackground=(0,k.registerColor)("menu.selectionBackground",{dark:y.listActiveSelectionBackground,light:y.listActiveSelectionBackground,hcDark:y.listActiveSelectionBackground,hcLight:y.listActiveSelectionBackground},f.localize(4,null)),e.menuSelectionBorder=(0,k.registerColor)("menu.selectionBorder",{dark:null,light:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(5,null)),e.menuSeparatorBackground=(0,k.registerColor)("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(6,null))}),define(ne[399],se([1,0,805,34,94,135,273]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapError=e.minimapWarning=e.minimapInfo=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=void 0,e.minimapFindMatch=(0,L.registerColor)("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},f.localize(0,null),!0),e.minimapSelectionOccurrenceHighlight=(0,L.registerColor)("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},f.localize(1,null),!0),e.minimapSelection=(0,L.registerColor)("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},f.localize(2,null),!0),e.minimapInfo=(0,L.registerColor)("minimap.infoHighlight",{dark:D.editorInfoForeground,light:D.editorInfoForeground,hcDark:D.editorInfoBorder,hcLight:D.editorInfoBorder},f.localize(3,null)),e.minimapWarning=(0,L.registerColor)("minimap.warningHighlight",{dark:D.editorWarningForeground,light:D.editorWarningForeground,hcDark:D.editorWarningBorder,hcLight:D.editorWarningBorder},f.localize(4,null)),e.minimapError=(0,L.registerColor)("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},f.localize(5,null)),e.minimapBackground=(0,L.registerColor)("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(6,null)),e.minimapForegroundOpacity=(0,L.registerColor)("minimap.foregroundOpacity",{dark:k.Color.fromHex("#000f"),light:k.Color.fromHex("#000f"),hcDark:k.Color.fromHex("#000f"),hcLight:k.Color.fromHex("#000f")},f.localize(7,null)),e.minimapSliderBackground=(0,L.registerColor)("minimapSlider.background",{light:(0,L.transparent)(y.scrollbarSliderBackground,.5),dark:(0,L.transparent)(y.scrollbarSliderBackground,.5),hcDark:(0,L.transparent)(y.scrollbarSliderBackground,.5),hcLight:(0,L.transparent)(y.scrollbarSliderBackground,.5)},f.localize(8,null)),e.minimapSliderHoverBackground=(0,L.registerColor)("minimapSlider.hoverBackground",{light:(0,L.transparent)(y.scrollbarSliderHoverBackground,.5),dark:(0,L.transparent)(y.scrollbarSliderHoverBackground,.5),hcDark:(0,L.transparent)(y.scrollbarSliderHoverBackground,.5),hcLight:(0,L.transparent)(y.scrollbarSliderHoverBackground,.5)},f.localize(9,null)),e.minimapSliderActiveBackground=(0,L.registerColor)("minimapSlider.activeBackground",{light:(0,L.transparent)(y.scrollbarSliderActiveBackground,.5),dark:(0,L.transparent)(y.scrollbarSliderActiveBackground,.5),hcDark:(0,L.transparent)(y.scrollbarSliderActiveBackground,.5),hcLight:(0,L.transparent)(y.scrollbarSliderActiveBackground,.5)},f.localize(10,null))}),define(ne[892],se([1,0,800,94,120,135,399]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=void 0,e.chartsForeground=(0,k.registerColor)("charts.foreground",{dark:L.foreground,light:L.foreground,hcDark:L.foreground,hcLight:L.foreground},f.localize(0,null)),e.chartsLines=(0,k.registerColor)("charts.lines",{dark:(0,k.transparent)(L.foreground,.5),light:(0,k.transparent)(L.foreground,.5),hcDark:(0,k.transparent)(L.foreground,.5),hcLight:(0,k.transparent)(L.foreground,.5)},f.localize(1,null)),e.chartsRed=(0,k.registerColor)("charts.red",{dark:D.editorErrorForeground,light:D.editorErrorForeground,hcDark:D.editorErrorForeground,hcLight:D.editorErrorForeground},f.localize(2,null)),e.chartsBlue=(0,k.registerColor)("charts.blue",{dark:D.editorInfoForeground,light:D.editorInfoForeground,hcDark:D.editorInfoForeground,hcLight:D.editorInfoForeground},f.localize(3,null)),e.chartsYellow=(0,k.registerColor)("charts.yellow",{dark:D.editorWarningForeground,light:D.editorWarningForeground,hcDark:D.editorWarningForeground,hcLight:D.editorWarningForeground},f.localize(4,null)),e.chartsOrange=(0,k.registerColor)("charts.orange",{dark:y.minimapFindMatch,light:y.minimapFindMatch,hcDark:y.minimapFindMatch,hcLight:y.minimapFindMatch},f.localize(5,null)),e.chartsGreen=(0,k.registerColor)("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},f.localize(6,null)),e.chartsPurple=(0,k.registerColor)("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f.localize(7,null))}),define(ne[893],se([1,0,807,34,94,135,274]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=void 0,e.quickInputBackground=(0,L.registerColor)("quickInput.background",{dark:D.editorWidgetBackground,light:D.editorWidgetBackground,hcDark:D.editorWidgetBackground,hcLight:D.editorWidgetBackground},f.localize(0,null)),e.quickInputForeground=(0,L.registerColor)("quickInput.foreground",{dark:D.editorWidgetForeground,light:D.editorWidgetForeground,hcDark:D.editorWidgetForeground,hcLight:D.editorWidgetForeground},f.localize(1,null)),e.quickInputTitleBackground=(0,L.registerColor)("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},f.localize(2,null)),e.pickerGroupForeground=(0,L.registerColor)("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(3,null)),e.pickerGroupBorder=(0,L.registerColor)("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(4,null)),e._deprecatedQuickInputListFocusBackground=(0,L.registerColor)("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,f.localize(5,null)),e.quickInputListFocusForeground=(0,L.registerColor)("quickInputList.focusForeground",{dark:y.listActiveSelectionForeground,light:y.listActiveSelectionForeground,hcDark:y.listActiveSelectionForeground,hcLight:y.listActiveSelectionForeground},f.localize(6,null)),e.quickInputListFocusIconForeground=(0,L.registerColor)("quickInputList.focusIconForeground",{dark:y.listActiveSelectionIconForeground,light:y.listActiveSelectionIconForeground,hcDark:y.listActiveSelectionIconForeground,hcLight:y.listActiveSelectionIconForeground},f.localize(7,null)),e.quickInputListFocusBackground=(0,L.registerColor)("quickInputList.focusBackground",{dark:(0,L.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),light:(0,L.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),hcDark:null,hcLight:null},f.localize(8,null))}),define(ne[894],se([1,0,808,94,120,135]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.searchResultsInfoForeground=void 0,e.searchResultsInfoForeground=(0,k.registerColor)("search.resultsInfoForeground",{light:L.foreground,dark:(0,k.transparent)(L.foreground,.65),hcDark:L.foreground,hcLight:L.foreground},f.localize(0,null)),e.searchEditorFindMatch=(0,k.registerColor)("searchEditor.findMatchBackground",{light:(0,k.transparent)(D.editorFindMatchHighlight,.66),dark:(0,k.transparent)(D.editorFindMatchHighlight,.66),hcDark:D.editorFindMatchHighlight,hcLight:D.editorFindMatchHighlight},f.localize(1,null)),e.searchEditorFindMatchBorder=(0,k.registerColor)("searchEditor.findMatchBorder",{light:(0,k.transparent)(D.editorFindMatchHighlightBorder,.66),dark:(0,k.transparent)(D.editorFindMatchHighlightBorder,.66),hcDark:D.editorFindMatchHighlightBorder,hcLight:D.editorFindMatchHighlightBorder},f.localize(2,null))});var Ht=this&&this.__createBinding||(Object.create?function(X,e,f,k){k===void 0&&(k=f);var L=Object.getOwnPropertyDescriptor(e,f);(!L||("get"in L?!e.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return e[f]}}),Object.defineProperty(X,k,L)}:function(X,e,f,k){k===void 0&&(k=f),X[k]=e[f]}),pt=this&&this.__exportStar||function(X,e){for(var f in X)f!=="default"&&!Object.prototype.hasOwnProperty.call(e,f)&&Ht(e,X,f)};define(ne[33],se([1,0,94,120,892,135,398,274,891,399,273,893,894]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),pt(f,e),pt(k,e),pt(L,e),pt(D,e),pt(y,e),pt(m,e),pt(w,e),pt(b,e),pt(C,e),pt(o,e),pt(n,e)}),define(ne[180],se([1,0,6,167,74,15,2,33]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0,e.createEditorPagePosition=n,e.createCoordinatesRelativeToEditor=i;class w{constructor(a,v){this.x=a,this.y=v,this._pageCoordinatesBrand=void 0}toClientCoordinates(a){return new b(this.x-a.scrollX,this.y-a.scrollY)}}e.PageCoordinates=w;class b{constructor(a,v){this.clientX=a,this.clientY=v,this._clientCoordinatesBrand=void 0}toPageCoordinates(a){return new w(this.clientX+a.scrollX,this.clientY+a.scrollY)}}e.ClientCoordinates=b;class C{constructor(a,v,h,p){this.x=a,this.y=v,this.width=h,this.height=p,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=C;class o{constructor(a,v){this.x=a,this.y=v,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=o;function n(u){const a=f.getDomNodePagePosition(u);return new C(a.left,a.top,a.width,a.height)}function i(u,a,v){const h=a.width/u.offsetWidth,p=a.height/u.offsetHeight,_=(v.x-a.x)/h,S=(v.y-a.y)/p;return new o(_,S)}class t extends L.StandardMouseEvent{constructor(a,v,h){super(f.getWindow(h),a),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=v,this.pos=new w(this.posx,this.posy),this.editorPos=n(h),this.relativePos=i(h,this.editorPos,this.pos)}}e.EditorMouseEvent=t;class s{constructor(a){this._editorViewDomNode=a}_create(a){return new t(a,!1,this._editorViewDomNode)}onContextMenu(a,v){return f.addDisposableListener(a,"contextmenu",h=>{v(this._create(h))})}onMouseUp(a,v){return f.addDisposableListener(a,"mouseup",h=>{v(this._create(h))})}onMouseDown(a,v){return f.addDisposableListener(a,f.EventType.MOUSE_DOWN,h=>{v(this._create(h))})}onPointerDown(a,v){return f.addDisposableListener(a,f.EventType.POINTER_DOWN,h=>{v(this._create(h),h.pointerId)})}onMouseLeave(a,v){return f.addDisposableListener(a,f.EventType.MOUSE_LEAVE,h=>{v(this._create(h))})}onMouseMove(a,v){return f.addDisposableListener(a,"mousemove",h=>v(this._create(h)))}}e.EditorMouseEventFactory=s;class c{constructor(a){this._editorViewDomNode=a}_create(a){return new t(a,!1,this._editorViewDomNode)}onPointerUp(a,v){return f.addDisposableListener(a,"pointerup",h=>{v(this._create(h))})}onPointerDown(a,v){return f.addDisposableListener(a,f.EventType.POINTER_DOWN,h=>{v(this._create(h),h.pointerId)})}onPointerLeave(a,v){return f.addDisposableListener(a,f.EventType.POINTER_LEAVE,h=>{v(this._create(h))})}onPointerMove(a,v){return f.addDisposableListener(a,"pointermove",h=>v(this._create(h)))}}e.EditorPointerEventFactory=c;class g extends y.Disposable{constructor(a){super(),this._editorViewDomNode=a,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(a,v,h,p,_){this._keydownListener=f.addStandardDisposableListener(a.ownerDocument,"keydown",S=>{S.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,S.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(a,v,h,S=>{p(new t(S,!0,this._editorViewDomNode))},S=>{this._keydownListener.dispose(),_(S)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=g;class l{constructor(a){this._editor=a,this._instanceId=++l._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(a){const v=this.getOrCreateRule(a);return v.increaseRefCount(),{className:v.className,dispose:()=>{v.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(a){const v=this.computeUniqueKey(a);let h=this._rules.get(v);if(!h){const p=this._counter++;h=new r(v,`dyn-rule-${this._instanceId}-${p}`,f.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,a),this._rules.set(v,h)}return h}computeUniqueKey(a){return JSON.stringify(a)}garbageCollect(){for(const a of this._rules.values())a.hasReferences()||(this._rules.delete(a.key),a.dispose())}}e.DynamicCssRules=l,l._idPool=0;class r{constructor(a,v,h,p){this.key=a,this.className=v,this.properties=p,this._referenceCount=0,this._styleElementDisposables=new y.DisposableStore,this._styleElement=f.createStyleSheet(h,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(a,v){let h=`.${a} {`;for(const p in v){const _=v[p];let S;typeof _=="object"?S=(0,m.asCssVariable)(_.id):S=_;const E=d(p);h+=`
	${E}: ${S};`}return h+=`
}`,h}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function d(u){return u.replace(/(^[A-Z])/,([a])=>a.toLowerCase()).replace(/([A-Z])/g,([a])=>`-${a.toLowerCase()}`)}}),define(ne[895],se([1,0,6,40,167,2,17,11,257,56,38,5,305,364,92,33,24,69,531,123,45,619,473]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const a=140,v=2;class h{constructor(M,P,F){const O=M.options,B=O.get(143),V=O.get(145),K=V.minimap,U=O.get(50),G=O.get(73);this.renderMinimap=K.renderMinimap,this.size=G.size,this.minimapHeightIsEditorHeight=K.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=O.get(105),this.paddingTop=O.get(84).top,this.paddingBottom=O.get(84).bottom,this.showSlider=G.showSlider,this.autohide=G.autohide,this.pixelRatio=B,this.typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this.lineHeight=O.get(67),this.minimapLeft=K.minimapLeft,this.minimapWidth=K.minimapWidth,this.minimapHeight=V.height,this.canvasInnerWidth=K.minimapCanvasInnerWidth,this.canvasInnerHeight=K.minimapCanvasInnerHeight,this.canvasOuterWidth=K.minimapCanvasOuterWidth,this.canvasOuterHeight=K.minimapCanvasOuterHeight,this.isSampling=K.minimapIsSampling,this.editorHeight=V.height,this.fontScale=K.minimapScale,this.minimapLineHeight=K.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=u.DEFAULT_FONT_FAMILY,this.sectionHeaderFontSize=G.sectionHeaderFontSize*B,this.sectionHeaderLetterSpacing=G.sectionHeaderLetterSpacing,this.sectionHeaderFontColor=h._getSectionHeaderColor(P,F.getColor(1)),this.charRenderer=(0,r.createSingleCallFunction)(()=>l.MinimapCharRendererFactory.create(this.fontScale,U.fontFamily)),this.defaultBackgroundColor=F.getColor(2),this.backgroundColor=h._getMinimapBackground(P,this.defaultBackgroundColor),this.foregroundAlpha=h._getMinimapForegroundOpacity(P)}static _getMinimapBackground(M,P){const F=M.getColor(s.minimapBackground);return F?new n.RGBA8(F.rgba.r,F.rgba.g,F.rgba.b,Math.round(255*F.rgba.a)):P}static _getMinimapForegroundOpacity(M){const P=M.getColor(s.minimapForegroundOpacity);return P?n.RGBA8._clamp(Math.round(255*P.rgba.a)):255}static _getSectionHeaderColor(M,P){const F=M.getColor(s.editorForeground);return F?new n.RGBA8(F.rgba.r,F.rgba.g,F.rgba.b,Math.round(255*F.rgba.a)):P}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.sectionHeaderFontSize===M.sectionHeaderFontSize&&this.sectionHeaderLetterSpacing===M.sectionHeaderLetterSpacing&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class p{constructor(M,P,F,O,B,V,K,U,G){this.scrollTop=M,this.scrollHeight=P,this.sliderNeeded=F,this._computedSliderRatio=O,this.sliderTop=B,this.sliderHeight=V,this.topPaddingLineCount=K,this.startLineNumber=U,this.endLineNumber=G}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const P=Math.max(this.startLineNumber,M.startLineNumber),F=Math.min(this.endLineNumber,M.endLineNumber);return P>F?null:[P,F]}getYForLineNumber(M,P){return+(M-this.startLineNumber+this.topPaddingLineCount)*P}static create(M,P,F,O,B,V,K,U,G,z,$){const J=M.pixelRatio,ee=M.minimapLineHeight,Z=Math.floor(M.canvasInnerHeight/ee),x=M.lineHeight;if(M.minimapHeightIsEditorHeight){let ie=U*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(ie+=Math.max(0,B-M.lineHeight-M.paddingBottom));const oe=Math.max(1,Math.floor(B*B/ie)),re=Math.max(0,M.minimapHeight-oe),W=re/(z-B),q=G*W,H=re>0,j=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),Q=Math.floor(M.paddingTop/M.lineHeight);return new p(G,z,H,W,q,oe,Q,1,Math.min(K,j))}let Y;if(V&&F!==K){const ie=F-P+1;Y=Math.floor(ie*ee/J)}else{const ie=B/x;Y=Math.floor(ie*ee/J)}const ae=Math.floor(M.paddingTop/x);let ue=Math.floor(M.paddingBottom/x);if(M.scrollBeyondLastLine){const ie=B/x;ue=Math.max(ue,ie-1)}let he;if(ue>0){const ie=B/x;he=(ae+K+ue-ie-1)*ee/J}else he=Math.max(0,(ae+K)*ee/J-Y);he=Math.min(M.minimapHeight-Y,he);const pe=he/(z-B),ce=G*pe;if(Z>=ae+K+ue){const ie=he>0;return new p(G,z,ie,pe,ce,Y,ae,1,K)}else{let ie;P>1?ie=P+ae:ie=Math.max(1,G/x);let oe,re=Math.max(1,Math.floor(ie-ce*J/ee));re<ae?(oe=ae-re+1,re=1):(oe=0,re=Math.max(1,re-ae)),$&&$.scrollHeight===z&&($.scrollTop>G&&(re=Math.min(re,$.startLineNumber),oe=Math.max(oe,$.topPaddingLineCount)),$.scrollTop<G&&(re=Math.max(re,$.startLineNumber),oe=Math.min(oe,$.topPaddingLineCount)));const W=Math.min(K,re-oe+Z-1),q=(G-O)/x;let H;return G>=M.paddingTop?H=(P-re+oe+q)*ee/J:H=G/M.paddingTop*(oe+q)*ee/J,new p(G,z,!0,pe,H,Y,oe,re,W)}}}class _{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class S{constructor(M,P,F){this.renderedLayout=M,this._imageData=P,this._renderedLines=new w.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(M.startLineNumber,F)}linesEquals(M){if(!this.scrollEquals(M))return!1;const F=this._renderedLines._get().lines;for(let O=0,B=F.length;O<B;O++)if(F[O].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,P){return this._renderedLines.onLinesChanged(M,P)}onLinesDeleted(M,P){this._renderedLines.onLinesDeleted(M,P)}onLinesInserted(M,P){this._renderedLines.onLinesInserted(M,P)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class E{constructor(M,P,F,O){this._backgroundFillData=E._createBackgroundFillData(P,F,O),this._buffers=[M.createImageData(P,F),M.createImageData(P,F)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,P,F){const O=F.r,B=F.g,V=F.b,K=F.a,U=new Uint8ClampedArray(M*P*4);let G=0;for(let z=0;z<P;z++)for(let $=0;$<M;$++)U[G]=O,U[G+1]=B,U[G+2]=V,U[G+3]=K,G+=4;return U}}class I{static compute(M,P,F){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:O}=C.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:P,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),B=P/O,V=B/2;if(!F||F.minimapLines.length===0){const Y=[];if(Y[0]=1,O>1){for(let ae=0,ue=O-1;ae<ue;ae++)Y[ae]=Math.round(ae*B+V);Y[O-1]=P}return[new I(B,Y),[]]}const K=F.minimapLines,U=K.length,G=[];let z=0,$=0,J=1;const ee=10;let Z=[],x=null;for(let Y=0;Y<O;Y++){const ae=Math.max(J,Math.round(Y*B)),ue=Math.max(ae,Math.round((Y+1)*B));for(;z<U&&K[z]<ae;){if(Z.length<ee){const pe=z+1+$;x&&x.type==="deleted"&&x._oldIndex===z-1?x.deleteToLineNumber++:(x={type:"deleted",_oldIndex:z,deleteFromLineNumber:pe,deleteToLineNumber:pe},Z.push(x)),$--}z++}let he;if(z<U&&K[z]<=ue)he=K[z],z++;else if(Y===0?he=1:Y+1===O?he=P:he=Math.round(Y*B+V),Z.length<ee){const pe=z+1+$;x&&x.type==="inserted"&&x._i===Y-1?x.insertToLineNumber++:(x={type:"inserted",_i:Y,insertFromLineNumber:pe,insertToLineNumber:pe},Z.push(x)),$++}G[Y]=he,J=he}if(Z.length<ee)for(;z<U;){const Y=z+1+$;x&&x.type==="deleted"&&x._oldIndex===z-1?x.deleteToLineNumber++:(x={type:"deleted",_oldIndex:z,deleteFromLineNumber:Y,deleteToLineNumber:Y},Z.push(x)),$--,z++}else Z=[{type:"flush"}];return[new I(B,G),Z]}constructor(M,P){this.samplingRatio=M,this.minimapLines=P}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,P){let F=this.modelLineToMinimapLine(M)-1;for(;F>0&&this.minimapLines[F-1]>=M;)F--;let O=this.modelLineToMinimapLine(P)-1;for(;O+1<this.minimapLines.length&&this.minimapLines[O+1]<=P;)O++;if(F===O){const B=this.minimapLines[F];if(B<M||B>P)return null}return[F+1,O+1]}decorationLineRangeToMinimapLineRange(M,P){let F=this.modelLineToMinimapLine(M),O=this.modelLineToMinimapLine(P);return M!==P&&O===F&&(O===this.minimapLines.length?F>1&&F--:O++),[F,O]}onLinesDeleted(M){const P=M.toLineNumber-M.fromLineNumber+1;let F=this.minimapLines.length,O=0;for(let B=this.minimapLines.length-1;B>=0&&!(this.minimapLines[B]<M.fromLineNumber);B--)this.minimapLines[B]<=M.toLineNumber?(this.minimapLines[B]=Math.max(1,M.fromLineNumber-1),F=Math.min(F,B),O=Math.max(O,B)):this.minimapLines[B]-=P;return[F,O]}onLinesInserted(M){const P=M.toLineNumber-M.fromLineNumber+1;for(let F=this.minimapLines.length-1;F>=0&&!(this.minimapLines[F]<M.fromLineNumber);F--)this.minimapLines[F]+=P}}class T extends b.ViewPart{constructor(M){super(M),this._sectionHeaderCache=new d.LRUCache(10,1.5),this.tokensColorTracker=i.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new h(this._context.configuration,this._context.theme,this.tokensColorTracker);const[P]=I.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=P,this._shouldCheckSampling=!1,this._actual=new N(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new h(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const P=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return P?this._actual.onLinesChanged(P[0],P[1]-P[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[P,F]=this._samplingState.onLinesDeleted(M);return P<=F&&this._actual.onLinesChanged(P+1,F-P+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const P=[];for(const F of M.ranges){const O=this._samplingState.modelLineRangeToMinimapLineRange(F.fromLineNumber,F.toLineNumber);O&&P.push({fromLineNumber:O[0],toLineNumber:O[1]})}return P.length?this._actual.onTokensChanged(P):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let P=M.visibleRange.startLineNumber,F=M.visibleRange.endLineNumber;this._samplingState&&(P=this._samplingState.modelLineToMinimapLine(P),F=this._samplingState.modelLineToMinimapLine(F));const O={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:P,viewportEndLineNumber:F,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(P),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(O)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[P,F]=I.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=P,M&&this._samplingState)for(const O of F)switch(O.type){case"deleted":this._actual.onLinesDeleted(O.deleteFromLineNumber,O.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(O.insertFromLineNumber,O.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,P,F){if(this._samplingState){const O=[];for(let B=0,V=P-M+1;B<V;B++)F[B]?O[B]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+B-1]):O[B]=null;return O}return this._context.viewModel.getMinimapLinesRenderingData(M,P,F).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[P,F]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new c.Selection(P,M.startColumn,F,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,P){const F=this._getMinimapDecorationsInViewport(M,P).filter(O=>{var B;return!(!((B=O.options.minimap)===null||B===void 0)&&B.sectionHeaderStyle)});if(this._samplingState){const O=[];for(const B of F){if(!B.options.minimap)continue;const V=B.range,K=this._samplingState.modelLineToMinimapLine(V.startLineNumber),U=this._samplingState.modelLineToMinimapLine(V.endLineNumber);O.push(new t.ViewModelDecoration(new o.Range(K,V.startColumn,U,V.endColumn),B.options))}return O}return F}getSectionHeaderDecorationsInViewport(M,P){const F=this.options.minimapLineHeight,B=this.options.sectionHeaderFontSize/F;return M=Math.floor(Math.max(1,M-B)),this._getMinimapDecorationsInViewport(M,P).filter(V=>{var K;return!!(!((K=V.options.minimap)===null||K===void 0)&&K.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(M,P){let F;if(this._samplingState){const O=this._samplingState.minimapLines[M-1],B=this._samplingState.minimapLines[P-1];F=new o.Range(O,1,B,this._context.viewModel.getLineMaxColumn(B))}else F=new o.Range(M,1,P,this._context.viewModel.getLineMaxColumn(P));return this._context.viewModel.getMinimapDecorationsInRange(F)}getSectionHeaderText(M,P){var F;const O=(F=M.options.minimap)===null||F===void 0?void 0:F.sectionHeaderText;if(!O)return null;const B=this._sectionHeaderCache.get(O);if(B)return B;const V=P(O);return this._sectionHeaderCache.set(O,V),V}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new o.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=T;class N extends D.Disposable{constructor(M,P){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=P,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(s.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),b.PartFingerprints.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=f.addStandardDisposableListener(this._domNode.domNode,f.EventType.POINTER_DOWN,F=>{if(F.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(F.button===0&&this._lastRenderData){const G=f.getDomNodePagePosition(this._slider.domNode),z=G.top+G.height/2;this._startSliderDragging(F,z,this._lastRenderData.renderedLayout)}return}const B=this._model.options.minimapLineHeight,V=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*F.offsetY;let U=Math.floor(V/B)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;U=Math.min(U,this._model.getLineCount()),this._model.revealLineNumber(U)}),this._sliderPointerMoveMonitor=new L.GlobalPointerMoveMonitor,this._sliderPointerDownListener=f.addStandardDisposableListener(this._slider.domNode,f.EventType.POINTER_DOWN,F=>{F.preventDefault(),F.stopPropagation(),F.button===0&&this._lastRenderData&&this._startSliderDragging(F,F.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=g.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=f.addDisposableListener(this._domNode.domNode,g.EventType.Start,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(F))},{passive:!1}),this._sliderTouchMoveListener=f.addDisposableListener(this._domNode.domNode,g.EventType.Change,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(F)},{passive:!1}),this._sliderTouchEndListener=f.addStandardDisposableListener(this._domNode.domNode,g.EventType.End,F=>{F.preventDefault(),F.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,P,F){if(!M.target||!(M.target instanceof Element))return;const O=M.pageX;this._slider.toggleClassName("active",!0);const B=(V,K)=>{const U=f.getDomNodePagePosition(this._domNode.domNode),G=Math.min(Math.abs(K-O),Math.abs(K-U.left),Math.abs(K-U.left-U.width));if(y.isWindows&&G>a){this._model.setScrollTop(F.scrollTop);return}const z=V-P;this._model.setScrollTop(F.getDesiredScrollTopFromDelta(z))};M.pageY!==P&&B(M.pageY,O),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,V=>B(V.pageY,V.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const P=this._domNode.domNode.getBoundingClientRect().top,F=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-P);this._model.setScrollTop(F)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,P){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,P):!1}onLinesDeleted(M,P){var F;return(F=this._lastRenderData)===null||F===void 0||F.onLinesDeleted(M,P),!0}onLinesInserted(M,P){var F;return(F=this._lastRenderData)===null||F===void 0||F.onLinesInserted(M,P),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(s.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const F=p.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(F.sliderNeeded?"block":"none"),this._slider.setTop(F.sliderTop),this._slider.setHeight(F.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(F.sliderHeight),this.renderDecorations(F),this._lastRenderData=this.renderLines(F)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const P=this._model.getSelections();P.sort(o.Range.compareRangesUsingStarts);const F=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);F.sort((J,ee)=>(J.options.zIndex||0)-(ee.options.zIndex||0));const{canvasInnerWidth:O,canvasInnerHeight:B}=this._model.options,V=this._model.options.minimapLineHeight,K=this._model.options.minimapCharWidth,U=this._model.getOptions().tabSize,G=this._decorationsCanvas.domNode.getContext("2d");G.clearRect(0,0,O,B);const z=new A(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(G,P,z,M,V),this._renderDecorationsLineHighlights(G,F,z,M,V);const $=new A(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(G,P,$,M,V,U,K,O),this._renderDecorationsHighlights(G,F,$,M,V,U,K,O),this._renderSectionHeaders(M)}}_renderSelectionLineHighlights(M,P,F,O,B){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let V=0,K=0;for(const U of P){const G=O.intersectWithViewport(U);if(!G)continue;const[z,$]=G;for(let Z=z;Z<=$;Z++)F.set(Z,!0);const J=O.getYForLineNumber(z,B),ee=O.getYForLineNumber($,B);K>=J||(K>V&&M.fillRect(C.MINIMAP_GUTTER_WIDTH,V,M.canvas.width,K-V),V=J),K=ee}K>V&&M.fillRect(C.MINIMAP_GUTTER_WIDTH,V,M.canvas.width,K-V)}_renderDecorationsLineHighlights(M,P,F,O,B){const V=new Map;for(let K=P.length-1;K>=0;K--){const U=P[K],G=U.options.minimap;if(!G||G.position!==1)continue;const z=O.intersectWithViewport(U.range);if(!z)continue;const[$,J]=z,ee=G.getColor(this._theme.value);if(!ee||ee.isTransparent())continue;let Z=V.get(ee.toString());Z||(Z=ee.transparent(.5).toString(),V.set(ee.toString(),Z)),M.fillStyle=Z;for(let x=$;x<=J;x++){if(F.has(x))continue;F.set(x,!0);const Y=O.getYForLineNumber($,B);M.fillRect(C.MINIMAP_GUTTER_WIDTH,Y,M.canvas.width,B)}}}_renderSelectionsHighlights(M,P,F,O,B,V,K,U){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const G of P){const z=O.intersectWithViewport(G);if(!z)continue;const[$,J]=z;for(let ee=$;ee<=J;ee++)this.renderDecorationOnLine(M,F,G,this._selectionColor,O,ee,B,B,V,K,U)}}_renderDecorationsHighlights(M,P,F,O,B,V,K,U){for(const G of P){const z=G.options.minimap;if(!z)continue;const $=O.intersectWithViewport(G.range);if(!$)continue;const[J,ee]=$,Z=z.getColor(this._theme.value);if(!(!Z||Z.isTransparent()))for(let x=J;x<=ee;x++)switch(z.position){case 1:this.renderDecorationOnLine(M,F,G.range,Z,O,x,B,B,V,K,U);continue;case 2:{const Y=O.getYForLineNumber(x,B);this.renderDecoration(M,Z,2,Y,v,B);continue}}}}renderDecorationOnLine(M,P,F,O,B,V,K,U,G,z,$){const J=B.getYForLineNumber(V,U);if(J+K<0||J>this._model.options.canvasInnerHeight)return;const{startLineNumber:ee,endLineNumber:Z}=F,x=ee===V?F.startColumn:1,Y=Z===V?F.endColumn:this._model.getLineMaxColumn(V),ae=this.getXOffsetForPosition(P,V,x,G,z,$),ue=this.getXOffsetForPosition(P,V,Y,G,z,$);this.renderDecoration(M,O,ae,J,ue-ae,K)}getXOffsetForPosition(M,P,F,O,B,V){if(F===1)return C.MINIMAP_GUTTER_WIDTH;if((F-1)*B>=V)return V;let U=M.get(P);if(!U){const G=this._model.getLineContent(P);U=[C.MINIMAP_GUTTER_WIDTH];let z=C.MINIMAP_GUTTER_WIDTH;for(let $=1;$<G.length+1;$++){const J=G.charCodeAt($-1),ee=J===9?O*B:m.isFullWidthCharacter(J)?2*B:B,Z=z+ee;if(Z>=V){U[$]=V;break}U[$]=Z,z=Z}M.set(P,U)}return F-1<U.length?U[F-1]:V}renderDecoration(M,P,F,O,B,V){M.fillStyle=P&&P.toString()||"",M.fillRect(F,O,B,V)}_renderSectionHeaders(M){var P;const F=this._model.options.minimapLineHeight,O=this._model.options.sectionHeaderFontSize,B=this._model.options.sectionHeaderLetterSpacing,V=O*1.5,{canvasInnerWidth:K}=this._model.options,U=this._model.options.backgroundColor,G=`rgb(${U.r} ${U.g} ${U.b} / .7)`,z=this._model.options.sectionHeaderFontColor,$=`rgb(${z.r} ${z.g} ${z.b})`,J=$,ee=this._decorationsCanvas.domNode.getContext("2d");ee.letterSpacing=B+"px",ee.font="500 "+O+"px "+this._model.options.sectionHeaderFontFamily,ee.strokeStyle=J,ee.lineWidth=.2;const Z=this._model.getSectionHeaderDecorationsInViewport(M.startLineNumber,M.endLineNumber);Z.sort((Y,ae)=>Y.range.startLineNumber-ae.range.startLineNumber);const x=N._fitSectionHeader.bind(null,ee,K-C.MINIMAP_GUTTER_WIDTH);for(const Y of Z){const ae=M.getYForLineNumber(Y.range.startLineNumber,F)+O,ue=ae-O,he=ue+2,pe=this._model.getSectionHeaderText(Y,x);N._renderSectionLabel(ee,pe,((P=Y.options.minimap)===null||P===void 0?void 0:P.sectionHeaderStyle)===2,G,$,K,ue,V,ae,he)}}static _fitSectionHeader(M,P,F){if(!F)return F;const O="\u2026",B=M.measureText(F).width,V=M.measureText(O).width;if(B<=P||B<=V)return F;const K=F.length,U=B/F.length,G=Math.floor((P-V)/U)-1;let z=Math.ceil(G/2);for(;z>0&&/\s/.test(F[z-1]);)--z;return F.substring(0,z)+O+F.substring(K-(G-z))}static _renderSectionLabel(M,P,F,O,B,V,K,U,G,z){P&&(M.fillStyle=O,M.fillRect(0,K,V,U),M.fillStyle=B,M.fillText(P,C.MINIMAP_GUTTER_WIDTH,G)),F&&(M.beginPath(),M.moveTo(0,z),M.lineTo(V,z),M.closePath(),M.stroke())}renderLines(M){const P=M.startLineNumber,F=M.endLineNumber,O=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const le=this._lastRenderData._get();return new S(M,le.imageData,le.lines)}const B=this._getBuffer();if(!B)return null;const[V,K,U]=N._renderUntouchedLines(B,M.topPaddingLineCount,P,F,O,this._lastRenderData),G=this._model.getMinimapLinesRenderingData(P,F,U),z=this._model.getOptions().tabSize,$=this._model.options.defaultBackgroundColor,J=this._model.options.backgroundColor,ee=this._model.options.foregroundAlpha,Z=this._model.tokensColorTracker,x=Z.backgroundIsLight(),Y=this._model.options.renderMinimap,ae=this._model.options.charRenderer(),ue=this._model.options.fontScale,he=this._model.options.minimapCharWidth,ce=(Y===1?2:3)*ue,ie=O>ce?Math.floor((O-ce)/2):0,oe=J.a/255,re=new n.RGBA8(Math.round((J.r-$.r)*oe+$.r),Math.round((J.g-$.g)*oe+$.g),Math.round((J.b-$.b)*oe+$.b),255);let W=M.topPaddingLineCount*O;const q=[];for(let le=0,de=F-P+1;le<de;le++)U[le]&&N._renderLine(B,re,J.a,x,Y,he,Z,ee,ae,W,ie,z,G[le],ue,O),q[le]=new _(W),W+=O;const H=V===-1?0:V,Q=(K===-1?B.height:K)-H;return this._canvas.domNode.getContext("2d").putImageData(B,0,0,0,H,B.width,Q),new S(M,B,q)}static _renderUntouchedLines(M,P,F,O,B,V){const K=[];if(!V){for(let W=0,q=O-F+1;W<q;W++)K[W]=!0;return[-1,-1,K]}const U=V._get(),G=U.imageData.data,z=U.rendLineNumberStart,$=U.lines,J=$.length,ee=M.width,Z=M.data,x=(O-F+1)*B*ee*4;let Y=-1,ae=-1,ue=-1,he=-1,pe=-1,ce=-1,ie=P*B;for(let W=F;W<=O;W++){const q=W-F,H=W-z,j=H>=0&&H<J?$[H].dy:-1;if(j===-1){K[q]=!0,ie+=B;continue}const Q=j*ee*4,te=(j+B)*ee*4,le=ie*ee*4,de=(ie+B)*ee*4;he===Q&&ce===le?(he=te,ce=de):(ue!==-1&&(Z.set(G.subarray(ue,he),pe),Y===-1&&ue===0&&ue===pe&&(Y=he),ae===-1&&he===x&&ue===pe&&(ae=ue)),ue=Q,he=te,pe=le,ce=de),K[q]=!1,ie+=B}ue!==-1&&(Z.set(G.subarray(ue,he),pe),Y===-1&&ue===0&&ue===pe&&(Y=he),ae===-1&&he===x&&ue===pe&&(ae=ue));const oe=Y===-1?-1:Y/(ee*4),re=ae===-1?-1:ae/(ee*4);return[oe,re,K]}static _renderLine(M,P,F,O,B,V,K,U,G,z,$,J,ee,Z,x){const Y=ee.content,ae=ee.tokens,ue=M.width-V,he=x===1;let pe=C.MINIMAP_GUTTER_WIDTH,ce=0,ie=0;for(let oe=0,re=ae.getCount();oe<re;oe++){const W=ae.getEndOffset(oe),q=ae.getForeground(oe),H=K.getColor(q);for(;ce<W;ce++){if(pe>ue)return;const j=Y.charCodeAt(ce);if(j===9){const Q=J-(ce+ie)%J;ie+=Q-1,pe+=Q*V}else if(j===32)pe+=V;else{const Q=m.isFullWidthCharacter(j)?2:1;for(let te=0;te<Q;te++)if(B===2?G.blockRenderChar(M,pe,z+$,H,U,P,F,he):G.renderChar(M,pe,z+$,j,H,U,P,F,Z,O,he),pe+=V,pe>ue)return}}}}}class A{constructor(M,P,F){this._startLineNumber=M,this._endLineNumber=P,this._defaultValue=F,this._values=[];for(let O=0,B=this._endLineNumber-this._startLineNumber+1;O<B;O++)this._values[O]=F}has(M){return this.get(M)!==this._defaultValue}set(M,P){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=P)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(ne[896],se([1,0,676,33]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiDiffEditorBorder=e.multiDiffEditorBackground=e.multiDiffEditorHeaderBackground=void 0,e.multiDiffEditorHeaderBackground=(0,k.registerColor)("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},(0,f.localize)(0,null)),e.multiDiffEditorBackground=(0,k.registerColor)("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},(0,f.localize)(1,null)),e.multiDiffEditorBorder=(0,k.registerColor)("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},(0,f.localize)(2,null))}),define(ne[275],se([1,0,768,33,512]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(32,null))}),define(ne[897],se([1,0,26,131,701,88,191,275]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=w;const y=Object.freeze({kind:D.HierarchicalKind.Empty,title:(0,L.localize)(0,null)}),m=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,L.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,L.localize)(2,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,L.localize)(3,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,L.localize)(4,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,L.localize)(5,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,L.localize)(6,null),icon:f.Codicon.surroundWith},{kind:k.CodeActionKind.Source,title:(0,L.localize)(7,null),icon:f.Codicon.symbolFile},y]);function w(b,C,o){if(!C)return b.map(t=>{var s;return{kind:"action",item:t,group:y,disabled:!!t.action.disabled,label:t.action.disabled||t.action.title,canPreview:!!(!((s=t.action.edit)===null||s===void 0)&&s.edits.length)}});const n=m.map(t=>({group:t,actions:[]}));for(const t of b){const s=t.action.kind?new D.HierarchicalKind(t.action.kind):D.HierarchicalKind.None;for(const c of n)if(c.group.kind.contains(s)){c.actions.push(t);break}}const i=[];for(const t of n)if(t.actions.length){i.push({kind:"header",group:t.group});for(const s of t.actions){const c=t.group;i.push({kind:"action",item:s,group:s.action.isAI?{title:c.title,kind:c.kind,icon:f.Codicon.sparkle}:c,label:s.action.title,disabled:!!s.action.disabled,keybinding:o(s.action)})}}return i}}),define(ne[106],se([1,0,33,34]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0,e.getListStyles=D;function L(y,m){const w={...m};for(const b in y){const C=y[b];w[b]=C!==void 0?(0,f.asCssVariable)(C):void 0}return w}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,f.asCssVariable)(f.keybindingLabelBackground),keybindingLabelForeground:(0,f.asCssVariable)(f.keybindingLabelForeground),keybindingLabelBorder:(0,f.asCssVariable)(f.keybindingLabelBorder),keybindingLabelBottomBorder:(0,f.asCssVariable)(f.keybindingLabelBottomBorder),keybindingLabelShadow:(0,f.asCssVariable)(f.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,f.asCssVariable)(f.buttonForeground),buttonSeparator:(0,f.asCssVariable)(f.buttonSeparator),buttonBackground:(0,f.asCssVariable)(f.buttonBackground),buttonHoverBackground:(0,f.asCssVariable)(f.buttonHoverBackground),buttonSecondaryForeground:(0,f.asCssVariable)(f.buttonSecondaryForeground),buttonSecondaryBackground:(0,f.asCssVariable)(f.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,f.asCssVariable)(f.buttonSecondaryHoverBackground),buttonBorder:(0,f.asCssVariable)(f.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,f.asCssVariable)(f.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,f.asCssVariable)(f.inputActiveOptionBorder),inputActiveOptionForeground:(0,f.asCssVariable)(f.inputActiveOptionForeground),inputActiveOptionBackground:(0,f.asCssVariable)(f.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,f.asCssVariable)(f.checkboxBackground),checkboxBorder:(0,f.asCssVariable)(f.checkboxBorder),checkboxForeground:(0,f.asCssVariable)(f.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,f.asCssVariable)(f.editorWidgetBackground),dialogForeground:(0,f.asCssVariable)(f.editorWidgetForeground),dialogShadow:(0,f.asCssVariable)(f.widgetShadow),dialogBorder:(0,f.asCssVariable)(f.contrastBorder),errorIconForeground:(0,f.asCssVariable)(f.problemsErrorIconForeground),warningIconForeground:(0,f.asCssVariable)(f.problemsWarningIconForeground),infoIconForeground:(0,f.asCssVariable)(f.problemsInfoIconForeground),textLinkForeground:(0,f.asCssVariable)(f.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,f.asCssVariable)(f.inputBackground),inputForeground:(0,f.asCssVariable)(f.inputForeground),inputBorder:(0,f.asCssVariable)(f.inputBorder),inputValidationInfoBorder:(0,f.asCssVariable)(f.inputValidationInfoBorder),inputValidationInfoBackground:(0,f.asCssVariable)(f.inputValidationInfoBackground),inputValidationInfoForeground:(0,f.asCssVariable)(f.inputValidationInfoForeground),inputValidationWarningBorder:(0,f.asCssVariable)(f.inputValidationWarningBorder),inputValidationWarningBackground:(0,f.asCssVariable)(f.inputValidationWarningBackground),inputValidationWarningForeground:(0,f.asCssVariable)(f.inputValidationWarningForeground),inputValidationErrorBorder:(0,f.asCssVariable)(f.inputValidationErrorBorder),inputValidationErrorBackground:(0,f.asCssVariable)(f.inputValidationErrorBackground),inputValidationErrorForeground:(0,f.asCssVariable)(f.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,f.asCssVariable)(f.listFilterWidgetBackground),listFilterWidgetOutline:(0,f.asCssVariable)(f.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,f.asCssVariable)(f.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,f.asCssVariable)(f.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,f.asCssVariable)(f.badgeBackground),badgeForeground:(0,f.asCssVariable)(f.badgeForeground),badgeBorder:(0,f.asCssVariable)(f.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,f.asCssVariable)(f.breadcrumbsBackground),breadcrumbsForeground:(0,f.asCssVariable)(f.breadcrumbsForeground),breadcrumbsHoverForeground:(0,f.asCssVariable)(f.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,f.asCssVariable)(f.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,f.asCssVariable)(f.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,f.asCssVariable)(f.listFocusBackground),listFocusForeground:(0,f.asCssVariable)(f.listFocusForeground),listFocusOutline:(0,f.asCssVariable)(f.listFocusOutline),listActiveSelectionBackground:(0,f.asCssVariable)(f.listActiveSelectionBackground),listActiveSelectionForeground:(0,f.asCssVariable)(f.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,f.asCssVariable)(f.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,f.asCssVariable)(f.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,f.asCssVariable)(f.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,f.asCssVariable)(f.listActiveSelectionForeground),listInactiveSelectionBackground:(0,f.asCssVariable)(f.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,f.asCssVariable)(f.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,f.asCssVariable)(f.listInactiveSelectionForeground),listInactiveFocusBackground:(0,f.asCssVariable)(f.listInactiveFocusBackground),listInactiveFocusOutline:(0,f.asCssVariable)(f.listInactiveFocusOutline),listHoverBackground:(0,f.asCssVariable)(f.listHoverBackground),listHoverForeground:(0,f.asCssVariable)(f.listHoverForeground),listDropOverBackground:(0,f.asCssVariable)(f.listDropOverBackground),listDropBetweenBackground:(0,f.asCssVariable)(f.listDropBetweenBackground),listSelectionOutline:(0,f.asCssVariable)(f.activeContrastBorder),listHoverOutline:(0,f.asCssVariable)(f.activeContrastBorder),treeIndentGuidesStroke:(0,f.asCssVariable)(f.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,f.asCssVariable)(f.treeInactiveIndentGuidesStroke),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0,tableColumnsBorder:(0,f.asCssVariable)(f.tableColumnsBorder),tableOddRowsBackgroundColor:(0,f.asCssVariable)(f.tableOddRowsBackgroundColor)};function D(y){return L(y,e.defaultListStyles)}e.defaultSelectBoxStyles={selectBackground:(0,f.asCssVariable)(f.selectBackground),selectListBackground:(0,f.asCssVariable)(f.selectListBackground),selectForeground:(0,f.asCssVariable)(f.selectForeground),decoratorRightForeground:(0,f.asCssVariable)(f.pickerGroupForeground),selectBorder:(0,f.asCssVariable)(f.selectBorder),focusBorder:(0,f.asCssVariable)(f.focusBorder),listFocusBackground:(0,f.asCssVariable)(f.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,f.asCssVariable)(f.quickInputListFocusIconForeground),listFocusForeground:(0,f.asCssVariable)(f.quickInputListFocusForeground),listFocusOutline:(0,f.asCssVariableWithDefault)(f.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,f.asCssVariable)(f.listHoverBackground),listHoverForeground:(0,f.asCssVariable)(f.listHoverForeground),listHoverOutline:(0,f.asCssVariable)(f.activeContrastBorder),selectListBorder:(0,f.asCssVariable)(f.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},e.defaultMenuStyles={shadowColor:(0,f.asCssVariable)(f.widgetShadow),borderColor:(0,f.asCssVariable)(f.menuBorder),foregroundColor:(0,f.asCssVariable)(f.menuForeground),backgroundColor:(0,f.asCssVariable)(f.menuBackground),selectionForegroundColor:(0,f.asCssVariable)(f.menuSelectionForeground),selectionBackgroundColor:(0,f.asCssVariable)(f.menuSelectionBackground),selectionBorderColor:(0,f.asCssVariable)(f.menuSelectionBorder),separatorColor:(0,f.asCssVariable)(f.menuSeparatorBackground),scrollbarShadow:(0,f.asCssVariable)(f.scrollbarShadow),scrollbarSliderBackground:(0,f.asCssVariable)(f.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,f.asCssVariable)(f.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,f.asCssVariable)(f.scrollbarSliderActiveBackground)}}),define(ne[898],se([1,0,6,344,345,250,78,2,51,75,727,8,32,177,106,173]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let g=class{constructor(S){this._resolverService=S}hasChildren(S){return S instanceof s.ReferencesModel||S instanceof s.FileReferences}getChildren(S){if(S instanceof s.ReferencesModel)return S.groups;if(S instanceof s.FileReferences)return S.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};e.DataSource=g,e.DataSource=g=ke([ge(0,b.ITextModelService)],g);class l{getHeight(){return 23}getTemplateId(S){return S instanceof s.FileReferences?a.id:h.id}}e.Delegate=l;let r=class{constructor(S){this._keybindingService=S}getKeyboardNavigationLabel(S){var E;if(S instanceof s.OneReference){const I=(E=S.parent.getPreview(S))===null||E===void 0?void 0:E.preview(S.range);if(I)return I.value}return(0,w.basename)(S.uri)}};e.StringRepresentationProvider=r,e.StringRepresentationProvider=r=ke([ge(0,n.IKeybindingService)],r);class d{getId(S){return S instanceof s.OneReference?S.id:S.uri}}e.IdentityProvider=d;let u=class extends m.Disposable{constructor(S,E){super(),this._labelService=E;const I=document.createElement("div");I.classList.add("reference-file"),this.file=this._register(new D.IconLabel(I,{supportHighlights:!0})),this.badge=new k.CountBadge(f.append(I,f.$(".count")),{},t.defaultCountBadgeStyles),S.appendChild(I)}set(S,E){const I=(0,w.dirname)(S.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(S.uri),this._labelService.getUriLabel(I,{relative:!0}),{title:this._labelService.getUriLabel(S.uri),matches:E});const T=S.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,C.localize)(0,null,T)):this.badge.setTitleFormat((0,C.localize)(1,null,T))}};u=ke([ge(1,i.ILabelService)],u);let a=c=class{constructor(S){this._instantiationService=S,this.templateId=c.id}renderTemplate(S){return this._instantiationService.createInstance(u,S)}renderElement(S,E,I){I.set(S.element,(0,y.createMatches)(S.filterData))}disposeTemplate(S){S.dispose()}};e.FileReferencesRenderer=a,a.id="FileReferencesRenderer",e.FileReferencesRenderer=a=c=ke([ge(0,o.IInstantiationService)],a);class v extends m.Disposable{constructor(S){super(),this.label=this._register(new L.HighlightedLabel(S))}set(S,E){var I;const T=(I=S.parent.getPreview(S))===null||I===void 0?void 0:I.preview(S.range);if(!T||!T.value)this.label.set(`${(0,w.basename)(S.uri)}:${S.range.startLineNumber+1}:${S.range.startColumn+1}`);else{const{value:N,highlight:A}=T;E&&!y.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(N,(0,y.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(N,[A]))}}}class h{constructor(){this.templateId=h.id}renderTemplate(S){return new v(S)}renderElement(S,E,I){I.set(S.element,S.filterData)}disposeTemplate(S){S.dispose()}}e.OneReferenceRenderer=h,h.id="OneReferenceRenderer";class p{getWidgetAriaLabel(){return(0,C.localize)(2,null)}getAriaLabel(S){return S.ariaMessage}}e.AccessibilityProvider=p}),define(ne[899],se([1,0,6,201,111,19,26,2,17,31,778,58,32,106,33,300]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class s{get templateId(){return"header"}renderTemplate(v){v.classList.add("group-header");const h=document.createElement("span");return v.append(h),{container:v,text:h}}renderElement(v,h,p){var _,S;p.text.textContent=(S=(_=v.group)===null||_===void 0?void 0:_.title)!==null&&S!==void 0?S:""}disposeTemplate(v){}}let c=class{get templateId(){return"action"}constructor(v,h){this._supportsPreview=v,this._keybindingService=h}renderTemplate(v){v.classList.add(this.templateId);const h=document.createElement("div");h.className="icon",v.append(h);const p=document.createElement("span");p.className="title",v.append(p);const _=new k.KeybindingLabel(v,w.OS);return{container:v,icon:h,text:p,keybinding:_}}renderElement(v,h,p){var _,S,E;if(!((_=v.group)===null||_===void 0)&&_.icon?(p.icon.className=b.ThemeIcon.asClassName(v.group.icon),v.group.icon.color&&(p.icon.style.color=(0,t.asCssVariable)(v.group.icon.color.id))):(p.icon.className=b.ThemeIcon.asClassName(y.Codicon.lightBulb),p.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!v.item||!v.label)return;p.text.textContent=u(v.label),p.keybinding.set(v.keybinding),f.setVisibility(!!v.keybinding,p.keybinding.element);const I=(S=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||S===void 0?void 0:S.getLabel(),T=(E=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||E===void 0?void 0:E.getLabel();p.container.classList.toggle("option-disabled",v.disabled),v.disabled?p.container.title=v.label:I&&T?this._supportsPreview&&v.canPreview?p.container.title=(0,C.localize)(0,null,I,T):p.container.title=(0,C.localize)(1,null,I):p.container.title=""}disposeTemplate(v){v.keybinding.dispose()}};c=ke([ge(1,n.IKeybindingService)],c);class g extends UIEvent{constructor(){super("acceptSelectedAction")}}class l extends UIEvent{constructor(){super("previewSelectedAction")}}function r(a){if(a.kind==="action")return a.label}let d=class extends m.Disposable{constructor(v,h,p,_,S,E){super(),this._delegate=_,this._contextViewService=S,this._keybindingService=E,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new D.CancellationTokenSource),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const I={getHeight:T=>T.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:T=>T.kind};this._list=this._register(new L.List(v,this.domNode,I,[new c(h,this._keybindingService),new s],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:r},accessibilityProvider:{getAriaLabel:T=>{if(T.kind==="action"){let N=T.label?u(T?.label):"";return T.disabled&&(N=(0,C.localize)(2,null,N,T.disabled)),N}return null},getWidgetAriaLabel:()=>(0,C.localize)(3,null),getRole:T=>T.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(i.defaultListStyles),this._register(this._list.onMouseClick(T=>this.onListClick(T))),this._register(this._list.onMouseOver(T=>this.onListHover(T))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(T=>this.onListSelection(T))),this._allMenuItems=p,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(v){return!v.disabled&&v.kind==="action"}hide(v){this._delegate.onHide(v),this.cts.cancel(),this._contextViewService.hideContextView()}layout(v){const h=this._allMenuItems.filter(T=>T.kind==="header").length,_=this._allMenuItems.length*this._actionLineHeight+h*this._headerLineHeight-h*this._actionLineHeight;this._list.layout(_);let S=v;if(this._allMenuItems.length>=50)S=380;else{const T=this._allMenuItems.map((N,A)=>{const R=this.domNode.ownerDocument.getElementById(this._list.getElementID(A));if(R){R.style.width="auto";const M=R.getBoundingClientRect().width;return R.style.width="",M}return 0});S=Math.max(...T,v)}const I=Math.min(_,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(I,S),this.domNode.style.height=`${I}px`,this._list.domFocus(),S}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(v){const h=this._list.getFocus();if(h.length===0)return;const p=h[0],_=this._list.element(p);if(!this.focusCondition(_))return;const S=v?new l:new g;this._list.setSelection([p],S)}onListSelection(v){if(!v.elements.length)return;const h=v.elements[0];h.item&&this.focusCondition(h)?this._delegate.onSelect(h.item,v.browserEvent instanceof l):this._list.setSelection([])}onFocus(){var v,h;const p=this._list.getFocus();if(p.length===0)return;const _=p[0],S=this._list.element(_);(h=(v=this._delegate).onFocus)===null||h===void 0||h.call(v,S.item)}async onListHover(v){const h=v.element;if(h&&h.item&&this.focusCondition(h)){if(this._delegate.onHover&&!h.disabled&&h.kind==="action"){const p=await this._delegate.onHover(h.item,this.cts.token);h.canPreview=p?p.canPreview:void 0}v.index&&this._list.splice(v.index,1,[h])}this._list.setFocus(typeof v.index=="number"?[v.index]:[])}onListClick(v){v.element&&this.focusCondition(v.element)&&this._list.setFocus([])}};e.ActionList=d,e.ActionList=d=ke([ge(4,o.IContextViewService),ge(5,n.IKeybindingService)],d);function u(a){return a.replace(/\r\n|\r|\n/g," ")}}),define(ne[900],se([1,0,6,82,2,779,899,29,14,58,49,8,33,300]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,n.registerColor)("actionBar.toggledBackground",{dark:n.inputActiveOptionBackground,light:n.inputActiveOptionBackground,hcDark:n.inputActiveOptionBackground,hcLight:n.inputActiveOptionBackground},(0,D.localize)(0,null));const i={Visible:new w.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(1,null))};e.IActionWidgetService=(0,o.createDecorator)("actionWidgetService");let t=class extends L.Disposable{get isVisible(){return i.Visible.getValue(this._contextKeyService)||!1}constructor(g,l,r){super(),this._contextViewService=g,this._contextKeyService=l,this._instantiationService=r,this._list=this._register(new L.MutableDisposable)}show(g,l,r,d,u,a,v){const h=i.Visible.bindTo(this._contextKeyService),p=this._instantiationService.createInstance(y.ActionList,g,l,r,d);this._contextViewService.showContextView({getAnchor:()=>u,render:_=>(h.set(!0),this._renderWidget(_,p,v??[])),onHide:_=>{h.reset(),this._onWidgetClosed(_)}},a,!1)}acceptSelected(g){var l;(l=this._list.value)===null||l===void 0||l.acceptSelected(g)}focusPrevious(){var g,l;(l=(g=this._list)===null||g===void 0?void 0:g.value)===null||l===void 0||l.focusPrevious()}focusNext(){var g,l;(l=(g=this._list)===null||g===void 0?void 0:g.value)===null||l===void 0||l.focusNext()}hide(g){var l;(l=this._list.value)===null||l===void 0||l.hide(g),this._list.clear()}_renderWidget(g,l,r){var d;const u=document.createElement("div");if(u.classList.add("action-widget"),g.appendChild(u),this._list.value=l,this._list.value)u.appendChild(this._list.value.domNode);else throw new Error("List has no value");const a=new L.DisposableStore,v=document.createElement("div"),h=g.appendChild(v);h.classList.add("context-view-block"),a.add(f.addDisposableListener(h,f.EventType.MOUSE_DOWN,T=>T.stopPropagation()));const p=document.createElement("div"),_=g.appendChild(p);_.classList.add("context-view-pointerBlock"),a.add(f.addDisposableListener(_,f.EventType.POINTER_MOVE,()=>_.remove())),a.add(f.addDisposableListener(_,f.EventType.MOUSE_DOWN,()=>_.remove()));let S=0;if(r.length){const T=this._createActionBar(".action-widget-action-bar",r);T&&(u.appendChild(T.getContainer().parentElement),a.add(T),S=T.getContainer().offsetWidth)}const E=(d=this._list.value)===null||d===void 0?void 0:d.layout(S);u.style.width=`${E}px`;const I=a.add(f.trackFocus(g));return a.add(I.onDidBlur(()=>this.hide(!0))),a}_createActionBar(g,l){if(!l.length)return;const r=f.$(g),d=new k.ActionBar(r);return d.push(l,{icon:!1,label:!0}),d}_onWidgetClosed(g){var l;(l=this._list.value)===null||l===void 0||l.hide(g)}};t=ke([ge(0,b.IContextViewService),ge(1,w.IContextKeyService),ge(2,o.IInstantiationService)],t),(0,C.registerSingleton)(e.IActionWidgetService,t,1);const s=1100;(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"hideCodeActionWidget",title:(0,D.localize2)(2,"Hide action widget"),precondition:i.Visible,keybinding:{weight:s,primary:9,secondary:[1033]}})}run(c){c.get(e.IActionWidgetService).hide(!0)}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectPrevCodeAction",title:(0,D.localize2)(3,"Select previous action"),precondition:i.Visible,keybinding:{weight:s,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(c){const g=c.get(e.IActionWidgetService);g instanceof t&&g.focusPrevious()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectNextCodeAction",title:(0,D.localize2)(4,"Select next action"),precondition:i.Visible,keybinding:{weight:s,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(c){const g=c.get(e.IActionWidgetService);g instanceof t&&g.focusNext()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:y.acceptSelectedActionCommand,title:(0,D.localize2)(5,"Accept selected action"),precondition:i.Visible,keybinding:{weight:s,primary:3,secondary:[2137]}})}run(c){const g=c.get(e.IActionWidgetService);g instanceof t&&g.acceptSelected()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:y.previewSelectedActionCommand,title:(0,D.localize2)(6,"Preview selected action"),precondition:i.Visible,keybinding:{weight:s,primary:2051}})}run(c){const g=c.get(e.IActionWidgetService);g instanceof t&&g.acceptSelected(!0)}})}),define(ne[901],se([1,0,6,74,636,41,9,2,106]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class b{constructor(o,n,i,t){this.contextViewService=o,this.telemetryService=n,this.notificationService=i,this.keybindingService=t,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(o){this.options=o}showContextMenu(o){const n=o.getActions();if(!n.length)return;this.focusToReturn=(0,f.getActiveElement)();let i;const t=(0,f.isHTMLElement)(o.domForShadowRoot)?o.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>o.getAnchor(),canRelayout:!1,anchorAlignment:o.anchorAlignment,anchorAxisAlignment:o.anchorAxisAlignment,render:s=>{var c;this.lastContainer=s;const g=o.getMenuClassName?o.getMenuClassName():"";g&&(s.className+=" "+g),this.options.blockMouse&&(this.block=s.appendChild((0,f.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(c=this.blockDisposable)===null||c===void 0||c.dispose(),this.blockDisposable=(0,f.addDisposableListener)(this.block,f.EventType.MOUSE_DOWN,u=>u.stopPropagation()));const l=new m.DisposableStore,r=o.actionRunner||new D.ActionRunner;r.onWillRun(u=>this.onActionRun(u,!o.skipTelemetry),this,l),r.onDidRun(this.onDidActionRun,this,l),i=new L.Menu(s,n,{actionViewItemProvider:o.getActionViewItem,context:o.getActionsContext?o.getActionsContext():null,actionRunner:r,getKeyBinding:o.getKeyBinding?o.getKeyBinding:u=>this.keybindingService.lookupKeybinding(u.id)},w.defaultMenuStyles),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,l),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,l);const d=(0,f.getWindow)(s);return l.add((0,f.addDisposableListener)(d,f.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),l.add((0,f.addDisposableListener)(d,f.EventType.MOUSE_DOWN,u=>{if(u.defaultPrevented)return;const a=new k.StandardMouseEvent(d,u);let v=a.target;if(!a.rightButton){for(;v;){if(v===s)return;v=v.parentElement}this.contextViewService.hideContextView(!0)}})),(0,m.combinedDisposable)(l,i)},focus:()=>{i?.focus(!!o.autoSelectFirstItem)},onHide:s=>{var c,g,l;(c=o.onHide)===null||c===void 0||c.call(o,!!s),this.block&&(this.block.remove(),this.block=null),(g=this.blockDisposable)===null||g===void 0||g.dispose(),this.blockDisposable=null,this.lastContainer&&((0,f.getActiveElement)()===this.lastContainer||(0,f.isAncestor)((0,f.getActiveElement)(),this.lastContainer))&&((l=this.focusToReturn)===null||l===void 0||l.focus()),this.lastContainer=null}},t,!!t)}onActionRun(o,n){n&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:o.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(o){o.error&&!(0,y.isCancellationError)(o.error)&&this.notificationService.error(o.error)}}e.ContextMenuHandler=b}),define(ne[210],se([1,0,6,631,111,632,171,639,638,350,7,2,790,28,105,14,174,58,8,32,39,106]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.WorkbenchTreeStickyScrollFocused=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,l.createDecorator)("listService");class a{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new o.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(de){var me,ve;de!==this._lastFocusedWidget&&((me=this._lastFocusedWidget)===null||me===void 0||me.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=de,(ve=this._lastFocusedWidget)===null||ve===void 0||ve.getHTMLElement().classList.add("last-focused"))}register(de,me){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new L.DefaultStyleController((0,f.createStyleSheet)(),"").style(u.defaultListStyles)),this.lists.some(Ce=>Ce.widget===de))throw new Error("Cannot register the same widget multiple times");const ve={widget:de,extraContextKeys:me};return this.lists.push(ve),(0,f.isActiveElement)(de.getHTMLElement())&&this.setLastFocusedList(de),(0,o.combinedDisposable)(de.onDidFocus(()=>this.setLastFocusedList(de)),(0,o.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ve),1)),de.onDidDispose(()=>{this.lists=this.lists.filter(Ce=>Ce!==ve),this._lastFocusedWidget===de&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=a,e.RawWorkbenchListScrollAtBoundaryContextKey=new s.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=s.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=s.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new s.RawContextKey("listFocus",!0),e.WorkbenchTreeStickyScrollFocused=new s.RawContextKey("treestickyScrollFocused",!1),e.WorkbenchListSupportsMultiSelectContextKey=new s.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=s.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,s.ContextKeyExpr.not(c.InputFocusedContextKey),e.WorkbenchTreeStickyScrollFocused.negate()),e.WorkbenchListHasSelectionOrFocus=new s.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new s.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new s.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new s.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new s.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new s.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new s.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new s.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new s.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new s.RawContextKey("treeFindOpen",!1);const v="listTypeNavigationMode",h="listAutomaticKeyboardNavigation";function p(le,de){const me=le.createScoped(de.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(me),me}function _(le,de){const me=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(le),ve=()=>{const Ce=de.scrollTop===0,ye=de.scrollHeight-de.renderHeight-de.scrollTop<1;Ce&&ye?me.set("both"):Ce?me.set("top"):ye?me.set("bottom"):me.set("none")};return ve(),de.onDidScroll(ve)}const S="workbench.list.multiSelectModifier",E="workbench.list.openMode",I="workbench.list.horizontalScrolling",T="workbench.list.defaultFindMode",N="workbench.list.typeNavigationMode",A="workbench.list.keyboardNavigation",R="workbench.list.scrollByPage",M="workbench.list.defaultFindMatchType",P="workbench.tree.indent",F="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",B="workbench.list.mouseWheelScrollSensitivity",V="workbench.list.fastScrollSensitivity",K="workbench.tree.expandMode",U="workbench.tree.enableStickyScroll",G="workbench.tree.stickyScrollMaxItemCount";function z(le){return le.getValue(S)==="alt"}class $ extends o.Disposable{constructor(de){super(),this.configurationService=de,this.useAltAsMultipleSelectionModifier=z(de),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(de=>{de.affectsConfiguration(S)&&(this.useAltAsMultipleSelectionModifier=z(this.configurationService))}))}isSelectionSingleChangeEvent(de){return this.useAltAsMultipleSelectionModifier?de.browserEvent.altKey:(0,L.isSelectionSingleChangeEvent)(de)}isSelectionRangeChangeEvent(de){return(0,L.isSelectionRangeChangeEvent)(de)}}function J(le,de){var me;const ve=le.get(i.IConfigurationService),Ce=le.get(r.IKeybindingService),ye=new o.DisposableStore;return[{...de,keyboardNavigationDelegate:{mightProducePrintableCharacter(Te){return Ce.mightProducePrintableCharacter(Te)}},smoothScrolling:!!ve.getValue(O),mouseWheelScrollSensitivity:ve.getValue(B),fastScrollSensitivity:ve.getValue(V),multipleSelectionController:(me=de.multipleSelectionController)!==null&&me!==void 0?me:ye.add(new $(ve)),keyboardNavigationEventFilter:pe(Ce),scrollByPage:!!ve.getValue(R)},ye]}let ee=class extends L.List{constructor(de,me,ve,Ce,ye,Se,Te,De,Me){const Ae=typeof ye.horizontalScrolling<"u"?ye.horizontalScrolling:!!De.getValue(I),[Pe,Re]=Me.invokeFunction(J,ye);super(de,me,ve,Ce,{keyboardSupport:!1,...Pe,horizontalScrolling:Ae}),this.disposables.add(Re),this.contextKeyService=p(Se,this),this.disposables.add(_(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ye.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ye.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ye.horizontalScrolling,this._useAltAsMultipleSelectionModifier=z(De),this.disposables.add(this.contextKeyService),this.disposables.add(Te.register(this)),this.updateStyles(ye.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ne=this.getSelection(),fe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ne.length>0||fe.length>0),this.listMultiSelection.set(Ne.length>1),this.listDoubleSelection.set(Ne.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ne=this.getSelection(),fe=this.getFocus();this.listHasSelectionOrFocus.set(Ne.length>0||fe.length>0)})),this.disposables.add(De.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=z(De));let fe={};if(Ne.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const _e=!!De.getValue(I);fe={...fe,horizontalScrolling:_e}}if(Ne.affectsConfiguration(R)){const _e=!!De.getValue(R);fe={...fe,scrollByPage:_e}}if(Ne.affectsConfiguration(O)){const _e=!!De.getValue(O);fe={...fe,smoothScrolling:_e}}if(Ne.affectsConfiguration(B)){const _e=De.getValue(B);fe={...fe,mouseWheelScrollSensitivity:_e}}if(Ne.affectsConfiguration(V)){const _e=De.getValue(V);fe={...fe,fastScrollSensitivity:_e}}Object.keys(fe).length>0&&this.updateOptions(fe)})),this.navigator=new ae(this,{configurationService:De,...ye}),this.disposables.add(this.navigator)}updateOptions(de){super.updateOptions(de),de.overrideStyles!==void 0&&this.updateStyles(de.overrideStyles),de.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!de.multipleSelectionSupport)}updateStyles(de){this.style(de?(0,u.getListStyles)(de):u.defaultListStyles)}};e.WorkbenchList=ee,e.WorkbenchList=ee=ke([ge(5,s.IContextKeyService),ge(6,e.IListService),ge(7,i.IConfigurationService),ge(8,l.IInstantiationService)],ee);let Z=class extends k.PagedList{constructor(de,me,ve,Ce,ye,Se,Te,De,Me){const Ae=typeof ye.horizontalScrolling<"u"?ye.horizontalScrolling:!!De.getValue(I),[Pe,Re]=Me.invokeFunction(J,ye);super(de,me,ve,Ce,{keyboardSupport:!1,...Pe,horizontalScrolling:Ae}),this.disposables=new o.DisposableStore,this.disposables.add(Re),this.contextKeyService=p(Se,this),this.disposables.add(_(this.contextKeyService,this.widget)),this.horizontalScrolling=ye.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ye.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ye.selectionNavigation),this._useAltAsMultipleSelectionModifier=z(De),this.disposables.add(this.contextKeyService),this.disposables.add(Te.register(this)),this.updateStyles(ye.overrideStyles),this.disposables.add(De.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=z(De));let fe={};if(Ne.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const _e=!!De.getValue(I);fe={...fe,horizontalScrolling:_e}}if(Ne.affectsConfiguration(R)){const _e=!!De.getValue(R);fe={...fe,scrollByPage:_e}}if(Ne.affectsConfiguration(O)){const _e=!!De.getValue(O);fe={...fe,smoothScrolling:_e}}if(Ne.affectsConfiguration(B)){const _e=De.getValue(B);fe={...fe,mouseWheelScrollSensitivity:_e}}if(Ne.affectsConfiguration(V)){const _e=De.getValue(V);fe={...fe,fastScrollSensitivity:_e}}Object.keys(fe).length>0&&this.updateOptions(fe)})),this.navigator=new ae(this,{configurationService:De,...ye}),this.disposables.add(this.navigator)}updateOptions(de){super.updateOptions(de),de.overrideStyles!==void 0&&this.updateStyles(de.overrideStyles),de.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!de.multipleSelectionSupport)}updateStyles(de){this.style(de?(0,u.getListStyles)(de):u.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=Z,e.WorkbenchPagedList=Z=ke([ge(5,s.IContextKeyService),ge(6,e.IListService),ge(7,i.IConfigurationService),ge(8,l.IInstantiationService)],Z);let x=class extends D.Table{constructor(de,me,ve,Ce,ye,Se,Te,De,Me,Ae){const Pe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!Me.getValue(I),[Re,Ee]=Ae.invokeFunction(J,Se);super(de,me,ve,Ce,ye,{keyboardSupport:!1,...Re,horizontalScrolling:Pe}),this.disposables.add(Ee),this.contextKeyService=p(Te,this),this.disposables.add(_(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Se.horizontalScrolling,this._useAltAsMultipleSelectionModifier=z(Me),this.disposables.add(this.contextKeyService),this.disposables.add(De.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const fe=this.getSelection(),_e=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(fe.length>0||_e.length>0),this.listMultiSelection.set(fe.length>1),this.listDoubleSelection.set(fe.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const fe=this.getSelection(),_e=this.getFocus();this.listHasSelectionOrFocus.set(fe.length>0||_e.length>0)})),this.disposables.add(Me.onDidChangeConfiguration(fe=>{fe.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=z(Me));let _e={};if(fe.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Oe=!!Me.getValue(I);_e={..._e,horizontalScrolling:Oe}}if(fe.affectsConfiguration(R)){const Oe=!!Me.getValue(R);_e={..._e,scrollByPage:Oe}}if(fe.affectsConfiguration(O)){const Oe=!!Me.getValue(O);_e={..._e,smoothScrolling:Oe}}if(fe.affectsConfiguration(B)){const Oe=Me.getValue(B);_e={..._e,mouseWheelScrollSensitivity:Oe}}if(fe.affectsConfiguration(V)){const Oe=Me.getValue(V);_e={..._e,fastScrollSensitivity:Oe}}Object.keys(_e).length>0&&this.updateOptions(_e)})),this.navigator=new ue(this,{configurationService:Me,...Se}),this.disposables.add(this.navigator)}updateOptions(de){super.updateOptions(de),de.overrideStyles!==void 0&&this.updateStyles(de.overrideStyles),de.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!de.multipleSelectionSupport)}updateStyles(de){this.style(de?(0,u.getListStyles)(de):u.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=x,e.WorkbenchTable=x=ke([ge(6,s.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService),ge(9,l.IInstantiationService)],x);class Y extends o.Disposable{constructor(de,me){var ve;super(),this.widget=de,this._onDidOpen=this._register(new C.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(C.Event.filter(this.widget.onDidChangeSelection,Ce=>(0,f.isKeyboardEvent)(Ce.browserEvent))(Ce=>this.onSelectionFromKeyboard(Ce))),this._register(this.widget.onPointer(Ce=>this.onPointer(Ce.element,Ce.browserEvent))),this._register(this.widget.onMouseDblClick(Ce=>this.onMouseDblClick(Ce.element,Ce.browserEvent))),typeof me?.openOnSingleClick!="boolean"&&me?.configurationService?(this.openOnSingleClick=me?.configurationService.getValue(E)!=="doubleClick",this._register(me?.configurationService.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(E)&&(this.openOnSingleClick=me?.configurationService.getValue(E)!=="doubleClick")}))):this.openOnSingleClick=(ve=me?.openOnSingleClick)!==null&&ve!==void 0?ve:!0}onSelectionFromKeyboard(de){if(de.elements.length!==1)return;const me=de.browserEvent,ve=typeof me.preserveFocus=="boolean"?me.preserveFocus:!0,Ce=typeof me.pinned=="boolean"?me.pinned:!ve;this._open(this.getSelectedElement(),ve,Ce,!1,de.browserEvent)}onPointer(de,me){if(!this.openOnSingleClick||me.detail===2)return;const Ce=me.button===1,ye=!0,Se=Ce,Te=me.ctrlKey||me.metaKey||me.altKey;this._open(de,ye,Se,Te,me)}onMouseDblClick(de,me){if(!me)return;const ve=me.target;if(ve.classList.contains("monaco-tl-twistie")||ve.classList.contains("monaco-icon-label")&&ve.classList.contains("folder-icon")&&me.offsetX<16)return;const ye=!1,Se=!0,Te=me.ctrlKey||me.metaKey||me.altKey;this._open(de,ye,Se,Te,me)}_open(de,me,ve,Ce,ye){de&&this._onDidOpen.fire({editorOptions:{preserveFocus:me,pinned:ve,revealIfVisible:!0},sideBySide:Ce,element:de,browserEvent:ye})}}class ae extends Y{constructor(de,me){super(de,me),this.widget=de}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ue extends Y{constructor(de,me){super(de,me)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class he extends Y{constructor(de,me){super(de,me)}getSelectedElement(){var de;return(de=this.widget.getSelection()[0])!==null&&de!==void 0?de:void 0}}function pe(le){let de=!1;return me=>{if(me.toKeyCodeChord().isModifierKey())return!1;if(de)return de=!1,!1;const ve=le.softDispatch(me,me.target);return ve.kind===1?(de=!0,!1):(de=!1,ve.kind===0)}}let ce=class extends b.ObjectTree{constructor(de,me,ve,Ce,ye,Se,Te,De,Me){const{options:Ae,getTypeNavigationMode:Pe,disposable:Re}=Se.invokeFunction(j,ye);super(de,me,ve,Ce,Ae),this.disposables.add(Re),this.internals=new Q(this,ye,Pe,ye.overrideStyles,Te,De,Me),this.disposables.add(this.internals)}updateOptions(de){super.updateOptions(de),this.internals.updateOptions(de)}};e.WorkbenchObjectTree=ce,e.WorkbenchObjectTree=ce=ke([ge(5,l.IInstantiationService),ge(6,s.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService)],ce);let ie=class extends b.CompressibleObjectTree{constructor(de,me,ve,Ce,ye,Se,Te,De,Me){const{options:Ae,getTypeNavigationMode:Pe,disposable:Re}=Se.invokeFunction(j,ye);super(de,me,ve,Ce,Ae),this.disposables.add(Re),this.internals=new Q(this,ye,Pe,ye.overrideStyles,Te,De,Me),this.disposables.add(this.internals)}updateOptions(de={}){super.updateOptions(de),de.overrideStyles&&this.internals.updateStyleOverrides(de.overrideStyles),this.internals.updateOptions(de)}};e.WorkbenchCompressibleObjectTree=ie,e.WorkbenchCompressibleObjectTree=ie=ke([ge(5,l.IInstantiationService),ge(6,s.IContextKeyService),ge(7,e.IListService),ge(8,i.IConfigurationService)],ie);let oe=class extends w.DataTree{constructor(de,me,ve,Ce,ye,Se,Te,De,Me,Ae){const{options:Pe,getTypeNavigationMode:Re,disposable:Ee}=Te.invokeFunction(j,Se);super(de,me,ve,Ce,ye,Pe),this.disposables.add(Ee),this.internals=new Q(this,Se,Re,Se.overrideStyles,De,Me,Ae),this.disposables.add(this.internals)}updateOptions(de={}){super.updateOptions(de),de.overrideStyles!==void 0&&this.internals.updateStyleOverrides(de.overrideStyles),this.internals.updateOptions(de)}};e.WorkbenchDataTree=oe,e.WorkbenchDataTree=oe=ke([ge(6,l.IInstantiationService),ge(7,s.IContextKeyService),ge(8,e.IListService),ge(9,i.IConfigurationService)],oe);let re=class extends m.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(de,me,ve,Ce,ye,Se,Te,De,Me,Ae){const{options:Pe,getTypeNavigationMode:Re,disposable:Ee}=Te.invokeFunction(j,Se);super(de,me,ve,Ce,ye,Pe),this.disposables.add(Ee),this.internals=new Q(this,Se,Re,Se.overrideStyles,De,Me,Ae),this.disposables.add(this.internals)}updateOptions(de={}){super.updateOptions(de),de.overrideStyles&&this.internals.updateStyleOverrides(de.overrideStyles),this.internals.updateOptions(de)}};e.WorkbenchAsyncDataTree=re,e.WorkbenchAsyncDataTree=re=ke([ge(6,l.IInstantiationService),ge(7,s.IContextKeyService),ge(8,e.IListService),ge(9,i.IConfigurationService)],re);let W=class extends m.CompressibleAsyncDataTree{constructor(de,me,ve,Ce,ye,Se,Te,De,Me,Ae,Pe){const{options:Re,getTypeNavigationMode:Ee,disposable:Ne}=De.invokeFunction(j,Te);super(de,me,ve,Ce,ye,Se,Re),this.disposables.add(Ne),this.internals=new Q(this,Te,Ee,Te.overrideStyles,Me,Ae,Pe),this.disposables.add(this.internals)}updateOptions(de){super.updateOptions(de),this.internals.updateOptions(de)}};e.WorkbenchCompressibleAsyncDataTree=W,e.WorkbenchCompressibleAsyncDataTree=W=ke([ge(7,l.IInstantiationService),ge(8,s.IContextKeyService),ge(9,e.IListService),ge(10,i.IConfigurationService)],W);function q(le){const de=le.getValue(T);if(de==="highlight")return y.TreeFindMode.Highlight;if(de==="filter")return y.TreeFindMode.Filter;const me=le.getValue(A);if(me==="simple"||me==="highlight")return y.TreeFindMode.Highlight;if(me==="filter")return y.TreeFindMode.Filter}function H(le){const de=le.getValue(M);if(de==="fuzzy")return y.TreeFindMatchType.Fuzzy;if(de==="contiguous")return y.TreeFindMatchType.Contiguous}function j(le,de){var me;const ve=le.get(i.IConfigurationService),Ce=le.get(g.IContextViewService),ye=le.get(s.IContextKeyService),Se=le.get(l.IInstantiationService),Te=()=>{const Ee=ye.getContextKeyValue(v);if(Ee==="automatic")return L.TypeNavigationMode.Automatic;if(Ee==="trigger"||ye.getContextKeyValue(h)===!1)return L.TypeNavigationMode.Trigger;const fe=ve.getValue(N);if(fe==="automatic")return L.TypeNavigationMode.Automatic;if(fe==="trigger")return L.TypeNavigationMode.Trigger},De=de.horizontalScrolling!==void 0?de.horizontalScrolling:!!ve.getValue(I),[Me,Ae]=Se.invokeFunction(J,de),Pe=de.paddingBottom,Re=de.renderIndentGuides!==void 0?de.renderIndentGuides:ve.getValue(F);return{getTypeNavigationMode:Te,disposable:Ae,options:{keyboardSupport:!1,...Me,indent:typeof ve.getValue(P)=="number"?ve.getValue(P):void 0,renderIndentGuides:Re,smoothScrolling:!!ve.getValue(O),defaultFindMode:q(ve),defaultFindMatchType:H(ve),horizontalScrolling:De,scrollByPage:!!ve.getValue(R),paddingBottom:Pe,hideTwistiesOfChildlessElements:de.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(me=de.expandOnlyOnTwistieClick)!==null&&me!==void 0?me:ve.getValue(K)==="doubleClick",contextViewProvider:Ce,findWidgetStyles:u.defaultFindWidgetStyles,enableStickyScroll:!!ve.getValue(U),stickyScrollMaxItemCount:Number(ve.getValue(G))}}}let Q=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(de,me,ve,Ce,ye,Se,Te){var De;this.tree=de,this.disposables=[],this.contextKeyService=p(ye,de),this.disposables.push(_(this.contextKeyService,de)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(me.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!me.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((De=me.findWidgetEnabled)!==null&&De!==void 0?De:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this.treeStickyScrollFocused=e.WorkbenchTreeStickyScrollFocused.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=z(Te),this.updateStyleOverrides(Ce);const Ae=()=>{const Re=de.getFocus()[0];if(!Re)return;const Ee=de.getNode(Re);this.treeElementCanCollapse.set(Ee.collapsible&&!Ee.collapsed),this.treeElementHasParent.set(!!de.getParentElement(Re)),this.treeElementCanExpand.set(Ee.collapsible&&Ee.collapsed),this.treeElementHasChild.set(!!de.getFirstElementChild(Re))},Pe=new Set;Pe.add(v),Pe.add(h),this.disposables.push(this.contextKeyService,Se.register(de),de.onDidChangeSelection(()=>{const Re=de.getSelection(),Ee=de.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Re.length>0||Ee.length>0),this.hasMultiSelection.set(Re.length>1),this.hasDoubleSelection.set(Re.length===2)})}),de.onDidChangeFocus(()=>{const Re=de.getSelection(),Ee=de.getFocus();this.hasSelectionOrFocus.set(Re.length>0||Ee.length>0),Ae()}),de.onDidChangeCollapseState(Ae),de.onDidChangeModel(Ae),de.onDidChangeFindOpenState(Re=>this.treeFindOpen.set(Re)),de.onDidChangeStickyScrollFocused(Re=>this.treeStickyScrollFocused.set(Re)),Te.onDidChangeConfiguration(Re=>{let Ee={};if(Re.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=z(Te)),Re.affectsConfiguration(P)){const Ne=Te.getValue(P);Ee={...Ee,indent:Ne}}if(Re.affectsConfiguration(F)&&me.renderIndentGuides===void 0){const Ne=Te.getValue(F);Ee={...Ee,renderIndentGuides:Ne}}if(Re.affectsConfiguration(O)){const Ne=!!Te.getValue(O);Ee={...Ee,smoothScrolling:Ne}}if(Re.affectsConfiguration(T)||Re.affectsConfiguration(A)){const Ne=q(Te);Ee={...Ee,defaultFindMode:Ne}}if(Re.affectsConfiguration(N)||Re.affectsConfiguration(A)){const Ne=ve();Ee={...Ee,typeNavigationMode:Ne}}if(Re.affectsConfiguration(M)){const Ne=H(Te);Ee={...Ee,defaultFindMatchType:Ne}}if(Re.affectsConfiguration(I)&&me.horizontalScrolling===void 0){const Ne=!!Te.getValue(I);Ee={...Ee,horizontalScrolling:Ne}}if(Re.affectsConfiguration(R)){const Ne=!!Te.getValue(R);Ee={...Ee,scrollByPage:Ne}}if(Re.affectsConfiguration(K)&&me.expandOnlyOnTwistieClick===void 0&&(Ee={...Ee,expandOnlyOnTwistieClick:Te.getValue(K)==="doubleClick"}),Re.affectsConfiguration(U)){const Ne=Te.getValue(U);Ee={...Ee,enableStickyScroll:Ne}}if(Re.affectsConfiguration(G)){const Ne=Math.max(1,Te.getValue(G));Ee={...Ee,stickyScrollMaxItemCount:Ne}}if(Re.affectsConfiguration(B)){const Ne=Te.getValue(B);Ee={...Ee,mouseWheelScrollSensitivity:Ne}}if(Re.affectsConfiguration(V)){const Ne=Te.getValue(V);Ee={...Ee,fastScrollSensitivity:Ne}}Object.keys(Ee).length>0&&de.updateOptions(Ee)}),this.contextKeyService.onDidChangeContext(Re=>{Re.affectsSome(Pe)&&de.updateOptions({typeNavigationMode:ve()})})),this.navigator=new he(de,{configurationService:Te,...me}),this.disposables.push(this.navigator)}updateOptions(de){de.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!de.multipleSelectionSupport)}updateStyleOverrides(de){this.tree.style(de?(0,u.getListStyles)(de):u.defaultListStyles)}dispose(){this.disposables=(0,o.dispose)(this.disposables)}};Q=ke([ge(4,s.IContextKeyService),ge(5,e.IListService),ge(6,i.IConfigurationService)],Q),d.Registry.as(t.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,n.localize)(0,null),type:"object",properties:{[S]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,n.localize)(1,null),(0,n.localize)(2,null)],default:"ctrlCmd",description:(0,n.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,n.localize)(4,null)},[I]:{type:"boolean",default:!1,description:(0,n.localize)(5,null)},[R]:{type:"boolean",default:!1,description:(0,n.localize)(6,null)},[P]:{type:"number",default:8,minimum:4,maximum:40,description:(0,n.localize)(7,null)},[F]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,n.localize)(8,null)},[O]:{type:"boolean",default:!1,description:(0,n.localize)(9,null)},[B]:{type:"number",default:1,markdownDescription:(0,n.localize)(10,null)},[V]:{type:"number",default:5,markdownDescription:(0,n.localize)(11,null)},[T]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,n.localize)(12,null),(0,n.localize)(13,null)],default:"highlight",description:(0,n.localize)(14,null)},[A]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,n.localize)(15,null),(0,n.localize)(16,null),(0,n.localize)(17,null)],default:"highlight",description:(0,n.localize)(18,null),deprecated:!0,deprecationMessage:(0,n.localize)(19,null)},[M]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,n.localize)(20,null),(0,n.localize)(21,null)],default:"fuzzy",description:(0,n.localize)(22,null)},[K]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,n.localize)(23,null)},[U]:{type:"boolean",default:!0,description:(0,n.localize)(24,null)},[G]:{type:"number",minimum:1,default:7,markdownDescription:(0,n.localize)(25,null)},[N]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,n.localize)(26,null)}}})}),define(ne[76],se([1,0,15,26,187,31,7,20,22,809,267,39]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.registerIcon=c,e.getIconRegistry=g,e.Extensions={IconContribution:"base.contributions.icons"};var n;(function(u){function a(v,h){let p=v.defaults;for(;D.ThemeIcon.isThemeIcon(p);){const _=s.getIcon(p.id);if(!_)return;p=_.defaults}return p}u.getDefinition=a})(n||(e.IconContribution=n={}));var i;(function(u){function a(h){return{weight:h.weight,style:h.style,src:h.src.map(p=>({format:p.format,location:p.location.toString()}))}}u.toJSONObject=a;function v(h){const p=_=>(0,m.isString)(_)?_:void 0;if(h&&Array.isArray(h.src)&&h.src.every(_=>(0,m.isString)(_.format)&&(0,m.isString)(_.location)))return{weight:p(h.weight),style:p(h.style),src:h.src.map(_=>({format:_.format,location:w.URI.parse(_.location)}))}}u.fromJSONObject=v})(i||(e.IconFontDefinition=i={}));class t{constructor(){this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,b.localize)(0,null)},fontCharacter:{type:"string",description:(0,b.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${D.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(a,v,h,p){const _=this.iconsById[a];if(_){if(h&&!_.description){_.description=h,this.iconSchema.properties[a].markdownDescription=`${h} $(${a})`;const I=this.iconReferenceSchema.enum.indexOf(a);I!==-1&&(this.iconReferenceSchema.enumDescriptions[I]=h),this._onDidChange.fire()}return _}const S={id:a,description:h,defaults:v,deprecationMessage:p};this.iconsById[a]=S;const E={$ref:"#/definitions/icons"};return p&&(E.deprecationMessage=p),h&&(E.markdownDescription=`${h}: $(${a})`),this.iconSchema.properties[a]=E,this.iconReferenceSchema.enum.push(a),this.iconReferenceSchema.enumDescriptions.push(h||""),this._onDidChange.fire(),{id:a}}getIcons(){return Object.keys(this.iconsById).map(a=>this.iconsById[a])}getIcon(a){return this.iconsById[a]}getIconSchema(){return this.iconSchema}toString(){const a=(_,S)=>_.id.localeCompare(S.id),v=_=>{for(;D.ThemeIcon.isThemeIcon(_.defaults);)_=this.iconsById[_.defaults.id];return`codicon codicon-${_?_.id:""}`},h=[];h.push("| preview     | identifier                        | default codicon ID                | description"),h.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const p=Object.keys(this.iconsById).map(_=>this.iconsById[_]);for(const _ of p.filter(S=>!!S.description).sort(a))h.push(`|<i class="${v(_)}"></i>|${_.id}|${D.ThemeIcon.isThemeIcon(_.defaults)?_.defaults.id:_.id}|${_.description||""}|`);h.push("| preview     | identifier                        "),h.push("| ----------- | --------------------------------- |");for(const _ of p.filter(S=>!D.ThemeIcon.isThemeIcon(S.defaults)).sort(a))h.push(`|<i class="${v(_)}"></i>|${_.id}|`);return h.join(`
`)}}const s=new t;o.Registry.add(e.Extensions.IconContribution,s);function c(u,a,v,h){return s.registerIcon(u,a,v,h)}function g(){return s}function l(){const u=(0,L.getCodiconFontCharacters)();for(const a in u){const v="\\"+u[a].toString(16);s.registerIcon(a,{fontCharacter:v})}}l(),e.iconsSchemaId="vscode://schemas/icons";const r=o.Registry.as(C.Extensions.JSONContribution);r.registerSchema(e.iconsSchemaId,s.getIconSchema());const d=new f.RunOnceScheduler(()=>r.notifySchemaChanged(e.iconsSchemaId),200);s.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=c("widget-close",k.Codicon.close,(0,b.localize)(2,null)),e.gotoPreviousLocation=c("goto-previous-location",k.Codicon.arrowUp,(0,b.localize)(3,null)),e.gotoNextLocation=c("goto-next-location",k.Codicon.arrowDown,(0,b.localize)(4,null)),e.syncing=D.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=D.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(ne[902],se([1,0,6,100,82,81,41,13,26,2,30,31,72,83,38,61,67,10,5,101,43,91,133,92,666,134,8,76,481]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerModelFromEditors=e.AccessibleDiffViewer=void 0;const E=(0,S.registerIcon)("diff-review-insert",w.Codicon.add,(0,h.localize)(0,null)),I=(0,S.registerIcon)("diff-review-remove",w.Codicon.remove,(0,h.localize)(1,null)),T=(0,S.registerIcon)("diff-review-close",w.Codicon.close,(0,h.localize)(2,null));let N=class extends b.Disposable{constructor($,J,ee,Z,x,Y,ae,ue,he){super(),this._parentNode=$,this._visible=J,this._setVisible=ee,this._canClose=Z,this._width=x,this._height=Y,this._diffs=ae,this._models=ue,this._instantiationService=he,this._state=(0,C.derivedWithStore)(this,(pe,ce)=>{const ie=this._visible.read(pe);if(this._parentNode.style.visibility=ie?"visible":"hidden",!ie)return null;const oe=ce.add(this._instantiationService.createInstance(A,this._diffs,this._models,this._setVisible,this._canClose)),re=ce.add(this._instantiationService.createInstance(U,this._parentNode,oe,this._width,this._height,this._models));return{model:oe,view:re}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,C.transaction)($=>{const J=this._visible.get();this._setVisible(!0,$),J&&this._state.get().model.nextGroup($)})}prev(){(0,C.transaction)($=>{this._setVisible(!0,$),this._state.get().model.previousGroup($)})}close(){(0,C.transaction)($=>{this._setVisible(!1,$)})}};e.AccessibleDiffViewer=N,N._ttPolicy=(0,k.createTrustedTypesPolicy)("diffReview",{createHTML:z=>z}),e.AccessibleDiffViewer=N=ke([ge(8,_.IInstantiationService)],N);let A=class extends b.Disposable{constructor($,J,ee,Z,x){super(),this._diffs=$,this._models=J,this._setVisible=ee,this.canClose=Z,this._accessibilitySignalService=x,this._groups=(0,C.observableValue)(this,[]),this._currentGroupIdx=(0,C.observableValue)(this,0),this._currentElementIdx=(0,C.observableValue)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((Y,ae)=>this._groups.read(ae)[Y]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((Y,ae)=>{var ue;return(ue=this.currentGroup.read(ae))===null||ue===void 0?void 0:ue.lines[Y]}),this._register((0,C.autorun)(Y=>{const ae=this._diffs.read(Y);if(!ae){this._groups.set([],void 0);return}const ue=M(ae,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());(0,C.transaction)(he=>{const pe=this._models.getModifiedPosition();if(pe){const ce=ue.findIndex(ie=>pe?.lineNumber<ie.range.modified.endLineNumberExclusive);ce!==-1&&this._currentGroupIdx.set(ce,he)}this._groups.set(ue,he)})})),this._register((0,C.autorun)(Y=>{const ae=this.currentElement.read(Y);ae?.type===P.Deleted?this._accessibilitySignalService.playSignal(p.AccessibilitySignal.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):ae?.type===P.Added&&this._accessibilitySignalService.playSignal(p.AccessibilitySignal.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,C.autorun)(Y=>{var ae;const ue=this.currentElement.read(Y);if(ue&&ue.type!==P.Header){const he=(ae=ue.modifiedLineNumber)!==null&&ae!==void 0?ae:ue.diff.modified.startLineNumber;this._models.modifiedSetSelection(l.Range.fromPositions(new g.Position(he,1)))}}))}_goToGroupDelta($,J){const ee=this.groups.get();!ee||ee.length<=1||(0,C.subtransaction)(J,Z=>{this._currentGroupIdx.set(c.OffsetRange.ofLength(ee.length).clipCyclic(this._currentGroupIdx.get()+$),Z),this._currentElementIdx.set(0,Z)})}nextGroup($){this._goToGroupDelta(1,$)}previousGroup($){this._goToGroupDelta(-1,$)}_goToLineDelta($){const J=this.currentGroup.get();!J||J.lines.length<=1||(0,C.transaction)(ee=>{this._currentElementIdx.set(c.OffsetRange.ofLength(J.lines.length).clip(this._currentElementIdx.get()+$),ee)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($){const J=this.currentGroup.get();if(!J)return;const ee=J.lines.indexOf($);ee!==-1&&(0,C.transaction)(Z=>{this._currentElementIdx.set(ee,Z)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const $=this.currentElement.get();$&&($.type===P.Deleted?this._models.originalReveal(l.Range.fromPositions(new g.Position($.originalLineNumber,1))):this._models.modifiedReveal($.type!==P.Header?l.Range.fromPositions(new g.Position($.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};A=ke([ge(4,p.IAccessibilitySignalService)],A);const R=3;function M(z,$,J){const ee=[];for(const Z of(0,m.groupAdjacentBy)(z,(x,Y)=>Y.modified.startLineNumber-x.modified.endLineNumberExclusive<2*R)){const x=[];x.push(new O);const Y=new s.LineRange(Math.max(1,Z[0].original.startLineNumber-R),Math.min(Z[Z.length-1].original.endLineNumberExclusive+R,$+1)),ae=new s.LineRange(Math.max(1,Z[0].modified.startLineNumber-R),Math.min(Z[Z.length-1].modified.endLineNumberExclusive+R,J+1));(0,m.forEachAdjacent)(Z,(pe,ce)=>{const ie=new s.LineRange(pe?pe.original.endLineNumberExclusive:Y.startLineNumber,ce?ce.original.startLineNumber:Y.endLineNumberExclusive),oe=new s.LineRange(pe?pe.modified.endLineNumberExclusive:ae.startLineNumber,ce?ce.modified.startLineNumber:ae.endLineNumberExclusive);ie.forEach(re=>{x.push(new K(re,oe.startLineNumber+(re-ie.startLineNumber)))}),ce&&(ce.original.forEach(re=>{x.push(new B(ce,re))}),ce.modified.forEach(re=>{x.push(new V(ce,re))}))});const ue=Z[0].modified.join(Z[Z.length-1].modified),he=Z[0].original.join(Z[Z.length-1].original);ee.push(new F(new r.LineRangeMapping(ue,he),x))}return ee}var P;(function(z){z[z.Header=0]="Header",z[z.Unchanged=1]="Unchanged",z[z.Deleted=2]="Deleted",z[z.Added=3]="Added"})(P||(P={}));class F{constructor($,J){this.range=$,this.lines=J}}class O{constructor(){this.type=P.Header}}class B{constructor($,J){this.diff=$,this.originalLineNumber=J,this.type=P.Deleted,this.modifiedLineNumber=void 0}}class V{constructor($,J){this.diff=$,this.modifiedLineNumber=J,this.type=P.Added,this.originalLineNumber=void 0}}class K{constructor($,J){this.originalLineNumber=$,this.modifiedLineNumber=J,this.type=P.Unchanged}}let U=class extends b.Disposable{constructor($,J,ee,Z,x,Y){super(),this._element=$,this._model=J,this._width=ee,this._height=Z,this._models=x,this._languageService=Y,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const ae=document.createElement("div");ae.className="diff-review-actions",this._actionBar=this._register(new L.ActionBar(ae)),this._register((0,C.autorun)(ue=>{this._actionBar.clear(),this._model.canClose.read(ue)&&this._actionBar.push(new y.Action("diffreview.close",(0,h.localize)(3,null),"close-diff-review "+o.ThemeIcon.asClassName(T),!0,async()=>J.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new D.DomScrollableElement(this._content,{})),(0,f.reset)(this.domNode,this._scrollbar.getDomNode(),ae),this._register((0,C.autorun)(ue=>{this._height.read(ue),this._width.read(ue),this._scrollbar.scanDomNode()})),this._register((0,b.toDisposable)(()=>{(0,f.reset)(this.domNode)})),this._register((0,i.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,i.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,C.autorunWithStore)((ue,he)=>{this._model.currentGroup.read(ue),this._render(he)})),this._register((0,f.addStandardDisposableListener)(this.domNode,"keydown",ue=>{(ue.equals(18)||ue.equals(2066)||ue.equals(530))&&(ue.preventDefault(),this._model.goToNextLine()),(ue.equals(16)||ue.equals(2064)||ue.equals(528))&&(ue.preventDefault(),this._model.goToPreviousLine()),(ue.equals(9)||ue.equals(2057)||ue.equals(521)||ue.equals(1033))&&(ue.preventDefault(),this._model.close()),(ue.equals(10)||ue.equals(3))&&(ue.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render($){const J=this._models.getOriginalOptions(),ee=this._models.getModifiedOptions(),Z=document.createElement("div");Z.className="diff-review-table",Z.setAttribute("role","list"),Z.setAttribute("aria-label",(0,h.localize)(4,null)),(0,n.applyFontInfo)(Z,ee.get(50)),(0,f.reset)(this._content,Z);const x=this._models.getOriginalModel(),Y=this._models.getModifiedModel();if(!x||!Y)return;const ae=x.getOptions(),ue=Y.getOptions(),he=ee.get(67),pe=this._model.currentGroup.get();for(const ce of pe?.lines||[]){if(!pe)break;let ie;if(ce.type===P.Header){const re=document.createElement("div");re.className="diff-review-row",re.setAttribute("role","listitem");const W=pe.range,q=this._model.currentGroupIndex.get(),H=this._model.groups.get().length,j=de=>de===0?(0,h.localize)(5,null):de===1?(0,h.localize)(6,null):(0,h.localize)(7,null,de),Q=j(W.original.length),te=j(W.modified.length);re.setAttribute("aria-label",(0,h.localize)(8,null,q+1,H,W.original.startLineNumber,Q,W.modified.startLineNumber,te));const le=document.createElement("div");le.className="diff-review-cell diff-review-summary",le.appendChild(document.createTextNode(`${q+1}/${H}: @@ -${W.original.startLineNumber},${W.original.length} +${W.modified.startLineNumber},${W.modified.length} @@`)),re.appendChild(le),ie=re}else ie=this._createRow(ce,he,this._width.get(),J,x,ae,ee,Y,ue);Z.appendChild(ie);const oe=(0,C.derived)(re=>this._model.currentElement.read(re)===ce);$.add((0,C.autorun)(re=>{const W=oe.read(re);ie.tabIndex=W?0:-1,W&&ie.focus()})),$.add((0,f.addDisposableListener)(ie,"focus",()=>{this._model.goToLine(ce)}))}this._scrollbar.scanDomNode()}_createRow($,J,ee,Z,x,Y,ae,ue,he){const pe=Z.get(145),ce=pe.glyphMarginWidth+pe.lineNumbersWidth,ie=ae.get(145),oe=10+ie.glyphMarginWidth+ie.lineNumbersWidth;let re="diff-review-row",W="";const q="diff-review-spacer";let H=null;switch($.type){case P.Added:re="diff-review-row line-insert",W=" char-insert",H=E;break;case P.Deleted:re="diff-review-row line-delete",W=" char-delete",H=I;break}const j=document.createElement("div");j.style.minWidth=ee+"px",j.className=re,j.setAttribute("role","listitem"),j.ariaLevel="";const Q=document.createElement("div");Q.className="diff-review-cell",Q.style.height=`${J}px`,j.appendChild(Q);const te=document.createElement("span");te.style.width=ce+"px",te.style.minWidth=ce+"px",te.className="diff-review-line-number"+W,$.originalLineNumber!==void 0?te.appendChild(document.createTextNode(String($.originalLineNumber))):te.innerText="\xA0",Q.appendChild(te);const le=document.createElement("span");le.style.width=oe+"px",le.style.minWidth=oe+"px",le.style.paddingRight="10px",le.className="diff-review-line-number"+W,$.modifiedLineNumber!==void 0?le.appendChild(document.createTextNode(String($.modifiedLineNumber))):le.innerText="\xA0",Q.appendChild(le);const de=document.createElement("span");if(de.className=q,H){const Ce=document.createElement("span");Ce.className=o.ThemeIcon.asClassName(H),Ce.innerText="\xA0\xA0",de.appendChild(Ce)}else de.innerText="\xA0\xA0";Q.appendChild(de);let me;if($.modifiedLineNumber!==void 0){let Ce=this._getLineHtml(ue,ae,he.tabSize,$.modifiedLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(Ce=N._ttPolicy.createHTML(Ce)),Q.insertAdjacentHTML("beforeend",Ce),me=ue.getLineContent($.modifiedLineNumber)}else{let Ce=this._getLineHtml(x,Z,Y.tabSize,$.originalLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(Ce=N._ttPolicy.createHTML(Ce)),Q.insertAdjacentHTML("beforeend",Ce),me=x.getLineContent($.originalLineNumber)}me.length===0&&(me=(0,h.localize)(9,null));let ve="";switch($.type){case P.Unchanged:$.originalLineNumber===$.modifiedLineNumber?ve=(0,h.localize)(10,null,me,$.originalLineNumber):ve=(0,h.localize)(11,null,me,$.originalLineNumber,$.modifiedLineNumber);break;case P.Added:ve=(0,h.localize)(12,null,me,$.modifiedLineNumber);break;case P.Deleted:ve=(0,h.localize)(13,null,me,$.originalLineNumber);break}return j.setAttribute("aria-label",ve),j}_getLineHtml($,J,ee,Z,x){const Y=$.getLineContent(Z),ae=J.get(50),ue=u.LineTokens.createEmpty(Y,x),he=v.ViewLineRenderingData.isBasicASCII(Y,$.mightContainNonBasicASCII()),pe=v.ViewLineRenderingData.containsRTL(Y,he,$.mightContainRTL());return(0,a.renderViewLine2)(new a.RenderLineInput(ae.isMonospace&&!J.get(33),ae.canUseHalfwidthRightwardsArrow,Y,!1,he,pe,0,ue,[],ee,0,ae.spaceWidth,ae.middotWidth,ae.wsmiddotWidth,J.get(117),J.get(99),J.get(94),J.get(51)!==t.EditorFontLigatures.OFF,null)).html}};U=ke([ge(5,d.ILanguageService)],U);class G{constructor($){this.editors=$}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal($){this.editors.original.revealRange($),this.editors.original.setSelection($),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal($){$&&(this.editors.modified.revealRange($),this.editors.modified.setSelection($)),this.editors.modified.focus()}modifiedSetSelection($){this.editors.modified.setSelection($)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var $;return($=this.editors.modified.getPosition())!==null&&$!==void 0?$:void 0}}e.AccessibleDiffViewerModelFromEditors=G}),define(ne[903],se([1,0,249,6,167,80,26,34,7,2,31,704,33,76,222]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=k.$;class s extends b.Disposable{constructor(p,_,S,E=!1){super(),this.model=_,this.showingStandaloneColorPicker=E,this._closeButton=null,this._domNode=t(".colorpicker-header"),k.append(p,this._domNode),this._pickedColorNode=k.append(this._domNode,t(".picked-color")),k.append(this._pickedColorNode,t("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const I=(0,o.localize)(0,null);this._pickedColorNode.setAttribute("title",I),this._originalColorNode=k.append(this._domNode,t(".original-color")),this._originalColorNode.style.backgroundColor=m.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(n.editorHoverBackground)||m.Color.white,this._register(S.onDidColorThemeChange(T=>{this.backgroundColor=T.getColor(n.editorHoverBackground)||m.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(_.onDidChangeColor(this.onDidChangeColor,this)),this._register(_.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(_.color)||"",this._pickedColorNode.classList.toggle("light",_.color.rgba.a<.5?this.backgroundColor.isLighter():_.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new c(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(p){this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(p)||"",this._pickedColorNode.classList.toggle("light",p.rgba.a<.5?this.backgroundColor.isLighter():p.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=s;class c extends b.Disposable{constructor(p){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(p,this._button);const _=document.createElement("div");_.classList.add("close-button-inner-div"),k.append(this._button,_),k.append(_,t(".button"+C.ThemeIcon.asCSSSelector((0,i.registerIcon)("color-picker-close",y.Codicon.close,(0,o.localize)(1,null))))).classList.add("close-icon"),this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}}class g extends b.Disposable{constructor(p,_,S,E=!1){super(),this.model=_,this.pixelRatio=S,this._insertButton=null,this._domNode=t(".colorpicker-body"),k.append(p,this._domNode),this._saturationBox=new l(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new d(this._domNode,this.model,E),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new u(this._domNode,this.model,E),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),E&&(this._insertButton=this._register(new a(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:p,v:_}){const S=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(S.h,p,_,S.a))}onDidOpacityChange(p){const _=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(_.h,_.s,_.v,p))}onDidHueChange(p){const _=this.model.color.hsva,S=(1-p)*360;this.model.color=new m.Color(new m.HSVA(S===360?0:S,_.s,_.v,_.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=g;class l extends b.Disposable{constructor(p,_,S){super(),this.model=_,this.pixelRatio=S,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=t(".saturation-wrap"),k.append(p,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=t(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(p){if(!p.target||!(p.target instanceof Element))return;this.monitor=this._register(new L.GlobalPointerMoveMonitor);const _=k.getDomNodePagePosition(this._domNode);p.target!==this.selection&&this.onDidChangePosition(p.offsetX,p.offsetY),this.monitor.startMonitoring(p.target,p.pointerId,p.buttons,E=>this.onDidChangePosition(E.pageX-_.left,E.pageY-_.top),()=>null);const S=k.addDisposableListener(p.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(p,_){const S=Math.max(0,Math.min(1,p/this.width)),E=Math.max(0,Math.min(1,1-_/this.height));this.paintSelection(S,E),this._onDidChange.fire({s:S,v:E})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const p=this.model.color.hsva;this.paintSelection(p.s,p.v)}paint(){const p=this.model.color.hsva,_=new m.Color(new m.HSVA(p.h,1,1,1)),S=this._canvas.getContext("2d"),E=S.createLinearGradient(0,0,this._canvas.width,0);E.addColorStop(0,"rgba(255, 255, 255, 1)"),E.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),E.addColorStop(1,"rgba(255, 255, 255, 0)");const I=S.createLinearGradient(0,0,0,this._canvas.height);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this._canvas.width,this._canvas.height),S.fillStyle=m.Color.Format.CSS.format(_),S.fill(),S.fillStyle=E,S.fill(),S.fillStyle=I,S.fill()}paintSelection(p,_){this.selection.style.left=`${p*this.width}px`,this.selection.style.top=`${this.height-_*this.height}px`}onDidChangeColor(p){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const _=p.hsva;this.paintSelection(_.s,_.v)}}class r extends b.Disposable{constructor(p,_,S=!1){super(),this.model=_,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,S?(this.domNode=k.append(p,t(".standalone-strip")),this.overlay=k.append(this.domNode,t(".standalone-overlay"))):(this.domNode=k.append(p,t(".strip")),this.overlay=k.append(this.domNode,t(".overlay"))),this.slider=k.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(_.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const p=this.getValue(this.model.color);this.updateSliderPosition(p)}onDidChangeColor(p){const _=this.getValue(p);this.updateSliderPosition(_)}onPointerDown(p){if(!p.target||!(p.target instanceof Element))return;const _=this._register(new L.GlobalPointerMoveMonitor),S=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),p.target!==this.slider&&this.onDidChangeTop(p.offsetY),_.startMonitoring(p.target,p.pointerId,p.buttons,I=>this.onDidChangeTop(I.pageY-S.top),()=>null);const E=k.addDisposableListener(p.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),E.dispose(),_.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(p){const _=Math.max(0,Math.min(1,1-p/this.height));this.updateSliderPosition(_),this._onDidChange.fire(_)}updateSliderPosition(p){this.slider.style.top=`${(1-p)*this.height}px`}}class d extends r{constructor(p,_,S=!1){super(p,_,S),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(p){super.onDidChangeColor(p);const{r:_,g:S,b:E}=p.rgba,I=new m.Color(new m.RGBA(_,S,E,1)),T=new m.Color(new m.RGBA(_,S,E,0));this.overlay.style.background=`linear-gradient(to bottom, ${I} 0%, ${T} 100%)`}getValue(p){return p.hsva.a}}class u extends r{constructor(p,_,S=!1){super(p,_,S),this.domNode.classList.add("hue-strip")}getValue(p){return 1-p.hsva.h/360}}class a extends b.Disposable{constructor(p){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(p,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}e.InsertButton=a;class v extends D.Widget{constructor(p,_,S,E,I=!1){super(),this.model=_,this.pixelRatio=S,this._register(f.PixelRatio.getInstance(k.getWindow(p)).onDidChange(()=>this.layout()));const T=t(".colorpicker-widget");p.appendChild(T),this.header=this._register(new s(T,this.model,E,I)),this.body=this._register(new g(T,this.model,this.pixelRatio,I))}layout(){this.body.layout()}}e.ColorPickerWidget=v}),define(ne[211],se([1,0,6,13,19,57,2,117,205,5,43,735,28,64,18,27,76,26,31,9,32,169,115,15,396]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0,e.renderMarkdownHovers=A,e.labelForHoverVerbosityAction=M;const p=f.$,_=(0,c.registerIcon)("hover-increase-verbosity",g.Codicon.add,o.localize(0,null)),S=(0,c.registerIcon)("hover-decrease-verbosity",g.Codicon.remove,o.localize(1,null));class E{constructor(F,O,B,V,K,U=void 0){this.owner=F,this.range=O,this.contents=B,this.isBeforeContent=V,this.ordinal=K,this.source=U}isValidForHoverAnchor(F){return F.type===1&&this.range.startColumn<=F.range.startColumn&&this.range.endColumn>=F.range.endColumn}}e.MarkdownHover=E;class I{constructor(F,O,B){this.hover=F,this.hoverProvider=O,this.hoverPosition=B}supportsVerbosityAction(F){var O,B;switch(F){case s.HoverVerbosityAction.Increase:return(O=this.hover.canIncreaseVerbosity)!==null&&O!==void 0?O:!1;case s.HoverVerbosityAction.Decrease:return(B=this.hover.canDecreaseVerbosity)!==null&&B!==void 0?B:!1}}}let T=class{constructor(F,O,B,V,K,U,G){this._editor=F,this._languageService=O,this._openerService=B,this._configurationService=V,this._languageFeaturesService=K,this._keybindingService=U,this._hoverService=G,this.hoverOrdinal=3}createLoadingMessage(F){return new E(this,F.range,[new D.MarkdownString().appendText(o.localize(2,null))],!1,2e3)}computeSync(F,O){if(!this._editor.hasModel()||F.type!==1)return[];const B=this._editor.getModel(),V=F.range.startLineNumber,K=B.getLineMaxColumn(V),U=[];let G=1e3;const z=B.getLineLength(V),$=B.getLanguageIdAtPosition(F.range.startLineNumber,F.range.startColumn),J=this._editor.getOption(117),ee=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:$});let Z=!1;J>=0&&z>J&&F.range.startColumn>=J&&(Z=!0,U.push(new E(this,F.range,[{value:o.localize(3,null)}],!1,G++))),!Z&&typeof ee=="number"&&z>=ee&&U.push(new E(this,F.range,[{value:o.localize(4,null)}],!1,G++));let x=!1;for(const Y of O){const ae=Y.range.startLineNumber===V?Y.range.startColumn:1,ue=Y.range.endLineNumber===V?Y.range.endColumn:K,he=Y.options.hoverMessage;if(!he||(0,D.isEmptyMarkdownString)(he))continue;Y.options.beforeContentClassName&&(x=!0);const pe=new b.Range(F.range.startLineNumber,ae,F.range.startLineNumber,ue);U.push(new E(this,pe,(0,k.asArray)(he),x,G++))}return U}computeAsync(F,O,B){if(!this._editor.hasModel()||F.type!==1)return v.AsyncIterableObject.EMPTY;const V=this._editor.getModel(),K=this._languageFeaturesService.hoverProvider;return K.has(V)?this._getMarkdownHovers(K,V,F,B):v.AsyncIterableObject.EMPTY}_getMarkdownHovers(F,O,B,V){const K=B.range.getStartPosition();return(0,h.getHoverProviderResultsAsAsyncIterable)(F,O,K,V).filter(z=>!(0,D.isEmptyMarkdownString)(z.hover.contents)).map(z=>{const $=z.hover.range?b.Range.lift(z.hover.range):B.range,J=new I(z.hover,z.provider,K);return new E(this,$,z.hover.contents,!1,z.ordinal,J)})}renderHoverParts(F,O){return this._renderedHoverParts=new N(O,F.fragment,this._editor,this._languageService,this._openerService,this._keybindingService,this._hoverService,this._configurationService,F.onContentsChanged),this._renderedHoverParts}markdownHoverContentAtIndex(F){var O,B;return(B=(O=this._renderedHoverParts)===null||O===void 0?void 0:O.markdownHoverContentAtIndex(F))!==null&&B!==void 0?B:""}doesMarkdownHoverAtIndexSupportVerbosityAction(F,O){var B,V;return(V=(B=this._renderedHoverParts)===null||B===void 0?void 0:B.doesMarkdownHoverAtIndexSupportVerbosityAction(F,O))!==null&&V!==void 0?V:!1}updateMarkdownHoverVerbosityLevel(F,O,B){var V;(V=this._renderedHoverParts)===null||V===void 0||V.updateMarkdownHoverPartVerbosityLevel(F,O,B)}};e.MarkdownHoverParticipant=T,e.MarkdownHoverParticipant=T=ke([ge(1,C.ILanguageService),ge(2,i.IOpenerService),ge(3,n.IConfigurationService),ge(4,t.ILanguageFeaturesService),ge(5,d.IKeybindingService),ge(6,a.IHoverService)],T);class N extends y.Disposable{constructor(F,O,B,V,K,U,G,z,$){super(),this._editor=B,this._languageService=V,this._openerService=K,this._keybindingService=U,this._hoverService=G,this._configurationService=z,this._onFinishedRendering=$,this._focusedHoverPartIndex=-1,this._ongoingHoverOperations=new Map,this._renderedHoverParts=this._renderHoverParts(F,O,this._onFinishedRendering),this._register((0,y.toDisposable)(()=>{this._renderedHoverParts.forEach(J=>{J.disposables.dispose()})})),this._register((0,y.toDisposable)(()=>{this._ongoingHoverOperations.forEach(J=>{J.tokenSource.dispose(!0)})}))}_renderHoverParts(F,O,B){return F.sort((0,k.compareBy)(V=>V.ordinal,k.numberComparator)),F.map((V,K)=>{const U=this._renderHoverPart(K,V.contents,V.source,B);return O.appendChild(U.renderedMarkdown),U})}_renderHoverPart(F,O,B,V){const{renderedMarkdown:K,disposables:U}=this._renderMarkdownContent(O,V);if(!B)return{renderedMarkdown:K,disposables:U};const G=B.supportsVerbosityAction(s.HoverVerbosityAction.Increase),z=B.supportsVerbosityAction(s.HoverVerbosityAction.Decrease);if(!G&&!z)return{renderedMarkdown:K,disposables:U,hoverSource:B};const $=p("div.verbosity-actions");return K.prepend($),U.add(this._renderHoverExpansionAction($,s.HoverVerbosityAction.Increase,G)),U.add(this._renderHoverExpansionAction($,s.HoverVerbosityAction.Decrease,z)),this._register(f.addDisposableListener(K,f.EventType.FOCUS_IN,J=>{J.stopPropagation(),this._focusedHoverPartIndex=F})),this._register(f.addDisposableListener(K,f.EventType.FOCUS_OUT,J=>{J.stopPropagation(),this._focusedHoverPartIndex=-1})),{renderedMarkdown:K,disposables:U,hoverSource:B}}_renderMarkdownContent(F,O){const B=p("div.hover-row");B.tabIndex=0;const V=p("div.hover-row-contents");B.appendChild(V);const K=new y.DisposableStore;return K.add(R(this._editor,V,F,this._languageService,this._openerService,O)),{renderedMarkdown:B,disposables:K}}_renderHoverExpansionAction(F,O,B){const V=new y.DisposableStore,K=O===s.HoverVerbosityAction.Increase,U=f.append(F,p(l.ThemeIcon.asCSSSelector(K?_:S)));U.tabIndex=0;const G=new a.WorkbenchHoverDelegate("mouse",!1,{target:F,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(V.add(this._hoverService.setupUpdatableHover(G,U,M(this._keybindingService,O))),!B)return U.classList.add("disabled"),V;U.classList.add("enabled");const z=()=>this.updateMarkdownHoverPartVerbosityLevel(O);return V.add(new u.ClickAction(U,z)),V.add(new u.KeyDownAction(U,z,[3,10])),V}async updateMarkdownHoverPartVerbosityLevel(F,O=-1,B=!0){var V;const K=this._editor.getModel();if(!K)return;const U=O!==-1?O:this._focusedHoverPartIndex,G=this._getRenderedHoverPartAtIndex(U);if(!G||!(!((V=G.hoverSource)===null||V===void 0)&&V.supportsVerbosityAction(F)))return;const z=G.hoverSource,$=await this._fetchHover(z,K,F);if(!$)return;const J=new I($,z.hoverProvider,z.hoverPosition),ee=this._renderHoverPart(U,$.contents,J,this._onFinishedRendering);this._replaceRenderedHoverPartAtIndex(U,ee),B&&this._focusOnHoverPartWithIndex(U),this._onFinishedRendering()}markdownHoverContentAtIndex(F){var O;const B=this._getRenderedHoverPartAtIndex(F);return(O=B?.renderedMarkdown.innerText)!==null&&O!==void 0?O:""}doesMarkdownHoverAtIndexSupportVerbosityAction(F,O){var B;const V=this._getRenderedHoverPartAtIndex(F);return!(!V||!(!((B=V.hoverSource)===null||B===void 0)&&B.supportsVerbosityAction(O)))}async _fetchHover(F,O,B){let V=B===s.HoverVerbosityAction.Increase?1:-1;const K=F.hoverProvider,U=this._ongoingHoverOperations.get(K);U&&(U.tokenSource.cancel(),V+=U.verbosityDelta);const G=new L.CancellationTokenSource;this._ongoingHoverOperations.set(K,{verbosityDelta:V,tokenSource:G});const z={verbosityRequest:{verbosityDelta:V,previousHover:F.hover}};let $;try{$=await Promise.resolve(K.provideHover(O,F.hoverPosition,G.token,z))}catch(J){(0,r.onUnexpectedExternalError)(J)}return G.dispose(),this._ongoingHoverOperations.delete(K),$}_replaceRenderedHoverPartAtIndex(F,O){if(F>=this._renderHoverParts.length||F<0)return;const B=this._renderedHoverParts[F];B.renderedMarkdown.replaceWith(O.renderedMarkdown),B.disposables.dispose(),this._renderedHoverParts[F]=O}_focusOnHoverPartWithIndex(F){this._renderedHoverParts[F].renderedMarkdown.focus()}_getRenderedHoverPartAtIndex(F){return this._renderedHoverParts[F]}}function A(P,F,O,B,V){F.sort((0,k.compareBy)(U=>U.ordinal,k.numberComparator));const K=new y.DisposableStore;for(const U of F)K.add(R(O,P.fragment,U.contents,B,V,P.onContentsChanged));return K}function R(P,F,O,B,V,K){const U=new y.DisposableStore;for(const G of O){if((0,D.isEmptyMarkdownString)(G))continue;const z=p("div.markdown-hover"),$=f.append(z,p("div.hover-contents")),J=U.add(new m.MarkdownRenderer({editor:P},B,V));U.add(J.onDidRenderAsync(()=>{$.className="hover-contents code-hover-contents",K()}));const ee=U.add(J.render(G));$.appendChild(ee.element),F.appendChild(z)}return U}function M(P,F){switch(F){case s.HoverVerbosityAction.Increase:{const O=P.lookupKeybinding(w.INCREASE_HOVER_VERBOSITY_ACTION_ID);return O?o.localize(5,null,O.getLabel()):o.localize(6,null)}case s.HoverVerbosityAction.Decrease:{const O=P.lookupKeybinding(w.DECREASE_HOVER_VERBOSITY_ACTION_ID);return O?o.localize(7,null,O.getLabel()):o.localize(8,null)}}}}),define(ne[904],se([1,0,6,48,81,26,7,2,11,20,43,117,264,752,14,64,33,76,31,60,59,506]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const a=f.$,v=(0,g.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,i.localize(0,null)),h=(0,g.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,i.localize(1,null));let p=u=class extends m.Disposable{constructor(S,E,I,T,N,A){super(),this.editor=S,this.model=E,this.telemetryService=A,this.renderDisposeables=this._register(new m.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new o.MarkdownRenderer({editor:S},N,T)),this.keyVisible=n.Context.Visible.bindTo(I),this.keyMultipleSignatures=n.Context.MultipleSignatures.bindTo(I)}createParameterHintDOMNodes(){const S=a(".editor-widget.parameter-hints-widget"),E=f.append(S,a(".phwrapper"));E.tabIndex=-1;const I=f.append(E,a(".controls")),T=f.append(I,a(".button"+l.ThemeIcon.asCSSSelector(h))),N=f.append(I,a(".overloads")),A=f.append(I,a(".button"+l.ThemeIcon.asCSSSelector(v)));this._register(f.addDisposableListener(T,"click",B=>{f.EventHelper.stop(B),this.previous()})),this._register(f.addDisposableListener(A,"click",B=>{f.EventHelper.stop(B),this.next()}));const R=a(".body"),M=new L.DomScrollableElement(R,{alwaysConsumeMouseWheel:!0});this._register(M),E.appendChild(M.getDomNode());const P=f.append(R,a(".signature")),F=f.append(R,a(".docs"));S.style.userSelect="text",this.domNodes={element:S,signature:P,overloads:N,docs:F,scrollbar:M},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(B=>{this.visible&&this.editor.layoutContentWidget(this)}));const O=()=>{if(!this.domNodes)return;const B=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${B.fontSize}px`,this.domNodes.element.style.lineHeight=`${B.lineHeight/B.fontSize}`};O(),this._register(y.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),B=>B.filter(V=>V.hasChanged(50)))(O)),this._register(this.editor.onDidLayoutChange(B=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var S;(S=this.domNodes)===null||S===void 0||S.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var S;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(S=this.domNodes)===null||S===void 0||S.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(S){var E;if(this.renderDisposeables.clear(),!this.domNodes)return;const I=S.signatures.length>1;this.domNodes.element.classList.toggle("multiple",I),this.keyMultipleSignatures.set(I),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const T=S.signatures[S.activeSignature];if(!T)return;const N=f.append(this.domNodes.signature,a(".code")),A=this.editor.getOption(50);N.style.fontSize=`${A.fontSize}px`,N.style.fontFamily=A.fontFamily;const R=T.parameters.length>0,M=(E=T.activeParameter)!==null&&E!==void 0?E:S.activeParameter;if(R)this.renderParameters(N,T,M);else{const O=f.append(N,a("span"));O.textContent=T.label}const P=T.parameters[M];if(P?.documentation){const O=a("span.documentation");if(typeof P.documentation=="string")O.textContent=P.documentation;else{const B=this.renderMarkdownDocs(P.documentation);O.appendChild(B.element)}f.append(this.domNodes.docs,a("p",{},O))}if(T.documentation!==void 0)if(typeof T.documentation=="string")f.append(this.domNodes.docs,a("p",{},T.documentation));else{const O=this.renderMarkdownDocs(T.documentation);f.append(this.domNodes.docs,O.element)}const F=this.hasDocs(T,P);if(this.domNodes.signature.classList.toggle("has-docs",F),this.domNodes.docs.classList.toggle("empty",!F),this.domNodes.overloads.textContent=String(S.activeSignature+1).padStart(S.signatures.length.toString().length,"0")+"/"+S.signatures.length,P){let O="";const B=T.parameters[M];Array.isArray(B.label)?O=T.label.substring(B.label[0],B.label[1]):O=B.label,B.documentation&&(O+=typeof B.documentation=="string"?`, ${B.documentation}`:`, ${B.documentation.value}`),T.documentation&&(O+=typeof T.documentation=="string"?`, ${T.documentation}`:`, ${T.documentation.value}`),this.announcedLabel!==O&&(k.alert(i.localize(2,null,O)),this.announcedLabel=O)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(S){const E=new r.StopWatch,I=this.renderDisposeables.add(this.markdownRenderer.render(S,{asyncRenderCallback:()=>{var N;(N=this.domNodes)===null||N===void 0||N.scrollbar.scanDomNode()}}));I.element.classList.add("markdown-docs");const T=E.elapsed();return T>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:T}),I}hasDocs(S,E){return!!(E&&typeof E.documentation=="string"&&(0,b.assertIsDefined)(E.documentation).length>0||E&&typeof E.documentation=="object"&&(0,b.assertIsDefined)(E.documentation).value.length>0||S.documentation&&typeof S.documentation=="string"&&(0,b.assertIsDefined)(S.documentation).length>0||S.documentation&&typeof S.documentation=="object"&&(0,b.assertIsDefined)(S.documentation.value).length>0)}renderParameters(S,E,I){const[T,N]=this.getParameterLabelOffsets(E,I),A=document.createElement("span");A.textContent=E.label.substring(0,T);const R=document.createElement("span");R.textContent=E.label.substring(T,N),R.className="parameter active";const M=document.createElement("span");M.textContent=E.label.substring(N),f.append(S,A,R,M)}getParameterLabelOffsets(S,E){const I=S.parameters[E];if(I){if(Array.isArray(I.label))return I.label;if(I.label.length){const T=new RegExp(`(\\W|^)${(0,w.escapeRegExpCharacters)(I.label)}(?=\\W|$)`,"g");T.test(S.label);const N=T.lastIndex-I.label.length;return N>=0?[N,T.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return u.ID}updateMaxHeight(){if(!this.domNodes)return;const E=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=E;const I=this.domNodes.element.getElementsByClassName("phwrapper");I.length&&(I[0].style.maxHeight=E)}};e.ParameterHintsWidget=p,p.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=p=u=ke([ge(2,t.IContextKeyService),ge(3,s.IOpenerService),ge(4,C.ILanguageService),ge(5,d.ITelemetryService)],p),(0,c.registerColor)("editorHoverWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},i.localize(3,null))}),define(ne[905],se([1,0,96,2,16,21,27,18,823,264,751,14,8,904]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let s=t=class extends k.Disposable{static get(d){return d.getContribution(t.ID)}constructor(d,u,a){super(),this.editor=d,this.model=this._register(new w.ParameterHintsModel(d,a.signatureHelpProvider)),this._register(this.model.onChangedHints(v=>{var h;v?(this.widget.value.show(),this.widget.value.render(v)):(h=this.widget.rawValue)===null||h===void 0||h.hide()})),this.widget=new f.Lazy(()=>this._register(u.createInstance(i.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var d;(d=this.widget.rawValue)===null||d===void 0||d.previous()}next(){var d;(d=this.widget.rawValue)===null||d===void 0||d.next()}trigger(d){this.model.trigger(d,0)}};e.ParameterHintsController=s,s.ID="editor.controller.parameterHints",e.ParameterHintsController=s=t=ke([ge(1,n.IInstantiationService),ge(2,m.ILanguageFeaturesService)],s);class c extends L.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:C.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(d,u){const a=s.get(u);a?.trigger({triggerKind:y.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=c,(0,L.registerEditorContribution)(s.ID,s,2),(0,L.registerEditorAction)(c);const g=175,l=L.EditorCommand.bindToContribution(s.get);(0,L.registerEditorCommand)(new l({id:"closeParameterHints",precondition:b.Context.Visible,handler:r=>r.cancel(),kbOpts:{weight:g,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,L.registerEditorCommand)(new l({id:"showPrevParameterHint",precondition:o.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSignatures),handler:r=>r.previous(),kbOpts:{weight:g,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,L.registerEditorCommand)(new l({id:"showNextParameterHint",precondition:o.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSignatures),handler:r=>r.next(),kbOpts:{weight:g,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(ne[906],se([1,0,6,82,41,2,117,8,842,76,31,513]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const o=26;let n=class extends D.Disposable{constructor(s,c){super(),this._editor=s,this.instantiationService=c,this.banner=this._register(this.instantiationService.createInstance(i))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(s){this.banner.show({...s,onClose:()=>{var c;this.hide(),(c=s.onClose)===null||c===void 0||c.call(s)}}),this._editor.setBanner(this.banner.element,o)}};e.BannerController=n,e.BannerController=n=ke([ge(1,m.IInstantiationService)],n);let i=class extends D.Disposable{constructor(s){super(),this.instantiationService=s,this.markdownRenderer=this.instantiationService.createInstance(y.MarkdownRenderer,{}),this.element=(0,f.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(s){if(s.ariaLabel)return s.ariaLabel;if(typeof s.message=="string")return s.message}getBannerMessage(s){if(typeof s=="string"){const c=(0,f.$)("span");return c.innerText=s,c}return this.markdownRenderer.render(s).element}clear(){(0,f.clearNode)(this.element)}show(s){(0,f.clearNode)(this.element);const c=this.getAriaLabel(s);c&&this.element.setAttribute("aria-label",c);const g=(0,f.append)(this.element,(0,f.$)("div.icon-container"));g.setAttribute("aria-hidden","true"),s.icon&&g.appendChild((0,f.$)(`div${C.ThemeIcon.asCSSSelector(s.icon)}`));const l=(0,f.append)(this.element,(0,f.$)("div.message-container"));if(l.setAttribute("aria-hidden","true"),l.appendChild(this.getBannerMessage(s.message)),this.messageActionsContainer=(0,f.append)(this.element,(0,f.$)("div.message-actions-container")),s.actions)for(const d of s.actions)this._register(this.instantiationService.createInstance(w.Link,this.messageActionsContainer,{...d,tabIndex:-1},{}));const r=(0,f.append)(this.element,(0,f.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(r)),this.actionBar.push(this._register(new L.Action("banner.close","Close Banner",C.ThemeIcon.asClassName(b.widgetClose),!0,()=>{typeof s.onClose=="function"&&s.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};i=ke([ge(0,m.IInstantiationService)],i)}),define(ne[907],se([1,0,6,7,2,31,76]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=void 0,e.getIconsStyleSheet=m;function m(b){const C=new L.DisposableStore,o=C.add(new k.Emitter),n=(0,y.getIconRegistry)();return C.add(n.onDidChange(()=>o.fire())),b&&C.add(b.onDidProductIconThemeChange(()=>o.fire())),{dispose:()=>C.dispose(),onDidChange:o.event,getCSS(){const i=b?b.getProductIconTheme():new w,t={},s=[],c=[];for(const g of n.getIcons()){const l=i.getIcon(g);if(!l)continue;const r=l.font,d=`--vscode-icon-${g.id}-font-family`,u=`--vscode-icon-${g.id}-content`;r?(t[r.id]=r.definition,c.push(`${d}: ${(0,f.asCSSPropertyValue)(r.id)};`,`${u}: '${l.fontCharacter}';`),s.push(`.codicon-${g.id}:before { content: '${l.fontCharacter}'; font-family: ${(0,f.asCSSPropertyValue)(r.id)}; }`)):(c.push(`${u}: '${l.fontCharacter}'; ${d}: 'codicon';`),s.push(`.codicon-${g.id}:before { content: '${l.fontCharacter}'; }`))}for(const g in t){const l=t[g],r=l.weight?`font-weight: ${l.weight};`:"",d=l.style?`font-style: ${l.style};`:"",u=l.src.map(a=>`${(0,f.asCSSUrl)(a.location)} format('${a.format}')`).join(", ");s.push(`@font-face { src: ${u}; font-family: ${(0,f.asCSSPropertyValue)(g)};${r}${d} font-display: block; }`)}return s.push(`:root { ${c.join(" ")} }`),s.join(`
`)}}}class w{getIcon(C){const o=(0,y.getIconRegistry)();let n=C.defaults;for(;D.ThemeIcon.isThemeIcon(n);){const i=o.getIcon(n.id);if(!i)return;n=i.defaults}return n}}e.UnthemedProductIconTheme=w}),define(ne[95],se([1,0]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0,e.isHighContrast=k,e.isDark=L;var f;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(f||(e.ColorScheme=f={}));function k(D){return D===f.HIGH_CONTRAST_DARK||D===f.HIGH_CONTRAST_LIGHT}function L(D){return D===f.DARK||D===f.HIGH_CONTRAST_DARK}}),define(ne[276],se([1,0,66,40,17,528,159,146,133,95,38]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=void 0,e.getColumnOfNodeOffset=u;const o=function(){return L.isNative?!0:!(L.isLinux||f.isFirefox||f.isSafari)}();let n=!0;class i{constructor(v,h){this.themeType=h;const p=v.options,_=p.get(50);p.get(38)==="off"?this.renderWhitespace=p.get(99):this.renderWhitespace="none",this.renderControlCharacters=p.get(94),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!p.get(33),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=p.get(67),this.stopRenderingLineAfter=p.get(117),this.fontLigatures=p.get(51)}equals(v){return this.themeType===v.themeType&&this.renderWhitespace===v.renderWhitespace&&this.renderControlCharacters===v.renderControlCharacters&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.useMonospaceOptimizations===v.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineHeight===v.lineHeight&&this.stopRenderingLineAfter===v.stopRenderingLineAfter&&this.fontLigatures===v.fontLigatures}}e.ViewLineOptions=i;class t{constructor(v){this._options=v,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(v){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(v);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(v){this._isMaybeInvalid=!0,this._options=v}onSelectionChanged(){return(0,b.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(v,h,p,_,S){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const E=_.getViewLineRenderingData(v),I=this._options,T=m.LineDecoration.filter(E.inlineDecorations,v,E.minColumn,E.maxColumn);let N=null;if((0,b.isHighContrast)(I.themeType)||this._options.renderWhitespace==="selection"){const P=_.selections;for(const F of P){if(F.endLineNumber<v||F.startLineNumber>v)continue;const O=F.startLineNumber===v?F.startColumn:E.minColumn,B=F.endLineNumber===v?F.endColumn:E.maxColumn;O<B&&((0,b.isHighContrast)(I.themeType)&&T.push(new m.LineDecoration(O,B,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(N||(N=[]),N.push(new w.LineRange(O-1,B-1))))}}const A=new w.RenderLineInput(I.useMonospaceOptimizations,I.canUseHalfwidthRightwardsArrow,E.content,E.continuesWithWrappedLine,E.isBasicASCII,E.containsRTL,E.minColumn-1,E.tokens,T,E.tabSize,E.startVisibleColumn,I.spaceWidth,I.middotWidth,I.wsmiddotWidth,I.stopRenderingLineAfter,I.renderWhitespace,I.renderControlCharacters,I.fontLigatures!==C.EditorFontLigatures.OFF,N);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;S.appendString('<div style="top:'),S.appendString(String(h)),S.appendString("px;height:"),S.appendString(String(p)),S.appendString('px;" class="'),S.appendString(t.CLASS_NAME),S.appendString('">');const R=(0,w.renderViewLine)(A,S);S.appendString("</div>");let M=null;return n&&o&&E.isBasicASCII&&I.useMonospaceOptimizations&&R.containsForeignElements===0&&(M=new s(this._renderedViewLine?this._renderedViewLine.domNode:null,A,R.characterMapping)),M||(M=l(this._renderedViewLine?this._renderedViewLine.domNode:null,A,R.characterMapping,R.containsRTL,R.containsForeignElements)),this._renderedViewLine=M,!0}layoutLine(v,h,p){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(h),this._renderedViewLine.domNode.setHeight(p))}getWidth(v){return this._renderedViewLine?this._renderedViewLine.getWidth(v):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof s:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof s?this._renderedViewLine.monospaceAssumptionsAreValid():n}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof s&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(v,h,p,_){if(!this._renderedViewLine)return null;h=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,h)),p=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,p));const S=this._renderedViewLine.input.stopRenderingLineAfter;if(S!==-1&&h>S+1&&p>S+1)return new y.VisibleRanges(!0,[new y.FloatHorizontalRange(this.getWidth(_),0)]);S!==-1&&h>S+1&&(h=S+1),S!==-1&&p>S+1&&(p=S+1);const E=this._renderedViewLine.getVisibleRangesForRange(v,h,p,_);return E&&E.length>0?new y.VisibleRanges(!1,E):null}getColumnOfNodeOffset(v,h){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(v,h):1}}e.ViewLine=t,t.CLASS_NAME="view-line";class s{constructor(v,h,p){this._cachedWidth=-1,this.domNode=v,this.input=h;const _=Math.floor(h.lineContent.length/300);if(_>0){this._keyColumnPixelOffsetCache=new Float32Array(_);for(let S=0;S<_;S++)this._keyColumnPixelOffsetCache[S]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=p,this._charWidth=h.spaceWidth}getWidth(v){if(!this.domNode||this.input.lineContent.length<300){const h=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*h)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,v?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return n;if(this.input.lineContent.length<300){const v=this.getWidth(null),h=this.domNode.domNode.firstChild.offsetWidth;Math.abs(v-h)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),n=!1)}return n}toSlowRenderedLine(){return l(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(v,h,p,_){const S=this._getColumnPixelOffset(v,h,_),E=this._getColumnPixelOffset(v,p,_);return[new y.FloatHorizontalRange(S,E-S)]}_getColumnPixelOffset(v,h,p){if(h<=300){const N=this._characterMapping.getHorizontalOffset(h);return this._charWidth*N}const _=Math.floor((h-1)/300)-1,S=(_+1)*300+1;let E=-1;if(this._keyColumnPixelOffsetCache&&(E=this._keyColumnPixelOffsetCache[_],E===-1&&(E=this._actualReadPixelOffset(v,S,p),this._keyColumnPixelOffsetCache[_]=E)),E===-1){const N=this._characterMapping.getHorizontalOffset(h);return this._charWidth*N}const I=this._characterMapping.getHorizontalOffset(S),T=this._characterMapping.getHorizontalOffset(h);return E+this._charWidth*(T-I)}_getReadingTarget(v){return v.domNode.firstChild}_actualReadPixelOffset(v,h,p){if(!this.domNode)return-1;const _=this._characterMapping.getDomPosition(h),S=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),_.partIndex,_.charIndex,_.partIndex,_.charIndex,p);return!S||S.length===0?-1:S[0].left}getColumnOfNodeOffset(v,h){return u(this._characterMapping,v,h)}}class c{constructor(v,h,p,_,S){if(this.domNode=v,this.input=h,this._characterMapping=p,this._isWhitespaceOnly=/^\s*$/.test(h.lineContent),this._containsForeignElements=S,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,I=this._characterMapping.length;E<=I;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(v){return v.domNode.firstChild}getWidth(v){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,v?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(v,h,p,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const S=this._readPixelOffset(this.domNode,v,h,_);if(S===-1)return null;const E=this._readPixelOffset(this.domNode,v,p,_);return E===-1?null:[new y.FloatHorizontalRange(S,E-S)]}return this._readVisibleRangesForRange(this.domNode,v,h,p,_)}_readVisibleRangesForRange(v,h,p,_,S){if(p===_){const E=this._readPixelOffset(v,h,p,S);return E===-1?null:[new y.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(v,p,_,S)}_readPixelOffset(v,h,p,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(_);const S=this._getReadingTarget(v);return S.firstChild?(_.markDidDomLayout(),S.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const S=this._pixelOffsetCache[p];if(S!==-1)return S;const E=this._actualReadPixelOffset(v,h,p,_);return this._pixelOffsetCache[p]=E,E}return this._actualReadPixelOffset(v,h,p,_)}_actualReadPixelOffset(v,h,p,_){if(this._characterMapping.length===0){const T=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(v),0,0,0,0,_);return!T||T.length===0?-1:T[0].left}if(p===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(_);const S=this._characterMapping.getDomPosition(p),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(v),S.partIndex,S.charIndex,S.partIndex,S.charIndex,_);if(!E||E.length===0)return-1;const I=E[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getHorizontalOffset(p),N=Math.round(this.input.spaceWidth*T);if(Math.abs(N-I)<=1)return N}return I}_readRawVisibleRangesForRange(v,h,p,_){if(h===1&&p===this._characterMapping.length)return[new y.FloatHorizontalRange(0,this.getWidth(_))];const S=this._characterMapping.getDomPosition(h),E=this._characterMapping.getDomPosition(p);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(v),S.partIndex,S.charIndex,E.partIndex,E.charIndex,_)}getColumnOfNodeOffset(v,h){return u(this._characterMapping,v,h)}}class g extends c{_readVisibleRangesForRange(v,h,p,_,S){const E=super._readVisibleRangesForRange(v,h,p,_,S);if(!E||E.length===0||p===_||p===1&&_===this._characterMapping.length)return E;if(!this.input.containsRTL){const I=this._readPixelOffset(v,h,_,S);if(I!==-1){const T=E[E.length-1];T.left<I&&(T.width=I-T.left)}}return E}}const l=function(){return f.isWebKit?r:d}();function r(a,v,h,p,_){return new g(a,v,h,p,_)}function d(a,v,h,p,_){return new c(a,v,h,p,_)}function u(a,v,h){const p=v.textContent.length;let _=-1;for(;v;)v=v.previousSibling,_++;return a.getColumn(new w.DomPosition(_,h),p)}}),define(ne[400],se([1,0,180,56,276,10,5,90,6,306,96]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class o{constructor(_=null){this.hitTarget=_,this.type=0}}class n{get hitTarget(){return this.spanNode}constructor(_,S,E){this.position=_,this.spanNode=S,this.injectedText=E,this.type=1}}var i;(function(p){function _(S,E,I){const T=S.getPositionFromDOMInfo(E,I);return T?new n(T,E,null):new o(E)}p.createFromDOMInfo=_})(i||(i={}));class t{constructor(_,S){this.lastViewCursorsRenderData=_,this.lastTextareaPosition=S}}e.PointerHandlerLastRenderData=t;class s{static _deduceRage(_,S=null){return!S&&_?new y.Range(_.lineNumber,_.column,_.lineNumber,_.column):S??null}static createUnknown(_,S,E){return{type:0,element:_,mouseColumn:S,position:E,range:this._deduceRage(E)}}static createTextarea(_,S){return{type:1,element:_,mouseColumn:S,position:null,range:null}}static createMargin(_,S,E,I,T,N){return{type:_,element:S,mouseColumn:E,position:I,range:T,detail:N}}static createViewZone(_,S,E,I,T){return{type:_,element:S,mouseColumn:E,position:I,range:this._deduceRage(I),detail:T}}static createContentText(_,S,E,I,T){return{type:6,element:_,mouseColumn:S,position:E,range:this._deduceRage(E,I),detail:T}}static createContentEmpty(_,S,E,I){return{type:7,element:_,mouseColumn:S,position:E,range:this._deduceRage(E),detail:I}}static createContentWidget(_,S,E){return{type:9,element:_,mouseColumn:S,position:null,range:null,detail:E}}static createScrollbar(_,S,E){return{type:11,element:_,mouseColumn:S,position:E,range:this._deduceRage(E)}}static createOverlayWidget(_,S,E){return{type:12,element:_,mouseColumn:S,position:null,range:null,detail:E}}static createOutsideEditor(_,S,E,I){return{type:13,element:null,mouseColumn:_,position:S,range:this._deduceRage(S),outsidePosition:E,outsideDistance:I}}static _typeToString(_){return _===1?"TEXTAREA":_===2?"GUTTER_GLYPH_MARGIN":_===3?"GUTTER_LINE_NUMBERS":_===4?"GUTTER_LINE_DECORATIONS":_===5?"GUTTER_VIEW_ZONE":_===6?"CONTENT_TEXT":_===7?"CONTENT_EMPTY":_===8?"CONTENT_VIEW_ZONE":_===9?"CONTENT_WIDGET":_===10?"OVERVIEW_RULER":_===11?"SCROLLBAR":_===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(_){return this._typeToString(_.type)+": "+_.position+" - "+_.range+" - "+JSON.stringify(_.detail)}}e.MouseTarget=s;class c{static isTextArea(_){return _.length===2&&_[0]===3&&_[1]===7}static isChildOfViewLines(_){return _.length>=4&&_[0]===3&&_[3]===8}static isStrictChildOfViewLines(_){return _.length>4&&_[0]===3&&_[3]===8}static isChildOfScrollableElement(_){return _.length>=2&&_[0]===3&&_[1]===6}static isChildOfMinimap(_){return _.length>=2&&_[0]===3&&_[1]===9}static isChildOfContentWidgets(_){return _.length>=4&&_[0]===3&&_[3]===1}static isChildOfOverflowGuard(_){return _.length>=1&&_[0]===3}static isChildOfOverflowingContentWidgets(_){return _.length>=1&&_[0]===2}static isChildOfOverlayWidgets(_){return _.length>=2&&_[0]===3&&_[1]===4}static isChildOfOverflowingOverlayWidgets(_){return _.length>=1&&_[0]===5}}class g{constructor(_,S,E){this.viewModel=_.viewModel;const I=_.configuration.options;this.layoutInfo=I.get(145),this.viewDomNode=S.viewDomNode,this.lineHeight=I.get(67),this.stickyTabStops=I.get(116),this.typicalHalfwidthCharacterWidth=I.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=E,this._context=_,this._viewHelper=S}getZoneAtCoord(_){return g.getZoneAtCoord(this._context,_)}static getZoneAtCoord(_,S){const E=_.viewLayout.getWhitespaceAtVerticalOffset(S);if(E){const I=E.verticalOffset+E.height/2,T=_.viewModel.getLineCount();let N=null,A,R=null;return E.afterLineNumber!==T&&(R=new D.Position(E.afterLineNumber+1,1)),E.afterLineNumber>0&&(N=new D.Position(E.afterLineNumber,_.viewModel.getLineMaxColumn(E.afterLineNumber))),R===null?A=N:N===null?A=R:S<I?A=N:A=R,{viewZoneId:E.id,afterLineNumber:E.afterLineNumber,positionBefore:N,positionAfter:R,position:A}}return null}getFullLineRangeAtCoord(_){if(this._context.viewLayout.isAfterLines(_)){const I=this._context.viewModel.getLineCount(),T=this._context.viewModel.getLineMaxColumn(I);return{range:new y.Range(I,T,I,T),isAfterLines:!0}}const S=this._context.viewLayout.getLineNumberAtVerticalOffset(_),E=this._context.viewModel.getLineMaxColumn(S);return{range:new y.Range(S,1,S,E),isAfterLines:!1}}getLineNumberAtVerticalOffset(_){return this._context.viewLayout.getLineNumberAtVerticalOffset(_)}isAfterLines(_){return this._context.viewLayout.isAfterLines(_)}isInTopPadding(_){return this._context.viewLayout.isInTopPadding(_)}isInBottomPadding(_){return this._context.viewLayout.isInBottomPadding(_)}getVerticalOffsetForLineNumber(_){return this._context.viewLayout.getVerticalOffsetForLineNumber(_)}findAttribute(_,S){return g._findAttribute(_,S,this._viewHelper.viewDomNode)}static _findAttribute(_,S,E){for(;_&&_!==_.ownerDocument.body;){if(_.hasAttribute&&_.hasAttribute(S))return _.getAttribute(S);if(_===E)return null;_=_.parentNode}return null}getLineWidth(_){return this._viewHelper.getLineWidth(_)}visibleRangeForPosition(_,S){return this._viewHelper.visibleRangeForPosition(_,S)}getPositionFromDOMInfo(_,S){return this._viewHelper.getPositionFromDOMInfo(_,S)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=g;class l{constructor(_,S,E,I){this.editorPos=S,this.pos=E,this.relativePos=I,this.mouseVerticalOffset=Math.max(0,_.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=_.getCurrentScrollLeft()+this.relativePos.x-_.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<_.layoutInfo.contentLeft&&this.relativePos.x>=_.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,a._getMouseColumn(this.mouseContentHorizontalOffset,_.typicalHalfwidthCharacterWidth))}}class r extends l{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=k.PartFingerprints.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(_,S,E,I,T){super(_,S,E,I),this.hitTestResult=new C.Lazy(()=>a.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=_,this._eventTarget=T;const N=!!this._eventTarget;this._useHitTestTarget=!N}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(_=null){return _&&_.column<this._ctx.viewModel.getLineMaxColumn(_.lineNumber)?m.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(_.lineNumber),_.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(_=null){return s.createUnknown(this.target,this._getMouseColumn(_),_)}fulfillTextarea(){return s.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(_,S,E,I){return s.createMargin(_,this.target,this._getMouseColumn(S),S,E,I)}fulfillViewZone(_,S,E){return s.createViewZone(_,this.target,this._getMouseColumn(S),S,E)}fulfillContentText(_,S,E){return s.createContentText(this.target,this._getMouseColumn(_),_,S,E)}fulfillContentEmpty(_,S){return s.createContentEmpty(this.target,this._getMouseColumn(_),_,S)}fulfillContentWidget(_){return s.createContentWidget(this.target,this._getMouseColumn(),_)}fulfillScrollbar(_){return s.createScrollbar(this.target,this._getMouseColumn(_),_)}fulfillOverlayWidget(_){return s.createOverlayWidget(this.target,this._getMouseColumn(),_)}}const d={isAfterLines:!0};function u(p){return{isAfterLines:!1,horizontalDistanceToText:p}}class a{constructor(_,S){this._context=_,this._viewHelper=S}mouseTargetIsWidget(_){const S=_.target,E=k.PartFingerprints.collect(S,this._viewHelper.viewDomNode);return!!(c.isChildOfContentWidgets(E)||c.isChildOfOverflowingContentWidgets(E)||c.isChildOfOverlayWidgets(E)||c.isChildOfOverflowingOverlayWidgets(E))}createMouseTarget(_,S,E,I,T){const N=new g(this._context,this._viewHelper,_),A=new r(N,S,E,I,T);try{const R=a._createMouseTarget(N,A);if(R.type===6&&N.stickyTabStops&&R.position!==null){const M=a._snapToSoftTabBoundary(R.position,N.viewModel),P=y.Range.fromPositions(M,M).plusRange(R.range);return A.fulfillContentText(M,P,R.detail)}return R}catch{return A.fulfillUnknown()}}static _createMouseTarget(_,S){if(S.target===null)return S.fulfillUnknown();const E=S;let I=null;return!c.isChildOfOverflowGuard(S.targetPath)&&!c.isChildOfOverflowingContentWidgets(S.targetPath)&&!c.isChildOfOverflowingOverlayWidgets(S.targetPath)&&(I=I||S.fulfillUnknown()),I=I||a._hitTestContentWidget(_,E),I=I||a._hitTestOverlayWidget(_,E),I=I||a._hitTestMinimap(_,E),I=I||a._hitTestScrollbarSlider(_,E),I=I||a._hitTestViewZone(_,E),I=I||a._hitTestMargin(_,E),I=I||a._hitTestViewCursor(_,E),I=I||a._hitTestTextArea(_,E),I=I||a._hitTestViewLines(_,E),I=I||a._hitTestScrollbar(_,E),I||S.fulfillUnknown()}static _hitTestContentWidget(_,S){if(c.isChildOfContentWidgets(S.targetPath)||c.isChildOfOverflowingContentWidgets(S.targetPath)){const E=_.findAttribute(S.target,"widgetId");return E?S.fulfillContentWidget(E):S.fulfillUnknown()}return null}static _hitTestOverlayWidget(_,S){if(c.isChildOfOverlayWidgets(S.targetPath)||c.isChildOfOverflowingOverlayWidgets(S.targetPath)){const E=_.findAttribute(S.target,"widgetId");return E?S.fulfillOverlayWidget(E):S.fulfillUnknown()}return null}static _hitTestViewCursor(_,S){if(S.target){const E=_.lastRenderData.lastViewCursorsRenderData;for(const I of E)if(S.target===I.domNode)return S.fulfillContentText(I.position,null,{mightBeForeignElement:!1,injectedText:null})}if(S.isInContentArea){const E=_.lastRenderData.lastViewCursorsRenderData,I=S.mouseContentHorizontalOffset,T=S.mouseVerticalOffset;for(const N of E){if(I<N.contentLeft||I>N.contentLeft+N.width)continue;const A=_.getVerticalOffsetForLineNumber(N.position.lineNumber);if(A<=T&&T<=A+N.height)return S.fulfillContentText(N.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(_,S){const E=_.getZoneAtCoord(S.mouseVerticalOffset);if(E){const I=S.isInContentArea?8:5;return S.fulfillViewZone(I,E.position,E)}return null}static _hitTestTextArea(_,S){return c.isTextArea(S.targetPath)?_.lastRenderData.lastTextareaPosition?S.fulfillContentText(_.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):S.fulfillTextarea():null}static _hitTestMargin(_,S){if(S.isInMarginArea){const E=_.getFullLineRangeAtCoord(S.mouseVerticalOffset),I=E.range.getStartPosition();let T=Math.abs(S.relativePos.x);const N={isAfterLines:E.isAfterLines,glyphMarginLeft:_.layoutInfo.glyphMarginLeft,glyphMarginWidth:_.layoutInfo.glyphMarginWidth,lineNumbersWidth:_.layoutInfo.lineNumbersWidth,offsetX:T};if(T-=_.layoutInfo.glyphMarginLeft,T<=_.layoutInfo.glyphMarginWidth){const A=_.viewModel.coordinatesConverter.convertViewPositionToModelPosition(E.range.getStartPosition()),R=_.viewModel.glyphLanes.getLanesAtLine(A.lineNumber);return N.glyphMarginLane=R[Math.floor(T/_.lineHeight)],S.fulfillMargin(2,I,E.range,N)}return T-=_.layoutInfo.glyphMarginWidth,T<=_.layoutInfo.lineNumbersWidth?S.fulfillMargin(3,I,E.range,N):(T-=_.layoutInfo.lineNumbersWidth,S.fulfillMargin(4,I,E.range,N))}return null}static _hitTestViewLines(_,S){if(!c.isChildOfViewLines(S.targetPath))return null;if(_.isInTopPadding(S.mouseVerticalOffset))return S.fulfillContentEmpty(new D.Position(1,1),d);if(_.isAfterLines(S.mouseVerticalOffset)||_.isInBottomPadding(S.mouseVerticalOffset)){const I=_.viewModel.getLineCount(),T=_.viewModel.getLineMaxColumn(I);return S.fulfillContentEmpty(new D.Position(I,T),d)}if(c.isStrictChildOfViewLines(S.targetPath)){const I=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset);if(_.viewModel.getLineLength(I)===0){const N=_.getLineWidth(I),A=u(S.mouseContentHorizontalOffset-N);return S.fulfillContentEmpty(new D.Position(I,1),A)}const T=_.getLineWidth(I);if(S.mouseContentHorizontalOffset>=T){const N=u(S.mouseContentHorizontalOffset-T),A=new D.Position(I,_.viewModel.getLineMaxColumn(I));return S.fulfillContentEmpty(A,N)}}const E=S.hitTestResult.value;return E.type===1?a.createMouseTargetFromHitTestPosition(_,S,E.spanNode,E.position,E.injectedText):S.wouldBenefitFromHitTestTargetSwitch?(S.switchToHitTestTarget(),this._createMouseTarget(_,S)):S.fulfillUnknown()}static _hitTestMinimap(_,S){if(c.isChildOfMinimap(S.targetPath)){const E=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=_.viewModel.getLineMaxColumn(E);return S.fulfillScrollbar(new D.Position(E,I))}return null}static _hitTestScrollbarSlider(_,S){if(c.isChildOfScrollableElement(S.targetPath)&&S.target&&S.target.nodeType===1){const E=S.target.className;if(E&&/\b(slider|scrollbar)\b/.test(E)){const I=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),T=_.viewModel.getLineMaxColumn(I);return S.fulfillScrollbar(new D.Position(I,T))}}return null}static _hitTestScrollbar(_,S){if(c.isChildOfScrollableElement(S.targetPath)){const E=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=_.viewModel.getLineMaxColumn(E);return S.fulfillScrollbar(new D.Position(E,I))}return null}getMouseColumn(_){const S=this._context.configuration.options,E=S.get(145),I=this._context.viewLayout.getCurrentScrollLeft()+_.x-E.contentLeft;return a._getMouseColumn(I,S.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(_,S){return _<0?1:Math.round(_/S)+1}static createMouseTargetFromHitTestPosition(_,S,E,I,T){const N=I.lineNumber,A=I.column,R=_.getLineWidth(N);if(S.mouseContentHorizontalOffset>R){const G=u(S.mouseContentHorizontalOffset-R);return S.fulfillContentEmpty(I,G)}const M=_.visibleRangeForPosition(N,A);if(!M)return S.fulfillUnknown(I);const P=M.left;if(Math.abs(S.mouseContentHorizontalOffset-P)<1)return S.fulfillContentText(I,null,{mightBeForeignElement:!!T,injectedText:T});const F=[];if(F.push({offset:M.left,column:A}),A>1){const G=_.visibleRangeForPosition(N,A-1);G&&F.push({offset:G.left,column:A-1})}const O=_.viewModel.getLineMaxColumn(N);if(A<O){const G=_.visibleRangeForPosition(N,A+1);G&&F.push({offset:G.left,column:A+1})}F.sort((G,z)=>G.offset-z.offset);const B=S.pos.toClientCoordinates(w.getWindow(_.viewDomNode)),V=E.getBoundingClientRect(),K=V.left<=B.clientX&&B.clientX<=V.right;let U=null;for(let G=1;G<F.length;G++){const z=F[G-1],$=F[G];if(z.offset<=S.mouseContentHorizontalOffset&&S.mouseContentHorizontalOffset<=$.offset){U=new y.Range(N,z.column,N,$.column);const J=Math.abs(z.offset-S.mouseContentHorizontalOffset),ee=Math.abs($.offset-S.mouseContentHorizontalOffset);I=J<ee?new D.Position(N,z.column):new D.Position(N,$.column);break}}return S.fulfillContentText(I,U,{mightBeForeignElement:!K||!!T,injectedText:T})}static _doHitTestWithCaretRangeFromPoint(_,S){const E=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=_.getVerticalOffsetForLineNumber(E),T=I+_.lineHeight;if(!(E===_.viewModel.getLineCount()&&S.mouseVerticalOffset>T)){const A=Math.floor((I+T)/2);let R=S.pos.y+(A-S.mouseVerticalOffset);R<=S.editorPos.y&&(R=S.editorPos.y+1),R>=S.editorPos.y+S.editorPos.height&&(R=S.editorPos.y+S.editorPos.height-1);const M=new f.PageCoordinates(S.pos.x,R),P=this._actualDoHitTestWithCaretRangeFromPoint(_,M.toClientCoordinates(w.getWindow(_.viewDomNode)));if(P.type===1)return P}return this._actualDoHitTestWithCaretRangeFromPoint(_,S.pos.toClientCoordinates(w.getWindow(_.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(_,S){const E=w.getShadowRoot(_.viewDomNode);let I;if(E?typeof E.caretRangeFromPoint>"u"?I=v(E,S.clientX,S.clientY):I=E.caretRangeFromPoint(S.clientX,S.clientY):I=_.viewDomNode.ownerDocument.caretRangeFromPoint(S.clientX,S.clientY),!I||!I.startContainer)return new o;const T=I.startContainer;if(T.nodeType===T.TEXT_NODE){const N=T.parentNode,A=N?N.parentNode:null,R=A?A.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===L.ViewLine.CLASS_NAME?i.createFromDOMInfo(_,N,I.startOffset):new o(T.parentNode)}else if(T.nodeType===T.ELEMENT_NODE){const N=T.parentNode,A=N?N.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===L.ViewLine.CLASS_NAME?i.createFromDOMInfo(_,T,T.textContent.length):new o(T)}return new o}static _doHitTestWithCaretPositionFromPoint(_,S){const E=_.viewDomNode.ownerDocument.caretPositionFromPoint(S.clientX,S.clientY);if(E.offsetNode.nodeType===E.offsetNode.TEXT_NODE){const I=E.offsetNode.parentNode,T=I?I.parentNode:null,N=T?T.parentNode:null;return(N&&N.nodeType===N.ELEMENT_NODE?N.className:null)===L.ViewLine.CLASS_NAME?i.createFromDOMInfo(_,E.offsetNode.parentNode,E.offset):new o(E.offsetNode.parentNode)}if(E.offsetNode.nodeType===E.offsetNode.ELEMENT_NODE){const I=E.offsetNode.parentNode,T=I&&I.nodeType===I.ELEMENT_NODE?I.className:null,N=I?I.parentNode:null,A=N&&N.nodeType===N.ELEMENT_NODE?N.className:null;if(T===L.ViewLine.CLASS_NAME){const R=E.offsetNode.childNodes[Math.min(E.offset,E.offsetNode.childNodes.length-1)];if(R)return i.createFromDOMInfo(_,R,0)}else if(A===L.ViewLine.CLASS_NAME)return i.createFromDOMInfo(_,E.offsetNode,0)}return new o(E.offsetNode)}static _snapToSoftTabBoundary(_,S){const E=S.getLineContent(_.lineNumber),{tabSize:I}=S.model.getOptions(),T=b.AtomicTabMoveOperations.atomicPosition(E,_.column-1,I,2);return T!==-1?new D.Position(_.lineNumber,T+1):_}static doHitTest(_,S){let E=new o;if(typeof _.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?E=this._doHitTestWithCaretRangeFromPoint(_,S):_.viewDomNode.ownerDocument.caretPositionFromPoint&&(E=this._doHitTestWithCaretPositionFromPoint(_,S.pos.toClientCoordinates(w.getWindow(_.viewDomNode)))),E.type===1){const I=_.viewModel.getInjectedTextAt(E.position),T=_.viewModel.normalizePosition(E.position,2);(I||!T.equals(E.position))&&(E=new n(T,E.spanNode,I))}return E}}e.MouseTargetFactory=a;function v(p,_,S){const E=document.createRange();let I=p.elementFromPoint(_,S);if(I!==null){for(;I&&I.firstChild&&I.firstChild.nodeType!==I.firstChild.TEXT_NODE&&I.lastChild&&I.lastChild.firstChild;)I=I.lastChild;const T=I.getBoundingClientRect(),N=w.getWindow(I),A=N.getComputedStyle(I,null).getPropertyValue("font-style"),R=N.getComputedStyle(I,null).getPropertyValue("font-variant"),M=N.getComputedStyle(I,null).getPropertyValue("font-weight"),P=N.getComputedStyle(I,null).getPropertyValue("font-size"),F=N.getComputedStyle(I,null).getPropertyValue("line-height"),O=N.getComputedStyle(I,null).getPropertyValue("font-family"),B=`${A} ${R} ${M} ${P}/${F} ${O}`,V=I.innerText;let K=T.left,U=0,G;if(_>T.left+T.width)U=V.length;else{const z=h.getInstance();for(let $=0;$<V.length+1;$++){if(G=z.getCharWidth(V.charAt($),B)/2,K+=G,_<K){U=$;break}K+=G}}E.setStart(I.firstChild,U),E.setEnd(I.firstChild,U)}return E}class h{static getInstance(){return h._INSTANCE||(h._INSTANCE=new h),h._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(_,S){const E=_+S;if(this._cache[E])return this._cache[E];const I=this._canvas.getContext("2d");I.font=S;const N=I.measureText(_).width;return this._cache[E]=N,N}}h._INSTANCE=null}),define(ne[908],se([1,0,6,74,2,17,400,180,160,10,24,166,81]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class i extends o.ViewEventHandler{constructor(r,d,u){super(),this._mouseLeaveMonitor=null,this._context=r,this.viewController=d,this.viewHelper=u,this.mouseTargetFactory=new y.MouseTargetFactory(this._context,u),this._mouseDownOperation=this._register(new t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(h,p)=>this._createMouseTarget(h,p),h=>this._getMouseColumn(h))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(145).height;const a=new m.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(a.onContextMenu(this.viewHelper.viewDomNode,h=>this._onContextMenu(h,!0))),this._register(a.onMouseMove(this.viewHelper.viewDomNode,h=>{this._onMouseMove(h),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=f.addDisposableListener(this.viewHelper.viewDomNode.ownerDocument,"mousemove",p=>{this.viewHelper.viewDomNode.contains(p.target)||this._onMouseLeave(new m.EditorMouseEvent(p,!1,this.viewHelper.viewDomNode))}))})),this._register(a.onMouseUp(this.viewHelper.viewDomNode,h=>this._onMouseUp(h))),this._register(a.onMouseLeave(this.viewHelper.viewDomNode,h=>this._onMouseLeave(h)));let v=0;this._register(a.onPointerDown(this.viewHelper.viewDomNode,(h,p)=>{v=p})),this._register(f.addDisposableListener(this.viewHelper.viewDomNode,f.EventType.POINTER_UP,h=>{this._mouseDownOperation.onPointerUp()})),this._register(a.onMouseDown(this.viewHelper.viewDomNode,h=>this._onMouseDown(h,v))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const r=n.MouseWheelClassifier.INSTANCE;let d=0,u=w.EditorZoom.getZoomLevel(),a=!1,v=0;const h=_=>{if(this.viewController.emitMouseWheel(_),!this._context.configuration.options.get(76))return;const S=new k.StandardWheelEvent(_);if(r.acceptStandardWheelEvent(S),r.isPhysicalMouseWheel()){if(p(_)){const E=w.EditorZoom.getZoomLevel(),I=S.deltaY>0?1:-1;w.EditorZoom.setZoomLevel(E+I),S.preventDefault(),S.stopPropagation()}}else Date.now()-d>50&&(u=w.EditorZoom.getZoomLevel(),a=p(_),v=0),d=Date.now(),v+=S.deltaY,a&&(w.EditorZoom.setZoomLevel(u+v/5),S.preventDefault(),S.stopPropagation())};this._register(f.addDisposableListener(this.viewHelper.viewDomNode,f.EventType.MOUSE_WHEEL,h,{capture:!0,passive:!1}));function p(_){return D.isMacintosh?(_.metaKey||_.ctrlKey)&&!_.shiftKey&&!_.altKey:_.ctrlKey&&!_.metaKey&&!_.shiftKey&&!_.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(r){if(r.hasChanged(145)){const d=this._context.configuration.options.get(145).height;this._height!==d&&(this._height=d,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(r){return this._mouseDownOperation.onCursorStateChanged(r),!1}onFocusChanged(r){return!1}getTargetAtClientPoint(r,d){const a=new m.ClientCoordinates(r,d).toPageCoordinates(f.getWindow(this.viewHelper.viewDomNode)),v=(0,m.createEditorPagePosition)(this.viewHelper.viewDomNode);if(a.y<v.y||a.y>v.y+v.height||a.x<v.x||a.x>v.x+v.width)return null;const h=(0,m.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,v,a);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),v,a,h,null)}_createMouseTarget(r,d){let u=r.target;if(!this.viewHelper.viewDomNode.contains(u)){const a=f.getShadowRoot(this.viewHelper.viewDomNode);a&&(u=a.elementsFromPoint(r.posx,r.posy).find(v=>this.viewHelper.viewDomNode.contains(v)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),r.editorPos,r.pos,r.relativePos,d?u:null)}_getMouseColumn(r){return this.mouseTargetFactory.getMouseColumn(r.relativePos)}_onContextMenu(r,d){this.viewController.emitContextMenu({event:r,target:this._createMouseTarget(r,d)})}_onMouseMove(r){this.mouseTargetFactory.mouseTargetIsWidget(r)||r.preventDefault(),!(this._mouseDownOperation.isActive()||r.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:r,target:this._createMouseTarget(r,!0)})}_onMouseLeave(r){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:r,target:null})}_onMouseUp(r){this.viewController.emitMouseUp({event:r,target:this._createMouseTarget(r,!0)})}_onMouseDown(r,d){const u=this._createMouseTarget(r,!0),a=u.type===6||u.type===7,v=u.type===2||u.type===3||u.type===4,h=u.type===3,p=this._context.configuration.options.get(109),_=u.type===8||u.type===5,S=u.type===9;let E=r.leftButton||r.middleButton;D.isMacintosh&&r.leftButton&&r.ctrlKey&&(E=!1);const I=()=>{r.preventDefault(),this.viewHelper.focusTextArea()};if(E&&(a||h&&p))I(),this._mouseDownOperation.start(u.type,r,d);else if(v)r.preventDefault();else if(_){const T=u.detail;E&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(I(),this._mouseDownOperation.start(u.type,r,d),r.preventDefault())}else S&&this.viewHelper.shouldSuppressMouseDownOnWidget(u.detail)&&(I(),r.preventDefault());this.viewController.emitMouseDown({event:r,target:u})}}e.MouseHandler=i;class t extends L.Disposable{constructor(r,d,u,a,v,h){super(),this._context=r,this._viewController=d,this._viewHelper=u,this._mouseTargetFactory=a,this._createMouseTarget=v,this._getMouseColumn=h,this._mouseMoveMonitor=this._register(new m.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new s(this._context,this._viewHelper,this._mouseTargetFactory,(p,_,S)=>this._dispatchMouse(p,_,S))),this._mouseState=new g,this._currentSelection=new C.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const d=this._findMousePosition(r,!1);d&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:d}):d.type===13&&(d.outsidePosition==="above"||d.outsidePosition==="below")?this._topBottomDragScrolling.start(d,r):(this._topBottomDragScrolling.stop(),this._dispatchMouse(d,!0,1)))}start(r,d,u){this._lastMouseEvent=d,this._mouseState.setStartedOnLineNumbers(r===3),this._mouseState.setStartButtons(d),this._mouseState.setModifiers(d);const a=this._findMousePosition(d,!0);if(!a||!a.position)return;this._mouseState.trySetCount(d.detail,a.position),d.detail=this._mouseState.count;const v=this._context.configuration.options;if(!v.get(91)&&v.get(35)&&!v.get(22)&&!this._mouseState.altKey&&d.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&a.type===6&&a.position&&this._currentSelection.containsPosition(a.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,u,d.buttons,h=>this._onMouseDownThenMove(h),h=>{const p=this._findMousePosition(this._lastMouseEvent,!1);f.isKeyboardEvent(h)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:p?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(a,d.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,u,d.buttons,h=>this._onMouseDownThenMove(h),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const d=r.editorPos,u=this._context.viewModel,a=this._context.viewLayout,v=this._getMouseColumn(r);if(r.posy<d.y){const p=d.y-r.posy,_=Math.max(a.getCurrentScrollTop()-p,0),S=y.HitTestContext.getZoneAtCoord(this._context,_);if(S){const I=this._helpPositionJumpOverViewZone(S);if(I)return y.MouseTarget.createOutsideEditor(v,I,"above",p)}const E=a.getLineNumberAtVerticalOffset(_);return y.MouseTarget.createOutsideEditor(v,new b.Position(E,1),"above",p)}if(r.posy>d.y+d.height){const p=r.posy-d.y-d.height,_=a.getCurrentScrollTop()+r.relativePos.y,S=y.HitTestContext.getZoneAtCoord(this._context,_);if(S){const I=this._helpPositionJumpOverViewZone(S);if(I)return y.MouseTarget.createOutsideEditor(v,I,"below",p)}const E=a.getLineNumberAtVerticalOffset(_);return y.MouseTarget.createOutsideEditor(v,new b.Position(E,u.getLineMaxColumn(E)),"below",p)}const h=a.getLineNumberAtVerticalOffset(a.getCurrentScrollTop()+r.relativePos.y);if(r.posx<d.x){const p=d.x-r.posx;return y.MouseTarget.createOutsideEditor(v,new b.Position(h,1),"left",p)}if(r.posx>d.x+d.width){const p=r.posx-d.x-d.width;return y.MouseTarget.createOutsideEditor(v,new b.Position(h,u.getLineMaxColumn(h)),"right",p)}return null}_findMousePosition(r,d){const u=this._getPositionOutsideEditor(r);if(u)return u;const a=this._createMouseTarget(r,d);if(!a.position)return null;if(a.type===8||a.type===5){const h=this._helpPositionJumpOverViewZone(a.detail);if(h)return y.MouseTarget.createViewZone(a.type,a.element,a.mouseColumn,h,a.detail)}return a}_helpPositionJumpOverViewZone(r){const d=new b.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),u=r.positionBefore,a=r.positionAfter;return u&&a?u.isBefore(d)?u:a:null}_dispatchMouse(r,d,u){r.position&&this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:u,inSelectionMode:d,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:r.type===6&&r.detail.injectedText!==null})}}class s extends L.Disposable{constructor(r,d,u,a){super(),this._context=r,this._viewHelper=d,this._mouseTargetFactory=u,this._dispatchMouse=a,this._operation=null}dispose(){super.dispose(),this.stop()}start(r,d){this._operation?this._operation.setPosition(r,d):this._operation=new c(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,r,d)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class c extends L.Disposable{constructor(r,d,u,a,v,h){super(),this._context=r,this._viewHelper=d,this._mouseTargetFactory=u,this._dispatchMouse=a,this._position=v,this._mouseEvent=h,this._lastTime=Date.now(),this._animationFrameDisposable=f.scheduleAtNextAnimationFrame(f.getWindow(h.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(r,d){this._position=r,this._mouseEvent=d}_tick(){const r=Date.now(),d=r-this._lastTime;return this._lastTime=r,d}_getScrollSpeed(){const r=this._context.configuration.options.get(67),d=this._context.configuration.options.get(145).height/r,u=this._position.outsideDistance/r;return u<=1.5?Math.max(30,d*(1+u)):u<=3?Math.max(60,d*(2+u)):Math.max(200,d*(7+u))}_execute(){const r=this._context.configuration.options.get(67),d=this._getScrollSpeed(),u=this._tick(),a=d*(u/1e3)*r,v=this._position.outsidePosition==="above"?-a:a;this._context.viewModel.viewLayout.deltaScrollNow(0,v),this._viewHelper.renderNow();const h=this._context.viewLayout.getLinesViewportData(),p=this._position.outsidePosition==="above"?h.startLineNumber:h.endLineNumber;let _;{const S=(0,m.createEditorPagePosition)(this._viewHelper.viewDomNode),E=this._context.configuration.options.get(145).horizontalScrollbarHeight,I=new m.PageCoordinates(this._mouseEvent.pos.x,S.y+S.height-E-.1),T=(0,m.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,S,I);_=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),S,I,T,null)}(!_.position||_.position.lineNumber!==p)&&(this._position.outsidePosition==="above"?_=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new b.Position(p,1),"above",this._position.outsideDistance):_=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new b.Position(p,this._context.viewModel.getLineMaxColumn(p)),"below",this._position.outsideDistance)),this._dispatchMouse(_,!0,2),this._animationFrameDisposable=f.scheduleAtNextAnimationFrame(f.getWindow(_.element),()=>this._execute())}}class g{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(r){this._altKey=r.altKey,this._ctrlKey=r.ctrlKey,this._metaKey=r.metaKey,this._shiftKey=r.shiftKey}setStartButtons(r){this._leftButton=r.leftButton,this._middleButton=r.middleButton}setStartedOnLineNumbers(r){this._startedOnLineNumbers=r}trySetCount(r,d){const u=new Date().getTime();u-this._lastSetMouseDownCountTime>g.CLEAR_MOUSE_DOWN_COUNT_TIME&&(r=1),this._lastSetMouseDownCountTime=u,r>this._lastMouseDownCount+1&&(r=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(d)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=d,this._lastMouseDownCount=Math.min(r,this._lastMouseDownPositionEqualCount)}}g.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ne[909],se([1,0,244,6,69,52,2,17,908,207,180]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class o extends w.MouseHandler{constructor(s,c,g){super(s,c,g),this._register(L.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Tap,r=>this.onTap(r))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Change,r=>this.onChange(r))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Contextmenu,r=>this._onContextMenu(new C.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",r=>{const d=r.pointerType;if(d==="mouse"){this._lastPointerType="mouse";return}else d==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const l=new C.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(l.onPointerMove(this.viewHelper.viewDomNode,r=>this._onMouseMove(r))),this._register(l.onPointerUp(this.viewHelper.viewDomNode,r=>this._onMouseUp(r))),this._register(l.onPointerLeave(this.viewHelper.viewDomNode,r=>this._onMouseLeave(r))),this._register(l.onPointerDown(this.viewHelper.viewDomNode,(r,d)=>this._onMouseDown(r,d)))}onTap(s){!s.initialTarget||!this.viewHelper.linesContentDomNode.contains(s.initialTarget)||(s.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(s,!1))}onChange(s){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-s.translationX,-s.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(s,!0)}_dispatchGesture(s,c){const g=this._createMouseTarget(new C.EditorMouseEvent(s,!1,this.viewHelper.viewDomNode),!1);g.position&&this.viewController.dispatchMouse({position:g.position,mouseColumn:g.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:s.tapCount,inSelectionMode:c,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:g.type===6&&g.detail.injectedText!==null})}_onMouseDown(s,c){s.browserEvent.pointerType!=="touch"&&super._onMouseDown(s,c)}}e.PointerEventHandler=o;class n extends w.MouseHandler{constructor(s,c,g){super(s,c,g),this._register(L.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Tap,l=>this.onTap(l))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Change,l=>this.onChange(l))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Contextmenu,l=>this._onContextMenu(new C.EditorMouseEvent(l,!1,this.viewHelper.viewDomNode),!1)))}onTap(s){s.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new C.EditorMouseEvent(s,!1,this.viewHelper.viewDomNode),!1);if(c.position){const g=document.createEvent("CustomEvent");g.initEvent(b.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(g),this.viewController.moveTo(c.position,1)}}onChange(s){this._context.viewModel.viewLayout.deltaScrollNow(-s.translationX,-s.translationY)}}class i extends y.Disposable{constructor(s,c,g){super(),(m.isIOS||m.isAndroid&&m.isMobile)&&f.BrowserFeatures.pointerEvents?this.handler=this._register(new o(s,c,g)):D.mainWindow.TouchEvent?this.handler=this._register(new n(s,c,g)):this.handler=this._register(new w.MouseHandler(s,c,g))}getTargetAtClientPoint(s,c){return this.handler.getTargetAtClientPoint(s,c)}}e.PointerHandler=i}),define(ne[910],se([1,0,221,15,17,72,159,257,56,527,276,10,5,469]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new n.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(l){this._currentVisibleRange=l}}class t{constructor(l,r,d,u,a,v,h){this.minimalReveal=l,this.lineNumber=r,this.startColumn=d,this.endColumn=u,this.startScrollTop=a,this.stopScrollTop=v,this.scrollType=h,this.type="range",this.minLineNumber=r,this.maxLineNumber=r}}class s{constructor(l,r,d,u,a){this.minimalReveal=l,this.selections=r,this.startScrollTop=d,this.stopScrollTop=u,this.scrollType=a,this.type="selections";let v=r[0].startLineNumber,h=r[0].endLineNumber;for(let p=1,_=r.length;p<_;p++){const S=r[p];v=Math.min(v,S.startLineNumber),h=Math.max(h,S.endLineNumber)}this.minLineNumber=v,this.maxLineNumber=h}}class c extends w.ViewPart{constructor(l,r){super(l),this._linesContent=r,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new m.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const d=this._context.configuration,u=this._context.configuration.options,a=u.get(50),v=u.get(146);this._lineHeight=u.get(67),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._isViewportWrapping=v.isViewportWrapping,this._revealHorizontalRightPadding=u.get(100),this._cursorSurroundingLines=u.get(29),this._cursorSurroundingLinesStyle=u.get(30),this._canUseLayerHinting=!u.get(32),this._viewLineOptions=new C.ViewLineOptions(d,this._context.theme.type),w.PartFingerprints.write(this.domNode,8),this.domNode.setClassName(`view-lines ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,D.applyFontInfo)(this.domNode,a),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=u.get(115).enabled,this._maxNumberStickyLines=u.get(115).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new C.ViewLine(this._viewLineOptions)}onConfigurationChanged(l){this._visibleLines.onConfigurationChanged(l),l.hasChanged(146)&&(this._maxLineWidth=0);const r=this._context.configuration.options,d=r.get(50),u=r.get(146);return this._lineHeight=r.get(67),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._isViewportWrapping=u.isViewportWrapping,this._revealHorizontalRightPadding=r.get(100),this._cursorSurroundingLines=r.get(29),this._cursorSurroundingLinesStyle=r.get(30),this._canUseLayerHinting=!r.get(32),this._stickyScrollEnabled=r.get(115).enabled,this._maxNumberStickyLines=r.get(115).maxLineCount,(0,D.applyFontInfo)(this.domNode,d),this._onOptionsMaybeChanged(),l.hasChanged(145)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const l=this._context.configuration,r=new C.ViewLineOptions(l,this._context.theme.type);if(!this._viewLineOptions.equals(r)){this._viewLineOptions=r;const d=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let a=d;a<=u;a++)this._visibleLines.getVisibleLine(a).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(l){const r=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();let u=!1;for(let a=r;a<=d;a++)u=this._visibleLines.getVisibleLine(a).onSelectionChanged()||u;return u}onDecorationsChanged(l){{const r=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let u=r;u<=d;u++)this._visibleLines.getVisibleLine(u).onDecorationsChanged()}return!0}onFlushed(l){const r=this._visibleLines.onFlushed(l);return this._maxLineWidth=0,r}onLinesChanged(l){return this._visibleLines.onLinesChanged(l)}onLinesDeleted(l){return this._visibleLines.onLinesDeleted(l)}onLinesInserted(l){return this._visibleLines.onLinesInserted(l)}onRevealRangeRequest(l){const r=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),l.source,l.minimalReveal,l.range,l.selections,l.verticalType);if(r===-1)return!1;let d=this._context.viewLayout.validateScrollPosition({scrollTop:r});l.revealHorizontal?l.range&&l.range.startLineNumber!==l.range.endLineNumber?d={scrollTop:d.scrollTop,scrollLeft:0}:l.range?this._horizontalRevealRequest=new t(l.minimalReveal,l.range.startLineNumber,l.range.startColumn,l.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),d.scrollTop,l.scrollType):l.selections&&l.selections.length>0&&(this._horizontalRevealRequest=new s(l.minimalReveal,l.selections,this._context.viewLayout.getCurrentScrollTop(),d.scrollTop,l.scrollType)):this._horizontalRevealRequest=null;const a=Math.abs(this._context.viewLayout.getCurrentScrollTop()-d.scrollTop)<=this._lineHeight?1:l.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(d,a),!0}onScrollChanged(l){if(this._horizontalRevealRequest&&l.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&l.scrollTopChanged){const r=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),d=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(l.scrollTop<r||l.scrollTop>d)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(l.scrollWidth),this._visibleLines.onScrollChanged(l)||!0}onTokensChanged(l){return this._visibleLines.onTokensChanged(l)}onZonesChanged(l){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(l)}onThemeChanged(l){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(l,r){const d=this._getViewLineDomNode(l);if(d===null)return null;const u=this._getLineNumberFor(d);if(u===-1||u<1||u>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(u)===1)return new o.Position(u,1);const a=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();if(u<a||u>v)return null;let h=this._visibleLines.getVisibleLine(u).getColumnOfNodeOffset(l,r);const p=this._context.viewModel.getLineMinColumn(u);return h<p&&(h=p),new o.Position(u,h)}_getViewLineDomNode(l){for(;l&&l.nodeType===1;){if(l.className===C.ViewLine.CLASS_NAME)return l;l=l.parentElement}return null}_getLineNumberFor(l){const r=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let u=r;u<=d;u++){const a=this._visibleLines.getVisibleLine(u);if(l===a.getDomNode())return u}return-1}getLineWidth(l){const r=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();if(l<r||l>d)return-1;const u=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),a=this._visibleLines.getVisibleLine(l).getWidth(u);return this._updateLineWidthsSlowIfDomDidLayout(u),a}linesVisibleRangesForRange(l,r){if(this.shouldRender())return null;const d=l.endLineNumber,u=n.Range.intersectRanges(l,this._lastRenderedData.getCurrentVisibleRange());if(!u)return null;const a=[];let v=0;const h=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let p=0;r&&(p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(u.startLineNumber,1)).lineNumber);const _=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber();for(let E=u.startLineNumber;E<=u.endLineNumber;E++){if(E<_||E>S)continue;const I=E===u.startLineNumber?u.startColumn:1,T=E!==u.endLineNumber,N=T?this._context.viewModel.getLineMaxColumn(E):u.endColumn,A=this._visibleLines.getVisibleLine(E).getVisibleRangesForRange(E,I,N,h);if(A){if(r&&E<d){const R=p;p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(E+1,1)).lineNumber,R!==p&&(A.ranges[A.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}a[v++]=new y.LineVisibleRanges(A.outsideRenderedLine,E,y.HorizontalRange.from(A.ranges),T)}}return this._updateLineWidthsSlowIfDomDidLayout(h),v===0?null:a}_visibleRangesForLineRange(l,r,d){if(this.shouldRender()||l<this._visibleLines.getStartLineNumber()||l>this._visibleLines.getEndLineNumber())return null;const u=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),a=this._visibleLines.getVisibleLine(l).getVisibleRangesForRange(l,r,d,u);return this._updateLineWidthsSlowIfDomDidLayout(u),a}visibleRangeForPosition(l){const r=this._visibleRangesForLineRange(l.lineNumber,l.column,l.column);return r?new y.HorizontalPosition(r.outsideRenderedLine,r.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(l){l.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(l){const r=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();let u=1,a=!0;for(let v=r;v<=d;v++){const h=this._visibleLines.getVisibleLine(v);if(l&&!h.getWidthIsFast()){a=!1;continue}u=Math.max(u,h.getWidth(null))}return a&&r===1&&d===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(u),a}_checkMonospaceFontAssumptions(){let l=-1,r=-1;const d=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let a=d;a<=u;a++){const v=this._visibleLines.getVisibleLine(a);if(v.needsMonospaceFontCheck()){const h=v.getWidth(null);h>r&&(r=h,l=a)}}if(l!==-1&&!this._visibleLines.getVisibleLine(l).monospaceAssumptionsAreValid())for(let a=d;a<=u;a++)this._visibleLines.getVisibleLine(a).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(l){if(this._visibleLines.renderLines(l),this._lastRenderedData.setCurrentVisibleRange(l.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const d=this._horizontalRevealRequest;if(l.startLineNumber<=d.minLineNumber&&d.maxLineNumber<=l.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const u=this._computeScrollLeftToReveal(d);u&&(this._isViewportWrapping||this._ensureMaxLineWidth(u.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:u.scrollLeft},d.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),L.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const d=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let a=d;a<=u;a++)if(this._visibleLines.getVisibleLine(a).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const r=this._context.viewLayout.getCurrentScrollTop()-l.bigNumbersDelta;this._linesContent.setTop(-r),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(l){const r=Math.ceil(l);this._maxLineWidth<r&&(this._maxLineWidth=r,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(l,r,d,u,a,v){const h=l.top,p=l.height,_=h+p;let S,E,I;if(a&&a.length>0){let M=a[0].startLineNumber,P=a[0].endLineNumber;for(let F=1,O=a.length;F<O;F++){const B=a[F];M=Math.min(M,B.startLineNumber),P=Math.max(P,B.endLineNumber)}S=!1,E=this._context.viewLayout.getVerticalOffsetForLineNumber(M),I=this._context.viewLayout.getVerticalOffsetForLineNumber(P)+this._lineHeight}else if(u)S=!0,E=this._context.viewLayout.getVerticalOffsetForLineNumber(u.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(u.endLineNumber)+this._lineHeight;else return-1;const T=(r==="mouse"||d)&&this._cursorSurroundingLinesStyle==="default";let N=0,A=0;if(T)d||(N=this._lineHeight);else{const M=Math.min(p/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?N=Math.max(M,this._maxNumberStickyLines)*this._lineHeight:N=M*this._lineHeight,A=Math.max(0,M-1)*this._lineHeight}d||(v===0||v===4)&&(A+=this._lineHeight),E-=N,I+=A;let R;if(I-E>p){if(!S)return-1;R=E}else if(v===5||v===6)if(v===6&&h<=E&&I<=_)R=h;else{const M=Math.max(5*this._lineHeight,p*.2),P=E-M,F=I-p;R=Math.max(F,P)}else if(v===1||v===2)if(v===2&&h<=E&&I<=_)R=h;else{const M=(E+I)/2;R=Math.max(0,M-p/2)}else R=this._computeMinimumScrolling(h,_,E,I,v===3,v===4);return R}_computeScrollLeftToReveal(l){const r=this._context.viewLayout.getCurrentViewport(),d=this._context.configuration.options.get(145),u=r.left,a=u+r.width-d.verticalScrollbarWidth;let v=1073741824,h=0;if(l.type==="range"){const _=this._visibleRangesForLineRange(l.lineNumber,l.startColumn,l.endColumn);if(!_)return null;for(const S of _.ranges)v=Math.min(v,Math.round(S.left)),h=Math.max(h,Math.round(S.left+S.width))}else for(const _ of l.selections){if(_.startLineNumber!==_.endLineNumber)return null;const S=this._visibleRangesForLineRange(_.startLineNumber,_.startColumn,_.endColumn);if(!S)return null;for(const E of S.ranges)v=Math.min(v,Math.round(E.left)),h=Math.max(h,Math.round(E.left+E.width))}return l.minimalReveal||(v=Math.max(0,v-c.HORIZONTAL_EXTRA_PX),h+=this._revealHorizontalRightPadding),l.type==="selections"&&h-v>r.width?null:{scrollLeft:this._computeMinimumScrolling(u,a,v,h),maxHorizontalOffset:h}}_computeMinimumScrolling(l,r,d,u,a,v){l=l|0,r=r|0,d=d|0,u=u|0,a=!!a,v=!!v;const h=r-l;if(u-d<h){if(a)return d;if(v)return Math.max(0,u-h);if(d<l)return d;if(u>r)return Math.max(0,u-h)}else return d;return l}}e.ViewLines=c,c.HORIZONTAL_EXTRA_PX=30}),define(ne[23],se([1,0,7,2,8,39,95]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.Extensions=e.IThemeService=void 0,e.themeColorFromId=m,e.getThemeTypeSelector=w,e.registerThemingParticipant=o,e.IThemeService=(0,L.createDecorator)("themeService");function m(i){return{id:i}}function w(i){switch(i){case y.ColorScheme.DARK:return"vs-dark";case y.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case y.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.Extensions={ThemingContribution:"base.contributions.theming"};class b{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new f.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,k.toDisposable)(()=>{const s=this.themingParticipants.indexOf(t);this.themingParticipants.splice(s,1)})}getThemingParticipants(){return this.themingParticipants}}const C=new b;D.Registry.add(e.Extensions.ThemingContribution,C);function o(i){return C.onColorThemeChange(i)}class n extends k.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(s=>this.onThemeChange(s)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=n}),define(ne[911],se([1,0,7,2,71,23]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let y=class extends k.Disposable{constructor(b){super(),this._themeService=b,this._onWillCreateCodeEditor=this._register(new f.Emitter),this._onCodeEditorAdd=this._register(new f.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new f.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new f.Emitter),this._onDiffEditorAdd=this._register(new f.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new f.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new L.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(b){this._codeEditors[b.getId()]=b,this._onCodeEditorAdd.fire(b)}removeCodeEditor(b){delete this._codeEditors[b.getId()]&&this._onCodeEditorRemove.fire(b)}listCodeEditors(){return Object.keys(this._codeEditors).map(b=>this._codeEditors[b])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(b){this._diffEditors[b.getId()]=b,this._onDiffEditorAdd.fire(b)}listDiffEditors(){return Object.keys(this._diffEditors).map(b=>this._diffEditors[b])}getFocusedCodeEditor(){let b=null;const C=this.listCodeEditors();for(const o of C){if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(b=o)}return b}removeDecorationType(b){const C=this._decorationOptionProviders.get(b);C&&(C.refCount--,C.refCount<=0&&(this._decorationOptionProviders.delete(b),C.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorationsByType(b))))}setModelProperty(b,C,o){const n=b.toString();let i;this._modelProperties.has(n)?i=this._modelProperties.get(n):(i=new Map,this._modelProperties.set(n,i)),i.set(C,o)}getModelProperty(b,C){const o=b.toString();if(this._modelProperties.has(o))return this._modelProperties.get(o).get(C)}async openCodeEditor(b,C,o){for(const n of this._codeEditorOpenHandlers){const i=await n(b,C,o);if(i!==null)return i}return null}registerCodeEditorOpenHandler(b){const C=this._codeEditorOpenHandlers.unshift(b);return(0,k.toDisposable)(C)}};e.AbstractCodeEditorService=y,e.AbstractCodeEditorService=y=ke([ge(0,D.IThemeService)],y);class m{constructor(b){this._styleSheet=b}}e.GlobalStyleSheet=m}),define(ne[912],se([1,0,49,23,33,115,58,8,845,2,6,32,46,62,116,52,380,663,15]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverService=void 0;let r=class extends b.Disposable{constructor(h,p,_,S,E){super(),this._instantiationService=h,this._keybindingService=_,this._layoutService=S,this._accessibilityService=E,this._existingHovers=new Map,p.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new c.ContextViewHandler(this._layoutService))}showHover(h,p,_){var S,E,I,T;if(d(this._currentHoverOptions)===d(h)||this._currentHover&&(!((E=(S=this._currentHoverOptions)===null||S===void 0?void 0:S.persistence)===null||E===void 0)&&E.sticky))return;this._currentHoverOptions=h,this._lastHoverOptions=h;const N=h.trapFocus||this._accessibilityService.isScreenReaderOptimized(),A=(0,C.getActiveElement)();_||(N&&A?A.classList.contains("monaco-hover")||(this._lastFocusedElementBeforeOpen=A):this._lastFocusedElementBeforeOpen=void 0);const R=new b.DisposableStore,M=this._instantiationService.createInstance(w.HoverWidget,h);if(!((I=h.persistence)===null||I===void 0)&&I.sticky&&(M.isLocked=!0),M.onDispose(()=>{var P,F;((P=this._currentHover)===null||P===void 0?void 0:P.domNode)&&(0,C.isAncestorOfActiveElement)(this._currentHover.domNode)&&((F=this._lastFocusedElementBeforeOpen)===null||F===void 0||F.focus()),this._currentHoverOptions===h&&(this._currentHoverOptions=void 0),R.dispose()},void 0,R),!h.container){const P=(0,C.isHTMLElement)(h.target)?h.target:h.target.targetElements[0];h.container=this._layoutService.getContainer((0,C.getWindow)(P))}if(this._contextViewHandler.showContextView(new u(M,p),h.container),M.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,R),!((T=h.persistence)===null||T===void 0)&&T.sticky)R.add((0,C.addDisposableListener)((0,C.getWindow)(h.container).document,C.EventType.MOUSE_DOWN,P=>{(0,C.isAncestor)(P.target,M.domNode)||this.doHideHover()}));else{if("targetElements"in h.target)for(const F of h.target.targetElements)R.add((0,C.addDisposableListener)(F,C.EventType.CLICK,()=>this.hideHover()));else R.add((0,C.addDisposableListener)(h.target,C.EventType.CLICK,()=>this.hideHover()));const P=(0,C.getActiveElement)();if(P){const F=(0,C.getWindow)(P).document;R.add((0,C.addDisposableListener)(P,C.EventType.KEY_DOWN,O=>{var B;return this._keyDown(O,M,!!(!((B=h.persistence)===null||B===void 0)&&B.hideOnKeyDown))})),R.add((0,C.addDisposableListener)(F,C.EventType.KEY_DOWN,O=>{var B;return this._keyDown(O,M,!!(!((B=h.persistence)===null||B===void 0)&&B.hideOnKeyDown))})),R.add((0,C.addDisposableListener)(P,C.EventType.KEY_UP,O=>this._keyUp(O,M))),R.add((0,C.addDisposableListener)(F,C.EventType.KEY_UP,O=>this._keyUp(O,M)))}}if("IntersectionObserver"in s.mainWindow){const P=new IntersectionObserver(O=>this._intersectionChange(O,M),{threshold:0}),F="targetElements"in h.target?h.target.targetElements[0]:h.target;P.observe(F),R.add((0,b.toDisposable)(()=>P.disconnect()))}return this._currentHover=M,M}hideHover(){var h;!((h=this._currentHover)===null||h===void 0)&&h.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(h,p){h[h.length-1].isIntersecting||p.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(h,p,_){var S,E;if(h.key==="Alt"){p.isLocked=!0;return}const I=new n.StandardKeyboardEvent(h);this._keybindingService.resolveKeyboardEvent(I).getSingleModifierDispatchChords().some(N=>!!N)||this._keybindingService.softDispatch(I,I.target).kind!==0||_&&(!(!((S=this._currentHoverOptions)===null||S===void 0)&&S.trapFocus)||h.key!=="Tab")&&(this.hideHover(),(E=this._lastFocusedElementBeforeOpen)===null||E===void 0||E.focus())}_keyUp(h,p){var _;h.key==="Alt"&&(p.isLocked=!1,p.isMouseIn||(this.hideHover(),(_=this._lastFocusedElementBeforeOpen)===null||_===void 0||_.focus()))}setupUpdatableHover(h,p,_,S){p.setAttribute("custom-hover","true"),p.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",p.title),p.title="");let E,I;const T=(G,z)=>{var $;const J=I!==void 0;G&&(I?.dispose(),I=void 0),z&&(E?.dispose(),E=void 0),J&&(($=h.onDidHideHover)===null||$===void 0||$.call(h),I=void 0)},N=(G,z,$,J)=>new l.TimeoutTimer(async()=>{(!I||I.isDisposed)&&(I=new g.UpdatableHoverWidget(h,$||p,G>0),await I.update(typeof _=="function"?_():_,z,{...S,trapFocus:J}))},G);let A=!1;const R=(0,C.addDisposableListener)(p,C.EventType.MOUSE_DOWN,()=>{A=!0,T(!0,!0)},!0),M=(0,C.addDisposableListener)(p,C.EventType.MOUSE_UP,()=>{A=!1},!0),P=(0,C.addDisposableListener)(p,C.EventType.MOUSE_LEAVE,G=>{A=!1,T(!1,G.fromElement===p)},!0),F=G=>{if(E)return;const z=new b.DisposableStore,$={targetElements:[p],dispose:()=>{}};if(h.placement===void 0||h.placement==="mouse"){const J=ee=>{$.x=ee.x+10,(0,C.isHTMLElement)(ee.target)&&a(ee.target,p)!==p&&T(!0,!0)};z.add((0,C.addDisposableListener)(p,C.EventType.MOUSE_MOVE,J,!0))}E=z,!((0,C.isHTMLElement)(G.target)&&a(G.target,p)!==p)&&z.add(N(h.delay,!1,$))},O=(0,C.addDisposableListener)(p,C.EventType.MOUSE_OVER,F,!0),B=()=>{if(A||E)return;const G={targetElements:[p],dispose:()=>{}},z=new b.DisposableStore,$=()=>T(!0,!0);z.add((0,C.addDisposableListener)(p,C.EventType.BLUR,$,!0)),z.add(N(h.delay,!1,G)),E=z};let V;const K=p.tagName.toLowerCase();K!=="input"&&K!=="textarea"&&(V=(0,C.addDisposableListener)(p,C.EventType.FOCUS,B,!0));const U={show:G=>{T(!1,!0),N(0,G,void 0,G)},hide:()=>{T(!0,!0)},update:async(G,z)=>{_=G,await I?.update(_,void 0,z)},dispose:()=>{this._existingHovers.delete(p),O.dispose(),P.dispose(),R.dispose(),M.dispose(),V?.dispose(),T(!0,!0)}};return this._existingHovers.set(p,U),U}triggerUpdatableHover(h){const p=this._existingHovers.get(h);p&&p.show(!0)}dispose(){this._existingHovers.forEach(h=>h.dispose()),super.dispose()}};e.HoverService=r,e.HoverService=r=ke([ge(0,m.IInstantiationService),ge(1,y.IContextMenuService),ge(2,o.IKeybindingService),ge(3,t.ILayoutService),ge(4,i.IAccessibilityService)],r);function d(v){var h;if(v!==void 0)return(h=v?.id)!==null&&h!==void 0?h:v}class u{get anchorPosition(){return this._hover.anchor}constructor(h,p=!1){this._hover=h,this._focus=p,this.layer=1}render(h){return this._hover.render(h),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function a(v,h){for(h=h??(0,C.getWindow)(v).document.body;!v.hasAttribute("custom-hover")&&v!==h;)v=v.parentElement;return v}(0,f.registerSingleton)(D.IHoverService,r,1),(0,k.registerThemingParticipant)((v,h)=>{const p=v.getColor(L.editorHoverBorder);p&&(h.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${p.transparent(.5)}; }`),h.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${p.transparent(.5)}; }`))})}),define(ne[913],se([1,0,6,40,81,56,23]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class m extends D.ViewPart{constructor(b,C,o,n){super(b);const i=this._context.configuration.options,t=i.get(103),s=i.get(75),c=i.get(40),g=i.get(106),l={listenOnDomNode:o.domNode,className:"editor-scrollable "+(0,y.getThemeTypeSelector)(b.theme.type),useShadows:!1,lazyRender:!0,vertical:t.vertical,horizontal:t.horizontal,verticalHasArrows:t.verticalHasArrows,horizontalHasArrows:t.horizontalHasArrows,verticalScrollbarSize:t.verticalScrollbarSize,verticalSliderSize:t.verticalSliderSize,horizontalScrollbarSize:t.horizontalScrollbarSize,horizontalSliderSize:t.horizontalSliderSize,handleMouseWheel:t.handleMouseWheel,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel,arrowSize:t.arrowSize,mouseWheelScrollSensitivity:s,fastScrollSensitivity:c,scrollPredominantAxis:g,scrollByPage:t.scrollByPage};this.scrollbar=this._register(new L.SmoothScrollableElement(C.domNode,l,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const r=(d,u,a)=>{const v={};if(u){const h=d.scrollTop;h&&(v.scrollTop=this._context.viewLayout.getCurrentScrollTop()+h,d.scrollTop=0)}if(a){const h=d.scrollLeft;h&&(v.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+h,d.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(v,1)};this._register(f.addDisposableListener(o.domNode,"scroll",d=>r(o.domNode,!0,!0))),this._register(f.addDisposableListener(C.domNode,"scroll",d=>r(C.domNode,!0,!1))),this._register(f.addDisposableListener(n.domNode,"scroll",d=>r(n.domNode,!0,!1))),this._register(f.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",d=>r(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const b=this._context.configuration.options,C=b.get(145);this.scrollbarDomNode.setLeft(C.contentLeft),b.get(73).side==="right"?this.scrollbarDomNode.setWidth(C.contentWidth+C.minimap.minimapWidth):this.scrollbarDomNode.setWidth(C.contentWidth),this.scrollbarDomNode.setHeight(C.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(b){this.scrollbar.delegateVerticalScrollbarPointerDown(b)}delegateScrollFromMouseWheelEvent(b){this.scrollbar.delegateScrollFromMouseWheelEvent(b)}onConfigurationChanged(b){if(b.hasChanged(103)||b.hasChanged(75)||b.hasChanged(40)){const C=this._context.configuration.options,o=C.get(103),n=C.get(75),i=C.get(40),t=C.get(106),s={vertical:o.vertical,horizontal:o.horizontal,verticalScrollbarSize:o.verticalScrollbarSize,horizontalScrollbarSize:o.horizontalScrollbarSize,scrollByPage:o.scrollByPage,handleMouseWheel:o.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:i,scrollPredominantAxis:t};this.scrollbar.updateOptions(s)}return b.hasChanged(145)&&this._setLayout(),!0}onScrollChanged(b){return!0}onThemeChanged(b){return this.scrollbar.updateClassName("editor-scrollable "+(0,y.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(b){}render(b){this.scrollbar.renderNow()}}e.EditorScrollbar=m}),define(ne[914],se([1,0,130,33,23,477]),function(X,e,f,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(n){this.left=n.left,this.width=n.width,this.startStyle=null,this.endStyle=null}}class y{constructor(n,i){this.lineNumber=n,this.ranges=i}}function m(o){return new D(o)}function w(o){return new y(o.lineNumber,o.ranges.map(m))}class b extends f.DynamicViewOverlay{constructor(n){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=n;const i=this._context.configuration.options;this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const i=this._context.configuration.options;return this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(n){return this._selections=n.selections.slice(0),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_visibleRangesHaveGaps(n){for(let i=0,t=n.length;i<t;i++)if(n[i].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(n,i,t){const s=this._typicalHalfwidthCharacterWidth/4;let c=null,g=null;if(t&&t.length>0&&i.length>0){const l=i[0].lineNumber;if(l===n.startLineNumber)for(let d=0;!c&&d<t.length;d++)t[d].lineNumber===l&&(c=t[d].ranges[0]);const r=i[i.length-1].lineNumber;if(r===n.endLineNumber)for(let d=t.length-1;!g&&d>=0;d--)t[d].lineNumber===r&&(g=t[d].ranges[0]);c&&!c.startStyle&&(c=null),g&&!g.startStyle&&(g=null)}for(let l=0,r=i.length;l<r;l++){const d=i[l].ranges[0],u=d.left,a=d.left+d.width,v={top:0,bottom:0},h={top:0,bottom:0};if(l>0){const p=i[l-1].ranges[0].left,_=i[l-1].ranges[0].left+i[l-1].ranges[0].width;C(u-p)<s?v.top=2:u>p&&(v.top=1),C(a-_)<s?h.top=2:p<a&&a<_&&(h.top=1)}else c&&(v.top=c.startStyle.top,h.top=c.endStyle.top);if(l+1<r){const p=i[l+1].ranges[0].left,_=i[l+1].ranges[0].left+i[l+1].ranges[0].width;C(u-p)<s?v.bottom=2:p<u&&u<_&&(v.bottom=1),C(a-_)<s?h.bottom=2:a<_&&(h.bottom=1)}else g&&(v.bottom=g.startStyle.bottom,h.bottom=g.endStyle.bottom);d.startStyle=v,d.endStyle=h}}_getVisibleRangesWithStyle(n,i,t){const c=(i.linesVisibleRangesForRange(n,!0)||[]).map(w);return!this._visibleRangesHaveGaps(c)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,c,t),c}_createSelectionPiece(n,i,t,s,c){return'<div class="cslr '+t+'" style="top:'+n.toString()+"px;bottom:"+i.toString()+"px;left:"+s.toString()+"px;width:"+c.toString()+'px;"></div>'}_actualRenderOneSelection(n,i,t,s){if(s.length===0)return;const c=!!s[0].ranges[0].startStyle,g=s[0].lineNumber,l=s[s.length-1].lineNumber;for(let r=0,d=s.length;r<d;r++){const u=s[r],a=u.lineNumber,v=a-i,h=t&&a===g?1:0,p=t&&a!==g&&a===l?1:0;let _="",S="";for(let E=0,I=u.ranges.length;E<I;E++){const T=u.ranges[E];if(c){const A=T.startStyle,R=T.endStyle;if(A.top===1||A.bottom===1){_+=this._createSelectionPiece(h,p,b.SELECTION_CLASS_NAME,T.left-b.ROUNDED_PIECE_WIDTH,b.ROUNDED_PIECE_WIDTH);let M=b.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(M+=" "+b.SELECTION_TOP_RIGHT),A.bottom===1&&(M+=" "+b.SELECTION_BOTTOM_RIGHT),_+=this._createSelectionPiece(h,p,M,T.left-b.ROUNDED_PIECE_WIDTH,b.ROUNDED_PIECE_WIDTH)}if(R.top===1||R.bottom===1){_+=this._createSelectionPiece(h,p,b.SELECTION_CLASS_NAME,T.left+T.width,b.ROUNDED_PIECE_WIDTH);let M=b.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(M+=" "+b.SELECTION_TOP_LEFT),R.bottom===1&&(M+=" "+b.SELECTION_BOTTOM_LEFT),_+=this._createSelectionPiece(h,p,M,T.left+T.width,b.ROUNDED_PIECE_WIDTH)}}let N=b.SELECTION_CLASS_NAME;if(c){const A=T.startStyle,R=T.endStyle;A.top===0&&(N+=" "+b.SELECTION_TOP_LEFT),A.bottom===0&&(N+=" "+b.SELECTION_BOTTOM_LEFT),R.top===0&&(N+=" "+b.SELECTION_TOP_RIGHT),R.bottom===0&&(N+=" "+b.SELECTION_BOTTOM_RIGHT)}S+=this._createSelectionPiece(h,p,N,T.left,T.width)}n[v][0]+=_,n[v][1]+=S}}prepareRender(n){const i=[],t=n.visibleRange.startLineNumber,s=n.visibleRange.endLineNumber;for(let g=t;g<=s;g++){const l=g-t;i[l]=["",""]}const c=[];for(let g=0,l=this._selections.length;g<l;g++){const r=this._selections[g];if(r.isEmpty()){c[g]=null;continue}const d=this._getVisibleRangesWithStyle(r,n,this._previousFrameVisibleRangesWithStyle[g]);c[g]=d,this._actualRenderOneSelection(i,t,this._selections.length>1,d)}this._previousFrameVisibleRangesWithStyle=c,this._renderResult=i.map(([g,l])=>g+l)}render(n,i){if(!this._renderResult)return"";const t=i-n;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.SelectionsOverlay=b,b.SELECTION_CLASS_NAME="selected-text",b.SELECTION_TOP_LEFT="top-left-radius",b.SELECTION_BOTTOM_LEFT="bottom-left-radius",b.SELECTION_TOP_RIGHT="top-right-radius",b.SELECTION_BOTTOM_RIGHT="bottom-right-radius",b.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",b.ROUNDED_PIECE_WIDTH=10,(0,L.registerThemingParticipant)((o,n)=>{const i=o.getColor(k.editorSelectionForeground);i&&!i.isTransparent()&&n.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)});function C(o){return o<0?-o:o}}),define(ne[401],se([1,0,6,40,218,2,30,83,10,324,33,23]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerFeature=void 0;let i=n=class extends D.Disposable{constructor(s,c,g,l,r,d,u){super(),this._editors=s,this._rootElement=c,this._diffModel=g,this._rootWidth=l,this._rootHeight=r,this._modifiedEditorLayoutInfo=d,this._themeService=u,this.width=n.ENTIRE_DIFF_OVERVIEW_WIDTH;const a=(0,y.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),v=(0,y.derived)(_=>{const S=a.read(_),E=S.getColor(C.diffOverviewRulerInserted)||(S.getColor(C.diffInserted)||C.defaultInsertColor).transparent(2),I=S.getColor(C.diffOverviewRulerRemoved)||(S.getColor(C.diffRemoved)||C.defaultRemoveColor).transparent(2);return{insertColor:E,removeColor:I}}),h=(0,k.createFastDomNode)(document.createElement("div"));h.setClassName("diffViewport"),h.setPosition("absolute");const p=(0,f.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:n.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,m.appendRemoveOnDispose)(p,h.domNode)),this._register((0,f.addStandardDisposableListener)(p,f.EventType.POINTER_DOWN,_=>{this._editors.modified.delegateVerticalScrollbarPointerDown(_)})),this._register((0,f.addDisposableListener)(p,f.EventType.MOUSE_WHEEL,_=>{this._editors.modified.delegateScrollFromMouseWheelEvent(_)},{passive:!1})),this._register((0,m.appendRemoveOnDispose)(this._rootElement,p)),this._register((0,y.autorunWithStore)((_,S)=>{const E=this._diffModel.read(_),I=this._editors.original.createOverviewRuler("original diffOverviewRuler");I&&(S.add(I),S.add((0,m.appendRemoveOnDispose)(p,I.getDomNode())));const T=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(T&&(S.add(T),S.add((0,m.appendRemoveOnDispose)(p,T.getDomNode()))),!I||!T)return;const N=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),A=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),R=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),M=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);S.add((0,y.autorun)(P=>{var F;N.read(P),A.read(P),R.read(P),M.read(P);const O=v.read(P),B=(F=E?.diff.read(P))===null||F===void 0?void 0:F.mappings;function V(G,z,$){const J=$._getViewModel();return J?G.filter(ee=>ee.length>0).map(ee=>{const Z=J.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(ee.startLineNumber,1)),x=J.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(ee.endLineNumberExclusive,1)),Y=x.lineNumber-Z.lineNumber;return new b.OverviewRulerZone(Z.lineNumber,x.lineNumber,Y,z.toString())}):[]}const K=V((B||[]).map(G=>G.lineRangeMapping.original),O.removeColor,this._editors.original),U=V((B||[]).map(G=>G.lineRangeMapping.modified),O.insertColor,this._editors.modified);I?.setZones(K),T?.setZones(U)})),S.add((0,y.autorun)(P=>{const F=this._rootHeight.read(P),O=this._rootWidth.read(P),B=this._modifiedEditorLayoutInfo.read(P);if(B){const V=n.ENTIRE_DIFF_OVERVIEW_WIDTH-2*n.ONE_OVERVIEW_WIDTH;I.setLayout({top:0,height:F,right:V+n.ONE_OVERVIEW_WIDTH,width:n.ONE_OVERVIEW_WIDTH}),T.setLayout({top:0,height:F,right:0,width:n.ONE_OVERVIEW_WIDTH});const K=this._editors.modifiedScrollTop.read(P),U=this._editors.modifiedScrollHeight.read(P),G=this._editors.modified.getOption(103),z=new L.ScrollbarState(G.verticalHasArrows?G.arrowSize:0,G.verticalScrollbarSize,0,B.height,U,K);h.setTop(z.getSliderPosition()),h.setHeight(z.getSliderSize())}else h.setTop(0),h.setHeight(0);p.style.height=F+"px",p.style.left=O-n.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",h.setWidth(n.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};e.OverviewRulerFeature=i,i.ONE_OVERVIEW_WIDTH=15,i.ENTIRE_DIFF_OVERVIEW_WIDTH=n.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerFeature=i=n=ke([ge(6,o.IThemeService)],i)}),define(ne[915],se([1,0,7,2,30,526,401,38,10,667,8,32]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let n=class extends k.Disposable{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(t,s,c,g,l,r,d){super(),this.originalEditorElement=t,this.modifiedEditorElement=s,this._options=c,this._argCodeEditorWidgetOptions=g,this._createInnerEditor=l,this._instantiationService=r,this._keybindingService=d,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new f.Emitter),this.modifiedScrollTop=(0,L.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,L.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedModel=(0,D.obsCodeEditor)(this.modified).model,this.modifiedSelections=(0,L.observableFromEvent)(this.modified.onDidChangeCursorSelection,()=>{var u;return(u=this.modified.getSelections())!==null&&u!==void 0?u:[]}),this.modifiedCursor=(0,L.derivedOpts)({owner:this,equalsFn:w.Position.equals},u=>{var a,v;return(v=(a=this.modifiedSelections.read(u)[0])===null||a===void 0?void 0:a.getPosition())!==null&&v!==void 0?v:new w.Position(1,1)}),this.originalCursor=(0,L.observableFromEvent)(this.original.onDidChangeCursorPosition,()=>{var u;return(u=this.original.getPosition())!==null&&u!==void 0?u:new w.Position(1,1)}),this._argCodeEditorWidgetOptions=null,this._register((0,L.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(u,a)=>(u.didChange(c.editorOptions)&&Object.assign(a,u.change.changedOptions),!0)},(u,a)=>{c.editorOptions.read(u),this._options.renderSideBySide.read(u),this.modified.updateOptions(this._adjustOptionsForRightHandSide(u,a)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(u,a))}))}_createLeftHandSideEditor(t,s){const c=this._adjustOptionsForLeftHandSide(void 0,t),g=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,c,s);return g.setContextValue("isInDiffLeftEditor",!0),g}_createRightHandSideEditor(t,s){const c=this._adjustOptionsForRightHandSide(void 0,t),g=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,c,s);return g.setContextValue("isInDiffRightEditor",!0),g}_constructInnerEditor(t,s,c,g){const l=this._createInnerEditor(t,s,c,g);return this._register(l.onDidContentSizeChange(r=>{const d=this.original.getContentWidth()+this.modified.getContentWidth()+y.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,u=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:u,contentWidth:d,contentHeightChanged:r.contentHeightChanged,contentWidthChanged:r.contentWidthChanged})})),l}_adjustOptionsForLeftHandSide(t,s){const c=this._adjustOptionsForSubEditor(s);return this._options.renderSideBySide.get()?(c.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},c.wordWrapOverride1=this._options.diffWordWrap.get()):(c.wordWrapOverride1="off",c.wordWrapOverride2="off",c.stickyScroll={enabled:!1},c.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),c.glyphMargin=this._options.renderSideBySide.get(),s.originalAriaLabel&&(c.ariaLabel=s.originalAriaLabel),c.ariaLabel=this._updateAriaLabel(c.ariaLabel),c.readOnly=!this._options.originalEditable.get(),c.dropIntoEditor={enabled:!c.readOnly},c.extraEditorClassName="original-in-monaco-diff-editor",c}_adjustOptionsForRightHandSide(t,s){const c=this._adjustOptionsForSubEditor(s);return s.modifiedAriaLabel&&(c.ariaLabel=s.modifiedAriaLabel),c.ariaLabel=this._updateAriaLabel(c.ariaLabel),c.wordWrapOverride1=this._options.diffWordWrap.get(),c.revealHorizontalRightPadding=m.EditorOptions.revealHorizontalRightPadding.defaultValue+y.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,c.scrollbar.verticalHasArrows=!1,c.extraEditorClassName="modified-in-monaco-diff-editor",c}_adjustOptionsForSubEditor(t){const s={...t,dimension:{height:0,width:0}};return s.inDiffEditor=!0,s.automaticLayout=!1,s.scrollbar={...s.scrollbar||{}},s.folding=!1,s.codeLens=this._options.diffCodeLens.get(),s.fixedOverflowWidgets=!0,s.minimap={...s.minimap||{}},s.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?s.stickyScroll={enabled:!1}:s.stickyScroll=this._options.editorOptions.get().stickyScroll,s}_updateAriaLabel(t){var s;t||(t="");const c=(0,b.localize)(0,null,(s=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||s===void 0?void 0:s.getAriaLabel());return this._options.accessibilityVerbose.get()?t+c:t?t.replaceAll(c,""):""}};e.DiffEditorEditors=n,e.DiffEditorEditors=n=ke([ge(5,C.IInstantiationService),ge(6,o.IKeybindingService)],n)}),define(ne[86],se([1,0,681,34,33,23]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorMultiCursorSecondaryBackground=e.editorMultiCursorSecondaryForeground=e.editorMultiCursorPrimaryBackground=e.editorMultiCursorPrimaryForeground=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,L.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(0,null)),e.editorLineHighlightBorder=(0,L.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:L.contrastBorder},f.localize(1,null)),e.editorRangeHighlight=(0,L.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},f.localize(2,null),!0),e.editorRangeHighlightBorder=(0,L.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(3,null)),e.editorSymbolHighlight=(0,L.registerColor)("editor.symbolHighlightBackground",{dark:L.editorFindMatchHighlight,light:L.editorFindMatchHighlight,hcDark:null,hcLight:null},f.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,L.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(5,null)),e.editorCursorForeground=(0,L.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(6,null)),e.editorCursorBackground=(0,L.registerColor)("editorCursor.background",null,f.localize(7,null)),e.editorMultiCursorPrimaryForeground=(0,L.registerColor)("editorMultiCursor.primary.foreground",{dark:e.editorCursorForeground,light:e.editorCursorForeground,hcDark:e.editorCursorForeground,hcLight:e.editorCursorForeground},f.localize(8,null)),e.editorMultiCursorPrimaryBackground=(0,L.registerColor)("editorMultiCursor.primary.background",{dark:e.editorCursorBackground,light:e.editorCursorBackground,hcDark:e.editorCursorBackground,hcLight:e.editorCursorBackground},f.localize(9,null)),e.editorMultiCursorSecondaryForeground=(0,L.registerColor)("editorMultiCursor.secondary.foreground",{dark:e.editorCursorForeground,light:e.editorCursorForeground,hcDark:e.editorCursorForeground,hcLight:e.editorCursorForeground},f.localize(10,null)),e.editorMultiCursorSecondaryBackground=(0,L.registerColor)("editorMultiCursor.secondary.background",{dark:e.editorCursorBackground,light:e.editorCursorBackground,hcDark:e.editorCursorBackground,hcLight:e.editorCursorBackground},f.localize(11,null)),e.editorWhitespaces=(0,L.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},f.localize(12,null)),e.editorLineNumbers=(0,L.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},f.localize(13,null)),e.deprecatedEditorIndentGuides=(0,L.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},f.localize(14,null),!1,f.localize(15,null)),e.deprecatedEditorActiveIndentGuides=(0,L.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},f.localize(16,null),!1,f.localize(17,null)),e.editorIndentGuide1=(0,L.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},f.localize(18,null)),e.editorIndentGuide2=(0,L.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(19,null)),e.editorIndentGuide3=(0,L.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(20,null)),e.editorIndentGuide4=(0,L.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(21,null)),e.editorIndentGuide5=(0,L.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(22,null)),e.editorIndentGuide6=(0,L.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(23,null)),e.editorActiveIndentGuide1=(0,L.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},f.localize(24,null)),e.editorActiveIndentGuide2=(0,L.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(25,null)),e.editorActiveIndentGuide3=(0,L.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(26,null)),e.editorActiveIndentGuide4=(0,L.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(27,null)),e.editorActiveIndentGuide5=(0,L.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(28,null)),e.editorActiveIndentGuide6=(0,L.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(29,null));const y=(0,L.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},f.localize(30,null),!1,f.localize(31,null));e.editorActiveLineNumber=(0,L.registerColor)("editorLineNumber.activeForeground",{dark:y,light:y,hcDark:y,hcLight:y},f.localize(32,null)),e.editorDimmedLineNumber=(0,L.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(33,null)),e.editorRuler=(0,L.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},f.localize(34,null)),e.editorCodeLensForeground=(0,L.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},f.localize(35,null)),e.editorBracketMatchBackground=(0,L.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},f.localize(36,null)),e.editorBracketMatchBorder=(0,L.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:L.contrastBorder,hcLight:L.contrastBorder},f.localize(37,null)),e.editorOverviewRulerBorder=(0,L.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},f.localize(38,null)),e.editorOverviewRulerBackground=(0,L.registerColor)("editorOverviewRuler.background",null,f.localize(39,null)),e.editorGutter=(0,L.registerColor)("editorGutter.background",{dark:L.editorBackground,light:L.editorBackground,hcDark:L.editorBackground,hcLight:L.editorBackground},f.localize(40,null)),e.editorUnnecessaryCodeBorder=(0,L.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:L.contrastBorder},f.localize(41,null)),e.editorUnnecessaryCodeOpacity=(0,L.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},f.localize(42,null)),e.ghostTextBorder=(0,L.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},f.localize(43,null)),e.ghostTextForeground=(0,L.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},f.localize(44,null)),e.ghostTextBackground=(0,L.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(45,null));const m=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,L.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:m,light:m,hcDark:m,hcLight:m},f.localize(46,null),!0),e.overviewRulerError=(0,L.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},f.localize(47,null)),e.overviewRulerWarning=(0,L.registerColor)("editorOverviewRuler.warningForeground",{dark:L.editorWarningForeground,light:L.editorWarningForeground,hcDark:L.editorWarningBorder,hcLight:L.editorWarningBorder},f.localize(48,null)),e.overviewRulerInfo=(0,L.registerColor)("editorOverviewRuler.infoForeground",{dark:L.editorInfoForeground,light:L.editorInfoForeground,hcDark:L.editorInfoBorder,hcLight:L.editorInfoBorder},f.localize(49,null)),e.editorBracketHighlightingForeground1=(0,L.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},f.localize(50,null)),e.editorBracketHighlightingForeground2=(0,L.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},f.localize(51,null)),e.editorBracketHighlightingForeground3=(0,L.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},f.localize(52,null)),e.editorBracketHighlightingForeground4=(0,L.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(53,null)),e.editorBracketHighlightingForeground5=(0,L.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(54,null)),e.editorBracketHighlightingForeground6=(0,L.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(55,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,L.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},f.localize(56,null)),e.editorBracketPairGuideBackground1=(0,L.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(57,null)),e.editorBracketPairGuideBackground2=(0,L.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(58,null)),e.editorBracketPairGuideBackground3=(0,L.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(59,null)),e.editorBracketPairGuideBackground4=(0,L.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(60,null)),e.editorBracketPairGuideBackground5=(0,L.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(61,null)),e.editorBracketPairGuideBackground6=(0,L.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(62,null)),e.editorBracketPairGuideActiveBackground1=(0,L.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(63,null)),e.editorBracketPairGuideActiveBackground2=(0,L.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(64,null)),e.editorBracketPairGuideActiveBackground3=(0,L.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(65,null)),e.editorBracketPairGuideActiveBackground4=(0,L.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(66,null)),e.editorBracketPairGuideActiveBackground5=(0,L.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(67,null)),e.editorBracketPairGuideActiveBackground6=(0,L.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(68,null)),e.editorUnicodeHighlightBorder=(0,L.registerColor)("editorUnicodeHighlight.border",{dark:L.editorWarningForeground,light:L.editorWarningForeground,hcDark:L.editorWarningForeground,hcLight:L.editorWarningForeground},f.localize(69,null)),e.editorUnicodeHighlightBackground=(0,L.registerColor)("editorUnicodeHighlight.background",{dark:L.editorWarningBackground,light:L.editorWarningBackground,hcDark:L.editorWarningBackground,hcLight:L.editorWarningBackground},f.localize(70,null)),(0,D.registerThemingParticipant)((w,b)=>{const C=w.getColor(L.editorBackground),o=w.getColor(e.editorLineHighlight),n=o&&!o.isTransparent()?o:C;n&&b.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${n}; }`)})}),define(ne[916],se([1,0,130,86,13,23,24,95,10,464]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class b extends f.DynamicViewOverlay{constructor(i){super(),this._context=i;const t=this._context.configuration.options,s=t.get(145);this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=s.isViewportWrapping,this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new y.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const t=new Set;for(const g of this._selections)t.add(g.positionLineNumber);const s=Array.from(t);s.sort((g,l)=>g-l),L.equals(this._cursorLineNumbers,s)||(this._cursorLineNumbers=s,i=!0);const c=this._selections.every(g=>g.isEmpty());return this._selectionIsEmpty!==c&&(this._selectionIsEmpty=c,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const t=this._context.configuration.options,s=t.get(145);return this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=s.isViewportWrapping,this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const t=i.visibleRange.startLineNumber,s=i.visibleRange.endLineNumber,c=[];for(let l=t;l<=s;l++){const r=l-t;c[r]=""}if(this._wordWrap){const l=this._renderOne(i,!1);for(const r of this._cursorLineNumbers){const d=this._context.viewModel.coordinatesConverter,u=d.convertViewPositionToModelPosition(new w.Position(r,1)).lineNumber,a=d.convertModelPositionToViewPosition(new w.Position(u,1)).lineNumber,v=d.convertModelPositionToViewPosition(new w.Position(u,this._context.viewModel.model.getLineMaxColumn(u))).lineNumber,h=Math.max(a,t),p=Math.min(v,s);for(let _=h;_<=p;_++){const S=_-t;c[S]=l}}}const g=this._renderOne(i,!0);for(const l of this._cursorLineNumbers){if(l<t||l>s)continue;const r=l-t;c[r]=g}this._renderData=c}render(i,t){if(!this._renderData)return"";const s=t-i;return s>=this._renderData.length?"":this._renderData[s]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=b;class C extends b{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=C;class o extends b{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=o,(0,D.registerThemingParticipant)((n,i)=>{const t=n.getColor(k.editorLineHighlight);if(t&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(k.editorLineHighlightBorder)){const s=n.getColor(k.editorLineHighlightBorder);s&&(i.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${s}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${s}; }`),(0,m.isHighContrast)(n.type)&&(i.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}})}),define(ne[917],se([1,0,130,86,23,10,13,20,321,235,467]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class C extends f.DynamicViewOverlay{constructor(i){super(),this._context=i,this._primaryPosition=null;const t=this._context.configuration.options,s=t.get(146),c=t.get(50);this._spaceWidth=c.spaceWidth,this._maxIndentLeft=s.wrappingColumn===-1?-1:s.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options,s=t.get(146),c=t.get(50);return this._spaceWidth=c.spaceWidth,this._maxIndentLeft=s.wrappingColumn===-1?-1:s.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(i){var t;const c=i.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(c)?!1:(this._primaryPosition=c,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var t,s,c,g;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const l=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber,d=i.scrollWidth,u=this._primaryPosition,a=this.getGuidesByLine(l,Math.min(r+1,this._context.viewModel.getLineCount()),u),v=[];for(let h=l;h<=r;h++){const p=h-l,_=a[p];let S="";const E=(s=(t=i.visibleRangeForPosition(new D.Position(h,1)))===null||t===void 0?void 0:t.left)!==null&&s!==void 0?s:0;for(const I of _){const T=I.column===-1?E+(I.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new D.Position(h,I.column)).left;if(T>d||this._maxIndentLeft>0&&T>this._maxIndentLeft)break;const N=I.horizontalLine?I.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",A=I.horizontalLine?((g=(c=i.visibleRangeForPosition(new D.Position(h,I.horizontalLine.endColumn)))===null||c===void 0?void 0:c.left)!==null&&g!==void 0?g:T+this._spaceWidth)-T:this._spaceWidth;S+=`<div class="core-guide ${I.className} ${N}" style="left:${T}px;width:${A}px"></div>`}v[p]=S}this._renderResult=v}getGuidesByLine(i,t,s){const c=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,t,s,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?b.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?b.HorizontalGuidesState.EnabledForActive:b.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,g=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,t):null;let l=0,r=0,d=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&s){const v=this._context.viewModel.getActiveIndentGuide(s.lineNumber,i,t);l=v.startLineNumber,r=v.endLineNumber,d=v.indent}const{indentSize:u}=this._context.viewModel.model.getOptions(),a=[];for(let v=i;v<=t;v++){const h=new Array;a.push(h);const p=c?c[v-i]:[],_=new y.ArrayQueue(p),S=g?g[v-i]:0;for(let E=1;E<=S;E++){const I=(E-1)*u+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||p.length===0)&&l<=v&&v<=r&&E===d;h.push(..._.takeWhile(A=>A.visibleColumn<I)||[]);const N=_.peek();(!N||N.visibleColumn!==I||N.horizontalLine)&&h.push(new b.IndentGuide(I,-1,`core-guide-indent lvl-${(E-1)%30}`+(T?" indent-active":""),null,-1,-1))}h.push(..._.takeWhile(E=>!0)||[])}return a}render(i,t){if(!this._renderResult)return"";const s=t-i;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.IndentGuidesOverlay=C;function o(n){if(!(n&&n.isTransparent()))return n}(0,L.registerThemingParticipant)((n,i)=>{const t=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],s=new w.BracketPairGuidesClassNames,c=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],g=t.map(r=>{var d,u;const a=n.getColor(r.bracketColor),v=n.getColor(r.guideColor),h=n.getColor(r.guideColorActive),p=o((d=o(v))!==null&&d!==void 0?d:a?.transparent(.3)),_=o((u=o(h))!==null&&u!==void 0?u:a);if(!(!p||!_))return{guideColor:p,guideColorActive:_}}).filter(m.isDefined),l=c.map(r=>{const d=n.getColor(r.indentColor),u=n.getColor(r.indentColorActive),a=o(d),v=o(u);if(!(!a||!v))return{indentColor:a,indentColorActive:v}}).filter(m.isDefined);if(g.length>0){for(let r=0;r<30;r++){const d=g[r%g.length];i.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(r).replace(/ /g,".")} { --guide-color: ${d.guideColor}; --guide-color-active: ${d.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${s.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${s.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${s.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(l.length>0){for(let r=0;r<30;r++){const d=l[r%l.length];i.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${r} { --indent-color: ${d.indentColor}; --indent-color-active: ${d.indentColorActive}; }`)}i.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),i.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(ne[402],se([1,0,17,130,10,5,23,86,468]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class w extends k.DynamicViewOverlay{constructor(C){super(),this._context=C,this._readConfig(),this._lastCursorModelPosition=new L.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const C=this._context.configuration.options;this._lineHeight=C.get(67);const o=C.get(68);this._renderLineNumbers=o.renderType,this._renderCustomLineNumbers=o.renderFn,this._renderFinalNewline=C.get(95);const n=C.get(145);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){return this._readConfig(),!0}onCursorStateChanged(C){const o=C.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(o);let n=!1;return this._activeLineNumber!==o.lineNumber&&(this._activeLineNumber=o.lineNumber,n=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(n=!0),n}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}onDecorationsChanged(C){return C.affectsLineNumber}_getLineRenderLineNumber(C){const o=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new L.Position(C,1));if(o.column!==1)return"";const n=o.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-n);return i===0?'<span class="relative-current-line-number">'+n+"</span>":String(i)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===n||n%10===0)return String(n);const i=this._context.viewModel.getLineCount();return n===i?String(n):""}return String(n)}prepareRender(C){if(this._renderLineNumbers===0){this._renderResult=null;return}const o=f.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",n=C.visibleRange.startLineNumber,i=C.visibleRange.endLineNumber,t=this._context.viewModel.getDecorationsInViewport(C.visibleRange).filter(l=>!!l.options.lineNumberClassName);t.sort((l,r)=>D.Range.compareRangesUsingEnds(l.range,r.range));let s=0;const c=this._context.viewModel.getLineCount(),g=[];for(let l=n;l<=i;l++){const r=l-n;let d=this._getLineRenderLineNumber(l),u="";for(;s<t.length&&t[s].range.endLineNumber<l;)s++;for(let a=s;a<t.length;a++){const{range:v,options:h}=t[a];v.startLineNumber<=l&&(u+=" "+h.lineNumberClassName)}if(!d&&!u){g[r]="";continue}l===c&&this._context.viewModel.getLineLength(l)===0&&(this._renderFinalNewline==="off"&&(d=""),this._renderFinalNewline==="dimmed"&&(u+=" dimmed-line-number")),l===this._activeLineNumber&&(u+=" active-line-number"),g[r]=`<div class="${w.CLASS_NAME}${o}${u}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${d}</div>`}this._renderResult=g}render(C,o){if(!this._renderResult)return"";const n=o-C;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.LineNumbersOverlay=w,w.CLASS_NAME="line-numbers",(0,y.registerThemingParticipant)((b,C)=>{const o=b.getColor(m.editorLineNumbers),n=b.getColor(m.editorDimmedLineNumber);n?C.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${n}; }`):o&&C.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${o.transparent(.4)}; }`)})}),define(ne[918],se([1,0,658,66,40,17,11,72,207,304,56,402,323,38,161,10,5,24,221,27,34,293,32,8,461]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class h{constructor(I,T,N,A,R){this._context=I,this.modelLineNumber=T,this.distanceToModelLineStart=N,this.widthOfHiddenLineTextBefore=A,this.distanceToModelLineEnd=R,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(I){const T=new s.Position(this.modelLineNumber,this.distanceToModelLineStart+1),N=new s.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(N),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=I.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=I.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(I){return this._previousPresentation||(I?this._previousPresentation=I:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const p=k.isFirefox;let _=class extends C.ViewPart{constructor(I,T,N,A,R){super(I),this._keybindingService=A,this._instantiationService=R,this._primaryCursorPosition=new s.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=T,this._visibleRangeProvider=N,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,P=M.get(145);this._setAccessibilityOptions(M),this._contentLeft=P.contentLeft,this._contentWidth=P.contentWidth,this._contentHeight=P.height,this._fontInfo=M.get(50),this._lineHeight=M.get(67),this._emptySelectionClipboard=M.get(37),this._copyWithSyntaxHighlighting=M.get(25),this._visibleTextArea=null,this._selections=[new g.Selection(1,1,1,1)],this._modelSelections=[new g.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,L.createFastDomNode)(document.createElement("textarea")),C.PartFingerprints.write(this.textArea,7),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:F}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${F*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("aria-required",M.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(M.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",f.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",M.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,L.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const O={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:K=>this._context.viewModel.getLineMaxColumn(K),getValueInRange:(K,U)=>this._context.viewModel.getValueInRange(K,U),getValueLengthInRange:(K,U)=>this._context.viewModel.getValueLengthInRange(K,U),modifyPosition:(K,U)=>this._context.viewModel.modifyPosition(K,U)},B={getDataToCopy:()=>{const K=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),U=this._context.viewModel.model.getEOL(),G=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),z=Array.isArray(K)?K:null,$=Array.isArray(K)?K.join(U):K;let J,ee=null;if(w.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&$.length<65536){const Z=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Z&&(J=Z.html,ee=Z.mode)}return{isFromEmptySelection:G,multicursorText:z,text:$,html:J,mode:ee}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const K=this._selections[0];if(D.isMacintosh&&K.isEmpty()){const G=K.getStartPosition();let z=this._getWordBeforePosition(G);if(z.length===0&&(z=this._getCharacterBeforePosition(G)),z.length>0)return new b.TextAreaState(z,z.length,z.length,c.Range.fromPositions(G),0)}if(D.isMacintosh&&!K.isEmpty()&&O.getValueLengthInRange(K,0)<500){const G=O.getValueInRange(K,0);return new b.TextAreaState(G,0,G.length,K,0)}if(k.isSafari&&!K.isEmpty()){const G="vscode-placeholder";return new b.TextAreaState(G,0,G.length,null,void 0)}return b.TextAreaState.EMPTY}if(k.isAndroid){const K=this._selections[0];if(K.isEmpty()){const U=K.getStartPosition(),[G,z]=this._getAndroidWordAtPosition(U);if(G.length>0)return new b.TextAreaState(G,z,z,c.Range.fromPositions(U),0)}return b.TextAreaState.EMPTY}return b.PagedScreenReaderStrategy.fromEditorSelection(O,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(K,U,G)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(K,U,G)},V=this._register(new w.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(w.TextAreaInput,B,V,D.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(K=>{this._viewController.emitKeyDown(K)})),this._register(this._textAreaInput.onKeyUp(K=>{this._viewController.emitKeyUp(K)})),this._register(this._textAreaInput.onPaste(K=>{let U=!1,G=null,z=null;K.metadata&&(U=this._emptySelectionClipboard&&!!K.metadata.isFromEmptySelection,G=typeof K.metadata.multicursorText<"u"?K.metadata.multicursorText:null,z=K.metadata.mode),this._viewController.paste(K.text,U,G,z)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(K=>{K.replacePrevCharCnt||K.replaceNextCharCnt||K.positionDelta?(b._debugComposition&&console.log(` => compositionType: <<${K.text}>>, ${K.replacePrevCharCnt}, ${K.replaceNextCharCnt}, ${K.positionDelta}`),this._viewController.compositionType(K.text,K.replacePrevCharCnt,K.replaceNextCharCnt,K.positionDelta)):(b._debugComposition&&console.log(` => type: <<${K.text}>>`),this._viewController.type(K.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(K=>{this._viewController.setSelection(K)})),this._register(this._textAreaInput.onCompositionStart(K=>{const U=this.textArea.domNode,G=this._modelSelections[0],{distanceToModelLineStart:z,widthOfHiddenTextBefore:$}=(()=>{const ee=U.value.substring(0,Math.min(U.selectionStart,U.selectionEnd)),Z=ee.lastIndexOf(`
`),x=ee.substring(Z+1),Y=x.lastIndexOf("	"),ae=x.length-Y-1,ue=G.getStartPosition(),he=Math.min(ue.column-1,ae),pe=ue.column-1-he,ce=x.substring(0,x.length-he),{tabSize:ie}=this._context.viewModel.model.getOptions(),oe=S(this.textArea.domNode.ownerDocument,ce,this._fontInfo,ie);return{distanceToModelLineStart:pe,widthOfHiddenTextBefore:oe}})(),{distanceToModelLineEnd:J}=(()=>{const ee=U.value.substring(Math.max(U.selectionStart,U.selectionEnd)),Z=ee.indexOf(`
`),x=Z===-1?ee:ee.substring(0,Z),Y=x.indexOf("	"),ae=Y===-1?x.length:x.length-Y-1,ue=G.getEndPosition(),he=Math.min(this._context.viewModel.model.getLineMaxColumn(ue.lineNumber)-ue.column,ae);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(ue.lineNumber)-ue.column-he}})();this._context.viewModel.revealRange("keyboard",!0,c.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new h(this._context,G.startLineNumber,z,$,J),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(K=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${l.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(u.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(I){this._textAreaInput.writeNativeTextAreaContent(I)}dispose(){super.dispose()}_getAndroidWordAtPosition(I){const T='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.viewModel.getLineContent(I.lineNumber),A=(0,t.getMapForWordSeparators)(T,[]);let R=!0,M=I.column,P=!0,F=I.column,O=0;for(;O<50&&(R||P);){if(R&&M<=1&&(R=!1),R){const B=N.charCodeAt(M-2);A.get(B)!==0?R=!1:M--}if(P&&F>N.length&&(P=!1),P){const B=N.charCodeAt(F-1);A.get(B)!==0?P=!1:F++}O++}return[N.substring(M-1,F-1),I.column-M]}_getWordBeforePosition(I){const T=this._context.viewModel.getLineContent(I.lineNumber),N=(0,t.getMapForWordSeparators)(this._context.configuration.options.get(131),[]);let A=I.column,R=0;for(;A>1;){const M=T.charCodeAt(A-2);if(N.get(M)!==0||R>50)return T.substring(A-1,I.column-1);R++,A--}return T.substring(0,I.column-1)}_getCharacterBeforePosition(I){if(I.column>1){const N=this._context.viewModel.getLineContent(I.lineNumber).charAt(I.column-2);if(!y.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(I){var T,N,A;if(I.get(2)===1){const M=(T=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||T===void 0?void 0:T.getAriaLabel(),P=(N=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||N===void 0?void 0:N.getAriaLabel(),F=(A=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||A===void 0?void 0:A.getAriaLabel(),O=f.localize(1,null);return M?f.localize(2,null,O,M):P?f.localize(3,null,O,P):F?f.localize(4,null,O,F):O}return I.get(4)}_setAccessibilityOptions(I){this._accessibilitySupport=I.get(2);const T=I.get(3);this._accessibilitySupport===2&&T===i.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=T;const A=I.get(145).wrappingColumn;if(A!==-1&&this._accessibilitySupport!==1){const R=I.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(A*R.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=p?0:1}onConfigurationChanged(I){const T=this._context.configuration.options,N=T.get(145);this._setAccessibilityOptions(T),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=T.get(50),this._lineHeight=T.get(67),this._emptySelectionClipboard=T.get(37),this._copyWithSyntaxHighlighting=T.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:A}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${A*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("aria-required",T.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(T.get(124))),(I.hasChanged(34)||I.hasChanged(91))&&this._ensureReadOnlyAttribute(),I.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(I){return this._selections=I.selections.slice(0),this._modelSelections=I.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return this._scrollLeft=I.scrollLeft,this._scrollTop=I.scrollTop,!0}onZonesChanged(I){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(I){I.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",I.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),I.role&&this.textArea.setAttribute("role",I.role)}_ensureReadOnlyAttribute(){const I=this._context.configuration.options;!u.IME.enabled||I.get(34)&&I.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(I){var T;this._primaryCursorPosition=new s.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=I.visibleRangeForPosition(this._primaryCursorPosition),(T=this._visibleTextArea)===null||T===void 0||T.prepareRender(I)}render(I){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var I;if(this._visibleTextArea){const A=this._visibleTextArea.visibleTextareaStart,R=this._visibleTextArea.visibleTextareaEnd,M=this._visibleTextArea.startPosition,P=this._visibleTextArea.endPosition;if(M&&P&&A&&R&&R.left>=this._scrollLeft&&A.left<=this._scrollLeft+this._contentWidth){const F=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let B=this._visibleTextArea.widthOfHiddenLineTextBefore,V=this._contentLeft+A.left-this._scrollLeft,K=R.left-A.left+1;if(V<this._contentLeft){const ee=this._contentLeft-V;V+=ee,B+=ee,K-=ee}K>this._contentWidth&&(K=this._contentWidth);const U=this._context.viewModel.getViewLineData(M.lineNumber),G=U.tokens.findTokenIndexAtOffset(M.column-1),z=U.tokens.findTokenIndexAtOffset(P.column-1),$=G===z,J=this._visibleTextArea.definePresentation($?U.tokens.getPresentation(G):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=B,this._doRender({lastRenderPosition:null,top:F,left:V,width:K,height:this._lineHeight,useCover:!1,color:(r.TokenizationRegistry.getColorMap()||[])[J.foreground],italic:J.italic,bold:J.bold,underline:J.underline,strikethrough:J.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const T=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(T<this._contentLeft||T>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(N<0||N>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const A=(I=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&I!==void 0?I:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=A*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:p?0:1,useCover:!1})}_newlinecount(I){let T=0,N=-1;do{if(N=I.indexOf(`
`,N+1),N===-1)break;T++}while(!0);return T}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:p?0:1,useCover:!0})}_doRender(I){this._lastRenderPosition=I.lastRenderPosition;const T=this.textArea,N=this.textAreaCover;(0,m.applyFontInfo)(T,this._fontInfo),T.setTop(I.top),T.setLeft(I.left),T.setWidth(I.width),T.setHeight(I.height),T.setColor(I.color?d.Color.Format.CSS.formatHex(I.color):""),T.setFontStyle(I.italic?"italic":""),I.bold&&T.setFontWeight("bold"),T.setTextDecoration(`${I.underline?" underline":""}${I.strikethrough?" line-through":""}`),N.setTop(I.useCover?I.top:0),N.setLeft(I.useCover?I.left:0),N.setWidth(I.useCover?I.width:0),N.setHeight(I.useCover?I.height:0);const A=this._context.configuration.options;A.get(57)?N.setClassName("monaco-editor-background textAreaCover "+n.Margin.OUTER_CLASS_NAME):A.get(68).renderType!==0?N.setClassName("monaco-editor-background textAreaCover "+o.LineNumbersOverlay.CLASS_NAME):N.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=_,e.TextAreaHandler=_=ke([ge(3,a.IKeybindingService),ge(4,v.IInstantiationService)],_);function S(E,I,T,N){if(I.length===0)return 0;const A=E.createElement("div");A.style.position="absolute",A.style.top="-50000px",A.style.width="50000px";const R=E.createElement("span");(0,m.applyFontInfo)(R,T),R.style.whiteSpace="pre",R.style.tabSize=`${N*T.spaceWidth}px`,R.append(I),A.appendChild(R),E.body.appendChild(A);const M=R.offsetWidth;return E.body.removeChild(A),M}}),define(ne[919],se([1,0,40,34,56,10,27,86,92,13]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class C{constructor(i,t){const s=i.options;this.lineHeight=s.get(67),this.pixelRatio=s.get(143),this.overviewRulerLanes=s.get(83),this.renderBorder=s.get(82);const c=t.getColor(m.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=s.get(59);const g=t.getColor(m.editorCursorForeground);this.cursorColorSingle=g?g.transparent(.7).toString():null;const l=t.getColor(m.editorMultiCursorPrimaryForeground);this.cursorColorPrimary=l?l.transparent(.7).toString():null;const r=t.getColor(m.editorMultiCursorSecondaryForeground);this.cursorColorSecondary=r?r.transparent(.7).toString():null,this.themeType=t.type;const d=s.get(73),u=d.enabled,a=d.side,v=t.getColor(m.editorOverviewRulerBackground),h=y.TokenizationRegistry.getDefaultBackground();v?this.backgroundColor=v:u&&a==="right"?this.backgroundColor=h:this.backgroundColor=null;const _=s.get(145).overviewRuler;this.top=_.top,this.right=_.right,this.domWidth=_.width,this.domHeight=_.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[S,E]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=S,this.w=E}_initLanes(i,t,s){const c=t-i;if(s>=3){const g=Math.floor(c/3),l=Math.floor(c/3),r=c-g-l,d=i,u=d+g,a=d+g+r;return[[0,d,u,d,a,d,u,d],[0,g,r,g+r,l,g+r+l,r+l,g+r+l]]}else if(s===2){const g=Math.floor(c/2),l=c-g,r=i,d=r+g;return[[0,r,r,r,d,r,r,r],[0,g,g,g,l,g+l,g+l,g+l]]}else{const g=i,l=c;return[[0,g,g,g,g,g,g,g],[0,l,l,l,l,l,l,l]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColorSingle===i.cursorColorSingle&&this.cursorColorPrimary===i.cursorColorPrimary&&this.cursorColorSecondary===i.cursorColorSecondary&&this.themeType===i.themeType&&k.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class o extends L.ViewPart{constructor(i){super(i),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,f.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=y.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new D.Position(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new C(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,s=i.selections.length;t<s;t++){let c=this._settings.cursorColorSingle;s>1&&(c=t===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:i.selections[t].getPosition(),color:c})}return this._cursorPositions.sort((t,s)=>D.Position.compare(t.position,s.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(i){return i.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(i){return this._markRenderingIsNeeded()}onScrollChanged(i){return i.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(i){return this._markRenderingIsNeeded()}onThemeChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render(),this._actualShouldRender=0}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?k.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(w.OverviewRulerDecorationsGroup.compareByRenderingProps),this._actualShouldRender===1&&!w.OverviewRulerDecorationsGroup.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,b.equals)(this._renderedCursorPositions,this._cursorPositions,(_,S)=>_.position.lineNumber===S.position.lineNumber&&_.color===S.color)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const s=this._settings.canvasWidth,c=this._settings.canvasHeight,g=this._settings.lineHeight,l=this._context.viewLayout,r=this._context.viewLayout.getScrollHeight(),d=c/r,u=6*this._settings.pixelRatio|0,a=u/2|0,v=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(v.fillStyle=k.Color.Format.CSS.formatHexA(i),v.fillRect(0,0,s,c)):(v.clearRect(0,0,s,c),v.fillStyle=k.Color.Format.CSS.formatHexA(i),v.fillRect(0,0,s,c)):v.clearRect(0,0,s,c);const h=this._settings.x,p=this._settings.w;for(const _ of t){const S=_.color,E=_.data;v.fillStyle=S;let I=0,T=0,N=0;for(let A=0,R=E.length/3;A<R;A++){const M=E[3*A],P=E[3*A+1],F=E[3*A+2];let O=l.getVerticalOffsetForLineNumber(P)*d|0,B=(l.getVerticalOffsetForLineNumber(F)+g)*d|0;if(B-O<u){let K=(O+B)/2|0;K<a?K=a:K+a>c&&(K=c-a),O=K-a,B=K+a}O>N+1||M!==I?(A!==0&&v.fillRect(h[I],T,p[I],N-T),I=M,T=O,N=B):B>N&&(N=B)}v.fillRect(h[I],T,p[I],N-T)}if(!this._settings.hideCursor){const _=2*this._settings.pixelRatio|0,S=_/2|0,E=this._settings.x[7],I=this._settings.w[7];let T=-100,N=-100,A=null;for(let R=0,M=this._cursorPositions.length;R<M;R++){const P=this._cursorPositions[R].color;if(!P)continue;const F=this._cursorPositions[R].position;let O=l.getVerticalOffsetForLineNumber(F.lineNumber)*d|0;O<S?O=S:O+S>c&&(O=c-S);const B=O-S,V=B+_;B>N+1||P!==A?(R!==0&&A&&v.fillRect(E,T,I,N-T),T=B,N=V):V>N&&(N=V),A=P,v.fillStyle=P}A&&v.fillRect(E,T,I,N-T)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(v.beginPath(),v.lineWidth=1,v.strokeStyle=this._settings.borderColor,v.moveTo(0,0),v.lineTo(0,c),v.stroke(),v.moveTo(0,0),v.lineTo(s,0),v.stroke())}}e.DecorationsOverviewRuler=o}),define(ne[920],se([1,0,40,15,56,680,38,86,23,95,6,478]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class o extends L.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context,D.CursorPlurality.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new C.WindowIntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let s=0,c=this._secondaryCursors.length;s<c;s++)this._secondaryCursors[s].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t,s){const c=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&s!==3;if(this._primaryCursor.setPlurality(t.length?D.CursorPlurality.MultiPrimary:D.CursorPlurality.Single),this._primaryCursor.onCursorPositionChanged(i,c),this._updateBlinking(),this._secondaryCursors.length<t.length){const g=t.length-this._secondaryCursors.length;for(let l=0;l<g;l++){const r=new D.ViewCursor(this._context,D.CursorPlurality.MultiSecondary);this._domNode.domNode.insertBefore(r.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(r)}}else if(this._secondaryCursors.length>t.length){const g=this._secondaryCursors.length-t.length;for(let l=0;l<g;l++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let g=0;g<t.length;g++)this._secondaryCursors[g].onCursorPositionChanged(t[g],c)}onCursorStateChanged(i){const t=[];for(let c=0,g=i.selections.length;c<g;c++)t[c]=i.selections[c].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),i.reason);const s=i.selections[0].isEmpty();return this._selectionIsEmpty!==s&&(this._selectionIsEmpty=s,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=s=>{for(let c=0,g=i.ranges.length;c<g;c++)if(i.ranges[c].fromLineNumber<=s.lineNumber&&s.lineNumber<=i.ranges[c].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const s of this._secondaryCursors)if(t(s.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,s=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!s&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},o.BLINK_INTERVAL,(0,C.getWindow)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},o.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case y.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case y.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case y.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case y.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case y.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case y.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,s=this._secondaryCursors.length;t<s;t++)this._secondaryCursors[t].prepareRender(i)}render(i){const t=[];let s=0;const c=this._primaryCursor.render(i);c&&(t[s++]=c);for(let g=0,l=this._secondaryCursors.length;g<l;g++){const r=this._secondaryCursors[g].render(i);r&&(t[s++]=r)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=o,o.BLINK_INTERVAL=500,(0,w.registerThemingParticipant)((n,i)=>{const t=[{class:".cursor",foreground:m.editorCursorForeground,background:m.editorCursorBackground},{class:".cursor-primary",foreground:m.editorMultiCursorPrimaryForeground,background:m.editorMultiCursorPrimaryBackground},{class:".cursor-secondary",foreground:m.editorMultiCursorSecondaryForeground,background:m.editorMultiCursorSecondaryBackground}];for(const s of t){const c=n.getColor(s.foreground);if(c){let g=n.getColor(s.background);g||(g=c.opposite()),i.addRule(`.monaco-editor .cursors-layer ${s.class} { background-color: ${c}; border-color: ${c}; color: ${g}; }`),(0,b.isHighContrast)(n.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection ${s.class} { border-left: 1px solid ${g}; border-right: 1px solid ${g}; }`)}}})}),define(ne[921],se([1,0,130,11,133,10,86,479]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class m extends f.DynamicViewOverlay{constructor(C){super(),this._context=C,this._options=new w(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const o=new w(this._context.configuration);return this._options.equals(o)?C.hasChanged(145):(this._options=o,!0)}onCursorStateChanged(C){return this._selection=C.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}prepareRender(C){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const o=C.visibleRange.startLineNumber,i=C.visibleRange.endLineNumber-o+1,t=new Array(i);for(let c=0;c<i;c++)t[c]=!0;const s=this._context.viewModel.getMinimapLinesRenderingData(C.viewportData.startLineNumber,C.viewportData.endLineNumber,t);this._renderResult=[];for(let c=C.viewportData.startLineNumber;c<=C.viewportData.endLineNumber;c++){const g=c-C.viewportData.startLineNumber,l=s.data[g];let r=null;if(this._options.renderWhitespace==="selection"){const d=this._selection;for(const u of d){if(u.endLineNumber<c||u.startLineNumber>c)continue;const a=u.startLineNumber===c?u.startColumn:l.minColumn,v=u.endLineNumber===c?u.endColumn:l.maxColumn;a<v&&(r||(r=[]),r.push(new L.LineRange(a-1,v-1)))}}this._renderResult[g]=this._applyRenderWhitespace(C,c,r,l)}}_applyRenderWhitespace(C,o,n,i){if(this._options.renderWhitespace==="selection"&&!n||this._options.renderWhitespace==="trailing"&&i.continuesWithWrappedLine)return"";const t=this._context.theme.getColor(y.editorWhitespaces),s=this._options.renderWithSVG,c=i.content,g=this._options.stopRenderingLineAfter===-1?c.length:Math.min(this._options.stopRenderingLineAfter,c.length),l=i.continuesWithWrappedLine,r=i.minColumn-1,d=this._options.renderWhitespace==="boundary",u=this._options.renderWhitespace==="trailing",a=this._options.lineHeight,v=this._options.middotWidth,h=this._options.wsmiddotWidth,p=this._options.spaceWidth,_=Math.abs(h-p),S=Math.abs(v-p),E=_<S?11825:183,I=this._options.canUseHalfwidthRightwardsArrow;let T="",N=!1,A=k.firstNonWhitespaceIndex(c),R;A===-1?(N=!0,A=g,R=g):R=k.lastNonWhitespaceIndex(c);let M=0,P=n&&n[M],F=0;for(let O=r;O<g;O++){const B=c.charCodeAt(O);if(P&&O>=P.endOffset&&(M++,P=n&&n[M]),B!==9&&B!==32||u&&!N&&O<=R)continue;if(d&&O>=A&&O<=R&&B===32){const K=O-1>=0?c.charCodeAt(O-1):0,U=O+1<g?c.charCodeAt(O+1):0;if(K!==32&&U!==32)continue}if(d&&l&&O===g-1){const K=O-1>=0?c.charCodeAt(O-1):0;if(B===32&&K!==32&&K!==9)continue}if(n&&(!P||P.startOffset>O||P.endOffset<=O))continue;const V=C.visibleRangeForPosition(new D.Position(o,O+1));V&&(s?(F=Math.max(F,V.left),B===9?T+=this._renderArrow(a,p,V.left):T+=`<circle cx="${(V.left+p/2).toFixed(2)}" cy="${(a/2).toFixed(2)}" r="${(p/7).toFixed(2)}" />`):B===9?T+=`<div class="mwh" style="left:${V.left}px;height:${a}px;">${I?"\uFFEB":"\u2192"}</div>`:T+=`<div class="mwh" style="left:${V.left}px;height:${a}px;">${String.fromCharCode(E)}</div>`)}return s?(F=Math.round(F+p),`<svg style="bottom:0;position:absolute;width:${F}px;height:${a}px" viewBox="0 0 ${F} ${a}" xmlns="http://www.w3.org/2000/svg" fill="${t}">`+T+"</svg>"):T}_renderArrow(C,o,n){const i=o/7,t=o,s=C/2,c=n,g={x:0,y:i/2},l={x:100/125*t,y:g.y},r={x:l.x-.2*l.x,y:l.y+.2*l.x},d={x:r.x+.1*l.x,y:r.y+.1*l.x},u={x:d.x+.35*l.x,y:d.y-.35*l.x},a={x:u.x,y:-u.y},v={x:d.x,y:-d.y},h={x:r.x,y:-r.y},p={x:l.x,y:-l.y},_={x:g.x,y:-g.y};return`<path d="M ${[g,l,r,d,u,a,v,h,p,_].map(I=>`${(c+I.x).toFixed(2)} ${(s+I.y).toFixed(2)}`).join(" L ")}" />`}render(C,o){if(!this._renderResult)return"";const n=o-C;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.WhitespaceOverlay=m;class w{constructor(C){const o=C.options,n=o.get(50),i=o.get(38);i==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):i==="svg"?(this.renderWhitespace=o.get(99),this.renderWithSVG=!0):(this.renderWhitespace=o.get(99),this.renderWithSVG=!1),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=o.get(67),this.stopRenderingLineAfter=o.get(117)}equals(C){return this.renderWhitespace===C.renderWhitespace&&this.renderWithSVG===C.renderWithSVG&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter}}}),define(ne[922],se([1,0,6,40,289,9,400,909,918,159,865,647,56,303,572,642,916,573,913,238,917,402,910,574,323,575,895,643,919,585,576,577,914,920,578,921,10,5,24,42,166,581,586,8,23]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N,A,R,M,P,F,O,B,V,K,U,G,z,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let J=class extends K.ViewEventHandler{constructor(Y,ae,ue,he,pe,ce,ie){super(),this._instantiationService=ie,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new B.Selection(1,1,1,1)],this._renderAnimationFrame=null;const oe=new C.ViewController(ae,he,pe,Y);this._context=new G.ViewContext(ae,ue,he),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(w.TextAreaHandler,this._context,oe,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),n.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new l.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new a.ViewLines(this._context,this._linesContent),this._viewZones=new M.ViewZones(this._context),this._viewParts.push(this._viewZones);const re=new E.DecorationsOverviewRuler(this._context);this._viewParts.push(re);const W=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(W);const q=new o.ContentViewOverlays(this._context);this._viewParts.push(q),q.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),q.addDynamicOverlay(new A.SelectionsOverlay(this._context)),q.addDynamicOverlay(new d.IndentGuidesOverlay(this._context)),q.addDynamicOverlay(new g.DecorationsOverlay(this._context)),q.addDynamicOverlay(new P.WhitespaceOverlay(this._context));const H=new o.MarginViewOverlays(this._context);this._viewParts.push(H),H.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),H.addDynamicOverlay(new p.MarginViewLineDecorationsOverlay(this._context)),H.addDynamicOverlay(new v.LinesDecorationsOverlay(this._context)),H.addDynamicOverlay(new u.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new r.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const j=new h.Margin(this._context);j.getDomNode().appendChild(this._viewZones.marginDomNode),j.getDomNode().appendChild(H.getDomNode()),j.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(j),this._contentWidgets=new s.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new R.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new S.ViewOverlayWidgets(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const Q=new T.Rulers(this._context);this._viewParts.push(Q);const te=new t.BlockDecorations(this._context);this._viewParts.push(te);const le=new _.Minimap(this._context);if(this._viewParts.push(le),re){const de=this._scrollbar.getOverviewRulerLayoutInfo();de.parent.insertBefore(re.getDomNode(),de.insertBefore)}this._linesContent.appendChild(q.getDomNode()),this._linesContent.appendChild(Q.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(j.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(W.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(le.getDomNode()),this._overflowGuardContainer.appendChild(te.domNode),this.domNode.appendChild(this._overflowGuardContainer),ce?(ce.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),ce.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new m.PointerHandler(this._context,oe,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const Y=this._context.viewModel.model,ae=this._context.viewModel.glyphLanes;let ue=[],he=0;ue=ue.concat(Y.getAllMarginDecorations().map(pe=>{var ce,ie,oe;const re=(ie=(ce=pe.options.glyphMargin)===null||ce===void 0?void 0:ce.position)!==null&&ie!==void 0?ie:V.GlyphMarginLane.Center;return he=Math.max(he,pe.range.endLineNumber),{range:pe.range,lane:re,persist:(oe=pe.options.glyphMargin)===null||oe===void 0?void 0:oe.persistLane}})),ue=ue.concat(this._glyphMarginWidgets.getWidgets().map(pe=>{const ce=Y.validateRange(pe.preference.range);return he=Math.max(he,ce.endLineNumber),{range:ce,lane:pe.preference.lane}})),ue.sort((pe,ce)=>O.Range.compareRangesUsingStarts(pe.range,ce.range)),ae.reset(he);for(const pe of ue)ae.push(pe.lane,pe.range,pe.persist);return ae}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Y=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Y)},getLastRenderData:()=>{const Y=this._viewCursors.getLastRenderData()||[],ae=this._textAreaHandler.getLastRenderData();return new y.PointerHandlerLastRenderData(Y,ae)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:Y=>this._viewZones.shouldSuppressMouseDownOnViewZone(Y),shouldSuppressMouseDownOnWidget:Y=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Y),getPositionFromDOMInfo:(Y,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Y,ae)),visibleRangeForPosition:(Y,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(Y,ae))),getLineWidth:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Y))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(Y))}}_applyLayout(){const ae=this._context.configuration.options.get(145);this.domNode.setWidth(ae.width),this.domNode.setHeight(ae.height),this._overflowGuardContainer.setWidth(ae.width),this._overflowGuardContainer.setHeight(ae.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const Y=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(142)+" "+(0,$.getThemeTypeSelector)(this._context.theme.type)+Y}handleEvents(Y){super.handleEvents(Y),this._scheduleRender()}onConfigurationChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Y){return this._selections=Y.selections,!1}onDecorationsChanged(Y){return Y.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Y){return this._context.theme.update(Y.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Y of this._viewParts)Y.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new D.BugIndicatingError;if(this._renderAnimationFrame===null){const Y=this._createCoordinatedRendering();this._renderAnimationFrame=Z.INSTANCE.scheduleCoordinatedRendering({window:f.getWindow(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new D.BugIndicatingError;try{return Y.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Y.renderText()},prepareRender:(ae,ue)=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Y.prepareRender(ae,ue)},render:(ae,ue)=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Y.render(ae,ue)}})}}_flushAccumulatedAndRenderNow(){const Y=this._createCoordinatedRendering();ee(()=>Y.prepareRenderText());const ae=ee(()=>Y.renderText());if(ae){const[ue,he]=ae;ee(()=>Y.prepareRender(ue,he)),ee(()=>Y.render(ue,he))}}_getViewPartsToRender(){const Y=[];let ae=0;for(const ue of this._viewParts)ue.shouldRender()&&(Y[ae++]=ue);return Y}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const Y=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(Y.requiredLanes)}L.inputLatency.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let Y=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&Y.length===0)return null;const ae=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(ae.startLineNumber,ae.endLineNumber,ae.centeredLineNumber);const ue=new U.ViewportData(this._selections,ae,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ue),this._viewLines.shouldRender()&&(this._viewLines.renderText(ue),this._viewLines.onDidRender(),Y=this._getViewPartsToRender()),[Y,new b.RenderingContext(this._context.viewLayout,ue,this._viewLines)]},prepareRender:(Y,ae)=>{for(const ue of Y)ue.prepareRender(ae)},render:(Y,ae)=>{for(const ue of Y)ue.render(ae),ue.onDidRender()}}}delegateVerticalScrollbarPointerDown(Y){this._scrollbar.delegateVerticalScrollbarPointerDown(Y)}delegateScrollFromMouseWheelEvent(Y){this._scrollbar.delegateScrollFromMouseWheelEvent(Y)}restoreState(Y){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:Y.scrollTop,scrollLeft:Y.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(Y,ae){const ue=this._context.viewModel.model.validatePosition({lineNumber:Y,column:ae}),he=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ue);this._flushAccumulatedAndRenderNow();const pe=this._viewLines.visibleRangeForPosition(new F.Position(he.lineNumber,he.column));return pe?pe.left:-1}getTargetAtClientPoint(Y,ae){const ue=this._pointerHandler.getTargetAtClientPoint(Y,ae);return ue?i.ViewUserInputEvents.convertViewToModelMouseTarget(ue,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(Y){return new I.OverviewRuler(this._context,Y)}change(Y){this._viewZones.changeViewZones(Y),this._scheduleRender()}render(Y,ae){if(ae){this._viewLines.forceShouldRender();for(const ue of this._viewParts)ue.forceShouldRender()}Y?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(Y){this._textAreaHandler.writeScreenReaderContent(Y)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Y){this._textAreaHandler.setAriaOptions(Y)}addContentWidget(Y){this._contentWidgets.addWidget(Y.widget),this.layoutContentWidget(Y),this._scheduleRender()}layoutContentWidget(Y){var ae,ue,he,pe,ce,ie,oe,re;this._contentWidgets.setWidgetPosition(Y.widget,(ue=(ae=Y.position)===null||ae===void 0?void 0:ae.position)!==null&&ue!==void 0?ue:null,(pe=(he=Y.position)===null||he===void 0?void 0:he.secondaryPosition)!==null&&pe!==void 0?pe:null,(ie=(ce=Y.position)===null||ce===void 0?void 0:ce.preference)!==null&&ie!==void 0?ie:null,(re=(oe=Y.position)===null||oe===void 0?void 0:oe.positionAffinity)!==null&&re!==void 0?re:null),this._scheduleRender()}removeContentWidget(Y){this._contentWidgets.removeWidget(Y.widget),this._scheduleRender()}addOverlayWidget(Y){this._overlayWidgets.addWidget(Y.widget),this.layoutOverlayWidget(Y),this._scheduleRender()}layoutOverlayWidget(Y){this._overlayWidgets.setWidgetPosition(Y.widget,Y.position)&&this._scheduleRender()}removeOverlayWidget(Y){this._overlayWidgets.removeWidget(Y.widget),this._scheduleRender()}addGlyphMarginWidget(Y){this._glyphMarginWidgets.addWidget(Y.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(Y){const ae=Y.position;this._glyphMarginWidgets.setWidgetPosition(Y.widget,ae)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(Y){this._glyphMarginWidgets.removeWidget(Y.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=J,e.View=J=ke([ge(6,z.IInstantiationService)],J);function ee(x){try{return x()}catch(Y){return(0,D.onUnexpectedError)(Y),null}}class Z{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(Y){return this._coordinatedRenderings.push(Y),this._scheduleRender(Y.window),{dispose:()=>{const ae=this._coordinatedRenderings.indexOf(Y);if(ae!==-1&&(this._coordinatedRenderings.splice(ae,1),this._coordinatedRenderings.length===0)){for(const[ue,he]of this._animationFrameRunners)he.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(Y){if(!this._animationFrameRunners.has(Y)){const ae=()=>{this._animationFrameRunners.delete(Y),this._onRenderScheduled()};this._animationFrameRunners.set(Y,f.runAtThisOrScheduleAtNextAnimationFrame(Y,ae,100))}}_onRenderScheduled(){const Y=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const ue of Y)ee(()=>ue.prepareRenderText());const ae=[];for(let ue=0,he=Y.length;ue<he;ue++){const pe=Y[ue];ae[ue]=ee(()=>pe.renderText())}for(let ue=0,he=Y.length;ue<he;ue++){const pe=Y[ue],ce=ae[ue];if(!ce)continue;const[ie,oe]=ce;ee(()=>pe.prepareRender(ie,oe))}for(let ue=0,he=Y.length;ue<he;ue++){const pe=Y[ue],ce=ae[ue];if(!ce)continue;const[ie,oe]=ce;ee(()=>pe.render(ie,oe))}}}Z.INSTANCE=new Z}),define(ne[923],se([1,0,7,2,5,86,23]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class m extends k.Disposable{constructor(C){super(),this.textModel=C,this.colorProvider=new w,this.onDidChangeEmitter=new f.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=C.getOptions().bracketPairColorizationOptions,this._register(C.bracketPairs.onDidChange(o=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(C){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(C,o,n,i){return i?[]:o===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(C,!0).map(s=>({id:`bracket${s.range.toString()}-${s.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(s,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:s.range})).toArray():[]}getAllDecorations(C,o){return C===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new L.Range(1,1,this.textModel.getLineCount(),1),C,o):[]}}e.ColorizedBracketPairsDecorationProvider=m;class w{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(C,o){return C.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(o?C.nestingLevelOfEqualBracketType:C.nestingLevel)}getInlineClassNameOfLevel(C){return`bracket-highlighting-${C%30}`}}(0,y.registerThemingParticipant)((b,C)=>{const o=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],n=new w;C.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${b.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const i=o.map(t=>b.getColor(t)).filter(t=>!!t).filter(t=>!t.isTransparent());for(let t=0;t<30;t++){const s=i[t%i.length];C.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(t)} { color: ${s}; }`)}})}),define(ne[924],se([1,0,104,2,42,23,86,53,5,47,7,33,45,291]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;let t=class extends k.Disposable{constructor(g,l){super(),this._markerService=l,this._onDidChangeMarker=this._register(new C.Emitter),this._markerDecorations=new n.ResourceMap,g.getModels().forEach(r=>this._onModelAdded(r)),this._register(g.onModelAdded(this._onModelAdded,this)),this._register(g.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(g=>g.dispose()),this._markerDecorations.clear()}getMarker(g,l){const r=this._markerDecorations.get(g);return r&&r.getMarker(l)||null}_handleMarkerChange(g){g.forEach(l=>{const r=this._markerDecorations.get(l);r&&this._updateDecorations(r)})}_onModelAdded(g){const l=new s(g);this._markerDecorations.set(g.uri,l),this._updateDecorations(l)}_onModelRemoved(g){var l;const r=this._markerDecorations.get(g.uri);r&&(r.dispose(),this._markerDecorations.delete(g.uri)),(g.uri.scheme===b.Schemas.inMemory||g.uri.scheme===b.Schemas.internal||g.uri.scheme===b.Schemas.vscode)&&((l=this._markerService)===null||l===void 0||l.read({resource:g.uri}).map(d=>d.owner).forEach(d=>this._markerService.remove(d,[g.uri])))}_updateDecorations(g){const l=this._markerService.read({resource:g.model.uri,take:500});g.update(l)&&this._onDidChangeMarker.fire(g.model)}};e.MarkerDecorationsService=t,e.MarkerDecorationsService=t=ke([ge(0,m.IModelService),ge(1,f.IMarkerService)],t);class s extends k.Disposable{constructor(g){super(),this.model=g,this._map=new n.BidirectionalMap,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(g){const{added:l,removed:r}=(0,i.diffSets)(new Set(this._map.keys()),new Set(g));if(l.length===0&&r.length===0)return!1;const d=r.map(v=>this._map.get(v)),u=l.map(v=>({range:this._createDecorationRange(this.model,v),options:this._createDecorationOption(v)})),a=this.model.deltaDecorations(d,u);for(const v of r)this._map.delete(v);for(let v=0;v<a.length;v++)this._map.set(l[v],a[v]);return!0}getMarker(g){return this._map.getKey(g.id)}_createDecorationRange(g,l){let r=w.Range.lift(l);if(l.severity===f.MarkerSeverity.Hint&&!this._hasMarkerTag(l,1)&&!this._hasMarkerTag(l,2)&&(r=r.setEndPosition(r.startLineNumber,r.startColumn+2)),r=g.validateRange(r),r.isEmpty()){const d=g.getLineLastNonWhitespaceColumn(r.startLineNumber)||g.getLineMaxColumn(r.startLineNumber);if(d===1||r.endColumn>=d)return r;const u=g.getWordAtPosition(r.getStartPosition());u&&(r=new w.Range(r.startLineNumber,u.startColumn,r.endLineNumber,u.endColumn))}else if(l.endColumn===Number.MAX_VALUE&&l.startColumn===1&&r.startLineNumber===r.endLineNumber){const d=g.getLineFirstNonWhitespaceColumn(l.startLineNumber);d<r.endColumn&&(r=new w.Range(r.startLineNumber,d,r.endLineNumber,r.endColumn),l.startColumn=d)}return r}_createDecorationOption(g){let l,r,d,u,a;switch(g.severity){case f.MarkerSeverity.Hint:this._hasMarkerTag(g,2)?l=void 0:this._hasMarkerTag(g,1)?l="squiggly-unnecessary":l="squiggly-hint",d=0;break;case f.MarkerSeverity.Info:l="squiggly-info",r=(0,D.themeColorFromId)(y.overviewRulerInfo),d=10,a={color:(0,D.themeColorFromId)(o.minimapInfo),position:1};break;case f.MarkerSeverity.Warning:l="squiggly-warning",r=(0,D.themeColorFromId)(y.overviewRulerWarning),d=20,a={color:(0,D.themeColorFromId)(o.minimapWarning),position:1};break;case f.MarkerSeverity.Error:default:l="squiggly-error",r=(0,D.themeColorFromId)(y.overviewRulerError),d=30,a={color:(0,D.themeColorFromId)(o.minimapError),position:1};break}return g.tags&&(g.tags.indexOf(1)!==-1&&(u="squiggly-inline-unnecessary"),g.tags.indexOf(2)!==-1&&(u="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:l,showIfCollapsed:!0,overviewRuler:{color:r,position:L.OverviewRulerLane.Right},minimap:a,zIndex:d,inlineClassName:u}}_hasMarkerTag(g,l){return g.tags?g.tags.indexOf(l)>=0:!1}}}),define(ne[277],se([1,0,144,23,63,570,43]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensProviderStyling=void 0,e.toMultilineTokens2=w;let m=class{constructor(n,i,t,s){this._legend=n,this._themeService=i,this._languageService=t,this._logService=s,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new C}getMetadata(n,i,t){const s=this._languageService.languageIdCodec.encodeLanguageId(t),c=this._hashTable.get(n,i,s);let g;if(c)g=c.metadata,this._logService.getLevel()===L.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${n} / ${i}: foreground ${f.TokenMetadata.getForeground(g)}, fontStyle ${f.TokenMetadata.getFontStyle(g).toString(2)}`);else{let l=this._legend.tokenTypes[n];const r=[];if(l){let d=i;for(let a=0;d>0&&a<this._legend.tokenModifiers.length;a++)d&1&&r.push(this._legend.tokenModifiers[a]),d=d>>1;d>0&&this._logService.getLevel()===L.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const u=this._themeService.getColorTheme().getTokenStyleMetadata(l,r,t);if(typeof u>"u")g=2147483647;else{if(g=0,typeof u.italic<"u"){const a=(u.italic?1:0)<<11;g|=a|1}if(typeof u.bold<"u"){const a=(u.bold?2:0)<<11;g|=a|2}if(typeof u.underline<"u"){const a=(u.underline?4:0)<<11;g|=a|4}if(typeof u.strikethrough<"u"){const a=(u.strikethrough?8:0)<<11;g|=a|8}if(u.foreground){const a=u.foreground<<15;g|=a|16}g===0&&(g=2147483647)}}else this._logService.getLevel()===L.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${n} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),g=2147483647,l="not-in-legend";this._hashTable.add(n,i,s,g),this._logService.getLevel()===L.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${n} (${l}) / ${i} (${r.join(" ")}): foreground ${f.TokenMetadata.getForeground(g)}, fontStyle ${f.TokenMetadata.getFontStyle(g).toString(2)}`)}return g}warnOverlappingSemanticTokens(n,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${n}, column ${i}`))}warnInvalidLengthSemanticTokens(n,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${n}, column ${i}`))}warnInvalidEditStart(n,i,t,s,c){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${n}, resultId: ${i}) at edit #${t}: The provided start offset ${s} is outside the previous data (length ${c}).`))}};e.SemanticTokensProviderStyling=m,e.SemanticTokensProviderStyling=m=ke([ge(1,k.IThemeService),ge(2,y.ILanguageService),ge(3,L.ILogService)],m);function w(o,n,i){const t=o.data,s=o.data.length/5|0,c=Math.max(Math.ceil(s/1024),400),g=[];let l=0,r=1,d=0;for(;l<s;){const u=l;let a=Math.min(u+c,s);if(a<s){let I=a;for(;I-1>u&&t[5*I]===0;)I--;if(I-1===u){let T=a;for(;T+1<s&&t[5*T]===0;)T++;a=T}else a=I}let v=new Uint32Array((a-u)*4),h=0,p=0,_=0,S=0;for(;l<a;){const I=5*l,T=t[I],N=t[I+1],A=r+T|0,R=T===0?d+N|0:N,M=t[I+2],P=R+M|0,F=t[I+3],O=t[I+4];if(P<=R)n.warnInvalidLengthSemanticTokens(A,R+1);else if(_===A&&S>R)n.warnOverlappingSemanticTokens(A,R+1);else{const B=n.getMetadata(F,O,i);B!==2147483647&&(p===0&&(p=A),v[h]=A-p,v[h+1]=R,v[h+2]=P,v[h+3]=B,h+=4,_=A,S=P)}r=A,d=R,l++}h!==v.length&&(v=v.subarray(0,h));const E=D.SparseMultilineTokens.create(p,v);g.push(E)}return g}class b{constructor(n,i,t,s){this.tokenTypeIndex=n,this.tokenModifierSet=i,this.languageId=t,this.metadata=s,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(n,i){for(let t=0;t<i;t++)n[t]=null}_hash2(n,i){return(n<<5)-n+i|0}_hashFunc(n,i,t){return this._hash2(this._hash2(n,i),t)%this._currentLength}get(n,i,t){const s=this._hashFunc(n,i,t);let c=this._elements[s];for(;c;){if(c.tokenTypeIndex===n&&c.tokenModifierSet===i&&c.languageId===t)return c;c=c.next}return null}add(n,i,t,s){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const g of c){let l=g;for(;l;){const r=l.next;l.next=null,this._add(l),l=r}}}this._add(new b(n,i,t,s))}_add(n){const i=this._hashFunc(n.tokenTypeIndex,n.tokenModifierSet,n.languageId);n.next=this._elements[i],this._elements[i]=n}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ne[925],se([1,0,2,43,23,63,277,261,49]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let b=class extends f.Disposable{constructor(o,n,i){super(),this._themeService=o,this._logService=n,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(o){return this._caches.has(o)||this._caches.set(o,new y.SemanticTokensProviderStyling(o.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(o)}};e.SemanticTokensStylingService=b,e.SemanticTokensStylingService=b=ke([ge(0,L.IThemeService),ge(1,D.ILogService),ge(2,k.ILanguageService)],b),(0,w.registerSingleton)(m.ISemanticTokensStylingService,b,1)}),define(ne[403],se([1,0,123,2,164,42,86,23,48]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class b{constructor(o){this.options=o,this.rangeHighlightDecorationId=void 0}provide(o,n,i){var t;const s=new k.DisposableStore;o.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),o.matchOnLabel=o.matchOnDescription=o.matchOnDetail=o.sortByLabel=!1;const c=s.add(new k.MutableDisposable);return c.value=this.doProvide(o,n,i),s.add(this.onDidActiveTextEditorControlChange(()=>{c.value=void 0,c.value=this.doProvide(o,n)})),s}doProvide(o,n,i){var t;const s=new k.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const g={editor:c},l=(0,L.getCodeEditor)(c);if(l){let r=(t=c.saveViewState())!==null&&t!==void 0?t:void 0;s.add(l.onDidChangeCursorPosition(()=>{var d;r=(d=c.saveViewState())!==null&&d!==void 0?d:void 0})),g.restoreViewState=()=>{r&&c===this.activeTextEditorControl&&c.restoreViewState(r)},s.add((0,f.createSingleCallFunction)(n.onCancellationRequested)(()=>{var d;return(d=g.restoreViewState)===null||d===void 0?void 0:d.call(g)}))}s.add((0,k.toDisposable)(()=>this.clearDecorations(c))),s.add(this.provideWithTextEditor(g,o,n,i))}else s.add(this.provideWithoutTextEditor(o,n));return s}canProvideWithTextEditor(o){return!0}gotoLocation({editor:o},n){o.setSelection(n.range,"code.jump"),o.revealRangeInCenter(n.range,0),n.preserveFocus||o.focus();const i=o.getModel();i&&"getLineContent"in i&&(0,w.status)(`${i.getLineContent(n.range.startLineNumber)}`)}getModel(o){var n;return(0,L.isDiffEditor)(o)?(n=o.getModel())===null||n===void 0?void 0:n.modified:o.getModel()}addDecorations(o,n){o.changeDecorations(i=>{const t=[];this.rangeHighlightDecorationId&&(t.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),t.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:n,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,m.themeColorFromId)(y.overviewRulerRangeHighlight),position:D.OverviewRulerLane.Full}}}],[c,g]=i.deltaDecorations(t,s);this.rangeHighlightDecorationId={rangeHighlightId:c,overviewRulerDecorationId:g}})}clearDecorations(o){const n=this.rangeHighlightDecorationId;n&&(o.changeDecorations(i=>{i.deltaDecorations([n.overviewRulerDecorationId,n.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=b}),define(ne[926],se([1,0,2,164,403,754]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class y extends L.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const b=(0,D.localize)(0,null);return w.items=[{label:b}],w.ariaLabel=b,f.Disposable.None}provideWithTextEditor(w,b,C){const o=w.editor,n=new f.DisposableStore;n.add(b.onDidAccept(s=>{const[c]=b.selectedItems;if(c){if(!this.isValidLineNumber(o,c.lineNumber))return;this.gotoLocation(w,{range:this.toRange(c.lineNumber,c.column),keyMods:b.keyMods,preserveFocus:s.inBackground}),s.inBackground||b.hide()}}));const i=()=>{const s=this.parsePosition(o,b.value.trim().substr(y.PREFIX.length)),c=this.getPickLabel(o,s.lineNumber,s.column);if(b.items=[{lineNumber:s.lineNumber,column:s.column,label:c}],b.ariaLabel=c,!this.isValidLineNumber(o,s.lineNumber)){this.clearDecorations(o);return}const g=this.toRange(s.lineNumber,s.column);o.revealRangeInCenter(g,0),this.addDecorations(o,g)};i(),n.add(b.onDidChangeValue(()=>i()));const t=(0,k.getCodeEditor)(o);return t&&t.getOptions().get(68).renderType===2&&(t.updateOptions({lineNumbers:"on"}),n.add((0,f.toDisposable)(()=>t.updateOptions({lineNumbers:"relative"})))),n}toRange(w=1,b=1){return{startLineNumber:w,startColumn:b,endLineNumber:w,endColumn:b}}parsePosition(w,b){const C=b.split(/,|:|#/).map(n=>parseInt(n,10)).filter(n=>!isNaN(n)),o=this.lineCount(w)+1;return{lineNumber:C[0]>0?C[0]:o+C[0],column:C[1]}}getPickLabel(w,b,C){if(this.isValidLineNumber(w,b))return this.isValidColumn(w,b,C)?(0,D.localize)(1,null,b,C):(0,D.localize)(2,null,b);const o=w.getPosition()||{lineNumber:1,column:1},n=this.lineCount(w);return n>1?(0,D.localize)(3,null,o.lineNumber,o.column,n):(0,D.localize)(4,null,o.lineNumber,o.column)}isValidLineNumber(w,b){return!b||typeof b!="number"?!1:b>0&&b<=this.lineCount(w)}isValidColumn(w,b,C){if(!C||typeof C!="number")return!1;const o=this.getModel(w);if(!o)return!1;const n={lineNumber:b,column:C};return o.validatePosition(n).equals(n)}lineCount(w){var b,C;return(C=(b=this.getModel(w))===null||b===void 0?void 0:b.getLineCount())!==null&&C!==void 0?C:0}}e.AbstractGotoLineQuickAccessProvider=y,y.PREFIX=":"}),define(ne[927],se([1,0,15,19,26,31,623,2,11,5,27,178,403,755,18,68]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let g=c=class extends n.AbstractEditorNavigationQuickAccessProvider{constructor(u,a,v=Object.create(null)){super(v),this._languageFeaturesService=u,this._outlineModelService=a,this.options=v,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(u){return this.provideLabelPick(u,(0,i.localize)(0,null)),m.Disposable.None}provideWithTextEditor(u,a,v,h){const p=u.editor,_=this.getModel(p);return _?this._languageFeaturesService.documentSymbolProvider.has(_)?this.doProvideWithEditorSymbols(u,_,a,v,h):this.doProvideWithoutEditorSymbols(u,_,a,v):m.Disposable.None}doProvideWithoutEditorSymbols(u,a,v,h){const p=new m.DisposableStore;return this.provideLabelPick(v,(0,i.localize)(1,null)),(async()=>!await this.waitForLanguageSymbolRegistry(a,p)||h.isCancellationRequested||p.add(this.doProvideWithEditorSymbols(u,a,v,h)))(),p}provideLabelPick(u,a){u.items=[{label:a,index:0,kind:14}],u.ariaLabel=a}async waitForLanguageSymbolRegistry(u,a){if(this._languageFeaturesService.documentSymbolProvider.has(u))return!0;const v=new f.DeferredPromise,h=a.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(u)&&(h.dispose(),v.complete(!0))}));return a.add((0,m.toDisposable)(()=>v.complete(!1))),v.p}doProvideWithEditorSymbols(u,a,v,h,p){var _;const S=u.editor,E=new m.DisposableStore;E.add(v.onDidAccept(A=>{var R;const[M]=v.selectedItems;M&&M.range&&(this.gotoLocation(u,{range:M.range.selection,keyMods:v.keyMods,preserveFocus:A.inBackground}),(R=p?.handleAccept)===null||R===void 0||R.call(p,M),A.inBackground||v.hide())})),E.add(v.onDidTriggerItemButton(({item:A})=>{A&&A.range&&(this.gotoLocation(u,{range:A.range.selection,keyMods:v.keyMods,forceSideBySide:!0}),v.hide())}));const I=this.getDocumentSymbols(a,h);let T;const N=async A=>{T?.dispose(!0),v.busy=!1,T=new k.CancellationTokenSource(h),v.busy=!0;try{const R=(0,y.prepareQuery)(v.value.substr(c.PREFIX.length).trim()),M=await this.doGetSymbolPicks(I,R,void 0,T.token,a);if(h.isCancellationRequested)return;if(M.length>0){if(v.items=M,A&&R.original.length===0){const P=(0,s.findLast)(M,F=>!!(F.type!=="separator"&&F.range&&b.Range.containsPosition(F.range.decoration,A)));P&&(v.activeItems=[P])}}else R.original.length>0?this.provideLabelPick(v,(0,i.localize)(2,null)):this.provideLabelPick(v,(0,i.localize)(3,null))}finally{h.isCancellationRequested||(v.busy=!1)}};return E.add(v.onDidChangeValue(()=>N(void 0))),N((_=S.getSelection())===null||_===void 0?void 0:_.getPosition()),E.add(v.onDidChangeActive(()=>{const[A]=v.activeItems;A&&A.range&&(S.revealRangeInCenter(A.range.selection,0),this.addDecorations(S,A.range.decoration))})),E}async doGetSymbolPicks(u,a,v,h,p){var _,S;const E=await u;if(h.isCancellationRequested)return[];const I=a.original.indexOf(c.SCOPE_PREFIX)===0,T=I?1:0;let N,A;a.values&&a.values.length>1?(N=(0,y.pieceToQuery)(a.values[0]),A=(0,y.pieceToQuery)(a.values.slice(1))):N=a;let R;const M=(S=(_=this.options)===null||_===void 0?void 0:_.openSideBySideDirection)===null||S===void 0?void 0:S.call(_);M&&(R=[{iconClass:M==="right"?D.ThemeIcon.asClassName(L.Codicon.splitHorizontal):D.ThemeIcon.asClassName(L.Codicon.splitVertical),tooltip:M==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]);const P=[];for(let B=0;B<E.length;B++){const V=E[B],K=(0,w.trim)(V.name),U=`$(${C.SymbolKinds.toIcon(V.kind).id}) ${K}`,G=U.length-K.length;let z=V.containerName;v?.extraContainerLabel&&(z?z=`${v.extraContainerLabel} \u2022 ${z}`:z=v.extraContainerLabel);let $,J,ee,Z;if(a.original.length>T){let Y=!1;if(N!==a&&([$,J]=(0,y.scoreFuzzy2)(U,{...a,values:void 0},T,G),typeof $=="number"&&(Y=!0)),typeof $!="number"&&([$,J]=(0,y.scoreFuzzy2)(U,N,T,G),typeof $!="number"))continue;if(!Y&&A){if(z&&A.original.length>0&&([ee,Z]=(0,y.scoreFuzzy2)(z,A)),typeof ee!="number")continue;typeof $=="number"&&($+=ee)}}const x=V.tags&&V.tags.indexOf(1)>=0;P.push({index:B,kind:V.kind,score:$,label:U,ariaLabel:(0,C.getAriaLabelForSymbol)(V.name,V.kind),description:z,highlights:x?void 0:{label:J,description:Z},range:{selection:b.Range.collapseToStart(V.selectionRange),decoration:V.range},uri:p.uri,symbolName:K,strikethrough:x,buttons:R})}const F=P.sort((B,V)=>I?this.compareByKindAndScore(B,V):this.compareByScore(B,V));let O=[];if(I){let U=function(){V&&typeof B=="number"&&K>0&&(V.label=(0,w.format)(r[B]||l,K))},B,V,K=0;for(const G of F)B!==G.kind?(U(),B=G.kind,K=1,V={type:"separator"},O.push(V)):K++,O.push(G);U()}else F.length>0&&(O=[{label:(0,i.localize)(6,null,P.length),type:"separator"},...F]);return O}compareByScore(u,a){if(typeof u.score!="number"&&typeof a.score=="number")return 1;if(typeof u.score=="number"&&typeof a.score!="number")return-1;if(typeof u.score=="number"&&typeof a.score=="number"){if(u.score>a.score)return-1;if(u.score<a.score)return 1}return u.index<a.index?-1:u.index>a.index?1:0}compareByKindAndScore(u,a){const v=r[u.kind]||l,h=r[a.kind]||l,p=v.localeCompare(h);return p===0?this.compareByScore(u,a):p}async getDocumentSymbols(u,a){const v=await this._outlineModelService.getOrCreate(u,a);return a.isCancellationRequested?[]:v.asListOfDocumentSymbols()}};e.AbstractGotoSymbolQuickAccessProvider=g,g.PREFIX="@",g.SCOPE_PREFIX=":",g.PREFIX_BY_CATEGORY=`${c.PREFIX}${c.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=g=c=ke([ge(0,t.ILanguageFeaturesService),ge(1,o.IOutlineModelService)],g);const l=(0,i.localize)(7,null),r={5:(0,i.localize)(8,null),11:(0,i.localize)(9,null),8:(0,i.localize)(10,null),12:(0,i.localize)(11,null),4:(0,i.localize)(12,null),22:(0,i.localize)(13,null),23:(0,i.localize)(14,null),24:(0,i.localize)(15,null),10:(0,i.localize)(16,null),2:(0,i.localize)(17,null),3:(0,i.localize)(18,null),25:(0,i.localize)(19,null),1:(0,i.localize)(20,null),6:(0,i.localize)(21,null),9:(0,i.localize)(22,null),21:(0,i.localize)(23,null),14:(0,i.localize)(24,null),0:(0,i.localize)(25,null),17:(0,i.localize)(26,null),15:(0,i.localize)(27,null),16:(0,i.localize)(28,null),18:(0,i.localize)(29,null),19:(0,i.localize)(30,null),7:(0,i.localize)(31,null),13:(0,i.localize)(32,null)}}),define(ne[928],se([1,0,6,46,48,77,44,110,111,13,15,19,26,7,2,60,20,72,10,5,27,366,366,14,32,63,106,33,23,508]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameWidget=e.CONTEXT_RENAME_INPUT_FOCUSED=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0;const I=!1;e.CONTEXT_RENAME_INPUT_VISIBLE=new v.RawContextKey("renameInputVisible",!1,(0,a.localize)(0,null)),e.CONTEXT_RENAME_INPUT_FOCUSED=new v.RawContextKey("renameInputFocused",!1,(0,a.localize)(1,null));let T=class{constructor(P,F,O,B,V,K){this._editor=P,this._acceptKeybindings=F,this._themeService=O,this._keybindingService=B,this._logService=K,this.allowEditorOverflow=!0,this._disposables=new t.DisposableStore,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(V),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new s.StopWatch,this._inputWithButton=new A,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(U=>{U.hasChanged(50)&&this._updateFont()})),this._disposables.add(O.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new N(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:P=>{this._inputWithButton.input.value=P,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{var P,F,O,B;((P=this._renameCandidateListView)===null||P===void 0?void 0:P.focusedCandidate)!==void 0&&(this._isEditingRenameCandidate=!0),(F=this._timeBeforeFirstInputFieldEdit)!==null&&F!==void 0||(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),((O=this._renameCandidateProvidersCts)===null||O===void 0?void 0:O.token.isCancellationRequested)===!1&&this._renameCandidateProvidersCts.cancel(),(B=this._renameCandidateListView)===null||B===void 0||B.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(P){var F,O,B,V,K;if(!this._domNode)return;const U=P.getColor(S.widgetShadow),G=P.getColor(S.widgetBorder);this._domNode.style.backgroundColor=String((F=P.getColor(S.editorWidgetBackground))!==null&&F!==void 0?F:""),this._domNode.style.boxShadow=U?` 0 0 8px 2px ${U}`:"",this._domNode.style.border=G?`1px solid ${G}`:"",this._domNode.style.color=String((O=P.getColor(S.inputForeground))!==null&&O!==void 0?O:"");const z=P.getColor(S.inputBorder);this._inputWithButton.domNode.style.backgroundColor=String((B=P.getColor(S.inputBackground))!==null&&B!==void 0?B:""),this._inputWithButton.input.style.backgroundColor=String((V=P.getColor(S.inputBackground))!==null&&V!==void 0?V:""),this._inputWithButton.domNode.style.borderWidth=z?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=z?"solid":"none",this._inputWithButton.domNode.style.borderColor=(K=z?.toString())!==null&&K!==void 0?K:"none"}_updateFont(){if(this._domNode===void 0)return;(0,c.assertType)(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);const P=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(P.fontSize)}px`}_computeLabelFontSize(P){return P*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const P=f.getClientArea(this.getDomNode().ownerDocument.body),F=f.getDomNodePagePosition(this._editor.getDomNode()),O=this._getTopForPosition();this._nPxAvailableAbove=O+F.top,this._nPxAvailableBelow=P.height-this._nPxAvailableAbove;const B=this._editor.getOption(67),{totalHeight:V}=R.getLayoutInfo({lineHeight:B}),K=this._nPxAvailableBelow>V*6?[2,1]:[1,2];return{position:this._position,preference:K}}beforeRender(){var P,F;const[O,B]=this._acceptKeybindings;return this._label.innerText=(0,a.localize)(2,null,(P=this._keybindingService.lookupKeybinding(O))===null||P===void 0?void 0:P.getLabel(),(F=this._keybindingService.lookupKeybinding(B))===null||F===void 0?void 0:F.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(P){if(this._trace("invoking afterRender, position: ",P?"not null":"null"),P===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,c.assertType)(this._renameCandidateListView),(0,c.assertType)(this._nPxAvailableAbove!==void 0),(0,c.assertType)(this._nPxAvailableBelow!==void 0);const F=f.getTotalHeight(this._inputWithButton.domNode),O=f.getTotalHeight(this._label);let B;P===2?B=this._nPxAvailableBelow:B=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:B-O-F,width:f.getTotalWidth(this._inputWithButton.domNode)})}acceptInput(P){var F;this._trace("invoking acceptInput"),(F=this._currentAcceptInput)===null||F===void 0||F.call(this,P)}cancelInput(P,F){var O;this._trace(`invoking cancelInput, caller: ${F}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),(O=this._currentCancelInput)===null||O===void 0||O.call(this,P)}focusNextRenameSuggestion(){var P;!((P=this._renameCandidateListView)===null||P===void 0)&&P.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){var P;!((P=this._renameCandidateListView)===null||P===void 0)&&P.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(P,F,O,B,V){const{start:K,end:U}=this._getSelection(P,F);this._renameCts=V;const G=new t.DisposableStore;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,B===void 0?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=B,this._requestRenameCandidates(F,!1),G.add(f.addDisposableListener(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(F,!0))),G.add(f.addDisposableListener(this._inputWithButton.button,f.EventType.KEY_DOWN,$=>{const J=new k.StandardKeyboardEvent($);(J.equals(3)||J.equals(10))&&(J.stopPropagation(),J.preventDefault(),this._requestRenameCandidates(F,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",O),this._position=new l.Position(P.startLineNumber,P.startColumn),this._currentName=F,this._inputWithButton.input.value=F,this._inputWithButton.input.setAttribute("selectionStart",K.toString()),this._inputWithButton.input.setAttribute("selectionEnd",U.toString()),this._inputWithButton.input.size=Math.max((P.endColumn-P.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),G.add((0,t.toDisposable)(()=>{this._renameCts=void 0,V.dispose(!0)})),G.add((0,t.toDisposable)(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),G.add((0,t.toDisposable)(()=>this._candidates.clear()));const z=new C.DeferredPromise;return z.p.finally(()=>{G.dispose(),this._hide()}),this._currentCancelInput=$=>{var J;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(J=this._renameCandidateListView)===null||J===void 0||J.clearCandidates(),z.complete($),!0},this._currentAcceptInput=$=>{this._trace("invoking _currentAcceptInput"),(0,c.assertType)(this._renameCandidateListView!==void 0);const J=this._renameCandidateListView.nCandidates;let ee,Z;const x=this._renameCandidateListView.focusedCandidate;if(x!==void 0?(this._trace("using new name from renameSuggestion"),ee=x,Z={k:"renameSuggestion"}):(this._trace("using new name from inputField"),ee=this._inputWithButton.input.value,Z=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),ee===F||ee.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),z.complete({newName:ee,wantsPreview:O&&$,stats:{source:Z,nRenameSuggestions:J,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})},G.add(V.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),I||G.add(this._editor.onDidBlurEditorWidget(()=>{var $;return this.cancelInput(!(!(($=this._domNode)===null||$===void 0)&&$.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),z.p}_requestRenameCandidates(P,F){if(this._requestRenameCandidatesOnce!==void 0&&(this._renameCandidateProvidersCts!==void 0&&this._renameCandidateProvidersCts.dispose(!0),(0,c.assertType)(this._renameCts),this._inputWithButton.buttonState!=="stop")){this._renameCandidateProvidersCts=new o.CancellationTokenSource;const O=F?d.NewSymbolNameTriggerKind.Invoke:d.NewSymbolNameTriggerKind.Automatic,B=this._requestRenameCandidatesOnce(O,this._renameCandidateProvidersCts.token);if(B.length===0){this._inputWithButton.setSparkleButton();return}F||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(B,P,this._renameCts.token)}}_getSelection(P,F){(0,c.assertType)(this._editor.hasModel());const O=this._editor.getSelection();let B=0,V=F.length;return!r.Range.isEmpty(O)&&!r.Range.spansMultipleLines(O)&&r.Range.containsRange(P,O)&&(B=Math.max(0,O.startColumn-P.startColumn),V=Math.min(P.endColumn,O.endColumn)-P.startColumn),{start:B,end:V}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(P,F,O){const B=(...z)=>this._trace("_updateRenameCandidates",...z);B("start");const V=await(0,C.raceCancellation)(Promise.allSettled(P),O);if(this._inputWithButton.setSparkleButton(),V===void 0){B("returning early - received updateRenameCandidates results - undefined");return}const K=V.flatMap(z=>z.status==="fulfilled"&&(0,c.isDefined)(z.value)?z.value:[]);B(`received updateRenameCandidates results - total (unfiltered) ${K.length} candidates.`);const U=b.distinct(K,z=>z.newSymbolName);B(`distinct candidates - ${U.length} candidates.`);const G=U.filter(({newSymbolName:z})=>z.trim().length>0&&z!==this._inputWithButton.input.value&&z!==F&&!this._candidates.has(z));if(B(`valid distinct candidates - ${K.length} candidates.`),G.forEach(z=>this._candidates.add(z.newSymbolName)),G.length<1){B("returning early - no valid distinct candidates");return}B("setting candidates"),this._renameCandidateListView.setCandidates(G),B("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const P=this._editor.getVisibleRanges();let F;return P.length>0?F=P[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),F=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(F)}_trace(...P){this._logService.trace("RenameWidget",...P)}};e.RenameWidget=T,e.RenameWidget=T=ke([ge(2,E.IThemeService),ge(3,h.IKeybindingService),ge(4,v.IContextKeyService),ge(5,p.ILogService)],T);class N{constructor(P,F){this._disposables=new t.DisposableStore,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=F.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=F.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",P.appendChild(this._listContainer),this._listWidget=N._createListWidget(this._listContainer,this._candidateViewHeight,F.fontInfo),this._listWidget.onDidChangeFocus(O=>{O.elements.length===1&&F.onFocusChange(O.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(O=>{O.elements.length===1&&F.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(O=>{this._listWidget.setFocus([])})),this._listWidget.style((0,_.getListStyles)({listInactiveFocusForeground:S.quickInputListFocusForeground,listInactiveFocusBackground:S.quickInputListFocusBackground}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:P,width:F}){this._availableHeight=P,this._minimumWidth=F}setCandidates(P){this._listWidget.splice(0,0,P);const F=this._pickListHeight(this._listWidget.length),O=this._pickListWidth(P);this._listWidget.layout(F,O),this._listContainer.style.height=`${F}px`,this._listContainer.style.width=`${O}px`,L.status((0,a.localize)(3,null,P.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const P=this._listWidget.getSelectedElements()[0];if(P!==void 0)return P.newSymbolName;const F=this._listWidget.getFocusedElements()[0];if(F!==void 0)return F.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;const P=this._listWidget.getFocus();if(P.length===0)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(P[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();const F=this._listWidget.getFocus()[0];return this._listWidget.reveal(F),!0}}focusPrevious(){if(this._listWidget.length===0)return!1;const P=this._listWidget.getFocus();if(P.length===0){this._listWidget.focusLast();const F=this._listWidget.getFocus()[0];return this._listWidget.reveal(F),!0}else{if(P[0]===0)return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();const F=this._listWidget.getFocus()[0];return this._listWidget.reveal(F),!0}}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:P}=R.getLayoutInfo({lineHeight:this._lineHeight});return P}_pickListHeight(P){const F=this._candidateViewHeight*P;return Math.min(F,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(P){const F=Math.ceil(Math.max(...P.map(B=>B.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+F+10)}static _createListWidget(P,F,O){const B=new class{getTemplateId(K){return"candidate"}getHeight(K){return F}},V=new class{constructor(){this.templateId="candidate"}renderTemplate(K){return new R(K,O)}renderElement(K,U,G){G.populate(K)}disposeTemplate(K){K.dispose()}};return new w.List("NewSymbolNameCandidates",P,B,[V],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class A{constructor(){this._onDidInputChange=new i.Emitter,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new t.DisposableStore}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",(0,a.localize)(4,null)),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=u.localize(5,null),this._buttonCancelHoverText=u.localize(6,null),this._buttonHover=(0,D.getBaseLayerHoverDelegate)().setupUpdatableHover((0,y.getDefaultHoverDelegate)("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(f.addDisposableListener(this.input,f.EventType.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(f.addDisposableListener(this.input,f.EventType.KEY_DOWN,P=>{const F=new k.StandardKeyboardEvent(P);(F.keyCode===15||F.keyCode===17)&&this._onDidInputChange.fire()})),this._disposables.add(f.addDisposableListener(this.input,f.EventType.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(f.addDisposableListener(this.input,f.EventType.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(f.addDisposableListener(this.input,f.EventType.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return(0,c.assertType)(this._inputNode),this._inputNode}get button(){return(0,c.assertType)(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){var P,F;this._buttonState="sparkle",(P=this._sparkleIcon)!==null&&P!==void 0||(this._sparkleIcon=(0,m.renderIcon)(n.Codicon.sparkle)),f.clearNode(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),(F=this._buttonHover)===null||F===void 0||F.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){var P,F;this._buttonState="stop",(P=this._stopIcon)!==null&&P!==void 0||(this._stopIcon=(0,m.renderIcon)(n.Codicon.primitiveSquare)),f.clearNode(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),(F=this._buttonHover)===null||F===void 0||F.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}}class R{constructor(P,F){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${F.lineHeight}px`,this._domNode.style.padding=`${R._PADDING}px`;const O=document.createElement("div");O.style.display="flex",O.style.alignItems="center",O.style.width=O.style.height=`${F.lineHeight*.8}px`,this._domNode.appendChild(O),this._icon=(0,m.renderIcon)(n.Codicon.sparkle),this._icon.style.display="none",O.appendChild(this._icon),this._label=document.createElement("div"),g.applyFontInfo(this._label,F),this._domNode.appendChild(this._label),P.appendChild(this._domNode)}populate(P){this._updateIcon(P),this._updateLabel(P)}_updateIcon(P){var F;const O=!!(!((F=P.tags)===null||F===void 0)&&F.includes(d.NewSymbolNameTag.AIGenerated));this._icon.style.display=O?"inherit":"none"}_updateLabel(P){this._label.innerText=P.newSymbolName}static getLayoutInfo({lineHeight:P}){return{totalHeight:P+R._PADDING*2}}dispose(){}}R._PADDING=2}),define(ne[929],se([1,0,48,15,19,9,57,2,20,22,16,148,36,10,5,21,27,18,206,119,179,757,29,105,14,8,63,50,93,39,59,928]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=void 0,e.rename=M;class R{constructor(V,K,U){this.model=V,this.position=K,this._providerRenameIdx=0,this._providers=U.ordered(V)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(V){const K=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const G=this._providers[this._providerRenameIdx];if(!G.resolveRenameLocation)break;const z=await G.resolveRenameLocation(this.model,this.position,V);if(z){if(z.rejectReason){K.push(z.rejectReason);continue}return z}}this._providerRenameIdx=0;const U=this.model.getWordAtPosition(this.position);return U?{range:new t.Range(this.position.lineNumber,U.startColumn,this.position.lineNumber,U.endColumn),text:U.word,rejectReason:K.length>0?K.join(`
`):void 0}:{range:t.Range.fromPositions(this.position),text:"",rejectReason:K.length>0?K.join(`
`):void 0}}async provideRenameEdits(V,K){return this._provideRenameEdits(V,this._providerRenameIdx,[],K)}async _provideRenameEdits(V,K,U,G){const z=this._providers[K];if(!z)return{edits:[],rejectReason:U.join(`
`)};const $=await z.provideRenameEdits(this.model,this.position,V,G);if($){if($.rejectReason)return this._provideRenameEdits(V,K+1,U.concat($.rejectReason),G)}else return this._provideRenameEdits(V,K+1,U.concat(u.localize(0,null)),G);return $}}async function M(B,V,K,U){const G=new R(V,K,B),z=await G.resolveRenameLocation(L.CancellationToken.None);return z?.rejectReason?{edits:[],rejectReason:z.rejectReason}:G.provideRenameEdits(U,L.CancellationToken.None)}let P=A=class{static get(V){return V.getContribution(A.ID)}constructor(V,K,U,G,z,$,J,ee,Z){this.editor=V,this._instaService=K,this._notificationService=U,this._bulkEditService=G,this._progressService=z,this._logService=$,this._configService=J,this._languageFeaturesService=ee,this._telemetryService=Z,this._disposableStore=new m.DisposableStore,this._cts=new L.CancellationTokenSource,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(N.RenameWidget,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var V,K;const U=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new L.CancellationTokenSource,!this.editor.hasModel()){U("editor has no model");return}const G=this.editor.getPosition(),z=new R(this.editor.getModel(),G,this._languageFeaturesService.renameProvider);if(!z.hasProvider()){U("skeleton has no provider");return}const $=new r.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let J;try{U("resolving rename location");const ce=z.resolveRenameLocation($.token);this._progressService.showWhile(ce,250),J=await ce,U("resolved rename location")}catch(ce){ce instanceof D.CancellationError?U("resolve rename location cancelled",JSON.stringify(ce,null,"	")):(U("resolve rename location failed",ce instanceof Error?ce:JSON.stringify(ce,null,"	")),(typeof ce=="string"||(0,y.isMarkdownString)(ce))&&((V=d.MessageController.get(this.editor))===null||V===void 0||V.showMessage(ce||u.localize(1,null),G)));return}finally{$.dispose()}if(!J){U("returning early - no loc");return}if(J.rejectReason){U(`returning early - rejected with reason: ${J.rejectReason}`,J.rejectReason),(K=d.MessageController.get(this.editor))===null||K===void 0||K.showMessage(J.rejectReason,G);return}if($.token.isCancellationRequested){U("returning early - cts1 cancelled");return}const ee=new r.EditorStateCancellationTokenSource(this.editor,5,J.range,this._cts.token),Z=this.editor.getModel(),x=this._languageFeaturesService.newSymbolNamesProvider.all(Z),Y=await Promise.all(x.map(async ce=>{var ie;return[ce,(ie=await ce.supportsAutomaticNewSymbolNamesTriggerKind)!==null&&ie!==void 0?ie:!1]})),ae=(ce,ie)=>{let oe=Y.slice();return ce===c.NewSymbolNameTriggerKind.Automatic&&(oe=oe.filter(([re,W])=>W)),oe.map(([re])=>re.provideNewSymbolNames(Z,J.range,ce,ie))};U("creating rename input field and awaiting its result");const ue=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),he=await this._renameWidget.getInput(J.range,J.text,ue,x.length>0?ae:void 0,ee);if(U("received response from rename input field"),x.length>0&&this._reportTelemetry(x.length,Z.getLanguageId(),he),typeof he=="boolean"){U(`returning early - rename input field response - ${he}`),he&&this.editor.focus(),ee.dispose();return}this.editor.focus(),U("requesting rename edits");const pe=(0,k.raceCancellation)(z.provideRenameEdits(he.newName,ee.token),ee.token).then(async ce=>{if(!ce){U("returning early - no rename edits result");return}if(!this.editor.hasModel()){U("returning early - no model after rename edits are provided");return}if(ce.rejectReason){U(`returning early - rejected with reason: ${ce.rejectReason}`),this._notificationService.info(ce.rejectReason);return}this.editor.setSelection(t.Range.fromPositions(this.editor.getSelection().getPosition())),U("applying edits"),this._bulkEditService.apply(ce,{editor:this.editor,showPreview:he.wantsPreview,label:u.localize(2,null,J?.text,he.newName),code:"undoredo.rename",quotableLabel:u.localize(3,null,J?.text,he.newName),respectAutoSaveConfig:!0}).then(ie=>{U("edits applied"),ie.ariaSummary&&(0,f.alert)(u.localize(4,null,J.text,he.newName,ie.ariaSummary))}).catch(ie=>{U(`error when applying edits ${JSON.stringify(ie,null,"	")}`),this._notificationService.error(u.localize(5,null)),this._logService.error(ie)})},ce=>{U("error when providing rename edits",JSON.stringify(ce,null,"	")),this._notificationService.error(u.localize(6,null)),this._logService.error(ce)}).finally(()=>{ee.dispose()});return U("returning rename operation"),this._progressService.showWhile(pe,250),pe}acceptRenameInput(V){this._renameWidget.acceptInput(V)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(V,K,U){const G=typeof U=="boolean"?{kind:"cancelled",languageId:K,nRenameSuggestionProviders:V}:{kind:"accepted",languageId:K,nRenameSuggestionProviders:V,source:U.stats.source.k,nRenameSuggestions:U.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:U.stats.timeBeforeFirstInputFieldEdit,wantsPreview:U.wantsPreview,nRenameSuggestionsInvocations:U.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:U.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",G)}};P.ID="editor.contrib.renameController",P=A=ke([ge(1,p.IInstantiationService),ge(2,S.INotificationService),ge(3,o.IBulkEditService),ge(4,E.IEditorProgressService),ge(5,_.ILogService),ge(6,l.ITextResourceConfigurationService),ge(7,g.ILanguageFeaturesService),ge(8,T.ITelemetryService)],P);class F extends C.EditorAction{constructor(){super({id:"editor.action.rename",label:u.localize(7,null),alias:"Rename Symbol",precondition:h.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(V,K){const U=V.get(n.ICodeEditorService),[G,z]=Array.isArray(K)&&K||[void 0,void 0];return b.URI.isUri(G)&&i.Position.isIPosition(z)?U.openCodeEditor({resource:G},U.getActiveCodeEditor()).then($=>{$&&($.setPosition(z),$.invokeWithinContext(J=>(this.reportTelemetry(J,$),this.run(J,$))))},D.onUnexpectedError):super.runCommand(V,K)}run(V,K){const U=V.get(_.ILogService),G=P.get(K);return G?(U.trace("[RenameAction] got controller, running..."),G.run()):(U.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}e.RenameAction=F,(0,C.registerEditorContribution)(P.ID,P,4),(0,C.registerEditorAction)(F);const O=C.EditorCommand.bindToContribution(P.get);(0,C.registerEditorCommand)(new O({id:"acceptRenameInput",precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,handler:B=>B.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:h.ContextKeyExpr.and(s.EditorContextKeys.focus,h.ContextKeyExpr.not("isComposing")),primary:3}})),(0,C.registerEditorCommand)(new O({id:"acceptRenameInputWithPreview",precondition:h.ContextKeyExpr.and(N.CONTEXT_RENAME_INPUT_VISIBLE,h.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:B=>B.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:h.ContextKeyExpr.and(s.EditorContextKeys.focus,h.ContextKeyExpr.not("isComposing")),primary:2051}})),(0,C.registerEditorCommand)(new O({id:"cancelRenameInput",precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,handler:B=>B.cancelRenameInput(),kbOpts:{weight:199,kbExpr:s.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,a.registerAction2)(class extends a.Action2{constructor(){super({id:"focusNextRenameSuggestion",title:{...u.localize2(9,"Focus Next Rename Suggestion")},precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:18,weight:199}]})}run(V){const K=V.get(n.ICodeEditorService).getFocusedCodeEditor();if(!K)return;const U=P.get(K);U&&U.focusNextRenameSuggestion()}}),(0,a.registerAction2)(class extends a.Action2{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...u.localize2(10,"Focus Previous Rename Suggestion")},precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:16,weight:199}]})}run(V){const K=V.get(n.ICodeEditorService).getFocusedCodeEditor();if(!K)return;const U=P.get(K);U&&U.focusPreviousRenameSuggestion()}}),(0,C.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(B,V,K,...U){const[G]=U;(0,w.assertType)(typeof G=="string");const{renameProvider:z}=B.get(g.ILanguageFeaturesService);return M(z,V,K,G)}),(0,C.registerModelAndPositionCommand)("_executePrepareRename",async function(B,V,K){const{renameProvider:U}=B.get(g.ILanguageFeaturesService),z=await new R(V,K,U).resolveRenameLocation(L.CancellationToken.None);if(z?.rejectReason)throw new Error(z.rejectReason);return z}),I.Registry.as(v.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:u.localize(8,null),default:!0,type:"boolean"}}})}),define(ne[930],se([1,0,2,9,53,28,15,19,23,277,373,84,60,18,261,143,331]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let l=class extends f.Disposable{constructor(a,v,h,p,_,S){super(),this._watchers=Object.create(null);const E=N=>{this._watchers[N.uri.toString()]=new r(N,a,h,_,S)},I=(N,A)=>{A.dispose(),delete this._watchers[N.uri.toString()]},T=()=>{for(const N of v.getModels()){const A=this._watchers[N.uri.toString()];(0,c.isSemanticColoringEnabled)(N,h,p)?A||E(N):A&&I(N,A)}};v.getModels().forEach(N=>{(0,c.isSemanticColoringEnabled)(N,h,p)&&E(N)}),this._register(v.onModelAdded(N=>{(0,c.isSemanticColoringEnabled)(N,h,p)&&E(N)})),this._register(v.onModelRemoved(N=>{const A=this._watchers[N.uri.toString()];A&&I(N,A)})),this._register(p.onDidChangeConfiguration(N=>{N.affectsConfiguration(c.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&T()})),this._register(h.onDidColorThemeChange(T))}dispose(){for(const a of Object.values(this._watchers))a.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=l,e.DocumentSemanticTokensFeature=l=ke([ge(0,t.ISemanticTokensStylingService),ge(1,L.IModelService),ge(2,w.IThemeService),ge(3,D.IConfigurationService),ge(4,o.ILanguageFeatureDebounceService),ge(5,i.ILanguageFeaturesService)],l);let r=g=class extends f.Disposable{constructor(a,v,h,p,_){super(),this._semanticTokensStylingService=v,this._isDisposed=!1,this._model=a,this._provider=_.documentSemanticTokensProvider,this._debounceInformation=p.for(this._provider,"DocumentSemanticTokens",{min:g.REQUEST_MIN_DELAY,max:g.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new y.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),g.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const S=()=>{(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const E of this._provider.all(a))typeof E.onDidChange=="function"&&this._documentProvidersChangeListeners.push(E.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};S(),this._register(this._provider.onDidChange(()=>{S(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(h.onDidColorThemeChange(E=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,C.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const a=new m.CancellationTokenSource,v=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,h=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,p=(0,C.getDocumentSemanticTokens)(this._provider,this._model,v,h,a.token);this._currentDocumentRequestCancellationTokenSource=a,this._providersChangedDuringRequest=!1;const _=[],S=this._model.onDidChangeContent(I=>{_.push(I)}),E=new n.StopWatch(!1);p.then(I=>{if(this._debounceInformation.update(this._model,E.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,S.dispose(),!I)this._setDocumentSemanticTokens(null,null,null,_);else{const{provider:T,tokens:N}=I,A=this._semanticTokensStylingService.getStyling(T);this._setDocumentSemanticTokens(T,N||null,A,_)}},I=>{I&&(k.isCancellationError(I)||typeof I.message=="string"&&I.message.indexOf("busy")!==-1)||k.onUnexpectedError(I),this._currentDocumentRequestCancellationTokenSource=null,S.dispose(),(_.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(a,v,h,p,_){_=Math.min(_,h.length-p,a.length-v);for(let S=0;S<_;S++)h[p+S]=a[v+S]}_setDocumentSemanticTokens(a,v,h,p){const _=this._currentDocumentResponse,S=()=>{(p.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){a&&v&&a.releaseDocumentSemanticTokens(v.resultId);return}if(!a||!h){this._model.tokenization.setSemanticTokens(null,!1);return}if(!v){this._model.tokenization.setSemanticTokens(null,!0),S();return}if((0,C.isSemanticTokensEdits)(v)){if(!_){this._model.tokenization.setSemanticTokens(null,!0);return}if(v.edits.length===0)v={resultId:v.resultId,data:_.data};else{let E=0;for(const R of v.edits)E+=(R.data?R.data.length:0)-R.deleteCount;const I=_.data,T=new Uint32Array(I.length+E);let N=I.length,A=T.length;for(let R=v.edits.length-1;R>=0;R--){const M=v.edits[R];if(M.start>I.length){h.warnInvalidEditStart(_.resultId,v.resultId,R,M.start,I.length),this._model.tokenization.setSemanticTokens(null,!0);return}const P=N-(M.start+M.deleteCount);P>0&&(g._copy(I,N-P,T,A-P,P),A-=P),M.data&&(g._copy(M.data,0,T,A-M.data.length,M.data.length),A-=M.data.length),N=M.start}N>0&&g._copy(I,0,T,0,N),v={resultId:v.resultId,data:T}}}if((0,C.isSemanticTokens)(v)){this._currentDocumentResponse=new d(a,v.resultId,v.data);const E=(0,b.toMultilineTokens2)(v,h,this._model.getLanguageId());if(p.length>0)for(const I of p)for(const T of E)for(const N of I.changes)T.applyEdit(N.range,N.text);this._model.tokenization.setSemanticTokens(E,!0)}else this._model.tokenization.setSemanticTokens(null,!0);S()}};r.REQUEST_MIN_DELAY=300,r.REQUEST_MAX_DELAY=2e3,r=g=ke([ge(1,t.ISemanticTokensStylingService),ge(2,w.IThemeService),ge(3,o.ILanguageFeatureDebounceService),ge(4,i.ILanguageFeaturesService)],r);class d{constructor(a,v,h){this.provider=a,this.resultId=v,this.data=h}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,s.registerEditorFeature)(l)}),define(ne[931],se([1,0,15,2,16,373,331,277,28,23,84,60,18,261]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let t=class extends k.Disposable{constructor(c,g,l,r,d,u){super(),this._semanticTokensStylingService=g,this._themeService=l,this._configurationService=r,this._editor=c,this._provider=u.documentRangeSemanticTokensProvider,this._debounceInformation=d.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new f.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(v=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(v=>{v.affectsConfiguration(y.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()})),a()}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let g=0,l=this._outstandingRequests.length;g<l;g++)if(this._outstandingRequests[g]===c){this._outstandingRequests.splice(g,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.tokenization.hasCompleteSemanticTokens())return;if(!(0,y.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,c)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}const g=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(g.map(l=>this._requestRange(c,l)))}_requestRange(c,g){const l=c.getVersionId(),r=(0,f.createCancelablePromise)(u=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,c,g,u))),d=new o.StopWatch(!1);return r.then(u=>{if(this._debounceInformation.update(c,d.elapsed()),!u||!u.tokens||c.isDisposed()||c.getVersionId()!==l)return;const{provider:a,tokens:v}=u,h=this._semanticTokensStylingService.getStyling(a);c.tokenization.setPartialSemanticTokens(g,(0,m.toMultilineTokens2)(v,h,c.getLanguageId()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}};e.ViewportSemanticTokensContribution=t,t.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=t=ke([ge(1,i.ISemanticTokensStylingService),ge(2,b.IThemeService),ge(3,w.IConfigurationService),ge(4,C.ILanguageFeatureDebounceService),ge(5,n.ILanguageFeaturesService)],t),(0,L.registerEditorContribution)(t.ID,t,1)}),define(ne[932],se([1,0,6,250,26,31,7,78,2,22,27,848,53,43,766,369,76,23,387]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=void 0,e.getAriaId=d;function d(p){return`suggest-aria-id:${p}`}const u=(0,c.registerIcon)("suggest-more-info",L.Codicon.chevronRight,t.localize(0,null)),a=new(r=class{extract(_,S){if(_.textLabel.match(r._regexStrict))return S[0]=_.textLabel,!0;if(_.completion.detail&&_.completion.detail.match(r._regexStrict))return S[0]=_.completion.detail,!0;if(_.completion.documentation){const E=typeof _.completion.documentation=="string"?_.completion.documentation:_.completion.documentation.value,I=r._regexRelaxed.exec(E);if(I&&(I.index===0||I.index+I[0].length===E.length))return S[0]=I[0],!0}return!1}},r._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,r._regexStrict=new RegExp(`^${r._regexRelaxed.source}$`,"i"),r);let v=class{constructor(_,S,E,I){this._editor=_,this._modelService=S,this._languageService=E,this._themeService=I,this._onDidToggleDetails=new y.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(_){const S=new w.DisposableStore,E=_;E.classList.add("show-file-icons");const I=(0,f.append)(_,(0,f.$)(".icon")),T=(0,f.append)(I,(0,f.$)("span.colorspan")),N=(0,f.append)(_,(0,f.$)(".contents")),A=(0,f.append)(N,(0,f.$)(".main")),R=(0,f.append)(A,(0,f.$)(".icon-label.codicon")),M=(0,f.append)(A,(0,f.$)("span.left")),P=(0,f.append)(A,(0,f.$)("span.right")),F=new k.IconLabel(M,{supportHighlights:!0,supportIcons:!0});S.add(F);const O=(0,f.append)(M,(0,f.$)("span.signature-label")),B=(0,f.append)(M,(0,f.$)("span.qualifier-label")),V=(0,f.append)(P,(0,f.$)("span.details-label")),K=(0,f.append)(P,(0,f.$)("span.readMore"+D.ThemeIcon.asCSSSelector(u)));return K.title=t.localize(1,null),{root:E,left:M,right:P,icon:I,colorspan:T,iconLabel:F,iconContainer:R,parametersLabel:O,qualifierLabel:B,detailsLabel:V,readMore:K,disposables:S,configureFont:()=>{const G=this._editor.getOptions(),z=G.get(50),$=z.getMassagedFontFamily(),J=z.fontFeatureSettings,ee=G.get(119)||z.fontSize,Z=G.get(120)||z.lineHeight,x=z.fontWeight,Y=z.letterSpacing,ae=`${ee}px`,ue=`${Z}px`,he=`${Y}px`;E.style.fontSize=ae,E.style.fontWeight=x,E.style.letterSpacing=he,A.style.fontFamily=$,A.style.fontFeatureSettings=J,A.style.lineHeight=ue,I.style.height=ue,I.style.width=ue,K.style.height=ue,K.style.width=ue}}}renderElement(_,S,E){E.configureFont();const{completion:I}=_;E.root.id=d(S),E.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,m.createMatches)(_.score)},N=[];if(I.kind===19&&a.extract(_,N))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=N[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const A=(0,o.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:_.textLabel}),s.FileKind.FILE),R=(0,o.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:I.detail}),s.FileKind.FILE);T.extraClasses=A.length>R.length?A:R}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",T.extraClasses=[(0,o.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:_.textLabel}),s.FileKind.FOLDER),(0,o.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:I.detail}),s.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(C.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),E.iconLabel.setLabel(_.textLabel,void 0,T),typeof I.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=h(I.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=h(I.label.detail||""),E.detailsLabel.textContent=h(I.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?(0,f.show)(E.detailsLabel):(0,f.hide)(E.detailsLabel),(0,l.canExpandCompletionItem)(_)?(E.right.classList.add("can-expand-details"),(0,f.show)(E.readMore),E.readMore.onmousedown=A=>{A.stopPropagation(),A.preventDefault()},E.readMore.onclick=A=>{A.stopPropagation(),A.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,f.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(_){_.disposables.dispose()}};e.ItemRenderer=v,e.ItemRenderer=v=ke([ge(1,n.IModelService),ge(2,i.ILanguageService),ge(3,g.IThemeService)],v);function h(p){return p.replace(/\r\n|\r|\n/g,"")}}),define(ne[933],se([1,0,926,39,151,36,103,7,16,21,65]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let o=class extends f.AbstractGotoLineQuickAccessProvider{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=m.Event.None}get activeTextEditorControl(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0}};e.StandaloneGotoLineQuickAccessProvider=o,e.StandaloneGotoLineQuickAccessProvider=o=ke([ge(0,D.ICodeEditorService)],o);class n extends w.EditorAction{constructor(){super({id:n.ID,label:y.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(C.IQuickInputService).quickAccess.show(o.PREFIX)}}e.GotoLineAction=n,n.ID="editor.action.gotoLine",(0,w.registerEditorAction)(n),k.Registry.as(L.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:o.PREFIX,helpEntries:[{description:y.GoToLineNLS.gotoLineActionLabel,commandId:n.ID}]})}),define(ne[934],se([1,0,927,39,151,36,103,7,16,21,65,178,18,191,275]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let i=class extends f.AbstractGotoSymbolQuickAccessProvider{constructor(c,g,l){super(g,l),this.editorService=c,this.onDidActiveTextEditorControlChange=m.Event.None}get activeTextEditorControl(){var c;return(c=this.editorService.getFocusedCodeEditor())!==null&&c!==void 0?c:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=i,e.StandaloneGotoSymbolQuickAccessProvider=i=ke([ge(0,D.ICodeEditorService),ge(1,n.ILanguageFeaturesService),ge(2,o.IOutlineModelService)],i);class t extends w.EditorAction{constructor(){super({id:t.ID,label:y.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:b.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(c){c.get(C.IQuickInputService).quickAccess.show(f.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:C.ItemActivation.NONE})}}e.GotoSymbolAction=t,t.ID="editor.action.quickOutline",(0,w.registerEditorAction)(t),k.Registry.as(L.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:y.QuickOutlineNLS.quickOutlineActionLabel,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:t.ID},{description:y.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(ne[404],se([1,0,6,47,911,36,14,49,23]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let b=class extends L.AbstractCodeEditorService{constructor(o,n){super(n),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=o.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,t,s)=>t?this.doOpenEditor(t,i):null))}_checkContextKey(){let o=!1;for(const n of this.listCodeEditors())if(!n.isSimpleWidget){o=!0;break}this._editorIsOpen.set(o)}setActiveCodeEditor(o){this._activeCodeEditor=o}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(o,n){if(!this.findModel(o,n.resource)){if(n.resource){const s=n.resource.scheme;if(s===k.Schemas.http||s===k.Schemas.https)return(0,f.windowOpenNoOpener)(n.resource.toString()),o}return null}const t=n.options?n.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")o.setSelection(t),o.revealRangeInCenter(t,1);else{const s={lineNumber:t.startLineNumber,column:t.startColumn};o.setPosition(s),o.revealPositionInCenter(s,1)}return o}findModel(o,n){const i=o.getModel();return i&&i.uri.toString()!==n.toString()?null:i}};e.StandaloneCodeEditorService=b,e.StandaloneCodeEditorService=b=ke([ge(0,y.IContextKeyService),ge(1,w.IThemeService)],b),(0,m.registerSingleton)(D.ICodeEditorService,b,0)}),define(ne[935],se([1,0,86,33]),function(X,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[f.editorIndentGuide1]:"#D3D3D3",[f.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[f.editorIndentGuide1]:"#404040",[f.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[f.editorIndentGuide1]:"#FFFFFF",[f.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[f.editorIndentGuide1]:"#292929",[f.editorActiveIndentGuide1]:"#292929"}}}),define(ne[405],se([1,0,6,66,34,7,27,144,553,935,39,33,23,2,95,907,52]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const g=C.Registry.as(o.Extensions.ColorContribution),l=C.Registry.as(n.Extensions.ThemingContribution);class r{constructor(p,_){this.semanticHighlighting=!1,this.themeData=_;const S=_.base;p.length>0?(d(p)?this.id=p:this.id=S+" "+p,this.themeName=p):(this.id=S,this.themeName=S),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const p=new Map;for(const _ in this.themeData.colors)p.set(_,L.Color.fromHex(this.themeData.colors[_]));if(this.themeData.inherit){const _=u(this.themeData.base);for(const S in _.colors)p.has(S)||p.set(S,L.Color.fromHex(_.colors[S]))}this.colors=p}return this.colors}getColor(p,_){const S=this.getColors().get(p);if(S)return S;if(_!==!1)return this.getDefault(p)}getDefault(p){let _=this.defaultColors[p];return _||(_=g.resolveDefaultColor(p,this),this.defaultColors[p]=_,_)}defines(p){return this.getColors().has(p)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return t.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let p=[],_=[];if(this.themeData.inherit){const I=u(this.themeData.base);p=I.rules,I.encodedTokensColors&&(_=I.encodedTokensColors)}const S=this.themeData.colors["editor.foreground"],E=this.themeData.colors["editor.background"];if(S||E){const I={token:""};S&&(I.foreground=S),E&&(I.background=E),p.push(I)}p=p.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(_=this.themeData.encodedTokensColors),this._tokenTheme=w.TokenTheme.createFromRawTokenTheme(p,_)}return this._tokenTheme}getTokenStyleMetadata(p,_,S){const I=this.tokenTheme._match([p].concat(_).join(".")).metadata,T=m.TokenMetadata.getForeground(I),N=m.TokenMetadata.getFontStyle(I);return{foreground:T,italic:!!(N&1),bold:!!(N&2),underline:!!(N&4),strikethrough:!!(N&8)}}}function d(h){return h===e.VS_LIGHT_THEME_NAME||h===e.VS_DARK_THEME_NAME||h===e.HC_BLACK_THEME_NAME||h===e.HC_LIGHT_THEME_NAME}function u(h){switch(h){case e.VS_LIGHT_THEME_NAME:return b.vs;case e.VS_DARK_THEME_NAME:return b.vs_dark;case e.HC_BLACK_THEME_NAME:return b.hc_black;case e.HC_LIGHT_THEME_NAME:return b.hc_light}}function a(h){const p=u(h);return new r(h,p)}class v extends i.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new s.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,a(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,a(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,a(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,a(e.HC_LIGHT_THEME_NAME));const p=this._register((0,s.getIconsStyleSheet)(this));this._codiconCSS=p.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),this._register(p.onDidChange(()=>{this._codiconCSS=p.getCSS(),this._updateCSS()})),(0,k.addMatchMediaChangeListener)(c.mainWindow,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(p){return f.isInShadowDOM(p)?this._registerShadowDomContainer(p):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=f.createStyleSheet(void 0,p=>{p.className="monaco-colors",p.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(p){const _=f.createStyleSheet(p,S=>{S.className="monaco-colors",S.textContent=this._allCSS});return this._styleElements.push(_),{dispose:()=>{for(let S=0;S<this._styleElements.length;S++)if(this._styleElements[S]===_){this._styleElements.splice(S,1);return}}}}defineTheme(p,_){if(!/^[a-z0-9\-]+$/i.test(p))throw new Error("Illegal theme name!");if(!d(_.base)&&!d(p))throw new Error("Illegal theme base!");this._knownThemes.set(p,new r(p,_)),d(p)&&this._knownThemes.forEach(S=>{S.base===p&&S.notifyBaseUpdated()}),this._theme.themeName===p&&this.setTheme(p)}getColorTheme(){return this._theme}setColorMapOverride(p){this._colorMapOverride=p,this._updateThemeOrColorMap()}setTheme(p){let _;this._knownThemes.has(p)?_=this._knownThemes.get(p):_=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(_)}_updateActualTheme(p){!p||this._theme===p||(this._theme=p,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const p=c.mainWindow.matchMedia("(forced-colors: active)").matches;if(p!==(0,t.isHighContrast)(this._theme.type)){let _;(0,t.isDark)(this._theme.type)?_=p?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:_=p?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(_))}}}setAutoDetectHighContrast(p){this._autoDetectHighContrast=p,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const p=[],_={},S={addRule:T=>{_[T]||(p.push(T),_[T]=!0)}};l.getThemingParticipants().forEach(T=>T(this._theme,S,this._environment));const E=[];for(const T of g.getColors()){const N=this._theme.getColor(T.id,!0);N&&E.push(`${(0,o.asCssVariableName)(T.id)}: ${N.toString()};`)}S.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${E.join(`
`)} }`);const I=this._colorMapOverride||this._theme.tokenTheme.getColorMap();S.addRule((0,w.generateTokensCSSForColorMap)(I)),this._themeCSS=p.join(`
`),this._updateCSS(),y.TokenizationRegistry.setColorMap(I),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(p=>p.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=v}),define(ne[936],se([1,0,16,149,103,95,405]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class m extends f.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:L.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(b,C){const o=b.get(k.IStandaloneThemeService),n=o.getColorTheme();(0,D.isHighContrast)(n.type)?(o.setTheme(this._originalThemeName||((0,D.isDark)(n.type)?y.VS_DARK_THEME_NAME:y.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(o.setTheme((0,D.isDark)(n.type)?y.HC_BLACK_THEME_NAME:y.HC_LIGHT_THEME_NAME),this._originalThemeName=n.themeName)}}(0,f.registerEditorAction)(m)}),define(ne[121],se([1,0,6,46,147,349,41,243,2,17,780,29,368,14,58,8,32,50,99,23,31,95,20,33,106,62,521]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=void 0,e.createAndFillInContextMenuActions=_,e.createAndFillInActionBarActions=S,e.createActionViewItem=R;function _(M,P,F,O){const B=M.getActions(P),V=f.ModifierKeyEmitter.getInstance(),K=V.keyStatus.altKey||(b.isWindows||b.isLinux)&&V.keyStatus.shiftKey;E(B,F,K,O?U=>U===O:U=>U==="navigation")}function S(M,P,F,O,B,V){const K=M.getActions(P);E(K,F,!1,typeof O=="string"?G=>G===O:O,B,V)}function E(M,P,F,O=K=>K==="navigation",B=()=>!1,V=!1){let K,U;Array.isArray(P)?(K=P,U=P):(K=P.primary,U=P.secondary);const G=new Set;for(const[z,$]of M){let J;O(z)?(J=K,J.length>0&&V&&J.push(new y.Separator)):(J=U,J.length>0&&J.push(new y.Separator));for(let ee of $){F&&(ee=ee instanceof o.MenuItemAction&&ee.alt?ee.alt:ee);const Z=J.push(ee);ee instanceof y.SubmenuAction&&G.add({group:z,action:ee,index:Z-1})}}for(const{group:z,action:$,index:J}of G){const ee=O(z)?K:U,Z=$.actions;B($,z,ee.length)&&ee.splice(J,1,...Z)}}let I=class extends L.ActionViewItem{constructor(P,F,O,B,V,K,U,G){super(void 0,P,{icon:!!(P.class||P.item.icon),label:!P.class&&!P.item.icon,draggable:F?.draggable,keybinding:F?.keybinding,hoverDelegate:F?.hoverDelegate}),this._keybindingService=O,this._notificationService=B,this._contextKeyService=V,this._themeService=K,this._contextMenuService=U,this._accessibilityService=G,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=f.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(P){P.preventDefault(),P.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(F){this._notificationService.error(F)}}render(P){if(super.render(P),P.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let F=!1;const O=()=>{var B;const V=!!(!((B=this._menuItemAction.alt)===null||B===void 0)&&B.enabled)&&(!this._accessibilityService.isMotionReduced()||F)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&F);V!==this._wantsAltCommand&&(this._wantsAltCommand=V,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(O)),this._register((0,f.addDisposableListener)(P,"mouseleave",B=>{F=!1,O()})),this._register((0,f.addDisposableListener)(P,"mouseenter",B=>{F=!0,O()})),O()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var P;const F=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),O=F&&F.getLabel(),B=this._commandAction.tooltip||this._commandAction.label;let V=O?(0,C.localize)(0,null,B,O):B;if(!this._wantsAltCommand&&(!((P=this._menuItemAction.alt)===null||P===void 0)&&P.enabled)){const K=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,U=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),G=U&&U.getLabel(),z=G?(0,C.localize)(1,null,K,G):K;V=(0,C.localize)(2,null,V,m.UILabelProvider.modifierLabels[b.OS].altKey,z)}return V}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(P){this._itemClassDispose.value=void 0;const{element:F,label:O}=this;if(!F||!O)return;const B=this._commandAction.checked&&(0,n.isICommandActionToggleInfo)(P.toggled)&&P.toggled.icon?P.toggled.icon:P.icon;if(B)if(d.ThemeIcon.isThemeIcon(B)){const V=d.ThemeIcon.asClassNameArray(B);O.classList.add(...V),this._itemClassDispose.value=(0,w.toDisposable)(()=>{O.classList.remove(...V)})}else O.style.backgroundImage=(0,u.isDark)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(B.dark):(0,f.asCSSUrl)(B.light),O.classList.add("icon"),this._itemClassDispose.value=(0,w.combinedDisposable)((0,w.toDisposable)(()=>{O.style.backgroundImage="",O.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=I,e.MenuEntryActionViewItem=I=ke([ge(2,c.IKeybindingService),ge(3,g.INotificationService),ge(4,i.IContextKeyService),ge(5,r.IThemeService),ge(6,t.IContextMenuService),ge(7,p.IAccessibilityService)],I);let T=class extends D.DropdownMenuActionViewItem{constructor(P,F,O,B,V){var K,U,G;const z={...F,menuAsChild:(K=F?.menuAsChild)!==null&&K!==void 0?K:!1,classNames:(U=F?.classNames)!==null&&U!==void 0?U:d.ThemeIcon.isThemeIcon(P.item.icon)?d.ThemeIcon.asClassName(P.item.icon):void 0,keybindingProvider:(G=F?.keybindingProvider)!==null&&G!==void 0?G:$=>O.lookupKeybinding($.id)};super(P,{getActions:()=>P.actions},B,z),this._keybindingService=O,this._contextMenuService=B,this._themeService=V}render(P){super.render(P),(0,a.assertType)(this.element),P.classList.add("menu-entry");const F=this._action,{icon:O}=F.item;if(O&&!d.ThemeIcon.isThemeIcon(O)){this.element.classList.add("icon");const B=()=>{this.element&&(this.element.style.backgroundImage=(0,u.isDark)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(O.dark):(0,f.asCSSUrl)(O.light))};B(),this._register(this._themeService.onDidColorThemeChange(()=>{B()}))}}};e.SubmenuEntryActionViewItem=T,e.SubmenuEntryActionViewItem=T=ke([ge(2,c.IKeybindingService),ge(3,t.IContextMenuService),ge(4,r.IThemeService)],T);let N=class extends L.BaseActionViewItem{constructor(P,F,O,B,V,K,U,G){var z,$,J;super(null,P),this._keybindingService=O,this._notificationService=B,this._contextMenuService=V,this._menuService=K,this._instaService=U,this._storageService=G,this._container=null,this._options=F,this._storageKey=`${P.item.submenu.id}_lastActionId`;let ee;const Z=F?.persistLastActionId?G.get(this._storageKey,1):void 0;Z&&(ee=P.actions.find(Y=>Z===Y.id)),ee||(ee=P.actions[0]),this._defaultAction=this._instaService.createInstance(I,ee,{keybinding:this._getDefaultActionKeybindingLabel(ee)});const x={keybindingProvider:Y=>this._keybindingService.lookupKeybinding(Y.id),...F,menuAsChild:(z=F?.menuAsChild)!==null&&z!==void 0?z:!0,classNames:($=F?.classNames)!==null&&$!==void 0?$:["codicon","codicon-chevron-down"],actionRunner:(J=F?.actionRunner)!==null&&J!==void 0?J:new y.ActionRunner};this._dropdown=new D.DropdownMenuActionViewItem(P,P.actions,this._contextMenuService,x),this._register(this._dropdown.actionRunner.onDidRun(Y=>{Y.action instanceof o.MenuItemAction&&this.update(Y.action)}))}update(P){var F;!((F=this._options)===null||F===void 0)&&F.persistLastActionId&&this._storageService.store(this._storageKey,P.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(I,P,{keybinding:this._getDefaultActionKeybindingLabel(P)}),this._defaultAction.actionRunner=new class extends y.ActionRunner{async runAction(O,B){await O.run(void 0)}},this._container&&this._defaultAction.render((0,f.prepend)(this._container,(0,f.$)(".action-container")))}_getDefaultActionKeybindingLabel(P){var F;let O;if(!((F=this._options)===null||F===void 0)&&F.renderKeybindingWithDefaultActionLabel){const B=this._keybindingService.lookupKeybinding(P.id);B&&(O=`(${B.getLabel()})`)}return O}setActionContext(P){super.setActionContext(P),this._defaultAction.setActionContext(P),this._dropdown.setActionContext(P)}render(P){this._container=P,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const F=(0,f.$)(".action-container");this._defaultAction.render((0,f.append)(this._container,F)),this._register((0,f.addDisposableListener)(F,f.EventType.KEY_DOWN,B=>{const V=new k.StandardKeyboardEvent(B);V.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),V.stopPropagation())}));const O=(0,f.$)(".dropdown-action-container");this._dropdown.render((0,f.append)(this._container,O)),this._register((0,f.addDisposableListener)(O,f.EventType.KEY_DOWN,B=>{var V;const K=new k.StandardKeyboardEvent(B);K.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(V=this._defaultAction.element)===null||V===void 0||V.focus(),K.stopPropagation())}))}focus(P){P?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(P){P?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=N,e.DropdownWithDefaultActionViewItem=N=ke([ge(2,c.IKeybindingService),ge(3,g.INotificationService),ge(4,t.IContextMenuService),ge(5,o.IMenuService),ge(6,s.IInstantiationService),ge(7,l.IStorageService)],N);let A=class extends L.SelectActionViewItem{constructor(P,F){super(null,P,P.actions.map(O=>({text:O.id===y.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":O.label,isDisabled:!O.enabled})),0,F,h.defaultSelectBoxStyles,{ariaLabel:P.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,P.actions.findIndex(O=>O.checked)))}render(P){super.render(P),P.style.borderColor=(0,v.asCssVariable)(v.selectBorder)}runAction(P,F){const O=this.action.actions[F];O&&this.actionRunner.run(O)}};A=ke([ge(1,t.IContextViewService)],A);function R(M,P,F){return P instanceof o.MenuItemAction?M.createInstance(I,P,F):P instanceof o.SubmenuItemAction?P.item.isSelection?M.createInstance(A,P):P.item.rememberDefaultAction?M.createInstance(N,P,{...F,persistLastActionId:!0}):M.createInstance(T,P,F):void 0}}),define(ne[937],se([1,0,6,82,2,767,121,29,14,8]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class C extends y.MenuEntryActionViewItem{updateLabel(){const i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return super.updateLabel();this.label&&(this.label.textContent=(0,D.localize)(0,null,this._action.label,C.symbolPrintEnter(i)))}static symbolPrintEnter(i){var t;return(t=i.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let o=class{constructor(i,t,s,c,g){this._menuId=t,this._menuService=c,this._contextKeyService=g,this._menuDisposables=new L.DisposableStore,this.element=f.append(i,f.$(".suggest-status-bar"));const l=r=>r instanceof m.MenuItemAction?s.createInstance(C,r,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:l}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:l}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const i=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const s=[],c=[];for(const[g,l]of i.getActions())g==="left"?s.push(...l):c.push(...l);this._leftActions.clear(),this._leftActions.push(s),this._rightActions.clear(),this._rightActions.push(c)};this._menuDisposables.add(i.onDidChange(()=>t())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=o,e.SuggestWidgetStatus=o=ke([ge(2,b.IInstantiationService),ge(3,m.IMenuService),ge(4,w.IContextKeyService)],o)}),define(ne[212],se([1,0,6,74,637,41,13,291,9,7,54,2,781,121,29,391,25,14,58,32,59]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuWorkbenchToolBar=e.WorkbenchToolBar=void 0;let u=class extends L.ToolBar{constructor(h,p,_,S,E,I,T,N){super(h,E,{getKeyBinding:R=>{var M;return(M=I.lookupKeybinding(R.id))!==null&&M!==void 0?M:void 0},...p,allowContextMenu:!0,skipTelemetry:typeof p?.telemetrySource=="string"}),this._options=p,this._menuService=_,this._contextKeyService=S,this._contextMenuService=E,this._keybindingService=I,this._commandService=T,this._sessionDisposables=this._store.add(new o.DisposableStore);const A=p?.telemetrySource;A&&this._store.add(this.actionBar.onDidRun(R=>N.publicLog2("workbenchActionExecuted",{id:R.action.id,from:A})))}setActions(h,p=[],_){var S,E,I;this._sessionDisposables.clear();const T=h.slice(),N=p.slice(),A=[];let R=0;const M=[];let P=!1;if(((S=this._options)===null||S===void 0?void 0:S.hiddenItemStrategy)!==-1)for(let F=0;F<T.length;F++){const O=T[F];!(O instanceof t.MenuItemAction)&&!(O instanceof t.SubmenuItemAction)||O.hideActions&&(A.push(O.hideActions.toggle),O.hideActions.toggle.checked&&R++,O.hideActions.isHidden&&(P=!0,T[F]=void 0,((E=this._options)===null||E===void 0?void 0:E.hiddenItemStrategy)!==0&&(M[F]=O)))}if(((I=this._options)===null||I===void 0?void 0:I.overflowBehavior)!==void 0){const F=(0,m.intersection)(new Set(this._options.overflowBehavior.exempted),C.Iterable.map(T,V=>V?.id)),O=this._options.overflowBehavior.maxItems-F.size;let B=0;for(let V=0;V<T.length;V++){const K=T[V];K&&(B++,!F.has(K.id)&&B>=O&&(T[V]=void 0,M[V]=K))}}(0,y.coalesceInPlace)(T),(0,y.coalesceInPlace)(M),super.setActions(T,D.Separator.join(M,N)),(A.length>0||T.length>0)&&this._sessionDisposables.add((0,f.addDisposableListener)(this.getElement(),"contextmenu",F=>{var O,B,V,K,U;const G=new k.StandardMouseEvent((0,f.getWindow)(this.getElement()),F),z=this.getItemAction(G.target);if(!z)return;G.preventDefault(),G.stopPropagation();const $=[];if(z instanceof t.MenuItemAction&&z.menuKeybinding?$.push(z.menuKeybinding):z instanceof t.SubmenuItemAction||z instanceof L.ToggleMenuAction||$.push((0,s.createConfigureKeybindingAction)(z.id,void 0,this._commandService,this._keybindingService)),A.length>0){let ee=!1;if(R===1&&((O=this._options)===null||O===void 0?void 0:O.hiddenItemStrategy)===0){ee=!0;for(let Z=0;Z<A.length;Z++)if(A[Z].checked){A[Z]=(0,D.toAction)({id:z.id,label:z.label,checked:!0,enabled:!1,run(){}});break}}if(!ee&&(z instanceof t.MenuItemAction||z instanceof t.SubmenuItemAction)){if(!z.hideActions)return;$.push(z.hideActions.hide)}else $.push((0,D.toAction)({id:"label",label:(0,n.localize)(0,null),enabled:!1,run(){}}))}const J=D.Separator.join($,A);!((B=this._options)===null||B===void 0)&&B.resetMenu&&!_&&(_=[this._options.resetMenu]),P&&_&&(J.push(new D.Separator),J.push((0,D.toAction)({id:"resetThisMenu",label:(0,n.localize)(1,null),run:()=>this._menuService.resetHiddenStates(_)}))),J.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>G,getActions:()=>J,menuId:(V=this._options)===null||V===void 0?void 0:V.contextMenu,menuActionOptions:{renderShortTitle:!0,...(K=this._options)===null||K===void 0?void 0:K.menuOptions},skipTelemetry:typeof((U=this._options)===null||U===void 0?void 0:U.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=u,e.WorkbenchToolBar=u=ke([ge(2,t.IMenuService),ge(3,g.IContextKeyService),ge(4,l.IContextMenuService),ge(5,r.IKeybindingService),ge(6,c.ICommandService),ge(7,d.ITelemetryService)],u);let a=class extends u{constructor(h,p,_,S,E,I,T,N,A){super(h,{resetMenu:p,..._},S,E,I,T,N,A),this._onDidChangeMenuItems=this._store.add(new b.Emitter),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const R=this._store.add(S.createMenu(p,E,{emitEventsForSubmenuChanges:!0})),M=()=>{var P,F,O;const B=[],V=[];(0,i.createAndFillInActionBarActions)(R,_?.menuOptions,{primary:B,secondary:V},(P=_?.toolbarOptions)===null||P===void 0?void 0:P.primaryGroup,(F=_?.toolbarOptions)===null||F===void 0?void 0:F.shouldInlineSubmenu,(O=_?.toolbarOptions)===null||O===void 0?void 0:O.useSeparatorsInPrimaryActions),h.classList.toggle("has-no-actions",B.length===0&&V.length===0),super.setActions(B,V)};this._store.add(R.onDidChange(()=>{M(),this._onDidChangeMenuItems.fire(this)})),M()}setActions(){throw new w.BugIndicatingError("This toolbar is populated from a menu.")}};e.MenuWorkbenchToolBar=a,e.MenuWorkbenchToolBar=a=ke([ge(3,t.IMenuService),ge(4,g.IContextKeyService),ge(5,l.IContextMenuService),ge(6,r.IKeybindingService),ge(7,c.ICommandService),ge(8,d.ITelemetryService)],a)}),define(ne[938],se([1,0,6,2,30,126,353,83,645,337,61,67,5,109,101,562,212,29,14,115,8]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorGutter=void 0;const u=[],a=35;let v=class extends k.Disposable{constructor(S,E,I,T,N,A,R,M,P){super(),this._diffModel=E,this._editors=I,this._options=T,this._sashLayout=N,this._boundarySashes=A,this._instantiationService=R,this._contextKeyService=M,this._menuService=P,this._menu=this._register(this._menuService.createMenu(g.MenuId.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=(0,L.observableFromEvent)(this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(F=>F.length>0),this._showSash=(0,L.derived)(this,F=>this._options.renderSideBySide.read(F)&&this._hasActions.read(F)),this.width=(0,L.derived)(this,F=>this._hasActions.read(F)?a:0),this.elements=(0,f.h)("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:a+"px"}},[]),this._currentDiff=(0,L.derived)(this,F=>{var O;const B=this._diffModel.read(F);if(!B)return;const V=(O=B.diff.read(F))===null||O===void 0?void 0:O.mappings,K=this._editors.modifiedCursor.read(F);if(K)return V?.find(U=>U.lineRangeMapping.modified.contains(K.lineNumber))}),this._selectedDiffs=(0,L.derived)(this,F=>{const O=this._diffModel.read(F),B=O?.diff.read(F);if(!B)return u;const V=this._editors.modifiedSelections.read(F);if(V.every(z=>z.isEmpty()))return u;const K=new C.LineRangeSet(V.map(z=>C.LineRange.fromRangeInclusive(z))),G=B.mappings.filter(z=>z.lineRangeMapping.innerChanges&&K.intersects(z.lineRangeMapping.modified)).map(z=>({mapping:z,rangeMappings:z.lineRangeMapping.innerChanges.filter($=>V.some(J=>n.Range.areIntersecting($.modifiedRange,J)))}));return G.length===0||G.every(z=>z.rangeMappings.length===0)?u:G}),this._register((0,m.prependRemoveOnDispose)(S,this.elements.root)),this._register((0,f.addDisposableListener)(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register((0,m.applyStyle)(this.elements.root,{display:this._hasActions.map(F=>F?"block":"none")})),(0,D.derivedDisposable)(this,F=>this._showSash.read(F)?new y.DiffEditorSash(S,this._sashLayout.dimensions,this._options.enableSplitViewResizing,this._boundarySashes,(0,D.derivedWithSetter)(this,B=>this._sashLayout.sashLeft.read(B)-a,(B,V)=>this._sashLayout.sashLeft.set(B+a,V)),()=>this._sashLayout.resetSash()):void 0).recomputeInitiallyAndOnChange(this._store),this._register(new w.EditorGutter(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(F,O)=>{const B=this._diffModel.read(O);if(!B)return[];const V=B.diff.read(O);if(!V)return[];const K=this._selectedDiffs.read(O);if(K.length>0){const G=t.DetailedLineRangeMapping.fromRangeMappings(K.flatMap(z=>z.rangeMappings));return[new h(G,!0,g.MenuId.DiffEditorSelectionToolbar,void 0,B.model.original.uri,B.model.modified.uri)]}const U=this._currentDiff.read(O);return V.mappings.map(G=>new h(G.lineRangeMapping.withInnerChangesFromLineRanges(),G.lineRangeMapping===U?.lineRangeMapping,g.MenuId.DiffEditorHunkToolbar,void 0,B.model.original.uri,B.model.modified.uri))},createView:(F,O)=>this._instantiationService.createInstance(p,F,O,this)})),this._register((0,f.addDisposableListener)(this.elements.gutter,f.EventType.MOUSE_WHEEL,F=>{this._editors.modified.getOption(103).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(F)},{passive:!1}))}computeStagedValue(S){var E;const I=(E=S.innerChanges)!==null&&E!==void 0?E:[],T=new s.TextModelText(this._editors.modifiedModel.get()),N=new s.TextModelText(this._editors.original.getModel());return new i.TextEdit(I.map(M=>M.toTextEdit(T))).apply(N)}layout(S){this.elements.gutter.style.left=S+"px"}};e.DiffEditorGutter=v,e.DiffEditorGutter=v=ke([ge(6,d.IInstantiationService),ge(7,l.IContextKeyService),ge(8,g.IMenuService)],v);class h{constructor(S,E,I,T,N,A){this.mapping=S,this.showAlways=E,this.menuId=I,this.rangeOverride=T,this.originalUri=N,this.modifiedUri=A}get id(){return this.mapping.modified.toString()}get range(){var S;return(S=this.rangeOverride)!==null&&S!==void 0?S:this.mapping.modified}}let p=class extends k.Disposable{constructor(S,E,I,T){super(),this._item=S,this._elements=(0,f.h)("div.gutterItem",{style:{height:"20px",width:"34px"}},[(0,f.h)("div.background@background",{},[]),(0,f.h)("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,A=>A.showAlways),this._menuId=this._item.map(this,A=>A.menuId),this._isSmall=(0,L.observableValue)(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const N=this._register(T.createInstance(r.WorkbenchHoverDelegate,"element",!0,{position:{hoverPosition:1}}));this._register((0,m.appendRemoveOnDispose)(E,this._elements.root)),this._register((0,L.autorun)(A=>{const R=this._showAlways.read(A);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",R),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register((0,L.autorunWithStore)((A,R)=>{this._elements.buttons.replaceChildren();const M=R.add(T.createInstance(c.MenuWorkbenchToolBar,this._elements.buttons,this._menuId.read(A),{orientation:1,hoverDelegate:N,toolbarOptions:{primaryGroup:P=>P.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(A)?1:3},hiddenItemStrategy:0,actionRunner:new b.ActionRunnerWithContext(()=>{const P=this._item.get(),F=P.mapping;return{mapping:F,originalWithModifiedChanges:I.computeStagedValue(F),originalUri:P.originalUri,modifiedUri:P.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));R.add(M.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(S,E){this._lastItemRange=S,this._lastViewRange=E;let I=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&S.length<30,void 0),I=this._elements.buttons.clientHeight;const T=S.length/2-I/2,N=I;let A=S.start+T;const R=o.OffsetRange.tryCreate(N,E.endExclusive-N-I),M=o.OffsetRange.tryCreate(S.start+N,S.endExclusive-I-N);M&&R&&M.start<M.endExclusive&&(A=R.clip(A),A=M.clip(A)),this._elements.buttons.style.top=`${A-S.start}px`}};p=ke([ge(3,d.IInstantiationService)],p)}),define(ne[278],se([1,0,6,147,201,41,13,15,26,2,30,126,17,31,10,27,241,744,121,212,29,25,14,58,8,32,59,76,499]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let I=class extends b.Disposable{constructor(O,B,V){super(),this.editor=O,this.model=B,this.instantiationService=V,this.alwaysShowToolbar=(0,C.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,C.derived)(this,K=>{var U,G,z;const $=(U=this.model.read(K))===null||U===void 0?void 0:U.primaryGhostText.read(K);if(!this.alwaysShowToolbar.read(K)||!$||$.parts.length===0)return this.sessionPosition=void 0,null;const J=$.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==$.lineNumber&&(this.sessionPosition=void 0);const ee=new t.Position($.lineNumber,Math.min(J,(z=(G=this.sessionPosition)===null||G===void 0?void 0:G.column)!==null&&z!==void 0?z:Number.MAX_SAFE_INTEGER));return this.sessionPosition=ee,ee}),this._register((0,C.autorunWithStore)((K,U)=>{const G=this.model.read(K);if(!G||!this.alwaysShowToolbar.read(K))return;const z=(0,o.derivedWithStore)((J,ee)=>{const Z=ee.add(this.instantiationService.createInstance(A,this.editor,!0,this.position,G.selectedInlineCompletionIndex,G.inlineCompletionsCount,G.activeCommands));return O.addContentWidget(Z),ee.add((0,b.toDisposable)(()=>O.removeContentWidget(Z))),ee.add((0,C.autorun)(x=>{this.position.read(x)&&G.lastTriggerKind.read(x)!==s.InlineCompletionTriggerKind.Explicit&&G.triggerExplicitly()})),Z}),$=(0,C.derivedObservableWithCache)(this,(J,ee)=>!!this.position.read(J)||!!ee);U.add((0,C.autorun)(J=>{$.read(J)&&z.read(J)}))}))}};e.InlineCompletionsHintsWidget=I,e.InlineCompletionsHintsWidget=I=ke([ge(2,h.IInstantiationService)],I);const T=(0,S.registerIcon)("inline-suggestion-hints-next",w.Codicon.chevronRight,(0,g.localize)(0,null)),N=(0,S.registerIcon)("inline-suggestion-hints-previous",w.Codicon.chevronLeft,(0,g.localize)(1,null));let A=E=class extends b.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(O,B,V){const K=new D.Action(O,B,V,!0,()=>this._commandService.executeCommand(O)),U=this.keybindingService.lookupKeybinding(O,this._contextKeyService);let G=B;return U&&(G=(0,g.localize)(2,null,B,U.getLabel())),K.tooltip=G,K}constructor(O,B,V,K,U,G,z,$,J,ee,Z){super(),this.editor=O,this.withBorder=B,this._position=V,this._currentSuggestionIdx=K,this._suggestionCount=U,this._extraCommands=G,this._commandService=z,this.keybindingService=J,this._contextKeyService=ee,this._menuService=Z,this.id=`InlineSuggestionHintsContentWidget${E.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.previousAction=this.createCommandAction(c.showPreviousInlineSuggestionActionId,(0,g.localize)(3,null),i.ThemeIcon.asClassName(N)),this.availableSuggestionCountAction=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(c.showNextInlineSuggestionActionId,(0,g.localize)(4,null),i.ThemeIcon.asClassName(T)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(d.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new m.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new m.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register($.createInstance(P,this.nodes.toolBar,d.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:x=>x.startsWith("primary")},actionViewItemProvider:(x,Y)=>{if(x instanceof d.MenuItemAction)return $.createInstance(M,x,void 0);if(x===this.availableSuggestionCountAction){const ae=new R(void 0,x,{label:!0,icon:!1});return ae.setClass("availableSuggestionCount"),ae}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(x=>{E._dropDownVisible=x})),this._register((0,C.autorun)(x=>{this._position.read(x),this.editor.layoutContentWidget(this)})),this._register((0,C.autorun)(x=>{const Y=this._suggestionCount.read(x),ae=this._currentSuggestionIdx.read(x);Y!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${ae+1}/${Y}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),Y!==void 0&&Y>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,C.autorun)(x=>{const ae=this._extraCommands.read(x).map(ue=>({class:void 0,id:ue.id,enabled:!0,tooltip:ue.tooltip||"",label:ue.title,run:he=>this._commandService.executeCommand(ue.id)}));for(const[ue,he]of this.inlineCompletionsActionsMenus.getActions())for(const pe of he)pe instanceof d.MenuItemAction&&ae.push(pe);ae.length>0&&ae.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(ae)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=A,A._dropDownVisible=!1,A.id=0,e.InlineSuggestionHintsContentWidget=A=E=ke([ge(6,u.ICommandService),ge(7,h.IInstantiationService),ge(8,p.IKeybindingService),ge(9,a.IContextKeyService),ge(10,d.IMenuService)],A);class R extends k.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(O){this._className=O}render(O){super.render(O),this._className&&O.classList.add(this._className)}updateTooltip(){}}class M extends l.MenuEntryActionViewItem{updateLabel(){const O=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!O)return super.updateLabel();if(this.label){const B=(0,f.h)("div.keybinding").root;this._register(new L.KeybindingLabel(B,n.OS,{disableTitle:!0,...L.unthemedKeybindingLabelOptions})).set(O),this.label.textContent=this._action.label,this.label.appendChild(B),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let P=class extends r.WorkbenchToolBar{constructor(O,B,V,K,U,G,z,$,J){super(O,{resetMenu:B,...V},K,U,G,z,$,J),this.menuId=B,this.options2=V,this.menuService=K,this.contextKeyService=U,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var O,B,V,K,U,G,z;const $=[],J=[];(0,l.createAndFillInActionBarActions)(this.menu,(O=this.options2)===null||O===void 0?void 0:O.menuOptions,{primary:$,secondary:J},(V=(B=this.options2)===null||B===void 0?void 0:B.toolbarOptions)===null||V===void 0?void 0:V.primaryGroup,(U=(K=this.options2)===null||K===void 0?void 0:K.toolbarOptions)===null||U===void 0?void 0:U.shouldInlineSubmenu,(z=(G=this.options2)===null||G===void 0?void 0:G.toolbarOptions)===null||z===void 0?void 0:z.useSeparatorsInPrimaryActions),J.push(...this.additionalActions),$.unshift(...this.prependedPrimaryActions),this.setActions($,J)}setPrependedPrimaryActions(O){(0,y.equals)(this.prependedPrimaryActions,O,(B,V)=>B===V)||(this.prependedPrimaryActions=O,this.updateToolbar())}setAdditionalSecondaryActions(O){(0,y.equals)(this.additionalActions,O,(B,V)=>B===V)||(this.additionalActions=O,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=P,e.CustomizedMenuWorkbenchToolBar=P=ke([ge(3,d.IMenuService),ge(4,a.IContextKeyService),ge(5,v.IContextMenuService),ge(6,p.IKeybindingService),ge(7,u.ICommandService),ge(8,_.ITelemetryService)],P)}),define(ne[406],se([1,0,6,201,41,13,2,30,17,10,121,212,29,25,14,58,8,32,59,501]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineEditHintsContentWidget=e.InlineEditHintsWidget=void 0;let d=class extends y.Disposable{constructor(p,_,S){super(),this.editor=p,this.model=_,this.instantiationService=S,this.alwaysShowToolbar=(0,m.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,m.derived)(this,E=>{var I,T,N;const A=(I=this.model.read(E))===null||I===void 0?void 0:I.widget.model.ghostText.read(E);if(!this.alwaysShowToolbar.read(E)||!A||A.parts.length===0)return this.sessionPosition=void 0,null;const R=A.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==A.lineNumber&&(this.sessionPosition=void 0);const M=new b.Position(A.lineNumber,Math.min(R,(N=(T=this.sessionPosition)===null||T===void 0?void 0:T.column)!==null&&N!==void 0?N:Number.MAX_SAFE_INTEGER));return this.sessionPosition=M,M}),this._register((0,m.autorunWithStore)((E,I)=>{if(!this.model.read(E)||!this.alwaysShowToolbar.read(E))return;const N=I.add(this.instantiationService.createInstance(u,this.editor,!0,this.position));p.addContentWidget(N),I.add((0,y.toDisposable)(()=>p.removeContentWidget(N)))}))}};e.InlineEditHintsWidget=d,e.InlineEditHintsWidget=d=ke([ge(2,c.IInstantiationService)],d);let u=r=class extends y.Disposable{constructor(p,_,S,E,I,T){super(),this.editor=p,this.withBorder=_,this._position=S,this._contextKeyService=I,this._menuService=T,this.id=`InlineEditHintsContentWidget${r.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(n.MenuId.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(E.createInstance(v,this.nodes.toolBar,this.editor,n.MenuId.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:N=>N.startsWith("primary")},actionViewItemProvider:(N,A)=>{if(N instanceof n.MenuItemAction)return E.createInstance(a,N,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(N=>{r._dropDownVisible=N})),this._register((0,m.autorun)(N=>{this._position.read(N),this.editor.layoutContentWidget(this)})),this._register((0,m.autorun)(N=>{const A=[];for(const[R,M]of this.inlineCompletionsActionsMenus.getActions())for(const P of M)P instanceof n.MenuItemAction&&A.push(P);A.length>0&&A.unshift(new L.Separator),this.toolBar.setAdditionalSecondaryActions(A)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineEditHintsContentWidget=u,u._dropDownVisible=!1,u.id=0,e.InlineEditHintsContentWidget=u=r=ke([ge(3,c.IInstantiationService),ge(4,t.IContextKeyService),ge(5,n.IMenuService)],u);class a extends C.MenuEntryActionViewItem{updateLabel(){const p=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!p)return super.updateLabel();if(this.label){const _=(0,f.h)("div.keybinding").root;this._register(new k.KeybindingLabel(_,w.OS,{disableTitle:!0,...k.unthemedKeybindingLabelOptions})).set(p),this.label.textContent=this._action.label,this.label.appendChild(_),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let v=class extends o.WorkbenchToolBar{constructor(p,_,S,E,I,T,N,A,R,M){super(p,{resetMenu:S,...E},I,T,N,A,R,M),this.editor=_,this.menuId=S,this.options2=E,this.menuService=I,this.contextKeyService=T,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var p,_,S,E,I,T,N;const A=[],R=[];(0,C.createAndFillInActionBarActions)(this.menu,(p=this.options2)===null||p===void 0?void 0:p.menuOptions,{primary:A,secondary:R},(S=(_=this.options2)===null||_===void 0?void 0:_.toolbarOptions)===null||S===void 0?void 0:S.primaryGroup,(I=(E=this.options2)===null||E===void 0?void 0:E.toolbarOptions)===null||I===void 0?void 0:I.shouldInlineSubmenu,(N=(T=this.options2)===null||T===void 0?void 0:T.toolbarOptions)===null||N===void 0?void 0:N.useSeparatorsInPrimaryActions),R.push(...this.additionalActions),A.unshift(...this.prependedPrimaryActions),this.setActions(A,R)}setAdditionalSecondaryActions(p){(0,D.equals)(this.additionalActions,p,(_,S)=>_===S)||(this.additionalActions=p,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=v,e.CustomizedMenuWorkbenchToolBar=v=ke([ge(4,n.IMenuService),ge(5,t.IContextKeyService),ge(6,s.IContextMenuService),ge(7,g.IKeybindingService),ge(8,i.ICommandService),ge(9,l.ITelemetryService)],v)}),define(ne[279],se([1,0,2,30,73,10,5,820,14,8,27,18,19,199,25,406,6,28,9]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditController=e.InlineEditWidget=void 0;class d{constructor(h,p){this.widget=h,this.edit=p}dispose(){this.widget.dispose()}}e.InlineEditWidget=d;let u=r=class extends f.Disposable{static get(h){return h.getContribution(r.ID)}constructor(h,p,_,S,E,I){super(),this.editor=h,this.instantiationService=p,this.contextKeyService=_,this.languageFeaturesService=S,this._commandService=E,this._configurationService=I,this._isVisibleContext=r.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=r.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register((0,k.disposableObservableValue)(this,void 0)),this._isAccepting=(0,k.observableValue)(this,!1),this._enabled=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const T=(0,k.observableSignalFromEvent)("InlineEditController.modelContentChangedSignal",h.onDidChangeModelContent);this._register((0,k.autorun)(P=>{this._enabled.read(P)&&(T.read(P),!this._isAccepting.read(P)&&this.getInlineEdit(h,!0))}));const N=(0,k.observableFromEvent)(h.onDidChangeCursorPosition,()=>h.getPosition());this._register((0,k.autorun)(P=>{if(!this._enabled.read(P))return;const F=N.read(P);F&&this.checkCursorPosition(F)})),this._register((0,k.autorun)(P=>{const F=this._currentEdit.read(P);if(this._isCursorAtInlineEditContext.set(!1),!F){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const O=h.getPosition();O&&this.checkCursorPosition(O)}));const A=(0,k.observableSignalFromEvent)("InlineEditController.editorBlurSignal",h.onDidBlurEditorWidget);this._register((0,k.autorun)(async P=>{var F;this._enabled.read(P)&&(A.read(P),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||h.getOption(63).keepOnBlur)&&((F=this._currentRequestCts)===null||F===void 0||F.dispose(!0),this._currentRequestCts=void 0,await this.clear(!1)))}));const R=(0,k.observableSignalFromEvent)("InlineEditController.editorFocusSignal",h.onDidFocusEditorText);this._register((0,k.autorun)(P=>{this._enabled.read(P)&&(R.read(P),this.getInlineEdit(h,!0))}));const M=this._register((0,c.createStyleSheet2)());this._register((0,k.autorun)(P=>{const F=this._fontFamily.read(P);M.setStyle(F===""||F==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${F};
}`)})),this._register(new s.InlineEditHintsWidget(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(h){var p;if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const _=(p=this._currentEdit.get())===null||p===void 0?void 0:p.edit;if(!_){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(y.Range.containsPosition(_.range,h))}validateInlineEdit(h,p){var _,S;if(p.text.includes(`
`)&&p.range.startLineNumber!==p.range.endLineNumber&&p.range.startColumn!==p.range.endColumn){if(p.range.startColumn!==1)return!1;const I=p.range.endLineNumber,T=p.range.endColumn,N=(S=(_=h.getModel())===null||_===void 0?void 0:_.getLineLength(I))!==null&&S!==void 0?S:0;if(T!==N+1)return!1}return!0}async fetchInlineEdit(h,p){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const _=h.getModel();if(!_)return;const S=_.getVersionId(),E=this.languageFeaturesService.inlineEditProvider.all(_);if(E.length===0)return;const I=E[0];this._currentRequestCts=new n.CancellationTokenSource;const T=this._currentRequestCts.token,N=p?C.InlineEditTriggerKind.Automatic:C.InlineEditTriggerKind.Invoke;if(p&&await a(50,T),T.isCancellationRequested||_.isDisposed()||_.getVersionId()!==S)return;const R=await I.provideInlineEdit(_,{triggerKind:N},T);if(R&&!(T.isCancellationRequested||_.isDisposed()||_.getVersionId()!==S)&&this.validateInlineEdit(h,R))return R}async getInlineEdit(h,p){var _;this._isCursorAtInlineEditContext.set(!1),await this.clear();const S=await this.fetchInlineEdit(h,p);if(!S)return;const E=S.range.endLineNumber,I=S.range.endColumn,T=S.text.endsWith(`
`)&&!(S.range.startLineNumber===S.range.endLineNumber&&S.range.startColumn===S.range.endColumn)?S.text.slice(0,-1):S.text,N=new i.GhostText(E,[new i.GhostTextPart(I,T,!1)]),A=this.instantiationService.createInstance(m.GhostTextWidget,this.editor,{ghostText:(0,k.constObservable)(N),minReservedLineCount:(0,k.constObservable)(0),targetTextModel:(0,k.constObservable)((_=this.editor.getModel())!==null&&_!==void 0?_:void 0),range:(0,k.constObservable)(S.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new d(A,S),void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}async accept(){var h;this._isAccepting.set(!0,void 0);const p=(h=this._currentEdit.get())===null||h===void 0?void 0:h.edit;if(!p)return;let _=p.text;p.text.startsWith(`
`)&&(_=p.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[L.EditOperation.replace(y.Range.lift(p.range),_)]),p.accepted&&await this._commandService.executeCommand(p.accepted.id,...p.accepted.arguments||[]).then(void 0,l.onUnexpectedExternalError),this.freeEdit(p),(0,k.transaction)(S=>{this._currentEdit.set(void 0,S),this._isAccepting.set(!1,S)})}jumpToCurrent(){var h,p;this._jumpBackPosition=(h=this.editor.getSelection())===null||h===void 0?void 0:h.getStartPosition();const _=(p=this._currentEdit.get())===null||p===void 0?void 0:p.edit;if(!_)return;const S=D.Position.lift({lineNumber:_.range.startLineNumber,column:_.range.startColumn});this.editor.setPosition(S),this.editor.revealPositionInCenterIfOutsideViewport(S)}async clear(h=!0){var p;const _=(p=this._currentEdit.get())===null||p===void 0?void 0:p.edit;_&&_?.rejected&&h&&await this._commandService.executeCommand(_.rejected.id,..._.rejected.arguments||[]).then(void 0,l.onUnexpectedExternalError),_&&this.freeEdit(_),this._currentEdit.set(void 0,void 0)}freeEdit(h){const p=this.editor.getModel();if(!p)return;const _=this.languageFeaturesService.inlineEditProvider.all(p);_.length!==0&&_[0].freeInlineEdit(h)}shouldShowHoverAt(h){const p=this._currentEdit.get();if(!p)return!1;const _=p.edit,S=p.widget.model;if(y.Range.containsPosition(_.range,h.getStartPosition())||y.Range.containsPosition(_.range,h.getEndPosition()))return!0;const I=S.ghostText.get();return I?I.parts.some(T=>h.containsPosition(new D.Position(I.lineNumber,T.column))):!1}shouldShowHoverAtViewZone(h){var p,_;return(_=(p=this._currentEdit.get())===null||p===void 0?void 0:p.widget.ownsViewZone(h))!==null&&_!==void 0?_:!1}};e.InlineEditController=u,u.ID="editor.contrib.inlineEditController",u.inlineEditVisibleKey="inlineEditVisible",u.inlineEditVisibleContext=new w.RawContextKey(r.inlineEditVisibleKey,!1),u.cursorAtInlineEditKey="cursorAtInlineEdit",u.cursorAtInlineEditContext=new w.RawContextKey(r.cursorAtInlineEditKey,!1),e.InlineEditController=u=r=ke([ge(1,b.IInstantiationService),ge(2,w.IContextKeyService),ge(3,o.ILanguageFeaturesService),ge(4,t.ICommandService),ge(5,g.IConfigurationService)],u);function a(v,h){return new Promise(p=>{let _;const S=setTimeout(()=>{_&&_.dispose(),p()},v);h&&(_=h.onCancellationRequested(()=>{clearTimeout(S),_&&_.dispose(),p()}))})}}),define(ne[939],se([1,0,16,21,598,279,29,14]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RejectInlineEdit=e.JumpBackInlineEdit=e.JumpToInlineEdit=e.TriggerInlineEdit=e.AcceptInlineEdit=void 0;class w extends f.EditorAction{constructor(){super({id:L.inlineEditAcceptId,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:m.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:m.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext,D.InlineEditController.cursorAtInlineEditContext)}],menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(t,s){const c=D.InlineEditController.get(s);await c?.accept()}}e.AcceptInlineEdit=w;class b extends f.EditorAction{constructor(){const t=m.ContextKeyExpr.and(k.EditorContextKeys.writable,m.ContextKeyExpr.not(D.InlineEditController.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t}})}async run(t,s){const c=D.InlineEditController.get(s);c?.trigger()}}e.TriggerInlineEdit=b;class C extends f.EditorAction{constructor(){const t=m.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext,m.ContextKeyExpr.not(D.InlineEditController.cursorAtInlineEditKey));super({id:L.inlineEditJumpToId,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:t}]})}async run(t,s){const c=D.InlineEditController.get(s);c?.jumpToCurrent()}}e.JumpToInlineEdit=C;class o extends f.EditorAction{constructor(){const t=m.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.cursorAtInlineEditContext);super({id:L.inlineEditJumpBackId,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:t,kbOpts:{weight:110,primary:2646,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:t}]})}async run(t,s){const c=D.InlineEditController.get(s);c?.jumpBack()}}e.JumpBackInlineEdit=o;class n extends f.EditorAction{constructor(){const t=m.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext);super({id:L.inlineEditRejectId,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:t,kbOpts:{weight:100,primary:9,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(t,s){const c=D.InlineEditController.get(s);await c?.clear()}}e.RejectInlineEdit=n}),define(ne[940],se([1,0,2,30,97,8,59,279,406]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditHoverParticipant=e.InlineEditHover=void 0;class b{constructor(n,i,t){this.owner=n,this.range=i,this.controller=t}isValidForHoverAnchor(n){return n.type===1&&this.range.startColumn<=n.range.startColumn&&this.range.endColumn>=n.range.endColumn}}e.InlineEditHover=b;let C=class{constructor(n,i,t){this._editor=n,this._instantiationService=i,this._telemetryService=t,this.hoverOrdinal=5}suggestHoverAnchor(n){const i=m.InlineEditController.get(this._editor);if(!i)return null;const t=n.target;if(t.type===8){const s=t.detail;if(i.shouldShowHoverAtViewZone(s.viewZoneId)){const c=t.range;return new L.HoverForeignElementAnchor(1e3,this,c,n.event.posx,n.event.posy,!1)}}return t.type===7&&i.shouldShowHoverAt(t.range)?new L.HoverForeignElementAnchor(1e3,this,t.range,n.event.posx,n.event.posy,!1):t.type===6&&t.detail.mightBeForeignElement&&i.shouldShowHoverAt(t.range)?new L.HoverForeignElementAnchor(1e3,this,t.range,n.event.posx,n.event.posy,!1):null}computeSync(n,i){if(this._editor.getOption(63).showToolbar!=="onHover")return[];const t=m.InlineEditController.get(this._editor);return t&&t.shouldShowHoverAt(n.range)?[new b(this,n.range,t)]:[]}renderHoverParts(n,i){const t=new f.DisposableStore;this._telemetryService.publicLog2("inlineEditHover.shown");const s=this._instantiationService.createInstance(w.InlineEditHintsContentWidget,this._editor,!1,(0,k.constObservable)(null));return n.fragment.appendChild(s.getDomNode()),t.add(s),t}};e.InlineEditHoverParticipant=C,e.InlineEditHoverParticipant=C=ke([ge(1,D.IInstantiationService),ge(2,y.ITelemetryService)],C)}),define(ne[941],se([1,0,16,97,939,940,279]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorAction)(L.AcceptInlineEdit),(0,f.registerEditorAction)(L.RejectInlineEdit),(0,f.registerEditorAction)(L.JumpToInlineEdit),(0,f.registerEditorAction)(L.JumpBackInlineEdit),(0,f.registerEditorAction)(L.TriggerInlineEdit),(0,f.registerEditorContribution)(y.InlineEditController.ID,y.InlineEditController,3),k.HoverParticipantRegistry.register(D.InlineEditHoverParticipant)}),define(ne[942],se([1,0,6,41,7,2,121,29,14,32,50,59,901,58]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let t=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new n.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(g,l,r,d,u,a){super(),this.telemetryService=g,this.notificationService=l,this.contextViewService=r,this.keybindingService=d,this.menuService=u,this.contextKeyService=a,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new L.Emitter),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new L.Emitter)}configure(g){this.contextMenuHandler.configure(g)}showContextMenu(g){g=s.transform(g,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...g,onHide:l=>{var r;(r=g.onHide)===null||r===void 0||r.call(g,l),this._onDidHideContextMenu.fire()}}),f.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=t,e.ContextMenuService=t=ke([ge(0,o.ITelemetryService),ge(1,C.INotificationService),ge(2,i.IContextViewService),ge(3,b.IKeybindingService),ge(4,m.IMenuService),ge(5,w.IContextKeyService)],t);var s;(function(c){function g(r){return r&&r.menuId instanceof m.MenuId}function l(r,d,u){if(!g(r))return r;const{menuId:a,menuActionOptions:v,contextKeyService:h}=r;return{...r,getActions:()=>{const p=[];if(a){const _=d.createMenu(a,h??u);(0,y.createAndFillInContextMenuActions)(_,v,p),_.dispose()}return r.getActions?k.Separator.join(r.getActions(),p):p}}}c.transform=l})(s||(e.ContextMenuMenuDelegate=s={}))}),define(ne[943],se([1,0,6,7,797,8,210,23,2,46,17,122,250,201,82,95,22,382,96,138,429,11,171,15,9,65,62]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputTree=void 0;const E=f.$;class I{constructor(z,$,J){this.index=z,this.hasCheckbox=$,this._hidden=!1,this._init=new l.Lazy(()=>{var ee;const Z=(ee=J.label)!==null&&ee!==void 0?ee:"",x=(0,r.parseLabelWithIcons)(Z).text.trim(),Y=J.ariaLabel||[Z,this.saneDescription,this.saneDetail].map(ae=>(0,r.getCodiconAriaLabel)(ae)).filter(ae=>!!ae).join(", ");return{saneLabel:Z,saneSortLabel:x,saneAriaLabel:Y}}),this._saneDescription=J.description,this._saneTooltip=J.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(z){this._element=z}get hidden(){return this._hidden}set hidden(z){this._hidden=z}get saneDescription(){return this._saneDescription}set saneDescription(z){this._saneDescription=z}get saneDetail(){return this._saneDetail}set saneDetail(z){this._saneDetail=z}get saneTooltip(){return this._saneTooltip}set saneTooltip(z){this._saneTooltip=z}get labelHighlights(){return this._labelHighlights}set labelHighlights(z){this._labelHighlights=z}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(z){this._descriptionHighlights=z}get detailHighlights(){return this._detailHighlights}set detailHighlights(z){this._detailHighlights=z}}class T extends I{constructor(z,$,J,ee,Z,x){var Y,ae,ue;super(z,$,Z),this.fireButtonTriggered=J,this._onChecked=ee,this.item=Z,this._separator=x,this._checked=!1,this.onChecked=$?k.Event.map(k.Event.filter(this._onChecked.event,he=>he.element===this),he=>he.checked):k.Event.None,this._saneDetail=Z.detail,this._labelHighlights=(Y=Z.highlights)===null||Y===void 0?void 0:Y.label,this._descriptionHighlights=(ae=Z.highlights)===null||ae===void 0?void 0:ae.description,this._detailHighlights=(ue=Z.highlights)===null||ue===void 0?void 0:ue.detail}get separator(){return this._separator}set separator(z){this._separator=z}get checked(){return this._checked}set checked(z){z!==this._checked&&(this._checked=z,this._onChecked.fire({element:this,checked:z}))}get checkboxDisabled(){return!!this.item.disabled}}var N;(function(G){G[G.NONE=0]="NONE",G[G.MOUSE_HOVER=1]="MOUSE_HOVER",G[G.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(N||(N={}));class A extends I{constructor(z,$,J){super(z,!1,J),this.fireSeparatorButtonTriggered=$,this.separator=J,this.children=new Array,this.focusInsideSeparator=N.NONE}}class R{getHeight(z){return z instanceof A?30:z.saneDetail?44:22}getTemplateId(z){return z instanceof T?F.ID:O.ID}}class M{getWidgetAriaLabel(){return(0,L.localize)(0,null)}getAriaLabel(z){var $;return!(($=z.separator)===null||$===void 0)&&$.label?`${z.saneAriaLabel}, ${z.separator.label}`:z.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(z){return z.hasCheckbox?"checkbox":"option"}isChecked(z){if(!(!z.hasCheckbox||!(z instanceof T)))return{get value(){return z.checked},onDidChange:$=>z.onChecked(()=>$())}}}class P{constructor(z){this.hoverDelegate=z}renderTemplate(z){const $=Object.create(null);$.toDisposeElement=new w.DisposableStore,$.toDisposeTemplate=new w.DisposableStore,$.entry=f.append(z,E(".quick-input-list-entry"));const J=f.append($.entry,E("label.quick-input-list-label"));$.toDisposeTemplate.add(f.addStandardDisposableListener(J,f.EventType.CLICK,ue=>{$.checkbox.offsetParent||ue.preventDefault()})),$.checkbox=f.append(J,E("input.quick-input-list-checkbox")),$.checkbox.type="checkbox";const ee=f.append(J,E(".quick-input-list-rows")),Z=f.append(ee,E(".quick-input-list-row")),x=f.append(ee,E(".quick-input-list-row"));$.label=new n.IconLabel(Z,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),$.toDisposeTemplate.add($.label),$.icon=f.prepend($.label.element,E(".quick-input-list-icon"));const Y=f.append(Z,E(".quick-input-list-entry-keybinding"));$.keybinding=new i.KeybindingLabel(Y,C.OS),$.toDisposeTemplate.add($.keybinding);const ae=f.append(x,E(".quick-input-list-label-meta"));return $.detail=new n.IconLabel(ae,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),$.toDisposeTemplate.add($.detail),$.separator=f.append($.entry,E(".quick-input-list-separator")),$.actionBar=new t.ActionBar($.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),$.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),$.toDisposeTemplate.add($.actionBar),$}disposeTemplate(z){z.toDisposeElement.dispose(),z.toDisposeTemplate.dispose()}disposeElement(z,$,J){J.toDisposeElement.clear(),J.actionBar.clear()}}let F=S=class extends P{constructor(z,$){super(z),this.themeService=$,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return S.ID}renderTemplate(z){const $=super.renderTemplate(z);return $.toDisposeTemplate.add(f.addStandardDisposableListener($.checkbox,f.EventType.CHANGE,J=>{$.element.checked=$.checkbox.checked})),$}renderElement(z,$,J){var ee,Z,x;const Y=z.element;J.element=Y,Y.element=(ee=J.entry)!==null&&ee!==void 0?ee:void 0;const ae=Y.item;J.checkbox.checked=Y.checked,J.toDisposeElement.add(Y.onChecked(re=>J.checkbox.checked=re)),J.checkbox.disabled=Y.checkboxDisabled;const{labelHighlights:ue,descriptionHighlights:he,detailHighlights:pe}=Y;if(ae.iconPath){const re=(0,s.isDark)(this.themeService.getColorTheme().type)?ae.iconPath.dark:(Z=ae.iconPath.light)!==null&&Z!==void 0?Z:ae.iconPath.dark,W=c.URI.revive(re);J.icon.className="quick-input-list-icon",J.icon.style.backgroundImage=f.asCSSUrl(W)}else J.icon.style.backgroundImage="",J.icon.className=ae.iconClass?`quick-input-list-icon ${ae.iconClass}`:"";let ce;!Y.saneTooltip&&Y.saneDescription&&(ce={markdown:{value:Y.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:Y.saneDescription});const ie={matches:ue||[],descriptionTitle:ce,descriptionMatches:he||[],labelEscapeNewLines:!0};if(ie.extraClasses=ae.iconClasses,ie.italic=ae.italic,ie.strikethrough=ae.strikethrough,J.entry.classList.remove("quick-input-list-separator-as-item"),J.label.setLabel(Y.saneLabel,Y.saneDescription,ie),J.keybinding.set(ae.keybinding),Y.saneDetail){let re;Y.saneTooltip||(re={markdown:{value:Y.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:Y.saneDetail}),J.detail.element.style.display="",J.detail.setLabel(Y.saneDetail,void 0,{matches:pe,title:re,labelEscapeNewLines:!0})}else J.detail.element.style.display="none";!((x=Y.separator)===null||x===void 0)&&x.label?(J.separator.textContent=Y.separator.label,J.separator.style.display="",this.addItemWithSeparator(Y)):J.separator.style.display="none",J.entry.classList.toggle("quick-input-list-separator-border",!!Y.separator);const oe=ae.buttons;oe&&oe.length?(J.actionBar.push(oe.map((re,W)=>(0,g.quickInputButtonToAction)(re,`id-${W}`,()=>Y.fireButtonTriggered({button:re,item:Y.item}))),{icon:!0,label:!1}),J.entry.classList.add("has-actions")):J.entry.classList.remove("has-actions")}disposeElement(z,$,J){this.removeItemWithSeparator(z.element),super.disposeElement(z,$,J)}isItemWithSeparatorVisible(z){return this._itemsWithSeparatorsFrequency.has(z)}addItemWithSeparator(z){this._itemsWithSeparatorsFrequency.set(z,(this._itemsWithSeparatorsFrequency.get(z)||0)+1)}removeItemWithSeparator(z){const $=this._itemsWithSeparatorsFrequency.get(z)||0;$>1?this._itemsWithSeparatorsFrequency.set(z,$-1):this._itemsWithSeparatorsFrequency.delete(z)}};F.ID="quickpickitem",F=S=ke([ge(1,m.IThemeService)],F);class O extends P{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return O.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(z){return this._visibleSeparatorsFrequency.has(z)}renderElement(z,$,J){var ee;const Z=z.element;J.element=Z,Z.element=(ee=J.entry)!==null&&ee!==void 0?ee:void 0,Z.element.classList.toggle("focus-inside",!!Z.focusInsideSeparator);const x=Z.separator,{labelHighlights:Y,descriptionHighlights:ae,detailHighlights:ue}=Z;J.icon.style.backgroundImage="",J.icon.className="";let he;!Z.saneTooltip&&Z.saneDescription&&(he={markdown:{value:Z.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:Z.saneDescription});const pe={matches:Y||[],descriptionTitle:he,descriptionMatches:ae||[],labelEscapeNewLines:!0};if(J.entry.classList.add("quick-input-list-separator-as-item"),J.label.setLabel(Z.saneLabel,Z.saneDescription,pe),Z.saneDetail){let ie;Z.saneTooltip||(ie={markdown:{value:Z.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:Z.saneDetail}),J.detail.element.style.display="",J.detail.setLabel(Z.saneDetail,void 0,{matches:ue,title:ie,labelEscapeNewLines:!0})}else J.detail.element.style.display="none";J.separator.style.display="none",J.entry.classList.add("quick-input-list-separator-border");const ce=x.buttons;ce&&ce.length?(J.actionBar.push(ce.map((ie,oe)=>(0,g.quickInputButtonToAction)(ie,`id-${oe}`,()=>Z.fireSeparatorButtonTriggered({button:ie,separator:Z.separator}))),{icon:!0,label:!1}),J.entry.classList.add("has-actions")):J.entry.classList.remove("has-actions"),this.addSeparator(Z)}disposeElement(z,$,J){var ee;this.removeSeparator(z.element),this.isSeparatorVisible(z.element)||(ee=z.element.element)===null||ee===void 0||ee.classList.remove("focus-inside"),super.disposeElement(z,$,J)}addSeparator(z){this._visibleSeparatorsFrequency.set(z,(this._visibleSeparatorsFrequency.get(z)||0)+1)}removeSeparator(z){const $=this._visibleSeparatorsFrequency.get(z)||0;$>1?this._visibleSeparatorsFrequency.set(z,$-1):this._visibleSeparatorsFrequency.delete(z)}}O.ID="quickpickseparator";let B=class extends w.Disposable{constructor(z,$,J,ee,Z,x){super(),this.parent=z,this.hoverDelegate=$,this.linkOpenerDelegate=J,this.accessibilityService=x,this._onKeyDown=new k.Emitter,this._onLeave=new k.Emitter,this.onLeave=this._onLeave.event,this._onChangedAllVisibleChecked=new k.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new k.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new k.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new k.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new k.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new k.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new k.Emitter,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new w.DisposableStore),this._shouldFireCheckedEvents=!0,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=f.append(this.parent,E(".quick-input-list")),this._separatorRenderer=new O($),this._itemRenderer=Z.createInstance(F,$),this._tree=this._register(Z.createInstance(y.WorkbenchObjectTree,"QuickInput",this._container,new R,[this._itemRenderer,this._separatorRenderer],{accessibilityProvider:new M,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:a.RenderIndentGuides.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=ee,this._registerListeners()}get onDidChangeFocus(){return k.Event.map(this._tree.onDidChangeFocus,z=>z.elements.filter($=>$ instanceof T).map($=>$.item))}get onDidChangeSelection(){return k.Event.map(this._tree.onDidChangeSelection,z=>({items:z.elements.filter($=>$ instanceof T).map($=>$.item),event:z.browserEvent}))}get scrollTop(){return this._tree.scrollTop}set scrollTop(z){this._tree.scrollTop=z}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(z){this._tree.ariaLabel=z??""}set enabled(z){this._tree.getHTMLElement().style.pointerEvents=z?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(z){this._matchOnDescription=z}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(z){this._matchOnDetail=z}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(z){this._matchOnLabel=z}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(z){this._matchOnLabelMode=z}get sortByLabel(){return this._sortByLabel}set sortByLabel(z){this._sortByLabel=z}get shouldLoop(){return this._shouldLoop}set shouldLoop(z){this._shouldLoop=z}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(z=>{const $=new b.StandardKeyboardEvent(z);switch($.keyCode){case 10:this.toggleCheckbox();break}this._onKeyDown.fire($)}))}_registerOnContainerClick(){this._register(f.addDisposableListener(this._container,f.EventType.CLICK,z=>{(z.x||z.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(f.addDisposableListener(this._container,f.EventType.AUXCLICK,z=>{z.button===1&&this._onLeave.fire()}))}_registerOnElementChecked(){this._register(this._elementChecked.event(z=>this._fireCheckedEvents()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(z=>{z.element&&(z.browserEvent.preventDefault(),this._tree.setSelection([z.element]))}))}_registerHoverListeners(){const z=this._register(new v.ThrottledDelayer(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async $=>{var J;if(f.isHTMLAnchorElement($.browserEvent.target)){z.cancel();return}if(!(!f.isHTMLAnchorElement($.browserEvent.relatedTarget)&&f.isAncestor($.browserEvent.relatedTarget,(J=$.element)===null||J===void 0?void 0:J.element)))try{await z.trigger(async()=>{$.element instanceof T&&this.showHover($.element)})}catch(ee){if(!(0,h.isCancellationError)(ee))throw ee}})),this._register(this._tree.onMouseOut($=>{var J;f.isAncestor($.browserEvent.relatedTarget,(J=$.element)===null||J===void 0?void 0:J.element)||z.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(z=>{const $=z.elements[0]?this._tree.getParentElement(z.elements[0]):null;for(const J of this._separatorRenderer.visibleSeparators){const ee=J===$;!!(J.focusInsideSeparator&N.ACTIVE_ITEM)!==ee&&(ee?J.focusInsideSeparator|=N.ACTIVE_ITEM:J.focusInsideSeparator&=~N.ACTIVE_ITEM,this._tree.rerender(J))}})),this._register(this._tree.onMouseOver(z=>{const $=z.element?this._tree.getParentElement(z.element):null;for(const J of this._separatorRenderer.visibleSeparators){if(J!==$)continue;!!(J.focusInsideSeparator&N.MOUSE_HOVER)||(J.focusInsideSeparator|=N.MOUSE_HOVER,this._tree.rerender(J))}})),this._register(this._tree.onMouseOut(z=>{const $=z.element?this._tree.getParentElement(z.element):null;for(const J of this._separatorRenderer.visibleSeparators){if(J!==$)continue;!!(J.focusInsideSeparator&N.MOUSE_HOVER)&&(J.focusInsideSeparator&=~N.MOUSE_HOVER,this._tree.rerender(J))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(z=>{const $=z.elements.filter(J=>J instanceof T);$.length!==z.elements.length&&(z.elements.length===1&&z.elements[0]instanceof A&&(this._tree.setFocus([z.elements[0].children[0]]),this._tree.reveal(z.elements[0],0)),this._tree.setSelection($))}))}getAllVisibleChecked(){return this._allVisibleChecked(this._itemElements,!1)}getCheckedCount(){return this._itemElements.filter(z=>z.checked).length}getVisibleCount(){return this._itemElements.filter(z=>!z.hidden).length}setAllVisibleChecked(z){try{this._shouldFireCheckedEvents=!1,this._itemElements.forEach($=>{!$.hidden&&!$.checkboxDisabled&&($.checked=z)})}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}setElements(z){this._elementDisposable.clear(),this._inputElements=z;const $=this.parent.classList.contains("show-checkboxes");let J;this._itemElements=new Array,this._elementTree=z.reduce((x,Y,ae)=>{let ue;if(Y.type==="separator"){if(!Y.buttons)return x;J=new A(ae,he=>this.fireSeparatorButtonTriggered(he),Y),ue=J}else{const he=ae>0?z[ae-1]:void 0;let pe;he&&he.type==="separator"&&!he.buttons&&(J=void 0,pe=he);const ce=new T(ae,$,ie=>this.fireButtonTriggered(ie),this._elementChecked,Y,pe);if(this._itemElements.push(ce),J)return J.children.push(ce),x;ue=ce}return x.push(ue),x},new Array);const ee=new Array;let Z=0;for(const x of this._elementTree)x instanceof A?(ee.push({element:x,collapsible:!1,collapsed:!1,children:x.children.map(Y=>({element:Y,collapsible:!1,collapsed:!1}))}),Z+=x.children.length+1):(ee.push({element:x,collapsible:!1,collapsed:!1}),Z++);this._tree.setChildren(null,ee),this._onChangedVisibleCount.fire(Z),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{const x=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),Y=x?.parentNode;if(x&&Y){const ae=x.nextSibling;Y.removeChild(x),Y.insertBefore(x,ae)}},0)}setFocusedElements(z){const $=z.map(J=>this._itemElements.find(ee=>ee.item===J)).filter(J=>!!J);if(this._tree.setFocus($),z.length>0){const J=this._tree.getFocus()[0];J&&this._tree.reveal(J)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(z){const $=z.map(J=>this._itemElements.find(ee=>ee.item===J)).filter(J=>!!J);this._tree.setSelection($)}getCheckedElements(){return this._itemElements.filter(z=>z.checked).map(z=>z.item)}setCheckedElements(z){try{this._shouldFireCheckedEvents=!1;const $=new Set;for(const J of z)$.add(J);for(const J of this._itemElements)J.checked=$.has(J.item)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}focus(z){var $;if(this._itemElements.length)switch(z===p.QuickPickFocus.Second&&this._itemElements.length<2&&(z=p.QuickPickFocus.First),z){case p.QuickPickFocus.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,J=>J.element instanceof T);break;case p.QuickPickFocus.Second:this._tree.scrollTop=0,this._tree.setFocus([this._itemElements[1]]);break;case p.QuickPickFocus.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]);break;case p.QuickPickFocus.Next:{const J=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,Z=>Z.element instanceof T?(this._tree.reveal(Z.element),!0):!1);const ee=this._tree.getFocus();J.length&&J[0]===ee[0]&&J[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case p.QuickPickFocus.Previous:{const J=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,Z=>{if(!(Z.element instanceof T))return!1;const x=this._tree.getParentElement(Z.element);return x===null||x.children[0]!==Z.element?this._tree.reveal(Z.element):this._tree.reveal(x),!0});const ee=this._tree.getFocus();J.length&&J[0]===ee[0]&&J[0]===this._itemElements[0]&&this._onLeave.fire();break}case p.QuickPickFocus.NextPage:this._tree.focusNextPage(void 0,J=>J.element instanceof T?(this._tree.reveal(J.element),!0):!1);break;case p.QuickPickFocus.PreviousPage:this._tree.focusPreviousPage(void 0,J=>{if(!(J.element instanceof T))return!1;const ee=this._tree.getParentElement(J.element);return ee===null||ee.children[0]!==J.element?this._tree.reveal(J.element):this._tree.reveal(ee),!0});break;case p.QuickPickFocus.NextSeparator:{let J=!1;const ee=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,x=>{if(J)return!0;if(x.element instanceof A)J=!0,this._separatorRenderer.isSeparatorVisible(x.element)?this._tree.reveal(x.element.children[0]):this._tree.reveal(x.element,0);else if(x.element instanceof T){if(x.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(x.element)?this._tree.reveal(x.element):this._tree.reveal(x.element,0),!0;if(x.element===this._elementTree[0])return this._tree.reveal(x.element,0),!0}return!1});const Z=this._tree.getFocus()[0];ee===Z&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]));break}case p.QuickPickFocus.PreviousSeparator:{let J,ee=!!(!(($=this._tree.getFocus()[0])===null||$===void 0)&&$.separator);this._tree.focusPrevious(void 0,!0,void 0,Z=>{if(Z.element instanceof A)ee?J||(this._separatorRenderer.isSeparatorVisible(Z.element)?this._tree.reveal(Z.element):this._tree.reveal(Z.element,0),J=Z.element.children[0]):ee=!0;else if(Z.element instanceof T&&!J){if(Z.element.separator)this._itemRenderer.isItemWithSeparatorVisible(Z.element)?this._tree.reveal(Z.element):this._tree.reveal(Z.element,0),J=Z.element;else if(Z.element===this._elementTree[0])return this._tree.reveal(Z.element,0),!0}return!1}),J&&this._tree.setFocus([J]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(z){this._tree.getHTMLElement().style.maxHeight=z?`${Math.floor(z/44)*44+6}px`:"",this._tree.layout()}filter(z){if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const $=z;if(z=z.trim(),!z||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(Y=>{Y.labelHighlights=void 0,Y.descriptionHighlights=void 0,Y.detailHighlights=void 0,Y.hidden=!1;const ae=Y.index&&this._inputElements[Y.index-1];Y.item&&(Y.separator=ae&&ae.type==="separator"&&!ae.buttons?ae:void 0)});else{let Y;this._elementTree.forEach(ae=>{var ue,he,pe,ce;let ie;this.matchOnLabelMode==="fuzzy"?ie=this.matchOnLabel&&(ue=(0,r.matchesFuzzyIconAware)(z,(0,r.parseLabelWithIcons)(ae.saneLabel)))!==null&&ue!==void 0?ue:void 0:ie=this.matchOnLabel&&(he=V($,(0,r.parseLabelWithIcons)(ae.saneLabel)))!==null&&he!==void 0?he:void 0;const oe=this.matchOnDescription&&(pe=(0,r.matchesFuzzyIconAware)(z,(0,r.parseLabelWithIcons)(ae.saneDescription||"")))!==null&&pe!==void 0?pe:void 0,re=this.matchOnDetail&&(ce=(0,r.matchesFuzzyIconAware)(z,(0,r.parseLabelWithIcons)(ae.saneDetail||"")))!==null&&ce!==void 0?ce:void 0;if(ie||oe||re?(ae.labelHighlights=ie,ae.descriptionHighlights=oe,ae.detailHighlights=re,ae.hidden=!1):(ae.labelHighlights=void 0,ae.descriptionHighlights=void 0,ae.detailHighlights=void 0,ae.hidden=ae.item?!ae.item.alwaysShow:!0),ae.item?ae.separator=void 0:ae.separator&&(ae.hidden=!0),!this.sortByLabel){const W=ae.index&&this._inputElements[ae.index-1];Y=W&&W.type==="separator"?W:Y,Y&&!ae.hidden&&(ae.separator=Y,Y=void 0)}})}const J=this._elementTree.filter(Y=>!Y.hidden);if(this.sortByLabel&&z){const Y=z.toLowerCase();J.sort((ae,ue)=>U(ae,ue,Y))}let ee;const Z=J.reduce((Y,ae,ue)=>(ae instanceof T?ee?ee.children.push(ae):Y.push(ae):ae instanceof A&&(ae.children=[],ee=ae,Y.push(ae)),Y),new Array),x=new Array;for(const Y of Z)Y instanceof A?x.push({element:Y,collapsible:!1,collapsed:!1,children:Y.children.map(ae=>({element:ae,collapsible:!1,collapsed:!1}))}):x.push({element:Y,collapsible:!1,collapsed:!1});return this._tree.setChildren(null,x),this._tree.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(J.length),!0}toggleCheckbox(){try{this._shouldFireCheckedEvents=!1;const z=this._tree.getFocus().filter(J=>J instanceof T),$=this._allVisibleChecked(z);for(const J of z)J.checkboxDisabled||(J.checked=!$)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}display(z){this._container.style.display=z?"":"none"}isDisplayed(){return this._container.style.display!=="none"}style(z){this._tree.style(z)}toggleHover(){const z=this._tree.getFocus()[0];if(!z?.saneTooltip||!(z instanceof T))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(z);const $=new w.DisposableStore;$.add(this._tree.onDidChangeFocus(J=>{J.elements[0]instanceof T&&this.showHover(J.elements[0])})),this._lastHover&&$.add(this._lastHover),this._elementDisposable.add($)}_allVisibleChecked(z,$=!0){for(let J=0,ee=z.length;J<ee;J++){const Z=z[J];if(!Z.hidden)if(Z.checked)$=!0;else return!1}return $}_fireCheckedEvents(){this._shouldFireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(z){this._onButtonTriggered.fire(z)}fireSeparatorButtonTriggered(z){this._onSeparatorButtonTriggered.fire(z)}showHover(z){var $,J,ee;this._lastHover&&!this._lastHover.isDisposed&&((J=($=this.hoverDelegate).onDidHideHover)===null||J===void 0||J.call($),(ee=this._lastHover)===null||ee===void 0||ee.dispose()),!(!z.element||!z.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:z.saneTooltip,target:z.element,linkHandler:Z=>{this.linkOpenerDelegate(Z)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};e.QuickInputTree=B,ke([o.memoize],B.prototype,"onDidChangeFocus",null),ke([o.memoize],B.prototype,"onDidChangeSelection",null),e.QuickInputTree=B=ke([ge(4,D.IInstantiationService),ge(5,_.IAccessibilityService)],B);function V(G,z){const{text:$,iconOffsets:J}=z;if(!J||J.length===0)return K(G,$);const ee=(0,u.ltrim)($," "),Z=$.length-ee.length,x=K(G,ee);if(x)for(const Y of x){const ae=J[Y.start+Z]+Z;Y.start+=ae,Y.end+=ae}return x}function K(G,z){const $=z.toLowerCase().indexOf(G.toLowerCase());return $!==-1?[{start:$,end:$+G.length}]:null}function U(G,z,$){const J=G.labelHighlights||[],ee=z.labelHighlights||[];return J.length&&!ee.length?-1:!J.length&&ee.length?1:J.length===0&&ee.length===0?0:(0,d.compareAnything)(G.saneSortLabel,z.saneSortLabel,$)}}),define(ne[944],se([1,0,6,82,254,344,627,19,7,2,107,796,65,844,266,116,52,8,943,14,858]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const u=f.$;let a=d=class extends b.Disposable{get currentQuickInput(){var h;return(h=this.controller)!==null&&h!==void 0?h:void 0}get container(){return this._container}constructor(h,p,_,S){super(),this.options=h,this.layoutService=p,this.instantiationService=_,this.contextKeyService=S,this.enabled=!0,this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new w.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new w.Emitter),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=t.InQuickInputContextKey.bindTo(this.contextKeyService),this.quickInputTypeContext=t.QuickInputTypeContextKey.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=t.EndOfQuickInputBoxContextKey.bindTo(this.contextKeyService),this.idPrefix=h.idPrefix,this._container=h.container,this.styles=h.styles,this._register(w.Event.runAndSubscribe(f.onDidRegisterWindow,({window:E,disposables:I})=>this.registerKeyModsListeners(E,I),{window:c.mainWindow,disposables:this._store})),this._register(f.onWillUnregisterWindow(E=>{this.ui&&f.getWindow(this.ui.container)===E&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(h,p){const _=S=>{this.keyMods.ctrlCmd=S.ctrlKey||S.metaKey,this.keyMods.alt=S.altKey};for(const S of[f.EventType.KEY_DOWN,f.EventType.KEY_UP,f.EventType.MOUSE_DOWN])p.add(f.addDisposableListener(h,S,_,!0))}getUI(h){if(this.ui)return h&&f.getWindow(this._container)!==f.getWindow(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const p=f.append(this._container,u(".quick-input-widget.show-file-icons"));p.tabIndex=-1,p.style.display="none";const _=f.createStyleSheet(p),S=f.append(p,u(".quick-input-titlebar")),E=this._register(new k.ActionBar(S,{hoverDelegate:this.options.hoverDelegate}));E.domNode.classList.add("quick-input-left-action-bar");const I=f.append(S,u(".quick-input-title")),T=this._register(new k.ActionBar(S,{hoverDelegate:this.options.hoverDelegate}));T.domNode.classList.add("quick-input-right-action-bar");const N=f.append(p,u(".quick-input-header")),A=f.append(N,u("input.quick-input-check-all"));A.type="checkbox",A.setAttribute("aria-label",(0,o.localize)(0,null)),this._register(f.addStandardDisposableListener(A,f.EventType.CHANGE,he=>{const pe=A.checked;ae.setAllVisibleChecked(pe)})),this._register(f.addDisposableListener(A,f.EventType.CLICK,he=>{(he.x||he.y)&&F.setFocus()}));const R=f.append(N,u(".quick-input-description")),M=f.append(N,u(".quick-input-and-message")),P=f.append(M,u(".quick-input-filter")),F=this._register(new i.QuickInputBox(P,this.styles.inputBox,this.styles.toggle));F.setAttribute("aria-describedby",`${this.idPrefix}message`);const O=f.append(P,u(".quick-input-visible-count"));O.setAttribute("aria-live","polite"),O.setAttribute("aria-atomic","true");const B=new D.CountBadge(O,{countFormat:(0,o.localize)(1,null)},this.styles.countBadge),V=f.append(P,u(".quick-input-count"));V.setAttribute("aria-live","polite");const K=new D.CountBadge(V,{countFormat:(0,o.localize)(2,null)},this.styles.countBadge),U=f.append(N,u(".quick-input-action")),G=this._register(new L.Button(U,this.styles.button));G.label=(0,o.localize)(3,null),this._register(G.onDidClick(he=>{this.onDidAcceptEmitter.fire()}));const z=f.append(N,u(".quick-input-action")),$=this._register(new L.Button(z,{...this.styles.button,supportIcons:!0}));$.label=(0,o.localize)(4,null),this._register($.onDidClick(he=>{this.onDidCustomEmitter.fire()}));const J=f.append(M,u(`#${this.idPrefix}message.quick-input-message`)),ee=this._register(new y.ProgressBar(p,this.styles.progressBar));ee.getContainer().classList.add("quick-input-progress");const Z=f.append(p,u(".quick-input-html-widget"));Z.tabIndex=-1;const x=f.append(p,u(".quick-input-description")),Y=this.idPrefix+"list",ae=this._register(this.instantiationService.createInstance(l.QuickInputTree,p,this.options.hoverDelegate,this.options.linkOpenerDelegate,Y));F.setAttribute("aria-controls",Y),this._register(ae.onDidChangeFocus(()=>{var he;F.setAttribute("aria-activedescendant",(he=ae.getActiveDescendant())!==null&&he!==void 0?he:"")})),this._register(ae.onChangedAllVisibleChecked(he=>{A.checked=he})),this._register(ae.onChangedVisibleCount(he=>{B.setCount(he)})),this._register(ae.onChangedCheckedCount(he=>{K.setCount(he)})),this._register(ae.onLeave(()=>{setTimeout(()=>{this.controller&&(F.setFocus(),this.controller instanceof t.QuickPick&&this.controller.canSelectMany&&ae.clearFocus())},0)}));const ue=f.trackFocus(p);return this._register(ue),this._register(f.addDisposableListener(p,f.EventType.FOCUS,he=>{const pe=this.getUI();if(f.isAncestor(he.relatedTarget,pe.inputContainer)){const ce=pe.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==ce&&this.endOfQuickInputBoxContext.set(ce)}f.isAncestor(he.relatedTarget,pe.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=f.isHTMLElement(he.relatedTarget)?he.relatedTarget:void 0)},!0)),this._register(ue.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(n.QuickInputHideReason.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(F.onKeyDown(he=>{const pe=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==pe&&this.endOfQuickInputBoxContext.set(pe)})),this._register(f.addDisposableListener(p,f.EventType.FOCUS,he=>{F.setFocus()})),this._register(f.addStandardDisposableListener(p,f.EventType.KEY_DOWN,he=>{if(!f.isAncestor(he.target,Z))switch(he.keyCode){case 3:f.EventHelper.stop(he,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:f.EventHelper.stop(he,!0),this.hide(n.QuickInputHideReason.Gesture);break;case 2:if(!he.altKey&&!he.ctrlKey&&!he.metaKey){const pe=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(p.classList.contains("show-checkboxes")?pe.push("input"):pe.push("input[type=text]"),this.getUI().list.isDisplayed()&&pe.push(".monaco-list"),this.getUI().message&&pe.push(".quick-input-message a"),this.getUI().widget){if(f.isAncestor(he.target,this.getUI().widget))break;pe.push(".quick-input-html-widget")}const ce=p.querySelectorAll(pe.join(", "));he.shiftKey&&he.target===ce[0]?(f.EventHelper.stop(he,!0),ae.clearFocus()):!he.shiftKey&&f.isAncestor(he.target,ce[ce.length-1])&&(f.EventHelper.stop(he,!0),ce[0].focus())}break;case 10:he.ctrlKey&&(f.EventHelper.stop(he,!0),this.getUI().list.toggleHover());break}})),this.ui={container:p,styleSheet:_,leftActionBar:E,titleBar:S,title:I,description1:x,description2:R,widget:Z,rightActionBar:T,checkAll:A,inputContainer:M,filterContainer:P,inputBox:F,visibleCountContainer:O,visibleCount:B,countContainer:V,count:K,okContainer:U,ok:G,message:J,customButtonContainer:z,customButton:$,list:ae,progressBar:ee,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:he=>this.show(he),hide:()=>this.hide(),setVisibilities:he=>this.setVisibilities(he),setEnabled:he=>this.setEnabled(he),setContextKey:he=>this.options.setContextKey(he),linkOpenerDelegate:he=>this.options.linkOpenerDelegate(he)},this.updateStyles(),this.ui}reparentUI(h){this.ui&&(this._container=h,f.append(this._container,this.ui.container))}pick(h,p={},_=m.CancellationToken.None){return new Promise((S,E)=>{let I=R=>{var M;I=S,(M=p.onKeyMods)===null||M===void 0||M.call(p,T.keyMods),S(R)};if(_.isCancellationRequested){I(void 0);return}const T=this.createQuickPick();let N;const A=[T,T.onDidAccept(()=>{if(T.canSelectMany)I(T.selectedItems.slice()),T.hide();else{const R=T.activeItems[0];R&&(I(R),T.hide())}}),T.onDidChangeActive(R=>{const M=R[0];M&&p.onDidFocus&&p.onDidFocus(M)}),T.onDidChangeSelection(R=>{if(!T.canSelectMany){const M=R[0];M&&(I(M),T.hide())}}),T.onDidTriggerItemButton(R=>p.onDidTriggerItemButton&&p.onDidTriggerItemButton({...R,removeItem:()=>{const M=T.items.indexOf(R.item);if(M!==-1){const P=T.items.slice(),F=P.splice(M,1),O=T.activeItems.filter(V=>V!==F[0]),B=T.keepScrollPosition;T.keepScrollPosition=!0,T.items=P,O&&(T.activeItems=O),T.keepScrollPosition=B}}})),T.onDidTriggerSeparatorButton(R=>{var M;return(M=p.onDidTriggerSeparatorButton)===null||M===void 0?void 0:M.call(p,R)}),T.onDidChangeValue(R=>{N&&!R&&(T.activeItems.length!==1||T.activeItems[0]!==N)&&(T.activeItems=[N])}),_.onCancellationRequested(()=>{T.hide()}),T.onDidHide(()=>{(0,b.dispose)(A),I(void 0)})];T.title=p.title,T.canSelectMany=!!p.canPickMany,T.placeholder=p.placeHolder,T.ignoreFocusOut=!!p.ignoreFocusLost,T.matchOnDescription=!!p.matchOnDescription,T.matchOnDetail=!!p.matchOnDetail,T.matchOnLabel=p.matchOnLabel===void 0||p.matchOnLabel,T.quickNavigate=p.quickNavigate,T.hideInput=!!p.hideInput,T.contextKey=p.contextKey,T.busy=!0,Promise.all([h,p.activeItem]).then(([R,M])=>{N=M,T.busy=!1,T.items=R,T.canSelectMany&&(T.selectedItems=R.filter(P=>P.type!=="separator"&&P.picked)),N&&(T.activeItems=[N])}),T.show(),Promise.resolve(h).then(void 0,R=>{E(R),T.hide()})})}createQuickPick(){const h=this.getUI(!0);return new t.QuickPick(h)}createInputBox(){const h=this.getUI(!0);return new t.InputBox(h)}show(h){const p=this.getUI(!0);this.onShowEmitter.fire();const _=this.controller;this.controller=h,_?.didHide(),this.setEnabled(!0),p.leftActionBar.clear(),p.title.textContent="",p.description1.textContent="",p.description2.textContent="",f.reset(p.widget),p.rightActionBar.clear(),p.checkAll.checked=!1,p.inputBox.placeholder="",p.inputBox.password=!1,p.inputBox.showDecoration(C.default.Ignore),p.visibleCount.setCount(0),p.count.setCount(0),f.reset(p.message),p.progressBar.stop(),p.list.setElements([]),p.list.matchOnDescription=!1,p.list.matchOnDetail=!1,p.list.matchOnLabel=!0,p.list.sortByLabel=!0,p.ignoreFocusOut=!1,p.inputBox.toggles=void 0;const S=this.options.backKeybindingLabel();t.backButton.tooltip=S?(0,o.localize)(5,null,S):(0,o.localize)(6,null),p.container.style.display="",this.updateLayout(),p.inputBox.setFocus(),this.quickInputTypeContext.set(h.type)}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(h){const p=this.getUI();p.title.style.display=h.title?"":"none",p.description1.style.display=h.description&&(h.inputBox||h.checkAll)?"":"none",p.description2.style.display=h.description&&!(h.inputBox||h.checkAll)?"":"none",p.checkAll.style.display=h.checkAll?"":"none",p.inputContainer.style.display=h.inputBox?"":"none",p.filterContainer.style.display=h.inputBox?"":"none",p.visibleCountContainer.style.display=h.visibleCount?"":"none",p.countContainer.style.display=h.count?"":"none",p.okContainer.style.display=h.ok?"":"none",p.customButtonContainer.style.display=h.customButton?"":"none",p.message.style.display=h.message?"":"none",p.progressBar.getContainer().style.display=h.progressBar?"":"none",p.list.display(!!h.list),p.container.classList.toggle("show-checkboxes",!!h.checkBox),p.container.classList.toggle("hidden-input",!h.inputBox&&!h.description),this.updateLayout()}setEnabled(h){if(h!==this.enabled){this.enabled=h;for(const p of this.getUI().leftActionBar.viewItems)p.action.enabled=h;for(const p of this.getUI().rightActionBar.viewItems)p.action.enabled=h;this.getUI().checkAll.disabled=!h,this.getUI().inputBox.enabled=h,this.getUI().ok.enabled=h,this.getUI().list.enabled=h}}hide(h){var p,_;const S=this.controller;if(!S)return;S.willHide(h);const E=(p=this.ui)===null||p===void 0?void 0:p.container,I=E&&!f.isAncestorOfActiveElement(E);if(this.controller=null,this.onHideEmitter.fire(),E&&(E.style.display="none"),!I){let T=this.previousFocusElement;for(;T&&!T.offsetParent;)T=(_=T.parentElement)!==null&&_!==void 0?_:void 0;T?.offsetParent?(T.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}S.didHide(h)}layout(h,p){this.dimension=h,this.titleBarOffset=p,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const h=this.ui.container.style,p=Math.min(this.dimension.width*.62,d.MAX_WIDTH);h.width=p+"px",h.marginLeft="-"+p/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(h){this.styles=h,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:h,quickInputBackground:p,quickInputForeground:_,widgetBorder:S,widgetShadow:E}=this.styles.widget;this.ui.titleBar.style.backgroundColor=h??"",this.ui.container.style.backgroundColor=p??"",this.ui.container.style.color=_??"",this.ui.container.style.border=S?`1px solid ${S}`:"",this.ui.container.style.boxShadow=E?`0 0 8px 2px ${E}`:"",this.ui.list.style(this.styles.list);const I=[];this.styles.pickerGroup.pickerGroupBorder&&I.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&I.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&I.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(I.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&I.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&I.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&I.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&I.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&I.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),I.push("}"));const T=I.join(`
`);T!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=T)}}};e.QuickInputController=a,a.MAX_WIDTH=600,e.QuickInputController=a=d=ke([ge(1,s.ILayoutService),ge(2,g.IInstantiationService),ge(3,r.IContextKeyService)],a)}),define(ne[945],se([1,0,19,7,14,8,116,64,861,106,33,23,266,944,28,6]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let c=class extends o.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(w.QuickAccessController))),this._quickAccess}constructor(l,r,d,u,a){super(d),this.instantiationService=l,this.contextKeyService=r,this.layoutService=u,this.configurationService=a,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(l=this.layoutService,r){const d={idPrefix:"quickInput_",container:l.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),linkOpenerDelegate:a=>{this.instantiationService.invokeFunction(v=>{v.get(m.IOpenerService).open(a,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>l.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(n.QuickInputHoverDelegate))},u=this._register(this.instantiationService.createInstance(i.QuickInputController,{...d,...r}));return u.layout(l.activeContainerDimension,l.activeContainerOffset.quickPickTop),this._register(l.onDidLayoutActiveContainer(a=>{(0,s.getWindow)(l.activeContainer)===(0,s.getWindow)(u.container)&&u.layout(a,l.activeContainerOffset.quickPickTop)})),this._register(l.onDidChangeActiveContainer(()=>{u.isVisible()||u.layout(l.activeContainerDimension,l.activeContainerOffset.quickPickTop)})),this._register(u.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(u.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),u}setContextKey(l){let r;l&&(r=this.contexts.get(l),r||(r=new L.RawContextKey(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,r))),!(r&&r.get())&&(this.resetContextKeys(),r?.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,r={},d=f.CancellationToken.None){return this.controller.pick(l,r,d)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,C.asCssVariable)(C.quickInputBackground),quickInputForeground:(0,C.asCssVariable)(C.quickInputForeground),quickInputTitleBackground:(0,C.asCssVariable)(C.quickInputTitleBackground),widgetBorder:(0,C.asCssVariable)(C.widgetBorder),widgetShadow:(0,C.asCssVariable)(C.widgetShadow)},inputBox:b.defaultInputBoxStyles,toggle:b.defaultToggleStyles,countBadge:b.defaultCountBadgeStyles,button:b.defaultButtonStyles,progressBar:b.defaultProgressBarStyles,keybindingLabel:b.defaultKeybindingLabelStyles,list:(0,b.getListStyles)({listBackground:C.quickInputBackground,listFocusBackground:C.quickInputListFocusBackground,listFocusForeground:C.quickInputListFocusForeground,listInactiveFocusForeground:C.quickInputListFocusForeground,listInactiveSelectionIconForeground:C.quickInputListFocusIconForeground,listInactiveFocusBackground:C.quickInputListFocusBackground,listFocusOutline:C.activeContrastBorder,listInactiveFocusOutline:C.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,C.asCssVariable)(C.pickerGroupBorder),pickerGroupForeground:(0,C.asCssVariable)(C.pickerGroupForeground)}}}};e.QuickInputService=c,e.QuickInputService=c=ke([ge(0,D.IInstantiationService),ge(1,L.IContextKeyService),ge(2,o.IThemeService),ge(3,y.ILayoutService),ge(4,t.IConfigurationService)],c)}),define(ne[946],se([1,0,7,16,23,19,8,14,379,36,945,123,28,519]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let i=class extends C.QuickInputService{constructor(l,r,d,u,a,v){super(r,d,u,new w.EditorScopedLayoutService(l.getContainerDomNode(),a),v),this.host=void 0;const h=s.get(l);if(h){const p=h.widget;this.host={_serviceBrand:void 0,get mainContainer(){return p.getDomNode()},getContainer(){return p.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[p.getDomNode()]},get activeContainer(){return p.getDomNode()},get mainContainerDimension(){return l.getLayoutInfo()},get activeContainerDimension(){return l.getLayoutInfo()},get onDidLayoutMainContainer(){return l.onDidLayoutChange},get onDidLayoutActiveContainer(){return l.onDidLayoutChange},get onDidLayoutContainer(){return f.Event.map(l.onDidLayoutChange,_=>({container:p.getDomNode(),dimension:_}))},get onDidChangeActiveContainer(){return f.Event.None},get onDidAddContainer(){return f.Event.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>l.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};i=ke([ge(1,y.IInstantiationService),ge(2,m.IContextKeyService),ge(3,L.IThemeService),ge(4,b.ICodeEditorService),ge(5,n.IConfigurationService)],i);let t=class{get activeService(){const l=this.codeEditorService.getFocusedCodeEditor();if(!l)throw new Error("Quick input service needs a focused editor to work.");let r=this.mapEditorToService.get(l);if(!r){const d=r=this.instantiationService.createInstance(i,l);this.mapEditorToService.set(l,r),(0,o.createSingleCallFunction)(l.onDidDispose)(()=>{d.dispose(),this.mapEditorToService.delete(l)})}return r}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}constructor(l,r){this.instantiationService=l,this.codeEditorService=r,this.mapEditorToService=new Map}pick(l,r={},d=D.CancellationToken.None){return this.activeService.pick(l,r,d)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=t,e.StandaloneQuickInputService=t=ke([ge(0,y.IInstantiationService),ge(1,b.ICodeEditorService)],t);class s{static get(l){return l.getContribution(s.ID)}constructor(l){this.editor=l,this.widget=new c(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=s,s.ID="editor.controller.quickInput";class c{constructor(l){this.codeEditor=l,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return c.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=c,c.ID="editor.contrib.quickInputWidget",(0,k.registerEditorContribution)(s.ID,s,4)}),define(ne[213],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,f.createDecorator)("undoRedoService");class k{constructor(m,w){this.resource=m,this.elements=w}}e.ResourceEditStackSnapshot=k;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=L,L._ID=0,L.None=new L;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(ne[37],se([1,0,13,34,9,7,2,11,22,141,226,61,10,5,24,192,43,35,42,651,923,365,321,558,559,356,652,197,685,129,213]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=void 0,e.createTextBufferFactory=A,e.createTextBufferFactoryFromSnapshot=R,e.createTextBuffer=M;function A(q){const H=new _.PieceTreeTextBufferBuilder;return H.acceptChunk(q),H.finish()}function R(q){const H=new _.PieceTreeTextBufferBuilder;let j;for(;typeof(j=q.read())=="string";)H.acceptChunk(j);return H.finish()}function M(q,H){let j;return typeof q=="string"?j=A(q):l.isITextSnapshot(q)?j=R(q):j=q,j.create(H)}let P=0;const F=999,O=1e4;class B{constructor(H){this._source=H,this._eos=!1}read(){if(this._eos)return null;const H=[];let j=0,Q=0;do{const te=this._source.read();if(te===null)return this._eos=!0,j===0?null:H.join("");if(te.length>0&&(H[j++]=te,Q+=te.length),Q>=64*1024)return H.join("")}while(!0)}}const V=()=>{throw new Error("Invalid change accessor")};let K=N=class extends y.Disposable{static resolveOptions(H,j){if(j.detectIndentation){const Q=(0,v.guessIndentation)(H,j.tabSize,j.insertSpaces);return new l.TextModelResolvedOptions({tabSize:Q.tabSize,indentSize:"tabSize",insertSpaces:Q.insertSpaces,trimAutoWhitespace:j.trimAutoWhitespace,defaultEOL:j.defaultEOL,bracketPairColorizationOptions:j.bracketPairColorizationOptions})}return new l.TextModelResolvedOptions(j)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(H){return this._eventEmitter.slowEvent(j=>H(j.contentChangedEvent))}onDidChangeContentOrInjectedText(H){return(0,y.combinedDisposable)(this._eventEmitter.fastEvent(j=>H(j)),this._onDidChangeInjectedText.event(j=>H(j)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(H,j,Q,te=null,le,de,me){super(),this._undoRedoService=le,this._languageService=de,this._languageConfigurationService=me,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ie(De=>this.handleBeforeFireDecorationsChangedEvent(De))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new oe),this._languageSelectionListener=this._register(new y.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new re,P++,this.id="$model"+P,this.isForSimpleWidget=Q.isForSimpleWidget,typeof te>"u"||te===null?this._associatedResource=w.URI.parse("inmemory://model/"+P):this._associatedResource=te,this._attachedEditorCount=0;const{textBuffer:ve,disposable:Ce}=M(H,Q.defaultEOL);this._buffer=ve,this._bufferDisposable=Ce,this._options=N.resolveOptions(this._buffer,Q);const ye=typeof j=="string"?j:j.languageId;typeof j!="string"&&(this._languageSelectionListener.value=j.onDidChange(()=>this._setLanguage(j.languageId))),this._bracketPairs=this._register(new r.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new a.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new d.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new E.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,ye,this._attachedViews);const Se=this._buffer.getLineCount(),Te=this._buffer.getValueLengthInRange(new i.Range(1,1,Se,this._buffer.getLineLength(Se)+1),0);Q.largeFileOptimizations?(this._isTooLargeForTokenization=Te>N.LARGE_FILE_SIZE_THRESHOLD||Se>N.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Te>N.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Te>N._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=m.singleLetterHash(P),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new J,this._commandManager=new u.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(ye)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const H=new p.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);H.dispose(),this._buffer=H,this._bufferDisposable=y.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(H,j){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(j),this._bracketPairs.handleDidChangeContent(j),this._eventEmitter.fire(new I.InternalModelContentChangeEvent(H,j)))}setValue(H){if(this._assertNotDisposed(),H==null)throw(0,L.illegalArgument)();const{textBuffer:j,disposable:Q}=M(H,this._options.defaultEOL);this._setValueFromTextBuffer(j,Q)}_createContentChanged2(H,j,Q,te,le,de,me,ve){return{changes:[{range:H,rangeOffset:j,rangeLength:Q,text:te}],eol:this._buffer.getEOL(),isEolChange:ve,versionId:this.getVersionId(),isUndoing:le,isRedoing:de,isFlush:me}}_setValueFromTextBuffer(H,j){this._assertNotDisposed();const Q=this.getFullModelRange(),te=this.getValueLengthInRange(Q),le=this.getLineCount(),de=this.getLineMaxColumn(le);this._buffer=H,this._bufferDisposable.dispose(),this._bufferDisposable=j,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new J,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,le,de),0,te,this.getValue(),!1,!1,!0,!1))}setEOL(H){this._assertNotDisposed();const j=H===1?`\r
`:`
`;if(this._buffer.getEOL()===j)return;const Q=this.getFullModelRange(),te=this.getValueLengthInRange(Q),le=this.getLineCount(),de=this.getLineMaxColumn(le);this._onBeforeEOLChange(),this._buffer.setEOL(j),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,le,de),0,te,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const H=this.getVersionId(),j=this._decorationsTree.collectNodesPostOrder();for(let Q=0,te=j.length;Q<te;Q++){const le=j[Q],de=le.range,me=le.cachedAbsoluteStart-le.start,ve=this._buffer.getOffsetAt(de.startLineNumber,de.startColumn),Ce=this._buffer.getOffsetAt(de.endLineNumber,de.endColumn);le.cachedAbsoluteStart=ve,le.cachedAbsoluteEnd=Ce,le.cachedVersionId=H,le.start=ve-me,le.end=Ce-me,(0,h.recomputeMaxEnd)(le)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(H){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(H)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let H=0,j=0;const Q=this._buffer.getLineCount();for(let te=1;te<=Q;te++){const le=this._buffer.getLineLength(te);le>=O?j+=le:H+=le}return j>H}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(H){this._assertNotDisposed();const j=typeof H.tabSize<"u"?H.tabSize:this._options.tabSize,Q=typeof H.indentSize<"u"?H.indentSize:this._options.originalIndentSize,te=typeof H.insertSpaces<"u"?H.insertSpaces:this._options.insertSpaces,le=typeof H.trimAutoWhitespace<"u"?H.trimAutoWhitespace:this._options.trimAutoWhitespace,de=typeof H.bracketColorizationOptions<"u"?H.bracketColorizationOptions:this._options.bracketPairColorizationOptions,me=new l.TextModelResolvedOptions({tabSize:j,indentSize:Q,insertSpaces:te,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:le,bracketPairColorizationOptions:de});if(this._options.equals(me))return;const ve=this._options.createChangeEvent(me);this._options=me,this._bracketPairs.handleDidChangeOptions(ve),this._decorationProvider.handleDidChangeOptions(ve),this._onDidChangeOptions.fire(ve)}detectIndentation(H,j){this._assertNotDisposed();const Q=(0,v.guessIndentation)(this._buffer,j,H);this.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.tabSize})}normalizeIndentation(H){return this._assertNotDisposed(),(0,C.normalizeIndentation)(H,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(H=null){const j=this.findMatches(m.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(H,j.map(Q=>({range:Q.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(H){this._assertNotDisposed();const j=this._validatePosition(H.lineNumber,H.column,0);return this._buffer.getOffsetAt(j.lineNumber,j.column)}getPositionAt(H){this._assertNotDisposed();const j=Math.min(this._buffer.getLength(),Math.max(0,H));return this._buffer.getPositionAt(j)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(H){this._versionId=H}_overwriteAlternativeVersionId(H){this._alternativeVersionId=H}_overwriteInitialUndoRedoSnapshot(H){this._initialUndoRedoSnapshot=H}getValue(H,j=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new L.BugIndicatingError("Operation would exceed heap memory limits");const Q=this.getFullModelRange(),te=this.getValueInRange(Q,H);return j?this._buffer.getBOM()+te:te}createSnapshot(H=!1){return new B(this._buffer.createSnapshot(H))}getValueLength(H,j=!1){this._assertNotDisposed();const Q=this.getFullModelRange(),te=this.getValueLengthInRange(Q,H);return j?this._buffer.getBOM().length+te:te}getValueInRange(H,j=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(H),j)}getValueLengthInRange(H,j=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(H),j)}getCharacterCountInRange(H,j=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(H),j)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(H)}getLineLength(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(H)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new L.BugIndicatingError("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(H){return this._assertNotDisposed(),1}getLineMaxColumn(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(H)+1}getLineFirstNonWhitespaceColumn(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(H)}getLineLastNonWhitespaceColumn(H){if(this._assertNotDisposed(),H<1||H>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(H)}_validateRangeRelaxedNoAllocations(H){const j=this._buffer.getLineCount(),Q=H.startLineNumber,te=H.startColumn;let le=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),de=Math.floor(typeof te=="number"&&!isNaN(te)?te:1);if(le<1)le=1,de=1;else if(le>j)le=j,de=this.getLineMaxColumn(le);else if(de<=1)de=1;else{const Se=this.getLineMaxColumn(le);de>=Se&&(de=Se)}const me=H.endLineNumber,ve=H.endColumn;let Ce=Math.floor(typeof me=="number"&&!isNaN(me)?me:1),ye=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(Ce<1)Ce=1,ye=1;else if(Ce>j)Ce=j,ye=this.getLineMaxColumn(Ce);else if(ye<=1)ye=1;else{const Se=this.getLineMaxColumn(Ce);ye>=Se&&(ye=Se)}return Q===le&&te===de&&me===Ce&&ve===ye&&H instanceof i.Range&&!(H instanceof t.Selection)?H:new i.Range(le,de,Ce,ye)}_isValidPosition(H,j,Q){if(typeof H!="number"||typeof j!="number"||isNaN(H)||isNaN(j)||H<1||j<1||(H|0)!==H||(j|0)!==j)return!1;const te=this._buffer.getLineCount();if(H>te)return!1;if(j===1)return!0;const le=this.getLineMaxColumn(H);if(j>le)return!1;if(Q===1){const de=this._buffer.getLineCharCode(H,j-2);if(m.isHighSurrogate(de))return!1}return!0}_validatePosition(H,j,Q){const te=Math.floor(typeof H=="number"&&!isNaN(H)?H:1),le=Math.floor(typeof j=="number"&&!isNaN(j)?j:1),de=this._buffer.getLineCount();if(te<1)return new n.Position(1,1);if(te>de)return new n.Position(de,this.getLineMaxColumn(de));if(le<=1)return new n.Position(te,1);const me=this.getLineMaxColumn(te);if(le>=me)return new n.Position(te,me);if(Q===1){const ve=this._buffer.getLineCharCode(te,le-2);if(m.isHighSurrogate(ve))return new n.Position(te,le-1)}return new n.Position(te,le)}validatePosition(H){return this._assertNotDisposed(),H instanceof n.Position&&this._isValidPosition(H.lineNumber,H.column,1)?H:this._validatePosition(H.lineNumber,H.column,1)}_isValidRange(H,j){const Q=H.startLineNumber,te=H.startColumn,le=H.endLineNumber,de=H.endColumn;if(!this._isValidPosition(Q,te,0)||!this._isValidPosition(le,de,0))return!1;if(j===1){const me=te>1?this._buffer.getLineCharCode(Q,te-2):0,ve=de>1&&de<=this._buffer.getLineLength(le)?this._buffer.getLineCharCode(le,de-2):0,Ce=m.isHighSurrogate(me),ye=m.isHighSurrogate(ve);return!Ce&&!ye}return!0}validateRange(H){if(this._assertNotDisposed(),H instanceof i.Range&&!(H instanceof t.Selection)&&this._isValidRange(H,1))return H;const Q=this._validatePosition(H.startLineNumber,H.startColumn,0),te=this._validatePosition(H.endLineNumber,H.endColumn,0),le=Q.lineNumber,de=Q.column,me=te.lineNumber,ve=te.column;{const Ce=de>1?this._buffer.getLineCharCode(le,de-2):0,ye=ve>1&&ve<=this._buffer.getLineLength(me)?this._buffer.getLineCharCode(me,ve-2):0,Se=m.isHighSurrogate(Ce),Te=m.isHighSurrogate(ye);return!Se&&!Te?new i.Range(le,de,me,ve):le===me&&de===ve?new i.Range(le,de-1,me,ve-1):Se&&Te?new i.Range(le,de-1,me,ve+1):Se?new i.Range(le,de-1,me,ve):new i.Range(le,de,me,ve+1)}return new i.Range(le,de,me,ve)}modifyPosition(H,j){this._assertNotDisposed();const Q=this.getOffsetAt(H)+j;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Q)))}getFullModelRange(){this._assertNotDisposed();const H=this.getLineCount();return new i.Range(1,1,H,this.getLineMaxColumn(H))}findMatchesLineByLine(H,j,Q,te){return this._buffer.findMatchesLineByLine(H,j,Q,te)}findMatches(H,j,Q,te,le,de,me=F){this._assertNotDisposed();let ve=null;j!==null&&(Array.isArray(j)||(j=[j]),j.every(Se=>i.Range.isIRange(Se))&&(ve=j.map(Se=>this.validateRange(Se)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((Se,Te)=>Se.startLineNumber-Te.startLineNumber||Se.startColumn-Te.startColumn);const Ce=[];Ce.push(ve.reduce((Se,Te)=>i.Range.areIntersecting(Se,Te)?Se.plusRange(Te):(Ce.push(Se),Te)));let ye;if(!Q&&H.indexOf(`
`)<0){const Te=new S.SearchParams(H,Q,te,le).parseSearchRequest();if(!Te)return[];ye=De=>this.findMatchesLineByLine(De,Te,de,me)}else ye=Se=>S.TextModelSearch.findMatches(this,new S.SearchParams(H,Q,te,le),Se,de,me);return Ce.map(ye).reduce((Se,Te)=>Se.concat(Te),[])}findNextMatch(H,j,Q,te,le,de){this._assertNotDisposed();const me=this.validatePosition(j);if(!Q&&H.indexOf(`
`)<0){const Ce=new S.SearchParams(H,Q,te,le).parseSearchRequest();if(!Ce)return null;const ye=this.getLineCount();let Se=new i.Range(me.lineNumber,me.column,ye,this.getLineMaxColumn(ye)),Te=this.findMatchesLineByLine(Se,Ce,de,1);return S.TextModelSearch.findNextMatch(this,new S.SearchParams(H,Q,te,le),me,de),Te.length>0||(Se=new i.Range(1,1,me.lineNumber,this.getLineMaxColumn(me.lineNumber)),Te=this.findMatchesLineByLine(Se,Ce,de,1),Te.length>0)?Te[0]:null}return S.TextModelSearch.findNextMatch(this,new S.SearchParams(H,Q,te,le),me,de)}findPreviousMatch(H,j,Q,te,le,de){this._assertNotDisposed();const me=this.validatePosition(j);return S.TextModelSearch.findPreviousMatch(this,new S.SearchParams(H,Q,te,le),me,de)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(H){if((this.getEOL()===`
`?0:1)!==H)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(H)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(H){return H instanceof l.ValidAnnotatedEditOperation?H:new l.ValidAnnotatedEditOperation(H.identifier||null,this.validateRange(H.range),H.text,H.forceMoveMarkers||!1,H.isAutoWhitespaceEdit||!1,H._isTracked||!1)}_validateEditOperations(H){const j=[];for(let Q=0,te=H.length;Q<te;Q++)j[Q]=this._validateEditOperation(H[Q]);return j}pushEditOperations(H,j,Q,te){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(H,this._validateEditOperations(j),Q,te)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(H,j,Q,te){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const le=j.map(me=>({range:this.validateRange(me.range),text:me.text}));let de=!0;if(H)for(let me=0,ve=H.length;me<ve;me++){const Ce=H[me];let ye=!1;for(let Se=0,Te=le.length;Se<Te;Se++){const De=le[Se].range,Me=De.startLineNumber>Ce.endLineNumber,Ae=Ce.startLineNumber>De.endLineNumber;if(!Me&&!Ae){ye=!0;break}}if(!ye){de=!1;break}}if(de)for(let me=0,ve=this._trimAutoWhitespaceLines.length;me<ve;me++){const Ce=this._trimAutoWhitespaceLines[me],ye=this.getLineMaxColumn(Ce);let Se=!0;for(let Te=0,De=le.length;Te<De;Te++){const Me=le[Te].range,Ae=le[Te].text;if(!(Ce<Me.startLineNumber||Ce>Me.endLineNumber)&&!(Ce===Me.startLineNumber&&Me.startColumn===ye&&Me.isEmpty()&&Ae&&Ae.length>0&&Ae.charAt(0)===`
`)&&!(Ce===Me.startLineNumber&&Me.startColumn===1&&Me.isEmpty()&&Ae&&Ae.length>0&&Ae.charAt(Ae.length-1)===`
`)){Se=!1;break}}if(Se){const Te=new i.Range(Ce,1,Ce,ye);j.push(new l.ValidAnnotatedEditOperation(null,Te,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(H,j,Q,te)}_applyUndo(H,j,Q,te){const le=H.map(de=>{const me=this.getPositionAt(de.newPosition),ve=this.getPositionAt(de.newEnd);return{range:new i.Range(me.lineNumber,me.column,ve.lineNumber,ve.column),text:de.oldText}});this._applyUndoRedoEdits(le,j,!0,!1,Q,te)}_applyRedo(H,j,Q,te){const le=H.map(de=>{const me=this.getPositionAt(de.oldPosition),ve=this.getPositionAt(de.oldEnd);return{range:new i.Range(me.lineNumber,me.column,ve.lineNumber,ve.column),text:de.newText}});this._applyUndoRedoEdits(le,j,!1,!0,Q,te)}_applyUndoRedoEdits(H,j,Q,te,le,de){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Q,this._isRedoing=te,this.applyEdits(H,!1),this.setEOL(j),this._overwriteAlternativeVersionId(le)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(de),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(H,j=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Q=this._validateEditOperations(H);return this._doApplyEdits(Q,j)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(H,j){const Q=this._buffer.getLineCount(),te=this._buffer.applyEdits(H,this._options.trimAutoWhitespace,j),le=this._buffer.getLineCount(),de=te.changes;if(this._trimAutoWhitespaceLines=te.trimAutoWhitespaceLineNumbers,de.length!==0){for(let Ce=0,ye=de.length;Ce<ye;Ce++){const Se=de[Ce];this._decorationsTree.acceptReplace(Se.rangeOffset,Se.rangeLength,Se.text.length,Se.forceMoveMarkers)}const me=[];this._increaseVersionId();let ve=Q;for(let Ce=0,ye=de.length;Ce<ye;Ce++){const Se=de[Ce],[Te]=(0,b.countEOL)(Se.text);this._onDidChangeDecorations.fire();const De=Se.range.startLineNumber,Me=Se.range.endLineNumber,Ae=Me-De,Pe=Te,Re=Math.min(Ae,Pe),Ee=Pe-Ae,Ne=le-ve-Ee+De,fe=Ne,_e=Ne+Pe,Oe=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new n.Position(fe,1)),this.getOffsetAt(new n.Position(_e,this.getLineMaxColumn(_e))),0),Be=I.LineInjectedText.fromDecorations(Oe),Ke=new f.ArrayQueue(Be);for(let je=Re;je>=0;je--){const Ze=De+je,et=Ne+je;Ke.takeFromEndWhile(rt=>rt.lineNumber>et);const it=Ke.takeFromEndWhile(rt=>rt.lineNumber===et);me.push(new I.ModelRawLineChanged(Ze,this.getLineContent(et),it))}if(Re<Ae){const je=De+Re;me.push(new I.ModelRawLinesDeleted(je+1,Me))}if(Re<Pe){const je=new f.ArrayQueue(Be),Ze=De+Re,et=Pe-Re,it=le-ve-et+Ze+1,rt=[],ut=[];for(let ot=0;ot<et;ot++){const ht=it+ot;ut[ot]=this.getLineContent(ht),je.takeWhile(Xe=>Xe.lineNumber<ht),rt[ot]=je.takeWhile(Xe=>Xe.lineNumber===ht)}me.push(new I.ModelRawLinesInserted(Ze+1,De+Pe,ut,rt))}ve+=Ee}this._emitContentChangedEvent(new I.ModelRawContentChangedEvent(me,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:de,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return te.reverseEdits===null?void 0:te.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(H){if(H===null||H.size===0)return;const Q=Array.from(H).map(te=>new I.ModelRawLineChanged(te,this.getLineContent(te),this._getInjectedTextInLine(te)));this._onDidChangeInjectedText.fire(new I.ModelInjectedTextChangedEvent(Q))}changeDecorations(H,j=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(j,H)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(H,j){const Q={addDecoration:(le,de)=>this._deltaDecorationsImpl(H,[],[{range:le,options:de}])[0],changeDecoration:(le,de)=>{this._changeDecorationImpl(le,de)},changeDecorationOptions:(le,de)=>{this._changeDecorationOptionsImpl(le,ce(de))},removeDecoration:le=>{this._deltaDecorationsImpl(H,[le],[])},deltaDecorations:(le,de)=>le.length===0&&de.length===0?[]:this._deltaDecorationsImpl(H,le,de)};let te=null;try{te=j(Q)}catch(le){(0,L.onUnexpectedError)(le)}return Q.addDecoration=V,Q.changeDecoration=V,Q.changeDecorationOptions=V,Q.removeDecoration=V,Q.deltaDecorations=V,te}deltaDecorations(H,j,Q=0){if(this._assertNotDisposed(),H||(H=[]),H.length===0&&j.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,L.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Q,H,j)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(H){return this.getDecorationRange(H)}_setTrackedRange(H,j,Q){const te=H?this._decorations[H]:null;if(!te)return j?this._deltaDecorationsImpl(0,[],[{range:j,options:pe[Q]}],!0)[0]:null;if(!j)return this._decorationsTree.delete(te),delete this._decorations[te.id],null;const le=this._validateRangeRelaxedNoAllocations(j),de=this._buffer.getOffsetAt(le.startLineNumber,le.startColumn),me=this._buffer.getOffsetAt(le.endLineNumber,le.endColumn);return this._decorationsTree.delete(te),te.reset(this.getVersionId(),de,me,le),te.setOptions(pe[Q]),this._decorationsTree.insert(te),te.id}removeAllDecorationsWithOwnerId(H){if(this._isDisposed)return;const j=this._decorationsTree.collectNodesFromOwner(H);for(let Q=0,te=j.length;Q<te;Q++){const le=j[Q];this._decorationsTree.delete(le),delete this._decorations[le.id]}}getDecorationOptions(H){const j=this._decorations[H];return j?j.options:null}getDecorationRange(H){const j=this._decorations[H];return j?this._decorationsTree.getNodeRange(this,j):null}getLineDecorations(H,j=0,Q=!1){return H<1||H>this.getLineCount()?[]:this.getLinesDecorations(H,H,j,Q)}getLinesDecorations(H,j,Q=0,te=!1,le=!1){const de=this.getLineCount(),me=Math.min(de,Math.max(1,H)),ve=Math.min(de,Math.max(1,j)),Ce=this.getLineMaxColumn(ve),ye=new i.Range(me,1,ve,Ce),Se=this._getDecorationsInRange(ye,Q,te,le);return(0,f.pushMany)(Se,this._decorationProvider.getDecorationsInRange(ye,Q,te)),Se}getDecorationsInRange(H,j=0,Q=!1,te=!1,le=!1){const de=this.validateRange(H),me=this._getDecorationsInRange(de,j,Q,le);return(0,f.pushMany)(me,this._decorationProvider.getDecorationsInRange(de,j,Q,te)),me}getOverviewRulerDecorations(H=0,j=!1){return this._decorationsTree.getAll(this,H,j,!0,!1)}getInjectedTextDecorations(H=0){return this._decorationsTree.getAllInjectedText(this,H)}_getInjectedTextInLine(H){const j=this._buffer.getOffsetAt(H,1),Q=j+this._buffer.getLineLength(H),te=this._decorationsTree.getInjectedTextInInterval(this,j,Q,0);return I.LineInjectedText.fromDecorations(te).filter(le=>le.lineNumber===H)}getAllDecorations(H=0,j=!1){let Q=this._decorationsTree.getAll(this,H,j,!1,!1);return Q=Q.concat(this._decorationProvider.getAllDecorations(H,j)),Q}getAllMarginDecorations(H=0){return this._decorationsTree.getAll(this,H,!1,!1,!0)}_getDecorationsInRange(H,j,Q,te){const le=this._buffer.getOffsetAt(H.startLineNumber,H.startColumn),de=this._buffer.getOffsetAt(H.endLineNumber,H.endColumn);return this._decorationsTree.getAllInInterval(this,le,de,j,Q,te)}getRangeAt(H,j){return this._buffer.getRangeAt(H,j-H)}_changeDecorationImpl(H,j){const Q=this._decorations[H];if(!Q)return;if(Q.options.after){const me=this.getDecorationRange(H);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.endLineNumber)}if(Q.options.before){const me=this.getDecorationRange(H);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.startLineNumber)}const te=this._validateRangeRelaxedNoAllocations(j),le=this._buffer.getOffsetAt(te.startLineNumber,te.startColumn),de=this._buffer.getOffsetAt(te.endLineNumber,te.endColumn);this._decorationsTree.delete(Q),Q.reset(this.getVersionId(),le,de,te),this._decorationsTree.insert(Q),this._onDidChangeDecorations.checkAffectedAndFire(Q.options),Q.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.endLineNumber),Q.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.startLineNumber)}_changeDecorationOptionsImpl(H,j){const Q=this._decorations[H];if(!Q)return;const te=!!(Q.options.overviewRuler&&Q.options.overviewRuler.color),le=!!(j.overviewRuler&&j.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(Q.options),this._onDidChangeDecorations.checkAffectedAndFire(j),Q.options.after||j.after){const ve=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber)}if(Q.options.before||j.before){const ve=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}const de=te!==le,me=z(j)!==$(Q);de||me?(this._decorationsTree.delete(Q),Q.setOptions(j),this._decorationsTree.insert(Q)):Q.setOptions(j)}_deltaDecorationsImpl(H,j,Q,te=!1){const le=this.getVersionId(),de=j.length;let me=0;const ve=Q.length;let Ce=0;this._onDidChangeDecorations.beginDeferredEmit();try{const ye=new Array(ve);for(;me<de||Ce<ve;){let Se=null;if(me<de){do Se=this._decorations[j[me++]];while(!Se&&me<de);if(Se){if(Se.options.after){const Te=this._decorationsTree.getNodeRange(this,Se);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Te.endLineNumber)}if(Se.options.before){const Te=this._decorationsTree.getNodeRange(this,Se);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Te.startLineNumber)}this._decorationsTree.delete(Se),te||this._onDidChangeDecorations.checkAffectedAndFire(Se.options)}}if(Ce<ve){if(!Se){const Re=++this._lastDecorationId,Ee=`${this._instanceId};${Re}`;Se=new h.IntervalNode(Ee,0,0),this._decorations[Ee]=Se}const Te=Q[Ce],De=this._validateRangeRelaxedNoAllocations(Te.range),Me=ce(Te.options),Ae=this._buffer.getOffsetAt(De.startLineNumber,De.startColumn),Pe=this._buffer.getOffsetAt(De.endLineNumber,De.endColumn);Se.ownerId=H,Se.reset(le,Ae,Pe,De),Se.setOptions(Me),Se.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(De.endLineNumber),Se.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(De.startLineNumber),te||this._onDidChangeDecorations.checkAffectedAndFire(Me),this._decorationsTree.insert(Se),ye[Ce]=Se.id,Ce++}else Se&&delete this._decorations[Se.id]}return ye}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(H,j){typeof H=="string"?(this._languageSelectionListener.clear(),this._setLanguage(H,j)):(this._languageSelectionListener.value=H.onDidChange(()=>this._setLanguage(H.languageId,j)),this._setLanguage(H.languageId,j))}_setLanguage(H,j){this.tokenization.setLanguageId(H,j),this._languageService.requestRichLanguageFeatures(H)}getLanguageIdAtPosition(H,j){return this.tokenization.getLanguageIdAtPosition(H,j)}getWordAtPosition(H){return this._tokenizationTextModelPart.getWordAtPosition(H)}getWordUntilPosition(H){return this._tokenizationTextModelPart.getWordUntilPosition(H)}normalizePosition(H,j){return H}getLineIndentColumn(H){return U(this.getLineContent(H))+1}};e.TextModel=K,K._MODEL_SYNC_LIMIT=50*1024*1024,K.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,K.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,K.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,K.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:s.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:s.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:s.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:s.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:s.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:s.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=K=N=ke([ge(4,T.IUndoRedoService),ge(5,c.ILanguageService),ge(6,g.ILanguageConfigurationService)],K);function U(q){let H=0;for(const j of q)if(j===" "||j==="	")H++;else break;return H}function G(q){return!!(q.options.overviewRuler&&q.options.overviewRuler.color)}function z(q){return!!q.after||!!q.before}function $(q){return!!q.options.after||!!q.options.before}class J{constructor(){this._decorationsTree0=new h.IntervalTree,this._decorationsTree1=new h.IntervalTree,this._injectedTextDecorationsTree=new h.IntervalTree}ensureAllNodesHaveRanges(H){this.getAll(H,0,!1,!1,!1)}_ensureNodesHaveRanges(H,j){for(const Q of j)Q.range===null&&(Q.range=H.getRangeAt(Q.cachedAbsoluteStart,Q.cachedAbsoluteEnd));return j}getAllInInterval(H,j,Q,te,le,de){const me=H.getVersionId(),ve=this._intervalSearch(j,Q,te,le,me,de);return this._ensureNodesHaveRanges(H,ve)}_intervalSearch(H,j,Q,te,le,de){const me=this._decorationsTree0.intervalSearch(H,j,Q,te,le,de),ve=this._decorationsTree1.intervalSearch(H,j,Q,te,le,de),Ce=this._injectedTextDecorationsTree.intervalSearch(H,j,Q,te,le,de);return me.concat(ve).concat(Ce)}getInjectedTextInInterval(H,j,Q,te){const le=H.getVersionId(),de=this._injectedTextDecorationsTree.intervalSearch(j,Q,te,!1,le,!1);return this._ensureNodesHaveRanges(H,de).filter(me=>me.options.showIfCollapsed||!me.range.isEmpty())}getAllInjectedText(H,j){const Q=H.getVersionId(),te=this._injectedTextDecorationsTree.search(j,!1,Q,!1);return this._ensureNodesHaveRanges(H,te).filter(le=>le.options.showIfCollapsed||!le.range.isEmpty())}getAll(H,j,Q,te,le){const de=H.getVersionId(),me=this._search(j,Q,te,de,le);return this._ensureNodesHaveRanges(H,me)}_search(H,j,Q,te,le){if(Q)return this._decorationsTree1.search(H,j,te,le);{const de=this._decorationsTree0.search(H,j,te,le),me=this._decorationsTree1.search(H,j,te,le),ve=this._injectedTextDecorationsTree.search(H,j,te,le);return de.concat(me).concat(ve)}}collectNodesFromOwner(H){const j=this._decorationsTree0.collectNodesFromOwner(H),Q=this._decorationsTree1.collectNodesFromOwner(H),te=this._injectedTextDecorationsTree.collectNodesFromOwner(H);return j.concat(Q).concat(te)}collectNodesPostOrder(){const H=this._decorationsTree0.collectNodesPostOrder(),j=this._decorationsTree1.collectNodesPostOrder(),Q=this._injectedTextDecorationsTree.collectNodesPostOrder();return H.concat(j).concat(Q)}insert(H){$(H)?this._injectedTextDecorationsTree.insert(H):G(H)?this._decorationsTree1.insert(H):this._decorationsTree0.insert(H)}delete(H){$(H)?this._injectedTextDecorationsTree.delete(H):G(H)?this._decorationsTree1.delete(H):this._decorationsTree0.delete(H)}getNodeRange(H,j){const Q=H.getVersionId();return j.cachedVersionId!==Q&&this._resolveNode(j,Q),j.range===null&&(j.range=H.getRangeAt(j.cachedAbsoluteStart,j.cachedAbsoluteEnd)),j.range}_resolveNode(H,j){$(H)?this._injectedTextDecorationsTree.resolveNode(H,j):G(H)?this._decorationsTree1.resolveNode(H,j):this._decorationsTree0.resolveNode(H,j)}acceptReplace(H,j,Q,te){this._decorationsTree0.acceptReplace(H,j,Q,te),this._decorationsTree1.acceptReplace(H,j,Q,te),this._injectedTextDecorationsTree.acceptReplace(H,j,Q,te)}}function ee(q){return q.replace(/[^a-z0-9\-_]/gi," ")}class Z{constructor(H){this.color=H.color||"",this.darkColor=H.darkColor||""}}class x extends Z{constructor(H){super(H),this._resolvedColor=null,this.position=typeof H.position=="number"?H.position:l.OverviewRulerLane.Center}getColor(H){return this._resolvedColor||(H.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,H):this._resolvedColor=this._resolveColor(this.color,H)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(H,j){if(typeof H=="string")return H;const Q=H?j.getColor(H.id):null;return Q?Q.toString():""}}e.ModelDecorationOverviewRulerOptions=x;class Y{constructor(H){var j;this.position=(j=H?.position)!==null&&j!==void 0?j:l.GlyphMarginLane.Center,this.persistLane=H?.persistLane}}e.ModelDecorationGlyphMarginOptions=Y;class ae extends Z{constructor(H){var j,Q;super(H),this.position=H.position,this.sectionHeaderStyle=(j=H.sectionHeaderStyle)!==null&&j!==void 0?j:null,this.sectionHeaderText=(Q=H.sectionHeaderText)!==null&&Q!==void 0?Q:null}getColor(H){return this._resolvedColor||(H.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,H):this._resolvedColor=this._resolveColor(this.color,H)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(H,j){return typeof H=="string"?k.Color.fromHex(H):j.getColor(H.id)}}e.ModelDecorationMinimapOptions=ae;class ue{static from(H){return H instanceof ue?H:new ue(H)}constructor(H){this.content=H.content||"",this.inlineClassName=H.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=H.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=H.attachedData||null,this.cursorStops=H.cursorStops||null}}e.ModelDecorationInjectedTextOptions=ue;class he{static register(H){return new he(H)}static createDynamic(H){return new he(H)}constructor(H){var j,Q,te,le,de,me;this.description=H.description,this.blockClassName=H.blockClassName?ee(H.blockClassName):null,this.blockDoesNotCollapse=(j=H.blockDoesNotCollapse)!==null&&j!==void 0?j:null,this.blockIsAfterEnd=(Q=H.blockIsAfterEnd)!==null&&Q!==void 0?Q:null,this.blockPadding=(te=H.blockPadding)!==null&&te!==void 0?te:null,this.stickiness=H.stickiness||0,this.zIndex=H.zIndex||0,this.className=H.className?ee(H.className):null,this.shouldFillLineOnLineBreak=(le=H.shouldFillLineOnLineBreak)!==null&&le!==void 0?le:null,this.hoverMessage=H.hoverMessage||null,this.glyphMarginHoverMessage=H.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=H.lineNumberHoverMessage||null,this.isWholeLine=H.isWholeLine||!1,this.showIfCollapsed=H.showIfCollapsed||!1,this.collapseOnReplaceEdit=H.collapseOnReplaceEdit||!1,this.overviewRuler=H.overviewRuler?new x(H.overviewRuler):null,this.minimap=H.minimap?new ae(H.minimap):null,this.glyphMargin=H.glyphMarginClassName?new Y(H.glyphMargin):null,this.glyphMarginClassName=H.glyphMarginClassName?ee(H.glyphMarginClassName):null,this.linesDecorationsClassName=H.linesDecorationsClassName?ee(H.linesDecorationsClassName):null,this.lineNumberClassName=H.lineNumberClassName?ee(H.lineNumberClassName):null,this.linesDecorationsTooltip=H.linesDecorationsTooltip?m.htmlAttributeEncodeValue(H.linesDecorationsTooltip):null,this.firstLineDecorationClassName=H.firstLineDecorationClassName?ee(H.firstLineDecorationClassName):null,this.marginClassName=H.marginClassName?ee(H.marginClassName):null,this.inlineClassName=H.inlineClassName?ee(H.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=H.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=H.beforeContentClassName?ee(H.beforeContentClassName):null,this.afterContentClassName=H.afterContentClassName?ee(H.afterContentClassName):null,this.after=H.after?ue.from(H.after):null,this.before=H.before?ue.from(H.before):null,this.hideInCommentTokens=(de=H.hideInCommentTokens)!==null&&de!==void 0?de:!1,this.hideInStringTokens=(me=H.hideInStringTokens)!==null&&me!==void 0?me:!1}}e.ModelDecorationOptions=he,he.EMPTY=he.register({description:"empty"});const pe=[he.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),he.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),he.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),he.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ce(q){return q instanceof he?q:he.createDynamic(q)}class ie extends y.Disposable{constructor(H){super(),this.handleBeforeFire=H,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var H;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(H=this._affectedInjectedTextLines)===null||H===void 0||H.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(H){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(H)}checkAffectedAndFire(H){var j,Q;this._affectsMinimap||(this._affectsMinimap=!!(!((j=H.minimap)===null||j===void 0)&&j.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((Q=H.overviewRuler)===null||Q===void 0)&&Q.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!H.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!H.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const H={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(H)}}class oe extends y.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(H=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=H;const j=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(j),this._slowEmitter.fire(j)}}fire(H){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(H):this._deferredEvent=H;return}this._fastEmitter.fire(H),this._slowEmitter.fire(H)}}class re{constructor(){this._onDidChangeVisibleRanges=new D.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const H=new W(j=>{this._onDidChangeVisibleRanges.fire({view:H,state:j})});return this._views.add(H),H}detachView(H){this._views.delete(H),this._onDidChangeVisibleRanges.fire({view:H,state:void 0})}}e.AttachedViews=re;class W{constructor(H){this.handleStateChange=H}setVisibleLines(H,j){const Q=H.map(te=>new o.LineRange(te.startLineNumber,te.endLineNumber+1));this.handleStateChange({visibleLineRanges:Q,stabilized:j})}}}),define(ne[214],se([1,0,26,31,37,675,33,76]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=e.diffEditorUnchangedRegionShadow=e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,y.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,D.localize)(0,null)),e.diffMoveBorderActive=(0,y.registerColor)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,D.localize)(1,null)),e.diffEditorUnchangedRegionShadow=(0,y.registerColor)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,D.localize)(2,null)),e.diffInsertIcon=(0,m.registerIcon)("diff-insert",f.Codicon.add,(0,D.localize)(3,null)),e.diffRemoveIcon=(0,m.registerIcon)("diff-remove",f.Codicon.remove,(0,D.localize)(4,null)),e.diffLineAddDecorationBackgroundWithIndicator=L.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+k.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=L.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+k.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=L.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=L.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=L.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=L.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=L.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=L.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=L.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=L.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})}),define(ne[947],se([1,0,2,30,359,214,83]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class m extends f.Disposable{constructor(b,C,o,n){super(),this._editors=b,this._diffModel=C,this._options=o,this._decorations=(0,k.derived)(this,i=>{var t;const s=(t=this._diffModel.read(i))===null||t===void 0?void 0:t.diff.read(i);if(!s)return null;const c=this._diffModel.read(i).movedTextToCompare.read(i),g=this._options.renderIndicators.read(i),l=this._options.showEmptyDecorations.read(i),r=[],d=[];if(!c)for(const a of s.mappings)if(a.lineRangeMapping.original.isEmpty||r.push({range:a.lineRangeMapping.original.toInclusiveRange(),options:g?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground}),a.lineRangeMapping.modified.isEmpty||d.push({range:a.lineRangeMapping.modified.toInclusiveRange(),options:g?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground}),a.lineRangeMapping.modified.isEmpty||a.lineRangeMapping.original.isEmpty)a.lineRangeMapping.original.isEmpty||r.push({range:a.lineRangeMapping.original.toInclusiveRange(),options:D.diffWholeLineDeleteDecoration}),a.lineRangeMapping.modified.isEmpty||d.push({range:a.lineRangeMapping.modified.toInclusiveRange(),options:D.diffWholeLineAddDecoration});else for(const v of a.lineRangeMapping.innerChanges||[])a.lineRangeMapping.original.contains(v.originalRange.startLineNumber)&&r.push({range:v.originalRange,options:v.originalRange.isEmpty()&&l?D.diffDeleteDecorationEmpty:D.diffDeleteDecoration}),a.lineRangeMapping.modified.contains(v.modifiedRange.startLineNumber)&&d.push({range:v.modifiedRange,options:v.modifiedRange.isEmpty()&&l?D.diffAddDecorationEmpty:D.diffAddDecoration});if(c)for(const a of c.changes){const v=a.original.toInclusiveRange();v&&r.push({range:v,options:g?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground});const h=a.modified.toInclusiveRange();h&&d.push({range:h,options:g?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground});for(const p of a.innerChanges||[])r.push({range:p.originalRange,options:D.diffDeleteDecoration}),d.push({range:p.modifiedRange,options:D.diffAddDecoration})}const u=this._diffModel.read(i).activeMovedText.read(i);for(const a of s.movedTexts)r.push({range:a.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(a===u?" currentMove":""),blockPadding:[L.MovedBlocksLinesFeature.movedCodeBlockPadding,0,L.MovedBlocksLinesFeature.movedCodeBlockPadding,L.MovedBlocksLinesFeature.movedCodeBlockPadding]}}),d.push({range:a.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(a===u?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:r,modifiedDecorations:d}}),this._register((0,y.applyObservableDecorations)(this._editors.original,this._decorations.map(i=>i?.originalDecorations||[]))),this._register((0,y.applyObservableDecorations)(this._editors.modified,this._decorations.map(i=>i?.modifiedDecorations||[])))}}e.DiffEditorDecorations=m}),define(ne[948],se([1,0,6,13,15,26,2,30,31,20,72,214,392,669,691,83,61,10,92,114,58]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorViewZones=void 0;let u=class extends y.Disposable{constructor(p,_,S,E,I,T,N,A,R,M){super(),this._targetWindow=p,this._editors=_,this._diffModel=S,this._options=E,this._diffEditorWidget=I,this._canIgnoreViewZoneUpdateEvent=T,this._origViewZonesToIgnore=N,this._modViewZonesToIgnore=A,this._clipboardService=R,this._contextMenuService=M,this._originalTopPadding=(0,m.observableValue)(this,0),this._originalScrollOffset=(0,m.observableValue)(this,0),this._originalScrollOffsetAnimated=(0,s.animatedObservable)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,m.observableValue)(this,0),this._modifiedScrollOffset=(0,m.observableValue)(this,0),this._modifiedScrollOffsetAnimated=(0,s.animatedObservable)(this._targetWindow,this._modifiedScrollOffset,this._store);const P=(0,m.observableValue)("invalidateAlignmentsState",0),F=this._register(new L.RunOnceScheduler(()=>{P.set(P.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(z=>{this._canIgnoreViewZoneUpdateEvent()||F.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(z=>{this._canIgnoreViewZoneUpdateEvent()||F.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(z=>{(z.hasChanged(146)||z.hasChanged(67))&&F.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(z=>{(z.hasChanged(146)||z.hasChanged(67))&&F.schedule()}));const O=this._diffModel.map(z=>z?(0,m.observableFromEvent)(z.model.original.onDidChangeTokens,()=>z.model.original.tokenization.backgroundTokenizationState===2):void 0).map((z,$)=>z?.read($)),B=(0,m.derived)(z=>{const $=this._diffModel.read(z),J=$?.diff.read(z);if(!$||!J)return null;P.read(z);const Z=this._options.renderSideBySide.read(z);return a(this._editors.original,this._editors.modified,J.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,Z)}),V=(0,m.derived)(z=>{var $;const J=($=this._diffModel.read(z))===null||$===void 0?void 0:$.movedTextToCompare.read(z);if(!J)return null;P.read(z);const ee=J.changes.map(Z=>new n.DiffMapping(Z));return a(this._editors.original,this._editors.modified,ee,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function K(){const z=document.createElement("div");return z.className="diagonal-fill",z}const U=this._register(new y.DisposableStore);this.viewZones=(0,m.derivedWithStore)(this,(z,$)=>{var J,ee,Z,x,Y,ae,ue,he;U.clear();const pe=B.read(z)||[],ce=[],ie=[],oe=this._modifiedTopPadding.read(z);oe>0&&ie.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:oe,showInHiddenAreas:!0,suppressMouseDown:!0});const re=this._originalTopPadding.read(z);re>0&&ce.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:re,showInHiddenAreas:!0,suppressMouseDown:!0});const W=this._options.renderSideBySide.read(z),q=W||(J=this._editors.modified._getViewModel())===null||J===void 0?void 0:J.createLineBreaksComputer();if(q){const ve=this._editors.original.getModel();for(const Ce of pe)if(Ce.diff)for(let ye=Ce.originalRange.startLineNumber;ye<Ce.originalRange.endLineNumberExclusive;ye++){if(ye>ve.getLineCount())return{orig:ce,mod:ie};q?.addRequest(ve.getLineContent(ye),null,null)}}const H=(ee=q?.finalize())!==null&&ee!==void 0?ee:[];let j=0;const Q=this._editors.modified.getOption(67),te=(Z=this._diffModel.read(z))===null||Z===void 0?void 0:Z.movedTextToCompare.read(z),le=(Y=(x=this._editors.original.getModel())===null||x===void 0?void 0:x.mightContainNonBasicASCII())!==null&&Y!==void 0?Y:!1,de=(ue=(ae=this._editors.original.getModel())===null||ae===void 0?void 0:ae.mightContainRTL())!==null&&ue!==void 0?ue:!1,me=t.RenderOptions.fromEditor(this._editors.modified);for(const ve of pe)if(ve.diff&&!W){if(!ve.originalRange.isEmpty){O.read(z);const ye=document.createElement("div");ye.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Se=this._editors.original.getModel();if(ve.originalRange.endLineNumberExclusive-1>Se.getLineCount())return{orig:ce,mod:ie};const Te=new t.LineSource(ve.originalRange.mapToLineArray(Re=>Se.tokenization.getLineTokens(Re)),ve.originalRange.mapToLineArray(Re=>H[j++]),le,de),De=[];for(const Re of ve.diff.innerChanges||[])De.push(new l.InlineDecoration(Re.originalRange.delta(-(ve.diff.original.startLineNumber-1)),o.diffDeleteDecoration.className,0));const Me=(0,t.renderLines)(Te,me,De,ye),Ae=document.createElement("div");if(Ae.className="inline-deleted-margin-view-zone",(0,C.applyFontInfo)(Ae,me.fontInfo),this._options.renderIndicators.read(z))for(let Re=0;Re<Me.heightInLines;Re++){const Ee=document.createElement("div");Ee.className=`delete-sign ${w.ThemeIcon.asClassName(o.diffRemoveIcon)}`,Ee.setAttribute("style",`position:absolute;top:${Re*Q}px;width:${me.lineDecorationsWidth}px;height:${Q}px;right:0;`),Ae.appendChild(Ee)}let Pe;U.add(new i.InlineDiffDeletedCodeMargin(()=>(0,b.assertIsDefined)(Pe),Ae,this._editors.modified,ve.diff,this._diffEditorWidget,Me.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Re=0;Re<Me.viewLineCounts.length;Re++){const Ee=Me.viewLineCounts[Re];Ee>1&&ce.push({afterLineNumber:ve.originalRange.startLineNumber+Re,domNode:K(),heightInPx:(Ee-1)*Q,showInHiddenAreas:!0,suppressMouseDown:!0})}ie.push({afterLineNumber:ve.modifiedRange.startLineNumber-1,domNode:ye,heightInPx:Me.heightInLines*Q,minWidthInPx:Me.minWidthInPx,marginDomNode:Ae,setZoneId(Re){Pe=Re},showInHiddenAreas:!0,suppressMouseDown:!0})}const Ce=document.createElement("div");Ce.className="gutter-delete",ce.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:K(),heightInPx:ve.modifiedHeightInPx,marginDomNode:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;if(Ce>0){if(te?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(ve.originalRange.endLineNumberExclusive-1))continue;ce.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:K(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let ye=function(){const Te=document.createElement("div");return Te.className="arrow-revert-change "+w.ThemeIcon.asClassName(D.Codicon.arrowRight),$.add((0,f.addDisposableListener)(Te,"mousedown",De=>De.stopPropagation())),$.add((0,f.addDisposableListener)(Te,"click",De=>{De.stopPropagation(),I.revert(ve.diff)})),(0,f.$)("div",{},Te)};if(te?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(ve.modifiedRange.endLineNumberExclusive-1))continue;let Se;ve.diff&&ve.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(z)&&(Se=ye()),ie.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:K(),heightInPx:-Ce,marginDomNode:Se,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const ve of(he=V.read(z))!==null&&he!==void 0?he:[]){if(!te?.lineRangeMapping.original.intersect(ve.originalRange)||!te?.lineRangeMapping.modified.intersect(ve.modifiedRange))continue;const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;Ce>0?ce.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:K(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0}):ie.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:K(),heightInPx:-Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:ce,mod:ie}});let G=!1;this._register(this._editors.original.onDidScrollChange(z=>{z.scrollLeftChanged&&!G&&(G=!0,this._editors.modified.setScrollLeft(z.scrollLeft),G=!1)})),this._register(this._editors.modified.onDidScrollChange(z=>{z.scrollLeftChanged&&!G&&(G=!0,this._editors.original.setScrollLeft(z.scrollLeft),G=!1)})),this._originalScrollTop=(0,m.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,m.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,m.autorun)(z=>{const $=this._originalScrollTop.read(z)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(z))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(z));$!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop($,1)})),this._register((0,m.autorun)(z=>{const $=this._modifiedScrollTop.read(z)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(z))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(z));$!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop($,1)})),this._register((0,m.autorun)(z=>{var $;const J=($=this._diffModel.read(z))===null||$===void 0?void 0:$.movedTextToCompare.read(z);let ee=0;if(J){const Z=this._editors.original.getTopForLineNumber(J.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();ee=this._editors.modified.getTopForLineNumber(J.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-Z}ee>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(ee,void 0)):ee<0?(this._modifiedTopPadding.set(-ee,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-ee,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+ee,void 0,!0)}))}};e.DiffEditorViewZones=u,e.DiffEditorViewZones=u=ke([ge(8,r.IClipboardService),ge(9,d.IContextMenuService)],u);function a(h,p,_,S,E,I){const T=new k.ArrayQueue(v(h,S)),N=new k.ArrayQueue(v(p,E)),A=h.getOption(67),R=p.getOption(67),M=[];let P=0,F=0;function O(B,V){for(;;){let K=T.peek(),U=N.peek();if(K&&K.lineNumber>=B&&(K=void 0),U&&U.lineNumber>=V&&(U=void 0),!K&&!U)break;const G=K?K.lineNumber-P:Number.MAX_VALUE,z=U?U.lineNumber-F:Number.MAX_VALUE;G<z?(T.dequeue(),U={lineNumber:K.lineNumber-P+F,heightInPx:0}):G>z?(N.dequeue(),K={lineNumber:U.lineNumber-F+P,heightInPx:0}):(T.dequeue(),N.dequeue()),M.push({originalRange:c.LineRange.ofLength(K.lineNumber,1),modifiedRange:c.LineRange.ofLength(U.lineNumber,1),originalHeightInPx:A+K.heightInPx,modifiedHeightInPx:R+U.heightInPx,diff:void 0})}}for(const B of _){let z=function($,J){var ee,Z,x,Y;if($<G||J<U)return;if(K)K=!1;else if($===G||J===U)return;const ae=new c.LineRange(G,$),ue=new c.LineRange(U,J);if(ae.isEmpty&&ue.isEmpty)return;const he=(Z=(ee=T.takeWhile(ce=>ce.lineNumber<$))===null||ee===void 0?void 0:ee.reduce((ce,ie)=>ce+ie.heightInPx,0))!==null&&Z!==void 0?Z:0,pe=(Y=(x=N.takeWhile(ce=>ce.lineNumber<J))===null||x===void 0?void 0:x.reduce((ce,ie)=>ce+ie.heightInPx,0))!==null&&Y!==void 0?Y:0;M.push({originalRange:ae,modifiedRange:ue,originalHeightInPx:ae.length*A+he,modifiedHeightInPx:ue.length*R+pe,diff:B.lineRangeMapping}),G=$,U=J};const V=B.lineRangeMapping;O(V.original.startLineNumber,V.modified.startLineNumber);let K=!0,U=V.modified.startLineNumber,G=V.original.startLineNumber;if(I)for(const $ of V.innerChanges||[]){$.originalRange.startColumn>1&&$.modifiedRange.startColumn>1&&z($.originalRange.startLineNumber,$.modifiedRange.startLineNumber);const J=h.getModel(),ee=$.originalRange.endLineNumber<=J.getLineCount()?J.getLineMaxColumn($.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;$.originalRange.endColumn<ee&&z($.originalRange.endLineNumber,$.modifiedRange.endLineNumber)}z(V.original.endLineNumberExclusive,V.modified.endLineNumberExclusive),P=V.original.endLineNumberExclusive,F=V.modified.endLineNumberExclusive}return O(Number.MAX_VALUE,Number.MAX_VALUE),M}function v(h,p){const _=[],S=[],E=h.getOption(146).wrappingColumn!==-1,I=h._getViewModel().coordinatesConverter,T=h.getOption(67);if(E)for(let A=1;A<=h.getModel().getLineCount();A++){const R=I.getModelLineViewLineCount(A);R>1&&S.push({lineNumber:A,heightInPx:T*(R-1)})}for(const A of h.getWhitespaces()){if(p.has(A.id))continue;const R=A.afterLineNumber===0?0:I.convertViewPositionToModelPosition(new g.Position(A.afterLineNumber,1)).lineNumber;_.push({lineNumber:R,heightInPx:A.height})}return(0,s.joinCombine)(_,S,A=>A.lineNumber,(A,R)=>({lineNumber:A.lineNumber,heightInPx:A.heightInPx+R.heightInPx}))}}),define(ne[949],se([1,0,7,2,17,37,192,85,43,206,28,213,127,365,47,55,35]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultModelSHA1Computer=e.ModelService=void 0;function l(h){return h.toString()}class r{constructor(p,_,S){this.model=p,this._modelEventListeners=new k.DisposableStore,this.model=p,this._modelEventListeners.add(p.onWillDispose(()=>_(p))),this._modelEventListeners.add(p.onDidChangeLanguage(E=>S(p,E)))}dispose(){this._modelEventListeners.dispose()}}const d=L.isLinux||L.isMacintosh?1:2;class u{constructor(p,_,S,E,I,T,N,A){this.uri=p,this.initialUndoRedoSnapshot=_,this.time=S,this.sharesUndoRedoStack=E,this.heapSize=I,this.sha1=T,this.versionId=N,this.alternativeVersionId=A}}let a=g=class extends k.Disposable{constructor(p,_,S,E,I){super(),this._configurationService=p,this._resourcePropertiesService=_,this._undoRedoService=S,this._languageService=E,this._languageConfigurationService=I,this._onModelAdded=this._register(new f.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new f.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new f.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(T=>this._updateModelOptions(T))),this._updateModelOptions(void 0)}static _readModelOptions(p,_){var S;let E=y.EDITOR_MODEL_DEFAULTS.tabSize;if(p.editor&&typeof p.editor.tabSize<"u"){const O=parseInt(p.editor.tabSize,10);isNaN(O)||(E=O),E<1&&(E=1)}let I="tabSize";if(p.editor&&typeof p.editor.indentSize<"u"&&p.editor.indentSize!=="tabSize"){const O=parseInt(p.editor.indentSize,10);isNaN(O)||(I=Math.max(O,1))}let T=y.EDITOR_MODEL_DEFAULTS.insertSpaces;p.editor&&typeof p.editor.insertSpaces<"u"&&(T=p.editor.insertSpaces==="false"?!1:!!p.editor.insertSpaces);let N=d;const A=p.eol;A===`\r
`?N=2:A===`
`&&(N=1);let R=y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;p.editor&&typeof p.editor.trimAutoWhitespace<"u"&&(R=p.editor.trimAutoWhitespace==="false"?!1:!!p.editor.trimAutoWhitespace);let M=y.EDITOR_MODEL_DEFAULTS.detectIndentation;p.editor&&typeof p.editor.detectIndentation<"u"&&(M=p.editor.detectIndentation==="false"?!1:!!p.editor.detectIndentation);let P=y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;p.editor&&typeof p.editor.largeFileOptimizations<"u"&&(P=p.editor.largeFileOptimizations==="false"?!1:!!p.editor.largeFileOptimizations);let F=y.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((S=p.editor)===null||S===void 0)&&S.bracketPairColorization&&typeof p.editor.bracketPairColorization=="object"&&(F={enabled:!!p.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!p.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:_,tabSize:E,indentSize:I,insertSpaces:T,detectIndentation:M,defaultEOL:N,trimAutoWhitespace:R,largeFileOptimizations:P,bracketPairColorizationOptions:F}}_getEOL(p,_){if(p)return this._resourcePropertiesService.getEOL(p,_);const S=this._configurationService.getValue("files.eol",{overrideIdentifier:_});return S&&typeof S=="string"&&S!=="auto"?S:L.OS===3||L.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const p=this._configurationService.getValue("files.restoreUndoStack");return typeof p=="boolean"?p:!0}getCreationOptions(p,_,S){const E=typeof p=="string"?p:p.languageId;let I=this._modelCreationOptionsByLanguageAndResource[E+_];if(!I){const T=this._configurationService.getValue("editor",{overrideIdentifier:E,resource:_}),N=this._getEOL(_,E);I=g._readModelOptions({editor:T,eol:N},S),this._modelCreationOptionsByLanguageAndResource[E+_]=I}return I}_updateModelOptions(p){const _=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const S=Object.keys(this._models);for(let E=0,I=S.length;E<I;E++){const T=S[E],N=this._models[T],A=N.model.getLanguageId(),R=N.model.uri;if(p&&!p.affectsConfiguration("editor",{overrideIdentifier:A,resource:R})&&!p.affectsConfiguration("files.eol",{overrideIdentifier:A,resource:R}))continue;const M=_[A+R],P=this.getCreationOptions(A,R,N.model.isForSimpleWidget);g._setModelOptionsForModel(N.model,P,M)}}static _setModelOptionsForModel(p,_,S){S&&S.defaultEOL!==_.defaultEOL&&p.getLineCount()===1&&p.setEOL(_.defaultEOL===1?0:1),!(S&&S.detectIndentation===_.detectIndentation&&S.insertSpaces===_.insertSpaces&&S.tabSize===_.tabSize&&S.indentSize===_.indentSize&&S.trimAutoWhitespace===_.trimAutoWhitespace&&(0,s.equals)(S.bracketPairColorizationOptions,_.bracketPairColorizationOptions))&&(_.detectIndentation?(p.detectIndentation(_.insertSpaces,_.tabSize),p.updateOptions({trimAutoWhitespace:_.trimAutoWhitespace,bracketColorizationOptions:_.bracketPairColorizationOptions})):p.updateOptions({insertSpaces:_.insertSpaces,tabSize:_.tabSize,indentSize:_.indentSize,trimAutoWhitespace:_.trimAutoWhitespace,bracketColorizationOptions:_.bracketPairColorizationOptions}))}_insertDisposedModel(p){this._disposedModels.set(l(p.uri),p),this._disposedModelsHeapSize+=p.heapSize}_removeDisposedModel(p){const _=this._disposedModels.get(l(p));return _&&(this._disposedModelsHeapSize-=_.heapSize),this._disposedModels.delete(l(p)),_}_ensureDisposedModelsHeapSize(p){if(this._disposedModelsHeapSize>p){const _=[];for(this._disposedModels.forEach(S=>{S.sharesUndoRedoStack||_.push(S)}),_.sort((S,E)=>S.time-E.time);_.length>0&&this._disposedModelsHeapSize>p;){const S=_.shift();this._removeDisposedModel(S.uri),S.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(S.initialUndoRedoSnapshot)}}}_createModelData(p,_,S,E){const I=this.getCreationOptions(_,S,E),T=new D.TextModel(p,_,I,S,this._undoRedoService,this._languageService,this._languageConfigurationService);if(S&&this._disposedModels.has(l(S))){const R=this._removeDisposedModel(S),M=this._undoRedoService.getElements(S),P=this._getSHA1Computer(),F=P.canComputeSHA1(T)?P.computeSHA1(T)===R.sha1:!1;if(F||R.sharesUndoRedoStack){for(const O of M.past)(0,i.isEditStackElement)(O)&&O.matchesResource(S)&&O.setModel(T);for(const O of M.future)(0,i.isEditStackElement)(O)&&O.matchesResource(S)&&O.setModel(T);this._undoRedoService.setElementsValidFlag(S,!0,O=>(0,i.isEditStackElement)(O)&&O.matchesResource(S)),F&&(T._overwriteVersionId(R.versionId),T._overwriteAlternativeVersionId(R.alternativeVersionId),T._overwriteInitialUndoRedoSnapshot(R.initialUndoRedoSnapshot))}else R.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(R.initialUndoRedoSnapshot)}const N=l(T.uri);if(this._models[N])throw new Error("ModelService: Cannot add model because it already exists!");const A=new r(T,R=>this._onWillDispose(R),(R,M)=>this._onDidChangeLanguage(R,M));return this._models[N]=A,A}createModel(p,_,S,E=!1){let I;return _?I=this._createModelData(p,_,S,E):I=this._createModelData(p,m.PLAINTEXT_LANGUAGE_ID,S,E),this._onModelAdded.fire(I.model),I.model}getModels(){const p=[],_=Object.keys(this._models);for(let S=0,E=_.length;S<E;S++){const I=_[S];p.push(this._models[I].model)}return p}getModel(p){const _=l(p),S=this._models[_];return S?S.model:null}_schemaShouldMaintainUndoRedoElements(p){return p.scheme===t.Schemas.file||p.scheme===t.Schemas.vscodeRemote||p.scheme===t.Schemas.vscodeUserData||p.scheme===t.Schemas.vscodeNotebookCell||p.scheme==="fake-fs"}_onWillDispose(p){const _=l(p.uri),S=this._models[_],E=this._undoRedoService.getUriComparisonKey(p.uri)!==p.uri.toString();let I=!1,T=0;if(E||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(p.uri)){const R=this._undoRedoService.getElements(p.uri);if(R.past.length>0||R.future.length>0){for(const M of R.past)(0,i.isEditStackElement)(M)&&M.matchesResource(p.uri)&&(I=!0,T+=M.heapSize(p.uri),M.setModel(p.uri));for(const M of R.future)(0,i.isEditStackElement)(M)&&M.matchesResource(p.uri)&&(I=!0,T+=M.heapSize(p.uri),M.setModel(p.uri))}}const N=g.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,A=this._getSHA1Computer();if(I)if(!E&&(T>N||!A.canComputeSHA1(p))){const R=S.model.getInitialUndoRedoSnapshot();R!==null&&this._undoRedoService.restoreSnapshot(R)}else this._ensureDisposedModelsHeapSize(N-T),this._undoRedoService.setElementsValidFlag(p.uri,!1,R=>(0,i.isEditStackElement)(R)&&R.matchesResource(p.uri)),this._insertDisposedModel(new u(p.uri,S.model.getInitialUndoRedoSnapshot(),Date.now(),E,T,A.computeSHA1(p),p.getVersionId(),p.getAlternativeVersionId()));else if(!E){const R=S.model.getInitialUndoRedoSnapshot();R!==null&&this._undoRedoService.restoreSnapshot(R)}delete this._models[_],S.dispose(),delete this._modelCreationOptionsByLanguageAndResource[p.getLanguageId()+p.uri],this._onModelRemoved.fire(p)}_onDidChangeLanguage(p,_){const S=_.oldLanguage,E=p.getLanguageId(),I=this.getCreationOptions(S,p.uri,p.isForSimpleWidget),T=this.getCreationOptions(E,p.uri,p.isForSimpleWidget);g._setModelOptionsForModel(p,T,I),this._onModelModeChanged.fire({model:p,oldLanguageId:S})}_getSHA1Computer(){return new v}};e.ModelService=a,a.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=a=g=ke([ge(0,C.IConfigurationService),ge(1,b.ITextResourcePropertiesService),ge(2,o.IUndoRedoService),ge(3,w.ILanguageService),ge(4,c.ILanguageConfigurationService)],a);class v{canComputeSHA1(p){return p.getValueLength()<=v.MAX_MODEL_SIZE}computeSHA1(p){const _=new n.StringSHA1,S=p.createSnapshot();let E;for(;E=S.read();)_.update(E);return _.digest()}}e.DefaultModelSHA1Computer=v,v.MAX_MODEL_SIZE=10*1024*1024}),define(ne[950],se([1,0,13,10,5,235,37,129,239,583,315,92]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class n{constructor(d,u,a,v,h,p,_,S,E,I){this._editorId=d,this.model=u,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=a,this._monospaceLineBreaksComputerFactory=v,this.fontInfo=h,this.tabSize=p,this.wrappingStrategy=_,this.wrappingColumn=S,this.wrappingIndent=E,this.wordBreak=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new c(this)}_constructLines(d,u){this.modelLineProjections=[],d&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const a=this.model.getLinesContent(),v=this.model.getInjectedTextDecorations(this._editorId),h=a.length,p=this.createLineBreaksComputer(),_=new f.ArrayQueue(m.LineInjectedText.fromDecorations(v));for(let M=0;M<h;M++){const P=_.takeWhile(F=>F.lineNumber===M+1);p.addRequest(a[M],P,u?u[M]:null)}const S=p.finalize(),E=[],I=this.hiddenAreasDecorationIds.map(M=>this.model.getDecorationRange(M)).sort(L.Range.compareRangesUsingStarts);let T=1,N=0,A=-1,R=A+1<I.length?N+1:h+2;for(let M=0;M<h;M++){const P=M+1;P===R&&(A++,T=I[A].startLineNumber,N=I[A].endLineNumber,R=A+1<I.length?N+1:h+2);const F=P>=T&&P<=N,O=(0,b.createModelLineProjection)(S[M],!F);E[M]=O.getViewLineCount(),this.modelLineProjections[M]=O}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new C.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(d=>this.model.getDecorationRange(d))}setHiddenAreas(d){const u=d.map(N=>this.model.validateRange(N)),a=i(u),v=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(L.Range.compareRangesUsingStarts);if(a.length===v.length){let N=!1;for(let A=0;A<a.length;A++)if(!a[A].equalsRange(v[A])){N=!0;break}if(!N)return!1}const h=a.map(N=>({range:N,options:y.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,h);const p=a;let _=1,S=0,E=-1,I=E+1<p.length?S+1:this.modelLineProjections.length+2,T=!1;for(let N=0;N<this.modelLineProjections.length;N++){const A=N+1;A===I&&(E++,_=p[E].startLineNumber,S=p[E].endLineNumber,I=E+1<p.length?S+1:this.modelLineProjections.length+2);let R=!1;if(A>=_&&A<=S?this.modelLineProjections[N].isVisible()&&(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!1),R=!0):(T=!0,this.modelLineProjections[N].isVisible()||(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!0),R=!0)),R){const M=this.modelLineProjections[N].getViewLineCount();this.projectedModelLineLineCounts.setValue(N,M)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(d,u){return d<1||d>this.modelLineProjections.length?!1:this.modelLineProjections[d-1].isVisible()}getModelLineViewLineCount(d){return d<1||d>this.modelLineProjections.length?1:this.modelLineProjections[d-1].getViewLineCount()}setTabSize(d){return this.tabSize===d?!1:(this.tabSize=d,this._constructLines(!1,null),!0)}setWrappingSettings(d,u,a,v,h){const p=this.fontInfo.equals(d),_=this.wrappingStrategy===u,S=this.wrappingColumn===a,E=this.wrappingIndent===v,I=this.wordBreak===h;if(p&&_&&S&&E&&I)return!1;const T=p&&_&&!S&&E&&I;this.fontInfo=d,this.wrappingStrategy=u,this.wrappingColumn=a,this.wrappingIndent=v,this.wordBreak=h;let N=null;if(T){N=[];for(let A=0,R=this.modelLineProjections.length;A<R;A++)N[A]=this.modelLineProjections[A].getProjectionData()}return this._constructLines(!1,N),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(d,u,a){if(!d||d<=this._validModelVersionId)return null;const v=u===1?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,h=this.projectedModelLineLineCounts.getPrefixSum(a);return this.modelLineProjections.splice(u-1,a-u+1),this.projectedModelLineLineCounts.removeValues(u-1,a-u+1),new w.ViewLinesDeletedEvent(v,h)}onModelLinesInserted(d,u,a,v){if(!d||d<=this._validModelVersionId)return null;const h=u>2&&!this.modelLineProjections[u-2].isVisible(),p=u===1?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1;let _=0;const S=[],E=[];for(let I=0,T=v.length;I<T;I++){const N=(0,b.createModelLineProjection)(v[I],!h);S.push(N);const A=N.getViewLineCount();_+=A,E[I]=A}return this.modelLineProjections=this.modelLineProjections.slice(0,u-1).concat(S).concat(this.modelLineProjections.slice(u-1)),this.projectedModelLineLineCounts.insertValues(u-1,E),new w.ViewLinesInsertedEvent(p,p+_-1)}onModelLineChanged(d,u,a){if(d!==null&&d<=this._validModelVersionId)return[!1,null,null,null];const v=u-1,h=this.modelLineProjections[v].getViewLineCount(),p=this.modelLineProjections[v].isVisible(),_=(0,b.createModelLineProjection)(a,p);this.modelLineProjections[v]=_;const S=this.modelLineProjections[v].getViewLineCount();let E=!1,I=0,T=-1,N=0,A=-1,R=0,M=-1;h>S?(I=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,T=I+S-1,R=T+1,M=R+(h-S)-1,E=!0):h<S?(I=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,T=I+h-1,N=T+1,A=N+(S-h)-1,E=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,T=I+S-1),this.projectedModelLineLineCounts.setValue(v,S);const P=I<=T?new w.ViewLinesChangedEvent(I,T-I+1):null,F=N<=A?new w.ViewLinesInsertedEvent(N,A):null,O=R<=M?new w.ViewLinesDeletedEvent(R,M):null;return[E,P,F,O]}acceptVersionId(d){this._validModelVersionId=d,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(d){if(d<1)return 1;const u=this.getViewLineCount();return d>u?u:d|0}getActiveIndentGuide(d,u,a){d=this._toValidViewLineNumber(d),u=this._toValidViewLineNumber(u),a=this._toValidViewLineNumber(a);const v=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),h=this.convertViewPositionToModelPosition(u,this.getViewLineMinColumn(u)),p=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),_=this.model.guides.getActiveIndentGuide(v.lineNumber,h.lineNumber,p.lineNumber),S=this.convertModelPositionToViewPosition(_.startLineNumber,1),E=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:S.lineNumber,endLineNumber:E.lineNumber,indent:_.indent}}getViewLineInfo(d){d=this._toValidViewLineNumber(d);const u=this.projectedModelLineLineCounts.getIndexOf(d-1),a=u.index,v=u.remainder;return new t(a+1,v)}getMinColumnOfViewLine(d){return this.modelLineProjections[d.modelLineNumber-1].getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(d){return this.modelLineProjections[d.modelLineNumber-1].getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(d){const u=this.modelLineProjections[d.modelLineNumber-1],a=u.getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx),v=u.getModelColumnOfViewPosition(d.modelLineWrappedLineIdx,a);return new k.Position(d.modelLineNumber,v)}getModelEndPositionOfViewLine(d){const u=this.modelLineProjections[d.modelLineNumber-1],a=u.getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx),v=u.getModelColumnOfViewPosition(d.modelLineWrappedLineIdx,a);return new k.Position(d.modelLineNumber,v)}getViewLineInfosGroupedByModelRanges(d,u){const a=this.getViewLineInfo(d),v=this.getViewLineInfo(u),h=new Array;let p=this.getModelStartPositionOfViewLine(a),_=new Array;for(let S=a.modelLineNumber;S<=v.modelLineNumber;S++){const E=this.modelLineProjections[S-1];if(E.isVisible()){const I=S===a.modelLineNumber?a.modelLineWrappedLineIdx:0,T=S===v.modelLineNumber?v.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let N=I;N<T;N++)_.push(new t(S,N))}if(!E.isVisible()&&p){const I=new k.Position(S-1,this.model.getLineMaxColumn(S-1)+1),T=L.Range.fromPositions(p,I);h.push(new s(T,_)),_=[],p=null}else E.isVisible()&&!p&&(p=new k.Position(S,1))}if(p){const S=L.Range.fromPositions(p,this.getModelEndPositionOfViewLine(v));h.push(new s(S,_))}return h}getViewLinesBracketGuides(d,u,a,v){const h=a?this.convertViewPositionToModelPosition(a.lineNumber,a.column):null,p=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(d,u)){const S=_.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(S,_.modelRange.endLineNumber,h,v);for(const I of _.viewLines){const N=E[I.modelLineNumber-S].map(A=>{if(A.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||A.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!A.horizontalLine)return A;let R=-1;if(A.column!==-1){const F=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.column);if(F.lineNumber===I.modelLineWrappedLineIdx)R=F.column;else if(F.lineNumber<I.modelLineWrappedLineIdx)R=this.getMinColumnOfViewLine(I);else if(F.lineNumber>I.modelLineWrappedLineIdx)return}const M=this.convertModelPositionToViewPosition(I.modelLineNumber,A.horizontalLine.endColumn),P=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.horizontalLine.endColumn);return P.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(A.visibleColumn,R,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,M.column),-1,-1):P.lineNumber<I.modelLineWrappedLineIdx||A.visibleColumn!==-1?void 0:new D.IndentGuide(A.visibleColumn,R,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});p.push(N.filter(A=>!!A))}}return p}getViewLinesIndentGuides(d,u){d=this._toValidViewLineNumber(d),u=this._toValidViewLineNumber(u);const a=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),v=this.convertViewPositionToModelPosition(u,this.getViewLineMaxColumn(u));let h=[];const p=[],_=[],S=a.lineNumber-1,E=v.lineNumber-1;let I=null;for(let R=S;R<=E;R++){const M=this.modelLineProjections[R];if(M.isVisible()){const P=M.getViewLineNumberOfModelPosition(0,R===S?a.column:1),F=M.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(R+1)),O=F-P+1;let B=0;O>1&&M.getViewLineMinColumn(this.model,R+1,F)===1&&(B=P===0?1:2),p.push(O),_.push(B),I===null&&(I=new k.Position(R+1,0))}else I!==null&&(h=h.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,R)),I=null)}I!==null&&(h=h.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,v.lineNumber)),I=null);const T=u-d+1,N=new Array(T);let A=0;for(let R=0,M=h.length;R<M;R++){let P=h[R];const F=Math.min(T-A,p[R]),O=_[R];let B;O===2?B=0:O===1?B=1:B=F;for(let V=0;V<F;V++)V===B&&(P=0),N[A++]=P}return N}getViewLineContent(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineContent(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineLength(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineLength(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMinColumn(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMinColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMaxColumn(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMaxColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineData(d){const u=this.getViewLineInfo(d);return this.modelLineProjections[u.modelLineNumber-1].getViewLineData(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLinesData(d,u,a){d=this._toValidViewLineNumber(d),u=this._toValidViewLineNumber(u);const v=this.projectedModelLineLineCounts.getIndexOf(d-1);let h=d;const p=v.index,_=v.remainder,S=[];for(let E=p,I=this.model.getLineCount();E<I;E++){const T=this.modelLineProjections[E];if(!T.isVisible())continue;const N=E===p?_:0;let A=T.getViewLineCount()-N,R=!1;if(h+A>u&&(R=!0,A=u-h+1),T.getViewLinesData(this.model,E+1,N,A,h-d,a,S),h+=A,R)break}return S}validateViewPosition(d,u,a){d=this._toValidViewLineNumber(d);const v=this.projectedModelLineLineCounts.getIndexOf(d-1),h=v.index,p=v.remainder,_=this.modelLineProjections[h],S=_.getViewLineMinColumn(this.model,h+1,p),E=_.getViewLineMaxColumn(this.model,h+1,p);u<S&&(u=S),u>E&&(u=E);const I=_.getModelColumnOfViewPosition(p,u);return this.model.validatePosition(new k.Position(h+1,I)).equals(a)?new k.Position(d,u):this.convertModelPositionToViewPosition(a.lineNumber,a.column)}validateViewRange(d,u){const a=this.validateViewPosition(d.startLineNumber,d.startColumn,u.getStartPosition()),v=this.validateViewPosition(d.endLineNumber,d.endColumn,u.getEndPosition());return new L.Range(a.lineNumber,a.column,v.lineNumber,v.column)}convertViewPositionToModelPosition(d,u){const a=this.getViewLineInfo(d),v=this.modelLineProjections[a.modelLineNumber-1].getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,u);return this.model.validatePosition(new k.Position(a.modelLineNumber,v))}convertViewRangeToModelRange(d){const u=this.convertViewPositionToModelPosition(d.startLineNumber,d.startColumn),a=this.convertViewPositionToModelPosition(d.endLineNumber,d.endColumn);return new L.Range(u.lineNumber,u.column,a.lineNumber,a.column)}convertModelPositionToViewPosition(d,u,a=2,v=!1,h=!1){const p=this.model.validatePosition(new k.Position(d,u)),_=p.lineNumber,S=p.column;let E=_-1,I=!1;if(h)for(;E<this.modelLineProjections.length&&!this.modelLineProjections[E].isVisible();)E++,I=!0;else for(;E>0&&!this.modelLineProjections[E].isVisible();)E--,I=!0;if(E===0&&!this.modelLineProjections[E].isVisible())return new k.Position(v?0:1,1);const T=1+this.projectedModelLineLineCounts.getPrefixSum(E);let N;return I?h?N=this.modelLineProjections[E].getViewPositionOfModelPosition(T,1,a):N=this.modelLineProjections[E].getViewPositionOfModelPosition(T,this.model.getLineMaxColumn(E+1),a):N=this.modelLineProjections[_-1].getViewPositionOfModelPosition(T,S,a),N}convertModelRangeToViewRange(d,u=0){if(d.isEmpty()){const a=this.convertModelPositionToViewPosition(d.startLineNumber,d.startColumn,u);return L.Range.fromPositions(a)}else{const a=this.convertModelPositionToViewPosition(d.startLineNumber,d.startColumn,1),v=this.convertModelPositionToViewPosition(d.endLineNumber,d.endColumn,0);return new L.Range(a.lineNumber,a.column,v.lineNumber,v.column)}}getViewLineNumberOfModelPosition(d,u){let a=d-1;if(this.modelLineProjections[a].isVisible()){const h=1+this.projectedModelLineLineCounts.getPrefixSum(a);return this.modelLineProjections[a].getViewLineNumberOfModelPosition(h,u)}for(;a>0&&!this.modelLineProjections[a].isVisible();)a--;if(a===0&&!this.modelLineProjections[a].isVisible())return 1;const v=1+this.projectedModelLineLineCounts.getPrefixSum(a);return this.modelLineProjections[a].getViewLineNumberOfModelPosition(v,this.model.getLineMaxColumn(a+1))}getDecorationsInRange(d,u,a,v,h){const p=this.convertViewPositionToModelPosition(d.startLineNumber,d.startColumn),_=this.convertViewPositionToModelPosition(d.endLineNumber,d.endColumn);if(_.lineNumber-p.lineNumber<=d.endLineNumber-d.startLineNumber)return this.model.getDecorationsInRange(new L.Range(p.lineNumber,1,_.lineNumber,_.column),u,a,v,h);let S=[];const E=p.lineNumber-1,I=_.lineNumber-1;let T=null;for(let M=E;M<=I;M++)if(this.modelLineProjections[M].isVisible())T===null&&(T=new k.Position(M+1,M===E?p.column:1));else if(T!==null){const F=this.model.getLineMaxColumn(M);S=S.concat(this.model.getDecorationsInRange(new L.Range(T.lineNumber,T.column,M,F),u,a,v)),T=null}T!==null&&(S=S.concat(this.model.getDecorationsInRange(new L.Range(T.lineNumber,T.column,_.lineNumber,_.column),u,a,v)),T=null),S.sort((M,P)=>{const F=L.Range.compareRangesUsingStarts(M.range,P.range);return F===0?M.id<P.id?-1:M.id>P.id?1:0:F});const N=[];let A=0,R=null;for(const M of S){const P=M.id;R!==P&&(R=P,N[A++]=M)}return N}getInjectedTextAt(d){const u=this.getViewLineInfo(d.lineNumber);return this.modelLineProjections[u.modelLineNumber-1].getInjectedTextAt(u.modelLineWrappedLineIdx,d.column)}normalizePosition(d,u){const a=this.getViewLineInfo(d.lineNumber);return this.modelLineProjections[a.modelLineNumber-1].normalizePosition(a.modelLineWrappedLineIdx,d,u)}getLineIndentColumn(d){const u=this.getViewLineInfo(d);return u.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(u.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=n;function i(r){if(r.length===0)return[];const d=r.slice();d.sort(L.Range.compareRangesUsingStarts);const u=[];let a=d[0].startLineNumber,v=d[0].endLineNumber;for(let h=1,p=d.length;h<p;h++){const _=d[h];_.startLineNumber>v+1?(u.push(new L.Range(a,1,v,1)),a=_.startLineNumber,v=_.endLineNumber):_.endLineNumber>v&&(v=_.endLineNumber)}return u.push(new L.Range(a,1,v,1)),u}class t{constructor(d,u){this.modelLineNumber=d,this.modelLineWrappedLineIdx=u}}class s{constructor(d,u){this.modelRange=d,this.viewLines=u}}class c{constructor(d){this._lines=d}convertViewPositionToModelPosition(d){return this._lines.convertViewPositionToModelPosition(d.lineNumber,d.column)}convertViewRangeToModelRange(d){return this._lines.convertViewRangeToModelRange(d)}validateViewPosition(d,u){return this._lines.validateViewPosition(d.lineNumber,d.column,u)}validateViewRange(d,u){return this._lines.validateViewRange(d,u)}convertModelPositionToViewPosition(d,u,a,v){return this._lines.convertModelPositionToViewPosition(d.lineNumber,d.column,u,a,v)}convertModelRangeToViewRange(d,u){return this._lines.convertModelRangeToViewRange(d,u)}modelPositionIsVisible(d){return this._lines.modelPositionIsVisible(d.lineNumber,d.column)}getModelLineViewLineCount(d){return this._lines.getModelLineViewLineCount(d)}getViewLineNumberOfModelPosition(d,u){return this._lines.getViewLineNumberOfModelPosition(d,u)}}class g{constructor(d){this.model=d}dispose(){}createCoordinatesConverter(){return new l(this)}getHiddenAreas(){return[]}setHiddenAreas(d){return!1}setTabSize(d){return!1}setWrappingSettings(d,u,a,v){return!1}createLineBreaksComputer(){const d=[];return{addRequest:(u,a,v)=>{d.push(null)},finalize:()=>d}}onModelFlushed(){}onModelLinesDeleted(d,u,a){return new w.ViewLinesDeletedEvent(u,a)}onModelLinesInserted(d,u,a,v){return new w.ViewLinesInsertedEvent(u,a)}onModelLineChanged(d,u,a){return[!1,new w.ViewLinesChangedEvent(u,1),null,null]}acceptVersionId(d){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(d,u,a){return{startLineNumber:d,endLineNumber:d,indent:0}}getViewLinesBracketGuides(d,u,a){return new Array(u-d+1).fill([])}getViewLinesIndentGuides(d,u){const a=u-d+1,v=new Array(a);for(let h=0;h<a;h++)v[h]=0;return v}getViewLineContent(d){return this.model.getLineContent(d)}getViewLineLength(d){return this.model.getLineLength(d)}getViewLineMinColumn(d){return this.model.getLineMinColumn(d)}getViewLineMaxColumn(d){return this.model.getLineMaxColumn(d)}getViewLineData(d){const u=this.model.tokenization.getLineTokens(d),a=u.getLineContent();return new o.ViewLineData(a,!1,1,a.length+1,0,u.inflate(),null)}getViewLinesData(d,u,a){const v=this.model.getLineCount();d=Math.min(Math.max(1,d),v),u=Math.min(Math.max(1,u),v);const h=[];for(let p=d;p<=u;p++){const _=p-d;h[_]=a[_]?this.getViewLineData(p):null}return h}getDecorationsInRange(d,u,a,v,h){return this.model.getDecorationsInRange(d,u,a,v,h)}normalizePosition(d,u){return this.model.normalizePosition(d,u)}getLineIndentColumn(d){return this.model.getLineIndentColumn(d)}getInjectedTextAt(d){return null}}e.ViewModelLinesFromModelAsIs=g;class l{constructor(d){this._lines=d}_validPosition(d){return this._lines.model.validatePosition(d)}_validRange(d){return this._lines.model.validateRange(d)}convertViewPositionToModelPosition(d){return this._validPosition(d)}convertViewRangeToModelRange(d){return this._validRange(d)}validateViewPosition(d,u){return this._validPosition(u)}validateViewRange(d,u){return this._validRange(u)}convertModelPositionToViewPosition(d){return this._validPosition(d)}convertModelRangeToViewRange(d){return this._validRange(d)}modelPositionIsVisible(d){const u=this._lines.model.getLineCount();return!(d.lineNumber<1||d.lineNumber>u)}getModelLineViewLineCount(d){return 1}getViewLineNumberOfModelPosition(d,u){return d}}}),define(ne[951],se([1,0,13,15,34,2,17,11,38,847,79,10,5,129,27,85,362,239,587,364,92,361,240,950,582]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const p=!0;class _ extends D.Disposable{constructor(M,P,F,O,B,V,K,U,G){if(super(),this.languageConfigurationService=K,this._themeService=U,this._attachedView=G,this.hiddenAreasModel=new I,this.previousHiddenAreas=[],this._editorId=M,this._configuration=P,this.model=F,this._eventDispatcher=new a.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=S.create(this.model),this.glyphLanes=new h.GlyphMarginLanesModel(0),p&&this.model.isTooLargeForTokenization())this._lines=new v.ViewModelLinesFromModelAsIs(this.model);else{const z=this._configuration.options,$=z.get(50),J=z.get(139),ee=z.get(146),Z=z.get(138),x=z.get(129);this._lines=new v.ViewModelLinesFromProjectedModel(this._editorId,this.model,O,B,$,this.model.getOptions().tabSize,J,ee.wrappingColumn,Z,x)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new b.CursorsController(F,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new l.ViewLayout(this._configuration,this.getLineCount(),V)),this._register(this.viewLayout.onDidScroll(z=>{z.scrollTopChanged&&this._handleVisibleLinesChanged(),z.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new g.ViewScrollChangedEvent(z)),this._eventDispatcher.emitOutgoingEvent(new a.ScrollChangedEvent(z.oldScrollWidth,z.oldScrollLeft,z.oldScrollHeight,z.oldScrollTop,z.scrollWidth,z.scrollLeft,z.scrollHeight,z.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(z=>{this._eventDispatcher.emitOutgoingEvent(z)})),this._decorations=new u.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(z=>{try{const $=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged($,z)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(r.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new g.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(z=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new g.ViewThemeChangedEvent(z))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(M){this._eventDispatcher.addViewEventHandler(M)}removeViewEventHandler(M){this._eventDispatcher.removeViewEventHandler(M)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const M=this.viewLayout.getLinesViewportData(),P=new n.Range(M.startLineNumber,this.getLineMinColumn(M.startLineNumber),M.endLineNumber,this.getLineMaxColumn(M.endLineNumber));return this._toModelVisibleRanges(P)}visibleLinesStabilized(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!0)}_handleVisibleLinesChanged(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!1)}setHasFocus(M){this._hasFocus=M,this._cursor.setHasFocus(M),this._eventDispatcher.emitSingleViewEvent(new g.ViewFocusChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new a.FocusChangedEvent(!M,M))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new g.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new g.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const M=new o.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),P=this.coordinatesConverter.convertViewPositionToModelPosition(M);return new A(P,this._viewportStart.startLineDelta)}return new A(null,0)}_onConfigurationChanged(M,P){const F=this._captureStableViewport(),O=this._configuration.options,B=O.get(50),V=O.get(139),K=O.get(146),U=O.get(138),G=O.get(129);this._lines.setWrappingSettings(B,V,K.wrappingColumn,U,G)&&(M.emitViewEvent(new g.ViewFlushedEvent),M.emitViewEvent(new g.ViewLineMappingChangedEvent),M.emitViewEvent(new g.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),P.hasChanged(91)&&(this._decorations.reset(),M.emitViewEvent(new g.ViewDecorationsChangedEvent(null))),P.hasChanged(98)&&(this._decorations.reset(),M.emitViewEvent(new g.ViewDecorationsChangedEvent(null))),M.emitViewEvent(new g.ViewConfigurationChangedEvent(P)),this.viewLayout.onConfigurationChanged(P),F.recoverViewportStart(this.coordinatesConverter,this.viewLayout),C.CursorConfiguration.shouldRecreate(P)&&(this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(M=>{try{const F=this._eventDispatcher.beginEmitViewEvents();let O=!1,B=!1;const V=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.changes:M.changes,K=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.versionId:null,U=this._lines.createLineBreaksComputer();for(const $ of V)switch($.changeType){case 4:{for(let J=0;J<$.detail.length;J++){const ee=$.detail[J];let Z=$.injectedTexts[J];Z&&(Z=Z.filter(x=>!x.ownerId||x.ownerId===this._editorId)),U.addRequest(ee,Z,null)}break}case 2:{let J=null;$.injectedText&&(J=$.injectedText.filter(ee=>!ee.ownerId||ee.ownerId===this._editorId)),U.addRequest($.detail,J,null);break}}const G=U.finalize(),z=new f.ArrayQueue(G);for(const $ of V)switch($.changeType){case 1:{this._lines.onModelFlushed(),F.emitViewEvent(new g.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),O=!0;break}case 3:{const J=this._lines.onModelLinesDeleted(K,$.fromLineNumber,$.toLineNumber);J!==null&&(F.emitViewEvent(J),this.viewLayout.onLinesDeleted(J.fromLineNumber,J.toLineNumber)),O=!0;break}case 4:{const J=z.takeCount($.detail.length),ee=this._lines.onModelLinesInserted(K,$.fromLineNumber,$.toLineNumber,J);ee!==null&&(F.emitViewEvent(ee),this.viewLayout.onLinesInserted(ee.fromLineNumber,ee.toLineNumber)),O=!0;break}case 2:{const J=z.dequeue(),[ee,Z,x,Y]=this._lines.onModelLineChanged(K,$.lineNumber,J);B=ee,Z&&F.emitViewEvent(Z),x&&(F.emitViewEvent(x),this.viewLayout.onLinesInserted(x.fromLineNumber,x.toLineNumber)),Y&&(F.emitViewEvent(Y),this.viewLayout.onLinesDeleted(Y.fromLineNumber,Y.toLineNumber));break}case 5:break}K!==null&&this._lines.acceptVersionId(K),this.viewLayout.onHeightMaybeChanged(),!O&&B&&(F.emitViewEvent(new g.ViewLineMappingChangedEvent),F.emitViewEvent(new g.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(F),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const P=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&P){const F=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(F){const O=this.coordinatesConverter.convertModelPositionToViewPosition(F.getStartPosition()),B=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStart.startLineDelta},1)}}try{const F=this._eventDispatcher.beginEmitViewEvents();M instanceof i.InternalModelContentChangeEvent&&F.emitOutgoingEvent(new a.ModelContentChangedEvent(M.contentChangedEvent)),this._cursor.onModelContentChanged(F,M)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(M=>{const P=[];for(let F=0,O=M.ranges.length;F<O;F++){const B=M.ranges[F],V=this.coordinatesConverter.convertModelPositionToViewPosition(new o.Position(B.fromLineNumber,1)).lineNumber,K=this.coordinatesConverter.convertModelPositionToViewPosition(new o.Position(B.toLineNumber,this.model.getLineMaxColumn(B.toLineNumber))).lineNumber;P[F]={fromLineNumber:V,toLineNumber:K}}this._eventDispatcher.emitSingleViewEvent(new g.ViewTokensChangedEvent(P)),this._eventDispatcher.emitOutgoingEvent(new a.ModelTokensChangedEvent(M))})),this._register(this.model.onDidChangeLanguageConfiguration(M=>{this._eventDispatcher.emitSingleViewEvent(new g.ViewLanguageConfigurationEvent),this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new a.ModelLanguageConfigurationChangedEvent(M))})),this._register(this.model.onDidChangeLanguage(M=>{this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new a.ModelLanguageChangedEvent(M))})),this._register(this.model.onDidChangeOptions(M=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const P=this._eventDispatcher.beginEmitViewEvents();P.emitViewEvent(new g.ViewFlushedEvent),P.emitViewEvent(new g.ViewLineMappingChangedEvent),P.emitViewEvent(new g.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(P),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new a.ModelOptionsChangedEvent(M))})),this._register(this.model.onDidChangeDecorations(M=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new g.ViewDecorationsChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new a.ModelDecorationsChangedEvent(M))}))}setHiddenAreas(M,P){var F;this.hiddenAreasModel.setHiddenAreas(P,M);const O=this.hiddenAreasModel.getMergedRanges();if(O===this.previousHiddenAreas)return;this.previousHiddenAreas=O;const B=this._captureStableViewport();let V=!1;try{const K=this._eventDispatcher.beginEmitViewEvents();V=this._lines.setHiddenAreas(O),V&&(K.emitViewEvent(new g.ViewFlushedEvent),K.emitViewEvent(new g.ViewLineMappingChangedEvent),K.emitViewEvent(new g.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(K),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const U=(F=B.viewportStartModelPosition)===null||F===void 0?void 0:F.lineNumber;U&&O.some(z=>z.startLineNumber<=U&&U<=z.endLineNumber)||B.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),V&&this._eventDispatcher.emitOutgoingEvent(new a.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const M=this._configuration.options.get(145),P=this._configuration.options.get(67),F=Math.max(20,Math.round(M.height/P)),O=this.viewLayout.getLinesViewportData(),B=Math.max(1,O.completelyVisibleStartLineNumber-F),V=Math.min(this.getLineCount(),O.completelyVisibleEndLineNumber+F);return this._toModelVisibleRanges(new n.Range(B,this.getLineMinColumn(B),V,this.getLineMaxColumn(V)))}getVisibleRanges(){const M=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(M)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(M){const P=this.coordinatesConverter.convertViewRangeToModelRange(M),F=this._lines.getHiddenAreas();if(F.length===0)return[P];const O=[];let B=0,V=P.startLineNumber,K=P.startColumn;const U=P.endLineNumber,G=P.endColumn;for(let z=0,$=F.length;z<$;z++){const J=F[z].startLineNumber,ee=F[z].endLineNumber;ee<V||J>U||(V<J&&(O[B++]=new n.Range(V,K,J-1,this.model.getLineMaxColumn(J-1))),V=ee+1,K=1)}return(V<U||V===U&&K<G)&&(O[B++]=new n.Range(V,K,U,G)),O}getCompletelyVisibleViewRange(){const M=this.viewLayout.getLinesViewportData(),P=M.completelyVisibleStartLineNumber,F=M.completelyVisibleEndLineNumber;return new n.Range(P,this.getLineMinColumn(P),F,this.getLineMaxColumn(F))}getCompletelyVisibleViewRangeAtScrollTop(M){const P=this.viewLayout.getLinesViewportDataAtScrollTop(M),F=P.completelyVisibleStartLineNumber,O=P.completelyVisibleEndLineNumber;return new n.Range(F,this.getLineMinColumn(F),O,this.getLineMaxColumn(O))}saveState(){const M=this.viewLayout.saveState(),P=M.scrollTop,F=this.viewLayout.getLineNumberAtVerticalOffset(P),O=this.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(F,this.getLineMinColumn(F))),B=this.viewLayout.getVerticalOffsetForLineNumber(F)-P;return{scrollLeft:M.scrollLeft,firstPosition:O,firstPositionDeltaTop:B}}reduceRestoreState(M){if(typeof M.firstPosition>"u")return this._reduceRestoreStateCompatibility(M);const P=this.model.validatePosition(M.firstPosition),F=this.coordinatesConverter.convertModelPositionToViewPosition(P),O=this.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber)-M.firstPositionDeltaTop;return{scrollLeft:M.scrollLeft,scrollTop:O}}_reduceRestoreStateCompatibility(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(M,P,F){this._viewportStart.update(this,M)}getActiveIndentGuide(M,P,F){return this._lines.getActiveIndentGuide(M,P,F)}getLinesIndentGuides(M,P){return this._lines.getViewLinesIndentGuides(M,P)}getBracketGuidesInRangeByLine(M,P,F,O){return this._lines.getViewLinesBracketGuides(M,P,F,O)}getLineContent(M){return this._lines.getViewLineContent(M)}getLineLength(M){return this._lines.getViewLineLength(M)}getLineMinColumn(M){return this._lines.getViewLineMinColumn(M)}getLineMaxColumn(M){return this._lines.getViewLineMaxColumn(M)}getLineFirstNonWhitespaceColumn(M){const P=m.firstNonWhitespaceIndex(this.getLineContent(M));return P===-1?0:P+1}getLineLastNonWhitespaceColumn(M){const P=m.lastNonWhitespaceIndex(this.getLineContent(M));return P===-1?0:P+2}getMinimapDecorationsInRange(M){return this._decorations.getMinimapDecorationsInRange(M)}getDecorationsInViewport(M){return this._decorations.getDecorationsViewportData(M).decorations}getInjectedTextAt(M){return this._lines.getInjectedTextAt(M)}getViewportViewLineRenderingData(M,P){const O=this._decorations.getDecorationsViewportData(M).inlineDecorations[P-M.startLineNumber];return this._getViewLineRenderingData(P,O)}getViewLineRenderingData(M){const P=this._decorations.getInlineDecorationsOnLine(M);return this._getViewLineRenderingData(M,P)}_getViewLineRenderingData(M,P){const F=this.model.mightContainRTL(),O=this.model.mightContainNonBasicASCII(),B=this.getTabSize(),V=this._lines.getViewLineData(M);return V.inlineDecorations&&(P=[...P,...V.inlineDecorations.map(K=>K.toInlineDecoration(M))]),new d.ViewLineRenderingData(V.minColumn,V.maxColumn,V.content,V.continuesWithWrappedLine,F,O,V.tokens,P,B,V.startVisibleColumn)}getViewLineData(M){return this._lines.getViewLineData(M)}getMinimapLinesRenderingData(M,P,F){const O=this._lines.getViewLinesData(M,P,F);return new d.MinimapLinesRenderingData(this.getTabSize(),O)}getAllOverviewRulerDecorations(M){const P=this.model.getOverviewRulerDecorations(this._editorId,(0,w.filterValidationDecorations)(this._configuration.options)),F=new E;for(const O of P){const B=O.options,V=B.overviewRuler;if(!V)continue;const K=V.position;if(K===0)continue;const U=V.getColor(M.value),G=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.startLineNumber,O.range.startColumn),z=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.endLineNumber,O.range.endColumn);F.accept(U,B.zIndex,G,z,K)}return F.asArray}_invalidateDecorationsColorCache(){const M=this.model.getOverviewRulerDecorations();for(const P of M){const F=P.options.overviewRuler;F?.invalidateCachedColor();const O=P.options.minimap;O?.invalidateCachedColor()}}getValueInRange(M,P){const F=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueInRange(F,P)}getValueLengthInRange(M,P){const F=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueLengthInRange(F,P)}modifyPosition(M,P){const F=this.coordinatesConverter.convertViewPositionToModelPosition(M),O=this.model.modifyPosition(F,P);return this.coordinatesConverter.convertModelPositionToViewPosition(O)}deduceModelPositionRelativeToViewPosition(M,P,F){const O=this.coordinatesConverter.convertViewPositionToModelPosition(M);this.model.getEOL().length===2&&(P<0?P-=F:P+=F);const V=this.model.getOffsetAt(O)+P;return this.model.getPositionAt(V)}getPlainTextToCopy(M,P,F){const O=F?`\r
`:this.model.getEOL();M=M.slice(0),M.sort(n.Range.compareRangesUsingStarts);let B=!1,V=!1;for(const U of M)U.isEmpty()?B=!0:V=!0;if(!V){if(!P)return"";const U=M.map(z=>z.startLineNumber);let G="";for(let z=0;z<U.length;z++)z>0&&U[z-1]===U[z]||(G+=this.model.getLineContent(U[z])+O);return G}if(B&&P){const U=[];let G=0;for(const z of M){const $=z.startLineNumber;z.isEmpty()?$!==G&&U.push(this.model.getLineContent($)):U.push(this.model.getValueInRange(z,F?2:0)),G=$}return U.length===1?U[0]:U}const K=[];for(const U of M)U.isEmpty()||K.push(this.model.getValueInRange(U,F?2:0));return K.length===1?K[0]:K}getRichTextToCopy(M,P){const F=this.model.getLanguageId();if(F===s.PLAINTEXT_LANGUAGE_ID||M.length!==1)return null;let O=M[0];if(O.isEmpty()){if(!P)return null;const z=O.startLineNumber;O=new n.Range(z,this.model.getLineMinColumn(z),z,this.model.getLineMaxColumn(z))}const B=this._configuration.options.get(50),V=this._getColorMap(),U=/[:;\\\/<>]/.test(B.fontFamily)||B.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily;let G;return U?G=w.EDITOR_FONT_DEFAULTS.fontFamily:(G=B.fontFamily,G=G.replace(/"/g,"'"),/[,']/.test(G)||/[+ ]/.test(G)&&(G=`'${G}'`),G=`${G}, ${w.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:F,html:`<div style="color: ${V[1]};background-color: ${V[2]};font-family: ${G};font-weight: ${B.fontWeight};font-size: ${B.fontSize}px;line-height: ${B.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(O,V)+"</div>"}}_getHTMLToCopy(M,P){const F=M.startLineNumber,O=M.startColumn,B=M.endLineNumber,V=M.endColumn,K=this.getTabSize();let U="";for(let G=F;G<=B;G++){const z=this.model.tokenization.getLineTokens(G),$=z.getLineContent(),J=G===F?O-1:0,ee=G===B?V-1:$.length;$===""?U+="<br>":U+=(0,c.tokenizeLineToHTML)($,z.inflate(),P,J,ee,K,y.isWindows)}return U}_getColorMap(){const M=t.TokenizationRegistry.getColorMap(),P=["#000000"];if(M)for(let F=1,O=M.length;F<O;F++)P[F]=L.Color.Format.CSS.formatHex(M[F]);return P}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(M,P,F){return this._withViewEventsCollector(O=>this._cursor.setStates(O,M,P,F))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(M){this._cursor.setCursorColumnSelectData(M)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(M){this._cursor.setPrevEditOperationType(M)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(M,P,F=0){this._withViewEventsCollector(O=>this._cursor.setSelections(O,M,P,F))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(M){this._withViewEventsCollector(P=>this._cursor.restoreState(P,M))}_executeCursorEdit(M){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new a.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(M)}executeEdits(M,P,F){this._executeCursorEdit(O=>this._cursor.executeEdits(O,M,P,F))}startComposition(){this._executeCursorEdit(M=>this._cursor.startComposition(M))}endComposition(M){this._executeCursorEdit(P=>this._cursor.endComposition(P,M))}type(M,P){this._executeCursorEdit(F=>this._cursor.type(F,M,P))}compositionType(M,P,F,O,B){this._executeCursorEdit(V=>this._cursor.compositionType(V,M,P,F,O,B))}paste(M,P,F,O){this._executeCursorEdit(B=>this._cursor.paste(B,M,P,F,O))}cut(M){this._executeCursorEdit(P=>this._cursor.cut(P,M))}executeCommand(M,P){this._executeCursorEdit(F=>this._cursor.executeCommand(F,M,P))}executeCommands(M,P){this._executeCursorEdit(F=>this._cursor.executeCommands(F,M,P))}revealAllCursors(M,P,F=!1){this._withViewEventsCollector(O=>this._cursor.revealAll(O,M,F,0,P,0))}revealPrimaryCursor(M,P,F=!1){this._withViewEventsCollector(O=>this._cursor.revealPrimary(O,M,F,0,P,0))}revealTopMostCursor(M){const P=this._cursor.getTopMostViewPosition(),F=new n.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(O=>O.emitViewEvent(new g.ViewRevealRangeRequestEvent(M,!1,F,null,0,!0,0)))}revealBottomMostCursor(M){const P=this._cursor.getBottomMostViewPosition(),F=new n.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(O=>O.emitViewEvent(new g.ViewRevealRangeRequestEvent(M,!1,F,null,0,!0,0)))}revealRange(M,P,F,O,B){this._withViewEventsCollector(V=>V.emitViewEvent(new g.ViewRevealRangeRequestEvent(M,!1,F,null,O,P,B)))}changeWhitespace(M){this.viewLayout.changeWhitespace(M)&&(this._eventDispatcher.emitSingleViewEvent(new g.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new a.ViewZonesChangedEvent))}_withViewEventsCollector(M){try{const P=this._eventDispatcher.beginEmitViewEvents();return M(P)}finally{this._eventDispatcher.endEmitViewEvents()}}batchEvents(M){this._withViewEventsCollector(()=>{M()})}normalizePosition(M,P){return this._lines.normalizePosition(M,P)}getLineIndentColumn(M){return this._lines.getLineIndentColumn(M)}}e.ViewModel=_;class S{static create(M){const P=M._setTrackedRange(null,new n.Range(1,1,1,1),1);return new S(M,1,!1,P,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(M,P,F,O,B){this._model=M,this._viewLineNumber=P,this._isValid=F,this._modelTrackedRange=O,this._startLineDelta=B}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(M,P){const F=M.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(P,M.getLineMinColumn(P))),O=M.model._setTrackedRange(this._modelTrackedRange,new n.Range(F.lineNumber,F.column,F.lineNumber,F.column),1),B=M.viewLayout.getVerticalOffsetForLineNumber(P),V=M.viewLayout.getCurrentScrollTop();this._viewLineNumber=P,this._isValid=!0,this._modelTrackedRange=O,this._startLineDelta=V-B}invalidate(){this._isValid=!1}}class E{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(M,P,F,O,B){const V=this._asMap[M];if(V){const K=V.data,U=K[K.length-3],G=K[K.length-1];if(U===B&&G+1>=F){O>G&&(K[K.length-1]=O);return}K.push(B,F,O)}else{const K=new d.OverviewRulerDecorationsGroup(M,P,[B,F,O]);this._asMap[M]=K,this.asArray.push(K)}}}class I{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(M,P){const F=this.hiddenAreas.get(M);F&&N(F,P)||(this.hiddenAreas.set(M,P),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const M=Array.from(this.hiddenAreas.values()).reduce((P,F)=>T(P,F),[]);return N(this.ranges,M)?this.ranges:(this.ranges=M,this.ranges)}}function T(R,M){const P=[];let F=0,O=0;for(;F<R.length&&O<M.length;){const B=R[F],V=M[O];if(B.endLineNumber<V.startLineNumber-1)P.push(R[F++]);else if(V.endLineNumber<B.startLineNumber-1)P.push(M[O++]);else{const K=Math.min(B.startLineNumber,V.startLineNumber),U=Math.max(B.endLineNumber,V.endLineNumber);P.push(new n.Range(K,1,U,1)),F++,O++}}for(;F<R.length;)P.push(R[F++]);for(;O<M.length;)P.push(M[O++]);return P}function N(R,M){if(R.length!==M.length)return!1;for(let P=0;P<R.length;P++)if(!R[P].equalsRange(M[P]))return!1;return!0}class A{constructor(M,P){this.viewportStartModelPosition=M,this.startLineDelta=P}recoverViewportStart(M,P){if(!this.viewportStartModelPosition)return;const F=M.convertModelPositionToViewPosition(this.viewportStartModelPosition),O=P.getVerticalOffsetForLineNumber(F.lineNumber);P.setScrollPosition({scrollTop:O+this.startLineDelta},1)}}}),define(ne[215],se([1,0,6,9,7,2,47,72,826,225,16,36,922,646,303,644,38,90,86,10,5,24,194,311,193,21,35,37,18,584,951,664,62,25,14,8,176,50,33,23,29,864,480]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N,A,R,M,P,F,O,B,V,K){"use strict";var U;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let G=U=class extends D.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(W,q,H,j,Q,te,le,de,me,ve,Ce,ye){var Se,Te;super(),this.languageConfigurationService=Ce,this._deliveryQueue=(0,L.createEventDeliveryQueue)(),this._contributions=this._register(new s.CodeEditorContributions),this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new J({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new ee(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new ee(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new ee(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new ee(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new L.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._updateCounter=0,this._onBeginUpdate=this._register(new L.Emitter),this.onBeginUpdate=this._onBeginUpdate.event,this._onEndUpdate=this._register(new L.Emitter),this.onEndUpdate=this._onEndUpdate.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),Q.willCreateCodeEditor();const De={...q};this._domElement=W,this._overflowWidgetsDomNode=De.overflowWidgetsDomNode,delete De.overflowWidgetsDomNode,this._id=++z,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=H.telemetryData,this._configuration=this._register(this._createConfiguration(H.isSimpleWidget||!1,(Se=H.contextMenuId)!==null&&Se!==void 0?Se:H.isSimpleWidget?K.MenuId.SimpleEditorContext:K.MenuId.EditorContext,De,ve)),this._register(this._configuration.onDidChange(Pe=>{this._onDidChangeConfiguration.fire(Pe);const Re=this._configuration.options;if(Pe.hasChanged(145)){const Ee=Re.get(145);this._onDidLayoutChange.fire(Ee)}})),this._contextKeyService=this._register(le.createScoped(this._domElement)),this._notificationService=me,this._codeEditorService=Q,this._commandService=te,this._themeService=de,this._register(new Z(this,this._contextKeyService)),this._register(new x(this,this._contextKeyService,ye)),this._instantiationService=this._register(j.createChild(new F.ServiceCollection([M.IContextKeyService,this._contextKeyService]))),this._modelData=null,this._focusTracker=new Y(W,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let Me;Array.isArray(H.contributions)?Me=H.contributions:Me=C.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,Me,this._instantiationService);for(const Pe of C.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Pe.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Pe.id}`));continue}const Re=new v.InternalEditorAction(Pe.id,Pe.label,Pe.alias,Pe.metadata,(Te=Pe.precondition)!==null&&Te!==void 0?Te:void 0,Ee=>this._instantiationService.invokeFunction(Ne=>Promise.resolve(Pe.runEditorCommand(Ne,this,Ee))),this._contextKeyService);this._actions.set(Re.id,Re)}const Ae=()=>!this._configuration.options.get(91)&&this._configuration.options.get(36).enabled;this._register(new f.DragAndDropObserver(this._domElement,{onDragOver:Pe=>{if(!Ae())return;const Re=this.getTargetAtClientPoint(Pe.clientX,Pe.clientY);Re?.position&&this.showDropIndicatorAt(Re.position)},onDrop:async Pe=>{if(!Ae()||(this.removeDropIndicator(),!Pe.dataTransfer))return;const Re=this.getTargetAtClientPoint(Pe.clientX,Pe.clientY);Re?.position&&this._onDropIntoEditor.fire({position:Re.position,event:Pe})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(W){var q;(q=this._modelData)===null||q===void 0||q.view.writeScreenReaderContent(W)}_createConfiguration(W,q,H,j){return new w.EditorConfiguration(W,q,H,this._domElement,j)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return h.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(W){return this._instantiationService.invokeFunction(W)}updateOptions(W){this._configuration.updateOptions(W||{})}getOptions(){return this._configuration.options}getOption(W){return this._configuration.options.get(W)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(W){return this._modelData?a.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(131),this._configuration.options.get(130),W):null}getValue(W=null){if(!this._modelData)return"";const q=!!(W&&W.preserveBOM);let H=0;return W&&W.lineEnding&&W.lineEnding===`
`?H=1:W&&W.lineEnding&&W.lineEnding===`\r
`&&(H=2),this._modelData.model.getValue(H,q)}setValue(W){try{if(this._beginUpdate(),!this._modelData)return;this._modelData.model.setValue(W)}finally{this._endUpdate()}}getModel(){return this._modelData?this._modelData.model:null}setModel(W=null){var q;try{this._beginUpdate();const H=W;if(this._modelData===null&&H===null||this._modelData&&this._modelData.model===H)return;const j={oldModelUrl:((q=this._modelData)===null||q===void 0?void 0:q.model.uri)||null,newModelUrl:H?.uri||null};this._onWillChangeModel.fire(j);const Q=this.hasTextFocus(),te=this._detachModel();this._attachModel(H),Q&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(j),this._postDetachModelCleanup(te),this._contributionsDisposable=this._contributions.onAfterModelAttached()}finally{this._endUpdate()}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const W in this._decorationTypeSubtypes){const q=this._decorationTypeSubtypes[W];for(const H in q)this._removeDecorationType(W+"-"+H)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(W,q,H,j){const Q=W.model.validatePosition({lineNumber:q,column:H}),te=W.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Q);return W.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(te.lineNumber,j)}getTopForLineNumber(W,q=!1){return this._modelData?U._getVerticalOffsetForPosition(this._modelData,W,1,q):-1}getTopForPosition(W,q){return this._modelData?U._getVerticalOffsetForPosition(this._modelData,W,q,!1):-1}static _getVerticalOffsetForPosition(W,q,H,j=!1){const Q=W.model.validatePosition({lineNumber:q,column:H}),te=W.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Q);return W.viewModel.viewLayout.getVerticalOffsetForLineNumber(te.lineNumber,j)}getBottomForLineNumber(W,q=!1){return this._modelData?U._getVerticalOffsetAfterPosition(this._modelData,W,1,q):-1}setHiddenAreas(W,q){var H;(H=this._modelData)===null||H===void 0||H.viewModel.setHiddenAreas(W.map(j=>d.Range.lift(j)),q)}getVisibleColumnFromPosition(W){if(!this._modelData)return W.column;const q=this._modelData.model.validatePosition(W),H=this._modelData.model.getOptions().tabSize;return g.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(q.lineNumber),q.column,H)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(W,q="api"){if(this._modelData){if(!r.Position.isIPosition(W))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,[{selectionStartLineNumber:W.lineNumber,selectionStartColumn:W.column,positionLineNumber:W.lineNumber,positionColumn:W.column}])}}_sendRevealRange(W,q,H,j){if(!this._modelData)return;if(!d.Range.isIRange(W))throw new Error("Invalid arguments");const Q=this._modelData.model.validateRange(W),te=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Q);this._modelData.viewModel.revealRange("api",H,te,q,j)}revealLine(W,q=0){this._revealLine(W,0,q)}revealLineInCenter(W,q=0){this._revealLine(W,1,q)}revealLineInCenterIfOutsideViewport(W,q=0){this._revealLine(W,2,q)}revealLineNearTop(W,q=0){this._revealLine(W,5,q)}_revealLine(W,q,H){if(typeof W!="number")throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(W,1,W,1),q,!1,H)}revealPosition(W,q=0){this._revealPosition(W,0,!0,q)}revealPositionInCenter(W,q=0){this._revealPosition(W,1,!0,q)}revealPositionInCenterIfOutsideViewport(W,q=0){this._revealPosition(W,2,!0,q)}revealPositionNearTop(W,q=0){this._revealPosition(W,5,!0,q)}_revealPosition(W,q,H,j){if(!r.Position.isIPosition(W))throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(W.lineNumber,W.column,W.lineNumber,W.column),q,H,j)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(W,q="api"){const H=u.Selection.isISelection(W),j=d.Range.isIRange(W);if(!H&&!j)throw new Error("Invalid arguments");if(H)this._setSelectionImpl(W,q);else if(j){const Q={selectionStartLineNumber:W.startLineNumber,selectionStartColumn:W.startColumn,positionLineNumber:W.endLineNumber,positionColumn:W.endColumn};this._setSelectionImpl(Q,q)}}_setSelectionImpl(W,q){if(!this._modelData)return;const H=new u.Selection(W.selectionStartLineNumber,W.selectionStartColumn,W.positionLineNumber,W.positionColumn);this._modelData.viewModel.setSelections(q,[H])}revealLines(W,q,H=0){this._revealLines(W,q,0,H)}revealLinesInCenter(W,q,H=0){this._revealLines(W,q,1,H)}revealLinesInCenterIfOutsideViewport(W,q,H=0){this._revealLines(W,q,2,H)}revealLinesNearTop(W,q,H=0){this._revealLines(W,q,5,H)}_revealLines(W,q,H,j){if(typeof W!="number"||typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(W,1,q,1),H,!1,j)}revealRange(W,q=0,H=!1,j=!0){this._revealRange(W,H?1:0,j,q)}revealRangeInCenter(W,q=0){this._revealRange(W,1,!0,q)}revealRangeInCenterIfOutsideViewport(W,q=0){this._revealRange(W,2,!0,q)}revealRangeNearTop(W,q=0){this._revealRange(W,5,!0,q)}revealRangeNearTopIfOutsideViewport(W,q=0){this._revealRange(W,6,!0,q)}revealRangeAtTop(W,q=0){this._revealRange(W,3,!0,q)}_revealRange(W,q,H,j){if(!d.Range.isIRange(W))throw new Error("Invalid arguments");this._sendRevealRange(d.Range.lift(W),q,H,j)}setSelections(W,q="api",H=0){if(this._modelData){if(!W||W.length===0)throw new Error("Invalid arguments");for(let j=0,Q=W.length;j<Q;j++)if(!u.Selection.isISelection(W[j]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,W,H)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(W,q=1){if(this._modelData){if(typeof W!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:W},q)}}setScrollTop(W,q=1){if(this._modelData){if(typeof W!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:W},q)}}setScrollPosition(W,q=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(W,q)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const W=this._contributions.saveViewState(),q=this._modelData.viewModel.saveCursorState(),H=this._modelData.viewModel.saveState();return{cursorState:q,viewState:H,contributionsState:W}}restoreViewState(W){if(!this._modelData||!this._modelData.hasRealView)return;const q=W;if(q&&q.cursorState&&q.viewState){const H=q.cursorState;Array.isArray(H)?H.length>0&&this._modelData.viewModel.restoreCursorState(H):this._modelData.viewModel.restoreCursorState([H]),this._contributions.restoreViewState(q.contributionsState||{});const j=this._modelData.viewModel.reduceRestoreState(q.viewState);this._modelData.view.restoreState(j)}}handleInitialized(){var W;(W=this._getViewModel())===null||W===void 0||W.visibleLinesStabilized()}getContribution(W){return this._contributions.get(W)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let W=this.getActions();return W=W.filter(q=>q.isSupported()),W}getAction(W){return this._actions.get(W)||null}trigger(W,q,H){H=H||{};try{switch(this._beginUpdate(),q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(W);return;case"type":{const Q=H;this._type(W,Q.text||"");return}case"replacePreviousChar":{const Q=H;this._compositionType(W,Q.text||"",Q.replaceCharCnt||0,0,0);return}case"compositionType":{const Q=H;this._compositionType(W,Q.text||"",Q.replacePrevCharCnt||0,Q.replaceNextCharCnt||0,Q.positionDelta||0);return}case"paste":{const Q=H;this._paste(W,Q.text||"",Q.pasteOnNewLine||!1,Q.multicursorText||null,Q.mode||null,Q.clipboardEvent);return}case"cut":this._cut(W);return}const j=this.getAction(q);if(j){Promise.resolve(j.run(H)).then(void 0,k.onUnexpectedError);return}if(!this._modelData||this._triggerEditorCommand(W,q,H))return;this._triggerCommand(q,H)}finally{this._endUpdate()}}_triggerCommand(W,q){this._commandService.executeCommand(W,q)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(W){this._modelData&&(this._modelData.viewModel.endComposition(W),this._onDidCompositionEnd.fire())}_type(W,q){!this._modelData||q.length===0||(W==="keyboard"&&this._onWillType.fire(q),this._modelData.viewModel.type(q,W),W==="keyboard"&&this._onDidType.fire(q))}_compositionType(W,q,H,j,Q){this._modelData&&this._modelData.viewModel.compositionType(q,H,j,Q,W)}_paste(W,q,H,j,Q,te){if(!this._modelData)return;const le=this._modelData.viewModel,de=le.getSelection().getStartPosition();le.paste(q,H,j,W);const me=le.getSelection().getStartPosition();W==="keyboard"&&this._onDidPaste.fire({clipboardEvent:te,range:new d.Range(de.lineNumber,de.column,me.lineNumber,me.column),languageId:Q})}_cut(W){this._modelData&&this._modelData.viewModel.cut(W)}_triggerEditorCommand(W,q,H){const j=C.EditorExtensionsRegistry.getEditorCommand(q);return j?(H=H||{},H.source=W,this._instantiationService.invokeFunction(Q=>{Promise.resolve(j.runEditorCommand(Q,this,H)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(W,q,H){if(!this._modelData||this._configuration.options.get(91))return!1;let j;return H?Array.isArray(H)?j=()=>H:j=H:j=()=>null,this._modelData.viewModel.executeEdits(W,q,j),!0}executeCommand(W,q){this._modelData&&this._modelData.viewModel.executeCommand(q,W)}executeCommands(W,q){this._modelData&&this._modelData.viewModel.executeCommands(q,W)}createDecorationsCollection(W){return new ae(this,W)}changeDecorations(W){return this._modelData?this._modelData.model.changeDecorations(W,this._id):null}getLineDecorations(W){return this._modelData?this._modelData.model.getLineDecorations(W,this._id,(0,c.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(W){return this._modelData?this._modelData.model.getDecorationsInRange(W,this._id,(0,c.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(W,q){return this._modelData?W.length===0&&q.length===0?W:this._modelData.model.deltaDecorations(W,q,this._id):[]}removeDecorations(W){!this._modelData||W.length===0||this._modelData.model.changeDecorations(q=>{q.deltaDecorations(W,[])})}removeDecorationsByType(W){const q=this._decorationTypeKeysToIds[W];q&&this.changeDecorations(H=>H.deltaDecorations(q,[])),this._decorationTypeKeysToIds.hasOwnProperty(W)&&delete this._decorationTypeKeysToIds[W],this._decorationTypeSubtypes.hasOwnProperty(W)&&delete this._decorationTypeSubtypes[W]}getLayoutInfo(){return this._configuration.options.get(145)}createOverviewRuler(W){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(W)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(W)}delegateScrollFromMouseWheelEvent(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(W)}layout(W,q=!1){this._configuration.observeContainer(W),q||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(W){const q={widget:W,position:W.getPosition()};this._contentWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting a content widget with the same id:"+W.getId()),this._contentWidgets[W.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(q)}layoutContentWidget(W){const q=W.getId();if(this._contentWidgets.hasOwnProperty(q)){const H=this._contentWidgets[q];H.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(H)}}removeContentWidget(W){const q=W.getId();if(this._contentWidgets.hasOwnProperty(q)){const H=this._contentWidgets[q];delete this._contentWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(H)}}addOverlayWidget(W){const q={widget:W,position:W.getPosition()};this._overlayWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[W.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(q)}layoutOverlayWidget(W){const q=W.getId();if(this._overlayWidgets.hasOwnProperty(q)){const H=this._overlayWidgets[q];H.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(H)}}removeOverlayWidget(W){const q=W.getId();if(this._overlayWidgets.hasOwnProperty(q)){const H=this._overlayWidgets[q];delete this._overlayWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(H)}}addGlyphMarginWidget(W){const q={widget:W,position:W.getPosition()};this._glyphMarginWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[W.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(q)}layoutGlyphMarginWidget(W){const q=W.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const H=this._glyphMarginWidgets[q];H.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(H)}}removeGlyphMarginWidget(W){const q=W.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const H=this._glyphMarginWidgets[q];delete this._glyphMarginWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(H)}}changeViewZones(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(W)}getTargetAtClientPoint(W,q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(W,q)}getScrolledVisiblePosition(W){if(!this._modelData||!this._modelData.hasRealView)return null;const q=this._modelData.model.validatePosition(W),H=this._configuration.options,j=H.get(145),Q=U._getVerticalOffsetForPosition(this._modelData,q.lineNumber,q.column)-this.getScrollTop(),te=this._modelData.view.getOffsetForColumn(q.lineNumber,q.column)+j.glyphMarginWidth+j.lineNumbersWidth+j.decorationsWidth-this.getScrollLeft();return{top:Q,left:te,height:H.get(67)}}getOffsetForColumn(W,q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(W,q)}render(W=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,W)})}setAriaOptions(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(W)}applyFontInfo(W){(0,m.applyFontInfo)(W,this._configuration.options.get(50))}setBanner(W,q){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=W,this._configuration.setReservedHeight(W?q:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(W){if(!W){this._modelData=null;return}const q=[];this._domElement.setAttribute("data-mode-id",W.getLanguageId()),this._configuration.setIsDominatedByLongLines(W.isDominatedByLongLines()),this._configuration.setModelLineCount(W.getLineCount());const H=W.onBeforeAttached(),j=new T.ViewModel(this._id,this._configuration,W,i.DOMLineBreaksComputerFactory.create(f.getWindow(this._domElement)),I.MonospaceLineBreaksComputerFactory.create(this._configuration.options),le=>f.scheduleAtNextAnimationFrame(f.getWindow(this._domElement),le),this.languageConfigurationService,this._themeService,H);q.push(W.onWillDispose(()=>this.setModel(null))),q.push(j.onEvent(le=>{switch(le.kind){case 0:this._onDidContentSizeChange.fire(le);break;case 1:this._editorTextFocus.setValue(le.hasFocus);break;case 2:this._onDidScrollChange.fire(le);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(le.reachedMaxCursorCount){const Ce=this.getOption(80),ye=N.localize(0,null,Ce);this._notificationService.prompt(O.Severity.Warning,ye,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:N.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const de=[];for(let Ce=0,ye=le.selections.length;Ce<ye;Ce++)de[Ce]=le.selections[Ce].getPosition();const me={position:de[0],secondaryPositions:de.slice(1),reason:le.reason,source:le.source};this._onDidChangeCursorPosition.fire(me);const ve={selection:le.selections[0],secondarySelections:le.selections.slice(1),modelVersionId:le.modelVersionId,oldSelections:le.oldSelections,oldModelVersionId:le.oldModelVersionId,source:le.source,reason:le.reason};this._onDidChangeCursorSelection.fire(ve);break}case 7:this._onDidChangeModelDecorations.fire(le.event);break;case 8:this._domElement.setAttribute("data-mode-id",W.getLanguageId()),this._onDidChangeModelLanguage.fire(le.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(le.event);break;case 10:this._onDidChangeModelContent.fire(le.event);break;case 11:this._onDidChangeModelOptions.fire(le.event);break;case 12:this._onDidChangeModelTokens.fire(le.event);break}}));const[Q,te]=this._createView(j);if(te){this._domElement.appendChild(Q.domNode.domNode);let le=Object.keys(this._contentWidgets);for(let de=0,me=le.length;de<me;de++){const ve=le[de];Q.addContentWidget(this._contentWidgets[ve])}le=Object.keys(this._overlayWidgets);for(let de=0,me=le.length;de<me;de++){const ve=le[de];Q.addOverlayWidget(this._overlayWidgets[ve])}le=Object.keys(this._glyphMarginWidgets);for(let de=0,me=le.length;de<me;de++){const ve=le[de];Q.addGlyphMarginWidget(this._glyphMarginWidgets[ve])}Q.render(!1,!0),Q.domNode.domNode.setAttribute("data-uri",W.uri.toString())}this._modelData=new $(W,j,Q,te,q,H)}_createView(W){let q;this.isSimpleWidget?q={paste:(Q,te,le,de)=>{this._paste("keyboard",Q,te,le,de)},type:Q=>{this._type("keyboard",Q)},compositionType:(Q,te,le,de)=>{this._compositionType("keyboard",Q,te,le,de)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:q={paste:(Q,te,le,de)=>{const me={text:Q,pasteOnNewLine:te,multicursorText:le,mode:de};this._commandService.executeCommand("paste",me)},type:Q=>{const te={text:Q};this._commandService.executeCommand("type",te)},compositionType:(Q,te,le,de)=>{if(le||de){const me={text:Q,replacePrevCharCnt:te,replaceNextCharCnt:le,positionDelta:de};this._commandService.executeCommand("compositionType",me)}else{const me={text:Q,replaceCharCnt:te};this._commandService.executeCommand("replacePreviousChar",me)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const H=new t.ViewUserInputEvents(W.coordinatesConverter);return H.onKeyDown=Q=>this._onKeyDown.fire(Q),H.onKeyUp=Q=>this._onKeyUp.fire(Q),H.onContextMenu=Q=>this._onContextMenu.fire(Q),H.onMouseMove=Q=>this._onMouseMove.fire(Q),H.onMouseLeave=Q=>this._onMouseLeave.fire(Q),H.onMouseDown=Q=>this._onMouseDown.fire(Q),H.onMouseUp=Q=>this._onMouseUp.fire(Q),H.onMouseDrag=Q=>this._onMouseDrag.fire(Q),H.onMouseDrop=Q=>this._onMouseDrop.fire(Q),H.onMouseDropCanceled=Q=>this._onMouseDropCanceled.fire(Q),H.onMouseWheel=Q=>this._onMouseWheel.fire(Q),[new n.View(q,this._configuration,this._themeService.getColorTheme(),W,H,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(W){W?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var W;if((W=this._contributionsDisposable)===null||W===void 0||W.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const q=this._modelData.model,H=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),H&&this._domElement.contains(H)&&this._domElement.removeChild(H),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),q}_removeDecorationType(W){this._codeEditorService.removeDecorationType(W)}hasModel(){return this._modelData!==null}showDropIndicatorAt(W){const q=[{range:new d.Range(W.lineNumber,W.column,W.lineNumber,W.column),options:U.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(q),this.revealPosition(W,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(W,q){this._contextKeyService.createKey(W,q)}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&this._onBeginUpdate.fire()}_endUpdate(){this._updateCounter--,this._updateCounter===0&&this._onEndUpdate.fire()}};e.CodeEditorWidget=G,G.dropIntoEditorDecorationOptions=S.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=G=U=ke([ge(3,P.IInstantiationService),ge(4,o.ICodeEditorService),ge(5,R.ICommandService),ge(6,M.IContextKeyService),ge(7,V.IThemeService),ge(8,O.INotificationService),ge(9,A.IAccessibilityService),ge(10,_.ILanguageConfigurationService),ge(11,E.ILanguageFeaturesService)],G);let z=0;class ${constructor(W,q,H,j,Q,te){this.model=W,this.viewModel=q,this.view=H,this.hasRealView=j,this.listenersToRemove=Q,this.attachedView=te}dispose(){(0,D.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class J extends D.Disposable{constructor(W){super(),this._emitterOptions=W,this._onDidChangeToTrue=this._register(new L.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new L.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(W){const q=W?2:1;this._value!==q&&(this._value=q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=J;class ee extends L.Emitter{constructor(W,q){super({deliveryQueue:q}),this._contributions=W}fire(W){this._contributions.onBeforeInteractionEvent(),super.fire(W)}}class Z extends D.Disposable{constructor(W,q){super(),this._editor=W,q.createKey("editorId",W.getId()),this._editorSimpleInput=p.EditorContextKeys.editorSimpleInput.bindTo(q),this._editorFocus=p.EditorContextKeys.focus.bindTo(q),this._textInputFocus=p.EditorContextKeys.textInputFocus.bindTo(q),this._editorTextFocus=p.EditorContextKeys.editorTextFocus.bindTo(q),this._tabMovesFocus=p.EditorContextKeys.tabMovesFocus.bindTo(q),this._editorReadonly=p.EditorContextKeys.readOnly.bindTo(q),this._inDiffEditor=p.EditorContextKeys.inDiffEditor.bindTo(q),this._editorColumnSelection=p.EditorContextKeys.columnSelection.bindTo(q),this._hasMultipleSelections=p.EditorContextKeys.hasMultipleSelections.bindTo(q),this._hasNonEmptySelection=p.EditorContextKeys.hasNonEmptySelection.bindTo(q),this._canUndo=p.EditorContextKeys.canUndo.bindTo(q),this._canRedo=p.EditorContextKeys.canRedo.bindTo(q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(b.TabFocus.onDidChangeTabFocus(H=>this._tabMovesFocus.set(H))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const W=this._editor.getOptions();this._tabMovesFocus.set(b.TabFocus.getTabFocusMode()),this._editorReadonly.set(W.get(91)),this._inDiffEditor.set(W.get(61)),this._editorColumnSelection.set(W.get(22))}_updateFromSelection(){const W=this._editor.getSelections();W?(this._hasMultipleSelections.set(W.length>1),this._hasNonEmptySelection.set(W.some(q=>!q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const W=this._editor.getModel();this._canUndo.set(!!(W&&W.canUndo())),this._canRedo.set(!!(W&&W.canRedo()))}}class x extends D.Disposable{constructor(W,q,H){super(),this._editor=W,this._contextKeyService=q,this._languageFeaturesService=H,this._langId=p.EditorContextKeys.languageId.bindTo(q),this._hasCompletionItemProvider=p.EditorContextKeys.hasCompletionItemProvider.bindTo(q),this._hasCodeActionsProvider=p.EditorContextKeys.hasCodeActionsProvider.bindTo(q),this._hasCodeLensProvider=p.EditorContextKeys.hasCodeLensProvider.bindTo(q),this._hasDefinitionProvider=p.EditorContextKeys.hasDefinitionProvider.bindTo(q),this._hasDeclarationProvider=p.EditorContextKeys.hasDeclarationProvider.bindTo(q),this._hasImplementationProvider=p.EditorContextKeys.hasImplementationProvider.bindTo(q),this._hasTypeDefinitionProvider=p.EditorContextKeys.hasTypeDefinitionProvider.bindTo(q),this._hasHoverProvider=p.EditorContextKeys.hasHoverProvider.bindTo(q),this._hasDocumentHighlightProvider=p.EditorContextKeys.hasDocumentHighlightProvider.bindTo(q),this._hasDocumentSymbolProvider=p.EditorContextKeys.hasDocumentSymbolProvider.bindTo(q),this._hasReferenceProvider=p.EditorContextKeys.hasReferenceProvider.bindTo(q),this._hasRenameProvider=p.EditorContextKeys.hasRenameProvider.bindTo(q),this._hasSignatureHelpProvider=p.EditorContextKeys.hasSignatureHelpProvider.bindTo(q),this._hasInlayHintsProvider=p.EditorContextKeys.hasInlayHintsProvider.bindTo(q),this._hasDocumentFormattingProvider=p.EditorContextKeys.hasDocumentFormattingProvider.bindTo(q),this._hasDocumentSelectionFormattingProvider=p.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(q),this._hasMultipleDocumentFormattingProvider=p.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(q),this._hasMultipleDocumentSelectionFormattingProvider=p.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(q),this._isInEmbeddedEditor=p.EditorContextKeys.isInEmbeddedEditor.bindTo(q);const j=()=>this._update();this._register(W.onDidChangeModel(j)),this._register(W.onDidChangeModelLanguage(j)),this._register(H.completionProvider.onDidChange(j)),this._register(H.codeActionProvider.onDidChange(j)),this._register(H.codeLensProvider.onDidChange(j)),this._register(H.definitionProvider.onDidChange(j)),this._register(H.declarationProvider.onDidChange(j)),this._register(H.implementationProvider.onDidChange(j)),this._register(H.typeDefinitionProvider.onDidChange(j)),this._register(H.hoverProvider.onDidChange(j)),this._register(H.documentHighlightProvider.onDidChange(j)),this._register(H.documentSymbolProvider.onDidChange(j)),this._register(H.referenceProvider.onDidChange(j)),this._register(H.renameProvider.onDidChange(j)),this._register(H.documentFormattingEditProvider.onDidChange(j)),this._register(H.documentRangeFormattingEditProvider.onDidChange(j)),this._register(H.signatureHelpProvider.onDidChange(j)),this._register(H.inlayHintsProvider.onDidChange(j)),j()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const W=this._editor.getModel();if(!W){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(W.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(W)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(W)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(W)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(W)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(W)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(W)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(W)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(W)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(W)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(W)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(W)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(W)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(W)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(W)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(W)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(W)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(W)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(W).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(W).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(W).length>1),this._isInEmbeddedEditor.set(W.uri.scheme===y.Schemas.walkThroughSnippet||W.uri.scheme===y.Schemas.vscodeChatCodeBlock)})}}e.EditorModeContext=x;class Y extends D.Disposable{constructor(W,q){super(),this._onChange=this._register(new L.Emitter),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(f.trackFocus(W)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),q&&(this._overflowWidgetsDomNode=this._register(f.trackFocus(q)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const W=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==W&&(this._hadFocus=W,this._onChange.fire(void 0))}hasFocus(){var W;return(W=this._hadFocus)!==null&&W!==void 0?W:!1}}class ae{get length(){return this._decorationIds.length}constructor(W,q){this._editor=W,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(q)&&q.length>0&&this.set(q)}onDidChange(W,q,H){return this._editor.onDidChangeModelDecorations(j=>{this._isChangingDecorations||W.call(q,j)},H)}getRange(W){return!this._editor.hasModel()||W>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[W])}getRanges(){if(!this._editor.hasModel())return[];const W=this._editor.getModel(),q=[];for(const H of this._decorationIds){const j=W.getDecorationRange(H);j&&q.push(j)}return q}has(W){return this._decorationIds.includes(W.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(W){try{this._isChangingDecorations=!0,this._editor.changeDecorations(q=>{this._decorationIds=q.deltaDecorations(this._decorationIds,W)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(W){let q=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(H=>{q=H.deltaDecorations([],W),this._decorationIds=this._decorationIds.concat(q)})}finally{this._isChangingDecorations=!1}return q}}const ue=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),he=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function pe(re){return ue+encodeURIComponent(re.toString())+he}const ce=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ie=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function oe(re){return ce+encodeURIComponent(re.toString())+ie}(0,V.registerThemingParticipant)((re,W)=>{const q=re.getColor(B.editorErrorForeground);q&&W.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${pe(q)}") repeat-x bottom left; }`);const H=re.getColor(B.editorWarningForeground);H&&W.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${pe(H)}") repeat-x bottom left; }`);const j=re.getColor(B.editorInfoForeground);j&&W.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${pe(j)}") repeat-x bottom left; }`);const Q=re.getColor(B.editorHintForeground);Q&&W.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${oe(Q)}") no-repeat bottom left; }`);const te=re.getColor(l.editorUnnecessaryCodeOpacity);te&&W.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${te.rgba.a}; }`)})}),define(ne[181],se([1,0,55,36,215,35,18,62,25,14,8,50,23]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends L.CodeEditorWidget{constructor(s,c,g,l,r,d,u,a,v,h,p,_,S){super(s,{...l.getRawOptions(),overflowWidgetsDomNode:l.getOverflowWidgetsDomNode()},g,r,d,u,a,v,h,p,_,S),this._parentEditor=l,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(l.onDidChangeConfiguration(E=>this._onParentConfigurationChanged(E)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(s){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(s){f.mixin(this._overwriteOptions,s,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=i,e.EmbeddedCodeEditorWidget=i=ke([ge(4,C.IInstantiationService),ge(5,k.ICodeEditorService),ge(6,w.ICommandService),ge(7,b.IContextKeyService),ge(8,n.IThemeService),ge(9,o.INotificationService),ge(10,m.IAccessibilityService),ge(11,D.ILanguageConfigurationService),ge(12,y.ILanguageFeaturesService)],i)}),define(ne[280],se([1,0,6,68,9,7,2,30,126,16,36,139,215,902,947,353,948,938,370,359,401,674,83,840,10,5,193,21,134,14,8,176,93,915,532,827,392,482]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N,A,R,M,P,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;let O=class extends M.DelegatingEditor{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(K,U,G,z,$,J,ee,Z){var x;super(),this._domElement=K,this._parentContextKeyService=z,this._parentInstantiationService=$,this._accessibilitySignalService=ee,this._editorProgressService=Z,this.elements=(0,f.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,f.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,f.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,f.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,m.observableValue)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=D.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new N.ServiceCollection([I.IContextKeyService,this._contextKeyService]))),this._boundarySashes=(0,m.observableValue)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,m.observableValue)(this,!1),this._accessibleDiffViewerVisible=(0,m.derived)(this,H=>this._options.onlyShowAccessibleDiffViewer.read(H)?!0:this._accessibleDiffViewerShouldBeVisible.read(H)),this._movedBlocksLinesPart=(0,m.observableValue)(this,void 0),this._layoutInfo=(0,m.derived)(this,H=>{var j,Q,te,le,de;const me=this._rootSizeObserver.width.read(H),ve=this._rootSizeObserver.height.read(H);this._rootSizeObserver.automaticLayout?this.elements.root.style.height="100%":this.elements.root.style.height=ve+"px";const Ce=this._sash.read(H),ye=this._gutter.read(H),Se=(j=ye?.width.read(H))!==null&&j!==void 0?j:0,Te=(te=(Q=this._overviewRulerPart.read(H))===null||Q===void 0?void 0:Q.width)!==null&&te!==void 0?te:0;let De,Me,Ae,Pe,Re;if(!!Ce){const Ne=Ce.sashLeft.read(H),fe=(de=(le=this._movedBlocksLinesPart.read(H))===null||le===void 0?void 0:le.width.read(H))!==null&&de!==void 0?de:0;De=0,Me=Ne-Se-fe,Re=Ne-Se,Ae=Ne,Pe=me-Ae-Te}else Re=0,De=Se,Me=Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),Ae=Se+Me,Pe=me-Ae-Te;return this.elements.original.style.left=De+"px",this.elements.original.style.width=Me+"px",this._editors.original.layout({width:Me,height:ve},!0),ye?.layout(Re),this.elements.modified.style.left=Ae+"px",this.elements.modified.style.width=Pe+"px",this._editors.modified.layout({width:Pe,height:ve},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((H,j)=>H?.diff.read(j)),this.onDidUpdateDiff=D.Event.fromObservableLight(this._diffValue),J.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,y.toDisposable)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new a.ObservableElementSizeObserver(this.elements.root,U.dimension)),this._rootSizeObserver.setAutomaticLayout((x=U.automaticLayout)!==null&&x!==void 0?x:!1),this._options=this._instantiationService.createInstance(P.DiffEditorOptions,U),this._register((0,m.autorun)(H=>{this._options.setWidth(this._rootSizeObserver.width.read(H))})),this._contextKeyService.createKey(S.EditorContextKeys.isEmbeddedDiffEditor.key,!1),this._register((0,v.bindContextKey)(S.EditorContextKeys.isEmbeddedDiffEditor,this._contextKeyService,H=>this._options.isInEmbeddedEditor.read(H))),this._register((0,v.bindContextKey)(S.EditorContextKeys.comparingMovedCode,this._contextKeyService,H=>{var j;return!!(!((j=this._diffModel.read(H))===null||j===void 0)&&j.movedTextToCompare.read(H))})),this._register((0,v.bindContextKey)(S.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,H=>this._options.couldShowInlineViewBecauseOfSize.read(H))),this._register((0,v.bindContextKey)(S.EditorContextKeys.diffEditorInlineMode,this._contextKeyService,H=>!this._options.renderSideBySide.read(H))),this._register((0,v.bindContextKey)(S.EditorContextKeys.hasChanges,this._contextKeyService,H=>{var j,Q,te;return((te=(Q=(j=this._diffModel.read(H))===null||j===void 0?void 0:j.diff.read(H))===null||Q===void 0?void 0:Q.mappings.length)!==null&&te!==void 0?te:0)>0})),this._editors=this._register(this._instantiationService.createInstance(R.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,G,(H,j,Q,te)=>this._createInnerEditor(H,j,Q,te))),this._register((0,v.bindContextKey)(S.EditorContextKeys.diffEditorOriginalWritable,this._contextKeyService,H=>this._options.originalEditable.read(H))),this._register((0,v.bindContextKey)(S.EditorContextKeys.diffEditorModifiedWritable,this._contextKeyService,H=>!this._options.readOnly.read(H))),this._register((0,v.bindContextKey)(S.EditorContextKeys.diffEditorOriginalUri,this._contextKeyService,H=>{var j,Q;return(Q=(j=this._diffModel.read(H))===null||j===void 0?void 0:j.model.original.uri.toString())!==null&&Q!==void 0?Q:""})),this._register((0,v.bindContextKey)(S.EditorContextKeys.diffEditorModifiedUri,this._contextKeyService,H=>{var j,Q;return(Q=(j=this._diffModel.read(H))===null||j===void 0?void 0:j.model.modified.uri.toString())!==null&&Q!==void 0?Q:""})),this._overviewRulerPart=(0,w.derivedDisposable)(this,H=>this._options.renderOverviewRuler.read(H)?this._instantiationService.createInstance((0,a.readHotReloadableExport)(d.OverviewRulerFeature,H),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(j=>j.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store);const Y={height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((H,j)=>{var Q,te;return H-((te=(Q=this._overviewRulerPart.read(j))===null||Q===void 0?void 0:Q.width)!==null&&te!==void 0?te:0)})};this._sashLayout=new s.SashLayout(this._options,Y),this._sash=(0,w.derivedDisposable)(this,H=>{const j=this._options.renderSideBySide.read(H);return this.elements.root.classList.toggle("side-by-side",j),j?new s.DiffEditorSash(this.elements.root,Y,this._options.enableSplitViewResizing,this._boundarySashes,this._sashLayout.sashLeft,()=>this._sashLayout.resetSash()):void 0}).recomputeInitiallyAndOnChange(this._store);const ae=(0,w.derivedDisposable)(this,H=>this._instantiationService.createInstance((0,a.readHotReloadableExport)(l.HideUnchangedRegionsFeature,H),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,w.derivedDisposable)(this,H=>this._instantiationService.createInstance((0,a.readHotReloadableExport)(t.DiffEditorDecorations,H),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const ue=new Set,he=new Set;let pe=!1;const ce=(0,w.derivedDisposable)(this,H=>this._instantiationService.createInstance((0,a.readHotReloadableExport)(c.DiffEditorViewZones,H),(0,f.getWindow)(this._domElement),this._editors,this._diffModel,this._options,this,()=>pe||ae.get().isUpdatingHiddenAreas,ue,he)).recomputeInitiallyAndOnChange(this._store),ie=(0,m.derived)(this,H=>{const j=ce.read(H).viewZones.read(H).orig,Q=ae.read(H).viewZones.read(H).origViewZones;return j.concat(Q)}),oe=(0,m.derived)(this,H=>{const j=ce.read(H).viewZones.read(H).mod,Q=ae.read(H).viewZones.read(H).modViewZones;return j.concat(Q)});this._register((0,a.applyViewZones)(this._editors.original,ie,H=>{pe=H},ue));let re;this._register((0,a.applyViewZones)(this._editors.modified,oe,H=>{pe=H,pe?re=o.StableEditorScrollState.capture(this._editors.modified):(re?.restore(this._editors.modified),re=void 0)},he)),this._accessibleDiffViewer=(0,w.derivedDisposable)(this,H=>this._instantiationService.createInstance((0,a.readHotReloadableExport)(i.AccessibleDiffViewer,H),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(j,Q)=>this._accessibleDiffViewerShouldBeVisible.set(j,Q),this._options.onlyShowAccessibleDiffViewer.map(j=>!j),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((j,Q)=>{var te;return(te=j?.diff.read(Q))===null||te===void 0?void 0:te.mappings.map(le=>le.lineRangeMapping)}),new i.AccessibleDiffViewerModelFromEditors(this._editors))).recomputeInitiallyAndOnChange(this._store);const W=this._accessibleDiffViewerVisible.map(H=>H?"hidden":"visible");this._register((0,a.applyStyle)(this.elements.modified,{visibility:W})),this._register((0,a.applyStyle)(this.elements.original,{visibility:W})),this._createDiffEditorContributions(),J.addDiffEditor(this),this._gutter=(0,w.derivedDisposable)(this,H=>this._options.shouldRenderGutterMenu.read(H)?this._instantiationService.createInstance((0,a.readHotReloadableExport)(g.DiffEditorGutter,H),this.elements.root,this._diffModel,this._editors,this._options,this._sashLayout,this._boundarySashes):void 0),this._register((0,m.recomputeInitiallyAndOnChange)(this._layoutInfo)),(0,w.derivedDisposable)(this,H=>new((0,a.readHotReloadableExport)(r.MovedBlocksLinesFeature,H))(this.elements.root,this._diffModel,this._layoutInfo.map(j=>j.originalEditor),this._layoutInfo.map(j=>j.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,H=>{this._movedBlocksLinesPart.set(H,void 0)}),this._register(D.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,H=>this._handleCursorPositionChange(H,!0))),this._register(D.Event.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,H=>this._handleCursorPositionChange(H,!1)));const q=this._diffModel.map(this,(H,j)=>{if(H)return H.diff.read(j)===void 0&&!H.isDiffUpToDate.read(j)});this._register((0,m.autorunWithStore)((H,j)=>{if(q.read(H)===!0){const Q=this._editorProgressService.show(!0,1e3);j.add((0,y.toDisposable)(()=>Q.done()))}})),this._register((0,y.toDisposable)(()=>{var H;this._shouldDisposeDiffModel&&((H=this._diffModel.get())===null||H===void 0||H.dispose())})),this._register((0,m.autorunWithStore)((H,j)=>{j.add(new((0,a.readHotReloadableExport)(u.RevertButtonsFeature,H))(this._editors,this._diffModel,this._options,this))}))}_createInnerEditor(K,U,G,z){return K.createInstance(n.CodeEditorWidget,U,G,z)}_createDiffEditorContributions(){const K=b.EditorExtensionsRegistry.getDiffEditorContributions();for(const U of K)try{this._register(this._instantiationService.createInstance(U.ctor,this))}catch(G){(0,L.onUnexpectedError)(G)}}get _targetEditor(){return this._editors.modified}getEditorType(){return _.EditorType.IDiffEditor}layout(K){this._rootSizeObserver.observe(K)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var K;const U=this._editors.original.saveViewState(),G=this._editors.modified.saveViewState();return{original:U,modified:G,modelState:(K=this._diffModel.get())===null||K===void 0?void 0:K.serializeState()}}restoreViewState(K){var U;if(K&&K.original&&K.modified){const G=K;this._editors.original.restoreViewState(G.original),this._editors.modified.restoreViewState(G.modified),G.modelState&&((U=this._diffModel.get())===null||U===void 0||U.restoreSerializedState(G.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(K){return this._instantiationService.createInstance(F.DiffEditorViewModel,K,this._options)}getModel(){var K,U;return(U=(K=this._diffModel.get())===null||K===void 0?void 0:K.model)!==null&&U!==void 0?U:null}setModel(K,U){!K&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const G=K?"model"in K?{model:K,shouldDispose:!1}:{model:this.createViewModel(K),shouldDispose:!0}:void 0;this._diffModel.get()!==G?.model&&(0,m.subtransaction)(U,z=>{var $;m.observableFromEvent.batchEventsGlobally(z,()=>{this._editors.original.setModel(G?G.model.model.original:null),this._editors.modified.setModel(G?G.model.model.modified:null)});const J=this._diffModel.get(),ee=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=($=G?.shouldDispose)!==null&&$!==void 0?$:!1,this._diffModel.set(G?.model,z),ee&&J?.dispose()})}updateOptions(K){this._options.updateOptions(K)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var K;const U=(K=this._diffModel.get())===null||K===void 0?void 0:K.diff.get();return U?B(U):null}revert(K){const U=this._diffModel.get();!U||!U.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:K.modified.toExclusiveRange(),text:U.model.original.getValueInRange(K.original.toExclusiveRange())}])}revertRangeMappings(K){const U=this._diffModel.get();if(!U||!U.isDiffUpToDate.get())return;const G=K.map(z=>({range:z.modifiedRange,text:U.model.original.getValueInRange(z.originalRange)}));this._editors.modified.executeEdits("diffEditor",G)}_goTo(K){this._editors.modified.setPosition(new h.Position(K.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(K.lineRangeMapping.modified.toExclusiveRange())}goToDiff(K){var U,G,z,$;const J=(G=(U=this._diffModel.get())===null||U===void 0?void 0:U.diff.get())===null||G===void 0?void 0:G.mappings;if(!J||J.length===0)return;const ee=this._editors.modified.getPosition().lineNumber;let Z;K==="next"?Z=(z=J.find(x=>x.lineRangeMapping.modified.startLineNumber>ee))!==null&&z!==void 0?z:J[0]:Z=($=(0,k.findLast)(J,x=>x.lineRangeMapping.modified.startLineNumber<ee))!==null&&$!==void 0?$:J[J.length-1],this._goTo(Z),Z.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(E.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.goToDiff"}):Z.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(E.AccessibilitySignal.diffLineInserted,{source:"diffEditor.goToDiff"}):Z&&this._accessibilitySignalService.playSignal(E.AccessibilitySignal.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const K=this._diffModel.get();K&&this.waitForDiff().then(()=>{var U;const G=(U=K.diff.get())===null||U===void 0?void 0:U.mappings;!G||G.length===0||this._goTo(G[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const K=this._diffModel.get();K&&await K.waitForDiff()}mapToOtherSide(){var K,U;const G=this._editors.modified.hasWidgetFocus(),z=G?this._editors.modified:this._editors.original,$=G?this._editors.original:this._editors.modified;let J;const ee=z.getSelection();if(ee){const Z=(U=(K=this._diffModel.get())===null||K===void 0?void 0:K.diff.get())===null||U===void 0?void 0:U.mappings.map(x=>G?x.lineRangeMapping.flip():x.lineRangeMapping);if(Z){const x=(0,a.translatePosition)(ee.getStartPosition(),Z),Y=(0,a.translatePosition)(ee.getEndPosition(),Z);J=p.Range.plusRange(x,Y)}}return{destination:$,destinationSelection:J}}switchSide(){const{destination:K,destinationSelection:U}=this.mapToOtherSide();K.focus(),U&&K.setSelection(U)}exitCompareMove(){const K=this._diffModel.get();K&&K.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var K;const U=(K=this._diffModel.get())===null||K===void 0?void 0:K.unchangedRegions.get();U&&(0,m.transaction)(G=>{for(const z of U)z.collapseAll(G)})}showAllUnchangedRegions(){var K;const U=(K=this._diffModel.get())===null||K===void 0?void 0:K.unchangedRegions.get();U&&(0,m.transaction)(G=>{for(const z of U)z.showAll(G)})}_handleCursorPositionChange(K,U){var G,z;if(K?.reason===3){const $=(z=(G=this._diffModel.get())===null||G===void 0?void 0:G.diff.get())===null||z===void 0?void 0:z.mappings.find(J=>U?J.lineRangeMapping.modified.contains(K.position.lineNumber):J.lineRangeMapping.original.contains(K.position.lineNumber));$?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(E.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):$?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(E.AccessibilitySignal.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):$&&this._accessibilitySignalService.playSignal(E.AccessibilitySignal.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};e.DiffEditorWidget=O,e.DiffEditorWidget=O=ke([ge(3,I.IContextKeyService),ge(4,T.IInstantiationService),ge(5,C.ICodeEditorService),ge(6,E.IAccessibilitySignalService),ge(7,A.IEditorProgressService)],O);function B(V){return V.mappings.map(K=>{const U=K.lineRangeMapping;let G,z,$,J,ee=U.innerChanges;return U.original.isEmpty?(G=U.original.startLineNumber-1,z=0,ee=void 0):(G=U.original.startLineNumber,z=U.original.endLineNumberExclusive-1),U.modified.isEmpty?($=U.modified.startLineNumber-1,J=0,ee=void 0):($=U.modified.startLineNumber,J=U.modified.endLineNumberExclusive-1),{originalStartLineNumber:G,originalEndLineNumber:z,modifiedStartLineNumber:$,modifiedEndLineNumber:J,charChanges:ee?.map(Z=>({originalStartLineNumber:Z.originalRange.startLineNumber,originalStartColumn:Z.originalRange.startColumn,originalEndLineNumber:Z.originalRange.endLineNumber,originalEndColumn:Z.originalRange.endColumn,modifiedStartLineNumber:Z.modifiedRange.startLineNumber,modifiedStartColumn:Z.modifiedRange.startColumn,modifiedEndLineNumber:Z.modifiedRange.endLineNumber,modifiedEndColumn:Z.modifiedRange.endColumn}))}})}}),define(ne[952],se([1,0,6,26,16,36,280,21,665,29,28,14,214]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=e.RevertHunkOrSelection=e.ShowAllUnchangedRegions=e.CollapseAllUnchangedRegions=e.ExitCompareMove=e.SwitchSide=e.ToggleUseInlineViewWhenSpaceIsLimited=e.ToggleShowMovedCodeBlocks=e.ToggleCollapseUnchangedRegions=void 0,e.findDiffEditor=h,e.findFocusedDiffEditor=p;class n extends b.Action2{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,w.localize2)(0,"Toggle Collapse Unchanged Regions"),icon:k.Codicon.map,toggled:o.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:o.ContextKeyExpr.has("isInDiffEditor"),menu:{when:o.ContextKeyExpr.has("isInDiffEditor"),id:b.MenuId.EditorTitle,order:22,group:"navigation"}})}run(E,...I){const T=E.get(C.IConfigurationService),N=!T.getValue("diffEditor.hideUnchangedRegions.enabled");T.updateValue("diffEditor.hideUnchangedRegions.enabled",N)}}e.ToggleCollapseUnchangedRegions=n;class i extends b.Action2{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,w.localize2)(1,"Toggle Show Moved Code Blocks"),precondition:o.ContextKeyExpr.has("isInDiffEditor")})}run(E,...I){const T=E.get(C.IConfigurationService),N=!T.getValue("diffEditor.experimental.showMoves");T.updateValue("diffEditor.experimental.showMoves",N)}}e.ToggleShowMovedCodeBlocks=i;class t extends b.Action2{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,w.localize2)(2,"Toggle Use Inline View When Space Is Limited"),precondition:o.ContextKeyExpr.has("isInDiffEditor")})}run(E,...I){const T=E.get(C.IConfigurationService),N=!T.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");T.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",N)}}e.ToggleUseInlineViewWhenSpaceIsLimited=t;const s=(0,w.localize2)(3,"Diff Editor");class c extends L.EditorAction2{constructor(){super({id:"diffEditor.switchSide",title:(0,w.localize2)(4,"Switch Side"),icon:k.Codicon.arrowSwap,precondition:o.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:s})}runEditorCommand(E,I,T){const N=p(E);if(N instanceof y.DiffEditorWidget){if(T&&T.dryRun)return{destinationSelection:N.mapToOtherSide().destinationSelection};N.switchSide()}}}e.SwitchSide=c;class g extends L.EditorAction2{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,w.localize2)(5,"Exit Compare Move"),icon:k.Codicon.close,precondition:m.EditorContextKeys.comparingMovedCode,f1:!1,category:s,keybinding:{weight:1e4,primary:9}})}runEditorCommand(E,I,...T){const N=p(E);N instanceof y.DiffEditorWidget&&N.exitCompareMove()}}e.ExitCompareMove=g;class l extends L.EditorAction2{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,w.localize2)(6,"Collapse All Unchanged Regions"),icon:k.Codicon.fold,precondition:o.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:s})}runEditorCommand(E,I,...T){const N=p(E);N instanceof y.DiffEditorWidget&&N.collapseAllUnchangedRegions()}}e.CollapseAllUnchangedRegions=l;class r extends L.EditorAction2{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,w.localize2)(7,"Show All Unchanged Regions"),icon:k.Codicon.unfold,precondition:o.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:s})}runEditorCommand(E,I,...T){const N=p(E);N instanceof y.DiffEditorWidget&&N.showAllUnchangedRegions()}}e.ShowAllUnchangedRegions=r;class d extends b.Action2{constructor(){super({id:"diffEditor.revert",title:(0,w.localize2)(8,"Revert"),f1:!1,category:s})}run(E,I){var T;const N=h(E,I.originalUri,I.modifiedUri);N instanceof y.DiffEditorWidget&&N.revertRangeMappings((T=I.mapping.innerChanges)!==null&&T!==void 0?T:[])}}e.RevertHunkOrSelection=d;const u=(0,w.localize2)(9,"Accessible Diff Viewer");class a extends b.Action2{constructor(){super({id:a.id,title:(0,w.localize2)(10,"Go to Next Difference"),category:u,precondition:o.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(E){const I=p(E);I?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=a,a.id="editor.action.accessibleDiffViewer.next";class v extends b.Action2{constructor(){super({id:v.id,title:(0,w.localize2)(11,"Go to Previous Difference"),category:u,precondition:o.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(E){const I=p(E);I?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=v,v.id="editor.action.accessibleDiffViewer.prev";function h(S,E,I){return S.get(D.ICodeEditorService).listDiffEditors().find(A=>{var R,M;const P=A.getModifiedEditor(),F=A.getOriginalEditor();return P&&((R=P.getModel())===null||R===void 0?void 0:R.uri.toString())===I.toString()&&F&&((M=F.getModel())===null||M===void 0?void 0:M.uri.toString())===E.toString()})||null}function p(S){const I=S.get(D.ICodeEditorService).listDiffEditors(),T=(0,f.getActiveElement)();if(T)for(const N of I){const A=N.getContainerDomNode();if(_(A,T))return N}return null}function _(S,E){let I=E;for(;I;){if(I===S)return!0;I=I.parentElement}return!1}}),define(ne[953],se([1,0,26,952,21,670,29,25,14,214]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerAction2)(k.ToggleCollapseUnchangedRegions),(0,y.registerAction2)(k.ToggleShowMovedCodeBlocks),(0,y.registerAction2)(k.ToggleUseInlineViewWhenSpaceIsLimited),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleUseInlineViewWhenSpaceIsLimited().desc.id,title:(0,D.localize)(0,null),toggled:w.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:w.ContextKeyExpr.and(L.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,w.ContextKeyExpr.has("isInDiffEditor"))}),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleShowMovedCodeBlocks().desc.id,title:(0,D.localize)(1,null),icon:f.Codicon.move,toggled:w.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:w.ContextKeyExpr.has("isInDiffEditor")}),(0,y.registerAction2)(k.RevertHunkOrSelection);for(const b of[{icon:f.Codicon.arrowRight,key:L.EditorContextKeys.diffEditorInlineMode.toNegated()},{icon:f.Codicon.discard,key:L.EditorContextKeys.diffEditorInlineMode}])y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorHunkToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,D.localize)(2,null),icon:b.icon},when:w.ContextKeyExpr.and(L.EditorContextKeys.diffEditorModifiedWritable,b.key),order:5,group:"primary"}),y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorSelectionToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,D.localize)(3,null),icon:b.icon},when:w.ContextKeyExpr.and(L.EditorContextKeys.diffEditorModifiedWritable,b.key),order:5,group:"primary"});(0,y.registerAction2)(k.SwitchSide),(0,y.registerAction2)(k.ExitCompareMove),(0,y.registerAction2)(k.CollapseAllUnchangedRegions),(0,y.registerAction2)(k.ShowAllUnchangedRegions),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:k.AccessibleDiffViewerNext.id,title:(0,D.localize)(4,null),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:w.ContextKeyExpr.and(L.EditorContextKeys.accessibleDiffViewerVisible.negate(),w.ContextKeyExpr.has("isInDiffEditor"))}),m.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",k.AccessibleDiffViewerNext.id),(0,y.registerAction2)(k.AccessibleDiffViewerNext),m.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",k.AccessibleDiffViewerPrev.id),(0,y.registerAction2)(k.AccessibleDiffViewerPrev)}),define(ne[407],se([1,0,6,254,26,2,30,125,280,212,29,8,337,121]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorItemTemplate=e.TemplateData=void 0;class t{constructor(l,r){this.viewModel=l,this.deltaScrollVertical=r}getId(){return this.viewModel}}e.TemplateData=t;let s=class extends D.Disposable{constructor(l,r,d,u){super(),this._container=l,this._overflowWidgetsDomNode=r,this._workbenchUIElementFactory=d,this._instantiationService=u,this._viewModel=(0,m.observableValue)(this,void 0),this._collapsed=(0,y.derived)(this,v=>{var h;return(h=this._viewModel.read(v))===null||h===void 0?void 0:h.collapsed.read(v)}),this._editorContentHeight=(0,m.observableValue)(this,500),this.contentHeight=(0,y.derived)(this,v=>(this._collapsed.read(v)?0:this._editorContentHeight.read(v))+this._outerEditorHeight),this._modifiedContentWidth=(0,m.observableValue)(this,0),this._modifiedWidth=(0,m.observableValue)(this,0),this._originalContentWidth=(0,m.observableValue)(this,0),this._originalWidth=(0,m.observableValue)(this,0),this.maxScroll=(0,y.derived)(this,v=>{const h=this._modifiedContentWidth.read(v)-this._modifiedWidth.read(v),p=this._originalContentWidth.read(v)-this._originalWidth.read(v);return h>p?{maxScroll:h,width:this._modifiedWidth.read(v)}:{maxScroll:p,width:this._originalWidth.read(v)}}),this._elements=(0,f.h)("div.multiDiffEntry",[(0,f.h)("div.header@header",[(0,f.h)("div.header-content",[(0,f.h)("div.collapse-button@collapseButton"),(0,f.h)("div.file-path",[(0,f.h)("div.title.modified.show-file-icons@primaryPath",[]),(0,f.h)("div.status.deleted@status",["R"]),(0,f.h)("div.title.original.show-file-icons@secondaryPath",[])]),(0,f.h)("div.actions@actions")])]),(0,f.h)("div.editorParent",[(0,f.h)("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(w.DiffEditorWidget,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=c(this.editor.getModifiedEditor()),this.isOriginalFocused=c(this.editor.getOriginalEditor()),this.isFocused=(0,y.derived)(this,v=>this.isModifedFocused.read(v)||this.isOriginalFocused.read(v)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new D.DisposableStore,this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const a=new k.Button(this._elements.collapseButton,{});this._register((0,y.autorun)(v=>{a.element.className="",a.icon=this._collapsed.read(v)?L.Codicon.chevronRight:L.Codicon.chevronDown})),this._register(a.onDidClick(()=>{var v;(v=this._viewModel.get())===null||v===void 0||v.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,y.autorun)(v=>{this._elements.editor.style.display=this._collapsed.read(v)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(v=>{const h=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(h,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(v=>{const h=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(h,void 0)})),this._register(this.editor.onDidContentSizeChange(v=>{(0,m.globalTransaction)(h=>{this._editorContentHeight.set(v.contentHeight,h),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),h),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),h)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(v=>{if(this._isSettingScrollTop||!v.scrollTopChanged||!this._data)return;const h=v.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(h)})),this._register((0,y.autorun)(v=>{var h;const p=(h=this._viewModel.read(v))===null||h===void 0?void 0:h.isActive.read(v);this._elements.root.classList.toggle("active",p)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(b.MenuWorkbenchToolBar,this._elements.actions,C.MenuId.MultiDiffEditorFileToolbar,{actionRunner:this._register(new n.ActionRunnerWithContext(()=>{var v;return(v=this._viewModel.get())===null||v===void 0?void 0:v.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:v=>v.startsWith("navigation")},actionViewItemProvider:(v,h)=>(0,i.createActionViewItem)(u,v,h)}))}setScrollLeft(l){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(l):this.editor.getOriginalEditor().setScrollLeft(l)}setData(l){this._data=l;function r(u){return{...u,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const d=l.viewModel.entry.value;d.onOptionsDidChange&&this._dataStore.add(d.onOptionsDidChange(()=>{var u;this.editor.updateOptions(r((u=d.options)!==null&&u!==void 0?u:{}))})),(0,m.globalTransaction)(u=>{var a,v,h,p;(a=this._resourceLabel)===null||a===void 0||a.setUri((v=l.viewModel.modifiedUri)!==null&&v!==void 0?v:l.viewModel.originalUri,{strikethrough:l.viewModel.modifiedUri===void 0});let _=!1,S=!1,E=!1,I="";l.viewModel.modifiedUri&&l.viewModel.originalUri&&l.viewModel.modifiedUri.path!==l.viewModel.originalUri.path?(I="R",_=!0):l.viewModel.modifiedUri?l.viewModel.originalUri||(I="A",E=!0):(I="D",S=!0),this._elements.status.classList.toggle("renamed",_),this._elements.status.classList.toggle("deleted",S),this._elements.status.classList.toggle("added",E),this._elements.status.innerText=I,(h=this._resourceLabel2)===null||h===void 0||h.setUri(_?l.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(l.viewModel,u),this.editor.setModel(l.viewModel.diffEditorViewModel,u),this.editor.updateOptions(r((p=d.options)!==null&&p!==void 0?p:{}))})}render(l,r,d,u){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${l.start}px`,this._elements.root.style.height=`${l.length}px`,this._elements.root.style.width=`${r}px`,this._elements.root.style.position="absolute";const a=l.length-this._headerHeight,v=Math.max(0,Math.min(u.start-l.start,a));this._elements.header.style.transform=`translateY(${v}px)`,(0,m.globalTransaction)(h=>{this.editor.layout({width:r-2*8-2*1,height:l.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=d,this.editor.getOriginalEditor().setScrollTop(d)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",v>0||d>0),this._elements.header.classList.toggle("collapsed",v===a)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};e.DiffEditorItemTemplate=s,e.DiffEditorItemTemplate=s=ke([ge(3,o.IInstantiationService)],s);function c(g){return(0,y.observableFromEvent)(l=>{const r=new D.DisposableStore;return r.add(g.onDidFocusEditorWidget(()=>l(!0))),r.add(g.onDidBlurEditorWidget(()=>l(!1))),r},()=>g.hasTextFocus())}}),define(ne[954],se([1,0,6,81,13,68,9,2,30,125,158,83,67,24,21,14,8,176,407,533,677,484]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidgetImpl=void 0;let u=class extends m.Disposable{constructor(h,p,_,S,E,I){super(),this._element=h,this._dimension=p,this._viewModel=_,this._workbenchUIElementFactory=S,this._parentContextKeyService=E,this._parentInstantiationService=I,this._scrollableElements=(0,f.h)("div.scrollContent",[(0,f.h)("div@content",{style:{overflow:"hidden"}}),(0,f.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._scrollable=this._register(new C.Scrollable({forceIntegerValues:!1,scheduleAtNextAnimationFrame:N=>(0,f.scheduleAtNextAnimationFrame)((0,f.getWindow)(this._element),N),smoothScrollDuration:100})),this._scrollableElement=this._register(new k.SmoothScrollableElement(this._scrollableElements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this._elements=(0,f.h)("div.monaco-component.multiDiffEditor",{},[(0,f.h)("div",{},[this._scrollableElement.getDomNode()]),(0,f.h)("div.placeholder@placeholder",{},[(0,f.h)("div",[(0,d.localize)(0,null)])])]),this._sizeObserver=this._register(new o.ObservableElementSizeObserver(this._element,void 0)),this._objectPool=this._register(new r.ObjectPool(N=>{const A=this._instantiationService.createInstance(l.DiffEditorItemTemplate,this._scrollableElements.content,this._scrollableElements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return A.setData(N),A})),this.scrollTop=(0,w.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,w.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=(0,w.derivedWithStore)(this,(N,A)=>{const R=this._viewModel.read(N);if(!R)return{items:[],getItem:O=>{throw new y.BugIndicatingError}};const M=R.items.read(N),P=new Map;return{items:M.map(O=>{var B;const V=A.add(new a(O,this._objectPool,this.scrollLeft,U=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+U})})),K=(B=this._lastDocStates)===null||B===void 0?void 0:B[V.getKey()];return K&&(0,b.transaction)(U=>{V.setViewState(K,U)}),P.set(O,V),V}),getItem:O=>P.get(O)}}),this._viewItems=this._viewItemsInfo.map(this,N=>N.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(N,A)=>N.reduce((R,M)=>R+M.contentHeight.read(A)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new g.ServiceCollection([s.IContextKeyService,this._contextKeyService]))),this._lastDocStates={},this._contextKeyService.createKey(t.EditorContextKeys.inMultiDiffEditor.key,!0),this._register((0,w.autorunWithStore)((N,A)=>{const R=this._viewModel.read(N);if(R&&R.contextKeys)for(const[M,P]of Object.entries(R.contextKeys)){const F=this._contextKeyService.createKey(M,void 0);F.set(P),A.add((0,m.toDisposable)(()=>F.reset()))}}));const T=this._parentContextKeyService.createKey(t.EditorContextKeys.multiDiffEditorAllCollapsed.key,!1);this._register((0,w.autorun)(N=>{const A=this._viewModel.read(N);if(A){const R=A.items.read(N).every(M=>M.collapsed.read(N));T.set(R)}})),this._register((0,w.autorun)(N=>{const A=this._dimension.read(N);this._sizeObserver.observe(A)})),this._register((0,w.autorun)(N=>{const A=this._viewItems.read(N);this._elements.placeholder.classList.toggle("visible",A.length===0)})),this._scrollableElements.content.style.position="relative",this._register((0,w.autorun)(N=>{const A=this._sizeObserver.height.read(N);this._scrollableElements.root.style.height=`${A}px`;const R=this._totalHeight.read(N);this._scrollableElements.content.style.height=`${R}px`;const M=this._sizeObserver.width.read(N);let P=M;const F=this._viewItems.read(N),O=(0,D.findFirstMax)(F,(0,L.compareBy)(B=>B.maxScroll.read(N).maxScroll,L.numberComparator));if(O){const B=O.maxScroll.read(N);P=M+B.maxScroll}this._scrollableElement.setScrollDimensions({width:M,height:A,scrollHeight:R,scrollWidth:P})})),h.replaceChildren(this._elements.root),this._register((0,m.toDisposable)(()=>{h.replaceChildren()})),this._register(this._register((0,w.autorun)(N=>{(0,b.globalTransaction)(A=>{this.render(N)})})))}render(h){const p=this.scrollTop.read(h);let _=0,S=0,E=0;const I=this._sizeObserver.height.read(h),T=n.OffsetRange.ofStartAndLength(p,I),N=this._sizeObserver.width.read(h);for(const A of this._viewItems.read(h)){const R=A.contentHeight.read(h),M=Math.min(R,I),P=n.OffsetRange.ofStartAndLength(S,M),F=n.OffsetRange.ofStartAndLength(E,R);if(F.isBefore(T))_-=R-M,A.hide();else if(F.isAfter(T))A.hide();else{const O=Math.max(0,Math.min(T.start-F.start,R-M));_-=O;const B=n.OffsetRange.ofStartAndLength(p+_,I);A.render(P,O,N,B)}S+=M+this._spaceBetweenPx,E+=R+this._spaceBetweenPx}this._scrollableElements.content.style.transform=`translateY(${-(p+_)}px)`}};e.MultiDiffEditorWidgetImpl=u,e.MultiDiffEditorWidgetImpl=u=ke([ge(4,s.IContextKeyService),ge(5,c.IInstantiationService)],u);class a extends m.Disposable{constructor(h,p,_,S){super(),this.viewModel=h,this._objectPool=p,this._scrollLeft=_,this._deltaScrollVertical=S,this._templateRef=this._register((0,b.disposableObservableValue)(this,void 0)),this.contentHeight=(0,w.derived)(this,E=>{var I,T,N;return(N=(T=(I=this._templateRef.read(E))===null||I===void 0?void 0:I.object.contentHeight)===null||T===void 0?void 0:T.read(E))!==null&&N!==void 0?N:this.viewModel.lastTemplateData.read(E).contentHeight}),this.maxScroll=(0,w.derived)(this,E=>{var I,T;return(T=(I=this._templateRef.read(E))===null||I===void 0?void 0:I.object.maxScroll.read(E))!==null&&T!==void 0?T:{maxScroll:0,scrollWidth:0}}),this.template=(0,w.derived)(this,E=>{var I;return(I=this._templateRef.read(E))===null||I===void 0?void 0:I.object}),this._isHidden=(0,w.observableValue)(this,!1),this._isFocused=(0,w.derived)(this,E=>{var I,T;return(T=(I=this.template.read(E))===null||I===void 0?void 0:I.isFocused.read(E))!==null&&T!==void 0?T:!1}),this.viewModel.setIsFocused(this._isFocused,void 0),this._register((0,w.autorun)(E=>{var I;const T=this._scrollLeft.read(E);(I=this._templateRef.read(E))===null||I===void 0||I.object.setScrollLeft(T)})),this._register((0,w.autorun)(E=>{const I=this._templateRef.read(E);!I||!this._isHidden.read(E)||I.object.isFocused.read(E)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var h;return`VirtualViewItem(${(h=this.viewModel.entry.value.modified)===null||h===void 0?void 0:h.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(h,p){var _;this.viewModel.collapsed.set(h.collapsed,p),this._updateTemplateData(p);const S=this.viewModel.lastTemplateData.get(),E=(_=h.selections)===null||_===void 0?void 0:_.map(i.Selection.liftSelection);this.viewModel.lastTemplateData.set({...S,selections:E},p);const I=this._templateRef.get();I&&E&&I.object.editor.setSelections(E)}_updateTemplateData(h){var p;const _=this._templateRef.get();_&&this.viewModel.lastTemplateData.set({contentHeight:_.object.contentHeight.get(),selections:(p=_.object.editor.getSelections())!==null&&p!==void 0?p:void 0},h)}_clear(){const h=this._templateRef.get();h&&(0,b.transaction)(p=>{this._updateTemplateData(p),h.object.hide(),this._templateRef.set(void 0,p)})}hide(){this._isHidden.set(!0,void 0)}render(h,p,_,S){this._isHidden.set(!1,void 0);let E=this._templateRef.get();if(!E){E=this._objectPool.getUnusedObj(new l.TemplateData(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(E,void 0);const I=this.viewModel.lastTemplateData.get().selections;I&&E.object.editor.setSelections(I)}E.object.render(h,_,p,S)}}}),define(ne[955],se([1,0,2,30,83,954,8,407,896]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidget=void 0;let w=class extends f.Disposable{constructor(C,o,n){super(),this._element=C,this._workbenchUIElementFactory=o,this._instantiationService=n,this._dimension=(0,k.observableValue)(this,void 0),this._viewModel=(0,k.observableValue)(this,void 0),this._widgetImpl=(0,k.derivedWithStore)(this,(i,t)=>((0,L.readHotReloadableExport)(m.DiffEditorItemTemplate,i),t.add(this._instantiationService.createInstance((0,L.readHotReloadableExport)(D.MultiDiffEditorWidgetImpl,i),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,k.recomputeInitiallyAndOnChange)(this._widgetImpl))}};e.MultiDiffEditorWidget=w,e.MultiDiffEditorWidget=w=ke([ge(2,y.IInstantiationService)],w)}),define(ne[956],se([1,0,15,2,16,10,5,24,21,42,37,693,29,33,23,486]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const s=(0,i.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},o.localize(0,null));class c extends L.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:o.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(a,v){var h;(h=d.get(v))===null||h===void 0||h.jumpToBracket()}}class g extends L.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:o.localize(2,null),alias:"Select to Bracket",precondition:void 0,metadata:{description:o.localize2(5,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(a,v,h){var p;let _=!0;h&&h.selectBrackets===!1&&(_=!1),(p=d.get(v))===null||p===void 0||p.selectToBracket(_)}}class l extends L.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:o.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(a,v){var h;(h=d.get(v))===null||h===void 0||h.removeBrackets(this.id)}}class r{constructor(a,v,h){this.position=a,this.brackets=v,this.options=h}}class d extends k.Disposable{static get(a){return a.getContribution(d.ID)}constructor(a){super(),this._editor=a,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new f.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(a.onDidChangeCursorPosition(v=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(a.onDidChangeModelContent(v=>{this._updateBracketsSoon.schedule()})),this._register(a.onDidChangeModel(v=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(a.onDidChangeModelLanguageConfiguration(v=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(a.onDidChangeConfiguration(v=>{v.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(a.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(a.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const a=this._editor.getModel(),v=this._editor.getSelections().map(h=>{const p=h.getStartPosition(),_=a.bracketPairs.matchBracket(p);let S=null;if(_)_[0].containsPosition(p)&&!_[1].containsPosition(p)?S=_[1].getStartPosition():_[1].containsPosition(p)&&(S=_[0].getStartPosition());else{const E=a.bracketPairs.findEnclosingBrackets(p);if(E)S=E[1].getStartPosition();else{const I=a.bracketPairs.findNextBracket(p);I&&I.range&&(S=I.range.getStartPosition())}}return S?new m.Selection(S.lineNumber,S.column,S.lineNumber,S.column):new m.Selection(p.lineNumber,p.column,p.lineNumber,p.column)});this._editor.setSelections(v),this._editor.revealRange(v[0])}selectToBracket(a){if(!this._editor.hasModel())return;const v=this._editor.getModel(),h=[];this._editor.getSelections().forEach(p=>{const _=p.getStartPosition();let S=v.bracketPairs.matchBracket(_);if(!S&&(S=v.bracketPairs.findEnclosingBrackets(_),!S)){const T=v.bracketPairs.findNextBracket(_);T&&T.range&&(S=v.bracketPairs.matchBracket(T.range.getStartPosition()))}let E=null,I=null;if(S){S.sort(y.Range.compareRangesUsingStarts);const[T,N]=S;if(E=a?T.getStartPosition():T.getEndPosition(),I=a?N.getEndPosition():N.getStartPosition(),N.containsPosition(_)){const A=E;E=I,I=A}}E&&I&&h.push(new m.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),h.length>0&&(this._editor.setSelections(h),this._editor.revealRange(h[0]))}removeBrackets(a){if(!this._editor.hasModel())return;const v=this._editor.getModel();this._editor.getSelections().forEach(h=>{const p=h.getPosition();let _=v.bracketPairs.matchBracket(p);_||(_=v.bracketPairs.findEnclosingBrackets(p)),_&&(this._editor.pushUndoStop(),this._editor.executeEdits(a,[{range:_[0],text:""},{range:_[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const a=[];let v=0;for(const h of this._lastBracketsData){const p=h.brackets;p&&(a[v++]={range:p[0],options:h.options},a[v++]={range:p[1],options:h.options})}this._decorations.set(a)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const a=this._editor.getSelections();if(a.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const v=this._editor.getModel(),h=v.getVersionId();let p=[];this._lastVersionId===h&&(p=this._lastBracketsData);const _=[];let S=0;for(let A=0,R=a.length;A<R;A++){const M=a[A];M.isEmpty()&&(_[S++]=M.getStartPosition())}_.length>1&&_.sort(D.Position.compare);const E=[];let I=0,T=0;const N=p.length;for(let A=0,R=_.length;A<R;A++){const M=_[A];for(;T<N&&p[T].position.isBefore(M);)T++;if(T<N&&p[T].position.equals(M))E[I++]=p[T];else{let P=v.bracketPairs.matchBracket(M,20),F=d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!P&&this._matchBrackets==="always"&&(P=v.bracketPairs.findEnclosingBrackets(M,20),F=d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new r(M,P,F)}}this._lastBracketsData=E,this._lastVersionId=h}}e.BracketMatchingController=d,d.ID="editor.contrib.bracketMatchingController",d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,t.themeColorFromId)(s),position:b.OverviewRulerLane.Center}}),d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,L.registerEditorContribution)(d.ID,d,1),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(c),(0,L.registerEditorAction)(l),n.MenuRegistry.appendMenuItem(n.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:o.localize(4,null)},order:2})}),define(ne[281],se([1,0,6,48,9,96,2,10,37,18,152,873,897,394,179,700,900,25,28,14,8,104,93,33,95,23,131,393,88,59]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;const N="quickfix-edit-highlight";let A=T=class extends y.Disposable{static get(M){return M.getContribution(T.ID)}constructor(M,P,F,O,B,V,K,U,G,z,$){super(),this._commandService=K,this._configurationService=U,this._actionWidgetService=G,this._instantiationService=z,this._telemetryService=$,this._activeCodeActions=this._register(new y.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=M,this._model=this._register(new S.CodeActionModel(this._editor,B.codeActionProvider,P,F,V,U)),this._register(this._model.onDidChangeState(J=>this.update(J))),this._lightBulbWidget=new D.Lazy(()=>{const J=this._editor.getContribution(i.LightBulbWidget.ID);return J&&this._register(J.onClick(ee=>this.showCodeActionsFromLightbulb(ee.actions,ee))),J}),this._resolver=O.createInstance(o.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(M,P){if(this._telemetryService.publicLog2("codeAction.showCodeActionsFromLightbulb",{codeActionListLength:M.validActions.length,codeActions:M.validActions.map(F=>F.action.title),codeActionProviders:M.validActions.map(F=>{var O,B;return(B=(O=F.provider)===null||O===void 0?void 0:O.displayName)!==null&&B!==void 0?B:""})}),M.allAIFixes&&M.validActions.length===1){const F=M.validActions[0],O=F.action.command;O&&O.id==="inlineChat.start"&&O.arguments&&O.arguments.length>=1&&(O.arguments[0]={...O.arguments[0],autoSend:!1}),await this._applyCodeAction(F,!1,!1,C.ApplyCodeActionReason.FromAILightbulb);return}await this.showCodeActionList(M,P,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(M,P,F){return this.showCodeActionList(P,F,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(M,P,F,O){var B;if(!this._editor.hasModel())return;(B=t.MessageController.get(this._editor))===null||B===void 0||B.closeMessage();const V=this._editor.getPosition();this._trigger({type:1,triggerAction:P,filter:F,autoApply:O,context:{notAvailableMessage:M,position:V}})}_trigger(M){return this._model.trigger(M)}async _applyCodeAction(M,P,F,O){try{await this._instantiationService.invokeFunction(C.applyCodeAction,M,O,{preview:F,editor:this._editor})}finally{P&&this._trigger({type:2,triggerAction:_.CodeActionTriggerSource.QuickFix,filter:{}})}}async update(M){var P,F,O,B,V,K,U;if(M.type!==1){(P=this._lightBulbWidget.rawValue)===null||P===void 0||P.hide();return}let G;try{G=await M.actions}catch(z){(0,L.onUnexpectedError)(z);return}if(!this._disposed)if((F=this._lightBulbWidget.value)===null||F===void 0||F.update(G,M.trigger,M.position),M.trigger.type===1){if(!((O=M.trigger.filter)===null||O===void 0)&&O.include){const $=this.tryGetValidActionToApply(M.trigger,G);if($){try{(B=this._lightBulbWidget.value)===null||B===void 0||B.hide(),await this._applyCodeAction($,!1,!1,C.ApplyCodeActionReason.FromCodeActions)}finally{G.dispose()}return}if(M.trigger.context){const J=this.getInvalidActionThatWouldHaveBeenApplied(M.trigger,G);if(J&&J.action.disabled){(V=t.MessageController.get(this._editor))===null||V===void 0||V.showMessage(J.action.disabled,M.trigger.context.position),G.dispose();return}}}const z=!!(!((K=M.trigger.filter)===null||K===void 0)&&K.include);if(M.trigger.context&&(!G.allActions.length||!z&&!G.validActions.length)){(U=t.MessageController.get(this._editor))===null||U===void 0||U.showMessage(M.trigger.context.notAvailableMessage,M.trigger.context.position),this._activeCodeActions.value=G,G.dispose();return}this._activeCodeActions.value=G,this.showCodeActionList(G,this.toCoords(M.position),{includeDisabledActions:z,fromLightbulb:!1})}else this._actionWidgetService.isVisible?G.dispose():this._activeCodeActions.value=G}getInvalidActionThatWouldHaveBeenApplied(M,P){if(P.allActions.length&&(M.autoApply==="first"&&P.validActions.length===0||M.autoApply==="ifSingle"&&P.allActions.length===1))return P.allActions.find(({action:F})=>F.disabled)}tryGetValidActionToApply(M,P){if(P.validActions.length&&(M.autoApply==="first"&&P.validActions.length>0||M.autoApply==="ifSingle"&&P.validActions.length===1))return P.validActions[0]}async showCodeActionList(M,P,F){const O=this._editor.createDecorationsCollection(),B=this._editor.getDomNode();if(!B)return;const V=F.includeDisabledActions&&(this._showDisabled||M.validActions.length===0)?M.allActions:M.validActions;if(!V.length)return;const K=m.Position.isIPosition(P)?this.toCoords(P):P,U={onSelect:async(G,z)=>{this._applyCodeAction(G,!0,!!z,F.fromLightbulb?C.ApplyCodeActionReason.FromAILightbulb:C.ApplyCodeActionReason.FromCodeActions),this._actionWidgetService.hide(!1),O.clear()},onHide:G=>{var z;(z=this._editor)===null||z===void 0||z.focus(),O.clear(),F.fromLightbulb&&G!==void 0&&this._telemetryService.publicLog2("codeAction.showCodeActionList.onHide",{codeActionListLength:M.validActions.length,didCancel:G,codeActions:M.validActions.map($=>$.action.title)})},onHover:async(G,z)=>{var $;if(z.isCancellationRequested)return;let J=!1;const ee=G.action.kind;if(ee){const Z=new E.HierarchicalKind(ee);J=[_.CodeActionKind.RefactorExtract,_.CodeActionKind.RefactorInline,_.CodeActionKind.RefactorRewrite,_.CodeActionKind.RefactorMove,_.CodeActionKind.Source].some(Y=>Y.contains(Z))}return{canPreview:J||!!(!(($=G.action.edit)===null||$===void 0)&&$.edits.length)}},onFocus:G=>{var z,$;if(G&&G.action){const J=G.action.ranges,ee=G.action.diagnostics;if(O.clear(),J&&J.length>0){const Z=ee&&ee?.length>1?ee.map(x=>({range:x,options:T.DECORATION})):J.map(x=>({range:x,options:T.DECORATION}));O.set(Z)}else if(ee&&ee.length>0){const Z=ee.map(Y=>({range:Y,options:T.DECORATION}));O.set(Z);const x=ee[0];if(x.startLineNumber&&x.startColumn){const Y=($=(z=this._editor.getModel())===null||z===void 0?void 0:z.getWordAtPosition({lineNumber:x.startLineNumber,column:x.startColumn}))===null||$===void 0?void 0:$.word;k.status((0,s.localize)(0,null,Y,x.startLineNumber,x.startColumn))}}}else O.clear()}};this._actionWidgetService.show("codeActionWidget",!0,(0,n.toMenuItems)(V,this._shouldShowHeaders(),this._resolver.getResolver()),U,K,B,this._getActionBarActions(M,P,F))}toCoords(M){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(M,1),this._editor.render();const P=this._editor.getScrolledVisiblePosition(M),F=(0,f.getDomNodePagePosition)(this._editor.getDomNode()),O=F.left+P.left,B=F.top+P.top+P.height;return{x:O,y:B}}_shouldShowHeaders(){var M;const P=(M=this._editor)===null||M===void 0?void 0:M.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:P?.uri})}_getActionBarActions(M,P,F){if(F.fromLightbulb)return[];const O=M.documentation.map(B=>{var V;return{id:B.id,label:B.title,tooltip:(V=B.tooltip)!==null&&V!==void 0?V:"",class:void 0,enabled:!0,run:()=>{var K;return this._commandService.executeCommand(B.id,...(K=B.arguments)!==null&&K!==void 0?K:[])}}});return F.includeDisabledActions&&M.validActions.length>0&&M.allActions.length!==M.validActions.length&&O.push(this._showDisabled?{id:"hideMoreActions",label:(0,s.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(M,P,F))}:{id:"showMoreActions",label:(0,s.localize)(2,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(M,P,F))}),O}};e.CodeActionController=A,A.ID="editor.contrib.codeActionController",A.DECORATION=w.ModelDecorationOptions.register({description:"quickfix-highlight",className:N}),e.CodeActionController=A=T=ke([ge(1,u.IMarkerService),ge(2,r.IContextKeyService),ge(3,d.IInstantiationService),ge(4,b.ILanguageFeaturesService),ge(5,a.IEditorProgressService),ge(6,g.ICommandService),ge(7,l.IConfigurationService),ge(8,c.IActionWidgetService),ge(9,d.IInstantiationService),ge(10,I.ITelemetryService)],A),(0,p.registerThemingParticipant)((R,M)=>{((O,B)=>{B&&M.addRule(`.monaco-editor ${O} { background-color: ${B}; }`)})(".quickfix-edit-highlight",R.getColor(v.editorFindMatchHighlight));const F=R.getColor(v.editorFindMatchHighlightBorder);F&&M.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,h.isHighContrast)(R.type)?"dotted":"solid"} ${F}; box-sizing: border-box; }`)})}),define(ne[957],se([1,0,88,11,16,21,152,698,14,131,281,393]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function n(a){return w.ContextKeyExpr.regex(o.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,k.escapeRegExpCharacters)(a.value)+"\\b"))}const i={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:m.localize(0,null)},apply:{type:"string",description:m.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[m.localize(2,null),m.localize(3,null),m.localize(4,null)]},preferred:{type:"boolean",default:!1,description:m.localize(5,null)}}};function t(a,v,h,p,_=b.CodeActionTriggerSource.Default){if(a.hasModel()){const S=C.CodeActionController.get(a);S?.manualTriggerAtCurrentPosition(v,_,h,p)}}class s extends L.EditorAction{constructor(){super({id:y.quickFixCommandId,label:m.localize(6,null),alias:"Quick Fix...",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,D.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(v,h){return t(h,m.localize(7,null),void 0,void 0,b.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=s;class c extends L.EditorCommand{constructor(){super({id:y.codeActionCommandId,precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,D.EditorContextKeys.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:i}]}})}runEditorCommand(v,h,p){const _=b.CodeActionCommandArgs.fromUser(p,{kind:f.HierarchicalKind.Empty,apply:"ifSingle"});return t(h,typeof p?.kind=="string"?_.preferred?m.localize(8,null,p.kind):m.localize(9,null,p.kind):_.preferred?m.localize(10,null):m.localize(11,null),{include:_.kind,includeSourceActions:!0,onlyIncludePreferredActions:_.preferred},_.apply)}}e.CodeActionCommand=c;class g extends L.EditorAction{constructor(){super({id:y.refactorCommandId,label:m.localize(12,null),alias:"Refactor...",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,D.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:w.ContextKeyExpr.and(D.EditorContextKeys.writable,n(b.CodeActionKind.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:i}]}})}run(v,h,p){const _=b.CodeActionCommandArgs.fromUser(p,{kind:b.CodeActionKind.Refactor,apply:"never"});return t(h,typeof p?.kind=="string"?_.preferred?m.localize(13,null,p.kind):m.localize(14,null,p.kind):_.preferred?m.localize(15,null):m.localize(16,null),{include:b.CodeActionKind.Refactor.contains(_.kind)?_.kind:f.HierarchicalKind.None,onlyIncludePreferredActions:_.preferred},_.apply,b.CodeActionTriggerSource.Refactor)}}e.RefactorAction=g;class l extends L.EditorAction{constructor(){super({id:y.sourceActionCommandId,label:m.localize(17,null),alias:"Source Action...",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,D.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:w.ContextKeyExpr.and(D.EditorContextKeys.writable,n(b.CodeActionKind.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:i}]}})}run(v,h,p){const _=b.CodeActionCommandArgs.fromUser(p,{kind:b.CodeActionKind.Source,apply:"never"});return t(h,typeof p?.kind=="string"?_.preferred?m.localize(18,null,p.kind):m.localize(19,null,p.kind):_.preferred?m.localize(20,null):m.localize(21,null),{include:b.CodeActionKind.Source.contains(_.kind)?_.kind:f.HierarchicalKind.None,includeSourceActions:!0,onlyIncludePreferredActions:_.preferred},_.apply,b.CodeActionTriggerSource.SourceAction)}}e.SourceAction=l;class r extends L.EditorAction{constructor(){super({id:y.organizeImportsCommandId,label:m.localize(22,null),alias:"Organize Imports",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,n(b.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(v,h){return t(h,m.localize(23,null),{include:b.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",b.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=r;class d extends L.EditorAction{constructor(){super({id:y.fixAllCommandId,label:m.localize(24,null),alias:"Fix All",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,n(b.CodeActionKind.SourceFixAll))})}run(v,h){return t(h,m.localize(25,null),{include:b.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",b.CodeActionTriggerSource.FixAll)}}e.FixAllAction=d;class u extends L.EditorAction{constructor(){super({id:y.autoFixCommandId,label:m.localize(26,null),alias:"Auto Fix...",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,n(b.CodeActionKind.QuickFix)),kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(v,h){return t(h,m.localize(27,null),{include:b.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",b.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=u}),define(ne[958],se([1,0,16,268,957,281,394,699,105,39]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(D.CodeActionController.ID,D.CodeActionController,3),(0,f.registerEditorContribution)(y.LightBulbWidget.ID,y.LightBulbWidget,4),(0,f.registerEditorAction)(L.QuickFixAction),(0,f.registerEditorAction)(L.RefactorAction),(0,f.registerEditorAction)(L.SourceAction),(0,f.registerEditorAction)(L.OrganizeImportsAction),(0,f.registerEditorAction)(L.AutoFixAction),(0,f.registerEditorAction)(L.FixAllAction),(0,f.registerEditorCommand)(new L.CodeActionCommand),b.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:m.localize(0,null),default:!0}}}),b.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:m.localize(1,null),default:!0}}})}),define(ne[959],se([1,0,6,110,5,37,488]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class y{constructor(n,i,t){this.afterColumn=1073741824,this.afterLineNumber=n,this.heightInPx=i,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(n){this._lastHeight===void 0?this._lastHeight=n:this._lastHeight!==n&&(this._lastHeight=n,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class m{constructor(n,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id=`codelens.widget-${m._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(n,i){this._commands.clear();const t=[];let s=!1;for(let c=0;c<n.length;c++){const g=n[c];if(g&&(s=!0,g.command)){const l=(0,k.renderLabelWithIcons)(g.command.title.trim());if(g.command.id){const r=`c${m._idPool++}`;t.push(f.$("a",{id:r,title:g.command.tooltip,role:"button"},...l)),this._commands.set(r,g.command)}else t.push(f.$("span",{title:g.command.tooltip},...l));c+1<n.length&&t.push(f.$("span",void 0,"\xA0|\xA0"))}}s?(f.reset(this._domNode,...t),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):f.reset(this._domNode,f.$("span",void 0,"no commands"))}getCommand(n){return n.parentElement===this._domNode?this._commands.get(n.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(n){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(n);this._widgetPosition={position:{lineNumber:n,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}m._idPool=0;class w{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(n,i){this._addDecorations.push(n),this._addDecorationsCallbacks.push(i)}removeDecoration(n){this._removeDecorations.push(n)}commit(n){const i=n.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,s=i.length;t<s;t++)this._addDecorationsCallbacks[t](i[t])}}e.CodeLensHelper=w;const b=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class C{constructor(n,i,t,s,c,g){this._isDisposed=!1,this._editor=i,this._data=n,this._decorationIds=[];let l;const r=[];this._data.forEach((d,u)=>{d.symbol.command&&r.push(d.symbol),t.addDecoration({range:d.symbol.range,options:b},a=>this._decorationIds[u]=a),l?l=L.Range.plusRange(l,d.symbol.range):l=L.Range.lift(d.symbol.range)}),this._viewZone=new y(l.startLineNumber-1,c,g),this._viewZoneId=s.addZone(this._viewZone),r.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(r,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new m(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(n,i){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],i?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((n,i)=>{const t=this._editor.getModel().getDecorationRange(n),s=this._data[i].symbol;return!!(t&&L.Range.isEmpty(s.range)===t.isEmpty())})}updateCodeLensSymbols(n,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=n,this._data.forEach((t,s)=>{i.addDecoration({range:t.symbol.range,options:b},c=>this._decorationIds[s]=c)})}updateHeight(n,i){this._viewZone.heightInPx=n,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(n){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const t=n.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(n){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(n,!0);for(let i=0;i<this._data.length;i++){const t=n[i];if(t){const{symbol:s}=this._data[i];s.command=t.command||s.command}}}getCommand(n){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(n)}getLineNumber(){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return n?n.startLineNumber:-1}update(n){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,n.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=C}),define(ne[960],se([1,0,15,9,2,139,16,38,21,372,863,959,703,25,50,65,84,18]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let l=class{constructor(d,u,a,v,h,p){this._editor=d,this._languageFeaturesService=u,this._commandService=v,this._notificationService=h,this._codeLensCache=p,this._disposables=new L.DisposableStore,this._localToDispose=new L.DisposableStore,this._lenses=[],this._oldCodeLensModels=new L.DisposableStore,this._provideCodeLensDebounce=a.for(u.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=a.for(u.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new f.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(_=>{(_.hasChanged(50)||_.hasChanged(19)||_.hasChanged(18))&&this._updateLensStyle(),_.hasChanged(17)&&this._onModelChange()})),this._disposables.add(u.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var d;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(d=this._currentCodeLensModel)===null||d===void 0||d.dispose()}_getLayoutInfo(){const d=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let u=this._editor.getOption(19);return(!u||u<5)&&(u=this._editor.getOption(52)*.9|0),{fontSize:u,codeLensHeight:u*d|0}}_updateLensStyle(){const{codeLensHeight:d,fontSize:u}=this._getLayoutInfo(),a=this._editor.getOption(18),v=this._editor.getOption(50),{style:h}=this._editor.getContainerDomNode();h.setProperty("--vscode-editorCodeLens-lineHeight",`${d}px`),h.setProperty("--vscode-editorCodeLens-fontSize",`${u}px`),h.setProperty("--vscode-editorCodeLens-fontFeatureSettings",v.fontFeatureSettings),a&&(h.setProperty("--vscode-editorCodeLens-fontFamily",a),h.setProperty("--vscode-editorCodeLens-fontFamilyDefault",m.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(p=>{for(const _ of this._lenses)_.updateHeight(d,p)})}_localDispose(){var d,u,a;(d=this._getCodeLensModelPromise)===null||d===void 0||d.cancel(),this._getCodeLensModelPromise=void 0,(u=this._resolveCodeLensesPromise)===null||u===void 0||u.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(a=this._currentCodeLensModel)===null||a===void 0||a.dispose()}_onModelChange(){this._localDispose();const d=this._editor.getModel();if(!d||!this._editor.getOption(17)||d.isTooLargeForTokenization())return;const u=this._codeLensCache.get(d);if(u&&this._renderCodeLensSymbols(u),!this._languageFeaturesService.codeLensProvider.has(d)){u&&(0,f.disposableTimeout)(()=>{const v=this._codeLensCache.get(d);u===v&&(this._codeLensCache.delete(d),this._onModelChange())},30*1e3,this._localToDispose);return}for(const v of this._languageFeaturesService.codeLensProvider.all(d))if(typeof v.onDidChange=="function"){const h=v.onDidChange(()=>a.schedule());this._localToDispose.add(h)}const a=new f.RunOnceScheduler(()=>{var v;const h=Date.now();(v=this._getCodeLensModelPromise)===null||v===void 0||v.cancel(),this._getCodeLensModelPromise=(0,f.createCancelablePromise)(p=>(0,b.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,d,p)),this._getCodeLensModelPromise.then(p=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=p,this._codeLensCache.put(d,p);const _=this._provideCodeLensDebounce.update(d,Date.now()-h);a.delay=_,this._renderCodeLensSymbols(p),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(d));this._localToDispose.add(a),this._localToDispose.add((0,L.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var v;this._editor.changeDecorations(h=>{this._editor.changeViewZones(p=>{const _=[];let S=-1;this._lenses.forEach(I=>{!I.isValid()||S===I.getLineNumber()?_.push(I):(I.update(p),S=I.getLineNumber())});const E=new o.CodeLensHelper;_.forEach(I=>{I.dispose(E,p),this._lenses.splice(this._lenses.indexOf(I),1)}),E.commit(h)})}),a.schedule(),this._resolveCodeLensesScheduler.cancel(),(v=this._resolveCodeLensesPromise)===null||v===void 0||v.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{a.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{a.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(v=>{v.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,L.toDisposable)(()=>{if(this._editor.getModel()){const v=D.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(h=>{this._editor.changeViewZones(p=>{this._disposeAllLenses(h,p)})}),v.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(v=>{if(v.target.type!==9)return;let h=v.target.element;if(h?.tagName==="SPAN"&&(h=h.parentElement),h?.tagName==="A")for(const p of this._lenses){const _=p.getCommand(h);if(_){this._commandService.executeCommand(_.id,..._.arguments||[]).catch(S=>this._notificationService.error(S));break}}})),a.schedule()}_disposeAllLenses(d,u){const a=new o.CodeLensHelper;for(const v of this._lenses)v.dispose(a,u);d&&a.commit(d),this._lenses.length=0}_renderCodeLensSymbols(d){if(!this._editor.hasModel())return;const u=this._editor.getModel().getLineCount(),a=[];let v;for(const _ of d.lenses){const S=_.symbol.range.startLineNumber;S<1||S>u||(v&&v[v.length-1].symbol.range.startLineNumber===S?v.push(_):(v=[_],a.push(v)))}if(!a.length&&!this._lenses.length)return;const h=D.StableEditorScrollState.capture(this._editor),p=this._getLayoutInfo();this._editor.changeDecorations(_=>{this._editor.changeViewZones(S=>{const E=new o.CodeLensHelper;let I=0,T=0;for(;T<a.length&&I<this._lenses.length;){const N=a[T][0].symbol.range.startLineNumber,A=this._lenses[I].getLineNumber();A<N?(this._lenses[I].dispose(E,S),this._lenses.splice(I,1)):A===N?(this._lenses[I].updateCodeLensSymbols(a[T],E),T++,I++):(this._lenses.splice(I,0,new o.CodeLensWidget(a[T],this._editor,E,S,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(E,S),this._lenses.splice(I,1);for(;T<a.length;)this._lenses.push(new o.CodeLensWidget(a[T],this._editor,E,S,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;E.commit(_)})}),h.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var d;(d=this._resolveCodeLensesPromise)===null||d===void 0||d.cancel(),this._resolveCodeLensesPromise=void 0;const u=this._editor.getModel();if(!u)return;const a=[],v=[];if(this._lenses.forEach(_=>{const S=_.computeIfNecessary(u);S&&(a.push(S),v.push(_))}),a.length===0)return;const h=Date.now(),p=(0,f.createCancelablePromise)(_=>{const S=a.map((E,I)=>{const T=new Array(E.length),N=E.map((A,R)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(u,A.symbol,_)).then(M=>{T[R]=M},k.onUnexpectedExternalError):(T[R]=A.symbol,Promise.resolve(void 0)));return Promise.all(N).then(()=>{!_.isCancellationRequested&&!v[I].isDisposed()&&v[I].updateCommands(T)})});return Promise.all(S)});this._resolveCodeLensesPromise=p,this._resolveCodeLensesPromise.then(()=>{const _=this._resolveCodeLensesDebounce.update(u,Date.now()-h);this._resolveCodeLensesScheduler.delay=_,this._currentCodeLensModel&&this._codeLensCache.put(u,this._currentCodeLensModel),this._oldCodeLensModels.clear(),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},_=>{(0,k.onUnexpectedError)(_),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var d;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,!((d=this._currentCodeLensModel)===null||d===void 0)&&d.isDisposed?void 0:this._currentCodeLensModel}};e.CodeLensContribution=l,l.ID="css.editor.codeLens",e.CodeLensContribution=l=ke([ge(1,g.ILanguageFeaturesService),ge(2,c.ILanguageFeatureDebounceService),ge(3,i.ICommandService),ge(4,t.INotificationService),ge(5,C.ICodeLensCache)],l),(0,y.registerEditorContribution)(l.ID,l,1),(0,y.registerEditorAction)(class extends y.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:w.EditorContextKeys.hasCodeLensProvider,label:(0,n.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}async run(d,u){if(!u.hasModel())return;const a=d.get(s.IQuickInputService),v=d.get(i.ICommandService),h=d.get(t.INotificationService),p=u.getSelection().positionLineNumber,_=u.getContribution(l.ID);if(!_)return;const S=await _.getModel();if(!S)return;const E=[];for(const N of S.lenses)N.symbol.command&&N.symbol.range.startLineNumber===p&&E.push({label:N.symbol.command.title,command:N.symbol.command});if(E.length===0)return;const I=await a.pick(E,{canPickMany:!1,placeHolder:(0,n.localize)(1,null)});if(!I)return;let T=I.command;if(S.isDisposed){const N=await _.getModel(),A=N?.lenses.find(R=>{var M;return R.symbol.range.startLineNumber===p&&((M=R.symbol.command)===null||M===void 0?void 0:M.title)===T.title});if(!A||!A.symbol.command)return;T=A.symbol.command}try{await v.executeCommand(T.id,...T.arguments||[])}catch(N){h.error(N)}}})}),define(ne[408],se([1,0,15,34,9,7,2,60,11,180,16,5,37,84,18,386,28]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let l=g=class extends y.Disposable{constructor(u,a,v,h){super(),this._editor=u,this._configurationService=a,this._languageFeaturesService=v,this._localToDispose=this._register(new y.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new b.DynamicCssRules(this._editor),this._decoratorLimitReporter=new r,this._colorDecorationClassRefs=this._register(new y.DisposableStore),this._debounceInformation=h.for(v.colorProvider,"Document Colors",{min:g.RECOMPUTE_TIME}),this._register(u.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(u.onDidChangeModelLanguage(()=>this.updateColors())),this._register(v.colorProvider.onDidChange(()=>this.updateColors())),this._register(u.onDidChangeConfiguration(p=>{const _=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147);const S=_!==this._isColorDecoratorsEnabled||p.hasChanged(21),E=p.hasChanged(147);(S||E)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147),this.updateColors()}isEnabled(){const u=this._editor.getModel();if(!u)return!1;const a=u.getLanguageId(),v=this._configurationService.getValue(a);if(v&&typeof v=="object"){const h=v.colorDecorators;if(h&&h.enable!==void 0&&!h.enable)return h.enable}return this._editor.getOption(20)}static get(u){return u.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const u=this._editor.getModel();!u||!this._languageFeaturesService.colorProvider.has(u)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new f.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(u)))})),this.beginCompute())}async beginCompute(){this._computePromise=(0,f.createCancelablePromise)(async u=>{const a=this._editor.getModel();if(!a)return[];const v=new m.StopWatch(!1),h=await(0,s.getColors)(this._languageFeaturesService.colorProvider,a,u,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(a,v.elapsed()),h});try{const u=await this._computePromise;this.updateDecorations(u),this.updateColorDecorators(u),this._computePromise=null}catch(u){(0,L.onUnexpectedError)(u)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(u){const a=u.map(v=>({range:{startLineNumber:v.colorInfo.range.startLineNumber,startColumn:v.colorInfo.range.startColumn,endLineNumber:v.colorInfo.range.endLineNumber,endColumn:v.colorInfo.range.endColumn},options:n.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(v=>{this._decorationsIds=v.deltaDecorations(this._decorationsIds,a),this._colorDatas=new Map,this._decorationsIds.forEach((h,p)=>this._colorDatas.set(h,u[p]))})}updateColorDecorators(u){this._colorDecorationClassRefs.clear();const a=[],v=this._editor.getOption(21);for(let p=0;p<u.length&&a.length<v;p++){const{red:_,green:S,blue:E,alpha:I}=u[p].colorInfo.color,T=new k.RGBA(Math.round(_*255),Math.round(S*255),Math.round(E*255),I),N=`rgba(${T.r}, ${T.g}, ${T.b}, ${T.a})`,A=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:N}));a.push({range:{startLineNumber:u[p].colorInfo.range.startLineNumber,startColumn:u[p].colorInfo.range.startColumn,endLineNumber:u[p].colorInfo.range.endLineNumber,endColumn:u[p].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:w.noBreakWhitespace,inlineClassName:`${A.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const h=v<u.length?v:!1;this._decoratorLimitReporter.update(u.length,h),this._colorDecoratorIds.set(a)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(u){const a=this._editor.getModel();if(!a)return null;const v=a.getDecorationsInRange(o.Range.fromPositions(u,u)).filter(h=>this._colorDatas.has(h.id));return v.length===0?null:this._colorDatas.get(v[0].id)}isColorDecoration(u){return this._colorDecoratorIds.has(u)}};e.ColorDetector=l,l.ID="editor.contrib.colorDetector",l.RECOMPUTE_TIME=1e3,e.ColorDetector=l=g=ke([ge(1,c.IConfigurationService),ge(2,t.ILanguageFeaturesService),ge(3,i.ILanguageFeatureDebounceService)],l);class r{constructor(){this._onDidChange=new D.Emitter,this._computed=0,this._limited=!1}update(u,a){(u!==this._computed||a!==this._limited)&&(this._computed=u,this._limited=a,this._onDidChange.fire())}}e.DecoratorLimitReporter=r,(0,C.registerEditorContribution)(l.ID,l,1)}),define(ne[409],se([1,0,15,19,34,2,5,386,408,589,903,23,6]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(a,v,h,p){this.owner=a,this.range=v,this.model=h,this.provider=p,this.forceShowAtRange=!0}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}e.ColorHover=i;let t=class{constructor(a,v){this._editor=a,this._themeService=v,this.hoverOrdinal=2}computeSync(a,v){return[]}computeAsync(a,v,h){return f.AsyncIterableObject.fromPromise(this._computeAsync(a,v,h))}async _computeAsync(a,v,h){if(!this._editor.hasModel())return[];const p=w.ColorDetector.get(this._editor);if(!p)return[];for(const _ of v){if(!p.isColorDecoration(_))continue;const S=p.getColorData(_.range.getStartPosition());if(S)return[await g(this,this._editor.getModel(),S.colorInfo,S.provider)]}return[]}renderHoverParts(a,v){return l(this,this._editor,this._themeService,v,a)}};e.ColorHoverParticipant=t,e.ColorHoverParticipant=t=ke([ge(1,o.IThemeService)],t);class s{constructor(a,v,h,p){this.owner=a,this.range=v,this.model=h,this.provider=p}}e.StandaloneColorPickerHover=s;let c=class{constructor(a,v){this._editor=a,this._themeService=v,this._color=null}async createColorHover(a,v,h){if(!this._editor.hasModel()||!w.ColorDetector.get(this._editor))return null;const _=await(0,m.getColors)(h,this._editor.getModel(),k.CancellationToken.None);let S=null,E=null;for(const A of _){const R=A.colorInfo;y.Range.containsRange(R.range,a.range)&&(S=R,E=A.provider)}const I=S??a,T=E??v,N=!!S;return{colorHover:await g(this,this._editor.getModel(),I,T),foundInEditor:N}}async updateEditorModel(a){if(!this._editor.hasModel())return;const v=a.model;let h=new y.Range(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn);this._color&&(await d(this._editor.getModel(),v,this._color,h,a),h=r(this._editor,h,v))}renderHoverParts(a,v){return l(this,this._editor,this._themeService,v,a)}set color(a){this._color=a}get color(){return this._color}};e.StandaloneColorPickerParticipant=c,e.StandaloneColorPickerParticipant=c=ke([ge(1,o.IThemeService)],c);async function g(u,a,v,h){const p=a.getValueInRange(v.range),{red:_,green:S,blue:E,alpha:I}=v.color,T=new L.RGBA(Math.round(_*255),Math.round(S*255),Math.round(E*255),I),N=new L.Color(T),A=await(0,m.getColorPresentations)(a,v,h,k.CancellationToken.None),R=new b.ColorPickerModel(N,[],0);return R.colorPresentations=A||[],R.guessColorPresentation(N,p),u instanceof t?new i(u,y.Range.lift(v.range),R,h):new s(u,y.Range.lift(v.range),R,h)}function l(u,a,v,h,p){if(h.length===0||!a.hasModel())return D.Disposable.None;if(p.setMinimumDimensions){const R=a.getOption(67)+8;p.setMinimumDimensions(new n.Dimension(302,R))}const _=new D.DisposableStore,S=h[0],E=a.getModel(),I=S.model,T=_.add(new C.ColorPickerWidget(p.fragment,I,a.getOption(143),v,u instanceof c));p.setColorPicker(T);let N=!1,A=new y.Range(S.range.startLineNumber,S.range.startColumn,S.range.endLineNumber,S.range.endColumn);if(u instanceof c){const R=h[0].model.color;u.color=R,d(E,I,R,A,S),_.add(I.onColorFlushed(M=>{u.color=M}))}else _.add(I.onColorFlushed(async R=>{await d(E,I,R,A,S),N=!0,A=r(a,A,I)}));return _.add(I.onDidChangeColor(R=>{d(E,I,R,A,S)})),_.add(a.onDidChangeModelContent(R=>{N?N=!1:(p.hide(),a.focus())})),_}function r(u,a,v){var h,p;const _=[],S=(h=v.presentation.textEdit)!==null&&h!==void 0?h:{range:a,text:v.presentation.label,forceMoveMarkers:!1};_.push(S),v.presentation.additionalTextEdits&&_.push(...v.presentation.additionalTextEdits);const E=y.Range.lift(S.range),I=u.getModel()._setTrackedRange(null,E,3);return u.executeEdits("colorpicker",_),u.pushUndoStop(),(p=u.getModel()._getTrackedRange(I))!==null&&p!==void 0?p:E}async function d(u,a,v,h,p){const _=await(0,m.getColorPresentations)(u,{range:h,color:{red:v.rgba.r/255,green:v.rgba.g/255,blue:v.rgba.b/255,alpha:v.rgba.a}},p.provider,k.CancellationToken.None);a.colorPresentations=_||[]}}),define(ne[961],se([1,0,2,409,8,375,32,7,18,16,21,14,53,35,385,6,222]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";var c,g;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let l=c=class extends f.Disposable{constructor(h,p,_,S,E,I,T){super(),this._editor=h,this._modelService=_,this._keybindingService=S,this._instantiationService=E,this._languageFeatureService=I,this._languageConfigurationService=T,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=C.EditorContextKeys.standaloneColorPickerVisible.bindTo(p),this._standaloneColorPickerFocused=C.EditorContextKeys.standaloneColorPickerFocused.bindTo(p)}showOrFocus(){var h;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(h=this._standaloneColorPickerWidget)===null||h===void 0||h.focus():this._standaloneColorPickerWidget=new u(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var h;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(h=this._standaloneColorPickerWidget)===null||h===void 0||h.hide(),this._editor.focus()}insertColor(){var h;(h=this._standaloneColorPickerWidget)===null||h===void 0||h.updateEditor(),this.hide()}static get(h){return h.getContribution(c.ID)}};e.StandaloneColorPickerController=l,l.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=l=c=ke([ge(1,o.IContextKeyService),ge(2,n.IModelService),ge(3,y.IKeybindingService),ge(4,L.IInstantiationService),ge(5,w.ILanguageFeaturesService),ge(6,i.ILanguageConfigurationService)],l),(0,b.registerEditorContribution)(l.ID,l,1);const r=8,d=22;let u=g=class extends f.Disposable{constructor(h,p,_,S,E,I,T,N){var A;super(),this._editor=h,this._standaloneColorPickerVisible=p,this._standaloneColorPickerFocused=_,this._modelService=E,this._keybindingService=I,this._languageFeaturesService=T,this._languageConfigurationService=N,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new m.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=S.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(A=this._editor._getViewModel())===null||A===void 0?void 0:A.getPrimaryCursorState().modelState.position;const R=this._editor.getSelection(),M=R?{startLineNumber:R.startLineNumber,startColumn:R.startColumn,endLineNumber:R.endLineNumber,endColumn:R.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},P=this._register(s.trackFocus(this._body));this._register(P.onDidBlur(F=>{this.hide()})),this._register(P.onDidFocus(F=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(F=>{var O;const B=(O=F.target.element)===null||O===void 0?void 0:O.classList;B&&B.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(F=>{this._render(F.value,F.foundInEditor)})),this._start(M),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return g.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const h=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:h?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(h){const p=await this._computeAsync(h);p&&this._onResult.fire(new a(p.result,p.foundInEditor))}async _computeAsync(h){if(!this._editor.hasModel())return null;const p={range:h,color:{red:0,green:0,blue:0,alpha:1}},_=await this._standaloneColorPickerParticipant.createColorHover(p,new t.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return _?{result:_.colorHover,foundInEditor:_.foundInEditor}:null}_render(h,p){const _=document.createDocumentFragment(),S=this._register(new D.EditorHoverStatusBar(this._keybindingService));let E;const I={fragment:_,statusBar:S,setColorPicker:B=>E=B,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=h,this._register(this._standaloneColorPickerParticipant.renderHoverParts(I,[h])),E===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(_),E.layout();const T=E.body,N=T.saturationBox.domNode.clientWidth,A=T.domNode.clientWidth-N-d-r,R=E.body.enterButton;R?.onClicked(()=>{this.updateEditor(),this.hide()});const M=E.header,P=M.pickedColorNode;P.style.width=N+r+"px";const F=M.originalColorNode;F.style.width=A+"px";const O=E.header.closeButton;O?.onClicked(()=>{this.hide()}),p&&(R&&(R.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(h.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=u,u.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=u=g=ke([ge(3,L.IInstantiationService),ge(4,n.IModelService),ge(5,y.IKeybindingService),ge(6,w.ILanguageFeaturesService),ge(7,i.ILanguageConfigurationService)],u);class a{constructor(h,p){this.value=h,this.foundInEditor=p}}}),define(ne[962],se([1,0,16,705,961,21,29,222]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class m extends f.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,k.localize2)(3,"Show or Focus Standalone Color Picker"),mnemonicTitle:(0,k.localize)(0,null)},precondition:void 0,menu:[{id:y.MenuId.CommandPalette}],metadata:{description:(0,k.localize2)(4,"Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(o,n){var i;(i=L.StandaloneColorPickerController.get(n))===null||i===void 0||i.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=m;class w extends f.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(1,null),alias:"Hide the Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:(0,k.localize2)(5,"Hide the standalone color picker.")}})}run(o,n){var i;(i=L.StandaloneColorPickerController.get(n))===null||i===void 0||i.hide()}}class b extends f.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(2,null),alias:"Insert Color with Standalone Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:(0,k.localize2)(6,"Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(o,n){var i;(i=L.StandaloneColorPickerController.get(n))===null||i===void 0||i.insertColor()}}(0,f.registerEditorAction)(w),(0,f.registerEditorAction)(b),(0,y.registerAction2)(m)}),define(ne[963],se([1,0,2,17,16,10,5,24,37,591,489]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function C(n){return k.isMacintosh?n.altKey:n.ctrlKey}class o extends f.Disposable{constructor(i){super(),this._editor=i,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(35)||this._editor.getOption(22)||(C(i)&&(this._modifierPressed=!0),this._mouseDown&&C(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(35)||this._editor.getOption(22)||(C(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===o.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){const t=i.target;if(this._dragSelection===null){const c=(this._editor.getSelections()||[]).filter(g=>t.position&&g.containsPosition(t.position));if(c.length===1)this._dragSelection=c[0];else return}C(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){const t=new D.Position(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let s=null;if(i.event.shiftKey){const c=this._editor.getSelection();if(c){const{selectionStartLineNumber:g,selectionStartColumn:l}=c;s=[new m.Selection(g,l,t.lineNumber,t.column)]}}else s=(this._editor.getSelections()||[]).map(c=>c.containsPosition(t)?new m.Selection(t.lineNumber,t.column,t.lineNumber,t.column):c);this._editor.setSelections(s||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(C(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(o.ID,new b.DragAndDropCommand(this._dragSelection,t,C(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){this._dndDecorationIds.set([{range:new y.Range(i.lineNumber,i.column,i.lineNumber,i.column),options:o._DECORATION_OPTIONS}]),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=o,o.ID="editor.contrib.dragAndDrop",o.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,o._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,L.registerEditorContribution)(o.ID,o,2)}),define(ne[964],se([1,0,5,42,37,33,23]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class m{constructor(b){this._editor=b,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const b=this._findScopeDecorationIds.map(C=>this._editor.getModel().getDecorationRange(C)).filter(C=>!!C);if(b.length)return b}return null}getStartPosition(){return this._startPosition}setStartPosition(b){this._startPosition=b,this.setCurrentFindMatch(null)}_getDecorationIndex(b){const C=this._decorations.indexOf(b);return C>=0?C+1:1}getDecorationRangeAt(b){const C=b<this._decorations.length?this._decorations[b]:null;return C?this._editor.getModel().getDecorationRange(C):null}getCurrentMatchesPosition(b){const C=this._editor.getModel().getDecorationsInRange(b);for(const o of C){const n=o.options;if(n===m._FIND_MATCH_DECORATION||n===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 0}setCurrentFindMatch(b){let C=null,o=0;if(b)for(let n=0,i=this._decorations.length;n<i;n++){const t=this._editor.getModel().getDecorationRange(this._decorations[n]);if(b.equalsRange(t)){C=this._decorations[n],o=n+1;break}}return(this._highlightedDecorationId!==null||C!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),C!==null&&(this._highlightedDecorationId=C,n.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),C!==null){let i=this._editor.getModel().getDecorationRange(C);if(i.startLineNumber!==i.endLineNumber&&i.endColumn===1){const t=i.endLineNumber-1,s=this._editor.getModel().getLineMaxColumn(t);i=new f.Range(i.startLineNumber,i.startColumn,t,s)}this._rangeHighlightDecorationId=n.addDecoration(i,m._RANGE_HIGHLIGHT_DECORATION)}}),o}set(b,C){this._editor.changeDecorations(o=>{let n=m._FIND_MATCH_DECORATION;const i=[];if(b.length>1e3){n=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const s=this._editor.getModel().getLineCount(),g=this._editor.getLayoutInfo().height/s,l=Math.max(2,Math.ceil(3/g));let r=b[0].range.startLineNumber,d=b[0].range.endLineNumber;for(let u=1,a=b.length;u<a;u++){const v=b[u].range;d+l>=v.startLineNumber?v.endLineNumber>d&&(d=v.endLineNumber):(i.push({range:new f.Range(r,1,d,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=v.startLineNumber,d=v.endLineNumber)}i.push({range:new f.Range(r,1,d,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const t=new Array(b.length);for(let s=0,c=b.length;s<c;s++)t[s]={range:b[s].range,options:n};this._decorations=o.deltaDecorations(this._decorations,t),this._overviewRulerApproximateDecorations=o.deltaDecorations(this._overviewRulerApproximateDecorations,i),this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(s=>o.removeDecoration(s)),this._findScopeDecorationIds=[]),C?.length&&(this._findScopeDecorationIds=C.map(s=>o.addDecoration(s,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(b){if(this._decorations.length===0)return null;for(let C=this._decorations.length-1;C>=0;C--){const o=this._decorations[C],n=this._editor.getModel().getDecorationRange(o);if(!(!n||n.endLineNumber>b.lineNumber)){if(n.endLineNumber<b.lineNumber)return n;if(!(n.endColumn>b.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(b){if(this._decorations.length===0)return null;for(let C=0,o=this._decorations.length;C<o;C++){const n=this._decorations[C],i=this._editor.getModel().getDecorationRange(n);if(!(!i||i.startLineNumber<b.lineNumber)){if(i.startLineNumber>b.lineNumber)return i;if(!(i.startColumn<b.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let b=[];return b=b.concat(this._decorations),b=b.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&b.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&b.push(this._rangeHighlightDecorationId),b}}e.FindDecorations=m,m._CURRENT_FIND_MATCH_DECORATION=L.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(D.minimapFindMatch),position:1}}),m._FIND_MATCH_DECORATION=L.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(D.minimapFindMatch),position:1}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=L.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=L.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),m._RANGE_HIGHLIGHT_DECORATION=L.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=L.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ne[216],se([1,0,68,15,2,142,10,5,24,197,964,592,593,14]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new i.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new i.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new i.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const t=240;class s{constructor(g,l){this._toDispose=new L.DisposableStore,this._editor=g,this._state=l,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new C.FindDecorations(g),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(r=>{(r.reason===3||r.reason===5||r.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(r=>{this._ignoreModelContentChanged||(r.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(r=>this._onStateChanged(r))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,L.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(g){this._isDisposed||this._editor.hasModel()&&(g.searchString||g.isReplaceRevealed||g.isRegex||g.wholeWord||g.matchCase||g.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{g.searchScope?this.research(g.moveCursor,this._state.searchScope):this.research(g.moveCursor)},t)):g.searchScope?this.research(g.moveCursor,this._state.searchScope):this.research(g.moveCursor))}static _getSearchRange(g,l){return l||g.getFullModelRange()}research(g,l){let r=null;typeof l<"u"?l!==null&&(Array.isArray(l)?r=l:r=[l]):r=this._decorations.getFindScopes(),r!==null&&(r=r.map(v=>{if(v.startLineNumber!==v.endLineNumber){let h=v.endLineNumber;return v.endColumn===1&&(h=h-1),new m.Range(v.startLineNumber,1,h,this._editor.getModel().getLineMaxColumn(h))}return v}));const d=this._findMatches(r,!1,e.MATCHES_LIMIT);this._decorations.set(d,r);const u=this._editor.getSelection();let a=this._decorations.getCurrentMatchesPosition(u);if(a===0&&d.length>0){const v=(0,f.findFirstIdxMonotonousOrArrLen)(d.map(h=>h.range),h=>m.Range.compareRangesUsingStarts(h,u)>=0);a=v>0?v-1+1:a}this._state.changeMatchInfo(a,this._decorations.getCount(),void 0),g&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const g=this._decorations.getFindScope();return g&&this._editor.revealRangeInCenterIfOutsideViewport(g,0),!0}return!1}_setCurrentFindMatch(g){const l=this._decorations.setCurrentFindMatch(g);this._state.changeMatchInfo(l,this._decorations.getCount(),g),this._editor.setSelection(g),this._editor.revealRangeInCenterIfOutsideViewport(g,0)}_prevSearchPosition(g){const l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:r,column:d}=g;const u=this._editor.getModel();return l||d===1?(r===1?r=u.getLineCount():r--,d=u.getLineMaxColumn(r)):d--,new y.Position(r,d)}_moveToPrevMatch(g,l=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(g);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(g);_&&_.isEmpty()&&_.getStartPosition().equals(g)&&(g=this._prevSearchPosition(g),_=this._decorations.matchBeforePosition(g)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;const r=this._decorations.getFindScope(),d=s._getSearchRange(this._editor.getModel(),r);d.getEndPosition().isBefore(g)&&(g=d.getEndPosition()),g.isBefore(d.getStartPosition())&&(g=d.getEndPosition());const{lineNumber:u,column:a}=g,v=this._editor.getModel();let h=new y.Position(u,a),p=v.findPreviousMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1);if(p&&p.range.isEmpty()&&p.range.getStartPosition().equals(h)&&(h=this._prevSearchPosition(h),p=v.findPreviousMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1)),!!p){if(!l&&!d.containsRange(p.range))return this._moveToPrevMatch(p.range.getStartPosition(),!0);this._setCurrentFindMatch(p.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(g){const l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:r,column:d}=g;const u=this._editor.getModel();return l||d===u.getLineMaxColumn(r)?(r===u.getLineCount()?r=1:r++,d=1):d++,new y.Position(r,d)}_moveToNextMatch(g){if(!this._state.canNavigateForward()){const r=this._decorations.matchBeforePosition(g);r&&this._setCurrentFindMatch(r);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let r=this._decorations.matchAfterPosition(g);r&&r.isEmpty()&&r.getStartPosition().equals(g)&&(g=this._nextSearchPosition(g),r=this._decorations.matchAfterPosition(g)),r&&this._setCurrentFindMatch(r);return}const l=this._getNextMatch(g,!1,!0);l&&this._setCurrentFindMatch(l.range)}_getNextMatch(g,l,r,d=!1){if(this._cannotFind())return null;const u=this._decorations.getFindScope(),a=s._getSearchRange(this._editor.getModel(),u);a.getEndPosition().isBefore(g)&&(g=a.getStartPosition()),g.isBefore(a.getStartPosition())&&(g=a.getStartPosition());const{lineNumber:v,column:h}=g,p=this._editor.getModel();let _=new y.Position(v,h),S=p.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,l);return r&&S&&S.range.isEmpty()&&S.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),S=p.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,l)),S?!d&&!a.containsRange(S.range)?this._getNextMatch(S.range.getEndPosition(),l,r,!0):S:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(g){const l=this._decorations.getDecorationRangeAt(g);l&&this._setCurrentFindMatch(l)}moveToMatch(g){this._moveToMatch(g)}_getReplacePattern(){return this._state.isRegex?(0,n.parseReplaceString)(this._state.replaceString):n.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const g=this._getReplacePattern(),l=this._editor.getSelection(),r=this._getNextMatch(l.getStartPosition(),!0,!1);if(r)if(l.equalsRange(r.range)){const d=g.buildReplaceString(r.matches,this._state.preserveCase),u=new D.ReplaceCommand(l,d);this._executeEditorCommand("replace",u),this._decorations.setStartPosition(new y.Position(l.startLineNumber,l.startColumn+d.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(r.range)}_findMatches(g,l,r){const d=(g||[null]).map(u=>s._getSearchRange(this._editor.getModel(),u));return this._editor.getModel().findMatches(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,l,r)}replaceAll(){if(!this._hasMatches())return;const g=this._decorations.getFindScopes();g===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(g),this.research(!1)}_largeReplaceAll(){const l=new b.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null).parseSearchRequest();if(!l)return;let r=l.regex;if(!r.multiline){let S="mu";r.ignoreCase&&(S+="i"),r.global&&(S+="g"),r=new RegExp(r.source,S)}const d=this._editor.getModel(),u=d.getValue(1),a=d.getFullModelRange(),v=this._getReplacePattern();let h;const p=this._state.preserveCase;v.hasReplacementPatterns||p?h=u.replace(r,function(){return v.buildReplaceString(arguments,p)}):h=u.replace(r,v.buildReplaceString(null,p));const _=new D.ReplaceCommandThatPreservesSelection(a,h,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(g){const l=this._getReplacePattern(),r=this._findMatches(g,l.hasReplacementPatterns||this._state.preserveCase,1073741824),d=[];for(let a=0,v=r.length;a<v;a++)d[a]=l.buildReplaceString(r[a].matches,this._state.preserveCase);const u=new o.ReplaceAllCommand(this._editor.getSelection(),r.map(a=>a.range),d);this._executeEditorCommand("replaceAll",u)}selectAllMatches(){if(!this._hasMatches())return;const g=this._decorations.getFindScopes();let r=this._findMatches(g,!1,1073741824).map(u=>new w.Selection(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn));const d=this._editor.getSelection();for(let u=0,a=r.length;u<a;u++)if(r[u].equalsRange(d)){r=[d].concat(r.slice(0,u)).concat(r.slice(u+1));break}this._editor.setSelections(r)}_executeEditorCommand(g,l){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(g,l),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=s}),define(ne[965],se([1,0,6,348,80,15,216,33,44,491]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class b extends L.Widget{constructor(o,n,i){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=o,this._state=n,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const t={inputActiveOptionBorder:(0,m.asCssVariable)(m.inputActiveOptionBorder),inputActiveOptionForeground:(0,m.asCssVariable)(m.inputActiveOptionForeground),inputActiveOptionBackground:(0,m.asCssVariable)(m.inputActiveOptionBackground)},s=this._register((0,w.createInstantHoverDelegate)());this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:s,...t})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:s,...t})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:s,...t})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(c=>{let g=!1;c.isRegex&&(this.regex.checked=this._state.isRegex,g=!0),c.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,g=!0),c.matchCase&&(this.caseSensitive.checked=this._state.matchCase,g=!0),!this._state.isRevealed&&g&&this._revealTemporarily()})),this._register(f.addDisposableListener(this._domNode,f.EventType.MOUSE_LEAVE,c=>this._onMouseLeave())),this._register(f.addDisposableListener(this._domNode,"mouseover",c=>this._onMouseOver()))}_keybindingLabelFor(o){const n=this._keybindingService.lookupKeybinding(o);return n?` (${n.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=b,b.ID="editor.contrib.findOptionsWidget"}),define(ne[966],se([1,0,7,2,5,216]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function y(w,b){return w===1?!0:w===2?!1:b}class m extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return y(this._isRegexOverride,this._isRegex)}get wholeWord(){return y(this._wholeWordOverride,this._wholeWord)}get matchCase(){return y(this._matchCaseOverride,this._matchCase)}get preserveCase(){return y(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new f.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(b,C,o){const n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let i=!1;C===0&&(b=0),b>C&&(b=C),this._matchesPosition!==b&&(this._matchesPosition=b,n.matchesPosition=!0,i=!0),this._matchesCount!==C&&(this._matchesCount=C,n.matchesCount=!0,i=!0),typeof o<"u"&&(L.Range.equalsRange(this._currentMatch,o)||(this._currentMatch=o,n.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(n)}change(b,C,o=!0){var n;const i={moveCursor:C,updateHistory:o,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;const s=this.isRegex,c=this.wholeWord,g=this.matchCase,l=this.preserveCase;typeof b.searchString<"u"&&this._searchString!==b.searchString&&(this._searchString=b.searchString,i.searchString=!0,t=!0),typeof b.replaceString<"u"&&this._replaceString!==b.replaceString&&(this._replaceString=b.replaceString,i.replaceString=!0,t=!0),typeof b.isRevealed<"u"&&this._isRevealed!==b.isRevealed&&(this._isRevealed=b.isRevealed,i.isRevealed=!0,t=!0),typeof b.isReplaceRevealed<"u"&&this._isReplaceRevealed!==b.isReplaceRevealed&&(this._isReplaceRevealed=b.isReplaceRevealed,i.isReplaceRevealed=!0,t=!0),typeof b.isRegex<"u"&&(this._isRegex=b.isRegex),typeof b.wholeWord<"u"&&(this._wholeWord=b.wholeWord),typeof b.matchCase<"u"&&(this._matchCase=b.matchCase),typeof b.preserveCase<"u"&&(this._preserveCase=b.preserveCase),typeof b.searchScope<"u"&&(!((n=b.searchScope)===null||n===void 0)&&n.every(r=>{var d;return(d=this._searchScope)===null||d===void 0?void 0:d.some(u=>!L.Range.equalsRange(u,r))})||(this._searchScope=b.searchScope,i.searchScope=!0,t=!0)),typeof b.loop<"u"&&this._loop!==b.loop&&(this._loop=b.loop,i.loop=!0,t=!0),typeof b.isSearching<"u"&&this._isSearching!==b.isSearching&&(this._isSearching=b.isSearching,i.isSearching=!0,t=!0),typeof b.filters<"u"&&(this._filters?this._filters.update(b.filters):this._filters=b.filters,i.filters=!0,t=!0),this._isRegexOverride=typeof b.isRegexOverride<"u"?b.isRegexOverride:0,this._wholeWordOverride=typeof b.wholeWordOverride<"u"?b.wholeWordOverride:0,this._matchCaseOverride=typeof b.matchCaseOverride<"u"?b.matchCaseOverride:0,this._preserveCaseOverride=typeof b.preserveCaseOverride<"u"?b.preserveCaseOverride:0,s!==this.isRegex&&(t=!0,i.isRegex=!0),c!==this.wholeWord&&(t=!0,i.wholeWord=!0),g!==this.matchCase&&(t=!0,i.matchCase=!0),l!==this.preserveCase&&(t=!0,i.preserveCase=!0),t&&this._onFindReplaceStateChange.fire(i)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=m}),define(ne[967],se([1,0,6,48,170,168,80,15,26,9,2,17,11,5,216,717,389,816,33,76,23,31,95,20,106,44,492]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=e.findSelectionIcon=void 0;const _=(0,r.registerIcon)("find-collapsed",w.Codicon.chevronRight,s.localize(0,null)),S=(0,r.registerIcon)("find-expanded",w.Codicon.chevronDown,s.localize(1,null));e.findSelectionIcon=(0,r.registerIcon)("find-selection",w.Codicon.selection,s.localize(2,null)),e.findReplaceIcon=(0,r.registerIcon)("find-replace",w.Codicon.replace,s.localize(3,null)),e.findReplaceAllIcon=(0,r.registerIcon)("find-replace-all",w.Codicon.replaceAll,s.localize(4,null)),e.findPreviousMatchIcon=(0,r.registerIcon)("find-previous-match",w.Codicon.arrowUp,s.localize(5,null)),e.findNextMatchIcon=(0,r.registerIcon)("find-next-match",w.Codicon.arrowDown,s.localize(6,null));const E=s.localize(7,null),I=s.localize(8,null),T=s.localize(9,null),N=s.localize(10,null),A=s.localize(11,null),R=s.localize(12,null),M=s.localize(13,null),P=s.localize(14,null),F=s.localize(15,null),O=s.localize(16,null),B=s.localize(17,null),V=s.localize(18,null),K=s.localize(19,null,t.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=s.localize(20,null),e.NLS_NO_RESULTS=s.localize(21,null);const U=419,z=275-54;let $=69;const J=33,ee="ctrlEnterReplaceAll.windows.donotask",Z=o.isMacintosh?256:2048;class x{constructor(ce){this.afterLineNumber=ce,this.heightInPx=J,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=x;function Y(pe,ce,ie){const oe=!!ce.match(/\n/);if(ie&&oe&&ie.selectionStart>0){pe.stopPropagation();return}}function ae(pe,ce,ie){const oe=!!ce.match(/\n/);if(ie&&oe&&ie.selectionEnd<ie.value.length){pe.stopPropagation();return}}class ue extends y.Widget{constructor(ce,ie,oe,re,W,q,H,j,Q,te){super(),this._hoverService=te,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ce,this._controller=ie,this._state=oe,this._contextViewProvider=re,this._keybindingService=W,this._contextKeyService=q,this._storageService=j,this._notificationService=Q,this._ctrlEnterReplaceAllWarningPrompted=!!j.getBoolean(ee,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new m.Delayer(500),this._register((0,C.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(le=>this._onStateChanged(le))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(le=>{if(le.hasChanged(91)&&(this._codeEditor.getOption(91)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),le.hasChanged(145)&&this._tryUpdateWidgetWidth(),le.hasChanged(2)&&this.updateAccessibilitySupport(),le.hasChanged(41)){const de=this._codeEditor.getOption(41).loop;this._state.change({loop:de},!1);const me=this._codeEditor.getOption(41).addExtraSpaceOnTop;me&&!this._viewZone&&(this._viewZone=new x(0),this._showViewZone()),!me&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const le=await this._controller.getGlobalBufferTerm();le&&le!==this._state.searchString&&(this._state.change({searchString:le},!1),this._findInput.select())}})),this._findInputFocused=t.CONTEXT_FIND_INPUT_FOCUSED.bindTo(q),this._findFocusTracker=this._register(f.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(q),this._replaceFocusTracker=this._register(f.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new x(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(le=>{if(le.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ue.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ce){if(ce.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ce.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ce.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ce.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(91)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ce.isRevealed||ce.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ce.isRegex&&this._findInput.setRegex(this._state.isRegex),ce.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ce.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ce.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ce.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ce.searchString||ce.matchesCount||ce.matchesPosition){const ie=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ie),this._updateMatchesCount(),this._updateButtons()}(ce.searchString||ce.currentMatch)&&this._layoutViewZone(),ce.updateHistory&&this._delayedUpdateHistory(),ce.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,b.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=$+"px",this._state.matchesCount>=t.MATCHES_LIMIT?this._matchesCount.title=K:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let ce;if(this._state.matchesCount>0){let ie=String(this._state.matchesCount);this._state.matchesCount>=t.MATCHES_LIMIT&&(ie+="+");let oe=String(this._state.matchesPosition);oe==="0"&&(oe="?"),ce=n.format(e.NLS_MATCHES_LOCATION,oe,ie)}else ce=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(ce)),(0,k.alert)(this._getAriaLabel(ce,this._state.currentMatch,this._state.searchString)),$=Math.max($,this._matchesCount.clientWidth)}_getAriaLabel(ce,ie,oe){if(ce===e.NLS_NO_RESULTS)return oe===""?s.localize(22,null,ce):s.localize(23,null,ce,oe);if(ie){const re=s.localize(24,null,ce,oe,ie.startLineNumber+":"+ie.startColumn),W=this._codeEditor.getModel();return W&&ie.startLineNumber<=W.getLineCount()&&ie.startLineNumber>=1?`${W.getLineContent(ie.startLineNumber)}, ${re}`:re}return s.localize(25,null,ce,oe)}_updateToggleSelectionFindButton(){const ce=this._codeEditor.getSelection(),ie=ce?ce.startLineNumber!==ce.endLineNumber||ce.startColumn!==ce.endColumn:!1,oe=this._toggleSelectionFind.checked;this._isVisible&&(oe||ie)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const ce=this._state.searchString.length>0,ie=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ce&&ie&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ce&&ie&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ce),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ce),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const oe=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&oe)}_reveal(){if(this._revealTimeouts.forEach(ce=>{clearTimeout(ce)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ce=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const oe=!!ce&&ce.startLineNumber!==ce.endLineNumber;this._toggleSelectionFind.checked=oe;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ie=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&ce){const oe=this._codeEditor.getDomNode();if(oe){const re=f.getDomNodePagePosition(oe),W=this._codeEditor.getScrolledVisiblePosition(ce.getStartPosition()),q=re.left+(W?W.left:0),H=W?W.top:0;if(this._viewZone&&H<this._viewZone.heightInPx){ce.endLineNumber>ce.startLineNumber&&(ie=!1);const j=f.getTopLeftOffset(this._domNode).left;q>j&&(ie=!1);const Q=this._codeEditor.getScrolledVisiblePosition(ce.getEndPosition());re.left+(Q?Q.left:0)>j&&(ie=!1)}}}this._showViewZone(ie)}}_hide(ce){this._revealTimeouts.forEach(ie=>{clearTimeout(ie)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ce&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ce){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const oe=this._viewZone;this._viewZoneId!==void 0||!oe||this._codeEditor.changeViewZones(re=>{oe.heightInPx=this._getHeight(),this._viewZoneId=re.addZone(oe),this._codeEditor.setScrollTop(ce||this._codeEditor.getScrollTop()+oe.heightInPx)})}_showViewZone(ce=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new x(0));const oe=this._viewZone;this._codeEditor.changeViewZones(re=>{if(this._viewZoneId!==void 0){const W=this._getHeight();if(W===oe.heightInPx)return;const q=W-oe.heightInPx;oe.heightInPx=W,re.layoutZone(this._viewZoneId),ce&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+q);return}else{let W=this._getHeight();if(W-=this._codeEditor.getOption(84).top,W<=0)return;oe.heightInPx=W,this._viewZoneId=re.addZone(oe),ce&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+W)}})}_removeViewZone(){this._codeEditor.changeViewZones(ce=>{this._viewZoneId!==void 0&&(ce.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const ce=this._codeEditor.getLayoutInfo();if(ce.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const oe=ce.width,re=ce.minimap.minimapWidth;let W=!1,q=!1,H=!1;if(this._resized&&f.getTotalWidth(this._domNode)>U){this._domNode.style.maxWidth=`${oe-28-re-15}px`,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode);return}if(U+28+re>=oe&&(q=!0),U+28+re-$>=oe&&(H=!0),U+28+re-$>=oe+50&&(W=!0),this._domNode.classList.toggle("collapsed-find-widget",W),this._domNode.classList.toggle("narrow-find-widget",H),this._domNode.classList.toggle("reduced-find-widget",q),!H&&!W&&(this._domNode.style.maxWidth=`${oe-28-re-15}px`),this._findInput.layout({collapsedFindWidget:W,narrowFindWidget:H,reducedFindWidget:q}),this._resized){const j=this._findInput.inputBox.element.clientWidth;j>0&&(this._replaceInput.width=j)}else this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode))}_getHeight(){let ce=0;return ce+=4,ce+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ce+=4,ce+=this._replaceInput.inputBox.height+2),ce+=4,ce}_tryUpdateHeight(){const ce=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ce?!1:(this._cachedHeight=ce,this._domNode.style.height=`${ce}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const ce=this._codeEditor.getSelections();ce.map(ie=>{ie.endColumn===1&&ie.endLineNumber>ie.startLineNumber&&(ie=ie.setEndPosition(ie.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ie.endLineNumber-1)));const oe=this._state.currentMatch;return ie.startLineNumber!==ie.endLineNumber&&!i.Range.equalsRange(ie,oe)?ie:null}).filter(ie=>!!ie),ce.length&&this._state.change({searchScope:ce},!0)}}_onFindInputMouseDown(ce){ce.middleButton&&ce.stopPropagation()}_onFindInputKeyDown(ce){if(ce.equals(Z|3))if(this._keybindingService.dispatchEvent(ce,ce.target)){ce.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ce.preventDefault();return}if(ce.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ce.preventDefault();return}if(ce.equals(2066)){this._codeEditor.focus(),ce.preventDefault();return}if(ce.equals(16))return Y(ce,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ce.equals(18))return ae(ce,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ce){if(ce.equals(Z|3))if(this._keybindingService.dispatchEvent(ce,ce.target)){ce.preventDefault();return}else{o.isWindows&&o.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(s.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ee,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ce.preventDefault();return}if(ce.equals(2)){this._findInput.focusOnCaseSensitive(),ce.preventDefault();return}if(ce.equals(1026)){this._findInput.focus(),ce.preventDefault();return}if(ce.equals(2066)){this._codeEditor.focus(),ce.preventDefault();return}if(ce.equals(16))return Y(ce,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ce.equals(18))return ae(ce,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ce){return 0}_keybindingLabelFor(ce){const ie=this._keybindingService.lookupKeybinding(ce);return ie?` (${ie.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new c.ContextScopedFindInput(null,this._contextViewProvider,{width:z,label:I,placeholder:T,appendCaseSensitiveLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleRegexCommand),validation:te=>{if(te.length===0||!this._findInput.getRegex())return null;try{return new RegExp(te,"gu"),null}catch(le){return{content:le.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,g.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:h.defaultInputBoxStyles,toggleStyles:h.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(te=>this._onFindInputKeyDown(te))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(te=>{te.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),te.preventDefault())})),this._register(this._findInput.onRegexKeyDown(te=>{te.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),te.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(te=>{this._tryUpdateHeight()&&this._showViewZone()})),o.isLinux&&this._register(this._findInput.onMouseDown(te=>this._onFindInputMouseDown(te))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const oe=this._register((0,p.createInstantHoverDelegate)());this._prevBtn=this._register(new he({label:N+this._keybindingLabelFor(t.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,hoverDelegate:oe,onTrigger:()=>{(0,v.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,b.onUnexpectedError)}},this._hoverService)),this._nextBtn=this._register(new he({label:A+this._keybindingLabelFor(t.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,hoverDelegate:oe,onTrigger:()=>{(0,v.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.NextMatchFindAction)).run().then(void 0,b.onUnexpectedError)}},this._hoverService));const re=document.createElement("div");re.className="find-part",re.appendChild(this._findInput.domNode);const W=document.createElement("div");W.className="find-actions",re.appendChild(W),W.appendChild(this._matchesCount),W.appendChild(this._prevBtn.domNode),W.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new L.Toggle({icon:e.findSelectionIcon,title:R+this._keybindingLabelFor(t.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:oe,inputActiveOptionBackground:(0,l.asCssVariable)(l.inputActiveOptionBackground),inputActiveOptionBorder:(0,l.asCssVariable)(l.inputActiveOptionBorder),inputActiveOptionForeground:(0,l.asCssVariable)(l.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let te=this._codeEditor.getSelections();te=te.map(le=>(le.endColumn===1&&le.endLineNumber>le.startLineNumber&&(le=le.setEndPosition(le.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(le.endLineNumber-1))),le.isEmpty()?null:le)).filter(le=>!!le),te.length&&this._state.change({searchScope:te},!0)}}else this._state.change({searchScope:null},!0)})),W.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new he({label:M+this._keybindingLabelFor(t.FIND_IDS.CloseFindWidgetCommand),icon:r.widgetClose,hoverDelegate:oe,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:te=>{te.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),te.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new c.ContextScopedReplaceInput(null,void 0,{label:P,placeholder:F,appendPreserveCaseLabel:this._keybindingLabelFor(t.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,g.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:h.defaultInputBoxStyles,toggleStyles:h.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(te=>this._onReplaceInputKeyDown(te))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(te=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(te=>{te.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),te.preventDefault())}));const q=this._register((0,p.createInstantHoverDelegate)());this._replaceBtn=this._register(new he({label:O+this._keybindingLabelFor(t.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,hoverDelegate:q,onTrigger:()=>{this._controller.replace()},onKeyDown:te=>{te.equals(1026)&&(this._closeBtn.focus(),te.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new he({label:B+this._keybindingLabelFor(t.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,hoverDelegate:q,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));const H=document.createElement("div");H.className="replace-part",H.appendChild(this._replaceInput.domNode);const j=document.createElement("div");j.className="replace-actions",H.appendChild(j),j.appendChild(this._replaceBtn.domNode),j.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new he({label:V,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=E,this._domNode.role="dialog",this._domNode.style.width=`${U}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(re),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(H),this._resizeSash=this._register(new D.Sash(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let Q=U;this._register(this._resizeSash.onDidStart(()=>{Q=f.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(te=>{this._resized=!0;const le=Q+te.startX-te.currentX;if(le<U)return;const de=parseFloat(f.getComputedStyle(this._domNode).maxWidth)||0;le>de||(this._domNode.style.width=`${le}px`,this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const te=f.getTotalWidth(this._domNode);if(te<U)return;let le=U;if(!this._resized||te===U){const de=this._codeEditor.getLayoutInfo();le=de.width-28-de.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${le}px`,this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ce=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ce!==2)}}e.FindWidget=ue,ue.ID="editor.contrib.findWidget";class he extends y.Widget{constructor(ce,ie){var oe;super(),this._opts=ce;let re="button";this._opts.className&&(re=re+" "+this._opts.className),this._opts.icon&&(re=re+" "+u.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=re,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(ie.setupUpdatableHover((oe=ce.hoverDelegate)!==null&&oe!==void 0?oe:(0,p.getDefaultHoverDelegate)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,W=>{this._opts.onTrigger(),W.preventDefault()}),this.onkeydown(this._domNode,W=>{var q,H;if(W.equals(10)||W.equals(3)){this._opts.onTrigger(),W.preventDefault();return}(H=(q=this._opts).onKeyDown)===null||H===void 0||H.call(q,W)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ce){this._domNode.classList.toggle("disabled",!ce),this._domNode.setAttribute("aria-disabled",String(!ce)),this._domNode.tabIndex=ce?0:-1}setExpanded(ce){this._domNode.setAttribute("aria-expanded",String(!!ce)),ce?(this._domNode.classList.remove(...u.ThemeIcon.asClassNameArray(_)),this._domNode.classList.add(...u.ThemeIcon.asClassNameArray(S))):(this._domNode.classList.remove(...u.ThemeIcon.asClassNameArray(S)),this._domNode.classList.add(...u.ThemeIcon.asClassNameArray(_)))}}e.SimpleButton=he,(0,d.registerThemingParticipant)((pe,ce)=>{const ie=pe.getColor(l.editorFindMatchHighlightBorder);ie&&ce.addRule(`.monaco-editor .findMatch { border: 1px ${(0,a.isHighContrast)(pe.type)?"dotted":"solid"} ${ie}; box-sizing: border-box; }`);const oe=pe.getColor(l.editorFindRangeHighlightBorder);oe&&ce.addRule(`.monaco-editor .findScope { border: 1px ${(0,a.isHighContrast)(pe.type)?"dashed":"solid"} ${oe}; }`);const re=pe.getColor(l.contrastBorder);re&&ce.addRule(`.monaco-editor .find-widget { border: 1px solid ${re}; }`);const W=pe.getColor(l.editorFindMatchForeground);W&&ce.addRule(`.monaco-editor .findMatchInline { color: ${W}; }`);const q=pe.getColor(l.editorFindMatchHighlightForeground);q&&ce.addRule(`.monaco-editor .currentFindMatchInline { color: ${q}; }`)})}),define(ne[410],se([1,0,15,2,11,16,86,21,42,216,965,966,967,716,29,114,14,58,32,50,65,99,23,115]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=void 0,e.getSelectionSearchString=_;const p=524288;function _(K,U="single",G=!1){if(!K.hasModel())return null;const z=K.getSelection();if(U==="single"&&z.startLineNumber===z.endLineNumber||U==="multiple"){if(z.isEmpty()){const $=K.getConfiguredWordAtPosition(z.getStartPosition());if($&&G===!1)return $.word}else if(K.getModel().getValueLengthInRange(z)<p)return K.getModel().getValueInRange(z)}return null}let S=h=class extends k.Disposable{get editor(){return this._editor}static get(U){return U.getContribution(h.ID)}constructor(U,G,z,$,J,ee){super(),this._editor=U,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(G),this._contextKeyService=G,this._storageService=z,this._clipboardService=$,this._notificationService=J,this._hoverService=ee,this._updateHistoryDelayer=new f.Delayer(500),this._state=this._register(new o.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Z=>this._onStateChanged(Z))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Z=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Z&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(U){this.saveQueryState(U),U.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),U.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(U){U.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),U.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),U.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),U.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let U=this._editor.getSelections();U=U.map(G=>(G.endColumn===1&&G.endLineNumber>G.startLineNumber&&(G=G.setEndPosition(G.endLineNumber-1,this._editor.getModel().getLineMaxColumn(G.endLineNumber-1))),G.isEmpty()?null:G)).filter(G=>!!G),U.length&&this._state.change({searchScope:U},!0)}}setSearchString(U){this._state.isRegex&&(U=L.escapeRegExpCharacters(U)),this._state.change({searchString:U},!1)}highlightFindOptions(U=!1){}async _start(U,G){if(this.disposeModel(),!this._editor.hasModel())return;const z={...G,isRevealed:!0};if(U.seedSearchStringFromSelection==="single"){const $=_(this._editor,U.seedSearchStringFromSelection,U.seedSearchStringFromNonEmptySelection);$&&(this._state.isRegex?z.searchString=L.escapeRegExpCharacters($):z.searchString=$)}else if(U.seedSearchStringFromSelection==="multiple"&&!U.updateSearchScope){const $=_(this._editor,U.seedSearchStringFromSelection);$&&(z.searchString=$)}if(!z.searchString&&U.seedSearchStringFromGlobalClipboard){const $=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;$&&(z.searchString=$)}if(U.forceRevealReplace||z.isReplaceRevealed?z.isReplaceRevealed=!0:this._findWidgetVisible.get()||(z.isReplaceRevealed=!1),U.updateSearchScope){const $=this._editor.getSelections();$.some(J=>!J.isEmpty())&&(z.searchScope=$)}z.loop=U.loop,this._state.change(z,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))}start(U,G){return this._start(U,G)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(U){return this._model?(this._model.moveToMatch(U),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var U;return this._model?!((U=this._editor.getModel())===null||U===void 0)&&U.isTooLargeForHeapOperation()?(this._notificationService.warn(i.localize(0,null)),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(U){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(U)}};e.CommonFindController=S,S.ID="editor.contrib.findController",e.CommonFindController=S=h=ke([ge(1,c.IContextKeyService),ge(2,u.IStorageService),ge(3,s.IClipboardService),ge(4,r.INotificationService),ge(5,v.IHoverService)],S);let E=class extends S{constructor(U,G,z,$,J,ee,Z,x,Y){super(U,z,Z,x,ee,Y),this._contextViewService=G,this._keybindingService=$,this._themeService=J,this._widget=null,this._findOptionsWidget=null}async _start(U,G){this._widget||this._createFindWidget();const z=this._editor.getSelection();let $=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":$=!0;break;case"never":$=!1;break;case"multiline":{$=!!z&&z.startLineNumber!==z.endLineNumber;break}default:break}U.updateSearchScope=U.updateSearchScope||$,await super._start(U,G),this._widget&&(U.shouldFocus===2?this._widget.focusReplaceInput():U.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(U=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!U?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new n.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new C.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=E,e.FindController=E=ke([ge(1,g.IContextViewService),ge(2,c.IContextKeyService),ge(3,l.IKeybindingService),ge(4,a.IThemeService),ge(5,r.INotificationService),ge(6,u.IStorageService),ge(7,s.IClipboardService),ge(8,v.IHoverService)],E),e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:i.localize(1,null),alias:"Find",precondition:c.ContextKeyExpr.or(m.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(2,null),order:1}})),e.StartFindAction.addImplementation(0,(K,U,G)=>{const z=S.get(U);return z?z.start({forceRevealReplace:!1,seedSearchStringFromSelection:U.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:U.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:U.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(41).loop}):!1});const I={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class T extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:i.localize(3,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:I})}async run(U,G,z){const $=S.get(G);if($){const J=z?{searchString:z.searchString,replaceString:z.replaceString,isReplaceRevealed:z.replaceString!==void 0,isRegex:z.isRegex,wholeWord:z.matchWholeWord,matchCase:z.isCaseSensitive,preserveCase:z.preserveCase}:{};await $.start({forceRevealReplace:!1,seedSearchStringFromSelection:$.getState().searchString.length===0&&G.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:G.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:z?.findInSelection||!1,loop:G.getOption(41).loop},J),$.setGlobalBufferTerm($.getState().searchString)}}}e.StartFindWithArgsAction=T;class N extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:i.localize(4,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(U,G){const z=S.get(G);z&&(await z.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:G.getOption(41).loop}),z.setGlobalBufferTerm(z.getState().searchString))}}e.StartFindWithSelectionAction=N;class A extends D.EditorAction{async run(U,G){const z=S.get(G);z&&!this._run(z)&&(await z.start({forceRevealReplace:!1,seedSearchStringFromSelection:z.getState().searchString.length===0&&G.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:G.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:G.getOption(41).loop}),this._run(z))}}e.MatchFindAction=A;class R extends A{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:i.localize(5,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(U){return U.moveToNextMatch()?(U.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=R;class M extends A{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:i.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(U){return U.moveToPrevMatch()}}e.PreviousMatchFindAction=M;class P extends D.EditorAction{constructor(){super({id:b.FIND_IDS.GoToMatchFindAction,label:i.localize(7,null),alias:"Go to Match...",precondition:b.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(U,G,z){const $=S.get(G);if(!$)return;const J=$.getState().matchesCount;if(J<1){U.get(r.INotificationService).notify({severity:r.Severity.Warning,message:i.localize(8,null)});return}const Z=U.get(d.IQuickInputService).createInputBox();Z.placeholder=i.localize(9,null,J);const x=ae=>{const ue=parseInt(ae);if(isNaN(ue))return;const he=$.getState().matchesCount;if(ue>0&&ue<=he)return ue-1;if(ue<0&&ue>=-he)return he+ue},Y=ae=>{const ue=x(ae);if(typeof ue=="number"){Z.validationMessage=void 0,$.goToMatch(ue);const he=$.getState().currentMatch;he&&this.addDecorations(G,he)}else Z.validationMessage=i.localize(10,null,$.getState().matchesCount),this.clearDecorations(G)};Z.onDidChangeValue(ae=>{Y(ae)}),Z.onDidAccept(()=>{const ae=x(Z.value);typeof ae=="number"?($.goToMatch(ae),Z.hide()):Z.validationMessage=i.localize(11,null,$.getState().matchesCount)}),Z.onDidHide(()=>{this.clearDecorations(G),Z.dispose()}),Z.show()}clearDecorations(U){U.changeDecorations(G=>{this._highlightDecorations=G.deltaDecorations(this._highlightDecorations,[])})}addDecorations(U,G){U.changeDecorations(z=>{this._highlightDecorations=z.deltaDecorations(this._highlightDecorations,[{range:G,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:G,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,a.themeColorFromId)(y.overviewRulerRangeHighlight),position:w.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=P;class F extends D.EditorAction{async run(U,G){const z=S.get(G);if(!z)return;const $=_(G,"single",!1);$&&z.setSearchString($),this._run(z)||(await z.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:G.getOption(41).loop}),this._run(z))}}e.SelectionMatchFindAction=F;class O extends F{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(12,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2109,weight:100}})}_run(U){return U.moveToNextMatch()}}e.NextSelectionMatchFindAction=O;class B extends F{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(13,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3133,weight:100}})}_run(U){return U.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=B,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:i.localize(14,null),alias:"Replace",precondition:c.ContextKeyExpr.or(m.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(15,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(K,U,G)=>{if(!U.hasModel()||U.getOption(91))return!1;const z=S.get(U);if(!z)return!1;const $=U.getSelection(),J=z.isFindInputFocused(),ee=!$.isEmpty()&&$.startLineNumber===$.endLineNumber&&U.getOption(41).seedSearchStringFromSelection!=="never"&&!J,Z=J||ee?2:1;return z.start({forceRevealReplace:!0,seedSearchStringFromSelection:ee?"single":"none",seedSearchStringFromNonEmptySelection:U.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:U.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:Z,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(41).loop})}),(0,D.registerEditorContribution)(S.ID,E,0),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(N),(0,D.registerEditorAction)(R),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(P),(0,D.registerEditorAction)(O),(0,D.registerEditorAction)(B);const V=D.EditorCommand.bindToContribution(S.get);(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.closeFindWidget(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:K=>K.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:K=>K.toggleWholeWords(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:K=>K.toggleRegex(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:K=>K.toggleSearchScope(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:K=>K.togglePreserveCase(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.replace(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.replace(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.replaceAll(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.replaceAll(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new V({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.selectAllMatches(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:515}}))}),define(ne[411],se([1,0,26,37,719,33,76,23,31]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const b=(0,D.registerColor)("editor.foldBackground",{light:(0,D.transparent)(D.editorSelectionBackground,.3),dark:(0,D.transparent)(D.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,L.localize)(0,null),!0);(0,D.registerColor)("editorGutter.foldingControlForeground",{dark:D.iconForeground,light:D.iconForeground,hcDark:D.iconForeground,hcLight:D.iconForeground},(0,L.localize)(1,null)),e.foldingExpandedIcon=(0,y.registerIcon)("folding-expanded",f.Codicon.chevronDown,(0,L.localize)(2,null)),e.foldingCollapsedIcon=(0,y.registerIcon)("folding-collapsed",f.Codicon.chevronRight,(0,L.localize)(3,null)),e.foldingManualCollapsedIcon=(0,y.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,L.localize)(4,null)),e.foldingManualExpandedIcon=(0,y.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,L.localize)(5,null));const C={color:(0,m.themeColorFromId)(b),position:1},o=(0,L.localize)(6,null),n=(0,L.localize)(7,null);class i{constructor(s){this.editor=s,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(s,c,g){return c?i.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?s?this.showFoldingHighlights?i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:i.NO_CONTROLS_EXPANDED_RANGE_DECORATION:s?g?this.showFoldingHighlights?i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?g?i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:g?i.MANUALLY_EXPANDED_VISUAL_DECORATION:i.EXPANDED_VISUAL_DECORATION}changeDecorations(s){return this.editor.changeDecorations(s)}removeDecorations(s){this.editor.removeDecorations(s)}}e.FoldingDecorationProvider=i,i.COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:o,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:C,isWholeLine:!0,linesDecorationsTooltip:o,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.MANUALLY_COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:o,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:C,isWholeLine:!0,linesDecorationsTooltip:o,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:o}),i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:C,isWholeLine:!0,linesDecorationsTooltip:o}),i.EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:n}),i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:n}),i.MANUALLY_EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:n}),i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:n}),i.NO_CONTROLS_EXPANDED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),i.HIDDEN_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ne[282],se([1,0,15,19,9,70,2,11,20,139,16,21,27,35,326,594,327,718,14,411,198,328,50,84,60,18,7,25,22,53,28,493]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const A=new l.RawContextKey("foldingEnabled",!1);let R=N=class extends y.Disposable{static get(oe){return oe.getContribution(N.ID)}static getFoldingRangeProviders(oe,re){var W,q;const H=oe.foldingRangeProvider.ordered(re);return(q=(W=N._foldingRangeSelector)===null||W===void 0?void 0:W.call(N,H,re))!==null&&q!==void 0?q:H}constructor(oe,re,W,q,H,j){super(),this.contextKeyService=re,this.languageConfigurationService=W,this.languageFeaturesService=j,this.localToDispose=this._register(new y.DisposableStore),this.editor=oe,this._foldingLimitReporter=new M(oe);const Q=this.editor.getOptions();this._isEnabled=Q.get(43),this._useFoldingProviders=Q.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=Q.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Q.get(46),this.updateDebounceInfo=H.for(j.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new r.FoldingDecorationProvider(oe),this.foldingDecorationProvider.showFoldingControls=Q.get(110),this.foldingDecorationProvider.showFoldingHighlights=Q.get(45),this.foldingEnabled=A.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(te=>{if(te.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),te.hasChanged(47)&&this.onModelChanged(),te.hasChanged(110)||te.hasChanged(45)){const le=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=le.get(110),this.foldingDecorationProvider.showFoldingHighlights=le.get(45),this.triggerFoldingModelChanged()}te.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),te.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),te.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const oe=this.editor.getModel();if(!oe||!this._isEnabled||oe.isTooLargeForTokenization())return{};if(this.foldingModel){const re=this.foldingModel.getMemento(),W=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:re,lineCount:oe.getLineCount(),provider:W,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(oe){const re=this.editor.getModel();if(!(!re||!this._isEnabled||re.isTooLargeForTokenization()||!this.hiddenRangeModel)&&oe&&(this._currentModelHasFoldedImports=!!oe.foldedImports,oe.collapsedRegions&&oe.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(oe.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const oe=this.editor.getModel();!this._isEnabled||!oe||oe.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(oe,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new s.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(re=>this.onHiddenRangesChanges(re))),this.updateScheduler=new f.Delayer(this.updateDebounceInfo.get(oe)),this.cursorChangedScheduler=new f.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(re=>this.onDidChangeModelContent(re))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(re=>this.onEditorMouseDown(re))),this.localToDispose.add(this.editor.onMouseUp(re=>this.onEditorMouseUp(re))),this.localToDispose.add({dispose:()=>{var re,W;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(re=this.updateScheduler)===null||re===void 0||re.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(W=this.rangeProvider)===null||W===void 0||W.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var oe;(oe=this.rangeProvider)===null||oe===void 0||oe.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(oe){if(this.rangeProvider)return this.rangeProvider;const re=new c.IndentRangeProvider(oe,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=re,this._useFoldingProviders&&this.foldingModel){const W=N.getFoldingRangeProviders(this.languageFeaturesService,oe);W.length>0&&(this.rangeProvider=new u.SyntaxRangeProvider(oe,W,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,re))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(oe){var re;(re=this.hiddenRangeModel)===null||re===void 0||re.notifyChangeModelContent(oe),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const oe=this.foldingModel;if(!oe)return null;const re=new h.StopWatch,W=this.getRangeProvider(oe.textModel),q=this.foldingRegionPromise=(0,f.createCancelablePromise)(H=>W.compute(H));return q.then(H=>{if(H&&q===this.foldingRegionPromise){let j;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const de=H.setCollapsedAllOfType(n.FoldingRangeKind.Imports.value,!0);de&&(j=b.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=de)}const Q=this.editor.getSelections(),te=Q?Q.map(de=>de.startLineNumber):[];oe.update(H,te),j?.restore(this.editor);const le=this.updateDebounceInfo.update(oe.textModel,re.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=le)}return oe})}).then(void 0,oe=>((0,L.onUnexpectedError)(oe),null)))}onHiddenRangesChanges(oe){if(this.hiddenRangeModel&&oe.length&&!this._restoringViewState){const re=this.editor.getSelections();re&&this.hiddenRangeModel.adjustSelections(re)&&this.editor.setSelections(re)}this.editor.setHiddenAreas(oe,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const oe=this.getFoldingModel();oe&&oe.then(re=>{if(re){const W=this.editor.getSelections();if(W&&W.length>0){const q=[];for(const H of W){const j=H.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(j)&&q.push(...re.getAllRegionsAtLine(j,Q=>Q.isCollapsed&&j>Q.startLineNumber))}q.length&&(re.toggleCollapseState(q),this.reveal(W[0].getPosition()))}}}).then(void 0,L.onUnexpectedError)}onEditorMouseDown(oe){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!oe.target||!oe.target.range||!oe.event.leftButton&&!oe.event.middleButton)return;const re=oe.target.range;let W=!1;switch(oe.target.type){case 4:{const q=oe.target.detail,H=oe.target.element.offsetLeft;if(q.offsetX-H<4)return;W=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!oe.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const q=this.editor.getModel();if(q&&re.startColumn===q.getLineMaxColumn(re.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:re.startLineNumber,iconClicked:W}}onEditorMouseUp(oe){const re=this.foldingModel;if(!re||!this.mouseDownInfo||!oe.target)return;const W=this.mouseDownInfo.lineNumber,q=this.mouseDownInfo.iconClicked,H=oe.target.range;if(!H||H.startLineNumber!==W)return;if(q){if(oe.target.type!==4)return}else{const Q=this.editor.getModel();if(!Q||H.startColumn!==Q.getLineMaxColumn(W))return}const j=re.getRegionAtLine(W);if(j&&j.startLineNumber===W){const Q=j.isCollapsed;if(q||Q){const te=oe.event.altKey;let le=[];if(te){const de=ve=>!ve.containedBy(j)&&!j.containedBy(ve),me=re.getRegionsInside(null,de);for(const ve of me)ve.isCollapsed&&le.push(ve);le.length===0&&(le=me)}else{const de=oe.event.middleButton||oe.event.shiftKey;if(de)for(const me of re.getRegionsInside(j))me.isCollapsed===Q&&le.push(me);(Q||!de||le.length===0)&&le.push(j)}re.toggleCollapseState(le),this.reveal({lineNumber:W,column:1})}}}reveal(oe){this.editor.revealPositionInCenterIfOutsideViewport(oe,0)}};e.FoldingController=R,R.ID="editor.contrib.folding",e.FoldingController=R=N=ke([ge(1,l.IContextKeyService),ge(2,i.ILanguageConfigurationService),ge(3,a.INotificationService),ge(4,v.ILanguageFeatureDebounceService),ge(5,p.ILanguageFeaturesService)],R);class M{constructor(oe){this.editor=oe,this._onDidChange=new _.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(oe,re){(oe!==this._computed||re!==this._limited)&&(this._computed=oe,this._limited=re,this._onDidChange.fire())}}e.RangesLimitReporter=M;class P extends C.EditorAction{runEditorCommand(oe,re,W){const q=oe.get(i.ILanguageConfigurationService),H=R.get(re);if(!H)return;const j=H.getFoldingModel();if(j)return this.reportTelemetry(oe,re),j.then(Q=>{if(Q){this.invoke(H,Q,re,W,q);const te=re.getSelection();te&&H.reveal(te.getStartPosition())}})}getSelectedLines(oe){const re=oe.getSelections();return re?re.map(W=>W.startLineNumber):[]}getLineNumbers(oe,re){return oe&&oe.selectionLines?oe.selectionLines.map(W=>W+1):this.getSelectedLines(re)}run(oe,re){}}function F(ie){if(!w.isUndefined(ie)){if(!w.isObject(ie))return!1;const oe=ie;if(!w.isUndefined(oe.levels)&&!w.isNumber(oe.levels)||!w.isUndefined(oe.direction)&&!w.isString(oe.direction)||!w.isUndefined(oe.selectionLines)&&(!Array.isArray(oe.selectionLines)||!oe.selectionLines.every(w.isNumber)))return!1}return!0}class O extends P{constructor(){super({id:"editor.unfold",label:g.localize(0,null),alias:"Unfold",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(oe,re,W,q){const H=q&&q.levels||1,j=this.getLineNumbers(q,W);q&&q.direction==="up"?(0,t.setCollapseStateLevelsUp)(re,!1,H,j):(0,t.setCollapseStateLevelsDown)(re,!1,H,j)}}class B extends P{constructor(){super({id:"editor.unfoldRecursively",label:g.localize(1,null),alias:"Unfold Recursively",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2142),weight:100}})}invoke(oe,re,W,q){(0,t.setCollapseStateLevelsDown)(re,!1,Number.MAX_VALUE,this.getSelectedLines(W))}}class V extends P{constructor(){super({id:"editor.fold",label:g.localize(2,null),alias:"Fold",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(oe,re,W,q){const H=this.getLineNumbers(q,W),j=q&&q.levels,Q=q&&q.direction;typeof j!="number"&&typeof Q!="string"?(0,t.setCollapseStateUp)(re,!0,H):Q==="up"?(0,t.setCollapseStateLevelsUp)(re,!0,j||1,H):(0,t.setCollapseStateLevelsDown)(re,!0,j||1,H)}}class K extends P{constructor(){super({id:"editor.toggleFold",label:g.localize(3,null),alias:"Toggle Fold",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2090),weight:100}})}invoke(oe,re,W){const q=this.getSelectedLines(W);(0,t.toggleCollapseState)(re,1,q)}}class U extends P{constructor(){super({id:"editor.foldRecursively",label:g.localize(4,null),alias:"Fold Recursively",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2140),weight:100}})}invoke(oe,re,W){const q=this.getSelectedLines(W);(0,t.setCollapseStateLevelsDown)(re,!0,Number.MAX_VALUE,q)}}class G extends P{constructor(){super({id:"editor.foldAllBlockComments",label:g.localize(5,null),alias:"Fold All Block Comments",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2138),weight:100}})}invoke(oe,re,W,q,H){if(re.regions.hasTypes())(0,t.setCollapseStateForType)(re,n.FoldingRangeKind.Comment.value,!0);else{const j=W.getModel();if(!j)return;const Q=H.getLanguageConfiguration(j.getLanguageId()).comments;if(Q&&Q.blockCommentStartToken){const te=new RegExp("^\\s*"+(0,m.escapeRegExpCharacters)(Q.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(re,te,!0)}}}}class z extends P{constructor(){super({id:"editor.foldAllMarkerRegions",label:g.localize(6,null),alias:"Fold All Regions",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2077),weight:100}})}invoke(oe,re,W,q,H){if(re.regions.hasTypes())(0,t.setCollapseStateForType)(re,n.FoldingRangeKind.Region.value,!0);else{const j=W.getModel();if(!j)return;const Q=H.getLanguageConfiguration(j.getLanguageId()).foldingRules;if(Q&&Q.markers&&Q.markers.start){const te=new RegExp(Q.markers.start);(0,t.setCollapseStateForMatchingLines)(re,te,!0)}}}}class $ extends P{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:g.localize(7,null),alias:"Unfold All Regions",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2078),weight:100}})}invoke(oe,re,W,q,H){if(re.regions.hasTypes())(0,t.setCollapseStateForType)(re,n.FoldingRangeKind.Region.value,!1);else{const j=W.getModel();if(!j)return;const Q=H.getLanguageConfiguration(j.getLanguageId()).foldingRules;if(Q&&Q.markers&&Q.markers.start){const te=new RegExp(Q.markers.start);(0,t.setCollapseStateForMatchingLines)(re,te,!1)}}}}class J extends P{constructor(){super({id:"editor.foldAllExcept",label:g.localize(8,null),alias:"Fold All Except Selected",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2136),weight:100}})}invoke(oe,re,W){const q=this.getSelectedLines(W);(0,t.setCollapseStateForRest)(re,!0,q)}}class ee extends P{constructor(){super({id:"editor.unfoldAllExcept",label:g.localize(9,null),alias:"Unfold All Except Selected",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2134),weight:100}})}invoke(oe,re,W){const q=this.getSelectedLines(W);(0,t.setCollapseStateForRest)(re,!1,q)}}class Z extends P{constructor(){super({id:"editor.foldAll",label:g.localize(10,null),alias:"Fold All",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2069),weight:100}})}invoke(oe,re,W){(0,t.setCollapseStateLevelsDown)(re,!0)}}class x extends P{constructor(){super({id:"editor.unfoldAll",label:g.localize(11,null),alias:"Unfold All",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2088),weight:100}})}invoke(oe,re,W){(0,t.setCollapseStateLevelsDown)(re,!1)}}class Y extends P{getFoldingLevel(){return parseInt(this.id.substr(Y.ID_PREFIX.length))}invoke(oe,re,W){(0,t.setCollapseStateAtLevel)(re,this.getFoldingLevel(),!0,this.getSelectedLines(W))}}Y.ID_PREFIX="editor.foldLevel",Y.ID=ie=>Y.ID_PREFIX+ie;class ae extends P{constructor(){super({id:"editor.gotoParentFold",label:g.localize(12,null),alias:"Go to Parent Fold",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(oe,re,W){const q=this.getSelectedLines(W);if(q.length>0){const H=(0,t.getParentFoldLine)(q[0],re);H!==null&&W.setSelection({startLineNumber:H,startColumn:1,endLineNumber:H,endColumn:1})}}}class ue extends P{constructor(){super({id:"editor.gotoPreviousFold",label:g.localize(13,null),alias:"Go to Previous Folding Range",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(oe,re,W){const q=this.getSelectedLines(W);if(q.length>0){const H=(0,t.getPreviousFoldLine)(q[0],re);H!==null&&W.setSelection({startLineNumber:H,startColumn:1,endLineNumber:H,endColumn:1})}}}class he extends P{constructor(){super({id:"editor.gotoNextFold",label:g.localize(14,null),alias:"Go to Next Folding Range",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(oe,re,W){const q=this.getSelectedLines(W);if(q.length>0){const H=(0,t.getNextFoldLine)(q[0],re);H!==null&&W.setSelection({startLineNumber:H,startColumn:1,endLineNumber:H,endColumn:1})}}}class pe extends P{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:g.localize(15,null),alias:"Create Folding Range from Selection",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2135),weight:100}})}invoke(oe,re,W){var q;const H=[],j=W.getSelections();if(j){for(const Q of j){let te=Q.endLineNumber;Q.endColumn===1&&--te,te>Q.startLineNumber&&(H.push({startLineNumber:Q.startLineNumber,endLineNumber:te,type:void 0,isCollapsed:!0,source:1}),W.setSelection({startLineNumber:Q.startLineNumber,startColumn:1,endLineNumber:Q.startLineNumber,endColumn:1}))}if(H.length>0){H.sort((te,le)=>te.startLineNumber-le.startLineNumber);const Q=d.FoldingRegions.sanitizeAndMerge(re.regions,H,(q=W.getModel())===null||q===void 0?void 0:q.getLineCount());re.updatePost(d.FoldingRegions.fromFoldRanges(Q))}}}}class ce extends P{constructor(){super({id:"editor.removeManualFoldingRanges",label:g.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2137),weight:100}})}invoke(oe,re,W){const q=W.getSelections();if(q){const H=[];for(const j of q){const{startLineNumber:Q,endLineNumber:te}=j;H.push(te>=Q?{startLineNumber:Q,endLineNumber:te}:{endLineNumber:te,startLineNumber:Q})}re.removeManualRanges(H),oe.triggerFoldingModelChanged()}}}(0,C.registerEditorContribution)(R.ID,R,0),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(B),(0,C.registerEditorAction)(V),(0,C.registerEditorAction)(U),(0,C.registerEditorAction)(Z),(0,C.registerEditorAction)(x),(0,C.registerEditorAction)(G),(0,C.registerEditorAction)(z),(0,C.registerEditorAction)($),(0,C.registerEditorAction)(J),(0,C.registerEditorAction)(ee),(0,C.registerEditorAction)(K),(0,C.registerEditorAction)(ae),(0,C.registerEditorAction)(ue),(0,C.registerEditorAction)(he),(0,C.registerEditorAction)(pe),(0,C.registerEditorAction)(ce);for(let ie=1;ie<=7;ie++)(0,C.registerInstantiatedEditorAction)(new Y({id:Y.ID(ie),label:g.localize(17,null,ie),alias:`Fold Level ${ie}`,precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2048|21+ie),weight:100}}));S.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",async function(ie,...oe){const[re]=oe;if(!(re instanceof E.URI))throw(0,L.illegalArgument)();const W=ie.get(p.ILanguageFeaturesService),q=ie.get(I.IModelService).getModel(re);if(!q)throw(0,L.illegalArgument)();const H=ie.get(T.IConfigurationService);if(!H.getValue("editor.folding",{resource:re}))return[];const j=ie.get(i.ILanguageConfigurationService),Q=H.getValue("editor.foldingStrategy",{resource:re}),te={get limit(){return H.getValue("editor.foldingMaximumRegions",{resource:re})},update:(Ce,ye)=>{}},le=new c.IndentRangeProvider(q,j,te);let de=le;if(Q!=="indentation"){const Ce=R.getFoldingRangeProviders(W,q);Ce.length&&(de=new u.SyntaxRangeProvider(q,Ce,()=>{},te,le))}const me=await de.compute(k.CancellationToken.None),ve=[];try{if(me)for(let Ce=0;Ce<me.length;Ce++){const ye=me.getType(Ce);ve.push({start:me.getStartLineNumber(Ce),end:me.getEndLineNumber(Ce),kind:ye?n.FoldingRangeKind.fromValue(ye):void 0})}return ve}finally{de.dispose()}})}),define(ne[968],se([1,0,15,9,119,16,5,24,21,37,113,737,596,497]),function(X,e,f,k,L,D,y,m,w,b,C,o,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});let t=i=class{static get(l){return l.getContribution(i.ID)}constructor(l,r){this.editor=l,this.editorWorkerService=r,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(l,r){var d;(d=this.currentRequest)===null||d===void 0||d.cancel();const u=this.editor.getSelection(),a=this.editor.getModel();if(!a||!u)return;let v=u;if(v.startLineNumber!==v.endLineNumber)return;const h=new L.EditorState(this.editor,5),p=a.uri;return this.editorWorkerService.canNavigateValueSet(p)?(this.currentRequest=(0,f.createCancelablePromise)(_=>this.editorWorkerService.navigateValueSet(p,v,r)),this.currentRequest.then(_=>{var S;if(!_||!_.range||!_.value||!h.validate(this.editor))return;const E=y.Range.lift(_.range);let I=_.range;const T=_.value.length-(v.endColumn-v.startColumn);I={startLineNumber:I.startLineNumber,startColumn:I.startColumn,endLineNumber:I.endLineNumber,endColumn:I.startColumn+_.value.length},T>1&&(v=new m.Selection(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn+T-1));const N=new n.InPlaceReplaceCommand(E,v,_.value);this.editor.pushUndoStop(),this.editor.executeCommand(l,N),this.editor.pushUndoStop(),this.decorations.set([{range:I,options:i.DECORATION}]),(S=this.decorationRemover)===null||S===void 0||S.cancel(),this.decorationRemover=(0,f.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=b.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=i=ke([ge(1,C.IEditorWorkerService)],t);class s extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:o.localize(0,null),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(l,r){const d=t.get(r);return d?d.run(this.id,!1):Promise.resolve(void 0)}}class c extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:o.localize(1,null),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(l,r){const d=t.get(r);return d?d.run(this.id,!0):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(s),(0,D.registerEditorAction)(c)}),define(ne[283],se([1,0,6,15,26,2,11,31,5,37,8,502]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const o=b.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:y.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class n extends D.Disposable{constructor(s,c,g,l,r){super(),this.typeId=s,this.editor=c,this.range=g,this.delegate=r,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(l),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(s){this.domNode=f.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=s;const c=f.$("span.icon");this.domNode.append(c),c.classList.add(...m.ThemeIcon.asClassNameArray(L.Codicon.loading),"codicon-modifier-spin");const g=()=>{const l=this.editor.getOption(67);this.domNode.style.height=`${l}px`,this.domNode.style.width=`${Math.ceil(.8*l)}px`};g(),this._register(this.editor.onDidChangeConfiguration(l=>{(l.hasChanged(52)||l.hasChanged(67))&&g()})),this._register(f.addDisposableListener(this.domNode,f.EventType.CLICK,l=>{this.delegate.cancel()}))}getId(){return n.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}n.baseId="editor.widget.inlineProgressWidget";let i=class extends D.Disposable{constructor(s,c,g){super(),this.id=s,this._editor=c,this._instantiationService=g,this._showDelay=500,this._showPromise=this._register(new D.MutableDisposable),this._currentWidget=new D.MutableDisposable,this._operationIdPool=0,this._currentDecorations=c.createDecorationsCollection()}async showWhile(s,c,g){const l=this._operationIdPool++;this._currentOperation=l,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const r=w.Range.fromPositions(s);this._currentDecorations.set([{range:r,options:o}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(n,this.id,this._editor,r,c,g))},this._showDelay);try{return await g}finally{this._currentOperation===l&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=i,e.InlineProgressManager=i=ke([ge(2,C.IInstantiationService)],i)}),define(ne[969],se([1,0,13,15,190,88,2,384,5,18,319,819,119,283,713,28,14,383,8,262,381]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new c.RawContextKey("dropWidgetVisible",!1,(0,t.localize)(0,null));let a=u=class extends y.Disposable{static get(h){return h.getContribution(u.ID)}constructor(h,p,_,S,E){super(),this._configService=_,this._languageFeaturesService=S,this._treeViewsDragAndDropService=E,this.treeItemsTransfer=g.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(p.createInstance(i.InlineProgressManager,"dropIntoEditor",h)),this._postDropWidgetManager=this._register(p.createInstance(d.PostEditWidgetManager,"dropIntoEditor",h,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,t.localize)(1,null)})),this._register(h.onDropIntoEditor(I=>this.onDropIntoEditor(h,I.position,I.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(h,p,_){var S;if(!_.dataTransfer||!h.hasModel())return;(S=this._currentOperation)===null||S===void 0||S.cancel(),h.focus(),h.setPosition(p);const E=(0,k.createCancelablePromise)(async I=>{const T=new n.EditorStateCancellationTokenSource(h,1,void 0,I);try{const N=await this.extractDataTransferData(_);if(N.size===0||T.token.isCancellationRequested)return;const A=h.getModel();if(!A)return;const R=this._languageFeaturesService.documentDropEditProvider.ordered(A).filter(P=>P.dropMimeTypes?P.dropMimeTypes.some(F=>N.matches(F)):!0),M=await this.getDropEdits(R,A,p,N,T);if(T.token.isCancellationRequested)return;if(M.length){const P=this.getInitialActiveEditIndex(A,M),F=h.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([w.Range.fromPositions(p)],{activeEditIndex:P,allEdits:M},F,async O=>O,I)}}finally{T.dispose(),this._currentOperation===E&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(p,(0,t.localize)(2,null),E),this._currentOperation=E}async getDropEdits(h,p,_,S,E){const I=await(0,k.raceCancellation)(Promise.all(h.map(async N=>{try{const A=await N.provideDocumentDropEdits(p,_,S,E.token);return A?.map(R=>({...R,providerId:N.id}))}catch(A){console.error(A)}})),E.token),T=(0,f.coalesce)(I??[]).flat();return(0,r.sortEditsByYieldTo)(T)}getInitialActiveEditIndex(h,p){const _=this._configService.getValue(e.defaultProviderConfig,{resource:h.uri});for(const[S,E]of Object.entries(_)){const I=new D.HierarchicalKind(E),T=p.findIndex(N=>I.value===N.providerId&&N.handledMimeType&&(0,L.matchesMimeType)(S,[N.handledMimeType]));if(T>=0)return T}return 0}async extractDataTransferData(h){if(!h.dataTransfer)return new L.VSDataTransfer;const p=(0,m.toExternalVSDataTransfer)(h.dataTransfer);if(this.treeItemsTransfer.hasData(C.DraggedTreeItemsIdentifier.prototype)){const _=this.treeItemsTransfer.getData(C.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(_))for(const S of _){const E=await this._treeViewsDragAndDropService.removeDragOperationTransfer(S.identifier);if(E)for(const[I,T]of E)p.replace(I,T)}}return p}};e.DropIntoEditorController=a,a.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=a=u=ke([ge(1,l.IInstantiationService),ge(2,s.IConfigurationService),ge(3,b.ILanguageFeaturesService),ge(4,o.ITreeViewsDnDService)],a)}),define(ne[970],se([1,0,13,15,19,34,9,7,2,11,22,16,36,10,5,21,37,35,747,14,18,33,84,60,503]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new r.RawContextKey("LinkedEditingInputVisible",!1);const p="linked-editing-decoration";let _=h=class extends w.Disposable{static get(N){return N.getContribution(h.ID)}constructor(N,A,R,M,P){super(),this.languageConfigurationService=M,this._syncRangesToken=0,this._localToDispose=this._register(new w.DisposableStore),this._editor=N,this._providers=R.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(A),this._debounceInformation=P.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(70)||F.hasChanged(93))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(N){const A=this._editor.getModel(),R=A!==null&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(A);if(R===this._enabled&&!N||(this._enabled=R,this.clearRanges(),this._localToDispose.clear(),!R||A===null))return;this._localToDispose.add(m.Event.runAndSubscribe(A.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition()}));const M=new k.Delayer(this._debounceInformation.get(A)),P=()=>{var B;this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),(B=this._debounceDuration)!==null&&B!==void 0?B:this._debounceInformation.get(A))},F=new k.Delayer(0),O=B=>{this._rangeSyncTriggerPromise=F.trigger(()=>this._syncRanges(B))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{P()})),this._localToDispose.add(this._editor.onDidChangeModelContent(B=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const V=this._currentDecorations.getRange(0);if(V&&B.changes.every(K=>V.intersectRanges(K.range))){O(this._syncRangesToken);return}}P()})),this._localToDispose.add({dispose:()=>{M.dispose(),F.dispose()}}),this.updateRanges()}_syncRanges(N){if(!this._editor.hasModel()||N!==this._syncRangesToken||this._currentDecorations.length===0)return;const A=this._editor.getModel(),R=this._currentDecorations.getRange(0);if(!R||R.startLineNumber!==R.endLineNumber)return this.clearRanges();const M=A.getValueInRange(R);if(this._currentWordPattern){const F=M.match(this._currentWordPattern);if((F?F[0].length:0)!==M.length)return this.clearRanges()}const P=[];for(let F=1,O=this._currentDecorations.length;F<O;F++){const B=this._currentDecorations.getRange(F);if(B)if(B.startLineNumber!==B.endLineNumber)P.push({range:B,text:M});else{let V=A.getValueInRange(B),K=M,U=B.startColumn,G=B.endColumn;const z=b.commonPrefixLength(V,K);U+=z,V=V.substr(z),K=K.substr(z);const $=b.commonSuffixLength(V,K);G-=$,V=V.substr(0,V.length-$),K=K.substr(0,K.length-$),(U!==G||K.length!==0)&&P.push({range:new t.Range(B.startLineNumber,U,B.endLineNumber,G),text:K})}}if(P.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const F=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",P),this._editor._getViewModel().setPrevEditOperationType(F)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(N=!1){if(!this._editor.hasModel()){this.clearRanges();return}const A=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1){this.clearRanges();return}const R=this._editor.getModel(),M=R.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(A.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const F=this._currentDecorations.getRange(0);if(F&&F.containsPosition(A))return}}this.clearRanges(),this._currentRequestPosition=A,this._currentRequestModelVersion=M;const P=this._currentRequestCts=new L.CancellationTokenSource;try{const F=new v.StopWatch(!1),O=await I(this._providers,R,A,P.token);if(this._debounceInformation.update(R,F.elapsed()),P!==this._currentRequestCts||(this._currentRequestCts=null,M!==R.getVersionId()))return;let B=[];O?.ranges&&(B=O.ranges),this._currentWordPattern=O?.wordPattern||this._languageWordPattern;let V=!1;for(let U=0,G=B.length;U<G;U++)if(t.Range.containsPosition(B[U],A)){if(V=!0,U!==0){const z=B[U];B.splice(U,1),B.unshift(z)}break}if(!V){this.clearRanges();return}const K=B.map(U=>({range:U,options:h.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(K),this._syncRangesToken++}catch(F){(0,y.isCancellationError)(F)||(0,y.onUnexpectedError)(F),(this._currentRequestCts===P||!this._currentRequestCts)&&this.clearRanges()}}};e.LinkedEditingContribution=_,_.ID="editor.contrib.linkedEditing",_.DECORATION=c.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:p}),e.LinkedEditingContribution=_=h=ke([ge(1,r.IContextKeyService),ge(2,d.ILanguageFeaturesService),ge(3,g.ILanguageConfigurationService),ge(4,a.ILanguageFeatureDebounceService)],_);class S extends o.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:l.localize(0,null),alias:"Start Linked Editing",precondition:r.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(N,A){const R=N.get(n.ICodeEditorService),[M,P]=Array.isArray(A)&&A||[void 0,void 0];return C.URI.isUri(M)&&i.Position.isIPosition(P)?R.openCodeEditor({resource:M},R.getActiveCodeEditor()).then(F=>{F&&(F.setPosition(P),F.invokeWithinContext(O=>(this.reportTelemetry(O,F),this.run(O,F))))},y.onUnexpectedError):super.runCommand(N,A)}run(N,A){const R=_.get(A);return R?Promise.resolve(R.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=S;const E=o.EditorCommand.bindToContribution(_.get);(0,o.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function I(T,N,A,R){const M=T.ordered(N);return(0,k.first)(M.map(P=>async()=>{try{return await P.provideLinkedEditingRanges(N,A,R)}catch(F){(0,y.onUnexpectedExternalError)(F);return}}),P=>!!P&&f.isNonEmptyArray(P?.ranges))}e.editorLinkedEditingBackground=(0,u.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},l.localize(1,null)),(0,o.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,N,A)=>{const{linkedEditingRangeProvider:R}=T.get(d.ILanguageFeaturesService);return I(R,N,A,L.CancellationToken.None)}),(0,o.registerEditorContribution)(_.ID,_,1),(0,o.registerEditorAction)(S)}),define(ne[971],se([1,0,15,19,9,57,2,47,17,51,60,22,16,37,84,18,204,821,748,50,64,504]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let a=u=class extends y.Disposable{static get(E){return E.getContribution(u.ID)}constructor(E,I,T,N,A){super(),this.editor=E,this.openerService=I,this.notificationService=T,this.languageFeaturesService=N,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=A.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new f.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const R=this._register(new c.ClickLinkGesture(E));this._register(R.onMouseMoveOrRelevantKeyDown(([M,P])=>{this._onEditorMouseMove(M,P)})),this._register(R.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(R.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(E.onDidChangeConfiguration(M=>{M.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(E.onDidChangeModelContent(M=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(E.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(E.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const E=this.editor.getModel();if(!E.isTooLargeForSyncing()&&this.providers.has(E)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,f.createCancelablePromise)(I=>(0,g.getLinks)(this.providers,E,I));try{const I=new C.StopWatch(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(E,I.elapsed()),E.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(I){(0,L.onUnexpectedError)(I)}finally{this.computePromise=null}}}updateDecorations(E){const I=this.editor.getOption(78)==="altKey",T=[],N=Object.keys(this.currentOccurrences);for(const R of N){const M=this.currentOccurrences[R];T.push(M.decorationId)}const A=[];if(E)for(const R of E)A.push(h.decoration(R,I));this.editor.changeDecorations(R=>{const M=R.deltaDecorations(T,A);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let P=0,F=M.length;P<F;P++){const O=new h(E[P],M[P]);this.currentOccurrences[O.decorationId]=O}})}_onEditorMouseMove(E,I){const T=this.editor.getOption(78)==="altKey";if(this.isEnabled(E,I)){this.cleanUpActiveLinkDecoration();const N=this.getLinkOccurrence(E.target.position);N&&this.editor.changeDecorations(A=>{N.activate(A,T),this.activeLinkDecorationId=N.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const E=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const I=this.currentOccurrences[this.activeLinkDecorationId];I&&this.editor.changeDecorations(T=>{I.deactivate(T,E)}),this.activeLinkDecorationId=null}}onEditorMouseUp(E){if(!this.isEnabled(E))return;const I=this.getLinkOccurrence(E.target.position);I&&this.openLinkOccurrence(I,E.hasSideBySideModifier,!0)}openLinkOccurrence(E,I,T=!1){if(!this.openerService)return;const{link:N}=E;N.resolve(k.CancellationToken.None).then(A=>{if(typeof A=="string"&&this.editor.hasModel()){const R=this.editor.getModel().uri;if(R.scheme===m.Schemas.file&&A.startsWith(`${m.Schemas.file}:`)){const M=o.URI.parse(A);if(M.scheme===m.Schemas.file){const P=b.originalFSPath(M);let F=null;P.startsWith("/./")||P.startsWith("\\.\\")?F=`.${P.substr(1)}`:(P.startsWith("//./")||P.startsWith("\\\\.\\"))&&(F=`.${P.substr(2)}`),F&&(A=b.joinPath(R,F))}}}return this.openerService.open(A,{openToSide:I,fromUserGesture:T,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},A=>{const R=A instanceof Error?A.message:A;R==="invalid"?this.notificationService.warn(l.localize(0,null,N.url.toString())):R==="missing"?this.notificationService.warn(l.localize(1,null)):(0,L.onUnexpectedError)(A)})}getLinkOccurrence(E){if(!this.editor.hasModel()||!E)return null;const I=this.editor.getModel().getDecorationsInRange({startLineNumber:E.lineNumber,startColumn:E.column,endLineNumber:E.lineNumber,endColumn:E.column},0,!0);for(const T of I){const N=this.currentOccurrences[T.id];if(N)return N}return null}isEnabled(E,I){return!!(E.target.type===6&&(E.hasTriggerModifier||I&&I.keyCodeIsTriggerKey))}stop(){var E;this.computeLinks.cancel(),this.activeLinksList&&((E=this.activeLinksList)===null||E===void 0||E.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=a,a.ID="editor.linkDetector",e.LinkDetector=a=u=ke([ge(1,d.IOpenerService),ge(2,r.INotificationService),ge(3,s.ILanguageFeaturesService),ge(4,t.ILanguageFeatureDebounceService)],a);const v={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class h{static decoration(E,I){return{range:E.range,options:h._getOptions(E,I,!1)}}static _getOptions(E,I,T){const N={...T?v.active:v.general};return N.hoverMessage=p(E,I),N}constructor(E,I){this.link=E,this.decorationId=I}activate(E,I){E.changeDecorationOptions(this.decorationId,h._getOptions(this.link,I,!0))}deactivate(E,I){E.changeDecorationOptions(this.decorationId,h._getOptions(this.link,I,!1))}}function p(S,E){const I=S.url&&/^command:/i.test(S.url.toString()),T=S.tooltip?S.tooltip:I?l.localize(2,null):l.localize(3,null),N=E?w.isMacintosh?l.localize(4,null):l.localize(5,null):w.isMacintosh?l.localize(6,null):l.localize(7,null);if(S.url){let A="";if(/^command:/i.test(S.url.toString())){const M=S.url.toString().match(/^command:([^?#]+)/);if(M){const P=M[1];A=l.localize(8,null,P)}}return new D.MarkdownString("",!0).appendLink(S.url.toString(!0).replace(/ /g,"%20"),T,A).appendMarkdown(` (${N})`)}else return new D.MarkdownString().appendText(`${T} (${N})`)}class _ extends n.EditorAction{constructor(){super({id:"editor.action.openLink",label:l.localize(9,null),alias:"Open Link",precondition:void 0})}run(E,I){const T=a.get(I);if(!T||!I.hasModel())return;const N=I.getSelections();for(const A of N){const R=T.getLinkOccurrence(A.getEndPosition());R&&T.openLinkOccurrence(R,!1)}}}(0,n.registerEditorContribution)(a.ID,a,1),(0,n.registerEditorAction)(_)}),define(ne[972],se([1,0,15,2,16,35,37,113]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SectionHeaderDetector=void 0;let w=class extends k.Disposable{constructor(o,n,i){super(),this.editor=o,this.languageConfigurationService=n,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(o.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(o.onDidChangeModel(t=>{this.currentOccurrences={},this.options=this.createOptions(o.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(o.onDidChangeModelLanguage(t=>{this.currentOccurrences={},this.options=this.createOptions(o.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(n.onDidChange(t=>{var s;const c=(s=this.editor.getModel())===null||s===void 0?void 0:s.getLanguageId();c&&t.affects(c)&&(this.currentOccurrences={},this.options=this.createOptions(o.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(o.onDidChangeConfiguration(t=>{this.options&&!t.hasChanged(73)||(this.options=this.createOptions(o.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(t=>{this.computeSectionHeaders.schedule()})),this._register(o.onDidChangeModelTokens(t=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new f.RunOnceScheduler(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(o){if(!o||!this.editor.hasModel())return;const n=this.editor.getModel().getLanguageId();if(!n)return;const i=this.languageConfigurationService.getLanguageConfiguration(n).comments,t=this.languageConfigurationService.getLanguageConfiguration(n).foldingRules;if(!(!i&&!t?.markers))return{foldingRules:t,findMarkSectionHeaders:o.showMarkSectionHeaders,findRegionSectionHeaders:o.showRegionSectionHeaders}}findSectionHeaders(){var o,n;if(!this.editor.hasModel()||!(!((o=this.options)===null||o===void 0)&&o.findMarkSectionHeaders)&&!(!((n=this.options)===null||n===void 0)&&n.findRegionSectionHeaders))return;const i=this.editor.getModel();if(i.isDisposed()||i.isTooLargeForSyncing())return;const t=i.getVersionId();this.editorWorkerService.findSectionHeaders(i.uri,this.options).then(s=>{i.isDisposed()||i.getVersionId()!==t||this.updateDecorations(s)})}updateDecorations(o){const n=this.editor.getModel();n&&(o=o.filter(s=>{if(!s.shouldBeInComments)return!0;const c=n.validateRange(s.range),g=n.tokenization.getLineTokens(c.startLineNumber),l=g.findTokenIndexAtOffset(c.startColumn-1),r=g.getStandardTokenType(l);return g.getLanguageId(l)===n.getLanguageId()&&r===1}));const i=Object.values(this.currentOccurrences).map(s=>s.decorationId),t=o.map(s=>b(s));this.editor.changeDecorations(s=>{const c=s.deltaDecorations(i,t);this.currentOccurrences={};for(let g=0,l=c.length;g<l;g++){const r={sectionHeader:o[g],decorationId:c[g]};this.currentOccurrences[r.decorationId]=r}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};e.SectionHeaderDetector=w,w.ID="editor.sectionHeaderDetector",e.SectionHeaderDetector=w=ke([ge(1,D.ILanguageConfigurationService),ge(2,m.IEditorWorkerService)],w);function b(C){return{range:C.range,options:y.ModelDecorationOptions.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:C.hasSeparatorLine?2:1,sectionHeaderText:C.text}})}}(0,L.registerEditorContribution)(w.ID,w,1)}),define(ne[973],se([1,0,2,18,178,15,282,328,327,35,9,333,54,8]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var t;(function(a){a.OUTLINE_MODEL="outlineModel",a.FOLDING_PROVIDER_MODEL="foldingProviderModel",a.INDENTATION_MODEL="indentationModel"})(t||(t={}));var s;(function(a){a[a.VALID=0]="VALID",a[a.INVALID=1]="INVALID",a[a.CANCELED=2]="CANCELED"})(s||(s={}));let c=class extends f.Disposable{constructor(v,h,p,_){switch(super(),this._editor=v,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new D.Delayer(300)),this._updateOperation=this._register(new f.DisposableStore),this._editor.getOption(115).defaultModel){case t.OUTLINE_MODEL:this._modelProviders.push(new l(this._editor,_));case t.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new u(this._editor,h,_));case t.INDENTATION_MODEL:this._modelProviders.push(new d(this._editor,p));break}}dispose(){this._modelProviders.forEach(v=>v.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(v){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const h of this._modelProviders){const{statusPromise:p,modelPromise:_}=h.computeStickyModel(v);this._modelPromise=_;const S=await p;if(this._modelPromise!==_)return null;switch(S){case s.CANCELED:return this._updateOperation.clear(),null;case s.VALID:return h.stickyModel}}return null}).catch(h=>((0,C.onUnexpectedError)(h),null))}};e.StickyModelProvider=c,e.StickyModelProvider=c=ke([ge(2,i.IInstantiationService),ge(3,k.ILanguageFeaturesService)],c);class g extends f.Disposable{constructor(v){super(),this._editor=v,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,s.INVALID}computeStickyModel(v){if(v.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const h=(0,D.createCancelablePromise)(p=>this.createModelFromProvider(p));return{statusPromise:h.then(p=>this.isModelValid(p)?v.isCancellationRequested?s.CANCELED:(this._stickyModel=this.createStickyModel(v,p),s.VALID):this._invalid()).then(void 0,p=>((0,C.onUnexpectedError)(p),s.CANCELED)),modelPromise:h}}isModelValid(v){return!0}isProviderValid(){return!0}}let l=class extends g{constructor(v,h){super(v),this._languageFeaturesService=h}createModelFromProvider(v){return L.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),v)}createStickyModel(v,h){var p;const{stickyOutlineElement:_,providerID:S}=this._stickyModelFromOutlineModel(h,(p=this._stickyModel)===null||p===void 0?void 0:p.outlineProviderId),E=this._editor.getModel();return new o.StickyModel(E.uri,E.getVersionId(),_,S)}isModelValid(v){return v&&v.children.size>0}_stickyModelFromOutlineModel(v,h){let p;if(n.Iterable.first(v.children.values())instanceof L.OutlineGroup){const I=n.Iterable.find(v.children.values(),T=>T.id===h);if(I)p=I.children;else{let T="",N=-1,A;for(const[R,M]of v.children.entries()){const P=this._findSumOfRangesOfGroup(M);P>N&&(A=M,N=P,T=M.id)}h=T,p=A.children}}else p=v.children;const _=[],S=Array.from(p.values()).sort((I,T)=>{const N=new o.StickyRange(I.symbol.range.startLineNumber,I.symbol.range.endLineNumber),A=new o.StickyRange(T.symbol.range.startLineNumber,T.symbol.range.endLineNumber);return this._comparator(N,A)});for(const I of S)_.push(this._stickyModelFromOutlineElement(I,I.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new o.StickyElement(void 0,_,void 0),providerID:h}}_stickyModelFromOutlineElement(v,h){const p=[];for(const S of v.children.values())if(S.symbol.selectionRange.startLineNumber!==S.symbol.range.endLineNumber)if(S.symbol.selectionRange.startLineNumber!==h)p.push(this._stickyModelFromOutlineElement(S,S.symbol.selectionRange.startLineNumber));else for(const E of S.children.values())p.push(this._stickyModelFromOutlineElement(E,S.symbol.selectionRange.startLineNumber));p.sort((S,E)=>this._comparator(S.range,E.range));const _=new o.StickyRange(v.symbol.selectionRange.startLineNumber,v.symbol.range.endLineNumber);return new o.StickyElement(_,p,void 0)}_comparator(v,h){return v.startLineNumber!==h.startLineNumber?v.startLineNumber-h.startLineNumber:h.endLineNumber-v.endLineNumber}_findSumOfRangesOfGroup(v){let h=0;for(const p of v.children.values())h+=this._findSumOfRangesOfGroup(p);return v instanceof L.OutlineElement?h+v.symbol.range.endLineNumber-v.symbol.selectionRange.startLineNumber:h}};l=ke([ge(1,k.ILanguageFeaturesService)],l);class r extends g{constructor(v){super(v),this._foldingLimitReporter=new y.RangesLimitReporter(v)}createStickyModel(v,h){const p=this._fromFoldingRegions(h),_=this._editor.getModel();return new o.StickyModel(_.uri,_.getVersionId(),p,void 0)}isModelValid(v){return v!==null}_fromFoldingRegions(v){const h=v.length,p=[],_=new o.StickyElement(void 0,[],void 0);for(let S=0;S<h;S++){const E=v.getParentIndex(S);let I;E!==-1?I=p[E]:I=_;const T=new o.StickyElement(new o.StickyRange(v.getStartLineNumber(S),v.getEndLineNumber(S)+1),[],I);I.children.push(T),p.push(T)}return _}}let d=class extends r{constructor(v,h){super(v),this._languageConfigurationService=h,this.provider=this._register(new w.IndentRangeProvider(v.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}async createModelFromProvider(v){return this.provider.compute(v)}};d=ke([ge(1,b.ILanguageConfigurationService)],d);let u=class extends r{constructor(v,h,p){super(v),this._languageFeaturesService=p;const _=y.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,v.getModel());_.length>0&&(this.provider=this._register(new m.SyntaxRangeProvider(v.getModel(),_,h,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}async createModelFromProvider(v){var h,p;return(p=(h=this.provider)===null||h===void 0?void 0:h.compute(v))!==null&&p!==void 0?p:null}};u=ke([ge(2,k.ILanguageFeaturesService)],u)}),define(ne[974],se([1,0,2,18,19,15,13,7,35,973]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class C{constructor(i,t,s){this.startLineNumber=i,this.endLineNumber=t,this.nestingDepth=s}}e.StickyLineCandidate=C;let o=class extends f.Disposable{constructor(i,t,s){super(),this._languageFeaturesService=t,this._languageConfigurationService=s,this._onDidChangeStickyScroll=this._register(new m.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=i,this._sessionStore=this._register(new f.DisposableStore),this._updateSoon=this._register(new D.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(115)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(115).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,f.toDisposable)(()=>{var t;(t=this._stickyModelProvider)===null||t===void 0||t.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var i;return(i=this._model)===null||i===void 0?void 0:i.version}updateStickyModelProvider(){var i;(i=this._stickyModelProvider)===null||i===void 0||i.dispose(),this._stickyModelProvider=null;const t=this._editor;t.hasModel()&&(this._stickyModelProvider=new b.StickyModelProvider(t,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){var i;(i=this._cts)===null||i===void 0||i.dispose(!0),this._cts=new L.CancellationTokenSource,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(i){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=await this._stickyModelProvider.update(i);i.isCancellationRequested||(this._model=t)}updateIndex(i){return i===-1?i=0:i<0&&(i=-i-2),i}getCandidateStickyLinesIntersectingFromStickyModel(i,t,s,c,g){if(t.children.length===0)return;let l=g;const r=[];for(let a=0;a<t.children.length;a++){const v=t.children[a];v.range&&r.push(v.range.startLineNumber)}const d=this.updateIndex((0,y.binarySearch)(r,i.startLineNumber,(a,v)=>a-v)),u=this.updateIndex((0,y.binarySearch)(r,i.startLineNumber+c,(a,v)=>a-v));for(let a=d;a<=u;a++){const v=t.children[a];if(!v)return;if(v.range){const h=v.range.startLineNumber,p=v.range.endLineNumber;i.startLineNumber<=p+1&&h-1<=i.endLineNumber&&h!==l&&(l=h,s.push(new C(h,p-1,c+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(i,v,s,c+1,h))}else this.getCandidateStickyLinesIntersectingFromStickyModel(i,v,s,c,g)}}getCandidateStickyLinesIntersecting(i){var t,s;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let c=[];this.getCandidateStickyLinesIntersectingFromStickyModel(i,this._model.element,c,0,-1);const g=(s=this._editor._getViewModel())===null||s===void 0?void 0:s.getHiddenAreas();if(g)for(const l of g)c=c.filter(r=>!(r.startLineNumber>=l.startLineNumber&&r.endLineNumber<=l.endLineNumber+1));return c}};e.StickyLineCandidateProvider=o,e.StickyLineCandidateProvider=o=ke([ge(1,k.ILanguageFeaturesService),ge(2,w.ILanguageConfigurationService)],o)}),define(ne[975],se([1,0,6,100,13,2,31,276,181,10,112,146,133,411,510]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class t{constructor(h,p,_,S=null){this.startLineNumbers=h,this.endLineNumbers=p,this.lastLineRelativePosition=_,this.showEndForLine=S}equals(h){return!!h&&this.lastLineRelativePosition===h.lastLineRelativePosition&&this.showEndForLine===h.showEndForLine&&(0,L.equals)(this.startLineNumbers,h.startLineNumbers)&&(0,L.equals)(this.endLineNumbers,h.endLineNumbers)}}e.StickyScrollWidgetState=t;const s=(0,k.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:v=>v}),c="data-sticky-line-index",g="data-sticky-is-line",l="data-sticky-is-line-number",r="data-sticky-is-folding-icon";class d extends D.Disposable{constructor(h){super(),this._editor=h,this._foldingIconStore=new D.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",h instanceof w.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const p=()=>{this._linesDomNode.style.left=this._editor.getOption(115).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(_=>{_.hasChanged(115)&&p(),_.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(_=>{_.scrollLeftChanged&&p(),_.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{p(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),p(),this._register(this._editor.onDidLayoutChange(_=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(h){return this._renderedStickyLines.find(p=>p.lineNumber===h)}getCurrentLines(){return this._lineNumbers}setState(h,p,_){if(_===void 0&&(!this._previousState&&!h||this._previousState&&this._previousState.equals(h)))return;const S=this._isWidgetHeightZero(h),E=S?void 0:h,I=S?0:this._findLineToRebuildWidgetFrom(h,_);this._renderRootNode(E,p,I),this._previousState=h}_isWidgetHeightZero(h){if(!h)return!0;const p=h.startLineNumbers.length*this._lineHeight+h.lastLineRelativePosition;if(p>0){this._lastLineRelativePosition=h.lastLineRelativePosition;const _=[...h.startLineNumbers];h.showEndForLine!==null&&(_[h.showEndForLine]=h.endLineNumbers[h.showEndForLine]),this._lineNumbers=_}else this._lastLineRelativePosition=0,this._lineNumbers=[];return p===0}_findLineToRebuildWidgetFrom(h,p){if(!h||!this._previousState)return 0;if(p!==void 0)return p;const _=this._previousState,S=h.startLineNumbers.findIndex(E=>!_.startLineNumbers.includes(E));return S===-1?0:S}_updateWidgetWidth(){const h=this._editor.getLayoutInfo(),p=h.contentLeft;this._lineNumbersDomNode.style.width=`${p}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-h.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${h.width-h.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(h){this._foldingIconStore.clear();for(let p=h;p<this._renderedStickyLines.length;p++){const _=this._renderedStickyLines[p];_.lineNumberDomNode.remove(),_.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,h),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(h){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${h?.5:0}s`)}_setFoldingIconsVisibility(h){for(const p of this._renderedStickyLines){const _=p.foldingIcon;_&&_.setVisible(h?!0:_.isCollapsed)}}async _renderRootNode(h,p,_){if(this._clearStickyLinesFromLine(_),!h)return;for(const T of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(T);const S=this._editor.getLayoutInfo(),E=this._lineNumbers.slice(_);for(const[T,N]of E.entries()){const A=this._renderChildNode(T+_,N,p,S);A&&(this._linesDomNode.appendChild(A.lineDomNode),this._lineNumbersDomNode.appendChild(A.lineNumberDomNode),this._renderedStickyLines.push(A))}p&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const I=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${I}px`,this._linesDomNodeScrollable.style.height=`${I}px`,this._rootDomNode.style.height=`${I}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(T=>T.scrollWidth))+S.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(110)==="mouseover"&&(this._foldingIconStore.add(f.addDisposableListener(this._lineNumbersDomNode,f.EventType.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(f.addDisposableListener(this._lineNumbersDomNode,f.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(h,p,_,S){const E=this._editor._getViewModel();if(!E)return;const I=E.coordinatesConverter.convertModelPositionToViewPosition(new b.Position(p,1)).lineNumber,T=E.getViewLineRenderingData(I),N=this._editor.getOption(68);let A;try{A=o.LineDecoration.filter(T.inlineDecorations,I,T.minColumn,T.maxColumn)}catch{A=[]}const R=new n.RenderLineInput(!0,!0,T.content,T.continuesWithWrappedLine,T.isBasicASCII,T.containsRTL,0,T.tokens,A,T.tabSize,T.startVisibleColumn,1,1,1,500,"none",!0,!0,null),M=new C.StringBuilder(2e3),P=(0,n.renderViewLine)(R,M);let F;s?F=s.createHTML(M.build()):F=M.build();const O=document.createElement("span");O.setAttribute(c,String(h)),O.setAttribute(g,""),O.setAttribute("role","listitem"),O.tabIndex=0,O.className="sticky-line-content",O.classList.add(`stickyLine${p}`),O.style.lineHeight=`${this._lineHeight}px`,O.innerHTML=F;const B=document.createElement("span");B.setAttribute(c,String(h)),B.setAttribute(l,""),B.className="sticky-line-number",B.style.lineHeight=`${this._lineHeight}px`;const V=S.contentLeft;B.style.width=`${V}px`;const K=document.createElement("span");N.renderType===1||N.renderType===3&&p%10===0?K.innerText=p.toString():N.renderType===2&&(K.innerText=Math.abs(p-this._editor.getPosition().lineNumber).toString()),K.className="sticky-line-number-inner",K.style.lineHeight=`${this._lineHeight}px`,K.style.width=`${S.lineNumbersWidth}px`,K.style.paddingLeft=`${S.lineNumbersLeft}px`,B.appendChild(K);const U=this._renderFoldingIconForLine(_,p);U&&B.appendChild(U.domNode),this._editor.applyFontInfo(O),this._editor.applyFontInfo(K),B.style.lineHeight=`${this._lineHeight}px`,O.style.lineHeight=`${this._lineHeight}px`,B.style.height=`${this._lineHeight}px`,O.style.height=`${this._lineHeight}px`;const G=new u(h,p,O,B,U,P.characterMapping,O.scrollWidth);return this._updateTopAndZIndexOfStickyLine(G)}_updateTopAndZIndexOfStickyLine(h){var p;const _=h.index,S=h.lineDomNode,E=h.lineNumberDomNode,I=_===this._lineNumbers.length-1,T="0",N="1";S.style.zIndex=I?T:N,E.style.zIndex=I?T:N;const A=`${_*this._lineHeight+this._lastLineRelativePosition+(!((p=h.foldingIcon)===null||p===void 0)&&p.isCollapsed?1:0)}px`,R=`${_*this._lineHeight}px`;return S.style.top=I?A:R,E.style.top=I?A:R,h}_renderFoldingIconForLine(h,p){const _=this._editor.getOption(110);if(!h||_==="never")return;const S=h.regions,E=S.findRange(p),I=S.getStartLineNumber(E);if(!(p===I))return;const N=S.isCollapsed(E),A=new a(N,I,S.getEndLineNumber(E),this._lineHeight);return A.setVisible(this._isOnGlyphMargin?!0:N||_==="always"),A.domNode.setAttribute(r,""),A}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:2,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(h){0<=h&&h<this._renderedStickyLines.length&&this._renderedStickyLines[h].lineDomNode.focus()}getEditorPositionFromNode(h){if(!h||h.children.length>0)return null;const p=this._getRenderedStickyLineFromChildDomNode(h);if(!p)return null;const _=(0,m.getColumnOfNodeOffset)(p.characterMapping,h,0);return new b.Position(p.lineNumber,_)}getLineNumberFromChildDomNode(h){var p,_;return(_=(p=this._getRenderedStickyLineFromChildDomNode(h))===null||p===void 0?void 0:p.lineNumber)!==null&&_!==void 0?_:null}_getRenderedStickyLineFromChildDomNode(h){const p=this.getLineIndexFromChildDomNode(h);return p===null||p<0||p>=this._renderedStickyLines.length?null:this._renderedStickyLines[p]}getLineIndexFromChildDomNode(h){const p=this._getAttributeValue(h,c);return p?parseInt(p,10):null}isInStickyLine(h){return this._getAttributeValue(h,g)!==void 0}isInFoldingIconDomNode(h){return this._getAttributeValue(h,r)!==void 0}_getAttributeValue(h,p){for(;h&&h!==this._rootDomNode;){const _=h.getAttribute(p);if(_!==null)return _;h=h.parentElement}}}e.StickyScrollWidget=d;class u{constructor(h,p,_,S,E,I,T){this.index=h,this.lineNumber=p,this.lineDomNode=_,this.lineNumberDomNode=S,this.foldingIcon=E,this.characterMapping=I,this.scrollWidth=T}}class a{constructor(h,p,_,S){this.isCollapsed=h,this.foldingStartLine=p,this.foldingEndLine=_,this.dimension=S,this.domNode=document.createElement("div"),this.domNode.style.width=`${S}px`,this.domNode.style.height=`${S}px`,this.domNode.className=y.ThemeIcon.asClassName(h?i.foldingCollapsedIcon:i.foldingExpandedIcon)}setVisible(h){this.domNode.style.cursor=h?"pointer":"default",this.domNode.style.opacity=h?"1":"0"}}}),define(ne[976],se([1,0,6,111,15,9,7,2,137,11,181,937,764,14,8,99,33,95,23,251,150,387,932,106,48,191,511,275]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,c.registerColor)("editorSuggestWidget.background",{dark:c.editorWidgetBackground,light:c.editorWidgetBackground,hcDark:c.editorWidgetBackground,hcLight:c.editorWidgetBackground},n.localize(0,null)),(0,c.registerColor)("editorSuggestWidget.border",{dark:c.editorWidgetBorder,light:c.editorWidgetBorder,hcDark:c.editorWidgetBorder,hcLight:c.editorWidgetBorder},n.localize(1,null));const _=(0,c.registerColor)("editorSuggestWidget.foreground",{dark:c.editorForeground,light:c.editorForeground,hcDark:c.editorForeground,hcLight:c.editorForeground},n.localize(2,null));(0,c.registerColor)("editorSuggestWidget.selectedForeground",{dark:c.quickInputListFocusForeground,light:c.quickInputListFocusForeground,hcDark:c.quickInputListFocusForeground,hcLight:c.quickInputListFocusForeground},n.localize(3,null)),(0,c.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:c.quickInputListFocusIconForeground,light:c.quickInputListFocusIconForeground,hcDark:c.quickInputListFocusIconForeground,hcLight:c.quickInputListFocusIconForeground},n.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,c.registerColor)("editorSuggestWidget.selectedBackground",{dark:c.quickInputListFocusBackground,light:c.quickInputListFocusBackground,hcDark:c.quickInputListFocusBackground,hcLight:c.quickInputListFocusBackground},n.localize(5,null)),(0,c.registerColor)("editorSuggestWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},n.localize(6,null)),(0,c.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:c.listFocusHighlightForeground,light:c.listFocusHighlightForeground,hcDark:c.listFocusHighlightForeground,hcLight:c.listFocusHighlightForeground},n.localize(7,null)),(0,c.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,c.transparent)(_,.5),light:(0,c.transparent)(_,.5),hcDark:(0,c.transparent)(_,.5),hcLight:(0,c.transparent)(_,.5)},n.localize(8,null));class S{constructor(N,A){this._service=N,this._key=`suggestWidget.size/${A.getEditorType()}/${A instanceof C.EmbeddedCodeEditorWidget}`}restore(){var N;const A=(N=this._service.get(this._key,0))!==null&&N!==void 0?N:"";try{const R=JSON.parse(A);if(f.Dimension.is(R))return f.Dimension.lift(R)}catch{}}store(N){this._service.store(this._key,JSON.stringify(N),0,1)}reset(){this._service.remove(this._key,0)}}let E=p=class{constructor(N,A,R,M,P){this.editor=N,this._storageService=A,this._state=0,this._isAuto=!1,this._pendingLayout=new m.MutableDisposable,this._pendingShowDetails=new m.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new L.TimeoutTimer,this._disposables=new m.DisposableStore,this._onDidSelect=new y.PauseableEmitter,this._onDidFocus=new y.PauseableEmitter,this._onDidHide=new y.Emitter,this._onDidShow=new y.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new r.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new I(this,N),this._persistedSize=new S(A,N);class F{constructor(z,$,J=!1,ee=!1){this.persistedSize=z,this.currentSize=$,this.persistHeight=J,this.persistWidth=ee}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new F(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(G=>{var z,$,J,ee;if(this._resize(G.dimension.width,G.dimension.height),O&&(O.persistHeight=O.persistHeight||!!G.north||!!G.south,O.persistWidth=O.persistWidth||!!G.east||!!G.west),!!G.done){if(O){const{itemHeight:Z,defaultSize:x}=this.getLayoutInfo(),Y=Math.round(Z/2);let{width:ae,height:ue}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-ue)<=Y)&&(ue=($=(z=O.persistedSize)===null||z===void 0?void 0:z.height)!==null&&$!==void 0?$:x.height),(!O.persistWidth||Math.abs(O.currentSize.width-ae)<=Y)&&(ae=(ee=(J=O.persistedSize)===null||J===void 0?void 0:J.width)!==null&&ee!==void 0?ee:x.width),this._persistedSize.store(new f.Dimension(ae,ue))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=f.append(this.element.domNode,f.$(".message")),this._listElement=f.append(this.element.domNode,f.$(".tree"));const B=this._disposables.add(P.createInstance(u.SuggestDetailsWidget,this.editor));B.onDidClose(this.toggleDetails,this,this._disposables),this._details=new u.SuggestDetailsOverlay(B,this.editor);const V=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(118).showIcons);V();const K=P.createInstance(a.ItemRenderer,this.editor);this._disposables.add(K),this._disposables.add(K.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:G=>this.getLayoutInfo().itemHeight,getTemplateId:G=>"suggestion"},[K],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>n.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:G=>{let z=G.textLabel;if(typeof G.completion.label!="string"){const{detail:Z,description:x}=G.completion.label;Z&&x?z=n.localize(12,null,z,Z,x):Z?z=n.localize(13,null,z,Z):x&&(z=n.localize(14,null,z,x))}if(!G.isResolved||!this._isDetailsVisible())return z;const{documentation:$,detail:J}=G.completion,ee=b.format("{0}{1}",J||"",$?typeof $=="string"?$:$.value:"");return n.localize(15,null,z,ee)}}}),this._list.style((0,v.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:c.activeContrastBorder})),this._status=P.createInstance(o.SuggestWidgetStatus,this.element.domNode,d.suggestWidgetStatusbarMenu);const U=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(118).showStatusBar);U(),this._disposables.add(M.onDidColorThemeChange(G=>this._onThemeChange(G))),this._onThemeChange(M.getColorTheme()),this._disposables.add(this._list.onMouseDown(G=>this._onListMouseDownOrTap(G))),this._disposables.add(this._list.onTap(G=>this._onListMouseDownOrTap(G))),this._disposables.add(this._list.onDidChangeSelection(G=>this._onListSelection(G))),this._disposables.add(this._list.onDidChangeFocus(G=>this._onListFocus(G))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(G=>{G.hasChanged(118)&&(U(),V()),this._completionModel&&(G.hasChanged(50)||G.hasChanged(119)||G.hasChanged(120))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=d.Context.Visible.bindTo(R),this._ctxSuggestWidgetDetailsVisible=d.Context.DetailsVisible.bindTo(R),this._ctxSuggestWidgetMultipleSuggestions=d.Context.MultipleSuggestions.bindTo(R),this._ctxSuggestWidgetHasFocusedSuggestion=d.Context.HasFocusedSuggestion.bindTo(R),this._disposables.add(f.addStandardDisposableListener(this._details.widget.domNode,"keydown",G=>{this._onDetailsKeydown.fire(G)})),this._disposables.add(this.editor.onMouseDown(G=>this._onEditorMouseDown(G)))}dispose(){var N;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(N){this._details.widget.domNode.contains(N.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(N.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(N){typeof N.element>"u"||typeof N.index>"u"||(N.browserEvent.preventDefault(),N.browserEvent.stopPropagation(),this._select(N.element,N.index))}_onListSelection(N){N.elements.length&&this._select(N.elements[0],N.indexes[0])}_select(N,A){const R=this._completionModel;R&&(this._onDidSelect.fire({item:N,index:A,model:R}),this.editor.focus())}_onThemeChange(N){this._details.widget.borderWidth=(0,g.isHighContrast)(N.type)?2:1}_onListFocus(N){var A;if(this._ignoreFocusEvents)return;if(!N.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const R=N.elements[0],M=N.indexes[0];R!==this._focusedItem&&((A=this._currentSuggestionDetails)===null||A===void 0||A.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=R,this._list.reveal(M),this._currentSuggestionDetails=(0,L.createCancelablePromise)(async P=>{const F=(0,L.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),O=P.onCancellationRequested(()=>F.dispose());try{return await R.resolve(P)}finally{F.dispose(),O.dispose()}}),this._currentSuggestionDetails.then(()=>{M>=this._list.length||R!==this._list.element(M)||(this._ignoreFocusEvents=!0,this._list.splice(M,1,[R]),this._list.setFocus([M]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,a.getAriaId)(M)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:R,index:M,model:this._completionModel})}_setState(N){if(this._state!==N)switch(this._state=N,this.element.domNode.classList.toggle("frozen",N===4),this.element.domNode.classList.remove("message"),N){case 0:f.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=p.LOADING_MESSAGE,f.hide(this._listElement,this._status.element),f.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,h.status)(p.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=p.NO_SUGGESTIONS_MESSAGE,f.hide(this._listElement,this._status.element),f.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,h.status)(p.NO_SUGGESTIONS_MESSAGE);break;case 3:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._show();break;case 4:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._show();break;case 5:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(N,A){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!N,this._isAuto||(this._loadingTimeout=(0,L.disposableTimeout)(()=>this._setState(1),A)))}showSuggestions(N,A,R,M,P){var F,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(F=this._loadingTimeout)===null||F===void 0||F.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==N&&(this._completionModel=N),R&&this._state!==2&&this._state!==0){this._setState(4);return}const B=this._completionModel.items.length,V=B===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(B>1),V){this._setState(M?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(R?4:3),this._list.reveal(A,0),this._list.setFocus(P?[]:[A])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=f.runAtThisOrScheduleAtNextAnimationFrame(f.getWindow(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,u.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(N){this._pendingShowDetails.value=f.runAtThisOrScheduleAtNextAnimationFrame(f.getWindow(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),N?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var N;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const A=this._persistedSize.restore(),R=Math.ceil(this.getLayoutInfo().itemHeight*4.3);A&&A.height<R&&this._persistedSize.store(A.with(void 0,R))}isFrozen(){return this._state===4}_afterRender(N){if(N===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(N){var A,R,M;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const P=f.getClientArea(this.element.domNode.ownerDocument.body),F=this.getLayoutInfo();N||(N=F.defaultSize);let O=N.height,B=N.width;if(this._status.element.style.height=`${F.itemHeight}px`,this._state===2||this._state===1)O=F.itemHeight+F.borderHeight,B=F.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new f.Dimension(B,O),this._contentWidget.setPreference(2);else{const V=P.width-F.borderHeight-2*F.horizontalPadding;B>V&&(B=V);const K=this._completionModel?this._completionModel.stats.pLabelLen*F.typicalHalfwidthCharacterWidth:B,U=F.statusBarHeight+this._list.contentHeight+F.borderHeight,G=F.itemHeight+F.statusBarHeight,z=f.getDomNodePagePosition(this.editor.getDomNode()),$=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),J=z.top+$.top+$.height,ee=Math.min(P.height-J-F.verticalPadding,U),Z=z.top+$.top-F.verticalPadding,x=Math.min(Z,U);let Y=Math.min(Math.max(x,ee)+F.borderHeight,U);O===((A=this._cappedHeight)===null||A===void 0?void 0:A.capped)&&(O=this._cappedHeight.wanted),O<G&&(O=G),O>Y&&(O=Y),O>ee||this._forceRenderingAbove&&Z>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Y=x):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Y=ee),this.element.preferredSize=new f.Dimension(K,F.defaultSize.height),this.element.maxSize=new f.Dimension(V,Y),this.element.minSize=new f.Dimension(220,G),this._cappedHeight=O===U?{wanted:(M=(R=this._cappedHeight)===null||R===void 0?void 0:R.wanted)!==null&&M!==void 0?M:N.height,capped:O}:void 0}this._resize(B,O)}_resize(N,A){const{width:R,height:M}=this.element.maxSize;N=Math.min(R,N),A=Math.min(M,A);const{statusBarHeight:P}=this.getLayoutInfo();this._list.layout(A-P,N),this._listElement.style.height=`${A-P}px`,this.element.layout(A,N),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var N;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((N=this._contentWidget.getPosition())===null||N===void 0?void 0:N.preference[0])===2)}getLayoutInfo(){const N=this.editor.getOption(50),A=(0,w.clamp)(this.editor.getOption(120)||N.lineHeight,8,1e3),R=!this.editor.getOption(118).showStatusBar||this._state===2||this._state===1?0:A,M=this._details.widget.borderWidth,P=2*M;return{itemHeight:A,statusBarHeight:R,borderWidth:M,borderHeight:P,typicalHalfwidthCharacterWidth:N.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new f.Dimension(430,R+12*A+P)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(N){this._storageService.store("expandSuggestionDocs",N,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=E,E.LOADING_MESSAGE=n.localize(9,null),E.NO_SUGGESTIONS_MESSAGE=n.localize(10,null),e.SuggestWidget=E=p=ke([ge(1,s.IStorageService),ge(2,i.IContextKeyService),ge(3,l.IThemeService),ge(4,t.IInstantiationService)],E);class I{constructor(N,A){this._widget=N,this._editor=A,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:N,width:A}=this._widget.element.size,{borderWidth:R,horizontalPadding:M}=this._widget.getLayoutInfo();return new f.Dimension(A+2*R+M,N+2*R)}afterRender(N){this._widget._afterRender(N)}setPreference(N){this._preferenceLocked||(this._preference=N)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(N){this._position=N}}e.SuggestContentWidget=I}),define(ne[412],se([1,0,42,37,27,773,33,23,515]),function(X,e,f,k,L,D,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHighlightDecorationOptions=l,e.getSelectionHighlightDecorationOptions=r;const w=(0,y.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,y.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,y.registerColor)("editor.wordHighlightTextBackground",{light:w,dark:w,hcDark:w,hcLight:w},D.localize(2,null),!0);const b=(0,y.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},D.localize(3,null));(0,y.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},D.localize(4,null)),(0,y.registerColor)("editor.wordHighlightTextBorder",{light:b,dark:b,hcDark:b,hcLight:b},D.localize(5,null));const C=(0,y.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),o=(0,y.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),n=(0,y.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:y.overviewRulerSelectionHighlightForeground,light:y.overviewRulerSelectionHighlightForeground,hcDark:y.overviewRulerSelectionHighlightForeground,hcLight:y.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),i=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,m.themeColorFromId)(o),position:f.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),t=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,m.themeColorFromId)(n),position:f.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),s=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,m.themeColorFromId)(y.overviewRulerSelectionHighlightForeground),position:f.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),c=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),g=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,m.themeColorFromId)(C),position:f.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}});function l(d){return d===L.DocumentHighlightKind.Write?i:d===L.DocumentHighlightKind.Text?t:g}function r(d){return d?c:s}(0,m.registerThemingParticipant)((d,u)=>{const a=d.getColor(y.editorSelectionHighlight);a&&u.addRule(`.monaco-editor .selectionHighlight { background-color: ${a.transparent(.5)}; }`)})}),define(ne[977],se([1,0,48,15,70,2,16,231,5,24,21,410,750,29,14,18,412,8]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function r(U,G){const z=G.filter($=>!U.find(J=>J.equals($)));if(z.length>=1){const $=z.map(ee=>`line ${ee.viewState.position.lineNumber} column ${ee.viewState.position.column}`).join(", "),J=z.length===1?n.localize(0,null,$):n.localize(1,null,$);(0,f.status)(J)}}class d extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:n.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(3,null),order:2}})}run(G,z,$){if(!z.hasModel())return;let J=!0;$&&$.logicalLine===!1&&(J=!1);const ee=z._getViewModel();if(ee.cursorConfig.readOnly)return;ee.model.pushStackElement();const Z=ee.getCursorStates();ee.setCursorStates($.source,3,m.CursorMoveCommands.addCursorUp(ee,Z,J)),ee.revealTopMostCursor($.source),r(Z,ee.getCursorStates())}}e.InsertCursorAbove=d;class u extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:n.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(5,null),order:3}})}run(G,z,$){if(!z.hasModel())return;let J=!0;$&&$.logicalLine===!1&&(J=!1);const ee=z._getViewModel();if(ee.cursorConfig.readOnly)return;ee.model.pushStackElement();const Z=ee.getCursorStates();ee.setCursorStates($.source,3,m.CursorMoveCommands.addCursorDown(ee,Z,J)),ee.revealBottomMostCursor($.source),r(Z,ee.getCursorStates())}}e.InsertCursorBelow=u;class a extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:n.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(7,null),order:4}})}getCursorsForSelection(G,z,$){if(!G.isEmpty()){for(let J=G.startLineNumber;J<G.endLineNumber;J++){const ee=z.getLineMaxColumn(J);$.push(new b.Selection(J,ee,J,ee))}G.endColumn>1&&$.push(new b.Selection(G.endLineNumber,G.endColumn,G.endLineNumber,G.endColumn))}}run(G,z){if(!z.hasModel())return;const $=z.getModel(),J=z.getSelections(),ee=z._getViewModel(),Z=ee.getCursorStates(),x=[];J.forEach(Y=>this.getCursorsForSelection(Y,$,x)),x.length>0&&z.setSelections(x),r(Z,ee.getCursorStates())}}class v extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:n.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(G,z){if(!z.hasModel())return;const $=z.getSelections(),J=z.getModel().getLineCount(),ee=[];for(let Y=$[0].startLineNumber;Y<=J;Y++)ee.push(new b.Selection(Y,$[0].startColumn,Y,$[0].endColumn));const Z=z._getViewModel(),x=Z.getCursorStates();ee.length>0&&z.setSelections(ee),r(x,Z.getCursorStates())}}class h extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:n.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(G,z){if(!z.hasModel())return;const $=z.getSelections(),J=[];for(let x=$[0].startLineNumber;x>=1;x--)J.push(new b.Selection(x,$[0].startColumn,x,$[0].endColumn));const ee=z._getViewModel(),Z=ee.getCursorStates();J.length>0&&z.setSelections(J),r(Z,ee.getCursorStates())}}class p{constructor(G,z,$){this.selections=G,this.revealRange=z,this.revealScrollType=$}}e.MultiCursorSessionResult=p;class _{static create(G,z){if(!G.hasModel())return null;const $=z.getState();if(!G.hasTextFocus()&&$.isRevealed&&$.searchString.length>0)return new _(G,z,!1,$.searchString,$.wholeWord,$.matchCase,null);let J=!1,ee,Z;const x=G.getSelections();x.length===1&&x[0].isEmpty()?(J=!0,ee=!0,Z=!0):(ee=$.wholeWord,Z=$.matchCase);const Y=G.getSelection();let ae,ue=null;if(Y.isEmpty()){const he=G.getConfiguredWordAtPosition(Y.getStartPosition());if(!he)return null;ae=he.word,ue=new b.Selection(Y.startLineNumber,he.startColumn,Y.startLineNumber,he.endColumn)}else ae=G.getModel().getValueInRange(Y).replace(/\r\n/g,`
`);return new _(G,z,J,ae,ee,Z,ue)}constructor(G,z,$,J,ee,Z,x){this._editor=G,this.findController=z,this.isDisconnectedFromFindController=$,this.searchText=J,this.wholeWord=ee,this.matchCase=Z,this.currentMatch=x}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const G=this._getNextMatch();if(!G)return null;const z=this._editor.getSelections();return new p(z.concat(G),G,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const G=this._getNextMatch();if(!G)return null;const z=this._editor.getSelections();return new p(z.slice(0,z.length-1).concat(G),G,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const J=this.currentMatch;return this.currentMatch=null,J}this.findController.highlightFindOptions();const G=this._editor.getSelections(),z=G[G.length-1],$=this._editor.getModel().findNextMatch(this.searchText,z.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return $?new b.Selection($.range.startLineNumber,$.range.startColumn,$.range.endLineNumber,$.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const G=this._getPreviousMatch();if(!G)return null;const z=this._editor.getSelections();return new p(z.concat(G),G,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const G=this._getPreviousMatch();if(!G)return null;const z=this._editor.getSelections();return new p(z.slice(0,z.length-1).concat(G),G,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const J=this.currentMatch;return this.currentMatch=null,J}this.findController.highlightFindOptions();const G=this._editor.getSelections(),z=G[G.length-1],$=this._editor.getModel().findPreviousMatch(this.searchText,z.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return $?new b.Selection($.range.startLineNumber,$.range.startColumn,$.range.endLineNumber,$.range.endColumn):null}selectAll(G){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const z=this._editor.getModel();return G?z.findMatches(this.searchText,G,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824):z.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824)}}e.MultiCursorSession=_;class S extends D.Disposable{static get(G){return G.getContribution(S.ID)}constructor(G){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=G,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(G){if(!this._session){const z=_.create(this._editor,G);if(!z)return;this._session=z;const $={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&($.wholeWordOverride=1,$.matchCaseOverride=1,$.isRegexOverride=2),G.getState().change($,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(J=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(G.getState().onFindReplaceStateChange(J=>{(J.matchCase||J.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const G={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(G,!1)}this._session=null}_setSelections(G){this._ignoreSelectionChange=!0,this._editor.setSelections(G),this._ignoreSelectionChange=!1}_expandEmptyToWord(G,z){if(!z.isEmpty())return z;const $=this._editor.getConfiguredWordAtPosition(z.getStartPosition());return $?new b.Selection(z.startLineNumber,$.startColumn,z.startLineNumber,$.endColumn):z}_applySessionResult(G){G&&(this._setSelections(G.selections),G.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(G.revealRange,G.revealScrollType))}getSession(G){return this._session}addSelectionToNextFindMatch(G){if(this._editor.hasModel()){if(!this._session){const z=this._editor.getSelections();if(z.length>1){const J=G.getState().matchCase;if(!O(this._editor.getModel(),z,J)){const Z=this._editor.getModel(),x=[];for(let Y=0,ae=z.length;Y<ae;Y++)x[Y]=this._expandEmptyToWord(Z,z[Y]);this._editor.setSelections(x);return}}}this._beginSessionIfNeeded(G),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(G){this._beginSessionIfNeeded(G),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(G){this._beginSessionIfNeeded(G),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(G){this._beginSessionIfNeeded(G),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(G){if(!this._editor.hasModel())return;let z=null;const $=G.getState();if($.isRevealed&&$.searchString.length>0&&$.isRegex){const J=this._editor.getModel();$.searchScope?z=J.findMatches($.searchString,$.searchScope,$.isRegex,$.matchCase,$.wholeWord?this._editor.getOption(131):null,!1,1073741824):z=J.findMatches($.searchString,!0,$.isRegex,$.matchCase,$.wholeWord?this._editor.getOption(131):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(G),!this._session)return;z=this._session.selectAll($.searchScope)}if(z.length>0){const J=this._editor.getSelection();for(let ee=0,Z=z.length;ee<Z;ee++){const x=z[ee];if(x.range.intersectRanges(J)){z[ee]=z[0],z[0]=x;break}}this._setSelections(z.map(ee=>new b.Selection(ee.range.startLineNumber,ee.range.startColumn,ee.range.endLineNumber,ee.range.endColumn)))}}}e.MultiCursorSelectionController=S,S.ID="editor.contrib.multiCursorController";class E extends y.EditorAction{run(G,z){const $=S.get(z);if(!$)return;const J=z._getViewModel();if(J){const ee=J.getCursorStates(),Z=o.CommonFindController.get(z);if(Z)this._run($,Z);else{const x=G.get(g.IInstantiationService).createInstance(o.CommonFindController,z);this._run($,x),x.dispose()}r(ee,J.getCursorStates())}}}e.MultiCursorSelectionControllerAction=E;class I extends E{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:n.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(11,null),order:5}})}_run(G,z){G.addSelectionToNextFindMatch(z)}}e.AddSelectionToNextFindMatchAction=I;class T extends E{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:n.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(13,null),order:6}})}_run(G,z){G.addSelectionToPreviousFindMatch(z)}}e.AddSelectionToPreviousFindMatchAction=T;class N extends E{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:n.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:(0,L.KeyChord)(2089,2082),weight:100}})}_run(G,z){G.moveSelectionToNextFindMatch(z)}}e.MoveSelectionToNextFindMatchAction=N;class A extends E{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:n.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(G,z){G.moveSelectionToPreviousFindMatch(z)}}e.MoveSelectionToPreviousFindMatchAction=A;class R extends E{constructor(){super({id:"editor.action.selectHighlights",label:n.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(17,null),order:7}})}_run(G,z){G.selectAll(z)}}e.SelectHighlightsAction=R;class M extends E{constructor(){super({id:"editor.action.changeAll",label:n.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(G,z){G.selectAll(z)}}e.CompatChangeAll=M;class P{constructor(G,z,$,J,ee){this._model=G,this._searchText=z,this._matchCase=$,this._wordSeparators=J,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,ee&&this._model===ee._model&&this._searchText===ee._searchText&&this._matchCase===ee._matchCase&&this._wordSeparators===ee._wordSeparators&&this._modelVersionId===ee._modelVersionId&&(this._cachedFindMatches=ee._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(G=>G.range),this._cachedFindMatches.sort(w.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let F=l=class extends D.Disposable{constructor(G,z){super(),this._languageFeaturesService=z,this.editor=G,this._isEnabled=G.getOption(108),this._decorations=G.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(G.onDidChangeConfiguration(J=>{this._isEnabled=G.getOption(108)})),this._register(G.onDidChangeCursorSelection(J=>{this._isEnabled&&(J.selection.isEmpty()?J.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(G.onDidChangeModel(J=>{this._setState(null)})),this._register(G.onDidChangeModelContent(J=>{this._isEnabled&&this.updateSoon.schedule()}));const $=o.CommonFindController.get(G);$&&this._register($.getState().onFindReplaceStateChange(J=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(l._createState(this.state,this._isEnabled,this.editor))}static _createState(G,z,$){if(!z||!$.hasModel())return null;const J=$.getSelection();if(J.startLineNumber!==J.endLineNumber)return null;const ee=S.get($);if(!ee)return null;const Z=o.CommonFindController.get($);if(!Z)return null;let x=ee.getSession(Z);if(!x){const ue=$.getSelections();if(ue.length>1){const pe=Z.getState().matchCase;if(!O($.getModel(),ue,pe))return null}x=_.create($,Z)}if(!x||x.currentMatch||/^[ \t]+$/.test(x.searchText)||x.searchText.length>200)return null;const Y=Z.getState(),ae=Y.matchCase;if(Y.isRevealed){let ue=Y.searchString;ae||(ue=ue.toLowerCase());let he=x.searchText;if(ae||(he=he.toLowerCase()),ue===he&&x.matchCase===Y.matchCase&&x.wholeWord===Y.wholeWord&&!Y.isRegex)return null}return new P($.getModel(),x.searchText,x.matchCase,x.wholeWord?$.getOption(131):null,G)}_setState(G){if(this.state=G,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const z=this.editor.getModel();if(z.isTooLargeForTokenization())return;const $=this.state.findMatches(),J=this.editor.getSelections();J.sort(w.Range.compareRangesUsingStarts);const ee=[];for(let ae=0,ue=0,he=$.length,pe=J.length;ae<he;){const ce=$[ae];if(ue>=pe)ee.push(ce),ae++;else{const ie=w.Range.compareRangesUsingStarts(ce,J[ue]);ie<0?((J[ue].isEmpty()||!w.Range.areIntersecting(ce,J[ue]))&&ee.push(ce),ae++):(ie>0||ae++,ue++)}}const Z=this.editor.getOption(81)!=="off",x=this._languageFeaturesService.documentHighlightProvider.has(z)&&Z,Y=ee.map(ae=>({range:ae,options:(0,c.getSelectionHighlightDecorationOptions)(x)}));this._decorations.set(Y)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=F,F.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=F=l=ke([ge(1,s.ILanguageFeaturesService)],F);function O(U,G,z){const $=B(U,G[0],!z);for(let J=1,ee=G.length;J<ee;J++){const Z=G[J];if(Z.isEmpty())return!1;const x=B(U,Z,!z);if($!==x)return!1}return!0}function B(U,G,z){const $=U.getValueInRange(G);return z?$.toLowerCase():$}class V extends y.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:n.localize(19,null),metadata:{description:n.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(G,z,$){if(!z.hasModel())return;const J=z._getViewModel();if(J.cursorConfig.readOnly)return;J.model.pushStackElement();const ee=Array.from(J.getCursorStates()),Z=ee.shift();Z&&(ee.push(Z),J.setCursorStates($.source,3,ee),J.revealPrimaryCursor($.source,!0),r(ee,J.getCursorStates()))}}e.FocusNextCursor=V;class K extends y.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:n.localize(21,null),metadata:{description:n.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(G,z,$){if(!z.hasModel())return;const J=z._getViewModel();if(J.cursorConfig.readOnly)return;J.model.pushStackElement();const ee=Array.from(J.getCursorStates()),Z=ee.pop();Z&&(ee.unshift(Z),J.setCursorStates($.source,3,ee),J.revealPrimaryCursor($.source,!0),r(ee,J.getCursorStates()))}}e.FocusPreviousCursor=K,(0,y.registerEditorContribution)(S.ID,S,4),(0,y.registerEditorContribution)(F.ID,F,1),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(u),(0,y.registerEditorAction)(a),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(v),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(V),(0,y.registerEditorAction)(K)}),define(ne[978],se([1,0,774,13,48,15,19,9,2,164,16,36,5,21,27,42,18,412,14,47,45,355]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u){"use strict";var a,v;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=void 0,e.getOccurrencesAtPosition=p,e.getOccurrencesAcrossMultipleModels=_;const h=new l.RawContextKey("hasWordHighlights",!1);function p(V,K,U,G){const z=V.ordered(K);return(0,D.first)(z.map($=>()=>Promise.resolve($.provideDocumentHighlights(K,U,G)).then(void 0,m.onUnexpectedExternalError)),k.isNonEmptyArray).then($=>{if($){const J=new d.ResourceMap;return J.set(K.uri,$),J}return new d.ResourceMap})}function _(V,K,U,G,z,$){const J=V.ordered(K);return(0,D.first)(J.map(ee=>()=>{const Z=$.filter(x=>(0,s.shouldSynchronizeModel)(x)).filter(x=>(0,u.score)(ee.selector,x.uri,x.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(ee.provideMultiDocumentHighlights(K,U,Z,z)).then(void 0,m.onUnexpectedExternalError)}),ee=>ee instanceof d.ResourceMap&&ee.size>0)}class S{constructor(K,U,G){this._model=K,this._selection=U,this._wordSeparators=G,this._wordRange=this._getCurrentWordRange(K,U),this._result=null}get result(){return this._result||(this._result=(0,D.createCancelablePromise)(K=>this._compute(this._model,this._selection,this._wordSeparators,K))),this._result}_getCurrentWordRange(K,U){const G=K.getWordAtPosition(U.getPosition());return G?new n.Range(U.startLineNumber,G.startColumn,U.startLineNumber,G.endColumn):null}isValid(K,U,G){const z=U.startLineNumber,$=U.startColumn,J=U.endColumn,ee=this._getCurrentWordRange(K,U);let Z=!!(this._wordRange&&this._wordRange.equalsRange(ee));for(let x=0,Y=G.length;!Z&&x<Y;x++){const ae=G.getRange(x);ae&&ae.startLineNumber===z&&ae.startColumn<=$&&ae.endColumn>=J&&(Z=!0)}return Z}cancel(){this.result.cancel()}}class E extends S{constructor(K,U,G,z){super(K,U,G),this._providers=z}_compute(K,U,G,z){return p(this._providers,K,U.getPosition(),z).then($=>$||new d.ResourceMap)}}class I extends S{constructor(K,U,G,z,$){super(K,U,G),this._providers=z,this._otherModels=$}_compute(K,U,G,z){return _(this._providers,K,U.getPosition(),G,z,this._otherModels).then($=>$||new d.ResourceMap)}}class T extends S{constructor(K,U,G,z,$){super(K,U,z),this._otherModels=$,this._selectionIsEmpty=U.isEmpty(),this._word=G}_compute(K,U,G,z){return(0,D.timeout)(250,z).then(()=>{const $=new d.ResourceMap;let J;if(this._word?J=this._word:J=K.getWordAtPosition(U.getPosition()),!J)return new d.ResourceMap;const ee=[K,...this._otherModels];for(const Z of ee){if(Z.isDisposed())continue;const Y=Z.findMatches(J.word,!0,!1,!0,G,!1).map(ae=>({range:ae.range,kind:t.DocumentHighlightKind.Text}));Y&&$.set(Z.uri,Y)}return $})}isValid(K,U,G){const z=U.isEmpty();return this._selectionIsEmpty!==z?!1:super.isValid(K,U,G)}}function N(V,K,U,G,z){return V.has(K)?new E(K,U,z,V):new T(K,U,G,z,[])}function A(V,K,U,G,z,$){return V.has(K)?new I(K,U,z,V,$):new T(K,U,G,z,$)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",async(V,K,U)=>{const G=V.get(c.ILanguageFeaturesService),z=await p(G.documentHighlightProvider,K,U,y.CancellationToken.None);return z?.get(K.uri)});let R=a=class{constructor(K,U,G,z,$){this.toUnhook=new w.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new d.ResourceMap,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=K,this.providers=U,this.multiDocumentProviders=G,this.codeEditorService=$,this._hasWordHighlights=h.bindTo(z),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(K.onDidChangeCursorPosition(J=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(J)})),this.toUnhook.add(K.onDidFocusEditorText(J=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this._run())})),this.toUnhook.add(K.onDidChangeModelContent(J=>{this._stopAll()})),this.toUnhook.add(K.onDidChangeModel(J=>{!J.newModelUrl&&J.oldModelUrl?this._stopSingular():a.query&&this._run()})),this.toUnhook.add(K.onDidChangeConfiguration(J=>{const ee=this.editor.getOption(81);this.occurrencesHighlight!==ee&&(this.occurrencesHighlight=ee,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,a.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(n.Range.compareRangesUsingStarts)}moveNext(){const K=this._getSortedHighlights(),G=(K.findIndex($=>$.containsPosition(this.editor.getPosition()))+1)%K.length,z=K[G];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(z.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(z);const $=this._getWord();if($){const J=this.editor.getModel().getLineContent(z.startLineNumber);(0,L.alert)(`${J}, ${G+1} of ${K.length} for '${$.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const K=this._getSortedHighlights(),G=(K.findIndex($=>$.containsPosition(this.editor.getPosition()))-1+K.length)%K.length,z=K[G];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(z.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(z);const $=this._getWord();if($){const J=this.editor.getModel().getLineContent(z.startLineNumber);(0,L.alert)(`${J}, ${G+1} of ${K.length} for '${$.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const K=a.storedDecorations.get(this.editor.getModel().uri);K&&(this.editor.removeDecorations(K),a.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const K=this.codeEditorService.listCodeEditors(),U=[];for(const G of K){if(!G.hasModel())continue;const z=a.storedDecorations.get(G.getModel().uri);if(!z)continue;G.removeDecorations(z),U.push(G.getModel().uri);const $=M.get(G);$?.wordHighlighter&&$.wordHighlighter.decorations.length>0&&($.wordHighlighter.decorations.clear(),$.wordHighlighter.workerRequest=null,$.wordHighlighter._hasWordHighlights.set(!1))}for(const G of U)a.storedDecorations.delete(G)}_stopSingular(){var K,U,G,z;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((K=this.editor.getModel())===null||K===void 0?void 0:K.uri.scheme)!==r.Schemas.vscodeNotebookCell&&((G=(U=a.query)===null||U===void 0?void 0:U.modelInfo)===null||G===void 0?void 0:G.model.uri.scheme)!==r.Schemas.vscodeNotebookCell?(a.query=null,this._run()):!((z=a.query)===null||z===void 0)&&z.modelInfo&&(a.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(K){var U;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(K.reason!==3&&((U=this.editor.getModel())===null||U===void 0?void 0:U.uri.scheme)!==r.Schemas.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const K=this.editor.getSelection(),U=K.startLineNumber,G=K.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:U,column:G})}getOtherModelsToHighlight(K){if(!K)return[];if(K.uri.scheme===r.Schemas.vscodeNotebookCell){const $=[],J=this.codeEditorService.listCodeEditors();for(const ee of J){const Z=ee.getModel();Z&&Z!==K&&Z.uri.scheme===r.Schemas.vscodeNotebookCell&&$.push(Z)}return $}const G=[],z=this.codeEditorService.listCodeEditors();for(const $ of z){if(!(0,b.isDiffEditor)($))continue;const J=$.getModel();J&&K===J.modified&&G.push(J.modified)}if(G.length)return G;if(this.occurrencesHighlight==="singleFile")return[];for(const $ of z){const J=$.getModel();J&&J!==K&&G.push(J)}return G}_run(){var K;let U;if(this.editor.hasTextFocus()){const z=this.editor.getSelection();if(!z||z.startLineNumber!==z.endLineNumber){a.query=null,this._stopAll();return}const $=z.startColumn,J=z.endColumn,ee=this._getWord();if(!ee||ee.startColumn>$||ee.endColumn<J){a.query=null,this._stopAll();return}U=this.workerRequest&&this.workerRequest.isValid(this.model,z,this.decorations),a.query={modelInfo:{model:this.model,selection:z},word:ee}}else if(!a.query)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),U)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const z=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const $=this.getOtherModelsToHighlight(this.editor.getModel());if(!a.query.modelInfo||a.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(a.query.modelInfo.model,a.query.modelInfo.selection,a.query.word,$),(K=this.workerRequest)===null||K===void 0||K.result.then(J=>{z===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=J||[],this._beginRenderDecorations())},m.onUnexpectedError)}}computeWithModel(K,U,G,z){return z.length?A(this.multiDocumentProviders,K,U,G,this.editor.getOption(131),z):N(this.providers,K,U,G,this.editor.getOption(131))}_beginRenderDecorations(){const K=new Date().getTime(),U=this.lastCursorPositionChangeTime+250;K>=U?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},U-K)}renderDecorations(){var K,U,G;this.renderDecorationsTimer=-1;const z=this.codeEditorService.listCodeEditors();for(const $ of z){const J=M.get($);if(!J)continue;const ee=[],Z=(K=$.getModel())===null||K===void 0?void 0:K.uri;if(Z&&this.workerRequestValue.has(Z)){const x=a.storedDecorations.get(Z),Y=this.workerRequestValue.get(Z);if(Y)for(const ue of Y)ue.range&&ee.push({range:ue.range,options:(0,g.getHighlightDecorationOptions)(ue.kind)});let ae=[];$.changeDecorations(ue=>{ae=ue.deltaDecorations(x??[],ee)}),a.storedDecorations=a.storedDecorations.set(Z,ae),ee.length>0&&((U=J.wordHighlighter)===null||U===void 0||U.decorations.set(ee),(G=J.wordHighlighter)===null||G===void 0||G._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};R.storedDecorations=new d.ResourceMap,R.query=null,R=a=ke([ge(4,o.ICodeEditorService)],R);let M=v=class extends w.Disposable{static get(K){return K.getContribution(v.ID)}constructor(K,U,G,z){super(),this._wordHighlighter=null;const $=()=>{K.hasModel()&&!K.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new R(K,G.documentHighlightProvider,G.multiDocumentHighlightProvider,U,z))};this._register(K.onDidChangeModel(J=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),$()})),$()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var K;(K=this._wordHighlighter)===null||K===void 0||K.moveNext()}moveBack(){var K;(K=this._wordHighlighter)===null||K===void 0||K.moveBack()}restoreViewState(K){this._wordHighlighter&&K&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=M,M.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=M=v=ke([ge(1,l.IContextKeyService),ge(2,c.ILanguageFeaturesService),ge(3,o.ICodeEditorService)],M);class P extends C.EditorAction{constructor(K,U){super(U),this._isNext=K}run(K,U){const G=M.get(U);G&&(this._isNext?G.moveNext():G.moveBack())}}class F extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:f.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:h,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class O extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:f.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:h,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class B extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:f.localize(2,null),alias:"Trigger Symbol Highlight",precondition:h.toNegated(),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(K,U,G){const z=M.get(U);z&&z.restoreViewState(!0)}}(0,C.registerEditorContribution)(M.ID,M,0),(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(B)}),define(ne[979],se([1,0,6,168,34,183,2,55,5,37,516]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const C=new L.Color(new L.RGBA(0,122,204)),o={showArrow:!0,showFrame:!0,className:"",frameColor:C,arrowColor:C,keepEditorSelection:!1},n="vs.editor.contrib.zoneWidget";class i{constructor(l,r,d,u,a,v,h,p){this.id="",this.domNode=l,this.afterLineNumber=r,this.afterColumn=d,this.heightInLines=u,this.showInHiddenAreas=h,this.ordinal=p,this._onDomNodeTop=a,this._onComputedHeight=v}onDomNodeTop(l){this._onDomNodeTop(l)}onComputedHeight(l){this._onComputedHeight(l)}}class t{constructor(l,r){this._id=l,this._domNode=r}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=t;class s{constructor(l){this._editor=l,this._ruleName=s._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),f.removeCSSRulesContainingSelector(this._ruleName)}set color(l){this._color!==l&&(this._color=l,this._updateStyle())}set height(l){this._height!==l&&(this._height=l,this._updateStyle())}_updateStyle(){f.removeCSSRulesContainingSelector(this._ruleName),f.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(l){l.column===1&&(l={lineNumber:l.lineNumber,column:2}),this._decorations.set([{range:w.Range.fromPositions(l),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}s._IdGenerator=new D.IdGenerator(".arrow-decoration-");class c{constructor(l,r={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new y.DisposableStore,this.container=null,this._isShowing=!1,this.editor=l,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=m.deepClone(r),m.mixin(this.options,o,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(d=>{const u=this._getWidth(d);this.domNode.style.width=u+"px",this.domNode.style.left=this._getLeft(d)+"px",this._onWidth(u)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new s(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(l){l.frameColor&&(this.options.frameColor=l.frameColor),l.arrowColor&&(this.options.arrowColor=l.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const l=this.options.frameColor.toString();this.container.style.borderTopColor=l,this.container.style.borderBottomColor=l}if(this._arrow&&this.options.arrowColor){const l=this.options.arrowColor.toString();this._arrow.color=l}}_getWidth(l){return l.width-l.minimap.minimapWidth-l.verticalScrollbarWidth}_getLeft(l){return l.minimap.minimapWidth>0&&l.minimap.minimapLeft===0?l.minimap.minimapWidth:0}_onViewZoneTop(l){this.domNode.style.top=l+"px"}_onViewZoneHeight(l){var r;if(this.domNode.style.height=`${l}px`,this.container){const d=l-this._decoratingElementsHeight();this.container.style.height=`${d}px`;const u=this.editor.getLayoutInfo();this._doLayout(d,this._getWidth(u))}(r=this._resizeSash)===null||r===void 0||r.layout()}get position(){const l=this._positionMarkerId.getRange(0);if(l)return l.getStartPosition()}show(l,r){const d=w.Range.isIRange(l)?w.Range.lift(l):w.Range.fromPositions(l);this._isShowing=!0,this._showImpl(d,r),this._isShowing=!1,this._positionMarkerId.set([{range:d,options:b.ModelDecorationOptions.EMPTY}])}hide(){var l;this._viewZone&&(this.editor.changeViewZones(r=>{this._viewZone&&r.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(l=this._arrow)===null||l===void 0||l.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const l=this.editor.getOption(67);let r=0;if(this.options.showArrow){const d=Math.round(l/3);r+=2*d}if(this.options.showFrame){const d=Math.round(l/9);r+=2*d}return r}_showImpl(l,r){const d=l.getStartPosition(),u=this.editor.getLayoutInfo(),a=this._getWidth(u);this.domNode.style.width=`${a}px`,this.domNode.style.left=this._getLeft(u)+"px";const v=document.createElement("div");v.style.overflow="hidden";const h=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const I=Math.max(12,this.editor.getLayoutInfo().height/h*.8);r=Math.min(r,I)}let p=0,_=0;if(this._arrow&&this.options.showArrow&&(p=Math.round(h/3),this._arrow.height=p,this._arrow.show(d)),this.options.showFrame&&(_=Math.round(h/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new i(v,d.lineNumber,d.column,r,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new t(n+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:_;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const S=r*h-this._decoratingElementsHeight();this.container&&(this.container.style.top=p+"px",this.container.style.height=S+"px",this.container.style.overflow="hidden"),this._doLayout(S,a),this.options.keepEditorSelection||this.editor.setSelection(l);const E=this.editor.getModel();if(E){const I=E.validateRange(new w.Range(l.startLineNumber,1,l.endLineNumber+1,1));this.revealRange(I,I.startLineNumber===E.getLineCount())}}revealRange(l,r){r?this.editor.revealLineNearTop(l.endLineNumber,0):this.editor.revealRange(l,0)}setCssClass(l,r){this.container&&(r&&this.container.classList.remove(r),this.container.classList.add(l))}_onWidth(l){}_doLayout(l,r){}_relayout(l){this._viewZone&&this._viewZone.heightInLines!==l&&this.editor.changeViewZones(r=>{this._viewZone&&(this._viewZone.heightInLines=l,r.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let l;this._disposables.add(this._resizeSash.onDidStart(r=>{this._viewZone&&(l={startY:r.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{l=void 0})),this._disposables.add(this._resizeSash.onDidChange(r=>{if(l){const d=(r.currentY-l.startY)/this.editor.getOption(67),u=d<0?Math.ceil(d):Math.floor(d),a=l.heightInLines+u;a>5&&a<35&&this._relayout(a)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const l=this.editor.getLayoutInfo();return l.width-l.minimap.minimapWidth}}e.ZoneWidget=c}),define(ne[153],se([1,0,6,82,41,26,31,34,7,55,16,36,181,979,753,121,14,49,8,33,507]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.PeekContext=e.IPeekViewService=void 0,e.getOuterEditor=a,e.IPeekViewService=(0,l.createDecorator)("IPeekViewService"),(0,g.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,_){const S=this._widgets.get(p);S&&(S.listener.dispose(),S.widget.dispose());const E=()=>{const I=this._widgets.get(p);I&&I.widget===_&&(I.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:_,listener:_.onDidClose(E)})}},1);var d;(function(p){p.inPeekEditor=new c.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),p.notInPeekEditor=p.inPeekEditor.toNegated()})(d||(e.PeekContext=d={}));let u=class{constructor(_,S){_ instanceof n.EmbeddedCodeEditorWidget&&d.inPeekEditor.bindTo(S)}dispose(){}};u.ID="editor.contrib.referenceController",u=ke([ge(1,c.IContextKeyService)],u),(0,C.registerEditorContribution)(u.ID,u,0);function a(p){const _=p.get(o.ICodeEditorService).getFocusedCodeEditor();return _ instanceof n.EmbeddedCodeEditorWidget?_.getParentEditor():_}const v={headerBackgroundColor:m.Color.white,primaryHeadingColor:m.Color.fromHex("#333333"),secondaryHeadingColor:m.Color.fromHex("#6c6c6cb3")};let h=class extends i.ZoneWidget{constructor(_,S,E){super(_,S),this.instantiationService=E,this._onDidClose=new w.Emitter,this.onDidClose=this._onDidClose.event,b.mixin(this.options,v,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(_){const S=this.options;_.headerBackgroundColor&&(S.headerBackgroundColor=_.headerBackgroundColor),_.primaryHeadingColor&&(S.primaryHeadingColor=_.primaryHeadingColor),_.secondaryHeadingColor&&(S.secondaryHeadingColor=_.secondaryHeadingColor),super.style(_)}_applyStyles(){super._applyStyles();const _=this.options;this._headElement&&_.headerBackgroundColor&&(this._headElement.style.backgroundColor=_.headerBackgroundColor.toString()),this._primaryHeading&&_.primaryHeadingColor&&(this._primaryHeading.style.color=_.primaryHeadingColor.toString()),this._secondaryHeading&&_.secondaryHeadingColor&&(this._secondaryHeading.style.color=_.secondaryHeadingColor.toString()),this._bodyElement&&_.frameColor&&(this._bodyElement.style.borderColor=_.frameColor.toString())}_fillContainer(_){this.setCssClass("peekview-widget"),this._headElement=f.$(".head"),this._bodyElement=f.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),_.appendChild(this._headElement),_.appendChild(this._bodyElement)}_fillHead(_,S){this._titleElement=f.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),f.addStandardDisposableListener(this._titleElement,"click",T=>this._onTitleClick(T))),f.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=f.$("span.filename"),this._secondaryHeading=f.$("span.dirname"),this._metaHeading=f.$("span.meta"),f.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=f.$(".peekview-actions");f.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(E,I),this._disposables.add(this._actionbarWidget),S||this._actionbarWidget.push(new L.Action("peekview.close",t.localize(1,null),y.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(_){}_getActionBarOptions(){return{actionViewItemProvider:s.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(_){}setTitle(_,S){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=_,this._primaryHeading.setAttribute("title",_),S?this._secondaryHeading.innerText=S:f.clearNode(this._secondaryHeading))}setMetaTitle(_){this._metaHeading&&(_?(this._metaHeading.innerText=_,f.show(this._metaHeading)):f.hide(this._metaHeading))}_doLayout(_,S){if(!this._isShowing&&_<0){this.dispose();return}const E=Math.ceil(this.editor.getOption(67)*1.2),I=Math.round(_-(E+2));this._doLayoutHead(E,S),this._doLayoutBody(I,S)}_doLayoutHead(_,S){this._headElement&&(this._headElement.style.height=`${_}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(_,S){this._bodyElement&&(this._bodyElement.style.height=`${_}px`)}};e.PeekViewWidget=h,e.PeekViewWidget=h=ke([ge(2,l.IInstantiationService)],h),e.peekViewTitleBackground=(0,r.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(2,null)),e.peekViewTitleForeground=(0,r.registerColor)("peekViewTitleLabel.foreground",{dark:m.Color.white,light:m.Color.black,hcDark:m.Color.white,hcLight:r.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,r.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,r.registerColor)("peekView.border",{dark:r.editorInfoForeground,light:r.editorInfoForeground,hcDark:r.contrastBorder,hcLight:r.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,r.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,r.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:m.Color.white,hcLight:r.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,r.registerColor)("peekViewResult.fileForeground",{dark:m.Color.white,light:"#1E1E1E",hcDark:m.Color.white,hcLight:r.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,r.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,r.registerColor)("peekViewResult.selectionForeground",{dark:m.Color.white,light:"#6C6C6C",hcDark:m.Color.white,hcLight:r.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,r.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,r.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,r.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(13,null)),e.peekViewResultsMatchHighlight=(0,r.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlight=(0,r.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,r.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:r.activeContrastBorder,hcLight:r.activeContrastBorder},t.localize(16,null))}),define(ne[980],se([1,0,6,81,13,34,7,2,51,11,5,153,723,121,29,14,8,177,104,64,862,33,23,494]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class h{constructor(O,B,V,K,U){this._openerService=K,this._labelService=U,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new m.DisposableStore,this._editor=B;const G=document.createElement("div");G.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),G.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),G.appendChild(this._relatedBlock),this._disposables.add(f.addStandardDisposableListener(this._relatedBlock,"click",z=>{z.preventDefault();const $=this._relatedDiagnostics.get(z.target);$&&V($)})),this._scrollable=new k.ScrollableElement(G,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),O.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(z=>{G.style.left=`-${z.scrollLeft}px`,G.style.top=`-${z.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,m.dispose)(this._disposables)}update(O){const{source:B,message:V,relatedInformation:K,code:U}=O;let G=(B?.length||0)+2;U&&(typeof U=="string"?G+=U.length:G+=U.value.length);const z=(0,b.splitLines)(V);this._lines=z.length,this._longestLineLength=0;for(const x of z)this._longestLineLength=Math.max(x.length+G,this._longestLineLength);f.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(O)),this._editor.applyFontInfo(this._messageBlock);let $=this._messageBlock;for(const x of z)$=document.createElement("div"),$.innerText=x,x===""&&($.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild($);if(B||U){const x=document.createElement("span");if(x.classList.add("details"),$.appendChild(x),B){const Y=document.createElement("span");Y.innerText=B,Y.classList.add("source"),x.appendChild(Y)}if(U)if(typeof U=="string"){const Y=document.createElement("span");Y.innerText=`(${U})`,Y.classList.add("code"),x.appendChild(Y)}else{this._codeLink=f.$("a.code-link"),this._codeLink.setAttribute("href",`${U.target.toString()}`),this._codeLink.onclick=ae=>{this._openerService.open(U.target,{allowCommands:!0}),ae.preventDefault(),ae.stopPropagation()};const Y=f.append(this._codeLink,f.$("span"));Y.innerText=U.value,x.appendChild(this._codeLink)}}if(f.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,L.isNonEmptyArray)(K)){const x=this._relatedBlock.appendChild(document.createElement("div"));x.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const Y of K){const ae=document.createElement("div"),ue=document.createElement("a");ue.classList.add("filename"),ue.innerText=`${this._labelService.getUriBasenameLabel(Y.resource)}(${Y.startLineNumber}, ${Y.startColumn}): `,ue.title=this._labelService.getUriLabel(Y.resource),this._relatedDiagnostics.set(ue,Y);const he=document.createElement("span");he.innerText=Y.message,ae.appendChild(ue),ae.appendChild(he),this._lines+=1,x.appendChild(ae)}}const J=this._editor.getOption(50),ee=Math.ceil(J.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Z=J.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:ee,scrollHeight:Z})}layout(O,B){this._scrollable.getDomNode().style.height=`${O}px`,this._scrollable.getDomNode().style.width=`${B}px`,this._scrollable.setScrollDimensions({width:B,height:O})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(O){let B="";switch(O.severity){case l.MarkerSeverity.Error:B=n.localize(0,null);break;case l.MarkerSeverity.Warning:B=n.localize(1,null);break;case l.MarkerSeverity.Info:B=n.localize(2,null);break;case l.MarkerSeverity.Hint:B=n.localize(3,null);break}let V=n.localize(4,null,B,O.startLineNumber+":"+O.startColumn);const K=this._editor.getModel();return K&&O.startLineNumber<=K.getLineCount()&&O.startLineNumber>=1&&(V=`${K.getLineContent(O.startLineNumber)}, ${V}`),V}}let p=v=class extends o.PeekViewWidget{constructor(O,B,V,K,U,G,z){super(O,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},U),this._themeService=B,this._openerService=V,this._menuService=K,this._contextKeyService=G,this._labelService=z,this._callOnDispose=new m.DisposableStore,this._onDidSelectRelatedInformation=new y.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=l.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(B.getColorTheme()),this._callOnDispose.add(B.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(O){this._backgroundColor=O.getColor(P);let B=I,V=T;this._severity===l.MarkerSeverity.Warning?(B=N,V=A):this._severity===l.MarkerSeverity.Info&&(B=R,V=M);const K=O.getColor(B),U=O.getColor(V);this.style({arrowColor:K,frameColor:K,headerBackgroundColor:U,primaryHeadingColor:O.getColor(o.peekViewTitleForeground),secondaryHeadingColor:O.getColor(o.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(O){super._fillHead(O),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(K=>this.editor.focus()));const B=[],V=this._menuService.createMenu(v.TitleMenu,this._contextKeyService);(0,i.createAndFillInActionBarActions)(V,void 0,B),this._actionbarWidget.push(B,{label:!1,icon:!0,index:0}),V.dispose()}_fillTitleIcon(O){this._icon=f.append(O,f.$(""))}_fillBody(O){this._parentContainer=O,O.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),O.appendChild(this._container),this._message=new h(this._container,this.editor,B=>this._onDidSelectRelatedInformation.fire(B),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(O,B,V){this._container.classList.remove("stale"),this._message.update(O),this._severity=O.severity,this._applyTheme(this._themeService.getColorTheme());const K=C.Range.lift(O),U=this.editor.getPosition(),G=U&&K.containsPosition(U)?U:K.getStartPosition();super.show(G,this.computeRequiredHeight());const z=this.editor.getModel();if(z){const $=V>1?n.localize(5,null,B,V):n.localize(6,null,B,V);this.setTitle((0,w.basename)(z.uri),$)}this._icon.className=`codicon ${d.SeverityIcon.className(l.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(G,0),this.editor.focus()}updateMarker(O){this._container.classList.remove("stale"),this._message.update(O)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(O,B){super._doLayoutBody(O,B),this._heightInPixel=O,this._message.layout(O,B),this._container.style.height=`${O}px`}_onWidth(O){this._message.layout(this._heightInPixel,O)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=p,p.TitleMenu=new t.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=p=v=ke([ge(1,a.IThemeService),ge(2,r.IOpenerService),ge(3,t.IMenuService),ge(4,c.IInstantiationService),ge(5,s.IContextKeyService),ge(6,g.ILabelService)],p);const _=(0,u.oneOf)(u.editorErrorForeground,u.editorErrorBorder),S=(0,u.oneOf)(u.editorWarningForeground,u.editorWarningBorder),E=(0,u.oneOf)(u.editorInfoForeground,u.editorInfoBorder),I=(0,u.registerColor)("editorMarkerNavigationError.background",{dark:_,light:_,hcDark:u.contrastBorder,hcLight:u.contrastBorder},n.localize(7,null)),T=(0,u.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,u.transparent)(I,.1),light:(0,u.transparent)(I,.1),hcDark:null,hcLight:null},n.localize(8,null)),N=(0,u.registerColor)("editorMarkerNavigationWarning.background",{dark:S,light:S,hcDark:u.contrastBorder,hcLight:u.contrastBorder},n.localize(9,null)),A=(0,u.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,u.transparent)(N,.1),light:(0,u.transparent)(N,.1),hcDark:"#0C141F",hcLight:(0,u.transparent)(N,.2)},n.localize(10,null)),R=(0,u.registerColor)("editorMarkerNavigationInfo.background",{dark:E,light:E,hcDark:u.contrastBorder,hcLight:u.contrastBorder},n.localize(11,null)),M=(0,u.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,u.transparent)(R,.1),light:(0,u.transparent)(R,.1),hcDark:null,hcLight:null},n.localize(12,null)),P=(0,u.registerColor)("editorMarkerNavigation.background",{dark:u.editorBackground,light:u.editorBackground,hcDark:u.editorBackground,hcLight:u.editorBackground},n.localize(13,null))}),define(ne[413],se([1,0,26,2,16,36,10,5,21,838,722,29,14,8,76,980]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let g=c=class{static get(_){return _.getContribution(c.ID)}constructor(_,S,E,I,T){this._markerNavigationService=S,this._contextKeyService=E,this._editorService=I,this._instantiationService=T,this._sessionDispoables=new k.DisposableStore,this._editor=_,this._widgetVisible=v.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(_){if(this._model&&this._model.matches(_))return this._model;let S=!1;return this._model&&(S=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(_),S&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(s.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(E=>{var I,T,N;(!(!((I=this._model)===null||I===void 0)&&I.selected)||!m.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,E.position))&&((N=this._model)===null||N===void 0||N.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const E=this._model.find(this._editor.getModel().uri,this._widget.position);E?this._widget.updateMarker(E.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(E=>{this._editorService.openCodeEditor({resource:E.resource,options:{pinned:!0,revealIfOpened:!0,selection:m.Range.lift(E).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(_=!0){this._cleanUp(),_&&this._editor.focus()}showAtMarker(_){if(this._editor.hasModel()){const S=this._getOrCreateModel(this._editor.getModel().uri);S.resetIndex(),S.move(!0,this._editor.getModel(),new y.Position(_.startLineNumber,_.startColumn)),S.selected&&this._widget.showAtMarker(S.selected.marker,S.selected.index,S.selected.total)}}async nagivate(_,S){var E,I;if(this._editor.hasModel()){const T=this._getOrCreateModel(S?void 0:this._editor.getModel().uri);if(T.move(_,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=await this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);N&&((E=c.get(N))===null||E===void 0||E.close(),(I=c.get(N))===null||I===void 0||I.nagivate(_,S))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}}};e.MarkerController=g,g.ID="editor.contrib.markerController",e.MarkerController=g=c=ke([ge(1,b.IMarkerNavigationService),ge(2,n.IContextKeyService),ge(3,D.ICodeEditorService),ge(4,i.IInstantiationService)],g);class l extends L.EditorAction{constructor(_,S,E){super(E),this._next=_,this._multiFile=S}async run(_,S){var E;S.hasModel()&&((E=g.get(S))===null||E===void 0||E.nagivate(this._next,this._multiFile))}}class r extends l{constructor(){super(!0,!1,{id:r.ID,label:r.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:s.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,t.registerIcon)("marker-navigation-next",f.Codicon.arrowDown,C.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=r,r.ID="editor.action.marker.next",r.LABEL=C.localize(0,null);class d extends l{constructor(){super(!1,!1,{id:d.ID,label:d.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:s.MarkerNavigationWidget.TitleMenu,title:d.LABEL,icon:(0,t.registerIcon)("marker-navigation-previous",f.Codicon.arrowUp,C.localize(3,null)),group:"navigation",order:2}})}}d.ID="editor.action.marker.prev",d.LABEL=C.localize(2,null);class u extends l{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:C.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,title:C.localize(5,null),group:"6_problem_nav",order:1}})}}class a extends l{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:C.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,title:C.localize(7,null),group:"6_problem_nav",order:2}})}}(0,L.registerEditorContribution)(g.ID,g,4),(0,L.registerEditorAction)(r),(0,L.registerEditorAction)(d),(0,L.registerEditorAction)(u),(0,L.registerEditorAction)(a);const v=new n.RawContextKey("markersNavigationVisible",!1),h=L.EditorCommand.bindToContribution(g.get);(0,L.registerEditorCommand)(new h({id:"closeMarkersNavigation",precondition:v,handler:p=>p.close(),kbOpts:{weight:150,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(ne[981],se([1,0,6,347,34,7,2,47,51,181,5,37,35,85,43,75,898,153,728,8,32,177,210,23,213,173,496]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(N,A){this._editor=N,this._model=A,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new y.DisposableStore,this._callOnModelChange=new y.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(N){for(const A of this._model.references)if(A.uri.toString()===N.uri.toString()){this._addDecorations(A.parent);return}}}_addDecorations(N){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const A=[],R=[];for(let M=0,P=N.children.length;M<P;M++){const F=N.children[M];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(A.push({range:F.range,options:_.DecorationOptions}),R.push(M))}this._editor.changeDecorations(M=>{const P=M.deltaDecorations([],A);for(let F=0;F<P.length;F++)this._decorations.set(P[F],N.children[R[F]])})}_onDecorationChanged(){const N=[],A=this._editor.getModel();if(A){for(const[R,M]of this._decorations){const P=A.getDecorationRange(R);if(!P)continue;let F=!1;if(!C.Range.equalsRange(P,M.range)){if(C.Range.spansMultipleLines(P))F=!0;else{const O=M.range.endColumn-M.range.startColumn,B=P.endColumn-P.startColumn;O!==B&&(F=!0)}F?(this._decorationIgnoreSet.add(M.id),N.push(R)):M.range=P}}for(let R=0,M=N.length;R<M;R++)this._decorations.delete(N[R]);this._editor.removeDecorations(N)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}_.DecorationOptions=o.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class S{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let A,R;try{const M=JSON.parse(N);A=M.ratio,R=M.heightInLines}catch{}return{ratio:A||.7,heightInLines:R||18}}}e.LayoutData=S;class E extends a.WorkbenchAsyncDataTree{}let I=class extends g.PeekViewWidget{constructor(N,A,R,M,P,F,O,B,V,K,U,G){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},F),this._defaultTreeKeyboardSupport=A,this.layoutData=R,this._textModelResolverService=P,this._instantiationService=F,this._peekViewService=O,this._uriLabel=B,this._undoRedoService=V,this._keybindingService=K,this._languageService=U,this._languageConfigurationService=G,this._disposeOnNewModel=new y.DisposableStore,this._callOnDispose=new y.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new f.Dimension(0,0),this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,y.dispose)(this._preview),(0,y.dispose)(this._previewNotAvailableMessage),(0,y.dispose)(this._tree),(0,y.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const A=N.getColor(g.peekViewBorder)||L.Color.transparent;this.style({arrowColor:A,frameColor:A,headerBackgroundColor:N.getColor(g.peekViewTitleBackground)||L.Color.transparent,primaryHeadingColor:N.getColor(g.peekViewTitleForeground),secondaryHeadingColor:N.getColor(g.peekViewTitleInfoForeground)})}show(N){super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=f.append(N,f.$("div.messages")),f.hide(this._messageContainer),this._splitView=new k.SplitView(N,{orientation:1}),this._previewContainer=f.append(N,f.$("div.preview.inline"));const A={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(b.EmbeddedCodeEditorWidget,this._previewContainer,A,{},this.editor),f.hide(this._previewContainer),this._previewNotAvailableMessage=new o.TextModel(l.localize(0,null),i.PLAINTEXT_LANGUAGE_ID,o.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=f.append(N,f.$("div.ref-tree.inline"));const R={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new c.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(c.StringRepresentationProvider),identityProvider:new c.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:g.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(f.addStandardDisposableListener(this._treeContainer,"keydown",P=>{P.equals(9)&&(this._keybindingService.dispatchEvent(P,P.target),P.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new c.Delegate,[this._instantiationService.createInstance(c.FileReferencesRenderer),this._instantiationService.createInstance(c.OneReferenceRenderer)],this._instantiationService.createInstance(c.DataSource),R),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:P=>{this._preview.layout({height:this._dim.height,width:P})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:P=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${P}px`,this._tree.layout(this._dim.height,P)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const M=(P,F)=>{P instanceof p.OneReference&&(F==="show"&&this._revealReference(P,!1),this._onDidSelectReference.fire({element:P,kind:F,source:"tree"}))};this._tree.onDidOpen(P=>{P.sideBySide?M(P.element,"side"):P.editorOptions.pinned?M(P.element,"goto"):M(P.element,"show")}),f.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,A){super._doLayoutBody(N,A),this._dim=new f.Dimension(A,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(A),this._splitView.resizeView(0,A*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{this._model&&(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=l.localize(1,null),f.show(this._messageContainer),Promise.resolve(void 0)):(f.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:A,target:R}=N;if(A.detail!==2)return;const M=this._getFocusedReference();M&&this._onDidSelectReference.fire({element:{uri:M.uri,range:R.range},kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),f.show(this._treeContainer),f.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof p.OneReference)return N;if(N instanceof p.FileReferences&&N.children.length>0)return N.children[0]}async revealReference(N){await this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})}async _revealReference(N,A){if(this._revealedReference===N)return;this._revealedReference=N,N.uri.scheme!==m.Schemas.inMemory?this.setTitle((0,w.basenameOrAuthority)(N.uri),this._uriLabel.getUriLabel((0,w.dirname)(N.uri))):this.setTitle(l.localize(2,null));const R=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(A&&this._tree.reveal(N.parent),await this._tree.expand(N.parent),this._tree.reveal(N));const M=await R;if(!this._model){M.dispose();return}(0,y.dispose)(this._previewModelReference);const P=M.object;if(P){const F=this._preview.getModel()===P.textEditorModel?0:1,O=C.Range.lift(N.range).collapseToStart();this._previewModelReference=M,this._preview.setModel(P.textEditorModel),this._preview.setSelection(O),this._preview.revealRangeInCenter(O,F)}else this._preview.setModel(this._previewNotAvailableMessage),M.dispose()}};e.ReferenceWidget=I,e.ReferenceWidget=I=ke([ge(3,v.IThemeService),ge(4,s.ITextModelService),ge(5,r.IInstantiationService),ge(6,g.IPeekViewService),ge(7,u.ILabelService),ge(8,h.IUndoRedoService),ge(9,d.IKeybindingService),ge(10,t.ILanguageService),ge(11,n.ILanguageConfigurationService)],I)}),define(ne[414],se([1,0,15,9,70,2,36,10,5,153,726,25,28,14,8,118,210,50,99,173,981,21,174]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new i.RawContextKey("referenceSearchVisible",!1,C.localize(0,null));let h=v=class{static get(S){return S.getContribution(v.ID)}constructor(S,E,I,T,N,A,R,M){this._defaultTreeKeyboardSupport=S,this._editor=E,this._editorService=T,this._notificationService=N,this._instantiationService=A,this._storageService=R,this._configurationService=M,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(I)}dispose(){var S,E;this._referenceSearchVisible.reset(),this._disposables.dispose(),(S=this._widget)===null||S===void 0||S.dispose(),(E=this._model)===null||E===void 0||E.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(S,E,I){let T;if(this._widget&&(T=this._widget.position),this.closeWidget(),T&&S.containsPosition(T))return;this._peekMode=I,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const N="peekViewLayout",A=d.LayoutData.fromJSON(this._storageService.get(N,0,"{}"));this._widget=this._instantiationService.createInstance(d.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,A),this._widget.setTitle(C.localize(1,null)),this._widget.show(S),this._disposables.add(this._widget.onDidClose(()=>{E.cancel(),this._widget&&(this._storageService.store(N,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(M=>{const{element:P,kind:F}=M;if(P)switch(F){case"open":(M.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":I?this._gotoReference(P,!0):this.openReference(P,!1,!0);break}}));const R=++this._requestIdPool;E.then(M=>{var P;if(R!==this._requestIdPool||!this._widget){M.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=M,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(C.localize(2,null,this._model.title,this._model.references.length));const F=this._editor.getModel().uri,O=new m.Position(S.startLineNumber,S.startColumn),B=this._model.nearestReference(F,O);if(B)return this._widget.setSelection(B).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},M=>{this._notificationService.error(M)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(S){if(!this._editor.hasModel()||!this._model||!this._widget)return;const E=this._widget.position;if(!E)return;const I=this._model.nearestReference(this._editor.getModel().uri,E);if(!I)return;const T=this._model.nextOrPreviousReference(I,S),N=this._editor.hasTextFocus(),A=this._widget.isPreviewEditorFocused();await this._widget.setSelection(T),await this._gotoReference(T,!1),N?this._editor.focus():this._widget&&A&&this._widget.focusOnPreviewEditor()}async revealReference(S){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(S)}closeWidget(S=!0){var E,I;(E=this._widget)===null||E===void 0||E.dispose(),(I=this._model)===null||I===void 0||I.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,S&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(S,E){var I;(I=this._widget)===null||I===void 0||I.hide(),this._ignoreModelChangeEvent=!0;const T=w.Range.lift(S.range).collapseToStart();return this._editorService.openCodeEditor({resource:S.uri,options:{selection:T,selectionSource:"code.jump",pinned:E}},this._editor).then(N=>{var A;if(this._ignoreModelChangeEvent=!1,!N||!this._widget){this.closeWidget();return}if(this._editor===N)this._widget.show(T),this._widget.focusOnReferenceTree();else{const R=v.get(N),M=this._model.clone();this.closeWidget(),N.focus(),R?.toggleWidget(T,(0,f.createCancelablePromise)(P=>Promise.resolve(M)),(A=this._peekMode)!==null&&A!==void 0?A:!1)}},N=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(N)})}openReference(S,E,I){E||this.closeWidget();const{uri:T,range:N}=S;this._editorService.openCodeEditor({resource:T,options:{selection:N,selectionSource:"code.jump",pinned:I}},this._editor,E)}};e.ReferencesController=h,h.ID="editor.contrib.referencesController",e.ReferencesController=h=v=ke([ge(2,i.IContextKeyService),ge(3,y.ICodeEditorService),ge(4,g.INotificationService),ge(5,t.IInstantiationService),ge(6,l.IStorageService),ge(7,n.IConfigurationService)],h);function p(_,S){const E=(0,b.getOuterEditor)(_);if(!E)return;const I=h.get(E);I&&S(I)}s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,L.KeyChord)(2089,60),when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(_){p(_,S=>{S.changeFocusBetweenPreviewAndReferences()})}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(_){p(_,S=>{S.goToNextOrPreviousReference(!0)})}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(_){p(_,S=>{S.goToNextOrPreviousReference(!1)})}}),o.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),o.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),o.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),o.CommandsRegistry.registerCommand("closeReferenceSearch",_=>p(_,S=>S.closeWidget())),s.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(b.PeekContext.inPeekEditor,i.ContextKeyExpr.not("config.editor.stablePeek"))}),s.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.ContextKeyExpr.not("config.editor.stablePeek"),i.ContextKeyExpr.or(u.EditorContextKeys.editorTextFocus,a.InputFocusedContext.negate()))}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(_){var S;const I=(S=_.get(c.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof r.OneReference&&p(_,T=>T.revealReference(I[0]))}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(_){var S;const I=(S=_.get(c.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof r.OneReference&&p(_,T=>T.openReference(I[0],!0,!0))}}),o.CommandsRegistry.registerCommand("openReference",_=>{var S;const I=(S=_.get(c.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof r.OneReference&&p(_,T=>T.openReference(I[0],!1,!0))})}),define(ne[284],se([1,0,48,15,70,20,22,119,164,16,36,181,10,5,21,27,414,173,876,179,153,724,29,25,14,8,50,93,272,18,54,174]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N){"use strict";var A,R,M,P,F,O,B,V;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,{submenu:a.MenuId.EditorContextPeek,title:u.localize(0,null),group:"navigation",order:100});class K{static is(Y){return!Y||typeof Y!="object"?!1:!!(Y instanceof K||n.Position.isIPosition(Y.position)&&Y.model)}constructor(Y,ae){this.model=Y,this.position=ae}}e.SymbolNavigationAnchor=K;class U extends b.EditorAction2{static all(){return U._allSymbolNavigationCommands.values()}static _patchConfig(Y){const ae={...Y,f1:!0};if(ae.menu)for(const ue of T.Iterable.wrap(ae.menu))(ue.id===a.MenuId.EditorContext||ue.id===a.MenuId.EditorContextPeek)&&(ue.when=h.ContextKeyExpr.and(Y.precondition,ue.when));return ae}constructor(Y,ae){super(U._patchConfig(ae)),this.configuration=Y,U._allSymbolNavigationCommands.set(ae.id,this)}runEditorCommand(Y,ae,ue,he){if(!ae.hasModel())return Promise.resolve(void 0);const pe=Y.get(_.INotificationService),ce=Y.get(C.ICodeEditorService),ie=Y.get(S.IEditorProgressService),oe=Y.get(l.ISymbolNavigationService),re=Y.get(I.ILanguageFeaturesService),W=Y.get(p.IInstantiationService),q=ae.getModel(),H=ae.getPosition(),j=K.is(ue)?ue:new K(q,H),Q=new m.EditorStateCancellationTokenSource(ae,5),te=(0,k.raceCancellation)(this._getLocationModel(re,j.model,j.position,Q.token),Q.token).then(async le=>{var de;if(!le||Q.token.isCancellationRequested)return;(0,f.alert)(le.ariaMessage);let me;if(le.referenceAt(q.uri,H)){const Ce=this._getAlternativeCommand(ae);!U._activeAlternativeCommands.has(Ce)&&U._allSymbolNavigationCommands.has(Ce)&&(me=U._allSymbolNavigationCommands.get(Ce))}const ve=le.references.length;if(ve===0){if(!this.configuration.muteMessage){const Ce=q.getWordAtPosition(H);(de=r.MessageController.get(ae))===null||de===void 0||de.showMessage(this._getNoResultFoundMessage(Ce),H)}}else if(ve===1&&me)U._activeAlternativeCommands.add(this.desc.id),W.invokeFunction(Ce=>me.runEditorCommand(Ce,ae,ue,he).finally(()=>{U._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(ce,oe,ae,le,he)},le=>{pe.error(le)}).finally(()=>{Q.dispose()});return ie.showWhile(te,250),te}async _onResult(Y,ae,ue,he,pe){const ce=this._getGoToPreference(ue);if(!(ue instanceof o.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||ce==="peek"&&he.references.length>1))this._openInPeek(ue,he,pe);else{const ie=he.firstReference(),oe=he.references.length>1&&ce==="gotoAndPeek",re=await this._openReference(ue,Y,ie,this.configuration.openToSide,!oe);oe&&re?this._openInPeek(re,he,pe):he.dispose(),ce==="goto"&&ae.put(ie)}}async _openReference(Y,ae,ue,he,pe){let ce;if((0,s.isLocationLink)(ue)&&(ce=ue.targetSelectionRange),ce||(ce=ue.range),!ce)return;const ie=await ae.openCodeEditor({resource:ue.uri,options:{selection:i.Range.collapseToStart(ce),selectionRevealType:3,selectionSource:"code.jump"}},Y,he);if(ie){if(pe){const oe=ie.getModel(),re=ie.createDecorationsCollection([{range:ce,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{ie.getModel()===oe&&re.clear()},350)}return ie}}_openInPeek(Y,ae,ue){const he=c.ReferencesController.get(Y);he&&Y.hasModel()?he.toggleWidget(ue??Y.getSelection(),(0,k.createCancelablePromise)(pe=>Promise.resolve(ae)),this.configuration.openInPeek):ae.dispose()}}e.SymbolNavigationAction=U,U._allSymbolNavigationCommands=new Map,U._activeAlternativeCommands=new Set;class G extends U{async _getLocationModel(Y,ae,ue,he){return new g.ReferencesModel(await(0,E.getDefinitionsAtPosition)(Y.definitionProvider,ae,ue,he),u.localize(1,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?u.localize(2,null,Y.word):u.localize(3,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeDefinitionCommand}_getGoToPreference(Y){return Y.getOption(58).multipleDefinitions}}e.DefinitionAction=G,(0,a.registerAction2)((A=class extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:A.id,title:{...u.localize2(27,"Go to Definition"),mnemonicTitle:u.localize(4,null)},precondition:t.EditorContextKeys.hasDefinitionProvider,keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:h.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:2118,weight:100}],menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.1},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),v.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",A.id)}},A.id="editor.action.revealDefinition",A)),(0,a.registerAction2)((R=class extends G{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:R.id,title:u.localize2(28,"Open Definition to the Side"),precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,70),weight:100},{when:h.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:(0,L.KeyChord)(2089,2118),weight:100}]}),v.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",R.id)}},R.id="editor.action.revealDefinitionAside",R)),(0,a.registerAction2)((M=class extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:M.id,title:u.localize2(29,"Peek Definition"),precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,d.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:2}}),v.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",M.id)}},M.id="editor.action.peekDefinition",M));class z extends U{async _getLocationModel(Y,ae,ue,he){return new g.ReferencesModel(await(0,E.getDeclarationsAtPosition)(Y.declarationProvider,ae,ue,he),u.localize(5,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?u.localize(6,null,Y.word):u.localize(7,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeDeclarationCommand}_getGoToPreference(Y){return Y.getOption(58).multipleDeclarations}}(0,a.registerAction2)((P=class extends z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:P.id,title:{...u.localize2(30,"Go to Declaration"),mnemonicTitle:u.localize(8,null)},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.3},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Y){return Y&&Y.word?u.localize(9,null,Y.word):u.localize(10,null)}},P.id="editor.action.revealDeclaration",P)),(0,a.registerAction2)(class extends z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:u.localize2(31,"Peek Declaration"),precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,d.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:3}})}});class $ extends U{async _getLocationModel(Y,ae,ue,he){return new g.ReferencesModel(await(0,E.getTypeDefinitionsAtPosition)(Y.typeDefinitionProvider,ae,ue,he),u.localize(11,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?u.localize(12,null,Y.word):u.localize(13,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(Y){return Y.getOption(58).multipleTypeDefinitions}}(0,a.registerAction2)((F=class extends ${constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:F.ID,title:{...u.localize2(32,"Go to Type Definition"),mnemonicTitle:u.localize(14,null)},precondition:t.EditorContextKeys.hasTypeDefinitionProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.4},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},F.ID="editor.action.goToTypeDefinition",F)),(0,a.registerAction2)((O=class extends ${constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:O.ID,title:u.localize2(33,"Peek Type Definition"),precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,d.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class J extends U{async _getLocationModel(Y,ae,ue,he){return new g.ReferencesModel(await(0,E.getImplementationsAtPosition)(Y.implementationProvider,ae,ue,he),u.localize(15,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?u.localize(16,null,Y.word):u.localize(17,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeImplementationCommand}_getGoToPreference(Y){return Y.getOption(58).multipleImplementations}}(0,a.registerAction2)((B=class extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:B.ID,title:{...u.localize2(34,"Go to Implementations"),mnemonicTitle:u.localize(18,null)},precondition:t.EditorContextKeys.hasImplementationProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.45},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},B.ID="editor.action.goToImplementation",B)),(0,a.registerAction2)((V=class extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:V.ID,title:u.localize2(35,"Peek Implementations"),precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,d.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:5}})}},V.ID="editor.action.peekImplementation",V));class ee extends U{_getNoResultFoundMessage(Y){return Y?u.localize(19,null,Y.word):u.localize(20,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeReferenceCommand}_getGoToPreference(Y){return Y.getOption(58).multipleReferences}}(0,a.registerAction2)(class extends ee{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...u.localize2(36,"Go to References"),mnemonicTitle:u.localize(21,null)},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,d.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.45},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(Y,ae,ue,he){return new g.ReferencesModel(await(0,E.getReferencesAtPosition)(Y.referenceProvider,ae,ue,!0,he),u.localize(22,null))}}),(0,a.registerAction2)(class extends ee{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:u.localize2(37,"Peek References"),precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,d.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(Y,ae,ue,he){return new g.ReferencesModel(await(0,E.getReferencesAtPosition)(Y.referenceProvider,ae,ue,!1,he),u.localize(23,null))}});class Z extends U{constructor(Y,ae,ue){super(Y,{id:"editor.action.goToLocation",title:u.localize2(38,"Go to Any Symbol"),precondition:h.ContextKeyExpr.and(d.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated())}),this._references=ae,this._gotoMultipleBehaviour=ue}async _getLocationModel(Y,ae,ue,he){return new g.ReferencesModel(this._references,u.localize(24,null))}_getNoResultFoundMessage(Y){return Y&&u.localize(25,null,Y.word)||""}_getGoToPreference(Y){var ae;return(ae=this._gotoMultipleBehaviour)!==null&&ae!==void 0?ae:Y.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}v.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:n.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(x,Y,ae,ue,he,pe,ce)=>{(0,D.assertType)(y.URI.isUri(Y)),(0,D.assertType)(n.Position.isIPosition(ae)),(0,D.assertType)(Array.isArray(ue)),(0,D.assertType)(typeof he>"u"||typeof he=="string"),(0,D.assertType)(typeof ce>"u"||typeof ce=="boolean");const ie=x.get(C.ICodeEditorService),oe=await ie.openCodeEditor({resource:Y},ie.getFocusedCodeEditor());if((0,w.isCodeEditor)(oe))return oe.setPosition(ae),oe.revealPositionInCenterIfOutsideViewport(ae,0),oe.invokeWithinContext(re=>{const W=new class extends Z{_getNoResultFoundMessage(q){return pe||super._getNoResultFoundMessage(q)}}({muteMessage:!pe,openInPeek:!!ce,openToSide:!1},ue,he);re.get(p.IInstantiationService).invokeFunction(W.run.bind(W),oe)})}}),v.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:n.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(x,Y,ae,ue,he)=>{x.get(v.ICommandService).executeCommand("editor.action.goToLocations",Y,ae,ue,he,void 0,!0)}}),v.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(x,Y,ae)=>{(0,D.assertType)(y.URI.isUri(Y)),(0,D.assertType)(n.Position.isIPosition(ae));const ue=x.get(I.ILanguageFeaturesService),he=x.get(C.ICodeEditorService);return he.openCodeEditor({resource:Y},he.getFocusedCodeEditor()).then(pe=>{if(!(0,w.isCodeEditor)(pe)||!pe.hasModel())return;const ce=c.ReferencesController.get(pe);if(!ce)return;const ie=(0,k.createCancelablePromise)(re=>(0,E.getReferencesAtPosition)(ue.referenceProvider,pe.getModel(),n.Position.lift(ae),!1,re).then(W=>new g.ReferencesModel(W,u.localize(26,null)))),oe=new i.Range(ae.lineNumber,ae.column,ae.lineNumber,ae.column);return Promise.resolve(ce.toggleWidget(oe,ie,!1))})}}),v.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ne[415],se([1,0,15,9,57,2,119,16,5,43,75,204,153,725,14,284,272,18,37,495]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let d=r=class{constructor(a,v,h,p){this.textModelResolverService=v,this.languageService=h,this.languageFeaturesService=p,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=a,this.linkDecorations=this.editor.createDecorationsCollection();const _=new o.ClickLinkGesture(a);this.toUnhook.add(_),this.toUnhook.add(_.onMouseMoveOrRelevantKeyDown(([S,E])=>{this.startFindDefinitionFromMouse(S,E??void 0)})),this.toUnhook.add(_.onExecute(S=>{this.isEnabled(S)&&this.gotoDefinition(S.target.position,S.hasSideBySideModifier).catch(E=>{(0,k.onUnexpectedError)(E)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(_.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(a){return a.getContribution(r.ID)}async startFindDefinitionFromCursor(a){await this.startFindDefinition(a),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(v=>{v&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(a,v){if(a.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(a,v)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const h=a.target.position;this.startFindDefinition(h)}async startFindDefinition(a){var v;this.toUnhookForKeyboard.clear();const h=a?(v=this.editor.getModel())===null||v===void 0?void 0:v.getWordAtPosition(a):null;if(!h){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===h.startColumn&&this.currentWordAtPosition.endColumn===h.endColumn&&this.currentWordAtPosition.word===h.word)return;this.currentWordAtPosition=h;const p=new y.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,f.createCancelablePromise)(E=>this.findDefinition(a,E));let _;try{_=await this.previousPromise}catch(E){(0,k.onUnexpectedError)(E);return}if(!_||!_.length||!p.validate(this.editor)){this.removeLinkDecorations();return}const S=_[0].originSelectionRange?w.Range.lift(_[0].originSelectionRange):new w.Range(a.lineNumber,h.startColumn,a.lineNumber,h.endColumn);if(_.length>1){let E=S;for(const{originSelectionRange:I}of _)I&&(E=w.Range.plusRange(E,I));this.addDecoration(E,new L.MarkdownString().appendText(i.localize(0,null,_.length)))}else{const E=_[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:N}=E.range;if(N<1||N>T.getLineCount()){I.dispose();return}const A=this.getPreviewValue(T,N,E),R=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(S,A?new L.MarkdownString().appendCodeblock(R||"",A):void 0),I.dispose()})}}getPreviewValue(a,v,h){let p=h.range;return p.endLineNumber-p.startLineNumber>=r.MAX_SOURCE_PREVIEW_LINES&&(p=this.getPreviewRangeBasedOnIndentation(a,v)),this.stripIndentationFromPreviewRange(a,v,p)}stripIndentationFromPreviewRange(a,v,h){let _=a.getLineFirstNonWhitespaceColumn(v);for(let E=v+1;E<h.endLineNumber;E++){const I=a.getLineFirstNonWhitespaceColumn(E);_=Math.min(_,I)}return a.getValueInRange(h).replace(new RegExp(`^\\s{${_-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(a,v){const h=a.getLineFirstNonWhitespaceColumn(v),p=Math.min(a.getLineCount(),v+r.MAX_SOURCE_PREVIEW_LINES);let _=v+1;for(;_<p;_++){const S=a.getLineFirstNonWhitespaceColumn(_);if(h===S)break}return new w.Range(v,1,_+1,1)}addDecoration(a,v){const h={range:a,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:v}};this.linkDecorations.set([h])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(a,v){var h;return this.editor.hasModel()&&a.isLeftClick&&a.isNoneOrSingleMouseDown&&a.target.type===6&&!(((h=a.target.detail.injectedText)===null||h===void 0?void 0:h.options)instanceof l.ModelDecorationInjectedTextOptions)&&(a.hasTriggerModifier||(v?v.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(a,v){const h=this.editor.getModel();return h?(0,c.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,h,a,v):Promise.resolve(null)}gotoDefinition(a,v){return this.editor.setPosition(a),this.editor.invokeWithinContext(h=>{const p=!v&&this.editor.getOption(88)&&!this.isInPeekEditor(h);return new s.DefinitionAction({openToSide:v,openInPeek:p,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(h)})}isInPeekEditor(a){const v=a.get(t.IContextKeyService);return n.PeekContext.inPeekEditor.getValue(v)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=d,d.ID="editor.contrib.gotodefinitionatposition",d.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=d=r=ke([ge(1,C.ITextModelService),ge(2,b.ILanguageService),ge(3,g.ILanguageFeaturesService)],d),(0,m.registerEditorContribution)(d.ID,d,2)}),define(ne[982],se([1,0,6,13,15,9,2,51,5,18,260,152,281,131,413,736,104,64,93]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const r=f.$;class d{constructor(h,p,_){this.owner=h,this.range=p,this.marker=_}isValidForHoverAnchor(h){return h.type===1&&this.range.startColumn<=h.range.startColumn&&this.range.endColumn>=h.range.endColumn}}e.MarkerHover=d;const u={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let a=class{constructor(h,p,_,S){this._editor=h,this._markerDecorationsService=p,this._openerService=_,this._languageFeaturesService=S,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(h,p){if(!this._editor.hasModel()||h.type!==1&&!h.supportsMarkerHover)return[];const _=this._editor.getModel(),S=h.range.startLineNumber,E=_.getLineMaxColumn(S),I=[];for(const T of p){const N=T.range.startLineNumber===S?T.range.startColumn:1,A=T.range.endLineNumber===S?T.range.endColumn:E,R=this._markerDecorationsService.getMarker(_.uri,T);if(!R)continue;const M=new w.Range(h.range.startLineNumber,N,h.range.startLineNumber,A);I.push(new d(this,M,R))}return I}renderHoverParts(h,p){if(!p.length)return y.Disposable.None;const _=new y.DisposableStore;p.forEach(E=>h.fragment.appendChild(this.renderMarkerHover(E,_)));const S=p.length===1?p[0]:p.sort((E,I)=>c.MarkerSeverity.compare(E.marker.severity,I.marker.severity))[0];return this.renderMarkerStatusbar(h,S,_),_}renderMarkerHover(h,p){const _=r("div.hover-row");_.tabIndex=0;const S=f.append(_,r("div.marker.hover-contents")),{source:E,message:I,code:T,relatedInformation:N}=h.marker;this._editor.applyFontInfo(S);const A=f.append(S,r("span"));if(A.style.whiteSpace="pre-wrap",A.innerText=I,E||T)if(T&&typeof T!="string"){const R=r("span");if(E){const O=f.append(R,r("span"));O.innerText=E}const M=f.append(R,r("a.code-link"));M.setAttribute("href",T.target.toString()),p.add(f.addDisposableListener(M,"click",O=>{this._openerService.open(T.target,{allowCommands:!0}),O.preventDefault(),O.stopPropagation()}));const P=f.append(M,r("span"));P.innerText=T.value;const F=f.append(S,R);F.style.opacity="0.6",F.style.paddingLeft="6px"}else{const R=f.append(S,r("span"));R.style.opacity="0.6",R.style.paddingLeft="6px",R.innerText=E&&T?`${E}(${T})`:E||`(${T})`}if((0,k.isNonEmptyArray)(N))for(const{message:R,resource:M,startLineNumber:P,startColumn:F}of N){const O=f.append(S,r("div"));O.style.marginTop="8px";const B=f.append(O,r("a"));B.innerText=`${(0,m.basename)(M)}(${P}, ${F}): `,B.style.cursor="pointer",p.add(f.addDisposableListener(B,"click",K=>{K.stopPropagation(),K.preventDefault(),this._openerService&&this._openerService.open(M,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:P,startColumn:F}}}).catch(D.onUnexpectedError)}));const V=f.append(O,r("span"));V.innerText=R,this._editor.applyFontInfo(V)}return _}renderMarkerStatusbar(h,p,_){if(p.marker.severity===c.MarkerSeverity.Error||p.marker.severity===c.MarkerSeverity.Warning||p.marker.severity===c.MarkerSeverity.Info){const S=t.MarkerController.get(this._editor);S&&h.statusBar.addAction({label:s.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{h.hide(),S.showAtMarker(p.marker),this._editor.focus()}})}if(!this._editor.getOption(91)){const S=h.statusBar.append(r("div"));this.recentMarkerCodeActionsInfo&&(c.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===c.IMarkerData.makeKey(p.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(S.textContent=s.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const E=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?y.Disposable.None:(0,L.disposableTimeout)(()=>S.textContent=s.localize(2,null),200,_);S.textContent||(S.textContent="\xA0");const I=this.getCodeActions(p.marker);_.add((0,y.toDisposable)(()=>I.cancel())),I.then(T=>{if(E.dispose(),this.recentMarkerCodeActionsInfo={marker:p.marker,hasCodeActions:T.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){T.dispose(),S.textContent=s.localize(3,null);return}S.style.display="none";let N=!1;_.add((0,y.toDisposable)(()=>{N||T.dispose()})),h.statusBar.addAction({label:s.localize(4,null),commandId:o.quickFixCommandId,run:A=>{N=!0;const R=n.CodeActionController.get(this._editor),M=f.getDomNodePagePosition(A);h.hide(),R?.showCodeActions(u,T,{x:M.left,y:M.top,width:M.width,height:M.height})}})},D.onUnexpectedError)}}getCodeActions(h){return(0,L.createCancelablePromise)(p=>(0,o.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new w.Range(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn),u,l.Progress.None,p))}};e.MarkerHoverParticipant=a,e.MarkerHoverParticipant=a=ke([ge(1,C.IMarkerDecorationsService),ge(2,g.IOpenerService),ge(3,b.ILanguageFeaturesService)],a)}),define(ne[416],se([1,0,6,41,19,189,5,75,284,153,29,25,14,58,8,50]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showGoToContextMenu=c,e.goToDefinitionWithLocation=g;async function c(l,r,d,u){var a;const v=l.get(m.ITextModelService),h=l.get(i.IContextMenuService),p=l.get(o.ICommandService),_=l.get(t.IInstantiationService),S=l.get(s.INotificationService);if(await u.item.resolve(L.CancellationToken.None),!u.part.location)return;const E=u.part.location,I=[],T=new Set(C.MenuRegistry.getMenuItems(C.MenuId.EditorContext).map(A=>(0,C.isIMenuItem)(A)?A.command.id:(0,D.generateUuid)()));for(const A of w.SymbolNavigationAction.all())T.has(A.desc.id)&&I.push(new k.Action(A.desc.id,C.MenuItemAction.label(A.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const R=await v.createModelReference(E.uri);try{const M=new w.SymbolNavigationAnchor(R.object.textEditorModel,y.Range.getStartPosition(E.range)),P=u.item.anchor.range;await _.invokeFunction(A.runEditorCommand.bind(A),r,M,P)}finally{R.dispose()}}));if(u.part.command){const{command:A}=u.part;I.push(new k.Separator),I.push(new k.Action(A.id,A.title,void 0,!0,async()=>{var R;try{await p.executeCommand(A.id,...(R=A.arguments)!==null&&R!==void 0?R:[])}catch(M){S.notify({severity:s.Severity.Error,source:u.item.provider.displayName,message:M})}}))}const N=r.getOption(127);h.showContextMenu({domForShadowRoot:N&&(a=r.getDomNode())!==null&&a!==void 0?a:void 0,getAnchor:()=>{const A=f.getDomNodePagePosition(d);return{x:A.left,y:A.top+A.height+8}},getActions:()=>I,onHide:()=>{r.focus()},autoSelectFirstItem:!0})}async function g(l,r,d,u){const v=await l.get(m.ITextModelService).createModelReference(u.uri);await d.invokeWithinContext(async h=>{const p=r.hasSideBySideModifier,_=h.get(n.IContextKeyService),S=b.PeekContext.inPeekEditor.getValue(_),E=!p&&d.getOption(88)&&!S;return new w.DefinitionAction({openToSide:p,openInPeek:E,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(h,new w.SymbolNavigationAnchor(v.object.textEditorModel,y.Range.getStartPosition(u.range)),y.Range.lift(u.range))}),v.dispose()}}),define(ne[417],se([1,0,6,13,15,19,9,2,45,20,22,180,139,38,73,5,27,42,37,84,18,75,204,358,416,25,49,8,50,33,23]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class A{constructor(){this._entries=new w.LRUCache(50)}get(V){const K=A._key(V);return this._entries.get(K)}set(V,K){const U=A._key(V);this._entries.set(U,K)}static _key(V){return`${V.uri.toString()}/${V.getVersionId()}`}}const R=(0,S.createDecorator)("IInlayHintsCache");(0,_.registerSingleton)(R,A,1);class M{constructor(V,K){this.item=V,this.index=K}get part(){const V=this.item.hint.label;return typeof V=="string"?{label:V}:V[this.index]}}e.RenderedInlayHintLabelPart=M;class P{constructor(V,K){this.part=V,this.hasTriggerModifier=K}}let F=N=class{static get(V){var K;return(K=V.getContribution(N.ID))!==null&&K!==void 0?K:void 0}constructor(V,K,U,G,z,$,J){this._editor=V,this._languageFeaturesService=K,this._inlayHintsCache=G,this._commandService=z,this._notificationService=$,this._instaService=J,this._disposables=new m.DisposableStore,this._sessionDisposables=new m.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new o.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=U.for(K.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(K.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(V.onDidChangeModel(()=>this._update())),this._disposables.add(V.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(V.onDidChangeConfiguration(ee=>{ee.hasChanged(141)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const V=this._editor.getOption(141);if(V.enabled==="off")return;const K=this._editor.getModel();if(!K||!this._languageFeaturesService.inlayHintsProvider.has(K))return;if(V.enabled==="on")this._activeRenderMode=0;else{let J,ee;V.enabled==="onUnlessPressed"?(J=0,ee=1):(J=1,ee=0),this._activeRenderMode=J,this._sessionDisposables.add(f.ModifierKeyEmitter.getInstance().event(Z=>{if(!this._editor.hasModel())return;const x=Z.altKey&&Z.ctrlKey&&!(Z.shiftKey||Z.metaKey)?ee:J;if(x!==this._activeRenderMode){this._activeRenderMode=x;const Y=this._editor.getModel(),ae=this._copyInlayHintsWithCurrentAnchor(Y);this._updateHintsDecorators([Y.getFullModelRange()],ae),$.schedule(0)}}))}const U=this._inlayHintsCache.get(K);U&&this._updateHintsDecorators([K.getFullModelRange()],U),this._sessionDisposables.add((0,m.toDisposable)(()=>{K.isDisposed()||this._cacheHintsForFastRestore(K)}));let G;const z=new Set,$=new L.RunOnceScheduler(async()=>{const J=Date.now();G?.dispose(!0),G=new D.CancellationTokenSource;const ee=K.onWillDispose(()=>G?.cancel());try{const Z=G.token,x=await v.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,K,this._getHintsRanges(),Z);if($.delay=this._debounceInfo.update(K,Date.now()-J),Z.isCancellationRequested){x.dispose();return}for(const Y of x.provider)typeof Y.onDidChangeInlayHints=="function"&&!z.has(Y)&&(z.add(Y),this._sessionDisposables.add(Y.onDidChangeInlayHints(()=>{$.isScheduled()||$.schedule()})));this._sessionDisposables.add(x),this._updateHintsDecorators(x.ranges,x.items),this._cacheHintsForFastRestore(K)}catch(Z){(0,y.onUnexpectedError)(Z)}finally{G.dispose(),ee.dispose()}},this._debounceInfo.get(K));this._sessionDisposables.add($),this._sessionDisposables.add((0,m.toDisposable)(()=>G?.dispose(!0))),$.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(J=>{(J.scrollTopChanged||!$.isScheduled())&&$.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(J=>{G?.cancel();const ee=Math.max($.delay,1250);$.schedule(ee)})),this._sessionDisposables.add(this._installDblClickGesture(()=>$.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const V=new m.DisposableStore,K=V.add(new a.ClickLinkGesture(this._editor)),U=new m.DisposableStore;return V.add(U),V.add(K.onMouseMoveOrRelevantKeyDown(G=>{const[z]=G,$=this._getInlayHintLabelPart(z),J=this._editor.getModel();if(!$||!J){U.clear();return}const ee=new D.CancellationTokenSource;U.add((0,m.toDisposable)(()=>ee.dispose(!0))),$.item.resolve(ee.token),this._activeInlayHintPart=$.part.command||$.part.location?new P($,z.hasTriggerModifier):void 0;const Z=J.validatePosition($.item.hint.position).lineNumber,x=new s.Range(Z,1,Z,J.getLineMaxColumn(Z)),Y=this._getInlineHintsForRange(x);this._updateHintsDecorators([x],Y),U.add((0,m.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([x],Y)}))})),V.add(K.onCancel(()=>U.clear())),V.add(K.onExecute(async G=>{const z=this._getInlayHintLabelPart(G);if(z){const $=z.part;$.location?this._instaService.invokeFunction(h.goToDefinitionWithLocation,G,this._editor,$.location):c.Command.is($.command)&&await this._invokeCommand($.command,z.item)}})),V}_getInlineHintsForRange(V){const K=new Set;for(const U of this._decorationsMetadata.values())V.containsRange(U.item.anchor.range)&&K.add(U.item);return Array.from(K)}_installDblClickGesture(V){return this._editor.onMouseUp(async K=>{if(K.event.detail!==2)return;const U=this._getInlayHintLabelPart(K);if(U&&(K.event.preventDefault(),await U.item.resolve(D.CancellationToken.None),(0,k.isNonEmptyArray)(U.item.hint.textEdits))){const G=U.item.hint.textEdits.map(z=>t.EditOperation.replace(s.Range.lift(z.range),z.text));this._editor.executeEdits("inlayHint.default",G),V()}})}_installContextMenu(){return this._editor.onContextMenu(async V=>{if(!(0,f.isHTMLElement)(V.event.target))return;const K=this._getInlayHintLabelPart(V);K&&await this._instaService.invokeFunction(h.showGoToContextMenu,this._editor,V.event.target,K)})}_getInlayHintLabelPart(V){var K;if(V.target.type!==6)return;const U=(K=V.target.detail.injectedText)===null||K===void 0?void 0:K.options;if(U instanceof l.ModelDecorationInjectedTextOptions&&U?.attachedData instanceof M)return U.attachedData}async _invokeCommand(V,K){var U;try{await this._commandService.executeCommand(V.id,...(U=V.arguments)!==null&&U!==void 0?U:[])}catch(G){this._notificationService.notify({severity:E.Severity.Error,source:K.provider.displayName,message:G})}}_cacheHintsForFastRestore(V){const K=this._copyInlayHintsWithCurrentAnchor(V);this._inlayHintsCache.set(V,K)}_copyInlayHintsWithCurrentAnchor(V){const K=new Map;for(const[U,G]of this._decorationsMetadata){if(K.has(G.item))continue;const z=V.getDecorationRange(U);if(z){const $=new v.InlayHintAnchor(z,G.item.anchor.direction),J=G.item.with({anchor:$});K.set(G.item,J)}}return Array.from(K.values())}_getHintsRanges(){const K=this._editor.getModel(),U=this._editor.getVisibleRangesPlusViewportAboveBelow(),G=[];for(const z of U.sort(s.Range.compareRangesUsingStarts)){const $=K.validateRange(new s.Range(z.startLineNumber-30,z.startColumn,z.endLineNumber+30,z.endColumn));G.length===0||!s.Range.areIntersectingOrTouching(G[G.length-1],$)?G.push($):G[G.length-1]=s.Range.plusRange(G[G.length-1],$)}return G}_updateHintsDecorators(V,K){var U,G;const z=[],$=(ce,ie,oe,re,W)=>{const q={content:oe,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ie.className,cursorStops:re,attachedData:W};z.push({item:ce,classNameRef:ie,decoration:{range:ce.anchor.range,options:{description:"InlayHint",showIfCollapsed:ce.anchor.range.isEmpty(),collapseOnReplaceEdit:!ce.anchor.range.isEmpty(),stickiness:0,[ce.anchor.direction]:this._activeRenderMode===0?q:void 0}}})},J=(ce,ie)=>{const oe=this._ruleFactory.createClassNameRef({width:`${ee/3|0}px`,display:"inline-block"});$(ce,oe,"\u200A",ie?g.InjectedTextCursorStops.Right:g.InjectedTextCursorStops.None)},{fontSize:ee,fontFamily:Z,padding:x,isUniform:Y}=this._getLayoutInfo(),ae="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(ae,Z);let ue={line:0,totalLen:0};for(const ce of K){if(ue.line!==ce.anchor.range.startLineNumber&&(ue={line:ce.anchor.range.startLineNumber,totalLen:0}),ue.totalLen>N._MAX_LABEL_LEN)continue;ce.hint.paddingLeft&&J(ce,!1);const ie=typeof ce.hint.label=="string"?[{label:ce.hint.label}]:ce.hint.label;for(let oe=0;oe<ie.length;oe++){const re=ie[oe],W=oe===0,q=oe===ie.length-1,H={fontSize:`${ee}px`,fontFamily:`var(${ae}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:Y?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(ce.hint.textEdits)&&(H.cursor="default"),this._fillInColors(H,ce.hint),(re.command||re.location)&&((U=this._activeInlayHintPart)===null||U===void 0?void 0:U.part.item)===ce&&this._activeInlayHintPart.part.index===oe&&(H.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(H.color=(0,T.themeColorFromId)(I.editorActiveLinkForeground),H.cursor="pointer")),x&&(W&&q?(H.padding=`1px ${Math.max(1,ee/4)|0}px`,H.borderRadius=`${ee/4|0}px`):W?(H.padding=`1px 0 1px ${Math.max(1,ee/4)|0}px`,H.borderRadius=`${ee/4|0}px 0 0 ${ee/4|0}px`):q?(H.padding=`1px ${Math.max(1,ee/4)|0}px 1px 0`,H.borderRadius=`0 ${ee/4|0}px ${ee/4|0}px 0`):H.padding="1px 0 1px 0");let j=re.label;ue.totalLen+=j.length;let Q=!1;const te=ue.totalLen-N._MAX_LABEL_LEN;if(te>0&&(j=j.slice(0,-te)+"\u2026",Q=!0),$(ce,this._ruleFactory.createClassNameRef(H),O(j),q&&!ce.hint.paddingRight?g.InjectedTextCursorStops.Right:g.InjectedTextCursorStops.None,new M(ce,oe)),Q)break}if(ce.hint.paddingRight&&J(ce,!0),z.length>N._MAX_DECORATORS)break}const he=[];for(const[ce,ie]of this._decorationsMetadata){const oe=(G=this._editor.getModel())===null||G===void 0?void 0:G.getDecorationRange(ce);oe&&V.some(re=>re.containsRange(oe))&&(he.push(ce),ie.classNameRef.dispose(),this._decorationsMetadata.delete(ce))}const pe=n.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(ce=>{const ie=ce.deltaDecorations(he,z.map(oe=>oe.decoration));for(let oe=0;oe<ie.length;oe++){const re=z[oe];this._decorationsMetadata.set(ie[oe],re)}}),pe.restore(this._editor)}_fillInColors(V,K){K.kind===c.InlayHintKind.Parameter?(V.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintParameterBackground),V.color=(0,T.themeColorFromId)(I.editorInlayHintParameterForeground)):K.kind===c.InlayHintKind.Type?(V.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintTypeBackground),V.color=(0,T.themeColorFromId)(I.editorInlayHintTypeForeground)):(V.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintBackground),V.color=(0,T.themeColorFromId)(I.editorInlayHintForeground))}_getLayoutInfo(){const V=this._editor.getOption(141),K=V.padding,U=this._editor.getOption(52),G=this._editor.getOption(49);let z=V.fontSize;(!z||z<5||z>U)&&(z=U);const $=V.fontFamily||G;return{fontSize:z,fontFamily:$,padding:K,isUniform:!K&&$===G&&z===U}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const V of this._decorationsMetadata.values())V.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=F,F.ID="editor.contrib.InlayHints",F._MAX_DECORATORS=1500,F._MAX_LABEL_LEN=43,e.InlayHintsController=F=N=ke([ge(1,d.ILanguageFeaturesService),ge(2,r.ILanguageFeatureDebounceService),ge(3,R),ge(4,p.ICommandService),ge(5,E.INotificationService),ge(6,S.IInstantiationService)],F);function O(B){return B.replace(/[ \t]/g,"\xA0")}p.CommandsRegistry.registerCommand("_executeInlayHintProvider",async(B,...V)=>{const[K,U]=V;(0,b.assertType)(C.URI.isUri(K)),(0,b.assertType)(s.Range.isIRange(U));const{inlayHintsProvider:G}=B.get(d.ILanguageFeaturesService),z=await B.get(u.ITextModelService).createModelReference(K);try{const $=await v.InlayHintsFragments.create(G,z.object.textEditorModel,[s.Range.lift(U)],D.CancellationToken.None),J=$.items.map(ee=>ee.hint);return setTimeout(()=>$.dispose(),0),J}finally{z.dispose()}})}),define(ne[418],se([1,0,15,57,10,37,97,43,75,396,211,417,28,64,18,739,17,358,13,32,115]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class u extends y.HoverForeignElementAnchor{constructor(h,p,_,S){super(10,p,h.item.anchor.range,_,S,!0),this.part=h}}let a=class extends C.MarkdownHoverParticipant{constructor(h,p,_,S,E,I,T,N){super(h,p,_,I,N,S,E),this._resolverService=T,this.hoverOrdinal=6}suggestHoverAnchor(h){var p;if(!o.InlayHintsController.get(this._editor)||h.target.type!==6)return null;const S=(p=h.target.detail.injectedText)===null||p===void 0?void 0:p.options;return S instanceof D.ModelDecorationInjectedTextOptions&&S.attachedData instanceof o.RenderedInlayHintLabelPart?new u(S.attachedData,this,h.event.posx,h.event.posy):null}computeSync(){return[]}computeAsync(h,p,_){return h instanceof u?new f.AsyncIterableObject(async S=>{const{part:E}=h;if(await E.item.resolve(_),_.isCancellationRequested)return;let I;typeof E.item.hint.tooltip=="string"?I=new k.MarkdownString().appendText(E.item.hint.tooltip):E.item.hint.tooltip&&(I=E.item.hint.tooltip),I&&S.emitOne(new C.MarkdownHover(this,h.range,[I],!1,0)),(0,l.isNonEmptyArray)(E.item.hint.textEdits)&&S.emitOne(new C.MarkdownHover(this,h.range,[new k.MarkdownString().appendText((0,s.localize)(0,null))],!1,10001));let T;if(typeof E.part.tooltip=="string"?T=new k.MarkdownString().appendText(E.part.tooltip):E.part.tooltip&&(T=E.part.tooltip),T&&S.emitOne(new C.MarkdownHover(this,h.range,[T],!1,1)),E.part.location||E.part.command){let A;const M=this._editor.getOption(78)==="altKey"?c.isMacintosh?(0,s.localize)(1,null):(0,s.localize)(2,null):c.isMacintosh?(0,s.localize)(3,null):(0,s.localize)(4,null);E.part.location&&E.part.command?A=new k.MarkdownString().appendText((0,s.localize)(5,null,M)):E.part.location?A=new k.MarkdownString().appendText((0,s.localize)(6,null,M)):E.part.command&&(A=new k.MarkdownString(`[${(0,s.localize)(7,null)}](${(0,g.asCommandLink)(E.part.command)} "${E.part.command.title}") (${M})`,{isTrusted:!0})),A&&S.emitOne(new C.MarkdownHover(this,h.range,[A],!1,1e4))}const N=await this._resolveInlayHintLabelPartHover(E,_);for await(const A of N)S.emitOne(A)}):f.AsyncIterableObject.EMPTY}async _resolveInlayHintLabelPartHover(h,p){if(!h.part.location)return f.AsyncIterableObject.EMPTY;const{uri:_,range:S}=h.part.location,E=await this._resolverService.createModelReference(_);try{const I=E.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(I)?(0,b.getHoverProviderResultsAsAsyncIterable)(this._languageFeaturesService.hoverProvider,I,new L.Position(S.startLineNumber,S.startColumn),p).filter(T=>!(0,k.isEmptyMarkdownString)(T.hover.contents)).map(T=>new C.MarkdownHover(this,h.item.anchor.range,T.hover.contents,!1,2+T.ordinal)):f.AsyncIterableObject.EMPTY}finally{E.dispose()}}};e.InlayHintsHover=a,e.InlayHintsHover=a=ke([ge(1,m.ILanguageService),ge(2,i.IOpenerService),ge(3,r.IKeybindingService),ge(4,d.IHoverService),ge(5,n.IConfigurationService),ge(6,w.ITextModelService),ge(7,t.ILanguageFeaturesService)],a)}),define(ne[983],se([1,0,6,2,10,5,37,27,357,97,8,32,211,418,376,654,595,375,7]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverController=void 0;let d=r=class extends k.Disposable{constructor(a,v,h){super(),this._editor=a,this._instantiationService=v,this._keybindingService=h,this._currentResult=null,this._onContentsChanged=this._register(new l.Emitter),this.onContentsChanged=this._onContentsChanged.event,this._widget=this._register(this._instantiationService.createInstance(t.ContentHoverWidget,this._editor)),this._participants=[];for(const p of b.HoverParticipantRegistry.getAll()){const _=this._instantiationService.createInstance(p,this._editor);_ instanceof n.MarkdownHoverParticipant&&!(_ instanceof i.InlayHintsHover)&&(this._markdownHoverParticipant=_),this._participants.push(_)}this._participants.sort((p,_)=>p.hoverOrdinal-_.hoverOrdinal),this._computer=new s.ContentHoverComputer(this._editor,this._participants),this._hoverOperation=this._register(new w.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(p=>{if(!this._computer.anchor)return;const _=p.hasLoadingMessage?this._addLoadingMessage(p.value):p.value;this._withResult(new c.HoverResult(this._computer.anchor,_,p.isComplete))})),this._register(f.addStandardDisposableListener(this._widget.getDomNode(),"keydown",p=>{p.equals(9)&&this.hide()})),this._register(m.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(a,v,h,p,_){return!this._widget.position||!this._currentResult?a?(this._startHoverOperationIfNecessary(a,v,h,p,!1),!0):!1:this._editor.getOption(60).sticky&&_&&this._widget.isMouseGettingCloser(_.event.posx,_.event.posy)?(a&&this._startHoverOperationIfNecessary(a,v,h,p,!0),!0):a?a&&this._currentResult.anchor.equals(a)?!0:a.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(a)),this._startHoverOperationIfNecessary(a,v,h,p,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(a,v,h,p,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(a,v,h,p,_){this._computer.anchor&&this._computer.anchor.equals(a)||(this._hoverOperation.cancel(),this._computer.anchor=a,this._computer.shouldFocus=p,this._computer.source=h,this._computer.insistOnKeepingHoverVisible=_,this._hoverOperation.start(v))}_setCurrentResult(a){this._currentResult!==a&&(a&&a.messages.length===0&&(a=null),this._currentResult=a,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage(a){if(this._computer.anchor){for(const v of this._participants)if(v.createLoadingMessage){const h=v.createLoadingMessage(this._computer.anchor);if(h)return a.slice(0).concat([h])}}return a}_withResult(a){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!a.isComplete||this._computer.insistOnKeepingHoverVisible&&a.messages.length===0)||this._setCurrentResult(a)}_renderMessages(a,v){const{showAtPosition:h,showAtSecondaryPosition:p,highlightRange:_}=r.computeHoverRanges(this._editor,a.range,v),S=new k.DisposableStore,E=S.add(new g.EditorHoverStatusBar(this._keybindingService)),I=document.createDocumentFragment();let T=null;const N={fragment:I,statusBar:E,setColorPicker:R=>T=R,onContentsChanged:()=>this._doOnContentsChanged(),setMinimumDimensions:R=>this._widget.setMinimumDimensions(R),hide:()=>this.hide()};for(const R of this._participants){const M=v.filter(P=>P.owner===R);M.length>0&&S.add(R.renderHoverParts(N,M))}const A=v.some(R=>R.isBeforeContent);if(E.hasContent&&I.appendChild(E.hoverElement),I.hasChildNodes()){if(_){const R=this._editor.createDecorationsCollection();R.set([{range:_,options:r._DECORATION_OPTIONS}]),S.add((0,k.toDisposable)(()=>{R.clear()}))}this._widget.showAt(I,new c.ContentHoverVisibleData(a.initialMousePosX,a.initialMousePosY,T,h,p,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,A,S))}else S.dispose()}_doOnContentsChanged(){this._onContentsChanged.fire(),this._widget.onContentsChanged()}static computeHoverRanges(a,v,h){let p=1;if(a.hasModel()){const A=a._getViewModel(),R=A.coordinatesConverter,M=R.convertModelRangeToViewRange(v),P=new L.Position(M.startLineNumber,A.getLineMinColumn(M.startLineNumber));p=R.convertViewPositionToModelPosition(P).column}const _=v.startLineNumber;let S=v.startColumn,E=h[0].range,I=null;for(const A of h)E=D.Range.plusRange(E,A.range),A.range.startLineNumber===_&&A.range.endLineNumber===_&&(S=Math.max(Math.min(S,A.range.startColumn),p)),A.forceShowAtRange&&(I=A.range);const T=I?I.getStartPosition():new L.Position(_,v.startColumn),N=I?I.getStartPosition():new L.Position(_,S);return{showAtPosition:T,showAtSecondaryPosition:N,highlightRange:E}}showsOrWillShow(a){if(this._widget.isResizing)return!0;const v=[];for(const p of this._participants)if(p.suggestHoverAnchor){const _=p.suggestHoverAnchor(a);_&&v.push(_)}const h=a.target;if(h.type===6&&v.push(new b.HoverRangeAnchor(0,h.range,a.event.posx,a.event.posy)),h.type===7){const p=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!h.detail.isAfterLines&&typeof h.detail.horizontalDistanceToText=="number"&&h.detail.horizontalDistanceToText<p&&v.push(new b.HoverRangeAnchor(0,h.range,a.event.posx,a.event.posy))}return v.length===0?this._startShowingOrUpdateHover(null,0,0,!1,a):(v.sort((p,_)=>_.priority-p.priority),this._startShowingOrUpdateHover(v[0],0,0,!1,a))}startShowingAtRange(a,v,h,p){this._startShowingOrUpdateHover(new b.HoverRangeAnchor(0,a,void 0,void 0),v,h,p,null)}async updateMarkdownHoverVerbosityLevel(a,v,h){var p;(p=this._markdownHoverParticipant)===null||p===void 0||p.updateMarkdownHoverVerbosityLevel(a,v,h)}markdownHoverContentAtIndex(a){var v,h;return(h=(v=this._markdownHoverParticipant)===null||v===void 0?void 0:v.markdownHoverContentAtIndex(a))!==null&&h!==void 0?h:""}doesMarkdownHoverAtIndexSupportVerbosityAction(a,v){var h,p;return(p=(h=this._markdownHoverParticipant)===null||h===void 0?void 0:h.doesMarkdownHoverAtIndexSupportVerbosityAction(a,v))!==null&&p!==void 0?p:!1}containsNode(a){return a?this._widget.getDomNode().contains(a):!1}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};e.ContentHoverController=d,d._DECORATION_OPTIONS=y.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=d=r=ke([ge(1,C.IInstantiationService),ge(2,o.IKeybindingService)],d)}),define(ne[285],se([1,0,205,2,8,278,32,15,376,983,852,7,223]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.HoverController=void 0;const i=!1;let t=n=class extends k.Disposable{constructor(c,g,l){super(),this._editor=c,this._instantiationService=g,this._keybindingService=l,this._onHoverContentsChanged=this._register(new o.Emitter),this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new k.DisposableStore,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new m.RunOnceScheduler(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(c){return c.getContribution(n.ID)}_hookListeners(){const c=this._editor.getOption(60);this._hoverSettings={enabled:c.enabled,sticky:c.sticky,hidingDelay:c.delay},c.enabled?(this._listenersStore.add(this._editor.onMouseDown(g=>this._onEditorMouseDown(g))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(g=>this._onEditorMouseMove(g))),this._listenersStore.add(this._editor.onKeyDown(g=>this._onKeyDown(g)))):(this._listenersStore.add(this._editor.onMouseMove(g=>this._onEditorMouseMove(g))),this._listenersStore.add(this._editor.onKeyDown(g=>this._onKeyDown(g)))),this._listenersStore.add(this._editor.onMouseLeave(g=>this._onEditorMouseLeave(g))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(g=>this._onEditorScrollChanged(g)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(c){(c.scrollTopChanged||c.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(c){this._hoverState.mouseDown=!0,!this._shouldNotHideCurrentHoverWidget(c)&&this._hideWidgets()}_shouldNotHideCurrentHoverWidget(c){return!!(this._isMouseOnContentHoverWidget(c)||this._isMouseOnMarginHoverWidget(c)||this._isContentWidgetResizing())}_isMouseOnMarginHoverWidget(c){const g=c.target;return g?g.type===12&&g.detail===C.MarginHoverWidget.ID:!1}_isMouseOnContentHoverWidget(c){const g=c.target;return g?g.type===9&&g.detail===w.ContentHoverWidget.ID:!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(c){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._shouldNotHideCurrentHoverWidget(c))||i||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(c){const g=this._hoverSettings.sticky,l=(a,v)=>{const h=this._isMouseOnMarginHoverWidget(a);return v&&h},r=(a,v)=>{const h=this._isMouseOnContentHoverWidget(a);return v&&h},d=a=>{var v;const h=this._isMouseOnContentHoverWidget(a),p=(v=this._contentWidget)===null||v===void 0?void 0:v.isColorPickerVisible;return h&&p},u=(a,v)=>{var h,p,_,S;return v&&((h=this._contentWidget)===null||h===void 0?void 0:h.containsNode((p=a.event.browserEvent.view)===null||p===void 0?void 0:p.document.activeElement))&&!(!((S=(_=a.event.browserEvent.view)===null||_===void 0?void 0:_.getSelection())===null||S===void 0)&&S.isCollapsed)};return!!(l(c,g)||r(c,g)||d(c)||u(c,g))}_onEditorMouseMove(c){var g,l,r,d;if(this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._mouseMoveEvent=c,!((g=this._contentWidget)===null||g===void 0)&&g.isFocused||!((l=this._contentWidget)===null||l===void 0)&&l.isResizing))return;const u=this._hoverSettings.sticky;if(u&&(!((r=this._contentWidget)===null||r===void 0)&&r.isVisibleFromKeyboard))return;if(this._shouldNotRecomputeCurrentHoverWidget(c)){this._reactToEditorMouseMoveRunner.cancel();return}const v=this._hoverSettings.hidingDelay;if(((d=this._contentWidget)===null||d===void 0?void 0:d.isVisible)&&u&&v>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(v);return}this._reactToEditorMouseMove(c)}_reactToEditorMouseMove(c){var g;if(!c)return;const r=(g=c.target.element)===null||g===void 0?void 0:g.classList.contains("colorpicker-color-decoration"),d=this._editor.getOption(148),u=this._hoverSettings.enabled,a=this._hoverState.activatedByDecoratorClick;if(r&&(d==="click"&&!a||d==="hover"&&!u&&!i||d==="clickAndHover"&&!u&&!a)||!r&&!u&&!a){this._hideWidgets();return}this._tryShowHoverWidget(c,0)||this._tryShowHoverWidget(c,1)||i||this._hideWidgets()}_tryShowHoverWidget(c,g){const l=this._getOrCreateContentWidget(),r=this._getOrCreateGlyphWidget();let d,u;switch(g){case 0:d=l,u=r;break;case 1:d=r,u=l;break;default:throw new Error(`HoverWidgetType ${g} is unrecognized`)}const a=d.showsOrWillShow(c);return a&&u.hide(),a}_onKeyDown(c){var g;if(!this._editor.hasModel())return;const l=this._keybindingService.softDispatch(c,this._editor.getDomNode()),r=l.kind===1||l.kind===2&&(l.commandId===f.SHOW_OR_FOCUS_HOVER_ACTION_ID||l.commandId===f.INCREASE_HOVER_VERBOSITY_ACTION_ID||l.commandId===f.DECREASE_HOVER_VERBOSITY_ACTION_ID)&&((g=this._contentWidget)===null||g===void 0?void 0:g.isVisible);c.keyCode===5||c.keyCode===6||c.keyCode===57||c.keyCode===4||r||this._hideWidgets()}_hideWidgets(){var c,g,l;i||this._hoverState.mouseDown&&(!((c=this._contentWidget)===null||c===void 0)&&c.isColorPickerVisible)||D.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,(g=this._glyphWidget)===null||g===void 0||g.hide(),(l=this._contentWidget)===null||l===void 0||l.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(b.ContentHoverController,this._editor),this._listenersStore.add(this._contentWidget.onContentsChanged(()=>this._onHoverContentsChanged.fire()))),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(C.MarginHoverWidget,this._editor)),this._glyphWidget}showContentHover(c,g,l,r,d=!1){this._hoverState.activatedByDecoratorClick=d,this._getOrCreateContentWidget().startShowingAtRange(c,g,l,r)}_isContentWidgetResizing(){var c;return((c=this._contentWidget)===null||c===void 0?void 0:c.widget.isResizing)||!1}markdownHoverContentAtIndex(c){return this._getOrCreateContentWidget().markdownHoverContentAtIndex(c)}doesMarkdownHoverAtIndexSupportVerbosityAction(c,g){return this._getOrCreateContentWidget().doesMarkdownHoverAtIndexSupportVerbosityAction(c,g)}updateMarkdownHoverVerbosityLevel(c,g,l){this._getOrCreateContentWidget().updateMarkdownHoverVerbosityLevel(c,g,l)}focus(){var c;(c=this._contentWidget)===null||c===void 0||c.focus()}scrollUp(){var c;(c=this._contentWidget)===null||c===void 0||c.scrollUp()}scrollDown(){var c;(c=this._contentWidget)===null||c===void 0||c.scrollDown()}scrollLeft(){var c;(c=this._contentWidget)===null||c===void 0||c.scrollLeft()}scrollRight(){var c;(c=this._contentWidget)===null||c===void 0||c.scrollRight()}pageUp(){var c;(c=this._contentWidget)===null||c===void 0||c.pageUp()}pageDown(){var c;(c=this._contentWidget)===null||c===void 0||c.pageDown()}goToTop(){var c;(c=this._contentWidget)===null||c===void 0||c.goToTop()}goToBottom(){var c;(c=this._contentWidget)===null||c===void 0||c.goToBottom()}get isColorPickerVisible(){var c;return(c=this._contentWidget)===null||c===void 0?void 0:c.isColorPickerVisible}get isHoverVisible(){var c;return(c=this._contentWidget)===null||c===void 0?void 0:c.isVisible}dispose(){var c,g;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(c=this._glyphWidget)===null||c===void 0||c.dispose(),(g=this._contentWidget)===null||g===void 0||g.dispose()}};e.HoverController=t,t.ID="editor.contrib.hover",e.HoverController=t=n=ke([ge(1,L.IInstantiationService),ge(2,y.IKeybindingService)],t)}),define(ne[984],se([1,0,2,16,5,408,409,285,97]),function(X,e,f,k,L,D,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class b extends f.Disposable{constructor(o){super(),this._editor=o,this._register(o.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(o){const n=this._editor.getOption(148);if(n!=="click"&&n!=="clickAndHover")return;const i=o.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!i.range)return;const t=this._editor.getContribution(m.HoverController.ID);if(t&&!t.isColorPickerVisible){const s=new L.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);t.showContentHover(s,1,0,!1,!0)}}}e.ColorContribution=b,b.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(b.ID,b,2),w.HoverParticipantRegistry.register(y.ColorHoverParticipant)}),define(ne[985],se([1,0,205,70,16,5,21,415,285,27,734,223]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecreaseHoverVerbosityLevel=e.IncreaseHoverVerbosityLevel=e.GoToBottomHoverAction=e.GoToTopHoverAction=e.PageDownHoverAction=e.PageUpHoverAction=e.ScrollRightHoverAction=e.ScrollLeftHoverAction=e.ScrollDownHoverAction=e.ScrollUpHoverAction=e.ShowDefinitionPreviewHoverAction=e.ShowOrFocusHoverAction=void 0;var o;(function(h){h.NoAutoFocus="noAutoFocus",h.FocusIfVisible="focusIfVisible",h.AutoFocusImmediately="autoFocusImmediately"})(o||(o={}));class n extends L.EditorAction{constructor(){super({id:f.SHOW_OR_FOCUS_HOVER_ACTION_ID,label:C.localize(0,null),metadata:{description:C.localize2(13,"Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[o.NoAutoFocus,o.FocusIfVisible,o.AutoFocusImmediately],enumDescriptions:[C.localize(1,null),C.localize(2,null),C.localize(3,null)],default:o.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2087),weight:100}})}run(p,_,S){if(!_.hasModel())return;const E=w.HoverController.get(_);if(!E)return;const I=S?.focus;let T=o.FocusIfVisible;Object.values(o).includes(I)?T=I:typeof I=="boolean"&&I&&(T=o.AutoFocusImmediately);const N=R=>{const M=_.getPosition(),P=new D.Range(M.lineNumber,M.column,M.lineNumber,M.column);E.showContentHover(P,1,1,R)},A=_.getOption(2)===2;E.isHoverVisible?T!==o.NoAutoFocus?E.focus():N(A):N(A||T===o.AutoFocusImmediately)}}e.ShowOrFocusHoverAction=n;class i extends L.EditorAction{constructor(){super({id:f.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID,label:C.localize(4,null),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:C.localize2(14,"Show the definition preview hover in the editor.")}})}run(p,_){const S=w.HoverController.get(_);if(!S)return;const E=_.getPosition();if(!E)return;const I=new D.Range(E.lineNumber,E.column,E.lineNumber,E.column),T=m.GotoDefinitionAtPositionEditorContribution.get(_);if(!T)return;T.startFindDefinitionFromCursor(E).then(()=>{S.showContentHover(I,1,1,!0)})}}e.ShowDefinitionPreviewHoverAction=i;class t extends L.EditorAction{constructor(){super({id:f.SCROLL_UP_HOVER_ACTION_ID,label:C.localize(5,null),alias:"Scroll Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:16,weight:100},metadata:{description:C.localize2(15,"Scroll up the editor hover.")}})}run(p,_){const S=w.HoverController.get(_);S&&S.scrollUp()}}e.ScrollUpHoverAction=t;class s extends L.EditorAction{constructor(){super({id:f.SCROLL_DOWN_HOVER_ACTION_ID,label:C.localize(6,null),alias:"Scroll Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:18,weight:100},metadata:{description:C.localize2(16,"Scroll down the editor hover.")}})}run(p,_){const S=w.HoverController.get(_);S&&S.scrollDown()}}e.ScrollDownHoverAction=s;class c extends L.EditorAction{constructor(){super({id:f.SCROLL_LEFT_HOVER_ACTION_ID,label:C.localize(7,null),alias:"Scroll Left Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:15,weight:100},metadata:{description:C.localize2(17,"Scroll left the editor hover.")}})}run(p,_){const S=w.HoverController.get(_);S&&S.scrollLeft()}}e.ScrollLeftHoverAction=c;class g extends L.EditorAction{constructor(){super({id:f.SCROLL_RIGHT_HOVER_ACTION_ID,label:C.localize(8,null),alias:"Scroll Right Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:17,weight:100},metadata:{description:C.localize2(18,"Scroll right the editor hover.")}})}run(p,_){const S=w.HoverController.get(_);S&&S.scrollRight()}}e.ScrollRightHoverAction=g;class l extends L.EditorAction{constructor(){super({id:f.PAGE_UP_HOVER_ACTION_ID,label:C.localize(9,null),alias:"Page Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:C.localize2(19,"Page up the editor hover.")}})}run(p,_){const S=w.HoverController.get(_);S&&S.pageUp()}}e.PageUpHoverAction=l;class r extends L.EditorAction{constructor(){super({id:f.PAGE_DOWN_HOVER_ACTION_ID,label:C.localize(10,null),alias:"Page Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:C.localize2(20,"Page down the editor hover.")}})}run(p,_){const S=w.HoverController.get(_);S&&S.pageDown()}}e.PageDownHoverAction=r;class d extends L.EditorAction{constructor(){super({id:f.GO_TO_TOP_HOVER_ACTION_ID,label:C.localize(11,null),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:C.localize2(21,"Go to the top of the editor hover.")}})}run(p,_){const S=w.HoverController.get(_);S&&S.goToTop()}}e.GoToTopHoverAction=d;class u extends L.EditorAction{constructor(){super({id:f.GO_TO_BOTTOM_HOVER_ACTION_ID,label:C.localize(12,null),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:C.localize2(22,"Go to the bottom of the editor hover.")}})}run(p,_){const S=w.HoverController.get(_);S&&S.goToBottom()}}e.GoToBottomHoverAction=u;class a extends L.EditorAction{constructor(){super({id:f.INCREASE_HOVER_VERBOSITY_ACTION_ID,label:f.INCREASE_HOVER_VERBOSITY_ACTION_LABEL,alias:"Increase Hover Verbosity Level",precondition:y.EditorContextKeys.hoverVisible})}run(p,_,S){var E;(E=w.HoverController.get(_))===null||E===void 0||E.updateMarkdownHoverVerbosityLevel(b.HoverVerbosityAction.Increase,S?.index,S?.focus)}}e.IncreaseHoverVerbosityLevel=a;class v extends L.EditorAction{constructor(){super({id:f.DECREASE_HOVER_VERBOSITY_ACTION_ID,label:f.DECREASE_HOVER_VERBOSITY_ACTION_LABEL,alias:"Decrease Hover Verbosity Level",precondition:y.EditorContextKeys.hoverVisible})}run(p,_,S){var E;(E=w.HoverController.get(_))===null||E===void 0||E.updateMarkdownHoverVerbosityLevel(b.HoverVerbosityAction.Decrease,S?.index,S?.focus)}}e.DecreaseHoverVerbosityLevel=v}),define(ne[986],se([1,0,985,16,33,23,97,211,982,285,367,733,223]),function(X,e,f,k,L,D,y,m,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,k.registerEditorContribution)(b.HoverController.ID,b.HoverController,2),(0,k.registerEditorAction)(f.ShowOrFocusHoverAction),(0,k.registerEditorAction)(f.ShowDefinitionPreviewHoverAction),(0,k.registerEditorAction)(f.ScrollUpHoverAction),(0,k.registerEditorAction)(f.ScrollDownHoverAction),(0,k.registerEditorAction)(f.ScrollLeftHoverAction),(0,k.registerEditorAction)(f.ScrollRightHoverAction),(0,k.registerEditorAction)(f.PageUpHoverAction),(0,k.registerEditorAction)(f.PageDownHoverAction),(0,k.registerEditorAction)(f.GoToTopHoverAction),(0,k.registerEditorAction)(f.GoToBottomHoverAction),(0,k.registerEditorAction)(f.IncreaseHoverVerbosityLevel),(0,k.registerEditorAction)(f.DecreaseHoverVerbosityLevel),y.HoverParticipantRegistry.register(m.MarkdownHoverParticipant),y.HoverParticipantRegistry.register(w.MarkerHoverParticipant),(0,D.registerThemingParticipant)((n,i)=>{const t=n.getColor(L.editorHoverBorder);t&&(i.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),i.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`),i.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${t.transparent(.5)}; }`))}),C.AccessibleViewRegistry.register(new o.HoverAccessibleView),C.AccessibleViewRegistry.register(new o.HoverAccessibilityHelp),C.AccessibleViewRegistry.register(new o.ExtHoverAccessibleView)}),define(ne[987],se([1,0,16,97,417,418]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(L.InlayHintsController.ID,L.InlayHintsController,1),k.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(ne[419],se([1,0,2,18,975,974,8,58,29,14,21,204,5,272,416,10,19,35,84,6,333,74,282,326]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let p=h=class extends f.Disposable{constructor(S,E,I,T,N,A,R){super(),this._editor=S,this._contextMenuService=E,this._languageFeaturesService=I,this._instaService=T,this._contextKeyService=R,this._sessionStore=new f.DisposableStore,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new L.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,I,N),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new L.StickyScrollWidgetState([],[],0),this._onDidResize(),this._readConfiguration();const M=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(F=>{this._readConfigurationChange(F)})),this._register(r.addDisposableListener(M,r.EventType.CONTEXT_MENU,async F=>{this._onContextMenu(r.getWindow(M),F)})),this._stickyScrollFocusedContextKey=C.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=C.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const P=this._register(r.trackFocus(M));this._register(P.onDidBlur(F=>{this._positionRevealed===!1&&M.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(P.onDidFocus(F=>{this.focus()})),this._registerMouseListeners(),this._register(r.addDisposableListener(M,r.EventType.MOUSE_DOWN,F=>{this._onMouseDown=!0}))}static get(S){return S.getContribution(h.ID)}_disposeFocusStickyScrollStore(){var S;this._stickyScrollFocusedContextKey.set(!1),(S=this._focusDisposableStore)===null||S===void 0||S.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new f.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(S){this._focusedStickyElementIndex=S?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const S=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:S[this._focusedStickyElementIndex],column:1})}_revealPosition(S){this._reveaInEditor(S,()=>this._editor.revealPosition(S))}_revealLineInCenterIfOutsideViewport(S){this._reveaInEditor(S,()=>this._editor.revealLineInCenterIfOutsideViewport(S.lineNumber,0))}_reveaInEditor(S,E){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,E(),this._editor.setSelection(n.Range.fromPositions(S)),this._editor.focus()}_registerMouseListeners(){const S=this._register(new f.DisposableStore),E=this._register(new o.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:N=>{const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);return A?A.lineNumber:0}})),I=N=>{if(!this._editor.hasModel()||N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return null;const A=N.target.element;if(!A||A.innerText!==A.innerHTML)return null;const R=this._stickyScrollWidget.getEditorPositionFromNode(A);return R?{range:new n.Range(R.lineNumber,R.column,R.lineNumber,R.column+A.innerText.length),textElement:A}:null},T=this._stickyScrollWidget.getDomNode();this._register(r.addStandardDisposableListener(T,r.EventType.CLICK,N=>{if(N.ctrlKey||N.altKey||N.metaKey||!N.leftButton)return;if(N.shiftKey){const P=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(P===null)return;const F=new s.Position(this._endLineNumbers[P],1);this._revealLineInCenterIfOutsideViewport(F);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(N.target)){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);this._toggleFoldingRegionForLine(P);return}if(!this._stickyScrollWidget.isInStickyLine(N.target))return;let M=this._stickyScrollWidget.getEditorPositionFromNode(N.target);if(!M){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);if(P===null)return;M=new s.Position(P,1)}this._revealPosition(M)})),this._register(r.addStandardDisposableListener(T,r.EventType.MOUSE_MOVE,N=>{if(N.shiftKey){const A=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(A===null||this._showEndForLine!==null&&this._showEndForLine===A)return;this._showEndForLine=A,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(r.addDisposableListener(T,r.EventType.MOUSE_LEAVE,N=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(E.onMouseMoveOrRelevantKeyDown(([N,A])=>{const R=I(N);if(!R||!N.hasTriggerModifier||!this._editor.hasModel()){S.clear();return}const{range:M,textElement:P}=R;if(!M.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=M,S.clear();else if(P.style.textDecoration==="underline")return;const F=new c.CancellationTokenSource;S.add((0,f.toDisposable)(()=>F.dispose(!0)));let O;(0,i.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new s.Position(M.startLineNumber,M.startColumn+1),F.token).then(B=>{if(!F.token.isCancellationRequested)if(B.length!==0){this._candidateDefinitionsLength=B.length;const V=P;O!==V?(S.clear(),O=V,O.style.textDecoration="underline",S.add((0,f.toDisposable)(()=>{O.style.textDecoration="none"}))):O||(O=V,O.style.textDecoration="underline",S.add((0,f.toDisposable)(()=>{O.style.textDecoration="none"})))}else S.clear()})})),this._register(E.onCancel(()=>{S.clear()})),this._register(E.onExecute(async N=>{if(N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return;const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);A&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:A.lineNumber,column:1})),this._instaService.invokeFunction(t.goToDefinitionWithLocation,N,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(S,E){const I=new u.StandardMouseEvent(S,E);this._contextMenuService.showContextMenu({menuId:w.MenuId.StickyScrollContext,getAnchor:()=>I})}_toggleFoldingRegionForLine(S){if(!this._foldingModel||S===null)return;const E=this._stickyScrollWidget.getRenderedStickyLine(S),I=E?.foldingIcon;if(!I)return;(0,v.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[S]),I.isCollapsed=!I.isCollapsed;const T=(I.isCollapsed?this._editor.getTopForLineNumber(I.foldingEndLine):this._editor.getTopForLineNumber(I.foldingStartLine))-this._editor.getOption(67)*E.index+1;this._editor.setScrollTop(T),this._renderStickyScroll(S)}_readConfiguration(){const S=this._editor.getOption(115);if(S.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else S.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(I=>{I.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(I=>this._onTokensChange(I))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_readConfigurationChange(S){(S.hasChanged(115)||S.hasChanged(73)||S.hasChanged(67)||S.hasChanged(110)||S.hasChanged(68))&&this._readConfiguration(),S.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(S){const E=this._stickyScrollWidget.getCurrentLines();for(const I of E)for(const T of S.ranges)if(I>=T.fromLineNumber&&I<=T.toLineNumber)return!0;return!1}_onTokensChange(S){this._needsUpdate(S)&&this._renderStickyScroll(0)}_onDidResize(){const E=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(E*.25)}async _renderStickyScroll(S){var E,I;const T=this._editor.getModel();if(!T||T.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null);return}const N=this._stickyLineCandidateProvider.getVersionId();if(N===void 0||N===T.getVersionId())if(this._foldingModel=(I=await((E=a.FoldingController.get(this._editor))===null||E===void 0?void 0:E.getFoldingModel()))!==null&&I!==void 0?I:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const A=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(A)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const S=this._editor.getOption(67),E=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),I=this._editor.getScrollTop();let T=0;const N=[],A=[],R=this._editor.getVisibleRanges();if(R.length!==0){const M=new d.StickyRange(R[0].startLineNumber,R[R.length-1].endLineNumber),P=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(M);for(const F of P){const O=F.startLineNumber,B=F.endLineNumber,V=F.nestingDepth;if(B-O>0){const K=(V-1)*S,U=V*S,G=this._editor.getBottomForLineNumber(O)-I,z=this._editor.getTopForLineNumber(B)-I,$=this._editor.getBottomForLineNumber(B)-I;if(K>z&&K<=$){N.push(O),A.push(B+1),T=$-U;break}else U>G&&U<=$&&(N.push(O),A.push(B+1));if(N.length===E)break}}}return this._endLineNumbers=A,new L.StickyScrollWidgetState(N,A,T,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=p,p.ID="store.contrib.stickyScrollController",e.StickyScrollController=p=h=ke([ge(1,m.IContextMenuService),ge(2,k.ILanguageFeaturesService),ge(3,y.IInstantiationService),ge(4,g.ILanguageConfigurationService),ge(5,l.ILanguageFeatureDebounceService),ge(6,b.IContextKeyService)],p)}),define(ne[988],se([1,0,16,761,812,29,28,14,21,419]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class C extends D.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,k.localize2)(4,"Toggle Editor Sticky Scroll"),mnemonicTitle:(0,k.localize)(0,null)},metadata:{description:(0,k.localize2)(5,"Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:L.Categories.View,toggled:{condition:m.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(1,null),mnemonicTitle:(0,k.localize)(2,null)},menu:[{id:D.MenuId.CommandPalette},{id:D.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:D.MenuId.StickyScrollContext}]})}async run(l){const r=l.get(y.IConfigurationService),d=!r.getValue("editor.stickyScroll.enabled");return r.updateValue("editor.stickyScroll.enabled",d)}}e.ToggleStickyScroll=C;const o=100;class n extends f.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,k.localize2)(6,"Focus on the editor sticky scroll"),mnemonicTitle:(0,k.localize)(3,null)},precondition:m.ContextKeyExpr.and(m.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),w.EditorContextKeys.stickyScrollVisible),menu:[{id:D.MenuId.CommandPalette}]})}runEditorCommand(l,r){var d;(d=b.StickyScrollController.get(r))===null||d===void 0||d.focus()}}e.FocusStickyScroll=n;class i extends f.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,k.localize2)(7,"Select the next editor sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:18}})}runEditorCommand(l,r){var d;(d=b.StickyScrollController.get(r))===null||d===void 0||d.focusNext()}}e.SelectNextStickyScrollLine=i;class t extends f.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,k.localize2)(8,"Select the previous sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:16}})}runEditorCommand(l,r){var d;(d=b.StickyScrollController.get(r))===null||d===void 0||d.focusPrevious()}}e.SelectPreviousStickyScrollLine=t;class s extends f.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,k.localize2)(9,"Go to the focused sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:3}})}runEditorCommand(l,r){var d;(d=b.StickyScrollController.get(r))===null||d===void 0||d.goToFocused()}}e.GoToStickyScrollLine=s;class c extends f.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:(0,k.localize2)(10,"Select Editor"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:9}})}runEditorCommand(l,r){var d;(d=b.StickyScrollController.get(r))===null||d===void 0||d.selectEditor()}}e.SelectEditor=c}),define(ne[989],se([1,0,16,988,419,29]),function(X,e,f,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(L.StickyScrollController.ID,L.StickyScrollController,1),(0,D.registerAction2)(k.ToggleStickyScroll),(0,D.registerAction2)(k.FocusStickyScroll),(0,D.registerAction2)(k.SelectPreviousStickyScrollLine),(0,D.registerAction2)(k.SelectNextStickyScrollLine),(0,D.registerAction2)(k.GoToStickyScrollLine),(0,D.registerAction2)(k.SelectEditor)}),define(ne[990],se([1,0,16,36,414,28,14,8,50,99]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let C=class extends L.ReferencesController{constructor(n,i,t,s,c,g,l){super(!0,n,i,t,s,c,g,l)}};e.StandaloneReferencesController=C,e.StandaloneReferencesController=C=ke([ge(1,y.IContextKeyService),ge(2,k.ICodeEditorService),ge(3,w.INotificationService),ge(4,m.IInstantiationService),ge(5,b.IStorageService),ge(6,D.IConfigurationService)],C),(0,f.registerEditorContribution)(L.ReferencesController.ID,C,4)}),define(ne[991],se([1,0,9,2,47,107,810,175,49,50,213]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const o=!1;function n(v){return v.scheme===L.Schemas.file?v.fsPath:v.path}let i=0;class t{constructor(h,p,_,S,E,I,T){this.id=++i,this.type=0,this.actual=h,this.label=h.label,this.confirmBeforeUndo=h.confirmBeforeUndo||!1,this.resourceLabel=p,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=S,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.isValid=!0}setValid(h){this.isValid=h}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class s{constructor(h,p){this.resourceLabel=h,this.reason=p}}class c{constructor(){this.elements=new Map}createMessage(){const h=[],p=[];for(const[,S]of this.elements)(S.reason===0?h:p).push(S.resourceLabel);const _=[];return h.length>0&&_.push(y.localize(0,null,h.join(", "))),p.length>0&&_.push(y.localize(1,null,p.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(h){return this.elements.has(h)}set(h,p){this.elements.set(h,p)}delete(h){return this.elements.delete(h)}}class g{constructor(h,p,_,S,E,I,T){this.id=++i,this.type=1,this.actual=h,this.label=h.label,this.confirmBeforeUndo=h.confirmBeforeUndo||!1,this.resourceLabels=p,this.strResources=_,this.groupId=S,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(h,p,_){this.removedResources||(this.removedResources=new c),this.removedResources.has(p)||this.removedResources.set(p,new s(h,_))}setValid(h,p,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(p),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new c),this.invalidatedResources.has(p)||this.invalidatedResources.set(p,new s(h,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(h,p){this.resourceLabel=h,this.strResource=p,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const h of this._past)h.type===1&&h.removeResource(this.resourceLabel,this.strResource,0);for(const h of this._future)h.type===1&&h.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const h=[];h.push(`* ${this.strResource}:`);for(let p=0;p<this._past.length;p++)h.push(`   * [UNDO] ${this._past[p]}`);for(let p=this._future.length-1;p>=0;p--)h.push(`   * [REDO] ${this._future[p]}`);return h.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(h,p){h.type===1?h.setValid(this.resourceLabel,this.strResource,p):h.setValid(p)}setElementsValidFlag(h,p){for(const _ of this._past)p(_.actual)&&this._setElementValidFlag(_,h);for(const _ of this._future)p(_.actual)&&this._setElementValidFlag(_,h)}pushElement(h){for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(h),this.versionId++}createSnapshot(h){const p=[];for(let _=0,S=this._past.length;_<S;_++)p.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)p.push(this._future[_].id);return new C.ResourceEditStackSnapshot(h,p)}restoreSnapshot(h){const p=h.elements.length;let _=!0,S=0,E=-1;for(let T=0,N=this._past.length;T<N;T++,S++){const A=this._past[T];_&&(S>=p||A.id!==h.elements[S])&&(_=!1,E=0),!_&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let T=this._future.length-1;T>=0;T--,S++){const N=this._future[T];_&&(S>=p||N.id!==h.elements[S])&&(_=!1,I=T),!_&&N.type===1&&N.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const h=[],p=[];for(const _ of this._past)h.push(_.actual);for(const _ of this._future)p.push(_.actual);return{past:h,future:p}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(h,p){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===h){p.has(this.strResource)?this._past[_]=p.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(h,p){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===h){p.has(this.strResource)?this._future[_]=p.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(h){this._past.pop(),this._future.push(h),this.versionId++}moveForward(h){this._future.pop(),this._past.push(h),this.versionId++}}class r{constructor(h){this.editStacks=h,this._versionIds=[];for(let p=0,_=this.editStacks.length;p<_;p++)this._versionIds[p]=this.editStacks[p].versionId}isValid(){for(let h=0,p=this.editStacks.length;h<p;h++)if(this._versionIds[h]!==this.editStacks[h].versionId)return!1;return!0}}const d=new l("","");d.locked=!0;let u=class{constructor(h,p){this._dialogService=h,this._notificationService=p,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(h){for(const p of this._uriComparisonKeyComputers)if(p[0]===h.scheme)return p[1].getComparisonKey(h);return h.toString()}_print(h){console.log("------------------------------------"),console.log(`AFTER ${h}: `);const p=[];for(const _ of this._editStacks)p.push(_[1].toString());console.log(p.join(`
`))}pushElement(h,p=C.UndoRedoGroup.None,_=C.UndoRedoSource.None){if(h.type===0){const S=n(h.resource),E=this.getUriComparisonKey(h.resource);this._pushElement(new t(h,S,E,p.id,p.nextOrder(),_.id,_.nextOrder()))}else{const S=new Set,E=[],I=[];for(const T of h.resources){const N=n(T),A=this.getUriComparisonKey(T);S.has(A)||(S.add(A),E.push(N),I.push(A))}E.length===1?this._pushElement(new t(h,E[0],I[0],p.id,p.nextOrder(),_.id,_.nextOrder())):this._pushElement(new g(h,E,I,p.id,p.nextOrder(),_.id,_.nextOrder()))}o&&this._print("pushElement")}_pushElement(h){for(let p=0,_=h.strResources.length;p<_;p++){const S=h.resourceLabels[p],E=h.strResources[p];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new l(S,E),this._editStacks.set(E,I)),I.pushElement(h)}}getLastElement(h){const p=this.getUriComparisonKey(h);if(this._editStacks.has(p)){const _=this._editStacks.get(p);if(_.hasFutureElements())return null;const S=_.getClosestPastElement();return S?S.actual:null}return null}_splitPastWorkspaceElement(h,p){const _=h.actual.split(),S=new Map;for(const E of _){const I=n(E.resource),T=this.getUriComparisonKey(E.resource),N=new t(E,I,T,0,0,0,0);S.set(N.strResource,N)}for(const E of h.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(h,S)}}_splitFutureWorkspaceElement(h,p){const _=h.actual.split(),S=new Map;for(const E of _){const I=n(E.resource),T=this.getUriComparisonKey(E.resource),N=new t(E,I,T,0,0,0,0);S.set(N.strResource,N)}for(const E of h.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(h,S)}}removeElements(h){const p=typeof h=="string"?h:this.getUriComparisonKey(h);this._editStacks.has(p)&&(this._editStacks.get(p).dispose(),this._editStacks.delete(p)),o&&this._print("removeElements")}setElementsValidFlag(h,p,_){const S=this.getUriComparisonKey(h);this._editStacks.has(S)&&this._editStacks.get(S).setElementsValidFlag(p,_),o&&this._print("setElementsValidFlag")}createSnapshot(h){const p=this.getUriComparisonKey(h);return this._editStacks.has(p)?this._editStacks.get(p).createSnapshot(h):new C.ResourceEditStackSnapshot(h,[])}restoreSnapshot(h){const p=this.getUriComparisonKey(h.resource);if(this._editStacks.has(p)){const _=this._editStacks.get(p);_.restoreSnapshot(h),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(p))}o&&this._print("restoreSnapshot")}getElements(h){const p=this.getUriComparisonKey(h);return this._editStacks.has(p)?this._editStacks.get(p).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(h){if(!h)return[null,null];let p=null,_=null;for(const[S,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.sourceId===h&&(!p||I.sourceOrder>p.sourceOrder)&&(p=I,_=S)}return[p,_]}canUndo(h){if(h instanceof C.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(h.id);return!!_}const p=this.getUriComparisonKey(h);return this._editStacks.has(p)?this._editStacks.get(p).hasPastElements():!1}_onError(h,p){(0,f.onUnexpectedError)(h);for(const _ of p.strResources)this.removeElements(_);this._notificationService.error(h)}_acquireLocks(h){for(const p of h.editStacks)if(p.locked)throw new Error("Cannot acquire edit stack lock");for(const p of h.editStacks)p.locked=!0;return()=>{for(const p of h.editStacks)p.locked=!1}}_safeInvokeWithLocks(h,p,_,S,E){const I=this._acquireLocks(_);let T;try{T=p()}catch(N){return I(),S.dispose(),this._onError(N,h)}return T?T.then(()=>(I(),S.dispose(),E()),N=>(I(),S.dispose(),this._onError(N,h))):(I(),S.dispose(),E())}async _invokeWorkspacePrepare(h){if(typeof h.actual.prepareUndoRedo>"u")return k.Disposable.None;const p=h.actual.prepareUndoRedo();return typeof p>"u"?k.Disposable.None:p}_invokeResourcePrepare(h,p){if(h.actual.type!==1||typeof h.actual.prepareUndoRedo>"u")return p(k.Disposable.None);const _=h.actual.prepareUndoRedo();return _?(0,k.isDisposable)(_)?p(_):_.then(S=>p(S)):p(k.Disposable.None)}_getAffectedEditStacks(h){const p=[];for(const _ of h.strResources)p.push(this._editStacks.get(_)||d);return new r(p)}_tryToSplitAndUndo(h,p,_,S){if(p.canSplit())return this._splitPastWorkspaceElement(p,_),this._notificationService.warn(S),new a(this._undo(h,0,!0));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(S),new a}_checkWorkspaceUndo(h,p,_,S){if(p.removedResources)return this._tryToSplitAndUndo(h,p,p.removedResources,y.localize(2,null,p.label,p.removedResources.createMessage()));if(S&&p.invalidatedResources)return this._tryToSplitAndUndo(h,p,p.invalidatedResources,y.localize(3,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const T of _.editStacks)T.getClosestPastElement()!==p&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(h,p,null,y.localize(4,null,p.label,E.join(", ")));const I=[];for(const T of _.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndUndo(h,p,null,y.localize(5,null,p.label,I.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(h,p,null,y.localize(6,null,p.label))}_workspaceUndo(h,p,_){const S=this._getAffectedEditStacks(p),E=this._checkWorkspaceUndo(h,p,S,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(h,p,S,_)}_isPartOfUndoGroup(h){if(!h.groupId)return!1;for(const[,p]of this._editStacks){const _=p.getClosestPastElement();if(_){if(_===h){const S=p.getSecondClosestPastElement();if(S&&S.groupId===h.groupId)return!0}if(_.groupId===h.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(h,p,_,S){if(p.canSplit()&&!this._isPartOfUndoGroup(p)){let T;(function(R){R[R.All=0]="All",R[R.This=1]="This",R[R.Cancel=2]="Cancel"})(T||(T={}));const{result:N}=await this._dialogService.prompt({type:D.default.Info,message:y.localize(7,null,p.label),buttons:[{label:y.localize(8,null,_.editStacks.length),run:()=>T.All},{label:y.localize(9,null),run:()=>T.This}],cancelButton:{run:()=>T.Cancel}});if(N===T.Cancel)return;if(N===T.This)return this._splitPastWorkspaceElement(p,null),this._undo(h,0,!0);const A=this._checkWorkspaceUndo(h,p,_,!1);if(A)return A.returnValue;S=!0}let E;try{E=await this._invokeWorkspacePrepare(p)}catch(T){return this._onError(T,p)}const I=this._checkWorkspaceUndo(h,p,_,!0);if(I)return E.dispose(),I.returnValue;for(const T of _.editStacks)T.moveBackward(p);return this._safeInvokeWithLocks(p,()=>p.actual.undo(),_,E,()=>this._continueUndoInGroup(p.groupId,S))}_resourceUndo(h,p,_){if(!p.isValid){h.flushAllElements();return}if(h.locked){const S=y.localize(10,null,p.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(p,S=>(h.moveBackward(p),this._safeInvokeWithLocks(p,()=>p.actual.undo(),new r([h]),S,()=>this._continueUndoInGroup(p.groupId,_))))}_findClosestUndoElementInGroup(h){if(!h)return[null,null];let p=null,_=null;for(const[S,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.groupId===h&&(!p||I.groupOrder>p.groupOrder)&&(p=I,_=S)}return[p,_]}_continueUndoInGroup(h,p){if(!h)return;const[,_]=this._findClosestUndoElementInGroup(h);if(_)return this._undo(_,0,p)}undo(h){if(h instanceof C.UndoRedoSource){const[,p]=this._findClosestUndoElementWithSource(h.id);return p?this._undo(p,h.id,!1):void 0}return typeof h=="string"?this._undo(h,0,!1):this._undo(this.getUriComparisonKey(h),0,!1)}_undo(h,p=0,_){if(!this._editStacks.has(h))return;const S=this._editStacks.get(h),E=S.getClosestPastElement();if(!E)return;if(E.groupId){const[T,N]=this._findClosestUndoElementInGroup(E.groupId);if(E!==T&&N)return this._undo(N,p,_)}if((E.sourceId!==p||E.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(h,p,E);try{return E.type===1?this._workspaceUndo(h,E,_):this._resourceUndo(S,E,_)}finally{o&&this._print("undo")}}async _confirmAndContinueUndo(h,p,_){if((await this._dialogService.confirm({message:y.localize(11,null,_.label),primaryButton:y.localize(12,null),cancelButton:y.localize(13,null)})).confirmed)return this._undo(h,p,!0)}_findClosestRedoElementWithSource(h){if(!h)return[null,null];let p=null,_=null;for(const[S,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.sourceId===h&&(!p||I.sourceOrder<p.sourceOrder)&&(p=I,_=S)}return[p,_]}canRedo(h){if(h instanceof C.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(h.id);return!!_}const p=this.getUriComparisonKey(h);return this._editStacks.has(p)?this._editStacks.get(p).hasFutureElements():!1}_tryToSplitAndRedo(h,p,_,S){if(p.canSplit())return this._splitFutureWorkspaceElement(p,_),this._notificationService.warn(S),new a(this._redo(h));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(S),new a}_checkWorkspaceRedo(h,p,_,S){if(p.removedResources)return this._tryToSplitAndRedo(h,p,p.removedResources,y.localize(14,null,p.label,p.removedResources.createMessage()));if(S&&p.invalidatedResources)return this._tryToSplitAndRedo(h,p,p.invalidatedResources,y.localize(15,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const T of _.editStacks)T.getClosestFutureElement()!==p&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(h,p,null,y.localize(16,null,p.label,E.join(", ")));const I=[];for(const T of _.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndRedo(h,p,null,y.localize(17,null,p.label,I.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(h,p,null,y.localize(18,null,p.label))}_workspaceRedo(h,p){const _=this._getAffectedEditStacks(p),S=this._checkWorkspaceRedo(h,p,_,!1);return S?S.returnValue:this._executeWorkspaceRedo(h,p,_)}async _executeWorkspaceRedo(h,p,_){let S;try{S=await this._invokeWorkspacePrepare(p)}catch(I){return this._onError(I,p)}const E=this._checkWorkspaceRedo(h,p,_,!0);if(E)return S.dispose(),E.returnValue;for(const I of _.editStacks)I.moveForward(p);return this._safeInvokeWithLocks(p,()=>p.actual.redo(),_,S,()=>this._continueRedoInGroup(p.groupId))}_resourceRedo(h,p){if(!p.isValid){h.flushAllElements();return}if(h.locked){const _=y.localize(19,null,p.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(p,_=>(h.moveForward(p),this._safeInvokeWithLocks(p,()=>p.actual.redo(),new r([h]),_,()=>this._continueRedoInGroup(p.groupId))))}_findClosestRedoElementInGroup(h){if(!h)return[null,null];let p=null,_=null;for(const[S,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.groupId===h&&(!p||I.groupOrder<p.groupOrder)&&(p=I,_=S)}return[p,_]}_continueRedoInGroup(h){if(!h)return;const[,p]=this._findClosestRedoElementInGroup(h);if(p)return this._redo(p)}redo(h){if(h instanceof C.UndoRedoSource){const[,p]=this._findClosestRedoElementWithSource(h.id);return p?this._redo(p):void 0}return typeof h=="string"?this._redo(h):this._redo(this.getUriComparisonKey(h))}_redo(h){if(!this._editStacks.has(h))return;const p=this._editStacks.get(h),_=p.getClosestFutureElement();if(_){if(_.groupId){const[S,E]=this._findClosestRedoElementInGroup(_.groupId);if(_!==S&&E)return this._redo(E)}try{return _.type===1?this._workspaceRedo(h,_):this._resourceRedo(p,_)}finally{o&&this._print("redo")}}}};e.UndoRedoService=u,e.UndoRedoService=u=ke([ge(0,m.IDialogService),ge(1,b.INotificationService)],u);class a{constructor(h){this.returnValue=h}}(0,w.registerSingleton)(C.IUndoRedoService,u,1)}),define(ne[182],se([1,0,811,98,220,22,8]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.IWorkspaceContextService=void 0,e.isSingleFolderWorkspaceIdentifier=m,e.isEmptyWorkspaceIdentifier=w,e.toWorkspaceIdentifier=b,e.isWorkspaceIdentifier=C,e.isStandaloneEditorWorkspace=i,e.IWorkspaceContextService=(0,y.createDecorator)("contextService");function m(t){const s=t;return typeof s?.id=="string"&&D.URI.isUri(s.uri)}function w(t){const s=t;return typeof s?.id=="string"&&!m(t)&&!C(t)}e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function b(t,s){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,k.basename)(t)}:s?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const c=t;return c.configuration?{id:c.id,configPath:c.configuration}:c.folders.length===1?{id:c.id,uri:c.folders[0].uri}:{id:c.id}}function C(t){const s=t;return typeof s?.id=="string"&&D.URI.isUri(s.configPath)}class o{constructor(s,c,g,l,r){this._id=s,this._transient=g,this._configuration=l,this._ignorePathCasing=r,this._foldersMap=L.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=c}get folders(){return this._folders}set folders(s){this._folders=s,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(s){this._configuration=s}getFolder(s){return s&&this._foldersMap.findSubstr(s)||null}updateFoldersMap(){this._foldersMap=L.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const s of this.folders)this._foldersMap.set(s.uri,s)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=o;class n{constructor(s,c){this.raw=c,this.uri=s.uri,this.index=s.index,this.name=s.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=n,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,f.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function i(t){return t.id===e.STANDALONE_EDITOR_WORKSPACE_ID}}),define(ne[992],se([1,0,6,147,41,2,17,16,21,707,29,14,58,32,28,182]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let g=c=class{static get(d){return d.getContribution(c.ID)}constructor(d,u,a,v,h,p,_,S){this._contextMenuService=u,this._contextViewService=a,this._contextKeyService=v,this._keybindingService=h,this._menuService=p,this._configurationService=_,this._workspaceContextService=S,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=d,this._toDispose.add(this._editor.onContextMenu(E=>this._onContextMenu(E))),this._toDispose.add(this._editor.onMouseWheel(E=>{if(this._contextMenuIsBeingShownCount>0){const I=this._contextViewService.getContextViewElement(),T=E.srcElement;T.shadowRoot&&f.getShadowRoot(I)===T.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(E=>{this._editor.getOption(24)&&E.keyCode===58&&(E.preventDefault(),E.stopPropagation(),this.showContextMenu())}))}_onContextMenu(d){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),d.target.position&&!this._editor.getSelection().containsPosition(d.target.position)&&this._editor.setPosition(d.target.position);return}if(d.target.type===12||d.target.type===6&&d.target.detail.injectedText)return;if(d.event.preventDefault(),d.event.stopPropagation(),d.target.type===11)return this._showScrollbarContextMenu(d.event);if(d.target.type!==6&&d.target.type!==7&&d.target.type!==1)return;if(this._editor.focus(),d.target.position){let a=!1;for(const v of this._editor.getSelections())if(v.containsPosition(d.target.position)){a=!0;break}a||this._editor.setPosition(d.target.position)}let u=null;d.target.type!==1&&(u=d.event),this.showContextMenu(u)}showContextMenu(d){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const u=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);u.length>0&&this._doShowContextMenu(u,d)}_getMenuActions(d,u){const a=[],v=this._menuService.createMenu(u,this._contextKeyService),h=v.getActions({arg:d.uri});v.dispose();for(const p of h){const[,_]=p;let S=0;for(const E of _)if(E instanceof C.SubmenuItemAction){const I=this._getMenuActions(d,E.item.submenu);I.length>0&&(a.push(new L.SubmenuAction(E.id,E.label,I)),S++)}else a.push(E),S++;S&&a.push(new L.Separator)}return a.length&&a.pop(),a}_doShowContextMenu(d,u=null){if(!this._editor.hasModel())return;const a=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let v=u;if(!v){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const p=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),_=f.getDomNodePagePosition(this._editor.getDomNode()),S=_.left+p.left,E=_.top+p.top+p.height;v={x:S,y:E}}const h=this._editor.getOption(127)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:h?this._editor.getDomNode():void 0,getAnchor:()=>v,getActions:()=>d,getActionViewItem:p=>{const _=this._keybindingFor(p);if(_)return new k.ActionViewItem(p,p,{label:!0,keybinding:_.getLabel(),isMenu:!0});const S=p;return typeof S.getActionViewItem=="function"?S.getActionViewItem():new k.ActionViewItem(p,p,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:p=>this._keybindingFor(p),onHide:p=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:a})}})}_showScrollbarContextMenu(d){if(!this._editor.hasModel()||(0,s.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const u=this._editor.getOption(73);let a=0;const v=E=>({id:`menu-action-${++a}`,label:E.label,tooltip:"",class:void 0,enabled:typeof E.enabled>"u"?!0:E.enabled,checked:E.checked,run:E.run}),h=(E,I)=>new L.SubmenuAction(`menu-action-${++a}`,E,I,void 0),p=(E,I,T,N,A)=>{if(!I)return v({label:E,enabled:I,run:()=>{}});const R=P=>()=>{this._configurationService.updateValue(T,P)},M=[];for(const P of A)M.push(v({label:P.label,checked:N===P.value,run:R(P.value)}));return h(E,M)},_=[];_.push(v({label:b.localize(0,null),checked:u.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!u.enabled)}})),_.push(new L.Separator),_.push(v({label:b.localize(1,null),enabled:u.enabled,checked:u.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!u.renderCharacters)}})),_.push(p(b.localize(2,null),u.enabled,"editor.minimap.size",u.size,[{label:b.localize(3,null),value:"proportional"},{label:b.localize(4,null),value:"fill"},{label:b.localize(5,null),value:"fit"}])),_.push(p(b.localize(6,null),u.enabled,"editor.minimap.showSlider",u.showSlider,[{label:b.localize(7,null),value:"mouseover"},{label:b.localize(8,null),value:"always"}]));const S=this._editor.getOption(127)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:S?this._editor.getDomNode():void 0,getAnchor:()=>d,getActions:()=>_,onHide:E=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(d){return this._keybindingService.lookupKeybinding(d.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=g,g.ID="editor.contrib.contextmenu",e.ContextMenuController=g=c=ke([ge(1,n.IContextMenuService),ge(2,n.IContextViewService),ge(3,o.IContextKeyService),ge(4,i.IKeybindingService),ge(5,C.IMenuService),ge(6,t.IConfigurationService),ge(7,s.IWorkspaceContextService)],g);class l extends m.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:b.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(d,u){var a;(a=g.get(u))===null||a===void 0||a.showContextMenu()}}(0,m.registerEditorContribution)(g.ID,g,2),(0,m.registerEditorAction)(l)}),define(ne[286],se([1,0,13,190,88,2,124,47,51,22,27,18,711,182]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=e.DefaultTextPasteOrDropEditProvider=void 0;class t{async provideDocumentPasteEdits(v,h,p,_,S){const E=await this.getEdit(p,S);if(E)return{dispose(){},edits:[{insertText:E.insertText,title:E.title,kind:E.kind,handledMimeType:E.handledMimeType,yieldTo:E.yieldTo}]}}async provideDocumentDropEdits(v,h,p,_){const S=await this.getEdit(p,_);return S?[{insertText:S.insertText,title:S.title,kind:S.kind,handledMimeType:S.handledMimeType,yieldTo:S.yieldTo}]:void 0}}class s extends t{constructor(){super(...arguments),this.kind=s.kind,this.dropMimeTypes=[y.Mimes.text],this.pasteMimeTypes=[y.Mimes.text]}async getEdit(v,h){const p=v.get(y.Mimes.text);if(!p||v.has(y.Mimes.uriList))return;const _=await p.asString();return{handledMimeType:y.Mimes.text,title:(0,n.localize)(0,null),insertText:_,kind:this.kind}}}e.DefaultTextPasteOrDropEditProvider=s,s.id="text",s.kind=new L.HierarchicalKind("text.plain");class c extends t{constructor(){super(...arguments),this.kind=new L.HierarchicalKind("uri.absolute"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(v,h){const p=await r(v);if(!p.length||h.isCancellationRequested)return;let _=0;const S=p.map(({uri:I,originalText:T})=>I.scheme===m.Schemas.file?I.fsPath:(_++,T)).join(" ");let E;return _>0?E=p.length>1?(0,n.localize)(1,null):(0,n.localize)(2,null):E=p.length>1?(0,n.localize)(3,null):(0,n.localize)(4,null),{handledMimeType:y.Mimes.uriList,insertText:S,title:E,kind:this.kind}}}let g=class extends t{constructor(v){super(),this._workspaceContextService=v,this.kind=new L.HierarchicalKind("uri.relative"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(v,h){const p=await r(v);if(!p.length||h.isCancellationRequested)return;const _=(0,f.coalesce)(p.map(({uri:S})=>{const E=this._workspaceContextService.getWorkspaceFolder(S);return E?(0,w.relativePath)(E.uri,S):void 0}));if(_.length)return{handledMimeType:y.Mimes.uriList,insertText:_.join(" "),title:p.length>1?(0,n.localize)(5,null):(0,n.localize)(6,null),kind:this.kind}}};g=ke([ge(0,i.IWorkspaceContextService)],g);class l{constructor(){this.kind=new L.HierarchicalKind("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:y.Mimes.text}]}async provideDocumentPasteEdits(v,h,p,_,S){var E;if(_.triggerKind!==C.DocumentPasteTriggerKind.PasteAs&&!(!((E=_.only)===null||E===void 0)&&E.contains(this.kind)))return;const I=p.get("text/html"),T=await I?.asString();if(!(!T||S.isCancellationRequested))return{dispose(){},edits:[{insertText:T,yieldTo:this._yieldTo,title:(0,n.localize)(7,null),kind:this.kind}]}}}async function r(a){const v=a.get(y.Mimes.uriList);if(!v)return[];const h=await v.asString(),p=[];for(const _ of k.UriList.parse(h))try{p.push({uri:b.URI.parse(_),originalText:_})}catch{}return p}let d=class extends D.Disposable{constructor(v,h){super(),this._register(v.documentDropEditProvider.register("*",new s)),this._register(v.documentDropEditProvider.register("*",new c)),this._register(v.documentDropEditProvider.register("*",new g(h)))}};e.DefaultDropProvidersFeature=d,e.DefaultDropProvidersFeature=d=ke([ge(0,o.ILanguageFeaturesService),ge(1,i.IWorkspaceContextService)],d);let u=class extends D.Disposable{constructor(v,h){super(),this._register(v.documentPasteEditProvider.register("*",new s)),this._register(v.documentPasteEditProvider.register("*",new c)),this._register(v.documentPasteEditProvider.register("*",new g(h))),this._register(v.documentPasteEditProvider.register("*",new l))}};e.DefaultPasteProvidersFeature=u,e.DefaultPasteProvidersFeature=u=ke([ge(0,o.ILanguageFeaturesService),ge(1,i.IWorkspaceContextService)],u)}),define(ne[420],se([1,0,6,13,15,190,88,2,124,17,189,207,384,148,5,27,18,286,262,119,283,179,710,114,14,8,93,65,381]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new h.RawContextKey("pasteWidgetVisible",!1,(0,a.localize)(0,null));const T="application/vnd.code.copyMetadata";let N=I=class extends m.Disposable{static get(R){return R.getContribution(I.ID)}constructor(R,M,P,F,O,B,V){super(),this._bulkEditService=P,this._clipboardService=F,this._languageFeaturesService=O,this._quickInputService=B,this._progressService=V,this._editor=R;const K=R.getContainerDomNode();this._register((0,f.addDisposableListener)(K,"copy",U=>this.handleCopy(U))),this._register((0,f.addDisposableListener)(K,"cut",U=>this.handleCopy(U))),this._register((0,f.addDisposableListener)(K,"paste",U=>this.handlePaste(U),!0)),this._pasteProgressManager=this._register(new d.InlineProgressManager("pasteIntoEditor",R,M)),this._postPasteWidgetManager=this._register(M.createInstance(E.PostEditWidgetManager,"pasteIntoEditor",R,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,a.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(R){this._editor.focus();try{this._pasteAsActionContext={preferred:R},(0,f.getActiveDocument)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)}async finishedPaste(){await this._currentPasteOperation}handleCopy(R){var M,P;if(!this._editor.hasTextFocus()||(b.isWeb&&this._clipboardService.writeResources([]),!R.clipboardData||!this.isPasteAsEnabled()))return;const F=this._editor.getModel(),O=this._editor.getSelections();if(!F||!O?.length)return;const B=this._editor.getOption(37);let V=O;const K=O.length===1&&O[0].isEmpty();if(K){if(!B)return;V=[new t.Range(V[0].startLineNumber,1,V[0].startLineNumber,1+F.getLineLength(V[0].startLineNumber))]}const U=(M=this._editor._getViewModel())===null||M===void 0?void 0:M.getPlainTextToCopy(O,B,b.isWindows),z={multicursorText:Array.isArray(U)?U:null,pasteOnNewLine:K,mode:null},$=this._languageFeaturesService.documentPasteEditProvider.ordered(F).filter(Y=>!!Y.prepareDocumentPaste);if(!$.length){this.setCopyMetadata(R.clipboardData,{defaultPastePayload:z});return}const J=(0,n.toVSDataTransfer)(R.clipboardData),ee=$.flatMap(Y=>{var ae;return(ae=Y.copyMimeTypes)!==null&&ae!==void 0?ae:[]}),Z=(0,C.generateUuid)();this.setCopyMetadata(R.clipboardData,{id:Z,providerCopyMimeTypes:ee,defaultPastePayload:z});const x=(0,L.createCancelablePromise)(async Y=>{const ae=(0,k.coalesce)(await Promise.all($.map(async ue=>{try{return await ue.prepareDocumentPaste(F,V,J,Y)}catch(he){console.error(he);return}})));ae.reverse();for(const ue of ae)for(const[he,pe]of ue)J.replace(he,pe);return J});(P=I._currentCopyOperation)===null||P===void 0||P.dataTransferPromise.cancel(),I._currentCopyOperation={handle:Z,dataTransferPromise:x}}async handlePaste(R){var M,P,F,O;if(!R.clipboardData||!this._editor.hasTextFocus())return;(M=u.MessageController.get(this._editor))===null||M===void 0||M.closeMessage(),(P=this._currentPasteOperation)===null||P===void 0||P.cancel(),this._currentPasteOperation=void 0;const B=this._editor.getModel(),V=this._editor.getSelections();if(!V?.length||!B||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const K=this.fetchCopyMetadata(R),U=(0,n.toExternalVSDataTransfer)(R.clipboardData);U.delete(T);const G=[...R.clipboardData.types,...(F=K?.providerCopyMimeTypes)!==null&&F!==void 0?F:[],w.Mimes.uriList],z=this._languageFeaturesService.documentPasteEditProvider.ordered(B).filter($=>{var J,ee;const Z=(J=this._pasteAsActionContext)===null||J===void 0?void 0:J.preferred;return Z&&$.providedPasteEditKinds&&!this.providerMatchesPreference($,Z)?!1:(ee=$.pasteMimeTypes)===null||ee===void 0?void 0:ee.some(x=>(0,D.matchesMimeType)(x,G))});if(!z.length){!((O=this._pasteAsActionContext)===null||O===void 0)&&O.preferred&&this.showPasteAsNoEditMessage(V,this._pasteAsActionContext.preferred);return}R.preventDefault(),R.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,z,V,U,K):this.doPasteInline(z,V,U,K,R)}showPasteAsNoEditMessage(R,M){var P;(P=u.MessageController.get(this._editor))===null||P===void 0||P.showMessage((0,a.localize)(2,null,M instanceof y.HierarchicalKind?M.value:M.providerId),R[0].getStartPosition())}doPasteInline(R,M,P,F,O){const B=(0,L.createCancelablePromise)(async V=>{const K=this._editor;if(!K.hasModel())return;const U=K.getModel(),G=new r.EditorStateCancellationTokenSource(K,3,void 0,V);try{if(await this.mergeInDataFromCopy(P,F,G.token),G.token.isCancellationRequested)return;const z=R.filter(ee=>this.isSupportedPasteProvider(ee,P));if(!z.length||z.length===1&&z[0]instanceof g.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(P,F,G.token,O);const $={triggerKind:s.DocumentPasteTriggerKind.Automatic},J=await this.getPasteEdits(z,P,U,M,$,G.token);if(G.token.isCancellationRequested)return;if(J.length===1&&J[0].provider instanceof g.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(P,F,G.token,O);if(J.length){const ee=K.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(M,{activeEditIndex:0,allEdits:J},ee,async(Z,x)=>{var Y,ae;const ue=await((ae=(Y=Z.provider).resolveDocumentPasteEdit)===null||ae===void 0?void 0:ae.call(Y,Z,x));return ue&&(Z.additionalEdit=ue.additionalEdit),Z},G.token)}await this.applyDefaultPasteHandler(P,F,G.token,O)}finally{G.dispose(),this._currentPasteOperation===B&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(M[0].getEndPosition(),(0,a.localize)(3,null),B),this._currentPasteOperation=B}showPasteAsPick(R,M,P,F,O){const B=(0,L.createCancelablePromise)(async V=>{const K=this._editor;if(!K.hasModel())return;const U=K.getModel(),G=new r.EditorStateCancellationTokenSource(K,3,void 0,V);try{if(await this.mergeInDataFromCopy(F,O,G.token),G.token.isCancellationRequested)return;let z=M.filter(x=>this.isSupportedPasteProvider(x,F,R));R&&(z=z.filter(x=>this.providerMatchesPreference(x,R)));const $={triggerKind:s.DocumentPasteTriggerKind.PasteAs,only:R&&R instanceof y.HierarchicalKind?R:void 0};let J=await this.getPasteEdits(z,F,U,P,$,G.token);if(G.token.isCancellationRequested)return;if(R&&(J=J.filter(x=>R instanceof y.HierarchicalKind?R.contains(x.kind):R.providerId===x.provider.id)),!J.length){$.only&&this.showPasteAsNoEditMessage(P,$.only);return}let ee;if(R)ee=J.at(0);else{const x=await this._quickInputService.pick(J.map(Y=>{var ae;return{label:Y.title,description:(ae=Y.kind)===null||ae===void 0?void 0:ae.value,edit:Y}}),{placeHolder:(0,a.localize)(4,null)});ee=x?.edit}if(!ee)return;const Z=(0,l.createCombinedWorkspaceEdit)(U.uri,P,ee);await this._bulkEditService.apply(Z,{editor:this._editor})}finally{G.dispose(),this._currentPasteOperation===B&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:(0,a.localize)(5,null)},()=>B)}setCopyMetadata(R,M){R.setData(T,JSON.stringify(M))}fetchCopyMetadata(R){var M;if(!R.clipboardData)return;const P=R.clipboardData.getData(T);if(P)try{return JSON.parse(P)}catch{return}const[F,O]=o.ClipboardEventUtils.getTextData(R.clipboardData);if(O)return{defaultPastePayload:{mode:O.mode,multicursorText:(M=O.multicursorText)!==null&&M!==void 0?M:null,pasteOnNewLine:!!O.isFromEmptySelection}}}async mergeInDataFromCopy(R,M,P){var F;if(M?.id&&((F=I._currentCopyOperation)===null||F===void 0?void 0:F.handle)===M.id){const O=await I._currentCopyOperation.dataTransferPromise;if(P.isCancellationRequested)return;for(const[B,V]of O)R.replace(B,V)}if(!R.has(w.Mimes.uriList)){const O=await this._clipboardService.readResources();if(P.isCancellationRequested)return;O.length&&R.append(w.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(O)))}}async getPasteEdits(R,M,P,F,O,B){const V=await(0,L.raceCancellation)(Promise.all(R.map(async U=>{var G,z;try{const $=await((G=U.provideDocumentPasteEdits)===null||G===void 0?void 0:G.call(U,P,F,M,O,B));return(z=$?.edits)===null||z===void 0?void 0:z.map(J=>({...J,provider:U}))}catch($){console.error($)}})),B),K=(0,k.coalesce)(V??[]).flat().filter(U=>!O.only||O.only.contains(U.kind));return(0,l.sortEditsByYieldTo)(K)}async applyDefaultPasteHandler(R,M,P,F){var O,B,V,K;const U=(O=R.get(w.Mimes.text))!==null&&O!==void 0?O:R.get("text"),G=(B=await U?.asString())!==null&&B!==void 0?B:"";if(P.isCancellationRequested)return;const z={clipboardEvent:F,text:G,pasteOnNewLine:(V=M?.defaultPastePayload.pasteOnNewLine)!==null&&V!==void 0?V:!1,multicursorText:(K=M?.defaultPastePayload.multicursorText)!==null&&K!==void 0?K:null,mode:null};this._editor.trigger("keyboard","paste",z)}isSupportedPasteProvider(R,M,P){var F;return!((F=R.pasteMimeTypes)===null||F===void 0)&&F.some(O=>M.matches(O))?!P||this.providerMatchesPreference(R,P):!1}providerMatchesPreference(R,M){return M instanceof y.HierarchicalKind?R.providedPasteEditKinds?R.providedPasteEditKinds.some(P=>M.contains(P)):!0:R.id===M.providerId}};e.CopyPasteController=N,N.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=N=I=ke([ge(1,p.IInstantiationService),ge(2,i.IBulkEditService),ge(3,v.IClipboardService),ge(4,c.ILanguageFeaturesService),ge(5,S.IQuickInputService),ge(6,_.IProgressService)],N)}),define(ne[993],se([1,0,66,6,17,207,16,36,21,420,696,29,114,14]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",s=L.isNative||document.queryCommandSupported("cut"),c=L.isNative||document.queryCommandSupported("copy"),g=typeof navigator.clipboard>"u"||f.isFirefox?document.queryCommandSupported("paste"):!0;function l(u){return u.register(),u}e.CutAction=s?l(new y.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:L.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:o.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(0,null),order:1},{menuId:o.MenuId.EditorContext,group:t,title:C.localize(1,null),when:w.EditorContextKeys.writable,order:1},{menuId:o.MenuId.CommandPalette,group:"",title:C.localize(2,null),order:1},{menuId:o.MenuId.SimpleEditorContext,group:t,title:C.localize(3,null),when:w.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=c?l(new y.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:L.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:o.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(4,null),order:2},{menuId:o.MenuId.EditorContext,group:t,title:C.localize(5,null),order:2},{menuId:o.MenuId.CommandPalette,group:"",title:C.localize(6,null),order:1},{menuId:o.MenuId.SimpleEditorContext,group:t,title:C.localize(7,null),order:2}]})):void 0,o.MenuRegistry.appendMenuItem(o.MenuId.MenubarEditMenu,{submenu:o.MenuId.MenubarCopy,title:C.localize2(13,"Copy As"),group:"2_ccp",order:3}),o.MenuRegistry.appendMenuItem(o.MenuId.EditorContext,{submenu:o.MenuId.EditorContextCopy,title:C.localize2(14,"Copy As"),group:t,order:3}),o.MenuRegistry.appendMenuItem(o.MenuId.EditorContext,{submenu:o.MenuId.EditorContextShare,title:C.localize2(15,"Share"),group:"11_share",order:-1,when:i.ContextKeyExpr.and(i.ContextKeyExpr.notEquals("resourceScheme","output"),w.EditorContextKeys.editorTextFocus)}),o.MenuRegistry.appendMenuItem(o.MenuId.ExplorerContext,{submenu:o.MenuId.ExplorerContextShare,title:C.localize2(16,"Share"),group:"11_share",order:-1}),e.PasteAction=g?l(new y.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:L.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:o.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(8,null),order:4},{menuId:o.MenuId.EditorContext,group:t,title:C.localize(9,null),when:w.EditorContextKeys.writable,order:4},{menuId:o.MenuId.CommandPalette,group:"",title:C.localize(10,null),order:1},{menuId:o.MenuId.SimpleEditorContext,group:t,title:C.localize(11,null),when:w.EditorContextKeys.writable,order:4}]})):void 0;class r extends y.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.localize(12,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(a,v){!v.hasModel()||!v.getOption(37)&&v.getSelection().isEmpty()||(D.CopyOptions.forceCopyWithSyntaxHighlighting=!0,v.focus(),v.getContainerDomNode().ownerDocument.execCommand("copy"),D.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function d(u,a){u&&(u.addImplementation(1e4,"code-editor",(v,h)=>{const p=v.get(m.ICodeEditorService).getFocusedCodeEditor();if(p&&p.hasTextFocus()){const _=p.getOption(37),S=p.getSelection();return S&&S.isEmpty()&&!_||p.getContainerDomNode().ownerDocument.execCommand(a),!0}return!1}),u.addImplementation(0,"generic-dom",(v,h)=>((0,k.getActiveDocument)().execCommand(a),!0)))}d(e.CutAction,"cut"),d(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(u,a)=>{var v,h;const p=u.get(m.ICodeEditorService),_=u.get(n.IClipboardService),S=p.getFocusedCodeEditor();return S&&S.hasTextFocus()?S.getContainerDomNode().ownerDocument.execCommand("paste")?(h=(v=b.CopyPasteController.get(S))===null||v===void 0?void 0:v.finishedPaste())!==null&&h!==void 0?h:Promise.resolve():L.isWeb?(async()=>{const I=await _.readText();if(I!==""){const T=D.InMemoryClipboardMetadataManager.INSTANCE.get(I);let N=!1,A=null,R=null;T&&(N=S.getOption(37)&&!!T.isFromEmptySelection,A=typeof T.multicursorText<"u"?T.multicursorText:null,R=T.mode),S.trigger("keyboard","paste",{text:I,pasteOnNewLine:N,multicursorText:A,mode:R})}})():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(u,a)=>((0,k.getActiveDocument)().execCommand("paste"),!0))),c&&(0,y.registerEditorAction)(r)}),define(ne[994],se([1,0,88,16,21,143,420,286,709]),function(X,e,f,k,L,D,y,m,w){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),(0,k.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,D.registerEditorFeature)(m.DefaultPasteProvidersFeature),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(C,o){var n;return(n=y.CopyPasteController.get(o))===null||n===void 0?void 0:n.changePasteType()}}),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:"editor.hidePasteWidget",precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(C,o){var n;(n=y.CopyPasteController.get(o))===null||n===void 0||n.clearWidgets()}}),(0,k.registerEditorAction)((b=class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:w.localize(1,null),alias:"Paste As...",precondition:L.EditorContextKeys.writable,metadata:{description:"Paste as",args:[{name:"args",schema:b.argsSchema}]}})}run(o,n,i){var t;let s=typeof i?.kind=="string"?i.kind:void 0;return!s&&i&&(s=typeof i.id=="string"?i.id:void 0),(t=y.CopyPasteController.get(n))===null||t===void 0?void 0:t.pasteAs(s?new f.HierarchicalKind(s):void 0)}},b.argsSchema={type:"object",properties:{kind:{type:"string",description:w.localize(0,null)}}},b)),(0,k.registerEditorAction)(class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAsText",label:w.localize(2,null),alias:"Paste as Text",precondition:L.EditorContextKeys.writable})}run(C,o){var n;return(n=y.CopyPasteController.get(o))===null||n===void 0?void 0:n.pasteAs({providerId:m.DefaultTextPasteOrDropEditProvider.id})}})}),define(ne[995],se([1,0,16,268,143,286,712,105,39,969]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(b.DropIntoEditorController.ID,b.DropIntoEditorController,2),(0,L.registerEditorFeature)(D.DefaultDropProvidersFeature),(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:b.changeDropTypeCommandId,precondition:b.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(C,o,n){var i;(i=b.DropIntoEditorController.get(o))===null||i===void 0||i.changeDropType()}}),(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:"editor.hideDropWidget",precondition:b.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(C,o,n){var i;(i=b.DropIntoEditorController.get(o))===null||i===void 0||i.clearWidgets()}}),w.Registry.as(m.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{[b.defaultProviderConfig]:{type:"object",scope:5,description:y.localize(0,null),default:{},additionalProperties:{type:"string"}}}})}),define(ne[996],se([1,0,624,98,51,11,189,35,132,760,182]),function(X,e,f,k,L,D,y,m,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class o{constructor(d){this._delegates=d}resolve(d){for(const u of this._delegates){const a=u.resolve(d);if(a!==void 0)return a}}}e.CompositeSnippetVariableResolver=o;class n{constructor(d,u,a,v){this._model=d,this._selection=u,this._selectionIdx=a,this._overtypingCapturer=v}resolve(d){const{name:u}=d;if(u==="SELECTION"||u==="TM_SELECTED_TEXT"){let a=this._model.getValueInRange(this._selection)||void 0,v=this._selection.startLineNumber!==this._selection.endLineNumber;if(!a&&this._overtypingCapturer){const h=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);h&&(a=h.value,v=h.multiline)}if(a&&v&&d.snippet){const h=this._model.getLineContent(this._selection.startLineNumber),p=(0,D.getLeadingWhitespace)(h,0,this._selection.startColumn-1);let _=p;d.snippet.walk(E=>E===d?!1:(E instanceof w.Text&&(_=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const S=(0,D.commonPrefixLength)(_,p);a=a.replace(/(\r\n|\r|\n)(.*)/g,(E,I,T)=>`${I}${_.substr(S)}${T}`)}return a}else{if(u==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(u==="TM_CURRENT_WORD"){const a=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return a&&a.word||void 0}else{if(u==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(u==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(u==="CURSOR_INDEX")return String(this._selectionIdx);if(u==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=n;class i{constructor(d,u){this._labelService=d,this._model=u}resolve(d){const{name:u}=d;if(u==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(u==="TM_FILENAME_BASE"){const a=k.basename(this._model.uri.fsPath),v=a.lastIndexOf(".");return v<=0?a:a.slice(0,v)}else{if(u==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,L.dirname)(this._model.uri));if(u==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(u==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=i;class t{constructor(d,u,a,v){this._readClipboardText=d,this._selectionIdx=u,this._selectionCount=a,this._spread=v}resolve(d){if(d.name!=="CLIPBOARD")return;const u=this._readClipboardText();if(u){if(this._spread){const a=u.split(/\r\n|\n|\r/).filter(v=>!(0,D.isFalsyOrWhitespace)(v));if(a.length===this._selectionCount)return a[this._selectionIdx]}return u}}}e.ClipboardBasedVariableResolver=t;let s=class{constructor(d,u,a){this._model=d,this._selection=u,this._languageConfigurationService=a}resolve(d){const{name:u}=d,a=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),v=this._languageConfigurationService.getLanguageConfiguration(a).comments;if(v){if(u==="LINE_COMMENT")return v.lineCommentToken||void 0;if(u==="BLOCK_COMMENT_START")return v.blockCommentStartToken||void 0;if(u==="BLOCK_COMMENT_END")return v.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=s,e.CommentBasedVariableResolver=s=ke([ge(2,m.ILanguageConfigurationService)],s);class c{constructor(){this._date=new Date}resolve(d){const{name:u}=d;if(u==="CURRENT_YEAR")return String(this._date.getFullYear());if(u==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(u==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(u==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(u==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(u==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(u==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(u==="CURRENT_DAY_NAME")return c.dayNames[this._date.getDay()];if(u==="CURRENT_DAY_NAME_SHORT")return c.dayNamesShort[this._date.getDay()];if(u==="CURRENT_MONTH_NAME")return c.monthNames[this._date.getMonth()];if(u==="CURRENT_MONTH_NAME_SHORT")return c.monthNamesShort[this._date.getMonth()];if(u==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(u==="CURRENT_TIMEZONE_OFFSET"){const a=this._date.getTimezoneOffset(),v=a>0?"-":"+",h=Math.trunc(Math.abs(a/60)),p=h<10?"0"+h:h,_=Math.abs(a)-h*60,S=_<10?"0"+_:_;return v+p+":"+S}}}e.TimeBasedVariableResolver=c,c.dayNames=[b.localize(0,null),b.localize(1,null),b.localize(2,null),b.localize(3,null),b.localize(4,null),b.localize(5,null),b.localize(6,null)],c.dayNamesShort=[b.localize(7,null),b.localize(8,null),b.localize(9,null),b.localize(10,null),b.localize(11,null),b.localize(12,null),b.localize(13,null)],c.monthNames=[b.localize(14,null),b.localize(15,null),b.localize(16,null),b.localize(17,null),b.localize(18,null),b.localize(19,null),b.localize(20,null),b.localize(21,null),b.localize(22,null),b.localize(23,null),b.localize(24,null),b.localize(25,null)],c.monthNamesShort=[b.localize(26,null),b.localize(27,null),b.localize(28,null),b.localize(29,null),b.localize(30,null),b.localize(31,null),b.localize(32,null),b.localize(33,null),b.localize(34,null),b.localize(35,null),b.localize(36,null),b.localize(37,null)];class g{constructor(d){this._workspaceService=d}resolve(d){if(!this._workspaceService)return;const u=(0,C.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,C.isEmptyWorkspaceIdentifier)(u)){if(d.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(u);if(d.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(u)}}_resolveWorkspaceName(d){if((0,C.isSingleFolderWorkspaceIdentifier)(d))return k.basename(d.uri.path);let u=k.basename(d.configPath.path);return u.endsWith(C.WORKSPACE_EXTENSION)&&(u=u.substr(0,u.length-C.WORKSPACE_EXTENSION.length-1)),u}_resoveWorkspacePath(d){if((0,C.isSingleFolderWorkspaceIdentifier)(d))return(0,f.normalizeDriveLetter)(d.uri.fsPath);const u=k.basename(d.configPath.path);let a=d.configPath.fsPath;return a.endsWith(u)&&(a=a.substr(0,a.length-u.length-1)),a?(0,f.normalizeDriveLetter)(a):"/"}}e.WorkspaceBasedVariableResolver=g;class l{resolve(d){const{name:u}=d;if(u==="RANDOM")return Math.random().toString().slice(-6);if(u==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(u==="UUID")return(0,y.generateUuid)()}}e.RandomBasedVariableResolver=l}),define(ne[421],se([1,0,13,2,11,73,5,24,35,37,177,182,132,996,509]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class s{constructor(r,d,u){this._editor=r,this._snippet=d,this._snippetLineLeadingWhitespace=u,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,f.groupBy)(d.placeholders,n.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(r){this._offset=r.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const r=this._editor.getModel();this._editor.changeDecorations(d=>{for(const u of this._snippet.placeholders){const a=this._snippet.offset(u),v=this._snippet.fullLen(u),h=y.Range.fromPositions(r.getPositionAt(this._offset+a),r.getPositionAt(this._offset+a+v)),p=u.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive,_=d.addDecoration(h,p);this._placeholderDecorations.set(u,_)}})}move(r){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const a=[];for(const v of this._placeholderGroups[this._placeholderGroupsIdx])if(v.transform){const h=this._placeholderDecorations.get(v),p=this._editor.getModel().getDecorationRange(h),_=this._editor.getModel().getValueInRange(p),S=v.transform.resolve(_).split(/\r\n|\r|\n/);for(let E=1;E<S.length;E++)S[E]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+S[E]);a.push(D.EditOperation.replace(p,S.join(this._editor.getModel().getEOL())))}a.length>0&&this._editor.executeEdits("snippet.placeholderTransform",a)}let d=!1;r===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,d=!0):r===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,d=!0);const u=this._editor.getModel().changeDecorations(a=>{const v=new Set,h=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const _=this._placeholderDecorations.get(p),S=this._editor.getModel().getDecorationRange(_);h.push(new m.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)),d=d&&this._hasPlaceholderBeenCollapsed(p),a.changeDecorationOptions(_,p.isFinalTabstop?s._decor.activeFinal:s._decor.active),v.add(p);for(const E of this._snippet.enclosingPlaceholders(p)){const I=this._placeholderDecorations.get(E);a.changeDecorationOptions(I,E.isFinalTabstop?s._decor.activeFinal:s._decor.active),v.add(E)}}for(const[p,_]of this._placeholderDecorations)v.has(p)||a.changeDecorationOptions(_,p.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive);return h});return d?this.move(r):u??[]}_hasPlaceholderBeenCollapsed(r){let d=r;for(;d;){if(d instanceof n.Placeholder){const u=this._placeholderDecorations.get(d);if(this._editor.getModel().getDecorationRange(u).isEmpty()&&d.toString().length>0)return!0}d=d.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[r]=this._snippet.placeholders;if(r.isFinalTabstop&&this._snippet.rightMostDescendant===r)return!0}return!1}computePossibleSelections(){const r=new Map;for(const d of this._placeholderGroups){let u;for(const a of d){if(a.isFinalTabstop)break;u||(u=[],r.set(a.index,u));const v=this._placeholderDecorations.get(a),h=this._editor.getModel().getDecorationRange(v);if(!h){r.delete(a.index);break}u.push(h)}}return r}get activeChoice(){if(!this._placeholderDecorations)return;const r=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!r?.choice)return;const d=this._placeholderDecorations.get(r);if(!d)return;const u=this._editor.getModel().getDecorationRange(d);if(u)return{range:u,choice:r.choice}}get hasChoice(){let r=!1;return this._snippet.walk(d=>(r=d instanceof n.Choice,!r)),r}merge(r){const d=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(u=>{for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){const v=r.shift();console.assert(v._offset!==-1),console.assert(!v._placeholderDecorations);const h=v._snippet.placeholderInfo.last.index;for(const _ of v._snippet.placeholderInfo.all)_.isFinalTabstop?_.index=a.index+(h+1)/this._nestingLevel:_.index=a.index+_.index/this._nestingLevel;this._snippet.replace(a,v._snippet.children);const p=this._placeholderDecorations.get(a);u.removeDecoration(p),this._placeholderDecorations.delete(a);for(const _ of v._snippet.placeholders){const S=v._snippet.offset(_),E=v._snippet.fullLen(_),I=y.Range.fromPositions(d.getPositionAt(v._offset+S),d.getPositionAt(v._offset+S+E)),T=u.addDecoration(I,s._decor.inactive);this._placeholderDecorations.set(_,T)}}this._placeholderGroups=(0,f.groupBy)(this._snippet.placeholders,n.Placeholder.compareByIndex)})}}e.OneSnippet=s,s._decor={active:b.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:b.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:b.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:b.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const c={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let g=t=class{static adjustWhitespace(r,d,u,a,v){const h=r.getLineContent(d.lineNumber),p=(0,L.getLeadingWhitespace)(h,0,d.column-1);let _;return a.walk(S=>{if(!(S instanceof n.Text)||S.parent instanceof n.Choice||v&&!v.has(S))return!0;const E=S.value.split(/\r\n|\r|\n/);if(u){const T=a.offset(S);if(T===0)E[0]=r.normalizeIndentation(E[0]);else{_=_??a.toString();const N=_.charCodeAt(T-1);(N===10||N===13)&&(E[0]=r.normalizeIndentation(p+E[0]))}for(let N=1;N<E.length;N++)E[N]=r.normalizeIndentation(p+E[N])}const I=E.join(r.getEOL());return I!==S.value&&(S.parent.replace(S,[new n.Text(I)]),_=void 0),!0}),p}static adjustSelection(r,d,u,a){if(u!==0||a!==0){const{positionLineNumber:v,positionColumn:h}=d,p=h-u,_=h+a,S=r.validateRange({startLineNumber:v,startColumn:p,endLineNumber:v,endColumn:_});d=m.Selection.createWithDirection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn,d.getDirection())}return d}static createEditsAndSnippetsFromSelections(r,d,u,a,v,h,p,_,S){const E=[],I=[];if(!r.hasModel())return{edits:E,snippets:I};const T=r.getModel(),N=r.invokeWithinContext(B=>B.get(o.IWorkspaceContextService)),A=r.invokeWithinContext(B=>new i.ModelBasedVariableResolver(B.get(C.ILabelService),T)),R=()=>p,M=T.getValueInRange(t.adjustSelection(T,r.getSelection(),u,0)),P=T.getValueInRange(t.adjustSelection(T,r.getSelection(),0,a)),F=T.getLineFirstNonWhitespaceColumn(r.getSelection().positionLineNumber),O=r.getSelections().map((B,V)=>({selection:B,idx:V})).sort((B,V)=>y.Range.compareRangesUsingStarts(B.selection,V.selection));for(const{selection:B,idx:V}of O){let K=t.adjustSelection(T,B,u,0),U=t.adjustSelection(T,B,0,a);M!==T.getValueInRange(K)&&(K=B),P!==T.getValueInRange(U)&&(U=B);const G=B.setStartPosition(K.startLineNumber,K.startColumn).setEndPosition(U.endLineNumber,U.endColumn),z=new n.SnippetParser().parse(d,!0,v),$=G.getStartPosition(),J=t.adjustWhitespace(T,$,h||V>0&&F!==T.getLineFirstNonWhitespaceColumn(B.positionLineNumber),z);z.resolveVariables(new i.CompositeSnippetVariableResolver([A,new i.ClipboardBasedVariableResolver(R,V,O.length,r.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(T,B,V,_),new i.CommentBasedVariableResolver(T,B,S),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(N),new i.RandomBasedVariableResolver])),E[V]=D.EditOperation.replace(G,z.toString()),E[V].identifier={major:V,minor:0},E[V]._isTracked=!0,I[V]=new s(r,z,J)}return{edits:E,snippets:I}}static createEditsAndSnippetsFromEdits(r,d,u,a,v,h,p){if(!r.hasModel()||d.length===0)return{edits:[],snippets:[]};const _=[],S=r.getModel(),E=new n.SnippetParser,I=new n.TextmateSnippet,T=new i.CompositeSnippetVariableResolver([r.invokeWithinContext(A=>new i.ModelBasedVariableResolver(A.get(C.ILabelService),S)),new i.ClipboardBasedVariableResolver(()=>v,0,r.getSelections().length,r.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(S,r.getSelection(),0,h),new i.CommentBasedVariableResolver(S,r.getSelection(),p),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(r.invokeWithinContext(A=>A.get(o.IWorkspaceContextService))),new i.RandomBasedVariableResolver]);d=d.sort((A,R)=>y.Range.compareRangesUsingStarts(A.range,R.range));let N=0;for(let A=0;A<d.length;A++){const{range:R,template:M}=d[A];if(A>0){const V=d[A-1].range,K=y.Range.fromPositions(V.getEndPosition(),R.getStartPosition()),U=new n.Text(S.getValueInRange(K));I.appendChild(U),N+=U.value.length}const P=E.parseFragment(M,I);t.adjustWhitespace(S,R.getStartPosition(),!0,I,new Set(P)),I.resolveVariables(T);const F=I.toString(),O=F.slice(N);N=F.length;const B=D.EditOperation.replace(R,O);B.identifier={major:A,minor:0},B._isTracked=!0,_.push(B)}return E.ensureFinalTabstop(I,u,!0),{edits:_,snippets:[new s(r,I,"")]}}constructor(r,d,u=c,a){this._editor=r,this._template=d,this._options=u,this._languageConfigurationService=a,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:r,snippets:d}=typeof this._template=="string"?t.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):t.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=d,this._editor.executeEdits("snippet",r,u=>{const a=u.filter(v=>!!v.identifier);for(let v=0;v<d.length;v++)d[v].initialize(a[v].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):a.map(v=>m.Selection.fromPositions(v.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(r,d=c){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,r]);const{edits:u,snippets:a}=t.createEditsAndSnippetsFromSelections(this._editor,r,d.overwriteBefore,d.overwriteAfter,!0,d.adjustWhitespace,d.clipboardText,d.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",u,v=>{const h=v.filter(_=>!!_.identifier);for(let _=0;_<a.length;_++)a[_].initialize(h[_].textChange);const p=a[0].isTrivialSnippet;if(!p){for(const _ of this._snippets)_.merge(a);console.assert(a.length===0)}return this._snippets[0].hasPlaceholder&&!p?this._move(void 0):h.map(_=>m.Selection.fromPositions(_.range.getEndPosition()))})}next(){const r=this._move(!0);this._editor.setSelections(r),this._editor.revealPositionInCenterIfOutsideViewport(r[0].getPosition())}prev(){const r=this._move(!1);this._editor.setSelections(r),this._editor.revealPositionInCenterIfOutsideViewport(r[0].getPosition())}_move(r){const d=[];for(const u of this._snippets){const a=u.move(r);d.push(...a)}return d}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const r=this._editor.getSelections();if(r.length<this._snippets.length)return!1;const d=new Map;for(const u of this._snippets){const a=u.computePossibleSelections();if(d.size===0)for(const[v,h]of a){h.sort(y.Range.compareRangesUsingStarts);for(const p of r)if(h[0].containsRange(p)){d.set(v,[]);break}}if(d.size===0)return!1;d.forEach((v,h)=>{v.push(...a.get(h))})}r.sort(y.Range.compareRangesUsingStarts);for(const[u,a]of d){if(a.length!==r.length){d.delete(u);continue}a.sort(y.Range.compareRangesUsingStarts);for(let v=0;v<a.length;v++)if(!a[v].containsRange(r[v])){d.delete(u);continue}}return d.size>0}};e.SnippetSession=g,e.SnippetSession=g=t=ke([ge(3,w.ILanguageConfigurationService)],g)}),define(ne[217],se([1,0,2,20,16,10,21,35,18,150,759,14,63,421]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const s={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let c=t=class{static get(r){return r.getContribution(t.ID)}constructor(r,d,u,a,v){this._editor=r,this._logService=d,this._languageFeaturesService=u,this._languageConfigurationService=v,this._snippetListener=new f.DisposableStore,this._modelVersionId=-1,this._inSnippet=t.InSnippetMode.bindTo(a),this._hasNextTabstop=t.HasNextTabstop.bindTo(a),this._hasPrevTabstop=t.HasPrevTabstop.bindTo(a)}dispose(){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(r=this._session)===null||r===void 0||r.dispose(),this._snippetListener.dispose()}insert(r,d){try{this._doInsert(r,typeof d>"u"?s:{...s,...d})}catch(u){this.cancel(),this._logService.error(u),this._logService.error("snippet_error"),this._logService.error("insert_template=",r),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(r,d){var u;if(this._editor.hasModel()){if(this._snippetListener.clear(),d.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof r!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof r=="string"),this._session.merge(r,d)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,r,d,this._languageConfigurationService),this._session.insert()),d.undoStopAfter&&this._editor.getModel().pushStackElement(),!((u=this._session)===null||u===void 0)&&u.hasChoice){const a={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(E,I)=>{if(!this._session||E!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),I))return;const{activeChoice:T}=this._session;if(!T||T.choice.options.length===0)return;const N=E.getValueInRange(T.range),A=!!T.choice.options.find(M=>M.value===N),R=[];for(let M=0;M<T.choice.options.length;M++){const P=T.choice.options[M];R.push({kind:13,label:P.value,insertText:P.value,sortText:"a".repeat(M+1),range:T.range,filterText:A?`${N}_${P.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,C.localize)(3,null)}})}return{suggestions:R}}},v=this._editor.getModel();let h,p=!1;const _=()=>{h?.dispose(),p=!1},S=()=>{p||(h=this._languageFeaturesService.completionProvider.register({language:v.getLanguageId(),pattern:v.uri.fsPath,scheme:v.uri.scheme,exclusive:!0},a),this._snippetListener.add(h),p=!0)};this._choiceCompletions={provider:a,enable:S,disable:_}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(a=>a.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var r;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:d}=this._session;if(!d||!this._choiceCompletions){(r=this._choiceCompletions)===null||r===void 0||r.disable(),this._currentChoice=void 0;return}this._currentChoice!==d.choice&&(this._currentChoice=d.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,b.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(r=!1){var d;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(d=this._session)===null||d===void 0||d.dispose(),this._session=void 0,this._modelVersionId=-1,r&&this._editor.setSelections([this._editor.getSelection()])}prev(){var r;(r=this._session)===null||r===void 0||r.prev(),this._updateState()}next(){var r;(r=this._session)===null||r===void 0||r.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=c,c.ID="snippetController2",c.InSnippetMode=new o.RawContextKey("inSnippetMode",!1,(0,C.localize)(0,null)),c.HasNextTabstop=new o.RawContextKey("hasNextTabstop",!1,(0,C.localize)(1,null)),c.HasPrevTabstop=new o.RawContextKey("hasPrevTabstop",!1,(0,C.localize)(2,null)),e.SnippetController2=c=t=ke([ge(1,n.ILogService),ge(2,w.ILanguageFeaturesService),ge(3,o.IContextKeyService),ge(4,m.ILanguageConfigurationService)],c),(0,L.registerEditorContribution)(c.ID,c,4);const g=L.EditorCommand.bindToContribution(c.get);(0,L.registerEditorCommand)(new g({id:"jumpToNextSnippetPlaceholder",precondition:o.ContextKeyExpr.and(c.InSnippetMode,c.HasNextTabstop),handler:l=>l.next(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:2}})),(0,L.registerEditorCommand)(new g({id:"jumpToPrevSnippetPlaceholder",precondition:o.ContextKeyExpr.and(c.InSnippetMode,c.HasPrevTabstop),handler:l=>l.prev(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:1026}})),(0,L.registerEditorCommand)(new g({id:"leaveSnippet",precondition:c.InSnippetMode,handler:l=>l.cancel(!0),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,L.registerEditorCommand)(new g({id:"acceptSnippet",precondition:c.InSnippetMode,handler:l=>l.finish()}))}),define(ne[997],se([1,0,13,68,155,9,2,30,11,20,73,10,5,24,109,108,27,35,199,854,242,200,217,25,8]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0,e.getSecondaryEdits=S;var p;(function(T){T[T.Undo=0]="Undo",T[T.Redo=1]="Redo",T[T.AcceptWord=2]="AcceptWord",T[T.Other=3]="Other"})(p||(e.VersionIdChangeReason=p={}));let _=class extends y.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(N,A,R,M,P,F,O,B,V,K,U,G){super(),this.textModel=N,this.selectedSuggestItem=A,this.textModelVersionId=R,this._positions=M,this._debounceValue=P,this._suggestPreviewEnabled=F,this._suggestPreviewMode=O,this._inlineSuggestMode=B,this._enabled=V,this._instantiationService=K,this._commandService=U,this._languageConfigurationService=G,this._source=this._register(this._instantiationService.createInstance(r.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,m.observableValue)(this,!1),this._forceUpdateExplicitlySignal=(0,m.observableSignal)(this),this._selectedInlineCompletionId=(0,m.observableValue)(this,void 0),this._primaryPosition=(0,m.derived)(this,$=>{var J;return(J=this._positions.read($)[0])!==null&&J!==void 0?J:new o.Position(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([p.Redo,p.Undo,p.AcceptWord]),this._fetchInlineCompletionsPromise=(0,m.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:c.InlineCompletionTriggerKind.Automatic}),handleChange:($,J)=>($.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has($.change)?J.preserveCurrentCompletion=!0:$.didChange(this._forceUpdateExplicitlySignal)&&(J.inlineCompletionTriggerKind=c.InlineCompletionTriggerKind.Explicit),!0)},($,J)=>{if(this._forceUpdateExplicitlySignal.read($),!(this._enabled.read($)&&this.selectedSuggestItem.read($)||this._isActive.read($))){this._source.cancelUpdate();return}this.textModelVersionId.read($);const Z=this._source.suggestWidgetInlineCompletions.get(),x=this.selectedSuggestItem.read($);if(Z&&!x){const pe=this._source.inlineCompletions.get();(0,m.transaction)(ce=>{(!pe||Z.request.versionId>pe.request.versionId)&&this._source.inlineCompletions.set(Z.clone(),ce),this._source.clearSuggestWidgetInlineCompletions(ce)})}const Y=this._primaryPosition.read($),ae={triggerKind:J.inlineCompletionTriggerKind,selectedSuggestionInfo:x?.toSelectedSuggestionInfo()},ue=this.selectedInlineCompletion.get(),he=J.preserveCurrentCompletion||ue?.forwardStable?ue:void 0;return this._source.fetch(Y,ae,he)}),this._filteredInlineCompletionItems=(0,m.derivedOpts)({owner:this,equalsFn:(0,L.itemsEquals)()},$=>{const J=this._source.inlineCompletions.read($);if(!J)return[];const ee=this._primaryPosition.read($);return J.inlineCompletions.filter(x=>x.isVisible(this.textModel,ee,$))}),this.selectedInlineCompletionIndex=(0,m.derived)(this,$=>{const J=this._selectedInlineCompletionId.read($),ee=this._filteredInlineCompletionItems.read($),Z=this._selectedInlineCompletionId===void 0?-1:ee.findIndex(x=>x.semanticId===J);return Z===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):Z}),this.selectedInlineCompletion=(0,m.derived)(this,$=>{const J=this._filteredInlineCompletionItems.read($),ee=this.selectedInlineCompletionIndex.read($);return J[ee]}),this.activeCommands=(0,m.derivedOpts)({owner:this,equalsFn:(0,L.itemsEquals)()},$=>{var J,ee;return(ee=(J=this.selectedInlineCompletion.read($))===null||J===void 0?void 0:J.inlineCompletion.source.inlineCompletions.commands)!==null&&ee!==void 0?ee:[]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,$=>$?.request.context.triggerKind),this.inlineCompletionsCount=(0,m.derived)(this,$=>{if(this.lastTriggerKind.read($)===c.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read($).length}),this.state=(0,m.derivedOpts)({owner:this,equalsFn:($,J)=>!$||!J?$===J:(0,l.ghostTextsOrReplacementsEqual)($.ghostTexts,J.ghostTexts)&&$.inlineCompletion===J.inlineCompletion&&$.suggestItem===J.suggestItem},$=>{var J,ee;const Z=this.textModel,x=this.selectedSuggestItem.read($);if(x){const Y=(0,d.singleTextRemoveCommonPrefix)(x.toSingleTextEdit(),Z),ae=this._computeAugmentation(Y,$);if(!this._suggestPreviewEnabled.read($)&&!ae)return;const he=(J=ae?.edit)!==null&&J!==void 0?J:Y,pe=ae?ae.edit.text.length-Y.text.length:0,ce=this._suggestPreviewMode.read($),ie=this._positions.read($),oe=[he,...S(this.textModel,ie,he)],re=oe.map((q,H)=>(0,d.computeGhostText)(q,Z,ce,ie[H],pe)).filter(b.isDefined),W=(ee=re[0])!==null&&ee!==void 0?ee:new l.GhostText(he.range.endLineNumber,[]);return{edits:oe,primaryGhostText:W,ghostTexts:re,inlineCompletion:ae?.completion,suggestItem:x}}else{if(!this._isActive.read($))return;const Y=this.selectedInlineCompletion.read($);if(!Y)return;const ae=Y.toSingleTextEdit($),ue=this._inlineSuggestMode.read($),he=this._positions.read($),pe=[ae,...S(this.textModel,he,ae)],ce=pe.map((ie,oe)=>(0,d.computeGhostText)(ie,Z,ue,he[oe],0)).filter(b.isDefined);return ce[0]?{edits:pe,primaryGhostText:ce[0],ghostTexts:ce,inlineCompletion:Y,suggestItem:void 0}:void 0}}),this.ghostTexts=(0,m.derivedOpts)({owner:this,equalsFn:l.ghostTextsOrReplacementsEqual},$=>{const J=this.state.read($);if(J)return J.ghostTexts}),this.primaryGhostText=(0,m.derivedOpts)({owner:this,equalsFn:l.ghostTextOrReplacementEquals},$=>{const J=this.state.read($);if(J)return J?.primaryGhostText}),this._register((0,m.recomputeInitiallyAndOnChange)(this._fetchInlineCompletionsPromise));let z;this._register((0,m.autorun)($=>{var J,ee;const Z=this.state.read($),x=Z?.inlineCompletion;if(x?.semanticId!==z?.semanticId&&(z=x,x)){const Y=x.inlineCompletion,ae=Y.source;(ee=(J=ae.provider).handleItemDidShow)===null||ee===void 0||ee.call(J,ae.inlineCompletions,Y.sourceInlineCompletion,Y.insertText)}}))}async trigger(N){this._isActive.set(!0,N),await this._fetchInlineCompletionsPromise.get()}async triggerExplicitly(N){(0,m.subtransaction)(N,A=>{this._isActive.set(!0,A),this._forceUpdateExplicitlySignal.trigger(A)}),await this._fetchInlineCompletionsPromise.get()}stop(N){(0,m.subtransaction)(N,A=>{this._isActive.set(!1,A),this._source.clear(A)})}_computeAugmentation(N,A){const R=this.textModel,M=this._source.suggestWidgetInlineCompletions.read(A),P=M?M.inlineCompletions:[this.selectedInlineCompletion.read(A)].filter(b.isDefined);return(0,k.mapFindFirst)(P,O=>{let B=O.toSingleTextEdit(A);return B=(0,d.singleTextRemoveCommonPrefix)(B,R,n.Range.fromPositions(B.range.getStartPosition(),N.range.getEndPosition())),(0,d.singleTextEditAugments)(B,N)?{completion:O,edit:B}:void 0})}async _deltaSelectedInlineCompletionIndex(N){await this.triggerExplicitly();const A=this._filteredInlineCompletionItems.get()||[];if(A.length>0){const R=(this.selectedInlineCompletionIndex.get()+N+A.length)%A.length;this._selectedInlineCompletionId.set(A[R].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(N){var A;if(N.getModel()!==this.textModel)throw new D.BugIndicatingError;const R=this.state.get();if(!R||R.primaryGhostText.isEmpty()||!R.inlineCompletion)return;const M=R.inlineCompletion.toInlineCompletion(void 0);if(N.pushUndoStop(),M.snippetInfo)N.executeEdits("inlineSuggestion.accept",[C.EditOperation.replace(M.range,""),...M.additionalTextEdits]),N.setPosition(M.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(A=a.SnippetController2.get(N))===null||A===void 0||A.insert(M.snippetInfo.snippet,{undoStopBefore:!1});else{const P=R.edits,F=I(P).map(O=>i.Selection.fromPositions(O));N.executeEdits("inlineSuggestion.accept",[...P.map(O=>C.EditOperation.replace(O.range,O.text)),...M.additionalTextEdits]),N.setSelections(F,"inlineCompletionAccept")}M.command&&M.source.addRef(),(0,m.transaction)(P=>{this._source.clear(P),this._isActive.set(!1,P)}),M.command&&(await this._commandService.executeCommand(M.command.id,...M.command.arguments||[]).then(void 0,D.onUnexpectedExternalError),M.source.removeRef())}async acceptNextWord(N){await this._acceptNext(N,(A,R)=>{const M=this.textModel.getLanguageIdAtPosition(A.lineNumber,A.column),P=this._languageConfigurationService.getLanguageConfiguration(M),F=new RegExp(P.wordDefinition.source,P.wordDefinition.flags.replace("g","")),O=R.match(F);let B=0;O&&O.index!==void 0?O.index===0?B=O[0].length:B=O.index:B=R.length;const K=/\s+/g.exec(R);return K&&K.index!==void 0&&K.index+K[0].length<B&&(B=K.index+K[0].length),B},0)}async acceptNextLine(N){await this._acceptNext(N,(A,R)=>{const M=R.match(/\n/);return M&&M.index!==void 0?M.index+1:R.length},1)}async _acceptNext(N,A,R){if(N.getModel()!==this.textModel)throw new D.BugIndicatingError;const M=this.state.get();if(!M||M.primaryGhostText.isEmpty()||!M.inlineCompletion)return;const P=M.primaryGhostText,F=M.inlineCompletion.toInlineCompletion(void 0);if(F.snippetInfo||F.filterText!==F.insertText){await this.accept(N);return}const O=P.parts[0],B=new o.Position(P.lineNumber,O.column),V=O.text,K=A(B,V);if(K===V.length&&P.parts.length===1){this.accept(N);return}const U=V.substring(0,K),G=this._positions.get(),z=G[0];F.source.addRef();try{this._isAcceptingPartially=!0;try{N.pushUndoStop();const $=n.Range.fromPositions(z,B),J=N.getModel().getValueInRange($)+U,ee=new t.SingleTextEdit($,J),Z=[ee,...S(this.textModel,G,ee)],x=I(Z).map(Y=>i.Selection.fromPositions(Y));N.executeEdits("inlineSuggestion.accept",Z.map(Y=>C.EditOperation.replace(Y.range,Y.text))),N.setSelections(x,"inlineCompletionPartialAccept"),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1)}finally{this._isAcceptingPartially=!1}if(F.source.provider.handlePartialAccept){const $=n.Range.fromPositions(F.range.getStartPosition(),s.TextLength.ofText(U).addToPosition(B)),J=N.getModel().getValueInRange($,1);F.source.provider.handlePartialAccept(F.source.inlineCompletions,F.sourceInlineCompletion,J.length,{kind:R})}}finally{F.source.removeRef()}}handleSuggestAccepted(N){var A,R;const M=(0,d.singleTextRemoveCommonPrefix)(N.toSingleTextEdit(),this.textModel),P=this._computeAugmentation(M,void 0);if(!P)return;const F=P.completion.inlineCompletion;(R=(A=F.source.provider).handlePartialAccept)===null||R===void 0||R.call(A,F.source.inlineCompletions,F.sourceInlineCompletion,M.text.length,{kind:2})}};e.InlineCompletionsModel=_,e.InlineCompletionsModel=_=ke([ge(9,h.IInstantiationService),ge(10,v.ICommandService),ge(11,g.ILanguageConfigurationService)],_);function S(T,N,A){if(N.length===1)return[];const R=N[0],M=N.slice(1),P=A.range.getStartPosition(),F=A.range.getEndPosition(),O=T.getValueInRange(n.Range.fromPositions(R,F)),B=(0,u.subtractPositions)(R,P);if(B.lineNumber<1)return(0,D.onUnexpectedError)(new D.BugIndicatingError(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${R.toString()} and ${P.toString()}`)),[];const V=E(A.text,B);return M.map(K=>{const U=(0,u.addPositions)((0,u.subtractPositions)(K,P),F),G=T.getValueInRange(n.Range.fromPositions(K,U)),z=(0,w.commonPrefixLength)(O,G),$=n.Range.fromPositions(K,K.delta(0,z));return new t.SingleTextEdit($,V)})}function E(T,N){let A="";const R=(0,w.splitLinesIncludeSeparators)(T);for(let M=N.lineNumber-1;M<R.length;M++)A+=R[M].substring(M===N.lineNumber-1?N.column-1:0);return A}function I(T){const N=f.Permutation.createSortPermutation(T,(P,F)=>n.Range.compareRangesUsingStarts(P.range,F.range)),R=new t.TextEdit(N.apply(T)).getNewRanges();return N.inverse().apply(R).map(P=>P.getEndPosition())}}),define(ne[422],se([1,0,15,19,9,7,2,11,24,113,335,114,28,14,63,59,334,150,18,78,20,263,217,265]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class p{static shouldAutoTrigger(T){if(!T.hasModel())return!1;const N=T.getModel(),A=T.getPosition();N.tokenization.tokenizeIfCheap(A.lineNumber);const R=N.getWordAtPosition(A);return!(!R||R.endColumn!==A.column&&R.startColumn+1!==A.column||!isNaN(Number(R.word)))}constructor(T,N,A){this.leadingLineContent=T.getLineContent(N.lineNumber).substr(0,N.column-1),this.leadingWord=T.getWordUntilPosition(N),this.lineNumber=N.lineNumber,this.column=N.column,this.triggerOptions=A}}e.LineContext=p;function _(I,T,N){if(!T.getContextKeyValue(u.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const A=T.getContextKeyValue(u.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!I.getOption(62).suppressSuggestions}function S(I,T,N){if(!T.getContextKeyValue("inlineSuggestionVisible"))return!0;const A=T.getContextKeyValue(u.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!I.getOption(62).suppressSuggestions}let E=h=class{constructor(T,N,A,R,M,P,F,O,B){this._editor=T,this._editorWorkerService=N,this._clipboardService=A,this._telemetryService=R,this._logService=M,this._contextKeyService=P,this._configurationService=F,this._languageFeaturesService=O,this._envService=B,this._toDispose=new y.DisposableStore,this._triggerCharacterListener=new y.DisposableStore,this._triggerQuickSuggest=new f.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new y.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new w.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let V=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{V=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{V=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(K=>{V||this._onCursorChange(K)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!V&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,y.dispose)(this._triggerCharacterListener),(0,y.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;const T=new Map;for(const A of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const R of A.triggerCharacters||[]){let M=T.get(R);M||(M=new Set,M.add((0,g.getSnippetSuggestSupport)()),T.set(R,M)),M.add(A)}const N=A=>{var R;if(!S(this._editor,this._contextKeyService,this._configurationService)||p.shouldAutoTrigger(this._editor))return;if(!A){const F=this._editor.getPosition();A=this._editor.getModel().getLineContent(F.lineNumber).substr(0,F.column-1)}let M="";(0,m.isLowSurrogate)(A.charCodeAt(A.length-1))?(0,m.isHighSurrogate)(A.charCodeAt(A.length-2))&&(M=A.substr(A.length-2)):M=A.charAt(A.length-1);const P=T.get(M);if(P){const F=new Map;if(this._completionModel)for(const[O,B]of this._completionModel.getItemsByProvider())P.has(O)||F.set(O,B);this.trigger({auto:!0,triggerKind:1,triggerCharacter:M,retrigger:!!this._completionModel,clipboardText:(R=this._completionModel)===null||R===void 0?void 0:R.clipboardText,completionOptions:{providerFilter:P,providerItemsToReuse:F}})}};this._triggerCharacterListener.add(this._editor.onDidType(N)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>N()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(T=!1){var N;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(N=this._requestToken)===null||N===void 0||N.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:T}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(T){if(!this._editor.hasModel())return;const N=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!T.selection.isEmpty()||T.reason!==0&&T.reason!==3||T.source!=="keyboard"&&T.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&T.reason===0?(N.containsRange(this._currentSelection)||N.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&T.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var T;g.QuickSuggestionsOptions.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&(!((T=a.SnippetController2.get(this._editor))===null||T===void 0)&&T.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!p.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const N=this._editor.getModel(),A=this._editor.getPosition(),R=this._editor.getOption(89);if(!g.QuickSuggestionsOptions.isAllOff(R)){if(!g.QuickSuggestionsOptions.isAllOn(R)){N.tokenization.tokenizeIfCheap(A.lineNumber);const M=N.tokenization.getLineTokens(A.lineNumber),P=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(A.column-1-1,0)));if(g.QuickSuggestionsOptions.valueFor(R,P)!=="on")return}_(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(N)&&this.trigger({auto:!0})}},this._editor.getOption(90)))}_refilterCompletionItems(){(0,d.assertType)(this._editor.hasModel()),(0,d.assertType)(this._triggerState!==void 0);const T=this._editor.getModel(),N=this._editor.getPosition(),A=new p(T,N,{...this._triggerState,refilter:!0});this._onNewContext(A)}trigger(T){var N,A,R,M,P,F;if(!this._editor.hasModel())return;const O=this._editor.getModel(),B=new p(O,this._editor.getPosition(),T);this.cancel(T.retrigger),this._triggerState=T,this._onDidTrigger.fire({auto:T.auto,shy:(N=T.shy)!==null&&N!==void 0?N:!1,position:this._editor.getPosition()}),this._context=B;let V={triggerKind:(A=T.triggerKind)!==null&&A!==void 0?A:0};T.triggerCharacter&&(V={triggerKind:1,triggerCharacter:T.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const K=this._editor.getOption(112);let U=1;switch(K){case"top":U=0;break;case"bottom":U=2;break}const{itemKind:G,showDeprecated:z}=h.createSuggestFilter(this._editor),$=new g.CompletionOptions(U,(M=(R=T.completionOptions)===null||R===void 0?void 0:R.kindFilter)!==null&&M!==void 0?M:G,(P=T.completionOptions)===null||P===void 0?void 0:P.providerFilter,(F=T.completionOptions)===null||F===void 0?void 0:F.providerItemsToReuse,z),J=C.WordDistance.create(this._editorWorkerService,this._editor),ee=(0,g.provideSuggestionItems)(this._languageFeaturesService.completionProvider,O,this._editor.getPosition(),$,V,this._requestToken.token);Promise.all([ee,J]).then(async([Z,x])=>{var Y;if((Y=this._requestToken)===null||Y===void 0||Y.dispose(),!this._editor.hasModel())return;let ae=T?.clipboardText;if(!ae&&Z.needsClipboard&&(ae=await this._clipboardService.readText()),this._triggerState===void 0)return;const ue=this._editor.getModel(),he=new p(ue,this._editor.getPosition(),T),pe={...r.FuzzyScoreOptions.default,firstMatchCanBeWeak:!this._editor.getOption(118).matchOnWordStartOnly};if(this._completionModel=new c.CompletionModel(Z.items,this._context.column,{leadingLineContent:he.leadingLineContent,characterCountDelta:he.column-this._context.column},x,this._editor.getOption(118),this._editor.getOption(112),pe,ae),this._completionDisposables.add(Z.disposable),this._onNewContext(he),this._reportDurationsTelemetry(Z.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const ce of Z.items)ce.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${ce.provider._debugDisplayName}`,ce.completion)}).catch(L.onUnexpectedError)}_reportDurationsTelemetry(T){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(T)}),this._logService.debug("suggest.durations.json",T)})}static createSuggestFilter(T){const N=new Set;T.getOption(112)==="none"&&N.add(27);const R=T.getOption(118);return R.showMethods||N.add(0),R.showFunctions||N.add(1),R.showConstructors||N.add(2),R.showFields||N.add(3),R.showVariables||N.add(4),R.showClasses||N.add(5),R.showStructs||N.add(6),R.showInterfaces||N.add(7),R.showModules||N.add(8),R.showProperties||N.add(9),R.showEvents||N.add(10),R.showOperators||N.add(11),R.showUnits||N.add(12),R.showValues||N.add(13),R.showConstants||N.add(14),R.showEnums||N.add(15),R.showEnumMembers||N.add(16),R.showKeywords||N.add(17),R.showWords||N.add(18),R.showColors||N.add(19),R.showFiles||N.add(20),R.showReferences||N.add(21),R.showColors||N.add(22),R.showFolders||N.add(23),R.showTypeParameters||N.add(24),R.showSnippets||N.add(27),R.showUsers||N.add(25),R.showIssues||N.add(26),{itemKind:N,showDeprecated:R.showDeprecated}}_onNewContext(T){if(this._context){if(T.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,m.getLeadingWhitespace)(T.leadingLineContent)!==(0,m.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(T.column<this._context.column){T.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(T.leadingWord.word.length!==0&&T.leadingWord.startColumn>this._context.leadingWord.startColumn){if(p.shouldAutoTrigger(this._editor)&&this._context){const A=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:A}})}return}if(T.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&T.leadingWord.word.length!==0){const N=new Map,A=new Set;for(const[R,M]of this._completionModel.getItemsByProvider())M.length>0&&M[0].container.incomplete?A.add(R):N.set(R,M);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:A,providerItemsToReuse:N}})}else{const N=this._completionModel.lineContext;let A=!1;if(this._completionModel.lineContext={leadingLineContent:T.leadingLineContent,characterCountDelta:T.column-this._context.column},this._completionModel.items.length===0){const R=p.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(R&&this._context.leadingWord.endColumn<T.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=N,A=this._completionModel.items.length>0,A&&T.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:T.triggerOptions,isFrozen:A})}}}}};e.SuggestModel=E,e.SuggestModel=E=h=ke([ge(1,b.IEditorWorkerService),ge(2,o.IClipboardService),ge(3,s.ITelemetryService),ge(4,t.ILogService),ge(5,i.IContextKeyService),ge(6,n.IConfigurationService),ge(7,l.ILanguageFeaturesService),ge(8,v.IEnvironmentService)],E)}),define(ne[423],se([1,0,48,13,19,9,7,136,2,17,60,20,139,16,73,10,5,21,217,132,390,825,763,25,14,8,63,150,824,602,422,603,976,59,51,127,6,37]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N,A,R,M,P,F,O){"use strict";var B;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const V=!1;class K{constructor(Z,x){if(this._model=Z,this._position=x,this._decorationOptions=O.ModelDecorationOptions.register({description:"suggest-line-suffix",stickiness:1}),Z.getLineMaxColumn(x.lineNumber)!==x.column){const ae=Z.getOffsetAt(x),ue=Z.getPositionAt(ae+1);Z.changeDecorations(he=>{this._marker&&he.removeDecoration(this._marker),this._marker=he.addDecoration(c.Range.fromPositions(x,ue),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(Z=>{Z.removeDecoration(this._marker),this._marker=void 0})}delta(Z){if(this._model.isDisposed()||this._position.lineNumber!==Z.lineNumber)return 0;if(this._marker){const x=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(x.getStartPosition())-this._model.getOffsetAt(Z)}else return this._model.getLineMaxColumn(Z.lineNumber)-Z.column}}let U=B=class{static get(Z){return Z.getContribution(B.ID)}constructor(Z,x,Y,ae,ue,he,pe){this._memoryService=x,this._commandService=Y,this._contextKeyService=ae,this._instantiationService=ue,this._logService=he,this._telemetryService=pe,this._lineSuffix=new w.MutableDisposable,this._toDispose=new w.DisposableStore,this._selectors=new G(re=>re.priority),this._onWillInsertSuggestItem=new y.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=Z,this.model=ue.createInstance(T.SuggestModel,this.editor),this._selectors.register({priority:0,select:(re,W,q)=>this._memoryService.select(re,W,q)});const ce=S.Context.InsertMode.bindTo(ae);ce.set(Z.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>ce.set(Z.getOption(118).insertMode))),this.widget=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(Z.getDomNode()),()=>{const re=this._instantiationService.createInstance(A.SuggestWidget,this.editor);this._toDispose.add(re),this._toDispose.add(re.onDidSelect(Q=>this._insertSuggestion(Q,0),this));const W=new I.CommitCharacterController(this.editor,re,this.model,Q=>this._insertSuggestion(Q,2));this._toDispose.add(W);const q=S.Context.MakesTextEdit.bindTo(this._contextKeyService),H=S.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),j=S.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,w.toDisposable)(()=>{q.reset(),H.reset(),j.reset()})),this._toDispose.add(re.onDidFocus(({item:Q})=>{const te=this.editor.getPosition(),le=Q.editStart.column,de=te.column;let me=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!Q.completion.additionalTextEdits&&!(Q.completion.insertTextRules&4)&&de-le===Q.completion.insertText.length&&(me=this.editor.getModel().getValueInRange({startLineNumber:te.lineNumber,startColumn:le,endLineNumber:te.lineNumber,endColumn:de})!==Q.completion.insertText),q.set(me),H.set(!s.Position.equals(Q.editInsertEnd,Q.editReplaceEnd)),j.set(!!Q.provider.resolveCompletionItem||!!Q.completion.documentation||Q.completion.detail!==Q.completion.label)})),this._toDispose.add(re.onDetailsKeyDown(Q=>{if(Q.toKeyCodeChord().equals(new m.KeyCodeChord(!0,!1,!1,!1,33))||b.isMacintosh&&Q.toKeyCodeChord().equals(new m.KeyCodeChord(!1,!1,!1,!0,33))){Q.stopPropagation();return}Q.toKeyCodeChord().isModifierKey()||this.editor.focus()})),re})),this._overtypingCapturer=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(Z.getDomNode()),()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(Z.getDomNode()),()=>this._toDispose.add(new E.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(ue.createInstance(u.WordContextKey,Z)),this._toDispose.add(this.model.onDidTrigger(re=>{this.widget.value.showTriggered(re.auto,re.shy?250:50),this._lineSuffix.value=new K(this.editor.getModel(),re.position)})),this._toDispose.add(this.model.onDidSuggest(re=>{if(re.triggerOptions.shy)return;let W=-1;for(const H of this._selectors.itemsOrderedByPriorityDesc)if(W=H.select(this.editor.getModel(),this.editor.getPosition(),re.completionModel.items),W!==-1)break;if(W===-1&&(W=0),this.model.state===0)return;let q=!1;if(re.triggerOptions.auto){const H=this.editor.getOption(118);H.selectionMode==="never"||H.selectionMode==="always"?q=H.selectionMode==="never":H.selectionMode==="whenTriggerCharacter"?q=re.triggerOptions.triggerKind!==1:H.selectionMode==="whenQuickSuggestion"&&(q=re.triggerOptions.triggerKind===1&&!re.triggerOptions.refilter)}this.widget.value.showSuggestions(re.completionModel,W,re.isFrozen,re.triggerOptions.auto,q)})),this._toDispose.add(this.model.onDidCancel(re=>{re.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{V||(this.model.cancel(),this.model.clear())}));const ie=S.Context.AcceptSuggestionsOnEnter.bindTo(ae),oe=()=>{const re=this.editor.getOption(1);ie.set(re==="on"||re==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>oe())),oe()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(Z,x){if(!Z||!Z.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Y=l.SnippetController2.get(this.editor);if(!Y)return;this._onWillInsertSuggestItem.fire({item:Z.item});const ae=this.editor.getModel(),ue=ae.getAlternativeVersionId(),{item:he}=Z,pe=[],ce=new L.CancellationTokenSource;x&1||this.editor.pushUndoStop();const ie=this.getOverwriteInfo(he,!!(x&8));this._memoryService.memorize(ae,this.editor.getPosition(),he);const oe=he.isResolved;let re=-1,W=-1;if(Array.isArray(he.completion.additionalTextEdits)){this.model.cancel();const H=n.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",he.completion.additionalTextEdits.map(j=>{let Q=c.Range.lift(j.range);if(Q.startLineNumber===he.position.lineNumber&&Q.startColumn>he.position.column){const te=this.editor.getPosition().column-he.position.column,le=te,de=c.Range.spansMultipleLines(Q)?0:te;Q=new c.Range(Q.startLineNumber,Q.startColumn+le,Q.endLineNumber,Q.endColumn+de)}return t.EditOperation.replaceMove(Q,j.text)})),H.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!oe){const H=new C.StopWatch;let j;const Q=ae.onDidChangeContent(me=>{if(me.isFlush){ce.cancel(),Q.dispose();return}for(const ve of me.changes){const Ce=c.Range.getEndPosition(ve.range);(!j||s.Position.isBefore(Ce,j))&&(j=Ce)}}),te=x;x|=2;let le=!1;const de=this.editor.onWillType(()=>{de.dispose(),le=!0,te&2||this.editor.pushUndoStop()});pe.push(he.resolve(ce.token).then(()=>{if(!he.completion.additionalTextEdits||ce.token.isCancellationRequested)return;if(j&&he.completion.additionalTextEdits.some(ve=>s.Position.isBefore(j,c.Range.getStartPosition(ve.range))))return!1;le&&this.editor.pushUndoStop();const me=n.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",he.completion.additionalTextEdits.map(ve=>t.EditOperation.replaceMove(c.Range.lift(ve.range),ve.text))),me.restoreRelativeVerticalPositionOfCursor(this.editor),(le||!(te&2))&&this.editor.pushUndoStop(),!0}).then(me=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",H.elapsed(),me),W=me===!0?1:me===!1?0:-2}).finally(()=>{Q.dispose(),de.dispose()}))}let{insertText:q}=he.completion;if(he.completion.insertTextRules&4||(q=r.SnippetParser.escape(q)),this.model.cancel(),Y.insert(q,{overwriteBefore:ie.overwriteBefore,overwriteAfter:ie.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(he.completion.insertTextRules&1),clipboardText:Z.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),x&2||this.editor.pushUndoStop(),he.completion.command)if(he.completion.command.id===z.id)this.model.trigger({auto:!0,retrigger:!0});else{const H=new C.StopWatch;pe.push(this._commandService.executeCommand(he.completion.command.id,...he.completion.command.arguments?[...he.completion.command.arguments]:[]).catch(j=>{he.completion.extensionId?(0,D.onUnexpectedExternalError)(j):(0,D.onUnexpectedError)(j)}).finally(()=>{re=H.elapsed()}))}x&4&&this._alternatives.value.set(Z,H=>{for(ce.cancel();ae.canUndo();){ue!==ae.getAlternativeVersionId()&&ae.undo(),this._insertSuggestion(H,3|(x&8?8:0));break}}),this._alertCompletionItem(he),Promise.all(pe).finally(()=>{this._reportSuggestionAcceptedTelemetry(he,ae,oe,re,W),this.model.clear(),ce.dispose()})}_reportSuggestionAcceptedTelemetry(Z,x,Y,ae,ue){var he,pe,ce;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(pe=(he=Z.extensionId)===null||he===void 0?void 0:he.value)!==null&&pe!==void 0?pe:"unknown",providerId:(ce=Z.provider._debugDisplayName)!==null&&ce!==void 0?ce:"unknown",kind:Z.completion.kind,basenameHash:(0,P.hash)((0,M.basename)(x.uri)).toString(16),languageId:x.getLanguageId(),fileExtension:(0,M.extname)(x.uri),resolveInfo:Z.provider.resolveCompletionItem?Y?1:0:-1,resolveDuration:Z.resolveDuration,commandDuration:ae,additionalEditsAsync:ue})}getOverwriteInfo(Z,x){(0,o.assertType)(this.editor.hasModel());let Y=this.editor.getOption(118).insertMode==="replace";x&&(Y=!Y);const ae=Z.position.column-Z.editStart.column,ue=(Y?Z.editReplaceEnd.column:Z.editInsertEnd.column)-Z.position.column,he=this.editor.getPosition().column-Z.position.column,pe=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:ae+he,overwriteAfter:ue+pe}}_alertCompletionItem(Z){if((0,k.isNonEmptyArray)(Z.completion.additionalTextEdits)){const x=a.localize(0,null,Z.textLabel,Z.completion.additionalTextEdits.length);(0,f.alert)(x)}}triggerSuggest(Z,x,Y){this.editor.hasModel()&&(this.model.trigger({auto:x??!1,completionOptions:{providerFilter:Z,kindFilter:Y?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Z){if(!this.editor.hasModel())return;const x=this.editor.getPosition(),Y=()=>{x.equals(this.editor.getPosition())&&this._commandService.executeCommand(Z.fallback)},ae=ue=>{if(ue.completion.insertTextRules&4||ue.completion.additionalTextEdits)return!0;const he=this.editor.getPosition(),pe=ue.editStart.column,ce=he.column;return ce-pe!==ue.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:he.lineNumber,startColumn:pe,endLineNumber:he.lineNumber,endColumn:ce})!==ue.completion.insertText};y.Event.once(this.model.onDidTrigger)(ue=>{const he=[];y.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,w.dispose)(he),Y()},void 0,he),this.model.onDidSuggest(({completionModel:pe})=>{if((0,w.dispose)(he),pe.items.length===0){Y();return}const ce=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),pe.items),ie=pe.items[ce];if(!ae(ie)){Y();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ce,item:ie,model:pe},7)},void 0,he)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(x,0),this.editor.focus()}acceptSelectedSuggestion(Z,x){const Y=this.widget.value.getFocusedItem();let ae=0;Z&&(ae|=4),x&&(ae|=8),this._insertSuggestion(Y,ae)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(Z){return this._selectors.register(Z)}};e.SuggestController=U,U.ID="editor.contrib.suggestController",e.SuggestController=U=B=ke([ge(1,d.ISuggestMemoryService),ge(2,v.ICommandService),ge(3,h.IContextKeyService),ge(4,p.IInstantiationService),ge(5,_.ILogService),ge(6,R.ITelemetryService)],U);class G{constructor(Z){this.prioritySelector=Z,this._items=new Array}register(Z){if(this._items.indexOf(Z)!==-1)throw new Error("Value is already registered");return this._items.push(Z),this._items.sort((x,Y)=>this.prioritySelector(Y)-this.prioritySelector(x)),{dispose:()=>{const x=this._items.indexOf(Z);x>=0&&this._items.splice(x,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class z extends i.EditorAction{constructor(){super({id:z.id,label:a.localize(1,null),alias:"Trigger Suggest",precondition:h.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.hasCompletionItemProvider,S.Context.Visible.toNegated()),kbOpts:{kbExpr:g.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Z,x,Y){const ae=U.get(x);if(!ae)return;let ue;Y&&typeof Y=="object"&&Y.auto===!0&&(ue=!0),ae.triggerSuggest(void 0,ue,void 0)}}e.TriggerSuggestAction=z,z.id="editor.action.triggerSuggest",(0,i.registerEditorContribution)(U.ID,U,2),(0,i.registerEditorAction)(z);const $=190,J=i.EditorCommand.bindToContribution(U.get);(0,i.registerEditorCommand)(new J({id:"acceptSelectedSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion),handler(ee){ee.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:h.ContextKeyExpr.and(S.Context.Visible,g.EditorContextKeys.textInputFocus),weight:$},{primary:3,kbExpr:h.ContextKeyExpr.and(S.Context.Visible,g.EditorContextKeys.textInputFocus,S.Context.AcceptSuggestionsOnEnter,S.Context.MakesTextEdit),weight:$}],menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,title:a.localize(2,null),group:"left",order:1,when:S.Context.HasInsertAndReplaceRange.toNegated()},{menuId:S.suggestWidgetStatusbarMenu,title:a.localize(3,null),group:"left",order:1,when:h.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("insert"))},{menuId:S.suggestWidgetStatusbarMenu,title:a.localize(4,null),group:"left",order:1,when:h.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("replace"))}]})),(0,i.registerEditorCommand)(new J({id:"acceptAlternativeSelectedSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,g.EditorContextKeys.textInputFocus,S.Context.HasFocusedSuggestion),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(ee){ee.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,group:"left",order:2,when:h.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("insert")),title:a.localize(5,null)},{menuId:S.suggestWidgetStatusbarMenu,group:"left",order:2,when:h.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("replace")),title:a.localize(6,null)}]})),v.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,i.registerEditorCommand)(new J({id:"hideSuggestWidget",precondition:S.Context.Visible,handler:ee=>ee.cancelSuggestWidget(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,i.registerEditorCommand)(new J({id:"selectNextSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,h.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectNextSuggestion(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,i.registerEditorCommand)(new J({id:"selectNextPageSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,h.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectNextPageSuggestion(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,i.registerEditorCommand)(new J({id:"selectLastSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,h.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectLastSuggestion()})),(0,i.registerEditorCommand)(new J({id:"selectPrevSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,h.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectPrevSuggestion(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,i.registerEditorCommand)(new J({id:"selectPrevPageSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,h.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectPrevPageSuggestion(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,i.registerEditorCommand)(new J({id:"selectFirstSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,h.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectFirstSuggestion()})),(0,i.registerEditorCommand)(new J({id:"focusSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion.negate()),handler:ee=>ee.focusSuggestion(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,i.registerEditorCommand)(new J({id:"focusAndAcceptSuggestion",precondition:h.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion.negate()),handler:ee=>{ee.focusSuggestion(),ee.acceptSelectedSuggestion(!0,!1)}})),(0,i.registerEditorCommand)(new J({id:"toggleSuggestionDetails",precondition:h.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion),handler:ee=>ee.toggleSuggestionDetails(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,group:"right",order:1,when:h.ContextKeyExpr.and(S.Context.DetailsVisible,S.Context.CanResolve),title:a.localize(7,null)},{menuId:S.suggestWidgetStatusbarMenu,group:"right",order:1,when:h.ContextKeyExpr.and(S.Context.DetailsVisible.toNegated(),S.Context.CanResolve),title:a.localize(8,null)}]})),(0,i.registerEditorCommand)(new J({id:"toggleExplainMode",precondition:S.Context.Visible,handler:ee=>ee.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,i.registerEditorCommand)(new J({id:"toggleSuggestionFocus",precondition:S.Context.Visible,handler:ee=>ee.toggleSuggestionFocus(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,i.registerEditorCommand)(new J({id:"insertBestCompletion",precondition:h.ContextKeyExpr.and(g.EditorContextKeys.textInputFocus,h.ContextKeyExpr.equals("config.editor.tabCompletion","on"),u.WordContextKey.AtEnd,S.Context.Visible.toNegated(),E.SuggestAlternatives.OtherSuggestions.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:(ee,Z)=>{ee.triggerSuggestAndAcceptBest((0,o.isObject)(Z)?{fallback:"tab",...Z}:{fallback:"tab"})},kbOpts:{weight:$,primary:2}})),(0,i.registerEditorCommand)(new J({id:"insertNextSuggestion",precondition:h.ContextKeyExpr.and(g.EditorContextKeys.textInputFocus,h.ContextKeyExpr.equals("config.editor.tabCompletion","on"),E.SuggestAlternatives.OtherSuggestions,S.Context.Visible.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:ee=>ee.acceptNextSuggestion(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:2}})),(0,i.registerEditorCommand)(new J({id:"insertPrevSuggestion",precondition:h.ContextKeyExpr.and(g.EditorContextKeys.textInputFocus,h.ContextKeyExpr.equals("config.editor.tabCompletion","on"),E.SuggestAlternatives.OtherSuggestions,S.Context.Visible.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:ee=>ee.acceptPrevSuggestion(),kbOpts:{weight:$,kbExpr:g.EditorContextKeys.textInputFocus,primary:1026}})),(0,i.registerEditorAction)(class extends i.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:a.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(ee,Z){var x;(x=U.get(Z))===null||x===void 0||x.resetWidgetSize()}})}),define(ne[998],se([1,0,7,2,10,5,27,132,421,423,30,109,13,68,242]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class s extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(r,d,u,a){super(),this.editor=r,this.suggestControllerPreselector=d,this.checkModelVersion=u,this.onWillAccept=a,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,C.observableValue)(this,void 0),this._register(r.onKeyDown(h=>{h.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(r.onKeyUp(h=>{h.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const v=b.SuggestController.get(this.editor);if(v){this._register(v.registerSelector({priority:100,select:(_,S,E)=>{(0,C.transaction)(P=>this.checkModelVersion(P));const I=this.editor.getModel();if(!I)return-1;const T=this.suggestControllerPreselector(),N=T?(0,t.singleTextRemoveCommonPrefix)(T,I):void 0;if(!N)return-1;const A=L.Position.lift(S),R=E.map((P,F)=>{const O=c.fromSuggestion(v,I,A,P,this.isShiftKeyPressed),B=(0,t.singleTextRemoveCommonPrefix)(O.toSingleTextEdit(),I),V=(0,t.singleTextEditAugments)(N,B);return{index:F,valid:V,prefixLength:B.text.length,suggestItem:P}}).filter(P=>P&&P.valid&&P.prefixLength>0),M=(0,i.findFirstMax)(R,(0,n.compareBy)(P=>P.prefixLength,n.numberComparator));return M?M.index:-1}}));let h=!1;const p=()=>{h||(h=!0,this._register(v.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(v.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(v.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(f.Event.once(v.model.onDidTrigger)(_=>{p()})),this._register(v.onWillInsertSuggestItem(_=>{const S=this.editor.getPosition(),E=this.editor.getModel();if(!S||!E)return;const I=c.fromSuggestion(v,E,S,_.item,this.isShiftKeyPressed);this.onWillAccept(I)}))}this.update(this._isActive)}update(r){const d=this.getSuggestItemInfo();(this._isActive!==r||!g(this._currentSuggestItemInfo,d))&&(this._isActive=r,this._currentSuggestItemInfo=d,(0,C.transaction)(u=>{this.checkModelVersion(u),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,u)}))}getSuggestItemInfo(){const r=b.SuggestController.get(this.editor);if(!r||!this.isSuggestWidgetVisible)return;const d=r.widget.value.getFocusedItem(),u=this.editor.getPosition(),a=this.editor.getModel();if(!(!d||!u||!a))return c.fromSuggestion(r,a,u,d.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const r=b.SuggestController.get(this.editor);r?.stopForceRenderingAbove()}forceRenderingAbove(){const r=b.SuggestController.get(this.editor);r?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=s;class c{static fromSuggestion(r,d,u,a,v){let{insertText:h}=a.completion,p=!1;if(a.completion.insertTextRules&4){const S=new m.SnippetParser().parse(h);S.children.length<100&&w.SnippetSession.adjustWhitespace(d,u,!0,S),h=S.toString(),p=!0}const _=r.getOverwriteInfo(a,v);return new c(D.Range.fromPositions(u.delta(0,-_.overwriteBefore),u.delta(0,Math.max(_.overwriteAfter,0))),h,a.completion.kind,p)}constructor(r,d,u,a){this.range=r,this.insertText=d,this.completionItemKind=u,this.isSnippetText=a}equals(r){return this.range.equalsRange(r.range)&&this.insertText===r.insertText&&this.completionItemKind===r.completionItemKind&&this.isSnippetText===r.isSnippetText}toSelectedSuggestionInfo(){return new y.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new o.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=c;function g(l,r){return l===r?!0:!l||!r?!1:l.equals(r)}}),define(ne[287],se([1,0,6,48,15,19,155,2,30,125,294,20,209,10,84,18,241,371,263,278,997,998,743,62,134,25,28,14,8,32]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let N=T=class extends m.Disposable{static get(M){return M.getContribution(T.ID)}constructor(M,P,F,O,B,V,K,U,G,z){super(),this.editor=M,this._instantiationService=P,this._contextKeyService=F,this._configurationService=O,this._commandService=B,this._debounceService=V,this._languageFeaturesService=K,this._accessibilitySignalService=U,this._keybindingService=G,this._accessibilityService=z,this.model=this._register((0,w.disposableObservableValue)("inlineCompletionModel",void 0)),this._textModelVersionId=(0,w.observableValue)(this,-1),this._positions=(0,b.observableValueOpts)({owner:this,equalsFn:(0,y.itemsEquals)((0,y.itemEquals)())},[new i.Position(1,1)]),this._suggestWidgetAdaptor=this._register(new u.SuggestWidgetAdaptor(this.editor,()=>{var x,Y;return(Y=(x=this.model.get())===null||x===void 0?void 0:x.selectedInlineCompletion.get())===null||Y===void 0?void 0:Y.toSingleTextEdit(void 0)},x=>this.updateObservables(x,d.VersionIdChangeReason.Other),x=>{(0,w.transaction)(Y=>{var ae;this.updateObservables(Y,d.VersionIdChangeReason.Other),(ae=this.model.get())===null||ae===void 0||ae.handleSuggestAccepted(x)})})),this._enabledInConfig=(0,w.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=(0,w.observableFromEvent)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=(0,w.observableFromEvent)(this._contextKeyService.onDidChangeContext,()=>this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")===!0),this._enabled=(0,w.derived)(this,x=>this._enabledInConfig.read(x)&&(!this._isScreenReaderEnabled.read(x)||!this._editorDictationInProgress.read(x))),this._fontFamily=(0,w.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTexts=(0,w.derived)(this,x=>{var Y;const ae=this.model.read(x);return(Y=ae?.ghostTexts.read(x))!==null&&Y!==void 0?Y:[]}),this._stablizedGhostTexts=A(this._ghostTexts,this._store),this._ghostTextWidgets=(0,C.mapObservableArrayCached)(this,this._stablizedGhostTexts,(x,Y)=>Y.add(this._instantiationService.createInstance(g.GhostTextWidget,this.editor,{ghostText:x,minReservedLineCount:(0,w.constObservable)(0),targetTextModel:this.model.map(ae=>ae?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAccessibilitySignal=(0,w.observableSignal)(this),this._isReadonly=(0,w.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(91)),this._textModel=(0,w.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,w.derived)(x=>this._isReadonly.read(x)?void 0:this._textModel.read(x)),this._register(new l.InlineCompletionContextKeys(this._contextKeyService,this.model)),this._register((0,w.autorun)(x=>{const Y=this._textModelIfWritable.read(x);(0,w.transaction)(ae=>{if(this.model.set(void 0,ae),this.updateObservables(ae,d.VersionIdChangeReason.Other),Y){const ue=P.createInstance(d.InlineCompletionsModel,Y,this._suggestWidgetAdaptor.selectedItem,this._textModelVersionId,this._positions,this._debounceValue,(0,w.observableFromEvent)(M.onDidChangeConfiguration,()=>M.getOption(118).preview),(0,w.observableFromEvent)(M.onDidChangeConfiguration,()=>M.getOption(118).previewMode),(0,w.observableFromEvent)(M.onDidChangeConfiguration,()=>M.getOption(62).mode),this._enabled);this.model.set(ue,ae)}})}));const $=this._register((0,f.createStyleSheet2)());this._register((0,w.autorun)(x=>{const Y=this._fontFamily.read(x);$.setStyle(Y===""||Y==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${Y};
}`)}));const J=x=>{var Y;return x.isUndoing?d.VersionIdChangeReason.Undo:x.isRedoing?d.VersionIdChangeReason.Redo:!((Y=this.model.get())===null||Y===void 0)&&Y.isAcceptingPartially?d.VersionIdChangeReason.AcceptWord:d.VersionIdChangeReason.Other};this._register(M.onDidChangeModelContent(x=>(0,w.transaction)(Y=>this.updateObservables(Y,J(x))))),this._register(M.onDidChangeCursorPosition(x=>(0,w.transaction)(Y=>{var ae;this.updateObservables(Y,d.VersionIdChangeReason.Other),(x.reason===3||x.source==="api")&&((ae=this.model.get())===null||ae===void 0||ae.stop(Y))}))),this._register(M.onDidType(()=>(0,w.transaction)(x=>{var Y;this.updateObservables(x,d.VersionIdChangeReason.Other),this._enabled.get()&&((Y=this.model.get())===null||Y===void 0||Y.trigger(x))}))),this._register(this._commandService.onDidExecuteCommand(x=>{new Set([n.CoreEditingCommands.Tab.id,n.CoreEditingCommands.DeleteLeft.id,n.CoreEditingCommands.DeleteRight.id,c.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(x.commandId)&&M.hasTextFocus()&&this._enabled.get()&&(0,w.transaction)(ae=>{var ue;(ue=this.model.get())===null||ue===void 0||ue.trigger(ae)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||M.getOption(62).keepOnBlur||r.InlineSuggestionHintsContentWidget.dropDownVisible||(0,w.transaction)(x=>{var Y;(Y=this.model.get())===null||Y===void 0||Y.stop(x)})})),this._register((0,w.autorun)(x=>{var Y;const ae=(Y=this.model.read(x))===null||Y===void 0?void 0:Y.state.read(x);ae?.suggestItem?ae.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,m.toDisposable)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));const ee=this._register(new m.DisposableStore);let Z;this._register((0,w.autorunHandleChanges)({handleChange:(x,Y)=>(x.didChange(this._playAccessibilitySignal)&&(Z=void 0),!0)},async(x,Y)=>{this._playAccessibilitySignal.read(x);const ae=this.model.read(x),ue=ae?.state.read(x);if(!ae||!ue||!ue.inlineCompletion){Z=void 0;return}if(ue.inlineCompletion.semanticId!==Z){ee.clear(),Z=ue.inlineCompletion.semanticId;const he=ae.textModel.getLineContent(ue.primaryGhostText.lineNumber);await(0,L.timeout)(50,(0,D.cancelOnDispose)(ee)),await(0,w.waitForState)(this._suggestWidgetAdaptor.selectedItem,o.isUndefined,()=>!1,(0,D.cancelOnDispose)(ee)),await this._accessibilitySignalService.playSignal(h.AccessibilitySignal.inlineSuggestion),this.editor.getOption(8)&&this.provideScreenReaderUpdate(ue.primaryGhostText.renderForScreenReader(he))}})),this._register(new r.InlineCompletionsHintsWidget(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(x=>{x.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(M){this._playAccessibilitySignal.trigger(M)}provideScreenReaderUpdate(M){const P=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),F=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let O;!P&&F&&this.editor.getOption(149)&&(O=(0,a.localize)(0,null,F.getAriaLabel())),O?(0,k.alert)(M+", "+O):(0,k.alert)(M)}updateObservables(M,P){var F,O,B;const V=this.editor.getModel();this._textModelVersionId.set((F=V?.getVersionId())!==null&&F!==void 0?F:-1,M,P),this._positions.set((B=(O=this.editor.getSelections())===null||O===void 0?void 0:O.map(K=>K.getPosition()))!==null&&B!==void 0?B:[new i.Position(1,1)],M)}shouldShowHoverAt(M){var P;const F=(P=this.model.get())===null||P===void 0?void 0:P.primaryGhostText.get();return F?F.parts.some(O=>M.containsPosition(new i.Position(F.lineNumber,O.column))):!1}shouldShowHoverAtViewZone(M){var P,F;return(F=(P=this._ghostTextWidgets.get()[0])===null||P===void 0?void 0:P.ownsViewZone(M))!==null&&F!==void 0?F:!1}};e.InlineCompletionsController=N,N.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=N=T=ke([ge(1,E.IInstantiationService),ge(2,S.IContextKeyService),ge(3,_.IConfigurationService),ge(4,p.ICommandService),ge(5,t.ILanguageFeatureDebounceService),ge(6,s.ILanguageFeaturesService),ge(7,h.IAccessibilitySignalService),ge(8,I.IKeybindingService),ge(9,v.IAccessibilityService)],N);function A(R,M){const P=(0,w.observableValue)("result",[]),F=[];return M.add((0,w.autorun)(O=>{const B=R.read(O);(0,w.transaction)(V=>{if(B.length!==F.length){F.length=B.length;for(let K=0;K<F.length;K++)F[K]||(F[K]=(0,w.observableValue)("item",B[K]));P.set([...F],V)}F.forEach((K,U)=>K.set(B[U],V))})})),P}}),define(ne[999],se([1,0,30,125,16,21,241,263,287,150,740,29,28,14]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class t extends L.EditorAction{constructor(){super({id:t.ID,label:C.localize(0,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(v,h){var p;const _=w.InlineCompletionsController.get(h);(p=_?.model.get())===null||p===void 0||p.next()}}e.ShowNextInlineSuggestionAction=t,t.ID=y.showNextInlineSuggestionActionId;class s extends L.EditorAction{constructor(){super({id:s.ID,label:C.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(v,h){var p;const _=w.InlineCompletionsController.get(h);(p=_?.model.get())===null||p===void 0||p.previous()}}e.ShowPreviousInlineSuggestionAction=s,s.ID=y.showPreviousInlineSuggestionActionId;class c extends L.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:C.localize(2,null),alias:"Trigger Inline Suggestion",precondition:D.EditorContextKeys.writable})}async run(v,h){const p=w.InlineCompletionsController.get(h);await(0,k.asyncTransaction)(async _=>{var S;await((S=p?.model.get())===null||S===void 0?void 0:S.triggerExplicitly(_)),p?.playAccessibilitySignal(_)})}}e.TriggerInlineSuggestionAction=c;class g extends L.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:C.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:i.ContextKeyExpr.and(D.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:o.MenuId.InlineSuggestionToolbar,title:C.localize(4,null),group:"primary",order:2}]})}async run(v,h){var p;const _=w.InlineCompletionsController.get(h);await((p=_?.model.get())===null||p===void 0?void 0:p.acceptNextWord(_.editor))}}e.AcceptNextWordOfInlineCompletion=g;class l extends L.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:C.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:o.MenuId.InlineSuggestionToolbar,title:C.localize(6,null),group:"secondary",order:2}]})}async run(v,h){var p;const _=w.InlineCompletionsController.get(h);await((p=_?.model.get())===null||p===void 0?void 0:p.acceptNextLine(_.editor))}}e.AcceptNextLineOfInlineCompletion=l;class r extends L.EditorAction{constructor(){super({id:y.inlineSuggestCommitId,label:C.localize(7,null),alias:"Accept Inline Suggestion",precondition:m.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:o.MenuId.InlineSuggestionToolbar,title:C.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:i.ContextKeyExpr.and(m.InlineCompletionContextKeys.inlineSuggestionVisible,D.EditorContextKeys.tabMovesFocus.toNegated(),m.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,b.Context.Visible.toNegated(),D.EditorContextKeys.hoverFocused.toNegated())}})}async run(v,h){var p;const _=w.InlineCompletionsController.get(h);_&&((p=_.model.get())===null||p===void 0||p.accept(_.editor),_.editor.focus())}}e.AcceptInlineCompletion=r;class d extends L.EditorAction{constructor(){super({id:d.ID,label:C.localize(9,null),alias:"Hide Inline Suggestion",precondition:m.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(v,h){const p=w.InlineCompletionsController.get(h);(0,f.transaction)(_=>{var S;(S=p?.model.get())===null||S===void 0||S.stop(_)})}}e.HideInlineCompletion=d,d.ID="editor.action.inlineSuggest.hide";class u extends o.Action2{constructor(){super({id:u.ID,title:C.localize(10,null),f1:!1,precondition:void 0,menu:[{id:o.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:i.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(v,h){const p=v.get(n.IConfigurationService),S=p.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";p.updateValue("editor.inlineSuggest.showToolbar",S)}}e.ToggleAlwaysShowInlineSuggestionToolbar=u,u.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(ne[1e3],se([1,0,6,57,2,30,5,43,97,287,278,117,741,62,8,64,59]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class g{constructor(d,u,a){this.owner=d,this.range=u,this.controller=a}isValidForHoverAnchor(d){return d.type===1&&this.range.startColumn<=d.range.startColumn&&this.range.endColumn>=d.range.endColumn}}e.InlineCompletionsHover=g;let l=class{constructor(d,u,a,v,h,p){this._editor=d,this._languageService=u,this._openerService=a,this.accessibilityService=v,this._instantiationService=h,this._telemetryService=p,this.hoverOrdinal=4}suggestHoverAnchor(d){const u=b.InlineCompletionsController.get(this._editor);if(!u)return null;const a=d.target;if(a.type===8){const v=a.detail;if(u.shouldShowHoverAtViewZone(v.viewZoneId))return new w.HoverForeignElementAnchor(1e3,this,y.Range.fromPositions(this._editor.getModel().validatePosition(v.positionBefore||v.position)),d.event.posx,d.event.posy,!1)}return a.type===7&&u.shouldShowHoverAt(a.range)?new w.HoverForeignElementAnchor(1e3,this,a.range,d.event.posx,d.event.posy,!1):a.type===6&&a.detail.mightBeForeignElement&&u.shouldShowHoverAt(a.range)?new w.HoverForeignElementAnchor(1e3,this,a.range,d.event.posx,d.event.posy,!1):null}computeSync(d,u){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const a=b.InlineCompletionsController.get(this._editor);return a&&a.shouldShowHoverAt(d.range)?[new g(this,d.range,a)]:[]}renderHoverParts(d,u){const a=new L.DisposableStore,v=u[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(d,v,a);const h=v.controller.model.get(),p=this._instantiationService.createInstance(C.InlineSuggestionHintsContentWidget,this._editor,!1,(0,D.constObservable)(null),h.selectedInlineCompletionIndex,h.inlineCompletionsCount,h.activeCommands);return d.fragment.appendChild(p.getDomNode()),h.triggerExplicitly(),a.add(p),a}renderScreenReaderText(d,u,a){const v=f.$,h=v("div.hover-row.markdown-hover"),p=f.append(h,v("div.hover-contents",{"aria-live":"assertive"})),_=a.add(new o.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),S=E=>{a.add(_.onDidRenderAsync(()=>{p.className="hover-contents code-hover-contents",d.onContentsChanged()}));const I=n.localize(0,null),T=a.add(_.render(new k.MarkdownString().appendText(I).appendCodeblock("text",E)));p.replaceChildren(T.element)};a.add((0,D.autorun)(E=>{var I;const T=(I=u.controller.model.read(E))===null||I===void 0?void 0:I.primaryGhostText.read(E);if(T){const N=this._editor.getModel().getLineContent(T.lineNumber);S(T.renderForScreenReader(N))}else f.reset(p)})),d.fragment.appendChild(h)}};e.InlineCompletionsHoverParticipant=l,e.InlineCompletionsHoverParticipant=l=ke([ge(1,m.ILanguageService),ge(2,s.IOpenerService),ge(3,i.IAccessibilityService),ge(4,t.IInstantiationService),ge(5,c.ITelemetryService)],l)}),define(ne[1001],se([1,0,16,97,999,1e3,597,287,367,29]),function(X,e,f,k,L,D,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(m.InlineCompletionsController.ID,m.InlineCompletionsController,3),(0,f.registerEditorAction)(L.TriggerInlineSuggestionAction),(0,f.registerEditorAction)(L.ShowNextInlineSuggestionAction),(0,f.registerEditorAction)(L.ShowPreviousInlineSuggestionAction),(0,f.registerEditorAction)(L.AcceptNextWordOfInlineCompletion),(0,f.registerEditorAction)(L.AcceptNextLineOfInlineCompletion),(0,f.registerEditorAction)(L.AcceptInlineCompletion),(0,f.registerEditorAction)(L.HideInlineCompletion),(0,b.registerAction2)(L.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant),w.AccessibleViewRegistry.register(new y.InlineCompletionsAccessibleView)}),define(ne[1002],se([1,0,19,78,54,2,36,5,143,18,334,150,390,422,335,114]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class c{constructor(d,u,a,v,h,p){this.range=d,this.insertText=u,this.filterText=a,this.additionalTextEdits=v,this.command=h,this.completion=p}}let g=class extends D.RefCountedDisposable{constructor(d,u,a,v,h,p){super(h.disposable),this.model=d,this.line=u,this.word=a,this.completionModel=v,this._suggestMemoryService=p}canBeReused(d,u,a){return this.model===d&&this.line===u&&this.word.word.length>0&&this.word.startColumn===a.startColumn&&this.word.endColumn<a.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var d;const u=[],{items:a}=this.completionModel,v=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},a),h=L.Iterable.slice(a,v),p=L.Iterable.slice(a,0,v);let _=5;for(const S of L.Iterable.concat(h,p)){if(S.score===k.FuzzyScore.Default)continue;const E=new m.Range(S.editStart.lineNumber,S.editStart.column,S.editInsertEnd.lineNumber,S.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),I=S.completion.insertTextRules&&S.completion.insertTextRules&4?{snippet:S.completion.insertText}:S.completion.insertText;u.push(new c(E,I,(d=S.filterTextLow)!==null&&d!==void 0?d:S.labelLow,S.completion.additionalTextEdits,S.completion.command,S)),_-->=0&&S.resolve(f.CancellationToken.None)}return u}};g=ke([ge(5,n.ISuggestMemoryService)],g);let l=class extends D.Disposable{constructor(d,u,a,v){super(),this._languageFeatureService=d,this._clipboardService=u,this._suggestMemoryService=a,this._editorService=v,this._store.add(d.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(d,u,a,v){var h;if(a.selectedSuggestionInfo)return;let p;for(const R of this._editorService.listCodeEditors())if(R.getModel()===d){p=R;break}if(!p)return;const _=p.getOption(89);if(o.QuickSuggestionsOptions.isAllOff(_))return;d.tokenization.tokenizeIfCheap(u.lineNumber);const S=d.tokenization.getLineTokens(u.lineNumber),E=S.getStandardTokenType(S.findTokenIndexAtOffset(Math.max(u.column-1-1,0)));if(o.QuickSuggestionsOptions.valueFor(_,E)!=="inline")return;let I=d.getWordAtPosition(u),T;if(I?.word||(T=this._getTriggerCharacterInfo(d,u)),!I?.word&&!T||(I||(I=d.getWordUntilPosition(u)),I.endColumn!==u.column))return;let N;const A=d.getValueInRange(new m.Range(u.lineNumber,1,u.lineNumber,u.column));if(!T&&(!((h=this._lastResult)===null||h===void 0)&&h.canBeReused(d,u.lineNumber,I))){const R=new C.LineContext(A,u.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=R,this._lastResult.acquire(),N=this._lastResult}else{const R=await(0,o.provideSuggestionItems)(this._languageFeatureService.completionProvider,d,u,new o.CompletionOptions(void 0,i.SuggestModel.createSuggestFilter(p).itemKind,T?.providers),T&&{triggerKind:1,triggerCharacter:T.ch},v);let M;R.needsClipboard&&(M=await this._clipboardService.readText());const P=new C.CompletionModel(R.items,u.column,new C.LineContext(A,0),t.WordDistance.None,p.getOption(118),p.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},M);N=new g(d,u.lineNumber,I,P,R,this._suggestMemoryService)}return this._lastResult=N,N}handleItemDidShow(d,u){u.completion.resolve(f.CancellationToken.None)}freeInlineCompletions(d){d.release()}_getTriggerCharacterInfo(d,u){var a;const v=d.getValueInRange(m.Range.fromPositions({lineNumber:u.lineNumber,column:u.column-1},u)),h=new Set;for(const p of this._languageFeatureService.completionProvider.all(d))!((a=p.triggerCharacters)===null||a===void 0)&&a.includes(v)&&h.add(p);if(h.size!==0)return{providers:h,ch:v}}};e.SuggestInlineCompletions=l,e.SuggestInlineCompletions=l=ke([ge(0,b.ILanguageFeaturesService),ge(1,s.IClipboardService),ge(2,n.ISuggestMemoryService),ge(3,y.ICodeEditorService)],l),(0,w.registerEditorFeature)(l)}),define(ne[424],se([1,0,8]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,f.createDecorator)("workspaceTrustManagementService")}),define(ne[1003],se([1,0,15,26,57,2,17,11,16,38,37,320,113,43,361,97,211,906,771,28,8,64,65,76,424,514]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,v.registerIcon)("extensions-warning-message",k.Codicon.warning,l.localize(0,null));let p=class extends D.Disposable{constructor(ee,Z,x,Y){super(),this._editor=ee,this._editorWorkerService=Z,this._workspaceTrustService=x,this._highlighter=null,this._bannerClosed=!1,this._updateState=ae=>{if(ae&&ae.hasMore){if(this._bannerClosed)return;const ue=Math.max(ae.ambiguousCharacterCount,ae.nonBasicAsciiCharacterCount,ae.invisibleCharacterCount);let he;if(ae.nonBasicAsciiCharacterCount>=ue)he={message:l.localize(1,null),command:new K};else if(ae.ambiguousCharacterCount>=ue)he={message:l.localize(2,null),command:new B};else if(ae.invisibleCharacterCount>=ue)he={message:l.localize(3,null),command:new V};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:he.message,icon:e.warningIcon,actions:[{label:he.command.shortLabel,href:`command:${he.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Y.createInstance(g.BannerController,ee)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ee.getOption(125),this._register(x.onDidChangeTrust(ae=>{this._updateHighlighter()})),this._register(ee.onDidChangeConfiguration(ae=>{ae.hasChanged(125)&&(this._options=ee.getOption(125),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ee=_(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ee.nonBasicASCII,ee.ambiguousCharacters,ee.invisibleCharacters].every(x=>x===!1))return;const Z={nonBasicASCII:ee.nonBasicASCII,ambiguousCharacters:ee.ambiguousCharacters,invisibleCharacters:ee.invisibleCharacters,includeComments:ee.includeComments,includeStrings:ee.includeStrings,allowedCodePoints:Object.keys(ee.allowedCharacters).map(x=>x.codePointAt(0)),allowedLocales:Object.keys(ee.allowedLocales).map(x=>x==="_os"?new Intl.NumberFormat().resolvedOptions().locale:x==="_vscode"?y.language:x)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new S(this._editor,Z,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,Z,this._updateState)}getDecorationInfo(ee){return this._highlighter?this._highlighter.getDecorationInfo(ee):null}};e.UnicodeHighlighter=p,p.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=p=ke([ge(1,n.IEditorWorkerService),ge(2,h.IWorkspaceTrustManagementService),ge(3,d.IInstantiationService)],p);function _(J,ee){return{nonBasicASCII:ee.nonBasicASCII===b.inUntrustedWorkspace?!J:ee.nonBasicASCII,ambiguousCharacters:ee.ambiguousCharacters,invisibleCharacters:ee.invisibleCharacters,includeComments:ee.includeComments===b.inUntrustedWorkspace?!J:ee.includeComments,includeStrings:ee.includeStrings===b.inUntrustedWorkspace?!J:ee.includeStrings,allowedCharacters:ee.allowedCharacters,allowedLocales:ee.allowedLocales}}let S=class extends D.Disposable{constructor(ee,Z,x,Y){super(),this._editor=ee,this._options=Z,this._updateState=x,this._editorWorkerService=Y,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ee=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Z=>{if(this._model.isDisposed()||this._model.getVersionId()!==ee)return;this._updateState(Z);const x=[];if(!Z.hasMore)for(const Y of Z.ranges)x.push({range:Y,options:P.instance.getDecorationFromOptions(this._options)});this._decorations.set(x)})}getDecorationInfo(ee){if(!this._decorations.has(ee))return null;const Z=this._editor.getModel();if(!(0,t.isModelDecorationVisible)(Z,ee))return null;const x=Z.getValueInRange(ee.range);return{reason:M(x,this._options),inComment:(0,t.isModelDecorationInComment)(Z,ee),inString:(0,t.isModelDecorationInString)(Z,ee)}}};S=ke([ge(3,n.IEditorWorkerService)],S);class E extends D.Disposable{constructor(ee,Z,x){super(),this._editor=ee,this._options=Z,this._updateState=x,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ee=this._editor.getVisibleRanges(),Z=[],x={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Y of ee){const ae=o.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,Y);for(const ue of ae.ranges)x.ranges.push(ue);x.ambiguousCharacterCount+=x.ambiguousCharacterCount,x.invisibleCharacterCount+=x.invisibleCharacterCount,x.nonBasicAsciiCharacterCount+=x.nonBasicAsciiCharacterCount,x.hasMore=x.hasMore||ae.hasMore}if(!x.hasMore)for(const Y of x.ranges)Z.push({range:Y,options:P.instance.getDecorationFromOptions(this._options)});this._updateState(x),this._decorations.set(Z)}getDecorationInfo(ee){if(!this._decorations.has(ee))return null;const Z=this._editor.getModel(),x=Z.getValueInRange(ee.range);return(0,t.isModelDecorationVisible)(Z,ee)?{reason:M(x,this._options),inComment:(0,t.isModelDecorationInComment)(Z,ee),inString:(0,t.isModelDecorationInString)(Z,ee)}:null}}const I=l.localize(4,null);let T=class{constructor(ee,Z,x){this._editor=ee,this._languageService=Z,this._openerService=x,this.hoverOrdinal=5}computeSync(ee,Z){if(!this._editor.hasModel()||ee.type!==1)return[];const x=this._editor.getModel(),Y=this._editor.getContribution(p.ID);if(!Y)return[];const ae=[],ue=new Set;let he=300;for(const pe of Z){const ce=Y.getDecorationInfo(pe);if(!ce)continue;const oe=x.getValueInRange(pe.range).codePointAt(0),re=A(oe);let W;switch(ce.reason.kind){case 0:{(0,m.isBasicASCII)(ce.reason.confusableWith)?W=l.localize(5,null,re,A(ce.reason.confusableWith.codePointAt(0))):W=l.localize(6,null,re,A(ce.reason.confusableWith.codePointAt(0)));break}case 1:W=l.localize(7,null,re);break;case 2:W=l.localize(8,null,re);break}if(ue.has(W))continue;ue.add(W);const q={codePoint:oe,reason:ce.reason,inComment:ce.inComment,inString:ce.inString},H=l.localize(9,null),j=`command:${U.ID}?${encodeURIComponent(JSON.stringify(q))}`,Q=new L.MarkdownString("",!0).appendMarkdown(W).appendText(" ").appendLink(j,H,I);ae.push(new c.MarkdownHover(this,pe.range,[Q],!1,he++))}return ae}renderHoverParts(ee,Z){return(0,c.renderMarkdownHovers)(ee,Z,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=T,e.UnicodeHighlighterHoverParticipant=T=ke([ge(1,i.ILanguageService),ge(2,u.IOpenerService)],T);function N(J){return`U+${J.toString(16).padStart(4,"0")}`}function A(J){let ee=`\`${N(J)}\``;return m.InvisibleCharacters.isInvisibleCharacter(J)||(ee+=` "${`${R(J)}`}"`),ee}function R(J){return J===96?"`` ` ``":"`"+String.fromCodePoint(J)+"`"}function M(J,ee){return o.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(J,ee)}class P{constructor(){this.map=new Map}getDecorationFromOptions(ee){return this.getDecoration(!ee.includeComments,!ee.includeStrings)}getDecoration(ee,Z){const x=`${ee}${Z}`;let Y=this.map.get(x);return Y||(Y=C.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ee,hideInStringTokens:Z}),this.map.set(x,Y)),Y}}P.instance=new P;class F extends w.EditorAction{constructor(){super({id:B.ID,label:l.localize(11,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=l.localize(10,null)}async run(ee,Z,x){const Y=ee?.get(r.IConfigurationService);Y&&this.runAction(Y)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.includeComments,!1,2)}}e.DisableHighlightingInCommentsAction=F;class O extends w.EditorAction{constructor(){super({id:B.ID,label:l.localize(13,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=l.localize(12,null)}async run(ee,Z,x){const Y=ee?.get(r.IConfigurationService);Y&&this.runAction(Y)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.includeStrings,!1,2)}}e.DisableHighlightingInStringsAction=O;class B extends w.EditorAction{constructor(){super({id:B.ID,label:l.localize(15,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=l.localize(14,null)}async run(ee,Z,x){const Y=ee?.get(r.IConfigurationService);Y&&this.runAction(Y)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class V extends w.EditorAction{constructor(){super({id:V.ID,label:l.localize(17,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=l.localize(16,null)}async run(ee,Z,x){const Y=ee?.get(r.IConfigurationService);Y&&this.runAction(Y)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)}}e.DisableHighlightingOfInvisibleCharactersAction=V,V.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class K extends w.EditorAction{constructor(){super({id:K.ID,label:l.localize(19,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=l.localize(18,null)}async run(ee,Z,x){const Y=ee?.get(r.IConfigurationService);Y&&this.runAction(Y)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=K,K.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class U extends w.EditorAction{constructor(){super({id:U.ID,label:l.localize(20,null),alias:"Show Exclude Options",precondition:void 0})}async run(ee,Z,x){const{codePoint:Y,reason:ae,inString:ue,inComment:he}=x,pe=String.fromCodePoint(Y),ce=ee.get(a.IQuickInputService),ie=ee.get(r.IConfigurationService);function oe(q){return m.InvisibleCharacters.isInvisibleCharacter(q)?l.localize(21,null,N(q)):l.localize(22,null,`${N(q)} "${pe}"`)}const re=[];if(ae.kind===0)for(const q of ae.notAmbiguousInLocales)re.push({label:l.localize(23,null,q),run:async()=>{z(ie,[q])}});if(re.push({label:oe(Y),run:()=>G(ie,[Y])}),he){const q=new F;re.push({label:q.label,run:async()=>q.runAction(ie)})}else if(ue){const q=new O;re.push({label:q.label,run:async()=>q.runAction(ie)})}if(ae.kind===0){const q=new B;re.push({label:q.label,run:async()=>q.runAction(ie)})}else if(ae.kind===1){const q=new V;re.push({label:q.label,run:async()=>q.runAction(ie)})}else if(ae.kind===2){const q=new K;re.push({label:q.label,run:async()=>q.runAction(ie)})}else $(ae);const W=await ce.pick(re,{title:I});W&&await W.run()}}e.ShowExcludeOptions=U,U.ID="editor.action.unicodeHighlight.showExcludeOptions";async function G(J,ee){const Z=J.getValue(b.unicodeHighlightConfigKeys.allowedCharacters);let x;typeof Z=="object"&&Z?x=Z:x={};for(const Y of ee)x[String.fromCodePoint(Y)]=!0;await J.updateValue(b.unicodeHighlightConfigKeys.allowedCharacters,x,2)}async function z(J,ee){var Z;const x=(Z=J.inspect(b.unicodeHighlightConfigKeys.allowedLocales).user)===null||Z===void 0?void 0:Z.value;let Y;typeof x=="object"&&x?Y=Object.assign({},x):Y={};for(const ae of ee)Y[ae]=!0;await J.updateValue(b.unicodeHighlightConfigKeys.allowedLocales,Y,2)}function $(J){throw new Error(`Unexpected value: ${J}`)}(0,w.registerEditorAction)(B),(0,w.registerEditorAction)(V),(0,w.registerEditorAction)(K),(0,w.registerEditorAction)(U),(0,w.registerEditorContribution)(p.ID,p,1),s.HoverParticipantRegistry.register(T)}),define(ne[1004],se([1,0,209,215,953,867,956,868,869,993,958,960,984,962,870,992,871,963,994,995,410,282,874,875,835,1001,283,284,415,413,986,877,987,968,878,879,970,971,880,977,941,905,929,972,930,931,882,217,989,423,1002,883,857,1003,884,978,397,885,881,834,103,191]),function(X,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ne[288],se([1,0,11,6,46,7,136,2,17,107,22,148,268,73,10,5,53,75,206,25,28,388,14,175,8,831,32,377,118,378,832,177,50,93,59,182,116,103,51,36,63,424,58,380,851,942,49,841,113,269,43,924,260,949,946,405,149,833,62,29,391,836,114,828,259,829,176,210,104,839,64,65,99,856,134,837,143,9,265,52,45,35,404,379,991,84,925,818,912]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N,A,R,M,P,F,O,B,V,K,U,G,z,$,J,ee,Z,x,Y,ae,ue,he,pe,ce,ie,oe,re,W,q,H,j,Q,te,le,de,me,ve,Ce,ye,Se,Te,De,Me,Ae,Pe,Re,Ee,Ne,fe,_e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0,e.updateConfigurationService=Le;class Oe{constructor(Fe){this.disposed=!1,this.model=Fe,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Be=class{constructor(Fe){this.modelService=Fe}createModelReference(Fe){const He=this.modelService.getModel(Fe);return He?Promise.resolve(new m.ImmortalReference(new Oe(He))):Promise.reject(new Error("Model not found"))}};Be=ke([ge(0,c.IModelService)],Be);class Ke{show(){return Ke.NULL_PROGRESS_RUNNER}async showWhile(Fe,He){await Fe}}Ke.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class je{withProgress(Fe,He,ze){return He({report:()=>{}})}}class Ze{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class et{async confirm(Fe){return{confirmed:this.doConfirm(Fe.message,Fe.detail),checkboxChecked:!1}}doConfirm(Fe,He){let ze=Fe;return He&&(ze=ze+`

`+He),fe.mainWindow.confirm(ze)}async prompt(Fe){var He,ze;let $e;if(this.doConfirm(Fe.message,Fe.detail)){const Je=[...(He=Fe.buttons)!==null&&He!==void 0?He:[]];Fe.cancelButton&&typeof Fe.cancelButton!="string"&&typeof Fe.cancelButton!="boolean"&&Je.push(Fe.cancelButton),$e=await((ze=Je[0])===null||ze===void 0?void 0:ze.run({checkboxChecked:!1}))}return{result:$e}}async error(Fe,He){await this.prompt({type:b.default.Error,message:Fe,detail:He})}}class it{info(Fe){return this.notify({severity:b.default.Info,message:Fe})}warn(Fe){return this.notify({severity:b.default.Warning,message:Fe})}error(Fe){return this.notify({severity:b.default.Error,message:Fe})}notify(Fe){switch(Fe.severity){case b.default.Error:console.error(Fe.message);break;case b.default.Warning:console.warn(Fe.message);break;default:console.log(Fe.message);break}return it.NO_OP}prompt(Fe,He,ze,$e){return it.NO_OP}status(Fe,He){return m.Disposable.None}}e.StandaloneNotificationService=it,it.NO_OP=new A.NoOpNotification;let rt=class{constructor(Fe){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Fe}executeCommand(Fe,...He){const ze=r.CommandsRegistry.getCommand(Fe);if(!ze)return Promise.reject(new Error(`command '${Fe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Fe,args:He});const $e=this._instantiationService.invokeFunction.apply(this._instantiationService,[ze.handler,...He]);return this._onDidExecuteCommand.fire({commandId:Fe,args:He}),Promise.resolve($e)}catch($e){return Promise.reject($e)}}};e.StandaloneCommandService=rt,e.StandaloneCommandService=rt=ke([ge(0,h.IInstantiationService)],rt);let ut=class extends p.AbstractKeybindingService{constructor(Fe,He,ze,$e,tt,Je){super(Fe,He,ze,$e,tt),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const at=lt=>{const yt=new m.DisposableStore;yt.add(k.addDisposableListener(lt,k.EventType.KEY_DOWN,Et=>{const Dt=new L.StandardKeyboardEvent(Et);this._dispatch(Dt,Dt.target)&&(Dt.preventDefault(),Dt.stopPropagation())})),yt.add(k.addDisposableListener(lt,k.EventType.KEY_UP,Et=>{const Dt=new L.StandardKeyboardEvent(Et);this._singleModifierDispatch(Dt,Dt.target)&&Dt.preventDefault()})),this._domNodeListeners.push(new ot(lt,yt))},nt=lt=>{for(let yt=0;yt<this._domNodeListeners.length;yt++){const Et=this._domNodeListeners[yt];Et.domNode===lt&&(this._domNodeListeners.splice(yt,1),Et.dispose())}},st=lt=>{lt.getOption(61)||at(lt.getContainerDomNode())},ct=lt=>{lt.getOption(61)||nt(lt.getContainerDomNode())};this._register(Je.onCodeEditorAdd(st)),this._register(Je.onCodeEditorRemove(ct)),Je.listCodeEditors().forEach(st);const dt=lt=>{at(lt.getContainerDomNode())},Lt=lt=>{nt(lt.getContainerDomNode())};this._register(Je.onDiffEditorAdd(dt)),this._register(Je.onDiffEditorRemove(Lt)),Je.listDiffEditors().forEach(dt)}addDynamicKeybinding(Fe,He,ze,$e){return(0,m.combinedDisposable)(r.CommandsRegistry.registerCommand(Fe,ze),this.addDynamicKeybindings([{keybinding:He,command:Fe,when:$e}]))}addDynamicKeybindings(Fe){const He=Fe.map(ze=>{var $e;return{keybinding:(0,y.decodeKeybinding)(ze.keybinding,w.OS),command:($e=ze.command)!==null&&$e!==void 0?$e:null,commandArgs:ze.commandArgs,when:ze.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(He),this.updateResolver(),(0,m.toDisposable)(()=>{for(let ze=0;ze<this._dynamicKeybindings.length;ze++)if(this._dynamicKeybindings[ze]===He[0]){this._dynamicKeybindings.splice(ze,He.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Fe=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),He=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new S.KeybindingResolver(Fe,He,ze=>this._log(ze))}return this._cachedResolver}_documentHasFocus(){return fe.mainWindow.document.hasFocus()}_toNormalizedKeybindingItems(Fe,He){const ze=[];let $e=0;for(const tt of Fe){const Je=tt.when||void 0,at=tt.keybinding;if(!at)ze[$e++]=new I.ResolvedKeybindingItem(void 0,tt.command,tt.commandArgs,Je,He,null,!1);else{const nt=T.USLayoutResolvedKeybinding.resolveKeybinding(at,w.OS);for(const st of nt)ze[$e++]=new I.ResolvedKeybindingItem(st,tt.command,tt.commandArgs,Je,He,null,!1)}}return ze}resolveKeyboardEvent(Fe){const He=new y.KeyCodeChord(Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey,Fe.keyCode);return new T.USLayoutResolvedKeybinding([He],w.OS)}};e.StandaloneKeybindingService=ut,e.StandaloneKeybindingService=ut=ke([ge(0,a.IContextKeyService),ge(1,r.ICommandService),ge(2,M.ITelemetryService),ge(3,A.INotificationService),ge(4,K.ILogService),ge(5,V.ICodeEditorService)],ut);class ot extends m.Disposable{constructor(Fe,He){super(),this.domNode=Fe,this._register(He)}}function ht(Ge){return Ge&&typeof Ge=="object"&&(!Ge.overrideIdentifier||typeof Ge.overrideIdentifier=="string")&&(!Ge.resource||Ge.resource instanceof C.URI)}let Xe=class{constructor(Fe){this.logService=Fe,this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const He=new Me.DefaultConfiguration(Fe);this._configuration=new u.Configuration(He.reload(),u.ConfigurationModel.createEmptyModel(Fe),u.ConfigurationModel.createEmptyModel(Fe),u.ConfigurationModel.createEmptyModel(Fe),u.ConfigurationModel.createEmptyModel(Fe),u.ConfigurationModel.createEmptyModel(Fe),new _e.ResourceMap,u.ConfigurationModel.createEmptyModel(Fe),new _e.ResourceMap,Fe),He.dispose()}getValue(Fe,He){const ze=typeof Fe=="string"?Fe:void 0,$e=ht(Fe)?Fe:ht(He)?He:{};return this._configuration.getValue(ze,$e,void 0)}updateValues(Fe){const He={data:this._configuration.toData()},ze=[];for(const $e of Fe){const[tt,Je]=$e;this.getValue(tt)!==Je&&(this._configuration.updateValue(tt,Je),ze.push(tt))}if(ze.length>0){const $e=new u.ConfigurationChangeEvent({keys:ze,overrides:[]},He,this._configuration,void 0,this.logService);$e.source=8,this._onDidChangeConfiguration.fire($e)}return Promise.resolve()}updateValue(Fe,He,ze,$e){return this.updateValues([[Fe,He]])}inspect(Fe,He={}){return this._configuration.inspect(Fe,He,void 0)}};e.StandaloneConfigurationService=Xe,e.StandaloneConfigurationService=Xe=ke([ge(0,K.ILogService)],Xe);let _t=class{constructor(Fe,He,ze){this.configurationService=Fe,this.modelService=He,this.languageService=ze,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration($e=>{this._onDidChangeConfiguration.fire({affectedKeys:$e.affectedKeys,affectsConfiguration:(tt,Je)=>$e.affectsConfiguration(Je)})})}getValue(Fe,He,ze){const $e=t.Position.isIPosition(He)?He:null,tt=$e?typeof ze=="string"?ze:void 0:typeof He=="string"?He:void 0,Je=Fe?this.getLanguage(Fe,$e):void 0;return typeof tt>"u"?this.configurationService.getValue({resource:Fe,overrideIdentifier:Je}):this.configurationService.getValue(tt,{resource:Fe,overrideIdentifier:Je})}getLanguage(Fe,He){const ze=this.modelService.getModel(Fe);return ze?He?ze.getLanguageIdAtPosition(He.lineNumber,He.column):ze.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Fe)}};_t=ke([ge(0,d.IConfigurationService),ge(1,c.IModelService),ge(2,ae.ILanguageService)],_t);let vt=class{constructor(Fe){this.configurationService=Fe}getEOL(Fe,He){const ze=this.configurationService.getValue("files.eol",{overrideIdentifier:He,resource:Fe});return ze&&typeof ze=="string"&&ze!=="auto"?ze:w.isLinux||w.isMacintosh?`
`:`\r
`}};vt=ke([ge(0,d.IConfigurationService)],vt);class Ct{publicLog2(){}}class gt{constructor(){const Fe=C.URI.from({scheme:gt.SCHEME,authority:"model",path:"/"});this.workspace={id:P.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new P.WorkspaceFolder({uri:Fe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Fe){return Fe&&Fe.scheme===gt.SCHEME?this.workspace.folders[0]:null}}gt.SCHEME="inmemory";function Le(Ge,Fe,He){if(!Fe||!(Ge instanceof Xe))return;const ze=[];Object.keys(Fe).forEach($e=>{(0,n.isEditorConfigurationKey)($e)&&ze.push([`editor.${$e}`,Fe[$e]]),He&&(0,n.isDiffEditorConfigurationKey)($e)&&ze.push([`diffEditor.${$e}`,Fe[$e]])}),ze.length>0&&Ge.updateValues(ze)}let we=class{constructor(Fe){this._modelService=Fe}hasPreviewHandler(){return!1}async apply(Fe,He){const ze=Array.isArray(Fe)?Fe:o.ResourceEdit.convert(Fe),$e=new Map;for(const at of ze){if(!(at instanceof o.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const nt=this._modelService.getModel(at.resource);if(!nt)throw new Error("bad edit - model not found");if(typeof at.versionId=="number"&&nt.getVersionId()!==at.versionId)throw new Error("bad state - model changed in the meantime");let st=$e.get(nt);st||(st=[],$e.set(nt,st)),st.push(i.EditOperation.replaceMove(s.Range.lift(at.textEdit.range),at.textEdit.text))}let tt=0,Je=0;for(const[at,nt]of $e)at.pushStackElement(),at.pushEditOperations([],nt,()=>[]),at.pushStackElement(),Je+=1,tt+=nt.length;return{ariaSummary:f.format(O.StandaloneServicesNLS.bulkEditServiceSummary,tt,Je),isApplied:tt>0}}};we=ke([ge(0,c.IModelService)],we);class be{getUriLabel(Fe,He){return Fe.scheme==="file"?Fe.fsPath:Fe.path}getUriBasenameLabel(Fe){return(0,B.basename)(Fe)}}let Ie=class extends z.ContextViewService{constructor(Fe,He){super(Fe),this._codeEditorService=He}showContextView(Fe,He,ze){if(!He){const $e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();$e&&(He=$e.getContainerDomNode())}return super.showContextView(Fe,He,ze)}};Ie=ke([ge(0,F.ILayoutService),ge(1,V.ICodeEditorService)],Ie);class xe{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Ve extends $.LanguageService{constructor(){super()}}class We extends Pe.LogService{constructor(){super(new K.ConsoleLogger)}}let qe=class extends J.ContextMenuService{constructor(Fe,He,ze,$e,tt,Je){super(Fe,He,ze,$e,tt,Je),this.configure({blockMouse:!1})}};qe=ke([ge(0,M.ITelemetryService),ge(1,A.INotificationService),ge(2,G.IContextViewService),ge(3,_.IKeybindingService),ge(4,q.IMenuService),ge(5,a.IContextKeyService)],qe);class Ue{async playSignal(Fe,He){}}(0,ee.registerSingleton)(K.ILogService,We,0),(0,ee.registerSingleton)(d.IConfigurationService,Xe,0),(0,ee.registerSingleton)(l.ITextResourceConfigurationService,_t,0),(0,ee.registerSingleton)(l.ITextResourcePropertiesService,vt,0),(0,ee.registerSingleton)(P.IWorkspaceContextService,gt,0),(0,ee.registerSingleton)(N.ILabelService,be,0),(0,ee.registerSingleton)(M.ITelemetryService,Ct,0),(0,ee.registerSingleton)(v.IDialogService,et,0),(0,ee.registerSingleton)(Ne.IEnvironmentService,Ze,0),(0,ee.registerSingleton)(A.INotificationService,it,0),(0,ee.registerSingleton)(Ce.IMarkerService,ye.MarkerService,0),(0,ee.registerSingleton)(ae.ILanguageService,Ve,0),(0,ee.registerSingleton)(oe.IStandaloneThemeService,ie.StandaloneThemeService,0),(0,ee.registerSingleton)(c.IModelService,pe.ModelService,0),(0,ee.registerSingleton)(he.IMarkerDecorationsService,ue.MarkerDecorationsService,0),(0,ee.registerSingleton)(a.IContextKeyService,te.ContextKeyService,0),(0,ee.registerSingleton)(R.IProgressService,je,0),(0,ee.registerSingleton)(R.IEditorProgressService,Ke,0),(0,ee.registerSingleton)(De.IStorageService,De.InMemoryStorageService,0),(0,ee.registerSingleton)(x.IEditorWorkerService,Y.EditorWorkerService,0),(0,ee.registerSingleton)(o.IBulkEditService,we,0),(0,ee.registerSingleton)(U.IWorkspaceTrustManagementService,xe,0),(0,ee.registerSingleton)(g.ITextModelService,Be,0),(0,ee.registerSingleton)(W.IAccessibilityService,re.AccessibilityService,0),(0,ee.registerSingleton)(ve.IListService,ve.ListService,0),(0,ee.registerSingleton)(r.ICommandService,rt,0),(0,ee.registerSingleton)(_.IKeybindingService,ut,0),(0,ee.registerSingleton)(Te.IQuickInputService,ce.StandaloneQuickInputService,0),(0,ee.registerSingleton)(G.IContextViewService,Ie,0),(0,ee.registerSingleton)(Se.IOpenerService,Z.OpenerService,0),(0,ee.registerSingleton)(Q.IClipboardService,j.BrowserClipboardService,0),(0,ee.registerSingleton)(G.IContextMenuService,qe,0),(0,ee.registerSingleton)(q.IMenuService,H.MenuService,0),(0,ee.registerSingleton)(Ae.IAccessibilitySignalService,Ue,0);var Ye;(function(Ge){const Fe=new me.ServiceCollection;for(const[nt,st]of(0,ee.getSingletonServiceDescriptors)())Fe.set(nt,st);const He=new de.InstantiationService(Fe,!0);Fe.set(h.IInstantiationService,He);function ze(nt){$e||Je({});const st=Fe.get(nt);if(!st)throw new Error("Missing service "+nt);return st instanceof le.SyncDescriptor?He.invokeFunction(ct=>ct.get(nt)):st}Ge.get=ze;let $e=!1;const tt=new D.Emitter;function Je(nt){if($e)return He;$e=!0;for(const[ct,dt]of(0,ee.getSingletonServiceDescriptors)())Fe.get(ct)||Fe.set(ct,dt);for(const ct in nt)if(nt.hasOwnProperty(ct)){const dt=(0,h.createDecorator)(ct);Fe.get(dt)instanceof le.SyncDescriptor&&Fe.set(dt,nt[ct])}const st=(0,Re.getEditorFeatures)();for(const ct of st)try{He.createInstance(ct)}catch(dt){(0,Ee.onUnexpectedError)(dt)}return tt.fire(),He}Ge.initialize=Je;function at(nt){if($e)return nt();const st=new m.DisposableStore,ct=st.add(tt.event(()=>{ct.dispose(),st.add(nt())}));return st}Ge.withServices=at})(Ye||(e.StandaloneServices=Ye={}))}),define(ne[1005],se([1,0,48,2,36,215,311,288,149,29,25,28,14,58,8,32,50,23,62,103,114,93,53,43,404,85,35,18,280,134,52,44,115,77]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneDiffEditor2=e.StandaloneEditor=e.StandaloneCodeEditor=void 0,e.createTextModel=K;let M=0,P=!1;function F(G){if(!G){if(P)return;P=!0}f.setARIAContainer(G||T.mainWindow.document.body)}let O=class extends D.CodeEditorWidget{constructor(z,$,J,ee,Z,x,Y,ae,ue,he,pe,ce,ie){const oe={...$};oe.ariaLabel=oe.ariaLabel||r.StandaloneCodeEditorNLS.editorViewAccessibleLabel,oe.ariaLabel=oe.ariaLabel+";"+r.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(z,oe,{},J,ee,Z,x,ue,he,pe,ce,ie),ae instanceof m.StandaloneKeybindingService?this._standaloneKeybindingService=ae:this._standaloneKeybindingService=null,F(oe.ariaContainerElement),(0,N.setHoverDelegateFactory)((re,W)=>J.createInstance(A.WorkbenchHoverDelegate,re,W,{})),(0,R.setBaseLayerHoverDelegate)(Y)}addCommand(z,$,J){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const ee="DYNAMIC_"+ ++M,Z=n.ContextKeyExpr.deserialize(J);return this._standaloneKeybindingService.addDynamicKeybinding(ee,z,$,Z),ee}createContextKey(z,$){return this._contextKeyService.createKey(z,$)}addAction(z){if(typeof z.id!="string"||typeof z.label!="string"||typeof z.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const $=z.id,J=z.label,ee=n.ContextKeyExpr.and(n.ContextKeyExpr.equals("editorId",this.getId()),n.ContextKeyExpr.deserialize(z.precondition)),Z=z.keybindings,x=n.ContextKeyExpr.and(ee,n.ContextKeyExpr.deserialize(z.keybindingContext)),Y=z.contextMenuGroupId||null,ae=z.contextMenuOrder||0,ue=(ie,...oe)=>Promise.resolve(z.run(this,...oe)),he=new k.DisposableStore,pe=this.getId()+":"+$;if(he.add(C.CommandsRegistry.registerCommand(pe,ue)),Y){const ie={command:{id:pe,title:J},when:ee,group:Y,order:ae};he.add(b.MenuRegistry.appendMenuItem(b.MenuId.EditorContext,ie))}if(Array.isArray(Z))for(const ie of Z)he.add(this._standaloneKeybindingService.addDynamicKeybinding(pe,ie,ue,x));const ce=new y.InternalEditorAction(pe,J,J,void 0,ee,(...ie)=>Promise.resolve(z.run(this,...ie)),this._contextKeyService);return this._actions.set($,ce),he.add((0,k.toDisposable)(()=>{this._actions.delete($)})),he}_triggerCommand(z,$){if(this._codeEditorService instanceof h.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(z,$)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(z,$)}};e.StandaloneCodeEditor=O,e.StandaloneCodeEditor=O=ke([ge(2,t.IInstantiationService),ge(3,L.ICodeEditorService),ge(4,C.ICommandService),ge(5,n.IContextKeyService),ge(6,A.IHoverService),ge(7,s.IKeybindingService),ge(8,g.IThemeService),ge(9,c.INotificationService),ge(10,l.IAccessibilityService),ge(11,_.ILanguageConfigurationService),ge(12,S.ILanguageFeaturesService)],O);let B=class extends O{constructor(z,$,J,ee,Z,x,Y,ae,ue,he,pe,ce,ie,oe,re,W){const q={...$};(0,m.updateConfigurationService)(pe,q,!1);const H=ue.registerEditorContainer(z);typeof q.theme=="string"&&ue.setTheme(q.theme),typeof q.autoDetectHighContrast<"u"&&ue.setAutoDetectHighContrast(!!q.autoDetectHighContrast);const j=q.model;delete q.model,super(z,q,J,ee,Z,x,Y,ae,ue,he,ce,re,W),this._configurationService=pe,this._standaloneThemeService=ue,this._register(H);let Q;if(typeof j>"u"){const te=oe.getLanguageIdByMimeType(q.language)||q.language||p.PLAINTEXT_LANGUAGE_ID;Q=K(ie,oe,q.value||"",te,void 0),this._ownsModel=!0}else Q=j,this._ownsModel=!1;if(this._attachModel(Q),Q){const te={oldModelUrl:null,newModelUrl:Q.uri};this._onDidChangeModel.fire(te)}}dispose(){super.dispose()}updateOptions(z){(0,m.updateConfigurationService)(this._configurationService,z,!1),typeof z.theme=="string"&&this._standaloneThemeService.setTheme(z.theme),typeof z.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!z.autoDetectHighContrast),super.updateOptions(z)}_postDetachModelCleanup(z){super._postDetachModelCleanup(z),z&&this._ownsModel&&(z.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=B,e.StandaloneEditor=B=ke([ge(2,t.IInstantiationService),ge(3,L.ICodeEditorService),ge(4,C.ICommandService),ge(5,n.IContextKeyService),ge(6,A.IHoverService),ge(7,s.IKeybindingService),ge(8,w.IStandaloneThemeService),ge(9,c.INotificationService),ge(10,o.IConfigurationService),ge(11,l.IAccessibilityService),ge(12,a.IModelService),ge(13,v.ILanguageService),ge(14,_.ILanguageConfigurationService),ge(15,S.ILanguageFeaturesService)],B);let V=class extends E.DiffEditorWidget{constructor(z,$,J,ee,Z,x,Y,ae,ue,he,pe,ce){const ie={...$};(0,m.updateConfigurationService)(ae,ie,!0);const oe=x.registerEditorContainer(z);typeof ie.theme=="string"&&x.setTheme(ie.theme),typeof ie.autoDetectHighContrast<"u"&&x.setAutoDetectHighContrast(!!ie.autoDetectHighContrast),super(z,ie,{},ee,J,Z,ce,he),this._configurationService=ae,this._standaloneThemeService=x,this._register(oe)}dispose(){super.dispose()}updateOptions(z){(0,m.updateConfigurationService)(this._configurationService,z,!0),typeof z.theme=="string"&&this._standaloneThemeService.setTheme(z.theme),typeof z.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!z.autoDetectHighContrast),super.updateOptions(z)}_createInnerEditor(z,$,J){return z.createInstance(O,$,J)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(z,$,J){return this.getModifiedEditor().addCommand(z,$,J)}createContextKey(z,$){return this.getModifiedEditor().createContextKey(z,$)}addAction(z){return this.getModifiedEditor().addAction(z)}};e.StandaloneDiffEditor2=V,e.StandaloneDiffEditor2=V=ke([ge(2,t.IInstantiationService),ge(3,n.IContextKeyService),ge(4,L.ICodeEditorService),ge(5,w.IStandaloneThemeService),ge(6,c.INotificationService),ge(7,o.IConfigurationService),ge(8,i.IContextMenuService),ge(9,u.IEditorProgressService),ge(10,d.IClipboardService),ge(11,I.IAccessibilitySignalService)],V);function K(G,z,$,J,ee){if($=$||"",!J){const Z=$.indexOf(`
`);let x=$;return Z!==-1&&(x=$.substring(0,Z)),U(G,$,z.createByFilepathOrFirstLine(ee||null,x),ee)}return U(G,$,z.createById(J),ee)}function U(G,z,$,J){return G.createModel(z,$,J)}}),define(ne[1006],se([1,0,52,2,11,22,360,16,36,846,38,160,258,193,27,43,35,85,172,42,53,234,822,1005,288,149,29,25,14,32,104,64,955,520]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s,c,g,l,r,d,u,a,v,h,p,_,S,E,I,T,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=R,e.onDidCreateEditor=M,e.onDidCreateDiffEditor=P,e.getEditors=F,e.getDiffEditors=O,e.createDiffEditor=B,e.createMultiFileDiffEditor=V,e.addCommand=K,e.addEditorAction=U,e.addKeybindingRule=G,e.addKeybindingRules=z,e.createModel=$,e.setModelLanguage=J,e.setModelMarkers=ee,e.removeAllMarkers=Z,e.getModelMarkers=x,e.onDidChangeMarkers=Y,e.getModel=ae,e.getModels=ue,e.onDidCreateModel=he,e.onWillDisposeModel=pe,e.onDidChangeModelLanguage=ce,e.createWebWorker=ie,e.colorizeElement=oe,e.colorize=re,e.colorizeModelLine=W,e.tokenize=H,e.defineTheme=j,e.setTheme=Q,e.remeasureFonts=te,e.registerCommand=le,e.registerLinkOpener=de,e.registerEditorOpener=me,e.createMonacoEditorAPI=ve;function R(Ce,ye,Se){return h.StandaloneServices.initialize(Se||{}).createInstance(v.StandaloneEditor,Ce,ye)}function M(Ce){return h.StandaloneServices.get(w.ICodeEditorService).onCodeEditorAdd(Se=>{Ce(Se)})}function P(Ce){return h.StandaloneServices.get(w.ICodeEditorService).onDiffEditorAdd(Se=>{Ce(Se)})}function F(){return h.StandaloneServices.get(w.ICodeEditorService).listCodeEditors()}function O(){return h.StandaloneServices.get(w.ICodeEditorService).listDiffEditors()}function B(Ce,ye,Se){return h.StandaloneServices.initialize(Se||{}).createInstance(v.StandaloneDiffEditor2,Ce,ye)}function V(Ce,ye){const Se=h.StandaloneServices.initialize(ye||{});return new A.MultiDiffEditorWidget(Ce,{},Se)}function K(Ce){if(typeof Ce.id!="string"||typeof Ce.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return S.CommandsRegistry.registerCommand(Ce.id,Ce.run)}function U(Ce){if(typeof Ce.id!="string"||typeof Ce.label!="string"||typeof Ce.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const ye=E.ContextKeyExpr.deserialize(Ce.precondition),Se=(De,...Me)=>m.EditorCommand.runEditorCommand(De,Me,ye,(Ae,Pe,Re)=>Promise.resolve(Ce.run(Pe,...Re))),Te=new k.DisposableStore;if(Te.add(S.CommandsRegistry.registerCommand(Ce.id,Se)),Ce.contextMenuGroupId){const De={command:{id:Ce.id,title:Ce.label},when:ye,group:Ce.contextMenuGroupId,order:Ce.contextMenuOrder||0};Te.add(_.MenuRegistry.appendMenuItem(_.MenuId.EditorContext,De))}if(Array.isArray(Ce.keybindings)){const De=h.StandaloneServices.get(I.IKeybindingService);if(!(De instanceof h.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Me=E.ContextKeyExpr.and(ye,E.ContextKeyExpr.deserialize(Ce.keybindingContext));Te.add(De.addDynamicKeybindings(Ce.keybindings.map(Ae=>({keybinding:Ae,command:Ce.id,when:Me}))))}}return Te}function G(Ce){return z([Ce])}function z(Ce){const ye=h.StandaloneServices.get(I.IKeybindingService);return ye instanceof h.StandaloneKeybindingService?ye.addDynamicKeybindings(Ce.map(Se=>({keybinding:Se.keybinding,command:Se.command,commandArgs:Se.commandArgs,when:E.ContextKeyExpr.deserialize(Se.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None)}function $(Ce,ye,Se){const Te=h.StandaloneServices.get(s.ILanguageService),De=Te.getLanguageIdByMimeType(ye)||ye;return(0,v.createTextModel)(h.StandaloneServices.get(d.IModelService),Te,Ce,De,Se)}function J(Ce,ye){const Se=h.StandaloneServices.get(s.ILanguageService),Te=Se.getLanguageIdByMimeType(ye)||ye||g.PLAINTEXT_LANGUAGE_ID;Ce.setLanguage(Se.createById(Te))}function ee(Ce,ye,Se){Ce&&h.StandaloneServices.get(T.IMarkerService).changeOne(ye,Ce.uri,Se)}function Z(Ce){h.StandaloneServices.get(T.IMarkerService).changeAll(Ce,[])}function x(Ce){return h.StandaloneServices.get(T.IMarkerService).read(Ce)}function Y(Ce){return h.StandaloneServices.get(T.IMarkerService).onMarkerChanged(Ce)}function ae(Ce){return h.StandaloneServices.get(d.IModelService).getModel(Ce)}function ue(){return h.StandaloneServices.get(d.IModelService).getModels()}function he(Ce){return h.StandaloneServices.get(d.IModelService).onModelAdded(Ce)}function pe(Ce){return h.StandaloneServices.get(d.IModelService).onModelRemoved(Ce)}function ce(Ce){return h.StandaloneServices.get(d.IModelService).onModelLanguageChanged(Se=>{Ce({model:Se.model,oldLanguage:Se.oldLanguageId})})}function ie(Ce){return(0,b.createWebWorker)(h.StandaloneServices.get(d.IModelService),h.StandaloneServices.get(c.ILanguageConfigurationService),Ce)}function oe(Ce,ye){const Se=h.StandaloneServices.get(s.ILanguageService),Te=h.StandaloneServices.get(p.IStandaloneThemeService);return a.Colorizer.colorizeElement(Te,Se,Ce,ye).then(()=>{Te.registerEditorContainer(Ce)})}function re(Ce,ye,Se){const Te=h.StandaloneServices.get(s.ILanguageService);return h.StandaloneServices.get(p.IStandaloneThemeService).registerEditorContainer(f.mainWindow.document.body),a.Colorizer.colorize(Te,Ce,ye,Se)}function W(Ce,ye,Se=4){return h.StandaloneServices.get(p.IStandaloneThemeService).registerEditorContainer(f.mainWindow.document.body),a.Colorizer.colorizeModelLine(Ce,ye,Se)}function q(Ce){const ye=t.TokenizationRegistry.get(Ce);return ye||{getInitialState:()=>l.NullState,tokenize:(Se,Te,De)=>(0,l.nullTokenize)(Ce,De)}}function H(Ce,ye){t.TokenizationRegistry.getOrCreate(ye);const Se=q(ye),Te=(0,L.splitLines)(Ce),De=[];let Me=Se.getInitialState();for(let Ae=0,Pe=Te.length;Ae<Pe;Ae++){const Re=Te[Ae],Ee=Se.tokenize(Re,!0,Me);De[Ae]=Ee.tokens,Me=Ee.endState}return De}function j(Ce,ye){h.StandaloneServices.get(p.IStandaloneThemeService).defineTheme(Ce,ye)}function Q(Ce){h.StandaloneServices.get(p.IStandaloneThemeService).setTheme(Ce)}function te(){y.FontMeasurements.clearAllFontInfos()}function le(Ce,ye){return S.CommandsRegistry.registerCommand({id:Ce,handler:ye})}function de(Ce){return h.StandaloneServices.get(N.IOpenerService).registerOpener({async open(Se){return typeof Se=="string"&&(Se=D.URI.parse(Se)),Ce.open(Se)}})}function me(Ce){return h.StandaloneServices.get(w.ICodeEditorService).registerCodeEditorOpenHandler(async(Se,Te,De)=>{var Me;if(!Te)return null;const Ae=(Me=Se.options)===null||Me===void 0?void 0:Me.selection;let Pe;return Ae&&typeof Ae.endLineNumber=="number"&&typeof Ae.endColumn=="number"?Pe=Ae:Ae&&(Pe={lineNumber:Ae.startLineNumber,column:Ae.startColumn}),await Ce.openCodeEditor(Te,Se.resource,Pe)?Te:null})}function ve(){return{create:R,getEditors:F,getDiffEditors:O,onDidCreateEditor:M,onDidCreateDiffEditor:P,createDiffEditor:B,addCommand:K,addEditorAction:U,addKeybindingRule:G,addKeybindingRules:z,createModel:$,setModelLanguage:J,setModelMarkers:ee,getModelMarkers:x,removeAllMarkers:Z,onDidChangeMarkers:Y,getModels:ue,getModel:ae,onDidCreateModel:he,onWillDisposeModel:pe,onDidChangeModelLanguage:ce,createWebWorker:ie,colorizeElement:oe,colorize:re,colorizeModelLine:W,tokenize:H,defineTheme:j,setTheme:Q,remeasureFonts:te,registerCommand:le,registerLinkOpener:de,registerEditorOpener:me,AccessibilitySupport:u.AccessibilitySupport,ContentWidgetPositionPreference:u.ContentWidgetPositionPreference,CursorChangeReason:u.CursorChangeReason,DefaultEndOfLine:u.DefaultEndOfLine,EditorAutoIndentStrategy:u.EditorAutoIndentStrategy,EditorOption:u.EditorOption,EndOfLinePreference:u.EndOfLinePreference,EndOfLineSequence:u.EndOfLineSequence,MinimapPosition:u.MinimapPosition,MinimapSectionHeaderStyle:u.MinimapSectionHeaderStyle,MouseTargetType:u.MouseTargetType,OverlayWidgetPositionPreference:u.OverlayWidgetPositionPreference,OverviewRulerLane:u.OverviewRulerLane,GlyphMarginLane:u.GlyphMarginLane,RenderLineNumbersType:u.RenderLineNumbersType,RenderMinimap:u.RenderMinimap,ScrollbarVisibility:u.ScrollbarVisibility,ScrollType:u.ScrollType,TextEditorCursorBlinkingStyle:u.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:u.TextEditorCursorStyle,TrackedRangeStickiness:u.TrackedRangeStickiness,WrappingIndent:u.WrappingIndent,InjectedTextCursorStops:u.InjectedTextCursorStops,PositionAffinity:u.PositionAffinity,ShowLightbulbIconMode:u.ShowLightbulbIconMode,ConfigurationChangedEvent:C.ConfigurationChangedEvent,BareFontInfo:n.BareFontInfo,FontInfo:n.FontInfo,TextModelResolvedOptions:r.TextModelResolvedOptions,FindMatch:r.FindMatch,ApplyUpdateResult:C.ApplyUpdateResult,EditorZoom:o.EditorZoom,createMultiFileDiffEditor:V,EditorType:i.EditorType,EditorOptions:C.EditorOptions}}}),define(ne[1007],se([1,0,34,5,27,43,35,85,18,234,288,604,374,149,28,104]),function(X,e,f,k,L,D,y,m,w,b,C,o,n,i,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=void 0,e.register=c,e.getLanguages=g,e.getEncodedLanguageId=l,e.onLanguage=r,e.onLanguageEncountered=d,e.setLanguageConfiguration=u,e.setColorMap=S,e.registerTokensProviderFactory=I,e.setTokensProvider=T,e.setMonarchTokensProvider=N,e.registerReferenceProvider=A,e.registerRenameProvider=R,e.registerNewSymbolNameProvider=M,e.registerSignatureHelpProvider=P,e.registerHoverProvider=F,e.registerDocumentSymbolProvider=O,e.registerDocumentHighlightProvider=B,e.registerLinkedEditingRangeProvider=V,e.registerDefinitionProvider=K,e.registerImplementationProvider=U,e.registerTypeDefinitionProvider=G,e.registerCodeLensProvider=z,e.registerCodeActionProvider=$,e.registerDocumentFormattingEditProvider=J,e.registerDocumentRangeFormattingEditProvider=ee,e.registerOnTypeFormattingEditProvider=Z,e.registerLinkProvider=x,e.registerCompletionItemProvider=Y,e.registerColorProvider=ae,e.registerFoldingRangeProvider=ue,e.registerDeclarationProvider=he,e.registerSelectionRangeProvider=pe,e.registerDocumentSemanticTokensProvider=ce,e.registerDocumentRangeSemanticTokensProvider=ie,e.registerInlineCompletionsProvider=oe,e.registerInlineEditProvider=re,e.registerInlayHintsProvider=W,e.createMonacoLanguagesAPI=q;function c(H){m.ModesRegistry.registerLanguage(H)}function g(){let H=[];return H=H.concat(m.ModesRegistry.getLanguages()),H}function l(H){return C.StandaloneServices.get(D.ILanguageService).languageIdCodec.encodeLanguageId(H)}function r(H,j){return C.StandaloneServices.withServices(()=>{const te=C.StandaloneServices.get(D.ILanguageService).onDidRequestRichLanguageFeatures(le=>{le===H&&(te.dispose(),j())});return te})}function d(H,j){return C.StandaloneServices.withServices(()=>{const te=C.StandaloneServices.get(D.ILanguageService).onDidRequestBasicLanguageFeatures(le=>{le===H&&(te.dispose(),j())});return te})}function u(H,j){if(!C.StandaloneServices.get(D.ILanguageService).isRegisteredLanguageId(H))throw new Error(`Cannot set configuration for unknown language ${H}`);return C.StandaloneServices.get(y.ILanguageConfigurationService).register(H,j,100)}class a{constructor(j,Q){this._languageId=j,this._actual=Q}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(j,Q,te){if(typeof this._actual.tokenize=="function")return v.adaptTokenize(this._languageId,this._actual,j,te);throw new Error("Not supported!")}tokenizeEncoded(j,Q,te){const le=this._actual.tokenizeEncoded(j,te);return new L.EncodedTokenizationResult(le.tokens,le.endState)}}e.EncodedTokenizationSupportAdapter=a;class v{constructor(j,Q,te,le){this._languageId=j,this._actual=Q,this._languageService=te,this._standaloneThemeService=le}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(j,Q){const te=[];let le=0;for(let de=0,me=j.length;de<me;de++){const ve=j[de];let Ce=ve.startIndex;de===0?Ce=0:Ce<le&&(Ce=le),te[de]=new L.Token(Ce,ve.scopes,Q),le=Ce}return te}static adaptTokenize(j,Q,te,le){const de=Q.tokenize(te,le),me=v._toClassicTokens(de.tokens,j);let ve;return de.endState.equals(le)?ve=le:ve=de.endState,new L.TokenizationResult(me,ve)}tokenize(j,Q,te){return v.adaptTokenize(this._languageId,this._actual,j,te)}_toBinaryTokens(j,Q){const te=j.encodeLanguageId(this._languageId),le=this._standaloneThemeService.getColorTheme().tokenTheme,de=[];let me=0,ve=0;for(let ye=0,Se=Q.length;ye<Se;ye++){const Te=Q[ye],De=le.match(te,Te.scopes)|1024;if(me>0&&de[me-1]===De)continue;let Me=Te.startIndex;ye===0?Me=0:Me<ve&&(Me=ve),de[me++]=Me,de[me++]=De,ve=Me}const Ce=new Uint32Array(me);for(let ye=0;ye<me;ye++)Ce[ye]=de[ye];return Ce}tokenizeEncoded(j,Q,te){const le=this._actual.tokenize(j,te),de=this._toBinaryTokens(this._languageService.languageIdCodec,le.tokens);let me;return le.endState.equals(te)?me=te:me=le.endState,new L.EncodedTokenizationResult(de,me)}}e.TokenizationSupportAdapter=v;function h(H){return typeof H.getInitialState=="function"}function p(H){return"tokenizeEncoded"in H}function _(H){return H&&typeof H.then=="function"}function S(H){const j=C.StandaloneServices.get(i.IStandaloneThemeService);if(H){const Q=[null];for(let te=1,le=H.length;te<le;te++)Q[te]=f.Color.fromHex(H[te]);j.setColorMapOverride(Q)}else j.setColorMapOverride(null)}function E(H,j){return p(j)?new a(H,j):new v(H,j,C.StandaloneServices.get(D.ILanguageService),C.StandaloneServices.get(i.IStandaloneThemeService))}function I(H,j){const Q=new L.LazyTokenizationSupport(async()=>{const te=await Promise.resolve(j.create());return te?h(te)?E(H,te):new n.MonarchTokenizer(C.StandaloneServices.get(D.ILanguageService),C.StandaloneServices.get(i.IStandaloneThemeService),H,(0,o.compile)(H,te),C.StandaloneServices.get(t.IConfigurationService)):null});return L.TokenizationRegistry.registerFactory(H,Q)}function T(H,j){if(!C.StandaloneServices.get(D.ILanguageService).isRegisteredLanguageId(H))throw new Error(`Cannot set tokens provider for unknown language ${H}`);return _(j)?I(H,{create:()=>j}):L.TokenizationRegistry.register(H,E(H,j))}function N(H,j){const Q=te=>new n.MonarchTokenizer(C.StandaloneServices.get(D.ILanguageService),C.StandaloneServices.get(i.IStandaloneThemeService),H,(0,o.compile)(H,te),C.StandaloneServices.get(t.IConfigurationService));return _(j)?I(H,{create:()=>j}):L.TokenizationRegistry.register(H,Q(j))}function A(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).referenceProvider.register(H,j)}function R(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).renameProvider.register(H,j)}function M(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).newSymbolNamesProvider.register(H,j)}function P(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).signatureHelpProvider.register(H,j)}function F(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).hoverProvider.register(H,{provideHover:async(te,le,de,me)=>{const ve=te.getWordAtPosition(le);return Promise.resolve(j.provideHover(te,le,de,me)).then(Ce=>{if(Ce)return!Ce.range&&ve&&(Ce.range=new k.Range(le.lineNumber,ve.startColumn,le.lineNumber,ve.endColumn)),Ce.range||(Ce.range=new k.Range(le.lineNumber,le.column,le.lineNumber,le.column)),Ce})}})}function O(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentSymbolProvider.register(H,j)}function B(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentHighlightProvider.register(H,j)}function V(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).linkedEditingRangeProvider.register(H,j)}function K(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).definitionProvider.register(H,j)}function U(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).implementationProvider.register(H,j)}function G(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).typeDefinitionProvider.register(H,j)}function z(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).codeLensProvider.register(H,j)}function $(H,j,Q){return C.StandaloneServices.get(w.ILanguageFeaturesService).codeActionProvider.register(H,{providedCodeActionKinds:Q?.providedCodeActionKinds,documentation:Q?.documentation,provideCodeActions:(le,de,me,ve)=>{const ye=C.StandaloneServices.get(s.IMarkerService).read({resource:le.uri}).filter(Se=>k.Range.areIntersectingOrTouching(Se,de));return j.provideCodeActions(le,de,{markers:ye,only:me.only,trigger:me.trigger},ve)},resolveCodeAction:j.resolveCodeAction})}function J(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentFormattingEditProvider.register(H,j)}function ee(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(H,j)}function Z(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).onTypeFormattingEditProvider.register(H,j)}function x(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).linkProvider.register(H,j)}function Y(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).completionProvider.register(H,j)}function ae(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).colorProvider.register(H,j)}function ue(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).foldingRangeProvider.register(H,j)}function he(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).declarationProvider.register(H,j)}function pe(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).selectionRangeProvider.register(H,j)}function ce(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentSemanticTokensProvider.register(H,j)}function ie(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(H,j)}function oe(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).inlineCompletionsProvider.register(H,j)}function re(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).inlineEditProvider.register(H,j)}function W(H,j){return C.StandaloneServices.get(w.ILanguageFeaturesService).inlayHintsProvider.register(H,j)}function q(){return{register:c,getLanguages:g,onLanguage:r,onLanguageEncountered:d,getEncodedLanguageId:l,setLanguageConfiguration:u,setColorMap:S,registerTokensProviderFactory:I,setTokensProvider:T,setMonarchTokensProvider:N,registerReferenceProvider:A,registerRenameProvider:R,registerNewSymbolNameProvider:M,registerCompletionItemProvider:Y,registerSignatureHelpProvider:P,registerHoverProvider:F,registerDocumentSymbolProvider:O,registerDocumentHighlightProvider:B,registerLinkedEditingRangeProvider:V,registerDefinitionProvider:K,registerImplementationProvider:U,registerTypeDefinitionProvider:G,registerCodeLensProvider:z,registerCodeActionProvider:$,registerDocumentFormattingEditProvider:J,registerDocumentRangeFormattingEditProvider:ee,registerOnTypeFormattingEditProvider:Z,registerLinkProvider:x,registerColorProvider:ae,registerFoldingRangeProvider:ue,registerDeclarationProvider:he,registerSelectionRangeProvider:pe,registerDocumentSemanticTokensProvider:ce,registerDocumentRangeSemanticTokensProvider:ie,registerInlineCompletionsProvider:oe,registerInlineEditProvider:re,registerInlayHintsProvider:W,DocumentHighlightKind:b.DocumentHighlightKind,CompletionItemKind:b.CompletionItemKind,CompletionItemTag:b.CompletionItemTag,CompletionItemInsertTextRule:b.CompletionItemInsertTextRule,SymbolKind:b.SymbolKind,SymbolTag:b.SymbolTag,IndentAction:b.IndentAction,CompletionTriggerKind:b.CompletionTriggerKind,SignatureHelpTriggerKind:b.SignatureHelpTriggerKind,InlayHintKind:b.InlayHintKind,InlineCompletionTriggerKind:b.InlineCompletionTriggerKind,InlineEditTriggerKind:b.InlineEditTriggerKind,CodeActionTriggerType:b.CodeActionTriggerType,NewSymbolNameTag:b.NewSymbolNameTag,NewSymbolNameTriggerKind:b.NewSymbolNameTriggerKind,PartialAcceptTriggerKind:b.PartialAcceptTriggerKind,HoverVerbosityAction:b.HoverVerbosityAction,FoldingRangeKind:L.FoldingRangeKind,SelectedSuggestionInfo:L.SelectedSuggestionInfo}}}),define(ne[1008],se([1,0,38,363,1006,1007,395]),function(X,e,f,k,L,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,f.EditorOptions.wrappingIndent.defaultValue=0,f.EditorOptions.glyphMargin.defaultValue=!1,f.EditorOptions.autoIndent.defaultValue=3,f.EditorOptions.overviewRulerLanes.defaultValue=2,y.FormattingConflicts.setFormatterSelector((b,C,o)=>Promise.resolve(b[0]));const m=(0,k.createMonacoBaseAPI)();m.editor=(0,L.createMonacoEditorAPI)(),m.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=m.CancellationTokenSource,e.Emitter=m.Emitter,e.KeyCode=m.KeyCode,e.KeyMod=m.KeyMod,e.Position=m.Position,e.Range=m.Range,e.Selection=m.Selection,e.SelectionDirection=m.SelectionDirection,e.MarkerSeverity=m.MarkerSeverity,e.MarkerTag=m.MarkerTag,e.Uri=m.Uri,e.Token=m.Token,e.editor=m.editor,e.languages=m.languages;const w=globalThis.MonacoEnvironment;(w?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=m),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Ht=this&&this.__createBinding||(Object.create?function(X,e,f,k){k===void 0&&(k=f);var L=Object.getOwnPropertyDescriptor(e,f);(!L||("get"in L?!e.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return e[f]}}),Object.defineProperty(X,k,L)}:function(X,e,f,k){k===void 0&&(k=f),X[k]=e[f]}),pt=this&&this.__exportStar||function(X,e){for(var f in X)f!=="default"&&!Object.prototype.hasOwnProperty.call(e,f)&&Ht(e,X,f)};define(ne[1010],se([1,0,1008,1004,886,887,860,933,934,890,990,936]),function(X,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),pt(f,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(c321d0fbecb50ab8a5365fa1965476b0ae63fc87)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,s)=>(typeof require<"u"?require:r)[s]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var l=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(l(e,r,"default"),s&&l(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},l(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},m={},u=class e{static getOrCreate(r){return m[r]||(m[r]=new e(r)),m[r]}constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=u.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[".csp"],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typespec/typespec"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(c321d0fbecb50ab8a5365fa1965476b0ae63fc87)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{constructor(n,r,a){this._onDidChange=new o.Emitter;this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(c321d0fbecb50ab8a5365fa1965476b0ae63fc87)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{constructor(n,t,r){this._onDidChange=new a.Emitter;this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(c321d0fbecb50ab8a5365fa1965476b0ae63fc87)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var f=Object.create;var s=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var d=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var v=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),x=(e,n)=>{for(var o in n)s(e,o,{get:n[o],enumerable:!0})},i=(e,n,o,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of N(n))!O.call(e,r)&&r!==o&&s(e,r,{get:()=>n[r],enumerable:!(a=h(n,r))||a.enumerable});return e},g=(e,n,o)=>(i(e,n,"default"),o&&i(o,n,"default")),c=(e,n,o)=>(o=e!=null?f(b(e)):{},i(n||!e||!e.__esModule?s(o,"default",{value:e,enumerable:!0}):o,e)),A=e=>i(s({},"__esModule",{value:!0}),e);var S=v((R,u)=>{var T=c(d("vs/editor/editor.api"));u.exports=T});var M={};x(M,{getWorker:()=>p,jsonDefaults:()=>m});var t={};g(t,c(S()));var l=class{constructor(n,o,a){this._onDidChange=new t.Emitter;this._languageId=n,this.setDiagnosticsOptions(o),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},D={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},C={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},m=new l("json",D,C),p=()=>y().then(e=>e.getWorker());t.languages.json={jsonDefaults:m,getWorker:p};function y(){return new Promise((e,n)=>{d(["vs/language/json/jsonMode"],e,n)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{y().then(e=>e.setupMode(m))});return A(M);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(c321d0fbecb50ab8a5365fa1965476b0ae63fc87)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var N=Object.create;var m=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)m(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&m(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},v=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?m(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(m({},"__esModule",{value:!0}),n);var _=w((B,L)=>{var V=C(c("vs/editor/editor.api"));L.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>D,typescriptDefaults:()=>x,typescriptVersion:()=>I});var E="5.4.5";var l={};v(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),d=class{constructor(e,t,i,r,p){this._onDidChange=new l.Emitter;this._onDidExtraLibsChange=new l.Emitter;this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];p&&p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=E,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new d({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),D=new d({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:D,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(D)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map