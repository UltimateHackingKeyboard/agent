<template ngIf="layers">
    <layers (selected)="selectLayer($event.oldIndex, $event.index)" [len]="layers.length" [current]="currentLayer"></layers>
    <div class="keyboard-slider" >
        <svg-keyboard *ngFor="let layer of layers"
                      [@layerState]="layer.animation"
                      [moduleConfig]="layer.modules.elements"
                      (keyClick)="onKeyClick($event.moduleId, $event.keyId, layer.modules.elements)"
        >
        </svg-keyboard>
    </div>
    <popover *ngIf="popoverShown && popoverEnabled" [defaultKeyAction]="popoverInitKeyAction" (cancel)="hidePopover()" (remap)="onRemap($event)"></popover>
</template>